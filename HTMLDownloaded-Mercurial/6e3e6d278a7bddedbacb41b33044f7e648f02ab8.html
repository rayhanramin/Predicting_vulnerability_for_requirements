<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 24537:6e3e6d278a7bddedbacb41b33044f7e648f02ab8</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 6e3e6d278a7bddedbacb41b33044f7e648f02ab8" />
<meta property="og:url" content="/comm-central/rev/6e3e6d278a7bddedbacb41b33044f7e648f02ab8" />
<meta property="og:description" content="Bug 1484957 - Port bug 1484466: remove uses of XPCOMUtils.generateCI(); rs=bustage" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 6e3e6d278a7bddedbacb41b33044f7e648f02ab8 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/6e3e6d278a7bddedbacb41b33044f7e648f02ab8">shortlog</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/6e3e6d278a7bddedbacb41b33044f7e648f02ab8">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8">files</a> |
changeset |
<a href="/comm-central/raw-rev/6e3e6d278a7bddedbacb41b33044f7e648f02ab8">raw</a>  | <a href="/comm-central/archive/6e3e6d278a7bddedbacb41b33044f7e648f02ab8.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1484957">Bug 1484957</a> - Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1484466">bug 1484466</a>: remove uses of XPCOMUtils.generateCI(); rs=bustage
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 22 Aug 2018 13:22:09 +1200</td></tr>

<tr>
 <td>changeset 24537</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/6e3e6d278a7bddedbacb41b33044f7e648f02ab8">6e3e6d278a7bddedbacb41b33044f7e648f02ab8</a></td>
</tr>



<tr>
<td>parent 24536</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/7973e4623106e0a0360f416156ea872ded1d8c8e">7973e4623106e0a0360f416156ea872ded1d8c8e</a>
</td>
</tr>

<tr>
<td>child 24538</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/9232bbbe36f5333302137c181fde1bbde0724964">9232bbbe36f5333302137c181fde1bbde0724964</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=6e3e6d278a7bddedbacb41b33044f7e648f02ab8">14771</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Wed, 22 Aug 2018 01:22:45 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@f9ef45bc892b [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f9ef45bc892b29217407de7358e3170b475b8b3b">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f9ef45bc892b29217407de7358e3170b475b8b3b&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f9ef45bc892b29217407de7358e3170b475b8b3b&newProject=comm-central&newRevision=7973e4623106e0a0360f416156ea872ded1d8c8e&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f9ef45bc892b29217407de7358e3170b475b8b3b&newProject=comm-central&newRevision=7973e4623106e0a0360f416156ea872ded1d8c8e&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f9ef45bc892b29217407de7358e3170b475b8b3b&newProject=comm-central&newRevision=7973e4623106e0a0360f416156ea872ded1d8c8e&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28bustage%29&revcount=50">bustage</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1484957">1484957</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1484466">1484466</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1484957">Bug 1484957</a> - Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1484466">bug 1484466</a>: remove uses of XPCOMUtils.generateCI(); rs=bustage</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/backend/icaljs/calRecurrenceRule.js">calendar/base/backend/icaljs/calRecurrenceRule.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/backend/icaljs/calRecurrenceRule.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/backend/icaljs/calRecurrenceRule.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/backend/icaljs/calRecurrenceRule.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/backend/icaljs/calRecurrenceRule.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/backend/icaljs/calRecurrenceRule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/modules/calUtils.jsm">calendar/base/modules/calUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/modules/calUtils.jsm">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/modules/calUtils.jsm">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/modules/calUtils.jsm">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/modules/calUtils.jsm">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/modules/calUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmMonitor.js">calendar/base/src/calAlarmMonitor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmMonitor.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmMonitor.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmMonitor.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmMonitor.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmMonitor.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmService.js">calendar/base/src/calAlarmService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmService.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmService.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmService.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmService.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calAlarmService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarManager.js">calendar/base/src/calCalendarManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarManager.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarManager.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarManager.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarManager.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarSearchService.js">calendar/base/src/calCalendarSearchService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarSearchService.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarSearchService.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarSearchService.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarSearchService.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calCalendarSearchService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calDeletedItems.js">calendar/base/src/calDeletedItems.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calDeletedItems.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calDeletedItems.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calDeletedItems.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calDeletedItems.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calDeletedItems.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calEvent.js">calendar/base/src/calEvent.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calEvent.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calEvent.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calEvent.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calEvent.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calEvent.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calRecurrenceDate.js">calendar/base/src/calRecurrenceDate.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calRecurrenceDate.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calRecurrenceDate.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calRecurrenceDate.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calRecurrenceDate.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calRecurrenceDate.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTimezoneService.js">calendar/base/src/calTimezoneService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTimezoneService.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTimezoneService.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTimezoneService.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTimezoneService.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTimezoneService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTodo.js">calendar/base/src/calTodo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTodo.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTodo.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTodo.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTodo.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTodo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTransactionManager.js">calendar/base/src/calTransactionManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTransactionManager.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTransactionManager.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTransactionManager.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTransactionManager.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/base/src/calTransactionManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/caldav/calDavCalendar.js">calendar/providers/caldav/calDavCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/caldav/calDavCalendar.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/caldav/calDavCalendar.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/caldav/calDavCalendar.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/caldav/calDavCalendar.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/caldav/calDavCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/composite/calCompositeCalendar.js">calendar/providers/composite/calCompositeCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/composite/calCompositeCalendar.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/composite/calCompositeCalendar.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/composite/calCompositeCalendar.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/composite/calCompositeCalendar.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/composite/calCompositeCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/gdata/components/calGoogleCalendar.js">calendar/providers/gdata/components/calGoogleCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/gdata/components/calGoogleCalendar.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/gdata/components/calGoogleCalendar.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/gdata/components/calGoogleCalendar.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/gdata/components/calGoogleCalendar.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/gdata/components/calGoogleCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/ics/calICSCalendar.js">calendar/providers/ics/calICSCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/ics/calICSCalendar.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/ics/calICSCalendar.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/ics/calICSCalendar.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/ics/calICSCalendar.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/ics/calICSCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/memory/calMemoryCalendar.js">calendar/providers/memory/calMemoryCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/memory/calMemoryCalendar.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/memory/calMemoryCalendar.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/memory/calMemoryCalendar.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/memory/calMemoryCalendar.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/memory/calMemoryCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/storage/calStorageCalendar.js">calendar/providers/storage/calStorageCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/storage/calStorageCalendar.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/storage/calStorageCalendar.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/storage/calStorageCalendar.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/storage/calStorageCalendar.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/storage/calStorageCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapCalendar.js">calendar/providers/wcap/calWcapCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapCalendar.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapCalendar.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapCalendar.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapCalendar.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapRequest.js">calendar/providers/wcap/calWcapRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapRequest.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapRequest.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapRequest.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapRequest.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapRequest.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapSession.js">calendar/providers/wcap/calWcapSession.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapSession.js">file</a> |
<a href="/comm-central/annotate/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapSession.js">annotate</a> |
<a href="/comm-central/diff/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapSession.js">diff</a> |
<a href="/comm-central/comparison/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapSession.js">comparison</a> |
<a href="/comm-central/log/6e3e6d278a7bddedbacb41b33044f7e648f02ab8/calendar/providers/wcap/calWcapSession.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/backend/icaljs/calRecurrenceRule.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/backend/icaljs/calRecurrenceRule.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,30 +1,29 @@</span>
<a href="#l1.4"></a><span id="l1.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.5"></a><span id="l1.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.6"></a><span id="l1.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> var { ICAL, unwrapSetter, unwrapSingle, wrapGetter } = ChromeUtils.import(&quot;resource://calendar/modules/ical.js&quot;, null);</span>
<a href="#l1.9"></a><span id="l1.9"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12"> function calRecurrenceRule(innerObject) {</span>
<a href="#l1.13"></a><span id="l1.13">     this.innerObject = innerObject || new ICAL.Recur();</span>
<a href="#l1.14"></a><span id="l1.14">     this.wrappedJSObject = this;</span>
<a href="#l1.15"></a><span id="l1.15"> }</span>
<a href="#l1.16"></a><span id="l1.16"> </span>
<a href="#l1.17"></a><span id="l1.17"> var calRecurrenceRuleInterfaces = [</span>
<a href="#l1.18"></a><span id="l1.18">     Components.interfaces.calIRecurrenceRule,</span>
<a href="#l1.19"></a><span id="l1.19">     Components.interfaces.calIRecurrenceItem</span>
<a href="#l1.20"></a><span id="l1.20"> ];</span>
<a href="#l1.21"></a><span id="l1.21"> var calRecurrenceRuleClassID = Components.ID(&quot;{df19281a-5389-4146-b941-798cb93a7f0d}&quot;);</span>
<a href="#l1.22"></a><span id="l1.22"> calRecurrenceRule.prototype = {</span>
<a href="#l1.23"></a><span id="l1.23">     QueryInterface: cal.generateQI(calRecurrenceRuleInterfaces),</span>
<a href="#l1.24"></a><span id="l1.24">     classID: calRecurrenceRuleClassID,</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l1.27"></a><span id="l1.27">         contractID: &quot;@mozilla.org/calendar/recurrence-rule;1&quot;,</span>
<a href="#l1.28"></a><span id="l1.28">         classDescription: &quot;Calendar Recurrence Rule&quot;,</span>
<a href="#l1.29"></a><span id="l1.29">         classID: calRecurrenceRuleClassID,</span>
<a href="#l1.30"></a><span id="l1.30">         interfaces: calRecurrenceRuleInterfaces</span>
<a href="#l1.31"></a><span id="l1.31">     }),</span>
<a href="#l1.32"></a><span id="l1.32"> </span>
<a href="#l1.33"></a><span id="l1.33">     innerObject: null,</span>
<a href="#l1.34"></a><span id="l1.34"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/modules/calUtils.jsm</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/modules/calUtils.jsm</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -197,16 +197,52 @@ var cal = {</span>
<a href="#l2.4"></a><span id="l2.4">                     }</span>
<a href="#l2.5"></a><span id="l2.5">                 }</span>
<a href="#l2.6"></a><span id="l2.6">             }</span>
<a href="#l2.7"></a><span id="l2.7">             return makeQI(names);</span>
<a href="#l2.8"></a><span id="l2.8">         }</span>
<a href="#l2.9"></a><span id="l2.9">     },</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">     /**</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+     * Generate a ClassInfo implementation for a component. The returned object</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+     * must be assigned to the 'classInfo' property of a JS object. The first and</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+     * only argument should be an object that contains a number of optional</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+     * properties: &quot;interfaces&quot;, &quot;contractID&quot;, &quot;classDescription&quot;, &quot;classID&quot; and</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+     * &quot;flags&quot;. The values of the properties will be returned as the values of the</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+     * various properties of the nsIClassInfo implementation.</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineplus">+     */</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+    generateCI: function(classInfo) {</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineplus">+        if (QueryInterface in classInfo) {</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineplus">+            throw Error(&quot;In generateCI, don't use a component for generating classInfo&quot;);</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+        }</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineplus">+        /* Note that Ci[Ci.x] == Ci.x for all x */</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+        let _interfaces = [];</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+        for (let i = 0; i &lt; classInfo.interfaces.length; i++) {</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineplus">+            let iface = classInfo.interfaces[i];</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineplus">+            if (Ci[iface]) {</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineplus">+                _interfaces.push(Ci[iface]);</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineplus">+            }</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineplus">+        }</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineplus">+        return {</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+            getInterfaces: function(countRef) {</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+                countRef.value = _interfaces.length;</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineplus">+                return _interfaces;</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineplus">+            },</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+            getScriptableHelper: function() {</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineplus">+                return null;</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineplus">+            },</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineplus">+            contractID: classInfo.contractID,</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineplus">+            classDescription: classInfo.classDescription,</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineplus">+            classID: classInfo.classID,</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineplus">+            flags: classInfo.flags,</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineplus">+            QueryInterface: ChromeUtils.generateQI([Ci.nsIClassInfo])</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineplus">+        };</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineplus">+    },</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineplus">+</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineplus">+    /**</span>
<a href="#l2.48"></a><span id="l2.48">      * Schedules execution of the passed function to the current thread's queue.</span>
<a href="#l2.49"></a><span id="l2.49">      */</span>
<a href="#l2.50"></a><span id="l2.50">     postPone: function(func) {</span>
<a href="#l2.51"></a><span id="l2.51">         if (this.threadingEnabled) {</span>
<a href="#l2.52"></a><span id="l2.52">             Services.tm.currentThread.dispatch({ run: func },</span>
<a href="#l2.53"></a><span id="l2.53">                                                Components.interfaces.nsIEventTarget.DISPATCH_NORMAL);</span>
<a href="#l2.54"></a><span id="l2.54">         } else {</span>
<a href="#l2.55"></a><span id="l2.55">             func();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/src/calAlarmMonitor.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/src/calAlarmMonitor.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,15 +1,14 @@</span>
<a href="#l3.4"></a><span id="l3.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.5"></a><span id="l3.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.6"></a><span id="l3.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l3.9"></a><span id="l3.9"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l3.11"></a><span id="l3.11"> ChromeUtils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l3.12"></a><span id="l3.12"> </span>
<a href="#l3.13"></a><span id="l3.13"> function peekAlarmWindow() {</span>
<a href="#l3.14"></a><span id="l3.14">     return Services.wm.getMostRecentWindow(&quot;Calendar:AlarmWindow&quot;);</span>
<a href="#l3.15"></a><span id="l3.15"> }</span>
<a href="#l3.16"></a><span id="l3.16"> </span>
<a href="#l3.17"></a><span id="l3.17"> /**</span>
<a href="#l3.18"></a><span id="l3.18">  * The alarm monitor takes care of playing the alarm sound and opening one copy</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineat">@@ -37,17 +36,17 @@ calAlarmMonitor.prototype = {</span>
<a href="#l3.20"></a><span id="l3.20">     // alarm is fired in that time-frame, it will actually end up in another window.</span>
<a href="#l3.21"></a><span id="l3.21">     mWindowOpening: null,</span>
<a href="#l3.22"></a><span id="l3.22"> </span>
<a href="#l3.23"></a><span id="l3.23">     // nsISound instance used for playing all sounds</span>
<a href="#l3.24"></a><span id="l3.24">     mSound: null,</span>
<a href="#l3.25"></a><span id="l3.25"> </span>
<a href="#l3.26"></a><span id="l3.26">     classID: calAlarmMonitorClassID,</span>
<a href="#l3.27"></a><span id="l3.27">     QueryInterface: cal.generateQI(calAlarmMonitorInterfaces),</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l3.30"></a><span id="l3.30">         contractID: &quot;@mozilla.org/calendar/alarm-monitor;1&quot;,</span>
<a href="#l3.31"></a><span id="l3.31">         classDescription: &quot;Calendar Alarm Monitor&quot;,</span>
<a href="#l3.32"></a><span id="l3.32">         classID: calAlarmMonitorClassID,</span>
<a href="#l3.33"></a><span id="l3.33">         interfaces: calAlarmMonitorInterfaces,</span>
<a href="#l3.34"></a><span id="l3.34">         flags: Components.interfaces.nsIClassInfo.SINGLETON</span>
<a href="#l3.35"></a><span id="l3.35">     }),</span>
<a href="#l3.36"></a><span id="l3.36"> </span>
<a href="#l3.37"></a><span id="l3.37">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/src/calAlarmService.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/src/calAlarmService.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,15 +1,14 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.5"></a><span id="l4.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.6"></a><span id="l4.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l4.9"></a><span id="l4.9"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l4.11"></a><span id="l4.11"> ChromeUtils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l4.12"></a><span id="l4.12"> ChromeUtils.import(&quot;resource://gre/modules/PromiseUtils.jsm&quot;);</span>
<a href="#l4.13"></a><span id="l4.13"> </span>
<a href="#l4.14"></a><span id="l4.14"> var kHoursBetweenUpdates = 6;</span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16"> function nowUTC() {</span>
<a href="#l4.17"></a><span id="l4.17">     return cal.dtz.jsDateToDateTime(new Date()).getInTimezone(cal.dtz.UTC);</span>
<a href="#l4.18"></a><span id="l4.18"> }</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineat">@@ -106,17 +105,17 @@ calAlarmService.prototype = {</span>
<a href="#l4.20"></a><span id="l4.20">     mUpdateTimer: null,</span>
<a href="#l4.21"></a><span id="l4.21">     mStarted: false,</span>
<a href="#l4.22"></a><span id="l4.22">     mTimerMap: null,</span>
<a href="#l4.23"></a><span id="l4.23">     mObservers: null,</span>
<a href="#l4.24"></a><span id="l4.24">     mTimezone: null,</span>
<a href="#l4.25"></a><span id="l4.25"> </span>
<a href="#l4.26"></a><span id="l4.26">     classID: calAlarmServiceClassID,</span>
<a href="#l4.27"></a><span id="l4.27">     QueryInterface: cal.generateQI(calAlarmServiceInterfaces),</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l4.30"></a><span id="l4.30">         classID: calAlarmServiceClassID,</span>
<a href="#l4.31"></a><span id="l4.31">         contractID: &quot;@mozilla.org/calendar/alarm-service;1&quot;,</span>
<a href="#l4.32"></a><span id="l4.32">         classDescription: &quot;Calendar Alarm Service&quot;,</span>
<a href="#l4.33"></a><span id="l4.33">         interfaces: calAlarmServiceInterfaces,</span>
<a href="#l4.34"></a><span id="l4.34">         flags: Components.interfaces.nsIClassInfo.SINGLETON</span>
<a href="#l4.35"></a><span id="l4.35">     }),</span>
<a href="#l4.36"></a><span id="l4.36"> </span>
<a href="#l4.37"></a><span id="l4.37">     /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/src/calCalendarManager.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/src/calCalendarManager.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -22,17 +22,17 @@ var calCalendarManagerClassID = Componen</span>
<a href="#l5.4"></a><span id="l5.4"> var calCalendarManagerInterfaces = [</span>
<a href="#l5.5"></a><span id="l5.5">     Components.interfaces.calICalendarManager,</span>
<a href="#l5.6"></a><span id="l5.6">     Components.interfaces.calIStartupService,</span>
<a href="#l5.7"></a><span id="l5.7">     Components.interfaces.nsIObserver,</span>
<a href="#l5.8"></a><span id="l5.8"> ];</span>
<a href="#l5.9"></a><span id="l5.9"> calCalendarManager.prototype = {</span>
<a href="#l5.10"></a><span id="l5.10">     classID: calCalendarManagerClassID,</span>
<a href="#l5.11"></a><span id="l5.11">     QueryInterface: cal.generateQI(calCalendarManagerInterfaces),</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l5.14"></a><span id="l5.14">         classID: calCalendarManagerClassID,</span>
<a href="#l5.15"></a><span id="l5.15">         contractID: &quot;@mozilla.org/calendar/manager;1&quot;,</span>
<a href="#l5.16"></a><span id="l5.16">         classDescription: &quot;Calendar Manager&quot;,</span>
<a href="#l5.17"></a><span id="l5.17">         interfaces: calCalendarManagerInterfaces,</span>
<a href="#l5.18"></a><span id="l5.18">         flags: Components.interfaces.nsIClassInfo.SINGLETON</span>
<a href="#l5.19"></a><span id="l5.19">     }),</span>
<a href="#l5.20"></a><span id="l5.20"> </span>
<a href="#l5.21"></a><span id="l5.21">     get networkCalendarCount() { return this.mNetworkCalendarCount; },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/src/calCalendarSearchService.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/src/calCalendarSearchService.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -53,17 +53,17 @@ var calCalendarSearchServiceInterfaces =</span>
<a href="#l6.4"></a><span id="l6.4">     Components.interfaces.calICalendarSearchProvider,</span>
<a href="#l6.5"></a><span id="l6.5">     Components.interfaces.calICalendarSearchService</span>
<a href="#l6.6"></a><span id="l6.6"> ];</span>
<a href="#l6.7"></a><span id="l6.7"> calCalendarSearchService.prototype = {</span>
<a href="#l6.8"></a><span id="l6.8">     mProviders: null,</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10">     classID: calCalendarSearchServiceClassID,</span>
<a href="#l6.11"></a><span id="l6.11">     QueryInterface: cal.generateQI(calCalendarSearchServiceInterfaces),</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l6.14"></a><span id="l6.14">         classID: calCalendarSearchServiceClassID,</span>
<a href="#l6.15"></a><span id="l6.15">         contractID: &quot;@mozilla.org/calendar/calendarsearch-service;1&quot;,</span>
<a href="#l6.16"></a><span id="l6.16">         classDescription: &quot;Calendar Search Service&quot;,</span>
<a href="#l6.17"></a><span id="l6.17">         interfaces: calCalendarSearchServiceInterfaces,</span>
<a href="#l6.18"></a><span id="l6.18">         flags: Components.interfaces.nsIClassInfo.SINGLETON</span>
<a href="#l6.19"></a><span id="l6.19">     }),</span>
<a href="#l6.20"></a><span id="l6.20"> </span>
<a href="#l6.21"></a><span id="l6.21">     // calICalendarSearchProvider:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/src/calDeletedItems.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/src/calDeletedItems.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1,15 +1,14 @@</span>
<a href="#l7.4"></a><span id="l7.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.5"></a><span id="l7.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.6"></a><span id="l7.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l7.9"></a><span id="l7.9"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l7.10"></a><span id="l7.10" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l7.11"></a><span id="l7.11"> ChromeUtils.import(&quot;resource://gre/modules/FileUtils.jsm&quot;);</span>
<a href="#l7.12"></a><span id="l7.12"> </span>
<a href="#l7.13"></a><span id="l7.13"> /**</span>
<a href="#l7.14"></a><span id="l7.14">  * Handles remembering deleted items.</span>
<a href="#l7.15"></a><span id="l7.15">  *</span>
<a href="#l7.16"></a><span id="l7.16">  * This is (currently) not a real trashcan. Only ids and time deleted is stored.</span>
<a href="#l7.17"></a><span id="l7.17">  * Note also that the code doesn't strictly check the calendar of the item,</span>
<a href="#l7.18"></a><span id="l7.18">  * except when a calendar id is passed to getDeletedDate.</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineat">@@ -29,17 +28,17 @@ var calDeletedItemsInterfaces = [</span>
<a href="#l7.20"></a><span id="l7.20">     Components.interfaces.calIDeletedItems,</span>
<a href="#l7.21"></a><span id="l7.21">     Components.interfaces.nsIObserver,</span>
<a href="#l7.22"></a><span id="l7.22">     Components.interfaces.calIObserver</span>
<a href="#l7.23"></a><span id="l7.23"> ];</span>
<a href="#l7.24"></a><span id="l7.24"> calDeletedItems.prototype = {</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26">     classID: calDeletedItemsClassID,</span>
<a href="#l7.27"></a><span id="l7.27">     QueryInterface: cal.generateQI(calDeletedItemsInterfaces),</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l7.30"></a><span id="l7.30">         classID: calDeletedItemsClassID,</span>
<a href="#l7.31"></a><span id="l7.31">         contractID: &quot;@mozilla.org/calendar/deleted-items-manager;1&quot;,</span>
<a href="#l7.32"></a><span id="l7.32">         classDescription: &quot;Database containing information about deleted items&quot;,</span>
<a href="#l7.33"></a><span id="l7.33">         interfaces: calDeletedItemsInterfaces,</span>
<a href="#l7.34"></a><span id="l7.34">         flags: Components.interfaces.nsIClassInfo.SINGLETON</span>
<a href="#l7.35"></a><span id="l7.35">     }),</span>
<a href="#l7.36"></a><span id="l7.36"> </span>
<a href="#l7.37"></a><span id="l7.37">     DB_SCHEMA_VERSION: 1,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/src/calEvent.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/src/calEvent.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,14 +1,13 @@</span>
<a href="#l8.4"></a><span id="l8.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.5"></a><span id="l8.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.6"></a><span id="l8.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l8.9"></a><span id="l8.9" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11"> //</span>
<a href="#l8.12"></a><span id="l8.12"> // constructor</span>
<a href="#l8.13"></a><span id="l8.13"> //</span>
<a href="#l8.14"></a><span id="l8.14"> function calEvent() {</span>
<a href="#l8.15"></a><span id="l8.15">     this.initItemBase();</span>
<a href="#l8.16"></a><span id="l8.16"> </span>
<a href="#l8.17"></a><span id="l8.17">     this.eventPromotedProps = {</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineat">@@ -23,17 +22,17 @@ var calEventInterfaces = [</span>
<a href="#l8.19"></a><span id="l8.19">     Components.interfaces.calIEvent,</span>
<a href="#l8.20"></a><span id="l8.20">     Components.interfaces.calIInternalShallowCopy</span>
<a href="#l8.21"></a><span id="l8.21"> ];</span>
<a href="#l8.22"></a><span id="l8.22"> calEvent.prototype = {</span>
<a href="#l8.23"></a><span id="l8.23">     __proto__: calItemBase.prototype,</span>
<a href="#l8.24"></a><span id="l8.24"> </span>
<a href="#l8.25"></a><span id="l8.25">     classID: calEventClassID,</span>
<a href="#l8.26"></a><span id="l8.26">     QueryInterface: cal.generateQI(calEventInterfaces),</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l8.29"></a><span id="l8.29">         classID: calEventClassID,</span>
<a href="#l8.30"></a><span id="l8.30">         contractID: &quot;@mozilla.org/calendar/event;1&quot;,</span>
<a href="#l8.31"></a><span id="l8.31">         classDescription: &quot;Calendar Event&quot;,</span>
<a href="#l8.32"></a><span id="l8.32">         interfaces: calEventInterfaces</span>
<a href="#l8.33"></a><span id="l8.33">     }),</span>
<a href="#l8.34"></a><span id="l8.34"> </span>
<a href="#l8.35"></a><span id="l8.35">     cloneShallow: function(aNewParent) {</span>
<a href="#l8.36"></a><span id="l8.36">         let cloned = new calEvent();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/src/calRecurrenceDate.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/src/calRecurrenceDate.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,13 +1,12 @@</span>
<a href="#l9.4"></a><span id="l9.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l9.9"></a><span id="l9.9"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> function calRecurrenceDate() {</span>
<a href="#l9.12"></a><span id="l9.12">     this.wrappedJSObject = this;</span>
<a href="#l9.13"></a><span id="l9.13"> }</span>
<a href="#l9.14"></a><span id="l9.14"> </span>
<a href="#l9.15"></a><span id="l9.15"> var calRecurrenceDateClassID = Components.ID(&quot;{806b6423-3aaa-4b26-afa3-de60563e9cec}&quot;);</span>
<a href="#l9.16"></a><span id="l9.16"> var calRecurrenceDateInterfaces = [</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineat">@@ -17,22 +16,23 @@ var calRecurrenceDateInterfaces = [</span>
<a href="#l9.18"></a><span id="l9.18"> calRecurrenceDate.prototype = {</span>
<a href="#l9.19"></a><span id="l9.19">     isMutable: true,</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21">     mIsNegative: false,</span>
<a href="#l9.22"></a><span id="l9.22">     mDate: null,</span>
<a href="#l9.23"></a><span id="l9.23"> </span>
<a href="#l9.24"></a><span id="l9.24">     classID: calRecurrenceDateClassID,</span>
<a href="#l9.25"></a><span id="l9.25">     QueryInterface: cal.generateQI(calRecurrenceDateInterfaces),</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l9.28"></a><span id="l9.28">         classID: calRecurrenceDateClassID,</span>
<a href="#l9.29"></a><span id="l9.29">         contractID: &quot;@mozilla.org/calendar/recurrence-date;1&quot;,</span>
<a href="#l9.30"></a><span id="l9.30">         classDescription: &quot;The date of an occurrence of a recurring item&quot;,</span>
<a href="#l9.31"></a><span id="l9.31">         interfaces: calRecurrenceDateInterfaces</span>
<a href="#l9.32"></a><span id="l9.32">     }),</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+</span>
<a href="#l9.34"></a><span id="l9.34">     makeImmutable: function() {</span>
<a href="#l9.35"></a><span id="l9.35">         this.isMutable = false;</span>
<a href="#l9.36"></a><span id="l9.36">     },</span>
<a href="#l9.37"></a><span id="l9.37"> </span>
<a href="#l9.38"></a><span id="l9.38">     ensureMutable: function() {</span>
<a href="#l9.39"></a><span id="l9.39">         if (!this.isMutable) {</span>
<a href="#l9.40"></a><span id="l9.40">             throw Components.results.NS_ERROR_OBJECT_IS_MUTABLE;</span>
<a href="#l9.41"></a><span id="l9.41">         }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/src/calTimezoneService.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/src/calTimezoneService.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -43,17 +43,17 @@ var calTimezoneServiceInterfaces = [</span>
<a href="#l10.4"></a><span id="l10.4"> calTimezoneService.prototype = {</span>
<a href="#l10.5"></a><span id="l10.5">     mDefaultTimezone: null,</span>
<a href="#l10.6"></a><span id="l10.6">     mHasSetupObservers: false,</span>
<a href="#l10.7"></a><span id="l10.7">     mVersion: null,</span>
<a href="#l10.8"></a><span id="l10.8">     mZones: null,</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10">     classID: calTimezoneServiceClassID,</span>
<a href="#l10.11"></a><span id="l10.11">     QueryInterface: cal.generateQI(calTimezoneServiceInterfaces),</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l10.14"></a><span id="l10.14">         classID: calTimezoneServiceClassID,</span>
<a href="#l10.15"></a><span id="l10.15">         contractID: &quot;@mozilla.org/calendar/timezone-service;1&quot;,</span>
<a href="#l10.16"></a><span id="l10.16">         classDescription: &quot;Calendar Timezone Service&quot;,</span>
<a href="#l10.17"></a><span id="l10.17">         interfaces: calTimezoneServiceInterfaces,</span>
<a href="#l10.18"></a><span id="l10.18">         flags: Components.interfaces.nsIClassInfo.SINGLETON</span>
<a href="#l10.19"></a><span id="l10.19">     }),</span>
<a href="#l10.20"></a><span id="l10.20"> </span>
<a href="#l10.21"></a><span id="l10.21">     // ical.js TimezoneService methods</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/src/calTodo.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/src/calTodo.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1,14 +1,13 @@</span>
<a href="#l11.4"></a><span id="l11.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.5"></a><span id="l11.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.6"></a><span id="l11.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11"> //</span>
<a href="#l11.12"></a><span id="l11.12"> // constructor</span>
<a href="#l11.13"></a><span id="l11.13"> //</span>
<a href="#l11.14"></a><span id="l11.14"> function calTodo() {</span>
<a href="#l11.15"></a><span id="l11.15">     this.initItemBase();</span>
<a href="#l11.16"></a><span id="l11.16"> </span>
<a href="#l11.17"></a><span id="l11.17">     this.todoPromotedProps = {</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineat">@@ -26,17 +25,17 @@ var calTodoInterfaces = [</span>
<a href="#l11.19"></a><span id="l11.19">     Components.interfaces.calITodo,</span>
<a href="#l11.20"></a><span id="l11.20">     Components.interfaces.calIInternalShallowCopy</span>
<a href="#l11.21"></a><span id="l11.21"> ];</span>
<a href="#l11.22"></a><span id="l11.22"> calTodo.prototype = {</span>
<a href="#l11.23"></a><span id="l11.23">     __proto__: calItemBase.prototype,</span>
<a href="#l11.24"></a><span id="l11.24"> </span>
<a href="#l11.25"></a><span id="l11.25">     classID: calTodoClassID,</span>
<a href="#l11.26"></a><span id="l11.26">     QueryInterface: cal.generateQI(calTodoInterfaces),</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l11.29"></a><span id="l11.29">         classID: calTodoClassID,</span>
<a href="#l11.30"></a><span id="l11.30">         contractID: &quot;@mozilla.org/calendar/todo;1&quot;,</span>
<a href="#l11.31"></a><span id="l11.31">         classDescription: &quot;Calendar Todo&quot;,</span>
<a href="#l11.32"></a><span id="l11.32">         interfaces: calTodoInterfaces,</span>
<a href="#l11.33"></a><span id="l11.33">     }),</span>
<a href="#l11.34"></a><span id="l11.34"> </span>
<a href="#l11.35"></a><span id="l11.35">     cloneShallow: function(aNewParent) {</span>
<a href="#l11.36"></a><span id="l11.36">         let cloned = new calTodo();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/src/calTransactionManager.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/src/calTransactionManager.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -79,22 +79,16 @@ function calTransaction(aAction, aItem, </span>
<a href="#l12.4"></a><span id="l12.4"> var calTransactionClassID = Components.ID(&quot;{fcb54c82-2fb9-42cb-bf44-1e197a55e520}&quot;);</span>
<a href="#l12.5"></a><span id="l12.5"> var calTransactionInterfaces = [</span>
<a href="#l12.6"></a><span id="l12.6">     Components.interfaces.nsITransaction,</span>
<a href="#l12.7"></a><span id="l12.7">     Components.interfaces.calIOperationListener</span>
<a href="#l12.8"></a><span id="l12.8"> ];</span>
<a href="#l12.9"></a><span id="l12.9"> calTransaction.prototype = {</span>
<a href="#l12.10"></a><span id="l12.10">     classID: calTransactionClassID,</span>
<a href="#l12.11"></a><span id="l12.11">     QueryInterface: ChromeUtils.generateQI(calTransactionInterfaces),</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-        classID: calTransactionClassID,</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-        classDescription: &quot;Calendar Transaction&quot;,</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-        contractID: &quot;mozilla.org/calendar/transaction;1&quot;,</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-        interfaces: calTransactionInterfaces,</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-    }),</span>
<a href="#l12.18"></a><span id="l12.18"> </span>
<a href="#l12.19"></a><span id="l12.19">     mAction: null,</span>
<a href="#l12.20"></a><span id="l12.20">     mCalendar: null,</span>
<a href="#l12.21"></a><span id="l12.21">     mItem: null,</span>
<a href="#l12.22"></a><span id="l12.22">     mOldItem: null,</span>
<a href="#l12.23"></a><span id="l12.23">     mOldCalendar: null,</span>
<a href="#l12.24"></a><span id="l12.24">     mListener: null,</span>
<a href="#l12.25"></a><span id="l12.25">     mIsDoTransaction: false,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -98,17 +98,17 @@ var calDavCalendarInterfaces = [</span>
<a href="#l13.4"></a><span id="l13.4">     Components.interfaces.calICalendar,</span>
<a href="#l13.5"></a><span id="l13.5">     Components.interfaces.calIChangeLog,</span>
<a href="#l13.6"></a><span id="l13.6">     calICalDavCalendar,</span>
<a href="#l13.7"></a><span id="l13.7"> ];</span>
<a href="#l13.8"></a><span id="l13.8"> calDavCalendar.prototype = {</span>
<a href="#l13.9"></a><span id="l13.9">     __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l13.10"></a><span id="l13.10">     classID: calDavCalendarClassID,</span>
<a href="#l13.11"></a><span id="l13.11">     QueryInterface: cal.generateQI(calDavCalendarInterfaces),</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l13.14"></a><span id="l13.14">         classID: calDavCalendarClassID,</span>
<a href="#l13.15"></a><span id="l13.15">         contractID: &quot;@mozilla.org/calendar/calendar;1?type=caldav&quot;,</span>
<a href="#l13.16"></a><span id="l13.16">         classDescription: &quot;Calendar CalDAV back-end&quot;,</span>
<a href="#l13.17"></a><span id="l13.17">         interfaces: calDavCalendarInterfaces,</span>
<a href="#l13.18"></a><span id="l13.18">     }),</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20">     // An array of components that are supported by the server. The default is</span>
<a href="#l13.21"></a><span id="l13.21">     // to support VEVENT and VTODO, if queries for these components return a 4xx</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -85,22 +85,16 @@ var calCompositeCalendarClassID = Compon</span>
<a href="#l14.4"></a><span id="l14.4"> var calCompositeCalendarInterfaces = [</span>
<a href="#l14.5"></a><span id="l14.5">     Components.interfaces.calICalendarProvider,</span>
<a href="#l14.6"></a><span id="l14.6">     Components.interfaces.calICalendar,</span>
<a href="#l14.7"></a><span id="l14.7">     Components.interfaces.calICompositeCalendar,</span>
<a href="#l14.8"></a><span id="l14.8"> ];</span>
<a href="#l14.9"></a><span id="l14.9"> calCompositeCalendar.prototype = {</span>
<a href="#l14.10"></a><span id="l14.10">     classID: calCompositeCalendarClassID,</span>
<a href="#l14.11"></a><span id="l14.11">     QueryInterface: ChromeUtils.generateQI(calCompositeCalendarInterfaces),</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-        classID: calCompositeCalendarClassID,</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-        contractID: &quot;@mozilla.org/calendar/calendar;1?type=composite&quot;,</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineminus">-        classDescription: &quot;Composite Calendar Provider&quot;,</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineminus">-        interfaces: calCompositeCalendarInterfaces,</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineminus">-    }),</span>
<a href="#l14.18"></a><span id="l14.18"> </span>
<a href="#l14.19"></a><span id="l14.19">     //</span>
<a href="#l14.20"></a><span id="l14.20">     // calICalendarProvider interface</span>
<a href="#l14.21"></a><span id="l14.21">     //</span>
<a href="#l14.22"></a><span id="l14.22">     get prefChromeOverlay() { return null; },</span>
<a href="#l14.23"></a><span id="l14.23">     get displayName() { return cal.l10n.getCalString(&quot;compositeName&quot;); },</span>
<a href="#l14.24"></a><span id="l14.24"> </span>
<a href="#l14.25"></a><span id="l14.25">     createCalendar: function() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/providers/gdata/components/calGoogleCalendar.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/providers/gdata/components/calGoogleCalendar.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -50,17 +50,17 @@ var calGoogleCalendarInterfaces = [</span>
<a href="#l15.4"></a><span id="l15.4">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l15.5"></a><span id="l15.5">     Components.interfaces.calIChangeLog</span>
<a href="#l15.6"></a><span id="l15.6"> ];</span>
<a href="#l15.7"></a><span id="l15.7"> calGoogleCalendar.prototype = {</span>
<a href="#l15.8"></a><span id="l15.8">     __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l15.9"></a><span id="l15.9"> </span>
<a href="#l15.10"></a><span id="l15.10">     classID: calGoogleCalendarClassID,</span>
<a href="#l15.11"></a><span id="l15.11">     QueryInterface: cal.generateQI(calGoogleCalendarInterfaces),</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l15.14"></a><span id="l15.14">         classDescription: &quot;Google Calendar Provider&quot;,</span>
<a href="#l15.15"></a><span id="l15.15">         contractID: &quot;@mozilla.org/calendar/calendar;1?type=gdata&quot;,</span>
<a href="#l15.16"></a><span id="l15.16">         classID: calGoogleCalendarClassID,</span>
<a href="#l15.17"></a><span id="l15.17">         interfaces: calGoogleCalendarInterfaces</span>
<a href="#l15.18"></a><span id="l15.18">     }),</span>
<a href="#l15.19"></a><span id="l15.19"> </span>
<a href="#l15.20"></a><span id="l15.20">     /* Used to reset the local cache between releases */</span>
<a href="#l15.21"></a><span id="l15.21">     CACHE_DB_VERSION: 3,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -47,17 +47,17 @@ var calICSCalendarInterfaces = [</span>
<a href="#l16.4"></a><span id="l16.4">     Components.interfaces.nsIStreamLoaderObserver,</span>
<a href="#l16.5"></a><span id="l16.5">     Components.interfaces.nsIChannelEventSink,</span>
<a href="#l16.6"></a><span id="l16.6">     Components.interfaces.nsIInterfaceRequestor,</span>
<a href="#l16.7"></a><span id="l16.7"> ];</span>
<a href="#l16.8"></a><span id="l16.8"> calICSCalendar.prototype = {</span>
<a href="#l16.9"></a><span id="l16.9">     __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l16.10"></a><span id="l16.10">     classID: calICSCalendarClassID,</span>
<a href="#l16.11"></a><span id="l16.11">     QueryInterface: cal.generateQI(calICSCalendarInterfaces),</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l16.14"></a><span id="l16.14">         classID: calICSCalendarClassID,</span>
<a href="#l16.15"></a><span id="l16.15">         contractID: &quot;@mozilla.org/calendar/calendar;1?type=ics&quot;,</span>
<a href="#l16.16"></a><span id="l16.16">         classDescription: &quot;Calendar ICS provider&quot;,</span>
<a href="#l16.17"></a><span id="l16.17">         interfaces: calICSCalendarInterfaces,</span>
<a href="#l16.18"></a><span id="l16.18">     }),</span>
<a href="#l16.19"></a><span id="l16.19"> </span>
<a href="#l16.20"></a><span id="l16.20">     mObserver: null,</span>
<a href="#l16.21"></a><span id="l16.21">     locked: false,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -23,17 +23,17 @@ var calMemoryCalendarInterfaces = [</span>
<a href="#l17.4"></a><span id="l17.4">     Components.interfaces.calIOfflineStorage,</span>
<a href="#l17.5"></a><span id="l17.5">     Components.interfaces.calISyncWriteCalendar,</span>
<a href="#l17.6"></a><span id="l17.6">     Components.interfaces.calICalendarProvider</span>
<a href="#l17.7"></a><span id="l17.7"> ];</span>
<a href="#l17.8"></a><span id="l17.8"> calMemoryCalendar.prototype = {</span>
<a href="#l17.9"></a><span id="l17.9">     __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l17.10"></a><span id="l17.10">     classID: calMemoryCalendarClassID,</span>
<a href="#l17.11"></a><span id="l17.11">     QueryInterface: cal.generateQI(calMemoryCalendarInterfaces),</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l17.14"></a><span id="l17.14">         classID: calMemoryCalendarClassID,</span>
<a href="#l17.15"></a><span id="l17.15">         contractID: &quot;@mozilla.org/calendar/calendar;1?type=memory&quot;,</span>
<a href="#l17.16"></a><span id="l17.16">         classDescription: &quot;Calendar Memory Provider&quot;,</span>
<a href="#l17.17"></a><span id="l17.17">         interfaces: calMemoryCalendarInterfaces</span>
<a href="#l17.18"></a><span id="l17.18">     }),</span>
<a href="#l17.19"></a><span id="l17.19"> </span>
<a href="#l17.20"></a><span id="l17.20">     mItems: null,</span>
<a href="#l17.21"></a><span id="l17.21">     mOfflineFlags: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -34,17 +34,17 @@ var calStorageCalendarInterfaces = [</span>
<a href="#l18.4"></a><span id="l18.4">     Components.interfaces.calIOfflineStorage,</span>
<a href="#l18.5"></a><span id="l18.5">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l18.6"></a><span id="l18.6">     Components.interfaces.calISyncWriteCalendar,</span>
<a href="#l18.7"></a><span id="l18.7"> ];</span>
<a href="#l18.8"></a><span id="l18.8"> calStorageCalendar.prototype = {</span>
<a href="#l18.9"></a><span id="l18.9">     __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l18.10"></a><span id="l18.10">     classID: calStorageCalendarClassID,</span>
<a href="#l18.11"></a><span id="l18.11">     QueryInterface: cal.generateQI(calStorageCalendarInterfaces),</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l18.14"></a><span id="l18.14">         classID: calStorageCalendarClassID,</span>
<a href="#l18.15"></a><span id="l18.15">         contractID: &quot;@mozilla.org/calendar/calendar;1?type=storage&quot;,</span>
<a href="#l18.16"></a><span id="l18.16">         classDescription: &quot;Calendar Storage Provider&quot;,</span>
<a href="#l18.17"></a><span id="l18.17">         interfaces: calStorageCalendarInterfaces</span>
<a href="#l18.18"></a><span id="l18.18">     }),</span>
<a href="#l18.19"></a><span id="l18.19"> </span>
<a href="#l18.20"></a><span id="l18.20">     //</span>
<a href="#l18.21"></a><span id="l18.21">     // private members</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapCalendar.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapCalendar.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,14 +1,13 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.5"></a><span id="l19.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.6"></a><span id="l19.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l19.9"></a><span id="l19.9" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l19.10"></a><span id="l19.10"> </span>
<a href="#l19.11"></a><span id="l19.11"> /**</span>
<a href="#l19.12"></a><span id="l19.12">  * The calendar provider class for WCAP calendars. Usually instanciated through</span>
<a href="#l19.13"></a><span id="l19.13">  * the calendar manager, but may also be created by the wcap session, hence the</span>
<a href="#l19.14"></a><span id="l19.14">  * following optional parameters.</span>
<a href="#l19.15"></a><span id="l19.15">  *</span>
<a href="#l19.16"></a><span id="l19.16">  * @param session       (optional) The calWcapSession for this calendar</span>
<a href="#l19.17"></a><span id="l19.17">  * @param calProps      (optional) The XML node containing the WCAP calendar properties</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineat">@@ -25,17 +24,17 @@ var calWcapCalendarInterfaces = [</span>
<a href="#l19.19"></a><span id="l19.19">     Components.interfaces.calISchedulingSupport,</span>
<a href="#l19.20"></a><span id="l19.20">     Components.interfaces.calIChangeLog,</span>
<a href="#l19.21"></a><span id="l19.21">     Components.interfaces.calICalendarProvider,</span>
<a href="#l19.22"></a><span id="l19.22"> ];</span>
<a href="#l19.23"></a><span id="l19.23"> calWcapCalendar.prototype = {</span>
<a href="#l19.24"></a><span id="l19.24">     __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l19.25"></a><span id="l19.25">     classID: calWcapCalendarClassID,</span>
<a href="#l19.26"></a><span id="l19.26">     QueryInterface: cal.generateQI(calWcapCalendarInterfaces),</span>
<a href="#l19.27"></a><span id="l19.27" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l19.28"></a><span id="l19.28" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l19.29"></a><span id="l19.29">         classID: calWcapCalendarClassID,</span>
<a href="#l19.30"></a><span id="l19.30">         contractID: &quot;@mozilla.org/calendar/calendar;1?type=wcap&quot;,</span>
<a href="#l19.31"></a><span id="l19.31">         classDescription: &quot;Sun Java System Calendar Server WCAP Provider&quot;,</span>
<a href="#l19.32"></a><span id="l19.32">         interfaces: calWcapCalendarInterfaces</span>
<a href="#l19.33"></a><span id="l19.33">     }),</span>
<a href="#l19.34"></a><span id="l19.34"> </span>
<a href="#l19.35"></a><span id="l19.35">     toString: function() {</span>
<a href="#l19.36"></a><span id="l19.36">         let str = this.session.toString();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapRequest.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapRequest.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -15,17 +15,16 @@</span>
<a href="#l20.4"></a><span id="l20.4">    - a further calIOperation request object, i.e. an async continuation</span>
<a href="#l20.5"></a><span id="l20.5">    - some data (incl null/undefined) which is the result of the async function,</span>
<a href="#l20.6"></a><span id="l20.6">      indicating that there is no further continuation</span>
<a href="#l20.7"></a><span id="l20.7"> */</span>
<a href="#l20.8"></a><span id="l20.8"> </span>
<a href="#l20.9"></a><span id="l20.9"> /* exported issueNetworkRequest, getWcapRequestStatusString, stringToIcal, stringToXml */</span>
<a href="#l20.10"></a><span id="l20.10"> </span>
<a href="#l20.11"></a><span id="l20.11"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l20.13"></a><span id="l20.13"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l20.14"></a><span id="l20.14"> </span>
<a href="#l20.15"></a><span id="l20.15"> function generateRequestId() {</span>
<a href="#l20.16"></a><span id="l20.16">     if (!generateRequestId.mRequestPrefix) {</span>
<a href="#l20.17"></a><span id="l20.17">         generateRequestId.mRequestPrefix = cal.getUUID() + &quot;-&quot;;</span>
<a href="#l20.18"></a><span id="l20.18">         generateRequestId.mRequestId = 0;</span>
<a href="#l20.19"></a><span id="l20.19">     }</span>
<a href="#l20.20"></a><span id="l20.20">     ++generateRequestId.mRequestId;</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineat">@@ -203,17 +202,17 @@ calWcapNetworkRequest.prototype = {</span>
<a href="#l20.22"></a><span id="l20.22">     m_id: 0,</span>
<a href="#l20.23"></a><span id="l20.23">     m_url: null,</span>
<a href="#l20.24"></a><span id="l20.24">     m_loader: null,</span>
<a href="#l20.25"></a><span id="l20.25">     m_respFunc: null,</span>
<a href="#l20.26"></a><span id="l20.26">     m_bLogging: false,</span>
<a href="#l20.27"></a><span id="l20.27"> </span>
<a href="#l20.28"></a><span id="l20.28">     classID: calWcapNetworkRequestClassID,</span>
<a href="#l20.29"></a><span id="l20.29">     QueryInterface: cal.generateQI(calWcapNetworkRequestInterfaces),</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l20.32"></a><span id="l20.32">         classID: calWcapNetworkRequestClassID,</span>
<a href="#l20.33"></a><span id="l20.33">         contractID: &quot;@mozilla.org/calendar/wcap/network-request;1&quot;,</span>
<a href="#l20.34"></a><span id="l20.34">         classDescription: &quot;Sun Java System Calendar Server WCAP Network Request&quot;,</span>
<a href="#l20.35"></a><span id="l20.35">         interfaces: calWcapNetworkRequestInterfaces</span>
<a href="#l20.36"></a><span id="l20.36">     }),</span>
<a href="#l20.37"></a><span id="l20.37"> </span>
<a href="#l20.38"></a><span id="l20.38">     /**</span>
<a href="#l20.39"></a><span id="l20.39">      * @see nsIInterfaceRequestor</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/providers/wcap/calWcapSession.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/providers/wcap/calWcapSession.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l21.4"></a><span id="l21.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.5"></a><span id="l21.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.6"></a><span id="l21.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l21.7"></a><span id="l21.7"> </span>
<a href="#l21.8"></a><span id="l21.8"> /* exported getWcapSessionFor */</span>
<a href="#l21.9"></a><span id="l21.9"> </span>
<a href="#l21.10"></a><span id="l21.10"> ChromeUtils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l21.11"></a><span id="l21.11"> ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l21.13"></a><span id="l21.13"> </span>
<a href="#l21.14"></a><span id="l21.14"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;, null);</span>
<a href="#l21.15"></a><span id="l21.15"> </span>
<a href="#l21.16"></a><span id="l21.16"> function calWcapTimezone(tzProvider, tzid_, component_) {</span>
<a href="#l21.17"></a><span id="l21.17">     this.wrappedJSObject = this;</span>
<a href="#l21.18"></a><span id="l21.18">     this.provider = tzProvider;</span>
<a href="#l21.19"></a><span id="l21.19">     this.icalComponent = component_;</span>
<a href="#l21.20"></a><span id="l21.20">     this.tzid = tzid_;</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineat">@@ -110,17 +109,17 @@ var calWcapSessionInterfaces = [</span>
<a href="#l21.22"></a><span id="l21.22">     calIFreeBusyProvider,</span>
<a href="#l21.23"></a><span id="l21.23">     calICalendarSearchProvider,</span>
<a href="#l21.24"></a><span id="l21.24">     Components.interfaces.calITimezoneProvider,</span>
<a href="#l21.25"></a><span id="l21.25">     Components.interfaces.calICalendarManagerObserver</span>
<a href="#l21.26"></a><span id="l21.26"> ];</span>
<a href="#l21.27"></a><span id="l21.27"> calWcapSession.prototype = {</span>
<a href="#l21.28"></a><span id="l21.28">     classID: calWcapSessionClassID,</span>
<a href="#l21.29"></a><span id="l21.29">     QueryInterface: cal.generateQI(calWcapSessionInterfaces),</span>
<a href="#l21.30"></a><span id="l21.30" class="difflineminus">-    classInfo: XPCOMUtils.generateCI({</span>
<a href="#l21.31"></a><span id="l21.31" class="difflineplus">+    classInfo: cal.generateCI({</span>
<a href="#l21.32"></a><span id="l21.32">         classID: calWcapSessionClassID,</span>
<a href="#l21.33"></a><span id="l21.33">         contractID: &quot;@mozilla.org/calendar/wcap/session;1&quot;,</span>
<a href="#l21.34"></a><span id="l21.34">         classDescription: &quot;Sun Java System Calendar Server WCAP Session&quot;,</span>
<a href="#l21.35"></a><span id="l21.35">         interfaces: calWcapSessionInterfaces</span>
<a href="#l21.36"></a><span id="l21.36">     }),</span>
<a href="#l21.37"></a><span id="l21.37"> </span>
<a href="#l21.38"></a><span id="l21.38">     toString: function(msg) {</span>
<a href="#l21.39"></a><span id="l21.39">         let str = &quot;context-id: &quot; + this.m_contextId + &quot;, uri: &quot; + (this.uri ? this.uri.spec : &quot;unknown&quot;);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

