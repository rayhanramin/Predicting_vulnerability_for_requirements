<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23859:46c62a2fcc9da17e307ff44566a8a9fea18ca00f</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 46c62a2fcc9da17e307ff44566a8a9fea18ca00f" />
<meta property="og:url" content="/comm-central/rev/46c62a2fcc9da17e307ff44566a8a9fea18ca00f" />
<meta property="og:description" content="Bug 1457713 - rewrite QueryInterface JS implementations the same way as M-C bug 1456035 does - chat/ mail/ mailnews/. r=jorgk" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 46c62a2fcc9da17e307ff44566a8a9fea18ca00f 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/46c62a2fcc9da17e307ff44566a8a9fea18ca00f">shortlog</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/46c62a2fcc9da17e307ff44566a8a9fea18ca00f">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f">files</a> |
changeset |
<a href="/comm-central/raw-rev/46c62a2fcc9da17e307ff44566a8a9fea18ca00f">raw</a>  | <a href="/comm-central/archive/46c62a2fcc9da17e307ff44566a8a9fea18ca00f.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1457713">Bug 1457713</a> - rewrite QueryInterface JS implementations the same way as M-C <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456035">bug 1456035</a> does - chat/ mail/ mailnews/. r=jorgk
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#97;&#99;&#101;&#109;&#97;&#110;&#32;&#60;&#97;&#99;&#101;&#108;&#105;&#115;&#116;&#115;&#64;&#97;&#116;&#108;&#97;&#115;&#46;&#115;&#107;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 29 Apr 2018 00:49:00 +0200</td></tr>

<tr>
 <td>changeset 23859</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/46c62a2fcc9da17e307ff44566a8a9fea18ca00f">46c62a2fcc9da17e307ff44566a8a9fea18ca00f</a></td>
</tr>



<tr>
<td>parent 23858</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f622e6a7a742e8d2a45863d8f4cf840e7e6215fb">f622e6a7a742e8d2a45863d8f4cf840e7e6215fb</a>
</td>
</tr>

<tr>
<td>child 23860</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/df13f2b8f71c0225c248f63c5535f508f88a539d">df13f2b8f71c0225c248f63c5535f508f88a539d</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=46c62a2fcc9da17e307ff44566a8a9fea18ca00f">14374</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Mon, 30 Apr 2018 20:50:06 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@46c62a2fcc9d [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=46c62a2fcc9da17e307ff44566a8a9fea18ca00f">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=46c62a2fcc9da17e307ff44566a8a9fea18ca00f&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=46c62a2fcc9da17e307ff44566a8a9fea18ca00f&newProject=comm-central&newRevision=323c8a1be19ca5fd53b14724aa9ed87e22b23bd6&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=46c62a2fcc9da17e307ff44566a8a9fea18ca00f&newProject=comm-central&newRevision=323c8a1be19ca5fd53b14724aa9ed87e22b23bd6&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=46c62a2fcc9da17e307ff44566a8a9fea18ca00f&newProject=comm-central&newRevision=323c8a1be19ca5fd53b14724aa9ed87e22b23bd6&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jorgk%29&revcount=50">jorgk</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1457713">1457713</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456035">1456035</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1457713">Bug 1457713</a> - rewrite QueryInterface JS implementations the same way as M-C <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456035">bug 1456035</a> does - chat/ mail/ mailnews/. r=jorgk</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/content/browserRequest.js">chat/content/browserRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/content/browserRequest.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/content/browserRequest.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/content/browserRequest.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/content/browserRequest.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/content/browserRequest.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/imXPCOMUtils.jsm">chat/modules/imXPCOMUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/imXPCOMUtils.jsm">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/imXPCOMUtils.jsm">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/imXPCOMUtils.jsm">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/imXPCOMUtils.jsm">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/imXPCOMUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/socket.jsm">chat/modules/socket.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/socket.jsm">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/socket.jsm">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/socket.jsm">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/socket.jsm">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/modules/socket.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/protocols/xmpp/xmpp-xml.jsm">chat/protocols/xmpp/xmpp-xml.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/protocols/xmpp/xmpp-xml.jsm">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/protocols/xmpp/xmpp-xml.jsm">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/protocols/xmpp/xmpp-xml.jsm">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/protocols/xmpp/xmpp-xml.jsm">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/chat/protocols/xmpp/xmpp-xml.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/composer/content/ComposerCommands.js">editor/ui/composer/content/ComposerCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/composer/content/ComposerCommands.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/composer/content/ComposerCommands.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/composer/content/ComposerCommands.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/composer/content/ComposerCommands.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/composer/content/ComposerCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/dialogs/content/EdSelectProps.js">editor/ui/dialogs/content/EdSelectProps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/dialogs/content/EdSelectProps.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/dialogs/content/EdSelectProps.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/dialogs/content/EdSelectProps.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/dialogs/content/EdSelectProps.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/editor/ui/dialogs/content/EdSelectProps.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/aboutDialog-appUpdater.js">mail/base/content/aboutDialog-appUpdater.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/aboutDialog-appUpdater.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/aboutDialog-appUpdater.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/aboutDialog-appUpdater.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/aboutDialog-appUpdater.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/aboutDialog-appUpdater.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/browserRequest.js">mail/base/content/browserRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/browserRequest.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/browserRequest.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/browserRequest.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/browserRequest.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/browserRequest.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/folderDisplay.js">mail/base/content/folderDisplay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/folderDisplay.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/folderDisplay.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/folderDisplay.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/folderDisplay.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/folderDisplay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailCore.js">mail/base/content/mailCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailCore.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailCore.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailCore.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailCore.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailCore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindow.js">mail/base/content/mailWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindow.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindow.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindow.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindow.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindowOverlay.js">mail/base/content/mailWindowOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindowOverlay.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindowOverlay.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindowOverlay.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindowOverlay.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/mailWindowOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/search.xml">mail/base/content/search.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/search.xml">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/search.xml">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/search.xml">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/search.xml">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/search.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/tabmail.xml">mail/base/content/tabmail.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/tabmail.xml">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/tabmail.xml">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/tabmail.xml">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/tabmail.xml">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/base/content/tabmail.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/MyBadCertHandler.js">mail/components/accountcreation/content/MyBadCertHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/MyBadCertHandler.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/MyBadCertHandler.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/MyBadCertHandler.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/MyBadCertHandler.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/MyBadCertHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/verifyConfig.js">mail/components/accountcreation/content/verifyConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/verifyConfig.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/verifyConfig.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/verifyConfig.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/verifyConfig.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/accountcreation/content/verifyConfig.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/MsgComposeCommands.js">mail/components/compose/content/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/addressingWidgetOverlay.js">mail/components/compose/content/addressingWidgetOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/addressingWidgetOverlay.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/addressingWidgetOverlay.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/addressingWidgetOverlay.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/addressingWidgetOverlay.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/compose/content/addressingWidgetOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/preferences/applications.js">mail/components/preferences/applications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/preferences/applications.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/preferences/applications.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/preferences/applications.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/preferences/applications.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/preferences/applications.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/search/searchCommon.js">mail/components/search/searchCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/search/searchCommon.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/search/searchCommon.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/search/searchCommon.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/search/searchCommon.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/components/search/searchCommon.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js">mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/addrbook/prefs/content/pref-directory-add.js">mailnews/addrbook/prefs/content/pref-directory-add.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/addrbook/prefs/content/pref-directory-add.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/addrbook/prefs/content/pref-directory-add.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/addrbook/prefs/content/pref-directory-add.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/addrbook/prefs/content/pref-directory-add.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/addrbook/prefs/content/pref-directory-add.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/jsTreeView.js">mailnews/base/content/jsTreeView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/jsTreeView.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/jsTreeView.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/jsTreeView.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/jsTreeView.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/jsTreeView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/shutdownWindow.js">mailnews/base/content/shutdownWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/shutdownWindow.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/shutdownWindow.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/shutdownWindow.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/shutdownWindow.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/base/content/shutdownWindow.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/content/sendProgress.js">mailnews/compose/content/sendProgress.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/content/sendProgress.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/content/sendProgress.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/content/sendProgress.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/content/sendProgress.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/content/sendProgress.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/head_compose.js">mailnews/compose/test/unit/head_compose.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/head_compose.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/head_compose.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/head_compose.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/head_compose.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/head_compose.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMailAddressIDN.js">mailnews/compose/test/unit/test_sendMailAddressIDN.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMailAddressIDN.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMailAddressIDN.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMailAddressIDN.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMailAddressIDN.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMailAddressIDN.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMessageFile.js">mailnews/compose/test/unit/test_sendMessageFile.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMessageFile.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMessageFile.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMessageFile.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMessageFile.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_sendMessageFile.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_temporaryFilesRemoved.js">mailnews/compose/test/unit/test_temporaryFilesRemoved.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_temporaryFilesRemoved.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_temporaryFilesRemoved.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_temporaryFilesRemoved.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_temporaryFilesRemoved.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/compose/test/unit/test_temporaryFilesRemoved.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/offline-startup/js/offlineStartup.js">mailnews/extensions/offline-startup/js/offlineStartup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/offline-startup/js/offlineStartup.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/offline-startup/js/offlineStartup.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/offline-startup/js/offlineStartup.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/offline-startup/js/offlineStartup.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/offline-startup/js/offlineStartup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/certFetchingStatus.js">mailnews/extensions/smime/content/certFetchingStatus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/certFetchingStatus.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/certFetchingStatus.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/certFetchingStatus.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/certFetchingStatus.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/certFetchingStatus.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_offlineDraftDataloss.js">mailnews/imap/test/unit/test_offlineDraftDataloss.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_offlineDraftDataloss.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_offlineDraftDataloss.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_offlineDraftDataloss.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_offlineDraftDataloss.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_offlineDraftDataloss.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_saveImapDraft.js">mailnews/imap/test/unit/test_saveImapDraft.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_saveImapDraft.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_saveImapDraft.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_saveImapDraft.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_saveImapDraft.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/imap/test/unit/test_saveImapDraft.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/news/test/unit/head_server_setup.js">mailnews/news/test/unit/head_server_setup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/news/test/unit/head_server_setup.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/news/test/unit/head_server_setup.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/news/test/unit/head_server_setup.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/news/test/unit/head_server_setup.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/news/test/unit/head_server_setup.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/test/fakeserver/maild.js">mailnews/test/fakeserver/maild.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/test/fakeserver/maild.js">file</a> |
<a href="/comm-central/annotate/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/test/fakeserver/maild.js">annotate</a> |
<a href="/comm-central/diff/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/test/fakeserver/maild.js">diff</a> |
<a href="/comm-central/comparison/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/test/fakeserver/maild.js">comparison</a> |
<a href="/comm-central/log/46c62a2fcc9da17e307ff44566a8a9fea18ca00f/mailnews/test/fakeserver/maild.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/chat/content/browserRequest.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/chat/content/browserRequest.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -20,23 +20,19 @@ var reporterListener = {</span>
<a href="#l1.4"></a><span id="l1.4">     delete this.securityLabel;</span>
<a href="#l1.5"></a><span id="l1.5">     return this.securityLabel = document.getElementById(&quot;security-status&quot;);</span>
<a href="#l1.6"></a><span id="l1.6">   },</span>
<a href="#l1.7"></a><span id="l1.7">   get securityDisplay() {</span>
<a href="#l1.8"></a><span id="l1.8">     delete this.securityDisplay;</span>
<a href="#l1.9"></a><span id="l1.9">     return this.securityDisplay = document.getElementById(&quot;security-display&quot;);</span>
<a href="#l1.10"></a><span id="l1.10">   },</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  QueryInterface: function(aIID) {</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-    if (aIID.equals(Ci.nsIWebProgressListener)   ||</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-        aIID.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-        aIID.equals(Ci.nsISupports))</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-      return this;</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-  },</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+</span>
<a href="#l1.22"></a><span id="l1.22">   onStateChange: function(/*in nsIWebProgress*/ aWebProgress,</span>
<a href="#l1.23"></a><span id="l1.23">                      /*in nsIRequest*/ aRequest,</span>
<a href="#l1.24"></a><span id="l1.24">                      /*in unsigned long*/ aStateFlags,</span>
<a href="#l1.25"></a><span id="l1.25">                      /*in nsresult*/ aStatus) {</span>
<a href="#l1.26"></a><span id="l1.26">     if (aStateFlags &amp; wpl.STATE_START &amp;&amp;</span>
<a href="#l1.27"></a><span id="l1.27">         aStateFlags &amp; wpl.STATE_IS_NETWORK) {</span>
<a href="#l1.28"></a><span id="l1.28">       this.statusMeter.value = 0;</span>
<a href="#l1.29"></a><span id="l1.29">       this.statusMeter.parentNode.collapsed = false;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/chat/modules/imXPCOMUtils.jsm</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/chat/modules/imXPCOMUtils.jsm</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -103,18 +103,18 @@ XPCOMUtils.defineLazyGetter(Cu.getGlobal</span>
<a href="#l2.4"></a><span id="l2.4">   let logLevels = {</span>
<a href="#l2.5"></a><span id="l2.5">     observe: function(aSubject, aTopic, aData) {</span>
<a href="#l2.6"></a><span id="l2.6">       let module = &quot;level&quot; + aData.substr(kLogLevelPref.length);</span>
<a href="#l2.7"></a><span id="l2.7">       if (Services.prefs.getPrefType(aData) == Services.prefs.PREF_INT)</span>
<a href="#l2.8"></a><span id="l2.8">         gLogLevels[module] = Services.prefs.getIntPref(aData);</span>
<a href="#l2.9"></a><span id="l2.9">       else</span>
<a href="#l2.10"></a><span id="l2.10">         delete gLogLevels[module];</span>
<a href="#l2.11"></a><span id="l2.11">     },</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-    QueryInterface: XPCOMUtils.generateQI([Ci.nsIObserver,</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-                                           Ci.nsISupportsWeakReference]),</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+    QueryInterface: ChromeUtils.generateQI([&quot;nsIObserver&quot;,</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+                                            &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l2.16"></a><span id="l2.16">   };</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18">   // Add weak pref observer to see log level pref changes.</span>
<a href="#l2.19"></a><span id="l2.19">   Services.prefs.addObserver(kLogLevelPref, logLevels, true /* weak */);</span>
<a href="#l2.20"></a><span id="l2.20"> </span>
<a href="#l2.21"></a><span id="l2.21">   // Initialize with existing log level prefs.</span>
<a href="#l2.22"></a><span id="l2.22">   for (let pref of Services.prefs.getChildList(kLogLevelPref)) {</span>
<a href="#l2.23"></a><span id="l2.23">     if (Services.prefs.getPrefType(pref) == Services.prefs.PREF_INT)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/chat/modules/socket.jsm</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/chat/modules/socket.jsm</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -679,20 +679,17 @@ var Socket = {</span>
<a href="#l3.4"></a><span id="l3.4">   // Called when binary data is available.</span>
<a href="#l3.5"></a><span id="l3.5">   onBinaryDataReceived: function(/* ArrayBuffer */ aData) { },</span>
<a href="#l3.6"></a><span id="l3.6"> </span>
<a href="#l3.7"></a><span id="l3.7">   // If using the ping functionality, this is called when a new ping message</span>
<a href="#l3.8"></a><span id="l3.8">   // should be sent on the socket.</span>
<a href="#l3.9"></a><span id="l3.9">   sendPing: function() { },</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11">   /* QueryInterface and nsIInterfaceRequestor implementations */</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-  _interfaces: [Ci.nsIServerSocketListener, Ci.nsIStreamListener,</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-                Ci.nsIRequestObserver, Ci.nsITransportEventSink,</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-                Ci.nsIBadCertListener2, Ci.nsIProtocolProxyCallback],</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-  QueryInterface: function(iid) {</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-    if (iid.equals(Ci.nsISupports) ||</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineminus">-        this._interfaces.some(i =&gt; i.equals(iid)))</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-      return this;</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIServerSocketListener&quot;,</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineplus">+                                          &quot;nsIStreamListener&quot;,</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineplus">+                                          &quot;nsIRequestObserver&quot;,</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+                                          &quot;nsITransportEventSink&quot;,</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineplus">+                                          &quot;nsIBadCertListener2&quot;,</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineplus">+                                          &quot;nsIProtocolProxyCallback&quot;]),</span>
<a href="#l3.25"></a><span id="l3.25"> </span>
<a href="#l3.26"></a><span id="l3.26" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineminus">-  },</span>
<a href="#l3.28"></a><span id="l3.28">   getInterface: function(iid) { return this.QueryInterface(iid); }</span>
<a href="#l3.29"></a><span id="l3.29"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-xml.jsm</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-xml.jsm</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -446,16 +446,11 @@ XMPPParser.prototype = {</span>
<a href="#l4.4"></a><span id="l4.4">     if (this._listener)</span>
<a href="#l4.5"></a><span id="l4.5">       this._listener.onXMLError(&quot;parse-fatal-error&quot;, aError);</span>
<a href="#l4.6"></a><span id="l4.6">   },</span>
<a href="#l4.7"></a><span id="l4.7">   ignorableWarning: function(aError) {</span>
<a href="#l4.8"></a><span id="l4.8">     if (this._listener)</span>
<a href="#l4.9"></a><span id="l4.9">       this._listener.onXMLError(&quot;parse-warning&quot;, aError);</span>
<a href="#l4.10"></a><span id="l4.10">   },</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-  QueryInterface: function(aInterfaceId) {</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-    if (!aInterfaceId.equals(Ci.nsISupports) &amp;&amp;</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-        !aInterfaceId.equals(Ci.nsISAXContentHandler) &amp;&amp;</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-        !aInterfaceId.equals(Ci.nsISAXErrorHandler))</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineminus">-    return this;</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineminus">-  }</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsISAXContentHandler&quot;,</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+                                          &quot;nsISAXErrorHandler&quot;]),</span>
<a href="#l4.21"></a><span id="l4.21"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/editor/ui/composer/content/ComposerCommands.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/editor/ui/composer/content/ComposerCommands.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1290,26 +1290,20 @@ var gEditorOutputProgressListener =</span>
<a href="#l5.4"></a><span id="l5.4">     {</span>
<a href="#l5.5"></a><span id="l5.5">       try {</span>
<a href="#l5.6"></a><span id="l5.6">         var channel = aRequest.QueryInterface(nsIChannel);</span>
<a href="#l5.7"></a><span id="l5.7">         dump(&quot;***** onSecurityChange request: &quot; + channel.URI.spec + &quot;\n&quot;);</span>
<a href="#l5.8"></a><span id="l5.8">       } catch (e) {}</span>
<a href="#l5.9"></a><span id="l5.9">     }</span>
<a href="#l5.10"></a><span id="l5.10">   },</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-  QueryInterface : function(aIID)</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-  {</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-    if (aIID.equals(Ci.nsIWebProgressListener)</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-    || aIID.equals(Ci.nsISupports)</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineminus">-    || aIID.equals(Ci.nsISupportsWeakReference)</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-    || aIID.equals(Ci.nsIPrompt)</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineminus">-    || aIID.equals(Ci.nsIAuthPrompt))</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineminus">-      return this;</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineminus">-  },</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;,</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+                                          &quot;nsIPrompt&quot;,</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineplus">+                                          &quot;nsIAuthPrompt&quot;]),</span>
<a href="#l5.26"></a><span id="l5.26"> </span>
<a href="#l5.27"></a><span id="l5.27"> // nsIPrompt</span>
<a href="#l5.28"></a><span id="l5.28">   alert : function(dlgTitle, text)</span>
<a href="#l5.29"></a><span id="l5.29">   {</span>
<a href="#l5.30"></a><span id="l5.30">     Services.prompt.alert(gProgressDialog ? gProgressDialog : window, dlgTitle, text);</span>
<a href="#l5.31"></a><span id="l5.31">   },</span>
<a href="#l5.32"></a><span id="l5.32">   alertCheck : function(dialogTitle, text, checkBoxLabel, checkObj)</span>
<a href="#l5.33"></a><span id="l5.33">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdSelectProps.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdSelectProps.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -478,25 +478,18 @@ function Startup()</span>
<a href="#l6.4"></a><span id="l6.4">     }</span>
<a href="#l6.5"></a><span id="l6.5">   }</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7">   UpdateSelectMultiple();</span>
<a href="#l6.8"></a><span id="l6.8"> </span>
<a href="#l6.9"></a><span id="l6.9">   // Define a custom view for the tree</span>
<a href="#l6.10"></a><span id="l6.10">   treeBoxObject = gDialog.tree.treeBoxObject;</span>
<a href="#l6.11"></a><span id="l6.11">   treeBoxObject.view = {</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-    QueryInterface : function QueryInterface(aIID)</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-    {</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-      if (aIID.equals(Ci.nsITreeView) ||</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineminus">-          aIID.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-          aIID.equals(Ci.nsISupports))</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-        return this;</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineminus">-</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineminus">-    },</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineplus">+    QueryInterface: ChromeUtils.generateQI([&quot;nsITreeView&quot;,</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineplus">+                                            &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l6.23"></a><span id="l6.23">     // useful for debugging</span>
<a href="#l6.24"></a><span id="l6.24">     get wrappedJSObject() { return this; },</span>
<a href="#l6.25"></a><span id="l6.25">     get rowCount() { return itemArray.length; },</span>
<a href="#l6.26"></a><span id="l6.26">     get selection() { return treeSelection; },</span>
<a href="#l6.27"></a><span id="l6.27">     set selection(selection) { return treeSelection = selection; },</span>
<a href="#l6.28"></a><span id="l6.28">     getRowProperties: function getRowProperties(index) { return &quot;&quot;; },</span>
<a href="#l6.29"></a><span id="l6.29">     // could have used a wrapper for this</span>
<a href="#l6.30"></a><span id="l6.30">     getCellProperties: function getCellProperties(index, column)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/base/content/aboutDialog-appUpdater.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/base/content/aboutDialog-appUpdater.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -291,22 +291,17 @@ appUpdater.prototype =</span>
<a href="#l7.4"></a><span id="l7.4">       gAppUpdater.isChecking = false;</span>
<a href="#l7.5"></a><span id="l7.5">       gAppUpdater.selectPanel(&quot;noUpdatesFound&quot;);</span>
<a href="#l7.6"></a><span id="l7.6">       return;</span>
<a href="#l7.7"></a><span id="l7.7">     },</span>
<a href="#l7.8"></a><span id="l7.8"> </span>
<a href="#l7.9"></a><span id="l7.9">     /**</span>
<a href="#l7.10"></a><span id="l7.10">      * See nsISupports.idl</span>
<a href="#l7.11"></a><span id="l7.11">      */</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-    QueryInterface: function(aIID) {</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-      if (!aIID.equals(Ci.nsIUpdateCheckListener) &amp;&amp;</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-          !aIID.equals(Ci.nsISupports))</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-        throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-      return this;</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-    }</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineplus">+    QueryInterface: ChromeUtils.generateQI([&quot;nsIUpdateCheckListener&quot;]),</span>
<a href="#l7.19"></a><span id="l7.19">   },</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21">   /**</span>
<a href="#l7.22"></a><span id="l7.22">    * Starts the download of an update mar.</span>
<a href="#l7.23"></a><span id="l7.23">    */</span>
<a href="#l7.24"></a><span id="l7.24">   startDownload: function() {</span>
<a href="#l7.25"></a><span id="l7.25">     if (!this.update)</span>
<a href="#l7.26"></a><span id="l7.26">       this.update = this.um.activeUpdate;</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineat">@@ -418,16 +413,11 @@ appUpdater.prototype =</span>
<a href="#l7.28"></a><span id="l7.28">   onProgress: function(aRequest, aContext, aProgress, aProgressMax) {</span>
<a href="#l7.29"></a><span id="l7.29">     this.downloadStatus.value =</span>
<a href="#l7.30"></a><span id="l7.30">       DownloadUtils.getTransferTotal(aProgress, aProgressMax);</span>
<a href="#l7.31"></a><span id="l7.31">   },</span>
<a href="#l7.32"></a><span id="l7.32"> </span>
<a href="#l7.33"></a><span id="l7.33">   /**</span>
<a href="#l7.34"></a><span id="l7.34">    * See nsISupports.idl</span>
<a href="#l7.35"></a><span id="l7.35">    */</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineminus">-  QueryInterface: function(aIID) {</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineminus">-    if (!aIID.equals(Ci.nsIProgressEventSink) &amp;&amp;</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineminus">-        !aIID.equals(Ci.nsIRequestObserver) &amp;&amp;</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineminus">-        !aIID.equals(Ci.nsISupports))</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineminus">-    return this;</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineminus">-  }</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIProgressEventSink&quot;,</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineplus">+                                          &quot;nsIRequestObserver&quot;]),</span>
<a href="#l7.45"></a><span id="l7.45"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/base/content/browserRequest.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/base/content/browserRequest.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -6,23 +6,18 @@ var wpl = Ci.nsIWebProgressListener;</span>
<a href="#l8.4"></a><span id="l8.4"> </span>
<a href="#l8.5"></a><span id="l8.5"> var reporterListener = {</span>
<a href="#l8.6"></a><span id="l8.6">   _isBusy: false,</span>
<a href="#l8.7"></a><span id="l8.7">   get securityButton() {</span>
<a href="#l8.8"></a><span id="l8.8">     delete this.securityButton;</span>
<a href="#l8.9"></a><span id="l8.9">     return this.securityButton = document.getElementById(&quot;security-button&quot;);</span>
<a href="#l8.10"></a><span id="l8.10">   },</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-  QueryInterface: function(aIID) {</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-    if (aIID.equals(Ci.nsIWebProgressListener)   ||</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">-        aIID.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-        aIID.equals(Ci.nsISupports))</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineminus">-      return this;</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineminus">-  },</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22">   onStateChange: function(/*in nsIWebProgress*/ aWebProgress,</span>
<a href="#l8.23"></a><span id="l8.23">                      /*in nsIRequest*/ aRequest,</span>
<a href="#l8.24"></a><span id="l8.24">                      /*in unsigned long*/ aStateFlags,</span>
<a href="#l8.25"></a><span id="l8.25">                      /*in nsresult*/ aStatus) {</span>
<a href="#l8.26"></a><span id="l8.26">   },</span>
<a href="#l8.27"></a><span id="l8.27"> </span>
<a href="#l8.28"></a><span id="l8.28">   onProgressChange: function(/*in nsIWebProgress*/ aWebProgress,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/base/content/folderDisplay.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/base/content/folderDisplay.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -2699,23 +2699,18 @@ FakeTreeBoxObject.prototype = {</span>
<a href="#l9.4"></a><span id="l9.4">     return this.domNode.boxObject.getProperty(propertyName);</span>
<a href="#l9.5"></a><span id="l9.5">   },</span>
<a href="#l9.6"></a><span id="l9.6">   setProperty : function FakeTreeBoxObject_setProperty(propertyName, value) {</span>
<a href="#l9.7"></a><span id="l9.7">     return this.domNode.boxObject.setProperty(propertyName, value);</span>
<a href="#l9.8"></a><span id="l9.8">   },</span>
<a href="#l9.9"></a><span id="l9.9">   removeProperty : function FakeTreeBoxObject_removeProperty(propertyName) {</span>
<a href="#l9.10"></a><span id="l9.10">     return this.domNode.boxObject.removeProperty(propertyName);</span>
<a href="#l9.11"></a><span id="l9.11">   },</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-  QueryInterface: function FakeTreeBoxObject_QueryInterface(aIID) {</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-    if (!aIID.equals(Ci.nsISupports) &amp;&amp;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-        !aIID.equals(Ci.nsIBoxObject) &amp;&amp;</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-        !aIID.equals(Ci.nsITreeBoxObject))</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineminus">-    return this;</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineminus">-  }</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIBoxObject&quot;,</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+                                          &quot;nsITreeBoxObject&quot;]),</span>
<a href="#l9.21"></a><span id="l9.21"> };</span>
<a href="#l9.22"></a><span id="l9.22"> /*</span>
<a href="#l9.23"></a><span id="l9.23">  * Provide attribute and function implementations that complain very loudly if</span>
<a href="#l9.24"></a><span id="l9.24">  *  they are used.  Now, XPConnect will return an error to callers if we don't</span>
<a href="#l9.25"></a><span id="l9.25">  *  implement part of the interface signature, but this is unlikely to provide</span>
<a href="#l9.26"></a><span id="l9.26">  *  the visibility we desire.  In fact, since it is a simple nsresult error,</span>
<a href="#l9.27"></a><span id="l9.27">  *  it may make things completely crazy.  So this way we can yell via dump,</span>
<a href="#l9.28"></a><span id="l9.28">  *  throw an exception, etc.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/base/content/mailCore.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/base/content/mailCore.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -745,23 +745,17 @@ function CreateAttachmentTransferData(aA</span>
<a href="#l10.4"></a><span id="l10.4"> }</span>
<a href="#l10.5"></a><span id="l10.5"> </span>
<a href="#l10.6"></a><span id="l10.6"> function nsFlavorDataProvider()</span>
<a href="#l10.7"></a><span id="l10.7"> {</span>
<a href="#l10.8"></a><span id="l10.8"> }</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10"> nsFlavorDataProvider.prototype =</span>
<a href="#l10.11"></a><span id="l10.11"> {</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-  QueryInterface : function(iid)</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-  {</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineminus">-      if (iid.equals(Ci.nsIFlavorDataProvider) ||</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineminus">-          iid.equals(Ci.nsISupports))</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-        return this;</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineminus">-      throw Cr.NS_NOINTERFACE;</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">-  },</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIFlavorDataProvider&quot;]),</span>
<a href="#l10.20"></a><span id="l10.20"> </span>
<a href="#l10.21"></a><span id="l10.21">   getFlavorData : function(aTransferable, aFlavor, aData, aDataLen)</span>
<a href="#l10.22"></a><span id="l10.22">   {</span>
<a href="#l10.23"></a><span id="l10.23">     // get the url for the attachment</span>
<a href="#l10.24"></a><span id="l10.24">     if (aFlavor == &quot;application/x-moz-file-promise&quot;)</span>
<a href="#l10.25"></a><span id="l10.25">     {</span>
<a href="#l10.26"></a><span id="l10.26">       var urlPrimitive = { };</span>
<a href="#l10.27"></a><span id="l10.27">       var dataSize = { };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/base/content/mailWindow.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/base/content/mailWindow.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -260,26 +260,21 @@ nsMsgStatusFeedback.prototype =</span>
<a href="#l11.4"></a><span id="l11.4">     }</span>
<a href="#l11.5"></a><span id="l11.5">   },</span>
<a href="#l11.6"></a><span id="l11.6"> </span>
<a href="#l11.7"></a><span id="l11.7">   // Called before links are navigated to to allow us to retarget them if needed.</span>
<a href="#l11.8"></a><span id="l11.8">   onBeforeLinkTraversal: function(originalTarget, linkURI, linkNode, isAppTab) {</span>
<a href="#l11.9"></a><span id="l11.9">     return originalTarget;</span>
<a href="#l11.10"></a><span id="l11.10">   },</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-  QueryInterface: function(iid) {</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-    if (iid.equals(Ci.nsIMsgStatusFeedback) ||</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-        iid.equals(Ci.nsIXULBrowserWindow) ||</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-        iid.equals(Ci.nsIActivityMgrListener) ||</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-        iid.equals(Ci.nsIActivityListener) ||</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-        iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineminus">-      return this;</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-  },</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIMsgStatusFeedback&quot;,</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+                                          &quot;nsIXULBrowserWindow&quot;,</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+                                          &quot;nsIActivityMgrListener&quot;,</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+                                          &quot;nsIActivityListener&quot;,</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l11.27"></a><span id="l11.27"> </span>
<a href="#l11.28"></a><span id="l11.28">   // nsIMsgStatusFeedback implementation.</span>
<a href="#l11.29"></a><span id="l11.29">   showStatusString: function(statusText) {</span>
<a href="#l11.30"></a><span id="l11.30">     if (!statusText)</span>
<a href="#l11.31"></a><span id="l11.31">       statusText = this._defaultStatusText;</span>
<a href="#l11.32"></a><span id="l11.32">     else</span>
<a href="#l11.33"></a><span id="l11.33">       this._defaultStatusText = &quot;&quot;;</span>
<a href="#l11.34"></a><span id="l11.34">     this._statusText.label = statusText;</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineat">@@ -483,23 +478,17 @@ nsMsgStatusFeedback.prototype =</span>
<a href="#l11.36"></a><span id="l11.36"> </span>
<a href="#l11.37"></a><span id="l11.37"> </span>
<a href="#l11.38"></a><span id="l11.38"> function nsMsgWindowCommands()</span>
<a href="#l11.39"></a><span id="l11.39"> {</span>
<a href="#l11.40"></a><span id="l11.40"> }</span>
<a href="#l11.41"></a><span id="l11.41"> </span>
<a href="#l11.42"></a><span id="l11.42"> nsMsgWindowCommands.prototype =</span>
<a href="#l11.43"></a><span id="l11.43"> {</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineminus">-  QueryInterface : function(iid)</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineminus">-  {</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineminus">-    if (iid.equals(Ci.nsIMsgWindowCommands) ||</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineminus">-      return this;</span>
<a href="#l11.49"></a><span id="l11.49" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineminus">-  },</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIMsgWindowCommands&quot;]),</span>
<a href="#l11.52"></a><span id="l11.52"> </span>
<a href="#l11.53"></a><span id="l11.53">   selectFolder: function(folderUri)</span>
<a href="#l11.54"></a><span id="l11.54">   {</span>
<a href="#l11.55"></a><span id="l11.55">     gFolderTreeView.selectFolder(MailUtils.getFolderForURI(folderUri));</span>
<a href="#l11.56"></a><span id="l11.56">   },</span>
<a href="#l11.57"></a><span id="l11.57"> </span>
<a href="#l11.58"></a><span id="l11.58">   selectMessage: function(messageUri)</span>
<a href="#l11.59"></a><span id="l11.59">   {</span>
<a href="#l11.60"></a><span id="l11.60" class="difflineat">@@ -618,23 +607,18 @@ BadCertHandler.prototype = {</span>
<a href="#l11.61"></a><span id="l11.61">   },</span>
<a href="#l11.62"></a><span id="l11.62"> </span>
<a href="#l11.63"></a><span id="l11.63">   // nsIInterfaceRequestor</span>
<a href="#l11.64"></a><span id="l11.64">   getInterface: function(iid) {</span>
<a href="#l11.65"></a><span id="l11.65">     return this.QueryInterface(iid);</span>
<a href="#l11.66"></a><span id="l11.66">   },</span>
<a href="#l11.67"></a><span id="l11.67"> </span>
<a href="#l11.68"></a><span id="l11.68">   // nsISupports</span>
<a href="#l11.69"></a><span id="l11.69" class="difflineminus">-  QueryInterface: function(iid) {</span>
<a href="#l11.70"></a><span id="l11.70" class="difflineminus">-    if (!iid.equals(Ci.nsIBadCertListener2) &amp;&amp;</span>
<a href="#l11.71"></a><span id="l11.71" class="difflineminus">-      !iid.equals(Ci.nsIInterfaceRequestor) &amp;&amp;</span>
<a href="#l11.72"></a><span id="l11.72" class="difflineminus">-      !iid.equals(Ci.nsISupports))</span>
<a href="#l11.73"></a><span id="l11.73" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l11.74"></a><span id="l11.74" class="difflineminus">-    return this;</span>
<a href="#l11.75"></a><span id="l11.75" class="difflineminus">-  }</span>
<a href="#l11.76"></a><span id="l11.76" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIBadCertListener2&quot;,</span>
<a href="#l11.77"></a><span id="l11.77" class="difflineplus">+                                          &quot;nsIInterfaceRequestor&quot;]),</span>
<a href="#l11.78"></a><span id="l11.78"> };</span>
<a href="#l11.79"></a><span id="l11.79"> </span>
<a href="#l11.80"></a><span id="l11.80"> function InformUserOfCertError(socketInfo, status, targetSite)</span>
<a href="#l11.81"></a><span id="l11.81"> {</span>
<a href="#l11.82"></a><span id="l11.82">   let params = {</span>
<a href="#l11.83"></a><span id="l11.83">     exceptionAdded : false,</span>
<a href="#l11.84"></a><span id="l11.84">     sslStatus : status,</span>
<a href="#l11.85"></a><span id="l11.85">     prefetchCert: true,</span>
<a href="#l11.86"></a><span id="l11.86" class="difflineat">@@ -642,17 +626,17 @@ function InformUserOfCertError(socketInf</span>
<a href="#l11.87"></a><span id="l11.87">   };</span>
<a href="#l11.88"></a><span id="l11.88">   window.openDialog('chrome://pippki/content/exceptionDialog.xul',</span>
<a href="#l11.89"></a><span id="l11.89">                   '','chrome,centerscreen,modal', params);</span>
<a href="#l11.90"></a><span id="l11.90"> }</span>
<a href="#l11.91"></a><span id="l11.91"> </span>
<a href="#l11.92"></a><span id="l11.92"> function nsBrowserAccess() { }</span>
<a href="#l11.93"></a><span id="l11.93"> </span>
<a href="#l11.94"></a><span id="l11.94"> nsBrowserAccess.prototype = {</span>
<a href="#l11.95"></a><span id="l11.95" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsIBrowserDOMWindow]),</span>
<a href="#l11.96"></a><span id="l11.96" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIBrowserDOMWindow&quot;]),</span>
<a href="#l11.97"></a><span id="l11.97"> </span>
<a href="#l11.98"></a><span id="l11.98">   // The following function may be called during account creation, it is called by</span>
<a href="#l11.99"></a><span id="l11.99">   // the Mozmill test test-newmailaccount.js::test_window_open_link_opening_behaviour.</span>
<a href="#l11.100"></a><span id="l11.100">   createContentWindow(aURI, aOpener, aWhere, aFlags, aTriggeringPrincipal = null) {</span>
<a href="#l11.101"></a><span id="l11.101">     return this.getContentWindowOrOpenURI(null, aOpener, aWhere, aFlags,</span>
<a href="#l11.102"></a><span id="l11.102">                                           aTriggeringPrincipal);</span>
<a href="#l11.103"></a><span id="l11.103">   },</span>
<a href="#l11.104"></a><span id="l11.104"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1944,24 +1944,19 @@ BatchMessageMover.prototype = {</span>
<a href="#l12.4"></a><span id="l12.4">     if (aFolder.parent == this._dstFolderParent &amp;&amp;</span>
<a href="#l12.5"></a><span id="l12.5">         aFolder.name == this._dstFolderName) {</span>
<a href="#l12.6"></a><span id="l12.6">       this._dstFolderParent = null;</span>
<a href="#l12.7"></a><span id="l12.7">       this._dstFolderName = null;</span>
<a href="#l12.8"></a><span id="l12.8">       this.continueBatch();</span>
<a href="#l12.9"></a><span id="l12.9">     }</span>
<a href="#l12.10"></a><span id="l12.10">   },</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-  QueryInterface: function(iid) {</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-    if (!iid.equals(Ci.nsIUrlListener) &amp;&amp;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-        !iid.equals(Ci.nsIMsgCopyServiceListener) &amp;&amp;</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-        !iid.equals(Ci.nsIMsgOperationListener) &amp;&amp;</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-        !iid.equals(Ci.nsISupports))</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineminus">-    return this;</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineminus">-  }</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIUrlListener&quot;,</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineplus">+                                          &quot;nsIMsgCopyServiceListener&quot;,</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineplus">+                                          &quot;nsIMsgOperationListener&quot;]),</span>
<a href="#l12.23"></a><span id="l12.23"> }</span>
<a href="#l12.24"></a><span id="l12.24"> </span>
<a href="#l12.25"></a><span id="l12.25"> /**</span>
<a href="#l12.26"></a><span id="l12.26">  * Archives the selected messages</span>
<a href="#l12.27"></a><span id="l12.27">  *</span>
<a href="#l12.28"></a><span id="l12.28">  * @param event the event that caused us to call this function</span>
<a href="#l12.29"></a><span id="l12.29">  */</span>
<a href="#l12.30"></a><span id="l12.30"> function MsgArchiveSelectedMessages(event)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/base/content/search.xml</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/base/content/search.xml</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -108,22 +108,17 @@</span>
<a href="#l13.4"></a><span id="l13.4">                 Services.prefs.getBoolPref(</span>
<a href="#l13.5"></a><span id="l13.5">                   &quot;mailnews.database.global.indexer.enabled&quot;);</span>
<a href="#l13.6"></a><span id="l13.6">               this.inputSearch.collapsed = !this.inputSearch.glodaEnabled;</span>
<a href="#l13.7"></a><span id="l13.7">               break;</span>
<a href="#l13.8"></a><span id="l13.8">             }</span>
<a href="#l13.9"></a><span id="l13.9">           }</span>
<a href="#l13.10"></a><span id="l13.10">         },</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-        QueryInterface: function(aIID)</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-        {</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineminus">-          if (aIID.equals(Ci.nsIObserver) || aIID.equals(Ci.nsISupports))</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineminus">-            return this;</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineminus">-          throw Cr.NS_NOINTERFACE;</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineminus">-        }</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineplus">+        QueryInterface: ChromeUtils.generateQI([&quot;nsIObserver&quot;]),</span>
<a href="#l13.19"></a><span id="l13.19">         });</span>
<a href="#l13.20"></a><span id="l13.20">       &lt;/field&gt;</span>
<a href="#l13.21"></a><span id="l13.21">       &lt;field name=&quot;glodaCompleter&quot;&gt;null&lt;/field&gt;</span>
<a href="#l13.22"></a><span id="l13.22">       &lt;property name=&quot;menupopup&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l13.23"></a><span id="l13.23">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l13.24"></a><span id="l13.24">           return document.getAnonymousElementByAttribute(</span>
<a href="#l13.25"></a><span id="l13.25">                    this, 'anonid', 'quick-search-menupopup');</span>
<a href="#l13.26"></a><span id="l13.26">         ]]&gt;&lt;/getter&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/base/content/tabmail.xml</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/base/content/tabmail.xml</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1823,22 +1823,17 @@</span>
<a href="#l14.4"></a><span id="l14.4">               break;</span>
<a href="#l14.5"></a><span id="l14.5">             case &quot;mail.tabs.autoHide&quot;:</span>
<a href="#l14.6"></a><span id="l14.6">               this.tabbox.mAutoHide = subject.getBoolPref(&quot;mail.tabs.autoHide&quot;);</span>
<a href="#l14.7"></a><span id="l14.7">               break;</span>
<a href="#l14.8"></a><span id="l14.8">             }</span>
<a href="#l14.9"></a><span id="l14.9">           }</span>
<a href="#l14.10"></a><span id="l14.10">         },</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-        QueryInterface: function(aIID)</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-        {</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-          if (aIID.equals(Ci.nsIObserver) || aIID.equals(Ci.nsISupports))</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineminus">-            return this;</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineminus">-          throw Cr.NS_NOINTERFACE;</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineminus">-        }</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineplus">+        QueryInterface: ChromeUtils.generateQI([&quot;nsIObserver&quot;]),</span>
<a href="#l14.19"></a><span id="l14.19">         });</span>
<a href="#l14.20"></a><span id="l14.20">         ]]&gt;</span>
<a href="#l14.21"></a><span id="l14.21">       &lt;/field&gt;</span>
<a href="#l14.22"></a><span id="l14.22"> </span>
<a href="#l14.23"></a><span id="l14.23">       &lt;field name=&quot;_tabDropIndicator&quot;&gt;</span>
<a href="#l14.24"></a><span id="l14.24">         document.getAnonymousElementByAttribute(this, &quot;anonid&quot;,</span>
<a href="#l14.25"></a><span id="l14.25">                                                 &quot;tab-drop-indicator&quot;);</span>
<a href="#l14.26"></a><span id="l14.26">       &lt;/field&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/components/accountcreation/content/MyBadCertHandler.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/components/accountcreation/content/MyBadCertHandler.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -26,16 +26,11 @@ BadCertHandler.prototype =</span>
<a href="#l15.4"></a><span id="l15.4">   },</span>
<a href="#l15.5"></a><span id="l15.5"> </span>
<a href="#l15.6"></a><span id="l15.6">   // nsIInterfaceRequestor</span>
<a href="#l15.7"></a><span id="l15.7">   getInterface: function(iid) {</span>
<a href="#l15.8"></a><span id="l15.8">     return this.QueryInterface(iid);</span>
<a href="#l15.9"></a><span id="l15.9">   },</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11">   // nsISupports</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-  QueryInterface: function(iid) {</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-    if (!iid.equals(Ci.nsIBadCertListener2) &amp;&amp;</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineminus">-        !iid.equals(Ci.nsIInterfaceRequestor) &amp;&amp;</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">-        !iid.equals(Ci.nsISupports))</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-    return this;</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-  }</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIBadCertListener2&quot;,</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineplus">+                                          &quot;nsIInterfaceRequestor&quot;]),</span>
<a href="#l15.21"></a><span id="l15.21"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/components/accountcreation/content/verifyConfig.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/components/accountcreation/content/verifyConfig.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -330,18 +330,12 @@ urlListener.prototype =</span>
<a href="#l16.4"></a><span id="l16.4">   },</span>
<a href="#l16.5"></a><span id="l16.5"> </span>
<a href="#l16.6"></a><span id="l16.6">   // nsIInterfaceRequestor</span>
<a href="#l16.7"></a><span id="l16.7">   getInterface: function(iid) {</span>
<a href="#l16.8"></a><span id="l16.8">     return this.QueryInterface(iid);</span>
<a href="#l16.9"></a><span id="l16.9">   },</span>
<a href="#l16.10"></a><span id="l16.10"> </span>
<a href="#l16.11"></a><span id="l16.11">   // nsISupports</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-  QueryInterface: function(iid) {</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-    if (!iid.equals(Ci.nsIBadCertListener2) &amp;&amp;</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineminus">-        !iid.equals(Ci.nsIInterfaceRequestor) &amp;&amp;</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineminus">-        !iid.equals(Ci.nsIUrlListener) &amp;&amp;</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineminus">-        !iid.equals(Ci.nsISupports))</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineminus">-</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineminus">-    return this;</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineminus">-  }</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIBadCertListener2&quot;,</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineplus">+                                          &quot;nsIInterfaceRequestor&quot;,</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+                                          &quot;nsIUrlListener&quot;]),</span>
<a href="#l16.24"></a><span id="l16.24"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -627,25 +627,18 @@ var progressListener = {</span>
<a href="#l17.4"></a><span id="l17.4">       } catch (ex) {}</span>
<a href="#l17.5"></a><span id="l17.5">     },</span>
<a href="#l17.6"></a><span id="l17.6"> </span>
<a href="#l17.7"></a><span id="l17.7">     onSecurityChange: function(aWebProgress, aRequest, state)</span>
<a href="#l17.8"></a><span id="l17.8">     {</span>
<a href="#l17.9"></a><span id="l17.9">       // we can ignore this notification</span>
<a href="#l17.10"></a><span id="l17.10">     },</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-    QueryInterface : function(iid)</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-    {</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-      if (iid.equals(Ci.nsIWebProgressListener) ||</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineminus">-          iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineminus">-          iid.equals(Ci.nsISupports))</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineminus">-        return this;</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineminus">-</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineminus">-      throw Cr.NS_NOINTERFACE;</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineminus">-    }</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineplus">+    QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineplus">+                                            &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l17.23"></a><span id="l17.23"> };</span>
<a href="#l17.24"></a><span id="l17.24"> </span>
<a href="#l17.25"></a><span id="l17.25"> var defaultController = {</span>
<a href="#l17.26"></a><span id="l17.26">   commands: {</span>
<a href="#l17.27"></a><span id="l17.27">     cmd_attachFile: {</span>
<a href="#l17.28"></a><span id="l17.28">       isEnabled: function() {</span>
<a href="#l17.29"></a><span id="l17.29">         return !gWindowLocked;</span>
<a href="#l17.30"></a><span id="l17.30">       },</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineat">@@ -1689,18 +1682,18 @@ uploadListener.prototype = {</span>
<a href="#l17.32"></a><span id="l17.32">         attachmentItem.dispatchEvent(event);</span>
<a href="#l17.33"></a><span id="l17.33">       }</span>
<a href="#l17.34"></a><span id="l17.34">     }</span>
<a href="#l17.35"></a><span id="l17.35"> </span>
<a href="#l17.36"></a><span id="l17.36">     gNumUploadingAttachments--;</span>
<a href="#l17.37"></a><span id="l17.37">     updateSendCommands(true);</span>
<a href="#l17.38"></a><span id="l17.38">   },</span>
<a href="#l17.39"></a><span id="l17.39"> </span>
<a href="#l17.40"></a><span id="l17.40" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsIRequestObserver,</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineminus">-                                         Ci.nsISupportsWeakReference])</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIRequestObserver&quot;,</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;])</span>
<a href="#l17.44"></a><span id="l17.44"> };</span>
<a href="#l17.45"></a><span id="l17.45"> </span>
<a href="#l17.46"></a><span id="l17.46"> function deletionListener(aAttachment, aCloudProvider)</span>
<a href="#l17.47"></a><span id="l17.47"> {</span>
<a href="#l17.48"></a><span id="l17.48">   this.attachment = aAttachment;</span>
<a href="#l17.49"></a><span id="l17.49">   this.cloudProvider = aCloudProvider;</span>
<a href="#l17.50"></a><span id="l17.50"> }</span>
<a href="#l17.51"></a><span id="l17.51"> </span>
<a href="#l17.52"></a><span id="l17.52" class="difflineat">@@ -1715,18 +1708,18 @@ deletionListener.prototype = {</span>
<a href="#l17.53"></a><span id="l17.53">       Services.prompt.alert(window,</span>
<a href="#l17.54"></a><span id="l17.54">         getComposeBundle().getString(&quot;errorCloudFileDeletion.title&quot;),</span>
<a href="#l17.55"></a><span id="l17.55">         getComposeBundle().getFormattedString(&quot;errorCloudFileDeletion.message&quot;,</span>
<a href="#l17.56"></a><span id="l17.56">                                               [displayName,</span>
<a href="#l17.57"></a><span id="l17.57">                                                this.attachment.name]));</span>
<a href="#l17.58"></a><span id="l17.58">     }</span>
<a href="#l17.59"></a><span id="l17.59">   },</span>
<a href="#l17.60"></a><span id="l17.60"> </span>
<a href="#l17.61"></a><span id="l17.61" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsIRequestObserver,</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineminus">-                                         Ci.nsISupportsWeakReference])</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIRequestObserver&quot;,</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;])</span>
<a href="#l17.65"></a><span id="l17.65"> };</span>
<a href="#l17.66"></a><span id="l17.66"> </span>
<a href="#l17.67"></a><span id="l17.67"> /**</span>
<a href="#l17.68"></a><span id="l17.68">  * Prompt the user for a list of files to attach via a cloud provider.</span>
<a href="#l17.69"></a><span id="l17.69">  *</span>
<a href="#l17.70"></a><span id="l17.70">  * @param aProvider the cloud provider to upload the files to</span>
<a href="#l17.71"></a><span id="l17.71">  */</span>
<a href="#l17.72"></a><span id="l17.72"> function attachToCloud(aProvider)</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineat">@@ -5508,24 +5501,18 @@ function OpenSelectedAttachment()</span>
<a href="#l17.74"></a><span id="l17.74"> }</span>
<a href="#l17.75"></a><span id="l17.75"> </span>
<a href="#l17.76"></a><span id="l17.76"> function nsAttachmentOpener()</span>
<a href="#l17.77"></a><span id="l17.77"> {</span>
<a href="#l17.78"></a><span id="l17.78"> }</span>
<a href="#l17.79"></a><span id="l17.79"> </span>
<a href="#l17.80"></a><span id="l17.80"> nsAttachmentOpener.prototype =</span>
<a href="#l17.81"></a><span id="l17.81"> {</span>
<a href="#l17.82"></a><span id="l17.82" class="difflineminus">-  QueryInterface: function(iid)</span>
<a href="#l17.83"></a><span id="l17.83" class="difflineminus">-  {</span>
<a href="#l17.84"></a><span id="l17.84" class="difflineminus">-    if (iid.equals(Ci.nsIURIContentListener) ||</span>
<a href="#l17.85"></a><span id="l17.85" class="difflineminus">-        iid.equals(Ci.nsIInterfaceRequestor) ||</span>
<a href="#l17.86"></a><span id="l17.86" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l17.87"></a><span id="l17.87" class="difflineminus">-        return this;</span>
<a href="#l17.88"></a><span id="l17.88" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l17.89"></a><span id="l17.89" class="difflineminus">-  },</span>
<a href="#l17.90"></a><span id="l17.90" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIURIContentListener&quot;,</span>
<a href="#l17.91"></a><span id="l17.91" class="difflineplus">+                                          &quot;nsIInterfaceRequestor&quot;]),</span>
<a href="#l17.92"></a><span id="l17.92"> </span>
<a href="#l17.93"></a><span id="l17.93">   onStartURIOpen: function(uri)</span>
<a href="#l17.94"></a><span id="l17.94">   {</span>
<a href="#l17.95"></a><span id="l17.95">     return false;</span>
<a href="#l17.96"></a><span id="l17.96">   },</span>
<a href="#l17.97"></a><span id="l17.97"> </span>
<a href="#l17.98"></a><span id="l17.98">   doContent: function(contentType, isContentPreferred, request, contentHandler)</span>
<a href="#l17.99"></a><span id="l17.99">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/components/compose/content/addressingWidgetOverlay.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/components/compose/content/addressingWidgetOverlay.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -1194,23 +1194,17 @@ AutomatedAutoCompleteHandler.prototype =</span>
<a href="#l18.4"></a><span id="l18.4"> </span>
<a href="#l18.5"></a><span id="l18.5">   finish: function()</span>
<a href="#l18.6"></a><span id="l18.6">   {</span>
<a href="#l18.7"></a><span id="l18.7">     // This will now append all the recipients, set the focus on a new</span>
<a href="#l18.8"></a><span id="l18.8">     // available row, and make sure it is visible.</span>
<a href="#l18.9"></a><span id="l18.9">     awAddRecipientsArray(this.recipientType, this.finalAddresses);</span>
<a href="#l18.10"></a><span id="l18.10">   },</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-  QueryInterface : function(iid)</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineminus">-  {</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineminus">-      if (iid.equals(Ci.nsIAutoCompleteListener) ||</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineminus">-          iid.equals(Ci.nsISupports))</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineminus">-        return this;</span>
<a href="#l18.17"></a><span id="l18.17" class="difflineminus">-      throw Cr.NS_NOINTERFACE;</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineminus">-  }</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIAutoCompleteListener&quot;]),</span>
<a href="#l18.20"></a><span id="l18.20"> }</span>
<a href="#l18.21"></a><span id="l18.21"> </span>
<a href="#l18.22"></a><span id="l18.22"> // Returns the load context for the current window</span>
<a href="#l18.23"></a><span id="l18.23"> function getLoadContext() {</span>
<a href="#l18.24"></a><span id="l18.24">   return window.QueryInterface(Ci.nsIInterfaceRequestor)</span>
<a href="#l18.25"></a><span id="l18.25">                .getInterface(Ci.nsIWebNavigation)</span>
<a href="#l18.26"></a><span id="l18.26">                .QueryInterface(Ci.nsILoadContext);</span>
<a href="#l18.27"></a><span id="l18.27"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/components/preferences/applications.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/components/preferences/applications.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -799,18 +799,18 @@ var gCloudFileTab = {</span>
<a href="#l19.4"></a><span id="l19.4">     return isNaN(intValue) ? 0 : intValue * 1024;</span>
<a href="#l19.5"></a><span id="l19.5">   },</span>
<a href="#l19.6"></a><span id="l19.6"> </span>
<a href="#l19.7"></a><span id="l19.7">   updateThreshold: function CFT_updateThreshold() {</span>
<a href="#l19.8"></a><span id="l19.8">     document.getElementById(&quot;cloudFileThreshold&quot;).disabled =</span>
<a href="#l19.9"></a><span id="l19.9">     !document.getElementById(&quot;enableThreshold&quot;).checked;</span>
<a href="#l19.10"></a><span id="l19.10">   },</span>
<a href="#l19.11"></a><span id="l19.11"> </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsIObserver,</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-                                         Ci.nsISupportsWeakReference])</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIObserver&quot;,</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;])</span>
<a href="#l19.16"></a><span id="l19.16"> }</span>
<a href="#l19.17"></a><span id="l19.17"> </span>
<a href="#l19.18"></a><span id="l19.18"> //****************************************************************************//</span>
<a href="#l19.19"></a><span id="l19.19"> // Prefpane Controller</span>
<a href="#l19.20"></a><span id="l19.20"> </span>
<a href="#l19.21"></a><span id="l19.21"> var gApplicationsPane = {</span>
<a href="#l19.22"></a><span id="l19.22">   // The set of types the app knows how to handle.  A hash of HandlerInfoWrapper</span>
<a href="#l19.23"></a><span id="l19.23">   // objects, indexed by type.</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineat">@@ -906,24 +906,17 @@ var gApplicationsPane = {</span>
<a href="#l19.25"></a><span id="l19.25">     Services.prefs.removeObserver(PREF_SHOW_PLUGINS_IN_LIST, this);</span>
<a href="#l19.26"></a><span id="l19.26">     Services.prefs.removeObserver(PREF_HIDE_PLUGINS_WITHOUT_EXTENSIONS, this);</span>
<a href="#l19.27"></a><span id="l19.27">   },</span>
<a href="#l19.28"></a><span id="l19.28"> </span>
<a href="#l19.29"></a><span id="l19.29"> </span>
<a href="#l19.30"></a><span id="l19.30">   //**************************************************************************//</span>
<a href="#l19.31"></a><span id="l19.31">   // nsISupports</span>
<a href="#l19.32"></a><span id="l19.32"> </span>
<a href="#l19.33"></a><span id="l19.33" class="difflineminus">-  QueryInterface: function(aIID) {</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineminus">-    if (aIID.equals(Ci.nsIObserver) ||</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineminus">-        aIID.equals(Ci.nsISupports))</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineminus">-      return this;</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineminus">-</span>
<a href="#l19.38"></a><span id="l19.38" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineminus">-  },</span>
<a href="#l19.40"></a><span id="l19.40" class="difflineminus">-</span>
<a href="#l19.41"></a><span id="l19.41" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIObserver&quot;]),</span>
<a href="#l19.42"></a><span id="l19.42"> </span>
<a href="#l19.43"></a><span id="l19.43">   //**************************************************************************//</span>
<a href="#l19.44"></a><span id="l19.44">   // nsIObserver</span>
<a href="#l19.45"></a><span id="l19.45"> </span>
<a href="#l19.46"></a><span id="l19.46">   observe: function (aSubject, aTopic, aData) {</span>
<a href="#l19.47"></a><span id="l19.47">     // Rebuild the list when there are changes to preferences that influence</span>
<a href="#l19.48"></a><span id="l19.48">     // whether or not to show certain entries in the list.</span>
<a href="#l19.49"></a><span id="l19.49">     if (aTopic == &quot;nsPref:changed&quot; &amp;&amp; !this._storingAction) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mail/components/search/searchCommon.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mail/components/search/searchCommon.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -786,22 +786,17 @@ var SearchSupport =</span>
<a href="#l20.4"></a><span id="l20.4">     },</span>
<a href="#l20.5"></a><span id="l20.5"> </span>
<a href="#l20.6"></a><span id="l20.6">     /// Reference to message header</span>
<a href="#l20.7"></a><span id="l20.7">     _msgHdr: null,</span>
<a href="#l20.8"></a><span id="l20.8"> </span>
<a href="#l20.9"></a><span id="l20.9">     /// Reindex time for this message header</span>
<a href="#l20.10"></a><span id="l20.10">     _reindexTime: null,</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-    QueryInterface: function(aIId, instance) {</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-      if (aIId.equals(Ci.nsIStreamListener) || aIId.equals(Ci.nsISupports))</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineminus">-        return this;</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineminus">-</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineminus">-    },</span>
<a href="#l20.18"></a><span id="l20.18" class="difflineplus">+    QueryInterface: ChromeUtils.generateQI([&quot;nsIStreamListener&quot;]),</span>
<a href="#l20.19"></a><span id="l20.19"> </span>
<a href="#l20.20"></a><span id="l20.20">     /// &quot;Finish&quot; function, cleans up behind itself if unsuccessful</span>
<a href="#l20.21"></a><span id="l20.21">     _onDoneStreaming: function search_on_done_streaming(successful)</span>
<a href="#l20.22"></a><span id="l20.22">     {</span>
<a href="#l20.23"></a><span id="l20.23">       this._outputStream = null;</span>
<a href="#l20.24"></a><span id="l20.24">       if (!successful &amp;&amp; this._msgHdr)</span>
<a href="#l20.25"></a><span id="l20.25">       {</span>
<a href="#l20.26"></a><span id="l20.26">         let file = SearchIntegration._getSupportFile(this._msgHdr);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mail/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -156,22 +156,17 @@ var smimeHeaderSink =</span>
<a href="#l21.4"></a><span id="l21.4">        &quot;&lt;center&gt;&lt;strong&gt;&lt;font size=\&quot;+3\&quot;&gt;\n&quot;+</span>
<a href="#l21.5"></a><span id="l21.5">        title+&quot;&lt;/font&gt;&lt;/center&gt;&lt;br&gt;\n&quot;+</span>
<a href="#l21.6"></a><span id="l21.6">        body+&quot;\n&quot;+</span>
<a href="#l21.7"></a><span id="l21.7">        &quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;&quot;, false);</span>
<a href="#l21.8"></a><span id="l21.8">       break;</span>
<a href="#l21.9"></a><span id="l21.9">     }</span>
<a href="#l21.10"></a><span id="l21.10">   },</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-  QueryInterface : function(iid)</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineminus">-  {</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineminus">-    if (iid.equals(Ci.nsIMsgSMIMEHeaderSink) || iid.equals(Ci.nsISupports))</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineminus">-      return this;</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l21.17"></a><span id="l21.17" class="difflineminus">-  }</span>
<a href="#l21.18"></a><span id="l21.18" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIMsgSMIMEHeaderSink&quot;]),</span>
<a href="#l21.19"></a><span id="l21.19"> };</span>
<a href="#l21.20"></a><span id="l21.20"> </span>
<a href="#l21.21"></a><span id="l21.21"> function forgetEncryptedURI()</span>
<a href="#l21.22"></a><span id="l21.22"> {</span>
<a href="#l21.23"></a><span id="l21.23">   if (gMyLastEncryptedURI &amp;&amp; gEncryptedURIService)</span>
<a href="#l21.24"></a><span id="l21.24">   {</span>
<a href="#l21.25"></a><span id="l21.25">     gEncryptedURIService.forgetEncrypted(gMyLastEncryptedURI);</span>
<a href="#l21.26"></a><span id="l21.26">     gEncryptedURIService.forgetEncrypted(</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mail/test/resources/jsbridge/jsbridge/extension/components/cmdarg.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -53,25 +53,18 @@ function jsbridgeHandler() {</span>
<a href="#l22.4"></a><span id="l22.4"> }</span>
<a href="#l22.5"></a><span id="l22.5"> jsbridgeHandler.prototype = {</span>
<a href="#l22.6"></a><span id="l22.6">   classID: clh_CID,</span>
<a href="#l22.7"></a><span id="l22.7">   contractID: clh_contractID,</span>
<a href="#l22.8"></a><span id="l22.8">   classDescription: &quot;jsbridgeHandler&quot;,</span>
<a href="#l22.9"></a><span id="l22.9">   _xpcom_categories: [{category: &quot;command-line-handler&quot;, entry: clh_category}],</span>
<a href="#l22.10"></a><span id="l22.10"> </span>
<a href="#l22.11"></a><span id="l22.11">   /* nsISupports */</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-  QueryInterface : function clh_QI(iid)</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineminus">-  {</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineminus">-    if (iid.equals(nsICommandLineHandler) ||</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineminus">-        iid.equals(nsIFactory) ||</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineminus">-        iid.equals(nsISupports))</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineminus">-      return this;</span>
<a href="#l22.18"></a><span id="l22.18" class="difflineminus">-</span>
<a href="#l22.19"></a><span id="l22.19" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l22.20"></a><span id="l22.20" class="difflineminus">-  },</span>
<a href="#l22.21"></a><span id="l22.21" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsICommandLineHandler&quot;,</span>
<a href="#l22.22"></a><span id="l22.22" class="difflineplus">+                                          &quot;nsIFactory&quot;]),</span>
<a href="#l22.23"></a><span id="l22.23"> </span>
<a href="#l22.24"></a><span id="l22.24">   /* nsICommandLineHandler */</span>
<a href="#l22.25"></a><span id="l22.25"> </span>
<a href="#l22.26"></a><span id="l22.26">   handle : function clh_handle(cmdLine)</span>
<a href="#l22.27"></a><span id="l22.27">   {</span>
<a href="#l22.28"></a><span id="l22.28">     try {</span>
<a href="#l22.29"></a><span id="l22.29">       var port = cmdLine.handleFlagWithParam(&quot;jsbridge&quot;, false);</span>
<a href="#l22.30"></a><span id="l22.30">       if (port) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/content/stdlib/httpd.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -692,25 +692,18 @@ nsHttpServer.prototype =</span>
<a href="#l23.4"></a><span id="l23.4">   },</span>
<a href="#l23.5"></a><span id="l23.5"> </span>
<a href="#l23.6"></a><span id="l23.6"> </span>
<a href="#l23.7"></a><span id="l23.7">   // NSISUPPORTS</span>
<a href="#l23.8"></a><span id="l23.8"> </span>
<a href="#l23.9"></a><span id="l23.9">   //</span>
<a href="#l23.10"></a><span id="l23.10">   // see nsISupports.QueryInterface</span>
<a href="#l23.11"></a><span id="l23.11">   //</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-  QueryInterface: function(iid)</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineminus">-  {</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineminus">-    if (iid.equals(Ci.nsIHttpServer) ||</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineminus">-        iid.equals(Ci.nsIServerSocketListener) ||</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineminus">-      return this;</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineminus">-</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineminus">-  },</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIHttpServer&quot;,</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineplus">+                                          &quot;nsIServerSocketListener&quot;]),</span>
<a href="#l23.23"></a><span id="l23.23"> </span>
<a href="#l23.24"></a><span id="l23.24"> </span>
<a href="#l23.25"></a><span id="l23.25">   // NON-XPCOM PUBLIC API</span>
<a href="#l23.26"></a><span id="l23.26"> </span>
<a href="#l23.27"></a><span id="l23.27">   /**</span>
<a href="#l23.28"></a><span id="l23.28">    * Returns true iff this server is not running (and is not in the process of</span>
<a href="#l23.29"></a><span id="l23.29">    * serving any requests still to be processed when the server was last</span>
<a href="#l23.30"></a><span id="l23.30">    * stopped after being run).</span>
<a href="#l23.31"></a><span id="l23.31" class="difflineat">@@ -985,23 +978,17 @@ ServerIdentity.prototype =</span>
<a href="#l23.32"></a><span id="l23.32">   },</span>
<a href="#l23.33"></a><span id="l23.33"> </span>
<a href="#l23.34"></a><span id="l23.34"> </span>
<a href="#l23.35"></a><span id="l23.35">   // NSISUPPORTS</span>
<a href="#l23.36"></a><span id="l23.36"> </span>
<a href="#l23.37"></a><span id="l23.37">   //</span>
<a href="#l23.38"></a><span id="l23.38">   // see nsISupports.QueryInterface</span>
<a href="#l23.39"></a><span id="l23.39">   //</span>
<a href="#l23.40"></a><span id="l23.40" class="difflineminus">-  QueryInterface: function(iid)</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineminus">-  {</span>
<a href="#l23.42"></a><span id="l23.42" class="difflineminus">-    if (iid.equals(Ci.nsIHttpServerIdentity) || iid.equals(Ci.nsISupports))</span>
<a href="#l23.43"></a><span id="l23.43" class="difflineminus">-      return this;</span>
<a href="#l23.44"></a><span id="l23.44" class="difflineminus">-</span>
<a href="#l23.45"></a><span id="l23.45" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.46"></a><span id="l23.46" class="difflineminus">-  },</span>
<a href="#l23.47"></a><span id="l23.47" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIHttpServerIdentity&quot;]),</span>
<a href="#l23.48"></a><span id="l23.48"> </span>
<a href="#l23.49"></a><span id="l23.49"> </span>
<a href="#l23.50"></a><span id="l23.50">   // PRIVATE IMPLEMENTATION</span>
<a href="#l23.51"></a><span id="l23.51"> </span>
<a href="#l23.52"></a><span id="l23.52">   /**</span>
<a href="#l23.53"></a><span id="l23.53">    * Initializes the primary name for the corresponding server, based on the</span>
<a href="#l23.54"></a><span id="l23.54">    * provided port number.</span>
<a href="#l23.55"></a><span id="l23.55">    */</span>
<a href="#l23.56"></a><span id="l23.56" class="difflineat">@@ -1333,24 +1320,17 @@ RequestReader.prototype =</span>
<a href="#l23.57"></a><span id="l23.57"> </span>
<a href="#l23.58"></a><span id="l23.58">     if (this._state != READER_FINISHED)</span>
<a href="#l23.59"></a><span id="l23.59">       input.asyncWait(this, 0, 0, gThreadManager.currentThread);</span>
<a href="#l23.60"></a><span id="l23.60">   },</span>
<a href="#l23.61"></a><span id="l23.61"> </span>
<a href="#l23.62"></a><span id="l23.62">   //</span>
<a href="#l23.63"></a><span id="l23.63">   // see nsISupports.QueryInterface</span>
<a href="#l23.64"></a><span id="l23.64">   //</span>
<a href="#l23.65"></a><span id="l23.65" class="difflineminus">-  QueryInterface: function(aIID)</span>
<a href="#l23.66"></a><span id="l23.66" class="difflineminus">-  {</span>
<a href="#l23.67"></a><span id="l23.67" class="difflineminus">-    if (aIID.equals(Ci.nsIInputStreamCallback) ||</span>
<a href="#l23.68"></a><span id="l23.68" class="difflineminus">-        aIID.equals(Ci.nsISupports))</span>
<a href="#l23.69"></a><span id="l23.69" class="difflineminus">-      return this;</span>
<a href="#l23.70"></a><span id="l23.70" class="difflineminus">-</span>
<a href="#l23.71"></a><span id="l23.71" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.72"></a><span id="l23.72" class="difflineminus">-  },</span>
<a href="#l23.73"></a><span id="l23.73" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIInputStreamCallback&quot;]),</span>
<a href="#l23.74"></a><span id="l23.74"> </span>
<a href="#l23.75"></a><span id="l23.75"> </span>
<a href="#l23.76"></a><span id="l23.76">   // PRIVATE API</span>
<a href="#l23.77"></a><span id="l23.77"> </span>
<a href="#l23.78"></a><span id="l23.78">   /**</span>
<a href="#l23.79"></a><span id="l23.79">    * Processes unprocessed, downloaded data as a request line.</span>
<a href="#l23.80"></a><span id="l23.80">    *</span>
<a href="#l23.81"></a><span id="l23.81">    * @returns boolean</span>
<a href="#l23.82"></a><span id="l23.82" class="difflineat">@@ -3721,23 +3701,17 @@ Response.prototype =</span>
<a href="#l23.83"></a><span id="l23.83">   },</span>
<a href="#l23.84"></a><span id="l23.84"> </span>
<a href="#l23.85"></a><span id="l23.85"> </span>
<a href="#l23.86"></a><span id="l23.86">   // NSISUPPORTS</span>
<a href="#l23.87"></a><span id="l23.87"> </span>
<a href="#l23.88"></a><span id="l23.88">   //</span>
<a href="#l23.89"></a><span id="l23.89">   // see nsISupports.QueryInterface</span>
<a href="#l23.90"></a><span id="l23.90">   //</span>
<a href="#l23.91"></a><span id="l23.91" class="difflineminus">-  QueryInterface: function(iid)</span>
<a href="#l23.92"></a><span id="l23.92" class="difflineminus">-  {</span>
<a href="#l23.93"></a><span id="l23.93" class="difflineminus">-    if (iid.equals(Ci.nsIHttpResponse) || iid.equals(Ci.nsISupports))</span>
<a href="#l23.94"></a><span id="l23.94" class="difflineminus">-      return this;</span>
<a href="#l23.95"></a><span id="l23.95" class="difflineminus">-</span>
<a href="#l23.96"></a><span id="l23.96" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.97"></a><span id="l23.97" class="difflineminus">-  },</span>
<a href="#l23.98"></a><span id="l23.98" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIHttpResponse&quot;]),</span>
<a href="#l23.99"></a><span id="l23.99"> </span>
<a href="#l23.100"></a><span id="l23.100"> </span>
<a href="#l23.101"></a><span id="l23.101">   // POST-CONSTRUCTION API (not exposed externally)</span>
<a href="#l23.102"></a><span id="l23.102"> </span>
<a href="#l23.103"></a><span id="l23.103">   /**</span>
<a href="#l23.104"></a><span id="l23.104">    * The HTTP version number of this, as a string (e.g. &quot;1.1&quot;).</span>
<a href="#l23.105"></a><span id="l23.105">    */</span>
<a href="#l23.106"></a><span id="l23.106">   get httpVersion()</span>
<a href="#l23.107"></a><span id="l23.107" class="difflineat">@@ -4018,23 +3992,17 @@ Response.prototype =</span>
<a href="#l23.108"></a><span id="l23.108">             response.end();</span>
<a href="#l23.109"></a><span id="l23.109">           }</span>
<a href="#l23.110"></a><span id="l23.110">           else</span>
<a href="#l23.111"></a><span id="l23.111">           {</span>
<a href="#l23.112"></a><span id="l23.112">             response._sendBody();</span>
<a href="#l23.113"></a><span id="l23.113">           }</span>
<a href="#l23.114"></a><span id="l23.114">         },</span>
<a href="#l23.115"></a><span id="l23.115"> </span>
<a href="#l23.116"></a><span id="l23.116" class="difflineminus">-        QueryInterface: function(aIID)</span>
<a href="#l23.117"></a><span id="l23.117" class="difflineminus">-        {</span>
<a href="#l23.118"></a><span id="l23.118" class="difflineminus">-          if (aIID.equals(Ci.nsIRequestObserver) || aIID.equals(Ci.nsISupports))</span>
<a href="#l23.119"></a><span id="l23.119" class="difflineminus">-            return this;</span>
<a href="#l23.120"></a><span id="l23.120" class="difflineminus">-</span>
<a href="#l23.121"></a><span id="l23.121" class="difflineminus">-          throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.122"></a><span id="l23.122" class="difflineminus">-        }</span>
<a href="#l23.123"></a><span id="l23.123" class="difflineplus">+        QueryInterface: ChromeUtils.generateQI([&quot;nsIRequestObserver&quot;]),</span>
<a href="#l23.124"></a><span id="l23.124">       };</span>
<a href="#l23.125"></a><span id="l23.125"> </span>
<a href="#l23.126"></a><span id="l23.126">     var headerCopier = this._asyncCopier =</span>
<a href="#l23.127"></a><span id="l23.127">       new WriteThroughCopier(responseHeadPipe.inputStream,</span>
<a href="#l23.128"></a><span id="l23.128">                              this._connection.output,</span>
<a href="#l23.129"></a><span id="l23.129">                              copyObserver, null);</span>
<a href="#l23.130"></a><span id="l23.130"> </span>
<a href="#l23.131"></a><span id="l23.131">     responseHeadPipe.outputStream.close();</span>
<a href="#l23.132"></a><span id="l23.132" class="difflineat">@@ -4081,23 +4049,17 @@ Response.prototype =</span>
<a href="#l23.133"></a><span id="l23.133">           {</span>
<a href="#l23.134"></a><span id="l23.134">             if (!Components.isSuccessCode(statusCode))</span>
<a href="#l23.135"></a><span id="l23.135">               dumpn(&quot;*** WARNING: non-success statusCode in onStopRequest&quot;);</span>
<a href="#l23.136"></a><span id="l23.136"> </span>
<a href="#l23.137"></a><span id="l23.137">             response.end();</span>
<a href="#l23.138"></a><span id="l23.138">           }</span>
<a href="#l23.139"></a><span id="l23.139">         },</span>
<a href="#l23.140"></a><span id="l23.140"> </span>
<a href="#l23.141"></a><span id="l23.141" class="difflineminus">-        QueryInterface: function(aIID)</span>
<a href="#l23.142"></a><span id="l23.142" class="difflineminus">-        {</span>
<a href="#l23.143"></a><span id="l23.143" class="difflineminus">-          if (aIID.equals(Ci.nsIRequestObserver) || aIID.equals(Ci.nsISupports))</span>
<a href="#l23.144"></a><span id="l23.144" class="difflineminus">-            return this;</span>
<a href="#l23.145"></a><span id="l23.145" class="difflineminus">-</span>
<a href="#l23.146"></a><span id="l23.146" class="difflineminus">-          throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.147"></a><span id="l23.147" class="difflineminus">-        }</span>
<a href="#l23.148"></a><span id="l23.148" class="difflineplus">+        QueryInterface: ChromeUtils.generateQI([&quot;nsIRequestObserver&quot;]),</span>
<a href="#l23.149"></a><span id="l23.149">       };</span>
<a href="#l23.150"></a><span id="l23.150"> </span>
<a href="#l23.151"></a><span id="l23.151">     dumpn(&quot;*** starting async copier of body data...&quot;);</span>
<a href="#l23.152"></a><span id="l23.152">     this._asyncCopier =</span>
<a href="#l23.153"></a><span id="l23.153">       new WriteThroughCopier(this._bodyInputStream, this._connection.output,</span>
<a href="#l23.154"></a><span id="l23.154">                             copyObserver, null);</span>
<a href="#l23.155"></a><span id="l23.155">   },</span>
<a href="#l23.156"></a><span id="l23.156"> </span>
<a href="#l23.157"></a><span id="l23.157" class="difflineat">@@ -4205,28 +4167,19 @@ function WriteThroughCopier(source, sink</span>
<a href="#l23.158"></a><span id="l23.158">     dumpn(e.stack);</span>
<a href="#l23.159"></a><span id="l23.159">     this.cancel(Cr.NS_ERROR_UNEXPECTED);</span>
<a href="#l23.160"></a><span id="l23.160">   }</span>
<a href="#l23.161"></a><span id="l23.161"> }</span>
<a href="#l23.162"></a><span id="l23.162"> WriteThroughCopier.prototype =</span>
<a href="#l23.163"></a><span id="l23.163"> {</span>
<a href="#l23.164"></a><span id="l23.164">   /* nsISupports implementation */</span>
<a href="#l23.165"></a><span id="l23.165"> </span>
<a href="#l23.166"></a><span id="l23.166" class="difflineminus">-  QueryInterface: function(iid)</span>
<a href="#l23.167"></a><span id="l23.167" class="difflineminus">-  {</span>
<a href="#l23.168"></a><span id="l23.168" class="difflineminus">-    if (iid.equals(Ci.nsIInputStreamCallback) ||</span>
<a href="#l23.169"></a><span id="l23.169" class="difflineminus">-        iid.equals(Ci.nsIOutputStreamCallback) ||</span>
<a href="#l23.170"></a><span id="l23.170" class="difflineminus">-        iid.equals(Ci.nsIRequest) ||</span>
<a href="#l23.171"></a><span id="l23.171" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l23.172"></a><span id="l23.172" class="difflineminus">-    {</span>
<a href="#l23.173"></a><span id="l23.173" class="difflineminus">-      return this;</span>
<a href="#l23.174"></a><span id="l23.174" class="difflineminus">-    }</span>
<a href="#l23.175"></a><span id="l23.175" class="difflineminus">-</span>
<a href="#l23.176"></a><span id="l23.176" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.177"></a><span id="l23.177" class="difflineminus">-  },</span>
<a href="#l23.178"></a><span id="l23.178" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIInputStreamCallback&quot;,</span>
<a href="#l23.179"></a><span id="l23.179" class="difflineplus">+                                          &quot;nsIOutputStreamCallback&quot;,</span>
<a href="#l23.180"></a><span id="l23.180" class="difflineplus">+                                          &quot;nsIRequest&quot;]),</span>
<a href="#l23.181"></a><span id="l23.181"> </span>
<a href="#l23.182"></a><span id="l23.182"> </span>
<a href="#l23.183"></a><span id="l23.183">   // NSIINPUTSTREAMCALLBACK</span>
<a href="#l23.184"></a><span id="l23.184"> </span>
<a href="#l23.185"></a><span id="l23.185">   /**</span>
<a href="#l23.186"></a><span id="l23.186">    * Receives a more-data-in-input notification and writes the corresponding</span>
<a href="#l23.187"></a><span id="l23.187">    * data to the output.</span>
<a href="#l23.188"></a><span id="l23.188">    *</span>
<a href="#l23.189"></a><span id="l23.189" class="difflineat">@@ -5025,24 +4978,17 @@ nsSimpleEnumerator.prototype =</span>
<a href="#l23.190"></a><span id="l23.190">   },</span>
<a href="#l23.191"></a><span id="l23.191">   getNext: function()</span>
<a href="#l23.192"></a><span id="l23.192">   {</span>
<a href="#l23.193"></a><span id="l23.193">     if (!this.hasMoreElements())</span>
<a href="#l23.194"></a><span id="l23.194">       throw Cr.NS_ERROR_NOT_AVAILABLE;</span>
<a href="#l23.195"></a><span id="l23.195"> </span>
<a href="#l23.196"></a><span id="l23.196">     return this._items[this._nextIndex++];</span>
<a href="#l23.197"></a><span id="l23.197">   },</span>
<a href="#l23.198"></a><span id="l23.198" class="difflineminus">-  QueryInterface: function(aIID)</span>
<a href="#l23.199"></a><span id="l23.199" class="difflineminus">-  {</span>
<a href="#l23.200"></a><span id="l23.200" class="difflineminus">-    if (Ci.nsISimpleEnumerator.equals(aIID) ||</span>
<a href="#l23.201"></a><span id="l23.201" class="difflineminus">-        Ci.nsISupports.equals(aIID))</span>
<a href="#l23.202"></a><span id="l23.202" class="difflineminus">-      return this;</span>
<a href="#l23.203"></a><span id="l23.203" class="difflineminus">-</span>
<a href="#l23.204"></a><span id="l23.204" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.205"></a><span id="l23.205" class="difflineminus">-  }</span>
<a href="#l23.206"></a><span id="l23.206" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsISimpleEnumerator&quot;]),</span>
<a href="#l23.207"></a><span id="l23.207"> };</span>
<a href="#l23.208"></a><span id="l23.208"> </span>
<a href="#l23.209"></a><span id="l23.209"> </span>
<a href="#l23.210"></a><span id="l23.210"> /**</span>
<a href="#l23.211"></a><span id="l23.211">  * A representation of the data in an HTTP request.</span>
<a href="#l23.212"></a><span id="l23.212">  *</span>
<a href="#l23.213"></a><span id="l23.213">  * @param port : uint</span>
<a href="#l23.214"></a><span id="l23.214">  *   the port on which the server receiving this request runs</span>
<a href="#l23.215"></a><span id="l23.215" class="difflineat">@@ -5202,23 +5148,17 @@ Request.prototype =</span>
<a href="#l23.216"></a><span id="l23.216">   },</span>
<a href="#l23.217"></a><span id="l23.217"> </span>
<a href="#l23.218"></a><span id="l23.218"> </span>
<a href="#l23.219"></a><span id="l23.219">   // NSISUPPORTS</span>
<a href="#l23.220"></a><span id="l23.220"> </span>
<a href="#l23.221"></a><span id="l23.221">   //</span>
<a href="#l23.222"></a><span id="l23.222">   // see nsISupports.QueryInterface</span>
<a href="#l23.223"></a><span id="l23.223">   //</span>
<a href="#l23.224"></a><span id="l23.224" class="difflineminus">-  QueryInterface: function(iid)</span>
<a href="#l23.225"></a><span id="l23.225" class="difflineminus">-  {</span>
<a href="#l23.226"></a><span id="l23.226" class="difflineminus">-    if (iid.equals(Ci.nsIHttpRequest) || iid.equals(Ci.nsISupports))</span>
<a href="#l23.227"></a><span id="l23.227" class="difflineminus">-      return this;</span>
<a href="#l23.228"></a><span id="l23.228" class="difflineminus">-</span>
<a href="#l23.229"></a><span id="l23.229" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l23.230"></a><span id="l23.230" class="difflineminus">-  },</span>
<a href="#l23.231"></a><span id="l23.231" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIHttpRequest&quot;]),</span>
<a href="#l23.232"></a><span id="l23.232"> </span>
<a href="#l23.233"></a><span id="l23.233"> </span>
<a href="#l23.234"></a><span id="l23.234">   // PRIVATE IMPLEMENTATION</span>
<a href="#l23.235"></a><span id="l23.235"> </span>
<a href="#l23.236"></a><span id="l23.236">   /** Ensures a property bag has been created for ad-hoc behaviors. */</span>
<a href="#l23.237"></a><span id="l23.237">   _ensurePropertyBag: function()</span>
<a href="#l23.238"></a><span id="l23.238">   {</span>
<a href="#l23.239"></a><span id="l23.239">     if (!this._bag)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mailnews/addrbook/prefs/content/pref-directory-add.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mailnews/addrbook/prefs/content/pref-directory-add.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -113,24 +113,18 @@ var progressListener = {</span>
<a href="#l24.4"></a><span id="l24.4">   {</span>
<a href="#l24.5"></a><span id="l24.5">   },</span>
<a href="#l24.6"></a><span id="l24.6">   onStatusChange: function(aWebProgress, aRequest, aStatus, aMessage)</span>
<a href="#l24.7"></a><span id="l24.7">   {</span>
<a href="#l24.8"></a><span id="l24.8">   },</span>
<a href="#l24.9"></a><span id="l24.9">   onSecurityChange: function(aWebProgress, aRequest, state)</span>
<a href="#l24.10"></a><span id="l24.10">   {</span>
<a href="#l24.11"></a><span id="l24.11">   },</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-  QueryInterface : function(iid)</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-  {</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineminus">-    if (iid.equals(Ci.nsIWebProgressListener) ||</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineminus">-        iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l24.16"></a><span id="l24.16" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l24.17"></a><span id="l24.17" class="difflineminus">-      return this;</span>
<a href="#l24.18"></a><span id="l24.18" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l24.19"></a><span id="l24.19" class="difflineminus">-  }</span>
<a href="#l24.20"></a><span id="l24.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l24.21"></a><span id="l24.21" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l24.22"></a><span id="l24.22"> };</span>
<a href="#l24.23"></a><span id="l24.23"> </span>
<a href="#l24.24"></a><span id="l24.24"> function DownloadNow()</span>
<a href="#l24.25"></a><span id="l24.25"> {</span>
<a href="#l24.26"></a><span id="l24.26">   if (!gDownloadInProgress) {</span>
<a href="#l24.27"></a><span id="l24.27">     gProgressText = document.getElementById(&quot;replicationProgressText&quot;);</span>
<a href="#l24.28"></a><span id="l24.28">     gProgressMeter = document.getElementById(&quot;replicationProgressMeter&quot;);</span>
<a href="#l24.29"></a><span id="l24.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mailnews/base/content/jsTreeView.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mailnews/base/content/jsTreeView.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -220,16 +220,10 @@ PROTO_TREE_VIEW.prototype = {</span>
<a href="#l25.4"></a><span id="l25.4">   _restoreOpenStates: function jstv__restoreOpenStates() {</span>
<a href="#l25.5"></a><span id="l25.5">     // Note that as we iterate through here, .length may grow</span>
<a href="#l25.6"></a><span id="l25.6">     for (let i = 0; i &lt; this._rowMap.length; i++) {</span>
<a href="#l25.7"></a><span id="l25.7">       if (this._persistOpenMap.indexOf(this._rowMap[i].id) != -1)</span>
<a href="#l25.8"></a><span id="l25.8">         this.toggleOpenState(i);</span>
<a href="#l25.9"></a><span id="l25.9">     }</span>
<a href="#l25.10"></a><span id="l25.10">   },</span>
<a href="#l25.11"></a><span id="l25.11"> </span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-  QueryInterface: function QueryInterface(aIID) {</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-    if (aIID.equals(Ci.nsITreeView) ||</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineminus">-        aIID.equals(Ci.nsISupports))</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineminus">-      return this;</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineminus">-</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineminus">-  }</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsITreeView&quot;]),</span>
<a href="#l25.20"></a><span id="l25.20"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mailnews/base/content/shutdownWindow.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mailnews/base/content/shutdownWindow.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -49,25 +49,18 @@ function onCancel()</span>
<a href="#l26.4"></a><span id="l26.4"> </span>
<a href="#l26.5"></a><span id="l26.5"> function nsMsgShutdownTaskListener()</span>
<a href="#l26.6"></a><span id="l26.6"> {</span>
<a href="#l26.7"></a><span id="l26.7">   msgShutdownService.setShutdownListener(this);</span>
<a href="#l26.8"></a><span id="l26.8"> }</span>
<a href="#l26.9"></a><span id="l26.9"> </span>
<a href="#l26.10"></a><span id="l26.10"> nsMsgShutdownTaskListener.prototype =</span>
<a href="#l26.11"></a><span id="l26.11"> {</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-  QueryInterface : function(iid)</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineminus">-  {</span>
<a href="#l26.14"></a><span id="l26.14" class="difflineminus">-    if (iid.equals(Ci.nsIWebProgressListener) ||</span>
<a href="#l26.15"></a><span id="l26.15" class="difflineminus">-        iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l26.16"></a><span id="l26.16" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l26.17"></a><span id="l26.17" class="difflineminus">-      return this;</span>
<a href="#l26.18"></a><span id="l26.18" class="difflineminus">-</span>
<a href="#l26.19"></a><span id="l26.19" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l26.20"></a><span id="l26.20" class="difflineminus">-  },</span>
<a href="#l26.21"></a><span id="l26.21" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l26.22"></a><span id="l26.22" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l26.23"></a><span id="l26.23"> </span>
<a href="#l26.24"></a><span id="l26.24">   onStateChange: function(aWebProgress, aRequest, aStateFlags, aStatus)</span>
<a href="#l26.25"></a><span id="l26.25">   {</span>
<a href="#l26.26"></a><span id="l26.26">     if (aStateFlags &amp; Ci.nsIWebProgressListener.STATE_STOP)</span>
<a href="#l26.27"></a><span id="l26.27">     {</span>
<a href="#l26.28"></a><span id="l26.28">       window.close();</span>
<a href="#l26.29"></a><span id="l26.29">     }</span>
<a href="#l26.30"></a><span id="l26.30">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mailnews/compose/content/sendProgress.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mailnews/compose/content/sendProgress.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -85,25 +85,18 @@ var progressListener = {</span>
<a href="#l27.4"></a><span id="l27.4">         dialog.status.setAttribute(&quot;value&quot;, aMessage);</span>
<a href="#l27.5"></a><span id="l27.5">     },</span>
<a href="#l27.6"></a><span id="l27.6"> </span>
<a href="#l27.7"></a><span id="l27.7">     onSecurityChange: function(aWebProgress, aRequest, state)</span>
<a href="#l27.8"></a><span id="l27.8">     {</span>
<a href="#l27.9"></a><span id="l27.9">       // we can ignore this notification</span>
<a href="#l27.10"></a><span id="l27.10">     },</span>
<a href="#l27.11"></a><span id="l27.11"> </span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-    QueryInterface : function(iid)</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineminus">-    {</span>
<a href="#l27.14"></a><span id="l27.14" class="difflineminus">-      if (iid.equals(Ci.nsIWebProgressListener) ||</span>
<a href="#l27.15"></a><span id="l27.15" class="difflineminus">-          iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l27.16"></a><span id="l27.16" class="difflineminus">-          iid.equals(Ci.nsISupports))</span>
<a href="#l27.17"></a><span id="l27.17" class="difflineminus">-        return this;</span>
<a href="#l27.18"></a><span id="l27.18" class="difflineminus">-</span>
<a href="#l27.19"></a><span id="l27.19" class="difflineminus">-      throw Cr.NS_NOINTERFACE;</span>
<a href="#l27.20"></a><span id="l27.20" class="difflineminus">-    }</span>
<a href="#l27.21"></a><span id="l27.21" class="difflineplus">+    QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l27.22"></a><span id="l27.22" class="difflineplus">+                                            &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l27.23"></a><span id="l27.23"> };</span>
<a href="#l27.24"></a><span id="l27.24"> </span>
<a href="#l27.25"></a><span id="l27.25"> function onLoad()</span>
<a href="#l27.26"></a><span id="l27.26"> {</span>
<a href="#l27.27"></a><span id="l27.27">     // Set global variables.</span>
<a href="#l27.28"></a><span id="l27.28">     let subject = &quot;&quot;;</span>
<a href="#l27.29"></a><span id="l27.29">     gSendProgressStringBundle = document.getElementById(&quot;sendProgressStringBundle&quot;);</span>
<a href="#l27.30"></a><span id="l27.30"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mailnews/compose/test/unit/head_compose.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mailnews/compose/test/unit/head_compose.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -87,46 +87,34 @@ var copyListener = {</span>
<a href="#l28.4"></a><span id="l28.4">   OnProgress: function (aProgress, aProgressMax) {},</span>
<a href="#l28.5"></a><span id="l28.5">   SetMessageKey: function (aKey) {},</span>
<a href="#l28.6"></a><span id="l28.6">   GetMessageId: function (aMessageId) {},</span>
<a href="#l28.7"></a><span id="l28.7">   OnStopCopy: function (aStatus) {</span>
<a href="#l28.8"></a><span id="l28.8">     OnStopCopy(aStatus);</span>
<a href="#l28.9"></a><span id="l28.9">   },</span>
<a href="#l28.10"></a><span id="l28.10"> </span>
<a href="#l28.11"></a><span id="l28.11">   // QueryInterface</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-  QueryInterface: function (iid) {</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineminus">-    if (iid.equals(Ci.nsIMsgSendListener) ||</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineminus">-        iid.equals(Ci.nsIMsgCopyServiceListener) ||</span>
<a href="#l28.15"></a><span id="l28.15" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineminus">-      return this;</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineminus">-</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l28.19"></a><span id="l28.19" class="difflineminus">-  }</span>
<a href="#l28.20"></a><span id="l28.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIMsgSendListener&quot;,</span>
<a href="#l28.21"></a><span id="l28.21" class="difflineplus">+                                          &quot;nsIMsgCopyServiceListener&quot;]),</span>
<a href="#l28.22"></a><span id="l28.22"> };</span>
<a href="#l28.23"></a><span id="l28.23"> </span>
<a href="#l28.24"></a><span id="l28.24"> var progressListener = {</span>
<a href="#l28.25"></a><span id="l28.25">   onStateChange: function(aWebProgress, aRequest, aStateFlags, aStatus) {</span>
<a href="#l28.26"></a><span id="l28.26">     if (aStateFlags &amp; Ci.nsIWebProgressListener.STATE_STOP)</span>
<a href="#l28.27"></a><span id="l28.27">       this.resolve(mailTestUtils.firstMsgHdr(gDraftFolder));</span>
<a href="#l28.28"></a><span id="l28.28">   },</span>
<a href="#l28.29"></a><span id="l28.29"> </span>
<a href="#l28.30"></a><span id="l28.30">   onProgressChange: function(aWebProgress, aRequest, aCurSelfProgress,</span>
<a href="#l28.31"></a><span id="l28.31">     aMaxSelfProgress, aCurTotalProgress, aMaxTotalProgress) {},</span>
<a href="#l28.32"></a><span id="l28.32">   onLocationChange: function(aWebProgress, aRequest, aLocation, aFlags) {},</span>
<a href="#l28.33"></a><span id="l28.33">   onStatusChange: function(aWebProgress, aRequest, aStatus, aMessage) {},</span>
<a href="#l28.34"></a><span id="l28.34">   onSecurityChange: function(aWebProgress, aRequest, state) {},</span>
<a href="#l28.35"></a><span id="l28.35"> </span>
<a href="#l28.36"></a><span id="l28.36" class="difflineminus">-  QueryInterface : function(iid) {</span>
<a href="#l28.37"></a><span id="l28.37" class="difflineminus">-    if (iid.equals(Ci.nsIWebProgressListener) ||</span>
<a href="#l28.38"></a><span id="l28.38" class="difflineminus">-        iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l28.39"></a><span id="l28.39" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l28.40"></a><span id="l28.40" class="difflineminus">-      return this;</span>
<a href="#l28.41"></a><span id="l28.41" class="difflineminus">-</span>
<a href="#l28.42"></a><span id="l28.42" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l28.43"></a><span id="l28.43" class="difflineminus">-  }</span>
<a href="#l28.44"></a><span id="l28.44" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l28.45"></a><span id="l28.45" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l28.46"></a><span id="l28.46"> };</span>
<a href="#l28.47"></a><span id="l28.47"> </span>
<a href="#l28.48"></a><span id="l28.48"> function createMessage(aAttachment) {</span>
<a href="#l28.49"></a><span id="l28.49">   let fields = Cc[&quot;@mozilla.org/messengercompose/composefields;1&quot;]</span>
<a href="#l28.50"></a><span id="l28.50">                  .createInstance(Ci.nsIMsgCompFields);</span>
<a href="#l28.51"></a><span id="l28.51">   let attachments = [];</span>
<a href="#l28.52"></a><span id="l28.52">   if (aAttachment) {</span>
<a href="#l28.53"></a><span id="l28.53">     let attachment = Cc[&quot;@mozilla.org/messengercompose/attachment;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMailAddressIDN.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMailAddressIDN.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -101,24 +101,18 @@ msgListener.prototype =</span>
<a href="#l29.4"></a><span id="l29.4">     finally</span>
<a href="#l29.5"></a><span id="l29.5">     {</span>
<a href="#l29.6"></a><span id="l29.6">       finished = true;</span>
<a href="#l29.7"></a><span id="l29.7">       do_test_finished();</span>
<a href="#l29.8"></a><span id="l29.8">     }</span>
<a href="#l29.9"></a><span id="l29.9">   },</span>
<a href="#l29.10"></a><span id="l29.10"> </span>
<a href="#l29.11"></a><span id="l29.11">   // QueryInterface</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-  QueryInterface: function (iid)</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineminus">-  {</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineminus">-    if (iid.equals(Ci.nsIMsgSendListener) ||</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineminus">-        iid.equals(Ci.nsIMsgCopyServiceListener) ||</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l29.17"></a><span id="l29.17" class="difflineminus">-      return this;</span>
<a href="#l29.18"></a><span id="l29.18" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l29.19"></a><span id="l29.19" class="difflineminus">-  }</span>
<a href="#l29.20"></a><span id="l29.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIMsgSendListener&quot;,</span>
<a href="#l29.21"></a><span id="l29.21" class="difflineplus">+                                          &quot;nsIMsgCopyServiceListener&quot;]),</span>
<a href="#l29.22"></a><span id="l29.22"> }</span>
<a href="#l29.23"></a><span id="l29.23"> </span>
<a href="#l29.24"></a><span id="l29.24"> </span>
<a href="#l29.25"></a><span id="l29.25"> function DoSendTest(aRecipient, aRecipientExpected, aExceptionExpected)</span>
<a href="#l29.26"></a><span id="l29.26"> {</span>
<a href="#l29.27"></a><span id="l29.27">   server = setupServerDaemon();</span>
<a href="#l29.28"></a><span id="l29.28">   server.start();</span>
<a href="#l29.29"></a><span id="l29.29">   var smtpServer = getBasicSmtpServer(server.port);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendMessageFile.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendMessageFile.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -87,24 +87,18 @@ msl.prototype = {</span>
<a href="#l30.4"></a><span id="l30.4">       do_throw(e);</span>
<a href="#l30.5"></a><span id="l30.5">     } finally {</span>
<a href="#l30.6"></a><span id="l30.6">       finished = true;</span>
<a href="#l30.7"></a><span id="l30.7">       do_test_finished();</span>
<a href="#l30.8"></a><span id="l30.8">     }</span>
<a href="#l30.9"></a><span id="l30.9">   },</span>
<a href="#l30.10"></a><span id="l30.10"> </span>
<a href="#l30.11"></a><span id="l30.11">   // QueryInterface</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-  QueryInterface: function (iid) {</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-    if (iid.equals(Ci.nsIMsgSendListener) ||</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineminus">-        iid.equals(Ci.nsIMsgCopyServiceListener) ||</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l30.16"></a><span id="l30.16" class="difflineminus">-      return this;</span>
<a href="#l30.17"></a><span id="l30.17" class="difflineminus">-</span>
<a href="#l30.18"></a><span id="l30.18" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l30.19"></a><span id="l30.19" class="difflineminus">-  }</span>
<a href="#l30.20"></a><span id="l30.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIMsgSendListener&quot;,</span>
<a href="#l30.21"></a><span id="l30.21" class="difflineplus">+                                          &quot;nsIMsgCopyServiceListener&quot;]),</span>
<a href="#l30.22"></a><span id="l30.22"> }</span>
<a href="#l30.23"></a><span id="l30.23"> </span>
<a href="#l30.24"></a><span id="l30.24"> function run_test() {</span>
<a href="#l30.25"></a><span id="l30.25">   server = setupServerDaemon();</span>
<a href="#l30.26"></a><span id="l30.26"> </span>
<a href="#l30.27"></a><span id="l30.27">   type = &quot;sendMessageFile&quot;;</span>
<a href="#l30.28"></a><span id="l30.28"> </span>
<a href="#l30.29"></a><span id="l30.29">   // Test file - for bug 429891</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_temporaryFilesRemoved.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_temporaryFilesRemoved.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -17,24 +17,18 @@ var progressListener = {</span>
<a href="#l31.4"></a><span id="l31.4">       do_timeout(0, check_result);</span>
<a href="#l31.5"></a><span id="l31.5">   },</span>
<a href="#l31.6"></a><span id="l31.6"> </span>
<a href="#l31.7"></a><span id="l31.7">   onProgressChange: function(aWebProgress, aRequest, aCurSelfProgress, aMaxSelfProgress, aCurTotalProgress, aMaxTotalProgress) {},</span>
<a href="#l31.8"></a><span id="l31.8">   onLocationChange: function(aWebProgress, aRequest, aLocation, aFlags) {},</span>
<a href="#l31.9"></a><span id="l31.9">   onStatusChange: function(aWebProgress, aRequest, aStatus, aMessage) {},</span>
<a href="#l31.10"></a><span id="l31.10">   onSecurityChange: function(aWebProgress, aRequest, state) {},</span>
<a href="#l31.11"></a><span id="l31.11"> </span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-  QueryInterface : function(iid) {</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineminus">-    if (iid.equals(Ci.nsIWebProgressListener) ||</span>
<a href="#l31.14"></a><span id="l31.14" class="difflineminus">-        iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l31.15"></a><span id="l31.15" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l31.16"></a><span id="l31.16" class="difflineminus">-      return this;</span>
<a href="#l31.17"></a><span id="l31.17" class="difflineminus">-</span>
<a href="#l31.18"></a><span id="l31.18" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l31.19"></a><span id="l31.19" class="difflineminus">-  }</span>
<a href="#l31.20"></a><span id="l31.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l31.21"></a><span id="l31.21" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l31.22"></a><span id="l31.22"> };</span>
<a href="#l31.23"></a><span id="l31.23"> </span>
<a href="#l31.24"></a><span id="l31.24"> function get_temporary_files_for(name) {</span>
<a href="#l31.25"></a><span id="l31.25">   let file = Services.dirsvc.get(&quot;TmpD&quot;, Ci.nsIFile);</span>
<a href="#l31.26"></a><span id="l31.26">   file.append(name);</span>
<a href="#l31.27"></a><span id="l31.27">   file.createUnique(Ci.nsIFile.NORMAL_FILE_TYPE, 0o600);</span>
<a href="#l31.28"></a><span id="l31.28"> </span>
<a href="#l31.29"></a><span id="l31.29">   file.remove(false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mailnews/extensions/offline-startup/js/offlineStartup.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mailnews/extensions/offline-startup/js/offlineStartup.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -126,24 +126,17 @@ var nsOfflineStartup =</span>
<a href="#l32.4"></a><span id="l32.4">     }</span>
<a href="#l32.5"></a><span id="l32.5">     else if (aTopic == &quot;profile-after-change&quot;)</span>
<a href="#l32.6"></a><span id="l32.6">     {</span>
<a href="#l32.7"></a><span id="l32.7">       this.onProfileStartup();</span>
<a href="#l32.8"></a><span id="l32.8">     }</span>
<a href="#l32.9"></a><span id="l32.9">   },</span>
<a href="#l32.10"></a><span id="l32.10"> </span>
<a href="#l32.11"></a><span id="l32.11"> </span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-  QueryInterface: function(aIID)</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineminus">-  {</span>
<a href="#l32.14"></a><span id="l32.14" class="difflineminus">-    if (aIID.equals(Ci.nsIObserver) ||</span>
<a href="#l32.15"></a><span id="l32.15" class="difflineminus">-        aIID.equals(Ci.nsISupports))</span>
<a href="#l32.16"></a><span id="l32.16" class="difflineminus">-      return this;</span>
<a href="#l32.17"></a><span id="l32.17" class="difflineminus">-</span>
<a href="#l32.18"></a><span id="l32.18" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l32.19"></a><span id="l32.19" class="difflineminus">-  }</span>
<a href="#l32.20"></a><span id="l32.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIObserver&quot;]),</span>
<a href="#l32.21"></a><span id="l32.21"> }</span>
<a href="#l32.22"></a><span id="l32.22"> </span>
<a href="#l32.23"></a><span id="l32.23"> function nsOfflineStartupModule()</span>
<a href="#l32.24"></a><span id="l32.24"> {</span>
<a href="#l32.25"></a><span id="l32.25"> }</span>
<a href="#l32.26"></a><span id="l32.26"> </span>
<a href="#l32.27"></a><span id="l32.27"> nsOfflineStartupModule.prototype =</span>
<a href="#l32.28"></a><span id="l32.28"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mailnews/extensions/smime/content/certFetchingStatus.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/certFetchingStatus.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -192,45 +192,33 @@ function kickOffSearch()</span>
<a href="#l33.4"></a><span id="l33.4">   }</span>
<a href="#l33.5"></a><span id="l33.5"> }</span>
<a href="#l33.6"></a><span id="l33.6"> </span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8"> function boundListener() {</span>
<a href="#l33.9"></a><span id="l33.9"> }</span>
<a href="#l33.10"></a><span id="l33.10"> </span>
<a href="#l33.11"></a><span id="l33.11"> boundListener.prototype.QueryInterface =</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-  function(iid) {</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineminus">-    if (iid.equals(Ci.nsISupports) ||</span>
<a href="#l33.14"></a><span id="l33.14" class="difflineminus">-        iid.equals(Ci.nsILDAPMessageListener))</span>
<a href="#l33.15"></a><span id="l33.15" class="difflineminus">-        return this;</span>
<a href="#l33.16"></a><span id="l33.16" class="difflineminus">-</span>
<a href="#l33.17"></a><span id="l33.17" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l33.18"></a><span id="l33.18" class="difflineminus">-  }</span>
<a href="#l33.19"></a><span id="l33.19" class="difflineplus">+  ChromeUtils.generateQI([&quot;nsILDAPMessageListener&quot;]);</span>
<a href="#l33.20"></a><span id="l33.20"> </span>
<a href="#l33.21"></a><span id="l33.21"> boundListener.prototype.onLDAPMessage =</span>
<a href="#l33.22"></a><span id="l33.22">   function(aMessage) {</span>
<a href="#l33.23"></a><span id="l33.23">   }</span>
<a href="#l33.24"></a><span id="l33.24"> </span>
<a href="#l33.25"></a><span id="l33.25"> boundListener.prototype.onLDAPInit =</span>
<a href="#l33.26"></a><span id="l33.26">   function(aConn, aStatus) {</span>
<a href="#l33.27"></a><span id="l33.27">     kickOffBind();</span>
<a href="#l33.28"></a><span id="l33.28">   }</span>
<a href="#l33.29"></a><span id="l33.29"> </span>
<a href="#l33.30"></a><span id="l33.30"> </span>
<a href="#l33.31"></a><span id="l33.31"> function ldapMessageListener() {</span>
<a href="#l33.32"></a><span id="l33.32"> }</span>
<a href="#l33.33"></a><span id="l33.33"> </span>
<a href="#l33.34"></a><span id="l33.34"> ldapMessageListener.prototype.QueryInterface =</span>
<a href="#l33.35"></a><span id="l33.35" class="difflineminus">-  function(iid) {</span>
<a href="#l33.36"></a><span id="l33.36" class="difflineminus">-    if (iid.equals(Ci.nsISupports) ||</span>
<a href="#l33.37"></a><span id="l33.37" class="difflineminus">-        iid.equals(Ci.nsILDAPMessageListener))</span>
<a href="#l33.38"></a><span id="l33.38" class="difflineminus">-        return this;</span>
<a href="#l33.39"></a><span id="l33.39" class="difflineminus">-</span>
<a href="#l33.40"></a><span id="l33.40" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l33.41"></a><span id="l33.41" class="difflineminus">-  }</span>
<a href="#l33.42"></a><span id="l33.42" class="difflineplus">+  ChromeUtils.generateQI([&quot;nsILDAPMessageListener&quot;]);</span>
<a href="#l33.43"></a><span id="l33.43"> </span>
<a href="#l33.44"></a><span id="l33.44"> ldapMessageListener.prototype.onLDAPMessage =</span>
<a href="#l33.45"></a><span id="l33.45">   function(aMessage) {</span>
<a href="#l33.46"></a><span id="l33.46">     if (Ci.nsILDAPMessage.RES_SEARCH_RESULT == aMessage.type) {</span>
<a href="#l33.47"></a><span id="l33.47">       window.close();</span>
<a href="#l33.48"></a><span id="l33.48">       return;</span>
<a href="#l33.49"></a><span id="l33.49">     }</span>
<a href="#l33.50"></a><span id="l33.50"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mailnews/extensions/smime/content/msgHdrViewSMIMEOverlay.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -115,22 +115,17 @@ var smimeHeaderSink =</span>
<a href="#l34.4"></a><span id="l34.4">          &quot;&lt;tr&gt;&lt;td&gt;\n&quot; +</span>
<a href="#l34.5"></a><span id="l34.5">          &quot;&lt;center&gt;&lt;strong&gt;&lt;font size=\&quot;+3\&quot;&gt;\n&quot; +</span>
<a href="#l34.6"></a><span id="l34.6">          title+&quot;&lt;/font&gt;&lt;/center&gt;&lt;br&gt;\n&quot; +</span>
<a href="#l34.7"></a><span id="l34.7">          body+&quot;\n&quot; +</span>
<a href="#l34.8"></a><span id="l34.8">          &quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;&quot;, false);</span>
<a href="#l34.9"></a><span id="l34.9">     }</span>
<a href="#l34.10"></a><span id="l34.10">   },</span>
<a href="#l34.11"></a><span id="l34.11"> </span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-  QueryInterface : function(iid)</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineminus">-  {</span>
<a href="#l34.14"></a><span id="l34.14" class="difflineminus">-    if (iid.equals(Ci.nsIMsgSMIMEHeaderSink) || iid.equals(Ci.nsISupports))</span>
<a href="#l34.15"></a><span id="l34.15" class="difflineminus">-      return this;</span>
<a href="#l34.16"></a><span id="l34.16" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l34.17"></a><span id="l34.17" class="difflineminus">-  }</span>
<a href="#l34.18"></a><span id="l34.18" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIMsgSMIMEHeaderSink&quot;]),</span>
<a href="#l34.19"></a><span id="l34.19"> };</span>
<a href="#l34.20"></a><span id="l34.20"> </span>
<a href="#l34.21"></a><span id="l34.21"> function forgetEncryptedURI()</span>
<a href="#l34.22"></a><span id="l34.22"> {</span>
<a href="#l34.23"></a><span id="l34.23">   if (gMyLastEncryptedURI &amp;&amp; gEncryptedURIService)</span>
<a href="#l34.24"></a><span id="l34.24">   {</span>
<a href="#l34.25"></a><span id="l34.25">     gEncryptedURIService.forgetEncrypted(gMyLastEncryptedURI);</span>
<a href="#l34.26"></a><span id="l34.26">     gMyLastEncryptedURI = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_offlineDraftDataloss.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_offlineDraftDataloss.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -165,24 +165,18 @@ var progressListener = {</span>
<a href="#l35.4"></a><span id="l35.4"> </span>
<a href="#l35.5"></a><span id="l35.5">   onProgressChange: function(aWebProgress, aRequest, aCurSelfProgress,</span>
<a href="#l35.6"></a><span id="l35.6">                              aMaxSelfProgress, aCurTotalProgress,</span>
<a href="#l35.7"></a><span id="l35.7">                              aMaxTotalProgress) {},</span>
<a href="#l35.8"></a><span id="l35.8">   onLocationChange: function(aWebProgress, aRequest, aLocation, aFlags) {},</span>
<a href="#l35.9"></a><span id="l35.9">   onStatusChange: function(aWebProgress, aRequest, aStatus, aMessage) {},</span>
<a href="#l35.10"></a><span id="l35.10">   onSecurityChange: function(aWebProgress, aRequest, state) {},</span>
<a href="#l35.11"></a><span id="l35.11"> </span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-  QueryInterface : function(iid) {</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineminus">-    if (iid.equals(Ci.nsIWebProgressListener) ||</span>
<a href="#l35.14"></a><span id="l35.14" class="difflineminus">-        iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l35.15"></a><span id="l35.15" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l35.16"></a><span id="l35.16" class="difflineminus">-      return this;</span>
<a href="#l35.17"></a><span id="l35.17" class="difflineminus">-</span>
<a href="#l35.18"></a><span id="l35.18" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l35.19"></a><span id="l35.19" class="difflineminus">-  }</span>
<a href="#l35.20"></a><span id="l35.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l35.21"></a><span id="l35.21" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l35.22"></a><span id="l35.22"> };</span>
<a href="#l35.23"></a><span id="l35.23"> </span>
<a href="#l35.24"></a><span id="l35.24"> /*</span>
<a href="#l35.25"></a><span id="l35.25">  * helper functions</span>
<a href="#l35.26"></a><span id="l35.26">  */</span>
<a href="#l35.27"></a><span id="l35.27"> </span>
<a href="#l35.28"></a><span id="l35.28"> // quick shorthand for output of a line of text.</span>
<a href="#l35.29"></a><span id="l35.29"> function dl(text) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_saveImapDraft.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_saveImapDraft.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -132,24 +132,18 @@ var progressListener = {</span>
<a href="#l36.4"></a><span id="l36.4">     }</span>
<a href="#l36.5"></a><span id="l36.5">   },</span>
<a href="#l36.6"></a><span id="l36.6"> </span>
<a href="#l36.7"></a><span id="l36.7">   onProgressChange: function(aWebProgress, aRequest, aCurSelfProgress, aMaxSelfProgress, aCurTotalProgress, aMaxTotalProgress) {},</span>
<a href="#l36.8"></a><span id="l36.8">   onLocationChange: function(aWebProgress, aRequest, aLocation, aFlags) {},</span>
<a href="#l36.9"></a><span id="l36.9">   onStatusChange: function(aWebProgress, aRequest, aStatus, aMessage) {},</span>
<a href="#l36.10"></a><span id="l36.10">   onSecurityChange: function(aWebProgress, aRequest, state) {},</span>
<a href="#l36.11"></a><span id="l36.11"> </span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-  QueryInterface : function(iid) {</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineminus">-    if (iid.equals(Ci.nsIWebProgressListener) ||</span>
<a href="#l36.14"></a><span id="l36.14" class="difflineminus">-        iid.equals(Ci.nsISupportsWeakReference) ||</span>
<a href="#l36.15"></a><span id="l36.15" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l36.16"></a><span id="l36.16" class="difflineminus">-      return this;</span>
<a href="#l36.17"></a><span id="l36.17" class="difflineminus">-</span>
<a href="#l36.18"></a><span id="l36.18" class="difflineminus">-    throw Cr.NS_NOINTERFACE;</span>
<a href="#l36.19"></a><span id="l36.19" class="difflineminus">-  }</span>
<a href="#l36.20"></a><span id="l36.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIWebProgressListener&quot;,</span>
<a href="#l36.21"></a><span id="l36.21" class="difflineplus">+                                          &quot;nsISupportsWeakReference&quot;]),</span>
<a href="#l36.22"></a><span id="l36.22"> };</span>
<a href="#l36.23"></a><span id="l36.23"> </span>
<a href="#l36.24"></a><span id="l36.24"> /*</span>
<a href="#l36.25"></a><span id="l36.25">  * helper functions</span>
<a href="#l36.26"></a><span id="l36.26">  */</span>
<a href="#l36.27"></a><span id="l36.27"> </span>
<a href="#l36.28"></a><span id="l36.28"> // quick shorthand for output of a line of text.</span>
<a href="#l36.29"></a><span id="l36.29"> function dl(text) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -145,23 +145,17 @@ function setupProtocolTest(port, newsUrl</span>
<a href="#l37.4"></a><span id="l37.4">     onStopRequest : function ()  {</span>
<a href="#l37.5"></a><span id="l37.5">       if (!this.called) {</span>
<a href="#l37.6"></a><span id="l37.6">         this.called = true;</span>
<a href="#l37.7"></a><span id="l37.7">         newsServer.closeCachedConnections();</span>
<a href="#l37.8"></a><span id="l37.8">         this.called = false;</span>
<a href="#l37.9"></a><span id="l37.9">       }</span>
<a href="#l37.10"></a><span id="l37.10">     },</span>
<a href="#l37.11"></a><span id="l37.11">     onDataAvailable : function () {},</span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-    QueryInterface : function (iid) {</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineminus">-      if (iid.equals(Ci.nsIStreamListener) ||</span>
<a href="#l37.14"></a><span id="l37.14" class="difflineminus">-          iid.equals(Ci.nsISupports))</span>
<a href="#l37.15"></a><span id="l37.15" class="difflineminus">-        return this;</span>
<a href="#l37.16"></a><span id="l37.16" class="difflineminus">-</span>
<a href="#l37.17"></a><span id="l37.17" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l37.18"></a><span id="l37.18" class="difflineminus">-    }</span>
<a href="#l37.19"></a><span id="l37.19" class="difflineplus">+    QueryInterface: ChromeUtils.generateQI([&quot;nsIStreamListener&quot;]),</span>
<a href="#l37.20"></a><span id="l37.20">   }</span>
<a href="#l37.21"></a><span id="l37.21">   listener.called = false;</span>
<a href="#l37.22"></a><span id="l37.22">   newsServer.loadNewsUrl(url, null, listener);</span>
<a href="#l37.23"></a><span id="l37.23"> }</span>
<a href="#l37.24"></a><span id="l37.24"> </span>
<a href="#l37.25"></a><span id="l37.25"> function create_post(baseURL, file) {</span>
<a href="#l37.26"></a><span id="l37.26">   var url = URLCreator.newURI(baseURL);</span>
<a href="#l37.27"></a><span id="l37.27">   url.QueryInterface(Ci.nsINntpUrl);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mailnews/test/fakeserver/maild.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mailnews/test/fakeserver/maild.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -207,23 +207,17 @@ nsMailServer.prototype = {</span>
<a href="#l38.4"></a><span id="l38.4">     return this._port;</span>
<a href="#l38.5"></a><span id="l38.5">   },</span>
<a href="#l38.6"></a><span id="l38.6"> </span>
<a href="#l38.7"></a><span id="l38.7">   // NSISUPPORTS</span>
<a href="#l38.8"></a><span id="l38.8"> </span>
<a href="#l38.9"></a><span id="l38.9">   //</span>
<a href="#l38.10"></a><span id="l38.10">   // see nsISupports.QueryInterface</span>
<a href="#l38.11"></a><span id="l38.11">   //</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-  QueryInterface : function (iid) {</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineminus">-    if (iid.equals(Ci.nsIServerSocketListener) ||</span>
<a href="#l38.14"></a><span id="l38.14" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l38.15"></a><span id="l38.15" class="difflineminus">-      return this;</span>
<a href="#l38.16"></a><span id="l38.16" class="difflineminus">-</span>
<a href="#l38.17"></a><span id="l38.17" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l38.18"></a><span id="l38.18" class="difflineminus">-  },</span>
<a href="#l38.19"></a><span id="l38.19" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIServerSocketListener&quot;]),</span>
<a href="#l38.20"></a><span id="l38.20"> </span>
<a href="#l38.21"></a><span id="l38.21"> </span>
<a href="#l38.22"></a><span id="l38.22">   // NON-XPCOM PUBLIC API</span>
<a href="#l38.23"></a><span id="l38.23"> </span>
<a href="#l38.24"></a><span id="l38.24">   /**</span>
<a href="#l38.25"></a><span id="l38.25">    * Returns true if this server is not running (and is not in the process of</span>
<a href="#l38.26"></a><span id="l38.26">    * serving any requests still to be processed when the server was last</span>
<a href="#l38.27"></a><span id="l38.27">    * stopped after being run).</span>
<a href="#l38.28"></a><span id="l38.28" class="difflineat">@@ -342,22 +336,17 @@ function nsMailReader(server, handler, t</span>
<a href="#l38.29"></a><span id="l38.29">   this.observer = {</span>
<a href="#l38.30"></a><span id="l38.30">     server : server,</span>
<a href="#l38.31"></a><span id="l38.31">     forced : false,</span>
<a href="#l38.32"></a><span id="l38.32">     notify : function (timer) {</span>
<a href="#l38.33"></a><span id="l38.33">       this.forced = true;</span>
<a href="#l38.34"></a><span id="l38.34">       this.server.stopTest();</span>
<a href="#l38.35"></a><span id="l38.35">       this.server.stop();</span>
<a href="#l38.36"></a><span id="l38.36">     },</span>
<a href="#l38.37"></a><span id="l38.37" class="difflineminus">-    QueryInterface : function (iid) {</span>
<a href="#l38.38"></a><span id="l38.38" class="difflineminus">-      if (iid.equals(Ci.nsITimerCallback) || iid.equals(Ci.nsISupports))</span>
<a href="#l38.39"></a><span id="l38.39" class="difflineminus">-        return this;</span>
<a href="#l38.40"></a><span id="l38.40" class="difflineminus">-</span>
<a href="#l38.41"></a><span id="l38.41" class="difflineminus">-      throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l38.42"></a><span id="l38.42" class="difflineminus">-    }</span>
<a href="#l38.43"></a><span id="l38.43" class="difflineplus">+    QueryInterface: ChromeUtils.generateQI([&quot;nsITimerCallback&quot;]),</span>
<a href="#l38.44"></a><span id="l38.44">   };</span>
<a href="#l38.45"></a><span id="l38.45">   this.timer = Cc[&quot;@mozilla.org/timer;1&quot;].createInstance()</span>
<a href="#l38.46"></a><span id="l38.46">                                          .QueryInterface(Ci.nsITimer);</span>
<a href="#l38.47"></a><span id="l38.47">   this.timer.initWithCallback(this.observer, TIMEOUT,</span>
<a href="#l38.48"></a><span id="l38.48">                               Ci.nsITimer.TYPE_ONE_SHOT);</span>
<a href="#l38.49"></a><span id="l38.49"> }</span>
<a href="#l38.50"></a><span id="l38.50"> nsMailReader.prototype = {</span>
<a href="#l38.51"></a><span id="l38.51">   _findLines : function () {</span>
<a href="#l38.52"></a><span id="l38.52" class="difflineat">@@ -514,16 +503,10 @@ nsMailReader.prototype = {</span>
<a href="#l38.53"></a><span id="l38.53">   get watchWord () {</span>
<a href="#l38.54"></a><span id="l38.54">     return this._server._watchWord;</span>
<a href="#l38.55"></a><span id="l38.55">   },</span>
<a href="#l38.56"></a><span id="l38.56"> </span>
<a href="#l38.57"></a><span id="l38.57">   stopTest : function () {</span>
<a href="#l38.58"></a><span id="l38.58">     this._server.stopTest();</span>
<a href="#l38.59"></a><span id="l38.59">   },</span>
<a href="#l38.60"></a><span id="l38.60"> </span>
<a href="#l38.61"></a><span id="l38.61" class="difflineminus">-  QueryInterface : function (iid) {</span>
<a href="#l38.62"></a><span id="l38.62" class="difflineminus">-    if (iid.equals(Ci.nsIInputStreamCallback) ||</span>
<a href="#l38.63"></a><span id="l38.63" class="difflineminus">-        iid.equals(Ci.nsISupports))</span>
<a href="#l38.64"></a><span id="l38.64" class="difflineminus">-      return this;</span>
<a href="#l38.65"></a><span id="l38.65" class="difflineminus">-</span>
<a href="#l38.66"></a><span id="l38.66" class="difflineminus">-    throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l38.67"></a><span id="l38.67" class="difflineminus">-  }</span>
<a href="#l38.68"></a><span id="l38.68" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([&quot;nsIInputStreamCallback&quot;]),</span>
<a href="#l38.69"></a><span id="l38.69"> };</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

