<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23483:f4e55986c49672657d09a882f4f58aa356712f2b</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ f4e55986c49672657d09a882f4f58aa356712f2b" />
<meta property="og:url" content="/comm-central/rev/f4e55986c49672657d09a882f4f58aa356712f2b" />
<meta property="og:description" content="Bug 463402 - Remove E-Mail notification dialogs - part 4: context menus;r=philipp" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / f4e55986c49672657d09a882f4f58aa356712f2b 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/f4e55986c49672657d09a882f4f58aa356712f2b">shortlog</a> |
<a href="/comm-central/log/f4e55986c49672657d09a882f4f58aa356712f2b">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/f4e55986c49672657d09a882f4f58aa356712f2b">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/f4e55986c49672657d09a882f4f58aa356712f2b">files</a> |
changeset |
<a href="/comm-central/raw-rev/f4e55986c49672657d09a882f4f58aa356712f2b">raw</a>  | <a href="/comm-central/archive/f4e55986c49672657d09a882f4f58aa356712f2b.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=463402">Bug 463402</a> - Remove E-Mail notification dialogs - part 4: context menus;r=philipp
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#107;&#101;&#77;&#121;&#68;&#97;&#121;&#32;&#60;&#109;&#97;&#107;&#101;&#109;&#121;&#100;&#97;&#121;&#64;&#103;&#109;&#120;&#45;&#116;&#111;&#112;&#109;&#97;&#105;&#108;&#46;&#100;&#101;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 11 Mar 2018 10:54:51 +0100</td></tr>

<tr>
 <td>changeset 23483</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/f4e55986c49672657d09a882f4f58aa356712f2b">f4e55986c49672657d09a882f4f58aa356712f2b</a></td>
</tr>



<tr>
<td>parent 23482</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f5138ae6a7280bdfab3eea5ee5db9fedd63504e9">f5138ae6a7280bdfab3eea5ee5db9fedd63504e9</a>
</td>
</tr>

<tr>
<td>child 23484</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/bdc3de3a59b42b9154d4947d0ead0e08b001f6ad">bdc3de3a59b42b9154d4947d0ead0e08b001f6ad</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=f4e55986c49672657d09a882f4f58aa356712f2b">14181</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Sun, 11 Mar 2018 20:22:12 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@3c9b650ac751 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=3c9b650ac75148a4f0e1d9d121bc90b04fd82e5e">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=3c9b650ac75148a4f0e1d9d121bc90b04fd82e5e&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=3c9b650ac75148a4f0e1d9d121bc90b04fd82e5e&newProject=comm-central&newRevision=d6eb1caf9e2d690cc2c5429e573b7beb6bb695a8&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=3c9b650ac75148a4f0e1d9d121bc90b04fd82e5e&newProject=comm-central&newRevision=d6eb1caf9e2d690cc2c5429e573b7beb6bb695a8&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=3c9b650ac75148a4f0e1d9d121bc90b04fd82e5e&newProject=comm-central&newRevision=d6eb1caf9e2d690cc2c5429e573b7beb6bb695a8&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28philipp%29&revcount=50">philipp</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=463402">463402</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=463402">Bug 463402</a> - Remove E-Mail notification dialogs - part 4: context menus;r=philipp

- providing the option to accept/decline invitations from context menu with/without sending a reply
- normalizing the strings to deal with invitations so they are aligned with what we use at other places,
  e.g. use 'accept' instead of 'I will attend' and reuse send/dontsend strings for all partstats</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.js">calendar/base/content/calendar-common-sets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.js">file</a> |
<a href="/comm-central/annotate/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.js">annotate</a> |
<a href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.js">diff</a> |
<a href="/comm-central/comparison/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.js">comparison</a> |
<a href="/comm-central/log/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.xul">calendar/base/content/calendar-common-sets.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.xul">file</a> |
<a href="/comm-central/annotate/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.xul">annotate</a> |
<a href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.xul">diff</a> |
<a href="/comm-central/comparison/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.xul">comparison</a> |
<a href="/comm-central/log/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-common-sets.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-item-editing.js">calendar/base/content/calendar-item-editing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-item-editing.js">file</a> |
<a href="/comm-central/annotate/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-item-editing.js">annotate</a> |
<a href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-item-editing.js">diff</a> |
<a href="/comm-central/comparison/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-item-editing.js">comparison</a> |
<a href="/comm-central/log/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-item-editing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-ui-utils.js">calendar/base/content/calendar-ui-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-ui-utils.js">file</a> |
<a href="/comm-central/annotate/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-ui-utils.js">annotate</a> |
<a href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-ui-utils.js">diff</a> |
<a href="/comm-central/comparison/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-ui-utils.js">comparison</a> |
<a href="/comm-central/log/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/calendar-ui-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/today-pane.xul">calendar/base/content/today-pane.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/today-pane.xul">file</a> |
<a href="/comm-central/annotate/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/today-pane.xul">annotate</a> |
<a href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/today-pane.xul">diff</a> |
<a href="/comm-central/comparison/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/today-pane.xul">comparison</a> |
<a href="/comm-central/log/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/base/content/today-pane.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd">calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd">file</a> |
<a href="/comm-central/annotate/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd">annotate</a> |
<a href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd">diff</a> |
<a href="/comm-central/comparison/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd">comparison</a> |
<a href="/comm-central/log/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar.dtd">calendar/locales/en-US/chrome/calendar/calendar.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar.dtd">file</a> |
<a href="/comm-central/annotate/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar.dtd">annotate</a> |
<a href="/comm-central/diff/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar.dtd">diff</a> |
<a href="/comm-central/comparison/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar.dtd">comparison</a> |
<a href="/comm-central/log/f4e55986c49672657d09a882f4f58aa356712f2b/calendar/locales/en-US/chrome/calendar/calendar.dtd">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/calendar-common-sets.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/calendar-common-sets.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -798,46 +798,56 @@ function injectCalendarCommandController</span>
<a href="#l1.4"></a><span id="l1.4"> function removeCalendarCommandController() {</span>
<a href="#l1.5"></a><span id="l1.5">     top.controllers.removeController(calendarController);</span>
<a href="#l1.6"></a><span id="l1.6"> }</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> /**</span>
<a href="#l1.9"></a><span id="l1.9">  * Handler function to set up the item context menu, depending on the given</span>
<a href="#l1.10"></a><span id="l1.10">  * items. Changes the delete menuitem to fit the passed items.</span>
<a href="#l1.11"></a><span id="l1.11">  *</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">- * @param event         The DOM popupshowing event that is triggered by opening</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">- *                        the context menu.</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">- * @param items         An array of items (usually the selected items) to adapt</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">- *                        the context menu for.</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">- * @return              True, to show the popup menu.</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+ * @param  {DOMEvent}              aEvent   The DOM popupshowing event that is</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+ *                                   triggered by opening the context menu</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+ * @param  {Array.&lt;calIItemBase&gt;}  aItems   An array of items (usually the selected</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+ *                                            items) to adapt the context menu for</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+ * @return {Boolean}                        True, to show the popup menu.</span>
<a href="#l1.22"></a><span id="l1.22">  */</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineminus">-function setupContextItemType(event, items) {</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+function setupContextItemType(aEvent, aItems) {</span>
<a href="#l1.25"></a><span id="l1.25">     function adaptModificationMenuItem(aMenuItemId, aItemType) {</span>
<a href="#l1.26"></a><span id="l1.26">         let menuItem = document.getElementById(aMenuItemId);</span>
<a href="#l1.27"></a><span id="l1.27">         if (menuItem) {</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">-            menuItem.setAttribute(&quot;label&quot;, cal.calGetString(&quot;calendar&quot;, &quot;delete&quot; + aItemType + &quot;Label&quot;));</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-            menuItem.setAttribute(&quot;accesskey&quot;, cal.calGetString(&quot;calendar&quot;, &quot;delete&quot; + aItemType + &quot;Accesskey&quot;));</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+            menuItem.setAttribute(</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+                &quot;label&quot;,</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+                cal.calGetString(&quot;calendar&quot;, `delete${aItemType}Label`)</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+            );</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineplus">+            menuItem.setAttribute(</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineplus">+                &quot;accesskey&quot;,</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineplus">+                cal.calGetString(&quot;calendar&quot;, `delete${aItemType}Accesskey`)</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+            );</span>
<a href="#l1.38"></a><span id="l1.38">         }</span>
<a href="#l1.39"></a><span id="l1.39">     }</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineminus">-    if (items.some(cal.item.isEvent) &amp;&amp; items.some(cal.item.isToDo)) {</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineminus">-        event.target.setAttribute(&quot;type&quot;, &quot;mixed&quot;);</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineminus">-        adaptModificationMenuItem(&quot;calendar-item-context-menu-delete-menuitem&quot;, &quot;Item&quot;);</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineminus">-    } else if (items.length &amp;&amp; cal.item.isEvent(items[0])) {</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineminus">-        event.target.setAttribute(&quot;type&quot;, &quot;event&quot;);</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineminus">-        adaptModificationMenuItem(&quot;calendar-item-context-menu-delete-menuitem&quot;, &quot;Event&quot;);</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineminus">-    } else if (items.length &amp;&amp; cal.item.isToDo(items[0])) {</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineminus">-        event.target.setAttribute(&quot;type&quot;, &quot;todo&quot;);</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineminus">-        adaptModificationMenuItem(&quot;calendar-item-context-menu-delete-menuitem&quot;, &quot;Task&quot;);</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineplus">+    if (aItems.some(cal.item.isEvent) &amp;&amp; aItems.some(cal.item.isToDo)) {</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineplus">+        aEvent.target.setAttribute(&quot;type&quot;, &quot;mixed&quot;);</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineplus">+        adaptModificationMenuItem(&quot;calendar-item-context-menu-delete-menuitem&quot;,</span>
<a href="#l1.52"></a><span id="l1.52" class="difflineplus">+                                  &quot;Item&quot;);</span>
<a href="#l1.53"></a><span id="l1.53" class="difflineplus">+    } else if (aItems.length &amp;&amp; cal.item.isEvent(aItems[0])) {</span>
<a href="#l1.54"></a><span id="l1.54" class="difflineplus">+        aEvent.target.setAttribute(&quot;type&quot;, &quot;event&quot;);</span>
<a href="#l1.55"></a><span id="l1.55" class="difflineplus">+        adaptModificationMenuItem(&quot;calendar-item-context-menu-delete-menuitem&quot;,</span>
<a href="#l1.56"></a><span id="l1.56" class="difflineplus">+                                  &quot;Event&quot;);</span>
<a href="#l1.57"></a><span id="l1.57" class="difflineplus">+    } else if (aItems.length &amp;&amp; cal.item.isToDo(aItems[0])) {</span>
<a href="#l1.58"></a><span id="l1.58" class="difflineplus">+        aEvent.target.setAttribute(&quot;type&quot;, &quot;todo&quot;);</span>
<a href="#l1.59"></a><span id="l1.59" class="difflineplus">+        adaptModificationMenuItem(&quot;calendar-item-context-menu-delete-menuitem&quot;,</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineplus">+                                  &quot;Task&quot;);</span>
<a href="#l1.61"></a><span id="l1.61">     } else {</span>
<a href="#l1.62"></a><span id="l1.62" class="difflineminus">-        event.target.removeAttribute(&quot;type&quot;);</span>
<a href="#l1.63"></a><span id="l1.63" class="difflineminus">-        adaptModificationMenuItem(&quot;calendar-item-context-menu-delete-menuitem&quot;, &quot;Item&quot;);</span>
<a href="#l1.64"></a><span id="l1.64" class="difflineplus">+        aEvent.target.removeAttribute(&quot;type&quot;);</span>
<a href="#l1.65"></a><span id="l1.65" class="difflineplus">+        adaptModificationMenuItem(&quot;calendar-item-context-menu-delete-menuitem&quot;,</span>
<a href="#l1.66"></a><span id="l1.66" class="difflineplus">+                                  &quot;Item&quot;);</span>
<a href="#l1.67"></a><span id="l1.67">     }</span>
<a href="#l1.68"></a><span id="l1.68"> </span>
<a href="#l1.69"></a><span id="l1.69">     let menu = document.getElementById(&quot;calendar-item-context-menu-attendance-menu&quot;);</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineminus">-    setupAttendanceMenu(menu, items);</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineplus">+    setupAttendanceMenu(menu, aItems);</span>
<a href="#l1.72"></a><span id="l1.72"> </span>
<a href="#l1.73"></a><span id="l1.73">     return true;</span>
<a href="#l1.74"></a><span id="l1.74"> }</span>
<a href="#l1.75"></a><span id="l1.75"> </span>
<a href="#l1.76"></a><span id="l1.76"> /**</span>
<a href="#l1.77"></a><span id="l1.77">  * Shows the given date in the current view, if in calendar mode.</span>
<a href="#l1.78"></a><span id="l1.78">  *</span>
<a href="#l1.79"></a><span id="l1.79">  * XXX This function is misplaced, should go to calendar-views.js or a minimonth</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/calendar-common-sets.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/calendar-common-sets.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -207,70 +207,175 @@</span>
<a href="#l2.4"></a><span id="l2.4">       &lt;/menu&gt;</span>
<a href="#l2.5"></a><span id="l2.5">       &lt;menuseparator id=&quot;calendar-menuseparator-before-delete&quot;/&gt;</span>
<a href="#l2.6"></a><span id="l2.6">       &lt;!-- the label and accesskey of the following menuitem is set during runtime,</span>
<a href="#l2.7"></a><span id="l2.7">            and depends on wether the item is a task or an event--&gt;</span>
<a href="#l2.8"></a><span id="l2.8">       &lt;menuitem id=&quot;calendar-item-context-menu-delete-menuitem&quot;</span>
<a href="#l2.9"></a><span id="l2.9">                 key=&quot;calendar-delete-item-key&quot;</span>
<a href="#l2.10"></a><span id="l2.10">                 observes=&quot;calendar_delete_event_command&quot;/&gt;</span>
<a href="#l2.11"></a><span id="l2.11">       &lt;menu id=&quot;calendar-item-context-menu-attendance-menu&quot;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-            class=&quot;attendance-menu&quot;</span>
<a href="#l2.13"></a><span id="l2.13">             label=&quot;&amp;calendar.context.attendance.menu.label;&quot;</span>
<a href="#l2.14"></a><span id="l2.14">             accesskey=&quot;&amp;calendar.context.attendance.menu.accesskey;&quot;</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-            oncommand=&quot;setContextPartstat(event.target.value, event.target.getAttribute('scope'), currentView().getSelectedItems({}))&quot;</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+            oncommand=&quot;setContextPartstat(event.target, currentView().getSelectedItems({}))&quot;</span>
<a href="#l2.17"></a><span id="l2.17">             observes=&quot;calendar_attendance_command&quot;&gt;</span>
<a href="#l2.18"></a><span id="l2.18">         &lt;menupopup id=&quot;calendar-item-context-menu-attendance-menupopup&quot;&gt;</span>
<a href="#l2.19"></a><span id="l2.19">           &lt;label id=&quot;calendar-item-context-attendance-thisoccurrence-label&quot;</span>
<a href="#l2.20"></a><span id="l2.20">                  class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-                 scope=&quot;all-occurrences&quot;</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+                 scope=&quot;this-occurrence&quot;</span>
<a href="#l2.23"></a><span id="l2.23">                  value=&quot;&amp;calendar.context.attendance.occurrence.label;&quot;/&gt;</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-          &lt;menuitem id=&quot;calendar-item-context-menu-attend-accept-menuitem&quot;</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineminus">-                    scope=&quot;this-occurrence&quot;</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineminus">-                    name=&quot;calendar-item-context-attendance&quot;</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-                    label=&quot;&amp;read.only.accept.label;&quot; value=&quot;ACCEPTED&quot;/&gt;</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-          &lt;menuitem id=&quot;calendar-item-context-menu-attend-tentative-menuitem&quot;</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-                    scope=&quot;this-occurrence&quot;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+          &lt;menu id=&quot;calendar-item-context-menu-attendance-accepted-menu&quot;</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.occ.accepted.label;&quot;</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.occ.accepted.accesskey;&quot;</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineplus">+                value=&quot;ACCEPTED&quot;</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+                name=&quot;calendar-item-context-attendance&quot;</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineplus">+                scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineplus">+            &lt;menupopup id=&quot;calendar-item-context-menu-occurrence-accepted-menupopup&quot;&gt;</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-accept-menuitem&quot;</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineplus">+                        respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-accept-dontsend-menuitem&quot;</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineplus">+                        respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineplus">+          &lt;menu id=&quot;calendar-item-context-menu-attendance-tentative-menu&quot;</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.occ.tentative.label;&quot;</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.occ.tentative.accesskey;&quot;</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineplus">+                value=&quot;TENTATIVE&quot;</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineplus">+                name=&quot;calendar-item-context-attendance&quot;</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineplus">+                scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineplus">+            &lt;menupopup id=&quot;calendar-item-context-menu-occurrence-tentative-menupopup&quot;&gt;</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-tentative-menuitem&quot;</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineplus">+                        respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-tentative-dontsend-menuitem&quot;</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineplus">+                        respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineplus">+          &lt;menu id=&quot;calendar-item-context-menu-attendance-declined-menu&quot;</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.occ.declined.label;&quot;</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.occ.declined.accesskey;&quot;</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineplus">+                value=&quot;DECLINED&quot;</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineplus">+                name=&quot;calendar-item-context-attendance&quot;</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineplus">+                scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineplus">+            &lt;menupopup id=&quot;calendar-item-context-menu-occurrence-tentative-menupopup&quot;&gt;</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-declined-menuitem&quot;</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineplus">+                        respvalue=&quot;DECLINED&quot;</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-declined-dontsend-menuitem&quot;</span>
<a href="#l2.88"></a><span id="l2.88" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineplus">+                        respvalue=&quot;DECLINED&quot;</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.95"></a><span id="l2.95" class="difflineplus">+          &lt;menuitem id=&quot;calendar-item-context-menu-attendance-delegated-menu&quot;</span>
<a href="#l2.96"></a><span id="l2.96" class="difflineplus">+                    label=&quot;&amp;calendar.context.attendance.occ.delegated.label;&quot;</span>
<a href="#l2.97"></a><span id="l2.97">                     name=&quot;calendar-item-context-attendance&quot;</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineminus">-                    label=&quot;&amp;read.only.tentative.label;&quot; value=&quot;TENTATIVE&quot;/&gt;</span>
<a href="#l2.99"></a><span id="l2.99" class="difflineminus">-          &lt;menuitem id=&quot;calendar-item-context-menu-attend-declined-menuitem&quot;</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.101"></a><span id="l2.101">                     scope=&quot;this-occurrence&quot;</span>
<a href="#l2.102"></a><span id="l2.102" class="difflineplus">+                    value=&quot;DELEGATED&quot;/&gt;</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineplus">+          &lt;menuitem id=&quot;calendar-item-context-menu-attendance-needsaction-menu&quot;</span>
<a href="#l2.104"></a><span id="l2.104" class="difflineplus">+                    label=&quot;&amp;calendar.context.attendance.occ.needsaction.label;&quot;</span>
<a href="#l2.105"></a><span id="l2.105">                     name=&quot;calendar-item-context-attendance&quot;</span>
<a href="#l2.106"></a><span id="l2.106" class="difflineminus">-                    label=&quot;&amp;read.only.decline.label;&quot; value=&quot;DECLINED&quot;/&gt;</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineminus">-          &lt;menuitem id=&quot;calendar-item-context-menu-attend-needsaction-menuitem&quot;</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.109"></a><span id="l2.109">                     scope=&quot;this-occurrence&quot;</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-                    name=&quot;calendar-item-context-attendance&quot;</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-                    label=&quot;&amp;read.only.needs.action.label;&quot; value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineplus">+                    value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.113"></a><span id="l2.113">           &lt;label id=&quot;calendar-item-context-attendance-alloccurrence-label&quot;</span>
<a href="#l2.114"></a><span id="l2.114">                  class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l2.115"></a><span id="l2.115">                  scope=&quot;all-occurrences&quot;</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineminus">-                 value=&quot;&amp;calendar.context.attendance.all.label;&quot;/&gt;</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineminus">-          &lt;menuitem id=&quot;calendar-item-context-menu-attend-accept-all-menuitem&quot;</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.119"></a><span id="l2.119" class="difflineminus">-                    scope=&quot;all-occurrences&quot;</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-                    name=&quot;calendar-item-context-attendance-all&quot;</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineminus">-                    label=&quot;&amp;read.only.accept.label;&quot; value=&quot;ACCEPTED&quot;/&gt;</span>
<a href="#l2.122"></a><span id="l2.122" class="difflineminus">-          &lt;menuitem id=&quot;calendar-item-context-menu-attend-tentative-all-menuitem&quot;</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.124"></a><span id="l2.124" class="difflineplus">+                 value=&quot;&amp;calendar.context.attendance.all2.label;&quot;/&gt;</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineplus">+          &lt;menu id=&quot;calendar-item-context-menu-attendance-accepted-all-menu&quot;</span>
<a href="#l2.126"></a><span id="l2.126" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.all.accepted.label;&quot;</span>
<a href="#l2.127"></a><span id="l2.127" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.all.accepted.accesskey;&quot;</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineplus">+                value=&quot;ACCEPTED&quot;</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineplus">+                name=&quot;calendar-item-context-attendance-all&quot;</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineplus">+                scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l2.131"></a><span id="l2.131" class="difflineplus">+            &lt;menupopup id=&quot;calendar-item-context-menu-alloccurrences-accept-menupopup&quot;&gt;</span>
<a href="#l2.132"></a><span id="l2.132" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-accept-all-menuitem&quot;</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.134"></a><span id="l2.134" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.135"></a><span id="l2.135" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.136"></a><span id="l2.136" class="difflineplus">+                        respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l2.137"></a><span id="l2.137" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-accept-all-dontsend-menuitem&quot;</span>
<a href="#l2.139"></a><span id="l2.139" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.140"></a><span id="l2.140" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.141"></a><span id="l2.141" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.142"></a><span id="l2.142" class="difflineplus">+                        respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l2.143"></a><span id="l2.143" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.144"></a><span id="l2.144" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.145"></a><span id="l2.145" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.146"></a><span id="l2.146" class="difflineplus">+          &lt;menu id=&quot;calendar-item-context-menu-attendance-tentative-all-menu&quot;</span>
<a href="#l2.147"></a><span id="l2.147" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.all.tentative.label;&quot;</span>
<a href="#l2.148"></a><span id="l2.148" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.all.tentative.accesskey;&quot;</span>
<a href="#l2.149"></a><span id="l2.149" class="difflineplus">+                value=&quot;TENTATIVE&quot;</span>
<a href="#l2.150"></a><span id="l2.150" class="difflineplus">+                name=&quot;calendar-item-context-attendance-all&quot;</span>
<a href="#l2.151"></a><span id="l2.151" class="difflineplus">+                scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l2.152"></a><span id="l2.152" class="difflineplus">+            &lt;menupopup id=&quot;calendar-item-context-menu-alloccurrences-tentative-menupopup&quot;&gt;</span>
<a href="#l2.153"></a><span id="l2.153" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-tentative-all-menuitem&quot;</span>
<a href="#l2.154"></a><span id="l2.154" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.155"></a><span id="l2.155" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.156"></a><span id="l2.156" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.157"></a><span id="l2.157" class="difflineplus">+                        respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l2.158"></a><span id="l2.158" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.159"></a><span id="l2.159" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-tentative-all-dontsend-menuitem&quot;</span>
<a href="#l2.160"></a><span id="l2.160" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.161"></a><span id="l2.161" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.162"></a><span id="l2.162" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.163"></a><span id="l2.163" class="difflineplus">+                        respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l2.164"></a><span id="l2.164" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.165"></a><span id="l2.165" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.166"></a><span id="l2.166" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.167"></a><span id="l2.167" class="difflineplus">+          &lt;menu id=&quot;calendar-item-context-menu-attendance-decline-all-menu&quot;</span>
<a href="#l2.168"></a><span id="l2.168" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.all.declined.label;&quot;</span>
<a href="#l2.169"></a><span id="l2.169" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.all.declined.accesskey;&quot;</span>
<a href="#l2.170"></a><span id="l2.170" class="difflineplus">+                value=&quot;DECLINED&quot;</span>
<a href="#l2.171"></a><span id="l2.171" class="difflineplus">+                name=&quot;calendar-item-context-attendance-all&quot;</span>
<a href="#l2.172"></a><span id="l2.172" class="difflineplus">+                scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l2.173"></a><span id="l2.173" class="difflineplus">+            &lt;menupopup id=&quot;calendar-item-context-menu-alloccurrences-decline-menupopup&quot;&gt;</span>
<a href="#l2.174"></a><span id="l2.174" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-declined-all-menuitem&quot;</span>
<a href="#l2.175"></a><span id="l2.175" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.176"></a><span id="l2.176" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.177"></a><span id="l2.177" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.178"></a><span id="l2.178" class="difflineplus">+                        respvalue=&quot;DECLINED&quot;</span>
<a href="#l2.179"></a><span id="l2.179" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.180"></a><span id="l2.180" class="difflineplus">+              &lt;menuitem id=&quot;calendar-item-context-menu-attend-declined-all-dontsend-menuitem&quot;</span>
<a href="#l2.181"></a><span id="l2.181" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.182"></a><span id="l2.182" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.183"></a><span id="l2.183" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.184"></a><span id="l2.184" class="difflineplus">+                        respvalue=&quot;DECLINED&quot;</span>
<a href="#l2.185"></a><span id="l2.185" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.186"></a><span id="l2.186" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.187"></a><span id="l2.187" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.188"></a><span id="l2.188" class="difflineplus">+          &lt;menuitem id=&quot;calendar-item-context-menu-attendance-delegated-all-menu&quot;</span>
<a href="#l2.189"></a><span id="l2.189" class="difflineplus">+                    label=&quot;&amp;calendar.context.attendance.all.delegated.label;&quot;</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineplus">+                    name=&quot;calendar-item-context-attendance-delegated-all&quot;</span>
<a href="#l2.191"></a><span id="l2.191">                     scope=&quot;all-occurrences&quot;</span>
<a href="#l2.192"></a><span id="l2.192" class="difflineminus">-                    name=&quot;calendar-item-context-attendance-all&quot;</span>
<a href="#l2.193"></a><span id="l2.193" class="difflineminus">-                    label=&quot;&amp;read.only.tentative.label;&quot; value=&quot;TENTATIVE&quot;/&gt;</span>
<a href="#l2.194"></a><span id="l2.194" class="difflineminus">-          &lt;menuitem id=&quot;calendar-item-context-menu-attend-declined-all-menuitem&quot;</span>
<a href="#l2.195"></a><span id="l2.195" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.196"></a><span id="l2.196" class="difflineplus">+                    value=&quot;DELEGATED&quot;/&gt;</span>
<a href="#l2.197"></a><span id="l2.197" class="difflineplus">+          &lt;menuitem id=&quot;calendar-item-context-menu-attendance-needsaction-all-menu&quot;</span>
<a href="#l2.198"></a><span id="l2.198" class="difflineplus">+                    label=&quot;&amp;calendar.context.attendance.all.needsaction.label;&quot;</span>
<a href="#l2.199"></a><span id="l2.199" class="difflineplus">+                    name=&quot;calendar-item-context-attendance-needaction-all&quot;</span>
<a href="#l2.200"></a><span id="l2.200">                     scope=&quot;all-occurrences&quot;</span>
<a href="#l2.201"></a><span id="l2.201" class="difflineminus">-                    name=&quot;calendar-item-context-attendance-all&quot;</span>
<a href="#l2.202"></a><span id="l2.202" class="difflineminus">-                    label=&quot;&amp;read.only.decline.label;&quot; value=&quot;DECLINED&quot;/&gt;</span>
<a href="#l2.203"></a><span id="l2.203" class="difflineminus">-          &lt;menuitem id=&quot;calendar-item-context-menu-attend-needsaction-all-menuitem&quot;</span>
<a href="#l2.204"></a><span id="l2.204" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.205"></a><span id="l2.205" class="difflineminus">-                    scope=&quot;all-occurrences&quot;</span>
<a href="#l2.206"></a><span id="l2.206" class="difflineminus">-                    name=&quot;calendar-item-context-attendance-all&quot;</span>
<a href="#l2.207"></a><span id="l2.207" class="difflineminus">-                    label=&quot;&amp;read.only.needs.action.label;&quot; value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.208"></a><span id="l2.208" class="difflineplus">+                    value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.209"></a><span id="l2.209">         &lt;/menupopup&gt;</span>
<a href="#l2.210"></a><span id="l2.210">       &lt;/menu&gt;</span>
<a href="#l2.211"></a><span id="l2.211">     &lt;/menupopup&gt;</span>
<a href="#l2.212"></a><span id="l2.212"> </span>
<a href="#l2.213"></a><span id="l2.213">     &lt;!-- CALENDAR VIEW CONTEXT MENU --&gt;</span>
<a href="#l2.214"></a><span id="l2.214">     &lt;menupopup id=&quot;calendar-view-context-menu&quot;&gt;</span>
<a href="#l2.215"></a><span id="l2.215">       &lt;menuitem id=&quot;calendar-view-context-menu-newevent&quot;</span>
<a href="#l2.216"></a><span id="l2.216">                 label=&quot;&amp;calendar.context.newevent.label;&quot;</span>
<a href="#l2.217"></a><span id="l2.217" class="difflineat">@@ -437,70 +542,259 @@</span>
<a href="#l2.218"></a><span id="l2.218">       &lt;/menu&gt;</span>
<a href="#l2.219"></a><span id="l2.219">       &lt;menuseparator/&gt;</span>
<a href="#l2.220"></a><span id="l2.220">       &lt;menuitem id=&quot;task-context-menu-delete&quot;</span>
<a href="#l2.221"></a><span id="l2.221">                 label=&quot;&amp;calendar.context.deletetask.label;&quot;</span>
<a href="#l2.222"></a><span id="l2.222">                 accesskey=&quot;&amp;calendar.context.deletetask.accesskey;&quot;</span>
<a href="#l2.223"></a><span id="l2.223">                 command=&quot;calendar_delete_todo_command&quot;</span>
<a href="#l2.224"></a><span id="l2.224">                 observes=&quot;calendar_delete_todo_command&quot;/&gt;</span>
<a href="#l2.225"></a><span id="l2.225">       &lt;menu id=&quot;task-context-menu-attendance-menu&quot;</span>
<a href="#l2.226"></a><span id="l2.226" class="difflineminus">-            class=&quot;attendance-menu&quot;</span>
<a href="#l2.227"></a><span id="l2.227">             label=&quot;&amp;calendar.context.attendance.menu.label;&quot;</span>
<a href="#l2.228"></a><span id="l2.228">             accesskey=&quot;&amp;calendar.context.attendance.menu.accesskey;&quot;</span>
<a href="#l2.229"></a><span id="l2.229" class="difflineminus">-            oncommand=&quot;setContextPartstat(event.target.value, event.target.getAttribute('scope'), getSelectedTasks())&quot;</span>
<a href="#l2.230"></a><span id="l2.230" class="difflineplus">+            oncommand=&quot;setContextPartstat(event.target, getSelectedTasks())&quot;</span>
<a href="#l2.231"></a><span id="l2.231">             observes=&quot;calendar_attendance_command&quot;&gt;</span>
<a href="#l2.232"></a><span id="l2.232">         &lt;menupopup id=&quot;task-context-menu-attendance-menupopup&quot;&gt;</span>
<a href="#l2.233"></a><span id="l2.233">           &lt;label id=&quot;task-context-attendance-thisoccurrence-label&quot;</span>
<a href="#l2.234"></a><span id="l2.234">                  class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l2.235"></a><span id="l2.235" class="difflineminus">-                 scope=&quot;all-occurrences&quot;</span>
<a href="#l2.236"></a><span id="l2.236" class="difflineplus">+                 scope=&quot;this-occurrence&quot;</span>
<a href="#l2.237"></a><span id="l2.237">                  value=&quot;&amp;calendar.context.attendance.occurrence.label;&quot;/&gt;</span>
<a href="#l2.238"></a><span id="l2.238" class="difflineminus">-          &lt;menuitem id=&quot;task-context-menu-attend-accept-menuitem&quot;</span>
<a href="#l2.239"></a><span id="l2.239" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.240"></a><span id="l2.240" class="difflineminus">-                    scope=&quot;this-occurrence&quot;</span>
<a href="#l2.241"></a><span id="l2.241" class="difflineminus">-                    name=&quot;task-context-attendance&quot;</span>
<a href="#l2.242"></a><span id="l2.242" class="difflineminus">-                    label=&quot;&amp;read.only.accept.label;&quot; value=&quot;ACCEPTED&quot;/&gt;</span>
<a href="#l2.243"></a><span id="l2.243" class="difflineminus">-          &lt;menuitem id=&quot;task-context-menu-attend-tentative-menuitem&quot;</span>
<a href="#l2.244"></a><span id="l2.244" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.245"></a><span id="l2.245" class="difflineminus">-                    scope=&quot;this-occurrence&quot;</span>
<a href="#l2.246"></a><span id="l2.246" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-accepted-menu&quot;</span>
<a href="#l2.247"></a><span id="l2.247" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.occ.accepted.label;&quot;</span>
<a href="#l2.248"></a><span id="l2.248" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.occ.accepted.accesskey;&quot;</span>
<a href="#l2.249"></a><span id="l2.249" class="difflineplus">+                value=&quot;ACCEPTED&quot;</span>
<a href="#l2.250"></a><span id="l2.250" class="difflineplus">+                name=&quot;task-context-attendance&quot;</span>
<a href="#l2.251"></a><span id="l2.251" class="difflineplus">+                scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l2.252"></a><span id="l2.252" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-occurrence-accepted-menupopup&quot;&gt;</span>
<a href="#l2.253"></a><span id="l2.253" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-accept-menuitem&quot;</span>
<a href="#l2.254"></a><span id="l2.254" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.255"></a><span id="l2.255" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.256"></a><span id="l2.256" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.257"></a><span id="l2.257" class="difflineplus">+                        respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l2.258"></a><span id="l2.258" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.259"></a><span id="l2.259" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-accept-dontsend-menuitem&quot;</span>
<a href="#l2.260"></a><span id="l2.260" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.261"></a><span id="l2.261" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.262"></a><span id="l2.262" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.263"></a><span id="l2.263" class="difflineplus">+                        respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l2.264"></a><span id="l2.264" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.265"></a><span id="l2.265" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.266"></a><span id="l2.266" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.267"></a><span id="l2.267" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-tentative-menu&quot;</span>
<a href="#l2.268"></a><span id="l2.268" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.occ.tentative.label;&quot;</span>
<a href="#l2.269"></a><span id="l2.269" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.occ.tentative.accesskey;&quot;</span>
<a href="#l2.270"></a><span id="l2.270" class="difflineplus">+                value=&quot;TENTATIVE&quot;</span>
<a href="#l2.271"></a><span id="l2.271" class="difflineplus">+                name=&quot;task-context-attendance&quot;</span>
<a href="#l2.272"></a><span id="l2.272" class="difflineplus">+                scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l2.273"></a><span id="l2.273" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-occurrence-tentative-menupopup&quot;&gt;</span>
<a href="#l2.274"></a><span id="l2.274" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-tentative-menuitem&quot;</span>
<a href="#l2.275"></a><span id="l2.275" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.276"></a><span id="l2.276" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.277"></a><span id="l2.277" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.278"></a><span id="l2.278" class="difflineplus">+                        respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l2.279"></a><span id="l2.279" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.280"></a><span id="l2.280" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-tentative-dontsend-menuitem&quot;</span>
<a href="#l2.281"></a><span id="l2.281" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.282"></a><span id="l2.282" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.283"></a><span id="l2.283" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.284"></a><span id="l2.284" class="difflineplus">+                        respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l2.285"></a><span id="l2.285" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.286"></a><span id="l2.286" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.287"></a><span id="l2.287" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.288"></a><span id="l2.288" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-declined-menu&quot;</span>
<a href="#l2.289"></a><span id="l2.289" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.occ.declined.label;&quot;</span>
<a href="#l2.290"></a><span id="l2.290" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.occ.declined.accesskey;&quot;</span>
<a href="#l2.291"></a><span id="l2.291" class="difflineplus">+                value=&quot;DECLINED&quot;</span>
<a href="#l2.292"></a><span id="l2.292" class="difflineplus">+                name=&quot;task-context-attendance&quot;</span>
<a href="#l2.293"></a><span id="l2.293" class="difflineplus">+                scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l2.294"></a><span id="l2.294" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-occurrence-tentative-menupopup&quot;&gt;</span>
<a href="#l2.295"></a><span id="l2.295" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-declined-menuitem&quot;</span>
<a href="#l2.296"></a><span id="l2.296" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.297"></a><span id="l2.297" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.298"></a><span id="l2.298" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.299"></a><span id="l2.299" class="difflineplus">+                        respvalue=&quot;DECLINED&quot;</span>
<a href="#l2.300"></a><span id="l2.300" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.301"></a><span id="l2.301" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-declined-dontsend-menuitem&quot;</span>
<a href="#l2.302"></a><span id="l2.302" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.303"></a><span id="l2.303" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.304"></a><span id="l2.304" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.305"></a><span id="l2.305" class="difflineplus">+                        respvalue=&quot;DECLINED&quot;</span>
<a href="#l2.306"></a><span id="l2.306" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.307"></a><span id="l2.307" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.308"></a><span id="l2.308" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.309"></a><span id="l2.309" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-inprogress-menu&quot;</span>
<a href="#l2.310"></a><span id="l2.310" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.occ.inprogress.label;&quot;</span>
<a href="#l2.311"></a><span id="l2.311" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.occ.inprogress.accesskey;&quot;</span>
<a href="#l2.312"></a><span id="l2.312" class="difflineplus">+                value=&quot;IN-PROGRESS&quot;</span>
<a href="#l2.313"></a><span id="l2.313" class="difflineplus">+                name=&quot;task-context-attendance&quot;</span>
<a href="#l2.314"></a><span id="l2.314" class="difflineplus">+                scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l2.315"></a><span id="l2.315" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-occurrence-inprogress-menupopup&quot;&gt;</span>
<a href="#l2.316"></a><span id="l2.316" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-inprogress-menuitem&quot;</span>
<a href="#l2.317"></a><span id="l2.317" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.318"></a><span id="l2.318" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.319"></a><span id="l2.319" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.320"></a><span id="l2.320" class="difflineplus">+                        respvalue=&quot;IN-PROGRESS&quot;</span>
<a href="#l2.321"></a><span id="l2.321" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.322"></a><span id="l2.322" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-inprogress-dontsend-menuitem&quot;</span>
<a href="#l2.323"></a><span id="l2.323" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.324"></a><span id="l2.324" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.325"></a><span id="l2.325" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.326"></a><span id="l2.326" class="difflineplus">+                        respvalue=&quot;IN-PROGRESS&quot;</span>
<a href="#l2.327"></a><span id="l2.327" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.328"></a><span id="l2.328" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.329"></a><span id="l2.329" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.330"></a><span id="l2.330" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-completed-menu&quot;</span>
<a href="#l2.331"></a><span id="l2.331" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.occ.completed.label;&quot;</span>
<a href="#l2.332"></a><span id="l2.332" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.occ.completed.accesskey;&quot;</span>
<a href="#l2.333"></a><span id="l2.333" class="difflineplus">+                value=&quot;COMPLETED&quot;</span>
<a href="#l2.334"></a><span id="l2.334" class="difflineplus">+                name=&quot;task-context-attendance&quot;</span>
<a href="#l2.335"></a><span id="l2.335" class="difflineplus">+                scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l2.336"></a><span id="l2.336" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-occurrence-completed-menupopup&quot;&gt;</span>
<a href="#l2.337"></a><span id="l2.337" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-completed-menuitem&quot;</span>
<a href="#l2.338"></a><span id="l2.338" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.339"></a><span id="l2.339" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.340"></a><span id="l2.340" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.341"></a><span id="l2.341" class="difflineplus">+                        respvalue=&quot;COMPLETED&quot;</span>
<a href="#l2.342"></a><span id="l2.342" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.343"></a><span id="l2.343" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-completed-dontsend-menuitem&quot;</span>
<a href="#l2.344"></a><span id="l2.344" class="difflineplus">+                        scope=&quot;this-occurrence&quot;</span>
<a href="#l2.345"></a><span id="l2.345" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.346"></a><span id="l2.346" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.347"></a><span id="l2.347" class="difflineplus">+                        respvalue=&quot;COMPLETED&quot;</span>
<a href="#l2.348"></a><span id="l2.348" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.349"></a><span id="l2.349" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.350"></a><span id="l2.350" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.351"></a><span id="l2.351" class="difflineplus">+          &lt;menuitem id=&quot;task-context-menu-attendance-delegated-menu&quot;</span>
<a href="#l2.352"></a><span id="l2.352" class="difflineplus">+                    label=&quot;&amp;calendar.context.attendance.occ.delegated.label;&quot;</span>
<a href="#l2.353"></a><span id="l2.353">                     name=&quot;task-context-attendance&quot;</span>
<a href="#l2.354"></a><span id="l2.354" class="difflineminus">-                    label=&quot;&amp;read.only.tentative.label;&quot; value=&quot;TENTATIVE&quot;/&gt;</span>
<a href="#l2.355"></a><span id="l2.355" class="difflineminus">-          &lt;menuitem id=&quot;task-context-menu-attend-declined-menuitem&quot;</span>
<a href="#l2.356"></a><span id="l2.356" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.357"></a><span id="l2.357">                     scope=&quot;this-occurrence&quot;</span>
<a href="#l2.358"></a><span id="l2.358" class="difflineplus">+                    value=&quot;DELEGATED&quot;/&gt;</span>
<a href="#l2.359"></a><span id="l2.359" class="difflineplus">+          &lt;menuitem id=&quot;task-context-menu-attendance-needsaction-menu&quot;</span>
<a href="#l2.360"></a><span id="l2.360" class="difflineplus">+                    label=&quot;&amp;calendar.context.attendance.occ.needsaction.label;&quot;</span>
<a href="#l2.361"></a><span id="l2.361">                     name=&quot;task-context-attendance&quot;</span>
<a href="#l2.362"></a><span id="l2.362" class="difflineminus">-                    label=&quot;&amp;read.only.decline.label;&quot; value=&quot;DECLINED&quot;/&gt;</span>
<a href="#l2.363"></a><span id="l2.363" class="difflineminus">-          &lt;menuitem id=&quot;task-context-menu-attend-needsaction-menuitem&quot;</span>
<a href="#l2.364"></a><span id="l2.364" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.365"></a><span id="l2.365">                     scope=&quot;this-occurrence&quot;</span>
<a href="#l2.366"></a><span id="l2.366" class="difflineminus">-                    name=&quot;task-context-attendance&quot;</span>
<a href="#l2.367"></a><span id="l2.367" class="difflineminus">-                    label=&quot;&amp;read.only.needs.action.label;&quot; value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.368"></a><span id="l2.368" class="difflineplus">+                    value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.369"></a><span id="l2.369">           &lt;label id=&quot;task-context-attendance-alloccurrence-label&quot;</span>
<a href="#l2.370"></a><span id="l2.370">                  class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l2.371"></a><span id="l2.371">                  scope=&quot;all-occurrences&quot;</span>
<a href="#l2.372"></a><span id="l2.372" class="difflineminus">-                 value=&quot;&amp;calendar.context.attendance.all.label;&quot;/&gt;</span>
<a href="#l2.373"></a><span id="l2.373" class="difflineminus">-          &lt;menuitem id=&quot;task-context-menu-attend-accept-all-menuitem&quot;</span>
<a href="#l2.374"></a><span id="l2.374" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.375"></a><span id="l2.375" class="difflineminus">-                    scope=&quot;all-occurrences&quot;</span>
<a href="#l2.376"></a><span id="l2.376" class="difflineminus">-                    name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.377"></a><span id="l2.377" class="difflineminus">-                    label=&quot;&amp;read.only.accept.label;&quot; value=&quot;ACCEPTED&quot;/&gt;</span>
<a href="#l2.378"></a><span id="l2.378" class="difflineminus">-          &lt;menuitem id=&quot;task-context-menu-attend-tentative-all-menuitem&quot;</span>
<a href="#l2.379"></a><span id="l2.379" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.380"></a><span id="l2.380" class="difflineplus">+                 value=&quot;&amp;calendar.context.attendance.all2.label;&quot;/&gt;</span>
<a href="#l2.381"></a><span id="l2.381" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-accepted-all-menu&quot;</span>
<a href="#l2.382"></a><span id="l2.382" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.all.accepted.label;&quot;</span>
<a href="#l2.383"></a><span id="l2.383" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.all.accepted.accesskey;&quot;</span>
<a href="#l2.384"></a><span id="l2.384" class="difflineplus">+                value=&quot;ACCEPTED&quot;</span>
<a href="#l2.385"></a><span id="l2.385" class="difflineplus">+                name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.386"></a><span id="l2.386" class="difflineplus">+                scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l2.387"></a><span id="l2.387" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-alloccurrences-accept-menupopup&quot;&gt;</span>
<a href="#l2.388"></a><span id="l2.388" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-accept-all-menuitem&quot;</span>
<a href="#l2.389"></a><span id="l2.389" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.390"></a><span id="l2.390" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.391"></a><span id="l2.391" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.392"></a><span id="l2.392" class="difflineplus">+                        respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l2.393"></a><span id="l2.393" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.394"></a><span id="l2.394" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-accept-all-dontsend-menuitem&quot;</span>
<a href="#l2.395"></a><span id="l2.395" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.396"></a><span id="l2.396" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.397"></a><span id="l2.397" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.398"></a><span id="l2.398" class="difflineplus">+                        respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l2.399"></a><span id="l2.399" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.400"></a><span id="l2.400" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.401"></a><span id="l2.401" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.402"></a><span id="l2.402" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-tentative-all-menu&quot;</span>
<a href="#l2.403"></a><span id="l2.403" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.all.tentative.label;&quot;</span>
<a href="#l2.404"></a><span id="l2.404" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.all.tentative.accesskey;&quot;</span>
<a href="#l2.405"></a><span id="l2.405" class="difflineplus">+                value=&quot;TENTATIVE&quot;</span>
<a href="#l2.406"></a><span id="l2.406" class="difflineplus">+                name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.407"></a><span id="l2.407" class="difflineplus">+                scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l2.408"></a><span id="l2.408" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-alloccurrences-tentative-menupopup&quot;&gt;</span>
<a href="#l2.409"></a><span id="l2.409" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-tentative-all-menuitem&quot;</span>
<a href="#l2.410"></a><span id="l2.410" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.411"></a><span id="l2.411" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.412"></a><span id="l2.412" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.413"></a><span id="l2.413" class="difflineplus">+                        respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l2.414"></a><span id="l2.414" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.415"></a><span id="l2.415" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-tentative-all-dontsend-menuitem&quot;</span>
<a href="#l2.416"></a><span id="l2.416" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.417"></a><span id="l2.417" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.418"></a><span id="l2.418" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.419"></a><span id="l2.419" class="difflineplus">+                        respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l2.420"></a><span id="l2.420" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.421"></a><span id="l2.421" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.422"></a><span id="l2.422" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.423"></a><span id="l2.423" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-decline-all-menu&quot;</span>
<a href="#l2.424"></a><span id="l2.424" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.all.declined.label;&quot;</span>
<a href="#l2.425"></a><span id="l2.425" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.all.declined.accesskey;&quot;</span>
<a href="#l2.426"></a><span id="l2.426" class="difflineplus">+                value=&quot;DECLINED&quot;</span>
<a href="#l2.427"></a><span id="l2.427" class="difflineplus">+                name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.428"></a><span id="l2.428" class="difflineplus">+                scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l2.429"></a><span id="l2.429" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-alloccurrences-decline-menupopup&quot;&gt;</span>
<a href="#l2.430"></a><span id="l2.430" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-declined-all-menuitem&quot;</span>
<a href="#l2.431"></a><span id="l2.431" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.432"></a><span id="l2.432" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.433"></a><span id="l2.433" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.434"></a><span id="l2.434" class="difflineplus">+                        respvalue=&quot;DECLINED&quot;</span>
<a href="#l2.435"></a><span id="l2.435" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.436"></a><span id="l2.436" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-declined-all-dontsend-menuitem&quot;</span>
<a href="#l2.437"></a><span id="l2.437" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.438"></a><span id="l2.438" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.439"></a><span id="l2.439" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.440"></a><span id="l2.440" class="difflineplus">+                        respvalue=&quot;DECLINED&quot;</span>
<a href="#l2.441"></a><span id="l2.441" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.442"></a><span id="l2.442" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.443"></a><span id="l2.443" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.444"></a><span id="l2.444" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-inprogress-all-menu&quot;</span>
<a href="#l2.445"></a><span id="l2.445" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.all.inprogress.label;&quot;</span>
<a href="#l2.446"></a><span id="l2.446" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.all.inprogress.accesskey;&quot;</span>
<a href="#l2.447"></a><span id="l2.447" class="difflineplus">+                value=&quot;IN-PROGRESS&quot;</span>
<a href="#l2.448"></a><span id="l2.448" class="difflineplus">+                name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.449"></a><span id="l2.449" class="difflineplus">+                scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l2.450"></a><span id="l2.450" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-alloccurrences-inprogress-menupopup&quot;&gt;</span>
<a href="#l2.451"></a><span id="l2.451" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-inprogress-all-menuitem&quot;</span>
<a href="#l2.452"></a><span id="l2.452" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.453"></a><span id="l2.453" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.454"></a><span id="l2.454" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.455"></a><span id="l2.455" class="difflineplus">+                        respvalue=&quot;IN-PROGRESS&quot;</span>
<a href="#l2.456"></a><span id="l2.456" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.457"></a><span id="l2.457" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-inprogress-all-dontsend-menuitem&quot;</span>
<a href="#l2.458"></a><span id="l2.458" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.459"></a><span id="l2.459" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.460"></a><span id="l2.460" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.461"></a><span id="l2.461" class="difflineplus">+                        respvalue=&quot;IN-PROGRESS&quot;</span>
<a href="#l2.462"></a><span id="l2.462" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.463"></a><span id="l2.463" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.464"></a><span id="l2.464" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.465"></a><span id="l2.465" class="difflineplus">+          &lt;menu id=&quot;task-context-menu-attendance-completed-all-menu&quot;</span>
<a href="#l2.466"></a><span id="l2.466" class="difflineplus">+                label=&quot;&amp;calendar.context.attendance.all.completed.label;&quot;</span>
<a href="#l2.467"></a><span id="l2.467" class="difflineplus">+                accesskey=&quot;&amp;calendar.context.attendance.all.completed.accesskey;&quot;</span>
<a href="#l2.468"></a><span id="l2.468" class="difflineplus">+                value=&quot;COMPLETED&quot;</span>
<a href="#l2.469"></a><span id="l2.469" class="difflineplus">+                name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.470"></a><span id="l2.470" class="difflineplus">+                scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l2.471"></a><span id="l2.471" class="difflineplus">+            &lt;menupopup id=&quot;task-context-menu-alloccurrences-completed-menupopup&quot;&gt;</span>
<a href="#l2.472"></a><span id="l2.472" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-completed-all-menuitem&quot;</span>
<a href="#l2.473"></a><span id="l2.473" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.474"></a><span id="l2.474" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l2.475"></a><span id="l2.475" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l2.476"></a><span id="l2.476" class="difflineplus">+                        respvalue=&quot;COMPLETED&quot;</span>
<a href="#l2.477"></a><span id="l2.477" class="difflineplus">+                        respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l2.478"></a><span id="l2.478" class="difflineplus">+              &lt;menuitem id=&quot;task-context-menu-attend-completed-all-dontsend-menuitem&quot;</span>
<a href="#l2.479"></a><span id="l2.479" class="difflineplus">+                        scope=&quot;all-occurrences&quot;</span>
<a href="#l2.480"></a><span id="l2.480" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l2.481"></a><span id="l2.481" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l2.482"></a><span id="l2.482" class="difflineplus">+                        respvalue=&quot;COMPLETED&quot;</span>
<a href="#l2.483"></a><span id="l2.483" class="difflineplus">+                        respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l2.484"></a><span id="l2.484" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l2.485"></a><span id="l2.485" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l2.486"></a><span id="l2.486" class="difflineplus">+          &lt;menuitem id=&quot;task-context-menu-attendance-delegated-all-menu&quot;</span>
<a href="#l2.487"></a><span id="l2.487" class="difflineplus">+                    label=&quot;&amp;calendar.context.attendance.all.delegated.label;&quot;</span>
<a href="#l2.488"></a><span id="l2.488" class="difflineplus">+                    name=&quot;task-context-attendance-delegated-all&quot;</span>
<a href="#l2.489"></a><span id="l2.489">                     scope=&quot;all-occurrences&quot;</span>
<a href="#l2.490"></a><span id="l2.490" class="difflineminus">-                    name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.491"></a><span id="l2.491" class="difflineminus">-                    label=&quot;&amp;read.only.tentative.label;&quot; value=&quot;TENTATIVE&quot;/&gt;</span>
<a href="#l2.492"></a><span id="l2.492" class="difflineminus">-          &lt;menuitem id=&quot;task-context-menu-attend-declined-all-menuitem&quot;</span>
<a href="#l2.493"></a><span id="l2.493" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.494"></a><span id="l2.494" class="difflineplus">+                    value=&quot;DELEGATED&quot;/&gt;</span>
<a href="#l2.495"></a><span id="l2.495" class="difflineplus">+          &lt;menuitem id=&quot;task-context-menu-attendance-needsaction-all-menu&quot;</span>
<a href="#l2.496"></a><span id="l2.496" class="difflineplus">+                    label=&quot;&amp;calendar.context.attendance.all.delegated.label;&quot;</span>
<a href="#l2.497"></a><span id="l2.497" class="difflineplus">+                    name=&quot;task-context-attendance-needaction-all&quot;</span>
<a href="#l2.498"></a><span id="l2.498">                     scope=&quot;all-occurrences&quot;</span>
<a href="#l2.499"></a><span id="l2.499" class="difflineminus">-                    name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.500"></a><span id="l2.500" class="difflineminus">-                    label=&quot;&amp;read.only.decline.label;&quot; value=&quot;DECLINED&quot;/&gt;</span>
<a href="#l2.501"></a><span id="l2.501" class="difflineminus">-          &lt;menuitem id=&quot;task-context-menu-attend-needsaction-all-menuitem&quot;</span>
<a href="#l2.502"></a><span id="l2.502" class="difflineminus">-                    type=&quot;radio&quot;</span>
<a href="#l2.503"></a><span id="l2.503" class="difflineminus">-                    scope=&quot;all-occurrences&quot;</span>
<a href="#l2.504"></a><span id="l2.504" class="difflineminus">-                    name=&quot;task-context-attendance-all&quot;</span>
<a href="#l2.505"></a><span id="l2.505" class="difflineminus">-                    label=&quot;&amp;read.only.needs.action.label;&quot; value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.506"></a><span id="l2.506" class="difflineplus">+                    value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l2.507"></a><span id="l2.507">         &lt;/menupopup&gt;</span>
<a href="#l2.508"></a><span id="l2.508">       &lt;/menu&gt;</span>
<a href="#l2.509"></a><span id="l2.509">       &lt;menuseparator id=&quot;task-context-menu-separator-filter&quot;/&gt;</span>
<a href="#l2.510"></a><span id="l2.510">       &lt;menu id=&quot;task-context-menu-filter-todaypane&quot;</span>
<a href="#l2.511"></a><span id="l2.511">             label=&quot;&amp;calendar.tasks.view.filtertasks.label;&quot;</span>
<a href="#l2.512"></a><span id="l2.512">             accesskey=&quot;&amp;calendar.tasks.view.filtertasks.accesskey;&quot;&gt;</span>
<a href="#l2.513"></a><span id="l2.513">         &lt;menupopup id=&quot;task-context-menu-filter-todaypane-popup&quot;&gt;</span>
<a href="#l2.514"></a><span id="l2.514">           &lt;observes element=&quot;unifinder-todo-filter-broadcaster&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-item-editing.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-item-editing.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -705,62 +705,93 @@ function canRedo() {</span>
<a href="#l3.4"></a><span id="l3.4">  */</span>
<a href="#l3.5"></a><span id="l3.5"> function updateUndoRedoMenu() {</span>
<a href="#l3.6"></a><span id="l3.6">     goUpdateCommand(&quot;cmd_undo&quot;);</span>
<a href="#l3.7"></a><span id="l3.7">     goUpdateCommand(&quot;cmd_redo&quot;);</span>
<a href="#l3.8"></a><span id="l3.8"> }</span>
<a href="#l3.9"></a><span id="l3.9"> </span>
<a href="#l3.10"></a><span id="l3.10"> /**</span>
<a href="#l3.11"></a><span id="l3.11">  * Updates the partstat of the calendar owner for specified items triggered by a</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">- * ontext menu operation</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+ * context menu operation</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+ *</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+ * For a documentation of the expected bahaviours for  different use cases of</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+ * dealing with context menu partstat actions, see also setupAttendanceMenu(...)</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+ * in calendar-ui-utils.js</span>
<a href="#l3.18"></a><span id="l3.18">  *</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">- * @param {String}  aPartStat     a valid partstat string as per RfC 5545</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">- * @param {String}  aScope        indicates the scope of anrecurring event - must</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">- *                                  be 'this-occurrence' || 'all-occurences'</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineminus">- * @param {Array}   aItems        an array of calEvent or calIToDo items</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineminus">- * @param {Object}  aExtResponse  [optional] an object to provide additional</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineminus">- *                                  parameters for sending itip messages as response</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineminus">- *                                  response</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineplus">+ * @param {EventTarget}  aTarget   the target of the triggering event</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineplus">+ * @param {Array}        aItems    an array of calEvent or calIToDo items</span>
<a href="#l3.28"></a><span id="l3.28">  */</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-function setContextPartstat(aPartStat, aScope, aItems, aExtResponse=null) {</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+function setContextPartstat(aTarget, aItems) {</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+    /**</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+     * Provides the participation representing the user for a provided item</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+     *</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+     * @param   {calEvent|calTodo}  aItem  The calendar item to inspect</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineplus">+     * @returns {?calIAttendee}            An calIAttendee object or null if no</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+     *                                       participant was detected</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineplus">+     */</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+    function getParticipant(aItem) {</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineplus">+        let party = null;</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineplus">+        if (cal.isInvitation(aItem)) {</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineplus">+            party = cal.getInvitedAttendee(aItem);</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineplus">+        } else if (aItem.organizer &amp;&amp; aItem.getAttendees({}).length) {</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineplus">+            let calOrgId = aItem.calendar.getProperty(&quot;organizerId&quot;);</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineplus">+            if (calOrgId.toLowerCase() == aItem.organizer.id.toLowerCase()) {</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineplus">+                party = aItem.organizer;</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineplus">+            }</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineplus">+        }</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineplus">+        return party;</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineplus">+    }</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineplus">+</span>
<a href="#l3.51"></a><span id="l3.51">     startBatchTransaction();</span>
<a href="#l3.52"></a><span id="l3.52">     try {</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineplus">+        // TODO: make sure we overwrite the partstat of all occurrences in</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineplus">+        // the selection, if the partstat of the respective master item is</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineplus">+        // changed - see matrix in the doc block of setupAttendanceMenu(...)</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineplus">+        // in calendar-ui-utils.js</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineplus">+</span>
<a href="#l3.58"></a><span id="l3.58">         for (let oldItem of aItems) {</span>
<a href="#l3.59"></a><span id="l3.59">             // Skip this item if its calendar is read only.</span>
<a href="#l3.60"></a><span id="l3.60">             if (oldItem.calendar.readOnly) {</span>
<a href="#l3.61"></a><span id="l3.61">                 continue;</span>
<a href="#l3.62"></a><span id="l3.62">             }</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineminus">-            if (aScope == &quot;all-occurrences&quot;) {</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineplus">+            if (aTarget.getAttribute(&quot;scope&quot;) == &quot;all-occurrences&quot;) {</span>
<a href="#l3.65"></a><span id="l3.65">                 oldItem = oldItem.parentItem;</span>
<a href="#l3.66"></a><span id="l3.66">             }</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineminus">-            let attendee = null;</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-            if (cal.isInvitation(oldItem)) {</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-                // Check for the invited attendee first, this is more important</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineminus">-                attendee = cal.getInvitedAttendee(oldItem);</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineminus">-            } else if (oldItem.organizer &amp;&amp; oldItem.getAttendees({}).length) {</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineminus">-                // Now check the organizer. This should be done last.</span>
<a href="#l3.73"></a><span id="l3.73" class="difflineminus">-                let calOrgId = oldItem.calendar.getProperty(&quot;organizerId&quot;);</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineminus">-                if (calOrgId == oldItem.organizer.id) {</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineminus">-                    attendee = oldItem.organizer;</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineplus">+            let attendee = getParticipant(oldItem);</span>
<a href="#l3.77"></a><span id="l3.77" class="difflineplus">+            if (attendee) {</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineplus">+                // skip this item if the partstat for the participant hasn't</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineplus">+                // changed. otherwise we would allways perfom updade operations</span>
<a href="#l3.80"></a><span id="l3.80" class="difflineplus">+                // for recurring events on both, the master and the occurrence</span>
<a href="#l3.81"></a><span id="l3.81" class="difflineplus">+                // item</span>
<a href="#l3.82"></a><span id="l3.82" class="difflineplus">+                let partStat = aTarget.getAttribute(&quot;respvalue&quot;);</span>
<a href="#l3.83"></a><span id="l3.83" class="difflineplus">+                if (attendee.participationStatus == partStat) {</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineplus">+                    continue;</span>
<a href="#l3.85"></a><span id="l3.85">                 }</span>
<a href="#l3.86"></a><span id="l3.86" class="difflineminus">-            }</span>
<a href="#l3.87"></a><span id="l3.87"> </span>
<a href="#l3.88"></a><span id="l3.88" class="difflineminus">-            if (attendee) {</span>
<a href="#l3.89"></a><span id="l3.89">                 let newItem = oldItem.clone();</span>
<a href="#l3.90"></a><span id="l3.90">                 let newAttendee = attendee.clone();</span>
<a href="#l3.91"></a><span id="l3.91" class="difflineminus">-</span>
<a href="#l3.92"></a><span id="l3.92" class="difflineminus">-                newAttendee.participationStatus = aPartStat;</span>
<a href="#l3.93"></a><span id="l3.93" class="difflineplus">+                newAttendee.participationStatus = partStat;</span>
<a href="#l3.94"></a><span id="l3.94">                 if (newAttendee.isOrganizer) {</span>
<a href="#l3.95"></a><span id="l3.95">                     newItem.organizer = newAttendee;</span>
<a href="#l3.96"></a><span id="l3.96">                 } else {</span>
<a href="#l3.97"></a><span id="l3.97">                     newItem.removeAttendee(attendee);</span>
<a href="#l3.98"></a><span id="l3.98">                     newItem.addAttendee(newAttendee);</span>
<a href="#l3.99"></a><span id="l3.99">                 }</span>
<a href="#l3.100"></a><span id="l3.100"> </span>
<a href="#l3.101"></a><span id="l3.101" class="difflineminus">-                doTransaction(&quot;modify&quot;, newItem, newItem.calendar, oldItem, null, aExtResponse);</span>
<a href="#l3.102"></a><span id="l3.102" class="difflineplus">+                let extResponse = null;</span>
<a href="#l3.103"></a><span id="l3.103" class="difflineplus">+                if (aTarget.hasAttribute(&quot;respmode&quot;)) {</span>
<a href="#l3.104"></a><span id="l3.104" class="difflineplus">+                    let mode = aTarget.getAttribute(&quot;respmode&quot;);</span>
<a href="#l3.105"></a><span id="l3.105" class="difflineplus">+                    let itipMode = Ci.calIItipItem[mode];</span>
<a href="#l3.106"></a><span id="l3.106" class="difflineplus">+                    extResponse = { responseMode: itipMode };</span>
<a href="#l3.107"></a><span id="l3.107" class="difflineplus">+                }</span>
<a href="#l3.108"></a><span id="l3.108" class="difflineplus">+</span>
<a href="#l3.109"></a><span id="l3.109" class="difflineplus">+                doTransaction(</span>
<a href="#l3.110"></a><span id="l3.110" class="difflineplus">+                    &quot;modify&quot;, newItem, newItem.calendar,</span>
<a href="#l3.111"></a><span id="l3.111" class="difflineplus">+                    oldItem, null, extResponse</span>
<a href="#l3.112"></a><span id="l3.112" class="difflineplus">+                );</span>
<a href="#l3.113"></a><span id="l3.113">             }</span>
<a href="#l3.114"></a><span id="l3.114">         }</span>
<a href="#l3.115"></a><span id="l3.115">     } catch (e) {</span>
<a href="#l3.116"></a><span id="l3.116" class="difflineminus">-        cal.ERROR(&quot;Error setting partstat: &quot; + e);</span>
<a href="#l3.117"></a><span id="l3.117" class="difflineplus">+        cal.ERROR(&quot;Error setting partstat: &quot; + e + &quot;\r\n&quot;);</span>
<a href="#l3.118"></a><span id="l3.118">     } finally {</span>
<a href="#l3.119"></a><span id="l3.119">         endBatchTransaction();</span>
<a href="#l3.120"></a><span id="l3.120">     }</span>
<a href="#l3.121"></a><span id="l3.121"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -607,48 +607,297 @@ function updateSelectedLabel(aElement) {</span>
<a href="#l4.4"></a><span id="l4.4">     let selectedIndex = aElement.selectedIndex;</span>
<a href="#l4.5"></a><span id="l4.5">     aElement.selectedIndex = -1;</span>
<a href="#l4.6"></a><span id="l4.6">     aElement.selectedIndex = selectedIndex;</span>
<a href="#l4.7"></a><span id="l4.7"> }</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> /**</span>
<a href="#l4.10"></a><span id="l4.10">  * Sets up the attendance context menu, based on the given items</span>
<a href="#l4.11"></a><span id="l4.11">  *</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">- * @param aMenu     The DOM Node of the menupopup to set up</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">- * @param aItems    The array of items to consider</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+ * @param {nsIDOMNode}  aMenu   The context menu item containing the required</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+ *                                menu or menuitem elements</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+ * @param {Array}       aItems  An array of the selecetd calEvent or calTodo</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+ *                                items to display the context menu for</span>
<a href="#l4.18"></a><span id="l4.18">  */</span>
<a href="#l4.19"></a><span id="l4.19"> function setupAttendanceMenu(aMenu, aItems) {</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineminus">-    function getInvStat(item) {</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineminus">-        let attendee = null;</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineminus">-        if (cal.isInvitation(item)) {</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineminus">-            attendee = cal.getInvitedAttendee(item);</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineminus">-        } else if (item.organizer) {</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineminus">-            let calOrgId = item.calendar.getProperty(&quot;organizerId&quot;);</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineminus">-            if (calOrgId == item.organizer.id &amp;&amp; item.getAttendees({}).length) {</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineminus">-                attendee = item.organizer;</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineplus">+    /**</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineplus">+     * For menu items in scope, a check mark will be annotated corresponding to</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+     * the partstat and removed for all others</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineplus">+     *</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+     * The user always selected single items or occurrences of series but never</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineplus">+     * the master event of a series. That said, for the items in aItems, one of</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+     * following scenarios applies:</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineplus">+     *</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+     * A. one none-recurring item which have attendees</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineplus">+     * B. multiple none-recurring items which have attendees</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineplus">+     * C. one occurrence of a series which has attendees</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineplus">+     * D. multiple occurrences of the same series which have attendees</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineplus">+     * E. multiple occurrences of different series which have attendees</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+     * F. mixture of non-recurring and occurrences of one or more series which</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+     *    have attendees</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+     * G. any mixture including a single item or an occurrence which doesn't</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+     *    have any attendees</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineplus">+     *</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineplus">+     * For scenarios A and B, the user will be  prompted with a single set of</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineplus">+     * available partstats and the according options to change it.</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineplus">+     *</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineplus">+     * For C, D and E the user was prompted with a set of partstats for both,</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineplus">+     * the occurrence and the master. In case of E, no partstat information</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+     * was annotated.</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+     *</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineplus">+     * For F, only a single set of available partstat options was prompted</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineplus">+     * without annotating any partstat.</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineplus">+     *</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineplus">+     * For G, no context menu would be displayed, so we don't need to deal with</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineplus">+     * that scenario here.</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineplus">+     *</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineplus">+     * Now the following matrix applies to take action of the users choice for</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineplus">+     * the relevant participant (for columns, see explaination below):</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineplus">+     * +---+------------------+-------------+--------+-----------------+</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineplus">+     * | # |     SELECTED     |  DISPLAYED  | STATUS | MENU ACTION     |</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineplus">+     * |   |    CAL ITEMS     |   SUBMENU   | PRESET | APPLIES ON      |</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineplus">+     * +---+------------------+-------------+--------+-----------------+</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineplus">+     * |   |                  |  this-occ*  |   yes  |  selected item  |</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineplus">+     * | A |       one        +-------------+--------+-----------------+</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineplus">+     * |   |   single item    |  all-occ    |           n/a            |</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineplus">+     * |   |                  |             |   menu not displayed     |</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineplus">+     * +---+------------------+-------------+--------+-----------------+</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineplus">+     * |   |                  |  this-occ*  |   no   | selected items  |</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineplus">+     * | B |      multiple    +-------------+--------+-----------------+</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineplus">+     * |   |   single items   |  all-occ    |           n/a            |</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineplus">+     * |   |                  |             |   menu not displayed     |</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineplus">+     * +---+------------------+-------------+--------+-----------------+</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineplus">+     * |   |                  |  this-occ   |   yes  |       sel.      |</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineplus">+     * |   |      one         |             |        |   occurrences   |</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineplus">+     * | C |   occurrence     +-------------+--------+-----------------+</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineplus">+     * |   |   of a master    |  all-occ    |   yes  |  master of sel. |</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineplus">+     * |   |                  |             |        |   occurrence    |</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineplus">+     * +---+------------------+-------------+--------+-----------------+</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineplus">+     * |   |                  |  this-occ   |   no   |       sel.      |</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineplus">+     * |   |     multiple     |             |        |   occurrences   |</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineplus">+     * | D |   occurrences    +-------------+--------+-----------------+</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineplus">+     * |   |  of one master   |  all-occ    |   yes  |  master of sel. |</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineplus">+     * |   |                  |             |        |   occurrences   |</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineplus">+     * +---+------------------+-------------+--------+-----------------+</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineplus">+     * |   |                  |  this-occ   |   no   |       sel.      |</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineplus">+     * |   |     multiple     |             |        |   occurrences   |</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineplus">+     * | E |  occurrences of  +-------------+--------+-----------------+</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineplus">+     * |   | multiple masters |  all-occ    |   no   | masters of sel. |</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineplus">+     * |   |                  |             |        |   occurrences   |</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineplus">+     * +---+------------------+-------------+--------+-----------------+</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineplus">+     * |   | multiple single  |  this-occ*  |   no   | selected items  |</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineplus">+     * |   | and occurrences  |             |        | and occurrences |</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineplus">+     * | F |   of multiple    +-------------+--------+-----------------+</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineplus">+     * |   |     masters      |  all-occ    |           n/a            |</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineplus">+     * |   |                  |             |   menu not displayed     |</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineplus">+     * +---+------------------+-------------+--------------------------+</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineplus">+     * |   | any combination  |                                        |</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineplus">+     * | G | including at     |                  n/a                   |</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineplus">+     * |   | least one items  |       no attendance menu displayed     |</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineplus">+     * |   | or occurrence    |                                        |</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineplus">+     * |   | w/o attendees    |                                        |</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineplus">+     * +---+------------------+----------------------------------------+</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineplus">+     *</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineplus">+     * #:                      scenario as described above</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineplus">+     * SELECTED CAL ITEMS:     item types the user selected to prompt the context</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineplus">+     *                           menu for</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineplus">+     * DISPLAYED SUBMENU:      the subbmenu displayed</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineplus">+     * STATUS PRESET:          whether or not a partstat is annotated to the menu</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineplus">+     *                           items, if the respective submenu is displayed</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineplus">+     * MENU ACTION APPLIES ON: the cal item, the respective partstat should be</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineplus">+     *                           applied on, if the respective submenu is</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineplus">+     *                           displayed</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineplus">+     *</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineplus">+     * this-occ* means that in this cases the submenu label is not displayed -</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineplus">+     * additionally, if status is not preset the menu item for 'NEEDS-ACTIONS'</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineplus">+     * will not be displayed, if the status is already different (consistent</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineplus">+     * how we deal with that case at other places)</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineplus">+     *</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineplus">+     * @param {nsIDOMNodeList}  aMenuItems    A list of DOM nodes</span>
<a href="#l4.122"></a><span id="l4.122" class="difflineplus">+     * @param {String}          aScope        Either 'this-occurrence' or</span>
<a href="#l4.123"></a><span id="l4.123" class="difflineplus">+     *                                          'all-occurrences'</span>
<a href="#l4.124"></a><span id="l4.124" class="difflineplus">+     * @param {String}          aPartStat     A valid participation status</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineplus">+     *                                          as per RfC 5545</span>
<a href="#l4.126"></a><span id="l4.126" class="difflineplus">+     */</span>
<a href="#l4.127"></a><span id="l4.127" class="difflineplus">+    function checkMenuItem(aMenuItems, aScope, aPartStat) {</span>
<a href="#l4.128"></a><span id="l4.128" class="difflineplus">+        let toRemove = [];</span>
<a href="#l4.129"></a><span id="l4.129" class="difflineplus">+        let toAdd = [];</span>
<a href="#l4.130"></a><span id="l4.130" class="difflineplus">+        for (let item of aMenuItems) {</span>
<a href="#l4.131"></a><span id="l4.131" class="difflineplus">+            if (item.getAttribute(&quot;scope&quot;) == aScope &amp;&amp;</span>
<a href="#l4.132"></a><span id="l4.132" class="difflineplus">+                item.nodeName != &quot;label&quot;) {</span>
<a href="#l4.133"></a><span id="l4.133" class="difflineplus">+                if (item.getAttribute(&quot;value&quot;) == aPartStat) {</span>
<a href="#l4.134"></a><span id="l4.134" class="difflineplus">+                    switch (item.nodeName) {</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineplus">+                        case &quot;menu&quot;: {</span>
<a href="#l4.136"></a><span id="l4.136" class="difflineplus">+                            // Since menu elements cannot have checkmarks,</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineplus">+                            // we add a menuitem for this partstat and hide</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineplus">+                            // the menu element instead</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineplus">+                            let checkedId = &quot;checked-&quot; + item.getAttribute(&quot;id&quot;);</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineplus">+                            if (!document.getElementById(checkedId)) {</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineplus">+                                let checked = item.ownerDocument</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineplus">+                                                  .createElement(&quot;menuitem&quot;);</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineplus">+                                checked.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineplus">+                                checked.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l4.145"></a><span id="l4.145" class="difflineplus">+                                checked.setAttribute(&quot;label&quot;,</span>
<a href="#l4.146"></a><span id="l4.146" class="difflineplus">+                                                     item.getAttribute(&quot;label&quot;));</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineplus">+                                checked.setAttribute(&quot;value&quot;,</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineplus">+                                                     item.getAttribute(&quot;value&quot;));</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineplus">+                                checked.setAttribute(&quot;scope&quot;,</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineplus">+                                                     item.getAttribute(&quot;scope&quot;));</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineplus">+                                checked.setAttribute(&quot;id&quot;, checkedId);</span>
<a href="#l4.152"></a><span id="l4.152" class="difflineplus">+                                item.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineplus">+                                toAdd.push([item, checked]);</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineplus">+                            }</span>
<a href="#l4.155"></a><span id="l4.155" class="difflineplus">+                            break;</span>
<a href="#l4.156"></a><span id="l4.156" class="difflineplus">+                        }</span>
<a href="#l4.157"></a><span id="l4.157" class="difflineplus">+                        case &quot;menuitem&quot;: {</span>
<a href="#l4.158"></a><span id="l4.158" class="difflineplus">+                            item.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l4.159"></a><span id="l4.159" class="difflineplus">+                            item.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l4.160"></a><span id="l4.160" class="difflineplus">+                            break;</span>
<a href="#l4.161"></a><span id="l4.161" class="difflineplus">+                        }</span>
<a href="#l4.162"></a><span id="l4.162" class="difflineplus">+                    }</span>
<a href="#l4.163"></a><span id="l4.163" class="difflineplus">+                } else if (item.nodeName == &quot;menuitem&quot;) {</span>
<a href="#l4.164"></a><span id="l4.164" class="difflineplus">+                    if (item.getAttribute(&quot;id&quot;).startsWith(&quot;checked-&quot;)) {</span>
<a href="#l4.165"></a><span id="l4.165" class="difflineplus">+                        // we inserted a menuitem before for this partstat, so</span>
<a href="#l4.166"></a><span id="l4.166" class="difflineplus">+                        // we revert that now</span>
<a href="#l4.167"></a><span id="l4.167" class="difflineplus">+                        let menu = document.getElementById(item.getAttribute(&quot;id&quot;)</span>
<a href="#l4.168"></a><span id="l4.168" class="difflineplus">+                                           .substr(8));</span>
<a href="#l4.169"></a><span id="l4.169" class="difflineplus">+                        menu.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l4.170"></a><span id="l4.170" class="difflineplus">+                        toRemove.push(item);</span>
<a href="#l4.171"></a><span id="l4.171" class="difflineplus">+                    } else {</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineplus">+                        item.removeAttribute(&quot;checked&quot;);</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineplus">+                    }</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineplus">+                } else if (item.nodeName == &quot;menu&quot;) {</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineplus">+                    item.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineplus">+                }</span>
<a href="#l4.177"></a><span id="l4.177">             }</span>
<a href="#l4.178"></a><span id="l4.178">         }</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineminus">-        return attendee &amp;&amp; attendee.participationStatus;</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineplus">+        for (let [item, checked] of toAdd) {</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineplus">+            item.before(checked);</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineplus">+        }</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineplus">+        for (let item of toRemove) {</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineplus">+            item.remove();</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineplus">+        }</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineplus">+    }</span>
<a href="#l4.187"></a><span id="l4.187" class="difflineplus">+</span>
<a href="#l4.188"></a><span id="l4.188" class="difflineplus">+    /**</span>
<a href="#l4.189"></a><span id="l4.189" class="difflineplus">+     * Hides the items from the provided node list. If a partstat is provided,</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineplus">+     * only the matching item will be hidden</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineplus">+     *</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineplus">+     * @param {nsIDOMNodeList}  aMenuItems    A list of DOM nodes</span>
<a href="#l4.193"></a><span id="l4.193" class="difflineplus">+     * @param {String}          aPartStat     [optional] A valid participation</span>
<a href="#l4.194"></a><span id="l4.194" class="difflineplus">+     *                                          status as per RfC 5545</span>
<a href="#l4.195"></a><span id="l4.195" class="difflineplus">+     */</span>
<a href="#l4.196"></a><span id="l4.196" class="difflineplus">+    function hideItems(aNodeList, aPartStat=null) {</span>
<a href="#l4.197"></a><span id="l4.197" class="difflineplus">+        for (let item of aNodeList) {</span>
<a href="#l4.198"></a><span id="l4.198" class="difflineplus">+            if (aPartStat &amp;&amp; aPartStat != item.getAttribute(&quot;value&quot;)) {</span>
<a href="#l4.199"></a><span id="l4.199" class="difflineplus">+                continue;</span>
<a href="#l4.200"></a><span id="l4.200" class="difflineplus">+            }</span>
<a href="#l4.201"></a><span id="l4.201" class="difflineplus">+            item.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l4.202"></a><span id="l4.202" class="difflineplus">+        }</span>
<a href="#l4.203"></a><span id="l4.203" class="difflineplus">+    }</span>
<a href="#l4.204"></a><span id="l4.204" class="difflineplus">+</span>
<a href="#l4.205"></a><span id="l4.205" class="difflineplus">+    /**</span>
<a href="#l4.206"></a><span id="l4.206" class="difflineplus">+     * Provides the user's participation status for a provided item</span>
<a href="#l4.207"></a><span id="l4.207" class="difflineplus">+     *</span>
<a href="#l4.208"></a><span id="l4.208" class="difflineplus">+     * @param   {calEvent|calTodo}  aItem  The calendar item to inspect</span>
<a href="#l4.209"></a><span id="l4.209" class="difflineplus">+     * @returns {?String}                  The participation status string</span>
<a href="#l4.210"></a><span id="l4.210" class="difflineplus">+     *                                       as per RfC 5545 or null if no</span>
<a href="#l4.211"></a><span id="l4.211" class="difflineplus">+     *                                       participant was detected</span>
<a href="#l4.212"></a><span id="l4.212" class="difflineplus">+     */</span>
<a href="#l4.213"></a><span id="l4.213" class="difflineplus">+    function getInvitationStatus(aItem) {</span>
<a href="#l4.214"></a><span id="l4.214" class="difflineplus">+        let party = null;</span>
<a href="#l4.215"></a><span id="l4.215" class="difflineplus">+        if (cal.isInvitation(aItem)) {</span>
<a href="#l4.216"></a><span id="l4.216" class="difflineplus">+            party = cal.getInvitedAttendee(aItem);</span>
<a href="#l4.217"></a><span id="l4.217" class="difflineplus">+        } else if (aItem.organizer &amp;&amp; aItem.getAttendees({}).length) {</span>
<a href="#l4.218"></a><span id="l4.218" class="difflineplus">+            let calOrgId = aItem.calendar.getProperty(&quot;organizerId&quot;);</span>
<a href="#l4.219"></a><span id="l4.219" class="difflineplus">+            if (calOrgId.toLowerCase() == aItem.organizer.id.toLowerCase()) {</span>
<a href="#l4.220"></a><span id="l4.220" class="difflineplus">+                party = aItem.organizer;</span>
<a href="#l4.221"></a><span id="l4.221" class="difflineplus">+            }</span>
<a href="#l4.222"></a><span id="l4.222" class="difflineplus">+        }</span>
<a href="#l4.223"></a><span id="l4.223" class="difflineplus">+        return party &amp;&amp; (party.participationStatus || &quot;NEEDS-ACTION&quot;);</span>
<a href="#l4.224"></a><span id="l4.224">     }</span>
<a href="#l4.225"></a><span id="l4.225"> </span>
<a href="#l4.226"></a><span id="l4.226">     goUpdateCommand(&quot;calendar_attendance_command&quot;);</span>
<a href="#l4.227"></a><span id="l4.227"> </span>
<a href="#l4.228"></a><span id="l4.228" class="difflineminus">-    let allSingle = aItems.every(x =&gt; !x.recurrenceId);</span>
<a href="#l4.229"></a><span id="l4.229" class="difflineminus">-    setElementValue(aMenu, allSingle ? &quot;single&quot; : &quot;recurring&quot;, &quot;itemType&quot;);</span>
<a href="#l4.230"></a><span id="l4.230" class="difflineplus">+    let singleMenuItems = aMenu.getElementsByAttribute(</span>
<a href="#l4.231"></a><span id="l4.231" class="difflineplus">+        &quot;scope&quot;,</span>
<a href="#l4.232"></a><span id="l4.232" class="difflineplus">+        &quot;this-occurrence&quot;</span>
<a href="#l4.233"></a><span id="l4.233" class="difflineplus">+    );</span>
<a href="#l4.234"></a><span id="l4.234" class="difflineplus">+    let seriesMenuItems = aMenu.getElementsByAttribute(</span>
<a href="#l4.235"></a><span id="l4.235" class="difflineplus">+        &quot;scope&quot;,</span>
<a href="#l4.236"></a><span id="l4.236" class="difflineplus">+        &quot;all-occurrences&quot;</span>
<a href="#l4.237"></a><span id="l4.237" class="difflineplus">+    );</span>
<a href="#l4.238"></a><span id="l4.238" class="difflineplus">+    let labels = aMenu.getElementsByAttribute(</span>
<a href="#l4.239"></a><span id="l4.239" class="difflineplus">+        &quot;class&quot;,</span>
<a href="#l4.240"></a><span id="l4.240" class="difflineplus">+        &quot;calendar-context-heading-label&quot;</span>
<a href="#l4.241"></a><span id="l4.241" class="difflineplus">+    );</span>
<a href="#l4.242"></a><span id="l4.242"> </span>
<a href="#l4.243"></a><span id="l4.243" class="difflineminus">-    let firstStatusOccurrences = aItems.length &amp;&amp; getInvStat(aItems[0]);</span>
<a href="#l4.244"></a><span id="l4.244" class="difflineminus">-    let firstStatusParents = aItems.length &amp;&amp; getInvStat(aItems[0].parentItem);</span>
<a href="#l4.245"></a><span id="l4.245" class="difflineminus">-    let sameStatusOccurrences = aItems.every(x =&gt; getInvStat(x) == firstStatusOccurrences);</span>
<a href="#l4.246"></a><span id="l4.246" class="difflineminus">-    let sameStatusParents = aItems.every(x =&gt; getInvStat(x.parentItem) == firstStatusParents);</span>
<a href="#l4.247"></a><span id="l4.247" class="difflineplus">+    if (aItems.length == 1) {</span>
<a href="#l4.248"></a><span id="l4.248" class="difflineplus">+        // we offer options for both single and recurring items. In case of the</span>
<a href="#l4.249"></a><span id="l4.249" class="difflineplus">+        // latter and the item is an occurence, we offer status information and</span>
<a href="#l4.250"></a><span id="l4.250" class="difflineplus">+        // actions for both, the occurence and the series</span>
<a href="#l4.251"></a><span id="l4.251" class="difflineplus">+        let thisPartStat = getInvitationStatus(aItems[0]);</span>
<a href="#l4.252"></a><span id="l4.252"> </span>
<a href="#l4.253"></a><span id="l4.253" class="difflineminus">-    let occurrenceChildren = aMenu.getElementsByAttribute(&quot;value&quot;, firstStatusOccurrences);</span>
<a href="#l4.254"></a><span id="l4.254" class="difflineminus">-    let parentsChildren = aMenu.getElementsByAttribute(&quot;value&quot;, firstStatusParents);</span>
<a href="#l4.255"></a><span id="l4.255" class="difflineplus">+        if (aItems[0].recurrenceId) {</span>
<a href="#l4.256"></a><span id="l4.256" class="difflineplus">+            // we get the partstat - if this is null, no participant could</span>
<a href="#l4.257"></a><span id="l4.257" class="difflineplus">+            // be identified, so we bail out</span>
<a href="#l4.258"></a><span id="l4.258" class="difflineplus">+            let seriesPartStat = getInvitationStatus(aItems[0].parentItem);</span>
<a href="#l4.259"></a><span id="l4.259" class="difflineplus">+            if (seriesPartStat) {</span>
<a href="#l4.260"></a><span id="l4.260" class="difflineplus">+                // let's make sure we display the labels to distinguish series</span>
<a href="#l4.261"></a><span id="l4.261" class="difflineplus">+                // and occurrence</span>
<a href="#l4.262"></a><span id="l4.262" class="difflineplus">+                for (let label of labels) {</span>
<a href="#l4.263"></a><span id="l4.263" class="difflineplus">+                    label.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l4.264"></a><span id="l4.264" class="difflineplus">+                }</span>
<a href="#l4.265"></a><span id="l4.265" class="difflineplus">+</span>
<a href="#l4.266"></a><span id="l4.266" class="difflineplus">+                checkMenuItem(seriesMenuItems, &quot;all-occurrences&quot;, seriesPartStat);</span>
<a href="#l4.267"></a><span id="l4.267"> </span>
<a href="#l4.268"></a><span id="l4.268" class="difflineminus">-    if (sameStatusOccurrences &amp;&amp; occurrenceChildren[0]) {</span>
<a href="#l4.269"></a><span id="l4.269" class="difflineminus">-        occurrenceChildren[0].setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l4.270"></a><span id="l4.270" class="difflineminus">-    }</span>
<a href="#l4.271"></a><span id="l4.271" class="difflineplus">+                if (seriesPartStat != &quot;NEEDS-ACTION&quot;) {</span>
<a href="#l4.272"></a><span id="l4.272" class="difflineplus">+                    hideItems(seriesMenuItems, &quot;NEEDS-ACTION&quot;);</span>
<a href="#l4.273"></a><span id="l4.273" class="difflineplus">+                }</span>
<a href="#l4.274"></a><span id="l4.274" class="difflineplus">+                // until we support actively delegating items, we also only</span>
<a href="#l4.275"></a><span id="l4.275" class="difflineplus">+                // display this status if it is already set</span>
<a href="#l4.276"></a><span id="l4.276" class="difflineplus">+                if (seriesPartStat != &quot;DELEGATED&quot;) {</span>
<a href="#l4.277"></a><span id="l4.277" class="difflineplus">+                    hideItems(seriesMenuItems, &quot;DELEGATED&quot;);</span>
<a href="#l4.278"></a><span id="l4.278" class="difflineplus">+                }</span>
<a href="#l4.279"></a><span id="l4.279" class="difflineplus">+            } else {</span>
<a href="#l4.280"></a><span id="l4.280" class="difflineplus">+                hideItems(seriesMenuItems);</span>
<a href="#l4.281"></a><span id="l4.281" class="difflineplus">+            }</span>
<a href="#l4.282"></a><span id="l4.282" class="difflineplus">+        } else {</span>
<a href="#l4.283"></a><span id="l4.283" class="difflineplus">+            // here we don't need the all-occurrences scope, so let's hide all</span>
<a href="#l4.284"></a><span id="l4.284" class="difflineplus">+            // labels and related menu items</span>
<a href="#l4.285"></a><span id="l4.285" class="difflineplus">+            hideItems(labels);</span>
<a href="#l4.286"></a><span id="l4.286" class="difflineplus">+            hideItems(seriesMenuItems);</span>
<a href="#l4.287"></a><span id="l4.287" class="difflineplus">+        }</span>
<a href="#l4.288"></a><span id="l4.288"> </span>
<a href="#l4.289"></a><span id="l4.289" class="difflineminus">-    if (sameStatusParents &amp;&amp; parentsChildren[1]) {</span>
<a href="#l4.290"></a><span id="l4.290" class="difflineminus">-        parentsChildren[1].setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l4.291"></a><span id="l4.291" class="difflineplus">+        // also for the single occurrence we check whether there's a partstat</span>
<a href="#l4.292"></a><span id="l4.292" class="difflineplus">+        // available and bail out otherwise - we also make sure to not display</span>
<a href="#l4.293"></a><span id="l4.293" class="difflineplus">+        // the NEEDS-ACTION menu item if the current status is already different</span>
<a href="#l4.294"></a><span id="l4.294" class="difflineplus">+        if (thisPartStat) {</span>
<a href="#l4.295"></a><span id="l4.295" class="difflineplus">+            checkMenuItem(singleMenuItems, &quot;this-occurrence&quot;, thisPartStat);</span>
<a href="#l4.296"></a><span id="l4.296" class="difflineplus">+            if (thisPartStat != &quot;NEEDS-ACTION&quot;) {</span>
<a href="#l4.297"></a><span id="l4.297" class="difflineplus">+                hideItems(singleMenuItems, &quot;NEEDS-ACTION&quot;);</span>
<a href="#l4.298"></a><span id="l4.298" class="difflineplus">+            }</span>
<a href="#l4.299"></a><span id="l4.299" class="difflineplus">+            // until we support actively delegating items, we also only display</span>
<a href="#l4.300"></a><span id="l4.300" class="difflineplus">+            // this status if it is already set (by another client or the server)</span>
<a href="#l4.301"></a><span id="l4.301" class="difflineplus">+            if (thisPartStat != &quot;DELEGATED&quot;) {</span>
<a href="#l4.302"></a><span id="l4.302" class="difflineplus">+                hideItems(singleMenuItems, &quot;DELEGATED&quot;);</span>
<a href="#l4.303"></a><span id="l4.303" class="difflineplus">+            }</span>
<a href="#l4.304"></a><span id="l4.304" class="difflineplus">+        } else {</span>
<a href="#l4.305"></a><span id="l4.305" class="difflineplus">+            // in this case, we hide the entire attendance menu</span>
<a href="#l4.306"></a><span id="l4.306" class="difflineplus">+            aMenu.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l4.307"></a><span id="l4.307" class="difflineplus">+        }</span>
<a href="#l4.308"></a><span id="l4.308" class="difflineplus">+    } else if (aItems.length &gt; 1) {</span>
<a href="#l4.309"></a><span id="l4.309" class="difflineplus">+        // the user displayed a context menu for multiple selected items.</span>
<a href="#l4.310"></a><span id="l4.310" class="difflineplus">+        // The selection might comprise single and recurring events, so we need</span>
<a href="#l4.311"></a><span id="l4.311" class="difflineplus">+        // to deal here with any combination thereof. To do so, we don't display</span>
<a href="#l4.312"></a><span id="l4.312" class="difflineplus">+        // a partstat control for the entire series but only for the selected</span>
<a href="#l4.313"></a><span id="l4.313" class="difflineplus">+        // occurrences. As we have a potential mixture of partstat, we also don't</span>
<a href="#l4.314"></a><span id="l4.314" class="difflineplus">+        // display the current status and no action towards NEEDS-ACTIONS.</span>
<a href="#l4.315"></a><span id="l4.315" class="difflineplus">+        hideItems(labels);</span>
<a href="#l4.316"></a><span id="l4.316" class="difflineplus">+        hideItems(seriesMenuItems);</span>
<a href="#l4.317"></a><span id="l4.317" class="difflineplus">+        hideItems(singleMenuItems, &quot;NEEDS-ACTION&quot;);</span>
<a href="#l4.318"></a><span id="l4.318" class="difflineplus">+    } else {</span>
<a href="#l4.319"></a><span id="l4.319" class="difflineplus">+        // there seems to be no item passed in, so we don't display anything</span>
<a href="#l4.320"></a><span id="l4.320" class="difflineplus">+        hideItems(labels);</span>
<a href="#l4.321"></a><span id="l4.321" class="difflineplus">+        hideItems(seriesMenuItems);</span>
<a href="#l4.322"></a><span id="l4.322" class="difflineplus">+        hideItems(singleMenuItems);</span>
<a href="#l4.323"></a><span id="l4.323">     }</span>
<a href="#l4.324"></a><span id="l4.324" class="difflineminus">-</span>
<a href="#l4.325"></a><span id="l4.325" class="difflineminus">-    return true;</span>
<a href="#l4.326"></a><span id="l4.326"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/today-pane.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/today-pane.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -211,71 +211,176 @@</span>
<a href="#l5.4"></a><span id="l5.4">                    &lt;/menupopup&gt;</span>
<a href="#l5.5"></a><span id="l5.5">                   &lt;/menu&gt;</span>
<a href="#l5.6"></a><span id="l5.6">                   &lt;menuseparator id=&quot;calendar-today-pane-menuseparator-before-delete&quot;/&gt;</span>
<a href="#l5.7"></a><span id="l5.7">                   &lt;menuitem label=&quot;&amp;calendar.context.deleteevent.label;&quot;</span>
<a href="#l5.8"></a><span id="l5.8">                            accesskey=&quot;&amp;calendar.context.deleteevent.accesskey;&quot;</span>
<a href="#l5.9"></a><span id="l5.9">                            key=&quot;calendar-delete-item-key&quot;</span>
<a href="#l5.10"></a><span id="l5.10">                            observes=&quot;agenda_delete_event_command&quot;/&gt;</span>
<a href="#l5.11"></a><span id="l5.11">                   &lt;menu id=&quot;calendar-today-pane-menu-attendance-menu&quot;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-                       class=&quot;attendance-menu&quot;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-                       label=&quot;&amp;calendar.context.attendance.menu.label;&quot;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-                       accesskey=&quot;&amp;calendar.context.attendance.menu.accesskey;&quot;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-                       oncommand=&quot;setContextPartstat(event.target.value, event.target.getAttribute('scope'), agendaListbox.getSelectedItems({}))&quot;</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineminus">-                       observes=&quot;calendar_attendance_command&quot;&gt;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-                   &lt;menupopup id=&quot;calendar-today-pane-menu-attendance-menupopup&quot;&gt;</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineminus">-                     &lt;label id=&quot;calendar-today-pane-attendance-thisoccurrence-label&quot;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineminus">-                            class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineminus">-                            scope=&quot;all-occurrences&quot;</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineminus">-                            value=&quot;&amp;calendar.context.attendance.occurrence.label;&quot;/&gt;</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineminus">-                     &lt;menuitem id=&quot;calendar-today-pane-menu-attend-accept-menuitem&quot;</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineminus">-                               type=&quot;radio&quot;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-                               scope=&quot;this-occurrence&quot;</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineminus">-                               name=&quot;calendar-today-pane-attendance&quot;</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineminus">-                               label=&quot;&amp;read.only.accept.label;&quot; value=&quot;ACCEPTED&quot;/&gt;</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineminus">-                     &lt;menuitem id=&quot;calendar-today-pane-menu-attend-tentative-menuitem&quot;</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineminus">-                               type=&quot;radio&quot;</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineminus">-                               scope=&quot;this-occurrence&quot;</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineminus">-                               name=&quot;calendar-today-pane-attendance&quot;</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-                               label=&quot;&amp;read.only.tentative.label;&quot; value=&quot;TENTATIVE&quot;/&gt;</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineminus">-                     &lt;menuitem id=&quot;calendar-today-pane-menu-attend-declined-menuitem&quot;</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineminus">-                               type=&quot;radio&quot;</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-                               scope=&quot;this-occurrence&quot;</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineminus">-                               name=&quot;calendar-today-pane-attendance&quot;</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineminus">-                               label=&quot;&amp;read.only.decline.label;&quot; value=&quot;DECLINED&quot;/&gt;</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineminus">-                     &lt;menuitem id=&quot;calendar-today-pane-menu-attend-needsaction-menuitem&quot;</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineminus">-                               type=&quot;radio&quot;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineminus">-                               scope=&quot;this-occurrence&quot;</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-                               name=&quot;calendar-today-pane-attendance&quot;</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineminus">-                               label=&quot;&amp;read.only.needs.action.label;&quot; value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-                     &lt;label id=&quot;calendar-today-pane-attendance-alloccurrence-label&quot;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineminus">-                            class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineminus">-                            scope=&quot;all-occurrences&quot;</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineminus">-                            value=&quot;&amp;calendar.context.attendance.all.label;&quot;/&gt;</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineminus">-                     &lt;menuitem id=&quot;calendar-today-pane-menu-attend-accept-all-menuitem&quot;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineminus">-                               type=&quot;radio&quot;</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineminus">-                               scope=&quot;all-occurrences&quot;</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineminus">-                               name=&quot;calendar-today-pane-attendance-all&quot;</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineminus">-                               label=&quot;&amp;read.only.accept.label;&quot; value=&quot;ACCEPTED&quot;/&gt;</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineminus">-                     &lt;menuitem id=&quot;calendar-today-pane-menu-attend-tentative-all-menuitem&quot;</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineminus">-                               type=&quot;radio&quot;</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineminus">-                               scope=&quot;all-occurrences&quot;</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineminus">-                               name=&quot;calendar-today-pane-attendance-all&quot;</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineminus">-                               label=&quot;&amp;read.only.tentative.label;&quot; value=&quot;TENTATIVE&quot;/&gt;</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineminus">-                     &lt;menuitem id=&quot;calendar-today-pane-menu-attend-declined-all-menuitem&quot;</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineminus">-                               type=&quot;radio&quot;</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineminus">-                               scope=&quot;all-occurrences&quot;</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineminus">-                               name=&quot;calendar-today-pane-attendance-all&quot;</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineminus">-                               label=&quot;&amp;read.only.decline.label;&quot; value=&quot;DECLINED&quot;/&gt;</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineminus">-                     &lt;menuitem id=&quot;calendar-today-pane-menu-attend-needsaction-all-menuitem&quot;</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineminus">-                               type=&quot;radio&quot;</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineminus">-                               scope=&quot;all-occurrences&quot;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineminus">-                               name=&quot;calendar-today-pane-attendance-all&quot;</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-                               label=&quot;&amp;read.only.needs.action.label;&quot; value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineminus">-                   &lt;/menupopup&gt;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineplus">+                        label=&quot;&amp;calendar.context.attendance.menu.label;&quot;</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+                        accesskey=&quot;&amp;calendar.context.attendance.menu.accesskey;&quot;</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+                        oncommand=&quot;setContextPartstat(event.target, agendaListbox.getSelectedItems({}))&quot;</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineplus">+                        observes=&quot;calendar_attendance_command&quot;&gt;</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineplus">+                    &lt;menupopup id=&quot;agenda-context-menu-attendance-menupopup&quot;&gt;</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineplus">+                      &lt;label id=&quot;agenda-context-attendance-thisoccurrence-label&quot;</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineplus">+                             class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineplus">+                             scope=&quot;this-occurrence&quot;</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineplus">+                             value=&quot;&amp;calendar.context.attendance.occurrence.label;&quot;/&gt;</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineplus">+                      &lt;menu id=&quot;agenda-context-menu-attendance-accepted-menu&quot;</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineplus">+                            label=&quot;&amp;calendar.context.attendance.occ.accepted.label;&quot;</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineplus">+                            accesskey=&quot;&amp;calendar.context.attendance.occ.accepted.accesskey;&quot;</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineplus">+                            value=&quot;ACCEPTED&quot;</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineplus">+                            name=&quot;agenda-context-attendance&quot;</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineplus">+                            scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineplus">+                        &lt;menupopup id=&quot;agenda-context-menu-occurrence-accepted-menupopup&quot;&gt;</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-accept-menuitem&quot;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+                                    scope=&quot;this-occurrence&quot;</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineplus">+                                    respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+                                    respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-accept-dontsend-menuitem&quot;</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+                                    scope=&quot;this-occurrence&quot;</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineplus">+                                    respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineplus">+                                    respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+                        &lt;/menupopup&gt;</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineplus">+                      &lt;/menu&gt;</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineplus">+                      &lt;menu id=&quot;agenda-context-menu-attendance-tentative-menu&quot;</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineplus">+                            label=&quot;&amp;calendar.context.attendance.occ.tentative.label;&quot;</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineplus">+                            accesskey=&quot;&amp;calendar.context.attendance.occ.tentative.accesskey;&quot;</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineplus">+                            value=&quot;TENTATIVE&quot;</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineplus">+                            name=&quot;agenda-context-attendance&quot;</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineplus">+                            scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineplus">+                        &lt;menupopup id=&quot;agenda-context-menu-occurrence-tentative-menupopup&quot;&gt;</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-tentative-menuitem&quot;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+                                    scope=&quot;this-occurrence&quot;</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l5.107"></a><span id="l5.107" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineplus">+                                    respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineplus">+                                    respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-tentative-dontsend-menuitem&quot;</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineplus">+                                    scope=&quot;this-occurrence&quot;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineplus">+                                    respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineplus">+                                    respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineplus">+                        &lt;/menupopup&gt;</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineplus">+                      &lt;/menu&gt;</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineplus">+                      &lt;menu id=&quot;agenda-context-menu-attendance-declined-menu&quot;</span>
<a href="#l5.119"></a><span id="l5.119" class="difflineplus">+                            label=&quot;&amp;calendar.context.attendance.occ.declined.label;&quot;</span>
<a href="#l5.120"></a><span id="l5.120" class="difflineplus">+                            accesskey=&quot;&amp;calendar.context.attendance.occ.declined.accesskey;&quot;</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineplus">+                            value=&quot;DECLINED&quot;</span>
<a href="#l5.122"></a><span id="l5.122" class="difflineplus">+                            name=&quot;agenda-context-attendance&quot;</span>
<a href="#l5.123"></a><span id="l5.123" class="difflineplus">+                            scope=&quot;this-occurrence&quot;&gt;</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineplus">+                        &lt;menupopup id=&quot;agenda-context-menu-occurrence-tentative-menupopup&quot;&gt;</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-declined-menuitem&quot;</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineplus">+                                    scope=&quot;this-occurrence&quot;</span>
<a href="#l5.127"></a><span id="l5.127" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l5.128"></a><span id="l5.128" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l5.129"></a><span id="l5.129" class="difflineplus">+                                    respvalue=&quot;DECLINED&quot;</span>
<a href="#l5.130"></a><span id="l5.130" class="difflineplus">+                                    respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-declined-dontsend-menuitem&quot;</span>
<a href="#l5.132"></a><span id="l5.132" class="difflineplus">+                                    scope=&quot;this-occurrence&quot;</span>
<a href="#l5.133"></a><span id="l5.133" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l5.134"></a><span id="l5.134" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineplus">+                                    respvalue=&quot;DECLINED&quot;</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineplus">+                                    respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineplus">+                        &lt;/menupopup&gt;</span>
<a href="#l5.138"></a><span id="l5.138" class="difflineplus">+                      &lt;/menu&gt;</span>
<a href="#l5.139"></a><span id="l5.139" class="difflineplus">+                      &lt;menuitem id=&quot;agenda-context-menu-attendance-delegated-menu&quot;</span>
<a href="#l5.140"></a><span id="l5.140" class="difflineplus">+                                label=&quot;&amp;calendar.context.attendance.occ.delegated.label;&quot;</span>
<a href="#l5.141"></a><span id="l5.141" class="difflineplus">+                                name=&quot;agenda-context-attendance&quot;</span>
<a href="#l5.142"></a><span id="l5.142" class="difflineplus">+                                scope=&quot;this-occurrence&quot;</span>
<a href="#l5.143"></a><span id="l5.143" class="difflineplus">+                                value=&quot;DELEGATED&quot;/&gt;</span>
<a href="#l5.144"></a><span id="l5.144" class="difflineplus">+                      &lt;menuitem id=&quot;agenda-context-menu-attendance-needsaction-menu&quot;</span>
<a href="#l5.145"></a><span id="l5.145" class="difflineplus">+                                label=&quot;&amp;calendar.context.attendance.occ.needsaction.label;&quot;</span>
<a href="#l5.146"></a><span id="l5.146" class="difflineplus">+                                name=&quot;agenda-context-attendance&quot;</span>
<a href="#l5.147"></a><span id="l5.147" class="difflineplus">+                                scope=&quot;this-occurrence&quot;</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineplus">+                                value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineplus">+                      &lt;label id=&quot;agenda-context-attendance-alloccurrence-label&quot;</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineplus">+                             class=&quot;calendar-context-heading-label&quot;</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineplus">+                             scope=&quot;all-occurrences&quot;</span>
<a href="#l5.152"></a><span id="l5.152" class="difflineplus">+                             value=&quot;&amp;calendar.context.attendance.all2.label;&quot;/&gt;</span>
<a href="#l5.153"></a><span id="l5.153" class="difflineplus">+                      &lt;menu id=&quot;agenda-context-menu-attendance-accepted-all-menu&quot;</span>
<a href="#l5.154"></a><span id="l5.154" class="difflineplus">+                            label=&quot;&amp;calendar.context.attendance.all.accepted.label;&quot;</span>
<a href="#l5.155"></a><span id="l5.155" class="difflineplus">+                            accesskey=&quot;&amp;calendar.context.attendance.all.accepted.accesskey;&quot;</span>
<a href="#l5.156"></a><span id="l5.156" class="difflineplus">+                            value=&quot;ACCEPTED&quot;</span>
<a href="#l5.157"></a><span id="l5.157" class="difflineplus">+                            name=&quot;agenda-context-attendance-all&quot;</span>
<a href="#l5.158"></a><span id="l5.158" class="difflineplus">+                            scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l5.159"></a><span id="l5.159" class="difflineplus">+                        &lt;menupopup id=&quot;agenda-context-menu-alloccurrences-accept-menupopup&quot;&gt;</span>
<a href="#l5.160"></a><span id="l5.160" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-accept-all-menuitem&quot;</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineplus">+                                    scope=&quot;all-occurrences&quot;</span>
<a href="#l5.162"></a><span id="l5.162" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l5.163"></a><span id="l5.163" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l5.164"></a><span id="l5.164" class="difflineplus">+                                    respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l5.165"></a><span id="l5.165" class="difflineplus">+                                    respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l5.166"></a><span id="l5.166" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-accept-all-dontsend-menuitem&quot;</span>
<a href="#l5.167"></a><span id="l5.167" class="difflineplus">+                                    scope=&quot;all-occurrences&quot;</span>
<a href="#l5.168"></a><span id="l5.168" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l5.169"></a><span id="l5.169" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l5.170"></a><span id="l5.170" class="difflineplus">+                                    respvalue=&quot;ACCEPTED&quot;</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineplus">+                                    respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineplus">+                        &lt;/menupopup&gt;</span>
<a href="#l5.173"></a><span id="l5.173" class="difflineplus">+                      &lt;/menu&gt;</span>
<a href="#l5.174"></a><span id="l5.174" class="difflineplus">+                      &lt;menu id=&quot;agenda-context-menu-attendance-tentative-all-menu&quot;</span>
<a href="#l5.175"></a><span id="l5.175" class="difflineplus">+                            label=&quot;&amp;calendar.context.attendance.all.tentative.label;&quot;</span>
<a href="#l5.176"></a><span id="l5.176" class="difflineplus">+                            accesskey=&quot;&amp;calendar.context.attendance.all.tentative.accesskey;&quot;</span>
<a href="#l5.177"></a><span id="l5.177" class="difflineplus">+                            value=&quot;TENTATIVE&quot;</span>
<a href="#l5.178"></a><span id="l5.178" class="difflineplus">+                            name=&quot;agenda-context-attendance-all&quot;</span>
<a href="#l5.179"></a><span id="l5.179" class="difflineplus">+                            scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l5.180"></a><span id="l5.180" class="difflineplus">+                        &lt;menupopup id=&quot;agenda-context-menu-alloccurrences-tentative-menupopup&quot;&gt;</span>
<a href="#l5.181"></a><span id="l5.181" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-tentative-all-menuitem&quot;</span>
<a href="#l5.182"></a><span id="l5.182" class="difflineplus">+                                    scope=&quot;all-occurrences&quot;</span>
<a href="#l5.183"></a><span id="l5.183" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l5.184"></a><span id="l5.184" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l5.185"></a><span id="l5.185" class="difflineplus">+                                    respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l5.186"></a><span id="l5.186" class="difflineplus">+                                    respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l5.187"></a><span id="l5.187" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-tentative-all-dontsend-menuitem&quot;</span>
<a href="#l5.188"></a><span id="l5.188" class="difflineplus">+                                    scope=&quot;all-occurrences&quot;</span>
<a href="#l5.189"></a><span id="l5.189" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l5.190"></a><span id="l5.190" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l5.191"></a><span id="l5.191" class="difflineplus">+                                    respvalue=&quot;TENTATIVE&quot;</span>
<a href="#l5.192"></a><span id="l5.192" class="difflineplus">+                                    respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l5.193"></a><span id="l5.193" class="difflineplus">+                        &lt;/menupopup&gt;</span>
<a href="#l5.194"></a><span id="l5.194" class="difflineplus">+                      &lt;/menu&gt;</span>
<a href="#l5.195"></a><span id="l5.195" class="difflineplus">+                      &lt;menu id=&quot;agenda-context-menu-attendance-decline-all-menu&quot;</span>
<a href="#l5.196"></a><span id="l5.196" class="difflineplus">+                            label=&quot;&amp;calendar.context.attendance.all.declined.label;&quot;</span>
<a href="#l5.197"></a><span id="l5.197" class="difflineplus">+                            accesskey=&quot;&amp;calendar.context.attendance.all.declined.accesskey;&quot;</span>
<a href="#l5.198"></a><span id="l5.198" class="difflineplus">+                            value=&quot;DECLINED&quot;</span>
<a href="#l5.199"></a><span id="l5.199" class="difflineplus">+                            name=&quot;agenda-context-attendance-all&quot;</span>
<a href="#l5.200"></a><span id="l5.200" class="difflineplus">+                            scope=&quot;all-occurrences&quot;&gt;</span>
<a href="#l5.201"></a><span id="l5.201" class="difflineplus">+                        &lt;menupopup id=&quot;agenda-context-menu-alloccurrences-decline-menupopup&quot;&gt;</span>
<a href="#l5.202"></a><span id="l5.202" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-declined-all-menuitem&quot;</span>
<a href="#l5.203"></a><span id="l5.203" class="difflineplus">+                                    scope=&quot;all-occurrences&quot;</span>
<a href="#l5.204"></a><span id="l5.204" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.send.label;&quot;</span>
<a href="#l5.205"></a><span id="l5.205" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.send.accesskey;&quot;</span>
<a href="#l5.206"></a><span id="l5.206" class="difflineplus">+                                    respvalue=&quot;DECLINED&quot;</span>
<a href="#l5.207"></a><span id="l5.207" class="difflineplus">+                                    respmode=&quot;AUTO&quot;/&gt;</span>
<a href="#l5.208"></a><span id="l5.208" class="difflineplus">+                          &lt;menuitem id=&quot;agenda-context-menu-attend-declined-all-dontsend-menuitem&quot;</span>
<a href="#l5.209"></a><span id="l5.209" class="difflineplus">+                                    scope=&quot;all-occurrences&quot;</span>
<a href="#l5.210"></a><span id="l5.210" class="difflineplus">+                                    label=&quot;&amp;calendar.context.attendance.dontsend.label;&quot;</span>
<a href="#l5.211"></a><span id="l5.211" class="difflineplus">+                                    accesskey=&quot;&amp;calendar.context.attendance.dontsend.accesskey;&quot;</span>
<a href="#l5.212"></a><span id="l5.212" class="difflineplus">+                                    respvalue=&quot;DECLINED&quot;</span>
<a href="#l5.213"></a><span id="l5.213" class="difflineplus">+                                    respmode=&quot;NONE&quot;/&gt;</span>
<a href="#l5.214"></a><span id="l5.214" class="difflineplus">+                        &lt;/menupopup&gt;</span>
<a href="#l5.215"></a><span id="l5.215" class="difflineplus">+                      &lt;/menu&gt;</span>
<a href="#l5.216"></a><span id="l5.216" class="difflineplus">+                      &lt;menuitem id=&quot;agenda-context-menu-attendance-delegated-all-menu&quot;</span>
<a href="#l5.217"></a><span id="l5.217" class="difflineplus">+                                label=&quot;&amp;calendar.context.attendance.all.delegated.label;&quot;</span>
<a href="#l5.218"></a><span id="l5.218" class="difflineplus">+                                name=&quot;agenda-context-attendance-delegated-all&quot;</span>
<a href="#l5.219"></a><span id="l5.219" class="difflineplus">+                                scope=&quot;all-occurrences&quot;</span>
<a href="#l5.220"></a><span id="l5.220" class="difflineplus">+                                value=&quot;DELEGATED&quot;/&gt;</span>
<a href="#l5.221"></a><span id="l5.221" class="difflineplus">+                      &lt;menuitem id=&quot;agenda-context-menu-attendance-needsaction-all-menu&quot;</span>
<a href="#l5.222"></a><span id="l5.222" class="difflineplus">+                                label=&quot;&amp;calendar.context.attendance.all.needsaction.label;&quot;</span>
<a href="#l5.223"></a><span id="l5.223" class="difflineplus">+                                name=&quot;agenda-context-attendance-needaction-all&quot;</span>
<a href="#l5.224"></a><span id="l5.224" class="difflineplus">+                                scope=&quot;all-occurrences&quot;</span>
<a href="#l5.225"></a><span id="l5.225" class="difflineplus">+                                value=&quot;NEEDS-ACTION&quot;/&gt;</span>
<a href="#l5.226"></a><span id="l5.226" class="difflineplus">+                    &lt;/menupopup&gt;</span>
<a href="#l5.227"></a><span id="l5.227">                   &lt;/menu&gt;</span>
<a href="#l5.228"></a><span id="l5.228">                 &lt;/menupopup&gt;</span>
<a href="#l5.229"></a><span id="l5.229">               &lt;/richlistbox&gt;</span>
<a href="#l5.230"></a><span id="l5.230">             &lt;/vbox&gt;</span>
<a href="#l5.231"></a><span id="l5.231">         &lt;/modevbox&gt;</span>
<a href="#l5.232"></a><span id="l5.232">         &lt;splitter id=&quot;today-pane-splitter&quot; persist=&quot;hidden&quot;/&gt;</span>
<a href="#l5.233"></a><span id="l5.233">         &lt;modevbox id=&quot;todo-tab-panel&quot; flex=&quot;1&quot; mode=&quot;mail,calendar&quot;</span>
<a href="#l5.234"></a><span id="l5.234">                   collapsedinmodes=&quot;mail,task&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/locales/en-US/chrome/calendar/calendar-event-dialog.dtd</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -402,21 +402,16 @@</span>
<a href="#l6.4"></a><span id="l6.4"> &lt;!ENTITY read.only.event.start.label     &quot;Start Date:&quot;&gt;</span>
<a href="#l6.5"></a><span id="l6.5"> &lt;!ENTITY read.only.task.start.label      &quot;Start Date:&quot;&gt;</span>
<a href="#l6.6"></a><span id="l6.6"> &lt;!ENTITY read.only.event.end.label       &quot;End Date:&quot;&gt;</span>
<a href="#l6.7"></a><span id="l6.7"> &lt;!ENTITY read.only.task.due.label        &quot;Due Date:&quot;&gt;</span>
<a href="#l6.8"></a><span id="l6.8"> &lt;!ENTITY read.only.repeat.label          &quot;Repeat:&quot;&gt;</span>
<a href="#l6.9"></a><span id="l6.9"> &lt;!ENTITY read.only.location.label        &quot;Location:&quot;&gt;</span>
<a href="#l6.10"></a><span id="l6.10"> &lt;!ENTITY read.only.category.label        &quot;Category:&quot;&gt;</span>
<a href="#l6.11"></a><span id="l6.11"> &lt;!ENTITY read.only.organizer.label       &quot;Organizer:&quot;&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-&lt;!ENTITY read.only.reply.label           &quot;Reply:&quot;&gt;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-&lt;!ENTITY read.only.accept.label          &quot;I will attend&quot;&gt;</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-&lt;!ENTITY read.only.decline.label         &quot;I will not attend&quot;&gt;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineminus">-&lt;!ENTITY read.only.tentative.label       &quot;I might attend&quot;&gt;</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-&lt;!ENTITY read.only.needs.action.label    &quot;I will confirm later&quot;&gt;</span>
<a href="#l6.17"></a><span id="l6.17"> &lt;!ENTITY read.only.reminder.label        &quot;Reminder:&quot;&gt;</span>
<a href="#l6.18"></a><span id="l6.18"> &lt;!ENTITY read.only.attachments.label     &quot;Attachments:&quot;&gt;</span>
<a href="#l6.19"></a><span id="l6.19"> &lt;!ENTITY read.only.attendees.label       &quot;Attendees&quot;&gt;</span>
<a href="#l6.20"></a><span id="l6.20"> &lt;!ENTITY read.only.description.label     &quot;Description&quot;&gt;</span>
<a href="#l6.21"></a><span id="l6.21"> &lt;!ENTITY read.only.link.label            &quot;Related Link&quot;&gt;</span>
<a href="#l6.22"></a><span id="l6.22"> </span>
<a href="#l6.23"></a><span id="l6.23"> &lt;!-- Summary dialog --&gt;</span>
<a href="#l6.24"></a><span id="l6.24"> &lt;!ENTITY summary.dialog.saveclose.label         &quot;Save and Close&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/locales/en-US/chrome/calendar/calendar.dtd</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/locales/en-US/chrome/calendar/calendar.dtd</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -167,22 +167,57 @@</span>
<a href="#l7.4"></a><span id="l7.4"> &lt;!ENTITY calendar.context.deleteevent.label           &quot;Delete Event&quot;&gt;</span>
<a href="#l7.5"></a><span id="l7.5"> &lt;!ENTITY calendar.context.deleteevent.accesskey       &quot;l&quot;&gt;</span>
<a href="#l7.6"></a><span id="l7.6"> &lt;!ENTITY calendar.context.cutevent.label              &quot;Cut&quot;&gt;</span>
<a href="#l7.7"></a><span id="l7.7"> &lt;!ENTITY calendar.context.cutevent.accesskey          &quot;t&quot;&gt;</span>
<a href="#l7.8"></a><span id="l7.8"> &lt;!ENTITY calendar.context.copyevent.label             &quot;Copy&quot;&gt;</span>
<a href="#l7.9"></a><span id="l7.9"> &lt;!ENTITY calendar.context.copyevent.accesskey         &quot;C&quot;&gt;</span>
<a href="#l7.10"></a><span id="l7.10"> &lt;!ENTITY calendar.context.pasteevent.label            &quot;Paste&quot;&gt;</span>
<a href="#l7.11"></a><span id="l7.11"> &lt;!ENTITY calendar.context.pasteevent.accesskey        &quot;P&quot;&gt;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-&lt;!ENTITY calendar.context.button.label                &quot;Today Pane&quot; &gt;</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-&lt;!ENTITY calendar.context.button.accesskey            &quot;T&quot; &gt;</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-&lt;!ENTITY calendar.context.attendance.menu.label       &quot;Attendance&quot; &gt;</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-&lt;!ENTITY calendar.context.attendance.menu.accesskey   &quot;d&quot; &gt;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-&lt;!ENTITY calendar.context.attendance.occurrence.label &quot;This Occurrence&quot; &gt;</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-&lt;!ENTITY calendar.context.attendance.all.label        &quot;All Occurrences&quot; &gt;</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineplus">+&lt;!ENTITY calendar.context.button.label                &quot;Today Pane&quot;&gt;</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineplus">+&lt;!ENTITY calendar.context.button.accesskey            &quot;T&quot;&gt;</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineplus">+</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.menu.label                 &quot;Attendance&quot;&gt;</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.menu.accesskey             &quot;d&quot;&gt;</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occurrence.label           &quot;This Occurrence&quot;&gt;</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all2.label                 &quot;Complete Series&quot;&gt;</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.send.label                 &quot;Send a notification now&quot;&gt;</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.send.accesskey             &quot;S&quot;&gt;</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.dontsend.label             &quot;Do not send a notification&quot;&gt;</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.dontsend.accesskey         &quot;D&quot;&gt;</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineplus">+</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.accepted.accesskey     &quot;A&quot;&gt;</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.accepted.label         &quot;Accepted&quot;&gt;</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.tentative.accesskey    &quot;y&quot;&gt;</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.tentative.label        &quot;Accepted tentatively&quot;&gt;</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.declined.accesskey     &quot;c&quot;&gt;</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.declined.label         &quot;Declined&quot;&gt;</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.delegated.accesskey    &quot;g&quot;&gt;</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.delegated.label        &quot;Delegated&quot;&gt;</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.needsaction.accesskey  &quot;S&quot;&gt;</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.needsaction.label      &quot;Still needs action&quot;&gt;</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.inprogress.accesskey   &quot;I&quot;&gt;</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.inprogress.label       &quot;In progress&quot;&gt;</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.completed.accesskey    &quot;C&quot;&gt;</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.occ.completed.label        &quot;Completed&quot;&gt;</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineplus">+</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.accepted.accesskey     &quot;e&quot;&gt;</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.accepted.label         &quot;Accepted&quot;&gt;</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.tentative.accesskey    &quot;v&quot;&gt;</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.tentative.label        &quot;Accepted tentatively&quot;&gt;</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.declined.accesskey     &quot;d&quot;&gt;</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.declined.label         &quot;Declined&quot;&gt;</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.delegated.accesskey    &quot;l&quot;&gt;</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.delegated.label        &quot;Delegated&quot;&gt;</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.needsaction.accesskey  &quot;l&quot;&gt;</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.needsaction.label      &quot;Still needs action&quot;&gt;</span>
<a href="#l7.55"></a><span id="l7.55" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.inprogress.accesskey   &quot;p&quot;&gt;</span>
<a href="#l7.56"></a><span id="l7.56" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.inprogress.label       &quot;In progress&quot;&gt;</span>
<a href="#l7.57"></a><span id="l7.57" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.completed.accesskey    &quot;m&quot;&gt;</span>
<a href="#l7.58"></a><span id="l7.58" class="difflineplus">+&lt;!ENTITY calendar.context.attendance.all.completed.label        &quot;Completed&quot;&gt;</span>
<a href="#l7.59"></a><span id="l7.59"> </span>
<a href="#l7.60"></a><span id="l7.60"> &lt;!-- Task Context Menu --&gt;</span>
<a href="#l7.61"></a><span id="l7.61"> &lt;!ENTITY calendar.context.progress.label              &quot;Progress&quot;&gt;</span>
<a href="#l7.62"></a><span id="l7.62"> &lt;!ENTITY calendar.context.progress.accesskey          &quot;P&quot;&gt;</span>
<a href="#l7.63"></a><span id="l7.63"> &lt;!ENTITY calendar.context.priority.label              &quot;Priority&quot;&gt;</span>
<a href="#l7.64"></a><span id="l7.64"> &lt;!ENTITY calendar.context.priority.accesskey          &quot;r&quot;&gt;</span>
<a href="#l7.65"></a><span id="l7.65"> &lt;!ENTITY calendar.context.postpone.label              &quot;Postpone Task&quot;&gt;</span>
<a href="#l7.66"></a><span id="l7.66"> &lt;!ENTITY calendar.context.postpone.accesskey          &quot;s&quot;&gt;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

