<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 29006:a12bb1124869bc1562cf3763e1c8f59113c0cc2c</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ a12bb1124869bc1562cf3763e1c8f59113c0cc2c" />
<meta property="og:url" content="/comm-central/rev/a12bb1124869bc1562cf3763e1c8f59113c0cc2c" />
<meta property="og:description" content="Bug 1621841 - Copy Firefox's extension prompt tests and adapt them to Thunderbird. r=mkmelin" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / a12bb1124869bc1562cf3763e1c8f59113c0cc2c 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/a12bb1124869bc1562cf3763e1c8f59113c0cc2c">shortlog</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/a12bb1124869bc1562cf3763e1c8f59113c0cc2c">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c">files</a> |
changeset |
<a href="/comm-central/raw-rev/a12bb1124869bc1562cf3763e1c8f59113c0cc2c">raw</a>  | <a href="/comm-central/archive/a12bb1124869bc1562cf3763e1c8f59113c0cc2c.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1621841">Bug 1621841</a> - Copy Firefox's extension prompt tests and adapt them to Thunderbird. r=mkmelin
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 17 Mar 2020 11:37:11 +1300</td></tr>

<tr>
 <td>changeset 29006</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/a12bb1124869bc1562cf3763e1c8f59113c0cc2c">a12bb1124869bc1562cf3763e1c8f59113c0cc2c</a></td>
</tr>



<tr>
<td>parent 29005</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/e3d50753c9d8a8ed8d5f65c14460267155ac4ec6">e3d50753c9d8a8ed8d5f65c14460267155ac4ec6</a>
</td>
</tr>

<tr>
<td>child 29007</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/c2f8d375f79c612fdf285eba5b05c786db10a990">c2f8d375f79c612fdf285eba5b05c786db10a990</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=a12bb1124869bc1562cf3763e1c8f59113c0cc2c">17151</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Tue, 17 Mar 2020 22:05:59 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@a12bb1124869 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=a12bb1124869bc1562cf3763e1c8f59113c0cc2c">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=a12bb1124869bc1562cf3763e1c8f59113c0cc2c&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a12bb1124869bc1562cf3763e1c8f59113c0cc2c&newProject=comm-central&newRevision=808f7c2c6680106acaf1fe53132c65d3a888b467&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a12bb1124869bc1562cf3763e1c8f59113c0cc2c&newProject=comm-central&newRevision=808f7c2c6680106acaf1fe53132c65d3a888b467&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=a12bb1124869bc1562cf3763e1c8f59113c0cc2c&newProject=comm-central&newRevision=808f7c2c6680106acaf1fe53132c65d3a888b467&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1621841">1621841</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1621841">Bug 1621841</a> - Copy Firefox's extension prompt tests and adapt them to Thunderbird. r=mkmelin</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/moz.build">mail/base/test/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/moz.build">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/moz.build">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/moz.build">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/moz.build">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/moz.build">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/.eslintrc.js">mail/base/test/webextensions/.eslintrc.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/.eslintrc.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/.eslintrc.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/.eslintrc.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/.eslintrc.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/.eslintrc.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser.ini">mail/base/test/webextensions/browser.ini</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser.ini">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser.ini">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser.ini">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser.ini">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser.ini">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_sideloading.js">mail/base/test/webextensions/browser_extension_sideloading.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_sideloading.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_sideloading.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_sideloading.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_sideloading.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_sideloading.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background.js">mail/base/test/webextensions/browser_extension_update_background.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background_noprompt.js">mail/base/test/webextensions/browser_extension_update_background_noprompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background_noprompt.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background_noprompt.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background_noprompt.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background_noprompt.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_extension_update_background_noprompt.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_legacy_webext.xpi">mail/base/test/webextensions/browser_legacy_webext.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_legacy_webext.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_legacy_webext.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_legacy_webext.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_legacy_webext.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_legacy_webext.xpi">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_installTrigger.js">mail/base/test/webextensions/browser_permissions_installTrigger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_installTrigger.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_installTrigger.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_installTrigger.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_installTrigger.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_installTrigger.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_local_file.js">mail/base/test/webextensions/browser_permissions_local_file.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_local_file.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_local_file.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_local_file.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_local_file.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_local_file.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_mozAddonManager.js">mail/base/test/webextensions/browser_permissions_mozAddonManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_mozAddonManager.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_mozAddonManager.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_mozAddonManager.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_mozAddonManager.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_mozAddonManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_optional.js">mail/base/test/webextensions/browser_permissions_optional.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_optional.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_optional.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_optional.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_optional.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_optional.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_pointerevent.js">mail/base/test/webextensions/browser_permissions_pointerevent.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_pointerevent.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_pointerevent.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_pointerevent.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_pointerevent.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_pointerevent.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_unsigned.js">mail/base/test/webextensions/browser_permissions_unsigned.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_unsigned.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_unsigned.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_unsigned.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_unsigned.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_permissions_unsigned.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_checkForUpdates.js">mail/base/test/webextensions/browser_update_checkForUpdates.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_checkForUpdates.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_checkForUpdates.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_checkForUpdates.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_checkForUpdates.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_checkForUpdates.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_interactive_noprompt.js">mail/base/test/webextensions/browser_update_interactive_noprompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_interactive_noprompt.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_interactive_noprompt.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_interactive_noprompt.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_interactive_noprompt.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_update_interactive_noprompt.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_nopermissions.xpi">mail/base/test/webextensions/browser_webext_nopermissions.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_nopermissions.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_nopermissions.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_nopermissions.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_nopermissions.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_nopermissions.xpi">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_permissions.xpi">mail/base/test/webextensions/browser_webext_permissions.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_permissions.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_permissions.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_permissions.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_permissions.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_permissions.xpi">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_unsigned.xpi">mail/base/test/webextensions/browser_webext_unsigned.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_unsigned.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_unsigned.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_unsigned.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_unsigned.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_unsigned.xpi">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update.json">mail/base/test/webextensions/browser_webext_update.json</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update.json">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update.json">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update.json">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update.json">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update.json">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update1.xpi">mail/base/test/webextensions/browser_webext_update1.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update1.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update1.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update1.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update1.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update1.xpi">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update2.xpi">mail/base/test/webextensions/browser_webext_update2.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update2.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update2.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update2.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update2.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update2.xpi">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon1.xpi">mail/base/test/webextensions/browser_webext_update_icon1.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon1.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon1.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon1.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon1.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon1.xpi">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon2.xpi">mail/base/test/webextensions/browser_webext_update_icon2.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon2.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon2.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon2.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon2.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_icon2.xpi">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins1.xpi">mail/base/test/webextensions/browser_webext_update_origins1.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins1.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins1.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins1.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins1.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins1.xpi">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins2.xpi">mail/base/test/webextensions/browser_webext_update_origins2.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins2.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins2.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins2.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins2.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_origins2.xpi">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms1.xpi">mail/base/test/webextensions/browser_webext_update_perms1.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms1.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms1.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms1.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms1.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms1.xpi">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms2.xpi">mail/base/test/webextensions/browser_webext_update_perms2.xpi</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms2.xpi">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms2.xpi">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms2.xpi">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms2.xpi">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/browser_webext_update_perms2.xpi">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/file_install_extensions.html">mail/base/test/webextensions/file_install_extensions.html</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/file_install_extensions.html">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/file_install_extensions.html">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/file_install_extensions.html">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/file_install_extensions.html">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/file_install_extensions.html">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/head.js">mail/base/test/webextensions/head.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/head.js">file</a> |
<a href="/comm-central/annotate/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/head.js">annotate</a> |
<a href="/comm-central/diff/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/head.js">diff</a> |
<a href="/comm-central/comparison/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/head.js">comparison</a> |
<a href="/comm-central/log/a12bb1124869bc1562cf3763e1c8f59113c0cc2c/mail/base/test/webextensions/head.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/base/test/moz.build</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/base/test/moz.build</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,10 +1,15 @@</span>
<a href="#l1.4"></a><span id="l1.4"> # vim: set filetype=python:</span>
<a href="#l1.5"></a><span id="l1.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.6"></a><span id="l1.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.7"></a><span id="l1.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9"> BROWSER_CHROME_MANIFESTS += [</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-    'browser/browser.ini'</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineplus">+    'browser/browser.ini',</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    'webextensions/browser.ini',</span>
<a href="#l1.13"></a><span id="l1.13"> ]</span>
<a href="#l1.14"></a><span id="l1.14"> </span>
<a href="#l1.15"></a><span id="l1.15"> XPCSHELL_TESTS_MANIFESTS += ['unit/xpcshell.ini']</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+TESTING_JS_MODULES += [</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+    '../../../../browser/components/customizableui/test/CustomizableUITestUtils.jsm',</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">new file mode 100644</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineminus">--- /dev/null</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineplus">+++ b/mail/base/test/webextensions/.eslintrc.js</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineat">@@ -0,0 +1,13 @@</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l2.6"></a><span id="l2.6" class="difflineplus">+</span>
<a href="#l2.7"></a><span id="l2.7" class="difflineplus">+module.exports = {</span>
<a href="#l2.8"></a><span id="l2.8" class="difflineplus">+  extends: [&quot;plugin:mozilla/browser-test&quot;],</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineplus">+</span>
<a href="#l2.10"></a><span id="l2.10" class="difflineplus">+  env: {</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineplus">+    webextensions: true,</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+  },</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+  rules: {</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+    &quot;func-names&quot;: &quot;off&quot;,</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+  },</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">new file mode 100644</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineminus">--- /dev/null</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser.ini</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineat">@@ -0,0 +1,38 @@</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineplus">+[DEFAULT]</span>
<a href="#l3.6"></a><span id="l3.6" class="difflineplus">+prefs =</span>
<a href="#l3.7"></a><span id="l3.7" class="difflineplus">+  browser.tabs.remote.autostart=false</span>
<a href="#l3.8"></a><span id="l3.8" class="difflineplus">+  mail.provider.suppress_dialog_on_startup=true</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineplus">+  mail.spotlight.firstRunDone=true</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineplus">+  mail.winsearch.firstRunDone=true</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineplus">+  mailnews.start_page.override_url=about:blank</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+  mailnews.start_page.url=about:blank</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+  toolkit.telemetry.testing.overrideProductsCheck=true</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+subsuite = thunderbird</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+support-files =</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+  head.js</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+  file_install_extensions.html</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+  browser_legacy_webext.xpi</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+  browser_webext_permissions.xpi</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineplus">+  browser_webext_nopermissions.xpi</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineplus">+  browser_webext_unsigned.xpi</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+  browser_webext_update1.xpi</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineplus">+  browser_webext_update2.xpi</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineplus">+  browser_webext_update_icon1.xpi</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineplus">+  browser_webext_update_icon2.xpi</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineplus">+  browser_webext_update_perms1.xpi</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineplus">+  browser_webext_update_perms2.xpi</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineplus">+  browser_webext_update_origins1.xpi</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineplus">+  browser_webext_update_origins2.xpi</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+  browser_webext_update.json</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+[browser_extension_sideloading.js]</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+[browser_extension_update_background.js]</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+[browser_extension_update_background_noprompt.js]</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineplus">+[browser_permissions_installTrigger.js]</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineplus">+[browser_permissions_local_file.js]</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineplus">+[browser_permissions_mozAddonManager.js]</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+[browser_permissions_optional.js]</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineplus">+[browser_permissions_pointerevent.js]</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineplus">+[browser_permissions_unsigned.js]</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineplus">+[browser_update_checkForUpdates.js]</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineplus">+[browser_update_interactive_noprompt.js]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">new file mode 100644</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineminus">--- /dev/null</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_extension_sideloading.js</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineat">@@ -0,0 +1,348 @@</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineplus">+/* eslint-disable mozilla/no-arbitrary-setTimeout */</span>
<a href="#l4.6"></a><span id="l4.6" class="difflineplus">+const { AddonManagerPrivate } = ChromeUtils.import(</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineplus">+  &quot;resource://gre/modules/AddonManager.jsm&quot;</span>
<a href="#l4.8"></a><span id="l4.8" class="difflineplus">+);</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineplus">+</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineplus">+const { AddonTestUtils } = ChromeUtils.import(</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+  &quot;resource://testing-common/AddonTestUtils.jsm&quot;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+AddonTestUtils.initMochitest(this);</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+hookExtensionsTelemetry();</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+AddonTestUtils.hookAMTelemetryEvents();</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+async function createWebExtension(details) {</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+  let options = {</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineplus">+    manifest: {</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineplus">+      applications: { gecko: { id: details.id } },</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineplus">+</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineplus">+      name: details.name,</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineplus">+</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineplus">+      permissions: details.permissions,</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineplus">+    },</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineplus">+  };</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineplus">+</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+  if (details.iconURL) {</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineplus">+    options.manifest.icons = { &quot;64&quot;: details.iconURL };</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+  }</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineplus">+</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+  let xpi = AddonTestUtils.createTempWebExtensionFile(options);</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineplus">+</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+  await AddonTestUtils.manuallyInstall(xpi);</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineplus">+}</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineplus">+</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineplus">+function promiseEvent(eventEmitter, event) {</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineplus">+  return new Promise(resolve =&gt; {</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+    eventEmitter.once(event, resolve);</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+  });</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+}</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineplus">+function getAddonElement(managerWindow, addonId) {</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineplus">+  const { contentDocument: doc } = managerWindow.document.getElementById(</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineplus">+    &quot;html-view-browser&quot;</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineplus">+  );</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineplus">+  return BrowserTestUtils.waitForCondition(</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineplus">+    () =&gt; doc.querySelector(`addon-card[addon-id=&quot;${addonId}&quot;]`),</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+    `Found entry for sideload extension addon &quot;${addonId}&quot; in HTML about:addons`</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+  );</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineplus">+}</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineplus">+</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineplus">+function assertSideloadedAddonElementState(addonElement, checked) {</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineplus">+  const enableBtn = addonElement.querySelector('[action=&quot;toggle-disabled&quot;]');</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineplus">+  is(</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineplus">+    enableBtn.checked,</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineplus">+    checked,</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineplus">+    `The enable button is ${!checked ? &quot; not &quot; : &quot;&quot;} checked`</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineplus">+  );</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineplus">+  is(enableBtn.localName, &quot;input&quot;, &quot;The enable button is an input&quot;);</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineplus">+  is(enableBtn.type, &quot;checkbox&quot;, &quot;It's a checkbox&quot;);</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineplus">+}</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineplus">+</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineplus">+function clickEnableExtension(managerWindow, addonElement) {</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineplus">+  addonElement.querySelector('[action=&quot;toggle-disabled&quot;]').click();</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineplus">+}</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineplus">+</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineplus">+add_task(async function test_sideloading() {</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineplus">+  const DEFAULT_ICON_URL =</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineplus">+    &quot;chrome://mozapps/skin/extensions/extensionGeneric.svg&quot;;</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineplus">+</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineplus">+    set: [</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineplus">+      [&quot;xpinstall.signatures.required&quot;, false],</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineplus">+      [&quot;extensions.autoDisableScopes&quot;, 15],</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineplus">+      [&quot;extensions.ui.ignoreUnsigned&quot;, true],</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineplus">+      [&quot;extensions.allowPrivateBrowsingByDefault&quot;, false],</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineplus">+    ],</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineplus">+  });</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineplus">+</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineplus">+  const ID1 = &quot;addon1@tests.mozilla.org&quot;;</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineplus">+  await createWebExtension({</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineplus">+    id: ID1,</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineplus">+    name: &quot;Test 1&quot;,</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineplus">+    userDisabled: true,</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineplus">+    permissions: [&quot;accountsRead&quot;, &quot;https://*/*&quot;],</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineplus">+    iconURL: &quot;foo-icon.png&quot;,</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineplus">+  });</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineplus">+</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineplus">+  const ID2 = &quot;addon2@tests.mozilla.org&quot;;</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineplus">+  await createWebExtension({</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineplus">+    id: ID2,</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineplus">+    name: &quot;Test 2&quot;,</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineplus">+    permissions: [&quot;&lt;all_urls&gt;&quot;],</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineplus">+  });</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineplus">+</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineplus">+  const ID3 = &quot;addon3@tests.mozilla.org&quot;;</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineplus">+  await createWebExtension({</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineplus">+    id: ID3,</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineplus">+    name: &quot;Test 3&quot;,</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineplus">+    permissions: [&quot;&lt;all_urls&gt;&quot;],</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineplus">+  });</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineplus">+</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineplus">+  testCleanup = async function() {</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineplus">+    // clear out ExtensionsUI state about sideloaded extensions so</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineplus">+    // subsequent tests don't get confused.</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineplus">+    ExtensionsUI.sideloaded.clear();</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineplus">+    ExtensionsUI.emit(&quot;change&quot;);</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineplus">+  };</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineplus">+</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineplus">+  let changePromise = new Promise(resolve =&gt; {</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineplus">+    ExtensionsUI.on(&quot;change&quot;, function listener() {</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineplus">+      ExtensionsUI.off(&quot;change&quot;, listener);</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineplus">+      resolve();</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineplus">+    });</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineplus">+  });</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineplus">+  ExtensionsUI._checkForSideloaded();</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineplus">+  await changePromise;</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineplus">+</span>
<a href="#l4.122"></a><span id="l4.122" class="difflineplus">+  // Check for the addons badge on the hamburger menu</span>
<a href="#l4.123"></a><span id="l4.123" class="difflineplus">+  let menuButton = document.getElementById(&quot;button-appmenu&quot;);</span>
<a href="#l4.124"></a><span id="l4.124" class="difflineplus">+  is(</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineplus">+    menuButton.getAttribute(&quot;badge-status&quot;),</span>
<a href="#l4.126"></a><span id="l4.126" class="difflineplus">+    &quot;addon-alert&quot;,</span>
<a href="#l4.127"></a><span id="l4.127" class="difflineplus">+    &quot;Should have addon alert badge&quot;</span>
<a href="#l4.128"></a><span id="l4.128" class="difflineplus">+  );</span>
<a href="#l4.129"></a><span id="l4.129" class="difflineplus">+</span>
<a href="#l4.130"></a><span id="l4.130" class="difflineplus">+  // Find the menu entries for sideloaded extensions</span>
<a href="#l4.131"></a><span id="l4.131" class="difflineplus">+  await gCUITestUtils.openMainMenu();</span>
<a href="#l4.132"></a><span id="l4.132" class="difflineplus">+</span>
<a href="#l4.133"></a><span id="l4.133" class="difflineplus">+  let addons = PanelUI.addonNotificationContainer;</span>
<a href="#l4.134"></a><span id="l4.134" class="difflineplus">+  is(</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineplus">+    addons.children.length,</span>
<a href="#l4.136"></a><span id="l4.136" class="difflineplus">+    3,</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineplus">+    &quot;Have 3 menu entries for sideloaded extensions&quot;</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineplus">+  );</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineplus">+</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineplus">+  info(</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineplus">+    &quot;Test disabling sideloaded addon 1 using the permission prompt secondary button&quot;</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineplus">+  );</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineplus">+</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineplus">+  // Click the first sideloaded extension</span>
<a href="#l4.145"></a><span id="l4.145" class="difflineplus">+  let popupPromise = promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l4.146"></a><span id="l4.146" class="difflineplus">+  addons.children[0].click();</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineplus">+</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineplus">+  // The click should hide the main menu. This is currently synchronous.</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineplus">+  ok(PanelUI.panel.state != &quot;open&quot;, &quot;Main menu is closed or closing.&quot;);</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineplus">+</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineplus">+  let panel = await popupPromise;</span>
<a href="#l4.152"></a><span id="l4.152" class="difflineplus">+</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineplus">+  // Check the contents of the notification, then choose &quot;Cancel&quot;</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineplus">+  checkNotification(panel, /\/foo-icon\.png$/, [</span>
<a href="#l4.155"></a><span id="l4.155" class="difflineplus">+    [&quot;webextPerms.hostDescription.allUrls&quot;],</span>
<a href="#l4.156"></a><span id="l4.156" class="difflineplus">+    [&quot;webextPerms.description.accountsRead&quot;],</span>
<a href="#l4.157"></a><span id="l4.157" class="difflineplus">+  ]);</span>
<a href="#l4.158"></a><span id="l4.158" class="difflineplus">+</span>
<a href="#l4.159"></a><span id="l4.159" class="difflineplus">+  panel.secondaryButton.click();</span>
<a href="#l4.160"></a><span id="l4.160" class="difflineplus">+</span>
<a href="#l4.161"></a><span id="l4.161" class="difflineplus">+  let [addon1, addon2, addon3] = await AddonManager.getAddonsByIDs([</span>
<a href="#l4.162"></a><span id="l4.162" class="difflineplus">+    ID1,</span>
<a href="#l4.163"></a><span id="l4.163" class="difflineplus">+    ID2,</span>
<a href="#l4.164"></a><span id="l4.164" class="difflineplus">+    ID3,</span>
<a href="#l4.165"></a><span id="l4.165" class="difflineplus">+  ]);</span>
<a href="#l4.166"></a><span id="l4.166" class="difflineplus">+  ok(addon1.seen, &quot;Addon should be marked as seen&quot;);</span>
<a href="#l4.167"></a><span id="l4.167" class="difflineplus">+  is(addon1.userDisabled, true, &quot;Addon 1 should still be disabled&quot;);</span>
<a href="#l4.168"></a><span id="l4.168" class="difflineplus">+  is(addon2.userDisabled, true, &quot;Addon 2 should still be disabled&quot;);</span>
<a href="#l4.169"></a><span id="l4.169" class="difflineplus">+  is(addon3.userDisabled, true, &quot;Addon 3 should still be disabled&quot;);</span>
<a href="#l4.170"></a><span id="l4.170" class="difflineplus">+</span>
<a href="#l4.171"></a><span id="l4.171" class="difflineplus">+  // Should still have 2 entries in the hamburger menu</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineplus">+  await gCUITestUtils.openMainMenu();</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineplus">+</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineplus">+  addons = PanelUI.addonNotificationContainer;</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineplus">+  is(</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineplus">+    addons.children.length,</span>
<a href="#l4.177"></a><span id="l4.177" class="difflineplus">+    2,</span>
<a href="#l4.178"></a><span id="l4.178" class="difflineplus">+    &quot;Have 2 menu entries for sideloaded extensions&quot;</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineplus">+  );</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineplus">+</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineplus">+  // Close the hamburger menu and go directly to the addons manager</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineplus">+  await gCUITestUtils.hideMainMenu();</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineplus">+</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineplus">+  const VIEW = &quot;addons://list/extension&quot;;</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineplus">+  let win = await openAddonsMgr(VIEW);</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineplus">+</span>
<a href="#l4.187"></a><span id="l4.187" class="difflineplus">+  if (win.gViewController.isLoading) {</span>
<a href="#l4.188"></a><span id="l4.188" class="difflineplus">+    await new Promise(resolve =&gt;</span>
<a href="#l4.189"></a><span id="l4.189" class="difflineplus">+      win.document.addEventListener(&quot;ViewChanged&quot;, resolve, { once: true })</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineplus">+    );</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineplus">+  }</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineplus">+</span>
<a href="#l4.193"></a><span id="l4.193" class="difflineplus">+  // XUL or HTML about:addons addon entry element.</span>
<a href="#l4.194"></a><span id="l4.194" class="difflineplus">+  const addonElement = await getAddonElement(win, ID2);</span>
<a href="#l4.195"></a><span id="l4.195" class="difflineplus">+</span>
<a href="#l4.196"></a><span id="l4.196" class="difflineplus">+  assertSideloadedAddonElementState(addonElement, false);</span>
<a href="#l4.197"></a><span id="l4.197" class="difflineplus">+</span>
<a href="#l4.198"></a><span id="l4.198" class="difflineplus">+  info(&quot;Test enabling sideloaded addon 2 from about:addons enable button&quot;);</span>
<a href="#l4.199"></a><span id="l4.199" class="difflineplus">+</span>
<a href="#l4.200"></a><span id="l4.200" class="difflineplus">+  // When clicking enable we should see the permissions notification</span>
<a href="#l4.201"></a><span id="l4.201" class="difflineplus">+  popupPromise = promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l4.202"></a><span id="l4.202" class="difflineplus">+  clickEnableExtension(win, addonElement);</span>
<a href="#l4.203"></a><span id="l4.203" class="difflineplus">+  panel = await popupPromise;</span>
<a href="#l4.204"></a><span id="l4.204" class="difflineplus">+  checkNotification(panel, DEFAULT_ICON_URL, [</span>
<a href="#l4.205"></a><span id="l4.205" class="difflineplus">+    [&quot;webextPerms.hostDescription.allUrls&quot;],</span>
<a href="#l4.206"></a><span id="l4.206" class="difflineplus">+  ]);</span>
<a href="#l4.207"></a><span id="l4.207" class="difflineplus">+</span>
<a href="#l4.208"></a><span id="l4.208" class="difflineplus">+  // Setup async test for post install notification on addon 2</span>
<a href="#l4.209"></a><span id="l4.209" class="difflineplus">+  popupPromise = promisePopupNotificationShown(&quot;addon-installed&quot;);</span>
<a href="#l4.210"></a><span id="l4.210" class="difflineplus">+</span>
<a href="#l4.211"></a><span id="l4.211" class="difflineplus">+  // Accept the permissions</span>
<a href="#l4.212"></a><span id="l4.212" class="difflineplus">+  panel.button.click();</span>
<a href="#l4.213"></a><span id="l4.213" class="difflineplus">+  await promiseEvent(ExtensionsUI, &quot;change&quot;);</span>
<a href="#l4.214"></a><span id="l4.214" class="difflineplus">+</span>
<a href="#l4.215"></a><span id="l4.215" class="difflineplus">+  addon2 = await AddonManager.getAddonByID(ID2);</span>
<a href="#l4.216"></a><span id="l4.216" class="difflineplus">+  is(addon2.userDisabled, false, &quot;Addon 2 should be enabled&quot;);</span>
<a href="#l4.217"></a><span id="l4.217" class="difflineplus">+  assertSideloadedAddonElementState(addonElement, true);</span>
<a href="#l4.218"></a><span id="l4.218" class="difflineplus">+</span>
<a href="#l4.219"></a><span id="l4.219" class="difflineplus">+  // Test post install notification on addon 2.</span>
<a href="#l4.220"></a><span id="l4.220" class="difflineplus">+  panel = await popupPromise;</span>
<a href="#l4.221"></a><span id="l4.221" class="difflineplus">+  panel.button.click();</span>
<a href="#l4.222"></a><span id="l4.222" class="difflineplus">+</span>
<a href="#l4.223"></a><span id="l4.223" class="difflineplus">+  let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l4.224"></a><span id="l4.224" class="difflineplus">+  tabmail.closeTab(tabmail.currentTabInfo);</span>
<a href="#l4.225"></a><span id="l4.225" class="difflineplus">+</span>
<a href="#l4.226"></a><span id="l4.226" class="difflineplus">+  // Should still have 1 entry in the hamburger menu</span>
<a href="#l4.227"></a><span id="l4.227" class="difflineplus">+  await gCUITestUtils.openMainMenu();</span>
<a href="#l4.228"></a><span id="l4.228" class="difflineplus">+</span>
<a href="#l4.229"></a><span id="l4.229" class="difflineplus">+  addons = PanelUI.addonNotificationContainer;</span>
<a href="#l4.230"></a><span id="l4.230" class="difflineplus">+  is(addons.children.length, 1, &quot;Have 1 menu entry for sideloaded extensions&quot;);</span>
<a href="#l4.231"></a><span id="l4.231" class="difflineplus">+</span>
<a href="#l4.232"></a><span id="l4.232" class="difflineplus">+  // Open the Add-Ons Manager</span>
<a href="#l4.233"></a><span id="l4.233" class="difflineplus">+  win = await openAddonsMgr(`addons://detail/${encodeURIComponent(ID3)}`);</span>
<a href="#l4.234"></a><span id="l4.234" class="difflineplus">+</span>
<a href="#l4.235"></a><span id="l4.235" class="difflineplus">+  info(&quot;Test enabling sideloaded addon 3 from app menu&quot;);</span>
<a href="#l4.236"></a><span id="l4.236" class="difflineplus">+  // Trigger addon 3 install as triggered from the app menu, to be able to cover the</span>
<a href="#l4.237"></a><span id="l4.237" class="difflineplus">+  // post install notification that should be triggered when the permission</span>
<a href="#l4.238"></a><span id="l4.238" class="difflineplus">+  // dialog is accepted from that flow.</span>
<a href="#l4.239"></a><span id="l4.239" class="difflineplus">+  popupPromise = promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l4.240"></a><span id="l4.240" class="difflineplus">+  ExtensionsUI.showSideloaded(tabmail, addon3);</span>
<a href="#l4.241"></a><span id="l4.241" class="difflineplus">+</span>
<a href="#l4.242"></a><span id="l4.242" class="difflineplus">+  panel = await popupPromise;</span>
<a href="#l4.243"></a><span id="l4.243" class="difflineplus">+  checkNotification(panel, DEFAULT_ICON_URL, [</span>
<a href="#l4.244"></a><span id="l4.244" class="difflineplus">+    [&quot;webextPerms.hostDescription.allUrls&quot;],</span>
<a href="#l4.245"></a><span id="l4.245" class="difflineplus">+  ]);</span>
<a href="#l4.246"></a><span id="l4.246" class="difflineplus">+</span>
<a href="#l4.247"></a><span id="l4.247" class="difflineplus">+  // Setup async test for post install notification on addon 3</span>
<a href="#l4.248"></a><span id="l4.248" class="difflineplus">+  popupPromise = promisePopupNotificationShown(&quot;addon-installed&quot;);</span>
<a href="#l4.249"></a><span id="l4.249" class="difflineplus">+</span>
<a href="#l4.250"></a><span id="l4.250" class="difflineplus">+  // Accept the permissions</span>
<a href="#l4.251"></a><span id="l4.251" class="difflineplus">+  panel.button.click();</span>
<a href="#l4.252"></a><span id="l4.252" class="difflineplus">+  await promiseEvent(ExtensionsUI, &quot;change&quot;);</span>
<a href="#l4.253"></a><span id="l4.253" class="difflineplus">+</span>
<a href="#l4.254"></a><span id="l4.254" class="difflineplus">+  addon3 = await AddonManager.getAddonByID(ID3);</span>
<a href="#l4.255"></a><span id="l4.255" class="difflineplus">+  is(addon3.userDisabled, false, &quot;Addon 3 should be enabled&quot;);</span>
<a href="#l4.256"></a><span id="l4.256" class="difflineplus">+</span>
<a href="#l4.257"></a><span id="l4.257" class="difflineplus">+  // Test post install notification on addon 3.</span>
<a href="#l4.258"></a><span id="l4.258" class="difflineplus">+  panel = await popupPromise;</span>
<a href="#l4.259"></a><span id="l4.259" class="difflineplus">+  panel.button.click();</span>
<a href="#l4.260"></a><span id="l4.260" class="difflineplus">+</span>
<a href="#l4.261"></a><span id="l4.261" class="difflineplus">+  // We should have recorded 1 cancelled followed by 2 accepted sideloads.</span>
<a href="#l4.262"></a><span id="l4.262" class="difflineplus">+  expectTelemetry([&quot;sideloadRejected&quot;, &quot;sideloadAccepted&quot;, &quot;sideloadAccepted&quot;]);</span>
<a href="#l4.263"></a><span id="l4.263" class="difflineplus">+</span>
<a href="#l4.264"></a><span id="l4.264" class="difflineplus">+  isnot(</span>
<a href="#l4.265"></a><span id="l4.265" class="difflineplus">+    menuButton.getAttribute(&quot;badge-status&quot;),</span>
<a href="#l4.266"></a><span id="l4.266" class="difflineplus">+    &quot;addon-alert&quot;,</span>
<a href="#l4.267"></a><span id="l4.267" class="difflineplus">+    &quot;Should no longer have addon alert badge&quot;</span>
<a href="#l4.268"></a><span id="l4.268" class="difflineplus">+  );</span>
<a href="#l4.269"></a><span id="l4.269" class="difflineplus">+</span>
<a href="#l4.270"></a><span id="l4.270" class="difflineplus">+  await new Promise(resolve =&gt; setTimeout(resolve, 100));</span>
<a href="#l4.271"></a><span id="l4.271" class="difflineplus">+</span>
<a href="#l4.272"></a><span id="l4.272" class="difflineplus">+  for (let addon of [addon1, addon2, addon3]) {</span>
<a href="#l4.273"></a><span id="l4.273" class="difflineplus">+    await addon.uninstall();</span>
<a href="#l4.274"></a><span id="l4.274" class="difflineplus">+  }</span>
<a href="#l4.275"></a><span id="l4.275" class="difflineplus">+</span>
<a href="#l4.276"></a><span id="l4.276" class="difflineplus">+  tabmail.closeTab(tabmail.currentTabInfo);</span>
<a href="#l4.277"></a><span id="l4.277" class="difflineplus">+</span>
<a href="#l4.278"></a><span id="l4.278" class="difflineplus">+  // Assert that the expected AddonManager telemetry are being recorded.</span>
<a href="#l4.279"></a><span id="l4.279" class="difflineplus">+  const expectedExtra = { source: &quot;app-profile&quot;, method: &quot;sideload&quot; };</span>
<a href="#l4.280"></a><span id="l4.280" class="difflineplus">+</span>
<a href="#l4.281"></a><span id="l4.281" class="difflineplus">+  const baseEvent = { object: &quot;extension&quot;, extra: expectedExtra };</span>
<a href="#l4.282"></a><span id="l4.282" class="difflineplus">+  const createBaseEventAddon = n =&gt; ({</span>
<a href="#l4.283"></a><span id="l4.283" class="difflineplus">+    ...baseEvent,</span>
<a href="#l4.284"></a><span id="l4.284" class="difflineplus">+    value: `addon${n}@tests.mozilla.org`,</span>
<a href="#l4.285"></a><span id="l4.285" class="difflineplus">+  });</span>
<a href="#l4.286"></a><span id="l4.286" class="difflineplus">+  const getEventsForAddonId = (events, addonId) =&gt;</span>
<a href="#l4.287"></a><span id="l4.287" class="difflineplus">+    events.filter(ev =&gt; ev.value === addonId);</span>
<a href="#l4.288"></a><span id="l4.288" class="difflineplus">+</span>
<a href="#l4.289"></a><span id="l4.289" class="difflineplus">+  const amEvents = AddonTestUtils.getAMTelemetryEvents();</span>
<a href="#l4.290"></a><span id="l4.290" class="difflineplus">+</span>
<a href="#l4.291"></a><span id="l4.291" class="difflineplus">+  // Test telemetry events for addon1 (1 permission and 1 origin).</span>
<a href="#l4.292"></a><span id="l4.292" class="difflineplus">+  info(&quot;Test telemetry events collected for addon1&quot;);</span>
<a href="#l4.293"></a><span id="l4.293" class="difflineplus">+</span>
<a href="#l4.294"></a><span id="l4.294" class="difflineplus">+  const baseEventAddon1 = createBaseEventAddon(1);</span>
<a href="#l4.295"></a><span id="l4.295" class="difflineplus">+  const collectedEventsAddon1 = getEventsForAddonId(</span>
<a href="#l4.296"></a><span id="l4.296" class="difflineplus">+    amEvents,</span>
<a href="#l4.297"></a><span id="l4.297" class="difflineplus">+    baseEventAddon1.value</span>
<a href="#l4.298"></a><span id="l4.298" class="difflineplus">+  );</span>
<a href="#l4.299"></a><span id="l4.299" class="difflineplus">+  const expectedEventsAddon1 = [</span>
<a href="#l4.300"></a><span id="l4.300" class="difflineplus">+    {</span>
<a href="#l4.301"></a><span id="l4.301" class="difflineplus">+      ...baseEventAddon1,</span>
<a href="#l4.302"></a><span id="l4.302" class="difflineplus">+      method: &quot;sideload_prompt&quot;,</span>
<a href="#l4.303"></a><span id="l4.303" class="difflineplus">+      extra: { ...expectedExtra, num_strings: &quot;2&quot; },</span>
<a href="#l4.304"></a><span id="l4.304" class="difflineplus">+    },</span>
<a href="#l4.305"></a><span id="l4.305" class="difflineplus">+    { ...baseEventAddon1, method: &quot;uninstall&quot; },</span>
<a href="#l4.306"></a><span id="l4.306" class="difflineplus">+  ];</span>
<a href="#l4.307"></a><span id="l4.307" class="difflineplus">+</span>
<a href="#l4.308"></a><span id="l4.308" class="difflineplus">+  let i = 0;</span>
<a href="#l4.309"></a><span id="l4.309" class="difflineplus">+  for (let event of collectedEventsAddon1) {</span>
<a href="#l4.310"></a><span id="l4.310" class="difflineplus">+    Assert.deepEqual(</span>
<a href="#l4.311"></a><span id="l4.311" class="difflineplus">+      event,</span>
<a href="#l4.312"></a><span id="l4.312" class="difflineplus">+      expectedEventsAddon1[i++],</span>
<a href="#l4.313"></a><span id="l4.313" class="difflineplus">+      &quot;Got the expected telemetry event&quot;</span>
<a href="#l4.314"></a><span id="l4.314" class="difflineplus">+    );</span>
<a href="#l4.315"></a><span id="l4.315" class="difflineplus">+  }</span>
<a href="#l4.316"></a><span id="l4.316" class="difflineplus">+</span>
<a href="#l4.317"></a><span id="l4.317" class="difflineplus">+  is(</span>
<a href="#l4.318"></a><span id="l4.318" class="difflineplus">+    collectedEventsAddon1.length,</span>
<a href="#l4.319"></a><span id="l4.319" class="difflineplus">+    expectedEventsAddon1.length,</span>
<a href="#l4.320"></a><span id="l4.320" class="difflineplus">+    &quot;Got the expected number of telemetry events for addon1&quot;</span>
<a href="#l4.321"></a><span id="l4.321" class="difflineplus">+  );</span>
<a href="#l4.322"></a><span id="l4.322" class="difflineplus">+</span>
<a href="#l4.323"></a><span id="l4.323" class="difflineplus">+  const baseEventAddon2 = createBaseEventAddon(2);</span>
<a href="#l4.324"></a><span id="l4.324" class="difflineplus">+  const collectedEventsAddon2 = getEventsForAddonId(</span>
<a href="#l4.325"></a><span id="l4.325" class="difflineplus">+    amEvents,</span>
<a href="#l4.326"></a><span id="l4.326" class="difflineplus">+    baseEventAddon2.value</span>
<a href="#l4.327"></a><span id="l4.327" class="difflineplus">+  );</span>
<a href="#l4.328"></a><span id="l4.328" class="difflineplus">+  const expectedEventsAddon2 = [</span>
<a href="#l4.329"></a><span id="l4.329" class="difflineplus">+    {</span>
<a href="#l4.330"></a><span id="l4.330" class="difflineplus">+      ...baseEventAddon2,</span>
<a href="#l4.331"></a><span id="l4.331" class="difflineplus">+      method: &quot;sideload_prompt&quot;,</span>
<a href="#l4.332"></a><span id="l4.332" class="difflineplus">+      extra: { ...expectedExtra, num_strings: &quot;1&quot; },</span>
<a href="#l4.333"></a><span id="l4.333" class="difflineplus">+    },</span>
<a href="#l4.334"></a><span id="l4.334" class="difflineplus">+    { ...baseEventAddon2, method: &quot;enable&quot; },</span>
<a href="#l4.335"></a><span id="l4.335" class="difflineplus">+    { ...baseEventAddon2, method: &quot;uninstall&quot; },</span>
<a href="#l4.336"></a><span id="l4.336" class="difflineplus">+  ];</span>
<a href="#l4.337"></a><span id="l4.337" class="difflineplus">+</span>
<a href="#l4.338"></a><span id="l4.338" class="difflineplus">+  i = 0;</span>
<a href="#l4.339"></a><span id="l4.339" class="difflineplus">+  for (let event of collectedEventsAddon2) {</span>
<a href="#l4.340"></a><span id="l4.340" class="difflineplus">+    Assert.deepEqual(</span>
<a href="#l4.341"></a><span id="l4.341" class="difflineplus">+      event,</span>
<a href="#l4.342"></a><span id="l4.342" class="difflineplus">+      expectedEventsAddon2[i++],</span>
<a href="#l4.343"></a><span id="l4.343" class="difflineplus">+      &quot;Got the expected telemetry event&quot;</span>
<a href="#l4.344"></a><span id="l4.344" class="difflineplus">+    );</span>
<a href="#l4.345"></a><span id="l4.345" class="difflineplus">+  }</span>
<a href="#l4.346"></a><span id="l4.346" class="difflineplus">+</span>
<a href="#l4.347"></a><span id="l4.347" class="difflineplus">+  is(</span>
<a href="#l4.348"></a><span id="l4.348" class="difflineplus">+    collectedEventsAddon2.length,</span>
<a href="#l4.349"></a><span id="l4.349" class="difflineplus">+    expectedEventsAddon2.length,</span>
<a href="#l4.350"></a><span id="l4.350" class="difflineplus">+    &quot;Got the expected number of telemetry events for addon2&quot;</span>
<a href="#l4.351"></a><span id="l4.351" class="difflineplus">+  );</span>
<a href="#l4.352"></a><span id="l4.352" class="difflineplus">+});</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">new file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineminus">--- /dev/null</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_extension_update_background.js</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineat">@@ -0,0 +1,244 @@</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineplus">+const { AddonManagerPrivate } = ChromeUtils.import(</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineplus">+  &quot;resource://gre/modules/AddonManager.jsm&quot;</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineplus">+);</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineplus">+</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineplus">+const { AddonTestUtils } = ChromeUtils.import(</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineplus">+  &quot;resource://testing-common/AddonTestUtils.jsm&quot;</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+);</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+AddonTestUtils.initMochitest(this);</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+const ID = &quot;update2@tests.mozilla.org&quot;;</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+const ID_ICON = &quot;update_icon2@tests.mozilla.org&quot;;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+const ID_PERMS = &quot;update_perms@tests.mozilla.org&quot;;</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+const ID_LEGACY = &quot;legacy_update@tests.mozilla.org&quot;;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+const FAKE_INSTALL_TELEMETRY_SOURCE = &quot;fake-install-source&quot;;</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+requestLongerTimeout(2);</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineplus">+function promiseViewLoaded(tab, viewid) {</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+  let win = tab.linkedBrowser.contentWindow;</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineplus">+  if (</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineplus">+    win.gViewController &amp;&amp;</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineplus">+    !win.gViewController.isLoading &amp;&amp;</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineplus">+    win.gViewController.currentViewId == viewid</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineplus">+  ) {</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineplus">+    return Promise.resolve();</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineplus">+  }</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+  return new Promise(resolve =&gt; {</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+    function listener() {</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+      if (win.gViewController.currentViewId != viewid) {</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+        return;</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+      }</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+      win.document.removeEventListener(&quot;ViewChanged&quot;, listener);</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+      resolve();</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+    }</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+    win.document.addEventListener(&quot;ViewChanged&quot;, listener);</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+  });</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+}</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+function getBadgeStatus() {</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineplus">+  let menuButton = document.getElementById(&quot;button-appmenu&quot;);</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+  return menuButton.getAttribute(&quot;badge-status&quot;);</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+}</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+// Set some prefs that apply to all the tests in this file</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+add_task(async function setup() {</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+    set: [</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+      // We don't have pre-pinned certificates for the local mochitest server</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+      [&quot;extensions.install.requireBuiltInCerts&quot;, false],</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+      [&quot;extensions.update.requireBuiltInCerts&quot;, false],</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+    ],</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+  });</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+});</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+hookExtensionsTelemetry();</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+AddonTestUtils.hookAMTelemetryEvents();</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineplus">+</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+// Helper function to test background updates.</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineplus">+async function backgroundUpdateTest(url, id, checkIconFn) {</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineplus">+    set: [</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+      // Turn on background updates</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+      [&quot;extensions.update.enabled&quot;, true],</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineplus">+</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineplus">+      // Point updates to the local mochitest server</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineplus">+      [</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineplus">+        &quot;extensions.update.background.url&quot;,</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineplus">+        `${BASE}/browser_webext_update.json`,</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineplus">+      ],</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineplus">+    ],</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineplus">+  });</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineplus">+</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineplus">+  // Install version 1.0 of the test extension</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineplus">+  let addon = await promiseInstallAddon(url, {</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineplus">+    source: FAKE_INSTALL_TELEMETRY_SOURCE,</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineplus">+  });</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineplus">+  let addonId = addon.id;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+  ok(addon, &quot;Addon was installed&quot;);</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+  is(getBadgeStatus(), &quot;&quot;, &quot;Should not start out with an addon alert badge&quot;);</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineplus">+</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+  // Trigger an update check and wait for the update for this addon</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+  // to be downloaded.</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+  let updatePromise = promiseInstallEvent(addon, &quot;onDownloadEnded&quot;);</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineplus">+</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineplus">+  AddonManagerPrivate.backgroundUpdateCheck();</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineplus">+  await updatePromise;</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineplus">+</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+  is(getBadgeStatus(), &quot;addon-alert&quot;, &quot;Should have addon alert badge&quot;);</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineplus">+</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineplus">+  // Find the menu entry for the update</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineplus">+  await gCUITestUtils.openMainMenu();</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineplus">+</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineplus">+  let addons = PanelUI.addonNotificationContainer;</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineplus">+  is(addons.children.length, 1, &quot;Have a menu entry for the update&quot;);</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineplus">+</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineplus">+  // Click the menu item</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineplus">+  let popupPromise = promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+  addons.children[0].click();</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineplus">+</span>
<a href="#l5.107"></a><span id="l5.107" class="difflineplus">+  // The click should hide the main menu. This is currently synchronous.</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineplus">+  ok(PanelUI.panel.state != &quot;open&quot;, &quot;Main menu is closed or closing.&quot;);</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineplus">+</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineplus">+  // Wait for the permission prompt, check the contents</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineplus">+  let panel = await popupPromise;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineplus">+  checkIconFn(panel.getAttribute(&quot;icon&quot;));</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineplus">+</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineplus">+  // The original extension has 1 promptable permission and the new one</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineplus">+  // has 2 (history and &lt;all_urls&gt;) plus 1 non-promptable permission (cookies).</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineplus">+  // So we should only see the 1 new promptable permission in the notification.</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineplus">+  let list = document.getElementById(&quot;addon-webext-perm-list&quot;);</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineplus">+  is(list.childElementCount, 1, &quot;Permissions list contains 1 entry&quot;);</span>
<a href="#l5.119"></a><span id="l5.119" class="difflineplus">+</span>
<a href="#l5.120"></a><span id="l5.120" class="difflineplus">+  // Cancel the update.</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineplus">+  panel.secondaryButton.click();</span>
<a href="#l5.122"></a><span id="l5.122" class="difflineplus">+</span>
<a href="#l5.123"></a><span id="l5.123" class="difflineplus">+  addon = await AddonManager.getAddonByID(id);</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineplus">+  is(addon.version, &quot;1.0&quot;, &quot;Should still be running the old version&quot;);</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineplus">+</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineplus">+  // Alert badge and hamburger menu items should be gone</span>
<a href="#l5.127"></a><span id="l5.127" class="difflineplus">+  is(getBadgeStatus(), &quot;&quot;, &quot;Addon alert badge should be gone&quot;);</span>
<a href="#l5.128"></a><span id="l5.128" class="difflineplus">+</span>
<a href="#l5.129"></a><span id="l5.129" class="difflineplus">+  await gCUITestUtils.openMainMenu();</span>
<a href="#l5.130"></a><span id="l5.130" class="difflineplus">+  addons = PanelUI.addonNotificationContainer;</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineplus">+  is(addons.children.length, 0, &quot;Update menu entries should be gone&quot;);</span>
<a href="#l5.132"></a><span id="l5.132" class="difflineplus">+  await gCUITestUtils.hideMainMenu();</span>
<a href="#l5.133"></a><span id="l5.133" class="difflineplus">+</span>
<a href="#l5.134"></a><span id="l5.134" class="difflineplus">+  // Re-check for an update</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineplus">+  updatePromise = promiseInstallEvent(addon, &quot;onDownloadEnded&quot;);</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineplus">+  await AddonManagerPrivate.backgroundUpdateCheck();</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineplus">+  await updatePromise;</span>
<a href="#l5.138"></a><span id="l5.138" class="difflineplus">+</span>
<a href="#l5.139"></a><span id="l5.139" class="difflineplus">+  is(getBadgeStatus(), &quot;addon-alert&quot;, &quot;Should have addon alert badge&quot;);</span>
<a href="#l5.140"></a><span id="l5.140" class="difflineplus">+</span>
<a href="#l5.141"></a><span id="l5.141" class="difflineplus">+  // Find the menu entry for the update</span>
<a href="#l5.142"></a><span id="l5.142" class="difflineplus">+  await gCUITestUtils.openMainMenu();</span>
<a href="#l5.143"></a><span id="l5.143" class="difflineplus">+</span>
<a href="#l5.144"></a><span id="l5.144" class="difflineplus">+  addons = PanelUI.addonNotificationContainer;</span>
<a href="#l5.145"></a><span id="l5.145" class="difflineplus">+  is(addons.children.length, 1, &quot;Have a menu entry for the update&quot;);</span>
<a href="#l5.146"></a><span id="l5.146" class="difflineplus">+</span>
<a href="#l5.147"></a><span id="l5.147" class="difflineplus">+  // Click the menu item</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineplus">+  popupPromise = promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineplus">+  addons.children[0].click();</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineplus">+</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineplus">+  // Wait for the permission prompt and accept it this time</span>
<a href="#l5.152"></a><span id="l5.152" class="difflineplus">+  updatePromise = waitForUpdate(addon);</span>
<a href="#l5.153"></a><span id="l5.153" class="difflineplus">+  panel = await popupPromise;</span>
<a href="#l5.154"></a><span id="l5.154" class="difflineplus">+  panel.button.click();</span>
<a href="#l5.155"></a><span id="l5.155" class="difflineplus">+</span>
<a href="#l5.156"></a><span id="l5.156" class="difflineplus">+  addon = await updatePromise;</span>
<a href="#l5.157"></a><span id="l5.157" class="difflineplus">+  is(addon.version, &quot;2.0&quot;, &quot;Should have upgraded to the new version&quot;);</span>
<a href="#l5.158"></a><span id="l5.158" class="difflineplus">+</span>
<a href="#l5.159"></a><span id="l5.159" class="difflineplus">+  is(getBadgeStatus(), &quot;&quot;, &quot;Addon alert badge should be gone&quot;);</span>
<a href="#l5.160"></a><span id="l5.160" class="difflineplus">+</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineplus">+  // Should have recorded 1 canceled followed by 1 accepted update.</span>
<a href="#l5.162"></a><span id="l5.162" class="difflineplus">+  expectTelemetry([&quot;updateRejected&quot;, &quot;updateAccepted&quot;]);</span>
<a href="#l5.163"></a><span id="l5.163" class="difflineplus">+</span>
<a href="#l5.164"></a><span id="l5.164" class="difflineplus">+  await addon.uninstall();</span>
<a href="#l5.165"></a><span id="l5.165" class="difflineplus">+  await SpecialPowers.popPrefEnv();</span>
<a href="#l5.166"></a><span id="l5.166" class="difflineplus">+</span>
<a href="#l5.167"></a><span id="l5.167" class="difflineplus">+  // Test that the expected telemetry events have been recorded (and that they include the</span>
<a href="#l5.168"></a><span id="l5.168" class="difflineplus">+  // permission_prompt event).</span>
<a href="#l5.169"></a><span id="l5.169" class="difflineplus">+  const amEvents = AddonTestUtils.getAMTelemetryEvents();</span>
<a href="#l5.170"></a><span id="l5.170" class="difflineplus">+  const updateEvents = amEvents</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineplus">+    .filter(evt =&gt; evt.method === &quot;update&quot;)</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineplus">+    .map(evt =&gt; {</span>
<a href="#l5.173"></a><span id="l5.173" class="difflineplus">+      delete evt.value;</span>
<a href="#l5.174"></a><span id="l5.174" class="difflineplus">+      return evt;</span>
<a href="#l5.175"></a><span id="l5.175" class="difflineplus">+    });</span>
<a href="#l5.176"></a><span id="l5.176" class="difflineplus">+</span>
<a href="#l5.177"></a><span id="l5.177" class="difflineplus">+  Assert.deepEqual(</span>
<a href="#l5.178"></a><span id="l5.178" class="difflineplus">+    updateEvents.map(evt =&gt; evt.extra &amp;&amp; evt.extra.step),</span>
<a href="#l5.179"></a><span id="l5.179" class="difflineplus">+    [</span>
<a href="#l5.180"></a><span id="l5.180" class="difflineplus">+      // First update (cancelled).</span>
<a href="#l5.181"></a><span id="l5.181" class="difflineplus">+      &quot;started&quot;,</span>
<a href="#l5.182"></a><span id="l5.182" class="difflineplus">+      &quot;download_started&quot;,</span>
<a href="#l5.183"></a><span id="l5.183" class="difflineplus">+      &quot;download_completed&quot;,</span>
<a href="#l5.184"></a><span id="l5.184" class="difflineplus">+      &quot;permissions_prompt&quot;,</span>
<a href="#l5.185"></a><span id="l5.185" class="difflineplus">+      &quot;cancelled&quot;,</span>
<a href="#l5.186"></a><span id="l5.186" class="difflineplus">+      // Second update (completed).</span>
<a href="#l5.187"></a><span id="l5.187" class="difflineplus">+      &quot;started&quot;,</span>
<a href="#l5.188"></a><span id="l5.188" class="difflineplus">+      &quot;download_started&quot;,</span>
<a href="#l5.189"></a><span id="l5.189" class="difflineplus">+      &quot;download_completed&quot;,</span>
<a href="#l5.190"></a><span id="l5.190" class="difflineplus">+      &quot;permissions_prompt&quot;,</span>
<a href="#l5.191"></a><span id="l5.191" class="difflineplus">+      &quot;completed&quot;,</span>
<a href="#l5.192"></a><span id="l5.192" class="difflineplus">+    ],</span>
<a href="#l5.193"></a><span id="l5.193" class="difflineplus">+    &quot;Got the steps from the collected telemetry events&quot;</span>
<a href="#l5.194"></a><span id="l5.194" class="difflineplus">+  );</span>
<a href="#l5.195"></a><span id="l5.195" class="difflineplus">+</span>
<a href="#l5.196"></a><span id="l5.196" class="difflineplus">+  const method = &quot;update&quot;;</span>
<a href="#l5.197"></a><span id="l5.197" class="difflineplus">+  const object = &quot;extension&quot;;</span>
<a href="#l5.198"></a><span id="l5.198" class="difflineplus">+  const baseExtra = {</span>
<a href="#l5.199"></a><span id="l5.199" class="difflineplus">+    addon_id: addonId,</span>
<a href="#l5.200"></a><span id="l5.200" class="difflineplus">+    source: FAKE_INSTALL_TELEMETRY_SOURCE,</span>
<a href="#l5.201"></a><span id="l5.201" class="difflineplus">+    step: &quot;permissions_prompt&quot;,</span>
<a href="#l5.202"></a><span id="l5.202" class="difflineplus">+    updated_from: &quot;app&quot;,</span>
<a href="#l5.203"></a><span id="l5.203" class="difflineplus">+  };</span>
<a href="#l5.204"></a><span id="l5.204" class="difflineplus">+</span>
<a href="#l5.205"></a><span id="l5.205" class="difflineplus">+  // Expect the telemetry events to have num_strings set to 1, as only the origin permissions is going</span>
<a href="#l5.206"></a><span id="l5.206" class="difflineplus">+  // to be listed in the permission prompt.</span>
<a href="#l5.207"></a><span id="l5.207" class="difflineplus">+  Assert.deepEqual(</span>
<a href="#l5.208"></a><span id="l5.208" class="difflineplus">+    updateEvents.filter(</span>
<a href="#l5.209"></a><span id="l5.209" class="difflineplus">+      evt =&gt; evt.extra &amp;&amp; evt.extra.step === &quot;permissions_prompt&quot;</span>
<a href="#l5.210"></a><span id="l5.210" class="difflineplus">+    ),</span>
<a href="#l5.211"></a><span id="l5.211" class="difflineplus">+    [</span>
<a href="#l5.212"></a><span id="l5.212" class="difflineplus">+      { method, object, extra: { ...baseExtra, num_strings: &quot;1&quot; } },</span>
<a href="#l5.213"></a><span id="l5.213" class="difflineplus">+      { method, object, extra: { ...baseExtra, num_strings: &quot;1&quot; } },</span>
<a href="#l5.214"></a><span id="l5.214" class="difflineplus">+    ],</span>
<a href="#l5.215"></a><span id="l5.215" class="difflineplus">+    &quot;Got the expected permission_prompts events&quot;</span>
<a href="#l5.216"></a><span id="l5.216" class="difflineplus">+  );</span>
<a href="#l5.217"></a><span id="l5.217" class="difflineplus">+}</span>
<a href="#l5.218"></a><span id="l5.218" class="difflineplus">+</span>
<a href="#l5.219"></a><span id="l5.219" class="difflineplus">+function checkDefaultIcon(icon) {</span>
<a href="#l5.220"></a><span id="l5.220" class="difflineplus">+  is(</span>
<a href="#l5.221"></a><span id="l5.221" class="difflineplus">+    icon,</span>
<a href="#l5.222"></a><span id="l5.222" class="difflineplus">+    &quot;chrome://mozapps/skin/extensions/extensionGeneric.svg&quot;,</span>
<a href="#l5.223"></a><span id="l5.223" class="difflineplus">+    &quot;Popup has the default extension icon&quot;</span>
<a href="#l5.224"></a><span id="l5.224" class="difflineplus">+  );</span>
<a href="#l5.225"></a><span id="l5.225" class="difflineplus">+}</span>
<a href="#l5.226"></a><span id="l5.226" class="difflineplus">+</span>
<a href="#l5.227"></a><span id="l5.227" class="difflineplus">+add_task(() =&gt;</span>
<a href="#l5.228"></a><span id="l5.228" class="difflineplus">+  backgroundUpdateTest(</span>
<a href="#l5.229"></a><span id="l5.229" class="difflineplus">+    `${BASE}/browser_webext_update1.xpi`,</span>
<a href="#l5.230"></a><span id="l5.230" class="difflineplus">+    ID,</span>
<a href="#l5.231"></a><span id="l5.231" class="difflineplus">+    checkDefaultIcon</span>
<a href="#l5.232"></a><span id="l5.232" class="difflineplus">+  )</span>
<a href="#l5.233"></a><span id="l5.233" class="difflineplus">+);</span>
<a href="#l5.234"></a><span id="l5.234" class="difflineplus">+function checkNonDefaultIcon(icon) {</span>
<a href="#l5.235"></a><span id="l5.235" class="difflineplus">+  // The icon should come from the extension, don't bother with the precise</span>
<a href="#l5.236"></a><span id="l5.236" class="difflineplus">+  // path, just make sure we've got a jar url pointing to the right path</span>
<a href="#l5.237"></a><span id="l5.237" class="difflineplus">+  // inside the jar.</span>
<a href="#l5.238"></a><span id="l5.238" class="difflineplus">+  ok(icon.startsWith(&quot;jar:file://&quot;), &quot;Icon is a jar url&quot;);</span>
<a href="#l5.239"></a><span id="l5.239" class="difflineplus">+  ok(icon.endsWith(&quot;/icon.png&quot;), &quot;Icon is icon.png inside a jar&quot;);</span>
<a href="#l5.240"></a><span id="l5.240" class="difflineplus">+}</span>
<a href="#l5.241"></a><span id="l5.241" class="difflineplus">+</span>
<a href="#l5.242"></a><span id="l5.242" class="difflineplus">+add_task(() =&gt;</span>
<a href="#l5.243"></a><span id="l5.243" class="difflineplus">+  backgroundUpdateTest(</span>
<a href="#l5.244"></a><span id="l5.244" class="difflineplus">+    `${BASE}/browser_webext_update_icon1.xpi`,</span>
<a href="#l5.245"></a><span id="l5.245" class="difflineplus">+    ID_ICON,</span>
<a href="#l5.246"></a><span id="l5.246" class="difflineplus">+    checkNonDefaultIcon</span>
<a href="#l5.247"></a><span id="l5.247" class="difflineplus">+  )</span>
<a href="#l5.248"></a><span id="l5.248" class="difflineplus">+);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">new file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineminus">--- /dev/null</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_extension_update_background_noprompt.js</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineat">@@ -0,0 +1,113 @@</span>
<a href="#l6.5"></a><span id="l6.5" class="difflineplus">+const { AddonManagerPrivate } = ChromeUtils.import(</span>
<a href="#l6.6"></a><span id="l6.6" class="difflineplus">+  &quot;resource://gre/modules/AddonManager.jsm&quot;</span>
<a href="#l6.7"></a><span id="l6.7" class="difflineplus">+);</span>
<a href="#l6.8"></a><span id="l6.8" class="difflineplus">+</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineplus">+const { AddonTestUtils } = ChromeUtils.import(</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineplus">+  &quot;resource://testing-common/AddonTestUtils.jsm&quot;,</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineplus">+  {}</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+);</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+AddonTestUtils.initMochitest(this);</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+hookExtensionsTelemetry();</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+AddonTestUtils.hookAMTelemetryEvents();</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+const ID_PERMS = &quot;update_perms@tests.mozilla.org&quot;;</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineplus">+const ID_ORIGINS = &quot;update_origins@tests.mozilla.org&quot;;</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineplus">+</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineplus">+function getBadgeStatus() {</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineplus">+  let menuButton = document.getElementById(&quot;button-appmenu&quot;);</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineplus">+  return menuButton.getAttribute(&quot;badge-status&quot;);</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineplus">+}</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineplus">+</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineplus">+// Set some prefs that apply to all the tests in this file</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineplus">+add_task(async function setup() {</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineplus">+    set: [</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineplus">+      // We don't have pre-pinned certificates for the local mochitest server</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineplus">+      [&quot;extensions.install.requireBuiltInCerts&quot;, false],</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineplus">+      [&quot;extensions.update.requireBuiltInCerts&quot;, false],</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineplus">+      // Don't require the extensions to be signed</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+      [&quot;xpinstall.signatures.required&quot;, false],</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineplus">+    ],</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineplus">+  });</span>
<a href="#l6.38"></a><span id="l6.38" class="difflineplus">+});</span>
<a href="#l6.39"></a><span id="l6.39" class="difflineplus">+</span>
<a href="#l6.40"></a><span id="l6.40" class="difflineplus">+// Helper function to test an upgrade that should not show a prompt</span>
<a href="#l6.41"></a><span id="l6.41" class="difflineplus">+async function testNoPrompt(origUrl, id) {</span>
<a href="#l6.42"></a><span id="l6.42" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l6.43"></a><span id="l6.43" class="difflineplus">+    set: [</span>
<a href="#l6.44"></a><span id="l6.44" class="difflineplus">+      // Turn on background updates</span>
<a href="#l6.45"></a><span id="l6.45" class="difflineplus">+      [&quot;extensions.update.enabled&quot;, true],</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineplus">+</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineplus">+      // Point updates to the local mochitest server</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineplus">+      [</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineplus">+        &quot;extensions.update.background.url&quot;,</span>
<a href="#l6.50"></a><span id="l6.50" class="difflineplus">+        `${BASE}/browser_webext_update.json`,</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineplus">+      ],</span>
<a href="#l6.52"></a><span id="l6.52" class="difflineplus">+    ],</span>
<a href="#l6.53"></a><span id="l6.53" class="difflineplus">+  });</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineplus">+</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineplus">+  // Install version 1.0 of the test extension</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineplus">+  let addon = await promiseInstallAddon(origUrl);</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineplus">+</span>
<a href="#l6.58"></a><span id="l6.58" class="difflineplus">+  ok(addon, &quot;Addon was installed&quot;);</span>
<a href="#l6.59"></a><span id="l6.59" class="difflineplus">+</span>
<a href="#l6.60"></a><span id="l6.60" class="difflineplus">+  let sawPopup = false;</span>
<a href="#l6.61"></a><span id="l6.61" class="difflineplus">+  PopupNotifications.panel.addEventListener(</span>
<a href="#l6.62"></a><span id="l6.62" class="difflineplus">+    &quot;popupshown&quot;,</span>
<a href="#l6.63"></a><span id="l6.63" class="difflineplus">+    () =&gt; (sawPopup = true),</span>
<a href="#l6.64"></a><span id="l6.64" class="difflineplus">+    { once: true }</span>
<a href="#l6.65"></a><span id="l6.65" class="difflineplus">+  );</span>
<a href="#l6.66"></a><span id="l6.66" class="difflineplus">+</span>
<a href="#l6.67"></a><span id="l6.67" class="difflineplus">+  // Trigger an update check and wait for the update to be applied.</span>
<a href="#l6.68"></a><span id="l6.68" class="difflineplus">+  let updatePromise = waitForUpdate(addon);</span>
<a href="#l6.69"></a><span id="l6.69" class="difflineplus">+  AddonManagerPrivate.backgroundUpdateCheck();</span>
<a href="#l6.70"></a><span id="l6.70" class="difflineplus">+  await updatePromise;</span>
<a href="#l6.71"></a><span id="l6.71" class="difflineplus">+</span>
<a href="#l6.72"></a><span id="l6.72" class="difflineplus">+  // There should be no notifications about the update</span>
<a href="#l6.73"></a><span id="l6.73" class="difflineplus">+  is(getBadgeStatus(), &quot;&quot;, &quot;Should not have addon alert badge&quot;);</span>
<a href="#l6.74"></a><span id="l6.74" class="difflineplus">+</span>
<a href="#l6.75"></a><span id="l6.75" class="difflineplus">+  await gCUITestUtils.openMainMenu();</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineplus">+  let addons = PanelUI.addonNotificationContainer;</span>
<a href="#l6.77"></a><span id="l6.77" class="difflineplus">+  is(addons.children.length, 0, &quot;Have 0 updates in the PanelUI menu&quot;);</span>
<a href="#l6.78"></a><span id="l6.78" class="difflineplus">+  await gCUITestUtils.hideMainMenu();</span>
<a href="#l6.79"></a><span id="l6.79" class="difflineplus">+</span>
<a href="#l6.80"></a><span id="l6.80" class="difflineplus">+  ok(!sawPopup, &quot;Should not have seen permissions notification&quot;);</span>
<a href="#l6.81"></a><span id="l6.81" class="difflineplus">+</span>
<a href="#l6.82"></a><span id="l6.82" class="difflineplus">+  addon = await AddonManager.getAddonByID(id);</span>
<a href="#l6.83"></a><span id="l6.83" class="difflineplus">+  is(addon.version, &quot;2.0&quot;, &quot;Update should have applied&quot;);</span>
<a href="#l6.84"></a><span id="l6.84" class="difflineplus">+</span>
<a href="#l6.85"></a><span id="l6.85" class="difflineplus">+  await addon.uninstall();</span>
<a href="#l6.86"></a><span id="l6.86" class="difflineplus">+  await SpecialPowers.popPrefEnv();</span>
<a href="#l6.87"></a><span id="l6.87" class="difflineplus">+</span>
<a href="#l6.88"></a><span id="l6.88" class="difflineplus">+  // Test that the expected telemetry events have been recorded (and that they do not</span>
<a href="#l6.89"></a><span id="l6.89" class="difflineplus">+  // include the permission_prompt event).</span>
<a href="#l6.90"></a><span id="l6.90" class="difflineplus">+  const amEvents = AddonTestUtils.getAMTelemetryEvents();</span>
<a href="#l6.91"></a><span id="l6.91" class="difflineplus">+  const updateEventsSteps = amEvents</span>
<a href="#l6.92"></a><span id="l6.92" class="difflineplus">+    .filter(evt =&gt; {</span>
<a href="#l6.93"></a><span id="l6.93" class="difflineplus">+      return evt.method === &quot;update&quot; &amp;&amp; evt.extra &amp;&amp; evt.extra.addon_id == id;</span>
<a href="#l6.94"></a><span id="l6.94" class="difflineplus">+    })</span>
<a href="#l6.95"></a><span id="l6.95" class="difflineplus">+    .map(evt =&gt; {</span>
<a href="#l6.96"></a><span id="l6.96" class="difflineplus">+      return evt.extra.step;</span>
<a href="#l6.97"></a><span id="l6.97" class="difflineplus">+    });</span>
<a href="#l6.98"></a><span id="l6.98" class="difflineplus">+</span>
<a href="#l6.99"></a><span id="l6.99" class="difflineplus">+  // Expect telemetry events related to a completed update with no permissions_prompt event.</span>
<a href="#l6.100"></a><span id="l6.100" class="difflineplus">+  Assert.deepEqual(</span>
<a href="#l6.101"></a><span id="l6.101" class="difflineplus">+    updateEventsSteps,</span>
<a href="#l6.102"></a><span id="l6.102" class="difflineplus">+    [&quot;started&quot;, &quot;download_started&quot;, &quot;download_completed&quot;, &quot;completed&quot;],</span>
<a href="#l6.103"></a><span id="l6.103" class="difflineplus">+    &quot;Got the steps from the collected telemetry events&quot;</span>
<a href="#l6.104"></a><span id="l6.104" class="difflineplus">+  );</span>
<a href="#l6.105"></a><span id="l6.105" class="difflineplus">+}</span>
<a href="#l6.106"></a><span id="l6.106" class="difflineplus">+</span>
<a href="#l6.107"></a><span id="l6.107" class="difflineplus">+// Test that an update that adds new non-promptable permissions is just</span>
<a href="#l6.108"></a><span id="l6.108" class="difflineplus">+// applied without showing a notification dialog.</span>
<a href="#l6.109"></a><span id="l6.109" class="difflineplus">+add_task(() =&gt;</span>
<a href="#l6.110"></a><span id="l6.110" class="difflineplus">+  testNoPrompt(`${BASE}/browser_webext_update_perms1.xpi`, ID_PERMS)</span>
<a href="#l6.111"></a><span id="l6.111" class="difflineplus">+);</span>
<a href="#l6.112"></a><span id="l6.112" class="difflineplus">+</span>
<a href="#l6.113"></a><span id="l6.113" class="difflineplus">+// Test that an update that narrows origin permissions is just applied without</span>
<a href="#l6.114"></a><span id="l6.114" class="difflineplus">+// showing a notification promt</span>
<a href="#l6.115"></a><span id="l6.115" class="difflineplus">+add_task(() =&gt;</span>
<a href="#l6.116"></a><span id="l6.116" class="difflineplus">+  testNoPrompt(`${BASE}/browser_webext_update_origins1.xpi`, ID_ORIGINS)</span>
<a href="#l6.117"></a><span id="l6.117" class="difflineplus">+);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">new file mode 100644</span>
<a href="#l7.2"></a><span id="l7.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..a3bdf6f8325851964f6d61b6f3bc716b645ab87e</span>
<a href="#l7.3"></a><span id="l7.3">GIT binary patch
literal 4243
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
E0J%P}egFUf</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1">new file mode 100644</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineminus">--- /dev/null</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_permissions_installTrigger.js</span>
<a href="#l8.4"></a><span id="l8.4" class="difflineat">@@ -0,0 +1,17 @@</span>
<a href="#l8.5"></a><span id="l8.5" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l8.6"></a><span id="l8.6" class="difflineplus">+</span>
<a href="#l8.7"></a><span id="l8.7" class="difflineplus">+const INSTALL_PAGE = `${BASE}/file_install_extensions.html`;</span>
<a href="#l8.8"></a><span id="l8.8" class="difflineplus">+</span>
<a href="#l8.9"></a><span id="l8.9" class="difflineplus">+async function installTrigger(filename) {</span>
<a href="#l8.10"></a><span id="l8.10" class="difflineplus">+  let browser = document.getElementById(&quot;tabmail&quot;).selectedBrowser;</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineplus">+  await BrowserTestUtils.loadURI(browser, INSTALL_PAGE);</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+  await BrowserTestUtils.browserLoaded(browser);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+  await SpecialPowers.spawn(browser, [`${BASE}/${filename}`], async function(</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+    url</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+  ) {</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineplus">+    await content.wrappedJSObject.installTrigger(url);</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineplus">+  });</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineplus">+}</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineplus">+add_task(() =&gt; testInstallMethod(installTrigger, &quot;installAmo&quot;));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">new file mode 100644</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineminus">--- /dev/null</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_permissions_local_file.js</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineat">@@ -0,0 +1,92 @@</span>
<a href="#l9.5"></a><span id="l9.5" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l9.6"></a><span id="l9.6" class="difflineplus">+</span>
<a href="#l9.7"></a><span id="l9.7" class="difflineplus">+async function installFile(filename) {</span>
<a href="#l9.8"></a><span id="l9.8" class="difflineplus">+  const ChromeRegistry = Cc[&quot;@mozilla.org/chrome/chrome-registry;1&quot;].getService(</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineplus">+    Ci.nsIChromeRegistry</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineplus">+  );</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+  let chromeUrl = Services.io.newURI(gTestPath);</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+  let fileUrl = ChromeRegistry.convertChromeURL(chromeUrl);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+  let file = fileUrl.QueryInterface(Ci.nsIFileURL).file;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+  file.leafName = filename;</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+  let MockFilePicker = SpecialPowers.MockFilePicker;</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+  MockFilePicker.init(window);</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+  MockFilePicker.setFiles([file]);</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+  MockFilePicker.afterOpenCallback = MockFilePicker.cleanup;</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineplus">+  let managerWin = await openAddonsMgr(&quot;addons://list/extension&quot;);</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+  // Do the install...</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineplus">+  if (managerWin.gViewController.isLoading) {</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineplus">+    await BrowserTestUtils.waitForEvent(managerWin.document, &quot;ViewChanged&quot;);</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineplus">+  }</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+  let installButton = managerWin</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+    .getHtmlBrowser()</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineplus">+    .contentDocument.querySelector('[action=&quot;install-from-file&quot;]');</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineplus">+  installButton.click();</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+}</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+add_task(async function test_install_extension_from_local_file() {</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+  // Clear any telemetry data that might be from a separate test.</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+  Services.telemetry.clearEvents();</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineplus">+</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineplus">+  // Listen for the first installId so we can check it later.</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineplus">+  let firstInstallId = null;</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineplus">+  AddonManager.addInstallListener({</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineplus">+    onNewInstall(install) {</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+      firstInstallId = install.installId;</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+      AddonManager.removeInstallListener(this);</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+    },</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+  });</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineplus">+  // Install the add-ons.</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineplus">+  await testInstallMethod(installFile, &quot;installLocal&quot;);</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineplus">+</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineplus">+  // Check we got an installId.</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+  ok(</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+    firstInstallId != null &amp;&amp; !isNaN(firstInstallId),</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+    &quot;There was an installId found&quot;</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+  );</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+  // Check the telemetry.</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+  let snapshot = Services.telemetry.snapshotEvents(</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+    Ci.nsITelemetry.DATASET_PRERELEASE_CHANNELS,</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineplus">+    true</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineplus">+  );</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineplus">+</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineplus">+  // Make sure we got some data.</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineplus">+  ok(</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineplus">+    snapshot.parent &amp;&amp; !!snapshot.parent.length,</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineplus">+    &quot;Got parent telemetry events in the snapshot&quot;</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineplus">+  );</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineplus">+</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineplus">+  // Only look at the related events after stripping the timestamp and category.</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineplus">+  let relatedEvents = snapshot.parent</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineplus">+    .filter(</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineplus">+      ([timestamp, category, method, object]) =&gt;</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineplus">+        category == &quot;addonsManager&quot; &amp;&amp;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineplus">+        method == &quot;action&quot; &amp;&amp;</span>
<a href="#l9.73"></a><span id="l9.73" class="difflineplus">+        object == &quot;aboutAddons&quot;</span>
<a href="#l9.74"></a><span id="l9.74" class="difflineplus">+    )</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineplus">+    .map(relatedEvent =&gt; relatedEvent.slice(4, 6));</span>
<a href="#l9.76"></a><span id="l9.76" class="difflineplus">+</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineplus">+  // testInstallMethod installs the extension three times.</span>
<a href="#l9.78"></a><span id="l9.78" class="difflineplus">+  Assert.deepEqual(</span>
<a href="#l9.79"></a><span id="l9.79" class="difflineplus">+    relatedEvents,</span>
<a href="#l9.80"></a><span id="l9.80" class="difflineplus">+    [</span>
<a href="#l9.81"></a><span id="l9.81" class="difflineplus">+      [firstInstallId.toString(), { action: &quot;installFromFile&quot;, view: &quot;list&quot; }],</span>
<a href="#l9.82"></a><span id="l9.82" class="difflineplus">+      [</span>
<a href="#l9.83"></a><span id="l9.83" class="difflineplus">+        (++firstInstallId).toString(),</span>
<a href="#l9.84"></a><span id="l9.84" class="difflineplus">+        { action: &quot;installFromFile&quot;, view: &quot;list&quot; },</span>
<a href="#l9.85"></a><span id="l9.85" class="difflineplus">+      ],</span>
<a href="#l9.86"></a><span id="l9.86" class="difflineplus">+      [</span>
<a href="#l9.87"></a><span id="l9.87" class="difflineplus">+        (++firstInstallId).toString(),</span>
<a href="#l9.88"></a><span id="l9.88" class="difflineplus">+        { action: &quot;installFromFile&quot;, view: &quot;list&quot; },</span>
<a href="#l9.89"></a><span id="l9.89" class="difflineplus">+      ],</span>
<a href="#l9.90"></a><span id="l9.90" class="difflineplus">+    ],</span>
<a href="#l9.91"></a><span id="l9.91" class="difflineplus">+    &quot;The telemetry is recorded correctly&quot;</span>
<a href="#l9.92"></a><span id="l9.92" class="difflineplus">+  );</span>
<a href="#l9.93"></a><span id="l9.93" class="difflineplus">+</span>
<a href="#l9.94"></a><span id="l9.94" class="difflineplus">+  let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l9.95"></a><span id="l9.95" class="difflineplus">+  tabmail.closeTab(tabmail.currentTabInfo);</span>
<a href="#l9.96"></a><span id="l9.96" class="difflineplus">+});</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">new file mode 100644</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineminus">--- /dev/null</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_permissions_mozAddonManager.js</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineat">@@ -0,0 +1,17 @@</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineplus">+</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineplus">+const INSTALL_PAGE = `${BASE}/file_install_extensions.html`;</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineplus">+</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineplus">+async function installMozAM(filename) {</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+  let browser = document.getElementById(&quot;tabmail&quot;).selectedBrowser;</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+  await BrowserTestUtils.loadURI(browser, INSTALL_PAGE);</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+  await BrowserTestUtils.browserLoaded(browser);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+  await SpecialPowers.spawn(browser, [`${BASE}/${filename}`], async function(</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+    url</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineplus">+  ) {</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineplus">+    await content.wrappedJSObject.installMozAM(url);</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineplus">+  });</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+}</span>
<a href="#l10.20"></a><span id="l10.20" class="difflineplus">+</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineplus">+add_task(() =&gt; testInstallMethod(installMozAM, &quot;installAmo&quot;));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">new file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- /dev/null</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_permissions_optional.js</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -0,0 +1,52 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineplus">+add_task(async function test_request_permissions_without_prompt() {</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineplus">+  async function pageScript() {</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineplus">+    const NO_PROMPT_PERM = &quot;activeTab&quot;;</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineplus">+    window.addEventListener(</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineplus">+      &quot;keypress&quot;,</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineplus">+      async () =&gt; {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+        let permGranted = await browser.permissions.request({</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+          permissions: [NO_PROMPT_PERM],</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+        });</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+        browser.test.assertTrue(</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+          permGranted,</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineplus">+          `${NO_PROMPT_PERM} permission was granted.`</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+        );</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+        let perms = await browser.permissions.getAll();</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineplus">+        browser.test.assertTrue(</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineplus">+          perms.permissions.includes(NO_PROMPT_PERM),</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+          `${NO_PROMPT_PERM} permission exists.`</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+        );</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+        browser.test.sendMessage(&quot;permsGranted&quot;);</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+      },</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineplus">+      { once: true }</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineplus">+    );</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+    browser.test.sendMessage(&quot;pageReady&quot;);</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineplus">+  }</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineplus">+</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineplus">+  let extension = ExtensionTestUtils.loadExtension({</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+    background() {</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineplus">+      browser.test.sendMessage(&quot;ready&quot;, browser.runtime.getURL(&quot;page.html&quot;));</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineplus">+    },</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineplus">+    files: {</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+      &quot;page.html&quot;: `&lt;html&gt;&lt;head&gt;&lt;script src=&quot;page.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;/html&gt;`,</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+      &quot;page.js&quot;: pageScript,</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineplus">+    },</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineplus">+    manifest: {</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineplus">+      optional_permissions: [&quot;activeTab&quot;],</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineplus">+    },</span>
<a href="#l11.42"></a><span id="l11.42" class="difflineplus">+  });</span>
<a href="#l11.43"></a><span id="l11.43" class="difflineplus">+  await extension.startup();</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineplus">+</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineplus">+  let url = await extension.awaitMessage(&quot;ready&quot;);</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineplus">+</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineplus">+  let tab = openContentTab(url);</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineplus">+  await extension.awaitMessage(&quot;pageReady&quot;);</span>
<a href="#l11.49"></a><span id="l11.49" class="difflineplus">+  await BrowserTestUtils.synthesizeMouseAtCenter(tab.browser, {}, tab.browser);</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineplus">+  await BrowserTestUtils.synthesizeKey(&quot;a&quot;, {}, tab.browser);</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineplus">+  await extension.awaitMessage(&quot;permsGranted&quot;);</span>
<a href="#l11.52"></a><span id="l11.52" class="difflineplus">+  await extension.unload();</span>
<a href="#l11.53"></a><span id="l11.53" class="difflineplus">+</span>
<a href="#l11.54"></a><span id="l11.54" class="difflineplus">+  let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l11.55"></a><span id="l11.55" class="difflineplus">+  tabmail.closeTab(tab);</span>
<a href="#l11.56"></a><span id="l11.56" class="difflineplus">+});</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1">new file mode 100644</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineminus">--- /dev/null</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_permissions_pointerevent.js</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineat">@@ -0,0 +1,63 @@</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineplus">+/* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */</span>
<a href="#l12.6"></a><span id="l12.6" class="difflineplus">+/* vim: set sts=2 sw=2 et tw=80: */</span>
<a href="#l12.7"></a><span id="l12.7" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l12.8"></a><span id="l12.8" class="difflineplus">+</span>
<a href="#l12.9"></a><span id="l12.9" class="difflineplus">+add_task(async function test_pointerevent() {</span>
<a href="#l12.10"></a><span id="l12.10" class="difflineplus">+  async function contentScript() {</span>
<a href="#l12.11"></a><span id="l12.11" class="difflineplus">+    document.addEventListener(&quot;pointerdown&quot;, async e =&gt; {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+      browser.test.assertTrue(true, &quot;Should receive pointerdown&quot;);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+      e.preventDefault();</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+    });</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineplus">+    document.addEventListener(&quot;mousedown&quot;, e =&gt; {</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineplus">+      browser.test.assertTrue(true, &quot;Should receive mousedown&quot;);</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineplus">+    });</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineplus">+    document.addEventListener(&quot;mouseup&quot;, e =&gt; {</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineplus">+      browser.test.assertTrue(true, &quot;Should receive mouseup&quot;);</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineplus">+    });</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineplus">+</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineplus">+    document.addEventListener(&quot;pointerup&quot;, e =&gt; {</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineplus">+      browser.test.assertTrue(true, &quot;Should receive pointerup&quot;);</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineplus">+      browser.test.sendMessage(&quot;done&quot;);</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineplus">+    });</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineplus">+    browser.test.sendMessage(&quot;pageReady&quot;);</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineplus">+  }</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineplus">+</span>
<a href="#l12.31"></a><span id="l12.31" class="difflineplus">+  let extension = ExtensionTestUtils.loadExtension({</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineplus">+    background() {</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineplus">+      browser.test.sendMessage(&quot;ready&quot;, browser.runtime.getURL(&quot;page.html&quot;));</span>
<a href="#l12.34"></a><span id="l12.34" class="difflineplus">+    },</span>
<a href="#l12.35"></a><span id="l12.35" class="difflineplus">+    files: {</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineplus">+      &quot;page.html&quot;: `&lt;html&gt;&lt;head&gt;&lt;script src=&quot;page.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;/html&gt;`,</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineplus">+      &quot;page.js&quot;: contentScript,</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineplus">+    },</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineplus">+  });</span>
<a href="#l12.40"></a><span id="l12.40" class="difflineplus">+  await extension.startup();</span>
<a href="#l12.41"></a><span id="l12.41" class="difflineplus">+  await new Promise(resolve =&gt; {</span>
<a href="#l12.42"></a><span id="l12.42" class="difflineplus">+    SpecialPowers.pushPrefEnv(</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineplus">+      { set: [[&quot;dom.w3c_pointer_events.enabled&quot;, true]] },</span>
<a href="#l12.44"></a><span id="l12.44" class="difflineplus">+      resolve</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineplus">+    );</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineplus">+  });</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineplus">+  let url = await extension.awaitMessage(&quot;ready&quot;);</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineplus">+  let tab = openContentTab(url);</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineplus">+</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineplus">+  await extension.awaitMessage(&quot;pageReady&quot;);</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineplus">+  await BrowserTestUtils.synthesizeMouseAtCenter(</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineplus">+    &quot;html&quot;,</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineplus">+    { type: &quot;mousedown&quot;, button: 0 },</span>
<a href="#l12.54"></a><span id="l12.54" class="difflineplus">+    tab.linkedBrowser</span>
<a href="#l12.55"></a><span id="l12.55" class="difflineplus">+  );</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineplus">+  await BrowserTestUtils.synthesizeMouseAtCenter(</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineplus">+    &quot;html&quot;,</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineplus">+    { type: &quot;mouseup&quot;, button: 0 },</span>
<a href="#l12.59"></a><span id="l12.59" class="difflineplus">+    tab.linkedBrowser</span>
<a href="#l12.60"></a><span id="l12.60" class="difflineplus">+  );</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineplus">+  await extension.awaitMessage(&quot;done&quot;);</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineplus">+</span>
<a href="#l12.63"></a><span id="l12.63" class="difflineplus">+  await extension.unload();</span>
<a href="#l12.64"></a><span id="l12.64" class="difflineplus">+</span>
<a href="#l12.65"></a><span id="l12.65" class="difflineplus">+  let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l12.66"></a><span id="l12.66" class="difflineplus">+  tabmail.closeTab(tab);</span>
<a href="#l12.67"></a><span id="l12.67" class="difflineplus">+});</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1">new file mode 100644</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineminus">--- /dev/null</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_permissions_unsigned.js</span>
<a href="#l13.4"></a><span id="l13.4" class="difflineat">@@ -0,0 +1,45 @@</span>
<a href="#l13.5"></a><span id="l13.5" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l13.6"></a><span id="l13.6" class="difflineplus">+</span>
<a href="#l13.7"></a><span id="l13.7" class="difflineplus">+const ID = &quot;permissions@test.mozilla.org&quot;;</span>
<a href="#l13.8"></a><span id="l13.8" class="difflineplus">+const WARNING_ICON = &quot;chrome://browser/skin/warning.svg&quot;;</span>
<a href="#l13.9"></a><span id="l13.9" class="difflineplus">+</span>
<a href="#l13.10"></a><span id="l13.10" class="difflineplus">+add_task(async function test_unsigned() {</span>
<a href="#l13.11"></a><span id="l13.11" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+    set: [</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+      [&quot;extensions.webapi.testing&quot;, true],</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+      [&quot;extensions.install.requireBuiltInCerts&quot;, false],</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+    ],</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineplus">+  });</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineplus">+</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineplus">+  let testURI = makeURI(&quot;https://example.com/&quot;);</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineplus">+  PermissionTestUtils.add(testURI, &quot;install&quot;, Services.perms.ALLOW_ACTION);</span>
<a href="#l13.20"></a><span id="l13.20" class="difflineplus">+  registerCleanupFunction(() =&gt; PermissionTestUtils.remove(testURI, &quot;install&quot;));</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineplus">+</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineplus">+  let tab = openContentTab(&quot;about:blank&quot;);</span>
<a href="#l13.23"></a><span id="l13.23" class="difflineplus">+  await BrowserTestUtils.loadURI(</span>
<a href="#l13.24"></a><span id="l13.24" class="difflineplus">+    tab.linkedBrowser,</span>
<a href="#l13.25"></a><span id="l13.25" class="difflineplus">+    `${BASE}/file_install_extensions.html`</span>
<a href="#l13.26"></a><span id="l13.26" class="difflineplus">+  );</span>
<a href="#l13.27"></a><span id="l13.27" class="difflineplus">+  await BrowserTestUtils.browserLoaded(tab.linkedBrowser);</span>
<a href="#l13.28"></a><span id="l13.28" class="difflineplus">+</span>
<a href="#l13.29"></a><span id="l13.29" class="difflineplus">+  SpecialPowers.spawn(</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineplus">+    tab.linkedBrowser,</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineplus">+    [`${BASE}/browser_webext_unsigned.xpi`],</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+    async function(url) {</span>
<a href="#l13.33"></a><span id="l13.33" class="difflineplus">+      content.wrappedJSObject.installTrigger(url);</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineplus">+    }</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineplus">+  );</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineplus">+</span>
<a href="#l13.37"></a><span id="l13.37" class="difflineplus">+  let panel = await promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l13.38"></a><span id="l13.38" class="difflineplus">+</span>
<a href="#l13.39"></a><span id="l13.39" class="difflineplus">+  // cancel the install</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineplus">+  let promise = promiseInstallEvent({ id: ID }, &quot;onInstallCancelled&quot;);</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineplus">+  panel.secondaryButton.click();</span>
<a href="#l13.42"></a><span id="l13.42" class="difflineplus">+  await promise;</span>
<a href="#l13.43"></a><span id="l13.43" class="difflineplus">+</span>
<a href="#l13.44"></a><span id="l13.44" class="difflineplus">+  let addon = await AddonManager.getAddonByID(ID);</span>
<a href="#l13.45"></a><span id="l13.45" class="difflineplus">+  is(addon, null, &quot;Extension is not installed&quot;);</span>
<a href="#l13.46"></a><span id="l13.46" class="difflineplus">+</span>
<a href="#l13.47"></a><span id="l13.47" class="difflineplus">+  let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l13.48"></a><span id="l13.48" class="difflineplus">+  tabmail.closeTab(tab);</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineplus">+});</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">new file mode 100644</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineminus">--- /dev/null</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_update_checkForUpdates.js</span>
<a href="#l14.4"></a><span id="l14.4" class="difflineat">@@ -0,0 +1,17 @@</span>
<a href="#l14.5"></a><span id="l14.5" class="difflineplus">+// Invoke the &quot;Check for Updates&quot; menu item</span>
<a href="#l14.6"></a><span id="l14.6" class="difflineplus">+function checkAll(win) {</span>
<a href="#l14.7"></a><span id="l14.7" class="difflineplus">+  triggerPageOptionsAction(win, &quot;check-for-updates&quot;);</span>
<a href="#l14.8"></a><span id="l14.8" class="difflineplus">+  return new Promise(resolve =&gt; {</span>
<a href="#l14.9"></a><span id="l14.9" class="difflineplus">+    let observer = {</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineplus">+      observe(subject, topic, data) {</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineplus">+        Services.obs.removeObserver(observer, &quot;EM-update-check-finished&quot;);</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+        resolve();</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+      },</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+    };</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+    Services.obs.addObserver(observer, &quot;EM-update-check-finished&quot;);</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+  });</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+}</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineplus">+</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineplus">+// Test &quot;Check for Updates&quot; with both auto-update settings</span>
<a href="#l14.20"></a><span id="l14.20" class="difflineplus">+add_task(() =&gt; interactiveUpdateTest(true, checkAll));</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineplus">+add_task(() =&gt; interactiveUpdateTest(false, checkAll));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1">new file mode 100644</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineminus">--- /dev/null</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_update_interactive_noprompt.js</span>
<a href="#l15.4"></a><span id="l15.4" class="difflineat">@@ -0,0 +1,74 @@</span>
<a href="#l15.5"></a><span id="l15.5" class="difflineplus">+// Set some prefs that apply to all the tests in this file</span>
<a href="#l15.6"></a><span id="l15.6" class="difflineplus">+add_task(async function setup() {</span>
<a href="#l15.7"></a><span id="l15.7" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l15.8"></a><span id="l15.8" class="difflineplus">+    set: [</span>
<a href="#l15.9"></a><span id="l15.9" class="difflineplus">+      // We don't have pre-pinned certificates for the local mochitest server</span>
<a href="#l15.10"></a><span id="l15.10" class="difflineplus">+      [&quot;extensions.install.requireBuiltInCerts&quot;, false],</span>
<a href="#l15.11"></a><span id="l15.11" class="difflineplus">+      [&quot;extensions.update.requireBuiltInCerts&quot;, false],</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+      // Don't require the extensions to be signed</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+      [&quot;xpinstall.signatures.required&quot;, false],</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineplus">+      // Point updates to the local mochitest server</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineplus">+      [&quot;extensions.update.url&quot;, `${BASE}/browser_webext_update.json`],</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineplus">+    ],</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+  });</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineplus">+});</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineplus">+</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineplus">+// Helper to test that an update of a given extension does not</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineplus">+// generate any permission prompts.</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineplus">+async function testUpdateNoPrompt(</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineplus">+  filename,</span>
<a href="#l15.26"></a><span id="l15.26" class="difflineplus">+  id,</span>
<a href="#l15.27"></a><span id="l15.27" class="difflineplus">+  initialVersion = &quot;1.0&quot;,</span>
<a href="#l15.28"></a><span id="l15.28" class="difflineplus">+  updateVersion = &quot;2.0&quot;</span>
<a href="#l15.29"></a><span id="l15.29" class="difflineplus">+) {</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineplus">+  // Install initial version of the test extension</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineplus">+  let addon = await promiseInstallAddon(`${BASE}/${filename}`);</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineplus">+  ok(addon, &quot;Addon was installed&quot;);</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineplus">+  is(addon.version, initialVersion, &quot;Version 1 of the addon is installed&quot;);</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineplus">+</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineplus">+  // Go to Extensions in about:addons</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineplus">+  let win = await openAddonsMgr(&quot;addons://list/extension&quot;);</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineplus">+</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineplus">+  await BrowserTestUtils.waitForEvent(win.document, &quot;ViewChanged&quot;);</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineplus">+</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineplus">+  let sawPopup = false;</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineplus">+  function popupListener() {</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineplus">+    sawPopup = true;</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineplus">+  }</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineplus">+  PopupNotifications.panel.addEventListener(&quot;popupshown&quot;, popupListener);</span>
<a href="#l15.45"></a><span id="l15.45" class="difflineplus">+</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineplus">+  // Trigger an update check, we should see the update get applied</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineplus">+  let updatePromise = waitForUpdate(addon);</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineplus">+  triggerPageOptionsAction(win, &quot;check-for-updates&quot;);</span>
<a href="#l15.49"></a><span id="l15.49" class="difflineplus">+  await updatePromise;</span>
<a href="#l15.50"></a><span id="l15.50" class="difflineplus">+</span>
<a href="#l15.51"></a><span id="l15.51" class="difflineplus">+  addon = await AddonManager.getAddonByID(id);</span>
<a href="#l15.52"></a><span id="l15.52" class="difflineplus">+  is(addon.version, updateVersion, &quot;Should have upgraded&quot;);</span>
<a href="#l15.53"></a><span id="l15.53" class="difflineplus">+</span>
<a href="#l15.54"></a><span id="l15.54" class="difflineplus">+  ok(!sawPopup, &quot;Should not have seen a permission notification&quot;);</span>
<a href="#l15.55"></a><span id="l15.55" class="difflineplus">+  PopupNotifications.panel.removeEventListener(&quot;popupshown&quot;, popupListener);</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineplus">+</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineplus">+  let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineplus">+  tabmail.closeTab(tabmail.currentTabInfo);</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineplus">+  await addon.uninstall();</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineplus">+}</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineplus">+</span>
<a href="#l15.62"></a><span id="l15.62" class="difflineplus">+// Test that we don't see a prompt when no new promptable permissions</span>
<a href="#l15.63"></a><span id="l15.63" class="difflineplus">+// are added.</span>
<a href="#l15.64"></a><span id="l15.64" class="difflineplus">+add_task(() =&gt;</span>
<a href="#l15.65"></a><span id="l15.65" class="difflineplus">+  testUpdateNoPrompt(</span>
<a href="#l15.66"></a><span id="l15.66" class="difflineplus">+    &quot;browser_webext_update_perms1.xpi&quot;,</span>
<a href="#l15.67"></a><span id="l15.67" class="difflineplus">+    &quot;update_perms@tests.mozilla.org&quot;</span>
<a href="#l15.68"></a><span id="l15.68" class="difflineplus">+  )</span>
<a href="#l15.69"></a><span id="l15.69" class="difflineplus">+);</span>
<a href="#l15.70"></a><span id="l15.70" class="difflineplus">+</span>
<a href="#l15.71"></a><span id="l15.71" class="difflineplus">+// Test that an update that narrows origin permissions is just applied without</span>
<a href="#l15.72"></a><span id="l15.72" class="difflineplus">+// showing a notification promt</span>
<a href="#l15.73"></a><span id="l15.73" class="difflineplus">+add_task(() =&gt;</span>
<a href="#l15.74"></a><span id="l15.74" class="difflineplus">+  testUpdateNoPrompt(</span>
<a href="#l15.75"></a><span id="l15.75" class="difflineplus">+    &quot;browser_webext_update_origins1.xpi&quot;,</span>
<a href="#l15.76"></a><span id="l15.76" class="difflineplus">+    &quot;update_origins@tests.mozilla.org&quot;</span>
<a href="#l15.77"></a><span id="l15.77" class="difflineplus">+  )</span>
<a href="#l15.78"></a><span id="l15.78" class="difflineplus">+);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1">new file mode 100644</span>
<a href="#l16.2"></a><span id="l16.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..ab97d96a113a51cb187d01a6ed3e805b15684b0e</span>
<a href="#l16.3"></a><span id="l16.3">GIT binary patch
literal 4273
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">new file mode 100644</span>
<a href="#l17.2"></a><span id="l17.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..307c25a8390b254df25ecaad18d36974f5c1e3fe</span>
<a href="#l17.3"></a><span id="l17.3">GIT binary patch
literal 16638
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1">new file mode 100644</span>
<a href="#l18.2"></a><span id="l18.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..2ebc23b4fee03c3af790e89fd7903c2ed69ee5a6</span>
<a href="#l18.3"></a><span id="l18.3">GIT binary patch
literal 12606
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
M&gt;VMjs&lt;v;6x0DJ&lt;`ApigX</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1">new file mode 100644</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineminus">--- /dev/null</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineplus">+++ b/mail/base/test/webextensions/browser_webext_update.json</span>
<a href="#l19.4"></a><span id="l19.4" class="difflineat">@@ -0,0 +1,70 @@</span>
<a href="#l19.5"></a><span id="l19.5" class="difflineplus">+{</span>
<a href="#l19.6"></a><span id="l19.6" class="difflineplus">+  &quot;addons&quot;: {</span>
<a href="#l19.7"></a><span id="l19.7" class="difflineplus">+    &quot;update2@tests.mozilla.org&quot;: {</span>
<a href="#l19.8"></a><span id="l19.8" class="difflineplus">+      &quot;updates&quot;: [</span>
<a href="#l19.9"></a><span id="l19.9" class="difflineplus">+        {</span>
<a href="#l19.10"></a><span id="l19.10" class="difflineplus">+          &quot;version&quot;: &quot;2.0&quot;,</span>
<a href="#l19.11"></a><span id="l19.11" class="difflineplus">+          &quot;update_link&quot;: &quot;https://example.com/browser/comm/mail/base/test/webextensions/browser_webext_update2.xpi&quot;,</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+          &quot;applications&quot;: {</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+            &quot;gecko&quot;: {</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+              &quot;strict_min_version&quot;: &quot;1&quot;</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+            }</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineplus">+          }</span>
<a href="#l19.17"></a><span id="l19.17" class="difflineplus">+        }</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineplus">+      ]</span>
<a href="#l19.19"></a><span id="l19.19" class="difflineplus">+    },</span>
<a href="#l19.20"></a><span id="l19.20" class="difflineplus">+    &quot;update_icon2@tests.mozilla.org&quot;: {</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineplus">+      &quot;updates&quot;: [</span>
<a href="#l19.22"></a><span id="l19.22" class="difflineplus">+        {</span>
<a href="#l19.23"></a><span id="l19.23" class="difflineplus">+          &quot;version&quot;: &quot;2.0&quot;,</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineplus">+          &quot;update_link&quot;: &quot;https://example.com/browser/comm/mail/base/test/webextensions/browser_webext_update_icon2.xpi&quot;,</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineplus">+          &quot;applications&quot;: {</span>
<a href="#l19.26"></a><span id="l19.26" class="difflineplus">+            &quot;gecko&quot;: {</span>
<a href="#l19.27"></a><span id="l19.27" class="difflineplus">+              &quot;strict_min_version&quot;: &quot;1&quot;</span>
<a href="#l19.28"></a><span id="l19.28" class="difflineplus">+            }</span>
<a href="#l19.29"></a><span id="l19.29" class="difflineplus">+          }</span>
<a href="#l19.30"></a><span id="l19.30" class="difflineplus">+        }</span>
<a href="#l19.31"></a><span id="l19.31" class="difflineplus">+      ]</span>
<a href="#l19.32"></a><span id="l19.32" class="difflineplus">+    },</span>
<a href="#l19.33"></a><span id="l19.33" class="difflineplus">+    &quot;update_perms@tests.mozilla.org&quot;: {</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineplus">+      &quot;updates&quot;: [</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineplus">+        {</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineplus">+          &quot;version&quot;: &quot;2.0&quot;,</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineplus">+          &quot;update_link&quot;: &quot;https://example.com/browser/comm/mail/base/test/webextensions/browser_webext_update_perms2.xpi&quot;,</span>
<a href="#l19.38"></a><span id="l19.38" class="difflineplus">+          &quot;applications&quot;: {</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineplus">+            &quot;gecko&quot;: {</span>
<a href="#l19.40"></a><span id="l19.40" class="difflineplus">+              &quot;strict_min_version&quot;: &quot;1&quot;</span>
<a href="#l19.41"></a><span id="l19.41" class="difflineplus">+            }</span>
<a href="#l19.42"></a><span id="l19.42" class="difflineplus">+          }</span>
<a href="#l19.43"></a><span id="l19.43" class="difflineplus">+        }</span>
<a href="#l19.44"></a><span id="l19.44" class="difflineplus">+      ]</span>
<a href="#l19.45"></a><span id="l19.45" class="difflineplus">+    },</span>
<a href="#l19.46"></a><span id="l19.46" class="difflineplus">+    &quot;legacy_update@tests.mozilla.org&quot;: {</span>
<a href="#l19.47"></a><span id="l19.47" class="difflineplus">+      &quot;updates&quot;: [</span>
<a href="#l19.48"></a><span id="l19.48" class="difflineplus">+        {</span>
<a href="#l19.49"></a><span id="l19.49" class="difflineplus">+          &quot;version&quot;: &quot;2.0&quot;,</span>
<a href="#l19.50"></a><span id="l19.50" class="difflineplus">+          &quot;update_link&quot;: &quot;https://example.com/browser/comm/mail/base/test/webextensions/browser_legacy_webext.xpi&quot;,</span>
<a href="#l19.51"></a><span id="l19.51" class="difflineplus">+          &quot;applications&quot;: {</span>
<a href="#l19.52"></a><span id="l19.52" class="difflineplus">+            &quot;gecko&quot;: {</span>
<a href="#l19.53"></a><span id="l19.53" class="difflineplus">+              &quot;strict_min_version&quot;: &quot;1&quot;,</span>
<a href="#l19.54"></a><span id="l19.54" class="difflineplus">+              &quot;advisory_max_version&quot;: &quot;*&quot;</span>
<a href="#l19.55"></a><span id="l19.55" class="difflineplus">+            }</span>
<a href="#l19.56"></a><span id="l19.56" class="difflineplus">+          }</span>
<a href="#l19.57"></a><span id="l19.57" class="difflineplus">+        }</span>
<a href="#l19.58"></a><span id="l19.58" class="difflineplus">+      ]</span>
<a href="#l19.59"></a><span id="l19.59" class="difflineplus">+    },</span>
<a href="#l19.60"></a><span id="l19.60" class="difflineplus">+    &quot;update_origins@tests.mozilla.org&quot;: {</span>
<a href="#l19.61"></a><span id="l19.61" class="difflineplus">+      &quot;updates&quot;: [</span>
<a href="#l19.62"></a><span id="l19.62" class="difflineplus">+        {</span>
<a href="#l19.63"></a><span id="l19.63" class="difflineplus">+          &quot;version&quot;: &quot;2.0&quot;,</span>
<a href="#l19.64"></a><span id="l19.64" class="difflineplus">+          &quot;update_link&quot;: &quot;https://example.com/browser/comm/mail/base/test/webextensions/browser_webext_update_origins2.xpi&quot;,</span>
<a href="#l19.65"></a><span id="l19.65" class="difflineplus">+          &quot;applications&quot;: {</span>
<a href="#l19.66"></a><span id="l19.66" class="difflineplus">+            &quot;gecko&quot;: {</span>
<a href="#l19.67"></a><span id="l19.67" class="difflineplus">+              &quot;strict_min_version&quot;: &quot;1&quot;</span>
<a href="#l19.68"></a><span id="l19.68" class="difflineplus">+            }</span>
<a href="#l19.69"></a><span id="l19.69" class="difflineplus">+          }</span>
<a href="#l19.70"></a><span id="l19.70" class="difflineplus">+        }</span>
<a href="#l19.71"></a><span id="l19.71" class="difflineplus">+      ]</span>
<a href="#l19.72"></a><span id="l19.72" class="difflineplus">+    }</span>
<a href="#l19.73"></a><span id="l19.73" class="difflineplus">+  }</span>
<a href="#l19.74"></a><span id="l19.74" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">new file mode 100644</span>
<a href="#l20.2"></a><span id="l20.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..79be90636c137ad35c34448670ec4544aaff7289</span>
<a href="#l20.3"></a><span id="l20.3">GIT binary patch
literal 4311
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
XME||Vm{`9@VBSBk?)zv;^gH_&gt;x?{@N</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1">new file mode 100644</span>
<a href="#l21.2"></a><span id="l21.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..d1a12cadca15de7f70d157f3dc40609c31ab0f5d</span>
<a href="#l21.3"></a><span id="l21.3">GIT binary patch
literal 4331
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1">new file mode 100644</span>
<a href="#l22.2"></a><span id="l22.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..d3dcb3235d9899d3a5525653b489e4e5a38bc510</span>
<a href="#l22.3"></a><span id="l22.3">GIT binary patch
literal 16585
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1">new file mode 100644</span>
<a href="#l23.2"></a><span id="l23.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..5cd7a8cec446f7475aaf8caef64e67b594484271</span>
<a href="#l23.3"></a><span id="l23.3">GIT binary patch
literal 16604
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
GY5yNo`aH@2</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1">new file mode 100644</span>
<a href="#l24.2"></a><span id="l24.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..2909f8e8fdc3000c101998740363dd69f21c2fc4</span>
<a href="#l24.3"></a><span id="l24.3">GIT binary patch
literal 268
zc$^FHW@h1HU|`^2&amp;||dl*2~C!JpstO4aB@aoST@JnU-2yqL)&gt;ipXb|in(L4QkL&amp;lp
zU6Z!*yb5yp!#`2zRz%b1B%`;7jQ-~&gt;6D&lt;|q@%+x6rJ2zMFMc{s+C6hp!H0sZ{@q$O
zR+kteRoA2_yc9mZXY0Qs??w62)~|8uxmeV{RX0m4)yw_W{D;z_9|G&lt;#vq)H`ry_Ur
z^j5#_!iPt%E#k~&lt;*&amp;6p{TCQzSk&lt;KT{{Rbu2zFn5`l&lt;E62ll%a0MkWyk+&gt;S&gt;DC|(Kh
RW@Q5jG6JDBklqbe0ss%QU@8Cr</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1">new file mode 100644</span>
<a href="#l25.2"></a><span id="l25.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..b1051affb152c65f5e0494b9898e2f549ba8a7d8</span>
<a href="#l25.3"></a><span id="l25.3">GIT binary patch
literal 275
zc$^FHW@h1HU|`^2Sio)J9V9&gt;f-*h1F2@vxFac*K&gt;W?E`-iC$K5ex7g7X|6*C0&lt;Pcx
zb{U;kT3K&gt;)&gt;VL%`C#z`(_ndGM^!|6(Q~OoggL%cz*ZJOVx;$^)iOQ;kBrdsQWfmb1
zw&gt;oo9a6ROfmNHr6+1{_}b?XgQEZ)FX+B2&lt;ZU9Q+&gt;F5z7ZcDCk=I270JJ|3Aq$7xZk
z&amp;HPs;+Tw93Yr_&lt;EH(c$$vuVA%Pu~pt$LTMQ?Rzg`x3ybrD(AZQ4=zo4#v9&lt;x$Rxsm
Y+YhJ!#YX|&amp;tZX1bMj*5X(ucrG06h3(WB&gt;pF</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1">new file mode 100644</span>
<a href="#l26.2"></a><span id="l26.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..f4942f9082bb61a15ca173afa509aabda835d602</span>
<a href="#l26.3"></a><span id="l26.3">GIT binary patch
literal 4273
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1">new file mode 100644</span>
<a href="#l27.2"></a><span id="l27.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..2c023edc9d2938781f779da3742c7202cb7d8168</span>
<a href="#l27.3"></a><span id="l27.3">GIT binary patch
literal 4282
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1">new file mode 100644</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineminus">--- /dev/null</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineplus">+++ b/mail/base/test/webextensions/file_install_extensions.html</span>
<a href="#l28.4"></a><span id="l28.4" class="difflineat">@@ -0,0 +1,19 @@</span>
<a href="#l28.5"></a><span id="l28.5" class="difflineplus">+&lt;!DOCTYPE html&gt;</span>
<a href="#l28.6"></a><span id="l28.6" class="difflineplus">+</span>
<a href="#l28.7"></a><span id="l28.7" class="difflineplus">+&lt;html&gt;</span>
<a href="#l28.8"></a><span id="l28.8" class="difflineplus">+&lt;head&gt;</span>
<a href="#l28.9"></a><span id="l28.9" class="difflineplus">+  &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<a href="#l28.10"></a><span id="l28.10" class="difflineplus">+&lt;/head&gt;</span>
<a href="#l28.11"></a><span id="l28.11" class="difflineplus">+&lt;body&gt;</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineplus">+&lt;script type=&quot;text/javascript&quot;&gt;</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+function installMozAM(url) {</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineplus">+  return navigator.mozAddonManager.createInstall({url})</span>
<a href="#l28.15"></a><span id="l28.15" class="difflineplus">+                  .then(install =&gt; install.install());</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineplus">+}</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineplus">+</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineplus">+function installTrigger(url) {</span>
<a href="#l28.19"></a><span id="l28.19" class="difflineplus">+  InstallTrigger.install({extension: url});</span>
<a href="#l28.20"></a><span id="l28.20" class="difflineplus">+}</span>
<a href="#l28.21"></a><span id="l28.21" class="difflineplus">+&lt;/script&gt;</span>
<a href="#l28.22"></a><span id="l28.22" class="difflineplus">+&lt;/body&gt;</span>
<a href="#l28.23"></a><span id="l28.23" class="difflineplus">+&lt;/html&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1">new file mode 100644</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineminus">--- /dev/null</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineplus">+++ b/mail/base/test/webextensions/head.js</span>
<a href="#l29.4"></a><span id="l29.4" class="difflineat">@@ -0,0 +1,671 @@</span>
<a href="#l29.5"></a><span id="l29.5" class="difflineplus">+/* globals openAddonsMgr, openContentTab */</span>
<a href="#l29.6"></a><span id="l29.6" class="difflineplus">+</span>
<a href="#l29.7"></a><span id="l29.7" class="difflineplus">+ChromeUtils.defineModuleGetter(</span>
<a href="#l29.8"></a><span id="l29.8" class="difflineplus">+  this,</span>
<a href="#l29.9"></a><span id="l29.9" class="difflineplus">+  &quot;AddonTestUtils&quot;,</span>
<a href="#l29.10"></a><span id="l29.10" class="difflineplus">+  &quot;resource://testing-common/AddonTestUtils.jsm&quot;</span>
<a href="#l29.11"></a><span id="l29.11" class="difflineplus">+);</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineplus">+</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+const BASE = getRootDirectory(gTestPath).replace(</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineplus">+  &quot;chrome://mochitests/content/&quot;,</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineplus">+  &quot;https://example.com/&quot;</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineplus">+);</span>
<a href="#l29.17"></a><span id="l29.17" class="difflineplus">+</span>
<a href="#l29.18"></a><span id="l29.18" class="difflineplus">+const gBrowserBundle = Services.strings.createBundle(</span>
<a href="#l29.19"></a><span id="l29.19" class="difflineplus">+  &quot;chrome://messenger/locale/addons.properties&quot;</span>
<a href="#l29.20"></a><span id="l29.20" class="difflineplus">+);</span>
<a href="#l29.21"></a><span id="l29.21" class="difflineplus">+</span>
<a href="#l29.22"></a><span id="l29.22" class="difflineplus">+var { ExtensionsUI } = ChromeUtils.import(</span>
<a href="#l29.23"></a><span id="l29.23" class="difflineplus">+  &quot;resource:///modules/ExtensionsUI.jsm&quot;</span>
<a href="#l29.24"></a><span id="l29.24" class="difflineplus">+);</span>
<a href="#l29.25"></a><span id="l29.25" class="difflineplus">+ChromeUtils.defineModuleGetter(</span>
<a href="#l29.26"></a><span id="l29.26" class="difflineplus">+  this,</span>
<a href="#l29.27"></a><span id="l29.27" class="difflineplus">+  &quot;Management&quot;,</span>
<a href="#l29.28"></a><span id="l29.28" class="difflineplus">+  &quot;resource://gre/modules/Extension.jsm&quot;</span>
<a href="#l29.29"></a><span id="l29.29" class="difflineplus">+);</span>
<a href="#l29.30"></a><span id="l29.30" class="difflineplus">+</span>
<a href="#l29.31"></a><span id="l29.31" class="difflineplus">+ChromeUtils.import(</span>
<a href="#l29.32"></a><span id="l29.32" class="difflineplus">+  &quot;resource://testing-common/CustomizableUITestUtils.jsm&quot;,</span>
<a href="#l29.33"></a><span id="l29.33" class="difflineplus">+  this</span>
<a href="#l29.34"></a><span id="l29.34" class="difflineplus">+);</span>
<a href="#l29.35"></a><span id="l29.35" class="difflineplus">+let gCUITestUtils = new CustomizableUITestUtils(window);</span>
<a href="#l29.36"></a><span id="l29.36" class="difflineplus">+</span>
<a href="#l29.37"></a><span id="l29.37" class="difflineplus">+const { PermissionTestUtils } = ChromeUtils.import(</span>
<a href="#l29.38"></a><span id="l29.38" class="difflineplus">+  &quot;resource://testing-common/PermissionTestUtils.jsm&quot;</span>
<a href="#l29.39"></a><span id="l29.39" class="difflineplus">+);</span>
<a href="#l29.40"></a><span id="l29.40" class="difflineplus">+</span>
<a href="#l29.41"></a><span id="l29.41" class="difflineplus">+/**</span>
<a href="#l29.42"></a><span id="l29.42" class="difflineplus">+ * Wait for the given PopupNotification to display</span>
<a href="#l29.43"></a><span id="l29.43" class="difflineplus">+ *</span>
<a href="#l29.44"></a><span id="l29.44" class="difflineplus">+ * @param {string} name</span>
<a href="#l29.45"></a><span id="l29.45" class="difflineplus">+ *        The name of the notification to wait for.</span>
<a href="#l29.46"></a><span id="l29.46" class="difflineplus">+ *</span>
<a href="#l29.47"></a><span id="l29.47" class="difflineplus">+ * @returns {Promise}</span>
<a href="#l29.48"></a><span id="l29.48" class="difflineplus">+ *          Resolves with the notification window.</span>
<a href="#l29.49"></a><span id="l29.49" class="difflineplus">+ */</span>
<a href="#l29.50"></a><span id="l29.50" class="difflineplus">+function promisePopupNotificationShown(name) {</span>
<a href="#l29.51"></a><span id="l29.51" class="difflineplus">+  return new Promise(resolve =&gt; {</span>
<a href="#l29.52"></a><span id="l29.52" class="difflineplus">+    function popupshown() {</span>
<a href="#l29.53"></a><span id="l29.53" class="difflineplus">+      let notification = PopupNotifications.getNotification(name);</span>
<a href="#l29.54"></a><span id="l29.54" class="difflineplus">+      if (!notification) {</span>
<a href="#l29.55"></a><span id="l29.55" class="difflineplus">+        return;</span>
<a href="#l29.56"></a><span id="l29.56" class="difflineplus">+      }</span>
<a href="#l29.57"></a><span id="l29.57" class="difflineplus">+</span>
<a href="#l29.58"></a><span id="l29.58" class="difflineplus">+      ok(notification, `${name} notification shown`);</span>
<a href="#l29.59"></a><span id="l29.59" class="difflineplus">+      ok(PopupNotifications.isPanelOpen, &quot;notification panel open&quot;);</span>
<a href="#l29.60"></a><span id="l29.60" class="difflineplus">+</span>
<a href="#l29.61"></a><span id="l29.61" class="difflineplus">+      PopupNotifications.panel.removeEventListener(&quot;popupshown&quot;, popupshown);</span>
<a href="#l29.62"></a><span id="l29.62" class="difflineplus">+      resolve(PopupNotifications.panel.firstElementChild);</span>
<a href="#l29.63"></a><span id="l29.63" class="difflineplus">+    }</span>
<a href="#l29.64"></a><span id="l29.64" class="difflineplus">+</span>
<a href="#l29.65"></a><span id="l29.65" class="difflineplus">+    PopupNotifications.panel.addEventListener(&quot;popupshown&quot;, popupshown);</span>
<a href="#l29.66"></a><span id="l29.66" class="difflineplus">+  });</span>
<a href="#l29.67"></a><span id="l29.67" class="difflineplus">+}</span>
<a href="#l29.68"></a><span id="l29.68" class="difflineplus">+</span>
<a href="#l29.69"></a><span id="l29.69" class="difflineplus">+/**</span>
<a href="#l29.70"></a><span id="l29.70" class="difflineplus">+ * Wait for a specific install event to fire for a given addon</span>
<a href="#l29.71"></a><span id="l29.71" class="difflineplus">+ *</span>
<a href="#l29.72"></a><span id="l29.72" class="difflineplus">+ * @param {AddonWrapper} addon</span>
<a href="#l29.73"></a><span id="l29.73" class="difflineplus">+ *        The addon to watch for an event on</span>
<a href="#l29.74"></a><span id="l29.74" class="difflineplus">+ * @param {string}</span>
<a href="#l29.75"></a><span id="l29.75" class="difflineplus">+ *        The name of the event to watch for (e.g., onInstallEnded)</span>
<a href="#l29.76"></a><span id="l29.76" class="difflineplus">+ *</span>
<a href="#l29.77"></a><span id="l29.77" class="difflineplus">+ * @returns {Promise}</span>
<a href="#l29.78"></a><span id="l29.78" class="difflineplus">+ *          Resolves when the event triggers with the first argument</span>
<a href="#l29.79"></a><span id="l29.79" class="difflineplus">+ *          to the event handler as the resolution value.</span>
<a href="#l29.80"></a><span id="l29.80" class="difflineplus">+ */</span>
<a href="#l29.81"></a><span id="l29.81" class="difflineplus">+function promiseInstallEvent(addon, event) {</span>
<a href="#l29.82"></a><span id="l29.82" class="difflineplus">+  return new Promise(resolve =&gt; {</span>
<a href="#l29.83"></a><span id="l29.83" class="difflineplus">+    let listener = {};</span>
<a href="#l29.84"></a><span id="l29.84" class="difflineplus">+    listener[event] = (install, arg) =&gt; {</span>
<a href="#l29.85"></a><span id="l29.85" class="difflineplus">+      if (install.addon.id == addon.id) {</span>
<a href="#l29.86"></a><span id="l29.86" class="difflineplus">+        AddonManager.removeInstallListener(listener);</span>
<a href="#l29.87"></a><span id="l29.87" class="difflineplus">+        resolve(arg);</span>
<a href="#l29.88"></a><span id="l29.88" class="difflineplus">+      }</span>
<a href="#l29.89"></a><span id="l29.89" class="difflineplus">+    };</span>
<a href="#l29.90"></a><span id="l29.90" class="difflineplus">+    AddonManager.addInstallListener(listener);</span>
<a href="#l29.91"></a><span id="l29.91" class="difflineplus">+  });</span>
<a href="#l29.92"></a><span id="l29.92" class="difflineplus">+}</span>
<a href="#l29.93"></a><span id="l29.93" class="difflineplus">+</span>
<a href="#l29.94"></a><span id="l29.94" class="difflineplus">+/**</span>
<a href="#l29.95"></a><span id="l29.95" class="difflineplus">+ * Install an (xpi packaged) extension</span>
<a href="#l29.96"></a><span id="l29.96" class="difflineplus">+ *</span>
<a href="#l29.97"></a><span id="l29.97" class="difflineplus">+ * @param {string} url</span>
<a href="#l29.98"></a><span id="l29.98" class="difflineplus">+ *        URL of the .xpi file to install</span>
<a href="#l29.99"></a><span id="l29.99" class="difflineplus">+ * @param {Object?} installTelemetryInfo</span>
<a href="#l29.100"></a><span id="l29.100" class="difflineplus">+ *        an optional object that contains additional details used by the telemetry events.</span>
<a href="#l29.101"></a><span id="l29.101" class="difflineplus">+ *</span>
<a href="#l29.102"></a><span id="l29.102" class="difflineplus">+ * @returns {Promise}</span>
<a href="#l29.103"></a><span id="l29.103" class="difflineplus">+ *          Resolves when the extension has been installed with the Addon</span>
<a href="#l29.104"></a><span id="l29.104" class="difflineplus">+ *          object as the resolution value.</span>
<a href="#l29.105"></a><span id="l29.105" class="difflineplus">+ */</span>
<a href="#l29.106"></a><span id="l29.106" class="difflineplus">+async function promiseInstallAddon(url, telemetryInfo) {</span>
<a href="#l29.107"></a><span id="l29.107" class="difflineplus">+  let install = await AddonManager.getInstallForURL(url, { telemetryInfo });</span>
<a href="#l29.108"></a><span id="l29.108" class="difflineplus">+  install.install();</span>
<a href="#l29.109"></a><span id="l29.109" class="difflineplus">+</span>
<a href="#l29.110"></a><span id="l29.110" class="difflineplus">+  let addon = await new Promise(resolve =&gt; {</span>
<a href="#l29.111"></a><span id="l29.111" class="difflineplus">+    install.addListener({</span>
<a href="#l29.112"></a><span id="l29.112" class="difflineplus">+      onInstallEnded(_install, _addon) {</span>
<a href="#l29.113"></a><span id="l29.113" class="difflineplus">+        resolve(_addon);</span>
<a href="#l29.114"></a><span id="l29.114" class="difflineplus">+      },</span>
<a href="#l29.115"></a><span id="l29.115" class="difflineplus">+    });</span>
<a href="#l29.116"></a><span id="l29.116" class="difflineplus">+  });</span>
<a href="#l29.117"></a><span id="l29.117" class="difflineplus">+</span>
<a href="#l29.118"></a><span id="l29.118" class="difflineplus">+  if (addon.isWebExtension) {</span>
<a href="#l29.119"></a><span id="l29.119" class="difflineplus">+    await new Promise(resolve =&gt; {</span>
<a href="#l29.120"></a><span id="l29.120" class="difflineplus">+      function listener(event, extension) {</span>
<a href="#l29.121"></a><span id="l29.121" class="difflineplus">+        if (extension.id == addon.id) {</span>
<a href="#l29.122"></a><span id="l29.122" class="difflineplus">+          Management.off(&quot;ready&quot;, listener);</span>
<a href="#l29.123"></a><span id="l29.123" class="difflineplus">+          resolve();</span>
<a href="#l29.124"></a><span id="l29.124" class="difflineplus">+        }</span>
<a href="#l29.125"></a><span id="l29.125" class="difflineplus">+      }</span>
<a href="#l29.126"></a><span id="l29.126" class="difflineplus">+      Management.on(&quot;ready&quot;, listener);</span>
<a href="#l29.127"></a><span id="l29.127" class="difflineplus">+    });</span>
<a href="#l29.128"></a><span id="l29.128" class="difflineplus">+  }</span>
<a href="#l29.129"></a><span id="l29.129" class="difflineplus">+</span>
<a href="#l29.130"></a><span id="l29.130" class="difflineplus">+  return addon;</span>
<a href="#l29.131"></a><span id="l29.131" class="difflineplus">+}</span>
<a href="#l29.132"></a><span id="l29.132" class="difflineplus">+</span>
<a href="#l29.133"></a><span id="l29.133" class="difflineplus">+/**</span>
<a href="#l29.134"></a><span id="l29.134" class="difflineplus">+ * Wait for an update to the given webextension to complete.</span>
<a href="#l29.135"></a><span id="l29.135" class="difflineplus">+ * (This does not actually perform an update, it just watches for</span>
<a href="#l29.136"></a><span id="l29.136" class="difflineplus">+ * the events that occur as a result of an update.)</span>
<a href="#l29.137"></a><span id="l29.137" class="difflineplus">+ *</span>
<a href="#l29.138"></a><span id="l29.138" class="difflineplus">+ * @param {AddonWrapper} addon</span>
<a href="#l29.139"></a><span id="l29.139" class="difflineplus">+ *        The addon to be updated.</span>
<a href="#l29.140"></a><span id="l29.140" class="difflineplus">+ *</span>
<a href="#l29.141"></a><span id="l29.141" class="difflineplus">+ * @returns {Promise}</span>
<a href="#l29.142"></a><span id="l29.142" class="difflineplus">+ *          Resolves when the extension has ben updated.</span>
<a href="#l29.143"></a><span id="l29.143" class="difflineplus">+ */</span>
<a href="#l29.144"></a><span id="l29.144" class="difflineplus">+async function waitForUpdate(addon) {</span>
<a href="#l29.145"></a><span id="l29.145" class="difflineplus">+  let installPromise = promiseInstallEvent(addon, &quot;onInstallEnded&quot;);</span>
<a href="#l29.146"></a><span id="l29.146" class="difflineplus">+  let readyPromise = new Promise(resolve =&gt; {</span>
<a href="#l29.147"></a><span id="l29.147" class="difflineplus">+    function listener(event, extension) {</span>
<a href="#l29.148"></a><span id="l29.148" class="difflineplus">+      if (extension.id == addon.id) {</span>
<a href="#l29.149"></a><span id="l29.149" class="difflineplus">+        Management.off(&quot;ready&quot;, listener);</span>
<a href="#l29.150"></a><span id="l29.150" class="difflineplus">+        resolve();</span>
<a href="#l29.151"></a><span id="l29.151" class="difflineplus">+      }</span>
<a href="#l29.152"></a><span id="l29.152" class="difflineplus">+    }</span>
<a href="#l29.153"></a><span id="l29.153" class="difflineplus">+    Management.on(&quot;ready&quot;, listener);</span>
<a href="#l29.154"></a><span id="l29.154" class="difflineplus">+  });</span>
<a href="#l29.155"></a><span id="l29.155" class="difflineplus">+</span>
<a href="#l29.156"></a><span id="l29.156" class="difflineplus">+  let [newAddon] = await Promise.all([installPromise, readyPromise]);</span>
<a href="#l29.157"></a><span id="l29.157" class="difflineplus">+  return newAddon;</span>
<a href="#l29.158"></a><span id="l29.158" class="difflineplus">+}</span>
<a href="#l29.159"></a><span id="l29.159" class="difflineplus">+</span>
<a href="#l29.160"></a><span id="l29.160" class="difflineplus">+/**</span>
<a href="#l29.161"></a><span id="l29.161" class="difflineplus">+ * Trigger an action from the page options menu.</span>
<a href="#l29.162"></a><span id="l29.162" class="difflineplus">+ */</span>
<a href="#l29.163"></a><span id="l29.163" class="difflineplus">+function triggerPageOptionsAction(win, action) {</span>
<a href="#l29.164"></a><span id="l29.164" class="difflineplus">+  win</span>
<a href="#l29.165"></a><span id="l29.165" class="difflineplus">+    .getHtmlBrowser()</span>
<a href="#l29.166"></a><span id="l29.166" class="difflineplus">+    .contentDocument.querySelector(`#page-options [action=&quot;${action}&quot;]`)</span>
<a href="#l29.167"></a><span id="l29.167" class="difflineplus">+    .click();</span>
<a href="#l29.168"></a><span id="l29.168" class="difflineplus">+}</span>
<a href="#l29.169"></a><span id="l29.169" class="difflineplus">+</span>
<a href="#l29.170"></a><span id="l29.170" class="difflineplus">+function isDefaultIcon(icon) {</span>
<a href="#l29.171"></a><span id="l29.171" class="difflineplus">+  // These are basically the same icon, but code within webextensions</span>
<a href="#l29.172"></a><span id="l29.172" class="difflineplus">+  // generates references to the former and generic add-ons manager code</span>
<a href="#l29.173"></a><span id="l29.173" class="difflineplus">+  // generates referces to the latter.</span>
<a href="#l29.174"></a><span id="l29.174" class="difflineplus">+  return (</span>
<a href="#l29.175"></a><span id="l29.175" class="difflineplus">+    icon == &quot;chrome://browser/content/extension.svg&quot; ||</span>
<a href="#l29.176"></a><span id="l29.176" class="difflineplus">+    icon == &quot;chrome://mozapps/skin/extensions/extensionGeneric.svg&quot;</span>
<a href="#l29.177"></a><span id="l29.177" class="difflineplus">+  );</span>
<a href="#l29.178"></a><span id="l29.178" class="difflineplus">+}</span>
<a href="#l29.179"></a><span id="l29.179" class="difflineplus">+</span>
<a href="#l29.180"></a><span id="l29.180" class="difflineplus">+/**</span>
<a href="#l29.181"></a><span id="l29.181" class="difflineplus">+ * Check the contents of an individual permission string.</span>
<a href="#l29.182"></a><span id="l29.182" class="difflineplus">+ * This function is fairly specific to the use here and probably not</span>
<a href="#l29.183"></a><span id="l29.183" class="difflineplus">+ * suitable for re-use elsewhere...</span>
<a href="#l29.184"></a><span id="l29.184" class="difflineplus">+ *</span>
<a href="#l29.185"></a><span id="l29.185" class="difflineplus">+ * @param {string} string</span>
<a href="#l29.186"></a><span id="l29.186" class="difflineplus">+ *        The string value to check (i.e., pulled from the DOM)</span>
<a href="#l29.187"></a><span id="l29.187" class="difflineplus">+ * @param {string} key</span>
<a href="#l29.188"></a><span id="l29.188" class="difflineplus">+ *        The key in browser.properties for the localized string to</span>
<a href="#l29.189"></a><span id="l29.189" class="difflineplus">+ *        compare with.</span>
<a href="#l29.190"></a><span id="l29.190" class="difflineplus">+ * @param {string|null} param</span>
<a href="#l29.191"></a><span id="l29.191" class="difflineplus">+ *        Optional string to substitute for %S in the localized string.</span>
<a href="#l29.192"></a><span id="l29.192" class="difflineplus">+ * @param {string} msg</span>
<a href="#l29.193"></a><span id="l29.193" class="difflineplus">+ *        The message to be emitted as part of the actual test.</span>
<a href="#l29.194"></a><span id="l29.194" class="difflineplus">+ */</span>
<a href="#l29.195"></a><span id="l29.195" class="difflineplus">+function checkPermissionString(string, key, param, msg) {</span>
<a href="#l29.196"></a><span id="l29.196" class="difflineplus">+  let localizedString = param</span>
<a href="#l29.197"></a><span id="l29.197" class="difflineplus">+    ? gBrowserBundle.formatStringFromName(key, [param])</span>
<a href="#l29.198"></a><span id="l29.198" class="difflineplus">+    : gBrowserBundle.GetStringFromName(key);</span>
<a href="#l29.199"></a><span id="l29.199" class="difflineplus">+</span>
<a href="#l29.200"></a><span id="l29.200" class="difflineplus">+  // If this is a parameterized string and the parameter isn't given,</span>
<a href="#l29.201"></a><span id="l29.201" class="difflineplus">+  // just do a simple comparison of the text before and after the %S</span>
<a href="#l29.202"></a><span id="l29.202" class="difflineplus">+  if (localizedString.includes(&quot;%S&quot;)) {</span>
<a href="#l29.203"></a><span id="l29.203" class="difflineplus">+    let i = localizedString.indexOf(&quot;%S&quot;);</span>
<a href="#l29.204"></a><span id="l29.204" class="difflineplus">+    ok(string.startsWith(localizedString.slice(0, i)), msg);</span>
<a href="#l29.205"></a><span id="l29.205" class="difflineplus">+    ok(string.endsWith(localizedString.slice(i + 2)), msg);</span>
<a href="#l29.206"></a><span id="l29.206" class="difflineplus">+  } else {</span>
<a href="#l29.207"></a><span id="l29.207" class="difflineplus">+    is(string, localizedString, msg);</span>
<a href="#l29.208"></a><span id="l29.208" class="difflineplus">+  }</span>
<a href="#l29.209"></a><span id="l29.209" class="difflineplus">+}</span>
<a href="#l29.210"></a><span id="l29.210" class="difflineplus">+</span>
<a href="#l29.211"></a><span id="l29.211" class="difflineplus">+/**</span>
<a href="#l29.212"></a><span id="l29.212" class="difflineplus">+ * Check the contents of a permission popup notification</span>
<a href="#l29.213"></a><span id="l29.213" class="difflineplus">+ *</span>
<a href="#l29.214"></a><span id="l29.214" class="difflineplus">+ * @param {Window} panel</span>
<a href="#l29.215"></a><span id="l29.215" class="difflineplus">+ *        The popup window.</span>
<a href="#l29.216"></a><span id="l29.216" class="difflineplus">+ * @param {string|regexp|function} checkIcon</span>
<a href="#l29.217"></a><span id="l29.217" class="difflineplus">+ *        The icon expected to appear in the notification.  If this is a</span>
<a href="#l29.218"></a><span id="l29.218" class="difflineplus">+ *        string, it must match the icon url exactly.  If it is a</span>
<a href="#l29.219"></a><span id="l29.219" class="difflineplus">+ *        regular expression it is tested against the icon url, and if</span>
<a href="#l29.220"></a><span id="l29.220" class="difflineplus">+ *        it is a function, it is called with the icon url and returns</span>
<a href="#l29.221"></a><span id="l29.221" class="difflineplus">+ *        true if the url is correct.</span>
<a href="#l29.222"></a><span id="l29.222" class="difflineplus">+ * @param {array} permissions</span>
<a href="#l29.223"></a><span id="l29.223" class="difflineplus">+ *        The expected entries in the permissions list.  Each element</span>
<a href="#l29.224"></a><span id="l29.224" class="difflineplus">+ *        in this array is itself a 2-element array with the string key</span>
<a href="#l29.225"></a><span id="l29.225" class="difflineplus">+ *        for the item (e.g., &quot;webextPerms.description.foo&quot;) and an</span>
<a href="#l29.226"></a><span id="l29.226" class="difflineplus">+ *        optional formatting parameter.</span>
<a href="#l29.227"></a><span id="l29.227" class="difflineplus">+ */</span>
<a href="#l29.228"></a><span id="l29.228" class="difflineplus">+function checkNotification(panel, checkIcon, permissions) {</span>
<a href="#l29.229"></a><span id="l29.229" class="difflineplus">+  let icon = panel.getAttribute(&quot;icon&quot;);</span>
<a href="#l29.230"></a><span id="l29.230" class="difflineplus">+  let ul = document.getElementById(&quot;addon-webext-perm-list&quot;);</span>
<a href="#l29.231"></a><span id="l29.231" class="difflineplus">+  let header = document.getElementById(&quot;addon-webext-perm-intro&quot;);</span>
<a href="#l29.232"></a><span id="l29.232" class="difflineplus">+  let learnMoreLink = document.getElementById(&quot;addon-webext-perm-info&quot;);</span>
<a href="#l29.233"></a><span id="l29.233" class="difflineplus">+</span>
<a href="#l29.234"></a><span id="l29.234" class="difflineplus">+  if (checkIcon instanceof RegExp) {</span>
<a href="#l29.235"></a><span id="l29.235" class="difflineplus">+    ok(</span>
<a href="#l29.236"></a><span id="l29.236" class="difflineplus">+      checkIcon.test(icon),</span>
<a href="#l29.237"></a><span id="l29.237" class="difflineplus">+      `Notification icon is correct ${JSON.stringify(icon)} ~= ${checkIcon}`</span>
<a href="#l29.238"></a><span id="l29.238" class="difflineplus">+    );</span>
<a href="#l29.239"></a><span id="l29.239" class="difflineplus">+  } else if (typeof checkIcon == &quot;function&quot;) {</span>
<a href="#l29.240"></a><span id="l29.240" class="difflineplus">+    ok(checkIcon(icon), &quot;Notification icon is correct&quot;);</span>
<a href="#l29.241"></a><span id="l29.241" class="difflineplus">+  } else {</span>
<a href="#l29.242"></a><span id="l29.242" class="difflineplus">+    is(icon, checkIcon, &quot;Notification icon is correct&quot;);</span>
<a href="#l29.243"></a><span id="l29.243" class="difflineplus">+  }</span>
<a href="#l29.244"></a><span id="l29.244" class="difflineplus">+</span>
<a href="#l29.245"></a><span id="l29.245" class="difflineplus">+  is(</span>
<a href="#l29.246"></a><span id="l29.246" class="difflineplus">+    ul.childElementCount,</span>
<a href="#l29.247"></a><span id="l29.247" class="difflineplus">+    permissions.length,</span>
<a href="#l29.248"></a><span id="l29.248" class="difflineplus">+    `Permissions list has ${permissions.length} entries`</span>
<a href="#l29.249"></a><span id="l29.249" class="difflineplus">+  );</span>
<a href="#l29.250"></a><span id="l29.250" class="difflineplus">+  if (!permissions.length) {</span>
<a href="#l29.251"></a><span id="l29.251" class="difflineplus">+    is(header.getAttribute(&quot;hidden&quot;), &quot;true&quot;, &quot;Permissions header is hidden&quot;);</span>
<a href="#l29.252"></a><span id="l29.252" class="difflineplus">+    is(</span>
<a href="#l29.253"></a><span id="l29.253" class="difflineplus">+      learnMoreLink.getAttribute(&quot;hidden&quot;),</span>
<a href="#l29.254"></a><span id="l29.254" class="difflineplus">+      &quot;true&quot;,</span>
<a href="#l29.255"></a><span id="l29.255" class="difflineplus">+      &quot;Permissions learn more is hidden&quot;</span>
<a href="#l29.256"></a><span id="l29.256" class="difflineplus">+    );</span>
<a href="#l29.257"></a><span id="l29.257" class="difflineplus">+  } else {</span>
<a href="#l29.258"></a><span id="l29.258" class="difflineplus">+    is(header.getAttribute(&quot;hidden&quot;), &quot;&quot;, &quot;Permissions header is visible&quot;);</span>
<a href="#l29.259"></a><span id="l29.259" class="difflineplus">+    is(</span>
<a href="#l29.260"></a><span id="l29.260" class="difflineplus">+      learnMoreLink.getAttribute(&quot;hidden&quot;),</span>
<a href="#l29.261"></a><span id="l29.261" class="difflineplus">+      &quot;&quot;,</span>
<a href="#l29.262"></a><span id="l29.262" class="difflineplus">+      &quot;Permissions learn more is visible&quot;</span>
<a href="#l29.263"></a><span id="l29.263" class="difflineplus">+    );</span>
<a href="#l29.264"></a><span id="l29.264" class="difflineplus">+  }</span>
<a href="#l29.265"></a><span id="l29.265" class="difflineplus">+</span>
<a href="#l29.266"></a><span id="l29.266" class="difflineplus">+  for (let i in permissions) {</span>
<a href="#l29.267"></a><span id="l29.267" class="difflineplus">+    let [key, param] = permissions[i];</span>
<a href="#l29.268"></a><span id="l29.268" class="difflineplus">+    checkPermissionString(</span>
<a href="#l29.269"></a><span id="l29.269" class="difflineplus">+      ul.children[i].textContent,</span>
<a href="#l29.270"></a><span id="l29.270" class="difflineplus">+      key,</span>
<a href="#l29.271"></a><span id="l29.271" class="difflineplus">+      param,</span>
<a href="#l29.272"></a><span id="l29.272" class="difflineplus">+      `Permission number ${i + 1} is correct`</span>
<a href="#l29.273"></a><span id="l29.273" class="difflineplus">+    );</span>
<a href="#l29.274"></a><span id="l29.274" class="difflineplus">+  }</span>
<a href="#l29.275"></a><span id="l29.275" class="difflineplus">+}</span>
<a href="#l29.276"></a><span id="l29.276" class="difflineplus">+</span>
<a href="#l29.277"></a><span id="l29.277" class="difflineplus">+/**</span>
<a href="#l29.278"></a><span id="l29.278" class="difflineplus">+ * Test that install-time permission prompts work for a given</span>
<a href="#l29.279"></a><span id="l29.279" class="difflineplus">+ * installation method.</span>
<a href="#l29.280"></a><span id="l29.280" class="difflineplus">+ *</span>
<a href="#l29.281"></a><span id="l29.281" class="difflineplus">+ * @param {Function} installFn</span>
<a href="#l29.282"></a><span id="l29.282" class="difflineplus">+ *        Callable that takes the name of an xpi file to install and</span>
<a href="#l29.283"></a><span id="l29.283" class="difflineplus">+ *        starts to install it.  Should return a Promise that resolves</span>
<a href="#l29.284"></a><span id="l29.284" class="difflineplus">+ *        when the install is finished or rejects if the install is canceled.</span>
<a href="#l29.285"></a><span id="l29.285" class="difflineplus">+ * @param {string} telemetryBase</span>
<a href="#l29.286"></a><span id="l29.286" class="difflineplus">+ *        If supplied, the base type for telemetry events that should be</span>
<a href="#l29.287"></a><span id="l29.287" class="difflineplus">+ *        recorded for this install method.</span>
<a href="#l29.288"></a><span id="l29.288" class="difflineplus">+ *</span>
<a href="#l29.289"></a><span id="l29.289" class="difflineplus">+ * @returns {Promise}</span>
<a href="#l29.290"></a><span id="l29.290" class="difflineplus">+ */</span>
<a href="#l29.291"></a><span id="l29.291" class="difflineplus">+async function testInstallMethod(installFn, telemetryBase) {</span>
<a href="#l29.292"></a><span id="l29.292" class="difflineplus">+  const PERMS_XPI = &quot;browser_webext_permissions.xpi&quot;;</span>
<a href="#l29.293"></a><span id="l29.293" class="difflineplus">+  const NO_PERMS_XPI = &quot;browser_webext_nopermissions.xpi&quot;;</span>
<a href="#l29.294"></a><span id="l29.294" class="difflineplus">+  const ID = &quot;permissions@test.mozilla.org&quot;;</span>
<a href="#l29.295"></a><span id="l29.295" class="difflineplus">+</span>
<a href="#l29.296"></a><span id="l29.296" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l29.297"></a><span id="l29.297" class="difflineplus">+    set: [</span>
<a href="#l29.298"></a><span id="l29.298" class="difflineplus">+      [&quot;extensions.webapi.testing&quot;, true],</span>
<a href="#l29.299"></a><span id="l29.299" class="difflineplus">+      [&quot;extensions.install.requireBuiltInCerts&quot;, false],</span>
<a href="#l29.300"></a><span id="l29.300" class="difflineplus">+    ],</span>
<a href="#l29.301"></a><span id="l29.301" class="difflineplus">+  });</span>
<a href="#l29.302"></a><span id="l29.302" class="difflineplus">+</span>
<a href="#l29.303"></a><span id="l29.303" class="difflineplus">+  if (telemetryBase !== undefined) {</span>
<a href="#l29.304"></a><span id="l29.304" class="difflineplus">+    hookExtensionsTelemetry();</span>
<a href="#l29.305"></a><span id="l29.305" class="difflineplus">+  }</span>
<a href="#l29.306"></a><span id="l29.306" class="difflineplus">+</span>
<a href="#l29.307"></a><span id="l29.307" class="difflineplus">+  let testURI = makeURI(&quot;https://example.com/&quot;);</span>
<a href="#l29.308"></a><span id="l29.308" class="difflineplus">+  PermissionTestUtils.add(testURI, &quot;install&quot;, Services.perms.ALLOW_ACTION);</span>
<a href="#l29.309"></a><span id="l29.309" class="difflineplus">+  registerCleanupFunction(() =&gt; PermissionTestUtils.remove(testURI, &quot;install&quot;));</span>
<a href="#l29.310"></a><span id="l29.310" class="difflineplus">+</span>
<a href="#l29.311"></a><span id="l29.311" class="difflineplus">+  async function runOnce(filename, cancel) {</span>
<a href="#l29.312"></a><span id="l29.312" class="difflineplus">+    let tab = openContentTab(&quot;about:blank&quot;);</span>
<a href="#l29.313"></a><span id="l29.313" class="difflineplus">+</span>
<a href="#l29.314"></a><span id="l29.314" class="difflineplus">+    let installPromise = new Promise(resolve =&gt; {</span>
<a href="#l29.315"></a><span id="l29.315" class="difflineplus">+      let listener = {</span>
<a href="#l29.316"></a><span id="l29.316" class="difflineplus">+        onDownloadCancelled() {</span>
<a href="#l29.317"></a><span id="l29.317" class="difflineplus">+          AddonManager.removeInstallListener(listener);</span>
<a href="#l29.318"></a><span id="l29.318" class="difflineplus">+          resolve(false);</span>
<a href="#l29.319"></a><span id="l29.319" class="difflineplus">+        },</span>
<a href="#l29.320"></a><span id="l29.320" class="difflineplus">+</span>
<a href="#l29.321"></a><span id="l29.321" class="difflineplus">+        onDownloadFailed() {</span>
<a href="#l29.322"></a><span id="l29.322" class="difflineplus">+          AddonManager.removeInstallListener(listener);</span>
<a href="#l29.323"></a><span id="l29.323" class="difflineplus">+          resolve(false);</span>
<a href="#l29.324"></a><span id="l29.324" class="difflineplus">+        },</span>
<a href="#l29.325"></a><span id="l29.325" class="difflineplus">+</span>
<a href="#l29.326"></a><span id="l29.326" class="difflineplus">+        onInstallCancelled() {</span>
<a href="#l29.327"></a><span id="l29.327" class="difflineplus">+          AddonManager.removeInstallListener(listener);</span>
<a href="#l29.328"></a><span id="l29.328" class="difflineplus">+          resolve(false);</span>
<a href="#l29.329"></a><span id="l29.329" class="difflineplus">+        },</span>
<a href="#l29.330"></a><span id="l29.330" class="difflineplus">+</span>
<a href="#l29.331"></a><span id="l29.331" class="difflineplus">+        onInstallEnded() {</span>
<a href="#l29.332"></a><span id="l29.332" class="difflineplus">+          AddonManager.removeInstallListener(listener);</span>
<a href="#l29.333"></a><span id="l29.333" class="difflineplus">+          resolve(true);</span>
<a href="#l29.334"></a><span id="l29.334" class="difflineplus">+        },</span>
<a href="#l29.335"></a><span id="l29.335" class="difflineplus">+</span>
<a href="#l29.336"></a><span id="l29.336" class="difflineplus">+        onInstallFailed() {</span>
<a href="#l29.337"></a><span id="l29.337" class="difflineplus">+          AddonManager.removeInstallListener(listener);</span>
<a href="#l29.338"></a><span id="l29.338" class="difflineplus">+          resolve(false);</span>
<a href="#l29.339"></a><span id="l29.339" class="difflineplus">+        },</span>
<a href="#l29.340"></a><span id="l29.340" class="difflineplus">+      };</span>
<a href="#l29.341"></a><span id="l29.341" class="difflineplus">+      AddonManager.addInstallListener(listener);</span>
<a href="#l29.342"></a><span id="l29.342" class="difflineplus">+    });</span>
<a href="#l29.343"></a><span id="l29.343" class="difflineplus">+</span>
<a href="#l29.344"></a><span id="l29.344" class="difflineplus">+    let installMethodPromise = installFn(filename);</span>
<a href="#l29.345"></a><span id="l29.345" class="difflineplus">+</span>
<a href="#l29.346"></a><span id="l29.346" class="difflineplus">+    let panel = await promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l29.347"></a><span id="l29.347" class="difflineplus">+    if (filename == PERMS_XPI) {</span>
<a href="#l29.348"></a><span id="l29.348" class="difflineplus">+      // The icon should come from the extension, don't bother with the precise</span>
<a href="#l29.349"></a><span id="l29.349" class="difflineplus">+      // path, just make sure we've got a jar url pointing to the right path</span>
<a href="#l29.350"></a><span id="l29.350" class="difflineplus">+      // inside the jar.</span>
<a href="#l29.351"></a><span id="l29.351" class="difflineplus">+      checkNotification(panel, /^jar:file:\/\/.*\/icon\.png$/, [</span>
<a href="#l29.352"></a><span id="l29.352" class="difflineplus">+        [&quot;webextPerms.hostDescription.wildcard&quot;, &quot;wildcard.domain&quot;],</span>
<a href="#l29.353"></a><span id="l29.353" class="difflineplus">+        [&quot;webextPerms.hostDescription.oneSite&quot;, &quot;singlehost.domain&quot;],</span>
<a href="#l29.354"></a><span id="l29.354" class="difflineplus">+        [&quot;webextPerms.description.nativeMessaging&quot;],</span>
<a href="#l29.355"></a><span id="l29.355" class="difflineplus">+        // The below permissions are deliberately in this order as permissions</span>
<a href="#l29.356"></a><span id="l29.356" class="difflineplus">+        // are sorted alphabetically by the permission string to match AMO.</span>
<a href="#l29.357"></a><span id="l29.357" class="difflineplus">+        [&quot;webextPerms.description.accountsRead&quot;],</span>
<a href="#l29.358"></a><span id="l29.358" class="difflineplus">+        [&quot;webextPerms.description.tabs&quot;],</span>
<a href="#l29.359"></a><span id="l29.359" class="difflineplus">+      ]);</span>
<a href="#l29.360"></a><span id="l29.360" class="difflineplus">+    } else if (filename == NO_PERMS_XPI) {</span>
<a href="#l29.361"></a><span id="l29.361" class="difflineplus">+      checkNotification(panel, isDefaultIcon, []);</span>
<a href="#l29.362"></a><span id="l29.362" class="difflineplus">+    }</span>
<a href="#l29.363"></a><span id="l29.363" class="difflineplus">+</span>
<a href="#l29.364"></a><span id="l29.364" class="difflineplus">+    if (cancel) {</span>
<a href="#l29.365"></a><span id="l29.365" class="difflineplus">+      panel.secondaryButton.click();</span>
<a href="#l29.366"></a><span id="l29.366" class="difflineplus">+      try {</span>
<a href="#l29.367"></a><span id="l29.367" class="difflineplus">+        await installMethodPromise;</span>
<a href="#l29.368"></a><span id="l29.368" class="difflineplus">+      } catch (err) {}</span>
<a href="#l29.369"></a><span id="l29.369" class="difflineplus">+    } else {</span>
<a href="#l29.370"></a><span id="l29.370" class="difflineplus">+      // Look for post-install notification</span>
<a href="#l29.371"></a><span id="l29.371" class="difflineplus">+      let postInstallPromise = promisePopupNotificationShown(&quot;addon-installed&quot;);</span>
<a href="#l29.372"></a><span id="l29.372" class="difflineplus">+      panel.button.click();</span>
<a href="#l29.373"></a><span id="l29.373" class="difflineplus">+</span>
<a href="#l29.374"></a><span id="l29.374" class="difflineplus">+      // Press OK on the post-install notification</span>
<a href="#l29.375"></a><span id="l29.375" class="difflineplus">+      panel = await postInstallPromise;</span>
<a href="#l29.376"></a><span id="l29.376" class="difflineplus">+      panel.button.click();</span>
<a href="#l29.377"></a><span id="l29.377" class="difflineplus">+</span>
<a href="#l29.378"></a><span id="l29.378" class="difflineplus">+      await installMethodPromise;</span>
<a href="#l29.379"></a><span id="l29.379" class="difflineplus">+    }</span>
<a href="#l29.380"></a><span id="l29.380" class="difflineplus">+</span>
<a href="#l29.381"></a><span id="l29.381" class="difflineplus">+    let result = await installPromise;</span>
<a href="#l29.382"></a><span id="l29.382" class="difflineplus">+    let addon = await AddonManager.getAddonByID(ID);</span>
<a href="#l29.383"></a><span id="l29.383" class="difflineplus">+    if (cancel) {</span>
<a href="#l29.384"></a><span id="l29.384" class="difflineplus">+      ok(!result, &quot;Installation was cancelled&quot;);</span>
<a href="#l29.385"></a><span id="l29.385" class="difflineplus">+      is(addon, null, &quot;Extension is not installed&quot;);</span>
<a href="#l29.386"></a><span id="l29.386" class="difflineplus">+    } else {</span>
<a href="#l29.387"></a><span id="l29.387" class="difflineplus">+      ok(result, &quot;Installation completed&quot;);</span>
<a href="#l29.388"></a><span id="l29.388" class="difflineplus">+      isnot(addon, null, &quot;Extension is installed&quot;);</span>
<a href="#l29.389"></a><span id="l29.389" class="difflineplus">+      await addon.uninstall();</span>
<a href="#l29.390"></a><span id="l29.390" class="difflineplus">+    }</span>
<a href="#l29.391"></a><span id="l29.391" class="difflineplus">+</span>
<a href="#l29.392"></a><span id="l29.392" class="difflineplus">+    document.getElementById(&quot;tabmail&quot;).closeTab(tab);</span>
<a href="#l29.393"></a><span id="l29.393" class="difflineplus">+  }</span>
<a href="#l29.394"></a><span id="l29.394" class="difflineplus">+</span>
<a href="#l29.395"></a><span id="l29.395" class="difflineplus">+  // A few different tests for each installation method:</span>
<a href="#l29.396"></a><span id="l29.396" class="difflineplus">+  // 1. Start installation of an extension that requests no permissions,</span>
<a href="#l29.397"></a><span id="l29.397" class="difflineplus">+  //    verify the notification contents, then cancel the install</span>
<a href="#l29.398"></a><span id="l29.398" class="difflineplus">+  await runOnce(NO_PERMS_XPI, true);</span>
<a href="#l29.399"></a><span id="l29.399" class="difflineplus">+</span>
<a href="#l29.400"></a><span id="l29.400" class="difflineplus">+  // 2. Same as #1 but with an extension that requests some permissions.</span>
<a href="#l29.401"></a><span id="l29.401" class="difflineplus">+  await runOnce(PERMS_XPI, true);</span>
<a href="#l29.402"></a><span id="l29.402" class="difflineplus">+</span>
<a href="#l29.403"></a><span id="l29.403" class="difflineplus">+  // 3. Repeat with the same extension from step 2 but this time,</span>
<a href="#l29.404"></a><span id="l29.404" class="difflineplus">+  //    accept the permissions to install the extension.  (Then uninstall</span>
<a href="#l29.405"></a><span id="l29.405" class="difflineplus">+  //    the extension to clean up.)</span>
<a href="#l29.406"></a><span id="l29.406" class="difflineplus">+  await runOnce(PERMS_XPI, false);</span>
<a href="#l29.407"></a><span id="l29.407" class="difflineplus">+</span>
<a href="#l29.408"></a><span id="l29.408" class="difflineplus">+  if (telemetryBase !== undefined) {</span>
<a href="#l29.409"></a><span id="l29.409" class="difflineplus">+    // Should see 2 canceled installs followed by 1 successful install</span>
<a href="#l29.410"></a><span id="l29.410" class="difflineplus">+    // for this method.</span>
<a href="#l29.411"></a><span id="l29.411" class="difflineplus">+    expectTelemetry([</span>
<a href="#l29.412"></a><span id="l29.412" class="difflineplus">+      `${telemetryBase}Rejected`,</span>
<a href="#l29.413"></a><span id="l29.413" class="difflineplus">+      `${telemetryBase}Rejected`,</span>
<a href="#l29.414"></a><span id="l29.414" class="difflineplus">+      `${telemetryBase}Accepted`,</span>
<a href="#l29.415"></a><span id="l29.415" class="difflineplus">+    ]);</span>
<a href="#l29.416"></a><span id="l29.416" class="difflineplus">+  }</span>
<a href="#l29.417"></a><span id="l29.417" class="difflineplus">+</span>
<a href="#l29.418"></a><span id="l29.418" class="difflineplus">+  await SpecialPowers.popPrefEnv();</span>
<a href="#l29.419"></a><span id="l29.419" class="difflineplus">+}</span>
<a href="#l29.420"></a><span id="l29.420" class="difflineplus">+</span>
<a href="#l29.421"></a><span id="l29.421" class="difflineplus">+// Helper function to test a specific scenario for interactive updates.</span>
<a href="#l29.422"></a><span id="l29.422" class="difflineplus">+// `checkFn` is a callable that triggers a check for updates.</span>
<a href="#l29.423"></a><span id="l29.423" class="difflineplus">+// `autoUpdate` specifies whether the test should be run with</span>
<a href="#l29.424"></a><span id="l29.424" class="difflineplus">+// updates applied automatically or not.</span>
<a href="#l29.425"></a><span id="l29.425" class="difflineplus">+async function interactiveUpdateTest(autoUpdate, checkFn) {</span>
<a href="#l29.426"></a><span id="l29.426" class="difflineplus">+  AddonTestUtils.initMochitest(this);</span>
<a href="#l29.427"></a><span id="l29.427" class="difflineplus">+</span>
<a href="#l29.428"></a><span id="l29.428" class="difflineplus">+  const ID = &quot;update2@tests.mozilla.org&quot;;</span>
<a href="#l29.429"></a><span id="l29.429" class="difflineplus">+  const FAKE_INSTALL_SOURCE = &quot;fake-install-source&quot;;</span>
<a href="#l29.430"></a><span id="l29.430" class="difflineplus">+</span>
<a href="#l29.431"></a><span id="l29.431" class="difflineplus">+  await SpecialPowers.pushPrefEnv({</span>
<a href="#l29.432"></a><span id="l29.432" class="difflineplus">+    set: [</span>
<a href="#l29.433"></a><span id="l29.433" class="difflineplus">+      // We don't have pre-pinned certificates for the local mochitest server</span>
<a href="#l29.434"></a><span id="l29.434" class="difflineplus">+      [&quot;extensions.install.requireBuiltInCerts&quot;, false],</span>
<a href="#l29.435"></a><span id="l29.435" class="difflineplus">+      [&quot;extensions.update.requireBuiltInCerts&quot;, false],</span>
<a href="#l29.436"></a><span id="l29.436" class="difflineplus">+</span>
<a href="#l29.437"></a><span id="l29.437" class="difflineplus">+      [&quot;extensions.update.autoUpdateDefault&quot;, autoUpdate],</span>
<a href="#l29.438"></a><span id="l29.438" class="difflineplus">+</span>
<a href="#l29.439"></a><span id="l29.439" class="difflineplus">+      // Point updates to the local mochitest server</span>
<a href="#l29.440"></a><span id="l29.440" class="difflineplus">+      [&quot;extensions.update.url&quot;, `${BASE}/browser_webext_update.json`],</span>
<a href="#l29.441"></a><span id="l29.441" class="difflineplus">+    ],</span>
<a href="#l29.442"></a><span id="l29.442" class="difflineplus">+  });</span>
<a href="#l29.443"></a><span id="l29.443" class="difflineplus">+</span>
<a href="#l29.444"></a><span id="l29.444" class="difflineplus">+  AddonTestUtils.hookAMTelemetryEvents();</span>
<a href="#l29.445"></a><span id="l29.445" class="difflineplus">+</span>
<a href="#l29.446"></a><span id="l29.446" class="difflineplus">+  // Trigger an update check, manually applying the update if we're testing</span>
<a href="#l29.447"></a><span id="l29.447" class="difflineplus">+  // without auto-update.</span>
<a href="#l29.448"></a><span id="l29.448" class="difflineplus">+  async function triggerUpdate(win, addon) {</span>
<a href="#l29.449"></a><span id="l29.449" class="difflineplus">+    let manualUpdatePromise;</span>
<a href="#l29.450"></a><span id="l29.450" class="difflineplus">+    if (!autoUpdate) {</span>
<a href="#l29.451"></a><span id="l29.451" class="difflineplus">+      manualUpdatePromise = new Promise(resolve =&gt; {</span>
<a href="#l29.452"></a><span id="l29.452" class="difflineplus">+        let listener = {</span>
<a href="#l29.453"></a><span id="l29.453" class="difflineplus">+          onNewInstall() {</span>
<a href="#l29.454"></a><span id="l29.454" class="difflineplus">+            AddonManager.removeInstallListener(listener);</span>
<a href="#l29.455"></a><span id="l29.455" class="difflineplus">+            resolve();</span>
<a href="#l29.456"></a><span id="l29.456" class="difflineplus">+          },</span>
<a href="#l29.457"></a><span id="l29.457" class="difflineplus">+        };</span>
<a href="#l29.458"></a><span id="l29.458" class="difflineplus">+        AddonManager.addInstallListener(listener);</span>
<a href="#l29.459"></a><span id="l29.459" class="difflineplus">+      });</span>
<a href="#l29.460"></a><span id="l29.460" class="difflineplus">+    }</span>
<a href="#l29.461"></a><span id="l29.461" class="difflineplus">+</span>
<a href="#l29.462"></a><span id="l29.462" class="difflineplus">+    let promise = checkFn(win, addon);</span>
<a href="#l29.463"></a><span id="l29.463" class="difflineplus">+</span>
<a href="#l29.464"></a><span id="l29.464" class="difflineplus">+    if (manualUpdatePromise) {</span>
<a href="#l29.465"></a><span id="l29.465" class="difflineplus">+      await manualUpdatePromise;</span>
<a href="#l29.466"></a><span id="l29.466" class="difflineplus">+</span>
<a href="#l29.467"></a><span id="l29.467" class="difflineplus">+      let doc = win.getHtmlBrowser().contentDocument;</span>
<a href="#l29.468"></a><span id="l29.468" class="difflineplus">+      if (win.gViewController.currentViewId !== &quot;addons://updates/available&quot;) {</span>
<a href="#l29.469"></a><span id="l29.469" class="difflineplus">+        let showUpdatesBtn = doc.querySelector(&quot;addon-updates-message&quot;).button;</span>
<a href="#l29.470"></a><span id="l29.470" class="difflineplus">+        await TestUtils.waitForCondition(() =&gt; {</span>
<a href="#l29.471"></a><span id="l29.471" class="difflineplus">+          return !showUpdatesBtn.hidden;</span>
<a href="#l29.472"></a><span id="l29.472" class="difflineplus">+        }, &quot;Wait for show updates button&quot;);</span>
<a href="#l29.473"></a><span id="l29.473" class="difflineplus">+        let viewChanged = BrowserTestUtils.waitForEvent(</span>
<a href="#l29.474"></a><span id="l29.474" class="difflineplus">+          win.document,</span>
<a href="#l29.475"></a><span id="l29.475" class="difflineplus">+          &quot;ViewChanged&quot;</span>
<a href="#l29.476"></a><span id="l29.476" class="difflineplus">+        );</span>
<a href="#l29.477"></a><span id="l29.477" class="difflineplus">+        showUpdatesBtn.click();</span>
<a href="#l29.478"></a><span id="l29.478" class="difflineplus">+        await viewChanged;</span>
<a href="#l29.479"></a><span id="l29.479" class="difflineplus">+      }</span>
<a href="#l29.480"></a><span id="l29.480" class="difflineplus">+      let card = await TestUtils.waitForCondition(() =&gt; {</span>
<a href="#l29.481"></a><span id="l29.481" class="difflineplus">+        return doc.querySelector(`addon-card[addon-id=&quot;${ID}&quot;]`);</span>
<a href="#l29.482"></a><span id="l29.482" class="difflineplus">+      }, `Wait addon card for &quot;${ID}&quot;`);</span>
<a href="#l29.483"></a><span id="l29.483" class="difflineplus">+      let updateBtn = card.querySelector('panel-item[action=&quot;install-update&quot;]');</span>
<a href="#l29.484"></a><span id="l29.484" class="difflineplus">+      ok(updateBtn, `Found update button for &quot;${ID}&quot;`);</span>
<a href="#l29.485"></a><span id="l29.485" class="difflineplus">+      updateBtn.click();</span>
<a href="#l29.486"></a><span id="l29.486" class="difflineplus">+    }</span>
<a href="#l29.487"></a><span id="l29.487" class="difflineplus">+</span>
<a href="#l29.488"></a><span id="l29.488" class="difflineplus">+    return { promise };</span>
<a href="#l29.489"></a><span id="l29.489" class="difflineplus">+  }</span>
<a href="#l29.490"></a><span id="l29.490" class="difflineplus">+</span>
<a href="#l29.491"></a><span id="l29.491" class="difflineplus">+  // Install version 1.0 of the test extension</span>
<a href="#l29.492"></a><span id="l29.492" class="difflineplus">+  let addon = await promiseInstallAddon(`${BASE}/browser_webext_update1.xpi`, {</span>
<a href="#l29.493"></a><span id="l29.493" class="difflineplus">+    source: FAKE_INSTALL_SOURCE,</span>
<a href="#l29.494"></a><span id="l29.494" class="difflineplus">+  });</span>
<a href="#l29.495"></a><span id="l29.495" class="difflineplus">+  ok(addon, &quot;Addon was installed&quot;);</span>
<a href="#l29.496"></a><span id="l29.496" class="difflineplus">+  is(addon.version, &quot;1.0&quot;, &quot;Version 1 of the addon is installed&quot;);</span>
<a href="#l29.497"></a><span id="l29.497" class="difflineplus">+</span>
<a href="#l29.498"></a><span id="l29.498" class="difflineplus">+  let win = await openAddonsMgr(&quot;addons://list/extension&quot;);</span>
<a href="#l29.499"></a><span id="l29.499" class="difflineplus">+</span>
<a href="#l29.500"></a><span id="l29.500" class="difflineplus">+  await BrowserTestUtils.waitForEvent(win.document, &quot;ViewChanged&quot;);</span>
<a href="#l29.501"></a><span id="l29.501" class="difflineplus">+</span>
<a href="#l29.502"></a><span id="l29.502" class="difflineplus">+  // Trigger an update check</span>
<a href="#l29.503"></a><span id="l29.503" class="difflineplus">+  let popupPromise = promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l29.504"></a><span id="l29.504" class="difflineplus">+  let { promise: checkPromise } = await triggerUpdate(win, addon);</span>
<a href="#l29.505"></a><span id="l29.505" class="difflineplus">+  let panel = await popupPromise;</span>
<a href="#l29.506"></a><span id="l29.506" class="difflineplus">+</span>
<a href="#l29.507"></a><span id="l29.507" class="difflineplus">+  // Click the cancel button, wait to see the cancel event</span>
<a href="#l29.508"></a><span id="l29.508" class="difflineplus">+  let cancelPromise = promiseInstallEvent(addon, &quot;onInstallCancelled&quot;);</span>
<a href="#l29.509"></a><span id="l29.509" class="difflineplus">+  panel.secondaryButton.click();</span>
<a href="#l29.510"></a><span id="l29.510" class="difflineplus">+  await cancelPromise;</span>
<a href="#l29.511"></a><span id="l29.511" class="difflineplus">+</span>
<a href="#l29.512"></a><span id="l29.512" class="difflineplus">+  addon = await AddonManager.getAddonByID(ID);</span>
<a href="#l29.513"></a><span id="l29.513" class="difflineplus">+  is(addon.version, &quot;1.0&quot;, &quot;Should still be running the old version&quot;);</span>
<a href="#l29.514"></a><span id="l29.514" class="difflineplus">+</span>
<a href="#l29.515"></a><span id="l29.515" class="difflineplus">+  // Make sure the update check is completely finished.</span>
<a href="#l29.516"></a><span id="l29.516" class="difflineplus">+  await checkPromise;</span>
<a href="#l29.517"></a><span id="l29.517" class="difflineplus">+</span>
<a href="#l29.518"></a><span id="l29.518" class="difflineplus">+  // Trigger a new update check</span>
<a href="#l29.519"></a><span id="l29.519" class="difflineplus">+  popupPromise = promisePopupNotificationShown(&quot;addon-webext-permissions&quot;);</span>
<a href="#l29.520"></a><span id="l29.520" class="difflineplus">+  checkPromise = (await triggerUpdate(win, addon)).promise;</span>
<a href="#l29.521"></a><span id="l29.521" class="difflineplus">+</span>
<a href="#l29.522"></a><span id="l29.522" class="difflineplus">+  // This time, accept the upgrade</span>
<a href="#l29.523"></a><span id="l29.523" class="difflineplus">+  let updatePromise = waitForUpdate(addon);</span>
<a href="#l29.524"></a><span id="l29.524" class="difflineplus">+  panel = await popupPromise;</span>
<a href="#l29.525"></a><span id="l29.525" class="difflineplus">+  panel.button.click();</span>
<a href="#l29.526"></a><span id="l29.526" class="difflineplus">+</span>
<a href="#l29.527"></a><span id="l29.527" class="difflineplus">+  addon = await updatePromise;</span>
<a href="#l29.528"></a><span id="l29.528" class="difflineplus">+  is(addon.version, &quot;2.0&quot;, &quot;Should have upgraded&quot;);</span>
<a href="#l29.529"></a><span id="l29.529" class="difflineplus">+</span>
<a href="#l29.530"></a><span id="l29.530" class="difflineplus">+  await checkPromise;</span>
<a href="#l29.531"></a><span id="l29.531" class="difflineplus">+</span>
<a href="#l29.532"></a><span id="l29.532" class="difflineplus">+  let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l29.533"></a><span id="l29.533" class="difflineplus">+  tabmail.closeTab(tabmail.currentTabInfo);</span>
<a href="#l29.534"></a><span id="l29.534" class="difflineplus">+  await addon.uninstall();</span>
<a href="#l29.535"></a><span id="l29.535" class="difflineplus">+  await SpecialPowers.popPrefEnv();</span>
<a href="#l29.536"></a><span id="l29.536" class="difflineplus">+</span>
<a href="#l29.537"></a><span id="l29.537" class="difflineplus">+  const collectedUpdateEvents = AddonTestUtils.getAMTelemetryEvents().filter(</span>
<a href="#l29.538"></a><span id="l29.538" class="difflineplus">+    evt =&gt; {</span>
<a href="#l29.539"></a><span id="l29.539" class="difflineplus">+      return evt.method === &quot;update&quot;;</span>
<a href="#l29.540"></a><span id="l29.540" class="difflineplus">+    }</span>
<a href="#l29.541"></a><span id="l29.541" class="difflineplus">+  );</span>
<a href="#l29.542"></a><span id="l29.542" class="difflineplus">+</span>
<a href="#l29.543"></a><span id="l29.543" class="difflineplus">+  Assert.deepEqual(</span>
<a href="#l29.544"></a><span id="l29.544" class="difflineplus">+    collectedUpdateEvents.map(evt =&gt; evt.extra.step),</span>
<a href="#l29.545"></a><span id="l29.545" class="difflineplus">+    [</span>
<a href="#l29.546"></a><span id="l29.546" class="difflineplus">+      // First update is cancelled on the permission prompt.</span>
<a href="#l29.547"></a><span id="l29.547" class="difflineplus">+      &quot;started&quot;,</span>
<a href="#l29.548"></a><span id="l29.548" class="difflineplus">+      &quot;download_started&quot;,</span>
<a href="#l29.549"></a><span id="l29.549" class="difflineplus">+      &quot;download_completed&quot;,</span>
<a href="#l29.550"></a><span id="l29.550" class="difflineplus">+      &quot;permissions_prompt&quot;,</span>
<a href="#l29.551"></a><span id="l29.551" class="difflineplus">+      &quot;cancelled&quot;,</span>
<a href="#l29.552"></a><span id="l29.552" class="difflineplus">+      // Second update is expected to be completed.</span>
<a href="#l29.553"></a><span id="l29.553" class="difflineplus">+      &quot;started&quot;,</span>
<a href="#l29.554"></a><span id="l29.554" class="difflineplus">+      &quot;download_started&quot;,</span>
<a href="#l29.555"></a><span id="l29.555" class="difflineplus">+      &quot;download_completed&quot;,</span>
<a href="#l29.556"></a><span id="l29.556" class="difflineplus">+      &quot;permissions_prompt&quot;,</span>
<a href="#l29.557"></a><span id="l29.557" class="difflineplus">+      &quot;completed&quot;,</span>
<a href="#l29.558"></a><span id="l29.558" class="difflineplus">+    ],</span>
<a href="#l29.559"></a><span id="l29.559" class="difflineplus">+    &quot;Got the expected sequence on update telemetry events&quot;</span>
<a href="#l29.560"></a><span id="l29.560" class="difflineplus">+  );</span>
<a href="#l29.561"></a><span id="l29.561" class="difflineplus">+</span>
<a href="#l29.562"></a><span id="l29.562" class="difflineplus">+  ok(</span>
<a href="#l29.563"></a><span id="l29.563" class="difflineplus">+    collectedUpdateEvents.every(evt =&gt; evt.extra.addon_id === ID),</span>
<a href="#l29.564"></a><span id="l29.564" class="difflineplus">+    &quot;Every update telemetry event should have the expected addon_id extra var&quot;</span>
<a href="#l29.565"></a><span id="l29.565" class="difflineplus">+  );</span>
<a href="#l29.566"></a><span id="l29.566" class="difflineplus">+</span>
<a href="#l29.567"></a><span id="l29.567" class="difflineplus">+  ok(</span>
<a href="#l29.568"></a><span id="l29.568" class="difflineplus">+    collectedUpdateEvents.every(</span>
<a href="#l29.569"></a><span id="l29.569" class="difflineplus">+      evt =&gt; evt.extra.source === FAKE_INSTALL_SOURCE</span>
<a href="#l29.570"></a><span id="l29.570" class="difflineplus">+    ),</span>
<a href="#l29.571"></a><span id="l29.571" class="difflineplus">+    &quot;Every update telemetry event should have the expected source extra var&quot;</span>
<a href="#l29.572"></a><span id="l29.572" class="difflineplus">+  );</span>
<a href="#l29.573"></a><span id="l29.573" class="difflineplus">+</span>
<a href="#l29.574"></a><span id="l29.574" class="difflineplus">+  ok(</span>
<a href="#l29.575"></a><span id="l29.575" class="difflineplus">+    collectedUpdateEvents.every(evt =&gt; evt.extra.updated_from === &quot;user&quot;),</span>
<a href="#l29.576"></a><span id="l29.576" class="difflineplus">+    &quot;Every update telemetry event should have the update_from extra var 'user'&quot;</span>
<a href="#l29.577"></a><span id="l29.577" class="difflineplus">+  );</span>
<a href="#l29.578"></a><span id="l29.578" class="difflineplus">+</span>
<a href="#l29.579"></a><span id="l29.579" class="difflineplus">+  let hasPermissionsExtras = collectedUpdateEvents</span>
<a href="#l29.580"></a><span id="l29.580" class="difflineplus">+    .filter(evt =&gt; {</span>
<a href="#l29.581"></a><span id="l29.581" class="difflineplus">+      return evt.extra.step === &quot;permissions_prompt&quot;;</span>
<a href="#l29.582"></a><span id="l29.582" class="difflineplus">+    })</span>
<a href="#l29.583"></a><span id="l29.583" class="difflineplus">+    .every(evt =&gt; {</span>
<a href="#l29.584"></a><span id="l29.584" class="difflineplus">+      return Number.isInteger(parseInt(evt.extra.num_strings, 10));</span>
<a href="#l29.585"></a><span id="l29.585" class="difflineplus">+    });</span>
<a href="#l29.586"></a><span id="l29.586" class="difflineplus">+</span>
<a href="#l29.587"></a><span id="l29.587" class="difflineplus">+  ok(</span>
<a href="#l29.588"></a><span id="l29.588" class="difflineplus">+    hasPermissionsExtras,</span>
<a href="#l29.589"></a><span id="l29.589" class="difflineplus">+    &quot;Every 'permissions_prompt' update telemetry event should have the permissions extra vars&quot;</span>
<a href="#l29.590"></a><span id="l29.590" class="difflineplus">+  );</span>
<a href="#l29.591"></a><span id="l29.591" class="difflineplus">+</span>
<a href="#l29.592"></a><span id="l29.592" class="difflineplus">+  let hasDownloadTimeExtras = collectedUpdateEvents</span>
<a href="#l29.593"></a><span id="l29.593" class="difflineplus">+    .filter(evt =&gt; {</span>
<a href="#l29.594"></a><span id="l29.594" class="difflineplus">+      return evt.extra.step === &quot;download_completed&quot;;</span>
<a href="#l29.595"></a><span id="l29.595" class="difflineplus">+    })</span>
<a href="#l29.596"></a><span id="l29.596" class="difflineplus">+    .every(evt =&gt; {</span>
<a href="#l29.597"></a><span id="l29.597" class="difflineplus">+      const download_time = parseInt(evt.extra.download_time, 10);</span>
<a href="#l29.598"></a><span id="l29.598" class="difflineplus">+      return !isNaN(download_time) &amp;&amp; download_time &gt; 0;</span>
<a href="#l29.599"></a><span id="l29.599" class="difflineplus">+    });</span>
<a href="#l29.600"></a><span id="l29.600" class="difflineplus">+</span>
<a href="#l29.601"></a><span id="l29.601" class="difflineplus">+  ok(</span>
<a href="#l29.602"></a><span id="l29.602" class="difflineplus">+    hasDownloadTimeExtras,</span>
<a href="#l29.603"></a><span id="l29.603" class="difflineplus">+    &quot;Every 'download_completed' update telemetry event should have a download_time extra vars&quot;</span>
<a href="#l29.604"></a><span id="l29.604" class="difflineplus">+  );</span>
<a href="#l29.605"></a><span id="l29.605" class="difflineplus">+}</span>
<a href="#l29.606"></a><span id="l29.606" class="difflineplus">+</span>
<a href="#l29.607"></a><span id="l29.607" class="difflineplus">+// The tests in this directory install a bunch of extensions but they</span>
<a href="#l29.608"></a><span id="l29.608" class="difflineplus">+// need to uninstall them before exiting, as a stray leftover extension</span>
<a href="#l29.609"></a><span id="l29.609" class="difflineplus">+// after one test can foul up subsequent tests.</span>
<a href="#l29.610"></a><span id="l29.610" class="difflineplus">+// So, add a task to run before any tests that grabs a list of all the</span>
<a href="#l29.611"></a><span id="l29.611" class="difflineplus">+// add-ons that are pre-installed in the test environment and then checks</span>
<a href="#l29.612"></a><span id="l29.612" class="difflineplus">+// the list of installed add-ons at the end of the test to make sure no</span>
<a href="#l29.613"></a><span id="l29.613" class="difflineplus">+// new add-ons have been added.</span>
<a href="#l29.614"></a><span id="l29.614" class="difflineplus">+// Individual tests can store a cleanup function in the testCleanup global</span>
<a href="#l29.615"></a><span id="l29.615" class="difflineplus">+// to ensure it gets called before the final check is performed.</span>
<a href="#l29.616"></a><span id="l29.616" class="difflineplus">+let testCleanup;</span>
<a href="#l29.617"></a><span id="l29.617" class="difflineplus">+add_task(async function() {</span>
<a href="#l29.618"></a><span id="l29.618" class="difflineplus">+  let addons = await AddonManager.getAllAddons();</span>
<a href="#l29.619"></a><span id="l29.619" class="difflineplus">+  let existingAddons = new Set(addons.map(a =&gt; a.id));</span>
<a href="#l29.620"></a><span id="l29.620" class="difflineplus">+</span>
<a href="#l29.621"></a><span id="l29.621" class="difflineplus">+  registerCleanupFunction(async function() {</span>
<a href="#l29.622"></a><span id="l29.622" class="difflineplus">+    if (testCleanup) {</span>
<a href="#l29.623"></a><span id="l29.623" class="difflineplus">+      await testCleanup();</span>
<a href="#l29.624"></a><span id="l29.624" class="difflineplus">+      testCleanup = null;</span>
<a href="#l29.625"></a><span id="l29.625" class="difflineplus">+    }</span>
<a href="#l29.626"></a><span id="l29.626" class="difflineplus">+</span>
<a href="#l29.627"></a><span id="l29.627" class="difflineplus">+    for (let addon of await AddonManager.getAllAddons()) {</span>
<a href="#l29.628"></a><span id="l29.628" class="difflineplus">+      // Builtin search extensions may have been installed by SearchService</span>
<a href="#l29.629"></a><span id="l29.629" class="difflineplus">+      // during the test run, ignore those.</span>
<a href="#l29.630"></a><span id="l29.630" class="difflineplus">+      if (</span>
<a href="#l29.631"></a><span id="l29.631" class="difflineplus">+        !existingAddons.has(addon.id) &amp;&amp;</span>
<a href="#l29.632"></a><span id="l29.632" class="difflineplus">+        !(addon.isBuiltin &amp;&amp; addon.id.endsWith(&quot;@search.mozilla.org&quot;))</span>
<a href="#l29.633"></a><span id="l29.633" class="difflineplus">+      ) {</span>
<a href="#l29.634"></a><span id="l29.634" class="difflineplus">+        ok(</span>
<a href="#l29.635"></a><span id="l29.635" class="difflineplus">+          false,</span>
<a href="#l29.636"></a><span id="l29.636" class="difflineplus">+          `Addon ${addon.id} was left installed at the end of the test`</span>
<a href="#l29.637"></a><span id="l29.637" class="difflineplus">+        );</span>
<a href="#l29.638"></a><span id="l29.638" class="difflineplus">+        await addon.uninstall();</span>
<a href="#l29.639"></a><span id="l29.639" class="difflineplus">+      }</span>
<a href="#l29.640"></a><span id="l29.640" class="difflineplus">+    }</span>
<a href="#l29.641"></a><span id="l29.641" class="difflineplus">+  });</span>
<a href="#l29.642"></a><span id="l29.642" class="difflineplus">+});</span>
<a href="#l29.643"></a><span id="l29.643" class="difflineplus">+</span>
<a href="#l29.644"></a><span id="l29.644" class="difflineplus">+// Any opened tabs should be closed by the end of the test.</span>
<a href="#l29.645"></a><span id="l29.645" class="difflineplus">+registerCleanupFunction(() =&gt; {</span>
<a href="#l29.646"></a><span id="l29.646" class="difflineplus">+  let tabmail = document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l29.647"></a><span id="l29.647" class="difflineplus">+  is(tabmail.tabInfo.length, 1);</span>
<a href="#l29.648"></a><span id="l29.648" class="difflineplus">+</span>
<a href="#l29.649"></a><span id="l29.649" class="difflineplus">+  while (tabmail.tabInfo.length &gt; 1) {</span>
<a href="#l29.650"></a><span id="l29.650" class="difflineplus">+    tabmail.closeTab(tabmail.tabInfo[1]);</span>
<a href="#l29.651"></a><span id="l29.651" class="difflineplus">+  }</span>
<a href="#l29.652"></a><span id="l29.652" class="difflineplus">+});</span>
<a href="#l29.653"></a><span id="l29.653" class="difflineplus">+</span>
<a href="#l29.654"></a><span id="l29.654" class="difflineplus">+let collectedTelemetry = [];</span>
<a href="#l29.655"></a><span id="l29.655" class="difflineplus">+function hookExtensionsTelemetry() {</span>
<a href="#l29.656"></a><span id="l29.656" class="difflineplus">+  let originalHistogram = ExtensionsUI.histogram;</span>
<a href="#l29.657"></a><span id="l29.657" class="difflineplus">+  ExtensionsUI.histogram = {</span>
<a href="#l29.658"></a><span id="l29.658" class="difflineplus">+    add(value) {</span>
<a href="#l29.659"></a><span id="l29.659" class="difflineplus">+      collectedTelemetry.push(value);</span>
<a href="#l29.660"></a><span id="l29.660" class="difflineplus">+    },</span>
<a href="#l29.661"></a><span id="l29.661" class="difflineplus">+  };</span>
<a href="#l29.662"></a><span id="l29.662" class="difflineplus">+  registerCleanupFunction(() =&gt; {</span>
<a href="#l29.663"></a><span id="l29.663" class="difflineplus">+    is(</span>
<a href="#l29.664"></a><span id="l29.664" class="difflineplus">+      collectedTelemetry.length,</span>
<a href="#l29.665"></a><span id="l29.665" class="difflineplus">+      0,</span>
<a href="#l29.666"></a><span id="l29.666" class="difflineplus">+      &quot;No unexamined telemetry after test is finished&quot;</span>
<a href="#l29.667"></a><span id="l29.667" class="difflineplus">+    );</span>
<a href="#l29.668"></a><span id="l29.668" class="difflineplus">+    ExtensionsUI.histogram = originalHistogram;</span>
<a href="#l29.669"></a><span id="l29.669" class="difflineplus">+  });</span>
<a href="#l29.670"></a><span id="l29.670" class="difflineplus">+}</span>
<a href="#l29.671"></a><span id="l29.671" class="difflineplus">+</span>
<a href="#l29.672"></a><span id="l29.672" class="difflineplus">+function expectTelemetry(values) {</span>
<a href="#l29.673"></a><span id="l29.673" class="difflineplus">+  Assert.deepEqual(values, collectedTelemetry);</span>
<a href="#l29.674"></a><span id="l29.674" class="difflineplus">+  collectedTelemetry = [];</span>
<a href="#l29.675"></a><span id="l29.675" class="difflineplus">+}</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

