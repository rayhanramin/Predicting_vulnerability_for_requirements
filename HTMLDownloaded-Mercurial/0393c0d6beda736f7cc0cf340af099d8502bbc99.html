<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 27902:0393c0d6beda736f7cc0cf340af099d8502bbc99</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 0393c0d6beda736f7cc0cf340af099d8502bbc99" />
<meta property="og:url" content="/comm-central/rev/0393c0d6beda736f7cc0cf340af099d8502bbc99" />
<meta property="og:description" content="Backed out changeset 69a2aa5bd636 for breaking calendar/test/browser/browser_localICS.js" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 0393c0d6beda736f7cc0cf340af099d8502bbc99 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/0393c0d6beda736f7cc0cf340af099d8502bbc99">shortlog</a> |
<a href="/comm-central/log/0393c0d6beda736f7cc0cf340af099d8502bbc99">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/0393c0d6beda736f7cc0cf340af099d8502bbc99">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/0393c0d6beda736f7cc0cf340af099d8502bbc99">files</a> |
changeset |
<a href="/comm-central/raw-rev/0393c0d6beda736f7cc0cf340af099d8502bbc99">raw</a>  | <a href="/comm-central/archive/0393c0d6beda736f7cc0cf340af099d8502bbc99.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
Backed out changeset 69a2aa5bd636 for breaking calendar/test/browser/browser_localICS.js
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Sat, 12 Oct 2019 12:13:57 +1300</td></tr>

<tr>
 <td>changeset 27902</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/0393c0d6beda736f7cc0cf340af099d8502bbc99">0393c0d6beda736f7cc0cf340af099d8502bbc99</a></td>
</tr>



<tr>
<td>parent 27901</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/ec8f0ff9bd9e37580aa3a9f533c7b2f952d271d4">ec8f0ff9bd9e37580aa3a9f533c7b2f952d271d4</a>
</td>
</tr>

<tr>
<td>child 27903</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/e72e040cbe8e404ce81f9487210abd35255818e6">e72e040cbe8e404ce81f9487210abd35255818e6</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=0393c0d6beda736f7cc0cf340af099d8502bbc99">16547</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Fri, 11 Oct 2019 23:20:23 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@0393c0d6beda [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0393c0d6beda736f7cc0cf340af099d8502bbc99">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0393c0d6beda736f7cc0cf340af099d8502bbc99&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0393c0d6beda736f7cc0cf340af099d8502bbc99&newProject=comm-central&newRevision=0393c0d6beda736f7cc0cf340af099d8502bbc99&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0393c0d6beda736f7cc0cf340af099d8502bbc99&newProject=comm-central&newRevision=0393c0d6beda736f7cc0cf340af099d8502bbc99&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0393c0d6beda736f7cc0cf340af099d8502bbc99&newProject=comm-central&newRevision=0393c0d6beda736f7cc0cf340af099d8502bbc99&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>



<tr><td>backs out</td><td><a style="font-family: monospace" href="/comm-central/rev/69a2aa5bd636aef0d8b5ec9fa6661e1a63b92079">69a2aa5bd636aef0d8b5ec9fa6661e1a63b92079</a></td></tr>


</table></div>

<div class="page_body description">Backed out changeset 69a2aa5bd636 for breaking calendar/test/browser/browser_localICS.js</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/base/themes/common/calendar-creation-wizard.css">calendar/base/themes/common/calendar-creation-wizard.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/base/themes/common/calendar-creation-wizard.css">file</a> |
<a href="/comm-central/annotate/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/base/themes/common/calendar-creation-wizard.css">annotate</a> |
<a href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/base/themes/common/calendar-creation-wizard.css">diff</a> |
<a href="/comm-central/comparison/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/base/themes/common/calendar-creation-wizard.css">comparison</a> |
<a href="/comm-central/log/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/base/themes/common/calendar-creation-wizard.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/content/lightning-calendar-creation.xul">calendar/lightning/content/lightning-calendar-creation.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/content/lightning-calendar-creation.xul">file</a> |
<a href="/comm-central/annotate/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/content/lightning-calendar-creation.xul">annotate</a> |
<a href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/content/lightning-calendar-creation.xul">diff</a> |
<a href="/comm-central/comparison/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/content/lightning-calendar-creation.xul">comparison</a> |
<a href="/comm-central/log/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/content/lightning-calendar-creation.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/jar.mn">calendar/lightning/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/jar.mn">file</a> |
<a href="/comm-central/annotate/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/jar.mn">annotate</a> |
<a href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/jar.mn">diff</a> |
<a href="/comm-central/comparison/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/jar.mn">comparison</a> |
<a href="/comm-central/log/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/lightning/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/providers/caldav/content/caldav-lightning-calendar-creation.xul">calendar/providers/caldav/content/caldav-lightning-calendar-creation.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/providers/caldav/content/caldav-lightning-calendar-creation.xul">file</a> |
<a href="/comm-central/annotate/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/providers/caldav/content/caldav-lightning-calendar-creation.xul">annotate</a> |
<a href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/providers/caldav/content/caldav-lightning-calendar-creation.xul">diff</a> |
<a href="/comm-central/comparison/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/providers/caldav/content/caldav-lightning-calendar-creation.xul">comparison</a> |
<a href="/comm-central/log/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/providers/caldav/content/caldav-lightning-calendar-creation.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.js">calendar/resources/content/calendarCreation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.js">file</a> |
<a href="/comm-central/annotate/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.js">annotate</a> |
<a href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.js">diff</a> |
<a href="/comm-central/comparison/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.js">comparison</a> |
<a href="/comm-central/log/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.xul">calendar/resources/content/calendarCreation.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.xul">file</a> |
<a href="/comm-central/annotate/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.xul">annotate</a> |
<a href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.xul">diff</a> |
<a href="/comm-central/comparison/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.xul">comparison</a> |
<a href="/comm-central/log/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/resources/content/calendarCreation.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/test/modules/CalendarUtils.jsm">calendar/test/modules/CalendarUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/test/modules/CalendarUtils.jsm">file</a> |
<a href="/comm-central/annotate/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/test/modules/CalendarUtils.jsm">annotate</a> |
<a href="/comm-central/diff/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/test/modules/CalendarUtils.jsm">diff</a> |
<a href="/comm-central/comparison/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/test/modules/CalendarUtils.jsm">comparison</a> |
<a href="/comm-central/log/0393c0d6beda736f7cc0cf340af099d8502bbc99/calendar/test/modules/CalendarUtils.jsm">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/themes/common/calendar-creation-wizard.css</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/themes/common/calendar-creation-wizard.css</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,25 +1,13 @@</span>
<a href="#l1.4"></a><span id="l1.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.5"></a><span id="l1.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.6"></a><span id="l1.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8" class="difflineminus">-@namespace html url(&quot;http://www.w3.org/1999/xhtml&quot;);</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineminus">-</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-td {</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineminus">-  width: 100%;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-}</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-th {</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-  font-weight: normal;</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-  text-align: start;</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-}</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-#customize-table td,</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineminus">-#customize-table th {</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+#customize-rows &gt; row {</span>
<a href="#l1.22"></a><span id="l1.22">   min-height: 26px;</span>
<a href="#l1.23"></a><span id="l1.23"> }</span>
<a href="#l1.24"></a><span id="l1.24"> </span>
<a href="#l1.25"></a><span id="l1.25"> .checkbox-no-label &gt; .checkbox-label-box {</span>
<a href="#l1.26"></a><span id="l1.26">   display: none;</span>
<a href="#l1.27"></a><span id="l1.27"> }</span>
<a href="#l1.28"></a><span id="l1.28"> </span>
<a href="#l1.29"></a><span id="l1.29"> #calendar-uri &gt; .textbox-input-box &gt; .textbox-search-icons {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">new file mode 100644</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineminus">--- /dev/null</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineplus">+++ b/calendar/lightning/content/lightning-calendar-creation.xul</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineat">@@ -0,0 +1,33 @@</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l2.6"></a><span id="l2.6" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.7"></a><span id="l2.7" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.8"></a><span id="l2.8" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineplus">+--&gt;</span>
<a href="#l2.10"></a><span id="l2.10" class="difflineplus">+</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/content/notification.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+&lt;!DOCTYPE overlay SYSTEM &quot;chrome://lightning/locale/lightning.dtd&quot;&gt;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+&lt;overlay id=&quot;ltnCalendarCreationOverlay&quot;</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineplus">+  &lt;script src=&quot;chrome://calendar/content/calendar-ui-utils.js&quot;/&gt;</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+  &lt;script src=&quot;chrome://lightning/content/lightning-utils.js&quot;/&gt;</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineplus">+  &lt;script src=&quot;chrome://lightning/content/lightning-calendar-creation.js&quot;/&gt;</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineplus">+</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+  &lt;rows id=&quot;customize-rows&quot;&gt;</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineplus">+    &lt;hbox id=&quot;no-identity-notification&quot; class=&quot;notification-inline&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+      &lt;!-- notificationbox will be added here lazily. --&gt;</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineplus">+    &lt;row id=&quot;calendar-email-identity-row&quot;</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineplus">+         align=&quot;center&quot;</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineplus">+         insertafter=&quot;no-identity-notification&quot;&gt;</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineplus">+      &lt;label value=&quot;&amp;lightning.calendarproperties.email.label;&quot;</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineplus">+             control=&quot;email-identity-menulist&quot;/&gt;</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineplus">+      &lt;menulist id=&quot;email-identity-menulist&quot;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+                oncommand=&quot;onChangeIdentity(event)&quot;&gt;</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+        &lt;menupopup id=&quot;email-identity-menupopup&quot;/&gt;</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineplus">+      &lt;/menulist&gt;</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineplus">+    &lt;/row&gt;</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+  &lt;/rows&gt;</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineplus">+&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/lightning/jar.mn</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/lightning/jar.mn</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -26,16 +26,17 @@ lightning.jar:</span>
<a href="#l3.4"></a><span id="l3.4"> % overlay chrome://lightning/content/lightning-calendar-creation.xul chrome://lightning/content/caldav-lightning-calendar-creation.xul</span>
<a href="#l3.5"></a><span id="l3.5"> % override chrome://lightning-common/skin/accountCentral.css chrome://lightning-common/skin/suite-accountCentral.css application={92650c4d-4b8e-4d2a-b7eb-24ecf4f6b63a}</span>
<a href="#l3.6"></a><span id="l3.6"> % content lightning %content/</span>
<a href="#l3.7"></a><span id="l3.7">     content/html-item-editing/lightning-item-iframe.html   (content/html-item-editing/lightning-item-iframe.html)</span>
<a href="#l3.8"></a><span id="l3.8">     content/html-item-editing/react-code.js                (content/html-item-editing/react-code.js)</span>
<a href="#l3.9"></a><span id="l3.9">     content/imip-bar.js                                    (content/imip-bar.js)</span>
<a href="#l3.10"></a><span id="l3.10">     content/imip-bar-overlay.xul                           (content/imip-bar-overlay.xul)</span>
<a href="#l3.11"></a><span id="l3.11">     content/lightning-calendar-creation.js                 (content/lightning-calendar-creation.js)</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+    content/lightning-calendar-creation.xul                (content/lightning-calendar-creation.xul)</span>
<a href="#l3.13"></a><span id="l3.13">     content/lightning-calendar-properties.js               (content/lightning-calendar-properties.js)</span>
<a href="#l3.14"></a><span id="l3.14">     content/lightning-invitation.xhtml                     (content/lightning-invitation.xhtml)</span>
<a href="#l3.15"></a><span id="l3.15">     content/lightning-item-toolbar.xul                     (content/lightning-item-toolbar.xul)</span>
<a href="#l3.16"></a><span id="l3.16">     content/lightning-item-panel.xul                       (content/lightning-item-panel.xul)</span>
<a href="#l3.17"></a><span id="l3.17">     content/lightning-item-panel.js                        (content/lightning-item-panel.js)</span>
<a href="#l3.18"></a><span id="l3.18">     content/lightning-item-iframe.xul                      (content/lightning-item-iframe.xul)</span>
<a href="#l3.19"></a><span id="l3.19">     content/lightning-item-iframe.js                       (content/lightning-item-iframe.js)</span>
<a href="#l3.20"></a><span id="l3.20">     content/lightning-menus.xul                            (content/lightning-menus.xul)</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineat">@@ -50,16 +51,17 @@ lightning.jar:</span>
<a href="#l3.22"></a><span id="l3.22"> *   content/messenger-overlay-preferences.xul              (content/messenger-overlay-preferences.xul)</span>
<a href="#l3.23"></a><span id="l3.23"> #ifdef MOZ_SUITE</span>
<a href="#l3.24"></a><span id="l3.24">     content/suite-overlay-addons.xul                       (content/suite-overlay-addons.xul)</span>
<a href="#l3.25"></a><span id="l3.25">     content/suite-overlay-preferences.xul                  (content/suite-overlay-preferences.xul)</span>
<a href="#l3.26"></a><span id="l3.26">     content/suite-overlay-sidebar.js                       (content/suite-overlay-sidebar.js)</span>
<a href="#l3.27"></a><span id="l3.27">     content/suite-overlay-sidebar.xul                      (content/suite-overlay-sidebar.xul)</span>
<a href="#l3.28"></a><span id="l3.28"> #endif</span>
<a href="#l3.29"></a><span id="l3.29">     content/caldav-lightning-calendar-creation.js          (../providers/caldav/content/caldav-lightning-calendar-creation.js)</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+    content/caldav-lightning-calendar-creation.xul         (../providers/caldav/content/caldav-lightning-calendar-creation.xul)</span>
<a href="#l3.31"></a><span id="l3.31">     content/caldav-lightning-calendar-properties.js        (../providers/caldav/content/caldav-lightning-calendar-properties.js)</span>
<a href="#l3.32"></a><span id="l3.32">     content/caldav-lightning-utils.js                      (../providers/caldav/content/caldav-lightning-utils.js)</span>
<a href="#l3.33"></a><span id="l3.33"> </span>
<a href="#l3.34"></a><span id="l3.34"> % skin lightning classic/1.0 %skin/linux/</span>
<a href="#l3.35"></a><span id="l3.35"> % skin lightning classic/1.0 %skin/osx/ os=Darwin</span>
<a href="#l3.36"></a><span id="l3.36"> % skin lightning classic/1.0 %skin/windows/ os=WINNT</span>
<a href="#l3.37"></a><span id="l3.37"> % skin lightning-common classic/1.0 %skin/lightning-common/</span>
<a href="#l3.38"></a><span id="l3.38"> % style chrome://messenger/content/messageWindow.xul chrome://lightning/skin/lightning.css</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">new file mode 100644</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineminus">--- /dev/null</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineplus">+++ b/calendar/providers/caldav/content/caldav-lightning-calendar-creation.xul</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineat">@@ -0,0 +1,30 @@</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l4.6"></a><span id="l4.6" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.8"></a><span id="l4.8" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineplus">+</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineplus">+&lt;!DOCTYPE overlay SYSTEM &quot;chrome://lightning/locale/lightning.dtd&quot;&gt;</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+&lt;overlay id=&quot;ltnCalendarCreationOverlay&quot;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+  &lt;script src=&quot;chrome://lightning/content/caldav-lightning-utils.js&quot;/&gt;</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+  &lt;script src=&quot;chrome://lightning/content/caldav-lightning-calendar-creation.js&quot;/&gt;</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+  &lt;rows id=&quot;customize-rows&quot;&gt;</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+    &lt;row id=&quot;calendar-force-email-scheduling-row&quot;</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+         align=&quot;center&quot;</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineplus">+         insertafter=&quot;calendar-email-identity-row&quot;&gt;</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineplus">+      &lt;spacer/&gt;</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineplus">+      &lt;!-- The capability to enforce email scheduling wouldn't be enabled in the calendar wizard</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineplus">+           atm because we would have to check the server capabilities with an OPTIONS request to</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineplus">+           find out whether this server advertises server-side scheduling. We would need to rework</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineplus">+           the wizard for that - fixing bug 306495 would probably prepare this. So for now, we just</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineplus">+           let the user that he can enable this subsequently if applicable --&gt;</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineplus">+      &lt;checkbox id=&quot;force-email-scheduling&quot;</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineplus">+                label=&quot;&amp;lightning.calendarproperties.forceEmailScheduling.label;&quot;</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineplus">+                disable-with-calendar=&quot;true&quot;</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineplus">+                tooltiptext=&quot;&amp;lightning.calendarproperties.forceEmailScheduling.tooltiptext1;&quot;/&gt;</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+    &lt;/row&gt;</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineplus">+  &lt;/rows&gt;</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/resources/content/calendarCreation.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/resources/content/calendarCreation.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -70,20 +70,18 @@ function initLocationPage() {</span>
<a href="#l5.4"></a><span id="l5.4"> /**</span>
<a href="#l5.5"></a><span id="l5.5">  * Initialize the customize page</span>
<a href="#l5.6"></a><span id="l5.6">  */</span>
<a href="#l5.7"></a><span id="l5.7"> function initCustomizePage() {</span>
<a href="#l5.8"></a><span id="l5.8">   initNameFromURI();</span>
<a href="#l5.9"></a><span id="l5.9">   checkRequired();</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11">   let suppressAlarmsRow = document.getElementById(&quot;customize-suppressAlarms-row&quot;);</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-  suppressAlarmsRow.toggleAttribute(</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-    &quot;hidden&quot;,</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-    gCalendar &amp;&amp; gCalendar.getProperty(&quot;capabilities.alarms.popup.supported&quot;) === false</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-  );</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+  suppressAlarmsRow.hidden =</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+    gCalendar &amp;&amp; gCalendar.getProperty(&quot;capabilities.alarms.popup.supported&quot;) === false;</span>
<a href="#l5.18"></a><span id="l5.18">   document.getElementById(&quot;calendar-color&quot;).value = &quot;#A8C2E1&quot;;</span>
<a href="#l5.19"></a><span id="l5.19"> }</span>
<a href="#l5.20"></a><span id="l5.20"> </span>
<a href="#l5.21"></a><span id="l5.21"> /**</span>
<a href="#l5.22"></a><span id="l5.22">  * Sets up notifications for the location page. On aReason == SUCCESS, all</span>
<a href="#l5.23"></a><span id="l5.23">  * notifications are removed. Otherwise, the respective notification is added to</span>
<a href="#l5.24"></a><span id="l5.24">  * the notification box. Only one notification per reason will be shown.</span>
<a href="#l5.25"></a><span id="l5.25">  *</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineat">@@ -119,22 +117,19 @@ function onSelectProvider(type) {</span>
<a href="#l5.27"></a><span id="l5.27">   let cache = document.getElementById(&quot;cache&quot;);</span>
<a href="#l5.28"></a><span id="l5.28">   let tempCal;</span>
<a href="#l5.29"></a><span id="l5.29">   try {</span>
<a href="#l5.30"></a><span id="l5.30">     tempCal = Cc[&quot;@mozilla.org/calendar/calendar;1?type=&quot; + type].createInstance(Ci.calICalendar);</span>
<a href="#l5.31"></a><span id="l5.31">   } catch (e) {</span>
<a href="#l5.32"></a><span id="l5.32">     // keep tempCal undefined if the calendar can not be created</span>
<a href="#l5.33"></a><span id="l5.33">   }</span>
<a href="#l5.34"></a><span id="l5.34"> </span>
<a href="#l5.35"></a><span id="l5.35" class="difflineminus">-  document</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineminus">-    .getElementById(&quot;calendar-username-row&quot;)</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineminus">-    .toggleAttribute(</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineminus">-      &quot;hidden&quot;,</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineminus">-      !(tempCal &amp;&amp; tempCal.getProperty(&quot;capabilities.username.supported&quot;) === true)</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-    );</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+  document.getElementById(&quot;calendar-username-row&quot;).hidden = !(</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+    tempCal &amp;&amp; tempCal.getProperty(&quot;capabilities.username.supported&quot;) === true</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+  );</span>
<a href="#l5.44"></a><span id="l5.44"> </span>
<a href="#l5.45"></a><span id="l5.45">   if (tempCal &amp;&amp; tempCal.getProperty(&quot;cache.always&quot;)) {</span>
<a href="#l5.46"></a><span id="l5.46">     cache.oldValue = cache.checked;</span>
<a href="#l5.47"></a><span id="l5.47">     cache.checked = true;</span>
<a href="#l5.48"></a><span id="l5.48">     cache.disabled = true;</span>
<a href="#l5.49"></a><span id="l5.49">   } else {</span>
<a href="#l5.50"></a><span id="l5.50">     if (cache.oldValue !== undefined) {</span>
<a href="#l5.51"></a><span id="l5.51">       cache.checked = cache.oldValue;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/resources/content/calendarCreation.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/resources/content/calendarCreation.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -6,35 +6,29 @@</span>
<a href="#l6.4"></a><span id="l6.4"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l6.5"></a><span id="l6.5"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/notification.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l6.6"></a><span id="l6.6"> &lt;?xml-stylesheet href=&quot;chrome://calendar-common/skin/calendar-creation-wizard.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l6.7"></a><span id="l6.7"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/input-fields.css&quot;?&gt;</span>
<a href="#l6.8"></a><span id="l6.8"> </span>
<a href="#l6.9"></a><span id="l6.9"> &lt;!DOCTYPE dialog [</span>
<a href="#l6.10"></a><span id="l6.10">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/calendarCreation.dtd&quot; &gt; %dtd1;</span>
<a href="#l6.11"></a><span id="l6.11">   &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-  &lt;!ENTITY % dtd3 SYSTEM &quot;chrome://lightning/locale/lightning.dtd&quot;&gt; %dtd3;</span>
<a href="#l6.13"></a><span id="l6.13"> ]&gt;</span>
<a href="#l6.14"></a><span id="l6.14"> </span>
<a href="#l6.15"></a><span id="l6.15"> &lt;wizard id=&quot;calendar-wizard&quot;</span>
<a href="#l6.16"></a><span id="l6.16">         title=&quot;&amp;wizard.title;&quot;</span>
<a href="#l6.17"></a><span id="l6.17">         windowtype=&quot;Calendar:NewCalendarWizard&quot;</span>
<a href="#l6.18"></a><span id="l6.18">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l6.19"></a><span id="l6.19">         xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l6.20"></a><span id="l6.20">         onload=&quot;onLoad()&quot;</span>
<a href="#l6.21"></a><span id="l6.21">         persist=&quot;screenX screenY&quot;&gt;</span>
<a href="#l6.22"></a><span id="l6.22"> </span>
<a href="#l6.23"></a><span id="l6.23">   &lt;script src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l6.24"></a><span id="l6.24">   &lt;script src=&quot;chrome://global/content/editMenuOverlay.js&quot;/&gt;</span>
<a href="#l6.25"></a><span id="l6.25">   &lt;script src=&quot;chrome://calendar/content/calendarCreation.js&quot;/&gt;</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineminus">-  &lt;script src=&quot;chrome://calendar/content/calendar-ui-utils.js&quot;/&gt;</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineminus">-  &lt;script src=&quot;chrome://lightning/content/lightning-utils.js&quot;/&gt;</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineminus">-  &lt;script src=&quot;chrome://lightning/content/lightning-calendar-creation.js&quot;/&gt;</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineminus">-  &lt;script src=&quot;chrome://lightning/content/caldav-lightning-utils.js&quot;/&gt;</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-  &lt;script src=&quot;chrome://lightning/content/caldav-lightning-calendar-creation.js&quot;/&gt;</span>
<a href="#l6.31"></a><span id="l6.31"> </span>
<a href="#l6.32"></a><span id="l6.32">   &lt;wizardpage id=&quot;initialPage&quot;</span>
<a href="#l6.33"></a><span id="l6.33">               pageid=&quot;initialPage&quot;</span>
<a href="#l6.34"></a><span id="l6.34">               next=&quot;locationPage&quot;</span>
<a href="#l6.35"></a><span id="l6.35">               label=&quot;&amp;wizard.label;&quot;</span>
<a href="#l6.36"></a><span id="l6.36">               description=&quot;&amp;wizard.description;&quot;&gt;</span>
<a href="#l6.37"></a><span id="l6.37">     &lt;description&gt;&amp;initialpage.description;&lt;/description&gt;</span>
<a href="#l6.38"></a><span id="l6.38">     &lt;radiogroup id=&quot;calendar-type&quot;&gt;</span>
<a href="#l6.39"></a><span id="l6.39" class="difflineat">@@ -44,144 +38,94 @@</span>
<a href="#l6.40"></a><span id="l6.40">   &lt;/wizardpage&gt;</span>
<a href="#l6.41"></a><span id="l6.41"> </span>
<a href="#l6.42"></a><span id="l6.42">   &lt;wizardpage id=&quot;locationPage&quot;</span>
<a href="#l6.43"></a><span id="l6.43">               pageid=&quot;locationPage&quot;</span>
<a href="#l6.44"></a><span id="l6.44">               next=&quot;customizePage&quot;</span>
<a href="#l6.45"></a><span id="l6.45">               label=&quot;&amp;wizard.label;&quot;</span>
<a href="#l6.46"></a><span id="l6.46">               description=&quot;&amp;wizard.description;&quot;&gt;</span>
<a href="#l6.47"></a><span id="l6.47">     &lt;description&gt;&amp;locationpage.description;&lt;/description&gt;</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineminus">-    &lt;html:table&gt;</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineminus">-      &lt;html:tr&gt;</span>
<a href="#l6.50"></a><span id="l6.50" class="difflineminus">-        &lt;html:th valign=&quot;top&quot;&gt;</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineplus">+    &lt;grid&gt;</span>
<a href="#l6.52"></a><span id="l6.52" class="difflineplus">+      &lt;columns&gt;</span>
<a href="#l6.53"></a><span id="l6.53" class="difflineplus">+        &lt;column/&gt;</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineplus">+        &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineplus">+      &lt;/columns&gt;</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineplus">+      &lt;rows&gt;</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineplus">+        &lt;row&gt;</span>
<a href="#l6.58"></a><span id="l6.58">           &lt;label value=&quot;&amp;calendarproperties.format.label;&quot; control=&quot;calendar-format&quot;/&gt;</span>
<a href="#l6.59"></a><span id="l6.59" class="difflineminus">-        &lt;/html:th&gt;</span>
<a href="#l6.60"></a><span id="l6.60" class="difflineminus">-        &lt;html:td&gt;</span>
<a href="#l6.61"></a><span id="l6.61">           &lt;radiogroup id=&quot;calendar-format&quot; onselect=&quot;onSelectProvider(this.value)&quot;&gt;</span>
<a href="#l6.62"></a><span id="l6.62">             &lt;radio value=&quot;ics&quot; label=&quot;&amp;calendarproperties.webdav.label;&quot; selected=&quot;true&quot; /&gt;</span>
<a href="#l6.63"></a><span id="l6.63">             &lt;radio value=&quot;caldav&quot; label=&quot;&amp;calendarproperties.caldav.label;&quot;/&gt;</span>
<a href="#l6.64"></a><span id="l6.64">             &lt;radio id=&quot;wcap-radio&quot; value=&quot;wcap&quot; label=&quot;&amp;calendarproperties.wcap.label;&quot;/&gt;</span>
<a href="#l6.65"></a><span id="l6.65">           &lt;/radiogroup&gt;</span>
<a href="#l6.66"></a><span id="l6.66" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.67"></a><span id="l6.67" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.68"></a><span id="l6.68" class="difflineminus">-      &lt;html:tr id=&quot;calendar-username-row&quot;&gt;</span>
<a href="#l6.69"></a><span id="l6.69" class="difflineminus">-        &lt;html:th&gt;</span>
<a href="#l6.70"></a><span id="l6.70" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l6.71"></a><span id="l6.71" class="difflineplus">+        &lt;row id=&quot;calendar-username-row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l6.72"></a><span id="l6.72">           &lt;label id=&quot;calendar-username-label&quot;</span>
<a href="#l6.73"></a><span id="l6.73">                  value=&quot;&amp;locationpage.username.label;&quot;</span>
<a href="#l6.74"></a><span id="l6.74">                  control=&quot;calendar-username&quot;/&gt;</span>
<a href="#l6.75"></a><span id="l6.75" class="difflineminus">-        &lt;/html:th&gt;</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineminus">-        &lt;html:td&gt;</span>
<a href="#l6.77"></a><span id="l6.77" class="difflineminus">-          &lt;hbox flex=&quot;1&quot; class=&quot;input-container&quot;&gt;</span>
<a href="#l6.78"></a><span id="l6.78" class="difflineminus">-            &lt;html:input id=&quot;calendar-username&quot; type=&quot;text&quot; class=&quot;input-inline&quot;</span>
<a href="#l6.79"></a><span id="l6.79" class="difflineminus">-                        aria-labelledby=&quot;calendar-username-label&quot;/&gt;</span>
<a href="#l6.80"></a><span id="l6.80" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l6.81"></a><span id="l6.81" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.82"></a><span id="l6.82" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.83"></a><span id="l6.83" class="difflineminus">-      &lt;html:tr id=&quot;calendar-location-row&quot;&gt;</span>
<a href="#l6.84"></a><span id="l6.84" class="difflineminus">-        &lt;html:th&gt;</span>
<a href="#l6.85"></a><span id="l6.85" class="difflineplus">+          &lt;html:input id=&quot;calendar-username&quot; type=&quot;text&quot; class=&quot;input-inline&quot;</span>
<a href="#l6.86"></a><span id="l6.86" class="difflineplus">+                      aria-labelledby=&quot;calendar-username-label&quot;/&gt;</span>
<a href="#l6.87"></a><span id="l6.87" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l6.88"></a><span id="l6.88" class="difflineplus">+        &lt;row id=&quot;calendar-location-row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l6.89"></a><span id="l6.89">           &lt;label id=&quot;calendar-uri-label&quot; value=&quot;&amp;calendarproperties.location.label;&quot; control=&quot;calendar-uri&quot;/&gt;</span>
<a href="#l6.90"></a><span id="l6.90" class="difflineminus">-        &lt;/html:th&gt;</span>
<a href="#l6.91"></a><span id="l6.91" class="difflineminus">-        &lt;html:td id=&quot;calendar-uri-td&quot;&gt;</span>
<a href="#l6.92"></a><span id="l6.92" class="difflineminus">-          &lt;hbox flex=&quot;1&quot; class=&quot;input-container&quot;&gt;</span>
<a href="#l6.93"></a><span id="l6.93" class="difflineminus">-            &lt;html:input id=&quot;calendar-uri&quot; type=&quot;url&quot; class=&quot;input-inline&quot;</span>
<a href="#l6.94"></a><span id="l6.94" class="difflineminus">-                        required=&quot;required&quot;</span>
<a href="#l6.95"></a><span id="l6.95" class="difflineminus">-                        aria-labelledby=&quot;calendar-uri-label&quot;</span>
<a href="#l6.96"></a><span id="l6.96" class="difflineminus">-                        oninput=&quot;checkRequired();&quot;/&gt;</span>
<a href="#l6.97"></a><span id="l6.97" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l6.98"></a><span id="l6.98" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.99"></a><span id="l6.99" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.100"></a><span id="l6.100" class="difflineminus">-      &lt;html:tr&gt;</span>
<a href="#l6.101"></a><span id="l6.101" class="difflineminus">-        &lt;html:th&gt;&lt;/html:th&gt;</span>
<a href="#l6.102"></a><span id="l6.102" class="difflineminus">-        &lt;html:td&gt;</span>
<a href="#l6.103"></a><span id="l6.103" class="difflineplus">+          &lt;html:input id=&quot;calendar-uri&quot; type=&quot;url&quot; class=&quot;input-inline&quot;</span>
<a href="#l6.104"></a><span id="l6.104" class="difflineplus">+                      required=&quot;required&quot;</span>
<a href="#l6.105"></a><span id="l6.105" class="difflineplus">+                      aria-labelledby=&quot;calendar-uri-label&quot;</span>
<a href="#l6.106"></a><span id="l6.106" class="difflineplus">+                      oninput=&quot;checkRequired();&quot;/&gt;</span>
<a href="#l6.107"></a><span id="l6.107" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l6.108"></a><span id="l6.108" class="difflineplus">+        &lt;row&gt;</span>
<a href="#l6.109"></a><span id="l6.109" class="difflineplus">+          &lt;label/&gt;</span>
<a href="#l6.110"></a><span id="l6.110">           &lt;checkbox id=&quot;cache&quot;</span>
<a href="#l6.111"></a><span id="l6.111">                     checked=&quot;true&quot;</span>
<a href="#l6.112"></a><span id="l6.112">                     label=&quot;&amp;calendarproperties.cache3.label;&quot;/&gt;</span>
<a href="#l6.113"></a><span id="l6.113" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.114"></a><span id="l6.114" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.115"></a><span id="l6.115" class="difflineminus">-    &lt;/html:table&gt;</span>
<a href="#l6.116"></a><span id="l6.116" class="difflineminus">-    &lt;hbox id=&quot;calendar-notification-location&quot;</span>
<a href="#l6.117"></a><span id="l6.117" class="difflineminus">-          class=&quot;notification-inline&quot;</span>
<a href="#l6.118"></a><span id="l6.118" class="difflineminus">-          flex=&quot;1&quot;&gt;</span>
<a href="#l6.119"></a><span id="l6.119" class="difflineminus">-      &lt;!-- notificationbox will be added here lazily. --&gt;</span>
<a href="#l6.120"></a><span id="l6.120" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l6.121"></a><span id="l6.121" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l6.122"></a><span id="l6.122" class="difflineplus">+        &lt;hbox id=&quot;calendar-notification-location&quot;</span>
<a href="#l6.123"></a><span id="l6.123" class="difflineplus">+              class=&quot;notification-inline&quot;</span>
<a href="#l6.124"></a><span id="l6.124" class="difflineplus">+              flex=&quot;1&quot;&gt;</span>
<a href="#l6.125"></a><span id="l6.125" class="difflineplus">+          &lt;!-- notificationbox will be added here lazily. --&gt;</span>
<a href="#l6.126"></a><span id="l6.126" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l6.127"></a><span id="l6.127" class="difflineplus">+      &lt;/rows&gt;</span>
<a href="#l6.128"></a><span id="l6.128" class="difflineplus">+    &lt;/grid&gt;</span>
<a href="#l6.129"></a><span id="l6.129">   &lt;/wizardpage&gt;</span>
<a href="#l6.130"></a><span id="l6.130"> </span>
<a href="#l6.131"></a><span id="l6.131">   &lt;wizardpage id=&quot;customizePage&quot;</span>
<a href="#l6.132"></a><span id="l6.132">               pageid=&quot;customizePage&quot;</span>
<a href="#l6.133"></a><span id="l6.133">               description=&quot;&amp;custompage.shortdescription;&quot;</span>
<a href="#l6.134"></a><span id="l6.134">               label=&quot;&amp;wizard.label;&quot;</span>
<a href="#l6.135"></a><span id="l6.135">               next=&quot;finishPage&quot;&gt;</span>
<a href="#l6.136"></a><span id="l6.136" class="difflineminus">-    &lt;vbox id=&quot;no-identity-notification&quot; class=&quot;notification-inline&quot;&gt;</span>
<a href="#l6.137"></a><span id="l6.137" class="difflineminus">-      &lt;!-- notificationbox will be added here lazily. --&gt;</span>
<a href="#l6.138"></a><span id="l6.138" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l6.139"></a><span id="l6.139">     &lt;description&gt;&amp;custompage.longdescription;&lt;/description&gt;</span>
<a href="#l6.140"></a><span id="l6.140" class="difflineminus">-    &lt;html:table id=&quot;customize-table&quot;&gt;</span>
<a href="#l6.141"></a><span id="l6.141" class="difflineminus">-      &lt;html:tr id=&quot;customize-name-row&quot;&gt;</span>
<a href="#l6.142"></a><span id="l6.142" class="difflineminus">-        &lt;html:th&gt;</span>
<a href="#l6.143"></a><span id="l6.143" class="difflineplus">+    &lt;grid&gt;</span>
<a href="#l6.144"></a><span id="l6.144" class="difflineplus">+      &lt;columns&gt;</span>
<a href="#l6.145"></a><span id="l6.145" class="difflineplus">+        &lt;column/&gt;</span>
<a href="#l6.146"></a><span id="l6.146" class="difflineplus">+        &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l6.147"></a><span id="l6.147" class="difflineplus">+      &lt;/columns&gt;</span>
<a href="#l6.148"></a><span id="l6.148" class="difflineplus">+      &lt;rows id=&quot;customize-rows&quot;&gt;</span>
<a href="#l6.149"></a><span id="l6.149" class="difflineplus">+        &lt;row id=&quot;customize-name-row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l6.150"></a><span id="l6.150">           &lt;label id=&quot;calendar-name-label&quot; value=&quot;&amp;calendarproperties.name.label;&quot; control=&quot;calendar-name&quot;/&gt;</span>
<a href="#l6.151"></a><span id="l6.151" class="difflineminus">-        &lt;/html:th&gt;</span>
<a href="#l6.152"></a><span id="l6.152" class="difflineminus">-        &lt;html:td&gt;</span>
<a href="#l6.153"></a><span id="l6.153" class="difflineminus">-          &lt;hbox flex=&quot;1&quot; class=&quot;input-container&quot;&gt;</span>
<a href="#l6.154"></a><span id="l6.154" class="difflineminus">-            &lt;html:input id=&quot;calendar-name&quot;</span>
<a href="#l6.155"></a><span id="l6.155" class="difflineminus">-                        type=&quot;text&quot;</span>
<a href="#l6.156"></a><span id="l6.156" class="difflineminus">-                        required=&quot;required&quot;</span>
<a href="#l6.157"></a><span id="l6.157" class="difflineminus">-                        class=&quot;input-inline&quot;</span>
<a href="#l6.158"></a><span id="l6.158" class="difflineminus">-                        aria-labelledby=&quot;calendar-name-label&quot;</span>
<a href="#l6.159"></a><span id="l6.159" class="difflineminus">-                        oninput=&quot;checkRequired();&quot;/&gt;</span>
<a href="#l6.160"></a><span id="l6.160" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l6.161"></a><span id="l6.161" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.162"></a><span id="l6.162" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.163"></a><span id="l6.163" class="difflineminus">-      &lt;html:tr id=&quot;customize-color-row&quot;&gt;</span>
<a href="#l6.164"></a><span id="l6.164" class="difflineminus">-        &lt;html:th&gt;</span>
<a href="#l6.165"></a><span id="l6.165" class="difflineplus">+          &lt;html:input id=&quot;calendar-name&quot;</span>
<a href="#l6.166"></a><span id="l6.166" class="difflineplus">+                      type=&quot;text&quot;</span>
<a href="#l6.167"></a><span id="l6.167" class="difflineplus">+                      required=&quot;required&quot;</span>
<a href="#l6.168"></a><span id="l6.168" class="difflineplus">+                      class=&quot;input-inline&quot;</span>
<a href="#l6.169"></a><span id="l6.169" class="difflineplus">+                      aria-labelledby=&quot;calendar-name-label&quot;</span>
<a href="#l6.170"></a><span id="l6.170" class="difflineplus">+                      oninput=&quot;checkRequired();&quot;/&gt;</span>
<a href="#l6.171"></a><span id="l6.171" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l6.172"></a><span id="l6.172" class="difflineplus">+        &lt;row id=&quot;customize-color-row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l6.173"></a><span id="l6.173">           &lt;label value=&quot;&amp;calendarproperties.color.label;&quot; control=&quot;calendar-color&quot;/&gt;</span>
<a href="#l6.174"></a><span id="l6.174" class="difflineminus">-        &lt;/html:th&gt;</span>
<a href="#l6.175"></a><span id="l6.175" class="difflineminus">-        &lt;html:td&gt;</span>
<a href="#l6.176"></a><span id="l6.176">           &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l6.177"></a><span id="l6.177">             &lt;html:input id=&quot;calendar-color&quot;</span>
<a href="#l6.178"></a><span id="l6.178">                         type=&quot;color&quot;</span>
<a href="#l6.179"></a><span id="l6.179">                         palettename=&quot;standard&quot;/&gt;</span>
<a href="#l6.180"></a><span id="l6.180">           &lt;/hbox&gt;</span>
<a href="#l6.181"></a><span id="l6.181" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.182"></a><span id="l6.182" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.183"></a><span id="l6.183" class="difflineminus">-      &lt;html:tr id=&quot;customize-suppressAlarms-row&quot;&gt;</span>
<a href="#l6.184"></a><span id="l6.184" class="difflineminus">-        &lt;html:th&gt;</span>
<a href="#l6.185"></a><span id="l6.185" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l6.186"></a><span id="l6.186" class="difflineplus">+        &lt;row id=&quot;customize-suppressAlarms-row&quot; align=&quot;center&quot;&gt;</span>
<a href="#l6.187"></a><span id="l6.187">           &lt;label value=&quot;&amp;calendarproperties.firealarms.label;:&quot; control=&quot;fire-alarms&quot;/&gt;</span>
<a href="#l6.188"></a><span id="l6.188" class="difflineminus">-        &lt;/html:th&gt;</span>
<a href="#l6.189"></a><span id="l6.189" class="difflineminus">-        &lt;html:td&gt;</span>
<a href="#l6.190"></a><span id="l6.190">           &lt;checkbox id=&quot;fire-alarms&quot; checked=&quot;true&quot; class=&quot;checkbox-no-label&quot;/&gt;</span>
<a href="#l6.191"></a><span id="l6.191" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.192"></a><span id="l6.192" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.193"></a><span id="l6.193" class="difflineminus">-      &lt;html:tr id=&quot;calendar-email-identity-row&quot;&gt;</span>
<a href="#l6.194"></a><span id="l6.194" class="difflineminus">-        &lt;html:th&gt;</span>
<a href="#l6.195"></a><span id="l6.195" class="difflineminus">-          &lt;label value=&quot;&amp;lightning.calendarproperties.email.label;&quot;</span>
<a href="#l6.196"></a><span id="l6.196" class="difflineminus">-                 control=&quot;email-identity-menulist&quot;/&gt;</span>
<a href="#l6.197"></a><span id="l6.197" class="difflineminus">-        &lt;/html:th&gt;</span>
<a href="#l6.198"></a><span id="l6.198" class="difflineminus">-        &lt;html:td&gt;</span>
<a href="#l6.199"></a><span id="l6.199" class="difflineminus">-          &lt;menulist id=&quot;email-identity-menulist&quot;</span>
<a href="#l6.200"></a><span id="l6.200" class="difflineminus">-                    oncommand=&quot;onChangeIdentity(event)&quot;&gt;</span>
<a href="#l6.201"></a><span id="l6.201" class="difflineminus">-            &lt;menupopup id=&quot;email-identity-menupopup&quot;/&gt;</span>
<a href="#l6.202"></a><span id="l6.202" class="difflineminus">-          &lt;/menulist&gt;</span>
<a href="#l6.203"></a><span id="l6.203" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.204"></a><span id="l6.204" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.205"></a><span id="l6.205" class="difflineminus">-      &lt;html:tr id=&quot;calendar-force-email-scheduling-row&quot;&gt;</span>
<a href="#l6.206"></a><span id="l6.206" class="difflineminus">-        &lt;html:th&gt;</span>
<a href="#l6.207"></a><span id="l6.207" class="difflineminus">-        &lt;/html:th&gt;</span>
<a href="#l6.208"></a><span id="l6.208" class="difflineminus">-        &lt;html:td&gt;</span>
<a href="#l6.209"></a><span id="l6.209" class="difflineminus">-          &lt;!-- The capability to enforce email scheduling wouldn't be enabled in the calendar wizard</span>
<a href="#l6.210"></a><span id="l6.210" class="difflineminus">-               atm because we would have to check the server capabilities with an OPTIONS request to</span>
<a href="#l6.211"></a><span id="l6.211" class="difflineminus">-               find out whether this server advertises server-side scheduling. We would need to rework</span>
<a href="#l6.212"></a><span id="l6.212" class="difflineminus">-               the wizard for that - fixing bug 306495 would probably prepare this. So for now, we just</span>
<a href="#l6.213"></a><span id="l6.213" class="difflineminus">-               let the user that he can enable this subsequently if applicable --&gt;</span>
<a href="#l6.214"></a><span id="l6.214" class="difflineminus">-          &lt;checkbox id=&quot;force-email-scheduling&quot;</span>
<a href="#l6.215"></a><span id="l6.215" class="difflineminus">-                    label=&quot;&amp;lightning.calendarproperties.forceEmailScheduling.label;&quot;</span>
<a href="#l6.216"></a><span id="l6.216" class="difflineminus">-                    disable-with-calendar=&quot;true&quot;</span>
<a href="#l6.217"></a><span id="l6.217" class="difflineminus">-                    tooltiptext=&quot;&amp;lightning.calendarproperties.forceEmailScheduling.tooltiptext1;&quot;/&gt;</span>
<a href="#l6.218"></a><span id="l6.218" class="difflineminus">-        &lt;/html:td&gt;</span>
<a href="#l6.219"></a><span id="l6.219" class="difflineminus">-      &lt;/html:tr&gt;</span>
<a href="#l6.220"></a><span id="l6.220" class="difflineminus">-    &lt;/html:table&gt;</span>
<a href="#l6.221"></a><span id="l6.221" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l6.222"></a><span id="l6.222" class="difflineplus">+      &lt;/rows&gt;</span>
<a href="#l6.223"></a><span id="l6.223" class="difflineplus">+    &lt;/grid&gt;</span>
<a href="#l6.224"></a><span id="l6.224">   &lt;/wizardpage&gt;</span>
<a href="#l6.225"></a><span id="l6.225"> </span>
<a href="#l6.226"></a><span id="l6.226">   &lt;wizardpage id=&quot;finishPage&quot;</span>
<a href="#l6.227"></a><span id="l6.227">               pageid=&quot;finishPage&quot;</span>
<a href="#l6.228"></a><span id="l6.228">               description=&quot;&amp;finishpage.shortdescription;&quot;</span>
<a href="#l6.229"></a><span id="l6.229">               label=&quot;&amp;wizard.label;&quot;&gt;</span>
<a href="#l6.230"></a><span id="l6.230">     &lt;description&gt;&amp;finishpage.longdescription;&lt;/description&gt;</span>
<a href="#l6.231"></a><span id="l6.231">   &lt;/wizardpage&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/test/modules/CalendarUtils.jsm</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/test/modules/CalendarUtils.jsm</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -559,17 +559,17 @@ function handleNewCalendarWizard(wizard,</span>
<a href="#l7.4"></a><span id="l7.4">       let calendarFile = Services.dirsvc.get(&quot;TmpD&quot;, Ci.nsIFile);</span>
<a href="#l7.5"></a><span id="l7.5">       calendarFile.append(name + &quot;.ics&quot;);</span>
<a href="#l7.6"></a><span id="l7.6">       let fileURI = Services.io.newFileURI(calendarFile);</span>
<a href="#l7.7"></a><span id="l7.7">       data.network.location = fileURI.prePath + fileURI.pathQueryRef;</span>
<a href="#l7.8"></a><span id="l7.8">     }</span>
<a href="#l7.9"></a><span id="l7.9">     wizard.type(</span>
<a href="#l7.10"></a><span id="l7.10">       wizardlookup(`</span>
<a href="#l7.11"></a><span id="l7.11">             /id(&quot;calendar-wizard&quot;)/{&quot;pageid&quot;:&quot;locationPage&quot;}/[1]/[1]/id(&quot;calendar-location-row&quot;)/</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-            id(&quot;calendar-uri-td&quot;)/{&quot;class&quot;:&quot;input-container&quot;}/id(&quot;calendar-uri&quot;)</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+            id(&quot;calendar-uri&quot;)</span>
<a href="#l7.14"></a><span id="l7.14">         `),</span>
<a href="#l7.15"></a><span id="l7.15">       data.network.location</span>
<a href="#l7.16"></a><span id="l7.16">     );</span>
<a href="#l7.17"></a><span id="l7.17"> </span>
<a href="#l7.18"></a><span id="l7.18">     // Choose offline support.</span>
<a href="#l7.19"></a><span id="l7.19">     if (data.network.offline == undefined) {</span>
<a href="#l7.20"></a><span id="l7.20">       data.network.offline = true;</span>
<a href="#l7.21"></a><span id="l7.21">     }</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

