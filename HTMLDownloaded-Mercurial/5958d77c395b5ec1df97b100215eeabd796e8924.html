<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 28847:5958d77c395b5ec1df97b100215eeabd796e8924</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 5958d77c395b5ec1df97b100215eeabd796e8924" />
<meta property="og:url" content="/comm-central/rev/5958d77c395b5ec1df97b100215eeabd796e8924" />
<meta property="og:description" content="Bug 1562313 - Convert most calendar JavaScript components (not calBackendLoader) to static registration. r=pmorris DONTBUILD" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 5958d77c395b5ec1df97b100215eeabd796e8924 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/5958d77c395b5ec1df97b100215eeabd796e8924">shortlog</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/5958d77c395b5ec1df97b100215eeabd796e8924">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924">files</a> |
changeset |
<a href="/comm-central/raw-rev/5958d77c395b5ec1df97b100215eeabd796e8924">raw</a>  | <a href="/comm-central/archive/5958d77c395b5ec1df97b100215eeabd796e8924.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1562313">Bug 1562313</a> - Convert most calendar JavaScript components (not calBackendLoader) to static registration. r=pmorris DONTBUILD
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#75;&#104;&#117;&#115;&#104;&#105;&#108;&#32;&#77;&#105;&#115;&#116;&#114;&#121;&#32;&#60;&#107;&#104;&#117;&#115;&#104;&#105;&#108;&#51;&#50;&#52;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 25 Feb 2020 12:48:44 +0200</td></tr>

<tr>
 <td>changeset 28847</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/5958d77c395b5ec1df97b100215eeabd796e8924">5958d77c395b5ec1df97b100215eeabd796e8924</a></td>
</tr>



<tr>
<td>parent 28846</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/3e7f62e8f741bdd3e09a656cb9c1321a26141fb4">3e7f62e8f741bdd3e09a656cb9c1321a26141fb4</a>
</td>
</tr>

<tr>
<td>child 28848</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/560479c08fef0a1657c7d7ceea382a469ff909c1">560479c08fef0a1657c7d7ceea382a469ff909c1</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=5958d77c395b5ec1df97b100215eeabd796e8924">17069</a></td></tr>
<tr><td>push user</td><td>mkmelin@iki.fi</td></tr>
<tr><td>push date</td><td class="date age">Tue, 25 Feb 2020 10:50:49 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@5958d77c395b [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=5958d77c395b5ec1df97b100215eeabd796e8924">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=5958d77c395b5ec1df97b100215eeabd796e8924&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5958d77c395b5ec1df97b100215eeabd796e8924&newProject=comm-central&newRevision=5958d77c395b5ec1df97b100215eeabd796e8924&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5958d77c395b5ec1df97b100215eeabd796e8924&newProject=comm-central&newRevision=5958d77c395b5ec1df97b100215eeabd796e8924&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=5958d77c395b5ec1df97b100215eeabd796e8924&newProject=comm-central&newRevision=5958d77c395b5ec1df97b100215eeabd796e8924&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28pmorris%29&revcount=50">pmorris</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1562313">1562313</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1562313">Bug 1562313</a> - Convert most calendar JavaScript components (not calBackendLoader) to static registration. r=pmorris DONTBUILD</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarm.jsm">calendar/base/src/CalAlarm.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarm.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarm.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarm.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarm.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarm.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmMonitor.jsm">calendar/base/src/CalAlarmMonitor.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmMonitor.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmMonitor.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmMonitor.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmMonitor.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmMonitor.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmService.jsm">calendar/base/src/CalAlarmService.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmService.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmService.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmService.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmService.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAlarmService.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttachment.jsm">calendar/base/src/CalAttachment.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttachment.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttachment.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttachment.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttachment.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttachment.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttendee.jsm">calendar/base/src/CalAttendee.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttendee.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttendee.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttendee.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttendee.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalAttendee.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarManager.jsm">calendar/base/src/CalCalendarManager.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarManager.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarManager.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarManager.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarManager.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarManager.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarSearchService.jsm">calendar/base/src/CalCalendarSearchService.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarSearchService.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarSearchService.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarSearchService.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarSearchService.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalCalendarSearchService.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDateTimeFormatter.jsm">calendar/base/src/CalDateTimeFormatter.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDateTimeFormatter.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDateTimeFormatter.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDateTimeFormatter.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDateTimeFormatter.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDateTimeFormatter.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDefaultACLManager.jsm">calendar/base/src/CalDefaultACLManager.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDefaultACLManager.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDefaultACLManager.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDefaultACLManager.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDefaultACLManager.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDefaultACLManager.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDeletedItems.jsm">calendar/base/src/CalDeletedItems.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDeletedItems.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDeletedItems.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDeletedItems.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDeletedItems.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalDeletedItems.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalEvent.jsm">calendar/base/src/CalEvent.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalEvent.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalEvent.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalEvent.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalEvent.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalEvent.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalFreeBusyService.jsm">calendar/base/src/CalFreeBusyService.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalFreeBusyService.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalFreeBusyService.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalFreeBusyService.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalFreeBusyService.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalFreeBusyService.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsParser.jsm">calendar/base/src/CalIcsParser.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsParser.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsParser.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsParser.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsParser.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsParser.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsSerializer.jsm">calendar/base/src/CalIcsSerializer.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsSerializer.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsSerializer.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsSerializer.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsSerializer.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalIcsSerializer.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalItipItem.jsm">calendar/base/src/CalItipItem.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalItipItem.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalItipItem.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalItipItem.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalItipItem.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalItipItem.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalProtocolHandler.jsm">calendar/base/src/CalProtocolHandler.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalProtocolHandler.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalProtocolHandler.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalProtocolHandler.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalProtocolHandler.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalProtocolHandler.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceDate.jsm">calendar/base/src/CalRecurrenceDate.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceDate.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceDate.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceDate.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceDate.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceDate.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceInfo.jsm">calendar/base/src/CalRecurrenceInfo.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceInfo.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceInfo.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceInfo.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceInfo.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRecurrenceInfo.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRelation.jsm">calendar/base/src/CalRelation.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRelation.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRelation.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRelation.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRelation.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalRelation.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalSleepMonitor.jsm">calendar/base/src/CalSleepMonitor.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalSleepMonitor.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalSleepMonitor.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalSleepMonitor.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalSleepMonitor.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalSleepMonitor.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalStartupService.jsm">calendar/base/src/CalStartupService.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalStartupService.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalStartupService.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalStartupService.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalStartupService.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalStartupService.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTimezoneService.jsm">calendar/base/src/CalTimezoneService.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTimezoneService.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTimezoneService.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTimezoneService.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTimezoneService.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTimezoneService.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTodo.jsm">calendar/base/src/CalTodo.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTodo.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTodo.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTodo.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTodo.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTodo.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTransactionManager.jsm">calendar/base/src/CalTransactionManager.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTransactionManager.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTransactionManager.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTransactionManager.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTransactionManager.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalTransactionManager.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalWeekInfoService.jsm">calendar/base/src/CalWeekInfoService.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalWeekInfoService.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalWeekInfoService.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalWeekInfoService.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalWeekInfoService.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/CalWeekInfoService.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarm.js">calendar/base/src/calAlarm.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarm.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarm.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarm.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarmMonitor.js">calendar/base/src/calAlarmMonitor.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarmMonitor.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarmMonitor.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarmMonitor.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarmService.js">calendar/base/src/calAlarmService.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarmService.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarmService.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAlarmService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAttachment.js">calendar/base/src/calAttachment.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAttachment.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAttachment.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAttachment.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAttendee.js">calendar/base/src/calAttendee.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAttendee.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAttendee.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calAttendee.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCachedCalendar.js">calendar/base/src/calCachedCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCachedCalendar.js">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCachedCalendar.js">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCachedCalendar.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCachedCalendar.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCachedCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCalendarManager.js">calendar/base/src/calCalendarManager.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCalendarManager.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCalendarManager.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCalendarManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCalendarSearchService.js">calendar/base/src/calCalendarSearchService.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCalendarSearchService.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCalendarSearchService.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calCalendarSearchService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDateTimeFormatter.js">calendar/base/src/calDateTimeFormatter.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDateTimeFormatter.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDateTimeFormatter.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDateTimeFormatter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDefaultACLManager.js">calendar/base/src/calDefaultACLManager.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDefaultACLManager.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDefaultACLManager.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDefaultACLManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDefaultACLManager.manifest">calendar/base/src/calDefaultACLManager.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDefaultACLManager.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDefaultACLManager.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDefaultACLManager.manifest">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDeletedItems.js">calendar/base/src/calDeletedItems.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDeletedItems.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDeletedItems.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calDeletedItems.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calEvent.js">calendar/base/src/calEvent.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calEvent.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calEvent.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calEvent.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calFreeBusyService.js">calendar/base/src/calFreeBusyService.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calFreeBusyService.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calFreeBusyService.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calFreeBusyService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calIcsParser.js">calendar/base/src/calIcsParser.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calIcsParser.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calIcsParser.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calIcsParser.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calIcsSerializer.js">calendar/base/src/calIcsSerializer.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calIcsSerializer.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calIcsSerializer.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calIcsSerializer.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemBase.js">calendar/base/src/calItemBase.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemBase.js">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemBase.js">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemBase.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemBase.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemBase.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemModule.js">calendar/base/src/calItemModule.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemModule.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemModule.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemModule.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemModule.manifest">calendar/base/src/calItemModule.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemModule.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemModule.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItemModule.manifest">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItipItem.js">calendar/base/src/calItipItem.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItipItem.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItipItem.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calItipItem.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calProtocolHandler.js">calendar/base/src/calProtocolHandler.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRecurrenceDate.js">calendar/base/src/calRecurrenceDate.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRecurrenceDate.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRecurrenceDate.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRecurrenceDate.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRecurrenceInfo.js">calendar/base/src/calRecurrenceInfo.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRecurrenceInfo.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRecurrenceInfo.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRecurrenceInfo.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRelation.js">calendar/base/src/calRelation.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRelation.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRelation.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calRelation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calSleepMonitor.js">calendar/base/src/calSleepMonitor.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calSleepMonitor.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calSleepMonitor.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calSleepMonitor.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calSleepMonitor.manifest">calendar/base/src/calSleepMonitor.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calSleepMonitor.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calSleepMonitor.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calSleepMonitor.manifest">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calStartupService.js">calendar/base/src/calStartupService.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calStartupService.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calStartupService.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calStartupService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTimezoneService.js">calendar/base/src/calTimezoneService.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTimezoneService.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTimezoneService.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTimezoneService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTimezoneService.manifest">calendar/base/src/calTimezoneService.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTimezoneService.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTimezoneService.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTimezoneService.manifest">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTodo.js">calendar/base/src/calTodo.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTodo.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTodo.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTodo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTransactionManager.js">calendar/base/src/calTransactionManager.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTransactionManager.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTransactionManager.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calTransactionManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calWeekInfoService.js">calendar/base/src/calWeekInfoService.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calWeekInfoService.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calWeekInfoService.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/calWeekInfoService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/components.conf">calendar/base/src/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/components.conf">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/moz.build">calendar/base/src/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/base/src/moz.build">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalHtmlExport.jsm">calendar/import-export/CalHtmlExport.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalHtmlExport.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalHtmlExport.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalHtmlExport.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalHtmlExport.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalHtmlExport.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalIcsImportExport.jsm">calendar/import-export/CalIcsImportExport.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalIcsImportExport.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalIcsImportExport.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalIcsImportExport.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalIcsImportExport.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalIcsImportExport.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalListFormatter.jsm">calendar/import-export/CalListFormatter.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalListFormatter.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalListFormatter.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalListFormatter.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalListFormatter.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalListFormatter.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalMonthGridPrinter.jsm">calendar/import-export/CalMonthGridPrinter.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalMonthGridPrinter.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalMonthGridPrinter.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalMonthGridPrinter.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalMonthGridPrinter.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalMonthGridPrinter.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalOutlookCSVImportExport.jsm">calendar/import-export/CalOutlookCSVImportExport.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalOutlookCSVImportExport.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalOutlookCSVImportExport.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalOutlookCSVImportExport.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalOutlookCSVImportExport.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalOutlookCSVImportExport.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalWeekPrinter.jsm">calendar/import-export/CalWeekPrinter.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalWeekPrinter.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalWeekPrinter.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalWeekPrinter.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalWeekPrinter.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/CalWeekPrinter.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calHtmlExport.js">calendar/import-export/calHtmlExport.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calHtmlExport.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calHtmlExport.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calHtmlExport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calIcsImportExport.js">calendar/import-export/calIcsImportExport.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calIcsImportExport.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calIcsImportExport.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calIcsImportExport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calImportExportModule.js">calendar/import-export/calImportExportModule.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calImportExportModule.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calImportExportModule.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calImportExportModule.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calImportExportModule.manifest">calendar/import-export/calImportExportModule.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calImportExportModule.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calImportExportModule.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calImportExportModule.manifest">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calListFormatter.js">calendar/import-export/calListFormatter.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calListFormatter.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calListFormatter.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calListFormatter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calMonthGridPrinter.js">calendar/import-export/calMonthGridPrinter.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calMonthGridPrinter.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calMonthGridPrinter.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calMonthGridPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calOutlookCSVImportExport.js">calendar/import-export/calOutlookCSVImportExport.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calOutlookCSVImportExport.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calOutlookCSVImportExport.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calOutlookCSVImportExport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calWeekPrinter.js">calendar/import-export/calWeekPrinter.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calWeekPrinter.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calWeekPrinter.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/calWeekPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/components.conf">calendar/import-export/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/components.conf">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/moz.build">calendar/import-export/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/import-export/moz.build">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/CalItipEmailTransport.jsm">calendar/itip/CalItipEmailTransport.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/CalItipEmailTransport.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/CalItipEmailTransport.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/CalItipEmailTransport.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/CalItipEmailTransport.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/CalItipEmailTransport.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/calItipEmailTransport.js">calendar/itip/calItipEmailTransport.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/calItipEmailTransport.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/calItipEmailTransport.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/calItipEmailTransport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/calItipEmailTransport.manifest">calendar/itip/calItipEmailTransport.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/calItipEmailTransport.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/calItipEmailTransport.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/calItipEmailTransport.manifest">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/components.conf">calendar/itip/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/components.conf">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/moz.build">calendar/itip/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/itip/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalItipProtocolHandler.jsm">calendar/lightning/components/CalItipProtocolHandler.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalItipProtocolHandler.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalItipProtocolHandler.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalItipProtocolHandler.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalItipProtocolHandler.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalItipProtocolHandler.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalMimeConverter.jsm">calendar/lightning/components/CalMimeConverter.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalMimeConverter.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalMimeConverter.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalMimeConverter.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalMimeConverter.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/CalMimeConverter.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/calItipProtocolHandler.js">calendar/lightning/components/calItipProtocolHandler.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/calItipProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/calItipProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/calItipProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/calItipProtocolHandler.manifest">calendar/lightning/components/calItipProtocolHandler.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/calItipProtocolHandler.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/calItipProtocolHandler.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/calItipProtocolHandler.manifest">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/components.conf">calendar/lightning/components/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/components.conf">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/lightningTextCalendarConverter.js">calendar/lightning/components/lightningTextCalendarConverter.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/lightningTextCalendarConverter.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/lightningTextCalendarConverter.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/lightningTextCalendarConverter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/lightningTextCalendarConverter.manifest">calendar/lightning/components/lightningTextCalendarConverter.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/lightningTextCalendarConverter.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/lightningTextCalendarConverter.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/lightningTextCalendarConverter.manifest">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/moz.build">calendar/lightning/components/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/lightning/components/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/CalDavCalendar.jsm">calendar/providers/caldav/CalDavCalendar.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/CalDavCalendar.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/CalDavCalendar.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/CalDavCalendar.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/CalDavCalendar.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/CalDavCalendar.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/calDavCalendar.js">calendar/providers/caldav/calDavCalendar.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/calDavCalendar.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/calDavCalendar.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/calDavCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/calDavCalendar.manifest">calendar/providers/caldav/calDavCalendar.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/calDavCalendar.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/calDavCalendar.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/calDavCalendar.manifest">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/components.conf">calendar/providers/caldav/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/components.conf">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/moz.build">calendar/providers/caldav/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/caldav/moz.build">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/CalCompositeCalendar.jsm">calendar/providers/composite/CalCompositeCalendar.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/CalCompositeCalendar.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/CalCompositeCalendar.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/CalCompositeCalendar.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/CalCompositeCalendar.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/CalCompositeCalendar.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/calCompositeCalendar.js">calendar/providers/composite/calCompositeCalendar.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/calCompositeCalendar.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/calCompositeCalendar.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/calCompositeCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/calCompositeCalendar.manifest">calendar/providers/composite/calCompositeCalendar.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/calCompositeCalendar.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/calCompositeCalendar.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/calCompositeCalendar.manifest">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/components.conf">calendar/providers/composite/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/components.conf">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/moz.build">calendar/providers/composite/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/composite/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/CalICSCalendar.jsm">calendar/providers/ics/CalICSCalendar.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/CalICSCalendar.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/CalICSCalendar.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/CalICSCalendar.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/CalICSCalendar.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/CalICSCalendar.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/calICSCalendar.js">calendar/providers/ics/calICSCalendar.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/calICSCalendar.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/calICSCalendar.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/calICSCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/calICSCalendar.manifest">calendar/providers/ics/calICSCalendar.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/calICSCalendar.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/calICSCalendar.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/calICSCalendar.manifest">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/components.conf">calendar/providers/ics/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/components.conf">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/moz.build">calendar/providers/ics/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/ics/moz.build">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/CalMemoryCalendar.jsm">calendar/providers/memory/CalMemoryCalendar.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/CalMemoryCalendar.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/CalMemoryCalendar.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/CalMemoryCalendar.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/CalMemoryCalendar.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/CalMemoryCalendar.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/calMemoryCalendar.js">calendar/providers/memory/calMemoryCalendar.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/calMemoryCalendar.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/calMemoryCalendar.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/calMemoryCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/calMemoryCalendar.manifest">calendar/providers/memory/calMemoryCalendar.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/calMemoryCalendar.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/calMemoryCalendar.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/calMemoryCalendar.manifest">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/components.conf">calendar/providers/memory/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/components.conf">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/moz.build">calendar/providers/memory/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/memory/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/CalStorageCalendar.jsm">calendar/providers/storage/CalStorageCalendar.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/CalStorageCalendar.jsm">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/CalStorageCalendar.jsm">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/CalStorageCalendar.jsm">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/CalStorageCalendar.jsm">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/CalStorageCalendar.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/calStorageCalendar.js">calendar/providers/storage/calStorageCalendar.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/calStorageCalendar.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/calStorageCalendar.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/calStorageCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/calStorageCalendar.manifest">calendar/providers/storage/calStorageCalendar.manifest</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/calStorageCalendar.manifest">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/calStorageCalendar.manifest">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/calStorageCalendar.manifest">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/components.conf">calendar/providers/storage/components.conf</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/components.conf">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/components.conf">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/components.conf">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/components.conf">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/components.conf">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/moz.build">calendar/providers/storage/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/moz.build">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/moz.build">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/moz.build">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/moz.build">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/providers/storage/moz.build">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/test/unit/test_imip.js">calendar/test/unit/test_imip.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/test/unit/test_imip.js">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/test/unit/test_imip.js">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/test/unit/test_imip.js">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/test/unit/test_imip.js">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/calendar/test/unit/test_imip.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/mail/installer/package-manifest.in">mail/installer/package-manifest.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5958d77c395b5ec1df97b100215eeabd796e8924/mail/installer/package-manifest.in">file</a> |
<a href="/comm-central/annotate/5958d77c395b5ec1df97b100215eeabd796e8924/mail/installer/package-manifest.in">annotate</a> |
<a href="/comm-central/diff/5958d77c395b5ec1df97b100215eeabd796e8924/mail/installer/package-manifest.in">diff</a> |
<a href="/comm-central/comparison/5958d77c395b5ec1df97b100215eeabd796e8924/mail/installer/package-manifest.in">comparison</a> |
<a href="/comm-central/log/5958d77c395b5ec1df97b100215eeabd796e8924/mail/installer/package-manifest.in">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1">rename from calendar/base/src/calAlarm.js</span>
<a href="#l1.2"></a><span id="l1.2">rename to calendar/base/src/CalAlarm.jsm</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineminus">--- a/calendar/base/src/calAlarm.js</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineplus">+++ b/calendar/base/src/CalAlarm.jsm</span>
<a href="#l1.5"></a><span id="l1.5" class="difflineat">@@ -1,28 +1,30 @@</span>
<a href="#l1.6"></a><span id="l1.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.7"></a><span id="l1.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.8"></a><span id="l1.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalAlarm&quot;];</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineplus">+</span>
<a href="#l1.12"></a><span id="l1.12"> var { PluralForm } = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l1.13"></a><span id="l1.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l1.14"></a><span id="l1.14"> </span>
<a href="#l1.15"></a><span id="l1.15"> var ALARM_RELATED_ABSOLUTE = Ci.calIAlarm.ALARM_RELATED_ABSOLUTE;</span>
<a href="#l1.16"></a><span id="l1.16"> var ALARM_RELATED_START = Ci.calIAlarm.ALARM_RELATED_START;</span>
<a href="#l1.17"></a><span id="l1.17"> var ALARM_RELATED_END = Ci.calIAlarm.ALARM_RELATED_END;</span>
<a href="#l1.18"></a><span id="l1.18"> </span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-function calAlarm() {</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+function CalAlarm() {</span>
<a href="#l1.21"></a><span id="l1.21">   this.wrappedJSObject = this;</span>
<a href="#l1.22"></a><span id="l1.22">   this.mProperties = new Map();</span>
<a href="#l1.23"></a><span id="l1.23">   this.mPropertyParams = {};</span>
<a href="#l1.24"></a><span id="l1.24">   this.mAttendees = [];</span>
<a href="#l1.25"></a><span id="l1.25">   this.mAttachments = [];</span>
<a href="#l1.26"></a><span id="l1.26"> }</span>
<a href="#l1.27"></a><span id="l1.27"> </span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">-calAlarm.prototype = {</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineplus">+CalAlarm.prototype = {</span>
<a href="#l1.30"></a><span id="l1.30">   QueryInterface: ChromeUtils.generateQI([Ci.calIAlarm]),</span>
<a href="#l1.31"></a><span id="l1.31">   classID: Components.ID(&quot;{b8db7c7f-c168-4e11-becb-f26c1c4f5f8f}&quot;),</span>
<a href="#l1.32"></a><span id="l1.32"> </span>
<a href="#l1.33"></a><span id="l1.33">   mProperties: null,</span>
<a href="#l1.34"></a><span id="l1.34">   mPropertyParams: null,</span>
<a href="#l1.35"></a><span id="l1.35">   mAction: null,</span>
<a href="#l1.36"></a><span id="l1.36">   mAbsoluteDate: null,</span>
<a href="#l1.37"></a><span id="l1.37">   mOffset: null,</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineat">@@ -68,17 +70,17 @@ calAlarm.prototype = {</span>
<a href="#l1.39"></a><span id="l1.39">         propval.makeImmutable();</span>
<a href="#l1.40"></a><span id="l1.40">       }</span>
<a href="#l1.41"></a><span id="l1.41">     }</span>
<a href="#l1.42"></a><span id="l1.42"> </span>
<a href="#l1.43"></a><span id="l1.43">     this.mImmutable = true;</span>
<a href="#l1.44"></a><span id="l1.44">   },</span>
<a href="#l1.45"></a><span id="l1.45"> </span>
<a href="#l1.46"></a><span id="l1.46">   clone() {</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineminus">-    let cloned = new calAlarm();</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineplus">+    let cloned = new CalAlarm();</span>
<a href="#l1.49"></a><span id="l1.49"> </span>
<a href="#l1.50"></a><span id="l1.50">     cloned.mImmutable = false;</span>
<a href="#l1.51"></a><span id="l1.51"> </span>
<a href="#l1.52"></a><span id="l1.52">     const simpleMembers = [&quot;mAction&quot;, &quot;mSummary&quot;, &quot;mDescription&quot;, &quot;mRelated&quot;, &quot;mRepeat&quot;];</span>
<a href="#l1.53"></a><span id="l1.53"> </span>
<a href="#l1.54"></a><span id="l1.54">     const arrayMembers = [&quot;mAttendees&quot;, &quot;mAttachments&quot;];</span>
<a href="#l1.55"></a><span id="l1.55"> </span>
<a href="#l1.56"></a><span id="l1.56">     const objectMembers = [&quot;mAbsoluteDate&quot;, &quot;mOffset&quot;, &quot;mDuration&quot;, &quot;mLastAck&quot;];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">rename from calendar/base/src/calAlarmMonitor.js</span>
<a href="#l2.2"></a><span id="l2.2">rename to calendar/base/src/CalAlarmMonitor.jsm</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineminus">--- a/calendar/base/src/calAlarmMonitor.js</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineplus">+++ b/calendar/base/src/CalAlarmMonitor.jsm</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineat">@@ -1,37 +1,39 @@</span>
<a href="#l2.6"></a><span id="l2.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.7"></a><span id="l2.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.8"></a><span id="l2.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l2.9"></a><span id="l2.9"> </span>
<a href="#l2.10"></a><span id="l2.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalAlarmMonitor&quot;];</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineplus">+</span>
<a href="#l2.12"></a><span id="l2.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l2.13"></a><span id="l2.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l2.14"></a><span id="l2.14"> </span>
<a href="#l2.15"></a><span id="l2.15"> function peekAlarmWindow() {</span>
<a href="#l2.16"></a><span id="l2.16">   return Services.wm.getMostRecentWindow(&quot;Calendar:AlarmWindow&quot;);</span>
<a href="#l2.17"></a><span id="l2.17"> }</span>
<a href="#l2.18"></a><span id="l2.18"> </span>
<a href="#l2.19"></a><span id="l2.19"> /**</span>
<a href="#l2.20"></a><span id="l2.20">  * The alarm monitor takes care of playing the alarm sound and opening one copy</span>
<a href="#l2.21"></a><span id="l2.21">  * of the calendar-alarm-dialog. Both depend on their respective prefs to be</span>
<a href="#l2.22"></a><span id="l2.22">  * set. This monitor is only used for DISPLAY type alarms.</span>
<a href="#l2.23"></a><span id="l2.23">  */</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-function calAlarmMonitor() {</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+function CalAlarmMonitor() {</span>
<a href="#l2.26"></a><span id="l2.26">   this.wrappedJSObject = this;</span>
<a href="#l2.27"></a><span id="l2.27">   this.mAlarms = [];</span>
<a href="#l2.28"></a><span id="l2.28"> </span>
<a href="#l2.29"></a><span id="l2.29">   this.mSound = Cc[&quot;@mozilla.org/sound;1&quot;].createInstance(Ci.nsISound);</span>
<a href="#l2.30"></a><span id="l2.30"> </span>
<a href="#l2.31"></a><span id="l2.31">   Services.obs.addObserver(this, &quot;alarm-service-startup&quot;);</span>
<a href="#l2.32"></a><span id="l2.32">   Services.obs.addObserver(this, &quot;alarm-service-shutdown&quot;);</span>
<a href="#l2.33"></a><span id="l2.33"> }</span>
<a href="#l2.34"></a><span id="l2.34"> </span>
<a href="#l2.35"></a><span id="l2.35"> var calAlarmMonitorClassID = Components.ID(&quot;{4b7ae030-ed79-11d9-8cd6-0800200c9a66}&quot;);</span>
<a href="#l2.36"></a><span id="l2.36"> var calAlarmMonitorInterfaces = [Ci.nsIObserver, Ci.calIAlarmServiceObserver];</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-calAlarmMonitor.prototype = {</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineplus">+CalAlarmMonitor.prototype = {</span>
<a href="#l2.39"></a><span id="l2.39">   mAlarms: null,</span>
<a href="#l2.40"></a><span id="l2.40"> </span>
<a href="#l2.41"></a><span id="l2.41">   // This is a work-around for the fact that there is a delay between when</span>
<a href="#l2.42"></a><span id="l2.42">   // we call openWindow and when it appears via getMostRecentWindow.  If an</span>
<a href="#l2.43"></a><span id="l2.43">   // alarm is fired in that time-frame, it will actually end up in another window.</span>
<a href="#l2.44"></a><span id="l2.44">   mWindowOpening: null,</span>
<a href="#l2.45"></a><span id="l2.45"> </span>
<a href="#l2.46"></a><span id="l2.46">   // nsISound instance used for playing all sounds</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">rename from calendar/base/src/calAlarmService.js</span>
<a href="#l3.2"></a><span id="l3.2">rename to calendar/base/src/CalAlarmService.jsm</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineminus">--- a/calendar/base/src/calAlarmService.js</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineplus">+++ b/calendar/base/src/CalAlarmService.jsm</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l3.6"></a><span id="l3.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.7"></a><span id="l3.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.8"></a><span id="l3.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.9"></a><span id="l3.9"> </span>
<a href="#l3.10"></a><span id="l3.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalAlarmService&quot;];</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineplus">+</span>
<a href="#l3.12"></a><span id="l3.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l3.13"></a><span id="l3.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l3.14"></a><span id="l3.14"> var { PromiseUtils } = ChromeUtils.import(&quot;resource://gre/modules/PromiseUtils.jsm&quot;);</span>
<a href="#l3.15"></a><span id="l3.15"> </span>
<a href="#l3.16"></a><span id="l3.16"> var kHoursBetweenUpdates = 6;</span>
<a href="#l3.17"></a><span id="l3.17"> </span>
<a href="#l3.18"></a><span id="l3.18"> function nowUTC() {</span>
<a href="#l3.19"></a><span id="l3.19">   return cal.dtz.jsDateToDateTime(new Date()).getInTimezone(cal.dtz.UTC);</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineat">@@ -18,17 +20,17 @@ function newTimerWithCallback(aCallback,</span>
<a href="#l3.21"></a><span id="l3.21">   timer.initWithCallback(</span>
<a href="#l3.22"></a><span id="l3.22">     aCallback,</span>
<a href="#l3.23"></a><span id="l3.23">     aDelay,</span>
<a href="#l3.24"></a><span id="l3.24">     aRepeating ? timer.TYPE_REPEATING_PRECISE : timer.TYPE_ONE_SHOT</span>
<a href="#l3.25"></a><span id="l3.25">   );</span>
<a href="#l3.26"></a><span id="l3.26">   return timer;</span>
<a href="#l3.27"></a><span id="l3.27"> }</span>
<a href="#l3.28"></a><span id="l3.28"> </span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-function calAlarmService() {</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+function CalAlarmService() {</span>
<a href="#l3.31"></a><span id="l3.31">   this.wrappedJSObject = this;</span>
<a href="#l3.32"></a><span id="l3.32"> </span>
<a href="#l3.33"></a><span id="l3.33">   this.mLoadedCalendars = {};</span>
<a href="#l3.34"></a><span id="l3.34">   this.mTimerMap = {};</span>
<a href="#l3.35"></a><span id="l3.35">   this.mObservers = new cal.data.ListenerSet(Ci.calIAlarmServiceObserver);</span>
<a href="#l3.36"></a><span id="l3.36"> </span>
<a href="#l3.37"></a><span id="l3.37">   this.calendarObserver = {</span>
<a href="#l3.38"></a><span id="l3.38">     QueryInterface: ChromeUtils.generateQI([Ci.calIObserver]),</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineat">@@ -94,17 +96,17 @@ function calAlarmService() {</span>
<a href="#l3.40"></a><span id="l3.40">       this.alarmService.unobserveCalendar(aCalendar);</span>
<a href="#l3.41"></a><span id="l3.41">       delete this.alarmService.mLoadedCalendars[aCalendar.id];</span>
<a href="#l3.42"></a><span id="l3.42">     },</span>
<a href="#l3.43"></a><span id="l3.43">   };</span>
<a href="#l3.44"></a><span id="l3.44"> }</span>
<a href="#l3.45"></a><span id="l3.45"> </span>
<a href="#l3.46"></a><span id="l3.46"> var calAlarmServiceClassID = Components.ID(&quot;{7a9200dd-6a64-4fff-a798-c5802186e2cc}&quot;);</span>
<a href="#l3.47"></a><span id="l3.47"> var calAlarmServiceInterfaces = [Ci.calIAlarmService, Ci.nsIObserver];</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineminus">-calAlarmService.prototype = {</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineplus">+CalAlarmService.prototype = {</span>
<a href="#l3.50"></a><span id="l3.50">   mRangeStart: null,</span>
<a href="#l3.51"></a><span id="l3.51">   mRangeEnd: null,</span>
<a href="#l3.52"></a><span id="l3.52">   mUpdateTimer: null,</span>
<a href="#l3.53"></a><span id="l3.53">   mStarted: false,</span>
<a href="#l3.54"></a><span id="l3.54">   mTimerMap: null,</span>
<a href="#l3.55"></a><span id="l3.55">   mObservers: null,</span>
<a href="#l3.56"></a><span id="l3.56">   mTimezone: null,</span>
<a href="#l3.57"></a><span id="l3.57"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">rename from calendar/base/src/calAttachment.js</span>
<a href="#l4.2"></a><span id="l4.2">rename to calendar/base/src/CalAttachment.jsm</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineminus">--- a/calendar/base/src/calAttachment.js</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineplus">+++ b/calendar/base/src/CalAttachment.jsm</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineat">@@ -1,24 +1,23 @@</span>
<a href="#l4.6"></a><span id="l4.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.7"></a><span id="l4.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.8"></a><span id="l4.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalAttachment&quot;];</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+</span>
<a href="#l4.12"></a><span id="l4.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l4.13"></a><span id="l4.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-//</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-// calAttachment.js</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineminus">-//</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineminus">-function calAttachment() {</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+function CalAttachment() {</span>
<a href="#l4.20"></a><span id="l4.20">   this.wrappedJSObject = this;</span>
<a href="#l4.21"></a><span id="l4.21">   this.mProperties = new Map();</span>
<a href="#l4.22"></a><span id="l4.22"> }</span>
<a href="#l4.23"></a><span id="l4.23"> </span>
<a href="#l4.24"></a><span id="l4.24" class="difflineminus">-calAttachment.prototype = {</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineplus">+CalAttachment.prototype = {</span>
<a href="#l4.26"></a><span id="l4.26">   QueryInterface: ChromeUtils.generateQI([Ci.calIAttachment]),</span>
<a href="#l4.27"></a><span id="l4.27">   classID: Components.ID(&quot;{5f76b352-ab75-4c2b-82c9-9206dbbf8571}&quot;),</span>
<a href="#l4.28"></a><span id="l4.28"> </span>
<a href="#l4.29"></a><span id="l4.29">   mData: null,</span>
<a href="#l4.30"></a><span id="l4.30">   mHashId: null,</span>
<a href="#l4.31"></a><span id="l4.31"> </span>
<a href="#l4.32"></a><span id="l4.32">   get hashId() {</span>
<a href="#l4.33"></a><span id="l4.33">     if (!this.mHashId) {</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineat">@@ -146,17 +145,17 @@ calAttachment.prototype = {</span>
<a href="#l4.35"></a><span id="l4.35">     return this.mProperties.delete(aName);</span>
<a href="#l4.36"></a><span id="l4.36">   },</span>
<a href="#l4.37"></a><span id="l4.37"> </span>
<a href="#l4.38"></a><span id="l4.38">   deleteParameter(aName) {</span>
<a href="#l4.39"></a><span id="l4.39">     this.mProperties.delete(aName);</span>
<a href="#l4.40"></a><span id="l4.40">   },</span>
<a href="#l4.41"></a><span id="l4.41"> </span>
<a href="#l4.42"></a><span id="l4.42">   clone() {</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineminus">-    let newAttachment = new calAttachment();</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+    let newAttachment = new CalAttachment();</span>
<a href="#l4.45"></a><span id="l4.45">     newAttachment.mData = this.mData;</span>
<a href="#l4.46"></a><span id="l4.46">     newAttachment.mHashId = this.mHashId;</span>
<a href="#l4.47"></a><span id="l4.47">     for (let [name, value] of this.mProperties.entries()) {</span>
<a href="#l4.48"></a><span id="l4.48">       newAttachment.mProperties.set(name, value);</span>
<a href="#l4.49"></a><span id="l4.49">     }</span>
<a href="#l4.50"></a><span id="l4.50">     return newAttachment;</span>
<a href="#l4.51"></a><span id="l4.51">   },</span>
<a href="#l4.52"></a><span id="l4.52"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">rename from calendar/base/src/calAttendee.js</span>
<a href="#l5.2"></a><span id="l5.2">rename to calendar/base/src/CalAttendee.jsm</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineminus">--- a/calendar/base/src/calAttendee.js</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineplus">+++ b/calendar/base/src/CalAttendee.jsm</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineat">@@ -1,20 +1,25 @@</span>
<a href="#l5.6"></a><span id="l5.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.7"></a><span id="l5.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l5.8"></a><span id="l5.8">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.9"></a><span id="l5.9"> </span>
<a href="#l5.10"></a><span id="l5.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalAttendee&quot;];</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l5.13"></a><span id="l5.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l5.14"></a><span id="l5.14"> </span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-function calAttendee() {</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+Services.scriptloader.loadSubScript(&quot;resource:///components/calItemBase.js&quot;);</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+function CalAttendee() {</span>
<a href="#l5.19"></a><span id="l5.19">   this.wrappedJSObject = this;</span>
<a href="#l5.20"></a><span id="l5.20">   this.mProperties = new Map();</span>
<a href="#l5.21"></a><span id="l5.21"> }</span>
<a href="#l5.22"></a><span id="l5.22"> </span>
<a href="#l5.23"></a><span id="l5.23" class="difflineminus">-calAttendee.prototype = {</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+CalAttendee.prototype = {</span>
<a href="#l5.25"></a><span id="l5.25">   QueryInterface: ChromeUtils.generateQI([Ci.calIAttendee]),</span>
<a href="#l5.26"></a><span id="l5.26">   classID: Components.ID(&quot;{5c8dcaa3-170c-4a73-8142-d531156f664d}&quot;),</span>
<a href="#l5.27"></a><span id="l5.27"> </span>
<a href="#l5.28"></a><span id="l5.28">   mImmutable: false,</span>
<a href="#l5.29"></a><span id="l5.29">   get isMutable() {</span>
<a href="#l5.30"></a><span id="l5.30">     return !this.mImmutable;</span>
<a href="#l5.31"></a><span id="l5.31">   },</span>
<a href="#l5.32"></a><span id="l5.32"> </span>
<a href="#l5.33"></a><span id="l5.33" class="difflineat">@@ -24,17 +29,17 @@ calAttendee.prototype = {</span>
<a href="#l5.34"></a><span id="l5.34">     }</span>
<a href="#l5.35"></a><span id="l5.35">   },</span>
<a href="#l5.36"></a><span id="l5.36"> </span>
<a href="#l5.37"></a><span id="l5.37">   makeImmutable() {</span>
<a href="#l5.38"></a><span id="l5.38">     this.mImmutable = true;</span>
<a href="#l5.39"></a><span id="l5.39">   },</span>
<a href="#l5.40"></a><span id="l5.40"> </span>
<a href="#l5.41"></a><span id="l5.41">   clone() {</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-    let a = new calAttendee();</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+    let a = new CalAttendee();</span>
<a href="#l5.44"></a><span id="l5.44"> </span>
<a href="#l5.45"></a><span id="l5.45">     if (this.mIsOrganizer) {</span>
<a href="#l5.46"></a><span id="l5.46">       a.isOrganizer = true;</span>
<a href="#l5.47"></a><span id="l5.47">     }</span>
<a href="#l5.48"></a><span id="l5.48"> </span>
<a href="#l5.49"></a><span id="l5.49">     const allProps = [&quot;id&quot;, &quot;commonName&quot;, &quot;rsvp&quot;, &quot;role&quot;, &quot;participationStatus&quot;, &quot;userType&quot;];</span>
<a href="#l5.50"></a><span id="l5.50">     for (let prop of allProps) {</span>
<a href="#l5.51"></a><span id="l5.51">       a[prop] = this[prop];</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineat">@@ -188,14 +193,14 @@ calAttendee.prototype = {</span>
<a href="#l5.53"></a><span id="l5.53">     }</span>
<a href="#l5.54"></a><span id="l5.54"> </span>
<a href="#l5.55"></a><span id="l5.55">     return stringRep;</span>
<a href="#l5.56"></a><span id="l5.56">   },</span>
<a href="#l5.57"></a><span id="l5.57"> };</span>
<a href="#l5.58"></a><span id="l5.58"> </span>
<a href="#l5.59"></a><span id="l5.59"> var makeMemberAttr;</span>
<a href="#l5.60"></a><span id="l5.60"> if (makeMemberAttr) {</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineminus">-  makeMemberAttr(calAttendee, &quot;mCommonName&quot;, null, &quot;commonName&quot;);</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineminus">-  makeMemberAttr(calAttendee, &quot;mRsvp&quot;, null, &quot;rsvp&quot;);</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineminus">-  makeMemberAttr(calAttendee, &quot;mRole&quot;, null, &quot;role&quot;);</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineminus">-  makeMemberAttr(calAttendee, &quot;mParticipationStatus&quot;, &quot;NEEDS-ACTION&quot;, &quot;participationStatus&quot;);</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-  makeMemberAttr(calAttendee, &quot;mUserType&quot;, &quot;INDIVIDUAL&quot;, &quot;userType&quot;);</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+  makeMemberAttr(CalAttendee, &quot;mCommonName&quot;, null, &quot;commonName&quot;);</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineplus">+  makeMemberAttr(CalAttendee, &quot;mRsvp&quot;, null, &quot;rsvp&quot;);</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+  makeMemberAttr(CalAttendee, &quot;mRole&quot;, null, &quot;role&quot;);</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+  makeMemberAttr(CalAttendee, &quot;mParticipationStatus&quot;, &quot;NEEDS-ACTION&quot;, &quot;participationStatus&quot;);</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineplus">+  makeMemberAttr(CalAttendee, &quot;mUserType&quot;, &quot;INDIVIDUAL&quot;, &quot;userType&quot;);</span>
<a href="#l5.71"></a><span id="l5.71"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">rename from calendar/base/src/calCalendarManager.js</span>
<a href="#l6.2"></a><span id="l6.2">rename to calendar/base/src/CalCalendarManager.jsm</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineminus">--- a/calendar/base/src/calCalendarManager.js</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineplus">+++ b/calendar/base/src/CalCalendarManager.jsm</span>
<a href="#l6.5"></a><span id="l6.5" class="difflineat">@@ -1,32 +1,35 @@</span>
<a href="#l6.6"></a><span id="l6.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.7"></a><span id="l6.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.8"></a><span id="l6.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10" class="difflineminus">-/* import-globals-from calItemModule.js */</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineplus">+/* import-globals-from calCachedCalendar.js */</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalCalendarManager&quot;];</span>
<a href="#l6.14"></a><span id="l6.14"> </span>
<a href="#l6.15"></a><span id="l6.15"> var { AddonManager } = ChromeUtils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l6.16"></a><span id="l6.16"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l6.17"></a><span id="l6.17"> var { Preferences } = ChromeUtils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l6.18"></a><span id="l6.18"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+var { calCachedCalendar } = ChromeUtils.import(&quot;resource:///components/calCachedCalendar.js&quot;);</span>
<a href="#l6.20"></a><span id="l6.20"> </span>
<a href="#l6.21"></a><span id="l6.21"> var REGISTRY_BRANCH = &quot;calendar.registry.&quot;;</span>
<a href="#l6.22"></a><span id="l6.22"> var MAX_INT = Math.pow(2, 31) - 1;</span>
<a href="#l6.23"></a><span id="l6.23"> var MIN_INT = -MAX_INT;</span>
<a href="#l6.24"></a><span id="l6.24"> </span>
<a href="#l6.25"></a><span id="l6.25" class="difflineminus">-function calCalendarManager() {</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineplus">+function CalCalendarManager() {</span>
<a href="#l6.27"></a><span id="l6.27">   this.wrappedJSObject = this;</span>
<a href="#l6.28"></a><span id="l6.28">   this.mObservers = new cal.data.ListenerSet(Ci.calICalendarManagerObserver);</span>
<a href="#l6.29"></a><span id="l6.29">   this.mCalendarObservers = new cal.data.ListenerSet(Ci.calIObserver);</span>
<a href="#l6.30"></a><span id="l6.30"> }</span>
<a href="#l6.31"></a><span id="l6.31"> </span>
<a href="#l6.32"></a><span id="l6.32"> var calCalendarManagerClassID = Components.ID(&quot;{f42585e7-e736-4600-985d-9624c1c51992}&quot;);</span>
<a href="#l6.33"></a><span id="l6.33"> var calCalendarManagerInterfaces = [Ci.calICalendarManager, Ci.calIStartupService, Ci.nsIObserver];</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-calCalendarManager.prototype = {</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+CalCalendarManager.prototype = {</span>
<a href="#l6.36"></a><span id="l6.36">   classID: calCalendarManagerClassID,</span>
<a href="#l6.37"></a><span id="l6.37">   QueryInterface: cal.generateQI(calCalendarManagerInterfaces),</span>
<a href="#l6.38"></a><span id="l6.38">   classInfo: cal.generateCI({</span>
<a href="#l6.39"></a><span id="l6.39">     classID: calCalendarManagerClassID,</span>
<a href="#l6.40"></a><span id="l6.40">     contractID: &quot;@mozilla.org/calendar/manager;1&quot;,</span>
<a href="#l6.41"></a><span id="l6.41">     classDescription: &quot;Calendar Manager&quot;,</span>
<a href="#l6.42"></a><span id="l6.42">     interfaces: calCalendarManagerInterfaces,</span>
<a href="#l6.43"></a><span id="l6.43">     flags: Ci.nsIClassInfo.SINGLETON,</span>
<a href="#l6.44"></a><span id="l6.44" class="difflineat">@@ -263,17 +266,17 @@ calCalendarManager.prototype = {</span>
<a href="#l6.45"></a><span id="l6.45">   },</span>
<a href="#l6.46"></a><span id="l6.46"> </span>
<a href="#l6.47"></a><span id="l6.47">   registerCalendar(calendar) {</span>
<a href="#l6.48"></a><span id="l6.48">     this.assureCache();</span>
<a href="#l6.49"></a><span id="l6.49"> </span>
<a href="#l6.50"></a><span id="l6.50">     // If the calendar is already registered, bail out</span>
<a href="#l6.51"></a><span id="l6.51">     cal.ASSERT(</span>
<a href="#l6.52"></a><span id="l6.52">       !calendar.id || !(calendar.id in this.mCache),</span>
<a href="#l6.53"></a><span id="l6.53" class="difflineminus">-      &quot;[calCalendarManager::registerCalendar] calendar already registered!&quot;,</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineplus">+      &quot;[CalCalendarManager::registerCalendar] calendar already registered!&quot;,</span>
<a href="#l6.55"></a><span id="l6.55">       true</span>
<a href="#l6.56"></a><span id="l6.56">     );</span>
<a href="#l6.57"></a><span id="l6.57"> </span>
<a href="#l6.58"></a><span id="l6.58">     if (!calendar.id) {</span>
<a href="#l6.59"></a><span id="l6.59">       calendar.id = cal.getUUID();</span>
<a href="#l6.60"></a><span id="l6.60">     }</span>
<a href="#l6.61"></a><span id="l6.61"> </span>
<a href="#l6.62"></a><span id="l6.62">     Services.prefs.setStringPref(getPrefBranchFor(calendar.id) + &quot;type&quot;, calendar.type);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">rename from calendar/base/src/calCalendarSearchService.js</span>
<a href="#l7.2"></a><span id="l7.2">rename to calendar/base/src/CalCalendarSearchService.jsm</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineminus">--- a/calendar/base/src/calCalendarSearchService.js</span>
<a href="#l7.4"></a><span id="l7.4" class="difflineplus">+++ b/calendar/base/src/CalCalendarSearchService.jsm</span>
<a href="#l7.5"></a><span id="l7.5" class="difflineat">@@ -1,24 +1,26 @@</span>
<a href="#l7.6"></a><span id="l7.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.7"></a><span id="l7.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.8"></a><span id="l7.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalCalendarSearchService&quot;];</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineplus">+</span>
<a href="#l7.12"></a><span id="l7.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l7.13"></a><span id="l7.13"> </span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-function calCalendarSearchListener(numOperations, finalListener) {</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+function CalCalendarSearchListener(numOperations, finalListener) {</span>
<a href="#l7.16"></a><span id="l7.16">   this.mFinalListener = finalListener;</span>
<a href="#l7.17"></a><span id="l7.17">   this.mNumOperations = numOperations;</span>
<a href="#l7.18"></a><span id="l7.18">   this.mResults = [];</span>
<a href="#l7.19"></a><span id="l7.19"> </span>
<a href="#l7.20"></a><span id="l7.20">   this.opGroup = new cal.data.OperationGroup(() =&gt; {</span>
<a href="#l7.21"></a><span id="l7.21">     this.notifyResult(null);</span>
<a href="#l7.22"></a><span id="l7.22">   });</span>
<a href="#l7.23"></a><span id="l7.23"> }</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineminus">-calCalendarSearchListener.prototype = {</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineplus">+CalCalendarSearchListener.prototype = {</span>
<a href="#l7.26"></a><span id="l7.26">   mFinalListener: null,</span>
<a href="#l7.27"></a><span id="l7.27">   mNumOperations: 0,</span>
<a href="#l7.28"></a><span id="l7.28">   opGroup: null,</span>
<a href="#l7.29"></a><span id="l7.29"> </span>
<a href="#l7.30"></a><span id="l7.30">   notifyResult(result) {</span>
<a href="#l7.31"></a><span id="l7.31">     let listener = this.mFinalListener;</span>
<a href="#l7.32"></a><span id="l7.32">     if (listener) {</span>
<a href="#l7.33"></a><span id="l7.33">       if (!this.opGroup.isPending) {</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineat">@@ -39,41 +41,41 @@ calCalendarSearchListener.prototype = {</span>
<a href="#l7.35"></a><span id="l7.35">       }</span>
<a href="#l7.36"></a><span id="l7.36">       if (aResult) {</span>
<a href="#l7.37"></a><span id="l7.37">         this.notifyResult(aResult);</span>
<a href="#l7.38"></a><span id="l7.38">       }</span>
<a href="#l7.39"></a><span id="l7.39">     }</span>
<a href="#l7.40"></a><span id="l7.40">   },</span>
<a href="#l7.41"></a><span id="l7.41"> };</span>
<a href="#l7.42"></a><span id="l7.42"> </span>
<a href="#l7.43"></a><span id="l7.43" class="difflineminus">-function calCalendarSearchService() {</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineplus">+function CalCalendarSearchService() {</span>
<a href="#l7.45"></a><span id="l7.45">   this.wrappedJSObject = this;</span>
<a href="#l7.46"></a><span id="l7.46">   this.mProviders = new Set();</span>
<a href="#l7.47"></a><span id="l7.47"> }</span>
<a href="#l7.48"></a><span id="l7.48"> var calCalendarSearchServiceClassID = Components.ID(&quot;{f5f743cd-8997-428e-bc1b-644e73f61203}&quot;);</span>
<a href="#l7.49"></a><span id="l7.49"> var calCalendarSearchServiceInterfaces = [</span>
<a href="#l7.50"></a><span id="l7.50">   Ci.calICalendarSearchProvider,</span>
<a href="#l7.51"></a><span id="l7.51">   Ci.calICalendarSearchService,</span>
<a href="#l7.52"></a><span id="l7.52"> ];</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineminus">-calCalendarSearchService.prototype = {</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineplus">+CalCalendarSearchService.prototype = {</span>
<a href="#l7.55"></a><span id="l7.55">   mProviders: null,</span>
<a href="#l7.56"></a><span id="l7.56"> </span>
<a href="#l7.57"></a><span id="l7.57">   classID: calCalendarSearchServiceClassID,</span>
<a href="#l7.58"></a><span id="l7.58">   QueryInterface: cal.generateQI(calCalendarSearchServiceInterfaces),</span>
<a href="#l7.59"></a><span id="l7.59">   classInfo: cal.generateCI({</span>
<a href="#l7.60"></a><span id="l7.60">     classID: calCalendarSearchServiceClassID,</span>
<a href="#l7.61"></a><span id="l7.61">     contractID: &quot;@mozilla.org/calendar/calendarsearch-service;1&quot;,</span>
<a href="#l7.62"></a><span id="l7.62">     classDescription: &quot;Calendar Search Service&quot;,</span>
<a href="#l7.63"></a><span id="l7.63">     interfaces: calCalendarSearchServiceInterfaces,</span>
<a href="#l7.64"></a><span id="l7.64">     flags: Ci.nsIClassInfo.SINGLETON,</span>
<a href="#l7.65"></a><span id="l7.65">   }),</span>
<a href="#l7.66"></a><span id="l7.66"> </span>
<a href="#l7.67"></a><span id="l7.67">   // calICalendarSearchProvider:</span>
<a href="#l7.68"></a><span id="l7.68">   searchForCalendars(aString, aHints, aMaxResults, aListener) {</span>
<a href="#l7.69"></a><span id="l7.69" class="difflineminus">-    let groupListener = new calCalendarSearchListener(this.mProviders.size, aListener);</span>
<a href="#l7.70"></a><span id="l7.70" class="difflineplus">+    let groupListener = new CalCalendarSearchListener(this.mProviders.size, aListener);</span>
<a href="#l7.71"></a><span id="l7.71">     for (let provider of this.mProviders.values()) {</span>
<a href="#l7.72"></a><span id="l7.72">       try {</span>
<a href="#l7.73"></a><span id="l7.73">         groupListener.opGroup.add(</span>
<a href="#l7.74"></a><span id="l7.74">           provider.searchForCalendars(aString, aHints, aMaxResults, groupListener)</span>
<a href="#l7.75"></a><span id="l7.75">         );</span>
<a href="#l7.76"></a><span id="l7.76">       } catch (exc) {</span>
<a href="#l7.77"></a><span id="l7.77">         Cu.reportError(exc);</span>
<a href="#l7.78"></a><span id="l7.78">         groupListener.onResult(null, []); // dummy to adopt mNumOperations</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1">rename from calendar/base/src/calDateTimeFormatter.js</span>
<a href="#l8.2"></a><span id="l8.2">rename to calendar/base/src/CalDateTimeFormatter.jsm</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineminus">--- a/calendar/base/src/calDateTimeFormatter.js</span>
<a href="#l8.4"></a><span id="l8.4" class="difflineplus">+++ b/calendar/base/src/CalDateTimeFormatter.jsm</span>
<a href="#l8.5"></a><span id="l8.5" class="difflineat">@@ -1,22 +1,24 @@</span>
<a href="#l8.6"></a><span id="l8.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.7"></a><span id="l8.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.8"></a><span id="l8.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.9"></a><span id="l8.9"> </span>
<a href="#l8.10"></a><span id="l8.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalDateTimeFormatter&quot;];</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineplus">+</span>
<a href="#l8.12"></a><span id="l8.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l8.13"></a><span id="l8.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l8.14"></a><span id="l8.14"> </span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-function calDateTimeFormatter() {</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+function CalDateTimeFormatter() {</span>
<a href="#l8.17"></a><span id="l8.17">   this.wrappedJSObject = this;</span>
<a href="#l8.18"></a><span id="l8.18">   this.mDateStringBundle = Services.strings.createBundle(</span>
<a href="#l8.19"></a><span id="l8.19">     &quot;chrome://calendar/locale/dateFormat.properties&quot;</span>
<a href="#l8.20"></a><span id="l8.20">   );</span>
<a href="#l8.21"></a><span id="l8.21"> }</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineminus">-calDateTimeFormatter.prototype = {</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineplus">+CalDateTimeFormatter.prototype = {</span>
<a href="#l8.24"></a><span id="l8.24">   QueryInterface: ChromeUtils.generateQI([Ci.calIDateTimeFormatter]),</span>
<a href="#l8.25"></a><span id="l8.25">   classID: Components.ID(&quot;{4123da9a-f047-42da-a7d0-cc4175b9f36a}&quot;),</span>
<a href="#l8.26"></a><span id="l8.26"> </span>
<a href="#l8.27"></a><span id="l8.27">   formatDate(aDate) {</span>
<a href="#l8.28"></a><span id="l8.28">     // Format the date using user's format preference (long or short)</span>
<a href="#l8.29"></a><span id="l8.29">     let format = Services.prefs.getIntPref(&quot;calendar.date.format&quot;, 0);</span>
<a href="#l8.30"></a><span id="l8.30">     return format == 0 ? this.formatDateLong(aDate) : this.formatDateShort(aDate);</span>
<a href="#l8.31"></a><span id="l8.31">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">rename from calendar/base/src/calDefaultACLManager.js</span>
<a href="#l9.2"></a><span id="l9.2">rename to calendar/base/src/CalDefaultACLManager.jsm</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineminus">--- a/calendar/base/src/calDefaultACLManager.js</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineplus">+++ b/calendar/base/src/CalDefaultACLManager.jsm</span>
<a href="#l9.5"></a><span id="l9.5" class="difflineat">@@ -1,21 +1,21 @@</span>
<a href="#l9.6"></a><span id="l9.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.7"></a><span id="l9.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.8"></a><span id="l9.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.9"></a><span id="l9.9"> </span>
<a href="#l9.10"></a><span id="l9.10" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalDefaultACLManager&quot;];</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+</span>
<a href="#l9.13"></a><span id="l9.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l9.14"></a><span id="l9.14"> </span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-/* calDefaultACLManager */</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineminus">-function calDefaultACLManager() {</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+function CalDefaultACLManager() {</span>
<a href="#l9.18"></a><span id="l9.18">   this.mCalendarEntries = {};</span>
<a href="#l9.19"></a><span id="l9.19"> }</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21" class="difflineminus">-calDefaultACLManager.prototype = {</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+CalDefaultACLManager.prototype = {</span>
<a href="#l9.23"></a><span id="l9.23">   QueryInterface: ChromeUtils.generateQI([Ci.calICalendarACLManager]),</span>
<a href="#l9.24"></a><span id="l9.24">   classID: Components.ID(&quot;{7463258c-6ef3-40a2-89a9-bb349596e927}&quot;),</span>
<a href="#l9.25"></a><span id="l9.25"> </span>
<a href="#l9.26"></a><span id="l9.26">   mCalendarEntries: null,</span>
<a href="#l9.27"></a><span id="l9.27"> </span>
<a href="#l9.28"></a><span id="l9.28">   /* calICalendarACLManager */</span>
<a href="#l9.29"></a><span id="l9.29">   _getCalendarEntryCached(aCalendar) {</span>
<a href="#l9.30"></a><span id="l9.30">     let calUri = aCalendar.uri.spec;</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineat">@@ -90,11 +90,8 @@ calDefaultItemACLEntry.prototype = {</span>
<a href="#l9.32"></a><span id="l9.32"> </span>
<a href="#l9.33"></a><span id="l9.33">   /* calIItemACLEntry */</span>
<a href="#l9.34"></a><span id="l9.34">   calendarEntry: null,</span>
<a href="#l9.35"></a><span id="l9.35">   userCanModify: true,</span>
<a href="#l9.36"></a><span id="l9.36">   userCanRespond: true,</span>
<a href="#l9.37"></a><span id="l9.37">   userCanViewAll: true,</span>
<a href="#l9.38"></a><span id="l9.38">   userCanViewDateAndTime: true,</span>
<a href="#l9.39"></a><span id="l9.39"> };</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineminus">-</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineminus">-/** Module Registration */</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calDefaultACLManager]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">rename from calendar/base/src/calDeletedItems.js</span>
<a href="#l10.2"></a><span id="l10.2">rename to calendar/base/src/CalDeletedItems.jsm</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineminus">--- a/calendar/base/src/calDeletedItems.js</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineplus">+++ b/calendar/base/src/CalDeletedItems.jsm</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineat">@@ -1,36 +1,38 @@</span>
<a href="#l10.6"></a><span id="l10.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.7"></a><span id="l10.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.8"></a><span id="l10.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalDeletedItems&quot;];</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+</span>
<a href="#l10.12"></a><span id="l10.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l10.13"></a><span id="l10.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l10.14"></a><span id="l10.14"> var { FileUtils } = ChromeUtils.import(&quot;resource://gre/modules/FileUtils.jsm&quot;);</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16"> /**</span>
<a href="#l10.17"></a><span id="l10.17">  * Handles remembering deleted items.</span>
<a href="#l10.18"></a><span id="l10.18">  *</span>
<a href="#l10.19"></a><span id="l10.19">  * This is (currently) not a real trashcan. Only ids and time deleted is stored.</span>
<a href="#l10.20"></a><span id="l10.20">  * Note also that the code doesn't strictly check the calendar of the item,</span>
<a href="#l10.21"></a><span id="l10.21">  * except when a calendar id is passed to getDeletedDate.</span>
<a href="#l10.22"></a><span id="l10.22">  */</span>
<a href="#l10.23"></a><span id="l10.23" class="difflineminus">-function calDeletedItems() {</span>
<a href="#l10.24"></a><span id="l10.24" class="difflineplus">+function CalDeletedItems() {</span>
<a href="#l10.25"></a><span id="l10.25">   this.wrappedJSObject = this;</span>
<a href="#l10.26"></a><span id="l10.26"> </span>
<a href="#l10.27"></a><span id="l10.27">   this.completedNotifier = {</span>
<a href="#l10.28"></a><span id="l10.28">     handleResult() {},</span>
<a href="#l10.29"></a><span id="l10.29">     handleError() {},</span>
<a href="#l10.30"></a><span id="l10.30">     handleCompletion() {},</span>
<a href="#l10.31"></a><span id="l10.31">   };</span>
<a href="#l10.32"></a><span id="l10.32"> }</span>
<a href="#l10.33"></a><span id="l10.33"> </span>
<a href="#l10.34"></a><span id="l10.34"> var calDeletedItemsClassID = Components.ID(&quot;{8e6799af-e7e9-4e6c-9a82-a2413e86d8c3}&quot;);</span>
<a href="#l10.35"></a><span id="l10.35"> var calDeletedItemsInterfaces = [Ci.calIDeletedItems, Ci.nsIObserver, Ci.calIObserver];</span>
<a href="#l10.36"></a><span id="l10.36" class="difflineminus">-calDeletedItems.prototype = {</span>
<a href="#l10.37"></a><span id="l10.37" class="difflineplus">+CalDeletedItems.prototype = {</span>
<a href="#l10.38"></a><span id="l10.38">   classID: calDeletedItemsClassID,</span>
<a href="#l10.39"></a><span id="l10.39">   QueryInterface: cal.generateQI(calDeletedItemsInterfaces),</span>
<a href="#l10.40"></a><span id="l10.40">   classInfo: cal.generateCI({</span>
<a href="#l10.41"></a><span id="l10.41">     classID: calDeletedItemsClassID,</span>
<a href="#l10.42"></a><span id="l10.42">     contractID: &quot;@mozilla.org/calendar/deleted-items-manager;1&quot;,</span>
<a href="#l10.43"></a><span id="l10.43">     classDescription: &quot;Database containing information about deleted items&quot;,</span>
<a href="#l10.44"></a><span id="l10.44">     interfaces: calDeletedItemsInterfaces,</span>
<a href="#l10.45"></a><span id="l10.45">     flags: Ci.nsIClassInfo.SINGLETON,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">rename from calendar/base/src/calEvent.js</span>
<a href="#l11.2"></a><span id="l11.2">rename to calendar/base/src/CalEvent.jsm</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineminus">--- a/calendar/base/src/calEvent.js</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineplus">+++ b/calendar/base/src/CalEvent.jsm</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineat">@@ -1,52 +1,54 @@</span>
<a href="#l11.6"></a><span id="l11.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.7"></a><span id="l11.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.8"></a><span id="l11.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10" class="difflineminus">-/* import-globals-from calItemModule.js */</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineplus">+/* import-globals-from calItemBase.js */</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalEvent&quot;];</span>
<a href="#l11.14"></a><span id="l11.14"> </span>
<a href="#l11.15"></a><span id="l11.15"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l11.17"></a><span id="l11.17"> </span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-//</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineminus">-// constructor</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineminus">-//</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-function calEvent() {</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+Services.scriptloader.loadSubScript(&quot;resource:///components/calItemBase.js&quot;);</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+function CalEvent() {</span>
<a href="#l11.25"></a><span id="l11.25">   this.initItemBase();</span>
<a href="#l11.26"></a><span id="l11.26"> </span>
<a href="#l11.27"></a><span id="l11.27">   this.eventPromotedProps = {</span>
<a href="#l11.28"></a><span id="l11.28">     DTSTART: true,</span>
<a href="#l11.29"></a><span id="l11.29">     DTEND: true,</span>
<a href="#l11.30"></a><span id="l11.30">     __proto__: this.itemBasePromotedProps,</span>
<a href="#l11.31"></a><span id="l11.31">   };</span>
<a href="#l11.32"></a><span id="l11.32"> }</span>
<a href="#l11.33"></a><span id="l11.33"> var calEventClassID = Components.ID(&quot;{974339d5-ab86-4491-aaaf-2b2ca177c12b}&quot;);</span>
<a href="#l11.34"></a><span id="l11.34"> var calEventInterfaces = [Ci.calIItemBase, Ci.calIEvent, Ci.calIInternalShallowCopy];</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineminus">-calEvent.prototype = {</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+CalEvent.prototype = {</span>
<a href="#l11.37"></a><span id="l11.37">   __proto__: calItemBase.prototype,</span>
<a href="#l11.38"></a><span id="l11.38"> </span>
<a href="#l11.39"></a><span id="l11.39">   classID: calEventClassID,</span>
<a href="#l11.40"></a><span id="l11.40">   QueryInterface: cal.generateQI(calEventInterfaces),</span>
<a href="#l11.41"></a><span id="l11.41">   classInfo: cal.generateCI({</span>
<a href="#l11.42"></a><span id="l11.42">     classID: calEventClassID,</span>
<a href="#l11.43"></a><span id="l11.43">     contractID: &quot;@mozilla.org/calendar/event;1&quot;,</span>
<a href="#l11.44"></a><span id="l11.44">     classDescription: &quot;Calendar Event&quot;,</span>
<a href="#l11.45"></a><span id="l11.45">     interfaces: calEventInterfaces,</span>
<a href="#l11.46"></a><span id="l11.46">   }),</span>
<a href="#l11.47"></a><span id="l11.47"> </span>
<a href="#l11.48"></a><span id="l11.48">   cloneShallow(aNewParent) {</span>
<a href="#l11.49"></a><span id="l11.49" class="difflineminus">-    let cloned = new calEvent();</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineplus">+    let cloned = new CalEvent();</span>
<a href="#l11.51"></a><span id="l11.51">     this.cloneItemBaseInto(cloned, aNewParent);</span>
<a href="#l11.52"></a><span id="l11.52">     return cloned;</span>
<a href="#l11.53"></a><span id="l11.53">   },</span>
<a href="#l11.54"></a><span id="l11.54"> </span>
<a href="#l11.55"></a><span id="l11.55">   createProxy(aRecurrenceId) {</span>
<a href="#l11.56"></a><span id="l11.56">     cal.ASSERT(!this.mIsProxy, &quot;Tried to create a proxy for an existing proxy!&quot;, true);</span>
<a href="#l11.57"></a><span id="l11.57"> </span>
<a href="#l11.58"></a><span id="l11.58" class="difflineminus">-    let proxy = new calEvent();</span>
<a href="#l11.59"></a><span id="l11.59" class="difflineplus">+    let proxy = new CalEvent();</span>
<a href="#l11.60"></a><span id="l11.60"> </span>
<a href="#l11.61"></a><span id="l11.61">     // override proxy's DTSTART/DTEND/RECURRENCE-ID</span>
<a href="#l11.62"></a><span id="l11.62">     // before master is set (and item might get immutable):</span>
<a href="#l11.63"></a><span id="l11.63">     let endDate = aRecurrenceId.clone();</span>
<a href="#l11.64"></a><span id="l11.64">     endDate.addDuration(this.duration);</span>
<a href="#l11.65"></a><span id="l11.65">     proxy.endDate = endDate;</span>
<a href="#l11.66"></a><span id="l11.66">     proxy.startDate = aRecurrenceId;</span>
<a href="#l11.67"></a><span id="l11.67"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1">rename from calendar/base/src/calFreeBusyService.js</span>
<a href="#l12.2"></a><span id="l12.2">rename to calendar/base/src/CalFreeBusyService.jsm</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineminus">--- a/calendar/base/src/calFreeBusyService.js</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineplus">+++ b/calendar/base/src/CalFreeBusyService.jsm</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineat">@@ -1,23 +1,25 @@</span>
<a href="#l12.6"></a><span id="l12.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.7"></a><span id="l12.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.8"></a><span id="l12.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalFreeBusyService&quot;];</span>
<a href="#l12.11"></a><span id="l12.11" class="difflineplus">+</span>
<a href="#l12.12"></a><span id="l12.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l12.13"></a><span id="l12.13"> </span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-function calFreeBusyListener(numOperations, finalListener) {</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+function CalFreeBusyListener(numOperations, finalListener) {</span>
<a href="#l12.16"></a><span id="l12.16">   this.mFinalListener = finalListener;</span>
<a href="#l12.17"></a><span id="l12.17">   this.mNumOperations = numOperations;</span>
<a href="#l12.18"></a><span id="l12.18"> </span>
<a href="#l12.19"></a><span id="l12.19">   this.opGroup = new cal.data.OperationGroup(() =&gt; {</span>
<a href="#l12.20"></a><span id="l12.20">     this.notifyResult(null);</span>
<a href="#l12.21"></a><span id="l12.21">   });</span>
<a href="#l12.22"></a><span id="l12.22"> }</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineminus">-calFreeBusyListener.prototype = {</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineplus">+CalFreeBusyListener.prototype = {</span>
<a href="#l12.25"></a><span id="l12.25">   QueryInterface: ChromeUtils.generateQI([Ci.calIGenericOperationListener]),</span>
<a href="#l12.26"></a><span id="l12.26"> </span>
<a href="#l12.27"></a><span id="l12.27">   mFinalListener: null,</span>
<a href="#l12.28"></a><span id="l12.28">   mNumOperations: 0,</span>
<a href="#l12.29"></a><span id="l12.29">   opGroup: null,</span>
<a href="#l12.30"></a><span id="l12.30"> </span>
<a href="#l12.31"></a><span id="l12.31">   notifyResult(result) {</span>
<a href="#l12.32"></a><span id="l12.32">     let listener = this.mFinalListener;</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineat">@@ -43,29 +45,29 @@ calFreeBusyListener.prototype = {</span>
<a href="#l12.34"></a><span id="l12.34">         this.notifyResult(aResult);</span>
<a href="#l12.35"></a><span id="l12.35">       } else {</span>
<a href="#l12.36"></a><span id="l12.36">         this.notifyResult([]);</span>
<a href="#l12.37"></a><span id="l12.37">       }</span>
<a href="#l12.38"></a><span id="l12.38">     }</span>
<a href="#l12.39"></a><span id="l12.39">   },</span>
<a href="#l12.40"></a><span id="l12.40"> };</span>
<a href="#l12.41"></a><span id="l12.41"> </span>
<a href="#l12.42"></a><span id="l12.42" class="difflineminus">-function calFreeBusyService() {</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineplus">+function CalFreeBusyService() {</span>
<a href="#l12.44"></a><span id="l12.44">   this.wrappedJSObject = this;</span>
<a href="#l12.45"></a><span id="l12.45">   this.mProviders = new Set();</span>
<a href="#l12.46"></a><span id="l12.46"> }</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineminus">-calFreeBusyService.prototype = {</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineplus">+CalFreeBusyService.prototype = {</span>
<a href="#l12.49"></a><span id="l12.49">   QueryInterface: ChromeUtils.generateQI([Ci.calIFreeBusyProvider, Ci.calIFreeBusyService]),</span>
<a href="#l12.50"></a><span id="l12.50">   classID: Components.ID(&quot;{29c56cd5-d36e-453a-acde-0083bd4fe6d3}&quot;),</span>
<a href="#l12.51"></a><span id="l12.51"> </span>
<a href="#l12.52"></a><span id="l12.52">   mProviders: null,</span>
<a href="#l12.53"></a><span id="l12.53"> </span>
<a href="#l12.54"></a><span id="l12.54">   // calIFreeBusyProvider:</span>
<a href="#l12.55"></a><span id="l12.55">   getFreeBusyIntervals(aCalId, aRangeStart, aRangeEnd, aBusyTypes, aListener) {</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineminus">-    let groupListener = new calFreeBusyListener(this.mProviders.size, aListener);</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineplus">+    let groupListener = new CalFreeBusyListener(this.mProviders.size, aListener);</span>
<a href="#l12.58"></a><span id="l12.58">     for (let provider of this.mProviders.values()) {</span>
<a href="#l12.59"></a><span id="l12.59">       let operation = provider.getFreeBusyIntervals(</span>
<a href="#l12.60"></a><span id="l12.60">         aCalId,</span>
<a href="#l12.61"></a><span id="l12.61">         aRangeStart,</span>
<a href="#l12.62"></a><span id="l12.62">         aRangeEnd,</span>
<a href="#l12.63"></a><span id="l12.63">         aBusyTypes,</span>
<a href="#l12.64"></a><span id="l12.64">         groupListener</span>
<a href="#l12.65"></a><span id="l12.65">       );</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1">rename from calendar/base/src/calIcsParser.js</span>
<a href="#l13.2"></a><span id="l13.2">rename to calendar/base/src/CalIcsParser.jsm</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineminus">--- a/calendar/base/src/calIcsParser.js</span>
<a href="#l13.4"></a><span id="l13.4" class="difflineplus">+++ b/calendar/base/src/CalIcsParser.jsm</span>
<a href="#l13.5"></a><span id="l13.5" class="difflineat">@@ -1,24 +1,26 @@</span>
<a href="#l13.6"></a><span id="l13.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.7"></a><span id="l13.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.8"></a><span id="l13.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l13.9"></a><span id="l13.9"> </span>
<a href="#l13.10"></a><span id="l13.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalIcsParser&quot;];</span>
<a href="#l13.11"></a><span id="l13.11" class="difflineplus">+</span>
<a href="#l13.12"></a><span id="l13.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l13.13"></a><span id="l13.13"> var { NetUtil } = ChromeUtils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l13.14"></a><span id="l13.14"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l13.15"></a><span id="l13.15"> </span>
<a href="#l13.16"></a><span id="l13.16" class="difflineminus">-function calIcsParser() {</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineplus">+function CalIcsParser() {</span>
<a href="#l13.18"></a><span id="l13.18">   this.wrappedJSObject = this;</span>
<a href="#l13.19"></a><span id="l13.19">   this.mItems = [];</span>
<a href="#l13.20"></a><span id="l13.20">   this.mParentlessItems = [];</span>
<a href="#l13.21"></a><span id="l13.21">   this.mComponents = [];</span>
<a href="#l13.22"></a><span id="l13.22">   this.mProperties = [];</span>
<a href="#l13.23"></a><span id="l13.23"> }</span>
<a href="#l13.24"></a><span id="l13.24" class="difflineminus">-calIcsParser.prototype = {</span>
<a href="#l13.25"></a><span id="l13.25" class="difflineplus">+CalIcsParser.prototype = {</span>
<a href="#l13.26"></a><span id="l13.26">   QueryInterface: ChromeUtils.generateQI([Ci.calIIcsParser]),</span>
<a href="#l13.27"></a><span id="l13.27">   classID: Components.ID(&quot;{6fe88047-75b6-4874-80e8-5f5800f14984}&quot;),</span>
<a href="#l13.28"></a><span id="l13.28"> </span>
<a href="#l13.29"></a><span id="l13.29">   processIcalComponent(rootComp, aAsyncParsing) {</span>
<a href="#l13.30"></a><span id="l13.30">     let calComp;</span>
<a href="#l13.31"></a><span id="l13.31">     // libical returns the vcalendar component if there is just one vcalendar.</span>
<a href="#l13.32"></a><span id="l13.32">     // If there are multiple vcalendars, it returns an xroot component, with</span>
<a href="#l13.33"></a><span id="l13.33">     // vcalendar children. We need to handle both cases.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">rename from calendar/base/src/calIcsSerializer.js</span>
<a href="#l14.2"></a><span id="l14.2">rename to calendar/base/src/CalIcsSerializer.jsm</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineminus">--- a/calendar/base/src/calIcsSerializer.js</span>
<a href="#l14.4"></a><span id="l14.4" class="difflineplus">+++ b/calendar/base/src/CalIcsSerializer.jsm</span>
<a href="#l14.5"></a><span id="l14.5" class="difflineat">@@ -1,21 +1,23 @@</span>
<a href="#l14.6"></a><span id="l14.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.7"></a><span id="l14.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.8"></a><span id="l14.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalIcsSerializer&quot;];</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineplus">+</span>
<a href="#l14.12"></a><span id="l14.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l14.13"></a><span id="l14.13"> </span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-function calIcsSerializer() {</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+function CalIcsSerializer() {</span>
<a href="#l14.16"></a><span id="l14.16">   this.wrappedJSObject = this;</span>
<a href="#l14.17"></a><span id="l14.17">   this.mItems = [];</span>
<a href="#l14.18"></a><span id="l14.18">   this.mProperties = [];</span>
<a href="#l14.19"></a><span id="l14.19">   this.mComponents = [];</span>
<a href="#l14.20"></a><span id="l14.20"> }</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineminus">-calIcsSerializer.prototype = {</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineplus">+CalIcsSerializer.prototype = {</span>
<a href="#l14.23"></a><span id="l14.23">   QueryInterface: ChromeUtils.generateQI([Ci.calIIcsSerializer]),</span>
<a href="#l14.24"></a><span id="l14.24">   classID: Components.ID(&quot;{207a6682-8ff1-4203-9160-729ec28c8766}&quot;),</span>
<a href="#l14.25"></a><span id="l14.25"> </span>
<a href="#l14.26"></a><span id="l14.26">   addItems(aItems) {</span>
<a href="#l14.27"></a><span id="l14.27">     if (aItems.length &gt; 0) {</span>
<a href="#l14.28"></a><span id="l14.28">       this.mItems = this.mItems.concat(aItems);</span>
<a href="#l14.29"></a><span id="l14.29">     }</span>
<a href="#l14.30"></a><span id="l14.30">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1">rename from calendar/base/src/calItipItem.js</span>
<a href="#l15.2"></a><span id="l15.2">rename to calendar/base/src/CalItipItem.jsm</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineminus">--- a/calendar/base/src/calItipItem.js</span>
<a href="#l15.4"></a><span id="l15.4" class="difflineplus">+++ b/calendar/base/src/CalItipItem.jsm</span>
<a href="#l15.5"></a><span id="l15.5" class="difflineat">@@ -1,22 +1,21 @@</span>
<a href="#l15.6"></a><span id="l15.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.7"></a><span id="l15.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.8"></a><span id="l15.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l15.9"></a><span id="l15.9"> </span>
<a href="#l15.10"></a><span id="l15.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalItipItem&quot;];</span>
<a href="#l15.11"></a><span id="l15.11" class="difflineplus">+</span>
<a href="#l15.12"></a><span id="l15.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l15.13"></a><span id="l15.13"> </span>
<a href="#l15.14"></a><span id="l15.14" class="difflineminus">-/**</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">- * Constructor of calItipItem object</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineminus">- */</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-function calItipItem() {</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineplus">+function CalItipItem() {</span>
<a href="#l15.19"></a><span id="l15.19">   this.wrappedJSObject = this;</span>
<a href="#l15.20"></a><span id="l15.20">   this.mCurrentItemIndex = 0;</span>
<a href="#l15.21"></a><span id="l15.21"> }</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineminus">-calItipItem.prototype = {</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineplus">+CalItipItem.prototype = {</span>
<a href="#l15.24"></a><span id="l15.24">   QueryInterface: ChromeUtils.generateQI([Ci.calIItipItem]),</span>
<a href="#l15.25"></a><span id="l15.25">   classID: Components.ID(&quot;{f41392ab-dcad-4bad-818f-b3d1631c4d93}&quot;),</span>
<a href="#l15.26"></a><span id="l15.26"> </span>
<a href="#l15.27"></a><span id="l15.27">   mIsInitialized: false,</span>
<a href="#l15.28"></a><span id="l15.28"> </span>
<a href="#l15.29"></a><span id="l15.29">   mSender: null,</span>
<a href="#l15.30"></a><span id="l15.30">   get sender() {</span>
<a href="#l15.31"></a><span id="l15.31">     return this.mSender;</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineat">@@ -158,17 +157,17 @@ calItipItem.prototype = {</span>
<a href="#l15.33"></a><span id="l15.33">         break;</span>
<a href="#l15.34"></a><span id="l15.34">       }</span>
<a href="#l15.35"></a><span id="l15.35">     }</span>
<a href="#l15.36"></a><span id="l15.36"> </span>
<a href="#l15.37"></a><span id="l15.37">     this.mIsInitialized = true;</span>
<a href="#l15.38"></a><span id="l15.38">   },</span>
<a href="#l15.39"></a><span id="l15.39"> </span>
<a href="#l15.40"></a><span id="l15.40">   clone() {</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineminus">-    let newItem = new calItipItem();</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineplus">+    let newItem = new CalItipItem();</span>
<a href="#l15.43"></a><span id="l15.43">     newItem.mItemList = this.mItemList.map(item =&gt; item.clone());</span>
<a href="#l15.44"></a><span id="l15.44">     newItem.mReceivedMethod = this.mReceivedMethod;</span>
<a href="#l15.45"></a><span id="l15.45">     newItem.mResponseMethod = this.mResponseMethod;</span>
<a href="#l15.46"></a><span id="l15.46">     newItem.mAutoResponse = this.mAutoResponse;</span>
<a href="#l15.47"></a><span id="l15.47">     newItem.mTargetCalendar = this.mTargetCalendar;</span>
<a href="#l15.48"></a><span id="l15.48">     newItem.mIdentity = this.mIdentity;</span>
<a href="#l15.49"></a><span id="l15.49">     newItem.mLocalStatus = this.mLocalStatus;</span>
<a href="#l15.50"></a><span id="l15.50">     newItem.mSender = this.mSender;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1">rename from calendar/base/src/calProtocolHandler.js</span>
<a href="#l16.2"></a><span id="l16.2">rename to calendar/base/src/CalProtocolHandler.jsm</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineminus">--- a/calendar/base/src/calProtocolHandler.js</span>
<a href="#l16.4"></a><span id="l16.4" class="difflineplus">+++ b/calendar/base/src/CalProtocolHandler.jsm</span>
<a href="#l16.5"></a><span id="l16.5" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l16.6"></a><span id="l16.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.7"></a><span id="l16.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.8"></a><span id="l16.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.9"></a><span id="l16.9"> </span>
<a href="#l16.10"></a><span id="l16.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalProtocolHandlerWebcal&quot;, &quot;CalProtocolHandlerWebcals&quot;];</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineplus">+</span>
<a href="#l16.12"></a><span id="l16.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l16.13"></a><span id="l16.13"> </span>
<a href="#l16.14"></a><span id="l16.14"> /**</span>
<a href="#l16.15"></a><span id="l16.15">  * Generic webcal constructor</span>
<a href="#l16.16"></a><span id="l16.16">  *</span>
<a href="#l16.17"></a><span id="l16.17">  * @param scheme        The scheme to init for (webcal, webcals)</span>
<a href="#l16.18"></a><span id="l16.18">  */</span>
<a href="#l16.19"></a><span id="l16.19"> function calProtocolHandler(scheme) {</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineat">@@ -62,28 +64,28 @@ calProtocolHandler.prototype = {</span>
<a href="#l16.21"></a><span id="l16.21"> </span>
<a href="#l16.22"></a><span id="l16.22">   // We are not overriding any special ports</span>
<a href="#l16.23"></a><span id="l16.23">   allowPort(aPort, aScheme) {</span>
<a href="#l16.24"></a><span id="l16.24">     return false;</span>
<a href="#l16.25"></a><span id="l16.25">   },</span>
<a href="#l16.26"></a><span id="l16.26"> };</span>
<a href="#l16.27"></a><span id="l16.27"> </span>
<a href="#l16.28"></a><span id="l16.28"> /** Constructor for webcal: protocol handler */</span>
<a href="#l16.29"></a><span id="l16.29" class="difflineminus">-function calProtocolHandlerWebcal() {</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineplus">+function CalProtocolHandlerWebcal() {</span>
<a href="#l16.31"></a><span id="l16.31">   calProtocolHandler.call(this, &quot;webcal&quot;);</span>
<a href="#l16.32"></a><span id="l16.32"> }</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineminus">-calProtocolHandlerWebcal.prototype = {</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineplus">+CalProtocolHandlerWebcal.prototype = {</span>
<a href="#l16.35"></a><span id="l16.35">   __proto__: calProtocolHandler.prototype,</span>
<a href="#l16.36"></a><span id="l16.36"> </span>
<a href="#l16.37"></a><span id="l16.37">   QueryInterface: ChromeUtils.generateQI([Ci.nsIProtocolHandler]),</span>
<a href="#l16.38"></a><span id="l16.38">   classID: Components.ID(&quot;{1153c73a-39be-46aa-9ba9-656d188865ca}&quot;),</span>
<a href="#l16.39"></a><span id="l16.39"> };</span>
<a href="#l16.40"></a><span id="l16.40"> </span>
<a href="#l16.41"></a><span id="l16.41"> /** Constructor for webcals: protocol handler */</span>
<a href="#l16.42"></a><span id="l16.42" class="difflineminus">-function calProtocolHandlerWebcals() {</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineplus">+function CalProtocolHandlerWebcals() {</span>
<a href="#l16.44"></a><span id="l16.44">   calProtocolHandler.call(this, &quot;webcals&quot;);</span>
<a href="#l16.45"></a><span id="l16.45"> }</span>
<a href="#l16.46"></a><span id="l16.46" class="difflineminus">-calProtocolHandlerWebcals.prototype = {</span>
<a href="#l16.47"></a><span id="l16.47" class="difflineplus">+CalProtocolHandlerWebcals.prototype = {</span>
<a href="#l16.48"></a><span id="l16.48">   __proto__: calProtocolHandler.prototype,</span>
<a href="#l16.49"></a><span id="l16.49"> </span>
<a href="#l16.50"></a><span id="l16.50">   QueryInterface: ChromeUtils.generateQI([Ci.nsIProtocolHandler]),</span>
<a href="#l16.51"></a><span id="l16.51">   classID: Components.ID(&quot;{bdf71224-365d-4493-856a-a7e74026f766}&quot;),</span>
<a href="#l16.52"></a><span id="l16.52"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">rename from calendar/base/src/calRecurrenceDate.js</span>
<a href="#l17.2"></a><span id="l17.2">rename to calendar/base/src/CalRecurrenceDate.jsm</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineminus">--- a/calendar/base/src/calRecurrenceDate.js</span>
<a href="#l17.4"></a><span id="l17.4" class="difflineplus">+++ b/calendar/base/src/CalRecurrenceDate.jsm</span>
<a href="#l17.5"></a><span id="l17.5" class="difflineat">@@ -1,21 +1,23 @@</span>
<a href="#l17.6"></a><span id="l17.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.7"></a><span id="l17.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.8"></a><span id="l17.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.9"></a><span id="l17.9"> </span>
<a href="#l17.10"></a><span id="l17.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalRecurrenceDate&quot;];</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineplus">+</span>
<a href="#l17.12"></a><span id="l17.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l17.13"></a><span id="l17.13"> </span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-function calRecurrenceDate() {</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+function CalRecurrenceDate() {</span>
<a href="#l17.16"></a><span id="l17.16">   this.wrappedJSObject = this;</span>
<a href="#l17.17"></a><span id="l17.17"> }</span>
<a href="#l17.18"></a><span id="l17.18"> </span>
<a href="#l17.19"></a><span id="l17.19"> var calRecurrenceDateClassID = Components.ID(&quot;{806b6423-3aaa-4b26-afa3-de60563e9cec}&quot;);</span>
<a href="#l17.20"></a><span id="l17.20"> var calRecurrenceDateInterfaces = [Ci.calIRecurrenceItem, Ci.calIRecurrenceDate];</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineminus">-calRecurrenceDate.prototype = {</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineplus">+CalRecurrenceDate.prototype = {</span>
<a href="#l17.23"></a><span id="l17.23">   isMutable: true,</span>
<a href="#l17.24"></a><span id="l17.24"> </span>
<a href="#l17.25"></a><span id="l17.25">   mIsNegative: false,</span>
<a href="#l17.26"></a><span id="l17.26">   mDate: null,</span>
<a href="#l17.27"></a><span id="l17.27"> </span>
<a href="#l17.28"></a><span id="l17.28">   classID: calRecurrenceDateClassID,</span>
<a href="#l17.29"></a><span id="l17.29">   QueryInterface: cal.generateQI(calRecurrenceDateInterfaces),</span>
<a href="#l17.30"></a><span id="l17.30">   classInfo: cal.generateCI({</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineat">@@ -31,17 +33,17 @@ calRecurrenceDate.prototype = {</span>
<a href="#l17.32"></a><span id="l17.32"> </span>
<a href="#l17.33"></a><span id="l17.33">   ensureMutable() {</span>
<a href="#l17.34"></a><span id="l17.34">     if (!this.isMutable) {</span>
<a href="#l17.35"></a><span id="l17.35">       throw Cr.NS_ERROR_OBJECT_IS_IMMUTABLE;</span>
<a href="#l17.36"></a><span id="l17.36">     }</span>
<a href="#l17.37"></a><span id="l17.37">   },</span>
<a href="#l17.38"></a><span id="l17.38"> </span>
<a href="#l17.39"></a><span id="l17.39">   clone() {</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineminus">-    let other = new calRecurrenceDate();</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineplus">+    let other = new CalRecurrenceDate();</span>
<a href="#l17.42"></a><span id="l17.42">     other.mDate = this.mDate ? this.mDate.clone() : null;</span>
<a href="#l17.43"></a><span id="l17.43">     other.mIsNegative = this.mIsNegative;</span>
<a href="#l17.44"></a><span id="l17.44">     return other;</span>
<a href="#l17.45"></a><span id="l17.45">   },</span>
<a href="#l17.46"></a><span id="l17.46"> </span>
<a href="#l17.47"></a><span id="l17.47">   get isNegative() {</span>
<a href="#l17.48"></a><span id="l17.48">     return this.mIsNegative;</span>
<a href="#l17.49"></a><span id="l17.49">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1">rename from calendar/base/src/calRecurrenceInfo.js</span>
<a href="#l18.2"></a><span id="l18.2">rename to calendar/base/src/CalRecurrenceInfo.jsm</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineminus">--- a/calendar/base/src/calRecurrenceInfo.js</span>
<a href="#l18.4"></a><span id="l18.4" class="difflineplus">+++ b/calendar/base/src/CalRecurrenceInfo.jsm</span>
<a href="#l18.5"></a><span id="l18.5" class="difflineat">@@ -1,32 +1,34 @@</span>
<a href="#l18.6"></a><span id="l18.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l18.7"></a><span id="l18.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l18.8"></a><span id="l18.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l18.9"></a><span id="l18.9"> </span>
<a href="#l18.10"></a><span id="l18.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalRecurrenceInfo&quot;];</span>
<a href="#l18.11"></a><span id="l18.11" class="difflineplus">+</span>
<a href="#l18.12"></a><span id="l18.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l18.13"></a><span id="l18.13"> </span>
<a href="#l18.14"></a><span id="l18.14"> function getRidKey(date) {</span>
<a href="#l18.15"></a><span id="l18.15">   if (!date) {</span>
<a href="#l18.16"></a><span id="l18.16">     return null;</span>
<a href="#l18.17"></a><span id="l18.17">   }</span>
<a href="#l18.18"></a><span id="l18.18">   let timezone = date.timezone;</span>
<a href="#l18.19"></a><span id="l18.19">   if (!timezone.isUTC &amp;&amp; !timezone.isFloating) {</span>
<a href="#l18.20"></a><span id="l18.20">     date = date.getInTimezone(cal.dtz.UTC);</span>
<a href="#l18.21"></a><span id="l18.21">   }</span>
<a href="#l18.22"></a><span id="l18.22">   return date.icalString;</span>
<a href="#l18.23"></a><span id="l18.23"> }</span>
<a href="#l18.24"></a><span id="l18.24"> </span>
<a href="#l18.25"></a><span id="l18.25" class="difflineminus">-function calRecurrenceInfo() {</span>
<a href="#l18.26"></a><span id="l18.26" class="difflineplus">+function CalRecurrenceInfo() {</span>
<a href="#l18.27"></a><span id="l18.27">   this.wrappedJSObject = this;</span>
<a href="#l18.28"></a><span id="l18.28">   this.mRecurrenceItems = [];</span>
<a href="#l18.29"></a><span id="l18.29">   this.mExceptionMap = {};</span>
<a href="#l18.30"></a><span id="l18.30"> }</span>
<a href="#l18.31"></a><span id="l18.31"> </span>
<a href="#l18.32"></a><span id="l18.32" class="difflineminus">-calRecurrenceInfo.prototype = {</span>
<a href="#l18.33"></a><span id="l18.33" class="difflineplus">+CalRecurrenceInfo.prototype = {</span>
<a href="#l18.34"></a><span id="l18.34">   QueryInterface: ChromeUtils.generateQI([Ci.calIRecurrenceInfo]),</span>
<a href="#l18.35"></a><span id="l18.35">   classID: Components.ID(&quot;{04027036-5884-4a30-b4af-f2cad79f6edf}&quot;),</span>
<a href="#l18.36"></a><span id="l18.36"> </span>
<a href="#l18.37"></a><span id="l18.37">   mImmutable: false,</span>
<a href="#l18.38"></a><span id="l18.38">   mBaseItem: null,</span>
<a href="#l18.39"></a><span id="l18.39">   mEndDate: null,</span>
<a href="#l18.40"></a><span id="l18.40">   mRecurrenceItems: null,</span>
<a href="#l18.41"></a><span id="l18.41">   mPositiveRules: null,</span>
<a href="#l18.42"></a><span id="l18.42" class="difflineat">@@ -83,17 +85,17 @@ calRecurrenceInfo.prototype = {</span>
<a href="#l18.43"></a><span id="l18.43">         item.makeImmutable();</span>
<a href="#l18.44"></a><span id="l18.44">       }</span>
<a href="#l18.45"></a><span id="l18.45">     }</span>
<a href="#l18.46"></a><span id="l18.46"> </span>
<a href="#l18.47"></a><span id="l18.47">     this.mImmutable = true;</span>
<a href="#l18.48"></a><span id="l18.48">   },</span>
<a href="#l18.49"></a><span id="l18.49"> </span>
<a href="#l18.50"></a><span id="l18.50">   clone() {</span>
<a href="#l18.51"></a><span id="l18.51" class="difflineminus">-    let cloned = new calRecurrenceInfo();</span>
<a href="#l18.52"></a><span id="l18.52" class="difflineplus">+    let cloned = new CalRecurrenceInfo();</span>
<a href="#l18.53"></a><span id="l18.53">     cloned.mBaseItem = this.mBaseItem;</span>
<a href="#l18.54"></a><span id="l18.54"> </span>
<a href="#l18.55"></a><span id="l18.55">     let clonedItems = [];</span>
<a href="#l18.56"></a><span id="l18.56">     for (let ritem of this.mRecurrenceItems) {</span>
<a href="#l18.57"></a><span id="l18.57">       clonedItems.push(ritem.clone());</span>
<a href="#l18.58"></a><span id="l18.58">     }</span>
<a href="#l18.59"></a><span id="l18.59">     cloned.mRecurrenceItems = clonedItems;</span>
<a href="#l18.60"></a><span id="l18.60"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1">rename from calendar/base/src/calRelation.js</span>
<a href="#l19.2"></a><span id="l19.2">rename to calendar/base/src/CalRelation.jsm</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineminus">--- a/calendar/base/src/calRelation.js</span>
<a href="#l19.4"></a><span id="l19.4" class="difflineplus">+++ b/calendar/base/src/CalRelation.jsm</span>
<a href="#l19.5"></a><span id="l19.5" class="difflineat">@@ -1,25 +1,27 @@</span>
<a href="#l19.6"></a><span id="l19.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.7"></a><span id="l19.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.8"></a><span id="l19.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.9"></a><span id="l19.9"> </span>
<a href="#l19.10"></a><span id="l19.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalRelation&quot;];</span>
<a href="#l19.11"></a><span id="l19.11" class="difflineplus">+</span>
<a href="#l19.12"></a><span id="l19.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l19.13"></a><span id="l19.13"> </span>
<a href="#l19.14"></a><span id="l19.14"> /**</span>
<a href="#l19.15"></a><span id="l19.15">  * calRelation prototype definition</span>
<a href="#l19.16"></a><span id="l19.16">  *</span>
<a href="#l19.17"></a><span id="l19.17">  * @implements calIRelation</span>
<a href="#l19.18"></a><span id="l19.18">  * @constructor</span>
<a href="#l19.19"></a><span id="l19.19">  */</span>
<a href="#l19.20"></a><span id="l19.20" class="difflineminus">-function calRelation() {</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineplus">+function CalRelation() {</span>
<a href="#l19.22"></a><span id="l19.22">   this.wrappedJSObject = this;</span>
<a href="#l19.23"></a><span id="l19.23">   this.mProperties = new Map();</span>
<a href="#l19.24"></a><span id="l19.24"> }</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineminus">-calRelation.prototype = {</span>
<a href="#l19.26"></a><span id="l19.26" class="difflineplus">+CalRelation.prototype = {</span>
<a href="#l19.27"></a><span id="l19.27">   QueryInterface: ChromeUtils.generateQI([Ci.calIRelation]),</span>
<a href="#l19.28"></a><span id="l19.28">   classID: Components.ID(&quot;{76810fae-abad-4019-917a-08e95d5bbd68}&quot;),</span>
<a href="#l19.29"></a><span id="l19.29"> </span>
<a href="#l19.30"></a><span id="l19.30">   mType: null,</span>
<a href="#l19.31"></a><span id="l19.31">   mId: null,</span>
<a href="#l19.32"></a><span id="l19.32"> </span>
<a href="#l19.33"></a><span id="l19.33">   /**</span>
<a href="#l19.34"></a><span id="l19.34">    * @see calIRelation</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineat">@@ -105,17 +107,17 @@ calRelation.prototype = {</span>
<a href="#l19.36"></a><span id="l19.36">     return this.mProperties.set(aName, aValue);</span>
<a href="#l19.37"></a><span id="l19.37">   },</span>
<a href="#l19.38"></a><span id="l19.38"> </span>
<a href="#l19.39"></a><span id="l19.39">   deleteParameter(aName) {</span>
<a href="#l19.40"></a><span id="l19.40">     return this.mProperties.delete(aName);</span>
<a href="#l19.41"></a><span id="l19.41">   },</span>
<a href="#l19.42"></a><span id="l19.42"> </span>
<a href="#l19.43"></a><span id="l19.43">   clone() {</span>
<a href="#l19.44"></a><span id="l19.44" class="difflineminus">-    let newRelation = new calRelation();</span>
<a href="#l19.45"></a><span id="l19.45" class="difflineplus">+    let newRelation = new CalRelation();</span>
<a href="#l19.46"></a><span id="l19.46">     newRelation.mId = this.mId;</span>
<a href="#l19.47"></a><span id="l19.47">     newRelation.mType = this.mType;</span>
<a href="#l19.48"></a><span id="l19.48">     for (let [name, value] of this.mProperties.entries()) {</span>
<a href="#l19.49"></a><span id="l19.49">       newRelation.mProperties.set(name, value);</span>
<a href="#l19.50"></a><span id="l19.50">     }</span>
<a href="#l19.51"></a><span id="l19.51">     return newRelation;</span>
<a href="#l19.52"></a><span id="l19.52">   },</span>
<a href="#l19.53"></a><span id="l19.53"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">rename from calendar/base/src/calSleepMonitor.js</span>
<a href="#l20.2"></a><span id="l20.2">rename to calendar/base/src/CalSleepMonitor.jsm</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineminus">--- a/calendar/base/src/calSleepMonitor.js</span>
<a href="#l20.4"></a><span id="l20.4" class="difflineplus">+++ b/calendar/base/src/CalSleepMonitor.jsm</span>
<a href="#l20.5"></a><span id="l20.5" class="difflineat">@@ -1,33 +1,34 @@</span>
<a href="#l20.6"></a><span id="l20.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.7"></a><span id="l20.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.8"></a><span id="l20.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalSleepMonitor&quot;];</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineplus">+</span>
<a href="#l20.12"></a><span id="l20.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l20.13"></a><span id="l20.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l20.15"></a><span id="l20.15"> </span>
<a href="#l20.16"></a><span id="l20.16" class="difflineminus">-function calSleepMonitor() {</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineplus">+function CalSleepMonitor() {</span>
<a href="#l20.18"></a><span id="l20.18">   this.wrappedJSObject = this;</span>
<a href="#l20.19"></a><span id="l20.19"> }</span>
<a href="#l20.20"></a><span id="l20.20"> </span>
<a href="#l20.21"></a><span id="l20.21" class="difflineminus">-calSleepMonitor.prototype = {</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineplus">+CalSleepMonitor.prototype = {</span>
<a href="#l20.23"></a><span id="l20.23">   QueryInterface: ChromeUtils.generateQI([Ci.nsIObserver]),</span>
<a href="#l20.24"></a><span id="l20.24">   classID: Components.ID(&quot;9b987a8d-c2ef-4cb9-9602-1261b4b2f6fa&quot;),</span>
<a href="#l20.25"></a><span id="l20.25"> </span>
<a href="#l20.26"></a><span id="l20.26">   interval: 60000,</span>
<a href="#l20.27"></a><span id="l20.27">   timer: null,</span>
<a href="#l20.28"></a><span id="l20.28">   expected: null,</span>
<a href="#l20.29"></a><span id="l20.29">   tolerance: 1000,</span>
<a href="#l20.30"></a><span id="l20.30"> </span>
<a href="#l20.31"></a><span id="l20.31">   callback() {</span>
<a href="#l20.32"></a><span id="l20.32">     let now = Date.now();</span>
<a href="#l20.33"></a><span id="l20.33">     if (now - this.expected &gt; this.tolerance) {</span>
<a href="#l20.34"></a><span id="l20.34" class="difflineminus">-      cal.LOG(&quot;[calSleepMonitor] Sleep cycle detected, notifying observers.&quot;);</span>
<a href="#l20.35"></a><span id="l20.35" class="difflineplus">+      cal.LOG(&quot;[CalSleepMonitor] Sleep cycle detected, notifying observers.&quot;);</span>
<a href="#l20.36"></a><span id="l20.36">       Services.obs.notifyObservers(null, &quot;wake_notification&quot;);</span>
<a href="#l20.37"></a><span id="l20.37">     }</span>
<a href="#l20.38"></a><span id="l20.38">     this.expected = now + this.interval;</span>
<a href="#l20.39"></a><span id="l20.39">   },</span>
<a href="#l20.40"></a><span id="l20.40">   start() {</span>
<a href="#l20.41"></a><span id="l20.41">     this.stop();</span>
<a href="#l20.42"></a><span id="l20.42">     this.expected = Date.now() + this.interval;</span>
<a href="#l20.43"></a><span id="l20.43">     this.timer = Cc[&quot;@mozilla.org/timer;1&quot;].createInstance(Ci.nsITimer);</span>
<a href="#l20.44"></a><span id="l20.44" class="difflineat">@@ -41,26 +42,24 @@ calSleepMonitor.prototype = {</span>
<a href="#l20.45"></a><span id="l20.45">     if (this.timer) {</span>
<a href="#l20.46"></a><span id="l20.46">       this.timer.cancel();</span>
<a href="#l20.47"></a><span id="l20.47">       this.timer = null;</span>
<a href="#l20.48"></a><span id="l20.48">     }</span>
<a href="#l20.49"></a><span id="l20.49">   },</span>
<a href="#l20.50"></a><span id="l20.50"> </span>
<a href="#l20.51"></a><span id="l20.51">   // nsIObserver:</span>
<a href="#l20.52"></a><span id="l20.52">   observe(aSubject, aTopic, aData) {</span>
<a href="#l20.53"></a><span id="l20.53" class="difflineminus">-    // calSleepMonitor is not used on Windows or OSX.</span>
<a href="#l20.54"></a><span id="l20.54" class="difflineplus">+    // CalSleepMonitor is not used on Windows or OSX.</span>
<a href="#l20.55"></a><span id="l20.55">     if (Services.appinfo.OS == &quot;WINNT&quot; || Services.appinfo.OS == &quot;Darwin&quot;) {</span>
<a href="#l20.56"></a><span id="l20.56">       return;</span>
<a href="#l20.57"></a><span id="l20.57">     }</span>
<a href="#l20.58"></a><span id="l20.58"> </span>
<a href="#l20.59"></a><span id="l20.59">     if (aTopic == &quot;profile-after-change&quot;) {</span>
<a href="#l20.60"></a><span id="l20.60" class="difflineminus">-      cal.LOG(&quot;[calSleepMonitor] Starting sleep monitor.&quot;);</span>
<a href="#l20.61"></a><span id="l20.61" class="difflineplus">+      cal.LOG(&quot;[CalSleepMonitor] Starting sleep monitor.&quot;);</span>
<a href="#l20.62"></a><span id="l20.62">       this.start();</span>
<a href="#l20.63"></a><span id="l20.63"> </span>
<a href="#l20.64"></a><span id="l20.64">       Services.obs.addObserver(this, &quot;quit-application&quot;);</span>
<a href="#l20.65"></a><span id="l20.65">     } else if (aTopic == &quot;quit-application&quot;) {</span>
<a href="#l20.66"></a><span id="l20.66" class="difflineminus">-      cal.LOG(&quot;[calSleepMonitor] Stopping sleep monitor.&quot;);</span>
<a href="#l20.67"></a><span id="l20.67" class="difflineplus">+      cal.LOG(&quot;[CalSleepMonitor] Stopping sleep monitor.&quot;);</span>
<a href="#l20.68"></a><span id="l20.68">       this.stop();</span>
<a href="#l20.69"></a><span id="l20.69">     }</span>
<a href="#l20.70"></a><span id="l20.70">   },</span>
<a href="#l20.71"></a><span id="l20.71"> };</span>
<a href="#l20.72"></a><span id="l20.72" class="difflineminus">-</span>
<a href="#l20.73"></a><span id="l20.73" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calSleepMonitor]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1">rename from calendar/base/src/calStartupService.js</span>
<a href="#l21.2"></a><span id="l21.2">rename to calendar/base/src/CalStartupService.jsm</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineminus">--- a/calendar/base/src/calStartupService.js</span>
<a href="#l21.4"></a><span id="l21.4" class="difflineplus">+++ b/calendar/base/src/CalStartupService.jsm</span>
<a href="#l21.5"></a><span id="l21.5" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l21.6"></a><span id="l21.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.7"></a><span id="l21.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.8"></a><span id="l21.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l21.9"></a><span id="l21.9"> </span>
<a href="#l21.10"></a><span id="l21.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalStartupService&quot;];</span>
<a href="#l21.11"></a><span id="l21.11" class="difflineplus">+</span>
<a href="#l21.12"></a><span id="l21.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l21.13"></a><span id="l21.13"> var { FileSource, L10nRegistry } = ChromeUtils.import(&quot;resource://gre/modules/L10nRegistry.jsm&quot;);</span>
<a href="#l21.14"></a><span id="l21.14"> </span>
<a href="#l21.15"></a><span id="l21.15"> /**</span>
<a href="#l21.16"></a><span id="l21.16">  * Helper function to asynchronously call a certain method on the objects passed</span>
<a href="#l21.17"></a><span id="l21.17">  * in 'services' in order (i.e wait until the first completes before calling the</span>
<a href="#l21.18"></a><span id="l21.18">  * second</span>
<a href="#l21.19"></a><span id="l21.19">  *</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineat">@@ -19,22 +21,22 @@ function callOrderedServices(method, ser</span>
<a href="#l21.21"></a><span id="l21.21">     service[method]({</span>
<a href="#l21.22"></a><span id="l21.22">       onResult() {</span>
<a href="#l21.23"></a><span id="l21.23">         callOrderedServices(method, services);</span>
<a href="#l21.24"></a><span id="l21.24">       },</span>
<a href="#l21.25"></a><span id="l21.25">     });</span>
<a href="#l21.26"></a><span id="l21.26">   }</span>
<a href="#l21.27"></a><span id="l21.27"> }</span>
<a href="#l21.28"></a><span id="l21.28"> </span>
<a href="#l21.29"></a><span id="l21.29" class="difflineminus">-function calStartupService() {</span>
<a href="#l21.30"></a><span id="l21.30" class="difflineplus">+function CalStartupService() {</span>
<a href="#l21.31"></a><span id="l21.31">   this.wrappedJSObject = this;</span>
<a href="#l21.32"></a><span id="l21.32">   this.setupObservers();</span>
<a href="#l21.33"></a><span id="l21.33"> }</span>
<a href="#l21.34"></a><span id="l21.34"> </span>
<a href="#l21.35"></a><span id="l21.35" class="difflineminus">-calStartupService.prototype = {</span>
<a href="#l21.36"></a><span id="l21.36" class="difflineplus">+CalStartupService.prototype = {</span>
<a href="#l21.37"></a><span id="l21.37">   QueryInterface: ChromeUtils.generateQI([Ci.nsIObserver]),</span>
<a href="#l21.38"></a><span id="l21.38">   classID: Components.ID(&quot;{2547331f-34c0-4a4b-b93c-b503538ba6d6}&quot;),</span>
<a href="#l21.39"></a><span id="l21.39"> </span>
<a href="#l21.40"></a><span id="l21.40">   // Startup Service Methods</span>
<a href="#l21.41"></a><span id="l21.41"> </span>
<a href="#l21.42"></a><span id="l21.42">   /**</span>
<a href="#l21.43"></a><span id="l21.43">    * Sets up the needed observers for noticing startup/shutdown</span>
<a href="#l21.44"></a><span id="l21.44">    */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1">rename from calendar/base/src/calTimezoneService.js</span>
<a href="#l22.2"></a><span id="l22.2">rename to calendar/base/src/CalTimezoneService.jsm</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineminus">--- a/calendar/base/src/calTimezoneService.js</span>
<a href="#l22.4"></a><span id="l22.4" class="difflineplus">+++ b/calendar/base/src/CalTimezoneService.jsm</span>
<a href="#l22.5"></a><span id="l22.5" class="difflineat">@@ -1,21 +1,24 @@</span>
<a href="#l22.6"></a><span id="l22.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l22.7"></a><span id="l22.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l22.8"></a><span id="l22.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l22.9"></a><span id="l22.9"> </span>
<a href="#l22.10"></a><span id="l22.10"> /* import-globals-from calTimezone.js */</span>
<a href="#l22.11"></a><span id="l22.11"> </span>
<a href="#l22.12"></a><span id="l22.12" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalTimezoneService&quot;];</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+</span>
<a href="#l22.14"></a><span id="l22.14"> var { NetUtil } = ChromeUtils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l22.15"></a><span id="l22.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l22.17"></a><span id="l22.17"> </span>
<a href="#l22.18"></a><span id="l22.18"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l22.19"></a><span id="l22.19"> var { ICAL, unwrapSingle } = ChromeUtils.import(&quot;resource:///modules/calendar/Ical.jsm&quot;);</span>
<a href="#l22.20"></a><span id="l22.20"> </span>
<a href="#l22.21"></a><span id="l22.21" class="difflineplus">+Services.scriptloader.loadSubScript(&quot;resource:///components/calTimezone.js&quot;);</span>
<a href="#l22.22"></a><span id="l22.22" class="difflineplus">+</span>
<a href="#l22.23"></a><span id="l22.23"> function calStringEnumerator(stringArray) {</span>
<a href="#l22.24"></a><span id="l22.24">   this.mIndex = 0;</span>
<a href="#l22.25"></a><span id="l22.25">   this.mStringArray = stringArray;</span>
<a href="#l22.26"></a><span id="l22.26"> }</span>
<a href="#l22.27"></a><span id="l22.27"> calStringEnumerator.prototype = {</span>
<a href="#l22.28"></a><span id="l22.28">   // nsIUTF8StringEnumerator:</span>
<a href="#l22.29"></a><span id="l22.29">   [Symbol.iterator]() {</span>
<a href="#l22.30"></a><span id="l22.30">     return this.mStringArray.values();</span>
<a href="#l22.31"></a><span id="l22.31" class="difflineat">@@ -26,30 +29,30 @@ calStringEnumerator.prototype = {</span>
<a href="#l22.32"></a><span id="l22.32">   getNext() {</span>
<a href="#l22.33"></a><span id="l22.33">     if (!this.hasMore()) {</span>
<a href="#l22.34"></a><span id="l22.34">       throw Cr.NS_ERROR_UNEXPECTED;</span>
<a href="#l22.35"></a><span id="l22.35">     }</span>
<a href="#l22.36"></a><span id="l22.36">     return this.mStringArray[this.mIndex++];</span>
<a href="#l22.37"></a><span id="l22.37">   },</span>
<a href="#l22.38"></a><span id="l22.38"> };</span>
<a href="#l22.39"></a><span id="l22.39"> </span>
<a href="#l22.40"></a><span id="l22.40" class="difflineminus">-function calTimezoneService() {</span>
<a href="#l22.41"></a><span id="l22.41" class="difflineplus">+function CalTimezoneService() {</span>
<a href="#l22.42"></a><span id="l22.42">   this.wrappedJSObject = this;</span>
<a href="#l22.43"></a><span id="l22.43"> </span>
<a href="#l22.44"></a><span id="l22.44">   this.mZones = new Map();</span>
<a href="#l22.45"></a><span id="l22.45"> </span>
<a href="#l22.46"></a><span id="l22.46">   ICAL.TimezoneService = this.wrappedJSObject;</span>
<a href="#l22.47"></a><span id="l22.47"> }</span>
<a href="#l22.48"></a><span id="l22.48"> var calTimezoneServiceClassID = Components.ID(&quot;{e736f2bd-7640-4715-ab35-887dc866c587}&quot;);</span>
<a href="#l22.49"></a><span id="l22.49"> var calTimezoneServiceInterfaces = [</span>
<a href="#l22.50"></a><span id="l22.50">   Ci.calITimezoneService,</span>
<a href="#l22.51"></a><span id="l22.51">   Ci.calITimezoneProvider,</span>
<a href="#l22.52"></a><span id="l22.52">   Ci.calIStartupService,</span>
<a href="#l22.53"></a><span id="l22.53"> ];</span>
<a href="#l22.54"></a><span id="l22.54" class="difflineminus">-calTimezoneService.prototype = {</span>
<a href="#l22.55"></a><span id="l22.55" class="difflineplus">+CalTimezoneService.prototype = {</span>
<a href="#l22.56"></a><span id="l22.56">   mDefaultTimezone: null,</span>
<a href="#l22.57"></a><span id="l22.57">   mHasSetupObservers: false,</span>
<a href="#l22.58"></a><span id="l22.58">   mVersion: null,</span>
<a href="#l22.59"></a><span id="l22.59">   mZones: null,</span>
<a href="#l22.60"></a><span id="l22.60"> </span>
<a href="#l22.61"></a><span id="l22.61">   classID: calTimezoneServiceClassID,</span>
<a href="#l22.62"></a><span id="l22.62">   QueryInterface: cal.generateQI(calTimezoneServiceInterfaces),</span>
<a href="#l22.63"></a><span id="l22.63">   classInfo: cal.generateCI({</span>
<a href="#l22.64"></a><span id="l22.64" class="difflineat">@@ -68,17 +71,17 @@ calTimezoneService.prototype = {</span>
<a href="#l22.65"></a><span id="l22.65">     return id ? unwrapSingle(ICAL.Timezone, this.getTimezone(id)) : null;</span>
<a href="#l22.66"></a><span id="l22.66">   },</span>
<a href="#l22.67"></a><span id="l22.67">   remove() {},</span>
<a href="#l22.68"></a><span id="l22.68">   register() {},</span>
<a href="#l22.69"></a><span id="l22.69"> </span>
<a href="#l22.70"></a><span id="l22.70">   // calIStartupService:</span>
<a href="#l22.71"></a><span id="l22.71">   startup(aCompleteListener) {</span>
<a href="#l22.72"></a><span id="l22.72">     function fetchJSON(aURL) {</span>
<a href="#l22.73"></a><span id="l22.73" class="difflineminus">-      cal.LOG(&quot;[calTimezoneService] Loading &quot; + aURL);</span>
<a href="#l22.74"></a><span id="l22.74" class="difflineplus">+      cal.LOG(&quot;[CalTimezoneService] Loading &quot; + aURL);</span>
<a href="#l22.75"></a><span id="l22.75"> </span>
<a href="#l22.76"></a><span id="l22.76">       return new Promise((resolve, reject) =&gt; {</span>
<a href="#l22.77"></a><span id="l22.77">         let uri = Services.io.newURI(aURL);</span>
<a href="#l22.78"></a><span id="l22.78">         let channel = Services.io.newChannelFromURI(</span>
<a href="#l22.79"></a><span id="l22.79">           uri,</span>
<a href="#l22.80"></a><span id="l22.80">           null,</span>
<a href="#l22.81"></a><span id="l22.81">           Services.scriptSecurityManager.getSystemPrincipal(),</span>
<a href="#l22.82"></a><span id="l22.82">           null,</span>
<a href="#l22.83"></a><span id="l22.83" class="difflineat">@@ -114,17 +117,17 @@ calTimezoneService.prototype = {</span>
<a href="#l22.84"></a><span id="l22.84">         for (let tzid of Object.keys(tzData.zones)) {</span>
<a href="#l22.85"></a><span id="l22.85">           let data = tzData.zones[tzid];</span>
<a href="#l22.86"></a><span id="l22.86">           if (typeof data == &quot;object&quot; &amp;&amp; data !== null) {</span>
<a href="#l22.87"></a><span id="l22.87">             this.mZones.set(tzid, data);</span>
<a href="#l22.88"></a><span id="l22.88">           }</span>
<a href="#l22.89"></a><span id="l22.89">         }</span>
<a href="#l22.90"></a><span id="l22.90"> </span>
<a href="#l22.91"></a><span id="l22.91">         this.mVersion = tzData.version;</span>
<a href="#l22.92"></a><span id="l22.92" class="difflineminus">-        cal.LOG(&quot;[calTimezoneService] Timezones version &quot; + this.version + &quot; loaded&quot;);</span>
<a href="#l22.93"></a><span id="l22.93" class="difflineplus">+        cal.LOG(&quot;[CalTimezoneService] Timezones version &quot; + this.version + &quot; loaded&quot;);</span>
<a href="#l22.94"></a><span id="l22.94"> </span>
<a href="#l22.95"></a><span id="l22.95">         let bundleURL = &quot;chrome://calendar/locale/timezones.properties&quot;;</span>
<a href="#l22.96"></a><span id="l22.96">         this.stringBundle = ICAL.Timezone.cal_tz_bundle = Services.strings.createBundle(bundleURL);</span>
<a href="#l22.97"></a><span id="l22.97"> </span>
<a href="#l22.98"></a><span id="l22.98">         // Make sure UTC and floating are cached by calling their getters</span>
<a href="#l22.99"></a><span id="l22.99">         this.UTC; // eslint-disable-line no-unused-expressions</span>
<a href="#l22.100"></a><span id="l22.100">         this.floating; // eslint-disable-line no-unused-expressions</span>
<a href="#l22.101"></a><span id="l22.101">       })</span>
<a href="#l22.102"></a><span id="l22.102" class="difflineat">@@ -843,14 +846,8 @@ function guessSystemTimezone() {</span>
<a href="#l22.103"></a><span id="l22.103">   } catch (ex) {</span>
<a href="#l22.104"></a><span id="l22.104">     // don't abort if error occurs warning user</span>
<a href="#l22.105"></a><span id="l22.105">     Cu.reportError(ex);</span>
<a href="#l22.106"></a><span id="l22.106">   }</span>
<a href="#l22.107"></a><span id="l22.107"> </span>
<a href="#l22.108"></a><span id="l22.108">   // return the guessed timezone</span>
<a href="#l22.109"></a><span id="l22.109">   return probableTZId;</span>
<a href="#l22.110"></a><span id="l22.110"> }</span>
<a href="#l22.111"></a><span id="l22.111" class="difflineminus">-</span>
<a href="#l22.112"></a><span id="l22.112" class="difflineminus">-this.NSGetFactory = cid =&gt; {</span>
<a href="#l22.113"></a><span id="l22.113" class="difflineminus">-  Services.scriptloader.loadSubScript(&quot;resource:///components/calTimezone.js&quot;, this);</span>
<a href="#l22.114"></a><span id="l22.114" class="difflineminus">-  this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calTimezoneService]);</span>
<a href="#l22.115"></a><span id="l22.115" class="difflineminus">-  return this.NSGetFactory(cid);</span>
<a href="#l22.116"></a><span id="l22.116" class="difflineminus">-};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1">rename from calendar/base/src/calTodo.js</span>
<a href="#l23.2"></a><span id="l23.2">rename to calendar/base/src/CalTodo.jsm</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineminus">--- a/calendar/base/src/calTodo.js</span>
<a href="#l23.4"></a><span id="l23.4" class="difflineplus">+++ b/calendar/base/src/CalTodo.jsm</span>
<a href="#l23.5"></a><span id="l23.5" class="difflineat">@@ -1,55 +1,57 @@</span>
<a href="#l23.6"></a><span id="l23.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.7"></a><span id="l23.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.8"></a><span id="l23.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l23.9"></a><span id="l23.9"> </span>
<a href="#l23.10"></a><span id="l23.10" class="difflineminus">-/* import-globals-from calItemModule.js */</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineplus">+/* import-globals-from calItemBase.js */</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineplus">+</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalTodo&quot;];</span>
<a href="#l23.14"></a><span id="l23.14"> </span>
<a href="#l23.15"></a><span id="l23.15"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l23.17"></a><span id="l23.17"> </span>
<a href="#l23.18"></a><span id="l23.18" class="difflineminus">-//</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineminus">-// constructor</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineminus">-//</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineminus">-function calTodo() {</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineplus">+Services.scriptloader.loadSubScript(&quot;resource:///components/calItemBase.js&quot;);</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineplus">+</span>
<a href="#l23.24"></a><span id="l23.24" class="difflineplus">+function CalTodo() {</span>
<a href="#l23.25"></a><span id="l23.25">   this.initItemBase();</span>
<a href="#l23.26"></a><span id="l23.26"> </span>
<a href="#l23.27"></a><span id="l23.27">   this.todoPromotedProps = {</span>
<a href="#l23.28"></a><span id="l23.28">     DTSTART: true,</span>
<a href="#l23.29"></a><span id="l23.29">     DTEND: true,</span>
<a href="#l23.30"></a><span id="l23.30">     DUE: true,</span>
<a href="#l23.31"></a><span id="l23.31">     COMPLETED: true,</span>
<a href="#l23.32"></a><span id="l23.32">     __proto__: this.itemBasePromotedProps,</span>
<a href="#l23.33"></a><span id="l23.33">   };</span>
<a href="#l23.34"></a><span id="l23.34"> }</span>
<a href="#l23.35"></a><span id="l23.35"> </span>
<a href="#l23.36"></a><span id="l23.36"> var calTodoClassID = Components.ID(&quot;{7af51168-6abe-4a31-984d-6f8a3989212d}&quot;);</span>
<a href="#l23.37"></a><span id="l23.37"> var calTodoInterfaces = [Ci.calIItemBase, Ci.calITodo, Ci.calIInternalShallowCopy];</span>
<a href="#l23.38"></a><span id="l23.38" class="difflineminus">-calTodo.prototype = {</span>
<a href="#l23.39"></a><span id="l23.39" class="difflineplus">+CalTodo.prototype = {</span>
<a href="#l23.40"></a><span id="l23.40">   __proto__: calItemBase.prototype,</span>
<a href="#l23.41"></a><span id="l23.41"> </span>
<a href="#l23.42"></a><span id="l23.42">   classID: calTodoClassID,</span>
<a href="#l23.43"></a><span id="l23.43">   QueryInterface: cal.generateQI(calTodoInterfaces),</span>
<a href="#l23.44"></a><span id="l23.44">   classInfo: cal.generateCI({</span>
<a href="#l23.45"></a><span id="l23.45">     classID: calTodoClassID,</span>
<a href="#l23.46"></a><span id="l23.46">     contractID: &quot;@mozilla.org/calendar/todo;1&quot;,</span>
<a href="#l23.47"></a><span id="l23.47">     classDescription: &quot;Calendar Todo&quot;,</span>
<a href="#l23.48"></a><span id="l23.48">     interfaces: calTodoInterfaces,</span>
<a href="#l23.49"></a><span id="l23.49">   }),</span>
<a href="#l23.50"></a><span id="l23.50"> </span>
<a href="#l23.51"></a><span id="l23.51">   cloneShallow(aNewParent) {</span>
<a href="#l23.52"></a><span id="l23.52" class="difflineminus">-    let cloned = new calTodo();</span>
<a href="#l23.53"></a><span id="l23.53" class="difflineplus">+    let cloned = new CalTodo();</span>
<a href="#l23.54"></a><span id="l23.54">     this.cloneItemBaseInto(cloned, aNewParent);</span>
<a href="#l23.55"></a><span id="l23.55">     return cloned;</span>
<a href="#l23.56"></a><span id="l23.56">   },</span>
<a href="#l23.57"></a><span id="l23.57"> </span>
<a href="#l23.58"></a><span id="l23.58">   createProxy(aRecurrenceId) {</span>
<a href="#l23.59"></a><span id="l23.59">     cal.ASSERT(!this.mIsProxy, &quot;Tried to create a proxy for an existing proxy!&quot;, true);</span>
<a href="#l23.60"></a><span id="l23.60"> </span>
<a href="#l23.61"></a><span id="l23.61" class="difflineminus">-    let proxy = new calTodo();</span>
<a href="#l23.62"></a><span id="l23.62" class="difflineplus">+    let proxy = new CalTodo();</span>
<a href="#l23.63"></a><span id="l23.63"> </span>
<a href="#l23.64"></a><span id="l23.64">     // override proxy's DTSTART/DUE/RECURRENCE-ID</span>
<a href="#l23.65"></a><span id="l23.65">     // before master is set (and item might get immutable):</span>
<a href="#l23.66"></a><span id="l23.66">     let duration = this.duration;</span>
<a href="#l23.67"></a><span id="l23.67">     if (duration) {</span>
<a href="#l23.68"></a><span id="l23.68">       let dueDate = aRecurrenceId.clone();</span>
<a href="#l23.69"></a><span id="l23.69">       dueDate.addDuration(duration);</span>
<a href="#l23.70"></a><span id="l23.70">       proxy.dueDate = dueDate;</span>
<a href="#l23.71"></a><span id="l23.71" class="difflineat">@@ -239,11 +241,11 @@ calTodo.prototype = {</span>
<a href="#l23.72"></a><span id="l23.72">     return (this.mDueDate = value);</span>
<a href="#l23.73"></a><span id="l23.73">   },</span>
<a href="#l23.74"></a><span id="l23.74"> };</span>
<a href="#l23.75"></a><span id="l23.75"> </span>
<a href="#l23.76"></a><span id="l23.76"> // var decl to prevent spurious error messages when loaded as component</span>
<a href="#l23.77"></a><span id="l23.77"> </span>
<a href="#l23.78"></a><span id="l23.78"> var makeMemberAttr;</span>
<a href="#l23.79"></a><span id="l23.79"> if (makeMemberAttr) {</span>
<a href="#l23.80"></a><span id="l23.80" class="difflineminus">-  makeMemberAttr(calTodo, &quot;COMPLETED&quot;, null, &quot;completedDate&quot;, true);</span>
<a href="#l23.81"></a><span id="l23.81" class="difflineminus">-  makeMemberAttr(calTodo, &quot;PERCENT-COMPLETE&quot;, 0, &quot;percentComplete&quot;, true);</span>
<a href="#l23.82"></a><span id="l23.82" class="difflineplus">+  makeMemberAttr(CalTodo, &quot;COMPLETED&quot;, null, &quot;completedDate&quot;, true);</span>
<a href="#l23.83"></a><span id="l23.83" class="difflineplus">+  makeMemberAttr(CalTodo, &quot;PERCENT-COMPLETE&quot;, 0, &quot;percentComplete&quot;, true);</span>
<a href="#l23.84"></a><span id="l23.84"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1">rename from calendar/base/src/calTransactionManager.js</span>
<a href="#l24.2"></a><span id="l24.2">rename to calendar/base/src/CalTransactionManager.jsm</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineminus">--- a/calendar/base/src/calTransactionManager.js</span>
<a href="#l24.4"></a><span id="l24.4" class="difflineplus">+++ b/calendar/base/src/CalTransactionManager.jsm</span>
<a href="#l24.5"></a><span id="l24.5" class="difflineat">@@ -1,30 +1,32 @@</span>
<a href="#l24.6"></a><span id="l24.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l24.7"></a><span id="l24.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l24.8"></a><span id="l24.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l24.9"></a><span id="l24.9"> </span>
<a href="#l24.10"></a><span id="l24.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalTransactionManager&quot;, &quot;CalTransaction&quot;];</span>
<a href="#l24.11"></a><span id="l24.11" class="difflineplus">+</span>
<a href="#l24.12"></a><span id="l24.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l24.13"></a><span id="l24.13"> </span>
<a href="#l24.14"></a><span id="l24.14" class="difflineminus">-function calTransactionManager() {</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineplus">+function CalTransactionManager() {</span>
<a href="#l24.16"></a><span id="l24.16">   this.wrappedJSObject = this;</span>
<a href="#l24.17"></a><span id="l24.17">   if (!this.transactionManager) {</span>
<a href="#l24.18"></a><span id="l24.18">     this.transactionManager = Cc[&quot;@mozilla.org/transactionmanager;1&quot;].createInstance(</span>
<a href="#l24.19"></a><span id="l24.19">       Ci.nsITransactionManager</span>
<a href="#l24.20"></a><span id="l24.20">     );</span>
<a href="#l24.21"></a><span id="l24.21">   }</span>
<a href="#l24.22"></a><span id="l24.22"> }</span>
<a href="#l24.23"></a><span id="l24.23"> </span>
<a href="#l24.24"></a><span id="l24.24" class="difflineminus">-calTransactionManager.prototype = {</span>
<a href="#l24.25"></a><span id="l24.25" class="difflineplus">+CalTransactionManager.prototype = {</span>
<a href="#l24.26"></a><span id="l24.26">   QueryInterface: ChromeUtils.generateQI([Ci.calITransactionManager]),</span>
<a href="#l24.27"></a><span id="l24.27">   classID: Components.ID(&quot;{1d529847-d292-4222-b066-b8b17a794d62}&quot;),</span>
<a href="#l24.28"></a><span id="l24.28"> </span>
<a href="#l24.29"></a><span id="l24.29">   transactionManager: null,</span>
<a href="#l24.30"></a><span id="l24.30">   createAndCommitTxn(aAction, aItem, aCalendar, aOldItem, aListener, aExtResponse) {</span>
<a href="#l24.31"></a><span id="l24.31" class="difflineminus">-    let txn = new calTransaction(aAction, aItem, aCalendar, aOldItem, aListener, aExtResponse);</span>
<a href="#l24.32"></a><span id="l24.32" class="difflineplus">+    let txn = new CalTransaction(aAction, aItem, aCalendar, aOldItem, aListener, aExtResponse);</span>
<a href="#l24.33"></a><span id="l24.33">     this.transactionManager.doTransaction(txn);</span>
<a href="#l24.34"></a><span id="l24.34">   },</span>
<a href="#l24.35"></a><span id="l24.35"> </span>
<a href="#l24.36"></a><span id="l24.36">   beginBatch() {</span>
<a href="#l24.37"></a><span id="l24.37">     this.transactionManager.beginBatch(null);</span>
<a href="#l24.38"></a><span id="l24.38">   },</span>
<a href="#l24.39"></a><span id="l24.39"> </span>
<a href="#l24.40"></a><span id="l24.40">   endBatch() {</span>
<a href="#l24.41"></a><span id="l24.41" class="difflineat">@@ -63,29 +65,29 @@ calTransactionManager.prototype = {</span>
<a href="#l24.42"></a><span id="l24.42">   canRedo() {</span>
<a href="#l24.43"></a><span id="l24.43">     return (</span>
<a href="#l24.44"></a><span id="l24.44">       this.transactionManager.numberOfRedoItems &gt; 0 &amp;&amp;</span>
<a href="#l24.45"></a><span id="l24.45">       this.checkWritable(this.transactionManager.peekRedoStack())</span>
<a href="#l24.46"></a><span id="l24.46">     );</span>
<a href="#l24.47"></a><span id="l24.47">   },</span>
<a href="#l24.48"></a><span id="l24.48"> };</span>
<a href="#l24.49"></a><span id="l24.49"> </span>
<a href="#l24.50"></a><span id="l24.50" class="difflineminus">-function calTransaction(aAction, aItem, aCalendar, aOldItem, aListener, aExtResponse) {</span>
<a href="#l24.51"></a><span id="l24.51" class="difflineplus">+function CalTransaction(aAction, aItem, aCalendar, aOldItem, aListener, aExtResponse) {</span>
<a href="#l24.52"></a><span id="l24.52">   this.wrappedJSObject = this;</span>
<a href="#l24.53"></a><span id="l24.53">   this.mAction = aAction;</span>
<a href="#l24.54"></a><span id="l24.54">   this.mItem = aItem;</span>
<a href="#l24.55"></a><span id="l24.55">   this.mCalendar = aCalendar;</span>
<a href="#l24.56"></a><span id="l24.56">   this.mOldItem = aOldItem;</span>
<a href="#l24.57"></a><span id="l24.57">   this.mListener = aListener;</span>
<a href="#l24.58"></a><span id="l24.58">   this.mExtResponse = aExtResponse;</span>
<a href="#l24.59"></a><span id="l24.59"> }</span>
<a href="#l24.60"></a><span id="l24.60"> </span>
<a href="#l24.61"></a><span id="l24.61"> var calTransactionClassID = Components.ID(&quot;{fcb54c82-2fb9-42cb-bf44-1e197a55e520}&quot;);</span>
<a href="#l24.62"></a><span id="l24.62"> var calTransactionInterfaces = [Ci.nsITransaction, Ci.calIOperationListener];</span>
<a href="#l24.63"></a><span id="l24.63" class="difflineminus">-calTransaction.prototype = {</span>
<a href="#l24.64"></a><span id="l24.64" class="difflineplus">+CalTransaction.prototype = {</span>
<a href="#l24.65"></a><span id="l24.65">   classID: calTransactionClassID,</span>
<a href="#l24.66"></a><span id="l24.66">   QueryInterface: ChromeUtils.generateQI(calTransactionInterfaces),</span>
<a href="#l24.67"></a><span id="l24.67"> </span>
<a href="#l24.68"></a><span id="l24.68">   mAction: null,</span>
<a href="#l24.69"></a><span id="l24.69">   mCalendar: null,</span>
<a href="#l24.70"></a><span id="l24.70">   mItem: null,</span>
<a href="#l24.71"></a><span id="l24.71">   mOldItem: null,</span>
<a href="#l24.72"></a><span id="l24.72">   mOldCalendar: null,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1">rename from calendar/base/src/calWeekInfoService.js</span>
<a href="#l25.2"></a><span id="l25.2">rename to calendar/base/src/CalWeekInfoService.jsm</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineminus">--- a/calendar/base/src/calWeekInfoService.js</span>
<a href="#l25.4"></a><span id="l25.4" class="difflineplus">+++ b/calendar/base/src/CalWeekInfoService.jsm</span>
<a href="#l25.5"></a><span id="l25.5" class="difflineat">@@ -1,18 +1,20 @@</span>
<a href="#l25.6"></a><span id="l25.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l25.7"></a><span id="l25.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l25.8"></a><span id="l25.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l25.9"></a><span id="l25.9"> </span>
<a href="#l25.10"></a><span id="l25.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalWeekInfoService&quot;];</span>
<a href="#l25.11"></a><span id="l25.11" class="difflineplus">+</span>
<a href="#l25.12"></a><span id="l25.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l25.13"></a><span id="l25.13"> </span>
<a href="#l25.14"></a><span id="l25.14" class="difflineminus">-function calWeekInfoService() {</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineplus">+function CalWeekInfoService() {</span>
<a href="#l25.16"></a><span id="l25.16">   this.wrappedJSObject = this;</span>
<a href="#l25.17"></a><span id="l25.17"> }</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineminus">-calWeekInfoService.prototype = {</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineplus">+CalWeekInfoService.prototype = {</span>
<a href="#l25.20"></a><span id="l25.20">   QueryInterface: ChromeUtils.generateQI([Ci.calIWeekInfoService]),</span>
<a href="#l25.21"></a><span id="l25.21">   classID: Components.ID(&quot;{6877bbdd-f336-46f5-98ce-fe86d0285cc1}&quot;),</span>
<a href="#l25.22"></a><span id="l25.22"> </span>
<a href="#l25.23"></a><span id="l25.23">   // calIWeekInfoService:</span>
<a href="#l25.24"></a><span id="l25.24">   getWeekTitle(aDateTime) {</span>
<a href="#l25.25"></a><span id="l25.25">     /**</span>
<a href="#l25.26"></a><span id="l25.26">      * This implementation is based on the ISO 8601 standard.</span>
<a href="#l25.27"></a><span id="l25.27">      * ISO 8601 defines week one as the first week with at least 4</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/calendar/base/src/calCachedCalendar.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/calendar/base/src/calCachedCalendar.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l26.4"></a><span id="l26.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l26.5"></a><span id="l26.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l26.6"></a><span id="l26.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l26.7"></a><span id="l26.7"> </span>
<a href="#l26.8"></a><span id="l26.8" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;calCachedCalendar&quot;];</span>
<a href="#l26.9"></a><span id="l26.9" class="difflineplus">+</span>
<a href="#l26.10"></a><span id="l26.10"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l26.11"></a><span id="l26.11"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l26.12"></a><span id="l26.12"> </span>
<a href="#l26.13"></a><span id="l26.13"> var calICalendar = Ci.calICalendar;</span>
<a href="#l26.14"></a><span id="l26.14"> var cICL = Ci.calIChangeLog;</span>
<a href="#l26.15"></a><span id="l26.15"> var cIOL = Ci.calIOperationListener;</span>
<a href="#l26.16"></a><span id="l26.16"> </span>
<a href="#l26.17"></a><span id="l26.17"> var gNoOpListener = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1">deleted file mode 100644</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineminus">--- a/calendar/base/src/calDefaultACLManager.manifest</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineplus">+++ /dev/null</span>
<a href="#l27.4"></a><span id="l27.4" class="difflineat">@@ -1,2 +0,0 @@</span>
<a href="#l27.5"></a><span id="l27.5" class="difflineminus">-component {7463258c-6ef3-40a2-89a9-bb349596e927} calDefaultACLManager.js</span>
<a href="#l27.6"></a><span id="l27.6" class="difflineminus">-contract @mozilla.org/calendar/acl-manager;1?type=default {7463258c-6ef3-40a2-89a9-bb349596e927}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/calendar/base/src/calItemBase.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/calendar/base/src/calItemBase.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l28.4"></a><span id="l28.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l28.5"></a><span id="l28.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l28.6"></a><span id="l28.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l28.7"></a><span id="l28.7"> </span>
<a href="#l28.8"></a><span id="l28.8" class="difflineminus">-/* import-globals-from calItemModule.js */</span>
<a href="#l28.9"></a><span id="l28.9" class="difflineminus">-</span>
<a href="#l28.10"></a><span id="l28.10"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l28.11"></a><span id="l28.11" class="difflineplus">+var { CalAttendee } = ChromeUtils.import(&quot;resource:///modules/CalAttendee.jsm&quot;);</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineplus">+var { CalRelation } = ChromeUtils.import(&quot;resource:///modules/CalRelation.jsm&quot;);</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+var { CalAttachment } = ChromeUtils.import(&quot;resource:///modules/CalAttachment.jsm&quot;);</span>
<a href="#l28.14"></a><span id="l28.14"> </span>
<a href="#l28.15"></a><span id="l28.15"> /**</span>
<a href="#l28.16"></a><span id="l28.16">  * calItemBase prototype definition</span>
<a href="#l28.17"></a><span id="l28.17">  *</span>
<a href="#l28.18"></a><span id="l28.18">  * @implements calIItemBase</span>
<a href="#l28.19"></a><span id="l28.19">  * @constructor</span>
<a href="#l28.20"></a><span id="l28.20">  */</span>
<a href="#l28.21"></a><span id="l28.21"> function calItemBase() {</span>
<a href="#l28.22"></a><span id="l28.22" class="difflineat">@@ -796,39 +797,39 @@ calItemBase.prototype = {</span>
<a href="#l28.23"></a><span id="l28.23">     this.mIsProxy = false;</span>
<a href="#l28.24"></a><span id="l28.24">     this.mProperties = new Map();</span>
<a href="#l28.25"></a><span id="l28.25">     this.mPropertyParams = {};</span>
<a href="#l28.26"></a><span id="l28.26"> </span>
<a href="#l28.27"></a><span id="l28.27">     this.mapPropsFromICS(icalcomp, this.icsBasePropMap);</span>
<a href="#l28.28"></a><span id="l28.28"> </span>
<a href="#l28.29"></a><span id="l28.29">     this.mAttendees = []; // don't inherit anything from parent</span>
<a href="#l28.30"></a><span id="l28.30">     for (let attprop of cal.iterate.icalProperty(icalcomp, &quot;ATTENDEE&quot;)) {</span>
<a href="#l28.31"></a><span id="l28.31" class="difflineminus">-      let att = new calAttendee();</span>
<a href="#l28.32"></a><span id="l28.32" class="difflineplus">+      let att = new CalAttendee();</span>
<a href="#l28.33"></a><span id="l28.33">       att.icalProperty = attprop;</span>
<a href="#l28.34"></a><span id="l28.34">       this.addAttendee(att);</span>
<a href="#l28.35"></a><span id="l28.35">     }</span>
<a href="#l28.36"></a><span id="l28.36"> </span>
<a href="#l28.37"></a><span id="l28.37">     this.mAttachments = []; // don't inherit anything from parent</span>
<a href="#l28.38"></a><span id="l28.38">     for (let attprop of cal.iterate.icalProperty(icalcomp, &quot;ATTACH&quot;)) {</span>
<a href="#l28.39"></a><span id="l28.39" class="difflineminus">-      let att = new calAttachment();</span>
<a href="#l28.40"></a><span id="l28.40" class="difflineplus">+      let att = new CalAttachment();</span>
<a href="#l28.41"></a><span id="l28.41">       att.icalProperty = attprop;</span>
<a href="#l28.42"></a><span id="l28.42">       this.addAttachment(att);</span>
<a href="#l28.43"></a><span id="l28.43">     }</span>
<a href="#l28.44"></a><span id="l28.44"> </span>
<a href="#l28.45"></a><span id="l28.45">     this.mRelations = []; // don't inherit anything from parent</span>
<a href="#l28.46"></a><span id="l28.46">     for (let relprop of cal.iterate.icalProperty(icalcomp, &quot;RELATED-TO&quot;)) {</span>
<a href="#l28.47"></a><span id="l28.47" class="difflineminus">-      let rel = new calRelation();</span>
<a href="#l28.48"></a><span id="l28.48" class="difflineplus">+      let rel = new CalRelation();</span>
<a href="#l28.49"></a><span id="l28.49">       rel.icalProperty = relprop;</span>
<a href="#l28.50"></a><span id="l28.50">       this.addRelation(rel);</span>
<a href="#l28.51"></a><span id="l28.51">     }</span>
<a href="#l28.52"></a><span id="l28.52"> </span>
<a href="#l28.53"></a><span id="l28.53">     let org = null;</span>
<a href="#l28.54"></a><span id="l28.54">     let orgprop = icalcomp.getFirstProperty(&quot;ORGANIZER&quot;);</span>
<a href="#l28.55"></a><span id="l28.55">     if (orgprop) {</span>
<a href="#l28.56"></a><span id="l28.56" class="difflineminus">-      org = new calAttendee();</span>
<a href="#l28.57"></a><span id="l28.57" class="difflineplus">+      org = new CalAttendee();</span>
<a href="#l28.58"></a><span id="l28.58">       org.icalProperty = orgprop;</span>
<a href="#l28.59"></a><span id="l28.59">       org.isOrganizer = true;</span>
<a href="#l28.60"></a><span id="l28.60">     }</span>
<a href="#l28.61"></a><span id="l28.61">     this.mOrganizer = org;</span>
<a href="#l28.62"></a><span id="l28.62"> </span>
<a href="#l28.63"></a><span id="l28.63">     this.mCategories = [];</span>
<a href="#l28.64"></a><span id="l28.64">     for (let catprop of cal.iterate.icalProperty(icalcomp, &quot;CATEGORIES&quot;)) {</span>
<a href="#l28.65"></a><span id="l28.65">       this.mCategories.push(catprop.value);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1">deleted file mode 100644</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineminus">--- a/calendar/base/src/calItemModule.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineplus">+++ /dev/null</span>
<a href="#l29.4"></a><span id="l29.4" class="difflineat">@@ -1,101 +0,0 @@</span>
<a href="#l29.5"></a><span id="l29.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l29.6"></a><span id="l29.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l29.7"></a><span id="l29.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l29.8"></a><span id="l29.8" class="difflineminus">-</span>
<a href="#l29.9"></a><span id="l29.9" class="difflineminus">-/* import-globals-from calItemBase.js */</span>
<a href="#l29.10"></a><span id="l29.10" class="difflineminus">-/* import-globals-from calCachedCalendar.js */</span>
<a href="#l29.11"></a><span id="l29.11" class="difflineminus">-/* import-globals-from calAlarm.js */</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-/* import-globals-from calAlarmMonitor.js */</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineminus">-/* import-globals-from calAlarmService.js */</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineminus">-/* import-globals-from calAttendee.js */</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineminus">-/* import-globals-from calAttachment.js */</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineminus">-/* import-globals-from calCalendarManager.js */</span>
<a href="#l29.17"></a><span id="l29.17" class="difflineminus">-/* import-globals-from calCalendarSearchService.js */</span>
<a href="#l29.18"></a><span id="l29.18" class="difflineminus">-/* import-globals-from calDateTimeFormatter.js */</span>
<a href="#l29.19"></a><span id="l29.19" class="difflineminus">-/* import-globals-from calDeletedItems.js */</span>
<a href="#l29.20"></a><span id="l29.20" class="difflineminus">-/* import-globals-from calEvent.js */</span>
<a href="#l29.21"></a><span id="l29.21" class="difflineminus">-/* import-globals-from calFreeBusyService.js */</span>
<a href="#l29.22"></a><span id="l29.22" class="difflineminus">-/* import-globals-from calIcsParser.js */</span>
<a href="#l29.23"></a><span id="l29.23" class="difflineminus">-/* import-globals-from calIcsSerializer.js */</span>
<a href="#l29.24"></a><span id="l29.24" class="difflineminus">-/* import-globals-from calItipItem.js */</span>
<a href="#l29.25"></a><span id="l29.25" class="difflineminus">-/* import-globals-from calProtocolHandler.js */</span>
<a href="#l29.26"></a><span id="l29.26" class="difflineminus">-/* import-globals-from calRecurrenceDate.js */</span>
<a href="#l29.27"></a><span id="l29.27" class="difflineminus">-/* import-globals-from calRecurrenceInfo.js */</span>
<a href="#l29.28"></a><span id="l29.28" class="difflineminus">-/* import-globals-from calRelation.js */</span>
<a href="#l29.29"></a><span id="l29.29" class="difflineminus">-/* import-globals-from calStartupService.js */</span>
<a href="#l29.30"></a><span id="l29.30" class="difflineminus">-/* import-globals-from calTransactionManager.js */</span>
<a href="#l29.31"></a><span id="l29.31" class="difflineminus">-/* import-globals-from calTodo.js */</span>
<a href="#l29.32"></a><span id="l29.32" class="difflineminus">-/* import-globals-from calWeekInfoService.js */</span>
<a href="#l29.33"></a><span id="l29.33" class="difflineminus">-</span>
<a href="#l29.34"></a><span id="l29.34" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l29.35"></a><span id="l29.35" class="difflineminus">-var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l29.36"></a><span id="l29.36" class="difflineminus">-</span>
<a href="#l29.37"></a><span id="l29.37" class="difflineminus">-this._NSGetFactory = cid =&gt; {</span>
<a href="#l29.38"></a><span id="l29.38" class="difflineminus">-  let scriptLoadOrder = [</span>
<a href="#l29.39"></a><span id="l29.39" class="difflineminus">-    &quot;resource:///components/calItemBase.js&quot;,</span>
<a href="#l29.40"></a><span id="l29.40" class="difflineminus">-    &quot;resource:///components/calCachedCalendar.js&quot;,</span>
<a href="#l29.41"></a><span id="l29.41" class="difflineminus">-</span>
<a href="#l29.42"></a><span id="l29.42" class="difflineminus">-    &quot;resource:///components/calAlarm.js&quot;,</span>
<a href="#l29.43"></a><span id="l29.43" class="difflineminus">-    &quot;resource:///components/calAlarmMonitor.js&quot;,</span>
<a href="#l29.44"></a><span id="l29.44" class="difflineminus">-    &quot;resource:///components/calAlarmService.js&quot;,</span>
<a href="#l29.45"></a><span id="l29.45" class="difflineminus">-    &quot;resource:///components/calAttendee.js&quot;,</span>
<a href="#l29.46"></a><span id="l29.46" class="difflineminus">-    &quot;resource:///components/calAttachment.js&quot;,</span>
<a href="#l29.47"></a><span id="l29.47" class="difflineminus">-    &quot;resource:///components/calCalendarManager.js&quot;,</span>
<a href="#l29.48"></a><span id="l29.48" class="difflineminus">-    &quot;resource:///components/calCalendarSearchService.js&quot;,</span>
<a href="#l29.49"></a><span id="l29.49" class="difflineminus">-    &quot;resource:///components/calDateTimeFormatter.js&quot;,</span>
<a href="#l29.50"></a><span id="l29.50" class="difflineminus">-    &quot;resource:///components/calDeletedItems.js&quot;,</span>
<a href="#l29.51"></a><span id="l29.51" class="difflineminus">-    &quot;resource:///components/calEvent.js&quot;,</span>
<a href="#l29.52"></a><span id="l29.52" class="difflineminus">-    &quot;resource:///components/calFreeBusyService.js&quot;,</span>
<a href="#l29.53"></a><span id="l29.53" class="difflineminus">-    &quot;resource:///components/calIcsParser.js&quot;,</span>
<a href="#l29.54"></a><span id="l29.54" class="difflineminus">-    &quot;resource:///components/calIcsSerializer.js&quot;,</span>
<a href="#l29.55"></a><span id="l29.55" class="difflineminus">-    &quot;resource:///components/calItipItem.js&quot;,</span>
<a href="#l29.56"></a><span id="l29.56" class="difflineminus">-    &quot;resource:///components/calProtocolHandler.js&quot;,</span>
<a href="#l29.57"></a><span id="l29.57" class="difflineminus">-    &quot;resource:///components/calRecurrenceDate.js&quot;,</span>
<a href="#l29.58"></a><span id="l29.58" class="difflineminus">-    &quot;resource:///components/calRecurrenceInfo.js&quot;,</span>
<a href="#l29.59"></a><span id="l29.59" class="difflineminus">-    &quot;resource:///components/calRelation.js&quot;,</span>
<a href="#l29.60"></a><span id="l29.60" class="difflineminus">-    &quot;resource:///components/calStartupService.js&quot;,</span>
<a href="#l29.61"></a><span id="l29.61" class="difflineminus">-    &quot;resource:///components/calTransactionManager.js&quot;,</span>
<a href="#l29.62"></a><span id="l29.62" class="difflineminus">-    &quot;resource:///components/calTodo.js&quot;,</span>
<a href="#l29.63"></a><span id="l29.63" class="difflineminus">-    &quot;resource:///components/calWeekInfoService.js&quot;,</span>
<a href="#l29.64"></a><span id="l29.64" class="difflineminus">-  ];</span>
<a href="#l29.65"></a><span id="l29.65" class="difflineminus">-</span>
<a href="#l29.66"></a><span id="l29.66" class="difflineminus">-  for (let script of scriptLoadOrder) {</span>
<a href="#l29.67"></a><span id="l29.67" class="difflineminus">-    Services.scriptloader.loadSubScript(script, this);</span>
<a href="#l29.68"></a><span id="l29.68" class="difflineminus">-  }</span>
<a href="#l29.69"></a><span id="l29.69" class="difflineminus">-</span>
<a href="#l29.70"></a><span id="l29.70" class="difflineminus">-  let components = [</span>
<a href="#l29.71"></a><span id="l29.71" class="difflineminus">-    calAlarm,</span>
<a href="#l29.72"></a><span id="l29.72" class="difflineminus">-    calAlarmMonitor,</span>
<a href="#l29.73"></a><span id="l29.73" class="difflineminus">-    calAlarmService,</span>
<a href="#l29.74"></a><span id="l29.74" class="difflineminus">-    calAttendee,</span>
<a href="#l29.75"></a><span id="l29.75" class="difflineminus">-    calAttachment,</span>
<a href="#l29.76"></a><span id="l29.76" class="difflineminus">-    calCalendarManager,</span>
<a href="#l29.77"></a><span id="l29.77" class="difflineminus">-    calCalendarSearchService,</span>
<a href="#l29.78"></a><span id="l29.78" class="difflineminus">-    calDateTimeFormatter,</span>
<a href="#l29.79"></a><span id="l29.79" class="difflineminus">-    calDeletedItems,</span>
<a href="#l29.80"></a><span id="l29.80" class="difflineminus">-    calEvent,</span>
<a href="#l29.81"></a><span id="l29.81" class="difflineminus">-    calFreeBusyService,</span>
<a href="#l29.82"></a><span id="l29.82" class="difflineminus">-    calIcsParser,</span>
<a href="#l29.83"></a><span id="l29.83" class="difflineminus">-    calIcsSerializer,</span>
<a href="#l29.84"></a><span id="l29.84" class="difflineminus">-    calItipItem,</span>
<a href="#l29.85"></a><span id="l29.85" class="difflineminus">-    calProtocolHandlerWebcal,</span>
<a href="#l29.86"></a><span id="l29.86" class="difflineminus">-    calProtocolHandlerWebcals,</span>
<a href="#l29.87"></a><span id="l29.87" class="difflineminus">-    calRecurrenceDate,</span>
<a href="#l29.88"></a><span id="l29.88" class="difflineminus">-    calRecurrenceInfo,</span>
<a href="#l29.89"></a><span id="l29.89" class="difflineminus">-    calRelation,</span>
<a href="#l29.90"></a><span id="l29.90" class="difflineminus">-    calStartupService,</span>
<a href="#l29.91"></a><span id="l29.91" class="difflineminus">-    calTransaction,</span>
<a href="#l29.92"></a><span id="l29.92" class="difflineminus">-    calTransactionManager,</span>
<a href="#l29.93"></a><span id="l29.93" class="difflineminus">-    calTodo,</span>
<a href="#l29.94"></a><span id="l29.94" class="difflineminus">-    calWeekInfoService,</span>
<a href="#l29.95"></a><span id="l29.95" class="difflineminus">-  ];</span>
<a href="#l29.96"></a><span id="l29.96" class="difflineminus">-</span>
<a href="#l29.97"></a><span id="l29.97" class="difflineminus">-  this._NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l29.98"></a><span id="l29.98" class="difflineminus">-  return this._NSGetFactory(cid);</span>
<a href="#l29.99"></a><span id="l29.99" class="difflineminus">-};</span>
<a href="#l29.100"></a><span id="l29.100" class="difflineminus">-</span>
<a href="#l29.101"></a><span id="l29.101" class="difflineminus">-// This version of NSGetFactory is used every time, even if it is replaced. Instead, we use a shim</span>
<a href="#l29.102"></a><span id="l29.102" class="difflineminus">-// calling an internal function. The internal function is replaced after the first run.</span>
<a href="#l29.103"></a><span id="l29.103" class="difflineminus">-this.NSGetFactory = cid =&gt; {</span>
<a href="#l29.104"></a><span id="l29.104" class="difflineminus">-  return this._NSGetFactory(cid);</span>
<a href="#l29.105"></a><span id="l29.105" class="difflineminus">-};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1">deleted file mode 100644</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineminus">--- a/calendar/base/src/calItemModule.manifest</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineplus">+++ /dev/null</span>
<a href="#l30.4"></a><span id="l30.4" class="difflineat">@@ -1,73 +0,0 @@</span>
<a href="#l30.5"></a><span id="l30.5" class="difflineminus">-component {b8db7c7f-c168-4e11-becb-f26c1c4f5f8f} calItemModule.js</span>
<a href="#l30.6"></a><span id="l30.6" class="difflineminus">-contract @mozilla.org/calendar/alarm;1 {b8db7c7f-c168-4e11-becb-f26c1c4f5f8f}</span>
<a href="#l30.7"></a><span id="l30.7" class="difflineminus">-</span>
<a href="#l30.8"></a><span id="l30.8" class="difflineminus">-component {7a9200dd-6a64-4fff-a798-c5802186e2cc} calItemModule.js</span>
<a href="#l30.9"></a><span id="l30.9" class="difflineminus">-contract @mozilla.org/calendar/alarm-service;1 {7a9200dd-6a64-4fff-a798-c5802186e2cc}</span>
<a href="#l30.10"></a><span id="l30.10" class="difflineminus">-</span>
<a href="#l30.11"></a><span id="l30.11" class="difflineminus">-component {4b7ae030-ed79-11d9-8cd6-0800200c9a66} calItemModule.js</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-contract @mozilla.org/calendar/alarm-monitor;1 {4b7ae030-ed79-11d9-8cd6-0800200c9a66}</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineminus">-component {5c8dcaa3-170c-4a73-8142-d531156f664d} calItemModule.js</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineminus">-contract @mozilla.org/calendar/attendee;1 {5c8dcaa3-170c-4a73-8142-d531156f664d}</span>
<a href="#l30.16"></a><span id="l30.16" class="difflineminus">-</span>
<a href="#l30.17"></a><span id="l30.17" class="difflineminus">-component {5f76b352-ab75-4c2b-82c9-9206dbbf8571} calItemModule.js</span>
<a href="#l30.18"></a><span id="l30.18" class="difflineminus">-contract @mozilla.org/calendar/attachment;1 {5f76b352-ab75-4c2b-82c9-9206dbbf8571}</span>
<a href="#l30.19"></a><span id="l30.19" class="difflineminus">-</span>
<a href="#l30.20"></a><span id="l30.20" class="difflineminus">-component {f42585e7-e736-4600-985d-9624c1c51992} calItemModule.js</span>
<a href="#l30.21"></a><span id="l30.21" class="difflineminus">-contract @mozilla.org/calendar/manager;1 {f42585e7-e736-4600-985d-9624c1c51992}</span>
<a href="#l30.22"></a><span id="l30.22" class="difflineminus">-</span>
<a href="#l30.23"></a><span id="l30.23" class="difflineminus">-component {f5f743cd-8997-428e-bc1b-644e73f61203} calItemModule.js</span>
<a href="#l30.24"></a><span id="l30.24" class="difflineminus">-contract @mozilla.org/calendar/calendarsearch-service;1 {f5f743cd-8997-428e-bc1b-644e73f61203}</span>
<a href="#l30.25"></a><span id="l30.25" class="difflineminus">-</span>
<a href="#l30.26"></a><span id="l30.26" class="difflineminus">-component {4123da9a-f047-42da-a7d0-cc4175b9f36a} calItemModule.js</span>
<a href="#l30.27"></a><span id="l30.27" class="difflineminus">-contract @mozilla.org/calendar/datetime-formatter;1 {4123da9a-f047-42da-a7d0-cc4175b9f36a}</span>
<a href="#l30.28"></a><span id="l30.28" class="difflineminus">-</span>
<a href="#l30.29"></a><span id="l30.29" class="difflineminus">-component {8e6799af-e7e9-4e6c-9a82-a2413e86d8c3} calItemModule.js</span>
<a href="#l30.30"></a><span id="l30.30" class="difflineminus">-contract @mozilla.org/calendar/deleted-items-manager;1 {8e6799af-e7e9-4e6c-9a82-a2413e86d8c3}</span>
<a href="#l30.31"></a><span id="l30.31" class="difflineminus">-category profile-after-change deleted-items-manager @mozilla.org/calendar/deleted-items-manager;1</span>
<a href="#l30.32"></a><span id="l30.32" class="difflineminus">-</span>
<a href="#l30.33"></a><span id="l30.33" class="difflineminus">-component {974339d5-ab86-4491-aaaf-2b2ca177c12b} calItemModule.js</span>
<a href="#l30.34"></a><span id="l30.34" class="difflineminus">-contract @mozilla.org/calendar/event;1 {974339d5-ab86-4491-aaaf-2b2ca177c12b}</span>
<a href="#l30.35"></a><span id="l30.35" class="difflineminus">-</span>
<a href="#l30.36"></a><span id="l30.36" class="difflineminus">-component {29c56cd5-d36e-453a-acde-0083bd4fe6d3} calItemModule.js</span>
<a href="#l30.37"></a><span id="l30.37" class="difflineminus">-contract @mozilla.org/calendar/freebusy-service;1 {29c56cd5-d36e-453a-acde-0083bd4fe6d3}</span>
<a href="#l30.38"></a><span id="l30.38" class="difflineminus">-</span>
<a href="#l30.39"></a><span id="l30.39" class="difflineminus">-component {6fe88047-75b6-4874-80e8-5f5800f14984} calItemModule.js</span>
<a href="#l30.40"></a><span id="l30.40" class="difflineminus">-contract @mozilla.org/calendar/ics-parser;1 {6fe88047-75b6-4874-80e8-5f5800f14984}</span>
<a href="#l30.41"></a><span id="l30.41" class="difflineminus">-</span>
<a href="#l30.42"></a><span id="l30.42" class="difflineminus">-component {207a6682-8ff1-4203-9160-729ec28c8766} calItemModule.js</span>
<a href="#l30.43"></a><span id="l30.43" class="difflineminus">-contract @mozilla.org/calendar/ics-serializer;1 {207a6682-8ff1-4203-9160-729ec28c8766}</span>
<a href="#l30.44"></a><span id="l30.44" class="difflineminus">-</span>
<a href="#l30.45"></a><span id="l30.45" class="difflineminus">-component {f41392ab-dcad-4bad-818f-b3d1631c4d93} calItemModule.js</span>
<a href="#l30.46"></a><span id="l30.46" class="difflineminus">-contract @mozilla.org/calendar/itip-item;1 {f41392ab-dcad-4bad-818f-b3d1631c4d93}</span>
<a href="#l30.47"></a><span id="l30.47" class="difflineminus">-</span>
<a href="#l30.48"></a><span id="l30.48" class="difflineminus">-component {1153c73a-39be-46aa-9ba9-656d188865ca} calItemModule.js</span>
<a href="#l30.49"></a><span id="l30.49" class="difflineminus">-contract @mozilla.org/network/protocol;1?name=webcal {1153c73a-39be-46aa-9ba9-656d188865ca}</span>
<a href="#l30.50"></a><span id="l30.50" class="difflineminus">-</span>
<a href="#l30.51"></a><span id="l30.51" class="difflineminus">-component {bdf71224-365d-4493-856a-a7e74026f766} calItemModule.js</span>
<a href="#l30.52"></a><span id="l30.52" class="difflineminus">-contract @mozilla.org/network/protocol;1?name=webcals {bdf71224-365d-4493-856a-a7e74026f766}</span>
<a href="#l30.53"></a><span id="l30.53" class="difflineminus">-</span>
<a href="#l30.54"></a><span id="l30.54" class="difflineminus">-component {806b6423-3aaa-4b26-afa3-de60563e9cec} calItemModule.js</span>
<a href="#l30.55"></a><span id="l30.55" class="difflineminus">-contract @mozilla.org/calendar/recurrence-date;1 {806b6423-3aaa-4b26-afa3-de60563e9cec}</span>
<a href="#l30.56"></a><span id="l30.56" class="difflineminus">-</span>
<a href="#l30.57"></a><span id="l30.57" class="difflineminus">-component {04027036-5884-4a30-b4af-f2cad79f6edf} calItemModule.js</span>
<a href="#l30.58"></a><span id="l30.58" class="difflineminus">-contract @mozilla.org/calendar/recurrence-info;1 {04027036-5884-4a30-b4af-f2cad79f6edf}</span>
<a href="#l30.59"></a><span id="l30.59" class="difflineminus">-</span>
<a href="#l30.60"></a><span id="l30.60" class="difflineminus">-component {76810fae-abad-4019-917a-08e95d5bbd68} calItemModule.js</span>
<a href="#l30.61"></a><span id="l30.61" class="difflineminus">-contract @mozilla.org/calendar/relation;1 {76810fae-abad-4019-917a-08e95d5bbd68}</span>
<a href="#l30.62"></a><span id="l30.62" class="difflineminus">-</span>
<a href="#l30.63"></a><span id="l30.63" class="difflineminus">-component {2547331f-34c0-4a4b-b93c-b503538ba6d6} calItemModule.js</span>
<a href="#l30.64"></a><span id="l30.64" class="difflineminus">-contract @mozilla.org/calendar/startup-service;1 {2547331f-34c0-4a4b-b93c-b503538ba6d6}</span>
<a href="#l30.65"></a><span id="l30.65" class="difflineminus">-category profile-after-change calendar-startup-service @mozilla.org/calendar/startup-service;1</span>
<a href="#l30.66"></a><span id="l30.66" class="difflineminus">-</span>
<a href="#l30.67"></a><span id="l30.67" class="difflineminus">-component {fcb54c82-2fb9-42cb-bf44-1e197a55e520} calItemModule.js</span>
<a href="#l30.68"></a><span id="l30.68" class="difflineminus">-contract @mozilla.org/calendar/transaction;1 {fcb54c82-2fb9-42cb-bf44-1e197a55e520}</span>
<a href="#l30.69"></a><span id="l30.69" class="difflineminus">-</span>
<a href="#l30.70"></a><span id="l30.70" class="difflineminus">-component {1d529847-d292-4222-b066-b8b17a794d62} calItemModule.js</span>
<a href="#l30.71"></a><span id="l30.71" class="difflineminus">-contract @mozilla.org/calendar/transactionmanager;1 {1d529847-d292-4222-b066-b8b17a794d62}</span>
<a href="#l30.72"></a><span id="l30.72" class="difflineminus">-</span>
<a href="#l30.73"></a><span id="l30.73" class="difflineminus">-component {7af51168-6abe-4a31-984d-6f8a3989212d} calItemModule.js</span>
<a href="#l30.74"></a><span id="l30.74" class="difflineminus">-contract @mozilla.org/calendar/todo;1 {7af51168-6abe-4a31-984d-6f8a3989212d}</span>
<a href="#l30.75"></a><span id="l30.75" class="difflineminus">-</span>
<a href="#l30.76"></a><span id="l30.76" class="difflineminus">-component {6877bbdd-f336-46f5-98ce-fe86d0285cc1} calItemModule.js</span>
<a href="#l30.77"></a><span id="l30.77" class="difflineminus">-contract @mozilla.org/calendar/weekinfo-service;1 {6877bbdd-f336-46f5-98ce-fe86d0285cc1}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1">deleted file mode 100644</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineminus">--- a/calendar/base/src/calSleepMonitor.manifest</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineplus">+++ /dev/null</span>
<a href="#l31.4"></a><span id="l31.4" class="difflineat">@@ -1,3 +0,0 @@</span>
<a href="#l31.5"></a><span id="l31.5" class="difflineminus">-component {9b987a8d-c2ef-4cb9-9602-1261b4b2f6fa} calSleepMonitor.js</span>
<a href="#l31.6"></a><span id="l31.6" class="difflineminus">-contract @mozilla.org/calendar/sleep-monitor;1 {9b987a8d-c2ef-4cb9-9602-1261b4b2f6fa}</span>
<a href="#l31.7"></a><span id="l31.7" class="difflineminus">-category profile-after-change calSleepMonitor @mozilla.org/calendar/sleep-monitor;1</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1">deleted file mode 100644</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineminus">--- a/calendar/base/src/calTimezoneService.manifest</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineplus">+++ /dev/null</span>
<a href="#l32.4"></a><span id="l32.4" class="difflineat">@@ -1,2 +0,0 @@</span>
<a href="#l32.5"></a><span id="l32.5" class="difflineminus">-component {e736f2bd-7640-4715-ab35-887dc866c587} calTimezoneService.js</span>
<a href="#l32.6"></a><span id="l32.6" class="difflineminus">-contract @mozilla.org/calendar/timezone-service;1 {e736f2bd-7640-4715-ab35-887dc866c587}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1">new file mode 100644</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineminus">--- /dev/null</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineplus">+++ b/calendar/base/src/components.conf</span>
<a href="#l33.4"></a><span id="l33.4" class="difflineat">@@ -0,0 +1,173 @@</span>
<a href="#l33.5"></a><span id="l33.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l33.6"></a><span id="l33.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l33.7"></a><span id="l33.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l33.8"></a><span id="l33.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l33.9"></a><span id="l33.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l33.10"></a><span id="l33.10" class="difflineplus">+</span>
<a href="#l33.11"></a><span id="l33.11" class="difflineplus">+Classes = [</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineplus">+  {</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+    'cid': '{9b987a8d-c2ef-4cb9-9602-1261b4b2f6fa}',</span>
<a href="#l33.14"></a><span id="l33.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/sleep-monitor;1'],</span>
<a href="#l33.15"></a><span id="l33.15" class="difflineplus">+    'jsm': 'resource:///modules/CalSleepMonitor.jsm',</span>
<a href="#l33.16"></a><span id="l33.16" class="difflineplus">+    'constructor': 'CalSleepMonitor',</span>
<a href="#l33.17"></a><span id="l33.17" class="difflineplus">+    'categories': {'profile-after-change': 'CalSleepMonitor'},</span>
<a href="#l33.18"></a><span id="l33.18" class="difflineplus">+  },</span>
<a href="#l33.19"></a><span id="l33.19" class="difflineplus">+  {</span>
<a href="#l33.20"></a><span id="l33.20" class="difflineplus">+    'cid': '{7463258c-6ef3-40a2-89a9-bb349596e927}',</span>
<a href="#l33.21"></a><span id="l33.21" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/acl-manager;1?type=default'],</span>
<a href="#l33.22"></a><span id="l33.22" class="difflineplus">+    'jsm': 'resource:///modules/CalDefaultACLManager.jsm',</span>
<a href="#l33.23"></a><span id="l33.23" class="difflineplus">+    'constructor': 'CalDefaultACLManager',</span>
<a href="#l33.24"></a><span id="l33.24" class="difflineplus">+  },</span>
<a href="#l33.25"></a><span id="l33.25" class="difflineplus">+  {</span>
<a href="#l33.26"></a><span id="l33.26" class="difflineplus">+    'cid': '{e736f2bd-7640-4715-ab35-887dc866c587}',</span>
<a href="#l33.27"></a><span id="l33.27" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/timezone-service;1'],</span>
<a href="#l33.28"></a><span id="l33.28" class="difflineplus">+    'jsm': 'resource:///modules/CalTimezoneService.jsm',</span>
<a href="#l33.29"></a><span id="l33.29" class="difflineplus">+    'constructor': 'CalTimezoneService',</span>
<a href="#l33.30"></a><span id="l33.30" class="difflineplus">+  },</span>
<a href="#l33.31"></a><span id="l33.31" class="difflineplus">+  {</span>
<a href="#l33.32"></a><span id="l33.32" class="difflineplus">+    'cid': '{b8db7c7f-c168-4e11-becb-f26c1c4f5f8f}',</span>
<a href="#l33.33"></a><span id="l33.33" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/alarm;1'],</span>
<a href="#l33.34"></a><span id="l33.34" class="difflineplus">+    'jsm': 'resource:///modules/CalAlarm.jsm',</span>
<a href="#l33.35"></a><span id="l33.35" class="difflineplus">+    'constructor': 'CalAlarm',</span>
<a href="#l33.36"></a><span id="l33.36" class="difflineplus">+  },</span>
<a href="#l33.37"></a><span id="l33.37" class="difflineplus">+  {</span>
<a href="#l33.38"></a><span id="l33.38" class="difflineplus">+    'cid': '{4b7ae030-ed79-11d9-8cd6-0800200c9a66}',</span>
<a href="#l33.39"></a><span id="l33.39" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/alarm-monitor;1'],</span>
<a href="#l33.40"></a><span id="l33.40" class="difflineplus">+    'jsm': 'resource:///modules/CalAlarmMonitor.jsm',</span>
<a href="#l33.41"></a><span id="l33.41" class="difflineplus">+    'constructor': 'CalAlarmMonitor',</span>
<a href="#l33.42"></a><span id="l33.42" class="difflineplus">+  },</span>
<a href="#l33.43"></a><span id="l33.43" class="difflineplus">+  {</span>
<a href="#l33.44"></a><span id="l33.44" class="difflineplus">+    'cid': '{7a9200dd-6a64-4fff-a798-c5802186e2cc}',</span>
<a href="#l33.45"></a><span id="l33.45" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/alarm-service;1'],</span>
<a href="#l33.46"></a><span id="l33.46" class="difflineplus">+    'jsm': 'resource:///modules/CalAlarmService.jsm',</span>
<a href="#l33.47"></a><span id="l33.47" class="difflineplus">+    'constructor': 'CalAlarmService',</span>
<a href="#l33.48"></a><span id="l33.48" class="difflineplus">+  },</span>
<a href="#l33.49"></a><span id="l33.49" class="difflineplus">+  {</span>
<a href="#l33.50"></a><span id="l33.50" class="difflineplus">+    'cid': '{5f76b352-ab75-4c2b-82c9-9206dbbf8571}',</span>
<a href="#l33.51"></a><span id="l33.51" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/attachment;1'],</span>
<a href="#l33.52"></a><span id="l33.52" class="difflineplus">+    'jsm': 'resource:///modules/CalAttachment.jsm',</span>
<a href="#l33.53"></a><span id="l33.53" class="difflineplus">+    'constructor': 'CalAttachment',</span>
<a href="#l33.54"></a><span id="l33.54" class="difflineplus">+  },</span>
<a href="#l33.55"></a><span id="l33.55" class="difflineplus">+  {</span>
<a href="#l33.56"></a><span id="l33.56" class="difflineplus">+    'cid': '{5c8dcaa3-170c-4a73-8142-d531156f664d}',</span>
<a href="#l33.57"></a><span id="l33.57" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/attendee;1'],</span>
<a href="#l33.58"></a><span id="l33.58" class="difflineplus">+    'jsm': 'resource:///modules/CalAttendee.jsm',</span>
<a href="#l33.59"></a><span id="l33.59" class="difflineplus">+    'constructor': 'CalAttendee',</span>
<a href="#l33.60"></a><span id="l33.60" class="difflineplus">+  },</span>
<a href="#l33.61"></a><span id="l33.61" class="difflineplus">+  {</span>
<a href="#l33.62"></a><span id="l33.62" class="difflineplus">+    'cid': '{f42585e7-e736-4600-985d-9624c1c51992}',</span>
<a href="#l33.63"></a><span id="l33.63" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/manager;1'],</span>
<a href="#l33.64"></a><span id="l33.64" class="difflineplus">+    'jsm': 'resource:///modules/CalCalendarManager.jsm',</span>
<a href="#l33.65"></a><span id="l33.65" class="difflineplus">+    'constructor': 'CalCalendarManager',</span>
<a href="#l33.66"></a><span id="l33.66" class="difflineplus">+  },</span>
<a href="#l33.67"></a><span id="l33.67" class="difflineplus">+  {</span>
<a href="#l33.68"></a><span id="l33.68" class="difflineplus">+    'cid': '{f5f743cd-8997-428e-bc1b-644e73f61203}',</span>
<a href="#l33.69"></a><span id="l33.69" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/calendarsearch-service;1'],</span>
<a href="#l33.70"></a><span id="l33.70" class="difflineplus">+    'jsm': 'resource:///modules/CalCalendarSearchService.jsm',</span>
<a href="#l33.71"></a><span id="l33.71" class="difflineplus">+    'constructor': 'CalCalendarSearchService',</span>
<a href="#l33.72"></a><span id="l33.72" class="difflineplus">+  },</span>
<a href="#l33.73"></a><span id="l33.73" class="difflineplus">+  {</span>
<a href="#l33.74"></a><span id="l33.74" class="difflineplus">+    'cid': '{4123da9a-f047-42da-a7d0-cc4175b9f36a}',</span>
<a href="#l33.75"></a><span id="l33.75" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/datetime-formatter;1'],</span>
<a href="#l33.76"></a><span id="l33.76" class="difflineplus">+    'jsm': 'resource:///modules/CalDateTimeFormatter.jsm',</span>
<a href="#l33.77"></a><span id="l33.77" class="difflineplus">+    'constructor': 'CalDateTimeFormatter',</span>
<a href="#l33.78"></a><span id="l33.78" class="difflineplus">+  },</span>
<a href="#l33.79"></a><span id="l33.79" class="difflineplus">+  {</span>
<a href="#l33.80"></a><span id="l33.80" class="difflineplus">+    'cid': '{8e6799af-e7e9-4e6c-9a82-a2413e86d8c3}',</span>
<a href="#l33.81"></a><span id="l33.81" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/deleted-items-manager;1'],</span>
<a href="#l33.82"></a><span id="l33.82" class="difflineplus">+    'jsm': 'resource:///modules/CalDeletedItems.jsm',</span>
<a href="#l33.83"></a><span id="l33.83" class="difflineplus">+    'constructor': 'CalDeletedItems',</span>
<a href="#l33.84"></a><span id="l33.84" class="difflineplus">+    'categories': {'profile-after-change': 'deleted-items-manager'},</span>
<a href="#l33.85"></a><span id="l33.85" class="difflineplus">+  },</span>
<a href="#l33.86"></a><span id="l33.86" class="difflineplus">+  {</span>
<a href="#l33.87"></a><span id="l33.87" class="difflineplus">+    'cid': '{974339d5-ab86-4491-aaaf-2b2ca177c12b}',</span>
<a href="#l33.88"></a><span id="l33.88" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/event;1'],</span>
<a href="#l33.89"></a><span id="l33.89" class="difflineplus">+    'jsm': 'resource:///modules/CalEvent.jsm',</span>
<a href="#l33.90"></a><span id="l33.90" class="difflineplus">+    'constructor': 'CalEvent',</span>
<a href="#l33.91"></a><span id="l33.91" class="difflineplus">+  },</span>
<a href="#l33.92"></a><span id="l33.92" class="difflineplus">+  {</span>
<a href="#l33.93"></a><span id="l33.93" class="difflineplus">+    'cid': '{29c56cd5-d36e-453a-acde-0083bd4fe6d3}',</span>
<a href="#l33.94"></a><span id="l33.94" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/freebusy-service;1'],</span>
<a href="#l33.95"></a><span id="l33.95" class="difflineplus">+    'jsm': 'resource:///modules/CalFreeBusyService.jsm',</span>
<a href="#l33.96"></a><span id="l33.96" class="difflineplus">+    'constructor': 'CalFreeBusyService',</span>
<a href="#l33.97"></a><span id="l33.97" class="difflineplus">+  },</span>
<a href="#l33.98"></a><span id="l33.98" class="difflineplus">+  {</span>
<a href="#l33.99"></a><span id="l33.99" class="difflineplus">+    'cid': '{6fe88047-75b6-4874-80e8-5f5800f14984}',</span>
<a href="#l33.100"></a><span id="l33.100" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/ics-parser;1'],</span>
<a href="#l33.101"></a><span id="l33.101" class="difflineplus">+    'jsm': 'resource:///modules/CalIcsParser.jsm',</span>
<a href="#l33.102"></a><span id="l33.102" class="difflineplus">+    'constructor': 'CalIcsParser',</span>
<a href="#l33.103"></a><span id="l33.103" class="difflineplus">+  },</span>
<a href="#l33.104"></a><span id="l33.104" class="difflineplus">+  {</span>
<a href="#l33.105"></a><span id="l33.105" class="difflineplus">+    'cid': '{207a6682-8ff1-4203-9160-729ec28c8766}',</span>
<a href="#l33.106"></a><span id="l33.106" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/ics-serializer;1'],</span>
<a href="#l33.107"></a><span id="l33.107" class="difflineplus">+    'jsm': 'resource:///modules/CalIcsSerializer.jsm',</span>
<a href="#l33.108"></a><span id="l33.108" class="difflineplus">+    'constructor': 'CalIcsSerializer',</span>
<a href="#l33.109"></a><span id="l33.109" class="difflineplus">+  },</span>
<a href="#l33.110"></a><span id="l33.110" class="difflineplus">+  {</span>
<a href="#l33.111"></a><span id="l33.111" class="difflineplus">+    'cid': '{f41392ab-dcad-4bad-818f-b3d1631c4d93}',</span>
<a href="#l33.112"></a><span id="l33.112" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/itip-item;1'],</span>
<a href="#l33.113"></a><span id="l33.113" class="difflineplus">+    'jsm': 'resource:///modules/CalItipItem.jsm',</span>
<a href="#l33.114"></a><span id="l33.114" class="difflineplus">+    'constructor': 'CalItipItem',</span>
<a href="#l33.115"></a><span id="l33.115" class="difflineplus">+  },</span>
<a href="#l33.116"></a><span id="l33.116" class="difflineplus">+  {</span>
<a href="#l33.117"></a><span id="l33.117" class="difflineplus">+    'cid': '{1153c73a-39be-46aa-9ba9-656d188865ca}',</span>
<a href="#l33.118"></a><span id="l33.118" class="difflineplus">+    'contract_ids': ['@mozilla.org/network/protocol;1?name=webcal'],</span>
<a href="#l33.119"></a><span id="l33.119" class="difflineplus">+    'jsm': 'resource:///modules/CalProtocolHandler.jsm',</span>
<a href="#l33.120"></a><span id="l33.120" class="difflineplus">+    'constructor': 'CalProtocolHandlerWebcal',</span>
<a href="#l33.121"></a><span id="l33.121" class="difflineplus">+  },</span>
<a href="#l33.122"></a><span id="l33.122" class="difflineplus">+  {</span>
<a href="#l33.123"></a><span id="l33.123" class="difflineplus">+    'cid': '{bdf71224-365d-4493-856a-a7e74026f766}',</span>
<a href="#l33.124"></a><span id="l33.124" class="difflineplus">+    'contract_ids': ['@mozilla.org/network/protocol;1?name=webcals'],</span>
<a href="#l33.125"></a><span id="l33.125" class="difflineplus">+    'jsm': 'resource:///modules/CalProtocolHandler.jsm',</span>
<a href="#l33.126"></a><span id="l33.126" class="difflineplus">+    'constructor': 'CalProtocolHandlerWebcals',</span>
<a href="#l33.127"></a><span id="l33.127" class="difflineplus">+  },</span>
<a href="#l33.128"></a><span id="l33.128" class="difflineplus">+  {</span>
<a href="#l33.129"></a><span id="l33.129" class="difflineplus">+    'cid': '{806b6423-3aaa-4b26-afa3-de60563e9cec}',</span>
<a href="#l33.130"></a><span id="l33.130" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/recurrence-date;1'],</span>
<a href="#l33.131"></a><span id="l33.131" class="difflineplus">+    'jsm': 'resource:///modules/CalRecurrenceDate.jsm',</span>
<a href="#l33.132"></a><span id="l33.132" class="difflineplus">+    'constructor': 'CalRecurrenceDate',</span>
<a href="#l33.133"></a><span id="l33.133" class="difflineplus">+  },</span>
<a href="#l33.134"></a><span id="l33.134" class="difflineplus">+  {</span>
<a href="#l33.135"></a><span id="l33.135" class="difflineplus">+    'cid': '{04027036-5884-4a30-b4af-f2cad79f6edf}',</span>
<a href="#l33.136"></a><span id="l33.136" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/recurrence-info;1'],</span>
<a href="#l33.137"></a><span id="l33.137" class="difflineplus">+    'jsm': 'resource:///modules/CalRecurrenceInfo.jsm',</span>
<a href="#l33.138"></a><span id="l33.138" class="difflineplus">+    'constructor': 'CalRecurrenceInfo',</span>
<a href="#l33.139"></a><span id="l33.139" class="difflineplus">+  },</span>
<a href="#l33.140"></a><span id="l33.140" class="difflineplus">+  {</span>
<a href="#l33.141"></a><span id="l33.141" class="difflineplus">+    'cid': '{76810fae-abad-4019-917a-08e95d5bbd68}',</span>
<a href="#l33.142"></a><span id="l33.142" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/relation;1'],</span>
<a href="#l33.143"></a><span id="l33.143" class="difflineplus">+    'jsm': 'resource:///modules/CalRelation.jsm',</span>
<a href="#l33.144"></a><span id="l33.144" class="difflineplus">+    'constructor': 'CalRelation',</span>
<a href="#l33.145"></a><span id="l33.145" class="difflineplus">+  },</span>
<a href="#l33.146"></a><span id="l33.146" class="difflineplus">+  {</span>
<a href="#l33.147"></a><span id="l33.147" class="difflineplus">+    'cid': '{fcb54c82-2fb9-42cb-bf44-1e197a55e520}',</span>
<a href="#l33.148"></a><span id="l33.148" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/transaction;1'],</span>
<a href="#l33.149"></a><span id="l33.149" class="difflineplus">+    'jsm': 'resource:///modules/CalTransactionManager.jsm',</span>
<a href="#l33.150"></a><span id="l33.150" class="difflineplus">+    'constructor': 'CalTransaction',</span>
<a href="#l33.151"></a><span id="l33.151" class="difflineplus">+  },</span>
<a href="#l33.152"></a><span id="l33.152" class="difflineplus">+  {</span>
<a href="#l33.153"></a><span id="l33.153" class="difflineplus">+    'cid': '{1d529847-d292-4222-b066-b8b17a794d62}',</span>
<a href="#l33.154"></a><span id="l33.154" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/transactionmanager;1'],</span>
<a href="#l33.155"></a><span id="l33.155" class="difflineplus">+    'jsm': 'resource:///modules/CalTransactionManager.jsm',</span>
<a href="#l33.156"></a><span id="l33.156" class="difflineplus">+    'constructor': 'CalTransactionManager',</span>
<a href="#l33.157"></a><span id="l33.157" class="difflineplus">+  },</span>
<a href="#l33.158"></a><span id="l33.158" class="difflineplus">+  {</span>
<a href="#l33.159"></a><span id="l33.159" class="difflineplus">+    'cid': '{7af51168-6abe-4a31-984d-6f8a3989212d}',</span>
<a href="#l33.160"></a><span id="l33.160" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/todo;1'],</span>
<a href="#l33.161"></a><span id="l33.161" class="difflineplus">+    'jsm': 'resource:///modules/CalTodo.jsm',</span>
<a href="#l33.162"></a><span id="l33.162" class="difflineplus">+    'constructor': 'CalTodo',</span>
<a href="#l33.163"></a><span id="l33.163" class="difflineplus">+  },</span>
<a href="#l33.164"></a><span id="l33.164" class="difflineplus">+  {</span>
<a href="#l33.165"></a><span id="l33.165" class="difflineplus">+    'cid': '{6877bbdd-f336-46f5-98ce-fe86d0285cc1}',</span>
<a href="#l33.166"></a><span id="l33.166" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/weekinfo-service;1'],</span>
<a href="#l33.167"></a><span id="l33.167" class="difflineplus">+    'jsm': 'resource:///modules/CalWeekInfoService.jsm',</span>
<a href="#l33.168"></a><span id="l33.168" class="difflineplus">+    'constructor': 'CalWeekInfoService',</span>
<a href="#l33.169"></a><span id="l33.169" class="difflineplus">+  },</span>
<a href="#l33.170"></a><span id="l33.170" class="difflineplus">+  {</span>
<a href="#l33.171"></a><span id="l33.171" class="difflineplus">+    'cid': '{2547331f-34c0-4a4b-b93c-b503538ba6d6}',</span>
<a href="#l33.172"></a><span id="l33.172" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/startup-service;1'],</span>
<a href="#l33.173"></a><span id="l33.173" class="difflineplus">+    'jsm': 'resource:///modules/CalStartupService.jsm',</span>
<a href="#l33.174"></a><span id="l33.174" class="difflineplus">+    'constructor': 'CalStartupService',</span>
<a href="#l33.175"></a><span id="l33.175" class="difflineplus">+    'categories': {'profile-after-change': 'calendar-startup-service'},</span>
<a href="#l33.176"></a><span id="l33.176" class="difflineplus">+  },</span>
<a href="#l33.177"></a><span id="l33.177" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/calendar/base/src/moz.build</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/calendar/base/src/moz.build</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -4,55 +4,54 @@</span>
<a href="#l34.4"></a><span id="l34.4"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l34.5"></a><span id="l34.5"> </span>
<a href="#l34.6"></a><span id="l34.6"> XPIDL_SOURCES += [</span>
<a href="#l34.7"></a><span id="l34.7">     'calInternalInterfaces.idl',</span>
<a href="#l34.8"></a><span id="l34.8"> ]</span>
<a href="#l34.9"></a><span id="l34.9"> </span>
<a href="#l34.10"></a><span id="l34.10"> XPIDL_MODULE = 'calbaseinternal'</span>
<a href="#l34.11"></a><span id="l34.11"> </span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineminus">-    'calDefaultACLManager.js',</span>
<a href="#l34.14"></a><span id="l34.14" class="difflineminus">-    'calDefaultACLManager.manifest',</span>
<a href="#l34.15"></a><span id="l34.15" class="difflineminus">-    'calItemModule.js',</span>
<a href="#l34.16"></a><span id="l34.16" class="difflineminus">-    'calItemModule.manifest',</span>
<a href="#l34.17"></a><span id="l34.17" class="difflineminus">-    'calSleepMonitor.js',</span>
<a href="#l34.18"></a><span id="l34.18" class="difflineminus">-    'calSleepMonitor.manifest',</span>
<a href="#l34.19"></a><span id="l34.19" class="difflineminus">-    'calTimezoneService.js',</span>
<a href="#l34.20"></a><span id="l34.20" class="difflineminus">-    'calTimezoneService.manifest',</span>
<a href="#l34.21"></a><span id="l34.21" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l34.22"></a><span id="l34.22" class="difflineplus">+    'CalAlarm.jsm',</span>
<a href="#l34.23"></a><span id="l34.23" class="difflineplus">+    'CalAlarmMonitor.jsm',</span>
<a href="#l34.24"></a><span id="l34.24" class="difflineplus">+    'CalAlarmService.jsm',</span>
<a href="#l34.25"></a><span id="l34.25" class="difflineplus">+    'CalAttachment.jsm',</span>
<a href="#l34.26"></a><span id="l34.26" class="difflineplus">+    'CalAttendee.jsm',</span>
<a href="#l34.27"></a><span id="l34.27" class="difflineplus">+    'CalCalendarManager.jsm',</span>
<a href="#l34.28"></a><span id="l34.28" class="difflineplus">+    'CalCalendarSearchService.jsm',</span>
<a href="#l34.29"></a><span id="l34.29" class="difflineplus">+    'CalDateTimeFormatter.jsm',</span>
<a href="#l34.30"></a><span id="l34.30" class="difflineplus">+    'CalDefaultACLManager.jsm',</span>
<a href="#l34.31"></a><span id="l34.31" class="difflineplus">+    'CalDeletedItems.jsm',</span>
<a href="#l34.32"></a><span id="l34.32" class="difflineplus">+    'CalEvent.jsm',</span>
<a href="#l34.33"></a><span id="l34.33" class="difflineplus">+    'CalFreeBusyService.jsm',</span>
<a href="#l34.34"></a><span id="l34.34" class="difflineplus">+    'CalIcsParser.jsm',</span>
<a href="#l34.35"></a><span id="l34.35" class="difflineplus">+    'CalIcsSerializer.jsm',</span>
<a href="#l34.36"></a><span id="l34.36" class="difflineplus">+    'CalItipItem.jsm',</span>
<a href="#l34.37"></a><span id="l34.37" class="difflineplus">+    'CalProtocolHandler.jsm',</span>
<a href="#l34.38"></a><span id="l34.38" class="difflineplus">+    'CalRecurrenceDate.jsm',</span>
<a href="#l34.39"></a><span id="l34.39" class="difflineplus">+    'CalRecurrenceInfo.jsm',</span>
<a href="#l34.40"></a><span id="l34.40" class="difflineplus">+    'CalRelation.jsm',</span>
<a href="#l34.41"></a><span id="l34.41" class="difflineplus">+    'CalSleepMonitor.jsm',</span>
<a href="#l34.42"></a><span id="l34.42" class="difflineplus">+    'CalStartupService.jsm',</span>
<a href="#l34.43"></a><span id="l34.43" class="difflineplus">+    'CalTimezoneService.jsm',</span>
<a href="#l34.44"></a><span id="l34.44" class="difflineplus">+    'CalTodo.jsm',</span>
<a href="#l34.45"></a><span id="l34.45" class="difflineplus">+    'CalTransactionManager.jsm',</span>
<a href="#l34.46"></a><span id="l34.46" class="difflineplus">+    'CalWeekInfoService.jsm',</span>
<a href="#l34.47"></a><span id="l34.47" class="difflineplus">+]</span>
<a href="#l34.48"></a><span id="l34.48" class="difflineplus">+</span>
<a href="#l34.49"></a><span id="l34.49" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l34.50"></a><span id="l34.50" class="difflineplus">+    'components.conf',</span>
<a href="#l34.51"></a><span id="l34.51"> ]</span>
<a href="#l34.52"></a><span id="l34.52"> </span>
<a href="#l34.53"></a><span id="l34.53"> # These files go in components so they can be packaged correctly.</span>
<a href="#l34.54"></a><span id="l34.54"> FINAL_TARGET_FILES.components += [</span>
<a href="#l34.55"></a><span id="l34.55" class="difflineminus">-    'calAlarm.js',</span>
<a href="#l34.56"></a><span id="l34.56" class="difflineminus">-    'calAlarmMonitor.js',</span>
<a href="#l34.57"></a><span id="l34.57" class="difflineminus">-    'calAlarmService.js',</span>
<a href="#l34.58"></a><span id="l34.58" class="difflineminus">-    'calAttachment.js',</span>
<a href="#l34.59"></a><span id="l34.59" class="difflineminus">-    'calAttendee.js',</span>
<a href="#l34.60"></a><span id="l34.60">     'calCachedCalendar.js',</span>
<a href="#l34.61"></a><span id="l34.61" class="difflineminus">-    'calCalendarManager.js',</span>
<a href="#l34.62"></a><span id="l34.62" class="difflineminus">-    'calCalendarSearchService.js',</span>
<a href="#l34.63"></a><span id="l34.63" class="difflineminus">-    'calDateTimeFormatter.js',</span>
<a href="#l34.64"></a><span id="l34.64" class="difflineminus">-    'calDeletedItems.js',</span>
<a href="#l34.65"></a><span id="l34.65" class="difflineminus">-    'calEvent.js',</span>
<a href="#l34.66"></a><span id="l34.66">     'calFilter.js',</span>
<a href="#l34.67"></a><span id="l34.67" class="difflineminus">-    'calFreeBusyService.js',</span>
<a href="#l34.68"></a><span id="l34.68" class="difflineminus">-    'calIcsParser.js',</span>
<a href="#l34.69"></a><span id="l34.69" class="difflineminus">-    'calIcsSerializer.js',</span>
<a href="#l34.70"></a><span id="l34.70">     'calItemBase.js',</span>
<a href="#l34.71"></a><span id="l34.71" class="difflineminus">-    'calItipItem.js',</span>
<a href="#l34.72"></a><span id="l34.72" class="difflineminus">-    'calProtocolHandler.js',</span>
<a href="#l34.73"></a><span id="l34.73" class="difflineminus">-    'calRecurrenceDate.js',</span>
<a href="#l34.74"></a><span id="l34.74" class="difflineminus">-    'calRecurrenceInfo.js',</span>
<a href="#l34.75"></a><span id="l34.75" class="difflineminus">-    'calRelation.js',</span>
<a href="#l34.76"></a><span id="l34.76" class="difflineminus">-    'calStartupService.js',</span>
<a href="#l34.77"></a><span id="l34.77">     'calTimezone.js',</span>
<a href="#l34.78"></a><span id="l34.78" class="difflineminus">-    'calTodo.js',</span>
<a href="#l34.79"></a><span id="l34.79" class="difflineminus">-    'calTransactionManager.js',</span>
<a href="#l34.80"></a><span id="l34.80" class="difflineminus">-    'calWeekInfoService.js',</span>
<a href="#l34.81"></a><span id="l34.81"> ]</span>
<a href="#l34.82"></a><span id="l34.82"> </span>
<a href="#l34.83"></a><span id="l34.83"> with Files('**'):</span>
<a href="#l34.84"></a><span id="l34.84">     BUG_COMPONENT = ('Calendar', 'Internal Components')</span>
<a href="#l34.85"></a><span id="l34.85"> </span>
<a href="#l34.86"></a><span id="l34.86"> with Files('calAlarm*'):</span>
<a href="#l34.87"></a><span id="l34.87">     BUG_COMPONENT = ('Calendar', 'Alarms')</span>
<a href="#l34.88"></a><span id="l34.88"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1">rename from calendar/import-export/calHtmlExport.js</span>
<a href="#l35.2"></a><span id="l35.2">rename to calendar/import-export/CalHtmlExport.jsm</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineminus">--- a/calendar/import-export/calHtmlExport.js</span>
<a href="#l35.4"></a><span id="l35.4" class="difflineplus">+++ b/calendar/import-export/CalHtmlExport.jsm</span>
<a href="#l35.5"></a><span id="l35.5" class="difflineat">@@ -1,22 +1,24 @@</span>
<a href="#l35.6"></a><span id="l35.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l35.7"></a><span id="l35.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l35.8"></a><span id="l35.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l35.9"></a><span id="l35.9"> </span>
<a href="#l35.10"></a><span id="l35.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalHtmlExporter&quot;];</span>
<a href="#l35.11"></a><span id="l35.11" class="difflineplus">+</span>
<a href="#l35.12"></a><span id="l35.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l35.13"></a><span id="l35.13"> </span>
<a href="#l35.14"></a><span id="l35.14"> /**</span>
<a href="#l35.15"></a><span id="l35.15">  * HTML Export Plugin</span>
<a href="#l35.16"></a><span id="l35.16">  */</span>
<a href="#l35.17"></a><span id="l35.17" class="difflineminus">-function calHtmlExporter() {</span>
<a href="#l35.18"></a><span id="l35.18" class="difflineplus">+function CalHtmlExporter() {</span>
<a href="#l35.19"></a><span id="l35.19">   this.wrappedJSObject = this;</span>
<a href="#l35.20"></a><span id="l35.20"> }</span>
<a href="#l35.21"></a><span id="l35.21"> </span>
<a href="#l35.22"></a><span id="l35.22" class="difflineminus">-calHtmlExporter.prototype = {</span>
<a href="#l35.23"></a><span id="l35.23" class="difflineplus">+CalHtmlExporter.prototype = {</span>
<a href="#l35.24"></a><span id="l35.24">   QueryInterface: ChromeUtils.generateQI([Ci.calIExporter]),</span>
<a href="#l35.25"></a><span id="l35.25">   classID: Components.ID(&quot;{72d9ab35-9b1b-442a-8cd0-ae49f00b159b}&quot;),</span>
<a href="#l35.26"></a><span id="l35.26"> </span>
<a href="#l35.27"></a><span id="l35.27">   getFileTypes() {</span>
<a href="#l35.28"></a><span id="l35.28">     let wildmat = &quot;*.html; *.htm&quot;;</span>
<a href="#l35.29"></a><span id="l35.29">     let label = cal.l10n.getCalString(&quot;filterHtml&quot;, [wildmat]);</span>
<a href="#l35.30"></a><span id="l35.30">     return [</span>
<a href="#l35.31"></a><span id="l35.31">       {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1">rename from calendar/import-export/calIcsImportExport.js</span>
<a href="#l36.2"></a><span id="l36.2">rename to calendar/import-export/CalIcsImportExport.jsm</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineminus">--- a/calendar/import-export/calIcsImportExport.js</span>
<a href="#l36.4"></a><span id="l36.4" class="difflineplus">+++ b/calendar/import-export/CalIcsImportExport.jsm</span>
<a href="#l36.5"></a><span id="l36.5" class="difflineat">@@ -1,54 +1,50 @@</span>
<a href="#l36.6"></a><span id="l36.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l36.7"></a><span id="l36.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l36.8"></a><span id="l36.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l36.9"></a><span id="l36.9"> </span>
<a href="#l36.10"></a><span id="l36.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l36.11"></a><span id="l36.11" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalIcsImporter&quot;, &quot;CalIcsExporter&quot;];</span>
<a href="#l36.12"></a><span id="l36.12"> </span>
<a href="#l36.13"></a><span id="l36.13" class="difflineminus">-/**</span>
<a href="#l36.14"></a><span id="l36.14" class="difflineminus">- * ICS Import and Export Plugin</span>
<a href="#l36.15"></a><span id="l36.15" class="difflineminus">- */</span>
<a href="#l36.16"></a><span id="l36.16" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l36.17"></a><span id="l36.17"> </span>
<a href="#l36.18"></a><span id="l36.18"> // Shared functions</span>
<a href="#l36.19"></a><span id="l36.19"> function getIcsFileTypes() {</span>
<a href="#l36.20"></a><span id="l36.20">   return [</span>
<a href="#l36.21"></a><span id="l36.21">     {</span>
<a href="#l36.22"></a><span id="l36.22">       QueryInterface: ChromeUtils.generateQI([Ci.calIFileType]),</span>
<a href="#l36.23"></a><span id="l36.23">       defaultExtension: &quot;ics&quot;,</span>
<a href="#l36.24"></a><span id="l36.24">       extensionFilter: &quot;*.ics&quot;,</span>
<a href="#l36.25"></a><span id="l36.25">       description: cal.l10n.getCalString(&quot;filterIcs&quot;, [&quot;*.ics&quot;]),</span>
<a href="#l36.26"></a><span id="l36.26">     },</span>
<a href="#l36.27"></a><span id="l36.27">   ];</span>
<a href="#l36.28"></a><span id="l36.28"> }</span>
<a href="#l36.29"></a><span id="l36.29"> </span>
<a href="#l36.30"></a><span id="l36.30" class="difflineminus">-// Importer</span>
<a href="#l36.31"></a><span id="l36.31" class="difflineminus">-function calIcsImporter() {</span>
<a href="#l36.32"></a><span id="l36.32" class="difflineplus">+function CalIcsImporter() {</span>
<a href="#l36.33"></a><span id="l36.33">   this.wrappedJSObject = this;</span>
<a href="#l36.34"></a><span id="l36.34"> }</span>
<a href="#l36.35"></a><span id="l36.35"> </span>
<a href="#l36.36"></a><span id="l36.36" class="difflineminus">-calIcsImporter.prototype = {</span>
<a href="#l36.37"></a><span id="l36.37" class="difflineplus">+CalIcsImporter.prototype = {</span>
<a href="#l36.38"></a><span id="l36.38">   QueryInterface: ChromeUtils.generateQI([Ci.calIImporter]),</span>
<a href="#l36.39"></a><span id="l36.39">   classID: Components.ID(&quot;{1e3e33dc-445a-49de-b2b6-15b2a050bb9d}&quot;),</span>
<a href="#l36.40"></a><span id="l36.40"> </span>
<a href="#l36.41"></a><span id="l36.41">   getFileTypes: getIcsFileTypes,</span>
<a href="#l36.42"></a><span id="l36.42"> </span>
<a href="#l36.43"></a><span id="l36.43">   importFromStream(aStream) {</span>
<a href="#l36.44"></a><span id="l36.44">     let parser = Cc[&quot;@mozilla.org/calendar/ics-parser;1&quot;].createInstance(Ci.calIIcsParser);</span>
<a href="#l36.45"></a><span id="l36.45">     parser.parseFromStream(aStream, null);</span>
<a href="#l36.46"></a><span id="l36.46">     return parser.getItems();</span>
<a href="#l36.47"></a><span id="l36.47">   },</span>
<a href="#l36.48"></a><span id="l36.48"> };</span>
<a href="#l36.49"></a><span id="l36.49"> </span>
<a href="#l36.50"></a><span id="l36.50" class="difflineminus">-// Exporter</span>
<a href="#l36.51"></a><span id="l36.51" class="difflineminus">-function calIcsExporter() {</span>
<a href="#l36.52"></a><span id="l36.52" class="difflineplus">+function CalIcsExporter() {</span>
<a href="#l36.53"></a><span id="l36.53">   this.wrappedJSObject = this;</span>
<a href="#l36.54"></a><span id="l36.54"> }</span>
<a href="#l36.55"></a><span id="l36.55"> </span>
<a href="#l36.56"></a><span id="l36.56" class="difflineminus">-calIcsExporter.prototype = {</span>
<a href="#l36.57"></a><span id="l36.57" class="difflineplus">+CalIcsExporter.prototype = {</span>
<a href="#l36.58"></a><span id="l36.58">   QueryInterface: ChromeUtils.generateQI([Ci.calIExporter]),</span>
<a href="#l36.59"></a><span id="l36.59">   classID: Components.ID(&quot;{a6a524ce-adff-4a0f-bb7d-d1aaad4adc60}&quot;),</span>
<a href="#l36.60"></a><span id="l36.60"> </span>
<a href="#l36.61"></a><span id="l36.61">   getFileTypes: getIcsFileTypes,</span>
<a href="#l36.62"></a><span id="l36.62"> </span>
<a href="#l36.63"></a><span id="l36.63">   exportToStream(aStream, aItems, aTitle) {</span>
<a href="#l36.64"></a><span id="l36.64">     let serializer = Cc[&quot;@mozilla.org/calendar/ics-serializer;1&quot;].createInstance(</span>
<a href="#l36.65"></a><span id="l36.65">       Ci.calIIcsSerializer</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1">rename from calendar/import-export/calListFormatter.js</span>
<a href="#l37.2"></a><span id="l37.2">rename to calendar/import-export/CalListFormatter.jsm</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineminus">--- a/calendar/import-export/calListFormatter.js</span>
<a href="#l37.4"></a><span id="l37.4" class="difflineplus">+++ b/calendar/import-export/CalListFormatter.jsm</span>
<a href="#l37.5"></a><span id="l37.5" class="difflineat">@@ -1,22 +1,24 @@</span>
<a href="#l37.6"></a><span id="l37.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l37.7"></a><span id="l37.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l37.8"></a><span id="l37.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l37.9"></a><span id="l37.9"> </span>
<a href="#l37.10"></a><span id="l37.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalListFormatter&quot;];</span>
<a href="#l37.11"></a><span id="l37.11" class="difflineplus">+</span>
<a href="#l37.12"></a><span id="l37.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l37.13"></a><span id="l37.13"> </span>
<a href="#l37.14"></a><span id="l37.14"> /**</span>
<a href="#l37.15"></a><span id="l37.15">  * A thin wrapper around the html list exporter for the list print format.</span>
<a href="#l37.16"></a><span id="l37.16">  */</span>
<a href="#l37.17"></a><span id="l37.17" class="difflineminus">-function calListFormatter() {</span>
<a href="#l37.18"></a><span id="l37.18" class="difflineplus">+function CalListFormatter() {</span>
<a href="#l37.19"></a><span id="l37.19">   this.wrappedJSObject = this;</span>
<a href="#l37.20"></a><span id="l37.20"> }</span>
<a href="#l37.21"></a><span id="l37.21"> </span>
<a href="#l37.22"></a><span id="l37.22" class="difflineminus">-calListFormatter.prototype = {</span>
<a href="#l37.23"></a><span id="l37.23" class="difflineplus">+CalListFormatter.prototype = {</span>
<a href="#l37.24"></a><span id="l37.24">   QueryInterface: ChromeUtils.generateQI([Ci.calIPrintFormatter]),</span>
<a href="#l37.25"></a><span id="l37.25">   classID: Components.ID(&quot;{9ae04413-fee3-45b9-8bbb-1eb39a4cbd1b}&quot;),</span>
<a href="#l37.26"></a><span id="l37.26"> </span>
<a href="#l37.27"></a><span id="l37.27">   get name() {</span>
<a href="#l37.28"></a><span id="l37.28">     return cal.l10n.getCalString(&quot;formatListName&quot;);</span>
<a href="#l37.29"></a><span id="l37.29">   },</span>
<a href="#l37.30"></a><span id="l37.30"> </span>
<a href="#l37.31"></a><span id="l37.31">   formatToHtml(aStream, aStart, aEnd, aItems, aTitle) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1">rename from calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l38.2"></a><span id="l38.2">rename to calendar/import-export/CalMonthGridPrinter.jsm</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineminus">--- a/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l38.4"></a><span id="l38.4" class="difflineplus">+++ b/calendar/import-export/CalMonthGridPrinter.jsm</span>
<a href="#l38.5"></a><span id="l38.5" class="difflineat">@@ -1,23 +1,25 @@</span>
<a href="#l38.6"></a><span id="l38.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l38.7"></a><span id="l38.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l38.8"></a><span id="l38.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l38.9"></a><span id="l38.9"> </span>
<a href="#l38.10"></a><span id="l38.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalMonthPrinter&quot;];</span>
<a href="#l38.11"></a><span id="l38.11" class="difflineplus">+</span>
<a href="#l38.12"></a><span id="l38.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l38.13"></a><span id="l38.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l38.14"></a><span id="l38.14"> </span>
<a href="#l38.15"></a><span id="l38.15"> /**</span>
<a href="#l38.16"></a><span id="l38.16">  * Prints a rough month-grid of events/tasks</span>
<a href="#l38.17"></a><span id="l38.17">  */</span>
<a href="#l38.18"></a><span id="l38.18" class="difflineminus">-function calMonthPrinter() {</span>
<a href="#l38.19"></a><span id="l38.19" class="difflineplus">+function CalMonthPrinter() {</span>
<a href="#l38.20"></a><span id="l38.20">   this.wrappedJSObject = this;</span>
<a href="#l38.21"></a><span id="l38.21"> }</span>
<a href="#l38.22"></a><span id="l38.22"> </span>
<a href="#l38.23"></a><span id="l38.23" class="difflineminus">-calMonthPrinter.prototype = {</span>
<a href="#l38.24"></a><span id="l38.24" class="difflineplus">+CalMonthPrinter.prototype = {</span>
<a href="#l38.25"></a><span id="l38.25">   QueryInterface: ChromeUtils.generateQI([Ci.calIPrintFormatter]),</span>
<a href="#l38.26"></a><span id="l38.26">   classID: Components.ID(&quot;{f42d5132-92c4-487b-b5c8-38bf292d74c1}&quot;),</span>
<a href="#l38.27"></a><span id="l38.27"> </span>
<a href="#l38.28"></a><span id="l38.28">   get name() {</span>
<a href="#l38.29"></a><span id="l38.29">     return cal.l10n.getCalString(&quot;monthPrinterName&quot;);</span>
<a href="#l38.30"></a><span id="l38.30">   },</span>
<a href="#l38.31"></a><span id="l38.31"> </span>
<a href="#l38.32"></a><span id="l38.32">   formatToHtml(aStream, aStart, aEnd, aItems, aTitle) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1">rename from calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l39.2"></a><span id="l39.2">rename to calendar/import-export/CalOutlookCSVImportExport.jsm</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineminus">--- a/calendar/import-export/calOutlookCSVImportExport.js</span>
<a href="#l39.4"></a><span id="l39.4" class="difflineplus">+++ b/calendar/import-export/CalOutlookCSVImportExport.jsm</span>
<a href="#l39.5"></a><span id="l39.5" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l39.6"></a><span id="l39.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l39.7"></a><span id="l39.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l39.8"></a><span id="l39.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l39.9"></a><span id="l39.9"> </span>
<a href="#l39.10"></a><span id="l39.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalOutlookCSVImporter&quot;, &quot;CalOutlookCSVExporter&quot;];</span>
<a href="#l39.11"></a><span id="l39.11" class="difflineplus">+</span>
<a href="#l39.12"></a><span id="l39.12"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l39.13"></a><span id="l39.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l39.14"></a><span id="l39.14"> </span>
<a href="#l39.15"></a><span id="l39.15"> var localeEn = {</span>
<a href="#l39.16"></a><span id="l39.16">   headTitle: &quot;Subject&quot;,</span>
<a href="#l39.17"></a><span id="l39.17">   headStartDate: &quot;Start Date&quot;,</span>
<a href="#l39.18"></a><span id="l39.18">   headStartTime: &quot;Start Time&quot;,</span>
<a href="#l39.19"></a><span id="l39.19">   headEndDate: &quot;End Date&quot;,</span>
<a href="#l39.20"></a><span id="l39.20" class="difflineat">@@ -82,20 +84,20 @@ function getOutlookCsvFileTypes() {</span>
<a href="#l39.21"></a><span id="l39.21">       defaultExtension: &quot;csv&quot;,</span>
<a href="#l39.22"></a><span id="l39.22">       extensionFilter: wildmat,</span>
<a href="#l39.23"></a><span id="l39.23">       description: label,</span>
<a href="#l39.24"></a><span id="l39.24">     },</span>
<a href="#l39.25"></a><span id="l39.25">   ];</span>
<a href="#l39.26"></a><span id="l39.26"> }</span>
<a href="#l39.27"></a><span id="l39.27"> </span>
<a href="#l39.28"></a><span id="l39.28"> // Importer</span>
<a href="#l39.29"></a><span id="l39.29" class="difflineminus">-function calOutlookCSVImporter() {</span>
<a href="#l39.30"></a><span id="l39.30" class="difflineplus">+function CalOutlookCSVImporter() {</span>
<a href="#l39.31"></a><span id="l39.31">   this.wrappedJSObject = this;</span>
<a href="#l39.32"></a><span id="l39.32"> }</span>
<a href="#l39.33"></a><span id="l39.33" class="difflineminus">-calOutlookCSVImporter.prototype = {</span>
<a href="#l39.34"></a><span id="l39.34" class="difflineplus">+CalOutlookCSVImporter.prototype = {</span>
<a href="#l39.35"></a><span id="l39.35">   QueryInterface: ChromeUtils.generateQI([Ci.calIImporter]),</span>
<a href="#l39.36"></a><span id="l39.36">   classID: Components.ID(&quot;{64a5d17a-0497-48c5-b54f-72b15c9e9a14}&quot;),</span>
<a href="#l39.37"></a><span id="l39.37"> </span>
<a href="#l39.38"></a><span id="l39.38">   getFileTypes: getOutlookCsvFileTypes,</span>
<a href="#l39.39"></a><span id="l39.39"> </span>
<a href="#l39.40"></a><span id="l39.40">   /**</span>
<a href="#l39.41"></a><span id="l39.41">    * Takes a text block of Outlook-exported Comma Separated Values and tries to</span>
<a href="#l39.42"></a><span id="l39.42">    * parse that into individual events.</span>
<a href="#l39.43"></a><span id="l39.43" class="difflineat">@@ -439,18 +441,18 @@ calOutlookCSVImporter.prototype = {</span>
<a href="#l39.44"></a><span id="l39.44">   },</span>
<a href="#l39.45"></a><span id="l39.45"> </span>
<a href="#l39.46"></a><span id="l39.46">   parseTextField(aTextField) {</span>
<a href="#l39.47"></a><span id="l39.47">     return aTextField ? aTextField.replace(/&quot;&quot;/g, '&quot;') : &quot;&quot;;</span>
<a href="#l39.48"></a><span id="l39.48">   },</span>
<a href="#l39.49"></a><span id="l39.49"> };</span>
<a href="#l39.50"></a><span id="l39.50"> </span>
<a href="#l39.51"></a><span id="l39.51"> // Exporter</span>
<a href="#l39.52"></a><span id="l39.52" class="difflineminus">-function calOutlookCSVExporter() {}</span>
<a href="#l39.53"></a><span id="l39.53" class="difflineminus">-calOutlookCSVExporter.prototype = {</span>
<a href="#l39.54"></a><span id="l39.54" class="difflineplus">+function CalOutlookCSVExporter() {}</span>
<a href="#l39.55"></a><span id="l39.55" class="difflineplus">+CalOutlookCSVExporter.prototype = {</span>
<a href="#l39.56"></a><span id="l39.56">   QueryInterface: ChromeUtils.generateQI([Ci.calIExporter]),</span>
<a href="#l39.57"></a><span id="l39.57">   classID: Components.ID(&quot;{48e6d3a6-b41b-4052-9ed2-40b27800bd4b}&quot;),</span>
<a href="#l39.58"></a><span id="l39.58"> </span>
<a href="#l39.59"></a><span id="l39.59">   getFileTypes: getOutlookCsvFileTypes,</span>
<a href="#l39.60"></a><span id="l39.60"> </span>
<a href="#l39.61"></a><span id="l39.61">   exportToStream(aStream, aItems, aTitle) {</span>
<a href="#l39.62"></a><span id="l39.62">     // Helper functions</span>
<a href="#l39.63"></a><span id="l39.63">     function dateString(aDateTime) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1">rename from calendar/import-export/calWeekPrinter.js</span>
<a href="#l40.2"></a><span id="l40.2">rename to calendar/import-export/CalWeekPrinter.jsm</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineminus">--- a/calendar/import-export/calWeekPrinter.js</span>
<a href="#l40.4"></a><span id="l40.4" class="difflineplus">+++ b/calendar/import-export/CalWeekPrinter.jsm</span>
<a href="#l40.5"></a><span id="l40.5" class="difflineat">@@ -1,23 +1,25 @@</span>
<a href="#l40.6"></a><span id="l40.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l40.7"></a><span id="l40.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l40.8"></a><span id="l40.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l40.9"></a><span id="l40.9"> </span>
<a href="#l40.10"></a><span id="l40.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalWeekPrinter&quot;];</span>
<a href="#l40.11"></a><span id="l40.11" class="difflineplus">+</span>
<a href="#l40.12"></a><span id="l40.12"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l40.13"></a><span id="l40.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l40.14"></a><span id="l40.14"> </span>
<a href="#l40.15"></a><span id="l40.15"> /**</span>
<a href="#l40.16"></a><span id="l40.16">  * Prints a two column view of a week of events, much like a paper day-planner</span>
<a href="#l40.17"></a><span id="l40.17">  */</span>
<a href="#l40.18"></a><span id="l40.18" class="difflineminus">-function calWeekPrinter() {</span>
<a href="#l40.19"></a><span id="l40.19" class="difflineplus">+function CalWeekPrinter() {</span>
<a href="#l40.20"></a><span id="l40.20">   this.wrappedJSObject = this;</span>
<a href="#l40.21"></a><span id="l40.21"> }</span>
<a href="#l40.22"></a><span id="l40.22"> </span>
<a href="#l40.23"></a><span id="l40.23" class="difflineminus">-calWeekPrinter.prototype = {</span>
<a href="#l40.24"></a><span id="l40.24" class="difflineplus">+CalWeekPrinter.prototype = {</span>
<a href="#l40.25"></a><span id="l40.25">   QueryInterface: ChromeUtils.generateQI([Ci.calIPrintFormatter]),</span>
<a href="#l40.26"></a><span id="l40.26">   classID: Components.ID(&quot;{2d6ec97b-9109-4b92-89c5-d4b4806619ce}&quot;),</span>
<a href="#l40.27"></a><span id="l40.27"> </span>
<a href="#l40.28"></a><span id="l40.28">   get name() {</span>
<a href="#l40.29"></a><span id="l40.29">     return cal.l10n.getCalString(&quot;weekPrinterName&quot;);</span>
<a href="#l40.30"></a><span id="l40.30">   },</span>
<a href="#l40.31"></a><span id="l40.31"> </span>
<a href="#l40.32"></a><span id="l40.32">   formatToHtml(aStream, aStart, aEnd, aItems, aTitle) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1">deleted file mode 100644</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineminus">--- a/calendar/import-export/calImportExportModule.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineplus">+++ /dev/null</span>
<a href="#l41.4"></a><span id="l41.4" class="difflineat">@@ -1,43 +0,0 @@</span>
<a href="#l41.5"></a><span id="l41.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l41.6"></a><span id="l41.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l41.7"></a><span id="l41.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l41.8"></a><span id="l41.8" class="difflineminus">-</span>
<a href="#l41.9"></a><span id="l41.9" class="difflineminus">-/* import-globals-from calIcsImportExport.js */</span>
<a href="#l41.10"></a><span id="l41.10" class="difflineminus">-/* import-globals-from calHtmlExport.js */</span>
<a href="#l41.11"></a><span id="l41.11" class="difflineminus">-/* import-globals-from calOutlookCSVImportExport.js */</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-/* import-globals-from calListFormatter.js */</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineminus">-/* import-globals-from calMonthGridPrinter.js */</span>
<a href="#l41.14"></a><span id="l41.14" class="difflineminus">-/* import-globals-from calWeekPrinter.js */</span>
<a href="#l41.15"></a><span id="l41.15" class="difflineminus">-</span>
<a href="#l41.16"></a><span id="l41.16" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l41.17"></a><span id="l41.17" class="difflineminus">-var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l41.18"></a><span id="l41.18" class="difflineminus">-</span>
<a href="#l41.19"></a><span id="l41.19" class="difflineminus">-this.NSGetFactory = cid =&gt; {</span>
<a href="#l41.20"></a><span id="l41.20" class="difflineminus">-  let scriptLoadOrder = [</span>
<a href="#l41.21"></a><span id="l41.21" class="difflineminus">-    &quot;resource:///components/calIcsImportExport.js&quot;,</span>
<a href="#l41.22"></a><span id="l41.22" class="difflineminus">-    &quot;resource:///components/calHtmlExport.js&quot;,</span>
<a href="#l41.23"></a><span id="l41.23" class="difflineminus">-    &quot;resource:///components/calOutlookCSVImportExport.js&quot;,</span>
<a href="#l41.24"></a><span id="l41.24" class="difflineminus">-</span>
<a href="#l41.25"></a><span id="l41.25" class="difflineminus">-    &quot;resource:///components/calListFormatter.js&quot;,</span>
<a href="#l41.26"></a><span id="l41.26" class="difflineminus">-    &quot;resource:///components/calMonthGridPrinter.js&quot;,</span>
<a href="#l41.27"></a><span id="l41.27" class="difflineminus">-    &quot;resource:///components/calWeekPrinter.js&quot;,</span>
<a href="#l41.28"></a><span id="l41.28" class="difflineminus">-  ];</span>
<a href="#l41.29"></a><span id="l41.29" class="difflineminus">-</span>
<a href="#l41.30"></a><span id="l41.30" class="difflineminus">-  for (let script of scriptLoadOrder) {</span>
<a href="#l41.31"></a><span id="l41.31" class="difflineminus">-    Services.scriptloader.loadSubScript(script, this);</span>
<a href="#l41.32"></a><span id="l41.32" class="difflineminus">-  }</span>
<a href="#l41.33"></a><span id="l41.33" class="difflineminus">-</span>
<a href="#l41.34"></a><span id="l41.34" class="difflineminus">-  let components = [</span>
<a href="#l41.35"></a><span id="l41.35" class="difflineminus">-    calIcsImporter,</span>
<a href="#l41.36"></a><span id="l41.36" class="difflineminus">-    calIcsExporter,</span>
<a href="#l41.37"></a><span id="l41.37" class="difflineminus">-    calHtmlExporter,</span>
<a href="#l41.38"></a><span id="l41.38" class="difflineminus">-    calOutlookCSVImporter,</span>
<a href="#l41.39"></a><span id="l41.39" class="difflineminus">-    calOutlookCSVExporter,</span>
<a href="#l41.40"></a><span id="l41.40" class="difflineminus">-    calListFormatter,</span>
<a href="#l41.41"></a><span id="l41.41" class="difflineminus">-    calMonthPrinter,</span>
<a href="#l41.42"></a><span id="l41.42" class="difflineminus">-    calWeekPrinter,</span>
<a href="#l41.43"></a><span id="l41.43" class="difflineminus">-  ];</span>
<a href="#l41.44"></a><span id="l41.44" class="difflineminus">-</span>
<a href="#l41.45"></a><span id="l41.45" class="difflineminus">-  this.NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span>
<a href="#l41.46"></a><span id="l41.46" class="difflineminus">-  return this.NSGetFactory(cid);</span>
<a href="#l41.47"></a><span id="l41.47" class="difflineminus">-};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1">deleted file mode 100644</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineminus">--- a/calendar/import-export/calImportExportModule.manifest</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineplus">+++ /dev/null</span>
<a href="#l42.4"></a><span id="l42.4" class="difflineat">@@ -1,31 +0,0 @@</span>
<a href="#l42.5"></a><span id="l42.5" class="difflineminus">-component {1e3e33dc-445a-49de-b2b6-15b2a050bb9d} calImportExportModule.js</span>
<a href="#l42.6"></a><span id="l42.6" class="difflineminus">-contract @mozilla.org/calendar/import;1?type=ics {1e3e33dc-445a-49de-b2b6-15b2a050bb9d}</span>
<a href="#l42.7"></a><span id="l42.7" class="difflineminus">-category cal-importers cal-ics-importer @mozilla.org/calendar/import;1?type=ics</span>
<a href="#l42.8"></a><span id="l42.8" class="difflineminus">-</span>
<a href="#l42.9"></a><span id="l42.9" class="difflineminus">-component {a6a524ce-adff-4a0f-bb7d-d1aaad4adc60} calImportExportModule.js</span>
<a href="#l42.10"></a><span id="l42.10" class="difflineminus">-contract @mozilla.org/calendar/export;1?type=ics {a6a524ce-adff-4a0f-bb7d-d1aaad4adc60}</span>
<a href="#l42.11"></a><span id="l42.11" class="difflineminus">-category cal-exporters cal-ics-exporter @mozilla.org/calendar/export;1?type=ics</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineminus">-component {72d9ab35-9b1b-442a-8cd0-ae49f00b159b} calImportExportModule.js</span>
<a href="#l42.14"></a><span id="l42.14" class="difflineminus">-contract @mozilla.org/calendar/export;1?type=htmllist {72d9ab35-9b1b-442a-8cd0-ae49f00b159b}</span>
<a href="#l42.15"></a><span id="l42.15" class="difflineminus">-category cal-exporters cal-html-list-exporter @mozilla.org/calendar/export;1?type=htmllist</span>
<a href="#l42.16"></a><span id="l42.16" class="difflineminus">-</span>
<a href="#l42.17"></a><span id="l42.17" class="difflineminus">-component {9ae04413-fee3-45b9-8bbb-1eb39a4cbd1b} calImportExportModule.js</span>
<a href="#l42.18"></a><span id="l42.18" class="difflineminus">-contract @mozilla.org/calendar/printformatter;1?type=list {9ae04413-fee3-45b9-8bbb-1eb39a4cbd1b}</span>
<a href="#l42.19"></a><span id="l42.19" class="difflineminus">-category cal-print-formatters cal-list-printformatter @mozilla.org/calendar/printformatter;1?type=list</span>
<a href="#l42.20"></a><span id="l42.20" class="difflineminus">-</span>
<a href="#l42.21"></a><span id="l42.21" class="difflineminus">-component {f42d5132-92c4-487b-b5c8-38bf292d74c1} calImportExportModule.js</span>
<a href="#l42.22"></a><span id="l42.22" class="difflineminus">-contract @mozilla.org/calendar/printformatter;1?type=monthgrid {f42d5132-92c4-487b-b5c8-38bf292d74c1}</span>
<a href="#l42.23"></a><span id="l42.23" class="difflineminus">-category cal-print-formatters cal-month-printer @mozilla.org/calendar/printformatter;1?type=monthgrid</span>
<a href="#l42.24"></a><span id="l42.24" class="difflineminus">-</span>
<a href="#l42.25"></a><span id="l42.25" class="difflineminus">-component {2d6ec97b-9109-4b92-89c5-d4b4806619ce} calImportExportModule.js</span>
<a href="#l42.26"></a><span id="l42.26" class="difflineminus">-contract @mozilla.org/calendar/printformatter;1?type=weekplan {2d6ec97b-9109-4b92-89c5-d4b4806619ce}</span>
<a href="#l42.27"></a><span id="l42.27" class="difflineminus">-category cal-print-formatters cal-week-planner-printer @mozilla.org/calendar/printformatter;1?type=weekplan</span>
<a href="#l42.28"></a><span id="l42.28" class="difflineminus">-</span>
<a href="#l42.29"></a><span id="l42.29" class="difflineminus">-component {64a5d17a-0497-48c5-b54f-72b15c9e9a14} calImportExportModule.js</span>
<a href="#l42.30"></a><span id="l42.30" class="difflineminus">-contract @mozilla.org/calendar/import;1?type=csv {64a5d17a-0497-48c5-b54f-72b15c9e9a14}</span>
<a href="#l42.31"></a><span id="l42.31" class="difflineminus">-category cal-importers cal-outlookcsv-importer @mozilla.org/calendar/import;1?type=csv</span>
<a href="#l42.32"></a><span id="l42.32" class="difflineminus">-</span>
<a href="#l42.33"></a><span id="l42.33" class="difflineminus">-component {48e6d3a6-b41b-4052-9ed2-40b27800bd4b} calImportExportModule.js</span>
<a href="#l42.34"></a><span id="l42.34" class="difflineminus">-contract @mozilla.org/calendar/export;1?type=csv {48e6d3a6-b41b-4052-9ed2-40b27800bd4b}</span>
<a href="#l42.35"></a><span id="l42.35" class="difflineminus">-category cal-exporters cal-outlookcsv-exporter @mozilla.org/calendar/export;1?type=csv</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1">new file mode 100644</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineminus">--- /dev/null</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineplus">+++ b/calendar/import-export/components.conf</span>
<a href="#l43.4"></a><span id="l43.4" class="difflineat">@@ -0,0 +1,64 @@</span>
<a href="#l43.5"></a><span id="l43.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l43.6"></a><span id="l43.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l43.7"></a><span id="l43.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l43.8"></a><span id="l43.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l43.9"></a><span id="l43.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l43.10"></a><span id="l43.10" class="difflineplus">+</span>
<a href="#l43.11"></a><span id="l43.11" class="difflineplus">+Classes = [</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineplus">+  {</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+    'cid': '{1e3e33dc-445a-49de-b2b6-15b2a050bb9d}',</span>
<a href="#l43.14"></a><span id="l43.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/import;1?type=ics'],</span>
<a href="#l43.15"></a><span id="l43.15" class="difflineplus">+    'jsm': 'resource:///modules/CalIcsImportExport.jsm',</span>
<a href="#l43.16"></a><span id="l43.16" class="difflineplus">+    'constructor': 'CalIcsImporter',</span>
<a href="#l43.17"></a><span id="l43.17" class="difflineplus">+    'categories': {'cal-importers': 'cal-ics-importer'},</span>
<a href="#l43.18"></a><span id="l43.18" class="difflineplus">+  },</span>
<a href="#l43.19"></a><span id="l43.19" class="difflineplus">+  {</span>
<a href="#l43.20"></a><span id="l43.20" class="difflineplus">+    'cid': '{a6a524ce-adff-4a0f-bb7d-d1aaad4adc60}',</span>
<a href="#l43.21"></a><span id="l43.21" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/export;1?type=ics'],</span>
<a href="#l43.22"></a><span id="l43.22" class="difflineplus">+    'jsm': 'resource:///modules/CalIcsImportExport.jsm',</span>
<a href="#l43.23"></a><span id="l43.23" class="difflineplus">+    'constructor': 'CalIcsExporter',</span>
<a href="#l43.24"></a><span id="l43.24" class="difflineplus">+    'categories': {'cal-exporters': 'cal-ics-exporter'},</span>
<a href="#l43.25"></a><span id="l43.25" class="difflineplus">+  },</span>
<a href="#l43.26"></a><span id="l43.26" class="difflineplus">+  {</span>
<a href="#l43.27"></a><span id="l43.27" class="difflineplus">+    'cid': '{64a5d17a-0497-48c5-b54f-72b15c9e9a14}',</span>
<a href="#l43.28"></a><span id="l43.28" class="difflineplus">+    'contract_ids': [' @mozilla.org/calendar/import;1?type=csv'],</span>
<a href="#l43.29"></a><span id="l43.29" class="difflineplus">+    'jsm': 'resource:///modules/CalOutlookCSVImportExport.jsm',</span>
<a href="#l43.30"></a><span id="l43.30" class="difflineplus">+    'constructor': 'CalOutlookCSVImporter',</span>
<a href="#l43.31"></a><span id="l43.31" class="difflineplus">+    'categories': {'cal-importers': 'cal-outlookcsv-importer'},</span>
<a href="#l43.32"></a><span id="l43.32" class="difflineplus">+  },</span>
<a href="#l43.33"></a><span id="l43.33" class="difflineplus">+  {</span>
<a href="#l43.34"></a><span id="l43.34" class="difflineplus">+    'cid': '{48e6d3a6-b41b-4052-9ed2-40b27800bd4b}',</span>
<a href="#l43.35"></a><span id="l43.35" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/export;1?type=csv'],</span>
<a href="#l43.36"></a><span id="l43.36" class="difflineplus">+    'jsm': 'resource:///modules/CalOutlookCSVImportExport.jsm',</span>
<a href="#l43.37"></a><span id="l43.37" class="difflineplus">+    'constructor': 'CalOutlookCSVExporter',</span>
<a href="#l43.38"></a><span id="l43.38" class="difflineplus">+    'categories': {'cal-exporters': 'cal-outlookcsv-exporter'},</span>
<a href="#l43.39"></a><span id="l43.39" class="difflineplus">+  },</span>
<a href="#l43.40"></a><span id="l43.40" class="difflineplus">+  {</span>
<a href="#l43.41"></a><span id="l43.41" class="difflineplus">+    'cid': '{72d9ab35-9b1b-442a-8cd0-ae49f00b159b}',</span>
<a href="#l43.42"></a><span id="l43.42" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/export;1?type=htmllist'],</span>
<a href="#l43.43"></a><span id="l43.43" class="difflineplus">+    'jsm': 'resource:///modules/CalHtmlExport.jsm',</span>
<a href="#l43.44"></a><span id="l43.44" class="difflineplus">+    'constructor': 'CalHtmlExporter',</span>
<a href="#l43.45"></a><span id="l43.45" class="difflineplus">+    'categories': {'cal-exporters': 'cal-html-list-exporter'},</span>
<a href="#l43.46"></a><span id="l43.46" class="difflineplus">+  },</span>
<a href="#l43.47"></a><span id="l43.47" class="difflineplus">+  {</span>
<a href="#l43.48"></a><span id="l43.48" class="difflineplus">+    'cid': '{2d6ec97b-9109-4b92-89c5-d4b4806619ce}',</span>
<a href="#l43.49"></a><span id="l43.49" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/printformatter;1?type=weekplan'],</span>
<a href="#l43.50"></a><span id="l43.50" class="difflineplus">+    'jsm': 'resource:///modules/CalWeekPrinter.jsm',</span>
<a href="#l43.51"></a><span id="l43.51" class="difflineplus">+    'constructor': 'CalWeekPrinter',</span>
<a href="#l43.52"></a><span id="l43.52" class="difflineplus">+    'categories': {'cal-print-formatters': 'cal-week-planner-printer'},</span>
<a href="#l43.53"></a><span id="l43.53" class="difflineplus">+  },</span>
<a href="#l43.54"></a><span id="l43.54" class="difflineplus">+  {</span>
<a href="#l43.55"></a><span id="l43.55" class="difflineplus">+    'cid': '{9ae04413-fee3-45b9-8bbb-1eb39a4cbd1b}',</span>
<a href="#l43.56"></a><span id="l43.56" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/printformatter;1?type=list'],</span>
<a href="#l43.57"></a><span id="l43.57" class="difflineplus">+    'jsm': 'resource:///modules/CalListFormatter.jsm',</span>
<a href="#l43.58"></a><span id="l43.58" class="difflineplus">+    'constructor': 'CalListFormatter',</span>
<a href="#l43.59"></a><span id="l43.59" class="difflineplus">+    'categories': {'cal-print-formatters': 'cal-list-printformatter'},</span>
<a href="#l43.60"></a><span id="l43.60" class="difflineplus">+  },</span>
<a href="#l43.61"></a><span id="l43.61" class="difflineplus">+  {</span>
<a href="#l43.62"></a><span id="l43.62" class="difflineplus">+    'cid': '{f42d5132-92c4-487b-b5c8-38bf292d74c1}',</span>
<a href="#l43.63"></a><span id="l43.63" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/printformatter;1?type=monthgrid'],</span>
<a href="#l43.64"></a><span id="l43.64" class="difflineplus">+    'jsm': 'resource:///modules/CalMonthGridPrinter.jsm',</span>
<a href="#l43.65"></a><span id="l43.65" class="difflineplus">+    'constructor': 'CalMonthPrinter',</span>
<a href="#l43.66"></a><span id="l43.66" class="difflineplus">+    'categories': {'cal-print-formatters': 'cal-month-printer'},</span>
<a href="#l43.67"></a><span id="l43.67" class="difflineplus">+  },</span>
<a href="#l43.68"></a><span id="l43.68" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/calendar/import-export/moz.build</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/calendar/import-export/moz.build</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -1,27 +1,25 @@</span>
<a href="#l44.4"></a><span id="l44.4"> # vim: set filetype=python:</span>
<a href="#l44.5"></a><span id="l44.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l44.6"></a><span id="l44.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l44.7"></a><span id="l44.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l44.8"></a><span id="l44.8"> </span>
<a href="#l44.9"></a><span id="l44.9" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l44.10"></a><span id="l44.10" class="difflineminus">-    'calImportExportModule.js',</span>
<a href="#l44.11"></a><span id="l44.11" class="difflineminus">-    'calImportExportModule.manifest',</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-]</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineminus">-</span>
<a href="#l44.14"></a><span id="l44.14"> JAR_MANIFESTS += ['jar.mn']</span>
<a href="#l44.15"></a><span id="l44.15"> </span>
<a href="#l44.16"></a><span id="l44.16" class="difflineminus">-# These files go in components so they can be packaged correctly.</span>
<a href="#l44.17"></a><span id="l44.17" class="difflineminus">-FINAL_TARGET_FILES.components += [</span>
<a href="#l44.18"></a><span id="l44.18" class="difflineminus">-    'calHtmlExport.js',</span>
<a href="#l44.19"></a><span id="l44.19" class="difflineminus">-    'calIcsImportExport.js',</span>
<a href="#l44.20"></a><span id="l44.20" class="difflineminus">-    'calListFormatter.js',</span>
<a href="#l44.21"></a><span id="l44.21" class="difflineminus">-    'calMonthGridPrinter.js',</span>
<a href="#l44.22"></a><span id="l44.22" class="difflineminus">-    'calOutlookCSVImportExport.js',</span>
<a href="#l44.23"></a><span id="l44.23" class="difflineminus">-    'calWeekPrinter.js',</span>
<a href="#l44.24"></a><span id="l44.24" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l44.25"></a><span id="l44.25" class="difflineplus">+    'CalHtmlExport.jsm',</span>
<a href="#l44.26"></a><span id="l44.26" class="difflineplus">+    'CalIcsImportExport.jsm',</span>
<a href="#l44.27"></a><span id="l44.27" class="difflineplus">+    'CalListFormatter.jsm',</span>
<a href="#l44.28"></a><span id="l44.28" class="difflineplus">+    'CalMonthGridPrinter.jsm',</span>
<a href="#l44.29"></a><span id="l44.29" class="difflineplus">+    'CalOutlookCSVImportExport.jsm',</span>
<a href="#l44.30"></a><span id="l44.30" class="difflineplus">+    'CalWeekPrinter.jsm',</span>
<a href="#l44.31"></a><span id="l44.31" class="difflineplus">+]</span>
<a href="#l44.32"></a><span id="l44.32" class="difflineplus">+</span>
<a href="#l44.33"></a><span id="l44.33" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l44.34"></a><span id="l44.34" class="difflineplus">+    'components.conf',</span>
<a href="#l44.35"></a><span id="l44.35"> ]</span>
<a href="#l44.36"></a><span id="l44.36"> </span>
<a href="#l44.37"></a><span id="l44.37"> with Files('**'):</span>
<a href="#l44.38"></a><span id="l44.38">     BUG_COMPONENT = ('Calendar', 'Import and Export')</span>
<a href="#l44.39"></a><span id="l44.39"> </span>
<a href="#l44.40"></a><span id="l44.40"> with Files('*Print*'):</span>
<a href="#l44.41"></a><span id="l44.41">     BUG_COMPONENT = ('Calendar', 'Printing')</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1">rename from calendar/itip/calItipEmailTransport.js</span>
<a href="#l45.2"></a><span id="l45.2">rename to calendar/itip/CalItipEmailTransport.jsm</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineminus">--- a/calendar/itip/calItipEmailTransport.js</span>
<a href="#l45.4"></a><span id="l45.4" class="difflineplus">+++ b/calendar/itip/CalItipEmailTransport.jsm</span>
<a href="#l45.5"></a><span id="l45.5" class="difflineat">@@ -1,26 +1,24 @@</span>
<a href="#l45.6"></a><span id="l45.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l45.7"></a><span id="l45.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l45.8"></a><span id="l45.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l45.9"></a><span id="l45.9"> </span>
<a href="#l45.10"></a><span id="l45.10" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalItipEmailTransport&quot;];</span>
<a href="#l45.11"></a><span id="l45.11" class="difflineplus">+</span>
<a href="#l45.12"></a><span id="l45.12"> var { MailServices } = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l45.13"></a><span id="l45.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l45.14"></a><span id="l45.14"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l45.15"></a><span id="l45.15" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l45.16"></a><span id="l45.16"> var { ltn } = ChromeUtils.import(&quot;resource:///modules/calendar/ltnInvitationUtils.jsm&quot;);</span>
<a href="#l45.17"></a><span id="l45.17"> </span>
<a href="#l45.18"></a><span id="l45.18" class="difflineminus">-/**</span>
<a href="#l45.19"></a><span id="l45.19" class="difflineminus">- * Constructor of calItipEmailTransport object</span>
<a href="#l45.20"></a><span id="l45.20" class="difflineminus">- */</span>
<a href="#l45.21"></a><span id="l45.21" class="difflineminus">-function calItipEmailTransport() {</span>
<a href="#l45.22"></a><span id="l45.22" class="difflineplus">+function CalItipEmailTransport() {</span>
<a href="#l45.23"></a><span id="l45.23">   this.wrappedJSObject = this;</span>
<a href="#l45.24"></a><span id="l45.24">   this._initEmailTransport();</span>
<a href="#l45.25"></a><span id="l45.25"> }</span>
<a href="#l45.26"></a><span id="l45.26" class="difflineminus">-calItipEmailTransport.prototype = {</span>
<a href="#l45.27"></a><span id="l45.27" class="difflineplus">+CalItipEmailTransport.prototype = {</span>
<a href="#l45.28"></a><span id="l45.28">   QueryInterface: ChromeUtils.generateQI([Ci.calIItipTransport]),</span>
<a href="#l45.29"></a><span id="l45.29">   classID: Components.ID(&quot;{d4d7b59e-c9e0-4a7a-b5e8-5958f85515f0}&quot;),</span>
<a href="#l45.30"></a><span id="l45.30"> </span>
<a href="#l45.31"></a><span id="l45.31">   mHasXpcomMail: false,</span>
<a href="#l45.32"></a><span id="l45.32">   mDefaultAccount: null,</span>
<a href="#l45.33"></a><span id="l45.33">   mDefaultIdentity: null,</span>
<a href="#l45.34"></a><span id="l45.34">   mDefaultSmtpServer: null,</span>
<a href="#l45.35"></a><span id="l45.35"> </span>
<a href="#l45.36"></a><span id="l45.36" class="difflineat">@@ -392,10 +390,8 @@ calItipEmailTransport.prototype = {</span>
<a href="#l45.37"></a><span id="l45.37">       cal.LOG(&quot;_createTempImipFile path: &quot; + tempFile.path);</span>
<a href="#l45.38"></a><span id="l45.38">       return tempFile;</span>
<a href="#l45.39"></a><span id="l45.39">     } catch (exc) {</span>
<a href="#l45.40"></a><span id="l45.40">       cal.ASSERT(false, exc);</span>
<a href="#l45.41"></a><span id="l45.41">       return null;</span>
<a href="#l45.42"></a><span id="l45.42">     }</span>
<a href="#l45.43"></a><span id="l45.43">   },</span>
<a href="#l45.44"></a><span id="l45.44"> };</span>
<a href="#l45.45"></a><span id="l45.45" class="difflineminus">-</span>
<a href="#l45.46"></a><span id="l45.46" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calItipEmailTransport]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1">deleted file mode 100644</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineminus">--- a/calendar/itip/calItipEmailTransport.manifest</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineplus">+++ /dev/null</span>
<a href="#l46.4"></a><span id="l46.4" class="difflineat">@@ -1,2 +0,0 @@</span>
<a href="#l46.5"></a><span id="l46.5" class="difflineminus">-component {d4d7b59e-c9e0-4a7a-b5e8-5958f85515f0} calItipEmailTransport.js</span>
<a href="#l46.6"></a><span id="l46.6" class="difflineminus">-contract @mozilla.org/calendar/itip-transport;1?type=email {d4d7b59e-c9e0-4a7a-b5e8-5958f85515f0}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1">new file mode 100644</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineminus">--- /dev/null</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineplus">+++ b/calendar/itip/components.conf</span>
<a href="#l47.4"></a><span id="l47.4" class="difflineat">@@ -0,0 +1,14 @@</span>
<a href="#l47.5"></a><span id="l47.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l47.6"></a><span id="l47.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l47.7"></a><span id="l47.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l47.8"></a><span id="l47.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l47.9"></a><span id="l47.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l47.10"></a><span id="l47.10" class="difflineplus">+</span>
<a href="#l47.11"></a><span id="l47.11" class="difflineplus">+Classes = [</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineplus">+  {</span>
<a href="#l47.13"></a><span id="l47.13" class="difflineplus">+    'cid': '{d4d7b59e-c9e0-4a7a-b5e8-5958f85515f0}',</span>
<a href="#l47.14"></a><span id="l47.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/itip-transport;1?type=email'],</span>
<a href="#l47.15"></a><span id="l47.15" class="difflineplus">+    'jsm': 'resource:///modules/CalItipEmailTransport.jsm',</span>
<a href="#l47.16"></a><span id="l47.16" class="difflineplus">+    'constructor': 'CalItipEmailTransport',</span>
<a href="#l47.17"></a><span id="l47.17" class="difflineplus">+  },</span>
<a href="#l47.18"></a><span id="l47.18" class="difflineplus">+]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/calendar/itip/moz.build</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/calendar/itip/moz.build</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l48.4"></a><span id="l48.4"> # vim: set filetype=python:</span>
<a href="#l48.5"></a><span id="l48.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l48.6"></a><span id="l48.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l48.7"></a><span id="l48.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l48.8"></a><span id="l48.8"> </span>
<a href="#l48.9"></a><span id="l48.9" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l48.10"></a><span id="l48.10" class="difflineminus">-    'calItipEmailTransport.js',</span>
<a href="#l48.11"></a><span id="l48.11" class="difflineminus">-    'calItipEmailTransport.manifest',</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+    'CalItipEmailTransport.jsm',</span>
<a href="#l48.14"></a><span id="l48.14" class="difflineplus">+]</span>
<a href="#l48.15"></a><span id="l48.15" class="difflineplus">+</span>
<a href="#l48.16"></a><span id="l48.16" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l48.17"></a><span id="l48.17" class="difflineplus">+    'components.conf',</span>
<a href="#l48.18"></a><span id="l48.18"> ]</span>
<a href="#l48.19"></a><span id="l48.19"> </span>
<a href="#l48.20"></a><span id="l48.20"> with Files('**'):</span>
<a href="#l48.21"></a><span id="l48.21">     BUG_COMPONENT = ('Calendar', 'E-mail based Scheduling (iTIP/iMIP)')</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1">rename from calendar/lightning/components/calItipProtocolHandler.js</span>
<a href="#l49.2"></a><span id="l49.2">rename to calendar/lightning/components/CalItipProtocolHandler.jsm</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineminus">--- a/calendar/lightning/components/calItipProtocolHandler.js</span>
<a href="#l49.4"></a><span id="l49.4" class="difflineplus">+++ b/calendar/lightning/components/CalItipProtocolHandler.jsm</span>
<a href="#l49.5"></a><span id="l49.5" class="difflineat">@@ -1,13 +1,14 @@</span>
<a href="#l49.6"></a><span id="l49.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l49.7"></a><span id="l49.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l49.8"></a><span id="l49.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l49.9"></a><span id="l49.9"> </span>
<a href="#l49.10"></a><span id="l49.10" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l49.11"></a><span id="l49.11" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;ItipChannel&quot;, &quot;ItipProtocolHandler&quot;, &quot;ItipContentHandler&quot;];</span>
<a href="#l49.12"></a><span id="l49.12" class="difflineplus">+</span>
<a href="#l49.13"></a><span id="l49.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l49.14"></a><span id="l49.14"> </span>
<a href="#l49.15"></a><span id="l49.15"> var ITIP_HANDLER_MIMETYPE = &quot;application/x-itip-internal&quot;;</span>
<a href="#l49.16"></a><span id="l49.16"> var ITIP_HANDLER_PROTOCOL = &quot;moz-cal-handle-itip&quot;;</span>
<a href="#l49.17"></a><span id="l49.17"> var NS_ERROR_WONT_HANDLE_CONTENT = 0x805d0001;</span>
<a href="#l49.18"></a><span id="l49.18"> </span>
<a href="#l49.19"></a><span id="l49.19"> function NYI() {</span>
<a href="#l49.20"></a><span id="l49.20">   throw Cr.NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l49.21"></a><span id="l49.21" class="difflineat">@@ -98,11 +99,8 @@ ItipContentHandler.prototype = {</span>
<a href="#l49.22"></a><span id="l49.22">         event.id +</span>
<a href="#l49.23"></a><span id="l49.23">         &quot;)\n&quot;</span>
<a href="#l49.24"></a><span id="l49.24">     );</span>
<a href="#l49.25"></a><span id="l49.25">     let calMgr = cal.getCalendarManager();</span>
<a href="#l49.26"></a><span id="l49.26">     let cals = calMgr.getCalendars();</span>
<a href="#l49.27"></a><span id="l49.27">     cals[0].addItem(event, null);</span>
<a href="#l49.28"></a><span id="l49.28">   },</span>
<a href="#l49.29"></a><span id="l49.29"> };</span>
<a href="#l49.30"></a><span id="l49.30" class="difflineminus">-</span>
<a href="#l49.31"></a><span id="l49.31" class="difflineminus">-var components = [ItipChannel, ItipProtocolHandler, ItipContentHandler];</span>
<a href="#l49.32"></a><span id="l49.32" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1">rename from calendar/lightning/components/lightningTextCalendarConverter.js</span>
<a href="#l50.2"></a><span id="l50.2">rename to calendar/lightning/components/CalMimeConverter.jsm</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineminus">--- a/calendar/lightning/components/lightningTextCalendarConverter.js</span>
<a href="#l50.4"></a><span id="l50.4" class="difflineplus">+++ b/calendar/lightning/components/CalMimeConverter.jsm</span>
<a href="#l50.5"></a><span id="l50.5" class="difflineat">@@ -1,22 +1,23 @@</span>
<a href="#l50.6"></a><span id="l50.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l50.7"></a><span id="l50.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l50.8"></a><span id="l50.8">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l50.9"></a><span id="l50.9"> </span>
<a href="#l50.10"></a><span id="l50.10" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l50.11"></a><span id="l50.11" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalMimeConverter&quot;];</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineplus">+</span>
<a href="#l50.13"></a><span id="l50.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l50.14"></a><span id="l50.14"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l50.15"></a><span id="l50.15"> var { ltn } = ChromeUtils.import(&quot;resource:///modules/calendar/ltnInvitationUtils.jsm&quot;);</span>
<a href="#l50.16"></a><span id="l50.16"> </span>
<a href="#l50.17"></a><span id="l50.17" class="difflineminus">-function ltnMimeConverter() {</span>
<a href="#l50.18"></a><span id="l50.18" class="difflineplus">+function CalMimeConverter() {</span>
<a href="#l50.19"></a><span id="l50.19">   this.wrappedJSObject = this;</span>
<a href="#l50.20"></a><span id="l50.20"> }</span>
<a href="#l50.21"></a><span id="l50.21"> </span>
<a href="#l50.22"></a><span id="l50.22" class="difflineminus">-ltnMimeConverter.prototype = {</span>
<a href="#l50.23"></a><span id="l50.23" class="difflineplus">+CalMimeConverter.prototype = {</span>
<a href="#l50.24"></a><span id="l50.24">   QueryInterface: ChromeUtils.generateQI([Ci.nsISimpleMimeConverter]),</span>
<a href="#l50.25"></a><span id="l50.25">   classID: Components.ID(&quot;{c70acb08-464e-4e55-899d-b2c84c5409fa}&quot;),</span>
<a href="#l50.26"></a><span id="l50.26"> </span>
<a href="#l50.27"></a><span id="l50.27">   uri: null,</span>
<a href="#l50.28"></a><span id="l50.28"> </span>
<a href="#l50.29"></a><span id="l50.29">   convertToHTML(contentType, data) {</span>
<a href="#l50.30"></a><span id="l50.30">     let parser = Cc[&quot;@mozilla.org/calendar/ics-parser;1&quot;].createInstance(Ci.calIIcsParser);</span>
<a href="#l50.31"></a><span id="l50.31">     parser.parseString(data);</span>
<a href="#l50.32"></a><span id="l50.32" class="difflineat">@@ -70,10 +71,8 @@ ltnMimeConverter.prototype = {</span>
<a href="#l50.33"></a><span id="l50.33">       sinkProps.setPropertyAsAUTF8String(&quot;msgOverlay&quot;, msgOverlay);</span>
<a href="#l50.34"></a><span id="l50.34"> </span>
<a href="#l50.35"></a><span id="l50.35">       // Notify the observer that the itipItem is available</span>
<a href="#l50.36"></a><span id="l50.36">       Services.obs.notifyObservers(null, &quot;onItipItemCreation&quot;);</span>
<a href="#l50.37"></a><span id="l50.37">     }</span>
<a href="#l50.38"></a><span id="l50.38">     return msgOverlay;</span>
<a href="#l50.39"></a><span id="l50.39">   },</span>
<a href="#l50.40"></a><span id="l50.40"> };</span>
<a href="#l50.41"></a><span id="l50.41" class="difflineminus">-</span>
<a href="#l50.42"></a><span id="l50.42" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([ltnMimeConverter]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1">deleted file mode 100644</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineminus">--- a/calendar/lightning/components/calItipProtocolHandler.manifest</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineplus">+++ /dev/null</span>
<a href="#l51.4"></a><span id="l51.4" class="difflineat">@@ -1,8 +0,0 @@</span>
<a href="#l51.5"></a><span id="l51.5" class="difflineminus">-component {643e0328-36f6-411d-a107-16238dff9cd7} calItipProtocolHandler.js</span>
<a href="#l51.6"></a><span id="l51.6" class="difflineminus">-contract @mozilla.org/calendar/itip-channel;1 {643e0328-36f6-411d-a107-16238dff9cd7}</span>
<a href="#l51.7"></a><span id="l51.7" class="difflineminus">-</span>
<a href="#l51.8"></a><span id="l51.8" class="difflineminus">-component {6e957006-b4ce-11d9-b053-001124736B74} calItipProtocolHandler.js</span>
<a href="#l51.9"></a><span id="l51.9" class="difflineminus">-contract @mozilla.org/network/protocol;1?name=moz-cal-handle-itip {6e957006-b4ce-11d9-b053-001124736B74}</span>
<a href="#l51.10"></a><span id="l51.10" class="difflineminus">-</span>
<a href="#l51.11"></a><span id="l51.11" class="difflineminus">-component {47c31f2b-b4de-11d9-bfe6-001124736B74} calItipProtocolHandler.js</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-contract @mozilla.org/uriloader/content-handler;1?type=application/x-itip-internal {47c31f2b-b4de-11d9-bfe6-001124736B74}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1">new file mode 100644</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineminus">--- /dev/null</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineplus">+++ b/calendar/lightning/components/components.conf</span>
<a href="#l52.4"></a><span id="l52.4" class="difflineat">@@ -0,0 +1,33 @@</span>
<a href="#l52.5"></a><span id="l52.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l52.6"></a><span id="l52.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l52.7"></a><span id="l52.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l52.8"></a><span id="l52.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l52.9"></a><span id="l52.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l52.10"></a><span id="l52.10" class="difflineplus">+</span>
<a href="#l52.11"></a><span id="l52.11" class="difflineplus">+Classes = [</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineplus">+  {</span>
<a href="#l52.13"></a><span id="l52.13" class="difflineplus">+    'cid': '{643e0328-36f6-411d-a107-16238dff9cd7}',</span>
<a href="#l52.14"></a><span id="l52.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/itip-channel;1'],</span>
<a href="#l52.15"></a><span id="l52.15" class="difflineplus">+    'jsm': 'resource:///modules/CalItipProtocolHandler.jsm',</span>
<a href="#l52.16"></a><span id="l52.16" class="difflineplus">+    'constructor': 'ItipChannel',</span>
<a href="#l52.17"></a><span id="l52.17" class="difflineplus">+  },</span>
<a href="#l52.18"></a><span id="l52.18" class="difflineplus">+  {</span>
<a href="#l52.19"></a><span id="l52.19" class="difflineplus">+    'cid': '{6e957006-b4ce-11d9-b053-001124736B74}',</span>
<a href="#l52.20"></a><span id="l52.20" class="difflineplus">+    'contract_ids': ['@mozilla.org/network/protocol;1?name=moz-cal-handle-itip'],</span>
<a href="#l52.21"></a><span id="l52.21" class="difflineplus">+    'jsm': 'resource:///modules/CalItipProtocolHandler.jsm',</span>
<a href="#l52.22"></a><span id="l52.22" class="difflineplus">+    'constructor': 'ItipProtocolHandler',</span>
<a href="#l52.23"></a><span id="l52.23" class="difflineplus">+  },</span>
<a href="#l52.24"></a><span id="l52.24" class="difflineplus">+  {</span>
<a href="#l52.25"></a><span id="l52.25" class="difflineplus">+    'cid': '{47c31f2b-b4de-11d9-bfe6-001124736B74}',</span>
<a href="#l52.26"></a><span id="l52.26" class="difflineplus">+    'contract_ids': ['@mozilla.org/uriloader/content-handler;1?type=application/x-itip-internal'],</span>
<a href="#l52.27"></a><span id="l52.27" class="difflineplus">+    'jsm': 'resource:///modules/CalItipEmailTransport.jsm',</span>
<a href="#l52.28"></a><span id="l52.28" class="difflineplus">+    'constructor': 'ItipContentHandler',</span>
<a href="#l52.29"></a><span id="l52.29" class="difflineplus">+  },</span>
<a href="#l52.30"></a><span id="l52.30" class="difflineplus">+  {</span>
<a href="#l52.31"></a><span id="l52.31" class="difflineplus">+    'cid': '{c70acb08-464e-4e55-899d-b2c84c5409fa}',</span>
<a href="#l52.32"></a><span id="l52.32" class="difflineplus">+    'contract_ids': ['@mozilla.org/lightning/mime-converter;1'],</span>
<a href="#l52.33"></a><span id="l52.33" class="difflineplus">+    'jsm': 'resource:///modules/CalMimeConverter.jsm',</span>
<a href="#l52.34"></a><span id="l52.34" class="difflineplus">+    'constructor': 'CalMimeConverter',</span>
<a href="#l52.35"></a><span id="l52.35" class="difflineplus">+    'categories': {'simple-mime-converters': 'text/calendar'},</span>
<a href="#l52.36"></a><span id="l52.36" class="difflineplus">+  },</span>
<a href="#l52.37"></a><span id="l52.37" class="difflineplus">+]</span>
<a href="#l52.38"></a><span id="l52.38">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1">deleted file mode 100644</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineminus">--- a/calendar/lightning/components/lightningTextCalendarConverter.manifest</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineplus">+++ /dev/null</span>
<a href="#l53.4"></a><span id="l53.4" class="difflineat">@@ -1,3 +0,0 @@</span>
<a href="#l53.5"></a><span id="l53.5" class="difflineminus">-component {c70acb08-464e-4e55-899d-b2c84c5409fa} lightningTextCalendarConverter.js</span>
<a href="#l53.6"></a><span id="l53.6" class="difflineminus">-contract @mozilla.org/lightning/mime-converter;1 {c70acb08-464e-4e55-899d-b2c84c5409fa}</span>
<a href="#l53.7"></a><span id="l53.7" class="difflineminus">-category simple-mime-converters text/calendar @mozilla.org/lightning/mime-converter;1</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/calendar/lightning/components/moz.build</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/calendar/lightning/components/moz.build</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l54.4"></a><span id="l54.4"> # vim: set filetype=python:</span>
<a href="#l54.5"></a><span id="l54.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l54.6"></a><span id="l54.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l54.7"></a><span id="l54.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l54.8"></a><span id="l54.8"> </span>
<a href="#l54.9"></a><span id="l54.9" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l54.10"></a><span id="l54.10" class="difflineminus">-    'calItipProtocolHandler.js',</span>
<a href="#l54.11"></a><span id="l54.11" class="difflineminus">-    'calItipProtocolHandler.manifest',</span>
<a href="#l54.12"></a><span id="l54.12" class="difflineminus">-    'lightningTextCalendarConverter.js',</span>
<a href="#l54.13"></a><span id="l54.13" class="difflineminus">-    'lightningTextCalendarConverter.manifest',</span>
<a href="#l54.14"></a><span id="l54.14" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l54.15"></a><span id="l54.15" class="difflineplus">+    'CalItipProtocolHandler.jsm',</span>
<a href="#l54.16"></a><span id="l54.16" class="difflineplus">+    'CalMimeConverter.jsm',</span>
<a href="#l54.17"></a><span id="l54.17"> ]</span>
<a href="#l54.18"></a><span id="l54.18"> </span>
<a href="#l54.19"></a><span id="l54.19" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l54.20"></a><span id="l54.20" class="difflineplus">+    'components.conf',</span>
<a href="#l54.21"></a><span id="l54.21" class="difflineplus">+]</span>
<a href="#l54.22"></a><span id="l54.22" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1">rename from calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l55.2"></a><span id="l55.2">rename to calendar/providers/caldav/CalDavCalendar.jsm</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.js</span>
<a href="#l55.4"></a><span id="l55.4" class="difflineplus">+++ b/calendar/providers/caldav/CalDavCalendar.jsm</span>
<a href="#l55.5"></a><span id="l55.5" class="difflineat">@@ -1,26 +1,25 @@</span>
<a href="#l55.6"></a><span id="l55.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l55.7"></a><span id="l55.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l55.8"></a><span id="l55.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l55.9"></a><span id="l55.9"> </span>
<a href="#l55.10"></a><span id="l55.10"> /* import-globals-from calDavRequestHandlers.js */</span>
<a href="#l55.11"></a><span id="l55.11"> /* globals OAUTH_BASE_URI, OAUTH_SCOPE, OAUTH_CLIENT_ID, OAUTH_HASH */</span>
<a href="#l55.12"></a><span id="l55.12"> </span>
<a href="#l55.13"></a><span id="l55.13" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l55.14"></a><span id="l55.14" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalDavCalendar&quot;];</span>
<a href="#l55.15"></a><span id="l55.15" class="difflineplus">+</span>
<a href="#l55.16"></a><span id="l55.16"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l55.17"></a><span id="l55.17"> var { setTimeout } = ChromeUtils.import(&quot;resource://gre/modules/Timer.jsm&quot;);</span>
<a href="#l55.18"></a><span id="l55.18"> </span>
<a href="#l55.19"></a><span id="l55.19"> var { OAuth2 } = ChromeUtils.import(&quot;resource:///modules/OAuth2.jsm&quot;);</span>
<a href="#l55.20"></a><span id="l55.20"> </span>
<a href="#l55.21"></a><span id="l55.21"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l55.22"></a><span id="l55.22"> </span>
<a href="#l55.23"></a><span id="l55.23" class="difflineminus">-//</span>
<a href="#l55.24"></a><span id="l55.24" class="difflineminus">-// calDavCalendar.js</span>
<a href="#l55.25"></a><span id="l55.25" class="difflineminus">-//</span>
<a href="#l55.26"></a><span id="l55.26" class="difflineplus">+Services.scriptloader.loadSubScript(&quot;resource:///components/calDavRequestHandlers.js&quot;);</span>
<a href="#l55.27"></a><span id="l55.27"> </span>
<a href="#l55.28"></a><span id="l55.28"> var xmlHeader = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n';</span>
<a href="#l55.29"></a><span id="l55.29"> </span>
<a href="#l55.30"></a><span id="l55.30"> var davNS = &quot;DAV:&quot;;</span>
<a href="#l55.31"></a><span id="l55.31"> var caldavNS = &quot;urn:ietf:params:xml:ns:caldav&quot;;</span>
<a href="#l55.32"></a><span id="l55.32"> var calservNS = &quot;http://calendarserver.org/ns/&quot;;</span>
<a href="#l55.33"></a><span id="l55.33"> var MIME_TEXT_CALENDAR = &quot;text/calendar; charset=utf-8&quot;;</span>
<a href="#l55.34"></a><span id="l55.34"> var MIME_TEXT_XML = &quot;text/xml; charset=utf-8&quot;;</span>
<a href="#l55.35"></a><span id="l55.35" class="difflineat">@@ -41,17 +40,17 @@ function caldavNSResolver(prefix) {</span>
<a href="#l55.36"></a><span id="l55.36"> </span>
<a href="#l55.37"></a><span id="l55.37"> function caldavXPath(aNode, aExpr, aType) {</span>
<a href="#l55.38"></a><span id="l55.38">   return cal.xml.evalXPath(aNode, aExpr, caldavNSResolver, aType);</span>
<a href="#l55.39"></a><span id="l55.39"> }</span>
<a href="#l55.40"></a><span id="l55.40"> function caldavXPathFirst(aNode, aExpr, aType) {</span>
<a href="#l55.41"></a><span id="l55.41">   return cal.xml.evalXPathFirst(aNode, aExpr, caldavNSResolver, aType);</span>
<a href="#l55.42"></a><span id="l55.42"> }</span>
<a href="#l55.43"></a><span id="l55.43"> </span>
<a href="#l55.44"></a><span id="l55.44" class="difflineminus">-function calDavCalendar() {</span>
<a href="#l55.45"></a><span id="l55.45" class="difflineplus">+function CalDavCalendar() {</span>
<a href="#l55.46"></a><span id="l55.46">   this.initProviderBase();</span>
<a href="#l55.47"></a><span id="l55.47">   this.unmappedProperties = [];</span>
<a href="#l55.48"></a><span id="l55.48">   this.mUriParams = null;</span>
<a href="#l55.49"></a><span id="l55.49">   this.mItemInfoCache = {};</span>
<a href="#l55.50"></a><span id="l55.50">   this.mDisabled = false;</span>
<a href="#l55.51"></a><span id="l55.51">   this.mCalHomeSet = null;</span>
<a href="#l55.52"></a><span id="l55.52">   this.mInboxUrl = null;</span>
<a href="#l55.53"></a><span id="l55.53">   this.mOutboxUrl = null;</span>
<a href="#l55.54"></a><span id="l55.54" class="difflineat">@@ -90,17 +89,17 @@ var calDavCalendarInterfaces = [</span>
<a href="#l55.55"></a><span id="l55.55">   Ci.calIFreeBusyProvider,</span>
<a href="#l55.56"></a><span id="l55.56">   Ci.nsIChannelEventSink,</span>
<a href="#l55.57"></a><span id="l55.57">   Ci.calIItipTransport,</span>
<a href="#l55.58"></a><span id="l55.58">   Ci.calISchedulingSupport,</span>
<a href="#l55.59"></a><span id="l55.59">   Ci.calICalendar,</span>
<a href="#l55.60"></a><span id="l55.60">   Ci.calIChangeLog,</span>
<a href="#l55.61"></a><span id="l55.61">   Ci.calICalDavCalendar,</span>
<a href="#l55.62"></a><span id="l55.62"> ];</span>
<a href="#l55.63"></a><span id="l55.63" class="difflineminus">-calDavCalendar.prototype = {</span>
<a href="#l55.64"></a><span id="l55.64" class="difflineplus">+CalDavCalendar.prototype = {</span>
<a href="#l55.65"></a><span id="l55.65">   __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l55.66"></a><span id="l55.66">   classID: calDavCalendarClassID,</span>
<a href="#l55.67"></a><span id="l55.67">   QueryInterface: cal.generateQI(calDavCalendarInterfaces),</span>
<a href="#l55.68"></a><span id="l55.68">   classInfo: cal.generateCI({</span>
<a href="#l55.69"></a><span id="l55.69">     classID: calDavCalendarClassID,</span>
<a href="#l55.70"></a><span id="l55.70">     contractID: &quot;@mozilla.org/calendar/calendar;1?type=caldav&quot;,</span>
<a href="#l55.71"></a><span id="l55.71">     classDescription: &quot;Calendar CalDAV back-end&quot;,</span>
<a href="#l55.72"></a><span id="l55.72">     interfaces: calDavCalendarInterfaces,</span>
<a href="#l55.73"></a><span id="l55.73" class="difflineat">@@ -3272,15 +3271,8 @@ calDavObserver.prototype = {</span>
<a href="#l55.74"></a><span id="l55.74">     this.mCalendar.observers.notify(&quot;onPropertyDeleting&quot;, [aCalendar, aName]);</span>
<a href="#l55.75"></a><span id="l55.75">   },</span>
<a href="#l55.76"></a><span id="l55.76"> </span>
<a href="#l55.77"></a><span id="l55.77">   onError(aCalendar, aErrNo, aMessage) {</span>
<a href="#l55.78"></a><span id="l55.78">     this.mCalendar.readOnly = true;</span>
<a href="#l55.79"></a><span id="l55.79">     this.mCalendar.notifyError(aErrNo, aMessage);</span>
<a href="#l55.80"></a><span id="l55.80">   },</span>
<a href="#l55.81"></a><span id="l55.81"> };</span>
<a href="#l55.82"></a><span id="l55.82" class="difflineminus">-</span>
<a href="#l55.83"></a><span id="l55.83" class="difflineminus">-/** Module Registration */</span>
<a href="#l55.84"></a><span id="l55.84" class="difflineminus">-this.NSGetFactory = cid =&gt; {</span>
<a href="#l55.85"></a><span id="l55.85" class="difflineminus">-  Services.scriptloader.loadSubScript(&quot;resource:///components/calDavRequestHandlers.js&quot;, this);</span>
<a href="#l55.86"></a><span id="l55.86" class="difflineminus">-  this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calDavCalendar]);</span>
<a href="#l55.87"></a><span id="l55.87" class="difflineminus">-  return this.NSGetFactory(cid);</span>
<a href="#l55.88"></a><span id="l55.88" class="difflineminus">-};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1">deleted file mode 100644</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineminus">--- a/calendar/providers/caldav/calDavCalendar.manifest</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineplus">+++ /dev/null</span>
<a href="#l56.4"></a><span id="l56.4" class="difflineat">@@ -1,2 +0,0 @@</span>
<a href="#l56.5"></a><span id="l56.5" class="difflineminus">-component {a35fc6ea-3d92-11d9-89f9-00045ace3b8d} calDavCalendar.js</span>
<a href="#l56.6"></a><span id="l56.6" class="difflineminus">-contract @mozilla.org/calendar/calendar;1?type=caldav {a35fc6ea-3d92-11d9-89f9-00045ace3b8d}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1">new file mode 100644</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineminus">--- /dev/null</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineplus">+++ b/calendar/providers/caldav/components.conf</span>
<a href="#l57.4"></a><span id="l57.4" class="difflineat">@@ -0,0 +1,14 @@</span>
<a href="#l57.5"></a><span id="l57.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l57.6"></a><span id="l57.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l57.7"></a><span id="l57.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l57.8"></a><span id="l57.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l57.9"></a><span id="l57.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l57.10"></a><span id="l57.10" class="difflineplus">+</span>
<a href="#l57.11"></a><span id="l57.11" class="difflineplus">+Classes = [</span>
<a href="#l57.12"></a><span id="l57.12" class="difflineplus">+  {</span>
<a href="#l57.13"></a><span id="l57.13" class="difflineplus">+    'cid': '{a35fc6ea-3d92-11d9-89f9-00045ace3b8d}',</span>
<a href="#l57.14"></a><span id="l57.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/calendar;1?type=caldav'],</span>
<a href="#l57.15"></a><span id="l57.15" class="difflineplus">+    'jsm': 'resource:///modules/CalDavCalendar.jsm',</span>
<a href="#l57.16"></a><span id="l57.16" class="difflineplus">+    'constructor': 'CalDavCalendar',</span>
<a href="#l57.17"></a><span id="l57.17" class="difflineplus">+  },</span>
<a href="#l57.18"></a><span id="l57.18" class="difflineplus">+]</span>
<a href="#l57.19"></a><span id="l57.19">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/calendar/providers/caldav/moz.build</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/calendar/providers/caldav/moz.build</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -1,18 +1,21 @@</span>
<a href="#l58.4"></a><span id="l58.4"> # vim: set filetype=python:</span>
<a href="#l58.5"></a><span id="l58.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l58.6"></a><span id="l58.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l58.7"></a><span id="l58.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l58.8"></a><span id="l58.8"> </span>
<a href="#l58.9"></a><span id="l58.9"> DIRS += ['public']</span>
<a href="#l58.10"></a><span id="l58.10"> </span>
<a href="#l58.11"></a><span id="l58.11" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-    'calDavCalendar.js',</span>
<a href="#l58.13"></a><span id="l58.13" class="difflineminus">-    'calDavCalendar.manifest',</span>
<a href="#l58.14"></a><span id="l58.14" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l58.15"></a><span id="l58.15" class="difflineplus">+    'CalDavCalendar.jsm',</span>
<a href="#l58.16"></a><span id="l58.16" class="difflineplus">+]</span>
<a href="#l58.17"></a><span id="l58.17" class="difflineplus">+</span>
<a href="#l58.18"></a><span id="l58.18" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l58.19"></a><span id="l58.19" class="difflineplus">+    'components.conf',</span>
<a href="#l58.20"></a><span id="l58.20"> ]</span>
<a href="#l58.21"></a><span id="l58.21"> </span>
<a href="#l58.22"></a><span id="l58.22"> # These files go in components so they can be packaged correctly.</span>
<a href="#l58.23"></a><span id="l58.23"> FINAL_TARGET_FILES.components += [</span>
<a href="#l58.24"></a><span id="l58.24">     'calDavRequestHandlers.js',</span>
<a href="#l58.25"></a><span id="l58.25"> ]</span>
<a href="#l58.26"></a><span id="l58.26"> </span>
<a href="#l58.27"></a><span id="l58.27"> with Files('**'):</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1">rename from calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l59.2"></a><span id="l59.2">rename to calendar/providers/composite/CalCompositeCalendar.jsm</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineminus">--- a/calendar/providers/composite/calCompositeCalendar.js</span>
<a href="#l59.4"></a><span id="l59.4" class="difflineplus">+++ b/calendar/providers/composite/CalCompositeCalendar.jsm</span>
<a href="#l59.5"></a><span id="l59.5" class="difflineat">@@ -1,18 +1,15 @@</span>
<a href="#l59.6"></a><span id="l59.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l59.7"></a><span id="l59.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l59.8"></a><span id="l59.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l59.9"></a><span id="l59.9"> </span>
<a href="#l59.10"></a><span id="l59.10" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l59.11"></a><span id="l59.11" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalCompositeCalendar&quot;];</span>
<a href="#l59.13"></a><span id="l59.13"> </span>
<a href="#l59.14"></a><span id="l59.14" class="difflineminus">-//</span>
<a href="#l59.15"></a><span id="l59.15" class="difflineminus">-// calCompositeCalendar.js</span>
<a href="#l59.16"></a><span id="l59.16" class="difflineminus">-//</span>
<a href="#l59.17"></a><span id="l59.17" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l59.18"></a><span id="l59.18"> </span>
<a href="#l59.19"></a><span id="l59.19"> /**</span>
<a href="#l59.20"></a><span id="l59.20">  * Calendar specific utility functions</span>
<a href="#l59.21"></a><span id="l59.21">  */</span>
<a href="#l59.22"></a><span id="l59.22"> var calIOperationListener = Ci.calIOperationListener;</span>
<a href="#l59.23"></a><span id="l59.23"> </span>
<a href="#l59.24"></a><span id="l59.24"> function calCompositeCalendarObserverHelper(compCalendar) {</span>
<a href="#l59.25"></a><span id="l59.25">   this.compCalendar = compCalendar;</span>
<a href="#l59.26"></a><span id="l59.26" class="difflineat">@@ -65,34 +62,34 @@ calCompositeCalendarObserverHelper.proto</span>
<a href="#l59.27"></a><span id="l59.27">     this.compCalendar.mObservers.notify(&quot;onPropertyChanged&quot;, arguments);</span>
<a href="#l59.28"></a><span id="l59.28">   },</span>
<a href="#l59.29"></a><span id="l59.29"> </span>
<a href="#l59.30"></a><span id="l59.30">   onPropertyDeleting(aCalendar, aName) {</span>
<a href="#l59.31"></a><span id="l59.31">     this.compCalendar.mObservers.notify(&quot;onPropertyDeleting&quot;, arguments);</span>
<a href="#l59.32"></a><span id="l59.32">   },</span>
<a href="#l59.33"></a><span id="l59.33"> };</span>
<a href="#l59.34"></a><span id="l59.34"> </span>
<a href="#l59.35"></a><span id="l59.35" class="difflineminus">-function calCompositeCalendar() {</span>
<a href="#l59.36"></a><span id="l59.36" class="difflineplus">+function CalCompositeCalendar() {</span>
<a href="#l59.37"></a><span id="l59.37">   this.mObserverHelper = new calCompositeCalendarObserverHelper(this);</span>
<a href="#l59.38"></a><span id="l59.38">   this.wrappedJSObject = this;</span>
<a href="#l59.39"></a><span id="l59.39"> </span>
<a href="#l59.40"></a><span id="l59.40">   this.mCalendars = [];</span>
<a href="#l59.41"></a><span id="l59.41">   this.mCompositeObservers = new cal.data.ObserverSet(Ci.calICompositeObserver);</span>
<a href="#l59.42"></a><span id="l59.42">   this.mObservers = new cal.data.ObserverSet(Ci.calIObserver);</span>
<a href="#l59.43"></a><span id="l59.43">   this.mDefaultCalendar = null;</span>
<a href="#l59.44"></a><span id="l59.44">   this.mStatusObserver = null;</span>
<a href="#l59.45"></a><span id="l59.45"> }</span>
<a href="#l59.46"></a><span id="l59.46"> </span>
<a href="#l59.47"></a><span id="l59.47"> var calCompositeCalendarClassID = Components.ID(&quot;{aeff788d-63b0-4996-91fb-40a7654c6224}&quot;);</span>
<a href="#l59.48"></a><span id="l59.48"> var calCompositeCalendarInterfaces = [</span>
<a href="#l59.49"></a><span id="l59.49">   Ci.calICalendarProvider,</span>
<a href="#l59.50"></a><span id="l59.50">   Ci.calICalendar,</span>
<a href="#l59.51"></a><span id="l59.51">   Ci.calICompositeCalendar,</span>
<a href="#l59.52"></a><span id="l59.52"> ];</span>
<a href="#l59.53"></a><span id="l59.53" class="difflineminus">-calCompositeCalendar.prototype = {</span>
<a href="#l59.54"></a><span id="l59.54" class="difflineplus">+CalCompositeCalendar.prototype = {</span>
<a href="#l59.55"></a><span id="l59.55">   classID: calCompositeCalendarClassID,</span>
<a href="#l59.56"></a><span id="l59.56">   QueryInterface: ChromeUtils.generateQI(calCompositeCalendarInterfaces),</span>
<a href="#l59.57"></a><span id="l59.57"> </span>
<a href="#l59.58"></a><span id="l59.58">   //</span>
<a href="#l59.59"></a><span id="l59.59">   // calICalendarProvider interface</span>
<a href="#l59.60"></a><span id="l59.60">   //</span>
<a href="#l59.61"></a><span id="l59.61">   get prefChromeOverlay() {</span>
<a href="#l59.62"></a><span id="l59.62">     return null;</span>
<a href="#l59.63"></a><span id="l59.63" class="difflineat">@@ -524,11 +521,8 @@ calCompositeGetListenerHelper.prototype </span>
<a href="#l59.64"></a><span id="l59.64">       aItems = aItems.slice(0, itemsCount);</span>
<a href="#l59.65"></a><span id="l59.65">     }</span>
<a href="#l59.66"></a><span id="l59.66"> </span>
<a href="#l59.67"></a><span id="l59.67">     // send GetResults to the real listener</span>
<a href="#l59.68"></a><span id="l59.68">     this.mRealListener.onGetResult(aCalendar, aStatus, aItemType, aDetail, aItems);</span>
<a href="#l59.69"></a><span id="l59.69">     this.mItemsReceived += itemsCount;</span>
<a href="#l59.70"></a><span id="l59.70">   },</span>
<a href="#l59.71"></a><span id="l59.71"> };</span>
<a href="#l59.72"></a><span id="l59.72" class="difflineminus">-</span>
<a href="#l59.73"></a><span id="l59.73" class="difflineminus">-/** Module Registration */</span>
<a href="#l59.74"></a><span id="l59.74" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calCompositeCalendar]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1">deleted file mode 100644</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineminus">--- a/calendar/providers/composite/calCompositeCalendar.manifest</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineplus">+++ /dev/null</span>
<a href="#l60.4"></a><span id="l60.4" class="difflineat">@@ -1,2 +0,0 @@</span>
<a href="#l60.5"></a><span id="l60.5" class="difflineminus">-component {aeff788d-63b0-4996-91fb-40a7654c6224} calCompositeCalendar.js</span>
<a href="#l60.6"></a><span id="l60.6" class="difflineminus">-contract @mozilla.org/calendar/calendar;1?type=composite {aeff788d-63b0-4996-91fb-40a7654c6224}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1">new file mode 100644</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineminus">--- /dev/null</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineplus">+++ b/calendar/providers/composite/components.conf</span>
<a href="#l61.4"></a><span id="l61.4" class="difflineat">@@ -0,0 +1,14 @@</span>
<a href="#l61.5"></a><span id="l61.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l61.6"></a><span id="l61.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l61.7"></a><span id="l61.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l61.8"></a><span id="l61.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l61.9"></a><span id="l61.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l61.10"></a><span id="l61.10" class="difflineplus">+</span>
<a href="#l61.11"></a><span id="l61.11" class="difflineplus">+Classes = [</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineplus">+  {</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineplus">+    'cid': '{aeff788d-63b0-4996-91fb-40a7654c6224}',</span>
<a href="#l61.14"></a><span id="l61.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/calendar;1?type=composite'],</span>
<a href="#l61.15"></a><span id="l61.15" class="difflineplus">+    'jsm': 'resource:///modules/CalCompositeCalendar.jsm',</span>
<a href="#l61.16"></a><span id="l61.16" class="difflineplus">+    'constructor': 'CalCompositeCalendar',</span>
<a href="#l61.17"></a><span id="l61.17" class="difflineplus">+  },</span>
<a href="#l61.18"></a><span id="l61.18" class="difflineplus">+]</span>
<a href="#l61.19"></a><span id="l61.19">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/calendar/providers/composite/moz.build</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/calendar/providers/composite/moz.build</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -1,10 +1,13 @@</span>
<a href="#l62.4"></a><span id="l62.4"> # vim: set filetype=python:</span>
<a href="#l62.5"></a><span id="l62.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l62.6"></a><span id="l62.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l62.7"></a><span id="l62.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l62.8"></a><span id="l62.8"> </span>
<a href="#l62.9"></a><span id="l62.9" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l62.10"></a><span id="l62.10" class="difflineminus">-    'calCompositeCalendar.js',</span>
<a href="#l62.11"></a><span id="l62.11" class="difflineminus">-    'calCompositeCalendar.manifest',</span>
<a href="#l62.12"></a><span id="l62.12" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineplus">+    'CalCompositeCalendar.jsm',</span>
<a href="#l62.14"></a><span id="l62.14"> ]</span>
<a href="#l62.15"></a><span id="l62.15"> </span>
<a href="#l62.16"></a><span id="l62.16" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l62.17"></a><span id="l62.17" class="difflineplus">+    'components.conf',</span>
<a href="#l62.18"></a><span id="l62.18" class="difflineplus">+]</span>
<a href="#l62.19"></a><span id="l62.19" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1">rename from calendar/providers/ics/calICSCalendar.js</span>
<a href="#l63.2"></a><span id="l63.2">rename to calendar/providers/ics/CalICSCalendar.jsm</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l63.4"></a><span id="l63.4" class="difflineplus">+++ b/calendar/providers/ics/CalICSCalendar.jsm</span>
<a href="#l63.5"></a><span id="l63.5" class="difflineat">@@ -1,20 +1,18 @@</span>
<a href="#l63.6"></a><span id="l63.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l63.7"></a><span id="l63.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l63.8"></a><span id="l63.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l63.9"></a><span id="l63.9"> </span>
<a href="#l63.10"></a><span id="l63.10" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l63.11"></a><span id="l63.11" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalICSCalendar&quot;];</span>
<a href="#l63.12"></a><span id="l63.12" class="difflineplus">+</span>
<a href="#l63.13"></a><span id="l63.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l63.14"></a><span id="l63.14"> </span>
<a href="#l63.15"></a><span id="l63.15"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l63.16"></a><span id="l63.16"> </span>
<a href="#l63.17"></a><span id="l63.17" class="difflineminus">-//</span>
<a href="#l63.18"></a><span id="l63.18" class="difflineminus">-// calICSCalendar.js</span>
<a href="#l63.19"></a><span id="l63.19" class="difflineminus">-//</span>
<a href="#l63.20"></a><span id="l63.20"> // This is a non-sync ics file. It reads the file pointer to by uri when set,</span>
<a href="#l63.21"></a><span id="l63.21"> // then writes it on updates. External changes to the file will be</span>
<a href="#l63.22"></a><span id="l63.22"> // ignored and overwritten.</span>
<a href="#l63.23"></a><span id="l63.23"> //</span>
<a href="#l63.24"></a><span id="l63.24"> // XXX Should do locks, so that external changes are not overwritten.</span>
<a href="#l63.25"></a><span id="l63.25"> </span>
<a href="#l63.26"></a><span id="l63.26"> var calICalendar = Ci.calICalendar;</span>
<a href="#l63.27"></a><span id="l63.27"> var calIErrors = Ci.calIErrors;</span>
<a href="#l63.28"></a><span id="l63.28" class="difflineat">@@ -23,17 +21,17 @@ function icsNSResolver(prefix) {</span>
<a href="#l63.29"></a><span id="l63.29">   const ns = { D: &quot;DAV:&quot; }; // eslint-disable-line id-length</span>
<a href="#l63.30"></a><span id="l63.30">   return ns[prefix] || null;</span>
<a href="#l63.31"></a><span id="l63.31"> }</span>
<a href="#l63.32"></a><span id="l63.32"> </span>
<a href="#l63.33"></a><span id="l63.33"> function icsXPathFirst(aNode, aExpr, aType) {</span>
<a href="#l63.34"></a><span id="l63.34">   return cal.xml.evalXPathFirst(aNode, aExpr, icsNSResolver, aType);</span>
<a href="#l63.35"></a><span id="l63.35"> }</span>
<a href="#l63.36"></a><span id="l63.36"> </span>
<a href="#l63.37"></a><span id="l63.37" class="difflineminus">-function calICSCalendar() {</span>
<a href="#l63.38"></a><span id="l63.38" class="difflineplus">+function CalICSCalendar() {</span>
<a href="#l63.39"></a><span id="l63.39">   this.initProviderBase();</span>
<a href="#l63.40"></a><span id="l63.40">   this.initICSCalendar();</span>
<a href="#l63.41"></a><span id="l63.41"> </span>
<a href="#l63.42"></a><span id="l63.42">   this.unmappedComponents = [];</span>
<a href="#l63.43"></a><span id="l63.43">   this.unmappedProperties = [];</span>
<a href="#l63.44"></a><span id="l63.44">   this.queue = [];</span>
<a href="#l63.45"></a><span id="l63.45">   this.mModificationActions = [];</span>
<a href="#l63.46"></a><span id="l63.46"> }</span>
<a href="#l63.47"></a><span id="l63.47" class="difflineat">@@ -42,17 +40,17 @@ var calICSCalendarInterfaces = [</span>
<a href="#l63.48"></a><span id="l63.48">   Ci.calICalendarProvider,</span>
<a href="#l63.49"></a><span id="l63.49">   Ci.calICalendar,</span>
<a href="#l63.50"></a><span id="l63.50">   Ci.calISchedulingSupport,</span>
<a href="#l63.51"></a><span id="l63.51">   Ci.nsIStreamListener,</span>
<a href="#l63.52"></a><span id="l63.52">   Ci.nsIStreamLoaderObserver,</span>
<a href="#l63.53"></a><span id="l63.53">   Ci.nsIChannelEventSink,</span>
<a href="#l63.54"></a><span id="l63.54">   Ci.nsIInterfaceRequestor,</span>
<a href="#l63.55"></a><span id="l63.55"> ];</span>
<a href="#l63.56"></a><span id="l63.56" class="difflineminus">-calICSCalendar.prototype = {</span>
<a href="#l63.57"></a><span id="l63.57" class="difflineplus">+CalICSCalendar.prototype = {</span>
<a href="#l63.58"></a><span id="l63.58">   __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l63.59"></a><span id="l63.59">   classID: calICSCalendarClassID,</span>
<a href="#l63.60"></a><span id="l63.60">   QueryInterface: cal.generateQI(calICSCalendarInterfaces),</span>
<a href="#l63.61"></a><span id="l63.61">   classInfo: cal.generateCI({</span>
<a href="#l63.62"></a><span id="l63.62">     classID: calICSCalendarClassID,</span>
<a href="#l63.63"></a><span id="l63.63">     contractID: &quot;@mozilla.org/calendar/calendar;1?type=ics&quot;,</span>
<a href="#l63.64"></a><span id="l63.64">     classDescription: &quot;Calendar ICS provider&quot;,</span>
<a href="#l63.65"></a><span id="l63.65">     interfaces: calICSCalendarInterfaces,</span>
<a href="#l63.66"></a><span id="l63.66" class="difflineat">@@ -1105,10 +1103,8 @@ fileHooks.prototype = {</span>
<a href="#l63.67"></a><span id="l63.67"> </span>
<a href="#l63.68"></a><span id="l63.68">   onAfterPut(aChannel, aRespFunc) {</span>
<a href="#l63.69"></a><span id="l63.69">     let filechannel = aChannel.QueryInterface(Ci.nsIFileChannel);</span>
<a href="#l63.70"></a><span id="l63.70">     this.mtime = filechannel.file.lastModifiedTime;</span>
<a href="#l63.71"></a><span id="l63.71">     aRespFunc();</span>
<a href="#l63.72"></a><span id="l63.72">     return true;</span>
<a href="#l63.73"></a><span id="l63.73">   },</span>
<a href="#l63.74"></a><span id="l63.74"> };</span>
<a href="#l63.75"></a><span id="l63.75" class="difflineminus">-</span>
<a href="#l63.76"></a><span id="l63.76" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calICSCalendar]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1">deleted file mode 100644</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.manifest</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineplus">+++ /dev/null</span>
<a href="#l64.4"></a><span id="l64.4" class="difflineat">@@ -1,2 +0,0 @@</span>
<a href="#l64.5"></a><span id="l64.5" class="difflineminus">-component {f8438bff-a3c9-4ed5-b23f-2663b5469abf} calICSCalendar.js</span>
<a href="#l64.6"></a><span id="l64.6" class="difflineminus">-contract @mozilla.org/calendar/calendar;1?type=ics {f8438bff-a3c9-4ed5-b23f-2663b5469abf}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1">new file mode 100644</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineminus">--- /dev/null</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineplus">+++ b/calendar/providers/ics/components.conf</span>
<a href="#l65.4"></a><span id="l65.4" class="difflineat">@@ -0,0 +1,14 @@</span>
<a href="#l65.5"></a><span id="l65.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l65.6"></a><span id="l65.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l65.7"></a><span id="l65.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l65.8"></a><span id="l65.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l65.9"></a><span id="l65.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l65.10"></a><span id="l65.10" class="difflineplus">+</span>
<a href="#l65.11"></a><span id="l65.11" class="difflineplus">+Classes = [</span>
<a href="#l65.12"></a><span id="l65.12" class="difflineplus">+  {</span>
<a href="#l65.13"></a><span id="l65.13" class="difflineplus">+    'cid': '{f8438bff-a3c9-4ed5-b23f-2663b5469abf}',</span>
<a href="#l65.14"></a><span id="l65.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/calendar;1?type=ics'],</span>
<a href="#l65.15"></a><span id="l65.15" class="difflineplus">+    'jsm': 'resource:///modules/CalICSCalendar.jsm',</span>
<a href="#l65.16"></a><span id="l65.16" class="difflineplus">+    'constructor': 'CalICSCalendar',</span>
<a href="#l65.17"></a><span id="l65.17" class="difflineplus">+  },</span>
<a href="#l65.18"></a><span id="l65.18" class="difflineplus">+]</span>
<a href="#l65.19"></a><span id="l65.19">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/calendar/providers/ics/moz.build</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/calendar/providers/ics/moz.build</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -1,12 +1,15 @@</span>
<a href="#l66.4"></a><span id="l66.4"> # vim: set filetype=python:</span>
<a href="#l66.5"></a><span id="l66.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l66.6"></a><span id="l66.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l66.7"></a><span id="l66.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l66.8"></a><span id="l66.8"> </span>
<a href="#l66.9"></a><span id="l66.9" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l66.10"></a><span id="l66.10" class="difflineminus">-    'calICSCalendar.js',</span>
<a href="#l66.11"></a><span id="l66.11" class="difflineminus">-    'calICSCalendar.manifest',</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l66.13"></a><span id="l66.13" class="difflineplus">+    'CalICSCalendar.jsm',</span>
<a href="#l66.14"></a><span id="l66.14" class="difflineplus">+]</span>
<a href="#l66.15"></a><span id="l66.15" class="difflineplus">+</span>
<a href="#l66.16"></a><span id="l66.16" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l66.17"></a><span id="l66.17" class="difflineplus">+    'components.conf',</span>
<a href="#l66.18"></a><span id="l66.18"> ]</span>
<a href="#l66.19"></a><span id="l66.19"> </span>
<a href="#l66.20"></a><span id="l66.20"> with Files('**'):</span>
<a href="#l66.21"></a><span id="l66.21">     BUG_COMPONENT = ('Calendar', 'Provider: ICS/WebDAV')</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1">rename from calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l67.2"></a><span id="l67.2">rename to calendar/providers/memory/CalMemoryCalendar.jsm</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineminus">--- a/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l67.4"></a><span id="l67.4" class="difflineplus">+++ b/calendar/providers/memory/CalMemoryCalendar.jsm</span>
<a href="#l67.5"></a><span id="l67.5" class="difflineat">@@ -1,35 +1,31 @@</span>
<a href="#l67.6"></a><span id="l67.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l67.7"></a><span id="l67.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l67.8"></a><span id="l67.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l67.9"></a><span id="l67.9"> </span>
<a href="#l67.10"></a><span id="l67.10" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l67.11"></a><span id="l67.11" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalMemoryCalendar&quot;];</span>
<a href="#l67.12"></a><span id="l67.12"> </span>
<a href="#l67.13"></a><span id="l67.13"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l67.14"></a><span id="l67.14"> </span>
<a href="#l67.15"></a><span id="l67.15" class="difflineminus">-//</span>
<a href="#l67.16"></a><span id="l67.16" class="difflineminus">-// calMemoryCalendar.js</span>
<a href="#l67.17"></a><span id="l67.17" class="difflineminus">-//</span>
<a href="#l67.18"></a><span id="l67.18" class="difflineminus">-</span>
<a href="#l67.19"></a><span id="l67.19"> var cICL = Ci.calIChangeLog;</span>
<a href="#l67.20"></a><span id="l67.20"> </span>
<a href="#l67.21"></a><span id="l67.21" class="difflineminus">-function calMemoryCalendar() {</span>
<a href="#l67.22"></a><span id="l67.22" class="difflineplus">+function CalMemoryCalendar() {</span>
<a href="#l67.23"></a><span id="l67.23">   this.initProviderBase();</span>
<a href="#l67.24"></a><span id="l67.24">   this.initMemoryCalendar();</span>
<a href="#l67.25"></a><span id="l67.25"> }</span>
<a href="#l67.26"></a><span id="l67.26"> var calMemoryCalendarClassID = Components.ID(&quot;{bda0dd7f-0a2f-4fcf-ba08-5517e6fbf133}&quot;);</span>
<a href="#l67.27"></a><span id="l67.27"> var calMemoryCalendarInterfaces = [</span>
<a href="#l67.28"></a><span id="l67.28">   Ci.calICalendar,</span>
<a href="#l67.29"></a><span id="l67.29">   Ci.calISchedulingSupport,</span>
<a href="#l67.30"></a><span id="l67.30">   Ci.calIOfflineStorage,</span>
<a href="#l67.31"></a><span id="l67.31">   Ci.calISyncWriteCalendar,</span>
<a href="#l67.32"></a><span id="l67.32">   Ci.calICalendarProvider,</span>
<a href="#l67.33"></a><span id="l67.33"> ];</span>
<a href="#l67.34"></a><span id="l67.34" class="difflineminus">-calMemoryCalendar.prototype = {</span>
<a href="#l67.35"></a><span id="l67.35" class="difflineplus">+CalMemoryCalendar.prototype = {</span>
<a href="#l67.36"></a><span id="l67.36">   __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l67.37"></a><span id="l67.37">   classID: calMemoryCalendarClassID,</span>
<a href="#l67.38"></a><span id="l67.38">   QueryInterface: cal.generateQI(calMemoryCalendarInterfaces),</span>
<a href="#l67.39"></a><span id="l67.39">   classInfo: cal.generateCI({</span>
<a href="#l67.40"></a><span id="l67.40">     classID: calMemoryCalendarClassID,</span>
<a href="#l67.41"></a><span id="l67.41">     contractID: &quot;@mozilla.org/calendar/calendar;1?type=memory&quot;,</span>
<a href="#l67.42"></a><span id="l67.42">     classDescription: &quot;Calendar Memory Provider&quot;,</span>
<a href="#l67.43"></a><span id="l67.43">     interfaces: calMemoryCalendarInterfaces,</span>
<a href="#l67.44"></a><span id="l67.44" class="difflineat">@@ -610,11 +606,8 @@ calMemoryCalendar.prototype = {</span>
<a href="#l67.45"></a><span id="l67.45">   },</span>
<a href="#l67.46"></a><span id="l67.46">   getAllMetaDataIds() {</span>
<a href="#l67.47"></a><span id="l67.47">     return [...this.mMetaData.keys()];</span>
<a href="#l67.48"></a><span id="l67.48">   },</span>
<a href="#l67.49"></a><span id="l67.49">   getAllMetaDataValues() {</span>
<a href="#l67.50"></a><span id="l67.50">     return [...this.mMetaData.values()];</span>
<a href="#l67.51"></a><span id="l67.51">   },</span>
<a href="#l67.52"></a><span id="l67.52"> };</span>
<a href="#l67.53"></a><span id="l67.53" class="difflineminus">-</span>
<a href="#l67.54"></a><span id="l67.54" class="difflineminus">-/** Module Registration */</span>
<a href="#l67.55"></a><span id="l67.55" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calMemoryCalendar]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1">deleted file mode 100644</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineminus">--- a/calendar/providers/memory/calMemoryCalendar.manifest</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineplus">+++ /dev/null</span>
<a href="#l68.4"></a><span id="l68.4" class="difflineat">@@ -1,2 +0,0 @@</span>
<a href="#l68.5"></a><span id="l68.5" class="difflineminus">-component {bda0dd7f-0a2f-4fcf-ba08-5517e6fbf133} calMemoryCalendar.js</span>
<a href="#l68.6"></a><span id="l68.6" class="difflineminus">-contract @mozilla.org/calendar/calendar;1?type=memory {bda0dd7f-0a2f-4fcf-ba08-5517e6fbf133}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1">new file mode 100644</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineminus">--- /dev/null</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineplus">+++ b/calendar/providers/memory/components.conf</span>
<a href="#l69.4"></a><span id="l69.4" class="difflineat">@@ -0,0 +1,14 @@</span>
<a href="#l69.5"></a><span id="l69.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l69.6"></a><span id="l69.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l69.7"></a><span id="l69.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l69.8"></a><span id="l69.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l69.9"></a><span id="l69.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l69.10"></a><span id="l69.10" class="difflineplus">+</span>
<a href="#l69.11"></a><span id="l69.11" class="difflineplus">+Classes = [</span>
<a href="#l69.12"></a><span id="l69.12" class="difflineplus">+  {</span>
<a href="#l69.13"></a><span id="l69.13" class="difflineplus">+    'cid': '{bda0dd7f-0a2f-4fcf-ba08-5517e6fbf133}',</span>
<a href="#l69.14"></a><span id="l69.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/calendar;1?type=memory'],</span>
<a href="#l69.15"></a><span id="l69.15" class="difflineplus">+    'jsm': 'resource:///modules/CalMemoryCalendar.jsm',</span>
<a href="#l69.16"></a><span id="l69.16" class="difflineplus">+    'constructor': 'CalMemoryCalendar',</span>
<a href="#l69.17"></a><span id="l69.17" class="difflineplus">+  },</span>
<a href="#l69.18"></a><span id="l69.18" class="difflineplus">+]</span>
<a href="#l69.19"></a><span id="l69.19">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/calendar/providers/memory/moz.build</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/calendar/providers/memory/moz.build</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -1,10 +1,13 @@</span>
<a href="#l70.4"></a><span id="l70.4"> # vim: set filetype=python:</span>
<a href="#l70.5"></a><span id="l70.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l70.6"></a><span id="l70.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l70.7"></a><span id="l70.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l70.8"></a><span id="l70.8"> </span>
<a href="#l70.9"></a><span id="l70.9" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l70.10"></a><span id="l70.10" class="difflineminus">-    'calMemoryCalendar.js',</span>
<a href="#l70.11"></a><span id="l70.11" class="difflineminus">-    'calMemoryCalendar.manifest',</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l70.13"></a><span id="l70.13" class="difflineplus">+    'CalMemoryCalendar.jsm',</span>
<a href="#l70.14"></a><span id="l70.14"> ]</span>
<a href="#l70.15"></a><span id="l70.15"> </span>
<a href="#l70.16"></a><span id="l70.16" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l70.17"></a><span id="l70.17" class="difflineplus">+    'components.conf',</span>
<a href="#l70.18"></a><span id="l70.18" class="difflineplus">+]</span>
<a href="#l70.19"></a><span id="l70.19" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1">rename from calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l71.2"></a><span id="l71.2">rename to calendar/providers/storage/CalStorageCalendar.jsm</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineminus">--- a/calendar/providers/storage/calStorageCalendar.js</span>
<a href="#l71.4"></a><span id="l71.4" class="difflineplus">+++ b/calendar/providers/storage/CalStorageCalendar.jsm</span>
<a href="#l71.5"></a><span id="l71.5" class="difflineat">@@ -1,44 +1,41 @@</span>
<a href="#l71.6"></a><span id="l71.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l71.7"></a><span id="l71.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l71.8"></a><span id="l71.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l71.9"></a><span id="l71.9"> </span>
<a href="#l71.10"></a><span id="l71.10" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l71.11"></a><span id="l71.11" class="difflineplus">+var EXPORTED_SYMBOLS = [&quot;CalStorageCalendar&quot;];</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineplus">+</span>
<a href="#l71.13"></a><span id="l71.13"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l71.14"></a><span id="l71.14"> </span>
<a href="#l71.15"></a><span id="l71.15"> var { cal } = ChromeUtils.import(&quot;resource:///modules/calendar/calUtils.jsm&quot;);</span>
<a href="#l71.16"></a><span id="l71.16"> var { upgradeDB } = ChromeUtils.import(&quot;resource:///modules/calendar/calStorageUpgrade.jsm&quot;);</span>
<a href="#l71.17"></a><span id="l71.17"> var { CAL_ITEM_FLAG, newDateTime } = ChromeUtils.import(</span>
<a href="#l71.18"></a><span id="l71.18">   &quot;resource:///modules/calendar/calStorageHelpers.jsm&quot;</span>
<a href="#l71.19"></a><span id="l71.19"> );</span>
<a href="#l71.20"></a><span id="l71.20"> </span>
<a href="#l71.21"></a><span id="l71.21"> var USECS_PER_SECOND = 1000000;</span>
<a href="#l71.22"></a><span id="l71.22"> var kCalICalendar = Ci.calICalendar;</span>
<a href="#l71.23"></a><span id="l71.23"> var cICL = Ci.calIChangeLog;</span>
<a href="#l71.24"></a><span id="l71.24"> </span>
<a href="#l71.25"></a><span id="l71.25" class="difflineminus">-//</span>
<a href="#l71.26"></a><span id="l71.26" class="difflineminus">-// calStorageCalendar</span>
<a href="#l71.27"></a><span id="l71.27" class="difflineminus">-//</span>
<a href="#l71.28"></a><span id="l71.28" class="difflineminus">-</span>
<a href="#l71.29"></a><span id="l71.29" class="difflineminus">-function calStorageCalendar() {</span>
<a href="#l71.30"></a><span id="l71.30" class="difflineplus">+function CalStorageCalendar() {</span>
<a href="#l71.31"></a><span id="l71.31">   this.initProviderBase();</span>
<a href="#l71.32"></a><span id="l71.32">   this.mItemCache = new Map();</span>
<a href="#l71.33"></a><span id="l71.33">   this.mRecEventCache = new Map();</span>
<a href="#l71.34"></a><span id="l71.34">   this.mRecTodoCache = new Map();</span>
<a href="#l71.35"></a><span id="l71.35"> }</span>
<a href="#l71.36"></a><span id="l71.36"> var calStorageCalendarClassID = Components.ID(&quot;{b3eaa1c4-5dfe-4c0a-b62a-b3a514218461}&quot;);</span>
<a href="#l71.37"></a><span id="l71.37"> var calStorageCalendarInterfaces = [</span>
<a href="#l71.38"></a><span id="l71.38">   Ci.calICalendar,</span>
<a href="#l71.39"></a><span id="l71.39">   Ci.calICalendarProvider,</span>
<a href="#l71.40"></a><span id="l71.40">   Ci.calIOfflineStorage,</span>
<a href="#l71.41"></a><span id="l71.41">   Ci.calISchedulingSupport,</span>
<a href="#l71.42"></a><span id="l71.42">   Ci.calISyncWriteCalendar,</span>
<a href="#l71.43"></a><span id="l71.43"> ];</span>
<a href="#l71.44"></a><span id="l71.44" class="difflineminus">-calStorageCalendar.prototype = {</span>
<a href="#l71.45"></a><span id="l71.45" class="difflineplus">+CalStorageCalendar.prototype = {</span>
<a href="#l71.46"></a><span id="l71.46">   __proto__: cal.provider.BaseClass.prototype,</span>
<a href="#l71.47"></a><span id="l71.47">   classID: calStorageCalendarClassID,</span>
<a href="#l71.48"></a><span id="l71.48">   QueryInterface: cal.generateQI(calStorageCalendarInterfaces),</span>
<a href="#l71.49"></a><span id="l71.49">   classInfo: cal.generateCI({</span>
<a href="#l71.50"></a><span id="l71.50">     classID: calStorageCalendarClassID,</span>
<a href="#l71.51"></a><span id="l71.51">     contractID: &quot;@mozilla.org/calendar/calendar;1?type=storage&quot;,</span>
<a href="#l71.52"></a><span id="l71.52">     classDescription: &quot;Calendar Storage Provider&quot;,</span>
<a href="#l71.53"></a><span id="l71.53">     interfaces: calStorageCalendarInterfaces,</span>
<a href="#l71.54"></a><span id="l71.54" class="difflineat">@@ -848,17 +845,17 @@ calStorageCalendar.prototype = {</span>
<a href="#l71.55"></a><span id="l71.55">       this.prepareStatement(query);</span>
<a href="#l71.56"></a><span id="l71.56">       query.params.id = aItem.id;</span>
<a href="#l71.57"></a><span id="l71.57">       try {</span>
<a href="#l71.58"></a><span id="l71.58">         await this.executeAsync(query, row =&gt; {</span>
<a href="#l71.59"></a><span id="l71.59">           flag = row.getResultByName(&quot;offline_journal&quot;) || null;</span>
<a href="#l71.60"></a><span id="l71.60">         });</span>
<a href="#l71.61"></a><span id="l71.61">       } catch (ex) {</span>
<a href="#l71.62"></a><span id="l71.62">         aListener.onOperationComplete(</span>
<a href="#l71.63"></a><span id="l71.63" class="difflineminus">-          self,</span>
<a href="#l71.64"></a><span id="l71.64" class="difflineplus">+          this,</span>
<a href="#l71.65"></a><span id="l71.65">           ex.result,</span>
<a href="#l71.66"></a><span id="l71.66">           Ci.calIOperationListener.GET,</span>
<a href="#l71.67"></a><span id="l71.67">           aItem.id,</span>
<a href="#l71.68"></a><span id="l71.68">           aItem</span>
<a href="#l71.69"></a><span id="l71.69">         );</span>
<a href="#l71.70"></a><span id="l71.70">         return;</span>
<a href="#l71.71"></a><span id="l71.71">       }</span>
<a href="#l71.72"></a><span id="l71.72">     }</span>
<a href="#l71.73"></a><span id="l71.73" class="difflineat">@@ -2600,10 +2597,8 @@ calStorageCalendar.prototype = {</span>
<a href="#l71.74"></a><span id="l71.74">           } else {</span>
<a href="#l71.75"></a><span id="l71.75">             ex.deleteProperty(&quot;SEQUENCE&quot;);</span>
<a href="#l71.76"></a><span id="l71.76">           }</span>
<a href="#l71.77"></a><span id="l71.77">         }</span>
<a href="#l71.78"></a><span id="l71.78">       }</span>
<a href="#l71.79"></a><span id="l71.79">     }</span>
<a href="#l71.80"></a><span id="l71.80">   },</span>
<a href="#l71.81"></a><span id="l71.81"> };</span>
<a href="#l71.82"></a><span id="l71.82" class="difflineminus">-</span>
<a href="#l71.83"></a><span id="l71.83" class="difflineminus">-this.NSGetFactory = XPCOMUtils.generateNSGetFactory([calStorageCalendar]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1">deleted file mode 100644</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineminus">--- a/calendar/providers/storage/calStorageCalendar.manifest</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineplus">+++ /dev/null</span>
<a href="#l72.4"></a><span id="l72.4" class="difflineat">@@ -1,2 +0,0 @@</span>
<a href="#l72.5"></a><span id="l72.5" class="difflineminus">-component {b3eaa1c4-5dfe-4c0a-b62a-b3a514218461} calStorageCalendar.js</span>
<a href="#l72.6"></a><span id="l72.6" class="difflineminus">-contract @mozilla.org/calendar/calendar;1?type=storage {b3eaa1c4-5dfe-4c0a-b62a-b3a514218461}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1">new file mode 100644</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineminus">--- /dev/null</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineplus">+++ b/calendar/providers/storage/components.conf</span>
<a href="#l73.4"></a><span id="l73.4" class="difflineat">@@ -0,0 +1,14 @@</span>
<a href="#l73.5"></a><span id="l73.5" class="difflineplus">+# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-</span>
<a href="#l73.6"></a><span id="l73.6" class="difflineplus">+# vim: set filetype=python:</span>
<a href="#l73.7"></a><span id="l73.7" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l73.8"></a><span id="l73.8" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l73.9"></a><span id="l73.9" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/</span>
<a href="#l73.10"></a><span id="l73.10" class="difflineplus">+</span>
<a href="#l73.11"></a><span id="l73.11" class="difflineplus">+Classes = [</span>
<a href="#l73.12"></a><span id="l73.12" class="difflineplus">+  {</span>
<a href="#l73.13"></a><span id="l73.13" class="difflineplus">+    'cid': '{b3eaa1c4-5dfe-4c0a-b62a-b3a514218461}',</span>
<a href="#l73.14"></a><span id="l73.14" class="difflineplus">+    'contract_ids': ['@mozilla.org/calendar/calendar;1?type=storage'],</span>
<a href="#l73.15"></a><span id="l73.15" class="difflineplus">+    'jsm': 'resource:///modules/CalStorageCalendar.jsm',</span>
<a href="#l73.16"></a><span id="l73.16" class="difflineplus">+    'constructor': 'CalStorageCalendar',</span>
<a href="#l73.17"></a><span id="l73.17" class="difflineplus">+  },</span>
<a href="#l73.18"></a><span id="l73.18" class="difflineplus">+]</span>
<a href="#l73.19"></a><span id="l73.19">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/calendar/providers/storage/moz.build</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/calendar/providers/storage/moz.build</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -1,16 +1,19 @@</span>
<a href="#l74.4"></a><span id="l74.4"> # vim: set filetype=python:</span>
<a href="#l74.5"></a><span id="l74.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l74.6"></a><span id="l74.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l74.7"></a><span id="l74.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l74.8"></a><span id="l74.8"> </span>
<a href="#l74.9"></a><span id="l74.9" class="difflineminus">-EXTRA_COMPONENTS += [</span>
<a href="#l74.10"></a><span id="l74.10" class="difflineminus">-    'calStorageCalendar.js',</span>
<a href="#l74.11"></a><span id="l74.11" class="difflineminus">-    'calStorageCalendar.manifest',</span>
<a href="#l74.12"></a><span id="l74.12" class="difflineplus">+EXTRA_JS_MODULES += [</span>
<a href="#l74.13"></a><span id="l74.13" class="difflineplus">+    'CalStorageCalendar.jsm',</span>
<a href="#l74.14"></a><span id="l74.14" class="difflineplus">+]</span>
<a href="#l74.15"></a><span id="l74.15" class="difflineplus">+</span>
<a href="#l74.16"></a><span id="l74.16" class="difflineplus">+XPCOM_MANIFESTS += [</span>
<a href="#l74.17"></a><span id="l74.17" class="difflineplus">+    'components.conf',</span>
<a href="#l74.18"></a><span id="l74.18"> ]</span>
<a href="#l74.19"></a><span id="l74.19"> </span>
<a href="#l74.20"></a><span id="l74.20"> EXTRA_JS_MODULES.calendar += [</span>
<a href="#l74.21"></a><span id="l74.21">     'calStorageHelpers.jsm',</span>
<a href="#l74.22"></a><span id="l74.22">     'calStorageUpgrade.jsm',</span>
<a href="#l74.23"></a><span id="l74.23"> ]</span>
<a href="#l74.24"></a><span id="l74.24"> </span>
<a href="#l74.25"></a><span id="l74.25"> with Files('**'):</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/calendar/test/unit/test_imip.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/calendar/test/unit/test_imip.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -1,18 +1,14 @@</span>
<a href="#l75.4"></a><span id="l75.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l75.5"></a><span id="l75.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l75.6"></a><span id="l75.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l75.7"></a><span id="l75.7"> </span>
<a href="#l75.8"></a><span id="l75.8"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l75.9"></a><span id="l75.9" class="difflineminus">-var calItipEmailTransport = {};</span>
<a href="#l75.10"></a><span id="l75.10" class="difflineminus">-Services.scriptloader.loadSubScript(</span>
<a href="#l75.11"></a><span id="l75.11" class="difflineminus">-  &quot;resource:///components/calItipEmailTransport.js&quot;,</span>
<a href="#l75.12"></a><span id="l75.12" class="difflineminus">-  calItipEmailTransport</span>
<a href="#l75.13"></a><span id="l75.13" class="difflineminus">-);</span>
<a href="#l75.14"></a><span id="l75.14" class="difflineplus">+var { CalItipEmailTransport } = ChromeUtils.import(&quot;resource:///modules/CalItipEmailTransport.jsm&quot;);</span>
<a href="#l75.15"></a><span id="l75.15"> </span>
<a href="#l75.16"></a><span id="l75.16"> function itipItemForTest(title, seq) {</span>
<a href="#l75.17"></a><span id="l75.17">   let itipItem = Cc[&quot;@mozilla.org/calendar/itip-item;1&quot;].createInstance(Ci.calIItipItem);</span>
<a href="#l75.18"></a><span id="l75.18">   itipItem.init(</span>
<a href="#l75.19"></a><span id="l75.19">     [</span>
<a href="#l75.20"></a><span id="l75.20">       &quot;BEGIN:VCALENDAR&quot;,</span>
<a href="#l75.21"></a><span id="l75.21">       &quot;METHOD:REQUEST&quot;,</span>
<a href="#l75.22"></a><span id="l75.22">       &quot;BEGIN:VEVENT&quot;,</span>
<a href="#l75.23"></a><span id="l75.23" class="difflineat">@@ -20,17 +16,17 @@ function itipItemForTest(title, seq) {</span>
<a href="#l75.24"></a><span id="l75.24">       &quot;SEQUENCE:&quot; + (seq || 0),</span>
<a href="#l75.25"></a><span id="l75.25">       &quot;END:VEVENT&quot;,</span>
<a href="#l75.26"></a><span id="l75.26">       &quot;END:VCALENDAR&quot;,</span>
<a href="#l75.27"></a><span id="l75.27">     ].join(&quot;\r\n&quot;)</span>
<a href="#l75.28"></a><span id="l75.28">   );</span>
<a href="#l75.29"></a><span id="l75.29">   return itipItem;</span>
<a href="#l75.30"></a><span id="l75.30"> }</span>
<a href="#l75.31"></a><span id="l75.31"> </span>
<a href="#l75.32"></a><span id="l75.32" class="difflineminus">-let transport = new calItipEmailTransport.calItipEmailTransport();</span>
<a href="#l75.33"></a><span id="l75.33" class="difflineplus">+let transport = new CalItipEmailTransport();</span>
<a href="#l75.34"></a><span id="l75.34"> </span>
<a href="#l75.35"></a><span id="l75.35"> add_task(function test_title_in_subject() {</span>
<a href="#l75.36"></a><span id="l75.36">   Services.prefs.setBoolPref(&quot;calendar.itip.useInvitationSubjectPrefixes&quot;, false);</span>
<a href="#l75.37"></a><span id="l75.37">   let items = transport._prepareItems(itipItemForTest(&quot;foo&quot;));</span>
<a href="#l75.38"></a><span id="l75.38">   equal(items.subject, &quot;foo&quot;);</span>
<a href="#l75.39"></a><span id="l75.39"> });</span>
<a href="#l75.40"></a><span id="l75.40"> </span>
<a href="#l75.41"></a><span id="l75.41"> add_task(function test_title_in_summary() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/mail/installer/package-manifest.in</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/mail/installer/package-manifest.in</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -319,84 +319,30 @@</span>
<a href="#l76.4"></a><span id="l76.4"> @RESPATH@/chrome/lightning.manifest</span>
<a href="#l76.5"></a><span id="l76.5"> </span>
<a href="#l76.6"></a><span id="l76.6"> @RESPATH@/res/zones.json</span>
<a href="#l76.7"></a><span id="l76.7"> @RESPATH@/@PREF_DIR@/lightning.js</span>
<a href="#l76.8"></a><span id="l76.8"> </span>
<a href="#l76.9"></a><span id="l76.9"> # Files added to components directory via `EXTRA_COMPONENTS`.</span>
<a href="#l76.10"></a><span id="l76.10"> @RESPATH@/components/calBackendLoader.js</span>
<a href="#l76.11"></a><span id="l76.11"> @RESPATH@/components/calBackendLoader.manifest</span>
<a href="#l76.12"></a><span id="l76.12" class="difflineminus">-@RESPATH@/components/calDefaultACLManager.js</span>
<a href="#l76.13"></a><span id="l76.13" class="difflineminus">-@RESPATH@/components/calDefaultACLManager.manifest</span>
<a href="#l76.14"></a><span id="l76.14" class="difflineminus">-@RESPATH@/components/calItemModule.js</span>
<a href="#l76.15"></a><span id="l76.15" class="difflineminus">-@RESPATH@/components/calItemModule.manifest</span>
<a href="#l76.16"></a><span id="l76.16" class="difflineminus">-@RESPATH@/components/calSleepMonitor.js</span>
<a href="#l76.17"></a><span id="l76.17" class="difflineminus">-@RESPATH@/components/calSleepMonitor.manifest</span>
<a href="#l76.18"></a><span id="l76.18" class="difflineminus">-@RESPATH@/components/calTimezoneService.js</span>
<a href="#l76.19"></a><span id="l76.19" class="difflineminus">-@RESPATH@/components/calTimezoneService.manifest</span>
<a href="#l76.20"></a><span id="l76.20" class="difflineminus">-@RESPATH@/components/calImportExportModule.js</span>
<a href="#l76.21"></a><span id="l76.21" class="difflineminus">-@RESPATH@/components/calImportExportModule.manifest</span>
<a href="#l76.22"></a><span id="l76.22" class="difflineminus">-@RESPATH@/components/calItipEmailTransport.js</span>
<a href="#l76.23"></a><span id="l76.23" class="difflineminus">-@RESPATH@/components/calItipEmailTransport.manifest</span>
<a href="#l76.24"></a><span id="l76.24" class="difflineminus">-@RESPATH@/components/calItipProtocolHandler.js</span>
<a href="#l76.25"></a><span id="l76.25" class="difflineminus">-@RESPATH@/components/calItipProtocolHandler.manifest</span>
<a href="#l76.26"></a><span id="l76.26" class="difflineminus">-@RESPATH@/components/lightningTextCalendarConverter.js</span>
<a href="#l76.27"></a><span id="l76.27" class="difflineminus">-@RESPATH@/components/lightningTextCalendarConverter.manifest</span>
<a href="#l76.28"></a><span id="l76.28" class="difflineminus">-@RESPATH@/components/calDavCalendar.js</span>
<a href="#l76.29"></a><span id="l76.29" class="difflineminus">-@RESPATH@/components/calDavCalendar.manifest</span>
<a href="#l76.30"></a><span id="l76.30" class="difflineminus">-@RESPATH@/components/calCompositeCalendar.js</span>
<a href="#l76.31"></a><span id="l76.31" class="difflineminus">-@RESPATH@/components/calCompositeCalendar.manifest</span>
<a href="#l76.32"></a><span id="l76.32" class="difflineminus">-@RESPATH@/components/calICSCalendar.js</span>
<a href="#l76.33"></a><span id="l76.33" class="difflineminus">-@RESPATH@/components/calICSCalendar.manifest</span>
<a href="#l76.34"></a><span id="l76.34" class="difflineminus">-@RESPATH@/components/calMemoryCalendar.js</span>
<a href="#l76.35"></a><span id="l76.35" class="difflineminus">-@RESPATH@/components/calMemoryCalendar.manifest</span>
<a href="#l76.36"></a><span id="l76.36" class="difflineminus">-@RESPATH@/components/calStorageCalendar.js</span>
<a href="#l76.37"></a><span id="l76.37" class="difflineminus">-@RESPATH@/components/calStorageCalendar.manifest</span>
<a href="#l76.38"></a><span id="l76.38"> @RESPATH@/components/calICALJSComponents.js</span>
<a href="#l76.39"></a><span id="l76.39"> </span>
<a href="#l76.40"></a><span id="l76.40"> # Files added to components directory via `FINAL_TARGET_FILES.components`.</span>
<a href="#l76.41"></a><span id="l76.41" class="difflineminus">-@RESPATH@/components/calAlarm.js</span>
<a href="#l76.42"></a><span id="l76.42" class="difflineminus">-@RESPATH@/components/calAlarmMonitor.js</span>
<a href="#l76.43"></a><span id="l76.43" class="difflineminus">-@RESPATH@/components/calAlarmService.js</span>
<a href="#l76.44"></a><span id="l76.44" class="difflineminus">-@RESPATH@/components/calAttachment.js</span>
<a href="#l76.45"></a><span id="l76.45" class="difflineminus">-@RESPATH@/components/calAttendee.js</span>
<a href="#l76.46"></a><span id="l76.46"> @RESPATH@/components/calCachedCalendar.js</span>
<a href="#l76.47"></a><span id="l76.47" class="difflineminus">-@RESPATH@/components/calCalendarManager.js</span>
<a href="#l76.48"></a><span id="l76.48" class="difflineminus">-@RESPATH@/components/calCalendarSearchService.js</span>
<a href="#l76.49"></a><span id="l76.49" class="difflineminus">-@RESPATH@/components/calDateTimeFormatter.js</span>
<a href="#l76.50"></a><span id="l76.50"> @RESPATH@/components/calDateTime.js</span>
<a href="#l76.51"></a><span id="l76.51"> @RESPATH@/components/calDavRequestHandlers.js</span>
<a href="#l76.52"></a><span id="l76.52" class="difflineminus">-@RESPATH@/components/calDeletedItems.js</span>
<a href="#l76.53"></a><span id="l76.53"> @RESPATH@/components/calDuration.js</span>
<a href="#l76.54"></a><span id="l76.54" class="difflineminus">-@RESPATH@/components/calEvent.js</span>
<a href="#l76.55"></a><span id="l76.55"> @RESPATH@/components/calFilter.js</span>
<a href="#l76.56"></a><span id="l76.56" class="difflineminus">-@RESPATH@/components/calFreeBusyService.js</span>
<a href="#l76.57"></a><span id="l76.57" class="difflineminus">-@RESPATH@/components/calHtmlExport.js</span>
<a href="#l76.58"></a><span id="l76.58" class="difflineminus">-@RESPATH@/components/calIcsImportExport.js</span>
<a href="#l76.59"></a><span id="l76.59" class="difflineminus">-@RESPATH@/components/calIcsParser.js</span>
<a href="#l76.60"></a><span id="l76.60" class="difflineminus">-@RESPATH@/components/calIcsSerializer.js</span>
<a href="#l76.61"></a><span id="l76.61"> @RESPATH@/components/calICSService.js</span>
<a href="#l76.62"></a><span id="l76.62"> @RESPATH@/components/calICSService-worker.js</span>
<a href="#l76.63"></a><span id="l76.63"> @RESPATH@/components/calItemBase.js</span>
<a href="#l76.64"></a><span id="l76.64" class="difflineminus">-@RESPATH@/components/calItipItem.js</span>
<a href="#l76.65"></a><span id="l76.65" class="difflineminus">-@RESPATH@/components/calListFormatter.js</span>
<a href="#l76.66"></a><span id="l76.66" class="difflineminus">-@RESPATH@/components/calMonthGridPrinter.js</span>
<a href="#l76.67"></a><span id="l76.67" class="difflineminus">-@RESPATH@/components/calOutlookCSVImportExport.js</span>
<a href="#l76.68"></a><span id="l76.68"> @RESPATH@/components/calPeriod.js</span>
<a href="#l76.69"></a><span id="l76.69" class="difflineminus">-@RESPATH@/components/calProtocolHandler.js</span>
<a href="#l76.70"></a><span id="l76.70" class="difflineminus">-@RESPATH@/components/calRecurrenceDate.js</span>
<a href="#l76.71"></a><span id="l76.71" class="difflineminus">-@RESPATH@/components/calRecurrenceInfo.js</span>
<a href="#l76.72"></a><span id="l76.72"> @RESPATH@/components/calRecurrenceRule.js</span>
<a href="#l76.73"></a><span id="l76.73" class="difflineminus">-@RESPATH@/components/calRelation.js</span>
<a href="#l76.74"></a><span id="l76.74" class="difflineminus">-@RESPATH@/components/calStartupService.js</span>
<a href="#l76.75"></a><span id="l76.75"> @RESPATH@/components/calTimezone.js</span>
<a href="#l76.76"></a><span id="l76.76" class="difflineminus">-@RESPATH@/components/calTodo.js</span>
<a href="#l76.77"></a><span id="l76.77" class="difflineminus">-@RESPATH@/components/calTransactionManager.js</span>
<a href="#l76.78"></a><span id="l76.78" class="difflineminus">-@RESPATH@/components/calWeekInfoService.js</span>
<a href="#l76.79"></a><span id="l76.79" class="difflineminus">-@RESPATH@/components/calWeekPrinter.js</span>
<a href="#l76.80"></a><span id="l76.80"> </span>
<a href="#l76.81"></a><span id="l76.81"> @RESPATH@/features/wetransfer@extensions.thunderbird.net/</span>
<a href="#l76.82"></a><span id="l76.82"> </span>
<a href="#l76.83"></a><span id="l76.83"> @RESPATH@/components/servicesComponents.manifest</span>
<a href="#l76.84"></a><span id="l76.84"> @RESPATH@/components/servicesSettings.manifest</span>
<a href="#l76.85"></a><span id="l76.85"> @RESPATH@/components/cryptoComponents.manifest</span>
<a href="#l76.86"></a><span id="l76.86"> @RESPATH@/components/Push.manifest</span>
<a href="#l76.87"></a><span id="l76.87"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:31Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

