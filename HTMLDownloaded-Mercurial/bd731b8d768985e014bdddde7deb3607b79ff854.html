<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 27262:bd731b8d768985e014bdddde7deb3607b79ff854</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ bd731b8d768985e014bdddde7deb3607b79ff854" />
<meta property="og:url" content="/comm-central/rev/bd731b8d768985e014bdddde7deb3607b79ff854" />
<meta property="og:description" content="Bug 1570872 - Remove backwards-compatibility shims from calendar. r=pmorris DONTBUILD" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / bd731b8d768985e014bdddde7deb3607b79ff854 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/bd731b8d768985e014bdddde7deb3607b79ff854">shortlog</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/bd731b8d768985e014bdddde7deb3607b79ff854">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854">files</a> |
changeset |
<a href="/comm-central/raw-rev/bd731b8d768985e014bdddde7deb3607b79ff854">raw</a>  | <a href="/comm-central/archive/bd731b8d768985e014bdddde7deb3607b79ff854.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1570872">Bug 1570872</a> - Remove backwards-compatibility shims from calendar. r=pmorris DONTBUILD
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 06 Aug 2019 09:51:44 +0200</td></tr>

<tr>
 <td>changeset 27262</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/bd731b8d768985e014bdddde7deb3607b79ff854">bd731b8d768985e014bdddde7deb3607b79ff854</a></td>
</tr>



<tr>
<td>parent 27261</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b78af834827a56ac7871c48e97f04d6defa7423a">b78af834827a56ac7871c48e97f04d6defa7423a</a>
</td>
</tr>

<tr>
<td>child 27263</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/510ac3551fb0dec7f17352aa1606f785dbeb7c51">510ac3551fb0dec7f17352aa1606f785dbeb7c51</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=bd731b8d768985e014bdddde7deb3607b79ff854">16258</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Tue, 06 Aug 2019 07:54:01 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@bd731b8d7689 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=bd731b8d768985e014bdddde7deb3607b79ff854">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=bd731b8d768985e014bdddde7deb3607b79ff854&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=bd731b8d768985e014bdddde7deb3607b79ff854&newProject=comm-central&newRevision=b78af834827a56ac7871c48e97f04d6defa7423a&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=bd731b8d768985e014bdddde7deb3607b79ff854&newProject=comm-central&newRevision=b78af834827a56ac7871c48e97f04d6defa7423a&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=bd731b8d768985e014bdddde7deb3607b79ff854&newProject=comm-central&newRevision=b78af834827a56ac7871c48e97f04d6defa7423a&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28pmorris%29&revcount=50">pmorris</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1570872">1570872</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1570872">Bug 1570872</a> - Remove backwards-compatibility shims from calendar. r=pmorris DONTBUILD</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/content/dialogs/calendar-event-dialog.xul">calendar/base/content/dialogs/calendar-event-dialog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/content/dialogs/calendar-event-dialog.xul">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/content/dialogs/calendar-event-dialog.xul">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/content/dialogs/calendar-event-dialog.xul">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/content/dialogs/calendar-event-dialog.xul">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/content/dialogs/calendar-event-dialog.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtils.jsm">calendar/base/modules/calUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtils.jsm">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtils.jsm">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtilsCompat.jsm">calendar/base/modules/calUtilsCompat.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtilsCompat.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtilsCompat.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/calUtilsCompat.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/moz.build">calendar/base/modules/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/moz.build">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/moz.build">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/moz.build">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/moz.build">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAlarmUtils.jsm">calendar/base/modules/shim/calAlarmUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAlarmUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAlarmUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAlarmUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAsyncUtils.jsm">calendar/base/modules/shim/calAsyncUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAsyncUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAsyncUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAsyncUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAuthUtils.jsm">calendar/base/modules/shim/calAuthUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAuthUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAuthUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calAuthUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calItemUtils.jsm">calendar/base/modules/shim/calItemUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calItemUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calItemUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calItemUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calIteratorUtils.jsm">calendar/base/modules/shim/calIteratorUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calIteratorUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calIteratorUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calIteratorUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calItipUtils.jsm">calendar/base/modules/shim/calItipUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calItipUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calItipUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calItipUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calPrintUtils.jsm">calendar/base/modules/shim/calPrintUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calPrintUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calPrintUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calPrintUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calProviderUtils.jsm">calendar/base/modules/shim/calProviderUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calProviderUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calProviderUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calProviderUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calViewUtils.jsm">calendar/base/modules/shim/calViewUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calViewUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calViewUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calViewUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calXMLUtils.jsm">calendar/base/modules/shim/calXMLUtils.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calXMLUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calXMLUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/shim/calXMLUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calItemUtils.jsm">calendar/base/modules/utils/calItemUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calItemUtils.jsm">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calItemUtils.jsm">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calItemUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calItemUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calItemUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calProviderUtils.jsm">calendar/base/modules/utils/calProviderUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calProviderUtils.jsm">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calProviderUtils.jsm">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calProviderUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calProviderUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/base/modules/utils/calProviderUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/components/calGoogleCalendar.js">calendar/providers/gdata/components/calGoogleCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/components/calGoogleCalendar.js">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/components/calGoogleCalendar.js">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/components/calGoogleCalendar.js">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/components/calGoogleCalendar.js">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/components/calGoogleCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/browserRequest.js">calendar/providers/gdata/content/browserRequest.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/browserRequest.js">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/browserRequest.js">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/browserRequest.js">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/browserRequest.js">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/browserRequest.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-calendar-creation.js">calendar/providers/gdata/content/gdata-calendar-creation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-calendar-creation.js">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-calendar-creation.js">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-calendar-creation.js">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-calendar-creation.js">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-calendar-creation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">calendar/providers/gdata/content/gdata-event-dialog-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-event-dialog-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">calendar/providers/gdata/content/gdata-lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/content/gdata-lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/OAuth2.jsm">calendar/providers/gdata/modules/OAuth2.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/OAuth2.jsm">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/OAuth2.jsm">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/OAuth2.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/OAuth2.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/OAuth2.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/calUtilsShim.jsm">calendar/providers/gdata/modules/calUtilsShim.jsm</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/calUtilsShim.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/calUtilsShim.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/calUtilsShim.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataRequest.jsm">calendar/providers/gdata/modules/gdataRequest.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataRequest.jsm">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataRequest.jsm">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataRequest.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataRequest.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataRequest.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataSession.jsm">calendar/providers/gdata/modules/gdataSession.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataSession.jsm">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataSession.jsm">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataSession.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataSession.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataSession.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataUtils.jsm">calendar/providers/gdata/modules/gdataUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataUtils.jsm">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataUtils.jsm">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataUtils.jsm">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/modules/gdataUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/moz.build">calendar/providers/gdata/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/moz.build">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/moz.build">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/moz.build">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/moz.build">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/providers/gdata/moz.build">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialog.js">calendar/test/mozmill/eventDialog/testEventDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialog.js">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialog.js">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialog.js">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialog.js">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">file</a> |
<a href="/comm-central/annotate/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">annotate</a> |
<a href="/comm-central/diff/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">diff</a> |
<a href="/comm-central/comparison/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">comparison</a> |
<a href="/comm-central/log/bd731b8d768985e014bdddde7deb3607b79ff854/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog.xul</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog.xul</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -84,17 +84,17 @@</span>
<a href="#l1.4"></a><span id="l1.4">              oncommand=&quot;onCommandSave()&quot;/&gt;</span>
<a href="#l1.5"></a><span id="l1.5">     &lt;command id=&quot;cmd_item_delete&quot;</span>
<a href="#l1.6"></a><span id="l1.6">              disable-on-readonly=&quot;true&quot;</span>
<a href="#l1.7"></a><span id="l1.7">              oncommand=&quot;onCommandDeleteItem()&quot;/&gt;</span>
<a href="#l1.8"></a><span id="l1.8">     &lt;command id=&quot;cmd_printSetup&quot;</span>
<a href="#l1.9"></a><span id="l1.9">              oncommand=&quot;PrintUtils.showPageSetup()&quot;/&gt;</span>
<a href="#l1.10"></a><span id="l1.10">     &lt;command id=&quot;cmd_print&quot;</span>
<a href="#l1.11"></a><span id="l1.11">              disabled=&quot;true&quot;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-             oncommand=&quot;cal.calPrint(window)&quot;/&gt;</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+             oncommand=&quot;cal.window.openPrintDialog(window)&quot;/&gt;</span>
<a href="#l1.14"></a><span id="l1.14"> </span>
<a href="#l1.15"></a><span id="l1.15">     &lt;!-- Edit menu --&gt;</span>
<a href="#l1.16"></a><span id="l1.16">     &lt;command id=&quot;cmd_undo&quot;</span>
<a href="#l1.17"></a><span id="l1.17">              disabled=&quot;true&quot;</span>
<a href="#l1.18"></a><span id="l1.18">              oncommand=&quot;goDoCommand('cmd_undo')&quot;/&gt;</span>
<a href="#l1.19"></a><span id="l1.19">     &lt;command id=&quot;cmd_redo&quot;</span>
<a href="#l1.20"></a><span id="l1.20">              disabled=&quot;true&quot;</span>
<a href="#l1.21"></a><span id="l1.21">              oncommand=&quot;goDoCommand('cmd_redo')&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/modules/calUtils.jsm</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/modules/calUtils.jsm</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -512,12 +512,8 @@ function makeQI(aInterfaces) {</span>
<a href="#l2.4"></a><span id="l2.4">             if (Ci[aInterfaces[i]].equals(iid)) {</span>
<a href="#l2.5"></a><span id="l2.5">                 return this;</span>
<a href="#l2.6"></a><span id="l2.6">             }</span>
<a href="#l2.7"></a><span id="l2.7">         }</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9">         throw Cr.NS_ERROR_NO_INTERFACE;</span>
<a href="#l2.10"></a><span id="l2.10">     };</span>
<a href="#l2.11"></a><span id="l2.11"> }</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-// Backwards compatibility for bug 905097. Please remove with Thunderbird 61.</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-var { injectCalUtilsCompat } = ChromeUtils.import(&quot;resource://calendar/modules/calUtilsCompat.jsm&quot;);</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-injectCalUtilsCompat(cal);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">deleted file mode 100644</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineminus">--- a/calendar/base/modules/calUtilsCompat.jsm</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineplus">+++ /dev/null</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineat">@@ -1,222 +0,0 @@</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.6"></a><span id="l3.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.7"></a><span id="l3.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.8"></a><span id="l3.8" class="difflineminus">-</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineminus">-/*</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineminus">- * Backwards compat for calUtils migration.</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineminus">- */</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-/* exported injectCalUtilsCompat */</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;injectCalUtilsCompat&quot;];</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">-/**</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">- * Migration data for backwards compatibility, will be used with</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">- * injectCalUtilsCompat.</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineminus">- */</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineminus">-var migrations = {</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineminus">-    acl: {</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineminus">-        isCalendarWritable: &quot;isCalendarWritable&quot;,</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineminus">-        userCanAddItemsToCalendar: &quot;userCanAddItemsToCalendar&quot;,</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineminus">-        userCanDeleteItemsFromCalendar: &quot;userCanDeleteItemsFromCalendar&quot;,</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineminus">-        userCanModifyItem: &quot;userCanModifyItem&quot;</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-    },</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-    category: {</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-        setupDefaultCategories: &quot;setupDefaultCategories&quot;,</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-        getPrefCategoriesArray: &quot;fromPrefs&quot;,</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-        categoriesStringToArray: &quot;stringToArray&quot;,</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineminus">-        categoriesArrayToString: &quot;arrayToString&quot;</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineminus">-    },</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineminus">-    data: {</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineminus">-        binarySearch: &quot;binarySearch&quot;,</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineminus">-        binaryInsertNode: &quot;binaryInsertNode&quot;,</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineminus">-        binaryInsert: &quot;binaryInsert&quot;,</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineminus">-        compareObjects: &quot;compareObjects&quot;,</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineminus">-        // isPropertyValueSame has been removed, it can simply be done with Array every()</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineminus">-    },</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineminus">-    dtz: {</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineminus">-        now: &quot;now&quot;,</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineminus">-        ensureDateTime: &quot;ensureDateTime&quot;,</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineminus">-        getRecentTimezones: &quot;getRecentTimezones&quot;,</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineminus">-        saveRecentTimezone: &quot;saveRecentTimezone&quot;,</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineminus">-        getDefaultStartDate: &quot;getDefaultStartDate&quot;,</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineminus">-        setDefaultStartEndHour: &quot;setDefaultStartEndHour&quot;,</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineminus">-        calGetStartDateProp: &quot;startDateProp&quot;,</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineminus">-        calGetEndDateProp: &quot;endDateProp&quot;,</span>
<a href="#l3.52"></a><span id="l3.52" class="difflineminus">-        sameDay: &quot;sameDay&quot;,</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineminus">-        jsDateToDateTime: &quot;jsDateToDateTime&quot;,</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineminus">-        dateTimeToJsDate: &quot;dateTimeToJsDate&quot;,</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineminus">-        fromRFC3339: &quot;fromRFC3339&quot;,</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-        toRFC3339: &quot;toRFC3339&quot;,</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineminus">-</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineminus">-        // The following are now getters</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineminus">-        calendarDefaultTimezone: &quot;defaultTimezone&quot;,</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineminus">-        floating: &quot;floating&quot;,</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineminus">-        UTC: &quot;UTC&quot;</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineminus">-    },</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineminus">-    email: {</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineminus">-        sendMailTo: &quot;sendMailTo&quot;,</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineminus">-        calIterateEmailIdentities: &quot;iterateIdentities&quot;,</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineminus">-        prependMailTo: &quot;prependMailTo&quot;,</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineminus">-        removeMailTo: &quot;removeMailTo&quot;,</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-        getRecipientList: &quot;createRecipientList&quot;,</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-        getAttendeeEmail: &quot;getAttendeeEmail&quot;,</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineminus">-        validateRecipientList: &quot;validateRecipientList&quot;,</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineminus">-        attendeeMatchesAddresses: &quot;attendeeMatchesAddresses&quot;</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineminus">-    },</span>
<a href="#l3.73"></a><span id="l3.73" class="difflineminus">-    item: {</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineminus">-        // ItemDiff also belongs here, but is separately migrated in</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineminus">-        // calItemUtils.jsm</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineminus">-        isItemSupported: &quot;isItemSupported&quot;,</span>
<a href="#l3.77"></a><span id="l3.77" class="difflineminus">-        isEventCalendar: &quot;isEventCalendar&quot;,</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineminus">-        isTaskCalendar: &quot;isTaskCalendar&quot;,</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineminus">-        isEvent: &quot;isEvent&quot;,</span>
<a href="#l3.80"></a><span id="l3.80" class="difflineminus">-        isToDo: &quot;isToDo&quot;,</span>
<a href="#l3.81"></a><span id="l3.81" class="difflineminus">-        checkIfInRange: &quot;checkIfInRange&quot;,</span>
<a href="#l3.82"></a><span id="l3.82" class="difflineminus">-        setItemProperty: &quot;setItemProperty&quot;,</span>
<a href="#l3.83"></a><span id="l3.83" class="difflineminus">-        getEventDefaultTransparency: &quot;getEventDefaultTransparency&quot;</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineminus">-    },</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineminus">-    iterate: {</span>
<a href="#l3.86"></a><span id="l3.86" class="difflineminus">-        itemIterator: &quot;items&quot;,</span>
<a href="#l3.87"></a><span id="l3.87" class="difflineminus">-        forEach: &quot;forEach&quot;,</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineminus">-        ical: {</span>
<a href="#l3.89"></a><span id="l3.89" class="difflineminus">-            calendarComponentIterator: &quot;items&quot;,</span>
<a href="#l3.90"></a><span id="l3.90" class="difflineminus">-            subcomponentIterator: &quot;icalSubcomponent&quot;,</span>
<a href="#l3.91"></a><span id="l3.91" class="difflineminus">-            propertyIterator: &quot;icalProperty&quot;,</span>
<a href="#l3.92"></a><span id="l3.92" class="difflineminus">-            paramIterator: &quot;icalParameter&quot;</span>
<a href="#l3.93"></a><span id="l3.93" class="difflineminus">-        }</span>
<a href="#l3.94"></a><span id="l3.94" class="difflineminus">-    },</span>
<a href="#l3.95"></a><span id="l3.95" class="difflineminus">-    itip: {</span>
<a href="#l3.96"></a><span id="l3.96" class="difflineminus">-        getPublishLikeItemCopy: &quot;getPublishLikeItemCopy&quot;,</span>
<a href="#l3.97"></a><span id="l3.97" class="difflineminus">-        isInvitation: &quot;isInvitation&quot;,</span>
<a href="#l3.98"></a><span id="l3.98" class="difflineminus">-        isOpenInvitation: &quot;isOpenInvitation&quot;,</span>
<a href="#l3.99"></a><span id="l3.99" class="difflineminus">-        resolveDelegation: &quot;resolveDelegation&quot;,</span>
<a href="#l3.100"></a><span id="l3.100" class="difflineminus">-        getInvitedAttendee: &quot;getInvitedAttendee&quot;,</span>
<a href="#l3.101"></a><span id="l3.101" class="difflineminus">-        getAttendeesBySender: &quot;getAttendeesBySender&quot;</span>
<a href="#l3.102"></a><span id="l3.102" class="difflineminus">-    },</span>
<a href="#l3.103"></a><span id="l3.103" class="difflineminus">-    provider: {</span>
<a href="#l3.104"></a><span id="l3.104" class="difflineminus">-        prepHttpChannel: &quot;prepHttpChannel&quot;,</span>
<a href="#l3.105"></a><span id="l3.105" class="difflineminus">-        sendHttpRequest: &quot;sendHttpRequest&quot;,</span>
<a href="#l3.106"></a><span id="l3.106" class="difflineminus">-        createStreamLoader: &quot;createStreamLoader&quot;,</span>
<a href="#l3.107"></a><span id="l3.107" class="difflineminus">-        convertByteArray: &quot;convertByteArray&quot;,</span>
<a href="#l3.108"></a><span id="l3.108" class="difflineminus">-        InterfaceRequestor_getInterface: &quot;InterfaceRequestor_getInterface&quot;,</span>
<a href="#l3.109"></a><span id="l3.109" class="difflineminus">-        getImipTransport: &quot;getImipTransport&quot;,</span>
<a href="#l3.110"></a><span id="l3.110" class="difflineminus">-        getEmailIdentityOfCalendar: &quot;getEmailIdentityOfCalendar&quot;,</span>
<a href="#l3.111"></a><span id="l3.111" class="difflineminus">-        promptOverwrite: &quot;promptOverwrite&quot;,</span>
<a href="#l3.112"></a><span id="l3.112" class="difflineminus">-        getCalendarDirectory: &quot;getCalendarDirectory&quot;</span>
<a href="#l3.113"></a><span id="l3.113" class="difflineminus">-    },</span>
<a href="#l3.114"></a><span id="l3.114" class="difflineminus">-    unifinder: {</span>
<a href="#l3.115"></a><span id="l3.115" class="difflineminus">-        sortEntryComparer: &quot;sortEntryComparer&quot;,</span>
<a href="#l3.116"></a><span id="l3.116" class="difflineminus">-        getItemSortKey:  &quot;getItemSortKey&quot;,</span>
<a href="#l3.117"></a><span id="l3.117" class="difflineminus">-        // compareNative*, compareNumber, sortEntry, sortEntryItem, sortEntryKey and</span>
<a href="#l3.118"></a><span id="l3.118" class="difflineminus">-        // getSortTypeForSortKey are no longer available. There is a new</span>
<a href="#l3.119"></a><span id="l3.119" class="difflineminus">-        // cal.unifinder.sortItems though that should do everything necessary.</span>
<a href="#l3.120"></a><span id="l3.120" class="difflineminus">-    },</span>
<a href="#l3.121"></a><span id="l3.121" class="difflineminus">-    view: {</span>
<a href="#l3.122"></a><span id="l3.122" class="difflineminus">-        isMouseOverBox: &quot;isMouseOverBox&quot;,</span>
<a href="#l3.123"></a><span id="l3.123" class="difflineminus">-        // calRadioGroupSelectItem and applyAttributeToMenuChildren are no longer available.</span>
<a href="#l3.124"></a><span id="l3.124" class="difflineminus">-        removeChildElementsByAttribute: &quot;removeChildElementsByAttribute&quot;,</span>
<a href="#l3.125"></a><span id="l3.125" class="difflineminus">-        getParentNodeOrThis: &quot;getParentNodeOrThis&quot;,</span>
<a href="#l3.126"></a><span id="l3.126" class="difflineminus">-        getParentNodeOrThisByAttribute: &quot;getParentNodeOrThisByAttribute&quot;,</span>
<a href="#l3.127"></a><span id="l3.127" class="difflineminus">-        formatStringForCSSRule: &quot;formatStringForCSSRule&quot;,</span>
<a href="#l3.128"></a><span id="l3.128" class="difflineminus">-        getCompositeCalendar: &quot;getCompositeCalendar&quot;,</span>
<a href="#l3.129"></a><span id="l3.129" class="difflineminus">-        hashColor: &quot;hashColor&quot;,</span>
<a href="#l3.130"></a><span id="l3.130" class="difflineminus">-        getContrastingTextColor: &quot;getContrastingTextColor&quot;</span>
<a href="#l3.131"></a><span id="l3.131" class="difflineminus">-    },</span>
<a href="#l3.132"></a><span id="l3.132" class="difflineminus">-    window: {</span>
<a href="#l3.133"></a><span id="l3.133" class="difflineminus">-        openCalendarWizard: &quot;openCalendarWizard&quot;,</span>
<a href="#l3.134"></a><span id="l3.134" class="difflineminus">-        openCalendarProperties: &quot;openCalendarProperties&quot;,</span>
<a href="#l3.135"></a><span id="l3.135" class="difflineminus">-        calPrint: &quot;openPrintDialog&quot;,</span>
<a href="#l3.136"></a><span id="l3.136" class="difflineminus">-        getCalendarWindow: &quot;getCalendarWindow&quot;</span>
<a href="#l3.137"></a><span id="l3.137" class="difflineminus">-    }</span>
<a href="#l3.138"></a><span id="l3.138" class="difflineminus">-};</span>
<a href="#l3.139"></a><span id="l3.139" class="difflineminus">-</span>
<a href="#l3.140"></a><span id="l3.140" class="difflineminus">-</span>
<a href="#l3.141"></a><span id="l3.141" class="difflineminus">-/**</span>
<a href="#l3.142"></a><span id="l3.142" class="difflineminus">- * Generate a forward function on the given global, for the namespace from the</span>
<a href="#l3.143"></a><span id="l3.143" class="difflineminus">- * migrations data.</span>
<a href="#l3.144"></a><span id="l3.144" class="difflineminus">- *</span>
<a href="#l3.145"></a><span id="l3.145" class="difflineminus">- * @param global        The global object to inject on.</span>
<a href="#l3.146"></a><span id="l3.146" class="difflineminus">- * @param namespace     The new namespace in the cal object.</span>
<a href="#l3.147"></a><span id="l3.147" class="difflineminus">- * @param from          The function/property name being migrated from</span>
<a href="#l3.148"></a><span id="l3.148" class="difflineminus">- * @param to            The function/property name being migrated to</span>
<a href="#l3.149"></a><span id="l3.149" class="difflineminus">- */</span>
<a href="#l3.150"></a><span id="l3.150" class="difflineminus">-function generateForward(global, namespace, from, to, targetGlobal=null) {</span>
<a href="#l3.151"></a><span id="l3.151" class="difflineminus">-    // Protect from footguns</span>
<a href="#l3.152"></a><span id="l3.152" class="difflineminus">-    if (typeof global[from] != &quot;undefined&quot;) {</span>
<a href="#l3.153"></a><span id="l3.153" class="difflineminus">-        throw new Error(from + &quot; is already defined on the cal. namespace!&quot;);</span>
<a href="#l3.154"></a><span id="l3.154" class="difflineminus">-    }</span>
<a href="#l3.155"></a><span id="l3.155" class="difflineminus">-</span>
<a href="#l3.156"></a><span id="l3.156" class="difflineminus">-    global[from] = function(...args) {</span>
<a href="#l3.157"></a><span id="l3.157" class="difflineminus">-        let suffix = &quot;&quot;;</span>
<a href="#l3.158"></a><span id="l3.158" class="difflineminus">-        let target = (targetGlobal || global)[namespace][to];</span>
<a href="#l3.159"></a><span id="l3.159" class="difflineminus">-        if (typeof target == &quot;function&quot;) {</span>
<a href="#l3.160"></a><span id="l3.160" class="difflineminus">-            target = target(...args);</span>
<a href="#l3.161"></a><span id="l3.161" class="difflineminus">-            suffix = &quot;()&quot;;</span>
<a href="#l3.162"></a><span id="l3.162" class="difflineminus">-        }</span>
<a href="#l3.163"></a><span id="l3.163" class="difflineminus">-</span>
<a href="#l3.164"></a><span id="l3.164" class="difflineminus">-        Deprecated.warning(`calUtils' cal.${from}() has changed to cal.${namespace}.${to}${suffix}`,</span>
<a href="#l3.165"></a><span id="l3.165" class="difflineminus">-                           &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l3.166"></a><span id="l3.166" class="difflineminus">-                           Components.stack.caller);</span>
<a href="#l3.167"></a><span id="l3.167" class="difflineminus">-</span>
<a href="#l3.168"></a><span id="l3.168" class="difflineminus">-        return target;</span>
<a href="#l3.169"></a><span id="l3.169" class="difflineminus">-    };</span>
<a href="#l3.170"></a><span id="l3.170" class="difflineminus">-}</span>
<a href="#l3.171"></a><span id="l3.171" class="difflineminus">-</span>
<a href="#l3.172"></a><span id="l3.172" class="difflineminus">-/**</span>
<a href="#l3.173"></a><span id="l3.173" class="difflineminus">- * Inject the backwards compatibility functions using above migration data</span>
<a href="#l3.174"></a><span id="l3.174" class="difflineminus">- *</span>
<a href="#l3.175"></a><span id="l3.175" class="difflineminus">- * @param global        The global object to inject on.</span>
<a href="#l3.176"></a><span id="l3.176" class="difflineminus">- */</span>
<a href="#l3.177"></a><span id="l3.177" class="difflineminus">-function injectCalUtilsCompat(global) {</span>
<a href="#l3.178"></a><span id="l3.178" class="difflineminus">-    for (let [namespace, nsdata] of Object.entries(migrations)) {</span>
<a href="#l3.179"></a><span id="l3.179" class="difflineminus">-        for (let [from, to] of Object.entries(nsdata)) {</span>
<a href="#l3.180"></a><span id="l3.180" class="difflineminus">-            if (typeof to == &quot;object&quot;) {</span>
<a href="#l3.181"></a><span id="l3.181" class="difflineminus">-                global[from] = {};</span>
<a href="#l3.182"></a><span id="l3.182" class="difflineminus">-                for (let [frominner, toinner] of Object.entries(to)) {</span>
<a href="#l3.183"></a><span id="l3.183" class="difflineminus">-                    generateForward(global[from], namespace, frominner, toinner, global);</span>
<a href="#l3.184"></a><span id="l3.184" class="difflineminus">-                }</span>
<a href="#l3.185"></a><span id="l3.185" class="difflineminus">-            } else {</span>
<a href="#l3.186"></a><span id="l3.186" class="difflineminus">-                generateForward(global, namespace, from, to);</span>
<a href="#l3.187"></a><span id="l3.187" class="difflineminus">-            }</span>
<a href="#l3.188"></a><span id="l3.188" class="difflineminus">-        }</span>
<a href="#l3.189"></a><span id="l3.189" class="difflineminus">-    }</span>
<a href="#l3.190"></a><span id="l3.190" class="difflineminus">-</span>
<a href="#l3.191"></a><span id="l3.191" class="difflineminus">-    // calGetString is special, as the argument order and kind has changed as well</span>
<a href="#l3.192"></a><span id="l3.192" class="difflineminus">-    global.calGetString = function(aBundleName, aStringName, aParams, aComponent=&quot;calendar&quot;) {</span>
<a href="#l3.193"></a><span id="l3.193" class="difflineminus">-        Deprecated.warning(&quot;calUtils' cal.calGetString() has changed to cal.l10n.get*String()&quot; +</span>
<a href="#l3.194"></a><span id="l3.194" class="difflineminus">-                           &quot; and the parameter order has changed&quot;,</span>
<a href="#l3.195"></a><span id="l3.195" class="difflineminus">-                           &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l3.196"></a><span id="l3.196" class="difflineminus">-                           Components.stack.caller);</span>
<a href="#l3.197"></a><span id="l3.197" class="difflineminus">-        return global.l10n.getAnyString(aComponent, aBundleName, aStringName, aParams);</span>
<a href="#l3.198"></a><span id="l3.198" class="difflineminus">-    };</span>
<a href="#l3.199"></a><span id="l3.199" class="difflineminus">-</span>
<a href="#l3.200"></a><span id="l3.200" class="difflineminus">-    global.ProviderBase = class extends global.provider.BaseClass {</span>
<a href="#l3.201"></a><span id="l3.201" class="difflineminus">-        initProviderBase() {</span>
<a href="#l3.202"></a><span id="l3.202" class="difflineminus">-            Deprecated.warning(&quot;calProviderUtils' cal.ProviderBase() has changed to cal.provider.BaseClass()&quot;,</span>
<a href="#l3.203"></a><span id="l3.203" class="difflineminus">-                               &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l3.204"></a><span id="l3.204" class="difflineminus">-                               Components.stack.caller);</span>
<a href="#l3.205"></a><span id="l3.205" class="difflineminus">-            super.initProviderBase();</span>
<a href="#l3.206"></a><span id="l3.206" class="difflineminus">-        }</span>
<a href="#l3.207"></a><span id="l3.207" class="difflineminus">-    };</span>
<a href="#l3.208"></a><span id="l3.208" class="difflineminus">-</span>
<a href="#l3.209"></a><span id="l3.209" class="difflineminus">-    global.BadCertHandler = class extends global.provider.BadCertHandler {</span>
<a href="#l3.210"></a><span id="l3.210" class="difflineminus">-        constructor() {</span>
<a href="#l3.211"></a><span id="l3.211" class="difflineminus">-            Deprecated.warning(&quot;calProviderUtils' cal.BadCertHandler() has changed to cal.provider.BadCertHandler()&quot;,</span>
<a href="#l3.212"></a><span id="l3.212" class="difflineminus">-                               &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l3.213"></a><span id="l3.213" class="difflineminus">-                               Components.stack.caller);</span>
<a href="#l3.214"></a><span id="l3.214" class="difflineminus">-            super();</span>
<a href="#l3.215"></a><span id="l3.215" class="difflineminus">-        }</span>
<a href="#l3.216"></a><span id="l3.216" class="difflineminus">-    };</span>
<a href="#l3.217"></a><span id="l3.217" class="difflineminus">-</span>
<a href="#l3.218"></a><span id="l3.218" class="difflineminus">-    global.FreeBusyInterval = class extends global.provider.FreeBusyInterval {</span>
<a href="#l3.219"></a><span id="l3.219" class="difflineminus">-        constructor() {</span>
<a href="#l3.220"></a><span id="l3.220" class="difflineminus">-            Deprecated.warning(&quot;calProviderUtils' cal.FreeBusyInterval() has changed to cal.provider.FreeBusyInterval()&quot;,</span>
<a href="#l3.221"></a><span id="l3.221" class="difflineminus">-                               &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l3.222"></a><span id="l3.222" class="difflineminus">-                               Components.stack.caller);</span>
<a href="#l3.223"></a><span id="l3.223" class="difflineminus">-            super();</span>
<a href="#l3.224"></a><span id="l3.224" class="difflineminus">-        }</span>
<a href="#l3.225"></a><span id="l3.225" class="difflineminus">-    };</span>
<a href="#l3.226"></a><span id="l3.226" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/modules/moz.build</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/modules/moz.build</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -20,28 +20,14 @@ EXTRA_JS_MODULES.utils += [</span>
<a href="#l4.4"></a><span id="l4.4">     'utils/calProviderUtils.jsm',</span>
<a href="#l4.5"></a><span id="l4.5">     'utils/calUnifinderUtils.jsm',</span>
<a href="#l4.6"></a><span id="l4.6">     'utils/calViewUtils.jsm',</span>
<a href="#l4.7"></a><span id="l4.7">     'utils/calWindowUtils.jsm',</span>
<a href="#l4.8"></a><span id="l4.8">     'utils/calXMLUtils.jsm',</span>
<a href="#l4.9"></a><span id="l4.9"> ]</span>
<a href="#l4.10"></a><span id="l4.10"> </span>
<a href="#l4.11"></a><span id="l4.11"> EXTRA_JS_MODULES += [</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    'shim/calAlarmUtils.jsm',</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-    'shim/calAsyncUtils.jsm',</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-    'shim/calAuthUtils.jsm',</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-    'shim/calItemUtils.jsm',</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-    'shim/calIteratorUtils.jsm',</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineminus">-    'shim/calItipUtils.jsm',</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineminus">-    'shim/calPrintUtils.jsm',</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineminus">-    'shim/calProviderUtils.jsm',</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineminus">-    'shim/calViewUtils.jsm',</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineminus">-    'shim/calXMLUtils.jsm',</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineminus">-]</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineminus">-</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineminus">-EXTRA_JS_MODULES += [</span>
<a href="#l4.25"></a><span id="l4.25">     'calExtract.jsm',</span>
<a href="#l4.26"></a><span id="l4.26">     'calHashedArray.jsm',</span>
<a href="#l4.27"></a><span id="l4.27">     'calRecurrenceUtils.jsm',</span>
<a href="#l4.28"></a><span id="l4.28">     'calUtils.jsm',</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineminus">-    'calUtilsCompat.jsm',</span>
<a href="#l4.30"></a><span id="l4.30">     'ical.js',</span>
<a href="#l4.31"></a><span id="l4.31"> ]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">deleted file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineminus">--- a/calendar/base/modules/shim/calAlarmUtils.jsm</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineplus">+++ /dev/null</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineminus">-</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineminus">-</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-Deprecated.warning(&quot;calAlarmUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">deleted file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineminus">--- a/calendar/base/modules/shim/calAsyncUtils.jsm</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineplus">+++ /dev/null</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l6.5"></a><span id="l6.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.6"></a><span id="l6.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.7"></a><span id="l6.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.8"></a><span id="l6.8" class="difflineminus">-</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineminus">-</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-Deprecated.warning(&quot;calAsyncUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">deleted file mode 100644</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineminus">--- a/calendar/base/modules/shim/calAuthUtils.jsm</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineplus">+++ /dev/null</span>
<a href="#l7.4"></a><span id="l7.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l7.5"></a><span id="l7.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.6"></a><span id="l7.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.7"></a><span id="l7.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l7.8"></a><span id="l7.8" class="difflineminus">-</span>
<a href="#l7.9"></a><span id="l7.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l7.10"></a><span id="l7.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineminus">-</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-Deprecated.warning(&quot;calAuthUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1">deleted file mode 100644</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineminus">--- a/calendar/base/modules/shim/calItemUtils.jsm</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineplus">+++ /dev/null</span>
<a href="#l8.4"></a><span id="l8.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l8.5"></a><span id="l8.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.6"></a><span id="l8.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.7"></a><span id="l8.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.8"></a><span id="l8.8" class="difflineminus">-</span>
<a href="#l8.9"></a><span id="l8.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l8.10"></a><span id="l8.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineminus">-</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">-Deprecated.warning(&quot;calItemUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">deleted file mode 100644</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineminus">--- a/calendar/base/modules/shim/calIteratorUtils.jsm</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineplus">+++ /dev/null</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l9.5"></a><span id="l9.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.6"></a><span id="l9.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.7"></a><span id="l9.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.8"></a><span id="l9.8" class="difflineminus">-</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineminus">-</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-Deprecated.warning(&quot;calIteratorUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">deleted file mode 100644</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineminus">--- a/calendar/base/modules/shim/calItipUtils.jsm</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineplus">+++ /dev/null</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineminus">-</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineminus">-</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineminus">-Deprecated.warning(&quot;calItipUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">deleted file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- a/calendar/base/modules/shim/calPrintUtils.jsm</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ /dev/null</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineminus">-</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineminus">-</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-Deprecated.warning(&quot;calPrintUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1">deleted file mode 100644</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineminus">--- a/calendar/base/modules/shim/calProviderUtils.jsm</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineplus">+++ /dev/null</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.6"></a><span id="l12.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.7"></a><span id="l12.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.8"></a><span id="l12.8" class="difflineminus">-</span>
<a href="#l12.9"></a><span id="l12.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l12.10"></a><span id="l12.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l12.11"></a><span id="l12.11" class="difflineminus">-</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-Deprecated.warning(&quot;calProviderUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1">deleted file mode 100644</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineminus">--- a/calendar/base/modules/shim/calViewUtils.jsm</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineplus">+++ /dev/null</span>
<a href="#l13.4"></a><span id="l13.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l13.5"></a><span id="l13.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.6"></a><span id="l13.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.7"></a><span id="l13.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l13.8"></a><span id="l13.8" class="difflineminus">-</span>
<a href="#l13.9"></a><span id="l13.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l13.10"></a><span id="l13.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l13.11"></a><span id="l13.11" class="difflineminus">-</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineminus">-Deprecated.warning(&quot;calViewUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">deleted file mode 100644</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineminus">--- a/calendar/base/modules/shim/calXMLUtils.jsm</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineplus">+++ /dev/null</span>
<a href="#l14.4"></a><span id="l14.4" class="difflineat">@@ -1,13 +0,0 @@</span>
<a href="#l14.5"></a><span id="l14.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.6"></a><span id="l14.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.7"></a><span id="l14.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.8"></a><span id="l14.8" class="difflineminus">-</span>
<a href="#l14.9"></a><span id="l14.9" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineminus">-</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-Deprecated.warning(&quot;calXMLUtils.jsm must no longer be imported directly, it&quot; +</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineminus">-                   &quot; is already available via calUtils.jsm&quot;,</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineminus">-                   &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineminus">-                   Components.stack.caller);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/modules/utils/calItemUtils.jsm</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/modules/utils/calItemUtils.jsm</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -1,25 +1,24 @@</span>
<a href="#l15.4"></a><span id="l15.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.5"></a><span id="l15.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l15.6"></a><span id="l15.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8" class="difflineminus">-var { Deprecated } = ChromeUtils.import(&quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l15.9"></a><span id="l15.9"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calHashedArray.jsm&quot;);</span>
<a href="#l15.12"></a><span id="l15.12"> </span>
<a href="#l15.13"></a><span id="l15.13"> /*</span>
<a href="#l15.14"></a><span id="l15.14">  * Calendar item related functions</span>
<a href="#l15.15"></a><span id="l15.15">  */</span>
<a href="#l15.16"></a><span id="l15.16"> </span>
<a href="#l15.17"></a><span id="l15.17"> // NOTE: This module should not be loaded directly, it is available when</span>
<a href="#l15.18"></a><span id="l15.18"> // including calUtils.jsm under the cal.item namespace.</span>
<a href="#l15.19"></a><span id="l15.19"> </span>
<a href="#l15.20"></a><span id="l15.20" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;calitem&quot;, &quot;itemDiff&quot;]; /* exported calitem, itemDiff */</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineplus">+this.EXPORTED_SYMBOLS = [&quot;calitem&quot;];</span>
<a href="#l15.22"></a><span id="l15.22"> </span>
<a href="#l15.23"></a><span id="l15.23"> var calitem = {</span>
<a href="#l15.24"></a><span id="l15.24">     ItemDiff: (function() {</span>
<a href="#l15.25"></a><span id="l15.25">         /**</span>
<a href="#l15.26"></a><span id="l15.26">          * Given two sets of items, find out which items were added, changed or</span>
<a href="#l15.27"></a><span id="l15.27">          * removed.</span>
<a href="#l15.28"></a><span id="l15.28">          *</span>
<a href="#l15.29"></a><span id="l15.29">          * The general flow is to first use load/load1 methods to load the engine with</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineat">@@ -660,18 +659,8 @@ var calitem = {</span>
<a href="#l15.31"></a><span id="l15.31">         if (aTask.entryDate &amp;&amp; aTask.entryDate.isValid &amp;&amp;</span>
<a href="#l15.32"></a><span id="l15.32">             cal.dtz.dateTimeToJsDate(aTask.entryDate).getTime() &lt; nowdate.getTime()) {</span>
<a href="#l15.33"></a><span id="l15.33">             return &quot;inprogress&quot;;</span>
<a href="#l15.34"></a><span id="l15.34">         }</span>
<a href="#l15.35"></a><span id="l15.35"> </span>
<a href="#l15.36"></a><span id="l15.36">         return &quot;future&quot;;</span>
<a href="#l15.37"></a><span id="l15.37">     }</span>
<a href="#l15.38"></a><span id="l15.38"> };</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineminus">-</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineminus">-// Backwards compatibility for bug 905097. Please remove with Thunderbird 61.</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineminus">-class itemDiff extends calitem.ItemDiff {</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineminus">-    constructor(...args) {</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineminus">-        super(...args);</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineminus">-        Deprecated.warning(&quot;calItemUtils' itemDiff has changed to calUtils' cal.item.ItemDiff&quot;,</span>
<a href="#l15.45"></a><span id="l15.45" class="difflineminus">-                           &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=905097&quot;,</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineminus">-                           Components.stack.caller);</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineminus">-    }</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/modules/utils/calProviderUtils.jsm</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/modules/utils/calProviderUtils.jsm</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l16.4"></a><span id="l16.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.5"></a><span id="l16.5"> </span>
<a href="#l16.6"></a><span id="l16.6"> var { MailServices } = ChromeUtils.import(&quot;resource:///modules/MailServices.jsm&quot;);</span>
<a href="#l16.7"></a><span id="l16.7"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l16.8"></a><span id="l16.8"> var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l16.9"></a><span id="l16.9"> var { fixIterator } = ChromeUtils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l16.10"></a><span id="l16.10"> </span>
<a href="#l16.11"></a><span id="l16.11"> XPCOMUtils.defineLazyModuleGetter(this, &quot;cal&quot;, &quot;resource://calendar/modules/calUtils.jsm&quot;, &quot;cal&quot;);</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-ChromeUtils.defineModuleGetter(this, &quot;Deprecated&quot;, &quot;resource://gre/modules/Deprecated.jsm&quot;);</span>
<a href="#l16.13"></a><span id="l16.13"> </span>
<a href="#l16.14"></a><span id="l16.14"> /*</span>
<a href="#l16.15"></a><span id="l16.15">  * Helpers and base class for calendar providers</span>
<a href="#l16.16"></a><span id="l16.16">  */</span>
<a href="#l16.17"></a><span id="l16.17"> </span>
<a href="#l16.18"></a><span id="l16.18"> // NOTE: This module should not be loaded directly, it is available when</span>
<a href="#l16.19"></a><span id="l16.19"> // including calUtils.jsm under the cal.provider namespace.</span>
<a href="#l16.20"></a><span id="l16.20"> </span>
<a href="#l16.21"></a><span id="l16.21" class="difflineat">@@ -110,40 +109,16 @@ var calprovider = {</span>
<a href="#l16.22"></a><span id="l16.22">      *</span>
<a href="#l16.23"></a><span id="l16.23">      * @return {nsIStreamLoader}        A fresh streamloader</span>
<a href="#l16.24"></a><span id="l16.24">      */</span>
<a href="#l16.25"></a><span id="l16.25">     createStreamLoader: function() {</span>
<a href="#l16.26"></a><span id="l16.26">         return Cc[&quot;@mozilla.org/network/stream-loader;1&quot;].createInstance(Ci.nsIStreamLoader);</span>
<a href="#l16.27"></a><span id="l16.27">     },</span>
<a href="#l16.28"></a><span id="l16.28"> </span>
<a href="#l16.29"></a><span id="l16.29">     /**</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineminus">-     * Convert a byte array to a string</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineminus">-     *</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineminus">-     * @param {octet[]} aResult         The bytes to convert</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineminus">-     * @param {Number} aResultLength    The number of bytes</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineminus">-     * @param {String} aCharset         The character set of the bytes, defaults to utf-8</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineminus">-     * @param {Boolean} aThrow          If true, the function will raise an exception on error</span>
<a href="#l16.36"></a><span id="l16.36" class="difflineminus">-     * @return {?String}                The string result, or null on error</span>
<a href="#l16.37"></a><span id="l16.37" class="difflineminus">-     */</span>
<a href="#l16.38"></a><span id="l16.38" class="difflineminus">-    convertByteArray: function(aResult, aResultLength, aCharset=&quot;utf-8&quot;, aThrow) {</span>
<a href="#l16.39"></a><span id="l16.39" class="difflineminus">-        Deprecated.warning(</span>
<a href="#l16.40"></a><span id="l16.40" class="difflineminus">-            &quot;The cal.provider.convertByteArray() function has been superseded by the use of TextDecoder.&quot;,</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineminus">-            &quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1469499&quot;</span>
<a href="#l16.42"></a><span id="l16.42" class="difflineminus">-        );</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineminus">-        try {</span>
<a href="#l16.44"></a><span id="l16.44" class="difflineminus">-            return new TextDecoder(aCharset).decode(Uint8Array.from(aResult));</span>
<a href="#l16.45"></a><span id="l16.45" class="difflineminus">-        } catch (e) {</span>
<a href="#l16.46"></a><span id="l16.46" class="difflineminus">-            if (aThrow) {</span>
<a href="#l16.47"></a><span id="l16.47" class="difflineminus">-                throw e;</span>
<a href="#l16.48"></a><span id="l16.48" class="difflineminus">-            }</span>
<a href="#l16.49"></a><span id="l16.49" class="difflineminus">-        }</span>
<a href="#l16.50"></a><span id="l16.50" class="difflineminus">-        return null;</span>
<a href="#l16.51"></a><span id="l16.51" class="difflineminus">-    },</span>
<a href="#l16.52"></a><span id="l16.52" class="difflineminus">-</span>
<a href="#l16.53"></a><span id="l16.53" class="difflineminus">-    /**</span>
<a href="#l16.54"></a><span id="l16.54">      * getInterface method for providers. This should be called in the context of</span>
<a href="#l16.55"></a><span id="l16.55">      * the respective provider, i.e</span>
<a href="#l16.56"></a><span id="l16.56">      *</span>
<a href="#l16.57"></a><span id="l16.57">      * return cal.provider.InterfaceRequestor_getInterface.apply(this, arguments);</span>
<a href="#l16.58"></a><span id="l16.58">      *</span>
<a href="#l16.59"></a><span id="l16.59">      * or</span>
<a href="#l16.60"></a><span id="l16.60">      * ...</span>
<a href="#l16.61"></a><span id="l16.61">      * getInterface: cal.provider.InterfaceRequestor_getInterface,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/providers/gdata/components/calGoogleCalendar.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/providers/gdata/components/calGoogleCalendar.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -6,17 +6,17 @@ var { Services } = ChromeUtils.import(&quot;r</span>
<a href="#l17.4"></a><span id="l17.4"> var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l17.5"></a><span id="l17.5"> </span>
<a href="#l17.6"></a><span id="l17.6"> // Backwards compatibility with Thunderbird &lt;60.</span>
<a href="#l17.7"></a><span id="l17.7"> if (!(&quot;Cc&quot; in this)) {</span>
<a href="#l17.8"></a><span id="l17.8">     // eslint-disable-next-line mozilla/no-define-cc-etc, no-unused-vars</span>
<a href="#l17.9"></a><span id="l17.9">     const { classes: Cc, interfaces: Ci, results: Cr } = Components;</span>
<a href="#l17.10"></a><span id="l17.10"> }</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l17.14"></a><span id="l17.14"> var { stringException } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataLogging.jsm&quot;);</span>
<a href="#l17.15"></a><span id="l17.15"> var {</span>
<a href="#l17.16"></a><span id="l17.16">     calGoogleRequest,</span>
<a href="#l17.17"></a><span id="l17.17">     getCorrectedDate,</span>
<a href="#l17.18"></a><span id="l17.18">     API_BASE</span>
<a href="#l17.19"></a><span id="l17.19"> } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataRequest.jsm&quot;);</span>
<a href="#l17.20"></a><span id="l17.20"> var { getGoogleSessionManager } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataSession.jsm&quot;);</span>
<a href="#l17.21"></a><span id="l17.21"> var {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/providers/gdata/content/browserRequest.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/providers/gdata/content/browserRequest.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -3,17 +3,17 @@</span>
<a href="#l18.4"></a><span id="l18.4">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l18.5"></a><span id="l18.5"> </span>
<a href="#l18.6"></a><span id="l18.6"> // Backwards compatibility with Thunderbird &lt;60.</span>
<a href="#l18.7"></a><span id="l18.7"> if (!(&quot;Cc&quot; in this)) {</span>
<a href="#l18.8"></a><span id="l18.8">     // eslint-disable-next-line mozilla/no-define-cc-etc, no-unused-vars</span>
<a href="#l18.9"></a><span id="l18.9">     const { interfaces: Ci } = Components;</span>
<a href="#l18.10"></a><span id="l18.10"> }</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15"> /* exported cancelRequest, loadRequestedUrl, reportUserClosed */</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17"> var wpl = Ci.nsIWebProgressListener;</span>
<a href="#l18.18"></a><span id="l18.18"> </span>
<a href="#l18.19"></a><span id="l18.19"> var reporterListener = {</span>
<a href="#l18.20"></a><span id="l18.20">     _isBusy: false,</span>
<a href="#l18.21"></a><span id="l18.21">     get securityButton() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-calendar-creation.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-calendar-creation.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l19.4"></a><span id="l19.4"> </span>
<a href="#l19.5"></a><span id="l19.5"> // Backwards compatibility with Thunderbird &lt;60.</span>
<a href="#l19.6"></a><span id="l19.6"> if (!(&quot;Cc&quot; in this)) {</span>
<a href="#l19.7"></a><span id="l19.7">     // eslint-disable-next-line mozilla/no-define-cc-etc, no-unused-vars</span>
<a href="#l19.8"></a><span id="l19.8">     const { utils: Cu } = Components;</span>
<a href="#l19.9"></a><span id="l19.9"> }</span>
<a href="#l19.10"></a><span id="l19.10"> </span>
<a href="#l19.11"></a><span id="l19.11"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l19.14"></a><span id="l19.14"> var { getGoogleSessionManager } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataSession.jsm&quot;);</span>
<a href="#l19.15"></a><span id="l19.15"> var { monkeyPatch } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l19.16"></a><span id="l19.16"> </span>
<a href="#l19.17"></a><span id="l19.17"> (function() {</span>
<a href="#l19.18"></a><span id="l19.18">     function pageorder(anchor, ...pages) {</span>
<a href="#l19.19"></a><span id="l19.19">         let wizard = document.documentElement;</span>
<a href="#l19.20"></a><span id="l19.20">         let page = wizard.getPageById(anchor);</span>
<a href="#l19.21"></a><span id="l19.21">         for (let id of pages) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-event-dialog-reminder.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-event-dialog-reminder.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -3,17 +3,17 @@</span>
<a href="#l20.4"></a><span id="l20.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.5"></a><span id="l20.5"> </span>
<a href="#l20.6"></a><span id="l20.6"> /* global MozElements */</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8"> /* import-globals-from ../../../base/content/dialogs/calendar-event-dialog-reminder.js */</span>
<a href="#l20.9"></a><span id="l20.9"> </span>
<a href="#l20.10"></a><span id="l20.10"> (function() {</span>
<a href="#l20.11"></a><span id="l20.11">     const FOUR_WEEKS_BEFORE = -2419200;</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-    const { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+    const { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l20.14"></a><span id="l20.14">     const {</span>
<a href="#l20.15"></a><span id="l20.15">         monkeyPatch,</span>
<a href="#l20.16"></a><span id="l20.16">         getProviderString,</span>
<a href="#l20.17"></a><span id="l20.17">     } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l20.18"></a><span id="l20.18">     const { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l20.19"></a><span id="l20.19"> </span>
<a href="#l20.20"></a><span id="l20.20">     XPCOMUtils.defineLazyGetter(this, &quot;notificationbox&quot;, () =&gt; {</span>
<a href="#l20.21"></a><span id="l20.21">         return new MozElements.NotificationBox(element =&gt; {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-lightning-item-iframe.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-lightning-item-iframe.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l21.4"></a><span id="l21.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.5"></a><span id="l21.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l21.6"></a><span id="l21.6"> </span>
<a href="#l21.7"></a><span id="l21.7"> /* import-globals-from ../../../lightning/content/lightning-item-iframe.js */</span>
<a href="#l21.8"></a><span id="l21.8"> /* import-globals-from ../../../base/content/dialogs/calendar-dialog-utils.js */</span>
<a href="#l21.9"></a><span id="l21.9"> </span>
<a href="#l21.10"></a><span id="l21.10"> var { monkeyPatch } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l21.14"></a><span id="l21.14"> </span>
<a href="#l21.15"></a><span id="l21.15"> (function() {</span>
<a href="#l21.16"></a><span id="l21.16">     monkeyPatch(window, &quot;updateCalendar&quot;, function(protofunc, ...args) {</span>
<a href="#l21.17"></a><span id="l21.17">         let rv = protofunc.apply(this, args);</span>
<a href="#l21.18"></a><span id="l21.18">         let calendar = getCurrentCalendar();</span>
<a href="#l21.19"></a><span id="l21.19">         let isGoogleCalendar = (calendar.type == &quot;gdata&quot;);</span>
<a href="#l21.20"></a><span id="l21.20">         let isTask = cal.item.isToDo(window.calendarItem);</span>
<a href="#l21.21"></a><span id="l21.21">         let isEvent = cal.item.isEvent(window.calendarItem);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/calendar/providers/gdata/modules/OAuth2.jsm</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/OAuth2.jsm</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -12,17 +12,17 @@ if (!(&quot;Cc&quot; in this)) {</span>
<a href="#l22.4"></a><span id="l22.4">     // eslint-disable-next-line mozilla/no-define-cc-etc, no-unused-vars</span>
<a href="#l22.5"></a><span id="l22.5">     const { interfaces: Ci, results: Cr } = Components;</span>
<a href="#l22.6"></a><span id="l22.6"> }</span>
<a href="#l22.7"></a><span id="l22.7"> </span>
<a href="#l22.8"></a><span id="l22.8"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l22.9"></a><span id="l22.9"> var { Log4Moz } = ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l22.10"></a><span id="l22.10"> var { httpRequest } = ChromeUtils.import(&quot;resource://gre/modules/Http.jsm&quot;);</span>
<a href="#l22.11"></a><span id="l22.11"> </span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l22.14"></a><span id="l22.14"> </span>
<a href="#l22.15"></a><span id="l22.15"> function parseURLData(aData) {</span>
<a href="#l22.16"></a><span id="l22.16">     let result = {};</span>
<a href="#l22.17"></a><span id="l22.17">     aData.split(/[?#]/, 2)[1].split(&quot;&amp;&quot;).forEach((aParam) =&gt; {</span>
<a href="#l22.18"></a><span id="l22.18">         let [key, value] = aParam.split(&quot;=&quot;);</span>
<a href="#l22.19"></a><span id="l22.19">         result[key] = value;</span>
<a href="#l22.20"></a><span id="l22.20">     });</span>
<a href="#l22.21"></a><span id="l22.21">     return result;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1">deleted file mode 100644</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineminus">--- a/calendar/providers/gdata/modules/calUtilsShim.jsm</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineplus">+++ /dev/null</span>
<a href="#l23.4"></a><span id="l23.4" class="difflineat">@@ -1,126 +0,0 @@</span>
<a href="#l23.5"></a><span id="l23.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.6"></a><span id="l23.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.7"></a><span id="l23.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l23.8"></a><span id="l23.8" class="difflineminus">-</span>
<a href="#l23.9"></a><span id="l23.9" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l23.10"></a><span id="l23.10" class="difflineminus">-var { XPCOMUtils } = ChromeUtils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineminus">-</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-// calAsyncUtils and calAlarmUtils should no longer be injected directly, so first check if it is</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineminus">-// already on the cal object through newer calUtils.jsm</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineminus">-if (typeof cal.async == &quot;undefined&quot;) {</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineminus">-    let { cal: temp } = ChromeUtils.import(&quot;resource://calendar/modules/calAsyncUtils.jsm&quot;);</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineminus">-    cal.async = temp.async;</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineminus">-}</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineminus">-if (typeof cal.alarms == &quot;undefined&quot;) {</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineminus">-    let { cal: temp } = ChromeUtils.import(&quot;resource://calendar/modules/calAlarmUtils.jsm&quot;);</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineminus">-    cal.alarms = temp.alarms;</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineminus">-}</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineminus">-</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;cal&quot;];</span>
<a href="#l23.24"></a><span id="l23.24" class="difflineminus">-</span>
<a href="#l23.25"></a><span id="l23.25" class="difflineminus">-if (!cal.dtz) {</span>
<a href="#l23.26"></a><span id="l23.26" class="difflineminus">-    cal.dtz = {</span>
<a href="#l23.27"></a><span id="l23.27" class="difflineminus">-        get defaultTimezone() { return cal.calendarDefaultTimezone(); },</span>
<a href="#l23.28"></a><span id="l23.28" class="difflineminus">-        get floating() { return cal.floating(); },</span>
<a href="#l23.29"></a><span id="l23.29" class="difflineminus">-        get UTC() { return cal.UTC(); },</span>
<a href="#l23.30"></a><span id="l23.30" class="difflineminus">-</span>
<a href="#l23.31"></a><span id="l23.31" class="difflineminus">-        now: (...args) =&gt; cal.now(...args),</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineminus">-        ensureDateTime: (...args) =&gt; cal.ensureDateTime(...args),</span>
<a href="#l23.33"></a><span id="l23.33" class="difflineminus">-        getRecentTimezones: (...args) =&gt; cal.getRecentTimezones(...args),</span>
<a href="#l23.34"></a><span id="l23.34" class="difflineminus">-        saveRecentTimezone: (...args) =&gt; cal.saveRecentTimezone(...args),</span>
<a href="#l23.35"></a><span id="l23.35" class="difflineminus">-        getDefaultStartDate: (...args) =&gt; cal.getDefaultStartDate(...args),</span>
<a href="#l23.36"></a><span id="l23.36" class="difflineminus">-        setDefaultStartEndHour: (...args) =&gt; cal.setDefaultStartEndHour(...args),</span>
<a href="#l23.37"></a><span id="l23.37" class="difflineminus">-        startDateProp: (...args) =&gt; cal.calGetStartDateProp(...args),</span>
<a href="#l23.38"></a><span id="l23.38" class="difflineminus">-        endDateProp: (...args) =&gt; cal.calGetEndDateProp(...args),</span>
<a href="#l23.39"></a><span id="l23.39" class="difflineminus">-        sameDay: (...args) =&gt; cal.sameDay(...args),</span>
<a href="#l23.40"></a><span id="l23.40" class="difflineminus">-        jsDateToDateTime: (...args) =&gt; cal.jsDateToDateTime(...args),</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineminus">-        dateTimeToJsDate: (...args) =&gt; cal.dateTimeToJsDate(...args),</span>
<a href="#l23.42"></a><span id="l23.42" class="difflineminus">-        fromRFC3339: (...args) =&gt; cal.fromRFC3339(...args),</span>
<a href="#l23.43"></a><span id="l23.43" class="difflineminus">-        toRFC3339: (...args) =&gt; cal.toRFC3339(...args)</span>
<a href="#l23.44"></a><span id="l23.44" class="difflineminus">-    };</span>
<a href="#l23.45"></a><span id="l23.45" class="difflineminus">-}</span>
<a href="#l23.46"></a><span id="l23.46" class="difflineminus">-</span>
<a href="#l23.47"></a><span id="l23.47" class="difflineminus">-if (!cal.item) {</span>
<a href="#l23.48"></a><span id="l23.48" class="difflineminus">-    cal.item = {</span>
<a href="#l23.49"></a><span id="l23.49" class="difflineminus">-        ItemDiff: cal.itemDiff,</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineminus">-        isItemSupported: (...args) =&gt; cal.isItemSupported(...args),</span>
<a href="#l23.51"></a><span id="l23.51" class="difflineminus">-        isEventCalendar: (...args) =&gt; cal.isEventCalendar(...args),</span>
<a href="#l23.52"></a><span id="l23.52" class="difflineminus">-        isTaskCalendar: (...args) =&gt; cal.isTaskCalendar(...args),</span>
<a href="#l23.53"></a><span id="l23.53" class="difflineminus">-        isEvent: (...args) =&gt; cal.isEvent(...args),</span>
<a href="#l23.54"></a><span id="l23.54" class="difflineminus">-        isToDo: (...args) =&gt; cal.isToDo(...args),</span>
<a href="#l23.55"></a><span id="l23.55" class="difflineminus">-        checkIfInRange: (...args) =&gt; cal.checkIfInRange(...args),</span>
<a href="#l23.56"></a><span id="l23.56" class="difflineminus">-        setItemProperty: (...args) =&gt; cal.setItemProperty(...args),</span>
<a href="#l23.57"></a><span id="l23.57" class="difflineminus">-        getEventDefaultTransparency: (...args) =&gt; cal.getEventDefaultTransparency(...args),</span>
<a href="#l23.58"></a><span id="l23.58" class="difflineminus">-        compareContent: (...args) =&gt; cal.compareItemContent(...args),</span>
<a href="#l23.59"></a><span id="l23.59" class="difflineminus">-        shiftOffset: (...args) =&gt; cal.shiftItem(...args),</span>
<a href="#l23.60"></a><span id="l23.60" class="difflineminus">-        moveToDate: (...args) =&gt; cal.moveItem(...args),</span>
<a href="#l23.61"></a><span id="l23.61" class="difflineminus">-        serialize: (...args) =&gt; cal.getSerializedItem(...args),</span>
<a href="#l23.62"></a><span id="l23.62" class="difflineminus">-        get productId() { return cal.calGetProductId(); },</span>
<a href="#l23.63"></a><span id="l23.63" class="difflineminus">-        get productVersion() { return cal.calGetProductVersion(); },</span>
<a href="#l23.64"></a><span id="l23.64" class="difflineminus">-        setStaticProps: (...args) =&gt; cal.calSetProdidVersion(...args),</span>
<a href="#l23.65"></a><span id="l23.65" class="difflineminus">-        findWindow: (...args) =&gt; cal.findItemWindow(...args),</span>
<a href="#l23.66"></a><span id="l23.66" class="difflineminus">-        setToAllDay: (...args) =&gt; cal.setItemToAllDay(...args)</span>
<a href="#l23.67"></a><span id="l23.67" class="difflineminus">-    };</span>
<a href="#l23.68"></a><span id="l23.68" class="difflineminus">-}</span>
<a href="#l23.69"></a><span id="l23.69" class="difflineminus">-</span>
<a href="#l23.70"></a><span id="l23.70" class="difflineminus">-if (!cal.view || !cal.view.hashColor) {</span>
<a href="#l23.71"></a><span id="l23.71" class="difflineminus">-    cal.view = Object.assign(cal.view || {}, {</span>
<a href="#l23.72"></a><span id="l23.72" class="difflineminus">-        isMouseOverBox: (...args) =&gt; cal.isMouseOverBox(...args),</span>
<a href="#l23.73"></a><span id="l23.73" class="difflineminus">-        removeChildElementsByAttribute: (...args) =&gt; cal.removeChildElementsByAttribute(...args),</span>
<a href="#l23.74"></a><span id="l23.74" class="difflineminus">-        getParentNodeOrThis: (...args) =&gt; cal.getParentNodeOrThis(...args),</span>
<a href="#l23.75"></a><span id="l23.75" class="difflineminus">-        getParentNodeOrThisByAttribute: (...args) =&gt; cal.getParentNodeOrThisByAttribute(...args),</span>
<a href="#l23.76"></a><span id="l23.76" class="difflineminus">-        formatStringForCSSRule: (...args) =&gt; cal.formatStringForCSSRule(...args),</span>
<a href="#l23.77"></a><span id="l23.77" class="difflineminus">-        getCompositeCalendar: (...args) =&gt; cal.getCompositeCalendar(...args),</span>
<a href="#l23.78"></a><span id="l23.78" class="difflineminus">-        hashColor: (...args) =&gt; cal.hashColor(...args),</span>
<a href="#l23.79"></a><span id="l23.79" class="difflineminus">-        getContrastingTextColor: (...args) =&gt; cal.getContrastingTextColor(...args),</span>
<a href="#l23.80"></a><span id="l23.80" class="difflineminus">-        /* cal.view.compareItems stays the same, just a different import */</span>
<a href="#l23.81"></a><span id="l23.81" class="difflineminus">-    });</span>
<a href="#l23.82"></a><span id="l23.82" class="difflineminus">-}</span>
<a href="#l23.83"></a><span id="l23.83" class="difflineminus">-</span>
<a href="#l23.84"></a><span id="l23.84" class="difflineminus">-if (typeof cal.window == &quot;undefined&quot;) {</span>
<a href="#l23.85"></a><span id="l23.85" class="difflineminus">-    cal.window = {</span>
<a href="#l23.86"></a><span id="l23.86" class="difflineminus">-        getCalendarWindow: function() {</span>
<a href="#l23.87"></a><span id="l23.87" class="difflineminus">-            return cal.getCalendarWindow();</span>
<a href="#l23.88"></a><span id="l23.88" class="difflineminus">-        }</span>
<a href="#l23.89"></a><span id="l23.89" class="difflineminus">-    };</span>
<a href="#l23.90"></a><span id="l23.90" class="difflineminus">-}</span>
<a href="#l23.91"></a><span id="l23.91" class="difflineminus">-</span>
<a href="#l23.92"></a><span id="l23.92" class="difflineminus">-if (typeof cal.category == &quot;undefined&quot;) {</span>
<a href="#l23.93"></a><span id="l23.93" class="difflineminus">-    cal.category = {</span>
<a href="#l23.94"></a><span id="l23.94" class="difflineminus">-        stringToArray: function(aStr) { return cal.categoriesStringToArray(aStr); },</span>
<a href="#l23.95"></a><span id="l23.95" class="difflineminus">-        arrayToString: function(aArr) { return cal.categoriesArrayToString(aArr); }</span>
<a href="#l23.96"></a><span id="l23.96" class="difflineminus">-    };</span>
<a href="#l23.97"></a><span id="l23.97" class="difflineminus">-}</span>
<a href="#l23.98"></a><span id="l23.98" class="difflineminus">-</span>
<a href="#l23.99"></a><span id="l23.99" class="difflineminus">-if (typeof cal.itip == &quot;undefined&quot;) {</span>
<a href="#l23.100"></a><span id="l23.100" class="difflineminus">-    let { cal: temp } = ChromeUtils.import(&quot;resource://calendar/modules/calItipUtils.jsm&quot;);</span>
<a href="#l23.101"></a><span id="l23.101" class="difflineminus">-    cal.itip = temp.itip;</span>
<a href="#l23.102"></a><span id="l23.102" class="difflineminus">-}</span>
<a href="#l23.103"></a><span id="l23.103" class="difflineminus">-</span>
<a href="#l23.104"></a><span id="l23.104" class="difflineminus">-if (typeof cal.itip.isInvitation == &quot;undefined&quot;) {</span>
<a href="#l23.105"></a><span id="l23.105" class="difflineminus">-    cal.itip.isInvitation = function(aItem) { return cal.isInvitation(aItem); };</span>
<a href="#l23.106"></a><span id="l23.106" class="difflineminus">-}</span>
<a href="#l23.107"></a><span id="l23.107" class="difflineminus">-</span>
<a href="#l23.108"></a><span id="l23.108" class="difflineminus">-if (typeof cal.l10n == &quot;undefined&quot;) {</span>
<a href="#l23.109"></a><span id="l23.109" class="difflineminus">-    cal.l10n = {</span>
<a href="#l23.110"></a><span id="l23.110" class="difflineminus">-        getAnyString: function(aComponent, aBundle, aString, aParams) {</span>
<a href="#l23.111"></a><span id="l23.111" class="difflineminus">-            return cal.calGetString(aBundle, aString, aParams, aComponent);</span>
<a href="#l23.112"></a><span id="l23.112" class="difflineminus">-        }</span>
<a href="#l23.113"></a><span id="l23.113" class="difflineminus">-    };</span>
<a href="#l23.114"></a><span id="l23.114" class="difflineminus">-}</span>
<a href="#l23.115"></a><span id="l23.115" class="difflineminus">-</span>
<a href="#l23.116"></a><span id="l23.116" class="difflineminus">-if (typeof cal.provider == &quot;undefined&quot;) {</span>
<a href="#l23.117"></a><span id="l23.117" class="difflineminus">-    cal.provider = {</span>
<a href="#l23.118"></a><span id="l23.118" class="difflineminus">-        BaseClass: cal.ProviderBase,</span>
<a href="#l23.119"></a><span id="l23.119" class="difflineminus">-        prepHttpChannel: (...args) =&gt; cal.prepHttpChannel(...args),</span>
<a href="#l23.120"></a><span id="l23.120" class="difflineminus">-        sendHttpRequest: (...args) =&gt; cal.sendHttpRequest(...args),</span>
<a href="#l23.121"></a><span id="l23.121" class="difflineminus">-        createStreamLoader: (...args) =&gt; cal.createStreamLoader(...args),</span>
<a href="#l23.122"></a><span id="l23.122" class="difflineminus">-        InterfaceRequestor_getInterface: (...args) =&gt; cal.InterfaceRequestor_getInterface(...args),</span>
<a href="#l23.123"></a><span id="l23.123" class="difflineminus">-        convertByteArray: (...args) =&gt; cal.convertByteArray(...args),</span>
<a href="#l23.124"></a><span id="l23.124" class="difflineminus">-        promptOverwrite: (...args) =&gt; cal.promptOverwrite(...args)</span>
<a href="#l23.125"></a><span id="l23.125" class="difflineminus">-    };</span>
<a href="#l23.126"></a><span id="l23.126" class="difflineminus">-}</span>
<a href="#l23.127"></a><span id="l23.127" class="difflineminus">-</span>
<a href="#l23.128"></a><span id="l23.128" class="difflineminus">-if (typeof cal.generateQI == &quot;undefined&quot;) {</span>
<a href="#l23.129"></a><span id="l23.129" class="difflineminus">-    cal.generateQI = XPCOMUtils.generateQI.bind(XPCOMUtils);</span>
<a href="#l23.130"></a><span id="l23.130" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataRequest.jsm</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataRequest.jsm</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l24.4"></a><span id="l24.4"> if (!(&quot;Cc&quot; in this)) {</span>
<a href="#l24.5"></a><span id="l24.5">     // eslint-disable-next-line mozilla/no-define-cc-etc, no-unused-vars</span>
<a href="#l24.6"></a><span id="l24.6">     const { classes: Cc, interfaces: Ci, results: Cr } = Components;</span>
<a href="#l24.7"></a><span id="l24.7"> }</span>
<a href="#l24.8"></a><span id="l24.8"> </span>
<a href="#l24.9"></a><span id="l24.9"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l24.10"></a><span id="l24.10"> var { PromiseUtils } = ChromeUtils.import(&quot;resource://gre/modules/PromiseUtils.jsm&quot;);</span>
<a href="#l24.11"></a><span id="l24.11"> </span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l24.14"></a><span id="l24.14"> </span>
<a href="#l24.15"></a><span id="l24.15"> var API_BASE = {</span>
<a href="#l24.16"></a><span id="l24.16">     EVENTS: &quot;https://www.googleapis.com/calendar/v3/&quot;,</span>
<a href="#l24.17"></a><span id="l24.17">     TASKS: &quot;https://www.googleapis.com/tasks/v1/&quot;</span>
<a href="#l24.18"></a><span id="l24.18"> };</span>
<a href="#l24.19"></a><span id="l24.19"> </span>
<a href="#l24.20"></a><span id="l24.20"> var EXPORTED_SYMBOLS = [&quot;calGoogleRequest&quot;, &quot;getCorrectedDate&quot;, &quot;API_BASE&quot;];</span>
<a href="#l24.21"></a><span id="l24.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataSession.jsm</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataSession.jsm</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -19,17 +19,17 @@ var {</span>
<a href="#l25.4"></a><span id="l25.4"> } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataRequest.jsm&quot;);</span>
<a href="#l25.5"></a><span id="l25.5"> </span>
<a href="#l25.6"></a><span id="l25.6"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l25.7"></a><span id="l25.7"> var { PromiseUtils } = ChromeUtils.import(&quot;resource://gre/modules/PromiseUtils.jsm&quot;);</span>
<a href="#l25.8"></a><span id="l25.8"> var { setTimeout } = ChromeUtils.import(&quot;resource://gre/modules/Timer.jsm&quot;);</span>
<a href="#l25.9"></a><span id="l25.9"> </span>
<a href="#l25.10"></a><span id="l25.10"> var { fixIterator } = ChromeUtils.import(&quot;resource:///modules/iteratorUtils.jsm&quot;);</span>
<a href="#l25.11"></a><span id="l25.11"> </span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l25.14"></a><span id="l25.14"> </span>
<a href="#l25.15"></a><span id="l25.15"> var cIFBI = Ci.calIFreeBusyInterval;</span>
<a href="#l25.16"></a><span id="l25.16"> var nIPM = Ci.nsIPermissionManager;</span>
<a href="#l25.17"></a><span id="l25.17"> </span>
<a href="#l25.18"></a><span id="l25.18"> var NOTIFY_TIMEOUT = 60 * 1000;</span>
<a href="#l25.19"></a><span id="l25.19"> </span>
<a href="#l25.20"></a><span id="l25.20"> var EXPORTED_SYMBOLS = [&quot;getGoogleSessionManager&quot;];</span>
<a href="#l25.21"></a><span id="l25.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataUtils.jsm</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataUtils.jsm</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -14,17 +14,17 @@ var {</span>
<a href="#l26.4"></a><span id="l26.4">     stringException</span>
<a href="#l26.5"></a><span id="l26.5"> } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataLogging.jsm&quot;);</span>
<a href="#l26.6"></a><span id="l26.6"> var { calGoogleRequest } = ChromeUtils.import(&quot;resource://gdata-provider/modules/gdataRequest.jsm&quot;);</span>
<a href="#l26.7"></a><span id="l26.7"> var { windowsTimezoneMap } = ChromeUtils.import(&quot;resource://gdata-provider/modules/timezoneMap.jsm&quot;);</span>
<a href="#l26.8"></a><span id="l26.8"> </span>
<a href="#l26.9"></a><span id="l26.9"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l26.10"></a><span id="l26.10"> var { PromiseUtils } = ChromeUtils.import(&quot;resource://gre/modules/PromiseUtils.jsm&quot;);</span>
<a href="#l26.11"></a><span id="l26.11"> </span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-var { cal } = ChromeUtils.import(&quot;resource://gdata-provider/modules/calUtilsShim.jsm&quot;);</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l26.14"></a><span id="l26.14"> </span>
<a href="#l26.15"></a><span id="l26.15"> var FOUR_WEEKS_IN_MINUTES = 40320;</span>
<a href="#l26.16"></a><span id="l26.16"> </span>
<a href="#l26.17"></a><span id="l26.17"> var EXPORTED_SYMBOLS = [</span>
<a href="#l26.18"></a><span id="l26.18">     &quot;ItemToJSON&quot;, &quot;JSONToItem&quot;, &quot;ItemSaver&quot;,</span>
<a href="#l26.19"></a><span id="l26.19">     &quot;checkResolveConflict&quot;, &quot;getGoogleId&quot;,</span>
<a href="#l26.20"></a><span id="l26.20">     &quot;getItemMetadata&quot;, &quot;saveItemMetadata&quot;,</span>
<a href="#l26.21"></a><span id="l26.21">     &quot;deleteItemMetadata&quot;, &quot;migrateItemMetadata&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/calendar/providers/gdata/moz.build</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/calendar/providers/gdata/moz.build</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -8,17 +8,16 @@ export('XPI_NAME')</span>
<a href="#l27.4"></a><span id="l27.4"> </span>
<a href="#l27.5"></a><span id="l27.5"> FINAL_TARGET_PP_FILES += ['manifest.json']</span>
<a href="#l27.6"></a><span id="l27.6"> </span>
<a href="#l27.7"></a><span id="l27.7"> DIRS += [</span>
<a href="#l27.8"></a><span id="l27.8">     'locales',</span>
<a href="#l27.9"></a><span id="l27.9"> ]</span>
<a href="#l27.10"></a><span id="l27.10"> </span>
<a href="#l27.11"></a><span id="l27.11"> EXTRA_JS_MODULES += [</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-    'modules/calUtilsShim.jsm',</span>
<a href="#l27.13"></a><span id="l27.13">     'modules/gdataLogging.jsm',</span>
<a href="#l27.14"></a><span id="l27.14">     'modules/gdataRequest.jsm',</span>
<a href="#l27.15"></a><span id="l27.15">     'modules/gdataSession.jsm',</span>
<a href="#l27.16"></a><span id="l27.16">     'modules/gdataUtils.jsm',</span>
<a href="#l27.17"></a><span id="l27.17">     'modules/OAuth2.jsm',</span>
<a href="#l27.18"></a><span id="l27.18">     'modules/timezoneMap.jsm',</span>
<a href="#l27.19"></a><span id="l27.19"> ]</span>
<a href="#l27.20"></a><span id="l27.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -108,21 +108,21 @@ function testEventDialog() {</span>
<a href="#l28.4"></a><span id="l28.4"> </span>
<a href="#l28.5"></a><span id="l28.5">         event.waitForElement(startTimeInput);</span>
<a href="#l28.6"></a><span id="l28.6">         event.assertValue(startTimeInput, startTime);</span>
<a href="#l28.7"></a><span id="l28.7"> </span>
<a href="#l28.8"></a><span id="l28.8">         // Check selected calendar.</span>
<a href="#l28.9"></a><span id="l28.9">         event.assertValue(iframeId(&quot;item-calendar&quot;), CALENDARNAME);</span>
<a href="#l28.10"></a><span id="l28.10"> </span>
<a href="#l28.11"></a><span id="l28.11">         // Check standard title.</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-        let defTitle = cal.calGetString(&quot;calendar&quot;, &quot;newEvent&quot;);</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+        let defTitle = cal.l10n.getAnyString(&quot;calendar&quot;, &quot;calendar&quot;, &quot;newEvent&quot;);</span>
<a href="#l28.14"></a><span id="l28.14">         event.assertValue(eventid(&quot;item-title&quot;), defTitle);</span>
<a href="#l28.15"></a><span id="l28.15"> </span>
<a href="#l28.16"></a><span id="l28.16">         // Prepare category.</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineminus">-        let categories = cal.calGetString(&quot;categories&quot;, &quot;categories2&quot;);</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineplus">+        let categories = cal.l10n.getAnyString(&quot;calendar&quot;, &quot;categories&quot;, &quot;categories2&quot;);</span>
<a href="#l28.19"></a><span id="l28.19">         // Pick 4th value in a comma-separated list.</span>
<a href="#l28.20"></a><span id="l28.20">         let category = categories.split(&quot;,&quot;)[4];</span>
<a href="#l28.21"></a><span id="l28.21">         // Calculate date to repeat until.</span>
<a href="#l28.22"></a><span id="l28.22">         let untildate = firstDay.clone();</span>
<a href="#l28.23"></a><span id="l28.23">         untildate.addDuration(cal.createDuration(&quot;P20D&quot;));</span>
<a href="#l28.24"></a><span id="l28.24"> </span>
<a href="#l28.25"></a><span id="l28.25">         // Fill in the rest of the values.</span>
<a href="#l28.26"></a><span id="l28.26">         setData(event, iframe, {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -61,17 +61,17 @@ function testEventDialogModificationProm</span>
<a href="#l29.4"></a><span id="l29.4"> </span>
<a href="#l29.5"></a><span id="l29.5">     let createbox = lookupEventBox(&quot;day&quot;, CANVAS_BOX, null, 1, 8);</span>
<a href="#l29.6"></a><span id="l29.6">     let eventbox = lookupEventBox(&quot;day&quot;, EVENT_BOX, null, 1, null, EVENTPATH);</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8">     // Create new event.</span>
<a href="#l29.9"></a><span id="l29.9">     invokeEventDialog(controller, createbox, (event, iframe) =&gt; {</span>
<a href="#l29.10"></a><span id="l29.10">         let { eid: eventid } = helpersForController(event);</span>
<a href="#l29.11"></a><span id="l29.11"> </span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-        let categories = cal.calGetString(&quot;categories&quot;, &quot;categories2&quot;).split(&quot;,&quot;);</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+        let categories = cal.l10n.getAnyString(&quot;calendar&quot;, &quot;categories&quot;, &quot;categories2&quot;).split(&quot;,&quot;);</span>
<a href="#l29.14"></a><span id="l29.14">         data[0].categories.push(categories[0]);</span>
<a href="#l29.15"></a><span id="l29.15">         data[1].categories.push(categories[1], categories[2]);</span>
<a href="#l29.16"></a><span id="l29.16"> </span>
<a href="#l29.17"></a><span id="l29.17">         // Enter first set of data.</span>
<a href="#l29.18"></a><span id="l29.18">         setData(event, iframe, data[0]);</span>
<a href="#l29.19"></a><span id="l29.19"> </span>
<a href="#l29.20"></a><span id="l29.20">         // save</span>
<a href="#l29.21"></a><span id="l29.21">         event.click(eventid(&quot;button-saveandclose&quot;));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -102,17 +102,17 @@ function installInto(module) {</span>
<a href="#l30.4"></a><span id="l30.4">     module.setTimezone = setTimezone;</span>
<a href="#l30.5"></a><span id="l30.5"> }</span>
<a href="#l30.6"></a><span id="l30.6"> </span>
<a href="#l30.7"></a><span id="l30.7"> function helpersForEditUI(controller) {</span>
<a href="#l30.8"></a><span id="l30.8">     function selector(sel) {</span>
<a href="#l30.9"></a><span id="l30.9">         return sel.trim().replace(/\n(\s*)/g, &quot;&quot;);</span>
<a href="#l30.10"></a><span id="l30.10">     }</span>
<a href="#l30.11"></a><span id="l30.11"> </span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-    let isEvent = cal.isEvent(controller.window.calendarItem);</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineplus">+    let isEvent = cal.item.isEvent(controller.window.calendarItem);</span>
<a href="#l30.14"></a><span id="l30.14"> </span>
<a href="#l30.15"></a><span id="l30.15">     let obj = {</span>
<a href="#l30.16"></a><span id="l30.16">         iframeLookup: (path) =&gt; {</span>
<a href="#l30.17"></a><span id="l30.17">             let type = isEvent ? &quot;event&quot; : &quot;task&quot;;</span>
<a href="#l30.18"></a><span id="l30.18">             return new elementslib.Lookup(controller.window.document, selector(`</span>
<a href="#l30.19"></a><span id="l30.19">                 /id(&quot;calendar-${type}-dialog-inner&quot;)/id(&quot;event-grid&quot;)/id(&quot;event-grid-rows&quot;)/</span>
<a href="#l30.20"></a><span id="l30.20">                 ${path}</span>
<a href="#l30.21"></a><span id="l30.21">             `));</span>
<a href="#l30.22"></a><span id="l30.22" class="difflineat">@@ -205,17 +205,17 @@ function helpersForEditUI(controller) {</span>
<a href="#l30.23"></a><span id="l30.23">  *                      attendees.add - eMail of attendees to add, comma separated.</span>
<a href="#l30.24"></a><span id="l30.24">  *                      attendees.remove - eMail of attendees to remove, comma separated.</span>
<a href="#l30.25"></a><span id="l30.25">  */</span>
<a href="#l30.26"></a><span id="l30.26"> function setData(dialog, iframe, data) {</span>
<a href="#l30.27"></a><span id="l30.27">     let { eid, sleep, replaceText } = helpersForController(dialog);</span>
<a href="#l30.28"></a><span id="l30.28">     let { eid: iframeid } = helpersForController(iframe);</span>
<a href="#l30.29"></a><span id="l30.29">     let { iframeLookup, getDateTimePicker } = helpersForEditUI(iframe);</span>
<a href="#l30.30"></a><span id="l30.30"> </span>
<a href="#l30.31"></a><span id="l30.31" class="difflineminus">-    let isEvent = cal.isEvent(iframe.window.calendarItem);</span>
<a href="#l30.32"></a><span id="l30.32" class="difflineplus">+    let isEvent = cal.item.isEvent(iframe.window.calendarItem);</span>
<a href="#l30.33"></a><span id="l30.33"> </span>
<a href="#l30.34"></a><span id="l30.34">     let startdateInput = getDateTimePicker(&quot;STARTDATE&quot;);</span>
<a href="#l30.35"></a><span id="l30.35">     let enddateInput = getDateTimePicker(&quot;ENDDATE&quot;);</span>
<a href="#l30.36"></a><span id="l30.36">     let starttimeInput = getDateTimePicker(&quot;STARTTIME&quot;);</span>
<a href="#l30.37"></a><span id="l30.37">     let endtimeInput = getDateTimePicker(&quot;ENDTIME&quot;);</span>
<a href="#l30.38"></a><span id="l30.38">     let completeddateInput = getDateTimePicker(&quot;COMPLETEDDATE&quot;);</span>
<a href="#l30.39"></a><span id="l30.39">     let percentCompleteInput = iframeLookup(PERCENT_COMPLETE_INPUT);</span>
<a href="#l30.40"></a><span id="l30.40">     let untilDateInput = getDateTimePicker(&quot;UNTILDATE&quot;);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

