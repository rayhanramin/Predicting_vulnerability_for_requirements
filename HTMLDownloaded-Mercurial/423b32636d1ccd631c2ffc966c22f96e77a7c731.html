<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 22331:423b32636d1ccd631c2ffc966c22f96e77a7c731</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 423b32636d1ccd631c2ffc966c22f96e77a7c731" />
<meta property="og:url" content="/comm-central/rev/423b32636d1ccd631c2ffc966c22f96e77a7c731" />
<meta property="og:description" content="Bug 1399756 - fix white-space in nsVCardObj.cpp and nsVCardObj.h. rs=white-space-only" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 423b32636d1ccd631c2ffc966c22f96e77a7c731 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/423b32636d1ccd631c2ffc966c22f96e77a7c731">shortlog</a> |
<a href="/comm-central/log/423b32636d1ccd631c2ffc966c22f96e77a7c731">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/423b32636d1ccd631c2ffc966c22f96e77a7c731">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/423b32636d1ccd631c2ffc966c22f96e77a7c731">files</a> |
changeset |
<a href="/comm-central/raw-rev/423b32636d1ccd631c2ffc966c22f96e77a7c731">raw</a>  | <a href="/comm-central/archive/423b32636d1ccd631c2ffc966c22f96e77a7c731.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1399756">Bug 1399756</a> - fix white-space in nsVCardObj.cpp and nsVCardObj.h. rs=white-space-only
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#74;&#111;&#114;&#103;&#32;&#75;&#32;&#60;&#106;&#111;&#114;&#103;&#107;&#64;&#106;&#111;&#114;&#103;&#107;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 12 Oct 2017 20:00:27 +0200</td></tr>

<tr>
 <td>changeset 22331</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/423b32636d1ccd631c2ffc966c22f96e77a7c731">423b32636d1ccd631c2ffc966c22f96e77a7c731</a></td>
</tr>



<tr>
<td>parent 22330</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/36f25cc57854f72dcd88749a2a06da0f212c10b4">36f25cc57854f72dcd88749a2a06da0f212c10b4</a>
</td>
</tr>

<tr>
<td>child 22332</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/5298286c95215f16f02c0d2f9d6adc5b3d1737ce">5298286c95215f16f02c0d2f9d6adc5b3d1737ce</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=423b32636d1ccd631c2ffc966c22f96e77a7c731">13609</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 12 Oct 2017 22:11:58 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@e8fac029f7e4 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=e8fac029f7e443867fde96aa62c6a4d1057b46cf">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=e8fac029f7e443867fde96aa62c6a4d1057b46cf&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=e8fac029f7e443867fde96aa62c6a4d1057b46cf&newProject=comm-central&newRevision=423b32636d1ccd631c2ffc966c22f96e77a7c731&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=e8fac029f7e443867fde96aa62c6a4d1057b46cf&newProject=comm-central&newRevision=423b32636d1ccd631c2ffc966c22f96e77a7c731&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=e8fac029f7e443867fde96aa62c6a4d1057b46cf&newProject=comm-central&newRevision=423b32636d1ccd631c2ffc966c22f96e77a7c731&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28white-space-only%29&revcount=50">white-space-only</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1399756">1399756</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1399756">Bug 1399756</a> - fix white-space in nsVCardObj.cpp and nsVCardObj.h. rs=white-space-only</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.cpp">mailnews/addrbook/src/nsVCardObj.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.cpp">file</a> |
<a href="/comm-central/annotate/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.cpp">annotate</a> |
<a href="/comm-central/diff/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.cpp">diff</a> |
<a href="/comm-central/comparison/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.cpp">comparison</a> |
<a href="/comm-central/log/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.h">mailnews/addrbook/src/nsVCardObj.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.h">file</a> |
<a href="/comm-central/annotate/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.h">annotate</a> |
<a href="/comm-central/diff/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.h">diff</a> |
<a href="/comm-central/comparison/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.h">comparison</a> |
<a href="/comm-central/log/423b32636d1ccd631c2ffc966c22f96e77a7c731/mailnews/addrbook/src/nsVCardObj.h">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mailnews/addrbook/src/nsVCardObj.cpp</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsVCardObj.cpp</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,53 +1,53 @@</span>
<a href="#l1.4"></a><span id="l1.4"> /* -*- Mode: C; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l1.5"></a><span id="l1.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.6"></a><span id="l1.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.7"></a><span id="l1.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9"> /***************************************************************************</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-(C) Copyright 1996 Apple Computer, Inc., AT&amp;T Corp., International             </span>
<a href="#l1.11"></a><span id="l1.11" class="difflineminus">-Business Machines Corporation and Siemens Rolm Communications Inc.             </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-                                                                               </span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-For purposes of this license notice, the term Licensors shall mean,            </span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-collectively, Apple Computer, Inc., AT&amp;T Corp., International                  </span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-Business Machines Corporation and Siemens Rolm Communications Inc.             </span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-The term Licensor shall mean any of the Licensors.                             </span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-                                                                               </span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-Subject to acceptance of the following conditions, permission is hereby        </span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-granted by Licensors without the need for written agreement and without        </span>
<a href="#l1.20"></a><span id="l1.20" class="difflineminus">-license or royalty fees, to use, copy, modify and distribute this              </span>
<a href="#l1.21"></a><span id="l1.21" class="difflineminus">-software for any purpose.                                                      </span>
<a href="#l1.22"></a><span id="l1.22" class="difflineminus">-                                                                               </span>
<a href="#l1.23"></a><span id="l1.23" class="difflineminus">-The above copyright notice and the following four paragraphs must be           </span>
<a href="#l1.24"></a><span id="l1.24" class="difflineminus">-reproduced in all copies of this software and any software including           </span>
<a href="#l1.25"></a><span id="l1.25" class="difflineminus">-this software.                                                                 </span>
<a href="#l1.26"></a><span id="l1.26" class="difflineminus">-                                                                               </span>
<a href="#l1.27"></a><span id="l1.27" class="difflineminus">-THIS SOFTWARE IS PROVIDED ON AN &quot;AS IS&quot; BASIS AND NO LICENSOR SHALL HAVE       </span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">-ANY OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS OR       </span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-MODIFICATIONS.                                                                 </span>
<a href="#l1.30"></a><span id="l1.30" class="difflineminus">-                                                                               </span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-IN NO EVENT SHALL ANY LICENSOR BE LIABLE TO ANY PARTY FOR DIRECT,              </span>
<a href="#l1.32"></a><span id="l1.32" class="difflineminus">-INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES OR LOST PROFITS ARISING OUT         </span>
<a href="#l1.33"></a><span id="l1.33" class="difflineminus">-OF THE USE OF THIS SOFTWARE EVEN IF ADVISED OF THE POSSIBILITY OF SUCH         </span>
<a href="#l1.34"></a><span id="l1.34" class="difflineminus">-DAMAGE.                                                                        </span>
<a href="#l1.35"></a><span id="l1.35" class="difflineminus">-                                                                               </span>
<a href="#l1.36"></a><span id="l1.36" class="difflineminus">-EACH LICENSOR SPECIFICALLY DISCLAIMS ANY WARRANTIES, EXPRESS OR IMPLIED,       </span>
<a href="#l1.37"></a><span id="l1.37" class="difflineminus">-INCLUDING BUT NOT LIMITED TO ANY WARRANTY OF NONINFRINGEMENT OR THE            </span>
<a href="#l1.38"></a><span id="l1.38" class="difflineminus">-IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR             </span>
<a href="#l1.39"></a><span id="l1.39" class="difflineminus">-PURPOSE.                                                                       </span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+(C) Copyright 1996 Apple Computer, Inc., AT&amp;T Corp., International</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineplus">+Business Machines Corporation and Siemens Rolm Communications Inc.</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineplus">+</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineplus">+For purposes of this license notice, the term Licensors shall mean,</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineplus">+collectively, Apple Computer, Inc., AT&amp;T Corp., International</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineplus">+Business Machines Corporation and Siemens Rolm Communications Inc.</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineplus">+The term Licensor shall mean any of the Licensors.</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineplus">+</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineplus">+Subject to acceptance of the following conditions, permission is hereby</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineplus">+granted by Licensors without the need for written agreement and without</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineplus">+license or royalty fees, to use, copy, modify and distribute this</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineplus">+software for any purpose.</span>
<a href="#l1.52"></a><span id="l1.52" class="difflineplus">+</span>
<a href="#l1.53"></a><span id="l1.53" class="difflineplus">+The above copyright notice and the following four paragraphs must be</span>
<a href="#l1.54"></a><span id="l1.54" class="difflineplus">+reproduced in all copies of this software and any software including</span>
<a href="#l1.55"></a><span id="l1.55" class="difflineplus">+this software.</span>
<a href="#l1.56"></a><span id="l1.56"> </span>
<a href="#l1.57"></a><span id="l1.57" class="difflineminus">-The software is provided with RESTRICTED RIGHTS.  Use, duplication, or         </span>
<a href="#l1.58"></a><span id="l1.58" class="difflineminus">-disclosure by the government are subject to restrictions set forth in          </span>
<a href="#l1.59"></a><span id="l1.59" class="difflineminus">-DFARS 252.227-7013 or 48 CFR 52.227-19, as applicable.                         </span>
<a href="#l1.60"></a><span id="l1.60" class="difflineplus">+THIS SOFTWARE IS PROVIDED ON AN &quot;AS IS&quot; BASIS AND NO LICENSOR SHALL HAVE</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineplus">+ANY OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS OR</span>
<a href="#l1.62"></a><span id="l1.62" class="difflineplus">+MODIFICATIONS.</span>
<a href="#l1.63"></a><span id="l1.63" class="difflineplus">+</span>
<a href="#l1.64"></a><span id="l1.64" class="difflineplus">+IN NO EVENT SHALL ANY LICENSOR BE LIABLE TO ANY PARTY FOR DIRECT,</span>
<a href="#l1.65"></a><span id="l1.65" class="difflineplus">+INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES OR LOST PROFITS ARISING OUT</span>
<a href="#l1.66"></a><span id="l1.66" class="difflineplus">+OF THE USE OF THIS SOFTWARE EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</span>
<a href="#l1.67"></a><span id="l1.67" class="difflineplus">+DAMAGE.</span>
<a href="#l1.68"></a><span id="l1.68" class="difflineplus">+</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineplus">+EACH LICENSOR SPECIFICALLY DISCLAIMS ANY WARRANTIES, EXPRESS OR IMPLIED,</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineplus">+INCLUDING BUT NOT LIMITED TO ANY WARRANTY OF NONINFRINGEMENT OR THE</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineplus">+IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineplus">+PURPOSE.</span>
<a href="#l1.73"></a><span id="l1.73" class="difflineplus">+</span>
<a href="#l1.74"></a><span id="l1.74" class="difflineplus">+The software is provided with RESTRICTED RIGHTS.  Use, duplication, or</span>
<a href="#l1.75"></a><span id="l1.75" class="difflineplus">+disclosure by the government are subject to restrictions set forth in</span>
<a href="#l1.76"></a><span id="l1.76" class="difflineplus">+DFARS 252.227-7013 or 48 CFR 52.227-19, as applicable.</span>
<a href="#l1.77"></a><span id="l1.77"> </span>
<a href="#l1.78"></a><span id="l1.78"> ***************************************************************************/</span>
<a href="#l1.79"></a><span id="l1.79"> </span>
<a href="#l1.80"></a><span id="l1.80"> /*</span>
<a href="#l1.81"></a><span id="l1.81" class="difflineminus">- * doc: vobject and APIs to construct vobject, APIs pretty print </span>
<a href="#l1.82"></a><span id="l1.82" class="difflineplus">+ * doc: vobject and APIs to construct vobject, APIs pretty print</span>
<a href="#l1.83"></a><span id="l1.83">  * vobject, and convert a vobject into its textual representation.</span>
<a href="#l1.84"></a><span id="l1.84">  */</span>
<a href="#l1.85"></a><span id="l1.85"> </span>
<a href="#l1.86"></a><span id="l1.86"> #include &quot;prlog.h&quot;</span>
<a href="#l1.87"></a><span id="l1.87"> #include &quot;nsVCard.h&quot;</span>
<a href="#l1.88"></a><span id="l1.88"> #include &quot;nsVCardObj.h&quot;</span>
<a href="#l1.89"></a><span id="l1.89"> #include &quot;prmem.h&quot;</span>
<a href="#l1.90"></a><span id="l1.90"> #include &quot;plstr.h&quot;</span>
<a href="#l1.91"></a><span id="l1.91" class="difflineat">@@ -56,383 +56,383 @@ DFARS 252.227-7013 or 48 CFR 52.227-19, </span>
<a href="#l1.92"></a><span id="l1.92"> </span>
<a href="#l1.93"></a><span id="l1.93"> /* debugging utilities */</span>
<a href="#l1.94"></a><span id="l1.94"> #define DBG_(x)</span>
<a href="#l1.95"></a><span id="l1.95"> </span>
<a href="#l1.96"></a><span id="l1.96"> #ifdef __cplusplus</span>
<a href="#l1.97"></a><span id="l1.97"> extern &quot;C&quot; {</span>
<a href="#l1.98"></a><span id="l1.98"> #endif</span>
<a href="#l1.99"></a><span id="l1.99"> </span>
<a href="#l1.100"></a><span id="l1.100" class="difflineminus">-  char    **fieldedProp;</span>
<a href="#l1.101"></a><span id="l1.101" class="difflineplus">+char **fieldedProp;</span>
<a href="#l1.102"></a><span id="l1.102"> </span>
<a href="#l1.103"></a><span id="l1.103"> #ifdef __cplusplus</span>
<a href="#l1.104"></a><span id="l1.104" class="difflineminus">-    }</span>
<a href="#l1.105"></a><span id="l1.105" class="difflineplus">+}</span>
<a href="#l1.106"></a><span id="l1.106"> #endif</span>
<a href="#l1.107"></a><span id="l1.107"> </span>
<a href="#l1.108"></a><span id="l1.108"> </span>
<a href="#l1.109"></a><span id="l1.109"> </span>
<a href="#l1.110"></a><span id="l1.110"> static VObject* newVObject_(const char *id);</span>
<a href="#l1.111"></a><span id="l1.111"> #if 0</span>
<a href="#l1.112"></a><span id="l1.112"> static int vObjectValueType(VObject *o);</span>
<a href="#l1.113"></a><span id="l1.113"> static void initVObjectIterator(VObjectIterator *i, VObject *o);</span>
<a href="#l1.114"></a><span id="l1.114"> #endif</span>
<a href="#l1.115"></a><span id="l1.115"> </span>
<a href="#l1.116"></a><span id="l1.116"> /*----------------------------------------------------------------------</span>
<a href="#l1.117"></a><span id="l1.117" class="difflineminus">-   The following functions involve with memory allocation:</span>
<a href="#l1.118"></a><span id="l1.118" class="difflineplus">+  The following functions involve with memory allocation:</span>
<a href="#l1.119"></a><span id="l1.119">   newVObject</span>
<a href="#l1.120"></a><span id="l1.120">   deleteVObject</span>
<a href="#l1.121"></a><span id="l1.121">   dupStr</span>
<a href="#l1.122"></a><span id="l1.122">   deleteString</span>
<a href="#l1.123"></a><span id="l1.123">   newStrItem</span>
<a href="#l1.124"></a><span id="l1.124">   deleteStrItem</span>
<a href="#l1.125"></a><span id="l1.125" class="difflineminus">-   ----------------------------------------------------------------------*/</span>
<a href="#l1.126"></a><span id="l1.126" class="difflineplus">+  ----------------------------------------------------------------------*/</span>
<a href="#l1.127"></a><span id="l1.127"> </span>
<a href="#l1.128"></a><span id="l1.128"> static bool needsQuotedPrintable (const char *s)</span>
<a href="#l1.129"></a><span id="l1.129"> {</span>
<a href="#l1.130"></a><span id="l1.130">   const unsigned char *p = (const unsigned char *)s;</span>
<a href="#l1.131"></a><span id="l1.131"> </span>
<a href="#l1.132"></a><span id="l1.132">   while (*p) {</span>
<a href="#l1.133"></a><span id="l1.133">     if (*p &amp; 0x80 || *p == '\015' || *p == '\012')</span>
<a href="#l1.134"></a><span id="l1.134">       return true;</span>
<a href="#l1.135"></a><span id="l1.135">     p++;</span>
<a href="#l1.136"></a><span id="l1.136">   }</span>
<a href="#l1.137"></a><span id="l1.137"> </span>
<a href="#l1.138"></a><span id="l1.138">   return false;</span>
<a href="#l1.139"></a><span id="l1.139"> }</span>
<a href="#l1.140"></a><span id="l1.140"> </span>
<a href="#l1.141"></a><span id="l1.141"> VObject* newVObject_(const char *id)</span>
<a href="#l1.142"></a><span id="l1.142"> {</span>
<a href="#l1.143"></a><span id="l1.143" class="difflineminus">-    VObject *p = (VObject*) new(VObject);</span>
<a href="#l1.144"></a><span id="l1.144" class="difflineminus">-    p-&gt;next = 0;</span>
<a href="#l1.145"></a><span id="l1.145" class="difflineminus">-    p-&gt;id = id;</span>
<a href="#l1.146"></a><span id="l1.146" class="difflineminus">-    p-&gt;prop = 0;</span>
<a href="#l1.147"></a><span id="l1.147" class="difflineminus">-    VALUE_TYPE(p) = 0;</span>
<a href="#l1.148"></a><span id="l1.148" class="difflineplus">+  VObject *p = (VObject*) new(VObject);</span>
<a href="#l1.149"></a><span id="l1.149" class="difflineplus">+  p-&gt;next = 0;</span>
<a href="#l1.150"></a><span id="l1.150" class="difflineplus">+  p-&gt;id = id;</span>
<a href="#l1.151"></a><span id="l1.151" class="difflineplus">+  p-&gt;prop = 0;</span>
<a href="#l1.152"></a><span id="l1.152" class="difflineplus">+  VALUE_TYPE(p) = 0;</span>
<a href="#l1.153"></a><span id="l1.153">   ANY_VALUE_OF(p) = 0;</span>
<a href="#l1.154"></a><span id="l1.154" class="difflineminus">-    return p;</span>
<a href="#l1.155"></a><span id="l1.155" class="difflineplus">+  return p;</span>
<a href="#l1.156"></a><span id="l1.156"> }</span>
<a href="#l1.157"></a><span id="l1.157"> </span>
<a href="#l1.158"></a><span id="l1.158"> VObject* newVObject(const char *id)</span>
<a href="#l1.159"></a><span id="l1.159"> {</span>
<a href="#l1.160"></a><span id="l1.160" class="difflineminus">-    return newVObject_(lookupStr(id));</span>
<a href="#l1.161"></a><span id="l1.161" class="difflineplus">+  return newVObject_(lookupStr(id));</span>
<a href="#l1.162"></a><span id="l1.162"> }</span>
<a href="#l1.163"></a><span id="l1.163"> </span>
<a href="#l1.164"></a><span id="l1.164"> void deleteVObject(VObject *p)</span>
<a href="#l1.165"></a><span id="l1.165"> {</span>
<a href="#l1.166"></a><span id="l1.166" class="difflineminus">-    unUseStr(p-&gt;id);</span>
<a href="#l1.167"></a><span id="l1.167" class="difflineminus">-    delete (p);</span>
<a href="#l1.168"></a><span id="l1.168" class="difflineplus">+  unUseStr(p-&gt;id);</span>
<a href="#l1.169"></a><span id="l1.169" class="difflineplus">+  delete (p);</span>
<a href="#l1.170"></a><span id="l1.170"> }</span>
<a href="#l1.171"></a><span id="l1.171"> </span>
<a href="#l1.172"></a><span id="l1.172"> char* dupStr(const char *s, unsigned int size)</span>
<a href="#l1.173"></a><span id="l1.173"> {</span>
<a href="#l1.174"></a><span id="l1.174" class="difflineminus">-    char *t;</span>
<a href="#l1.175"></a><span id="l1.175" class="difflineminus">-    if  (size == 0) {</span>
<a href="#l1.176"></a><span id="l1.176" class="difflineminus">-  size = PL_strlen(s);</span>
<a href="#l1.177"></a><span id="l1.177" class="difflineplus">+  char *t;</span>
<a href="#l1.178"></a><span id="l1.178" class="difflineplus">+  if  (size == 0) {</span>
<a href="#l1.179"></a><span id="l1.179" class="difflineplus">+    size = PL_strlen(s);</span>
<a href="#l1.180"></a><span id="l1.180">   }</span>
<a href="#l1.181"></a><span id="l1.181">   t = (char*)PR_CALLOC(size+1);</span>
<a href="#l1.182"></a><span id="l1.182">   if (t) {</span>
<a href="#l1.183"></a><span id="l1.183" class="difflineminus">-  memcpy(t,s,size);</span>
<a href="#l1.184"></a><span id="l1.184" class="difflineminus">-  t[size] = 0;</span>
<a href="#l1.185"></a><span id="l1.185" class="difflineminus">-  return t;</span>
<a href="#l1.186"></a><span id="l1.186" class="difflineplus">+    memcpy(t,s,size);</span>
<a href="#l1.187"></a><span id="l1.187" class="difflineplus">+    t[size] = 0;</span>
<a href="#l1.188"></a><span id="l1.188" class="difflineplus">+    return t;</span>
<a href="#l1.189"></a><span id="l1.189">   }</span>
<a href="#l1.190"></a><span id="l1.190" class="difflineminus">-    else {</span>
<a href="#l1.191"></a><span id="l1.191" class="difflineminus">-  return (char*)0;</span>
<a href="#l1.192"></a><span id="l1.192" class="difflineplus">+  else {</span>
<a href="#l1.193"></a><span id="l1.193" class="difflineplus">+    return (char*)0;</span>
<a href="#l1.194"></a><span id="l1.194">   }</span>
<a href="#l1.195"></a><span id="l1.195"> }</span>
<a href="#l1.196"></a><span id="l1.196"> </span>
<a href="#l1.197"></a><span id="l1.197"> static StrItem* newStrItem(const char *s, StrItem *next)</span>
<a href="#l1.198"></a><span id="l1.198"> {</span>
<a href="#l1.199"></a><span id="l1.199" class="difflineminus">-    StrItem *p = (StrItem*)PR_CALLOC(sizeof(StrItem));</span>
<a href="#l1.200"></a><span id="l1.200" class="difflineminus">-    p-&gt;next = next;</span>
<a href="#l1.201"></a><span id="l1.201" class="difflineminus">-    p-&gt;s = s;</span>
<a href="#l1.202"></a><span id="l1.202" class="difflineminus">-    p-&gt;refCnt = 1;</span>
<a href="#l1.203"></a><span id="l1.203" class="difflineminus">-    return p;</span>
<a href="#l1.204"></a><span id="l1.204" class="difflineplus">+  StrItem *p = (StrItem*)PR_CALLOC(sizeof(StrItem));</span>
<a href="#l1.205"></a><span id="l1.205" class="difflineplus">+  p-&gt;next = next;</span>
<a href="#l1.206"></a><span id="l1.206" class="difflineplus">+  p-&gt;s = s;</span>
<a href="#l1.207"></a><span id="l1.207" class="difflineplus">+  p-&gt;refCnt = 1;</span>
<a href="#l1.208"></a><span id="l1.208" class="difflineplus">+  return p;</span>
<a href="#l1.209"></a><span id="l1.209"> }</span>
<a href="#l1.210"></a><span id="l1.210"> </span>
<a href="#l1.211"></a><span id="l1.211" class="difflineminus">-extern &quot;C&quot; </span>
<a href="#l1.212"></a><span id="l1.212" class="difflineplus">+extern &quot;C&quot;</span>
<a href="#l1.213"></a><span id="l1.213"> void deleteString(char *p)</span>
<a href="#l1.214"></a><span id="l1.214"> {</span>
<a href="#l1.215"></a><span id="l1.215" class="difflineminus">-    if (p) </span>
<a href="#l1.216"></a><span id="l1.216" class="difflineminus">-      PR_Free ((void*)p);</span>
<a href="#l1.217"></a><span id="l1.217" class="difflineplus">+  if (p)</span>
<a href="#l1.218"></a><span id="l1.218" class="difflineplus">+    PR_Free ((void*)p);</span>
<a href="#l1.219"></a><span id="l1.219"> }</span>
<a href="#l1.220"></a><span id="l1.220"> </span>
<a href="#l1.221"></a><span id="l1.221"> extern &quot;C&quot;</span>
<a href="#l1.222"></a><span id="l1.222"> void deleteStrItem(StrItem *p)</span>
<a href="#l1.223"></a><span id="l1.223"> {</span>
<a href="#l1.224"></a><span id="l1.224" class="difflineminus">-    if (p) </span>
<a href="#l1.225"></a><span id="l1.225" class="difflineminus">-      PR_FREEIF (p);</span>
<a href="#l1.226"></a><span id="l1.226" class="difflineplus">+  if (p)</span>
<a href="#l1.227"></a><span id="l1.227" class="difflineplus">+    PR_FREEIF (p);</span>
<a href="#l1.228"></a><span id="l1.228"> }</span>
<a href="#l1.229"></a><span id="l1.229"> </span>
<a href="#l1.230"></a><span id="l1.230"> </span>
<a href="#l1.231"></a><span id="l1.231"> </span>
<a href="#l1.232"></a><span id="l1.232"> /*----------------------------------------------------------------------</span>
<a href="#l1.233"></a><span id="l1.233">   The following function provide accesses to VObject's value.</span>
<a href="#l1.234"></a><span id="l1.234">   ----------------------------------------------------------------------*/</span>
<a href="#l1.235"></a><span id="l1.235"> </span>
<a href="#l1.236"></a><span id="l1.236"> const char* vObjectName(VObject *o)</span>
<a href="#l1.237"></a><span id="l1.237"> {</span>
<a href="#l1.238"></a><span id="l1.238" class="difflineminus">-    return NAME_OF(o);</span>
<a href="#l1.239"></a><span id="l1.239" class="difflineplus">+  return NAME_OF(o);</span>
<a href="#l1.240"></a><span id="l1.240"> }</span>
<a href="#l1.241"></a><span id="l1.241"> </span>
<a href="#l1.242"></a><span id="l1.242"> void setVObjectName(VObject *o, const char* id)</span>
<a href="#l1.243"></a><span id="l1.243"> {</span>
<a href="#l1.244"></a><span id="l1.244" class="difflineminus">-    NAME_OF(o) = id;</span>
<a href="#l1.245"></a><span id="l1.245" class="difflineplus">+  NAME_OF(o) = id;</span>
<a href="#l1.246"></a><span id="l1.246"> }</span>
<a href="#l1.247"></a><span id="l1.247"> </span>
<a href="#l1.248"></a><span id="l1.248"> const char* vObjectStringZValue(VObject *o)</span>
<a href="#l1.249"></a><span id="l1.249"> {</span>
<a href="#l1.250"></a><span id="l1.250" class="difflineminus">-    return STRINGZ_VALUE_OF(o);</span>
<a href="#l1.251"></a><span id="l1.251" class="difflineplus">+  return STRINGZ_VALUE_OF(o);</span>
<a href="#l1.252"></a><span id="l1.252"> }</span>
<a href="#l1.253"></a><span id="l1.253"> </span>
<a href="#l1.254"></a><span id="l1.254"> void setVObjectStringZValue(VObject *o, const char *s)</span>
<a href="#l1.255"></a><span id="l1.255"> {</span>
<a href="#l1.256"></a><span id="l1.256" class="difflineminus">-    STRINGZ_VALUE_OF(o) = dupStr(s,0);</span>
<a href="#l1.257"></a><span id="l1.257" class="difflineminus">-    VALUE_TYPE(o) = VCVT_STRINGZ;</span>
<a href="#l1.258"></a><span id="l1.258" class="difflineplus">+  STRINGZ_VALUE_OF(o) = dupStr(s,0);</span>
<a href="#l1.259"></a><span id="l1.259" class="difflineplus">+  VALUE_TYPE(o) = VCVT_STRINGZ;</span>
<a href="#l1.260"></a><span id="l1.260"> }</span>
<a href="#l1.261"></a><span id="l1.261"> </span>
<a href="#l1.262"></a><span id="l1.262"> void setVObjectStringZValue_(VObject *o, const char *s)</span>
<a href="#l1.263"></a><span id="l1.263"> {</span>
<a href="#l1.264"></a><span id="l1.264" class="difflineminus">-    STRINGZ_VALUE_OF(o) = s;</span>
<a href="#l1.265"></a><span id="l1.265" class="difflineminus">-    VALUE_TYPE(o) = VCVT_STRINGZ;</span>
<a href="#l1.266"></a><span id="l1.266" class="difflineplus">+  STRINGZ_VALUE_OF(o) = s;</span>
<a href="#l1.267"></a><span id="l1.267" class="difflineplus">+  VALUE_TYPE(o) = VCVT_STRINGZ;</span>
<a href="#l1.268"></a><span id="l1.268"> }</span>
<a href="#l1.269"></a><span id="l1.269"> </span>
<a href="#l1.270"></a><span id="l1.270"> const vwchar_t* vObjectUStringZValue(VObject *o)</span>
<a href="#l1.271"></a><span id="l1.271"> {</span>
<a href="#l1.272"></a><span id="l1.272" class="difflineminus">-    return USTRINGZ_VALUE_OF(o);</span>
<a href="#l1.273"></a><span id="l1.273" class="difflineplus">+  return USTRINGZ_VALUE_OF(o);</span>
<a href="#l1.274"></a><span id="l1.274"> }</span>
<a href="#l1.275"></a><span id="l1.275"> </span>
<a href="#l1.276"></a><span id="l1.276"> void setVObjectUStringZValue(VObject *o, const vwchar_t *s)</span>
<a href="#l1.277"></a><span id="l1.277"> {</span>
<a href="#l1.278"></a><span id="l1.278" class="difflineminus">-    USTRINGZ_VALUE_OF(o) = (vwchar_t*) dupStr((char*)s,(uStrLen(s)+1)*2);</span>
<a href="#l1.279"></a><span id="l1.279" class="difflineminus">-    VALUE_TYPE(o) = VCVT_USTRINGZ;</span>
<a href="#l1.280"></a><span id="l1.280" class="difflineplus">+  USTRINGZ_VALUE_OF(o) = (vwchar_t*) dupStr((char*)s,(uStrLen(s)+1)*2);</span>
<a href="#l1.281"></a><span id="l1.281" class="difflineplus">+  VALUE_TYPE(o) = VCVT_USTRINGZ;</span>
<a href="#l1.282"></a><span id="l1.282"> }</span>
<a href="#l1.283"></a><span id="l1.283"> </span>
<a href="#l1.284"></a><span id="l1.284"> void setVObjectUStringZValue_(VObject *o, const vwchar_t *s)</span>
<a href="#l1.285"></a><span id="l1.285"> {</span>
<a href="#l1.286"></a><span id="l1.286" class="difflineminus">-    USTRINGZ_VALUE_OF(o) = s;</span>
<a href="#l1.287"></a><span id="l1.287" class="difflineminus">-    VALUE_TYPE(o) = VCVT_USTRINGZ;</span>
<a href="#l1.288"></a><span id="l1.288" class="difflineplus">+  USTRINGZ_VALUE_OF(o) = s;</span>
<a href="#l1.289"></a><span id="l1.289" class="difflineplus">+  VALUE_TYPE(o) = VCVT_USTRINGZ;</span>
<a href="#l1.290"></a><span id="l1.290"> }</span>
<a href="#l1.291"></a><span id="l1.291"> </span>
<a href="#l1.292"></a><span id="l1.292"> unsigned int vObjectIntegerValue(VObject *o)</span>
<a href="#l1.293"></a><span id="l1.293"> {</span>
<a href="#l1.294"></a><span id="l1.294" class="difflineminus">-    return INTEGER_VALUE_OF(o);</span>
<a href="#l1.295"></a><span id="l1.295" class="difflineplus">+  return INTEGER_VALUE_OF(o);</span>
<a href="#l1.296"></a><span id="l1.296"> }</span>
<a href="#l1.297"></a><span id="l1.297"> </span>
<a href="#l1.298"></a><span id="l1.298"> void setVObjectIntegerValue(VObject *o, unsigned int i)</span>
<a href="#l1.299"></a><span id="l1.299"> {</span>
<a href="#l1.300"></a><span id="l1.300" class="difflineminus">-    INTEGER_VALUE_OF(o) = i;</span>
<a href="#l1.301"></a><span id="l1.301" class="difflineminus">-    VALUE_TYPE(o) = VCVT_UINT;</span>
<a href="#l1.302"></a><span id="l1.302" class="difflineplus">+  INTEGER_VALUE_OF(o) = i;</span>
<a href="#l1.303"></a><span id="l1.303" class="difflineplus">+  VALUE_TYPE(o) = VCVT_UINT;</span>
<a href="#l1.304"></a><span id="l1.304"> }</span>
<a href="#l1.305"></a><span id="l1.305"> </span>
<a href="#l1.306"></a><span id="l1.306"> unsigned long vObjectLongValue(VObject *o)</span>
<a href="#l1.307"></a><span id="l1.307"> {</span>
<a href="#l1.308"></a><span id="l1.308" class="difflineminus">-    return LONG_VALUE_OF(o);</span>
<a href="#l1.309"></a><span id="l1.309" class="difflineplus">+  return LONG_VALUE_OF(o);</span>
<a href="#l1.310"></a><span id="l1.310"> }</span>
<a href="#l1.311"></a><span id="l1.311"> </span>
<a href="#l1.312"></a><span id="l1.312"> void setVObjectLongValue(VObject *o, unsigned long l)</span>
<a href="#l1.313"></a><span id="l1.313"> {</span>
<a href="#l1.314"></a><span id="l1.314" class="difflineminus">-    LONG_VALUE_OF(o) = l;</span>
<a href="#l1.315"></a><span id="l1.315" class="difflineminus">-    VALUE_TYPE(o) = VCVT_ULONG;</span>
<a href="#l1.316"></a><span id="l1.316" class="difflineplus">+  LONG_VALUE_OF(o) = l;</span>
<a href="#l1.317"></a><span id="l1.317" class="difflineplus">+  VALUE_TYPE(o) = VCVT_ULONG;</span>
<a href="#l1.318"></a><span id="l1.318"> }</span>
<a href="#l1.319"></a><span id="l1.319"> </span>
<a href="#l1.320"></a><span id="l1.320"> void* vObjectAnyValue(VObject *o)</span>
<a href="#l1.321"></a><span id="l1.321"> {</span>
<a href="#l1.322"></a><span id="l1.322" class="difflineminus">-    return ANY_VALUE_OF(o);</span>
<a href="#l1.323"></a><span id="l1.323" class="difflineplus">+  return ANY_VALUE_OF(o);</span>
<a href="#l1.324"></a><span id="l1.324"> }</span>
<a href="#l1.325"></a><span id="l1.325"> </span>
<a href="#l1.326"></a><span id="l1.326"> void setVObjectAnyValue(VObject *o, void *t)</span>
<a href="#l1.327"></a><span id="l1.327"> {</span>
<a href="#l1.328"></a><span id="l1.328" class="difflineminus">-    ANY_VALUE_OF(o) = t;</span>
<a href="#l1.329"></a><span id="l1.329" class="difflineminus">-    VALUE_TYPE(o) = VCVT_RAW;</span>
<a href="#l1.330"></a><span id="l1.330" class="difflineplus">+  ANY_VALUE_OF(o) = t;</span>
<a href="#l1.331"></a><span id="l1.331" class="difflineplus">+  VALUE_TYPE(o) = VCVT_RAW;</span>
<a href="#l1.332"></a><span id="l1.332"> }</span>
<a href="#l1.333"></a><span id="l1.333"> </span>
<a href="#l1.334"></a><span id="l1.334"> VObject* vObjectVObjectValue(VObject *o)</span>
<a href="#l1.335"></a><span id="l1.335"> {</span>
<a href="#l1.336"></a><span id="l1.336" class="difflineminus">-    return VOBJECT_VALUE_OF(o);</span>
<a href="#l1.337"></a><span id="l1.337" class="difflineplus">+  return VOBJECT_VALUE_OF(o);</span>
<a href="#l1.338"></a><span id="l1.338"> }</span>
<a href="#l1.339"></a><span id="l1.339"> </span>
<a href="#l1.340"></a><span id="l1.340"> void setVObjectVObjectValue(VObject *o, VObject *p)</span>
<a href="#l1.341"></a><span id="l1.341"> {</span>
<a href="#l1.342"></a><span id="l1.342" class="difflineminus">-    VOBJECT_VALUE_OF(o) = p;</span>
<a href="#l1.343"></a><span id="l1.343" class="difflineminus">-    VALUE_TYPE(o) = VCVT_VOBJECT;</span>
<a href="#l1.344"></a><span id="l1.344" class="difflineplus">+  VOBJECT_VALUE_OF(o) = p;</span>
<a href="#l1.345"></a><span id="l1.345" class="difflineplus">+  VALUE_TYPE(o) = VCVT_VOBJECT;</span>
<a href="#l1.346"></a><span id="l1.346"> }</span>
<a href="#l1.347"></a><span id="l1.347"> </span>
<a href="#l1.348"></a><span id="l1.348"> #if 0</span>
<a href="#l1.349"></a><span id="l1.349"> int vObjectValueType(VObject *o)</span>
<a href="#l1.350"></a><span id="l1.350"> {</span>
<a href="#l1.351"></a><span id="l1.351" class="difflineminus">-    return VALUE_TYPE(o);</span>
<a href="#l1.352"></a><span id="l1.352" class="difflineplus">+  return VALUE_TYPE(o);</span>
<a href="#l1.353"></a><span id="l1.353"> }</span>
<a href="#l1.354"></a><span id="l1.354"> #endif</span>
<a href="#l1.355"></a><span id="l1.355"> </span>
<a href="#l1.356"></a><span id="l1.356"> </span>
<a href="#l1.357"></a><span id="l1.357"> /*----------------------------------------------------------------------</span>
<a href="#l1.358"></a><span id="l1.358">   The following functions can be used to build VObject.</span>
<a href="#l1.359"></a><span id="l1.359">   ----------------------------------------------------------------------*/</span>
<a href="#l1.360"></a><span id="l1.360"> </span>
<a href="#l1.361"></a><span id="l1.361"> VObject* addVObjectProp(VObject *o, VObject *p)</span>
<a href="#l1.362"></a><span id="l1.362"> {</span>
<a href="#l1.363"></a><span id="l1.363" class="difflineminus">-    /* circular link list pointed to tail */</span>
<a href="#l1.364"></a><span id="l1.364" class="difflineminus">-    /*</span>
<a href="#l1.365"></a><span id="l1.365" class="difflineminus">-    o {next,id,prop,val}</span>
<a href="#l1.366"></a><span id="l1.366" class="difflineminus">-                V</span>
<a href="#l1.367"></a><span id="l1.367" class="difflineplus">+  /* circular link list pointed to tail */</span>
<a href="#l1.368"></a><span id="l1.368" class="difflineplus">+  /*</span>
<a href="#l1.369"></a><span id="l1.369" class="difflineplus">+  o {next,id,prop,val}</span>
<a href="#l1.370"></a><span id="l1.370" class="difflineplus">+             V</span>
<a href="#l1.371"></a><span id="l1.371">   pn {next,id,prop,val}</span>
<a href="#l1.372"></a><span id="l1.372">              V</span>
<a href="#l1.373"></a><span id="l1.373" class="difflineminus">-      ...</span>
<a href="#l1.374"></a><span id="l1.374" class="difflineplus">+  ...</span>
<a href="#l1.375"></a><span id="l1.375">   p1 {next,id,prop,val}</span>
<a href="#l1.376"></a><span id="l1.376">              V</span>
<a href="#l1.377"></a><span id="l1.377" class="difflineminus">-       pn</span>
<a href="#l1.378"></a><span id="l1.378" class="difflineminus">-    --&gt;</span>
<a href="#l1.379"></a><span id="l1.379" class="difflineminus">-    o {next,id,prop,val}</span>
<a href="#l1.380"></a><span id="l1.380" class="difflineminus">-                V</span>
<a href="#l1.381"></a><span id="l1.381" class="difflineplus">+  pn</span>
<a href="#l1.382"></a><span id="l1.382" class="difflineplus">+  --&gt;</span>
<a href="#l1.383"></a><span id="l1.383" class="difflineplus">+  o {next,id,prop,val}</span>
<a href="#l1.384"></a><span id="l1.384" class="difflineplus">+             V</span>
<a href="#l1.385"></a><span id="l1.385">   pn {next,id,prop,val}</span>
<a href="#l1.386"></a><span id="l1.386">              V</span>
<a href="#l1.387"></a><span id="l1.387">   p {next,id,prop,val}</span>
<a href="#l1.388"></a><span id="l1.388" class="difflineminus">-      ...</span>
<a href="#l1.389"></a><span id="l1.389" class="difflineplus">+  ...</span>
<a href="#l1.390"></a><span id="l1.390">   p1 {next,id,prop,val}</span>
<a href="#l1.391"></a><span id="l1.391">              V</span>
<a href="#l1.392"></a><span id="l1.392" class="difflineminus">-       pn</span>
<a href="#l1.393"></a><span id="l1.393" class="difflineminus">-    */</span>
<a href="#l1.394"></a><span id="l1.394" class="difflineplus">+  pn</span>
<a href="#l1.395"></a><span id="l1.395" class="difflineplus">+  */</span>
<a href="#l1.396"></a><span id="l1.396"> </span>
<a href="#l1.397"></a><span id="l1.397" class="difflineminus">-    VObject *tail = o-&gt;prop;</span>
<a href="#l1.398"></a><span id="l1.398" class="difflineminus">-    if (tail) {</span>
<a href="#l1.399"></a><span id="l1.399" class="difflineminus">-  p-&gt;next = tail-&gt;next;</span>
<a href="#l1.400"></a><span id="l1.400" class="difflineminus">-  o-&gt;prop = tail-&gt;next = p;</span>
<a href="#l1.401"></a><span id="l1.401" class="difflineplus">+  VObject *tail = o-&gt;prop;</span>
<a href="#l1.402"></a><span id="l1.402" class="difflineplus">+  if (tail) {</span>
<a href="#l1.403"></a><span id="l1.403" class="difflineplus">+    p-&gt;next = tail-&gt;next;</span>
<a href="#l1.404"></a><span id="l1.404" class="difflineplus">+    o-&gt;prop = tail-&gt;next = p;</span>
<a href="#l1.405"></a><span id="l1.405">   }</span>
<a href="#l1.406"></a><span id="l1.406" class="difflineminus">-    else {</span>
<a href="#l1.407"></a><span id="l1.407" class="difflineminus">-  o-&gt;prop = p-&gt;next = p;</span>
<a href="#l1.408"></a><span id="l1.408" class="difflineplus">+  else {</span>
<a href="#l1.409"></a><span id="l1.409" class="difflineplus">+    o-&gt;prop = p-&gt;next = p;</span>
<a href="#l1.410"></a><span id="l1.410">   }</span>
<a href="#l1.411"></a><span id="l1.411" class="difflineminus">-    return p;</span>
<a href="#l1.412"></a><span id="l1.412" class="difflineplus">+  return p;</span>
<a href="#l1.413"></a><span id="l1.413"> }</span>
<a href="#l1.414"></a><span id="l1.414"> </span>
<a href="#l1.415"></a><span id="l1.415"> VObject* addProp(VObject *o, const char *id)</span>
<a href="#l1.416"></a><span id="l1.416"> {</span>
<a href="#l1.417"></a><span id="l1.417" class="difflineminus">-    return addVObjectProp(o,newVObject(id));</span>
<a href="#l1.418"></a><span id="l1.418" class="difflineplus">+  return addVObjectProp(o,newVObject(id));</span>
<a href="#l1.419"></a><span id="l1.419"> }</span>
<a href="#l1.420"></a><span id="l1.420"> </span>
<a href="#l1.421"></a><span id="l1.421"> VObject* addProp_(VObject *o, const char *id)</span>
<a href="#l1.422"></a><span id="l1.422"> {</span>
<a href="#l1.423"></a><span id="l1.423" class="difflineminus">-    return addVObjectProp(o,newVObject_(id));</span>
<a href="#l1.424"></a><span id="l1.424" class="difflineplus">+  return addVObjectProp(o,newVObject_(id));</span>
<a href="#l1.425"></a><span id="l1.425"> }</span>
<a href="#l1.426"></a><span id="l1.426"> </span>
<a href="#l1.427"></a><span id="l1.427"> void addList(VObject **o, VObject *p)</span>
<a href="#l1.428"></a><span id="l1.428"> {</span>
<a href="#l1.429"></a><span id="l1.429" class="difflineminus">-    p-&gt;next = 0;</span>
<a href="#l1.430"></a><span id="l1.430" class="difflineminus">-    if (*o == 0) {</span>
<a href="#l1.431"></a><span id="l1.431" class="difflineminus">-  *o = p;</span>
<a href="#l1.432"></a><span id="l1.432" class="difflineplus">+  p-&gt;next = 0;</span>
<a href="#l1.433"></a><span id="l1.433" class="difflineplus">+  if (*o == 0) {</span>
<a href="#l1.434"></a><span id="l1.434" class="difflineplus">+    *o = p;</span>
<a href="#l1.435"></a><span id="l1.435">   }</span>
<a href="#l1.436"></a><span id="l1.436" class="difflineminus">-    else {</span>
<a href="#l1.437"></a><span id="l1.437" class="difflineminus">-  VObject *t = *o;</span>
<a href="#l1.438"></a><span id="l1.438" class="difflineminus">-  while (t-&gt;next) {</span>
<a href="#l1.439"></a><span id="l1.439" class="difflineminus">-     t = t-&gt;next;</span>
<a href="#l1.440"></a><span id="l1.440" class="difflineminus">-     }</span>
<a href="#l1.441"></a><span id="l1.441" class="difflineminus">-  t-&gt;next = p;</span>
<a href="#l1.442"></a><span id="l1.442" class="difflineplus">+  else {</span>
<a href="#l1.443"></a><span id="l1.443" class="difflineplus">+    VObject *t = *o;</span>
<a href="#l1.444"></a><span id="l1.444" class="difflineplus">+    while (t-&gt;next) {</span>
<a href="#l1.445"></a><span id="l1.445" class="difflineplus">+      t = t-&gt;next;</span>
<a href="#l1.446"></a><span id="l1.446" class="difflineplus">+    }</span>
<a href="#l1.447"></a><span id="l1.447" class="difflineplus">+    t-&gt;next = p;</span>
<a href="#l1.448"></a><span id="l1.448">   }</span>
<a href="#l1.449"></a><span id="l1.449"> }</span>
<a href="#l1.450"></a><span id="l1.450"> </span>
<a href="#l1.451"></a><span id="l1.451"> VObject* nextVObjectInList(VObject *o)</span>
<a href="#l1.452"></a><span id="l1.452"> {</span>
<a href="#l1.453"></a><span id="l1.453" class="difflineminus">-    return o-&gt;next;</span>
<a href="#l1.454"></a><span id="l1.454" class="difflineplus">+  return o-&gt;next;</span>
<a href="#l1.455"></a><span id="l1.455"> }</span>
<a href="#l1.456"></a><span id="l1.456"> </span>
<a href="#l1.457"></a><span id="l1.457"> VObject* setValueWithSize_(VObject *prop, void *val, unsigned int size)</span>
<a href="#l1.458"></a><span id="l1.458"> {</span>
<a href="#l1.459"></a><span id="l1.459" class="difflineminus">-    VObject *sizeProp;</span>
<a href="#l1.460"></a><span id="l1.460" class="difflineminus">-    setVObjectAnyValue(prop, val);</span>
<a href="#l1.461"></a><span id="l1.461" class="difflineminus">-    sizeProp = addProp(prop,VCDataSizeProp);</span>
<a href="#l1.462"></a><span id="l1.462" class="difflineminus">-    setVObjectLongValue(sizeProp, size);</span>
<a href="#l1.463"></a><span id="l1.463" class="difflineminus">-    return prop;</span>
<a href="#l1.464"></a><span id="l1.464" class="difflineplus">+  VObject *sizeProp;</span>
<a href="#l1.465"></a><span id="l1.465" class="difflineplus">+  setVObjectAnyValue(prop, val);</span>
<a href="#l1.466"></a><span id="l1.466" class="difflineplus">+  sizeProp = addProp(prop,VCDataSizeProp);</span>
<a href="#l1.467"></a><span id="l1.467" class="difflineplus">+  setVObjectLongValue(sizeProp, size);</span>
<a href="#l1.468"></a><span id="l1.468" class="difflineplus">+  return prop;</span>
<a href="#l1.469"></a><span id="l1.469"> }</span>
<a href="#l1.470"></a><span id="l1.470"> </span>
<a href="#l1.471"></a><span id="l1.471"> VObject* setValueWithSize(VObject *prop, void *val, unsigned int size)</span>
<a href="#l1.472"></a><span id="l1.472"> {</span>
<a href="#l1.473"></a><span id="l1.473">   void *p = dupStr((const char *)val,size);</span>
<a href="#l1.474"></a><span id="l1.474" class="difflineminus">-    return setValueWithSize_(prop,p,p?size:0);</span>
<a href="#l1.475"></a><span id="l1.475" class="difflineplus">+  return setValueWithSize_(prop,p,p?size:0);</span>
<a href="#l1.476"></a><span id="l1.476"> }</span>
<a href="#l1.477"></a><span id="l1.477"> </span>
<a href="#l1.478"></a><span id="l1.478"> void initPropIterator(VObjectIterator *i, VObject *o)</span>
<a href="#l1.479"></a><span id="l1.479"> {</span>
<a href="#l1.480"></a><span id="l1.480" class="difflineminus">-    i-&gt;start = o-&gt;prop; </span>
<a href="#l1.481"></a><span id="l1.481" class="difflineminus">-    i-&gt;next = 0;</span>
<a href="#l1.482"></a><span id="l1.482" class="difflineplus">+  i-&gt;start = o-&gt;prop;</span>
<a href="#l1.483"></a><span id="l1.483" class="difflineplus">+  i-&gt;next = 0;</span>
<a href="#l1.484"></a><span id="l1.484"> }</span>
<a href="#l1.485"></a><span id="l1.485"> </span>
<a href="#l1.486"></a><span id="l1.486"> #if 0</span>
<a href="#l1.487"></a><span id="l1.487"> void initVObjectIterator(VObjectIterator *i, VObject *o)</span>
<a href="#l1.488"></a><span id="l1.488"> {</span>
<a href="#l1.489"></a><span id="l1.489" class="difflineminus">-    i-&gt;start = o-&gt;next; </span>
<a href="#l1.490"></a><span id="l1.490" class="difflineminus">-    i-&gt;next = 0;</span>
<a href="#l1.491"></a><span id="l1.491" class="difflineplus">+  i-&gt;start = o-&gt;next;</span>
<a href="#l1.492"></a><span id="l1.492" class="difflineplus">+  i-&gt;next = 0;</span>
<a href="#l1.493"></a><span id="l1.493"> }</span>
<a href="#l1.494"></a><span id="l1.494"> #endif</span>
<a href="#l1.495"></a><span id="l1.495"> </span>
<a href="#l1.496"></a><span id="l1.496"> int moreIteration(VObjectIterator *i)</span>
<a href="#l1.497"></a><span id="l1.497" class="difflineminus">-{ </span>
<a href="#l1.498"></a><span id="l1.498" class="difflineminus">-    return (i-&gt;start &amp;&amp; (i-&gt;next==0 || i-&gt;next!=i-&gt;start));</span>
<a href="#l1.499"></a><span id="l1.499" class="difflineplus">+{</span>
<a href="#l1.500"></a><span id="l1.500" class="difflineplus">+  return (i-&gt;start &amp;&amp; (i-&gt;next==0 || i-&gt;next!=i-&gt;start));</span>
<a href="#l1.501"></a><span id="l1.501"> }</span>
<a href="#l1.502"></a><span id="l1.502"> </span>
<a href="#l1.503"></a><span id="l1.503"> VObject* nextVObject(VObjectIterator *i)</span>
<a href="#l1.504"></a><span id="l1.504"> {</span>
<a href="#l1.505"></a><span id="l1.505" class="difflineminus">-    if (i-&gt;start &amp;&amp; i-&gt;next != i-&gt;start) {</span>
<a href="#l1.506"></a><span id="l1.506" class="difflineminus">-  if (i-&gt;next == 0) {</span>
<a href="#l1.507"></a><span id="l1.507" class="difflineplus">+  if (i-&gt;start &amp;&amp; i-&gt;next != i-&gt;start) {</span>
<a href="#l1.508"></a><span id="l1.508" class="difflineplus">+    if (i-&gt;next == 0) {</span>
<a href="#l1.509"></a><span id="l1.509">       i-&gt;next = i-&gt;start-&gt;next;</span>
<a href="#l1.510"></a><span id="l1.510">       return i-&gt;next;</span>
<a href="#l1.511"></a><span id="l1.511" class="difflineminus">-      }</span>
<a href="#l1.512"></a><span id="l1.512" class="difflineminus">-  else {</span>
<a href="#l1.513"></a><span id="l1.513" class="difflineplus">+    }</span>
<a href="#l1.514"></a><span id="l1.514" class="difflineplus">+    else {</span>
<a href="#l1.515"></a><span id="l1.515">       i-&gt;next = i-&gt;next-&gt;next;</span>
<a href="#l1.516"></a><span id="l1.516">       return i-&gt;next;</span>
<a href="#l1.517"></a><span id="l1.517" class="difflineminus">-      }</span>
<a href="#l1.518"></a><span id="l1.518" class="difflineplus">+    }</span>
<a href="#l1.519"></a><span id="l1.519">   }</span>
<a href="#l1.520"></a><span id="l1.520" class="difflineminus">-    else return (VObject*)0;</span>
<a href="#l1.521"></a><span id="l1.521" class="difflineplus">+  else return (VObject*)0;</span>
<a href="#l1.522"></a><span id="l1.522"> }</span>
<a href="#l1.523"></a><span id="l1.523"> </span>
<a href="#l1.524"></a><span id="l1.524"> VObject* isAPropertyOf(VObject *o, const char *id)</span>
<a href="#l1.525"></a><span id="l1.525"> {</span>
<a href="#l1.526"></a><span id="l1.526" class="difflineminus">-    VObjectIterator i;</span>
<a href="#l1.527"></a><span id="l1.527" class="difflineminus">-    initPropIterator(&amp;i,o);</span>
<a href="#l1.528"></a><span id="l1.528" class="difflineminus">-    while (moreIteration(&amp;i)) {</span>
<a href="#l1.529"></a><span id="l1.529" class="difflineminus">-  VObject *each = nextVObject(&amp;i);</span>
<a href="#l1.530"></a><span id="l1.530" class="difflineminus">-  if (!PL_strcasecmp(id,each-&gt;id))</span>
<a href="#l1.531"></a><span id="l1.531" class="difflineminus">-      return each;</span>
<a href="#l1.532"></a><span id="l1.532" class="difflineplus">+  VObjectIterator i;</span>
<a href="#l1.533"></a><span id="l1.533" class="difflineplus">+  initPropIterator(&amp;i,o);</span>
<a href="#l1.534"></a><span id="l1.534" class="difflineplus">+  while (moreIteration(&amp;i)) {</span>
<a href="#l1.535"></a><span id="l1.535" class="difflineplus">+    VObject *each = nextVObject(&amp;i);</span>
<a href="#l1.536"></a><span id="l1.536" class="difflineplus">+    if (!PL_strcasecmp(id,each-&gt;id))</span>
<a href="#l1.537"></a><span id="l1.537" class="difflineplus">+        return each;</span>
<a href="#l1.538"></a><span id="l1.538">   }</span>
<a href="#l1.539"></a><span id="l1.539" class="difflineminus">-    return (VObject*)0;</span>
<a href="#l1.540"></a><span id="l1.540" class="difflineplus">+  return (VObject*)0;</span>
<a href="#l1.541"></a><span id="l1.541"> }</span>
<a href="#l1.542"></a><span id="l1.542"> </span>
<a href="#l1.543"></a><span id="l1.543"> VObject* addGroup(VObject *o, const char *g)</span>
<a href="#l1.544"></a><span id="l1.544"> {</span>
<a href="#l1.545"></a><span id="l1.545" class="difflineminus">-    /*</span>
<a href="#l1.546"></a><span id="l1.546" class="difflineplus">+  /*</span>
<a href="#l1.547"></a><span id="l1.547">   a.b.c</span>
<a href="#l1.548"></a><span id="l1.548">   --&gt;</span>
<a href="#l1.549"></a><span id="l1.549">   prop(c)</span>
<a href="#l1.550"></a><span id="l1.550" class="difflineminus">-      prop(VCGrouping=b)</span>
<a href="#l1.551"></a><span id="l1.551" class="difflineminus">-    prop(VCGrouping=a)</span>
<a href="#l1.552"></a><span id="l1.552" class="difflineminus">-     */</span>
<a href="#l1.553"></a><span id="l1.553" class="difflineminus">-    char *dot = PL_strrchr(g,'.');</span>
<a href="#l1.554"></a><span id="l1.554" class="difflineminus">-    if (dot) {</span>
<a href="#l1.555"></a><span id="l1.555" class="difflineminus">-  VObject *p, *t;</span>
<a href="#l1.556"></a><span id="l1.556" class="difflineminus">-  char *gs, *n = dot+1;</span>
<a href="#l1.557"></a><span id="l1.557" class="difflineminus">-  gs = dupStr(g,0); /* so we can write to it. */</span>
<a href="#l1.558"></a><span id="l1.558" class="difflineminus">-  t = p = addProp_(o,lookupProp(n));</span>
<a href="#l1.559"></a><span id="l1.559" class="difflineminus">-  dot = PL_strrchr(gs,'.');</span>
<a href="#l1.560"></a><span id="l1.560" class="difflineminus">-  *dot = 0;</span>
<a href="#l1.561"></a><span id="l1.561" class="difflineminus">-  do {</span>
<a href="#l1.562"></a><span id="l1.562" class="difflineminus">-      dot = PL_strrchr(gs,'.');</span>
<a href="#l1.563"></a><span id="l1.563" class="difflineminus">-      if (dot) {</span>
<a href="#l1.564"></a><span id="l1.564" class="difflineminus">-    n = dot+1;</span>
<a href="#l1.565"></a><span id="l1.565" class="difflineminus">-    *dot=0;</span>
<a href="#l1.566"></a><span id="l1.566" class="difflineminus">-    }</span>
<a href="#l1.567"></a><span id="l1.567" class="difflineminus">-      else</span>
<a href="#l1.568"></a><span id="l1.568" class="difflineminus">-    n = gs;</span>
<a href="#l1.569"></a><span id="l1.569" class="difflineminus">-      /* property(VCGroupingProp=n);</span>
<a href="#l1.570"></a><span id="l1.570" class="difflineminus">-       *  and the value may have VCGrouping property</span>
<a href="#l1.571"></a><span id="l1.571" class="difflineminus">-       */</span>
<a href="#l1.572"></a><span id="l1.572" class="difflineminus">-      t = addProp(t,VCGroupingProp);</span>
<a href="#l1.573"></a><span id="l1.573" class="difflineminus">-      setVObjectStringZValue(t,lookupProp_(n));</span>
<a href="#l1.574"></a><span id="l1.574" class="difflineminus">-      } while (n != gs);</span>
<a href="#l1.575"></a><span id="l1.575" class="difflineminus">-  deleteString(gs); </span>
<a href="#l1.576"></a><span id="l1.576" class="difflineminus">-  return p;</span>
<a href="#l1.577"></a><span id="l1.577" class="difflineplus">+  prop(VCGrouping=b)</span>
<a href="#l1.578"></a><span id="l1.578" class="difflineplus">+  prop(VCGrouping=a)</span>
<a href="#l1.579"></a><span id="l1.579" class="difflineplus">+  */</span>
<a href="#l1.580"></a><span id="l1.580" class="difflineplus">+  char *dot = PL_strrchr(g,'.');</span>
<a href="#l1.581"></a><span id="l1.581" class="difflineplus">+  if (dot) {</span>
<a href="#l1.582"></a><span id="l1.582" class="difflineplus">+    VObject *p, *t;</span>
<a href="#l1.583"></a><span id="l1.583" class="difflineplus">+    char *gs, *n = dot+1;</span>
<a href="#l1.584"></a><span id="l1.584" class="difflineplus">+    gs = dupStr(g,0); /* so we can write to it. */</span>
<a href="#l1.585"></a><span id="l1.585" class="difflineplus">+    t = p = addProp_(o,lookupProp(n));</span>
<a href="#l1.586"></a><span id="l1.586" class="difflineplus">+    dot = PL_strrchr(gs,'.');</span>
<a href="#l1.587"></a><span id="l1.587" class="difflineplus">+    *dot = 0;</span>
<a href="#l1.588"></a><span id="l1.588" class="difflineplus">+    do {</span>
<a href="#l1.589"></a><span id="l1.589" class="difflineplus">+        dot = PL_strrchr(gs,'.');</span>
<a href="#l1.590"></a><span id="l1.590" class="difflineplus">+        if (dot) {</span>
<a href="#l1.591"></a><span id="l1.591" class="difflineplus">+          n = dot+1;</span>
<a href="#l1.592"></a><span id="l1.592" class="difflineplus">+          *dot=0;</span>
<a href="#l1.593"></a><span id="l1.593" class="difflineplus">+        }</span>
<a href="#l1.594"></a><span id="l1.594" class="difflineplus">+        else</span>
<a href="#l1.595"></a><span id="l1.595" class="difflineplus">+          n = gs;</span>
<a href="#l1.596"></a><span id="l1.596" class="difflineplus">+        /* property(VCGroupingProp=n);</span>
<a href="#l1.597"></a><span id="l1.597" class="difflineplus">+         *  and the value may have VCGrouping property</span>
<a href="#l1.598"></a><span id="l1.598" class="difflineplus">+         */</span>
<a href="#l1.599"></a><span id="l1.599" class="difflineplus">+        t = addProp(t,VCGroupingProp);</span>
<a href="#l1.600"></a><span id="l1.600" class="difflineplus">+        setVObjectStringZValue(t,lookupProp_(n));</span>
<a href="#l1.601"></a><span id="l1.601" class="difflineplus">+    } while (n != gs);</span>
<a href="#l1.602"></a><span id="l1.602" class="difflineplus">+    deleteString(gs);</span>
<a href="#l1.603"></a><span id="l1.603" class="difflineplus">+    return p;</span>
<a href="#l1.604"></a><span id="l1.604">   }</span>
<a href="#l1.605"></a><span id="l1.605" class="difflineminus">-    else</span>
<a href="#l1.606"></a><span id="l1.606" class="difflineminus">-  return addProp_(o,lookupProp(g));</span>
<a href="#l1.607"></a><span id="l1.607" class="difflineplus">+  else</span>
<a href="#l1.608"></a><span id="l1.608" class="difflineplus">+    return addProp_(o,lookupProp(g));</span>
<a href="#l1.609"></a><span id="l1.609"> }</span>
<a href="#l1.610"></a><span id="l1.610"> </span>
<a href="#l1.611"></a><span id="l1.611"> VObject* addPropValue(VObject *o, const char *p, const char *v)</span>
<a href="#l1.612"></a><span id="l1.612"> {</span>
<a href="#l1.613"></a><span id="l1.613">   VObject *prop;</span>
<a href="#l1.614"></a><span id="l1.614">   prop = addProp(o,p);</span>
<a href="#l1.615"></a><span id="l1.615">   if (v) {</span>
<a href="#l1.616"></a><span id="l1.616">     setVObjectUStringZValue_(prop, fakeUnicode(v,0));</span>
<a href="#l1.617"></a><span id="l1.617" class="difflineat">@@ -447,88 +447,88 @@ VObject* addPropValue(VObject *o, const </span>
<a href="#l1.618"></a><span id="l1.618">     setVObjectUStringZValue_(prop, fakeUnicode(&quot;&quot;,0));</span>
<a href="#l1.619"></a><span id="l1.619"> </span>
<a href="#l1.620"></a><span id="l1.620">   return prop;</span>
<a href="#l1.621"></a><span id="l1.621"> }</span>
<a href="#l1.622"></a><span id="l1.622"> </span>
<a href="#l1.623"></a><span id="l1.623"> VObject* addPropSizedValue_(VObject *o, const char *p, const char *v,</span>
<a href="#l1.624"></a><span id="l1.624">   unsigned int size)</span>
<a href="#l1.625"></a><span id="l1.625"> {</span>
<a href="#l1.626"></a><span id="l1.626" class="difflineminus">-    VObject *prop;</span>
<a href="#l1.627"></a><span id="l1.627" class="difflineminus">-    prop = addProp(o,p);</span>
<a href="#l1.628"></a><span id="l1.628" class="difflineminus">-    setValueWithSize_(prop, (void*)v, size);</span>
<a href="#l1.629"></a><span id="l1.629" class="difflineminus">-    return prop;</span>
<a href="#l1.630"></a><span id="l1.630" class="difflineplus">+  VObject *prop;</span>
<a href="#l1.631"></a><span id="l1.631" class="difflineplus">+  prop = addProp(o,p);</span>
<a href="#l1.632"></a><span id="l1.632" class="difflineplus">+  setValueWithSize_(prop, (void*)v, size);</span>
<a href="#l1.633"></a><span id="l1.633" class="difflineplus">+  return prop;</span>
<a href="#l1.634"></a><span id="l1.634"> }</span>
<a href="#l1.635"></a><span id="l1.635"> </span>
<a href="#l1.636"></a><span id="l1.636"> VObject* addPropSizedValue(VObject *o, const char *p, const char *v,</span>
<a href="#l1.637"></a><span id="l1.637">   unsigned int size)</span>
<a href="#l1.638"></a><span id="l1.638"> {</span>
<a href="#l1.639"></a><span id="l1.639" class="difflineminus">-    return addPropSizedValue_(o,p,dupStr(v,size),size);</span>
<a href="#l1.640"></a><span id="l1.640" class="difflineplus">+  return addPropSizedValue_(o,p,dupStr(v,size),size);</span>
<a href="#l1.641"></a><span id="l1.641"> }</span>
<a href="#l1.642"></a><span id="l1.642"> </span>
<a href="#l1.643"></a><span id="l1.643"> void cleanVObject(VObject *o)</span>
<a href="#l1.644"></a><span id="l1.644"> {</span>
<a href="#l1.645"></a><span id="l1.645" class="difflineminus">-    if (o == 0) return;</span>
<a href="#l1.646"></a><span id="l1.646" class="difflineminus">-    if (o-&gt;prop) {</span>
<a href="#l1.647"></a><span id="l1.647" class="difflineminus">-  /* destroy time: cannot use the iterator here.</span>
<a href="#l1.648"></a><span id="l1.648" class="difflineminus">-     Have to break the cycle in the circular link</span>
<a href="#l1.649"></a><span id="l1.649" class="difflineminus">-     list and turns it into regular NULL-terminated</span>
<a href="#l1.650"></a><span id="l1.650" class="difflineminus">-     list -- since at some point of destruction,</span>
<a href="#l1.651"></a><span id="l1.651" class="difflineminus">-     the reference entry for the iterator to work</span>
<a href="#l1.652"></a><span id="l1.652" class="difflineminus">-     will not longer be valid.</span>
<a href="#l1.653"></a><span id="l1.653" class="difflineplus">+  if (o == 0) return;</span>
<a href="#l1.654"></a><span id="l1.654" class="difflineplus">+  if (o-&gt;prop) {</span>
<a href="#l1.655"></a><span id="l1.655" class="difflineplus">+    /* destroy time: cannot use the iterator here.</span>
<a href="#l1.656"></a><span id="l1.656" class="difflineplus">+       Have to break the cycle in the circular link</span>
<a href="#l1.657"></a><span id="l1.657" class="difflineplus">+       list and turns it into regular NULL-terminated</span>
<a href="#l1.658"></a><span id="l1.658" class="difflineplus">+       list -- since at some point of destruction,</span>
<a href="#l1.659"></a><span id="l1.659" class="difflineplus">+       the reference entry for the iterator to work</span>
<a href="#l1.660"></a><span id="l1.660" class="difflineplus">+       will not longer be valid.</span>
<a href="#l1.661"></a><span id="l1.661">      */</span>
<a href="#l1.662"></a><span id="l1.662" class="difflineminus">-  VObject *p;</span>
<a href="#l1.663"></a><span id="l1.663" class="difflineminus">-  p = o-&gt;prop-&gt;next;</span>
<a href="#l1.664"></a><span id="l1.664" class="difflineminus">-  o-&gt;prop-&gt;next = 0;</span>
<a href="#l1.665"></a><span id="l1.665" class="difflineminus">-  do {</span>
<a href="#l1.666"></a><span id="l1.666" class="difflineminus">-     VObject *t = p-&gt;next;</span>
<a href="#l1.667"></a><span id="l1.667" class="difflineminus">-     cleanVObject(p);</span>
<a href="#l1.668"></a><span id="l1.668" class="difflineminus">-     p = t;</span>
<a href="#l1.669"></a><span id="l1.669" class="difflineminus">-     } while (p);</span>
<a href="#l1.670"></a><span id="l1.670" class="difflineplus">+    VObject *p;</span>
<a href="#l1.671"></a><span id="l1.671" class="difflineplus">+    p = o-&gt;prop-&gt;next;</span>
<a href="#l1.672"></a><span id="l1.672" class="difflineplus">+    o-&gt;prop-&gt;next = 0;</span>
<a href="#l1.673"></a><span id="l1.673" class="difflineplus">+    do {</span>
<a href="#l1.674"></a><span id="l1.674" class="difflineplus">+       VObject *t = p-&gt;next;</span>
<a href="#l1.675"></a><span id="l1.675" class="difflineplus">+       cleanVObject(p);</span>
<a href="#l1.676"></a><span id="l1.676" class="difflineplus">+       p = t;</span>
<a href="#l1.677"></a><span id="l1.677" class="difflineplus">+    } while (p);</span>
<a href="#l1.678"></a><span id="l1.678">   }</span>
<a href="#l1.679"></a><span id="l1.679" class="difflineminus">-    switch (VALUE_TYPE(o)) {</span>
<a href="#l1.680"></a><span id="l1.680" class="difflineplus">+  switch (VALUE_TYPE(o)) {</span>
<a href="#l1.681"></a><span id="l1.681">   case VCVT_USTRINGZ:</span>
<a href="#l1.682"></a><span id="l1.682">   case VCVT_STRINGZ:</span>
<a href="#l1.683"></a><span id="l1.683">   case VCVT_RAW:</span>
<a href="#l1.684"></a><span id="l1.684" class="difflineminus">-      /* assume they are all allocated by malloc. */</span>
<a href="#l1.685"></a><span id="l1.685" class="difflineminus">-      if ((char*) STRINGZ_VALUE_OF(o)) </span>
<a href="#l1.686"></a><span id="l1.686" class="difflineminus">-        PR_Free ((char*)STRINGZ_VALUE_OF(o));</span>
<a href="#l1.687"></a><span id="l1.687" class="difflineminus">-      break;</span>
<a href="#l1.688"></a><span id="l1.688" class="difflineplus">+    /* assume they are all allocated by malloc. */</span>
<a href="#l1.689"></a><span id="l1.689" class="difflineplus">+    if ((char*) STRINGZ_VALUE_OF(o))</span>
<a href="#l1.690"></a><span id="l1.690" class="difflineplus">+      PR_Free ((char*)STRINGZ_VALUE_OF(o));</span>
<a href="#l1.691"></a><span id="l1.691" class="difflineplus">+    break;</span>
<a href="#l1.692"></a><span id="l1.692">   case VCVT_VOBJECT:</span>
<a href="#l1.693"></a><span id="l1.693" class="difflineminus">-      cleanVObject(VOBJECT_VALUE_OF(o));</span>
<a href="#l1.694"></a><span id="l1.694" class="difflineminus">-      break;</span>
<a href="#l1.695"></a><span id="l1.695" class="difflineplus">+    cleanVObject(VOBJECT_VALUE_OF(o));</span>
<a href="#l1.696"></a><span id="l1.696" class="difflineplus">+    break;</span>
<a href="#l1.697"></a><span id="l1.697">   }</span>
<a href="#l1.698"></a><span id="l1.698" class="difflineminus">-    deleteVObject(o);</span>
<a href="#l1.699"></a><span id="l1.699" class="difflineplus">+  deleteVObject(o);</span>
<a href="#l1.700"></a><span id="l1.700"> }</span>
<a href="#l1.701"></a><span id="l1.701"> </span>
<a href="#l1.702"></a><span id="l1.702"> void cleanVObjects(VObject *list)</span>
<a href="#l1.703"></a><span id="l1.703"> {</span>
<a href="#l1.704"></a><span id="l1.704" class="difflineminus">-    while (list) {</span>
<a href="#l1.705"></a><span id="l1.705" class="difflineminus">-  VObject *t = list;</span>
<a href="#l1.706"></a><span id="l1.706" class="difflineminus">-  list = nextVObjectInList(list);</span>
<a href="#l1.707"></a><span id="l1.707" class="difflineminus">-  cleanVObject(t);</span>
<a href="#l1.708"></a><span id="l1.708" class="difflineplus">+  while (list) {</span>
<a href="#l1.709"></a><span id="l1.709" class="difflineplus">+    VObject *t = list;</span>
<a href="#l1.710"></a><span id="l1.710" class="difflineplus">+    list = nextVObjectInList(list);</span>
<a href="#l1.711"></a><span id="l1.711" class="difflineplus">+    cleanVObject(t);</span>
<a href="#l1.712"></a><span id="l1.712">   }</span>
<a href="#l1.713"></a><span id="l1.713"> }</span>
<a href="#l1.714"></a><span id="l1.714"> </span>
<a href="#l1.715"></a><span id="l1.715"> /*----------------------------------------------------------------------</span>
<a href="#l1.716"></a><span id="l1.716">   The following is a String Table Facilities.</span>
<a href="#l1.717"></a><span id="l1.717">   ----------------------------------------------------------------------*/</span>
<a href="#l1.718"></a><span id="l1.718"> </span>
<a href="#l1.719"></a><span id="l1.719"> #define STRTBLSIZE 255</span>
<a href="#l1.720"></a><span id="l1.720"> </span>
<a href="#l1.721"></a><span id="l1.721"> static StrItem *strTbl[STRTBLSIZE];</span>
<a href="#l1.722"></a><span id="l1.722"> </span>
<a href="#l1.723"></a><span id="l1.723"> static unsigned int hashStr(const char *s)</span>
<a href="#l1.724"></a><span id="l1.724"> {</span>
<a href="#l1.725"></a><span id="l1.725" class="difflineminus">-    unsigned int h = 0;</span>
<a href="#l1.726"></a><span id="l1.726" class="difflineminus">-    int i;</span>
<a href="#l1.727"></a><span id="l1.727" class="difflineminus">-    for (i=0;s[i];i++) {</span>
<a href="#l1.728"></a><span id="l1.728" class="difflineminus">-  h += s[i]*i;</span>
<a href="#l1.729"></a><span id="l1.729" class="difflineplus">+  unsigned int h = 0;</span>
<a href="#l1.730"></a><span id="l1.730" class="difflineplus">+  int i;</span>
<a href="#l1.731"></a><span id="l1.731" class="difflineplus">+  for (i=0;s[i];i++) {</span>
<a href="#l1.732"></a><span id="l1.732" class="difflineplus">+    h += s[i]*i;</span>
<a href="#l1.733"></a><span id="l1.733">   }</span>
<a href="#l1.734"></a><span id="l1.734" class="difflineminus">-    return h % STRTBLSIZE;</span>
<a href="#l1.735"></a><span id="l1.735" class="difflineplus">+  return h % STRTBLSIZE;</span>
<a href="#l1.736"></a><span id="l1.736"> }</span>
<a href="#l1.737"></a><span id="l1.737"> </span>
<a href="#l1.738"></a><span id="l1.738"> void unUseStr(const char *s)</span>
<a href="#l1.739"></a><span id="l1.739"> {</span>
<a href="#l1.740"></a><span id="l1.740">   StrItem *t, *p;</span>
<a href="#l1.741"></a><span id="l1.741">   unsigned int h = hashStr(s);</span>
<a href="#l1.742"></a><span id="l1.742">   if ((t = strTbl[h]) != 0) {</span>
<a href="#l1.743"></a><span id="l1.743">     p = t;</span>
<a href="#l1.744"></a><span id="l1.744" class="difflineat">@@ -544,321 +544,321 @@ void unUseStr(const char *s)</span>
<a href="#l1.745"></a><span id="l1.745">           }</span>
<a href="#l1.746"></a><span id="l1.746">           deleteString((char *)t-&gt;s);</span>
<a href="#l1.747"></a><span id="l1.747">           deleteStrItem(t);</span>
<a href="#l1.748"></a><span id="l1.748">           return;</span>
<a href="#l1.749"></a><span id="l1.749">         }</span>
<a href="#l1.750"></a><span id="l1.750">       }</span>
<a href="#l1.751"></a><span id="l1.751">       p = t;</span>
<a href="#l1.752"></a><span id="l1.752">       t = t-&gt;next;</span>
<a href="#l1.753"></a><span id="l1.753" class="difflineminus">-     } while (t);</span>
<a href="#l1.754"></a><span id="l1.754" class="difflineplus">+    } while (t);</span>
<a href="#l1.755"></a><span id="l1.755">   }</span>
<a href="#l1.756"></a><span id="l1.756"> }</span>
<a href="#l1.757"></a><span id="l1.757"> </span>
<a href="#l1.758"></a><span id="l1.758"> struct PreDefProp {</span>
<a href="#l1.759"></a><span id="l1.759" class="difflineminus">-    const char *name;</span>
<a href="#l1.760"></a><span id="l1.760" class="difflineminus">-    const char *alias;</span>
<a href="#l1.761"></a><span id="l1.761" class="difflineminus">-    const char** fields;</span>
<a href="#l1.762"></a><span id="l1.762" class="difflineminus">-    unsigned int flags;</span>
<a href="#l1.763"></a><span id="l1.763" class="difflineminus">-    };</span>
<a href="#l1.764"></a><span id="l1.764" class="difflineplus">+  const char *name;</span>
<a href="#l1.765"></a><span id="l1.765" class="difflineplus">+  const char *alias;</span>
<a href="#l1.766"></a><span id="l1.766" class="difflineplus">+  const char** fields;</span>
<a href="#l1.767"></a><span id="l1.767" class="difflineplus">+  unsigned int flags;</span>
<a href="#l1.768"></a><span id="l1.768" class="difflineplus">+};</span>
<a href="#l1.769"></a><span id="l1.769"> </span>
<a href="#l1.770"></a><span id="l1.770"> /* flags in PreDefProp */</span>
<a href="#l1.771"></a><span id="l1.771"> #define PD_BEGIN  0x1</span>
<a href="#l1.772"></a><span id="l1.772"> #define PD_INTERNAL 0x2</span>
<a href="#l1.773"></a><span id="l1.773"> </span>
<a href="#l1.774"></a><span id="l1.774"> static const char *adrFields[] = {</span>
<a href="#l1.775"></a><span id="l1.775" class="difflineminus">-    VCPostalBoxProp,</span>
<a href="#l1.776"></a><span id="l1.776" class="difflineminus">-    VCExtAddressProp,</span>
<a href="#l1.777"></a><span id="l1.777" class="difflineminus">-    VCStreetAddressProp,</span>
<a href="#l1.778"></a><span id="l1.778" class="difflineminus">-    VCCityProp,</span>
<a href="#l1.779"></a><span id="l1.779" class="difflineminus">-    VCRegionProp,</span>
<a href="#l1.780"></a><span id="l1.780" class="difflineminus">-    VCPostalCodeProp,</span>
<a href="#l1.781"></a><span id="l1.781" class="difflineminus">-    VCCountryNameProp,</span>
<a href="#l1.782"></a><span id="l1.782" class="difflineminus">-    0</span>
<a href="#l1.783"></a><span id="l1.783" class="difflineplus">+  VCPostalBoxProp,</span>
<a href="#l1.784"></a><span id="l1.784" class="difflineplus">+  VCExtAddressProp,</span>
<a href="#l1.785"></a><span id="l1.785" class="difflineplus">+  VCStreetAddressProp,</span>
<a href="#l1.786"></a><span id="l1.786" class="difflineplus">+  VCCityProp,</span>
<a href="#l1.787"></a><span id="l1.787" class="difflineplus">+  VCRegionProp,</span>
<a href="#l1.788"></a><span id="l1.788" class="difflineplus">+  VCPostalCodeProp,</span>
<a href="#l1.789"></a><span id="l1.789" class="difflineplus">+  VCCountryNameProp,</span>
<a href="#l1.790"></a><span id="l1.790" class="difflineplus">+  0</span>
<a href="#l1.791"></a><span id="l1.791"> };</span>
<a href="#l1.792"></a><span id="l1.792"> </span>
<a href="#l1.793"></a><span id="l1.793"> static const char *nameFields[] = {</span>
<a href="#l1.794"></a><span id="l1.794" class="difflineminus">-    VCFamilyNameProp,</span>
<a href="#l1.795"></a><span id="l1.795" class="difflineminus">-    VCGivenNameProp,</span>
<a href="#l1.796"></a><span id="l1.796" class="difflineminus">-    VCAdditionalNamesProp,</span>
<a href="#l1.797"></a><span id="l1.797" class="difflineminus">-    VCNamePrefixesProp,</span>
<a href="#l1.798"></a><span id="l1.798" class="difflineminus">-    VCNameSuffixesProp,</span>
<a href="#l1.799"></a><span id="l1.799" class="difflineminus">-    NULL</span>
<a href="#l1.800"></a><span id="l1.800" class="difflineminus">-    };</span>
<a href="#l1.801"></a><span id="l1.801" class="difflineplus">+  VCFamilyNameProp,</span>
<a href="#l1.802"></a><span id="l1.802" class="difflineplus">+  VCGivenNameProp,</span>
<a href="#l1.803"></a><span id="l1.803" class="difflineplus">+  VCAdditionalNamesProp,</span>
<a href="#l1.804"></a><span id="l1.804" class="difflineplus">+  VCNamePrefixesProp,</span>
<a href="#l1.805"></a><span id="l1.805" class="difflineplus">+  VCNameSuffixesProp,</span>
<a href="#l1.806"></a><span id="l1.806" class="difflineplus">+  NULL</span>
<a href="#l1.807"></a><span id="l1.807" class="difflineplus">+};</span>
<a href="#l1.808"></a><span id="l1.808"> </span>
<a href="#l1.809"></a><span id="l1.809"> static const char *orgFields[] = {</span>
<a href="#l1.810"></a><span id="l1.810" class="difflineminus">-    VCOrgNameProp,</span>
<a href="#l1.811"></a><span id="l1.811" class="difflineminus">-    VCOrgUnitProp,</span>
<a href="#l1.812"></a><span id="l1.812" class="difflineminus">-    VCOrgUnit2Prop,</span>
<a href="#l1.813"></a><span id="l1.813" class="difflineminus">-    VCOrgUnit3Prop,</span>
<a href="#l1.814"></a><span id="l1.814" class="difflineminus">-    VCOrgUnit4Prop,</span>
<a href="#l1.815"></a><span id="l1.815" class="difflineminus">-    NULL</span>
<a href="#l1.816"></a><span id="l1.816" class="difflineminus">-    };</span>
<a href="#l1.817"></a><span id="l1.817" class="difflineplus">+  VCOrgNameProp,</span>
<a href="#l1.818"></a><span id="l1.818" class="difflineplus">+  VCOrgUnitProp,</span>
<a href="#l1.819"></a><span id="l1.819" class="difflineplus">+  VCOrgUnit2Prop,</span>
<a href="#l1.820"></a><span id="l1.820" class="difflineplus">+  VCOrgUnit3Prop,</span>
<a href="#l1.821"></a><span id="l1.821" class="difflineplus">+  VCOrgUnit4Prop,</span>
<a href="#l1.822"></a><span id="l1.822" class="difflineplus">+  NULL</span>
<a href="#l1.823"></a><span id="l1.823" class="difflineplus">+};</span>
<a href="#l1.824"></a><span id="l1.824"> </span>
<a href="#l1.825"></a><span id="l1.825"> static const char *AAlarmFields[] = {</span>
<a href="#l1.826"></a><span id="l1.826" class="difflineminus">-    VCRunTimeProp,</span>
<a href="#l1.827"></a><span id="l1.827" class="difflineminus">-    VCSnoozeTimeProp,</span>
<a href="#l1.828"></a><span id="l1.828" class="difflineminus">-    VCRepeatCountProp,</span>
<a href="#l1.829"></a><span id="l1.829" class="difflineminus">-    VCAudioContentProp,</span>
<a href="#l1.830"></a><span id="l1.830" class="difflineminus">-    0</span>
<a href="#l1.831"></a><span id="l1.831" class="difflineminus">-    };</span>
<a href="#l1.832"></a><span id="l1.832" class="difflineplus">+  VCRunTimeProp,</span>
<a href="#l1.833"></a><span id="l1.833" class="difflineplus">+  VCSnoozeTimeProp,</span>
<a href="#l1.834"></a><span id="l1.834" class="difflineplus">+  VCRepeatCountProp,</span>
<a href="#l1.835"></a><span id="l1.835" class="difflineplus">+  VCAudioContentProp,</span>
<a href="#l1.836"></a><span id="l1.836" class="difflineplus">+  0</span>
<a href="#l1.837"></a><span id="l1.837" class="difflineplus">+};</span>
<a href="#l1.838"></a><span id="l1.838"> </span>
<a href="#l1.839"></a><span id="l1.839"> static const char *coolTalkFields[] = {</span>
<a href="#l1.840"></a><span id="l1.840" class="difflineminus">-    VCCooltalkAddress,</span>
<a href="#l1.841"></a><span id="l1.841" class="difflineplus">+  VCCooltalkAddress,</span>
<a href="#l1.842"></a><span id="l1.842">   VCUseServer,</span>
<a href="#l1.843"></a><span id="l1.843" class="difflineminus">-    0</span>
<a href="#l1.844"></a><span id="l1.844" class="difflineminus">-    };</span>
<a href="#l1.845"></a><span id="l1.845" class="difflineplus">+  0</span>
<a href="#l1.846"></a><span id="l1.846" class="difflineplus">+};</span>
<a href="#l1.847"></a><span id="l1.847"> </span>
<a href="#l1.848"></a><span id="l1.848"> /* ExDate -- has unamed fields */</span>
<a href="#l1.849"></a><span id="l1.849"> /* RDate -- has unamed fields */</span>
<a href="#l1.850"></a><span id="l1.850"> </span>
<a href="#l1.851"></a><span id="l1.851"> static const char *DAlarmFields[] = {</span>
<a href="#l1.852"></a><span id="l1.852" class="difflineminus">-    VCRunTimeProp,</span>
<a href="#l1.853"></a><span id="l1.853" class="difflineminus">-    VCSnoozeTimeProp,</span>
<a href="#l1.854"></a><span id="l1.854" class="difflineminus">-    VCRepeatCountProp,</span>
<a href="#l1.855"></a><span id="l1.855" class="difflineminus">-    VCDisplayStringProp,</span>
<a href="#l1.856"></a><span id="l1.856" class="difflineminus">-    0</span>
<a href="#l1.857"></a><span id="l1.857" class="difflineminus">-    };</span>
<a href="#l1.858"></a><span id="l1.858" class="difflineplus">+  VCRunTimeProp,</span>
<a href="#l1.859"></a><span id="l1.859" class="difflineplus">+  VCSnoozeTimeProp,</span>
<a href="#l1.860"></a><span id="l1.860" class="difflineplus">+  VCRepeatCountProp,</span>
<a href="#l1.861"></a><span id="l1.861" class="difflineplus">+  VCDisplayStringProp,</span>
<a href="#l1.862"></a><span id="l1.862" class="difflineplus">+  0</span>
<a href="#l1.863"></a><span id="l1.863" class="difflineplus">+};</span>
<a href="#l1.864"></a><span id="l1.864"> </span>
<a href="#l1.865"></a><span id="l1.865"> static const char *MAlarmFields[] = {</span>
<a href="#l1.866"></a><span id="l1.866" class="difflineminus">-    VCRunTimeProp,</span>
<a href="#l1.867"></a><span id="l1.867" class="difflineminus">-    VCSnoozeTimeProp,</span>
<a href="#l1.868"></a><span id="l1.868" class="difflineminus">-    VCRepeatCountProp,</span>
<a href="#l1.869"></a><span id="l1.869" class="difflineminus">-    VCEmailAddressProp,</span>
<a href="#l1.870"></a><span id="l1.870" class="difflineminus">-    VCNoteProp,</span>
<a href="#l1.871"></a><span id="l1.871" class="difflineminus">-    0</span>
<a href="#l1.872"></a><span id="l1.872" class="difflineminus">-    };</span>
<a href="#l1.873"></a><span id="l1.873" class="difflineplus">+  VCRunTimeProp,</span>
<a href="#l1.874"></a><span id="l1.874" class="difflineplus">+  VCSnoozeTimeProp,</span>
<a href="#l1.875"></a><span id="l1.875" class="difflineplus">+  VCRepeatCountProp,</span>
<a href="#l1.876"></a><span id="l1.876" class="difflineplus">+  VCEmailAddressProp,</span>
<a href="#l1.877"></a><span id="l1.877" class="difflineplus">+  VCNoteProp,</span>
<a href="#l1.878"></a><span id="l1.878" class="difflineplus">+  0</span>
<a href="#l1.879"></a><span id="l1.879" class="difflineplus">+};</span>
<a href="#l1.880"></a><span id="l1.880"> </span>
<a href="#l1.881"></a><span id="l1.881"> static const char *PAlarmFields[] = {</span>
<a href="#l1.882"></a><span id="l1.882" class="difflineminus">-    VCRunTimeProp,</span>
<a href="#l1.883"></a><span id="l1.883" class="difflineminus">-    VCSnoozeTimeProp,</span>
<a href="#l1.884"></a><span id="l1.884" class="difflineminus">-    VCRepeatCountProp,</span>
<a href="#l1.885"></a><span id="l1.885" class="difflineminus">-    VCProcedureNameProp,</span>
<a href="#l1.886"></a><span id="l1.886" class="difflineminus">-    0</span>
<a href="#l1.887"></a><span id="l1.887" class="difflineminus">-    };</span>
<a href="#l1.888"></a><span id="l1.888" class="difflineplus">+  VCRunTimeProp,</span>
<a href="#l1.889"></a><span id="l1.889" class="difflineplus">+  VCSnoozeTimeProp,</span>
<a href="#l1.890"></a><span id="l1.890" class="difflineplus">+  VCRepeatCountProp,</span>
<a href="#l1.891"></a><span id="l1.891" class="difflineplus">+  VCProcedureNameProp,</span>
<a href="#l1.892"></a><span id="l1.892" class="difflineplus">+  0</span>
<a href="#l1.893"></a><span id="l1.893" class="difflineplus">+};</span>
<a href="#l1.894"></a><span id="l1.894"> </span>
<a href="#l1.895"></a><span id="l1.895"> static struct PreDefProp propNames[] = {</span>
<a href="#l1.896"></a><span id="l1.896" class="difflineminus">-    { VC7bitProp, 0, 0, 0 },</span>
<a href="#l1.897"></a><span id="l1.897" class="difflineplus">+  { VC7bitProp, 0, 0, 0 },</span>
<a href="#l1.898"></a><span id="l1.898">   { VC8bitProp, 0, 0, 0 },</span>
<a href="#l1.899"></a><span id="l1.899" class="difflineminus">-    { VCAAlarmProp, 0, AAlarmFields, 0 },</span>
<a href="#l1.900"></a><span id="l1.900" class="difflineminus">-    { VCAdditionalNamesProp, 0, 0, 0 },</span>
<a href="#l1.901"></a><span id="l1.901" class="difflineminus">-    { VCAdrProp, 0, adrFields, 0 },</span>
<a href="#l1.902"></a><span id="l1.902" class="difflineminus">-    { VCAgentProp, 0, 0, 0 },</span>
<a href="#l1.903"></a><span id="l1.903" class="difflineminus">-    { VCAIFFProp, 0, 0, 0 },</span>
<a href="#l1.904"></a><span id="l1.904" class="difflineminus">-    { VCAOLProp, 0, 0, 0 },</span>
<a href="#l1.905"></a><span id="l1.905" class="difflineminus">-    { VCAppleLinkProp, 0, 0, 0 },</span>
<a href="#l1.906"></a><span id="l1.906" class="difflineplus">+  { VCAAlarmProp, 0, AAlarmFields, 0 },</span>
<a href="#l1.907"></a><span id="l1.907" class="difflineplus">+  { VCAdditionalNamesProp, 0, 0, 0 },</span>
<a href="#l1.908"></a><span id="l1.908" class="difflineplus">+  { VCAdrProp, 0, adrFields, 0 },</span>
<a href="#l1.909"></a><span id="l1.909" class="difflineplus">+  { VCAgentProp, 0, 0, 0 },</span>
<a href="#l1.910"></a><span id="l1.910" class="difflineplus">+  { VCAIFFProp, 0, 0, 0 },</span>
<a href="#l1.911"></a><span id="l1.911" class="difflineplus">+  { VCAOLProp, 0, 0, 0 },</span>
<a href="#l1.912"></a><span id="l1.912" class="difflineplus">+  { VCAppleLinkProp, 0, 0, 0 },</span>
<a href="#l1.913"></a><span id="l1.913">   { VCAttachProp, 0, 0, 0 },</span>
<a href="#l1.914"></a><span id="l1.914" class="difflineminus">-    { VCAttendeeProp, 0, 0, 0 },</span>
<a href="#l1.915"></a><span id="l1.915" class="difflineminus">-    { VCATTMailProp, 0, 0, 0 },</span>
<a href="#l1.916"></a><span id="l1.916" class="difflineminus">-    { VCAudioContentProp, 0, 0, 0 },</span>
<a href="#l1.917"></a><span id="l1.917" class="difflineminus">-    { VCAVIProp, 0, 0, 0 },</span>
<a href="#l1.918"></a><span id="l1.918" class="difflineminus">-    { VCBase64Prop, 0, 0, 0 },</span>
<a href="#l1.919"></a><span id="l1.919" class="difflineminus">-    { VCBBSProp, 0, 0, 0 },</span>
<a href="#l1.920"></a><span id="l1.920" class="difflineminus">-    { VCBirthDateProp, 0, 0, 0 },</span>
<a href="#l1.921"></a><span id="l1.921" class="difflineminus">-    { VCBMPProp, 0, 0, 0 },</span>
<a href="#l1.922"></a><span id="l1.922" class="difflineminus">-    { VCBodyProp, 0, 0, 0 },</span>
<a href="#l1.923"></a><span id="l1.923" class="difflineminus">-    { VCBusinessRoleProp, 0, 0, 0 },</span>
<a href="#l1.924"></a><span id="l1.924" class="difflineminus">-    { VCCalProp, 0, 0, PD_BEGIN },</span>
<a href="#l1.925"></a><span id="l1.925" class="difflineminus">-    { VCCaptionProp, 0, 0, 0 },</span>
<a href="#l1.926"></a><span id="l1.926" class="difflineminus">-    { VCCardProp, 0, 0, PD_BEGIN },</span>
<a href="#l1.927"></a><span id="l1.927" class="difflineminus">-    { VCCarProp, 0, 0, 0 },</span>
<a href="#l1.928"></a><span id="l1.928" class="difflineminus">-    { VCCategoriesProp, 0, 0, 0 },</span>
<a href="#l1.929"></a><span id="l1.929" class="difflineminus">-    { VCCellularProp, 0, 0, 0 },</span>
<a href="#l1.930"></a><span id="l1.930" class="difflineminus">-    { VCCGMProp, 0, 0, 0 },</span>
<a href="#l1.931"></a><span id="l1.931" class="difflineminus">-    { VCCharSetProp, 0, 0, 0 },</span>
<a href="#l1.932"></a><span id="l1.932" class="difflineminus">-    { VCCIDProp, VCContentIDProp, 0, 0 },</span>
<a href="#l1.933"></a><span id="l1.933" class="difflineminus">-    { VCCISProp, 0, 0, 0 },</span>
<a href="#l1.934"></a><span id="l1.934" class="difflineminus">-    { VCCityProp, 0, 0, 0 },</span>
<a href="#l1.935"></a><span id="l1.935" class="difflineminus">-    { VCClassProp, 0, 0, 0 },</span>
<a href="#l1.936"></a><span id="l1.936" class="difflineminus">-    { VCCommentProp, 0, 0, 0 },</span>
<a href="#l1.937"></a><span id="l1.937" class="difflineminus">-    { VCCompletedProp, 0, 0, 0 },</span>
<a href="#l1.938"></a><span id="l1.938" class="difflineminus">-    { VCContentIDProp, 0, 0, 0 },</span>
<a href="#l1.939"></a><span id="l1.939" class="difflineminus">-    { VCCountryNameProp, 0, 0, 0 },</span>
<a href="#l1.940"></a><span id="l1.940" class="difflineminus">-    { VCDAlarmProp, 0, DAlarmFields, 0 },</span>
<a href="#l1.941"></a><span id="l1.941" class="difflineminus">-    { VCDataSizeProp, 0, 0, PD_INTERNAL },</span>
<a href="#l1.942"></a><span id="l1.942" class="difflineplus">+  { VCAttendeeProp, 0, 0, 0 },</span>
<a href="#l1.943"></a><span id="l1.943" class="difflineplus">+  { VCATTMailProp, 0, 0, 0 },</span>
<a href="#l1.944"></a><span id="l1.944" class="difflineplus">+  { VCAudioContentProp, 0, 0, 0 },</span>
<a href="#l1.945"></a><span id="l1.945" class="difflineplus">+  { VCAVIProp, 0, 0, 0 },</span>
<a href="#l1.946"></a><span id="l1.946" class="difflineplus">+  { VCBase64Prop, 0, 0, 0 },</span>
<a href="#l1.947"></a><span id="l1.947" class="difflineplus">+  { VCBBSProp, 0, 0, 0 },</span>
<a href="#l1.948"></a><span id="l1.948" class="difflineplus">+  { VCBirthDateProp, 0, 0, 0 },</span>
<a href="#l1.949"></a><span id="l1.949" class="difflineplus">+  { VCBMPProp, 0, 0, 0 },</span>
<a href="#l1.950"></a><span id="l1.950" class="difflineplus">+  { VCBodyProp, 0, 0, 0 },</span>
<a href="#l1.951"></a><span id="l1.951" class="difflineplus">+  { VCBusinessRoleProp, 0, 0, 0 },</span>
<a href="#l1.952"></a><span id="l1.952" class="difflineplus">+  { VCCalProp, 0, 0, PD_BEGIN },</span>
<a href="#l1.953"></a><span id="l1.953" class="difflineplus">+  { VCCaptionProp, 0, 0, 0 },</span>
<a href="#l1.954"></a><span id="l1.954" class="difflineplus">+  { VCCardProp, 0, 0, PD_BEGIN },</span>
<a href="#l1.955"></a><span id="l1.955" class="difflineplus">+  { VCCarProp, 0, 0, 0 },</span>
<a href="#l1.956"></a><span id="l1.956" class="difflineplus">+  { VCCategoriesProp, 0, 0, 0 },</span>
<a href="#l1.957"></a><span id="l1.957" class="difflineplus">+  { VCCellularProp, 0, 0, 0 },</span>
<a href="#l1.958"></a><span id="l1.958" class="difflineplus">+  { VCCGMProp, 0, 0, 0 },</span>
<a href="#l1.959"></a><span id="l1.959" class="difflineplus">+  { VCCharSetProp, 0, 0, 0 },</span>
<a href="#l1.960"></a><span id="l1.960" class="difflineplus">+  { VCCIDProp, VCContentIDProp, 0, 0 },</span>
<a href="#l1.961"></a><span id="l1.961" class="difflineplus">+  { VCCISProp, 0, 0, 0 },</span>
<a href="#l1.962"></a><span id="l1.962" class="difflineplus">+  { VCCityProp, 0, 0, 0 },</span>
<a href="#l1.963"></a><span id="l1.963" class="difflineplus">+  { VCClassProp, 0, 0, 0 },</span>
<a href="#l1.964"></a><span id="l1.964" class="difflineplus">+  { VCCommentProp, 0, 0, 0 },</span>
<a href="#l1.965"></a><span id="l1.965" class="difflineplus">+  { VCCompletedProp, 0, 0, 0 },</span>
<a href="#l1.966"></a><span id="l1.966" class="difflineplus">+  { VCContentIDProp, 0, 0, 0 },</span>
<a href="#l1.967"></a><span id="l1.967" class="difflineplus">+  { VCCountryNameProp, 0, 0, 0 },</span>
<a href="#l1.968"></a><span id="l1.968" class="difflineplus">+  { VCDAlarmProp, 0, DAlarmFields, 0 },</span>
<a href="#l1.969"></a><span id="l1.969" class="difflineplus">+  { VCDataSizeProp, 0, 0, PD_INTERNAL },</span>
<a href="#l1.970"></a><span id="l1.970">   { VCDayLightProp, 0, 0 ,0 },</span>
<a href="#l1.971"></a><span id="l1.971" class="difflineminus">-    { VCDCreatedProp, 0, 0, 0 },</span>
<a href="#l1.972"></a><span id="l1.972" class="difflineminus">-    { VCDeliveryLabelProp, 0, 0, 0 },</span>
<a href="#l1.973"></a><span id="l1.973" class="difflineminus">-    { VCDescriptionProp, 0, 0, 0 },</span>
<a href="#l1.974"></a><span id="l1.974" class="difflineminus">-    { VCDIBProp, 0, 0, 0 },</span>
<a href="#l1.975"></a><span id="l1.975" class="difflineminus">-    { VCDisplayStringProp, 0, 0, 0 },</span>
<a href="#l1.976"></a><span id="l1.976" class="difflineminus">-    { VCDomesticProp, 0, 0, 0 },</span>
<a href="#l1.977"></a><span id="l1.977" class="difflineminus">-    { VCDTendProp, 0, 0, 0 },</span>
<a href="#l1.978"></a><span id="l1.978" class="difflineminus">-    { VCDTstartProp, 0, 0, 0 },</span>
<a href="#l1.979"></a><span id="l1.979" class="difflineminus">-    { VCDueProp, 0, 0, 0 },</span>
<a href="#l1.980"></a><span id="l1.980" class="difflineminus">-    { VCEmailAddressProp, 0, 0, 0 },</span>
<a href="#l1.981"></a><span id="l1.981" class="difflineminus">-    { VCEncodingProp, 0, 0, 0 },</span>
<a href="#l1.982"></a><span id="l1.982" class="difflineminus">-    { VCEndProp, 0, 0, 0 },</span>
<a href="#l1.983"></a><span id="l1.983" class="difflineminus">-    { VCEventProp, 0, 0, PD_BEGIN },</span>
<a href="#l1.984"></a><span id="l1.984" class="difflineminus">-    { VCEWorldProp, 0, 0, 0 },</span>
<a href="#l1.985"></a><span id="l1.985" class="difflineminus">-    { VCExNumProp, 0, 0, 0 },</span>
<a href="#l1.986"></a><span id="l1.986" class="difflineminus">-    { VCExpDateProp, 0, 0, 0 },</span>
<a href="#l1.987"></a><span id="l1.987" class="difflineminus">-    { VCExpectProp, 0, 0, 0 },</span>
<a href="#l1.988"></a><span id="l1.988" class="difflineminus">-    { VCExtAddressProp, 0, 0, 0 },</span>
<a href="#l1.989"></a><span id="l1.989" class="difflineminus">-    { VCFamilyNameProp, 0, 0, 0 },</span>
<a href="#l1.990"></a><span id="l1.990" class="difflineminus">-    { VCFaxProp, 0, 0, 0 },</span>
<a href="#l1.991"></a><span id="l1.991" class="difflineminus">-    { VCFullNameProp, 0, 0, 0 },</span>
<a href="#l1.992"></a><span id="l1.992" class="difflineminus">-    { VCGeoLocationProp, 0, 0, 0 },</span>
<a href="#l1.993"></a><span id="l1.993" class="difflineminus">-    { VCGeoProp, 0, 0, 0 },</span>
<a href="#l1.994"></a><span id="l1.994" class="difflineminus">-    { VCGIFProp, 0, 0, 0 },</span>
<a href="#l1.995"></a><span id="l1.995" class="difflineminus">-    { VCGivenNameProp, 0, 0, 0 },</span>
<a href="#l1.996"></a><span id="l1.996" class="difflineminus">-    { VCGroupingProp, 0, 0, 0 },</span>
<a href="#l1.997"></a><span id="l1.997" class="difflineminus">-    { VCHomeProp, 0, 0, 0 },</span>
<a href="#l1.998"></a><span id="l1.998" class="difflineminus">-    { VCIBMMailProp, 0, 0, 0 },</span>
<a href="#l1.999"></a><span id="l1.999" class="difflineminus">-    { VCInlineProp, 0, 0, 0 },</span>
<a href="#l1.1000"></a><span id="l1.1000" class="difflineminus">-    { VCInternationalProp, 0, 0, 0 },</span>
<a href="#l1.1001"></a><span id="l1.1001" class="difflineminus">-    { VCInternetProp, 0, 0, 0 },</span>
<a href="#l1.1002"></a><span id="l1.1002" class="difflineminus">-    { VCISDNProp, 0, 0, 0 },</span>
<a href="#l1.1003"></a><span id="l1.1003" class="difflineminus">-    { VCJPEGProp, 0, 0, 0 },</span>
<a href="#l1.1004"></a><span id="l1.1004" class="difflineminus">-    { VCLanguageProp, 0, 0, 0 },</span>
<a href="#l1.1005"></a><span id="l1.1005" class="difflineminus">-    { VCLastModifiedProp, 0, 0, 0 },</span>
<a href="#l1.1006"></a><span id="l1.1006" class="difflineminus">-    { VCLastRevisedProp, 0, 0, 0 },</span>
<a href="#l1.1007"></a><span id="l1.1007" class="difflineminus">-    { VCLocationProp, 0, 0, 0 },</span>
<a href="#l1.1008"></a><span id="l1.1008" class="difflineminus">-    { VCLogoProp, 0, 0, 0 },</span>
<a href="#l1.1009"></a><span id="l1.1009" class="difflineminus">-    { VCMailerProp, 0, 0, 0 },</span>
<a href="#l1.1010"></a><span id="l1.1010" class="difflineminus">-    { VCMAlarmProp, 0, MAlarmFields, 0 },</span>
<a href="#l1.1011"></a><span id="l1.1011" class="difflineminus">-    { VCMCIMailProp, 0, 0, 0 },</span>
<a href="#l1.1012"></a><span id="l1.1012" class="difflineminus">-    { VCMessageProp, 0, 0, 0 },</span>
<a href="#l1.1013"></a><span id="l1.1013" class="difflineminus">-    { VCMETProp, 0, 0, 0 },</span>
<a href="#l1.1014"></a><span id="l1.1014" class="difflineminus">-    { VCModemProp, 0, 0, 0 },</span>
<a href="#l1.1015"></a><span id="l1.1015" class="difflineminus">-    { VCMPEG2Prop, 0, 0, 0 },</span>
<a href="#l1.1016"></a><span id="l1.1016" class="difflineminus">-    { VCMPEGProp, 0, 0, 0 },</span>
<a href="#l1.1017"></a><span id="l1.1017" class="difflineminus">-    { VCMSNProp, 0, 0, 0 },</span>
<a href="#l1.1018"></a><span id="l1.1018" class="difflineminus">-    { VCNamePrefixesProp, 0, 0, 0 },</span>
<a href="#l1.1019"></a><span id="l1.1019" class="difflineminus">-    { VCNameProp, 0, nameFields, 0 },</span>
<a href="#l1.1020"></a><span id="l1.1020" class="difflineminus">-    { VCNameSuffixesProp, 0, 0, 0 },</span>
<a href="#l1.1021"></a><span id="l1.1021" class="difflineminus">-    { VCNoteProp, 0, 0, 0 },</span>
<a href="#l1.1022"></a><span id="l1.1022" class="difflineminus">-    { VCOrgNameProp, 0, 0, 0 },</span>
<a href="#l1.1023"></a><span id="l1.1023" class="difflineminus">-    { VCOrgProp, 0, orgFields, 0 },</span>
<a href="#l1.1024"></a><span id="l1.1024" class="difflineminus">-    { VCOrgUnit2Prop, 0, 0, 0 },</span>
<a href="#l1.1025"></a><span id="l1.1025" class="difflineminus">-    { VCOrgUnit3Prop, 0, 0, 0 },</span>
<a href="#l1.1026"></a><span id="l1.1026" class="difflineminus">-    { VCOrgUnit4Prop, 0, 0, 0 },</span>
<a href="#l1.1027"></a><span id="l1.1027" class="difflineminus">-    { VCOrgUnitProp, 0, 0, 0 },</span>
<a href="#l1.1028"></a><span id="l1.1028" class="difflineminus">-    { VCPagerProp, 0, 0, 0 },</span>
<a href="#l1.1029"></a><span id="l1.1029" class="difflineminus">-    { VCPAlarmProp, 0, PAlarmFields, 0 },</span>
<a href="#l1.1030"></a><span id="l1.1030" class="difflineminus">-    { VCParcelProp, 0, 0, 0 },</span>
<a href="#l1.1031"></a><span id="l1.1031" class="difflineminus">-    { VCPartProp, 0, 0, 0 },</span>
<a href="#l1.1032"></a><span id="l1.1032" class="difflineminus">-    { VCPCMProp, 0, 0, 0 },</span>
<a href="#l1.1033"></a><span id="l1.1033" class="difflineminus">-    { VCPDFProp, 0, 0, 0 },</span>
<a href="#l1.1034"></a><span id="l1.1034" class="difflineminus">-    { VCPGPProp, 0, 0, 0 },</span>
<a href="#l1.1035"></a><span id="l1.1035" class="difflineminus">-    { VCPhotoProp, 0, 0, 0 },</span>
<a href="#l1.1036"></a><span id="l1.1036" class="difflineminus">-    { VCPICTProp, 0, 0, 0 },</span>
<a href="#l1.1037"></a><span id="l1.1037" class="difflineminus">-    { VCPMBProp, 0, 0, 0 },</span>
<a href="#l1.1038"></a><span id="l1.1038" class="difflineminus">-    { VCPostalBoxProp, 0, 0, 0 },</span>
<a href="#l1.1039"></a><span id="l1.1039" class="difflineminus">-    { VCPostalCodeProp, 0, 0, 0 },</span>
<a href="#l1.1040"></a><span id="l1.1040" class="difflineminus">-    { VCPostalProp, 0, 0, 0 },</span>
<a href="#l1.1041"></a><span id="l1.1041" class="difflineminus">-    { VCPowerShareProp, 0, 0, 0 },</span>
<a href="#l1.1042"></a><span id="l1.1042" class="difflineminus">-    { VCPreferredProp, 0, 0, 0 },</span>
<a href="#l1.1043"></a><span id="l1.1043" class="difflineminus">-    { VCPriorityProp, 0, 0, 0 },</span>
<a href="#l1.1044"></a><span id="l1.1044" class="difflineminus">-    { VCProcedureNameProp, 0, 0, 0 },</span>
<a href="#l1.1045"></a><span id="l1.1045" class="difflineminus">-    { VCProdIdProp, 0, 0, 0 },</span>
<a href="#l1.1046"></a><span id="l1.1046" class="difflineminus">-    { VCProdigyProp, 0, 0, 0 },</span>
<a href="#l1.1047"></a><span id="l1.1047" class="difflineminus">-    { VCPronunciationProp, 0, 0, 0 },</span>
<a href="#l1.1048"></a><span id="l1.1048" class="difflineminus">-    { VCPSProp, 0, 0, 0 },</span>
<a href="#l1.1049"></a><span id="l1.1049" class="difflineminus">-    { VCPublicKeyProp, 0, 0, 0 },</span>
<a href="#l1.1050"></a><span id="l1.1050" class="difflineminus">-    { VCQPProp, VCQuotedPrintableProp, 0, 0 },</span>
<a href="#l1.1051"></a><span id="l1.1051" class="difflineminus">-    { VCQuickTimeProp, 0, 0, 0 },</span>
<a href="#l1.1052"></a><span id="l1.1052" class="difflineminus">-    { VCQuotedPrintableProp, 0, 0, 0 },</span>
<a href="#l1.1053"></a><span id="l1.1053" class="difflineminus">-    { VCRDateProp, 0, 0, 0 },</span>
<a href="#l1.1054"></a><span id="l1.1054" class="difflineminus">-    { VCRegionProp, 0, 0, 0 },</span>
<a href="#l1.1055"></a><span id="l1.1055" class="difflineminus">-    { VCRelatedToProp, 0, 0, 0 },</span>
<a href="#l1.1056"></a><span id="l1.1056" class="difflineminus">-    { VCRepeatCountProp, 0, 0, 0 },</span>
<a href="#l1.1057"></a><span id="l1.1057" class="difflineminus">-    { VCResourcesProp, 0, 0, 0 },</span>
<a href="#l1.1058"></a><span id="l1.1058" class="difflineminus">-    { VCRNumProp, 0, 0, 0 },</span>
<a href="#l1.1059"></a><span id="l1.1059" class="difflineminus">-    { VCRoleProp, 0, 0, 0 },</span>
<a href="#l1.1060"></a><span id="l1.1060" class="difflineminus">-    { VCRRuleProp, 0, 0, 0 },</span>
<a href="#l1.1061"></a><span id="l1.1061" class="difflineminus">-    { VCRSVPProp, 0, 0, 0 },</span>
<a href="#l1.1062"></a><span id="l1.1062" class="difflineminus">-    { VCRunTimeProp, 0, 0, 0 },</span>
<a href="#l1.1063"></a><span id="l1.1063" class="difflineminus">-    { VCSequenceProp, 0, 0, 0 },</span>
<a href="#l1.1064"></a><span id="l1.1064" class="difflineminus">-    { VCSnoozeTimeProp, 0, 0, 0 },</span>
<a href="#l1.1065"></a><span id="l1.1065" class="difflineminus">-    { VCStartProp, 0, 0, 0 },</span>
<a href="#l1.1066"></a><span id="l1.1066" class="difflineminus">-    { VCStatusProp, 0, 0, 0 },</span>
<a href="#l1.1067"></a><span id="l1.1067" class="difflineminus">-    { VCStreetAddressProp, 0, 0, 0 },</span>
<a href="#l1.1068"></a><span id="l1.1068" class="difflineminus">-    { VCSubTypeProp, 0, 0, 0 },</span>
<a href="#l1.1069"></a><span id="l1.1069" class="difflineminus">-    { VCSummaryProp, 0, 0, 0 },</span>
<a href="#l1.1070"></a><span id="l1.1070" class="difflineminus">-    { VCTelephoneProp, 0, 0, 0 },</span>
<a href="#l1.1071"></a><span id="l1.1071" class="difflineminus">-    { VCTIFFProp, 0, 0, 0 },</span>
<a href="#l1.1072"></a><span id="l1.1072" class="difflineminus">-    { VCTimeZoneProp, 0, 0, 0 },</span>
<a href="#l1.1073"></a><span id="l1.1073" class="difflineminus">-    { VCTitleProp, 0, 0, 0 },</span>
<a href="#l1.1074"></a><span id="l1.1074" class="difflineminus">-    { VCTLXProp, 0, 0, 0 },</span>
<a href="#l1.1075"></a><span id="l1.1075" class="difflineminus">-    { VCTodoProp, 0, 0, PD_BEGIN },</span>
<a href="#l1.1076"></a><span id="l1.1076" class="difflineminus">-    { VCTranspProp, 0, 0, 0 },</span>
<a href="#l1.1077"></a><span id="l1.1077" class="difflineminus">-    { VCUniqueStringProp, 0, 0, 0 },</span>
<a href="#l1.1078"></a><span id="l1.1078" class="difflineminus">-    { VCURLProp, 0, 0, 0 },</span>
<a href="#l1.1079"></a><span id="l1.1079" class="difflineminus">-    { VCURLValueProp, 0, 0, 0 },</span>
<a href="#l1.1080"></a><span id="l1.1080" class="difflineminus">-    { VCValueProp, 0, 0, 0 },</span>
<a href="#l1.1081"></a><span id="l1.1081" class="difflineminus">-    { VCVersionProp, 0, 0, 0 },</span>
<a href="#l1.1082"></a><span id="l1.1082" class="difflineminus">-    { VCVideoProp, 0, 0, 0 },</span>
<a href="#l1.1083"></a><span id="l1.1083" class="difflineminus">-    { VCVoiceProp, 0, 0, 0 },</span>
<a href="#l1.1084"></a><span id="l1.1084" class="difflineminus">-    { VCWAVEProp, 0, 0, 0 },</span>
<a href="#l1.1085"></a><span id="l1.1085" class="difflineminus">-    { VCWMFProp, 0, 0, 0 },</span>
<a href="#l1.1086"></a><span id="l1.1086" class="difflineminus">-    { VCWorkProp, 0, 0, 0 },</span>
<a href="#l1.1087"></a><span id="l1.1087" class="difflineminus">-    { VCX400Prop, 0, 0, 0 },</span>
<a href="#l1.1088"></a><span id="l1.1088" class="difflineminus">-    { VCX509Prop, 0, 0, 0 },</span>
<a href="#l1.1089"></a><span id="l1.1089" class="difflineminus">-    { VCXRuleProp, 0, 0, 0 },</span>
<a href="#l1.1090"></a><span id="l1.1090" class="difflineplus">+  { VCDCreatedProp, 0, 0, 0 },</span>
<a href="#l1.1091"></a><span id="l1.1091" class="difflineplus">+  { VCDeliveryLabelProp, 0, 0, 0 },</span>
<a href="#l1.1092"></a><span id="l1.1092" class="difflineplus">+  { VCDescriptionProp, 0, 0, 0 },</span>
<a href="#l1.1093"></a><span id="l1.1093" class="difflineplus">+  { VCDIBProp, 0, 0, 0 },</span>
<a href="#l1.1094"></a><span id="l1.1094" class="difflineplus">+  { VCDisplayStringProp, 0, 0, 0 },</span>
<a href="#l1.1095"></a><span id="l1.1095" class="difflineplus">+  { VCDomesticProp, 0, 0, 0 },</span>
<a href="#l1.1096"></a><span id="l1.1096" class="difflineplus">+  { VCDTendProp, 0, 0, 0 },</span>
<a href="#l1.1097"></a><span id="l1.1097" class="difflineplus">+  { VCDTstartProp, 0, 0, 0 },</span>
<a href="#l1.1098"></a><span id="l1.1098" class="difflineplus">+  { VCDueProp, 0, 0, 0 },</span>
<a href="#l1.1099"></a><span id="l1.1099" class="difflineplus">+  { VCEmailAddressProp, 0, 0, 0 },</span>
<a href="#l1.1100"></a><span id="l1.1100" class="difflineplus">+  { VCEncodingProp, 0, 0, 0 },</span>
<a href="#l1.1101"></a><span id="l1.1101" class="difflineplus">+  { VCEndProp, 0, 0, 0 },</span>
<a href="#l1.1102"></a><span id="l1.1102" class="difflineplus">+  { VCEventProp, 0, 0, PD_BEGIN },</span>
<a href="#l1.1103"></a><span id="l1.1103" class="difflineplus">+  { VCEWorldProp, 0, 0, 0 },</span>
<a href="#l1.1104"></a><span id="l1.1104" class="difflineplus">+  { VCExNumProp, 0, 0, 0 },</span>
<a href="#l1.1105"></a><span id="l1.1105" class="difflineplus">+  { VCExpDateProp, 0, 0, 0 },</span>
<a href="#l1.1106"></a><span id="l1.1106" class="difflineplus">+  { VCExpectProp, 0, 0, 0 },</span>
<a href="#l1.1107"></a><span id="l1.1107" class="difflineplus">+  { VCExtAddressProp, 0, 0, 0 },</span>
<a href="#l1.1108"></a><span id="l1.1108" class="difflineplus">+  { VCFamilyNameProp, 0, 0, 0 },</span>
<a href="#l1.1109"></a><span id="l1.1109" class="difflineplus">+  { VCFaxProp, 0, 0, 0 },</span>
<a href="#l1.1110"></a><span id="l1.1110" class="difflineplus">+  { VCFullNameProp, 0, 0, 0 },</span>
<a href="#l1.1111"></a><span id="l1.1111" class="difflineplus">+  { VCGeoLocationProp, 0, 0, 0 },</span>
<a href="#l1.1112"></a><span id="l1.1112" class="difflineplus">+  { VCGeoProp, 0, 0, 0 },</span>
<a href="#l1.1113"></a><span id="l1.1113" class="difflineplus">+  { VCGIFProp, 0, 0, 0 },</span>
<a href="#l1.1114"></a><span id="l1.1114" class="difflineplus">+  { VCGivenNameProp, 0, 0, 0 },</span>
<a href="#l1.1115"></a><span id="l1.1115" class="difflineplus">+  { VCGroupingProp, 0, 0, 0 },</span>
<a href="#l1.1116"></a><span id="l1.1116" class="difflineplus">+  { VCHomeProp, 0, 0, 0 },</span>
<a href="#l1.1117"></a><span id="l1.1117" class="difflineplus">+  { VCIBMMailProp, 0, 0, 0 },</span>
<a href="#l1.1118"></a><span id="l1.1118" class="difflineplus">+  { VCInlineProp, 0, 0, 0 },</span>
<a href="#l1.1119"></a><span id="l1.1119" class="difflineplus">+  { VCInternationalProp, 0, 0, 0 },</span>
<a href="#l1.1120"></a><span id="l1.1120" class="difflineplus">+  { VCInternetProp, 0, 0, 0 },</span>
<a href="#l1.1121"></a><span id="l1.1121" class="difflineplus">+  { VCISDNProp, 0, 0, 0 },</span>
<a href="#l1.1122"></a><span id="l1.1122" class="difflineplus">+  { VCJPEGProp, 0, 0, 0 },</span>
<a href="#l1.1123"></a><span id="l1.1123" class="difflineplus">+  { VCLanguageProp, 0, 0, 0 },</span>
<a href="#l1.1124"></a><span id="l1.1124" class="difflineplus">+  { VCLastModifiedProp, 0, 0, 0 },</span>
<a href="#l1.1125"></a><span id="l1.1125" class="difflineplus">+  { VCLastRevisedProp, 0, 0, 0 },</span>
<a href="#l1.1126"></a><span id="l1.1126" class="difflineplus">+  { VCLocationProp, 0, 0, 0 },</span>
<a href="#l1.1127"></a><span id="l1.1127" class="difflineplus">+  { VCLogoProp, 0, 0, 0 },</span>
<a href="#l1.1128"></a><span id="l1.1128" class="difflineplus">+  { VCMailerProp, 0, 0, 0 },</span>
<a href="#l1.1129"></a><span id="l1.1129" class="difflineplus">+  { VCMAlarmProp, 0, MAlarmFields, 0 },</span>
<a href="#l1.1130"></a><span id="l1.1130" class="difflineplus">+  { VCMCIMailProp, 0, 0, 0 },</span>
<a href="#l1.1131"></a><span id="l1.1131" class="difflineplus">+  { VCMessageProp, 0, 0, 0 },</span>
<a href="#l1.1132"></a><span id="l1.1132" class="difflineplus">+  { VCMETProp, 0, 0, 0 },</span>
<a href="#l1.1133"></a><span id="l1.1133" class="difflineplus">+  { VCModemProp, 0, 0, 0 },</span>
<a href="#l1.1134"></a><span id="l1.1134" class="difflineplus">+  { VCMPEG2Prop, 0, 0, 0 },</span>
<a href="#l1.1135"></a><span id="l1.1135" class="difflineplus">+  { VCMPEGProp, 0, 0, 0 },</span>
<a href="#l1.1136"></a><span id="l1.1136" class="difflineplus">+  { VCMSNProp, 0, 0, 0 },</span>
<a href="#l1.1137"></a><span id="l1.1137" class="difflineplus">+  { VCNamePrefixesProp, 0, 0, 0 },</span>
<a href="#l1.1138"></a><span id="l1.1138" class="difflineplus">+  { VCNameProp, 0, nameFields, 0 },</span>
<a href="#l1.1139"></a><span id="l1.1139" class="difflineplus">+  { VCNameSuffixesProp, 0, 0, 0 },</span>
<a href="#l1.1140"></a><span id="l1.1140" class="difflineplus">+  { VCNoteProp, 0, 0, 0 },</span>
<a href="#l1.1141"></a><span id="l1.1141" class="difflineplus">+  { VCOrgNameProp, 0, 0, 0 },</span>
<a href="#l1.1142"></a><span id="l1.1142" class="difflineplus">+  { VCOrgProp, 0, orgFields, 0 },</span>
<a href="#l1.1143"></a><span id="l1.1143" class="difflineplus">+  { VCOrgUnit2Prop, 0, 0, 0 },</span>
<a href="#l1.1144"></a><span id="l1.1144" class="difflineplus">+  { VCOrgUnit3Prop, 0, 0, 0 },</span>
<a href="#l1.1145"></a><span id="l1.1145" class="difflineplus">+  { VCOrgUnit4Prop, 0, 0, 0 },</span>
<a href="#l1.1146"></a><span id="l1.1146" class="difflineplus">+  { VCOrgUnitProp, 0, 0, 0 },</span>
<a href="#l1.1147"></a><span id="l1.1147" class="difflineplus">+  { VCPagerProp, 0, 0, 0 },</span>
<a href="#l1.1148"></a><span id="l1.1148" class="difflineplus">+  { VCPAlarmProp, 0, PAlarmFields, 0 },</span>
<a href="#l1.1149"></a><span id="l1.1149" class="difflineplus">+  { VCParcelProp, 0, 0, 0 },</span>
<a href="#l1.1150"></a><span id="l1.1150" class="difflineplus">+  { VCPartProp, 0, 0, 0 },</span>
<a href="#l1.1151"></a><span id="l1.1151" class="difflineplus">+  { VCPCMProp, 0, 0, 0 },</span>
<a href="#l1.1152"></a><span id="l1.1152" class="difflineplus">+  { VCPDFProp, 0, 0, 0 },</span>
<a href="#l1.1153"></a><span id="l1.1153" class="difflineplus">+  { VCPGPProp, 0, 0, 0 },</span>
<a href="#l1.1154"></a><span id="l1.1154" class="difflineplus">+  { VCPhotoProp, 0, 0, 0 },</span>
<a href="#l1.1155"></a><span id="l1.1155" class="difflineplus">+  { VCPICTProp, 0, 0, 0 },</span>
<a href="#l1.1156"></a><span id="l1.1156" class="difflineplus">+  { VCPMBProp, 0, 0, 0 },</span>
<a href="#l1.1157"></a><span id="l1.1157" class="difflineplus">+  { VCPostalBoxProp, 0, 0, 0 },</span>
<a href="#l1.1158"></a><span id="l1.1158" class="difflineplus">+  { VCPostalCodeProp, 0, 0, 0 },</span>
<a href="#l1.1159"></a><span id="l1.1159" class="difflineplus">+  { VCPostalProp, 0, 0, 0 },</span>
<a href="#l1.1160"></a><span id="l1.1160" class="difflineplus">+  { VCPowerShareProp, 0, 0, 0 },</span>
<a href="#l1.1161"></a><span id="l1.1161" class="difflineplus">+  { VCPreferredProp, 0, 0, 0 },</span>
<a href="#l1.1162"></a><span id="l1.1162" class="difflineplus">+  { VCPriorityProp, 0, 0, 0 },</span>
<a href="#l1.1163"></a><span id="l1.1163" class="difflineplus">+  { VCProcedureNameProp, 0, 0, 0 },</span>
<a href="#l1.1164"></a><span id="l1.1164" class="difflineplus">+  { VCProdIdProp, 0, 0, 0 },</span>
<a href="#l1.1165"></a><span id="l1.1165" class="difflineplus">+  { VCProdigyProp, 0, 0, 0 },</span>
<a href="#l1.1166"></a><span id="l1.1166" class="difflineplus">+  { VCPronunciationProp, 0, 0, 0 },</span>
<a href="#l1.1167"></a><span id="l1.1167" class="difflineplus">+  { VCPSProp, 0, 0, 0 },</span>
<a href="#l1.1168"></a><span id="l1.1168" class="difflineplus">+  { VCPublicKeyProp, 0, 0, 0 },</span>
<a href="#l1.1169"></a><span id="l1.1169" class="difflineplus">+  { VCQPProp, VCQuotedPrintableProp, 0, 0 },</span>
<a href="#l1.1170"></a><span id="l1.1170" class="difflineplus">+  { VCQuickTimeProp, 0, 0, 0 },</span>
<a href="#l1.1171"></a><span id="l1.1171" class="difflineplus">+  { VCQuotedPrintableProp, 0, 0, 0 },</span>
<a href="#l1.1172"></a><span id="l1.1172" class="difflineplus">+  { VCRDateProp, 0, 0, 0 },</span>
<a href="#l1.1173"></a><span id="l1.1173" class="difflineplus">+  { VCRegionProp, 0, 0, 0 },</span>
<a href="#l1.1174"></a><span id="l1.1174" class="difflineplus">+  { VCRelatedToProp, 0, 0, 0 },</span>
<a href="#l1.1175"></a><span id="l1.1175" class="difflineplus">+  { VCRepeatCountProp, 0, 0, 0 },</span>
<a href="#l1.1176"></a><span id="l1.1176" class="difflineplus">+  { VCResourcesProp, 0, 0, 0 },</span>
<a href="#l1.1177"></a><span id="l1.1177" class="difflineplus">+  { VCRNumProp, 0, 0, 0 },</span>
<a href="#l1.1178"></a><span id="l1.1178" class="difflineplus">+  { VCRoleProp, 0, 0, 0 },</span>
<a href="#l1.1179"></a><span id="l1.1179" class="difflineplus">+  { VCRRuleProp, 0, 0, 0 },</span>
<a href="#l1.1180"></a><span id="l1.1180" class="difflineplus">+  { VCRSVPProp, 0, 0, 0 },</span>
<a href="#l1.1181"></a><span id="l1.1181" class="difflineplus">+  { VCRunTimeProp, 0, 0, 0 },</span>
<a href="#l1.1182"></a><span id="l1.1182" class="difflineplus">+  { VCSequenceProp, 0, 0, 0 },</span>
<a href="#l1.1183"></a><span id="l1.1183" class="difflineplus">+  { VCSnoozeTimeProp, 0, 0, 0 },</span>
<a href="#l1.1184"></a><span id="l1.1184" class="difflineplus">+  { VCStartProp, 0, 0, 0 },</span>
<a href="#l1.1185"></a><span id="l1.1185" class="difflineplus">+  { VCStatusProp, 0, 0, 0 },</span>
<a href="#l1.1186"></a><span id="l1.1186" class="difflineplus">+  { VCStreetAddressProp, 0, 0, 0 },</span>
<a href="#l1.1187"></a><span id="l1.1187" class="difflineplus">+  { VCSubTypeProp, 0, 0, 0 },</span>
<a href="#l1.1188"></a><span id="l1.1188" class="difflineplus">+  { VCSummaryProp, 0, 0, 0 },</span>
<a href="#l1.1189"></a><span id="l1.1189" class="difflineplus">+  { VCTelephoneProp, 0, 0, 0 },</span>
<a href="#l1.1190"></a><span id="l1.1190" class="difflineplus">+  { VCTIFFProp, 0, 0, 0 },</span>
<a href="#l1.1191"></a><span id="l1.1191" class="difflineplus">+  { VCTimeZoneProp, 0, 0, 0 },</span>
<a href="#l1.1192"></a><span id="l1.1192" class="difflineplus">+  { VCTitleProp, 0, 0, 0 },</span>
<a href="#l1.1193"></a><span id="l1.1193" class="difflineplus">+  { VCTLXProp, 0, 0, 0 },</span>
<a href="#l1.1194"></a><span id="l1.1194" class="difflineplus">+  { VCTodoProp, 0, 0, PD_BEGIN },</span>
<a href="#l1.1195"></a><span id="l1.1195" class="difflineplus">+  { VCTranspProp, 0, 0, 0 },</span>
<a href="#l1.1196"></a><span id="l1.1196" class="difflineplus">+  { VCUniqueStringProp, 0, 0, 0 },</span>
<a href="#l1.1197"></a><span id="l1.1197" class="difflineplus">+  { VCURLProp, 0, 0, 0 },</span>
<a href="#l1.1198"></a><span id="l1.1198" class="difflineplus">+  { VCURLValueProp, 0, 0, 0 },</span>
<a href="#l1.1199"></a><span id="l1.1199" class="difflineplus">+  { VCValueProp, 0, 0, 0 },</span>
<a href="#l1.1200"></a><span id="l1.1200" class="difflineplus">+  { VCVersionProp, 0, 0, 0 },</span>
<a href="#l1.1201"></a><span id="l1.1201" class="difflineplus">+  { VCVideoProp, 0, 0, 0 },</span>
<a href="#l1.1202"></a><span id="l1.1202" class="difflineplus">+  { VCVoiceProp, 0, 0, 0 },</span>
<a href="#l1.1203"></a><span id="l1.1203" class="difflineplus">+  { VCWAVEProp, 0, 0, 0 },</span>
<a href="#l1.1204"></a><span id="l1.1204" class="difflineplus">+  { VCWMFProp, 0, 0, 0 },</span>
<a href="#l1.1205"></a><span id="l1.1205" class="difflineplus">+  { VCWorkProp, 0, 0, 0 },</span>
<a href="#l1.1206"></a><span id="l1.1206" class="difflineplus">+  { VCX400Prop, 0, 0, 0 },</span>
<a href="#l1.1207"></a><span id="l1.1207" class="difflineplus">+  { VCX509Prop, 0, 0, 0 },</span>
<a href="#l1.1208"></a><span id="l1.1208" class="difflineplus">+  { VCXRuleProp, 0, 0, 0 },</span>
<a href="#l1.1209"></a><span id="l1.1209">   { VCCooltalk, 0, coolTalkFields, 0 },</span>
<a href="#l1.1210"></a><span id="l1.1210">   { VCCooltalkAddress, 0, 0, 0 },</span>
<a href="#l1.1211"></a><span id="l1.1211">   { VCUseServer, 0, 0, 0 },</span>
<a href="#l1.1212"></a><span id="l1.1212">   { VCUseHTML, 0, 0, 0 },</span>
<a href="#l1.1213"></a><span id="l1.1213" class="difflineminus">-    { 0,0,0,0 }</span>
<a href="#l1.1214"></a><span id="l1.1214" class="difflineminus">-    };</span>
<a href="#l1.1215"></a><span id="l1.1215" class="difflineplus">+  { 0,0,0,0 }</span>
<a href="#l1.1216"></a><span id="l1.1216" class="difflineplus">+};</span>
<a href="#l1.1217"></a><span id="l1.1217"> </span>
<a href="#l1.1218"></a><span id="l1.1218"> </span>
<a href="#l1.1219"></a><span id="l1.1219"> static struct PreDefProp* lookupPropInfo(const char* str)</span>
<a href="#l1.1220"></a><span id="l1.1220"> {</span>
<a href="#l1.1221"></a><span id="l1.1221" class="difflineminus">-    /* brute force for now, could use a hash table here. */</span>
<a href="#l1.1222"></a><span id="l1.1222" class="difflineminus">-    int i;</span>
<a href="#l1.1223"></a><span id="l1.1223" class="difflineminus">-  </span>
<a href="#l1.1224"></a><span id="l1.1224" class="difflineminus">-    for (i = 0; propNames[i].name; i++) </span>
<a href="#l1.1225"></a><span id="l1.1225" class="difflineminus">-  if (PL_strcasecmp(str, propNames[i].name) == 0) {</span>
<a href="#l1.1226"></a><span id="l1.1226" class="difflineplus">+  /* brute force for now, could use a hash table here. */</span>
<a href="#l1.1227"></a><span id="l1.1227" class="difflineplus">+  int i;</span>
<a href="#l1.1228"></a><span id="l1.1228" class="difflineplus">+</span>
<a href="#l1.1229"></a><span id="l1.1229" class="difflineplus">+  for (i = 0; propNames[i].name; i++)</span>
<a href="#l1.1230"></a><span id="l1.1230" class="difflineplus">+    if (PL_strcasecmp(str, propNames[i].name) == 0) {</span>
<a href="#l1.1231"></a><span id="l1.1231">       return &amp;propNames[i];</span>
<a href="#l1.1232"></a><span id="l1.1232" class="difflineminus">-      }</span>
<a href="#l1.1233"></a><span id="l1.1233" class="difflineminus">-    </span>
<a href="#l1.1234"></a><span id="l1.1234" class="difflineminus">-    return 0;</span>
<a href="#l1.1235"></a><span id="l1.1235" class="difflineplus">+    }</span>
<a href="#l1.1236"></a><span id="l1.1236" class="difflineplus">+</span>
<a href="#l1.1237"></a><span id="l1.1237" class="difflineplus">+  return 0;</span>
<a href="#l1.1238"></a><span id="l1.1238"> }</span>
<a href="#l1.1239"></a><span id="l1.1239"> </span>
<a href="#l1.1240"></a><span id="l1.1240"> </span>
<a href="#l1.1241"></a><span id="l1.1241"> const char* lookupProp_(const char* str)</span>
<a href="#l1.1242"></a><span id="l1.1242"> {</span>
<a href="#l1.1243"></a><span id="l1.1243" class="difflineminus">-    int i;</span>
<a href="#l1.1244"></a><span id="l1.1244" class="difflineminus">-  </span>
<a href="#l1.1245"></a><span id="l1.1245" class="difflineminus">-    for (i = 0; propNames[i].name; i++)</span>
<a href="#l1.1246"></a><span id="l1.1246" class="difflineplus">+  int i;</span>
<a href="#l1.1247"></a><span id="l1.1247" class="difflineplus">+</span>
<a href="#l1.1248"></a><span id="l1.1248" class="difflineplus">+  for (i = 0; propNames[i].name; i++)</span>
<a href="#l1.1249"></a><span id="l1.1249">   if (PL_strcasecmp(str, propNames[i].name) == 0) {</span>
<a href="#l1.1250"></a><span id="l1.1250" class="difflineminus">-      const char* s;</span>
<a href="#l1.1251"></a><span id="l1.1251" class="difflineminus">-      s = propNames[i].alias?propNames[i].alias:propNames[i].name;</span>
<a href="#l1.1252"></a><span id="l1.1252" class="difflineminus">-      return lookupStr(s);</span>
<a href="#l1.1253"></a><span id="l1.1253" class="difflineminus">-      }</span>
<a href="#l1.1254"></a><span id="l1.1254" class="difflineminus">-    return lookupStr(str);</span>
<a href="#l1.1255"></a><span id="l1.1255" class="difflineplus">+    const char* s;</span>
<a href="#l1.1256"></a><span id="l1.1256" class="difflineplus">+    s = propNames[i].alias?propNames[i].alias:propNames[i].name;</span>
<a href="#l1.1257"></a><span id="l1.1257" class="difflineplus">+    return lookupStr(s);</span>
<a href="#l1.1258"></a><span id="l1.1258" class="difflineplus">+  }</span>
<a href="#l1.1259"></a><span id="l1.1259" class="difflineplus">+  return lookupStr(str);</span>
<a href="#l1.1260"></a><span id="l1.1260"> }</span>
<a href="#l1.1261"></a><span id="l1.1261"> </span>
<a href="#l1.1262"></a><span id="l1.1262"> </span>
<a href="#l1.1263"></a><span id="l1.1263"> const char* lookupProp(const char* str)</span>
<a href="#l1.1264"></a><span id="l1.1264"> {</span>
<a href="#l1.1265"></a><span id="l1.1265" class="difflineminus">-    int i;</span>
<a href="#l1.1266"></a><span id="l1.1266" class="difflineminus">-  </span>
<a href="#l1.1267"></a><span id="l1.1267" class="difflineminus">-    for (i = 0; propNames[i].name; i++)</span>
<a href="#l1.1268"></a><span id="l1.1268" class="difflineplus">+  int i;</span>
<a href="#l1.1269"></a><span id="l1.1269" class="difflineplus">+</span>
<a href="#l1.1270"></a><span id="l1.1270" class="difflineplus">+  for (i = 0; propNames[i].name; i++)</span>
<a href="#l1.1271"></a><span id="l1.1271">   if (PL_strcasecmp(str, propNames[i].name) == 0) {</span>
<a href="#l1.1272"></a><span id="l1.1272" class="difflineminus">-      const char *s;</span>
<a href="#l1.1273"></a><span id="l1.1273" class="difflineminus">-      fieldedProp = (char **)propNames[i].fields;</span>
<a href="#l1.1274"></a><span id="l1.1274" class="difflineminus">-      s = propNames[i].alias?propNames[i].alias:propNames[i].name;</span>
<a href="#l1.1275"></a><span id="l1.1275" class="difflineminus">-      return lookupStr(s);</span>
<a href="#l1.1276"></a><span id="l1.1276" class="difflineminus">-      }</span>
<a href="#l1.1277"></a><span id="l1.1277" class="difflineminus">-    fieldedProp = 0;</span>
<a href="#l1.1278"></a><span id="l1.1278" class="difflineminus">-    return lookupStr(str);</span>
<a href="#l1.1279"></a><span id="l1.1279" class="difflineplus">+    const char *s;</span>
<a href="#l1.1280"></a><span id="l1.1280" class="difflineplus">+    fieldedProp = (char **)propNames[i].fields;</span>
<a href="#l1.1281"></a><span id="l1.1281" class="difflineplus">+    s = propNames[i].alias?propNames[i].alias:propNames[i].name;</span>
<a href="#l1.1282"></a><span id="l1.1282" class="difflineplus">+    return lookupStr(s);</span>
<a href="#l1.1283"></a><span id="l1.1283" class="difflineplus">+  }</span>
<a href="#l1.1284"></a><span id="l1.1284" class="difflineplus">+  fieldedProp = 0;</span>
<a href="#l1.1285"></a><span id="l1.1285" class="difflineplus">+  return lookupStr(str);</span>
<a href="#l1.1286"></a><span id="l1.1286"> }</span>
<a href="#l1.1287"></a><span id="l1.1287"> </span>
<a href="#l1.1288"></a><span id="l1.1288"> </span>
<a href="#l1.1289"></a><span id="l1.1289"> /*----------------------------------------------------------------------</span>
<a href="#l1.1290"></a><span id="l1.1290">   APIs to Output text form.</span>
<a href="#l1.1291"></a><span id="l1.1291">   ----------------------------------------------------------------------*/</span>
<a href="#l1.1292"></a><span id="l1.1292"> #define OFILE_REALLOC_SIZE 256</span>
<a href="#l1.1293"></a><span id="l1.1293"> </span>
<a href="#l1.1294"></a><span id="l1.1294"> static void appendcOFile_(OFile *fp, char c)</span>
<a href="#l1.1295"></a><span id="l1.1295"> {</span>
<a href="#l1.1296"></a><span id="l1.1296" class="difflineminus">-  if (fp-&gt;fail) </span>
<a href="#l1.1297"></a><span id="l1.1297" class="difflineplus">+  if (fp-&gt;fail)</span>
<a href="#l1.1298"></a><span id="l1.1298">     return;</span>
<a href="#l1.1299"></a><span id="l1.1299"> stuff:</span>
<a href="#l1.1300"></a><span id="l1.1300">   if (fp-&gt;len+1 &lt; fp-&gt;limit) {</span>
<a href="#l1.1301"></a><span id="l1.1301">     fp-&gt;s[fp-&gt;len] = c;</span>
<a href="#l1.1302"></a><span id="l1.1302">     fp-&gt;len++;</span>
<a href="#l1.1303"></a><span id="l1.1303">     return;</span>
<a href="#l1.1304"></a><span id="l1.1304">   }</span>
<a href="#l1.1305"></a><span id="l1.1305">   else if (fp-&gt;alloc) {</span>
<a href="#l1.1306"></a><span id="l1.1306" class="difflineat">@@ -872,107 +872,107 @@ stuff:</span>
<a href="#l1.1307"></a><span id="l1.1307">   if (fp-&gt;alloc)</span>
<a href="#l1.1308"></a><span id="l1.1308">     PR_FREEIF(fp-&gt;s);</span>
<a href="#l1.1309"></a><span id="l1.1309">   fp-&gt;s = 0;</span>
<a href="#l1.1310"></a><span id="l1.1310">   fp-&gt;fail = 1;</span>
<a href="#l1.1311"></a><span id="l1.1311"> }</span>
<a href="#l1.1312"></a><span id="l1.1312"> </span>
<a href="#l1.1313"></a><span id="l1.1313"> static void appendcOFile(OFile *fp, char c)</span>
<a href="#l1.1314"></a><span id="l1.1314"> {</span>
<a href="#l1.1315"></a><span id="l1.1315" class="difflineminus">-/*  int i = 0; */</span>
<a href="#l1.1316"></a><span id="l1.1316" class="difflineminus">-    if (c == '\n') {</span>
<a href="#l1.1317"></a><span id="l1.1317" class="difflineminus">-  /* write out as &lt;CR&gt;&lt;LF&gt; */</span>
<a href="#l1.1318"></a><span id="l1.1318" class="difflineminus">-  /* for (i = 0; i &lt; LINEBREAK_LEN; i++)</span>
<a href="#l1.1319"></a><span id="l1.1319" class="difflineminus">-    appendcOFile_(fp,LINEBREAK [ i ]); */</span>
<a href="#l1.1320"></a><span id="l1.1320" class="difflineminus">-  appendcOFile_(fp,0xd); </span>
<a href="#l1.1321"></a><span id="l1.1321" class="difflineminus">-  appendcOFile_(fp,0xa); </span>
<a href="#l1.1322"></a><span id="l1.1322" class="difflineplus">+  /* int i = 0; */</span>
<a href="#l1.1323"></a><span id="l1.1323" class="difflineplus">+  if (c == '\n') {</span>
<a href="#l1.1324"></a><span id="l1.1324" class="difflineplus">+    /* write out as &lt;CR&gt;&lt;LF&gt; */</span>
<a href="#l1.1325"></a><span id="l1.1325" class="difflineplus">+    /* for (i = 0; i &lt; LINEBREAK_LEN; i++)</span>
<a href="#l1.1326"></a><span id="l1.1326" class="difflineplus">+      appendcOFile_(fp,LINEBREAK [ i ]); */</span>
<a href="#l1.1327"></a><span id="l1.1327" class="difflineplus">+    appendcOFile_(fp,0xd);</span>
<a href="#l1.1328"></a><span id="l1.1328" class="difflineplus">+    appendcOFile_(fp,0xa);</span>
<a href="#l1.1329"></a><span id="l1.1329">   }</span>
<a href="#l1.1330"></a><span id="l1.1330" class="difflineminus">-    else</span>
<a href="#l1.1331"></a><span id="l1.1331" class="difflineminus">-  appendcOFile_(fp,c);</span>
<a href="#l1.1332"></a><span id="l1.1332" class="difflineplus">+  else</span>
<a href="#l1.1333"></a><span id="l1.1333" class="difflineplus">+    appendcOFile_(fp,c);</span>
<a href="#l1.1334"></a><span id="l1.1334"> }</span>
<a href="#l1.1335"></a><span id="l1.1335"> </span>
<a href="#l1.1336"></a><span id="l1.1336"> static void appendsOFile(OFile *fp, const char *s)</span>
<a href="#l1.1337"></a><span id="l1.1337"> {</span>
<a href="#l1.1338"></a><span id="l1.1338" class="difflineminus">-    int i, slen;</span>
<a href="#l1.1339"></a><span id="l1.1339" class="difflineminus">-    slen  = PL_strlen (s);</span>
<a href="#l1.1340"></a><span id="l1.1340" class="difflineminus">-    for (i=0; i&lt;slen; i++) {</span>
<a href="#l1.1341"></a><span id="l1.1341" class="difflineminus">-  appendcOFile(fp,s[i]);</span>
<a href="#l1.1342"></a><span id="l1.1342" class="difflineplus">+  int i, slen;</span>
<a href="#l1.1343"></a><span id="l1.1343" class="difflineplus">+  slen  = PL_strlen (s);</span>
<a href="#l1.1344"></a><span id="l1.1344" class="difflineplus">+  for (i=0; i&lt;slen; i++) {</span>
<a href="#l1.1345"></a><span id="l1.1345" class="difflineplus">+    appendcOFile(fp,s[i]);</span>
<a href="#l1.1346"></a><span id="l1.1346">   }</span>
<a href="#l1.1347"></a><span id="l1.1347"> }</span>
<a href="#l1.1348"></a><span id="l1.1348"> </span>
<a href="#l1.1349"></a><span id="l1.1349"> static void initMemOFile(OFile *fp, char *s, int len)</span>
<a href="#l1.1350"></a><span id="l1.1350"> {</span>
<a href="#l1.1351"></a><span id="l1.1351" class="difflineminus">-    fp-&gt;s = s;</span>
<a href="#l1.1352"></a><span id="l1.1352" class="difflineminus">-    fp-&gt;len = 0;</span>
<a href="#l1.1353"></a><span id="l1.1353" class="difflineminus">-    fp-&gt;limit = s?len:0;</span>
<a href="#l1.1354"></a><span id="l1.1354" class="difflineminus">-    fp-&gt;alloc = s?0:1;</span>
<a href="#l1.1355"></a><span id="l1.1355" class="difflineminus">-    fp-&gt;fail = 0;</span>
<a href="#l1.1356"></a><span id="l1.1356" class="difflineplus">+  fp-&gt;s = s;</span>
<a href="#l1.1357"></a><span id="l1.1357" class="difflineplus">+  fp-&gt;len = 0;</span>
<a href="#l1.1358"></a><span id="l1.1358" class="difflineplus">+  fp-&gt;limit = s?len:0;</span>
<a href="#l1.1359"></a><span id="l1.1359" class="difflineplus">+  fp-&gt;alloc = s?0:1;</span>
<a href="#l1.1360"></a><span id="l1.1360" class="difflineplus">+  fp-&gt;fail = 0;</span>
<a href="#l1.1361"></a><span id="l1.1361"> }</span>
<a href="#l1.1362"></a><span id="l1.1362"> </span>
<a href="#l1.1363"></a><span id="l1.1363"> </span>
<a href="#l1.1364"></a><span id="l1.1364"> static int writeBase64(OFile *fp, unsigned char *s, long len)</span>
<a href="#l1.1365"></a><span id="l1.1365"> {</span>
<a href="#l1.1366"></a><span id="l1.1366" class="difflineminus">-    long cur = 0;</span>
<a href="#l1.1367"></a><span id="l1.1367" class="difflineminus">-    int i, numQuads = 0;</span>
<a href="#l1.1368"></a><span id="l1.1368" class="difflineminus">-    unsigned long trip;</span>
<a href="#l1.1369"></a><span id="l1.1369" class="difflineminus">-    unsigned char b;</span>
<a href="#l1.1370"></a><span id="l1.1370" class="difflineminus">-    char quad[5];</span>
<a href="#l1.1371"></a><span id="l1.1371" class="difflineplus">+  long cur = 0;</span>
<a href="#l1.1372"></a><span id="l1.1372" class="difflineplus">+  int i, numQuads = 0;</span>
<a href="#l1.1373"></a><span id="l1.1373" class="difflineplus">+  unsigned long trip;</span>
<a href="#l1.1374"></a><span id="l1.1374" class="difflineplus">+  unsigned char b;</span>
<a href="#l1.1375"></a><span id="l1.1375" class="difflineplus">+  char quad[5];</span>
<a href="#l1.1376"></a><span id="l1.1376"> #define PR_MAXQUADS 16</span>
<a href="#l1.1377"></a><span id="l1.1377"> </span>
<a href="#l1.1378"></a><span id="l1.1378" class="difflineminus">-    quad[4] = 0;</span>
<a href="#l1.1379"></a><span id="l1.1379" class="difflineplus">+  quad[4] = 0;</span>
<a href="#l1.1380"></a><span id="l1.1380"> </span>
<a href="#l1.1381"></a><span id="l1.1381" class="difflineminus">-    while (cur &lt; len) {</span>
<a href="#l1.1382"></a><span id="l1.1382" class="difflineminus">-  /* collect the triplet of bytes into 'trip' */</span>
<a href="#l1.1383"></a><span id="l1.1383" class="difflineminus">-  trip = 0;</span>
<a href="#l1.1384"></a><span id="l1.1384" class="difflineminus">-  for (i = 0; i &lt; 3; i++) {</span>
<a href="#l1.1385"></a><span id="l1.1385" class="difflineplus">+  while (cur &lt; len) {</span>
<a href="#l1.1386"></a><span id="l1.1386" class="difflineplus">+    /* collect the triplet of bytes into 'trip' */</span>
<a href="#l1.1387"></a><span id="l1.1387" class="difflineplus">+    trip = 0;</span>
<a href="#l1.1388"></a><span id="l1.1388" class="difflineplus">+    for (i = 0; i &lt; 3; i++) {</span>
<a href="#l1.1389"></a><span id="l1.1389">       b = (cur &lt; len) ? *(s + cur) : 0;</span>
<a href="#l1.1390"></a><span id="l1.1390">       cur++;</span>
<a href="#l1.1391"></a><span id="l1.1391">       trip = trip &lt;&lt; 8 | b;</span>
<a href="#l1.1392"></a><span id="l1.1392" class="difflineminus">-      }</span>
<a href="#l1.1393"></a><span id="l1.1393" class="difflineminus">-  /* fill in 'quad' with the appropriate four characters */</span>
<a href="#l1.1394"></a><span id="l1.1394" class="difflineminus">-  for (i = 3; i &gt;= 0; i--) {</span>
<a href="#l1.1395"></a><span id="l1.1395" class="difflineplus">+    }</span>
<a href="#l1.1396"></a><span id="l1.1396" class="difflineplus">+    /* fill in 'quad' with the appropriate four characters */</span>
<a href="#l1.1397"></a><span id="l1.1397" class="difflineplus">+    for (i = 3; i &gt;= 0; i--) {</span>
<a href="#l1.1398"></a><span id="l1.1398">       b = (unsigned char)(trip &amp; 0x3F);</span>
<a href="#l1.1399"></a><span id="l1.1399">       trip = trip &gt;&gt; 6;</span>
<a href="#l1.1400"></a><span id="l1.1400">       if ((3 - i) &lt; (cur - len))</span>
<a href="#l1.1401"></a><span id="l1.1401" class="difflineminus">-    quad[i] = '='; /* pad char */</span>
<a href="#l1.1402"></a><span id="l1.1402" class="difflineplus">+        quad[i] = '='; /* pad char */</span>
<a href="#l1.1403"></a><span id="l1.1403">       else if (b &lt; 26) quad[i] = (char)b + 'A';</span>
<a href="#l1.1404"></a><span id="l1.1404">       else if (b &lt; 52) quad[i] = (char)(b - 26) + 'a';</span>
<a href="#l1.1405"></a><span id="l1.1405">       else if (b &lt; 62) quad[i] = (char)(b - 52) + '0';</span>
<a href="#l1.1406"></a><span id="l1.1406">       else if (b == 62) quad[i] = '+';</span>
<a href="#l1.1407"></a><span id="l1.1407">       else quad[i] = '/';</span>
<a href="#l1.1408"></a><span id="l1.1408" class="difflineminus">-      }</span>
<a href="#l1.1409"></a><span id="l1.1409" class="difflineminus">-  /* now output 'quad' with appropriate whitespace and line ending */</span>
<a href="#l1.1410"></a><span id="l1.1410" class="difflineminus">-  appendsOFile(fp, (numQuads == 0 ? &quot;    &quot; : &quot;&quot;));</span>
<a href="#l1.1411"></a><span id="l1.1411" class="difflineminus">-  appendsOFile(fp, quad);</span>
<a href="#l1.1412"></a><span id="l1.1412" class="difflineminus">-  appendsOFile(fp, ((cur &gt;= len)?&quot;\n&quot; :(numQuads==PR_MAXQUADS-1?&quot;\n&quot; : &quot;&quot;)));</span>
<a href="#l1.1413"></a><span id="l1.1413" class="difflineminus">-  numQuads = (numQuads + 1) % PR_MAXQUADS;</span>
<a href="#l1.1414"></a><span id="l1.1414" class="difflineplus">+    }</span>
<a href="#l1.1415"></a><span id="l1.1415" class="difflineplus">+    /* now output 'quad' with appropriate whitespace and line ending */</span>
<a href="#l1.1416"></a><span id="l1.1416" class="difflineplus">+    appendsOFile(fp, (numQuads == 0 ? &quot;    &quot; : &quot;&quot;));</span>
<a href="#l1.1417"></a><span id="l1.1417" class="difflineplus">+    appendsOFile(fp, quad);</span>
<a href="#l1.1418"></a><span id="l1.1418" class="difflineplus">+    appendsOFile(fp, ((cur &gt;= len)?&quot;\n&quot; :(numQuads==PR_MAXQUADS-1?&quot;\n&quot; : &quot;&quot;)));</span>
<a href="#l1.1419"></a><span id="l1.1419" class="difflineplus">+    numQuads = (numQuads + 1) % PR_MAXQUADS;</span>
<a href="#l1.1420"></a><span id="l1.1420">   }</span>
<a href="#l1.1421"></a><span id="l1.1421" class="difflineminus">-    appendcOFile(fp,'\n');</span>
<a href="#l1.1422"></a><span id="l1.1422" class="difflineplus">+  appendcOFile(fp,'\n');</span>
<a href="#l1.1423"></a><span id="l1.1423"> </span>
<a href="#l1.1424"></a><span id="l1.1424" class="difflineminus">-    return 1;</span>
<a href="#l1.1425"></a><span id="l1.1425" class="difflineplus">+  return 1;</span>
<a href="#l1.1426"></a><span id="l1.1426"> }</span>
<a href="#l1.1427"></a><span id="l1.1427"> </span>
<a href="#l1.1428"></a><span id="l1.1428"> static void writeQPString(OFile *fp, const char *s)</span>
<a href="#l1.1429"></a><span id="l1.1429"> {</span>
<a href="#l1.1430"></a><span id="l1.1430" class="difflineminus">-    const unsigned char *p = (const unsigned char *)s;</span>
<a href="#l1.1431"></a><span id="l1.1431" class="difflineplus">+  const unsigned char *p = (const unsigned char *)s;</span>
<a href="#l1.1432"></a><span id="l1.1432">   int current_column = 0;</span>
<a href="#l1.1433"></a><span id="l1.1433">   static const char hexdigits[] = &quot;0123456789ABCDEF&quot;;</span>
<a href="#l1.1434"></a><span id="l1.1434">   bool white = false;</span>
<a href="#l1.1435"></a><span id="l1.1435">   bool contWhite = false;</span>
<a href="#l1.1436"></a><span id="l1.1436">   bool mb_p = false;</span>
<a href="#l1.1437"></a><span id="l1.1437"> </span>
<a href="#l1.1438"></a><span id="l1.1438" class="difflineminus">-  if (needsQuotedPrintable (s)) </span>
<a href="#l1.1439"></a><span id="l1.1439" class="difflineplus">+  if (needsQuotedPrintable (s))</span>
<a href="#l1.1440"></a><span id="l1.1440">   {</span>
<a href="#l1.1441"></a><span id="l1.1441">     while (*p) {</span>
<a href="#l1.1442"></a><span id="l1.1442">       if (*p == '\r' || *p == '\n')</span>
<a href="#l1.1443"></a><span id="l1.1443">       {</span>
<a href="#l1.1444"></a><span id="l1.1444">         /* Whitespace cannot be allowed to occur at the end of the line.</span>
<a href="#l1.1445"></a><span id="l1.1445" class="difflineminus">-        So we encode &quot; \n&quot; as &quot; =\n\n&quot;, that is, the whitespace, a</span>
<a href="#l1.1446"></a><span id="l1.1446" class="difflineminus">-        soft line break, and then a hard line break.</span>
<a href="#l1.1447"></a><span id="l1.1447" class="difflineminus">-        */</span>
<a href="#l1.1448"></a><span id="l1.1448" class="difflineplus">+           So we encode &quot; \n&quot; as &quot; =\n\n&quot;, that is, the whitespace, a</span>
<a href="#l1.1449"></a><span id="l1.1449" class="difflineplus">+           soft line break, and then a hard line break.</span>
<a href="#l1.1450"></a><span id="l1.1450" class="difflineplus">+         */</span>
<a href="#l1.1451"></a><span id="l1.1451"> </span>
<a href="#l1.1452"></a><span id="l1.1452">         if (white)</span>
<a href="#l1.1453"></a><span id="l1.1453">         {</span>
<a href="#l1.1454"></a><span id="l1.1454">           appendcOFile(fp,'=');</span>
<a href="#l1.1455"></a><span id="l1.1455">           appendcOFile(fp,'\n');</span>
<a href="#l1.1456"></a><span id="l1.1456">           appendcOFile(fp,'\t');</span>
<a href="#l1.1457"></a><span id="l1.1457">           appendsOFile(fp,&quot;=0D&quot;);</span>
<a href="#l1.1458"></a><span id="l1.1458">           appendsOFile(fp,&quot;=0A&quot;);</span>
<a href="#l1.1459"></a><span id="l1.1459" class="difflineat">@@ -1004,17 +1004,17 @@ static void writeQPString(OFile *fp, con</span>
<a href="#l1.1460"></a><span id="l1.1460">         {</span>
<a href="#l1.1461"></a><span id="l1.1461">           appendcOFile(fp,*p);</span>
<a href="#l1.1462"></a><span id="l1.1462">           current_column++;</span>
<a href="#l1.1463"></a><span id="l1.1463">           white = false;</span>
<a href="#l1.1464"></a><span id="l1.1464">           contWhite = false;</span>
<a href="#l1.1465"></a><span id="l1.1465">         }</span>
<a href="#l1.1466"></a><span id="l1.1466">         else if (*p == ' ' || *p == '\t')   /* whitespace */</span>
<a href="#l1.1467"></a><span id="l1.1467">         {</span>
<a href="#l1.1468"></a><span id="l1.1468" class="difflineminus">-          if (contWhite) </span>
<a href="#l1.1469"></a><span id="l1.1469" class="difflineplus">+          if (contWhite)</span>
<a href="#l1.1470"></a><span id="l1.1470">           {</span>
<a href="#l1.1471"></a><span id="l1.1471">             appendcOFile(fp,'=');</span>
<a href="#l1.1472"></a><span id="l1.1472">             appendcOFile(fp,hexdigits[*p &gt;&gt; 4]);</span>
<a href="#l1.1473"></a><span id="l1.1473">             appendcOFile(fp,hexdigits[*p &amp; 0xF]);</span>
<a href="#l1.1474"></a><span id="l1.1474">             current_column += 3;</span>
<a href="#l1.1475"></a><span id="l1.1475">             contWhite = false;</span>
<a href="#l1.1476"></a><span id="l1.1476">           }</span>
<a href="#l1.1477"></a><span id="l1.1477">           else</span>
<a href="#l1.1478"></a><span id="l1.1478" class="difflineat">@@ -1039,252 +1039,252 @@ static void writeQPString(OFile *fp, con</span>
<a href="#l1.1479"></a><span id="l1.1479">         if (current_column &gt;= 73 || ((*(p+1) == ' ') &amp;&amp; (current_column + 3 &gt;= 73)))    /* soft line break: &quot;=\r\n&quot; */</span>
<a href="#l1.1480"></a><span id="l1.1480">         {</span>
<a href="#l1.1481"></a><span id="l1.1481">           appendcOFile(fp,'=');</span>
<a href="#l1.1482"></a><span id="l1.1482">           appendcOFile(fp,'\n');</span>
<a href="#l1.1483"></a><span id="l1.1483">           appendcOFile(fp,'\t');</span>
<a href="#l1.1484"></a><span id="l1.1484">           current_column = 0;</span>
<a href="#l1.1485"></a><span id="l1.1485">           if (white)</span>
<a href="#l1.1486"></a><span id="l1.1486">             contWhite = true;</span>
<a href="#l1.1487"></a><span id="l1.1487" class="difflineminus">-          else </span>
<a href="#l1.1488"></a><span id="l1.1488" class="difflineplus">+          else</span>
<a href="#l1.1489"></a><span id="l1.1489">             contWhite = false;</span>
<a href="#l1.1490"></a><span id="l1.1490">           white = false;</span>
<a href="#l1.1491"></a><span id="l1.1491">         }</span>
<a href="#l1.1492"></a><span id="l1.1492" class="difflineminus">-      } </span>
<a href="#l1.1493"></a><span id="l1.1493" class="difflineplus">+      }</span>
<a href="#l1.1494"></a><span id="l1.1494">       p++;</span>
<a href="#l1.1495"></a><span id="l1.1495">     }  /* while */</span>
<a href="#l1.1496"></a><span id="l1.1496">   }  /* if */</span>
<a href="#l1.1497"></a><span id="l1.1497" class="difflineminus">-  else </span>
<a href="#l1.1498"></a><span id="l1.1498" class="difflineplus">+  else</span>
<a href="#l1.1499"></a><span id="l1.1499">   {</span>
<a href="#l1.1500"></a><span id="l1.1500" class="difflineminus">-      while (*p) {</span>
<a href="#l1.1501"></a><span id="l1.1501" class="difflineplus">+    while (*p) {</span>
<a href="#l1.1502"></a><span id="l1.1502">       appendcOFile(fp,*p);</span>
<a href="#l1.1503"></a><span id="l1.1503">       p++;</span>
<a href="#l1.1504"></a><span id="l1.1504">     }</span>
<a href="#l1.1505"></a><span id="l1.1505">   }</span>
<a href="#l1.1506"></a><span id="l1.1506"> }</span>
<a href="#l1.1507"></a><span id="l1.1507"> </span>
<a href="#l1.1508"></a><span id="l1.1508"> </span>
<a href="#l1.1509"></a><span id="l1.1509"> static void writeValue(OFile *fp, VObject *o, unsigned long size)</span>
<a href="#l1.1510"></a><span id="l1.1510"> {</span>
<a href="#l1.1511"></a><span id="l1.1511" class="difflineminus">-    if (o == 0) return;</span>
<a href="#l1.1512"></a><span id="l1.1512" class="difflineminus">-    switch (VALUE_TYPE(o)) {</span>
<a href="#l1.1513"></a><span id="l1.1513" class="difflineminus">-  case VCVT_USTRINGZ: {</span>
<a href="#l1.1514"></a><span id="l1.1514" class="difflineplus">+  if (o == 0) return;</span>
<a href="#l1.1515"></a><span id="l1.1515" class="difflineplus">+  switch (VALUE_TYPE(o)) {</span>
<a href="#l1.1516"></a><span id="l1.1516" class="difflineplus">+    case VCVT_USTRINGZ: {</span>
<a href="#l1.1517"></a><span id="l1.1517">       char *s = fakeCString(USTRINGZ_VALUE_OF(o));</span>
<a href="#l1.1518"></a><span id="l1.1518">       writeQPString(fp, s);</span>
<a href="#l1.1519"></a><span id="l1.1519">       deleteString(s);</span>
<a href="#l1.1520"></a><span id="l1.1520">       break;</span>
<a href="#l1.1521"></a><span id="l1.1521" class="difflineminus">-      }</span>
<a href="#l1.1522"></a><span id="l1.1522" class="difflineminus">-  case VCVT_STRINGZ: {</span>
<a href="#l1.1523"></a><span id="l1.1523" class="difflineplus">+    }</span>
<a href="#l1.1524"></a><span id="l1.1524" class="difflineplus">+    case VCVT_STRINGZ: {</span>
<a href="#l1.1525"></a><span id="l1.1525">       writeQPString(fp, STRINGZ_VALUE_OF(o));</span>
<a href="#l1.1526"></a><span id="l1.1526">       break;</span>
<a href="#l1.1527"></a><span id="l1.1527" class="difflineminus">-      }</span>
<a href="#l1.1528"></a><span id="l1.1528" class="difflineminus">-  case VCVT_UINT: {</span>
<a href="#l1.1529"></a><span id="l1.1529" class="difflineplus">+    }</span>
<a href="#l1.1530"></a><span id="l1.1530" class="difflineplus">+    case VCVT_UINT: {</span>
<a href="#l1.1531"></a><span id="l1.1531">       char buf[11];</span>
<a href="#l1.1532"></a><span id="l1.1532">       sprintf(buf,&quot;%u&quot;, INTEGER_VALUE_OF(o));</span>
<a href="#l1.1533"></a><span id="l1.1533">       appendsOFile(fp, buf);</span>
<a href="#l1.1534"></a><span id="l1.1534">       break;</span>
<a href="#l1.1535"></a><span id="l1.1535" class="difflineminus">-      }</span>
<a href="#l1.1536"></a><span id="l1.1536" class="difflineminus">-  case VCVT_ULONG: {</span>
<a href="#l1.1537"></a><span id="l1.1537" class="difflineplus">+    }</span>
<a href="#l1.1538"></a><span id="l1.1538" class="difflineplus">+    case VCVT_ULONG: {</span>
<a href="#l1.1539"></a><span id="l1.1539">       char buf[21];</span>
<a href="#l1.1540"></a><span id="l1.1540">       sprintf(buf,&quot;%lu&quot;, LONG_VALUE_OF(o));</span>
<a href="#l1.1541"></a><span id="l1.1541">       appendsOFile(fp, buf);</span>
<a href="#l1.1542"></a><span id="l1.1542">       break;</span>
<a href="#l1.1543"></a><span id="l1.1543" class="difflineminus">-      }</span>
<a href="#l1.1544"></a><span id="l1.1544" class="difflineminus">-  case VCVT_RAW: {</span>
<a href="#l1.1545"></a><span id="l1.1545" class="difflineplus">+    }</span>
<a href="#l1.1546"></a><span id="l1.1546" class="difflineplus">+    case VCVT_RAW: {</span>
<a href="#l1.1547"></a><span id="l1.1547">       appendcOFile(fp,'\n');</span>
<a href="#l1.1548"></a><span id="l1.1548">       writeBase64(fp,(unsigned char*)(ANY_VALUE_OF(o)),size);</span>
<a href="#l1.1549"></a><span id="l1.1549">       break;</span>
<a href="#l1.1550"></a><span id="l1.1550" class="difflineminus">-      }</span>
<a href="#l1.1551"></a><span id="l1.1551" class="difflineminus">-  case VCVT_VOBJECT:</span>
<a href="#l1.1552"></a><span id="l1.1552" class="difflineplus">+    }</span>
<a href="#l1.1553"></a><span id="l1.1553" class="difflineplus">+    case VCVT_VOBJECT:</span>
<a href="#l1.1554"></a><span id="l1.1554">       appendcOFile(fp,'\n');</span>
<a href="#l1.1555"></a><span id="l1.1555">       writeVObject_(fp,VOBJECT_VALUE_OF(o));</span>
<a href="#l1.1556"></a><span id="l1.1556">       break;</span>
<a href="#l1.1557"></a><span id="l1.1557">   }</span>
<a href="#l1.1558"></a><span id="l1.1558"> }</span>
<a href="#l1.1559"></a><span id="l1.1559"> </span>
<a href="#l1.1560"></a><span id="l1.1560"> static void writeAttrValue(OFile *fp, VObject *o, int* length)</span>
<a href="#l1.1561"></a><span id="l1.1561"> {</span>
<a href="#l1.1562"></a><span id="l1.1562">   int ilen = 0;</span>
<a href="#l1.1563"></a><span id="l1.1563" class="difflineminus">-    if (NAME_OF(o)) {</span>
<a href="#l1.1564"></a><span id="l1.1564" class="difflineminus">-  struct PreDefProp *pi;</span>
<a href="#l1.1565"></a><span id="l1.1565" class="difflineminus">-  pi = lookupPropInfo(NAME_OF(o));</span>
<a href="#l1.1566"></a><span id="l1.1566" class="difflineminus">-  if (pi &amp;&amp; ((pi-&gt;flags &amp; PD_INTERNAL) != 0)) return;</span>
<a href="#l1.1567"></a><span id="l1.1567" class="difflineminus">-  appendcOFile(fp,';');</span>
<a href="#l1.1568"></a><span id="l1.1568" class="difflineminus">-  if (*length != -1)</span>
<a href="#l1.1569"></a><span id="l1.1569" class="difflineminus">-    (*length)++;</span>
<a href="#l1.1570"></a><span id="l1.1570" class="difflineminus">-  appendsOFile(fp,NAME_OF(o));</span>
<a href="#l1.1571"></a><span id="l1.1571" class="difflineminus">-  if (*length != -1)</span>
<a href="#l1.1572"></a><span id="l1.1572" class="difflineminus">-    (*length) += PL_strlen (NAME_OF(o));</span>
<a href="#l1.1573"></a><span id="l1.1573" class="difflineplus">+  if (NAME_OF(o)) {</span>
<a href="#l1.1574"></a><span id="l1.1574" class="difflineplus">+    struct PreDefProp *pi;</span>
<a href="#l1.1575"></a><span id="l1.1575" class="difflineplus">+    pi = lookupPropInfo(NAME_OF(o));</span>
<a href="#l1.1576"></a><span id="l1.1576" class="difflineplus">+    if (pi &amp;&amp; ((pi-&gt;flags &amp; PD_INTERNAL) != 0)) return;</span>
<a href="#l1.1577"></a><span id="l1.1577" class="difflineplus">+    appendcOFile(fp,';');</span>
<a href="#l1.1578"></a><span id="l1.1578" class="difflineplus">+    if (*length != -1)</span>
<a href="#l1.1579"></a><span id="l1.1579" class="difflineplus">+      (*length)++;</span>
<a href="#l1.1580"></a><span id="l1.1580" class="difflineplus">+    appendsOFile(fp,NAME_OF(o));</span>
<a href="#l1.1581"></a><span id="l1.1581" class="difflineplus">+    if (*length != -1)</span>
<a href="#l1.1582"></a><span id="l1.1582" class="difflineplus">+      (*length) += PL_strlen (NAME_OF(o));</span>
<a href="#l1.1583"></a><span id="l1.1583">   }</span>
<a href="#l1.1584"></a><span id="l1.1584" class="difflineminus">-    else {</span>
<a href="#l1.1585"></a><span id="l1.1585" class="difflineplus">+  else {</span>
<a href="#l1.1586"></a><span id="l1.1586">     appendcOFile(fp,';');</span>
<a href="#l1.1587"></a><span id="l1.1587">     (*length)++;</span>
<a href="#l1.1588"></a><span id="l1.1588">   }</span>
<a href="#l1.1589"></a><span id="l1.1589" class="difflineminus">-    if (VALUE_TYPE(o)) {</span>
<a href="#l1.1590"></a><span id="l1.1590" class="difflineminus">-  appendcOFile(fp,'=');</span>
<a href="#l1.1591"></a><span id="l1.1591" class="difflineminus">-  if (*length != -1) {</span>
<a href="#l1.1592"></a><span id="l1.1592" class="difflineminus">-    (*length)++;</span>
<a href="#l1.1593"></a><span id="l1.1593" class="difflineminus">-    for (ilen = 0; ilen &lt; MAXMOZPROPNAMESIZE - (*length); ilen++)</span>
<a href="#l1.1594"></a><span id="l1.1594" class="difflineminus">-      appendcOFile(fp,' ');</span>
<a href="#l1.1595"></a><span id="l1.1595" class="difflineminus">-  }</span>
<a href="#l1.1596"></a><span id="l1.1596" class="difflineminus">-  writeValue(fp,o,0);</span>
<a href="#l1.1597"></a><span id="l1.1597" class="difflineplus">+  if (VALUE_TYPE(o)) {</span>
<a href="#l1.1598"></a><span id="l1.1598" class="difflineplus">+    appendcOFile(fp,'=');</span>
<a href="#l1.1599"></a><span id="l1.1599" class="difflineplus">+    if (*length != -1) {</span>
<a href="#l1.1600"></a><span id="l1.1600" class="difflineplus">+      (*length)++;</span>
<a href="#l1.1601"></a><span id="l1.1601" class="difflineplus">+      for (ilen = 0; ilen &lt; MAXMOZPROPNAMESIZE - (*length); ilen++)</span>
<a href="#l1.1602"></a><span id="l1.1602" class="difflineplus">+        appendcOFile(fp,' ');</span>
<a href="#l1.1603"></a><span id="l1.1603" class="difflineplus">+    }</span>
<a href="#l1.1604"></a><span id="l1.1604" class="difflineplus">+    writeValue(fp,o,0);</span>
<a href="#l1.1605"></a><span id="l1.1605">   }</span>
<a href="#l1.1606"></a><span id="l1.1606"> }</span>
<a href="#l1.1607"></a><span id="l1.1607"> </span>
<a href="#l1.1608"></a><span id="l1.1608"> static void writeGroup(OFile *fp, VObject *o)</span>
<a href="#l1.1609"></a><span id="l1.1609"> {</span>
<a href="#l1.1610"></a><span id="l1.1610">   nsAutoCString buf(NAME_OF(o));</span>
<a href="#l1.1611"></a><span id="l1.1611"> </span>
<a href="#l1.1612"></a><span id="l1.1612">   while ((o=isAPropertyOf(o,VCGroupingProp)) != 0) {</span>
<a href="#l1.1613"></a><span id="l1.1613">     buf.InsertLiteral(&quot;.&quot;, 0);</span>
<a href="#l1.1614"></a><span id="l1.1614">     buf.Insert(STRINGZ_VALUE_OF(o), 0);</span>
<a href="#l1.1615"></a><span id="l1.1615">   }</span>
<a href="#l1.1616"></a><span id="l1.1616">   appendsOFile(fp, buf.get());</span>
<a href="#l1.1617"></a><span id="l1.1617"> }</span>
<a href="#l1.1618"></a><span id="l1.1618"> </span>
<a href="#l1.1619"></a><span id="l1.1619"> static int inList(const char **list, const char *s)</span>
<a href="#l1.1620"></a><span id="l1.1620"> {</span>
<a href="#l1.1621"></a><span id="l1.1621" class="difflineminus">-    if (list == 0) return 0;</span>
<a href="#l1.1622"></a><span id="l1.1622" class="difflineminus">-    while (*list) {</span>
<a href="#l1.1623"></a><span id="l1.1623" class="difflineminus">-  if (PL_strcasecmp(*list,s) == 0) return 1;</span>
<a href="#l1.1624"></a><span id="l1.1624" class="difflineminus">-  list++;</span>
<a href="#l1.1625"></a><span id="l1.1625" class="difflineplus">+  if (list == 0) return 0;</span>
<a href="#l1.1626"></a><span id="l1.1626" class="difflineplus">+  while (*list) {</span>
<a href="#l1.1627"></a><span id="l1.1627" class="difflineplus">+    if (PL_strcasecmp(*list,s) == 0) return 1;</span>
<a href="#l1.1628"></a><span id="l1.1628" class="difflineplus">+    list++;</span>
<a href="#l1.1629"></a><span id="l1.1629">   }</span>
<a href="#l1.1630"></a><span id="l1.1630" class="difflineminus">-    return 0;</span>
<a href="#l1.1631"></a><span id="l1.1631" class="difflineplus">+  return 0;</span>
<a href="#l1.1632"></a><span id="l1.1632"> }</span>
<a href="#l1.1633"></a><span id="l1.1633"> </span>
<a href="#l1.1634"></a><span id="l1.1634"> static void writeProp(OFile *fp, VObject *o)</span>
<a href="#l1.1635"></a><span id="l1.1635"> {</span>
<a href="#l1.1636"></a><span id="l1.1636">   int length = -1;</span>
<a href="#l1.1637"></a><span id="l1.1637">   //int ilen = 0;</span>
<a href="#l1.1638"></a><span id="l1.1638"> </span>
<a href="#l1.1639"></a><span id="l1.1639" class="difflineminus">-    if (NAME_OF(o)) {</span>
<a href="#l1.1640"></a><span id="l1.1640" class="difflineminus">-  struct PreDefProp *pi;</span>
<a href="#l1.1641"></a><span id="l1.1641" class="difflineminus">-  VObjectIterator t;</span>
<a href="#l1.1642"></a><span id="l1.1642" class="difflineminus">-  const char **fields_ = 0;</span>
<a href="#l1.1643"></a><span id="l1.1643" class="difflineminus">-  pi = lookupPropInfo(NAME_OF(o));</span>
<a href="#l1.1644"></a><span id="l1.1644" class="difflineminus">-  if (pi &amp;&amp; ((pi-&gt;flags &amp; PD_BEGIN) != 0)) {</span>
<a href="#l1.1645"></a><span id="l1.1645" class="difflineplus">+  if (NAME_OF(o)) {</span>
<a href="#l1.1646"></a><span id="l1.1646" class="difflineplus">+    struct PreDefProp *pi;</span>
<a href="#l1.1647"></a><span id="l1.1647" class="difflineplus">+    VObjectIterator t;</span>
<a href="#l1.1648"></a><span id="l1.1648" class="difflineplus">+    const char **fields_ = 0;</span>
<a href="#l1.1649"></a><span id="l1.1649" class="difflineplus">+    pi = lookupPropInfo(NAME_OF(o));</span>
<a href="#l1.1650"></a><span id="l1.1650" class="difflineplus">+    if (pi &amp;&amp; ((pi-&gt;flags &amp; PD_BEGIN) != 0)) {</span>
<a href="#l1.1651"></a><span id="l1.1651">       writeVObject_(fp,o);</span>
<a href="#l1.1652"></a><span id="l1.1652">       return;</span>
<a href="#l1.1653"></a><span id="l1.1653" class="difflineminus">-      }</span>
<a href="#l1.1654"></a><span id="l1.1654" class="difflineminus">-  if (isAPropertyOf(o,VCGroupingProp))</span>
<a href="#l1.1655"></a><span id="l1.1655" class="difflineplus">+    }</span>
<a href="#l1.1656"></a><span id="l1.1656" class="difflineplus">+    if (isAPropertyOf(o,VCGroupingProp))</span>
<a href="#l1.1657"></a><span id="l1.1657">       writeGroup(fp,o);</span>
<a href="#l1.1658"></a><span id="l1.1658" class="difflineminus">-  else </span>
<a href="#l1.1659"></a><span id="l1.1659" class="difflineplus">+    else</span>
<a href="#l1.1660"></a><span id="l1.1660">       appendsOFile(fp,NAME_OF(o));</span>
<a href="#l1.1661"></a><span id="l1.1661" class="difflineminus">-  if (pi) fields_ = pi-&gt;fields;</span>
<a href="#l1.1662"></a><span id="l1.1662" class="difflineminus">-  initPropIterator(&amp;t,o);</span>
<a href="#l1.1663"></a><span id="l1.1663" class="difflineminus">-  while (moreIteration(&amp;t)) {</span>
<a href="#l1.1664"></a><span id="l1.1664" class="difflineplus">+    if (pi) fields_ = pi-&gt;fields;</span>
<a href="#l1.1665"></a><span id="l1.1665" class="difflineplus">+    initPropIterator(&amp;t,o);</span>
<a href="#l1.1666"></a><span id="l1.1666" class="difflineplus">+    while (moreIteration(&amp;t)) {</span>
<a href="#l1.1667"></a><span id="l1.1667">       const char *s;</span>
<a href="#l1.1668"></a><span id="l1.1668">       VObject *eachProp = nextVObject(&amp;t);</span>
<a href="#l1.1669"></a><span id="l1.1669">       s = NAME_OF(eachProp);</span>
<a href="#l1.1670"></a><span id="l1.1670">       if (PL_strcasecmp(VCGroupingProp,s) &amp;&amp; !inList(fields_,s))</span>
<a href="#l1.1671"></a><span id="l1.1671" class="difflineminus">-    writeAttrValue(fp,eachProp, &amp;length);</span>
<a href="#l1.1672"></a><span id="l1.1672" class="difflineminus">-      }</span>
<a href="#l1.1673"></a><span id="l1.1673" class="difflineminus">-  if (fields_) {</span>
<a href="#l1.1674"></a><span id="l1.1674" class="difflineplus">+      writeAttrValue(fp,eachProp, &amp;length);</span>
<a href="#l1.1675"></a><span id="l1.1675" class="difflineplus">+    }</span>
<a href="#l1.1676"></a><span id="l1.1676" class="difflineplus">+    if (fields_) {</span>
<a href="#l1.1677"></a><span id="l1.1677">       int i = 0, n = 0;</span>
<a href="#l1.1678"></a><span id="l1.1678">       const char** fields = fields_;</span>
<a href="#l1.1679"></a><span id="l1.1679">       /* output prop as fields */</span>
<a href="#l1.1680"></a><span id="l1.1680">       appendcOFile(fp,':');</span>
<a href="#l1.1681"></a><span id="l1.1681">       while (*fields) {</span>
<a href="#l1.1682"></a><span id="l1.1682" class="difflineminus">-    VObject *tt = isAPropertyOf(o,*fields);</span>
<a href="#l1.1683"></a><span id="l1.1683" class="difflineminus">-    i++;</span>
<a href="#l1.1684"></a><span id="l1.1684" class="difflineminus">-    if (tt) n = i;</span>
<a href="#l1.1685"></a><span id="l1.1685" class="difflineminus">-    fields++;</span>
<a href="#l1.1686"></a><span id="l1.1686" class="difflineminus">-    }</span>
<a href="#l1.1687"></a><span id="l1.1687" class="difflineplus">+        VObject *tt = isAPropertyOf(o,*fields);</span>
<a href="#l1.1688"></a><span id="l1.1688" class="difflineplus">+        i++;</span>
<a href="#l1.1689"></a><span id="l1.1689" class="difflineplus">+        if (tt) n = i;</span>
<a href="#l1.1690"></a><span id="l1.1690" class="difflineplus">+        fields++;</span>
<a href="#l1.1691"></a><span id="l1.1691" class="difflineplus">+      }</span>
<a href="#l1.1692"></a><span id="l1.1692">       fields = fields_;</span>
<a href="#l1.1693"></a><span id="l1.1693">       for (i=0;i&lt;n;i++) {</span>
<a href="#l1.1694"></a><span id="l1.1694" class="difflineminus">-    writeValue(fp,isAPropertyOf(o,*fields),0);</span>
<a href="#l1.1695"></a><span id="l1.1695" class="difflineminus">-    fields++;</span>
<a href="#l1.1696"></a><span id="l1.1696" class="difflineminus">-    if (i&lt;(n-1)) appendcOFile(fp,';');</span>
<a href="#l1.1697"></a><span id="l1.1697" class="difflineplus">+        writeValue(fp,isAPropertyOf(o,*fields),0);</span>
<a href="#l1.1698"></a><span id="l1.1698" class="difflineplus">+        fields++;</span>
<a href="#l1.1699"></a><span id="l1.1699" class="difflineplus">+        if (i&lt;(n-1)) appendcOFile(fp,';');</span>
<a href="#l1.1700"></a><span id="l1.1700" class="difflineplus">+      }</span>
<a href="#l1.1701"></a><span id="l1.1701">     }</span>
<a href="#l1.1702"></a><span id="l1.1702" class="difflineminus">-      }</span>
<a href="#l1.1703"></a><span id="l1.1703">   }</span>
<a href="#l1.1704"></a><span id="l1.1704" class="difflineminus">-  </span>
<a href="#l1.1705"></a><span id="l1.1705" class="difflineminus">-    if (VALUE_TYPE(o)) {</span>
<a href="#l1.1706"></a><span id="l1.1706" class="difflineminus">-  unsigned long size = 0;</span>
<a href="#l1.1707"></a><span id="l1.1707" class="difflineminus">-        VObject *p = isAPropertyOf(o,VCDataSizeProp);</span>
<a href="#l1.1708"></a><span id="l1.1708" class="difflineminus">-  if (p) size = LONG_VALUE_OF(p);</span>
<a href="#l1.1709"></a><span id="l1.1709" class="difflineminus">-  appendcOFile(fp,':');</span>
<a href="#l1.1710"></a><span id="l1.1710" class="difflineminus">-  writeValue(fp,o,size);</span>
<a href="#l1.1711"></a><span id="l1.1711" class="difflineplus">+</span>
<a href="#l1.1712"></a><span id="l1.1712" class="difflineplus">+  if (VALUE_TYPE(o)) {</span>
<a href="#l1.1713"></a><span id="l1.1713" class="difflineplus">+    unsigned long size = 0;</span>
<a href="#l1.1714"></a><span id="l1.1714" class="difflineplus">+    VObject *p = isAPropertyOf(o,VCDataSizeProp);</span>
<a href="#l1.1715"></a><span id="l1.1715" class="difflineplus">+    if (p) size = LONG_VALUE_OF(p);</span>
<a href="#l1.1716"></a><span id="l1.1716" class="difflineplus">+    appendcOFile(fp,':');</span>
<a href="#l1.1717"></a><span id="l1.1717" class="difflineplus">+    writeValue(fp,o,size);</span>
<a href="#l1.1718"></a><span id="l1.1718">   }</span>
<a href="#l1.1719"></a><span id="l1.1719" class="difflineminus">-    appendcOFile(fp,'\n');</span>
<a href="#l1.1720"></a><span id="l1.1720" class="difflineplus">+  appendcOFile(fp,'\n');</span>
<a href="#l1.1721"></a><span id="l1.1721"> }</span>
<a href="#l1.1722"></a><span id="l1.1722"> </span>
<a href="#l1.1723"></a><span id="l1.1723"> void writeVObject_(OFile *fp, VObject *o)</span>
<a href="#l1.1724"></a><span id="l1.1724"> {</span>
<a href="#l1.1725"></a><span id="l1.1725">   //int ilen = 0;</span>
<a href="#l1.1726"></a><span id="l1.1726" class="difflineminus">-    if (NAME_OF(o)) {</span>
<a href="#l1.1727"></a><span id="l1.1727" class="difflineminus">-  struct PreDefProp *pi;</span>
<a href="#l1.1728"></a><span id="l1.1728" class="difflineminus">-  pi = lookupPropInfo(NAME_OF(o));</span>
<a href="#l1.1729"></a><span id="l1.1729" class="difflineplus">+  if (NAME_OF(o)) {</span>
<a href="#l1.1730"></a><span id="l1.1730" class="difflineplus">+    struct PreDefProp *pi;</span>
<a href="#l1.1731"></a><span id="l1.1731" class="difflineplus">+    pi = lookupPropInfo(NAME_OF(o));</span>
<a href="#l1.1732"></a><span id="l1.1732"> </span>
<a href="#l1.1733"></a><span id="l1.1733" class="difflineminus">-  if (pi &amp;&amp; ((pi-&gt;flags &amp; PD_BEGIN) != 0)) {</span>
<a href="#l1.1734"></a><span id="l1.1734" class="difflineplus">+    if (pi &amp;&amp; ((pi-&gt;flags &amp; PD_BEGIN) != 0)) {</span>
<a href="#l1.1735"></a><span id="l1.1735">       VObjectIterator t;</span>
<a href="#l1.1736"></a><span id="l1.1736">       const char *begin = NAME_OF(o);</span>
<a href="#l1.1737"></a><span id="l1.1737">       appendsOFile(fp,&quot;begin:&quot;);</span>
<a href="#l1.1738"></a><span id="l1.1738">       appendsOFile(fp,begin);</span>
<a href="#l1.1739"></a><span id="l1.1739">       appendcOFile(fp,'\n');</span>
<a href="#l1.1740"></a><span id="l1.1740">       initPropIterator(&amp;t,o);</span>
<a href="#l1.1741"></a><span id="l1.1741">       while (moreIteration(&amp;t)) {</span>
<a href="#l1.1742"></a><span id="l1.1742" class="difflineminus">-      VObject *eachProp = nextVObject(&amp;t);</span>
<a href="#l1.1743"></a><span id="l1.1743" class="difflineminus">-      writeProp(fp, eachProp);</span>
<a href="#l1.1744"></a><span id="l1.1744" class="difflineminus">-    }</span>
<a href="#l1.1745"></a><span id="l1.1745" class="difflineplus">+        VObject *eachProp = nextVObject(&amp;t);</span>
<a href="#l1.1746"></a><span id="l1.1746" class="difflineplus">+        writeProp(fp, eachProp);</span>
<a href="#l1.1747"></a><span id="l1.1747" class="difflineplus">+      }</span>
<a href="#l1.1748"></a><span id="l1.1748">       appendsOFile(fp,&quot;end:&quot;);</span>
<a href="#l1.1749"></a><span id="l1.1749">       appendsOFile(fp,begin);</span>
<a href="#l1.1750"></a><span id="l1.1750">       appendsOFile(fp,&quot;\n\n&quot;);</span>
<a href="#l1.1751"></a><span id="l1.1751" class="difflineminus">-      }</span>
<a href="#l1.1752"></a><span id="l1.1752" class="difflineplus">+    }</span>
<a href="#l1.1753"></a><span id="l1.1753">   }</span>
<a href="#l1.1754"></a><span id="l1.1754"> }</span>
<a href="#l1.1755"></a><span id="l1.1755"> </span>
<a href="#l1.1756"></a><span id="l1.1756"> char* writeMemVObject(char *s, int *len, VObject *o)</span>
<a href="#l1.1757"></a><span id="l1.1757"> {</span>
<a href="#l1.1758"></a><span id="l1.1758" class="difflineminus">-    OFile ofp;</span>
<a href="#l1.1759"></a><span id="l1.1759" class="difflineminus">-    initMemOFile(&amp;ofp,s,len?*len:0);</span>
<a href="#l1.1760"></a><span id="l1.1760" class="difflineminus">-    writeVObject_(&amp;ofp,o);</span>
<a href="#l1.1761"></a><span id="l1.1761" class="difflineminus">-    if (len) *len = ofp.len;</span>
<a href="#l1.1762"></a><span id="l1.1762" class="difflineminus">-    appendcOFile(&amp;ofp,0);</span>
<a href="#l1.1763"></a><span id="l1.1763" class="difflineminus">-    return ofp.s;</span>
<a href="#l1.1764"></a><span id="l1.1764" class="difflineplus">+  OFile ofp;</span>
<a href="#l1.1765"></a><span id="l1.1765" class="difflineplus">+  initMemOFile(&amp;ofp,s,len?*len:0);</span>
<a href="#l1.1766"></a><span id="l1.1766" class="difflineplus">+  writeVObject_(&amp;ofp,o);</span>
<a href="#l1.1767"></a><span id="l1.1767" class="difflineplus">+  if (len) *len = ofp.len;</span>
<a href="#l1.1768"></a><span id="l1.1768" class="difflineplus">+  appendcOFile(&amp;ofp,0);</span>
<a href="#l1.1769"></a><span id="l1.1769" class="difflineplus">+  return ofp.s;</span>
<a href="#l1.1770"></a><span id="l1.1770"> }</span>
<a href="#l1.1771"></a><span id="l1.1771"> </span>
<a href="#l1.1772"></a><span id="l1.1772" class="difflineminus">-extern &quot;C&quot; </span>
<a href="#l1.1773"></a><span id="l1.1773" class="difflineplus">+extern &quot;C&quot;</span>
<a href="#l1.1774"></a><span id="l1.1774"> char * writeMemoryVObjects(char *s, int *len, VObject *list, bool expandSpaces)</span>
<a href="#l1.1775"></a><span id="l1.1775"> {</span>
<a href="#l1.1776"></a><span id="l1.1776" class="difflineminus">-    OFile ofp;</span>
<a href="#l1.1777"></a><span id="l1.1777" class="difflineminus">-    initMemOFile(&amp;ofp,s,len?*len:0);</span>
<a href="#l1.1778"></a><span id="l1.1778" class="difflineminus">-    while (list) {</span>
<a href="#l1.1779"></a><span id="l1.1779" class="difflineminus">-  writeVObject_(&amp;ofp,list);</span>
<a href="#l1.1780"></a><span id="l1.1780" class="difflineminus">-  list = nextVObjectInList(list);</span>
<a href="#l1.1781"></a><span id="l1.1781" class="difflineplus">+  OFile ofp;</span>
<a href="#l1.1782"></a><span id="l1.1782" class="difflineplus">+  initMemOFile(&amp;ofp,s,len?*len:0);</span>
<a href="#l1.1783"></a><span id="l1.1783" class="difflineplus">+  while (list) {</span>
<a href="#l1.1784"></a><span id="l1.1784" class="difflineplus">+    writeVObject_(&amp;ofp,list);</span>
<a href="#l1.1785"></a><span id="l1.1785" class="difflineplus">+    list = nextVObjectInList(list);</span>
<a href="#l1.1786"></a><span id="l1.1786">   }</span>
<a href="#l1.1787"></a><span id="l1.1787" class="difflineminus">-    if (len) *len = ofp.len;</span>
<a href="#l1.1788"></a><span id="l1.1788" class="difflineminus">-    appendcOFile(&amp;ofp,0);</span>
<a href="#l1.1789"></a><span id="l1.1789" class="difflineminus">-    return ofp.s;</span>
<a href="#l1.1790"></a><span id="l1.1790" class="difflineplus">+  if (len) *len = ofp.len;</span>
<a href="#l1.1791"></a><span id="l1.1791" class="difflineplus">+  appendcOFile(&amp;ofp,0);</span>
<a href="#l1.1792"></a><span id="l1.1792" class="difflineplus">+  return ofp.s;</span>
<a href="#l1.1793"></a><span id="l1.1793"> }</span>
<a href="#l1.1794"></a><span id="l1.1794"> </span>
<a href="#l1.1795"></a><span id="l1.1795"> /*----------------------------------------------------------------------</span>
<a href="#l1.1796"></a><span id="l1.1796">   APIs to do fake Unicode stuff.</span>
<a href="#l1.1797"></a><span id="l1.1797">   ----------------------------------------------------------------------*/</span>
<a href="#l1.1798"></a><span id="l1.1798"> vwchar_t* fakeUnicode(const char *ps, int *bytes)</span>
<a href="#l1.1799"></a><span id="l1.1799"> {</span>
<a href="#l1.1800"></a><span id="l1.1800" class="difflineminus">-    vwchar_t *r, *pw;</span>
<a href="#l1.1801"></a><span id="l1.1801" class="difflineminus">-    int len = strlen(ps)+1;</span>
<a href="#l1.1802"></a><span id="l1.1802" class="difflineplus">+  vwchar_t *r, *pw;</span>
<a href="#l1.1803"></a><span id="l1.1803" class="difflineplus">+  int len = strlen(ps)+1;</span>
<a href="#l1.1804"></a><span id="l1.1804"> </span>
<a href="#l1.1805"></a><span id="l1.1805" class="difflineminus">-    pw = r = (vwchar_t*)PR_CALLOC(sizeof(vwchar_t)*len);</span>
<a href="#l1.1806"></a><span id="l1.1806" class="difflineminus">-    if (bytes)</span>
<a href="#l1.1807"></a><span id="l1.1807" class="difflineminus">-  *bytes = len * sizeof(vwchar_t);</span>
<a href="#l1.1808"></a><span id="l1.1808" class="difflineplus">+  pw = r = (vwchar_t*)PR_CALLOC(sizeof(vwchar_t)*len);</span>
<a href="#l1.1809"></a><span id="l1.1809" class="difflineplus">+  if (bytes)</span>
<a href="#l1.1810"></a><span id="l1.1810" class="difflineplus">+    *bytes = len * sizeof(vwchar_t);</span>
<a href="#l1.1811"></a><span id="l1.1811"> </span>
<a href="#l1.1812"></a><span id="l1.1812" class="difflineminus">-    while (*ps) { </span>
<a href="#l1.1813"></a><span id="l1.1813" class="difflineminus">-  if (*ps == '\n')</span>
<a href="#l1.1814"></a><span id="l1.1814" class="difflineplus">+  while (*ps) {</span>
<a href="#l1.1815"></a><span id="l1.1815" class="difflineplus">+    if (*ps == '\n')</span>
<a href="#l1.1816"></a><span id="l1.1816">       *pw = (vwchar_t)0x2028;</span>
<a href="#l1.1817"></a><span id="l1.1817" class="difflineminus">-  else if (*ps == '\r')</span>
<a href="#l1.1818"></a><span id="l1.1818" class="difflineplus">+    else if (*ps == '\r')</span>
<a href="#l1.1819"></a><span id="l1.1819">       *pw = (vwchar_t)0x2029;</span>
<a href="#l1.1820"></a><span id="l1.1820" class="difflineminus">-  else</span>
<a href="#l1.1821"></a><span id="l1.1821" class="difflineplus">+    else</span>
<a href="#l1.1822"></a><span id="l1.1822">       *pw = (vwchar_t)(unsigned char)*ps;</span>
<a href="#l1.1823"></a><span id="l1.1823" class="difflineminus">-  ps++; pw++;</span>
<a href="#l1.1824"></a><span id="l1.1824" class="difflineminus">-  }        </span>
<a href="#l1.1825"></a><span id="l1.1825" class="difflineminus">-    *pw = (vwchar_t)0;</span>
<a href="#l1.1826"></a><span id="l1.1826" class="difflineminus">-  </span>
<a href="#l1.1827"></a><span id="l1.1827" class="difflineminus">-    return r;</span>
<a href="#l1.1828"></a><span id="l1.1828" class="difflineplus">+    ps++; pw++;</span>
<a href="#l1.1829"></a><span id="l1.1829" class="difflineplus">+  }</span>
<a href="#l1.1830"></a><span id="l1.1830" class="difflineplus">+  *pw = (vwchar_t)0;</span>
<a href="#l1.1831"></a><span id="l1.1831" class="difflineplus">+</span>
<a href="#l1.1832"></a><span id="l1.1832" class="difflineplus">+  return r;</span>
<a href="#l1.1833"></a><span id="l1.1833"> }</span>
<a href="#l1.1834"></a><span id="l1.1834"> </span>
<a href="#l1.1835"></a><span id="l1.1835"> int uStrLen(const vwchar_t *u)</span>
<a href="#l1.1836"></a><span id="l1.1836"> {</span>
<a href="#l1.1837"></a><span id="l1.1837">   if (!u)</span>
<a href="#l1.1838"></a><span id="l1.1838">     return 0;</span>
<a href="#l1.1839"></a><span id="l1.1839">   int i = 0;</span>
<a href="#l1.1840"></a><span id="l1.1840">   while (*u != (vwchar_t)0) { u++; i++; }</span>
<a href="#l1.1841"></a><span id="l1.1841" class="difflineat">@@ -1308,23 +1308,23 @@ char* fakeCString(const vwchar_t *u)</span>
<a href="#l1.1842"></a><span id="l1.1842">     }</span>
<a href="#l1.1843"></a><span id="l1.1843">   }</span>
<a href="#l1.1844"></a><span id="l1.1844">   *t = 0;</span>
<a href="#l1.1845"></a><span id="l1.1845">   return s;</span>
<a href="#l1.1846"></a><span id="l1.1846"> }</span>
<a href="#l1.1847"></a><span id="l1.1847"> </span>
<a href="#l1.1848"></a><span id="l1.1848"> const char* lookupStr(const char *s)</span>
<a href="#l1.1849"></a><span id="l1.1849"> {</span>
<a href="#l1.1850"></a><span id="l1.1850" class="difflineminus">-    StrItem *t;</span>
<a href="#l1.1851"></a><span id="l1.1851" class="difflineminus">-    unsigned int h = hashStr(s);</span>
<a href="#l1.1852"></a><span id="l1.1852" class="difflineminus">-    if ((t = strTbl[h]) != 0) {</span>
<a href="#l1.1853"></a><span id="l1.1853" class="difflineminus">-  do {</span>
<a href="#l1.1854"></a><span id="l1.1854" class="difflineplus">+  StrItem *t;</span>
<a href="#l1.1855"></a><span id="l1.1855" class="difflineplus">+  unsigned int h = hashStr(s);</span>
<a href="#l1.1856"></a><span id="l1.1856" class="difflineplus">+  if ((t = strTbl[h]) != 0) {</span>
<a href="#l1.1857"></a><span id="l1.1857" class="difflineplus">+    do {</span>
<a href="#l1.1858"></a><span id="l1.1858">       if (PL_strcasecmp(t-&gt;s,s) == 0) {</span>
<a href="#l1.1859"></a><span id="l1.1859" class="difflineminus">-    t-&gt;refCnt++;</span>
<a href="#l1.1860"></a><span id="l1.1860" class="difflineminus">-    return t-&gt;s;</span>
<a href="#l1.1861"></a><span id="l1.1861" class="difflineminus">-    }</span>
<a href="#l1.1862"></a><span id="l1.1862" class="difflineplus">+        t-&gt;refCnt++;</span>
<a href="#l1.1863"></a><span id="l1.1863" class="difflineplus">+        return t-&gt;s;</span>
<a href="#l1.1864"></a><span id="l1.1864" class="difflineplus">+      }</span>
<a href="#l1.1865"></a><span id="l1.1865">       t = t-&gt;next;</span>
<a href="#l1.1866"></a><span id="l1.1866" class="difflineminus">-      } while (t);</span>
<a href="#l1.1867"></a><span id="l1.1867" class="difflineplus">+    } while (t);</span>
<a href="#l1.1868"></a><span id="l1.1868">   }</span>
<a href="#l1.1869"></a><span id="l1.1869" class="difflineminus">-    s = dupStr(s,0);</span>
<a href="#l1.1870"></a><span id="l1.1870" class="difflineminus">-    strTbl[h] = newStrItem(s,strTbl[h]);</span>
<a href="#l1.1871"></a><span id="l1.1871" class="difflineminus">-    return s;</span>
<a href="#l1.1872"></a><span id="l1.1872" class="difflineplus">+  s = dupStr(s,0);</span>
<a href="#l1.1873"></a><span id="l1.1873" class="difflineplus">+  strTbl[h] = newStrItem(s,strTbl[h]);</span>
<a href="#l1.1874"></a><span id="l1.1874" class="difflineplus">+  return s;</span>
<a href="#l1.1875"></a><span id="l1.1875"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/addrbook/src/nsVCardObj.h</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsVCardObj.h</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,53 +1,53 @@</span>
<a href="#l2.4"></a><span id="l2.4"> /* -*- Mode: C; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l2.5"></a><span id="l2.5"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.6"></a><span id="l2.6">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.7"></a><span id="l2.7">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l2.8"></a><span id="l2.8"> /***************************************************************************</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineminus">-(C) Copyright 1996 Apple Computer, Inc., AT&amp;T Corp., International             </span>
<a href="#l2.10"></a><span id="l2.10" class="difflineminus">-Business Machines Corporation and Siemens Rolm Communications Inc.             </span>
<a href="#l2.11"></a><span id="l2.11" class="difflineminus">-                                                                               </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-For purposes of this license notice, the term Licensors shall mean,            </span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-collectively, Apple Computer, Inc., AT&amp;T Corp., International                  </span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-Business Machines Corporation and Siemens Rolm Communications Inc.             </span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-The term Licensor shall mean any of the Licensors.                             </span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-                                                                               </span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-Subject to acceptance of the following conditions, permission is hereby        </span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-granted by Licensors without the need for written agreement and without        </span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-license or royalty fees, to use, copy, modify and distribute this              </span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-software for any purpose.                                                      </span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-                                                                               </span>
<a href="#l2.22"></a><span id="l2.22" class="difflineminus">-The above copyright notice and the following four paragraphs must be           </span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-reproduced in all copies of this software and any software including           </span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-this software.                                                                 </span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-                                                                               </span>
<a href="#l2.26"></a><span id="l2.26" class="difflineminus">-THIS SOFTWARE IS PROVIDED ON AN &quot;AS IS&quot; BASIS AND NO LICENSOR SHALL HAVE       </span>
<a href="#l2.27"></a><span id="l2.27" class="difflineminus">-ANY OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS OR       </span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-MODIFICATIONS.                                                                 </span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-                                                                               </span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-IN NO EVENT SHALL ANY LICENSOR BE LIABLE TO ANY PARTY FOR DIRECT,              </span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES OR LOST PROFITS ARISING OUT         </span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-OF THE USE OF THIS SOFTWARE EVEN IF ADVISED OF THE POSSIBILITY OF SUCH         </span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-DAMAGE.                                                                        </span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-                                                                               </span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-EACH LICENSOR SPECIFICALLY DISCLAIMS ANY WARRANTIES, EXPRESS OR IMPLIED,       </span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-INCLUDING BUT NOT LIMITED TO ANY WARRANTY OF NONINFRINGEMENT OR THE            </span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR             </span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-PURPOSE.                                                                       </span>
<a href="#l2.39"></a><span id="l2.39" class="difflineplus">+(C) Copyright 1996 Apple Computer, Inc., AT&amp;T Corp., International</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineplus">+Business Machines Corporation and Siemens Rolm Communications Inc.</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineplus">+</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineplus">+For purposes of this license notice, the term Licensors shall mean,</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineplus">+collectively, Apple Computer, Inc., AT&amp;T Corp., International</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineplus">+Business Machines Corporation and Siemens Rolm Communications Inc.</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineplus">+The term Licensor shall mean any of the Licensors.</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineplus">+</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineplus">+Subject to acceptance of the following conditions, permission is hereby</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineplus">+granted by Licensors without the need for written agreement and without</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineplus">+license or royalty fees, to use, copy, modify and distribute this</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineplus">+software for any purpose.</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineplus">+</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineplus">+The above copyright notice and the following four paragraphs must be</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineplus">+reproduced in all copies of this software and any software including</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineplus">+this software.</span>
<a href="#l2.55"></a><span id="l2.55"> </span>
<a href="#l2.56"></a><span id="l2.56" class="difflineminus">-The software is provided with RESTRICTED RIGHTS.  Use, duplication, or         </span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-disclosure by the government are subject to restrictions set forth in          </span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-DFARS 252.227-7013 or 48 CFR 52.227-19, as applicable.                         </span>
<a href="#l2.59"></a><span id="l2.59" class="difflineplus">+THIS SOFTWARE IS PROVIDED ON AN &quot;AS IS&quot; BASIS AND NO LICENSOR SHALL HAVE</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineplus">+ANY OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS OR</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineplus">+MODIFICATIONS.</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineplus">+</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineplus">+IN NO EVENT SHALL ANY LICENSOR BE LIABLE TO ANY PARTY FOR DIRECT,</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineplus">+INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES OR LOST PROFITS ARISING OUT</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineplus">+OF THE USE OF THIS SOFTWARE EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineplus">+DAMAGE.</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineplus">+</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineplus">+EACH LICENSOR SPECIFICALLY DISCLAIMS ANY WARRANTIES, EXPRESS OR IMPLIED,</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineplus">+INCLUDING BUT NOT LIMITED TO ANY WARRANTY OF NONINFRINGEMENT OR THE</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineplus">+IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineplus">+PURPOSE.</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineplus">+</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineplus">+The software is provided with RESTRICTED RIGHTS.  Use, duplication, or</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineplus">+disclosure by the government are subject to restrictions set forth in</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineplus">+DFARS 252.227-7013 or 48 CFR 52.227-19, as applicable.</span>
<a href="#l2.76"></a><span id="l2.76"> </span>
<a href="#l2.77"></a><span id="l2.77"> ***************************************************************************/</span>
<a href="#l2.78"></a><span id="l2.78"> </span>
<a href="#l2.79"></a><span id="l2.79"> /*</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineminus">- </span>
<a href="#l2.81"></a><span id="l2.81" class="difflineminus">-The vCard/vCalendar C interface is implemented in the set </span>
<a href="#l2.82"></a><span id="l2.82" class="difflineplus">+</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineplus">+The vCard/vCalendar C interface is implemented in the set</span>
<a href="#l2.84"></a><span id="l2.84"> of files as follows:</span>
<a href="#l2.85"></a><span id="l2.85"> </span>
<a href="#l2.86"></a><span id="l2.86"> vcc.y, yacc source, and vcc.c, the yacc output you will use</span>
<a href="#l2.87"></a><span id="l2.87"> implements the core parser</span>
<a href="#l2.88"></a><span id="l2.88"> </span>
<a href="#l2.89"></a><span id="l2.89"> vobject.c implements an API that insulates the caller from</span>
<a href="#l2.90"></a><span id="l2.90"> the parser and changes in the vCard/vCalendar BNF</span>
<a href="#l2.91"></a><span id="l2.91"> </span>
<a href="#l2.92"></a><span id="l2.92" class="difflineat">@@ -57,20 +57,20 @@ vcc.h and vobject.h are header files for</span>
<a href="#l2.93"></a><span id="l2.93"> </span>
<a href="#l2.94"></a><span id="l2.94"> vcaltmp.h and vcaltmp.c implement vCalendar &quot;macro&quot; functions</span>
<a href="#l2.95"></a><span id="l2.95"> which you may find useful.</span>
<a href="#l2.96"></a><span id="l2.96"> </span>
<a href="#l2.97"></a><span id="l2.97"> test.c is a standalone test driver that exercises some of</span>
<a href="#l2.98"></a><span id="l2.98"> the features of the APIs provided. Invoke test.exe on a</span>
<a href="#l2.99"></a><span id="l2.99"> VCARD/VCALENDAR input text file and you will see the pretty</span>
<a href="#l2.100"></a><span id="l2.100"> print output of the internal representation (this pretty print</span>
<a href="#l2.101"></a><span id="l2.101" class="difflineminus">-output should give you a good idea of how the internal </span>
<a href="#l2.102"></a><span id="l2.102" class="difflineminus">-representation looks like -- there is one such output in the </span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-following too). Also, a file with the .out suffix is generated </span>
<a href="#l2.104"></a><span id="l2.104" class="difflineminus">-to show that the internal representation can be written back </span>
<a href="#l2.105"></a><span id="l2.105" class="difflineplus">+output should give you a good idea of how the internal</span>
<a href="#l2.106"></a><span id="l2.106" class="difflineplus">+representation looks like -- there is one such output in the</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineplus">+following too). Also, a file with the .out suffix is generated</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineplus">+to show that the internal representation can be written back</span>
<a href="#l2.109"></a><span id="l2.109"> in the original text format.</span>
<a href="#l2.110"></a><span id="l2.110"> </span>
<a href="#l2.111"></a><span id="l2.111"> For more information on this API see the readme.txt file</span>
<a href="#l2.112"></a><span id="l2.112"> which accompanied this distribution.</span>
<a href="#l2.113"></a><span id="l2.113"> </span>
<a href="#l2.114"></a><span id="l2.114">   Also visit:</span>
<a href="#l2.115"></a><span id="l2.115"> </span>
<a href="#l2.116"></a><span id="l2.116">     http://www.versit.com</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineat">@@ -93,178 +93,178 @@ they will use an appropriately defined l</span>
<a href="#l2.118"></a><span id="l2.118"> */</span>
<a href="#l2.119"></a><span id="l2.119"> </span>
<a href="#l2.120"></a><span id="l2.120"> typedef wchar_t vwchar_t;</span>
<a href="#l2.121"></a><span id="l2.121"> </span>
<a href="#l2.122"></a><span id="l2.122"> #ifdef __cplusplus</span>
<a href="#l2.123"></a><span id="l2.123"> extern &quot;C&quot; {</span>
<a href="#l2.124"></a><span id="l2.124"> #endif</span>
<a href="#l2.125"></a><span id="l2.125"> </span>
<a href="#l2.126"></a><span id="l2.126" class="difflineminus">-#define VC7bitProp        &quot;7bit&quot;</span>
<a href="#l2.127"></a><span id="l2.127" class="difflineminus">-#define VC8bitProp        &quot;8bit&quot;</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineminus">-#define VCAAlarmProp      &quot;aalarm&quot;</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineplus">+#define VC7bitProp &quot;7bit&quot;</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineplus">+#define VC8bitProp &quot;8bit&quot;</span>
<a href="#l2.131"></a><span id="l2.131" class="difflineplus">+#define VCAAlarmProp &quot;aalarm&quot;</span>
<a href="#l2.132"></a><span id="l2.132"> #define VCAdditionalNamesProp &quot;addn&quot;</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineminus">-#define VCAdrProp       &quot;adr&quot;</span>
<a href="#l2.134"></a><span id="l2.134" class="difflineminus">-#define VCAgentProp       &quot;agent&quot;</span>
<a href="#l2.135"></a><span id="l2.135" class="difflineminus">-#define VCAIFFProp        &quot;aiff&quot;</span>
<a href="#l2.136"></a><span id="l2.136" class="difflineminus">-#define VCAOLProp       &quot;aol&quot;</span>
<a href="#l2.137"></a><span id="l2.137" class="difflineminus">-#define VCAppleLinkProp     &quot;applelink&quot;</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineminus">-#define VCAttachProp      &quot;attach&quot;</span>
<a href="#l2.139"></a><span id="l2.139" class="difflineminus">-#define VCAttendeeProp      &quot;attendee&quot;</span>
<a href="#l2.140"></a><span id="l2.140" class="difflineminus">-#define VCATTMailProp     &quot;attmail&quot;</span>
<a href="#l2.141"></a><span id="l2.141" class="difflineminus">-#define VCAudioContentProp    &quot;audiocontent&quot;</span>
<a href="#l2.142"></a><span id="l2.142" class="difflineminus">-#define VCAVIProp       &quot;avi&quot;</span>
<a href="#l2.143"></a><span id="l2.143" class="difflineminus">-#define VCBase64Prop      &quot;base64&quot;</span>
<a href="#l2.144"></a><span id="l2.144" class="difflineminus">-#define VCBBSProp       &quot;bbs&quot;</span>
<a href="#l2.145"></a><span id="l2.145" class="difflineminus">-#define VCBirthDateProp     &quot;bday&quot;</span>
<a href="#l2.146"></a><span id="l2.146" class="difflineminus">-#define VCBMPProp       &quot;bmp&quot;</span>
<a href="#l2.147"></a><span id="l2.147" class="difflineminus">-#define VCBodyProp        &quot;body&quot;</span>
<a href="#l2.148"></a><span id="l2.148" class="difflineminus">-#define VCBusinessRoleProp    &quot;role&quot;</span>
<a href="#l2.149"></a><span id="l2.149" class="difflineminus">-#define VCCalProp       &quot;vcalendar&quot;</span>
<a href="#l2.150"></a><span id="l2.150" class="difflineminus">-#define VCCaptionProp     &quot;cap&quot;</span>
<a href="#l2.151"></a><span id="l2.151" class="difflineminus">-#define VCCardProp        &quot;vcard&quot;</span>
<a href="#l2.152"></a><span id="l2.152" class="difflineminus">-#define VCCarProp       &quot;car&quot;</span>
<a href="#l2.153"></a><span id="l2.153" class="difflineminus">-#define VCCategoriesProp    &quot;categories&quot;</span>
<a href="#l2.154"></a><span id="l2.154" class="difflineminus">-#define VCCellularProp      &quot;cell&quot;</span>
<a href="#l2.155"></a><span id="l2.155" class="difflineminus">-#define VCCGMProp       &quot;cgm&quot;</span>
<a href="#l2.156"></a><span id="l2.156" class="difflineminus">-#define VCCharSetProp     &quot;cs&quot;</span>
<a href="#l2.157"></a><span id="l2.157" class="difflineminus">-#define VCCIDProp       &quot;cid&quot;</span>
<a href="#l2.158"></a><span id="l2.158" class="difflineminus">-#define VCCISProp       &quot;cis&quot;</span>
<a href="#l2.159"></a><span id="l2.159" class="difflineminus">-#define VCCityProp        &quot;l&quot;</span>
<a href="#l2.160"></a><span id="l2.160" class="difflineminus">-#define VCClassProp       &quot;class&quot;</span>
<a href="#l2.161"></a><span id="l2.161" class="difflineminus">-#define VCCommentProp     &quot;note&quot;</span>
<a href="#l2.162"></a><span id="l2.162" class="difflineminus">-#define VCCompletedProp     &quot;completed&quot;</span>
<a href="#l2.163"></a><span id="l2.163" class="difflineminus">-#define VCContentIDProp     &quot;content-id&quot;</span>
<a href="#l2.164"></a><span id="l2.164" class="difflineminus">-#define VCCountryNameProp   &quot;c&quot;</span>
<a href="#l2.165"></a><span id="l2.165" class="difflineminus">-#define VCDAlarmProp      &quot;dalarm&quot;</span>
<a href="#l2.166"></a><span id="l2.166" class="difflineminus">-#define VCDataSizeProp      &quot;datasize&quot;</span>
<a href="#l2.167"></a><span id="l2.167" class="difflineminus">-#define VCDayLightProp      &quot;daylight&quot;</span>
<a href="#l2.168"></a><span id="l2.168" class="difflineminus">-#define VCDCreatedProp      &quot;dcreated&quot;</span>
<a href="#l2.169"></a><span id="l2.169" class="difflineminus">-#define VCDeliveryLabelProp     &quot;label&quot;</span>
<a href="#l2.170"></a><span id="l2.170" class="difflineminus">-#define VCDescriptionProp   &quot;description&quot;</span>
<a href="#l2.171"></a><span id="l2.171" class="difflineminus">-#define VCDIBProp       &quot;dib&quot;</span>
<a href="#l2.172"></a><span id="l2.172" class="difflineminus">-#define VCDisplayStringProp   &quot;displaystring&quot;</span>
<a href="#l2.173"></a><span id="l2.173" class="difflineminus">-#define VCDomesticProp      &quot;dom&quot;</span>
<a href="#l2.174"></a><span id="l2.174" class="difflineminus">-#define VCDTendProp       &quot;dtend&quot;</span>
<a href="#l2.175"></a><span id="l2.175" class="difflineminus">-#define VCDTstartProp     &quot;dtstart&quot;</span>
<a href="#l2.176"></a><span id="l2.176" class="difflineminus">-#define VCDueProp       &quot;due&quot;</span>
<a href="#l2.177"></a><span id="l2.177" class="difflineminus">-#define VCEmailAddressProp    &quot;email&quot;</span>
<a href="#l2.178"></a><span id="l2.178" class="difflineminus">-#define VCEncodingProp      &quot;encoding&quot;</span>
<a href="#l2.179"></a><span id="l2.179" class="difflineminus">-#define VCEndProp       &quot;end&quot;</span>
<a href="#l2.180"></a><span id="l2.180" class="difflineminus">-#define VCEventProp       &quot;vevent&quot;</span>
<a href="#l2.181"></a><span id="l2.181" class="difflineminus">-#define VCEWorldProp      &quot;eworld&quot;</span>
<a href="#l2.182"></a><span id="l2.182" class="difflineminus">-#define VCExNumProp       &quot;exnum&quot;</span>
<a href="#l2.183"></a><span id="l2.183" class="difflineminus">-#define VCExpDateProp     &quot;exdate&quot;</span>
<a href="#l2.184"></a><span id="l2.184" class="difflineminus">-#define VCExpectProp      &quot;expect&quot;</span>
<a href="#l2.185"></a><span id="l2.185" class="difflineminus">-#define VCExtAddressProp    &quot;ext add&quot;</span>
<a href="#l2.186"></a><span id="l2.186" class="difflineminus">-#define VCFamilyNameProp    &quot;f&quot;</span>
<a href="#l2.187"></a><span id="l2.187" class="difflineminus">-#define VCFaxProp       &quot;fax&quot;</span>
<a href="#l2.188"></a><span id="l2.188" class="difflineminus">-#define VCFullNameProp      &quot;fn&quot;</span>
<a href="#l2.189"></a><span id="l2.189" class="difflineminus">-#define VCGeoProp       &quot;geo&quot;</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineminus">-#define VCGeoLocationProp   &quot;geo&quot;</span>
<a href="#l2.191"></a><span id="l2.191" class="difflineminus">-#define VCGIFProp       &quot;gif&quot;</span>
<a href="#l2.192"></a><span id="l2.192" class="difflineminus">-#define VCGivenNameProp     &quot;g&quot;</span>
<a href="#l2.193"></a><span id="l2.193" class="difflineminus">-#define VCGroupingProp      &quot;grouping&quot;</span>
<a href="#l2.194"></a><span id="l2.194" class="difflineminus">-#define VCHomeProp        &quot;home&quot;</span>
<a href="#l2.195"></a><span id="l2.195" class="difflineminus">-#define VCIBMMailProp     &quot;ibmmail&quot;</span>
<a href="#l2.196"></a><span id="l2.196" class="difflineminus">-#define VCInlineProp      &quot;inline&quot;</span>
<a href="#l2.197"></a><span id="l2.197" class="difflineminus">-#define VCInternationalProp   &quot;intl&quot;</span>
<a href="#l2.198"></a><span id="l2.198" class="difflineminus">-#define VCInternetProp      &quot;internet&quot;</span>
<a href="#l2.199"></a><span id="l2.199" class="difflineminus">-#define VCISDNProp        &quot;isdn&quot;</span>
<a href="#l2.200"></a><span id="l2.200" class="difflineminus">-#define VCJPEGProp        &quot;jpeg&quot;</span>
<a href="#l2.201"></a><span id="l2.201" class="difflineminus">-#define VCLanguageProp      &quot;lang&quot;</span>
<a href="#l2.202"></a><span id="l2.202" class="difflineminus">-#define VCLastModifiedProp    &quot;last-modified&quot;</span>
<a href="#l2.203"></a><span id="l2.203" class="difflineminus">-#define VCLastRevisedProp   &quot;rev&quot;</span>
<a href="#l2.204"></a><span id="l2.204" class="difflineminus">-#define VCLocationProp      &quot;location&quot;</span>
<a href="#l2.205"></a><span id="l2.205" class="difflineminus">-#define VCLogoProp        &quot;logo&quot;</span>
<a href="#l2.206"></a><span id="l2.206" class="difflineminus">-#define VCMailerProp      &quot;mailer&quot;</span>
<a href="#l2.207"></a><span id="l2.207" class="difflineminus">-#define VCMAlarmProp      &quot;malarm&quot;</span>
<a href="#l2.208"></a><span id="l2.208" class="difflineminus">-#define VCMCIMailProp     &quot;mcimail&quot;</span>
<a href="#l2.209"></a><span id="l2.209" class="difflineminus">-#define VCMessageProp     &quot;msg&quot;</span>
<a href="#l2.210"></a><span id="l2.210" class="difflineminus">-#define VCMETProp       &quot;met&quot;</span>
<a href="#l2.211"></a><span id="l2.211" class="difflineminus">-#define VCModemProp       &quot;modem&quot;</span>
<a href="#l2.212"></a><span id="l2.212" class="difflineminus">-#define VCMPEG2Prop       &quot;mpeg2&quot;</span>
<a href="#l2.213"></a><span id="l2.213" class="difflineminus">-#define VCMPEGProp        &quot;mpeg&quot;</span>
<a href="#l2.214"></a><span id="l2.214" class="difflineminus">-#define VCMSNProp       &quot;msn&quot;</span>
<a href="#l2.215"></a><span id="l2.215" class="difflineminus">-#define VCNamePrefixesProp    &quot;npre&quot;</span>
<a href="#l2.216"></a><span id="l2.216" class="difflineminus">-#define VCNameProp        &quot;n&quot;</span>
<a href="#l2.217"></a><span id="l2.217" class="difflineminus">-#define VCNameSuffixesProp    &quot;nsuf&quot;</span>
<a href="#l2.218"></a><span id="l2.218" class="difflineminus">-#define VCNoteProp        &quot;note&quot;</span>
<a href="#l2.219"></a><span id="l2.219" class="difflineminus">-#define VCOrgNameProp     &quot;orgname&quot;</span>
<a href="#l2.220"></a><span id="l2.220" class="difflineminus">-#define VCOrgProp       &quot;org&quot;</span>
<a href="#l2.221"></a><span id="l2.221" class="difflineminus">-#define VCOrgUnit2Prop      &quot;oun2&quot;</span>
<a href="#l2.222"></a><span id="l2.222" class="difflineminus">-#define VCOrgUnit3Prop      &quot;oun3&quot;</span>
<a href="#l2.223"></a><span id="l2.223" class="difflineminus">-#define VCOrgUnit4Prop      &quot;oun4&quot;</span>
<a href="#l2.224"></a><span id="l2.224" class="difflineminus">-#define VCOrgUnitProp     &quot;oun&quot;</span>
<a href="#l2.225"></a><span id="l2.225" class="difflineminus">-#define VCPagerProp       &quot;pager&quot;</span>
<a href="#l2.226"></a><span id="l2.226" class="difflineminus">-#define VCPAlarmProp      &quot;palarm&quot;</span>
<a href="#l2.227"></a><span id="l2.227" class="difflineminus">-#define VCParcelProp      &quot;parcel&quot;</span>
<a href="#l2.228"></a><span id="l2.228" class="difflineminus">-#define VCPartProp        &quot;part&quot;</span>
<a href="#l2.229"></a><span id="l2.229" class="difflineminus">-#define VCPCMProp       &quot;pcm&quot;</span>
<a href="#l2.230"></a><span id="l2.230" class="difflineminus">-#define VCPDFProp       &quot;pdf&quot;</span>
<a href="#l2.231"></a><span id="l2.231" class="difflineminus">-#define VCPGPProp       &quot;pgp&quot;</span>
<a href="#l2.232"></a><span id="l2.232" class="difflineminus">-#define VCPhotoProp       &quot;photo&quot;</span>
<a href="#l2.233"></a><span id="l2.233" class="difflineminus">-#define VCPICTProp        &quot;pict&quot;</span>
<a href="#l2.234"></a><span id="l2.234" class="difflineminus">-#define VCPMBProp       &quot;pmb&quot;</span>
<a href="#l2.235"></a><span id="l2.235" class="difflineminus">-#define VCPostalBoxProp     &quot;box&quot;</span>
<a href="#l2.236"></a><span id="l2.236" class="difflineminus">-#define VCPostalCodeProp    &quot;pc&quot;</span>
<a href="#l2.237"></a><span id="l2.237" class="difflineminus">-#define VCPostalProp      &quot;postal&quot;</span>
<a href="#l2.238"></a><span id="l2.238" class="difflineminus">-#define VCPowerShareProp    &quot;powershare&quot;</span>
<a href="#l2.239"></a><span id="l2.239" class="difflineminus">-#define VCPreferredProp     &quot;pref&quot;</span>
<a href="#l2.240"></a><span id="l2.240" class="difflineminus">-#define VCPriorityProp      &quot;priority&quot;</span>
<a href="#l2.241"></a><span id="l2.241" class="difflineminus">-#define VCProcedureNameProp   &quot;procedurename&quot;</span>
<a href="#l2.242"></a><span id="l2.242" class="difflineminus">-#define VCProdIdProp      &quot;prodid&quot;</span>
<a href="#l2.243"></a><span id="l2.243" class="difflineminus">-#define VCProdigyProp     &quot;prodigy&quot;</span>
<a href="#l2.244"></a><span id="l2.244" class="difflineminus">-#define VCPronunciationProp   &quot;sound&quot;</span>
<a href="#l2.245"></a><span id="l2.245" class="difflineminus">-#define VCPSProp        &quot;ps&quot;</span>
<a href="#l2.246"></a><span id="l2.246" class="difflineminus">-#define VCPublicKeyProp     &quot;key&quot;</span>
<a href="#l2.247"></a><span id="l2.247" class="difflineminus">-#define VCQPProp        &quot;qp&quot;</span>
<a href="#l2.248"></a><span id="l2.248" class="difflineminus">-#define VCQuickTimeProp     &quot;qtime&quot;</span>
<a href="#l2.249"></a><span id="l2.249" class="difflineplus">+#define VCAdrProp &quot;adr&quot;</span>
<a href="#l2.250"></a><span id="l2.250" class="difflineplus">+#define VCAgentProp &quot;agent&quot;</span>
<a href="#l2.251"></a><span id="l2.251" class="difflineplus">+#define VCAIFFProp &quot;aiff&quot;</span>
<a href="#l2.252"></a><span id="l2.252" class="difflineplus">+#define VCAOLProp &quot;aol&quot;</span>
<a href="#l2.253"></a><span id="l2.253" class="difflineplus">+#define VCAppleLinkProp &quot;applelink&quot;</span>
<a href="#l2.254"></a><span id="l2.254" class="difflineplus">+#define VCAttachProp &quot;attach&quot;</span>
<a href="#l2.255"></a><span id="l2.255" class="difflineplus">+#define VCAttendeeProp &quot;attendee&quot;</span>
<a href="#l2.256"></a><span id="l2.256" class="difflineplus">+#define VCATTMailProp &quot;attmail&quot;</span>
<a href="#l2.257"></a><span id="l2.257" class="difflineplus">+#define VCAudioContentProp &quot;audiocontent&quot;</span>
<a href="#l2.258"></a><span id="l2.258" class="difflineplus">+#define VCAVIProp &quot;avi&quot;</span>
<a href="#l2.259"></a><span id="l2.259" class="difflineplus">+#define VCBase64Prop &quot;base64&quot;</span>
<a href="#l2.260"></a><span id="l2.260" class="difflineplus">+#define VCBBSProp &quot;bbs&quot;</span>
<a href="#l2.261"></a><span id="l2.261" class="difflineplus">+#define VCBirthDateProp &quot;bday&quot;</span>
<a href="#l2.262"></a><span id="l2.262" class="difflineplus">+#define VCBMPProp &quot;bmp&quot;</span>
<a href="#l2.263"></a><span id="l2.263" class="difflineplus">+#define VCBodyProp &quot;body&quot;</span>
<a href="#l2.264"></a><span id="l2.264" class="difflineplus">+#define VCBusinessRoleProp &quot;role&quot;</span>
<a href="#l2.265"></a><span id="l2.265" class="difflineplus">+#define VCCalProp &quot;vcalendar&quot;</span>
<a href="#l2.266"></a><span id="l2.266" class="difflineplus">+#define VCCaptionProp &quot;cap&quot;</span>
<a href="#l2.267"></a><span id="l2.267" class="difflineplus">+#define VCCardProp &quot;vcard&quot;</span>
<a href="#l2.268"></a><span id="l2.268" class="difflineplus">+#define VCCarProp &quot;car&quot;</span>
<a href="#l2.269"></a><span id="l2.269" class="difflineplus">+#define VCCategoriesProp &quot;categories&quot;</span>
<a href="#l2.270"></a><span id="l2.270" class="difflineplus">+#define VCCellularProp &quot;cell&quot;</span>
<a href="#l2.271"></a><span id="l2.271" class="difflineplus">+#define VCCGMProp &quot;cgm&quot;</span>
<a href="#l2.272"></a><span id="l2.272" class="difflineplus">+#define VCCharSetProp &quot;cs&quot;</span>
<a href="#l2.273"></a><span id="l2.273" class="difflineplus">+#define VCCIDProp &quot;cid&quot;</span>
<a href="#l2.274"></a><span id="l2.274" class="difflineplus">+#define VCCISProp &quot;cis&quot;</span>
<a href="#l2.275"></a><span id="l2.275" class="difflineplus">+#define VCCityProp &quot;l&quot;</span>
<a href="#l2.276"></a><span id="l2.276" class="difflineplus">+#define VCClassProp &quot;class&quot;</span>
<a href="#l2.277"></a><span id="l2.277" class="difflineplus">+#define VCCommentProp &quot;note&quot;</span>
<a href="#l2.278"></a><span id="l2.278" class="difflineplus">+#define VCCompletedProp &quot;completed&quot;</span>
<a href="#l2.279"></a><span id="l2.279" class="difflineplus">+#define VCContentIDProp &quot;content-id&quot;</span>
<a href="#l2.280"></a><span id="l2.280" class="difflineplus">+#define VCCountryNameProp &quot;c&quot;</span>
<a href="#l2.281"></a><span id="l2.281" class="difflineplus">+#define VCDAlarmProp &quot;dalarm&quot;</span>
<a href="#l2.282"></a><span id="l2.282" class="difflineplus">+#define VCDataSizeProp &quot;datasize&quot;</span>
<a href="#l2.283"></a><span id="l2.283" class="difflineplus">+#define VCDayLightProp &quot;daylight&quot;</span>
<a href="#l2.284"></a><span id="l2.284" class="difflineplus">+#define VCDCreatedProp &quot;dcreated&quot;</span>
<a href="#l2.285"></a><span id="l2.285" class="difflineplus">+#define VCDeliveryLabelProp &quot;label&quot;</span>
<a href="#l2.286"></a><span id="l2.286" class="difflineplus">+#define VCDescriptionProp &quot;description&quot;</span>
<a href="#l2.287"></a><span id="l2.287" class="difflineplus">+#define VCDIBProp &quot;dib&quot;</span>
<a href="#l2.288"></a><span id="l2.288" class="difflineplus">+#define VCDisplayStringProp &quot;displaystring&quot;</span>
<a href="#l2.289"></a><span id="l2.289" class="difflineplus">+#define VCDomesticProp &quot;dom&quot;</span>
<a href="#l2.290"></a><span id="l2.290" class="difflineplus">+#define VCDTendProp &quot;dtend&quot;</span>
<a href="#l2.291"></a><span id="l2.291" class="difflineplus">+#define VCDTstartProp &quot;dtstart&quot;</span>
<a href="#l2.292"></a><span id="l2.292" class="difflineplus">+#define VCDueProp &quot;due&quot;</span>
<a href="#l2.293"></a><span id="l2.293" class="difflineplus">+#define VCEmailAddressProp &quot;email&quot;</span>
<a href="#l2.294"></a><span id="l2.294" class="difflineplus">+#define VCEncodingProp &quot;encoding&quot;</span>
<a href="#l2.295"></a><span id="l2.295" class="difflineplus">+#define VCEndProp &quot;end&quot;</span>
<a href="#l2.296"></a><span id="l2.296" class="difflineplus">+#define VCEventProp &quot;vevent&quot;</span>
<a href="#l2.297"></a><span id="l2.297" class="difflineplus">+#define VCEWorldProp &quot;eworld&quot;</span>
<a href="#l2.298"></a><span id="l2.298" class="difflineplus">+#define VCExNumProp &quot;exnum&quot;</span>
<a href="#l2.299"></a><span id="l2.299" class="difflineplus">+#define VCExpDateProp &quot;exdate&quot;</span>
<a href="#l2.300"></a><span id="l2.300" class="difflineplus">+#define VCExpectProp &quot;expect&quot;</span>
<a href="#l2.301"></a><span id="l2.301" class="difflineplus">+#define VCExtAddressProp &quot;ext add&quot;</span>
<a href="#l2.302"></a><span id="l2.302" class="difflineplus">+#define VCFamilyNameProp &quot;f&quot;</span>
<a href="#l2.303"></a><span id="l2.303" class="difflineplus">+#define VCFaxProp &quot;fax&quot;</span>
<a href="#l2.304"></a><span id="l2.304" class="difflineplus">+#define VCFullNameProp &quot;fn&quot;</span>
<a href="#l2.305"></a><span id="l2.305" class="difflineplus">+#define VCGeoProp &quot;geo&quot;</span>
<a href="#l2.306"></a><span id="l2.306" class="difflineplus">+#define VCGeoLocationProp &quot;geo&quot;</span>
<a href="#l2.307"></a><span id="l2.307" class="difflineplus">+#define VCGIFProp &quot;gif&quot;</span>
<a href="#l2.308"></a><span id="l2.308" class="difflineplus">+#define VCGivenNameProp &quot;g&quot;</span>
<a href="#l2.309"></a><span id="l2.309" class="difflineplus">+#define VCGroupingProp &quot;grouping&quot;</span>
<a href="#l2.310"></a><span id="l2.310" class="difflineplus">+#define VCHomeProp &quot;home&quot;</span>
<a href="#l2.311"></a><span id="l2.311" class="difflineplus">+#define VCIBMMailProp &quot;ibmmail&quot;</span>
<a href="#l2.312"></a><span id="l2.312" class="difflineplus">+#define VCInlineProp &quot;inline&quot;</span>
<a href="#l2.313"></a><span id="l2.313" class="difflineplus">+#define VCInternationalProp &quot;intl&quot;</span>
<a href="#l2.314"></a><span id="l2.314" class="difflineplus">+#define VCInternetProp &quot;internet&quot;</span>
<a href="#l2.315"></a><span id="l2.315" class="difflineplus">+#define VCISDNProp &quot;isdn&quot;</span>
<a href="#l2.316"></a><span id="l2.316" class="difflineplus">+#define VCJPEGProp &quot;jpeg&quot;</span>
<a href="#l2.317"></a><span id="l2.317" class="difflineplus">+#define VCLanguageProp &quot;lang&quot;</span>
<a href="#l2.318"></a><span id="l2.318" class="difflineplus">+#define VCLastModifiedProp &quot;last-modified&quot;</span>
<a href="#l2.319"></a><span id="l2.319" class="difflineplus">+#define VCLastRevisedProp &quot;rev&quot;</span>
<a href="#l2.320"></a><span id="l2.320" class="difflineplus">+#define VCLocationProp &quot;location&quot;</span>
<a href="#l2.321"></a><span id="l2.321" class="difflineplus">+#define VCLogoProp &quot;logo&quot;</span>
<a href="#l2.322"></a><span id="l2.322" class="difflineplus">+#define VCMailerProp &quot;mailer&quot;</span>
<a href="#l2.323"></a><span id="l2.323" class="difflineplus">+#define VCMAlarmProp &quot;malarm&quot;</span>
<a href="#l2.324"></a><span id="l2.324" class="difflineplus">+#define VCMCIMailProp &quot;mcimail&quot;</span>
<a href="#l2.325"></a><span id="l2.325" class="difflineplus">+#define VCMessageProp &quot;msg&quot;</span>
<a href="#l2.326"></a><span id="l2.326" class="difflineplus">+#define VCMETProp &quot;met&quot;</span>
<a href="#l2.327"></a><span id="l2.327" class="difflineplus">+#define VCModemProp &quot;modem&quot;</span>
<a href="#l2.328"></a><span id="l2.328" class="difflineplus">+#define VCMPEG2Prop &quot;mpeg2&quot;</span>
<a href="#l2.329"></a><span id="l2.329" class="difflineplus">+#define VCMPEGProp &quot;mpeg&quot;</span>
<a href="#l2.330"></a><span id="l2.330" class="difflineplus">+#define VCMSNProp &quot;msn&quot;</span>
<a href="#l2.331"></a><span id="l2.331" class="difflineplus">+#define VCNamePrefixesProp &quot;npre&quot;</span>
<a href="#l2.332"></a><span id="l2.332" class="difflineplus">+#define VCNameProp &quot;n&quot;</span>
<a href="#l2.333"></a><span id="l2.333" class="difflineplus">+#define VCNameSuffixesProp &quot;nsuf&quot;</span>
<a href="#l2.334"></a><span id="l2.334" class="difflineplus">+#define VCNoteProp &quot;note&quot;</span>
<a href="#l2.335"></a><span id="l2.335" class="difflineplus">+#define VCOrgNameProp &quot;orgname&quot;</span>
<a href="#l2.336"></a><span id="l2.336" class="difflineplus">+#define VCOrgProp &quot;org&quot;</span>
<a href="#l2.337"></a><span id="l2.337" class="difflineplus">+#define VCOrgUnit2Prop &quot;oun2&quot;</span>
<a href="#l2.338"></a><span id="l2.338" class="difflineplus">+#define VCOrgUnit3Prop &quot;oun3&quot;</span>
<a href="#l2.339"></a><span id="l2.339" class="difflineplus">+#define VCOrgUnit4Prop &quot;oun4&quot;</span>
<a href="#l2.340"></a><span id="l2.340" class="difflineplus">+#define VCOrgUnitProp &quot;oun&quot;</span>
<a href="#l2.341"></a><span id="l2.341" class="difflineplus">+#define VCPagerProp &quot;pager&quot;</span>
<a href="#l2.342"></a><span id="l2.342" class="difflineplus">+#define VCPAlarmProp &quot;palarm&quot;</span>
<a href="#l2.343"></a><span id="l2.343" class="difflineplus">+#define VCParcelProp &quot;parcel&quot;</span>
<a href="#l2.344"></a><span id="l2.344" class="difflineplus">+#define VCPartProp &quot;part&quot;</span>
<a href="#l2.345"></a><span id="l2.345" class="difflineplus">+#define VCPCMProp &quot;pcm&quot;</span>
<a href="#l2.346"></a><span id="l2.346" class="difflineplus">+#define VCPDFProp &quot;pdf&quot;</span>
<a href="#l2.347"></a><span id="l2.347" class="difflineplus">+#define VCPGPProp &quot;pgp&quot;</span>
<a href="#l2.348"></a><span id="l2.348" class="difflineplus">+#define VCPhotoProp &quot;photo&quot;</span>
<a href="#l2.349"></a><span id="l2.349" class="difflineplus">+#define VCPICTProp &quot;pict&quot;</span>
<a href="#l2.350"></a><span id="l2.350" class="difflineplus">+#define VCPMBProp &quot;pmb&quot;</span>
<a href="#l2.351"></a><span id="l2.351" class="difflineplus">+#define VCPostalBoxProp &quot;box&quot;</span>
<a href="#l2.352"></a><span id="l2.352" class="difflineplus">+#define VCPostalCodeProp &quot;pc&quot;</span>
<a href="#l2.353"></a><span id="l2.353" class="difflineplus">+#define VCPostalProp &quot;postal&quot;</span>
<a href="#l2.354"></a><span id="l2.354" class="difflineplus">+#define VCPowerShareProp &quot;powershare&quot;</span>
<a href="#l2.355"></a><span id="l2.355" class="difflineplus">+#define VCPreferredProp &quot;pref&quot;</span>
<a href="#l2.356"></a><span id="l2.356" class="difflineplus">+#define VCPriorityProp &quot;priority&quot;</span>
<a href="#l2.357"></a><span id="l2.357" class="difflineplus">+#define VCProcedureNameProp &quot;procedurename&quot;</span>
<a href="#l2.358"></a><span id="l2.358" class="difflineplus">+#define VCProdIdProp &quot;prodid&quot;</span>
<a href="#l2.359"></a><span id="l2.359" class="difflineplus">+#define VCProdigyProp &quot;prodigy&quot;</span>
<a href="#l2.360"></a><span id="l2.360" class="difflineplus">+#define VCPronunciationProp &quot;sound&quot;</span>
<a href="#l2.361"></a><span id="l2.361" class="difflineplus">+#define VCPSProp &quot;ps&quot;</span>
<a href="#l2.362"></a><span id="l2.362" class="difflineplus">+#define VCPublicKeyProp &quot;key&quot;</span>
<a href="#l2.363"></a><span id="l2.363" class="difflineplus">+#define VCQPProp &quot;qp&quot;</span>
<a href="#l2.364"></a><span id="l2.364" class="difflineplus">+#define VCQuickTimeProp &quot;qtime&quot;</span>
<a href="#l2.365"></a><span id="l2.365"> #define VCQuotedPrintableProp &quot;quoted-printable&quot;</span>
<a href="#l2.366"></a><span id="l2.366" class="difflineminus">-#define VCRDateProp       &quot;rdate&quot;</span>
<a href="#l2.367"></a><span id="l2.367" class="difflineminus">-#define VCRegionProp      &quot;r&quot;</span>
<a href="#l2.368"></a><span id="l2.368" class="difflineminus">-#define VCRelatedToProp     &quot;related-to&quot;</span>
<a href="#l2.369"></a><span id="l2.369" class="difflineminus">-#define VCRepeatCountProp   &quot;repeatcount&quot;</span>
<a href="#l2.370"></a><span id="l2.370" class="difflineminus">-#define VCResourcesProp     &quot;resources&quot;</span>
<a href="#l2.371"></a><span id="l2.371" class="difflineminus">-#define VCRNumProp        &quot;rnum&quot;</span>
<a href="#l2.372"></a><span id="l2.372" class="difflineminus">-#define VCRoleProp        &quot;role&quot;</span>
<a href="#l2.373"></a><span id="l2.373" class="difflineminus">-#define VCRRuleProp       &quot;rrule&quot;</span>
<a href="#l2.374"></a><span id="l2.374" class="difflineminus">-#define VCRSVPProp        &quot;rsvp&quot;</span>
<a href="#l2.375"></a><span id="l2.375" class="difflineminus">-#define VCRunTimeProp     &quot;runtime&quot;</span>
<a href="#l2.376"></a><span id="l2.376" class="difflineminus">-#define VCSequenceProp      &quot;sequence&quot;</span>
<a href="#l2.377"></a><span id="l2.377" class="difflineminus">-#define VCSnoozeTimeProp    &quot;snoozetime&quot;</span>
<a href="#l2.378"></a><span id="l2.378" class="difflineminus">-#define VCStartProp       &quot;start&quot;</span>
<a href="#l2.379"></a><span id="l2.379" class="difflineminus">-#define VCStatusProp      &quot;status&quot;</span>
<a href="#l2.380"></a><span id="l2.380" class="difflineminus">-#define VCStreetAddressProp   &quot;street&quot;</span>
<a href="#l2.381"></a><span id="l2.381" class="difflineminus">-#define VCSubTypeProp     &quot;subtype&quot;</span>
<a href="#l2.382"></a><span id="l2.382" class="difflineminus">-#define VCSummaryProp     &quot;summary&quot;</span>
<a href="#l2.383"></a><span id="l2.383" class="difflineminus">-#define VCTelephoneProp     &quot;tel&quot;</span>
<a href="#l2.384"></a><span id="l2.384" class="difflineminus">-#define VCTIFFProp        &quot;tiff&quot;</span>
<a href="#l2.385"></a><span id="l2.385" class="difflineminus">-#define VCTimeZoneProp      &quot;tz&quot;</span>
<a href="#l2.386"></a><span id="l2.386" class="difflineminus">-#define VCTitleProp       &quot;title&quot;</span>
<a href="#l2.387"></a><span id="l2.387" class="difflineminus">-#define VCTLXProp       &quot;tlx&quot;</span>
<a href="#l2.388"></a><span id="l2.388" class="difflineminus">-#define VCTodoProp        &quot;vtodo&quot;</span>
<a href="#l2.389"></a><span id="l2.389" class="difflineminus">-#define VCTranspProp      &quot;transp&quot;</span>
<a href="#l2.390"></a><span id="l2.390" class="difflineminus">-#define VCUniqueStringProp    &quot;uid&quot;</span>
<a href="#l2.391"></a><span id="l2.391" class="difflineminus">-#define VCURLProp       &quot;url&quot;</span>
<a href="#l2.392"></a><span id="l2.392" class="difflineminus">-#define VCURLValueProp      &quot;urlval&quot;</span>
<a href="#l2.393"></a><span id="l2.393" class="difflineminus">-#define VCValueProp       &quot;value&quot;</span>
<a href="#l2.394"></a><span id="l2.394" class="difflineminus">-#define VCVersionProp     &quot;version&quot;</span>
<a href="#l2.395"></a><span id="l2.395" class="difflineminus">-#define VCVideoProp       &quot;video&quot;</span>
<a href="#l2.396"></a><span id="l2.396" class="difflineminus">-#define VCVoiceProp       &quot;voice&quot;</span>
<a href="#l2.397"></a><span id="l2.397" class="difflineminus">-#define VCWAVEProp        &quot;wave&quot;</span>
<a href="#l2.398"></a><span id="l2.398" class="difflineminus">-#define VCWMFProp       &quot;wmf&quot;</span>
<a href="#l2.399"></a><span id="l2.399" class="difflineminus">-#define VCWorkProp        &quot;work&quot;</span>
<a href="#l2.400"></a><span id="l2.400" class="difflineminus">-#define VCX400Prop        &quot;x400&quot;</span>
<a href="#l2.401"></a><span id="l2.401" class="difflineminus">-#define VCX509Prop        &quot;x509&quot;</span>
<a href="#l2.402"></a><span id="l2.402" class="difflineminus">-#define VCXRuleProp       &quot;xrule&quot;</span>
<a href="#l2.403"></a><span id="l2.403" class="difflineminus">-#define VCCooltalk        &quot;x-mozilla-cpt&quot;</span>
<a href="#l2.404"></a><span id="l2.404" class="difflineminus">-#define VCCooltalkAddress   &quot;x-moxilla-cpadr&quot;</span>
<a href="#l2.405"></a><span id="l2.405" class="difflineminus">-#define VCUseServer       &quot;x-mozilla-cpsrv&quot;</span>
<a href="#l2.406"></a><span id="l2.406" class="difflineminus">-#define VCUseHTML       &quot;x-mozilla-html&quot;</span>
<a href="#l2.407"></a><span id="l2.407" class="difflineplus">+#define VCRDateProp &quot;rdate&quot;</span>
<a href="#l2.408"></a><span id="l2.408" class="difflineplus">+#define VCRegionProp &quot;r&quot;</span>
<a href="#l2.409"></a><span id="l2.409" class="difflineplus">+#define VCRelatedToProp &quot;related-to&quot;</span>
<a href="#l2.410"></a><span id="l2.410" class="difflineplus">+#define VCRepeatCountProp &quot;repeatcount&quot;</span>
<a href="#l2.411"></a><span id="l2.411" class="difflineplus">+#define VCResourcesProp &quot;resources&quot;</span>
<a href="#l2.412"></a><span id="l2.412" class="difflineplus">+#define VCRNumProp &quot;rnum&quot;</span>
<a href="#l2.413"></a><span id="l2.413" class="difflineplus">+#define VCRoleProp &quot;role&quot;</span>
<a href="#l2.414"></a><span id="l2.414" class="difflineplus">+#define VCRRuleProp &quot;rrule&quot;</span>
<a href="#l2.415"></a><span id="l2.415" class="difflineplus">+#define VCRSVPProp &quot;rsvp&quot;</span>
<a href="#l2.416"></a><span id="l2.416" class="difflineplus">+#define VCRunTimeProp &quot;runtime&quot;</span>
<a href="#l2.417"></a><span id="l2.417" class="difflineplus">+#define VCSequenceProp &quot;sequence&quot;</span>
<a href="#l2.418"></a><span id="l2.418" class="difflineplus">+#define VCSnoozeTimeProp &quot;snoozetime&quot;</span>
<a href="#l2.419"></a><span id="l2.419" class="difflineplus">+#define VCStartProp &quot;start&quot;</span>
<a href="#l2.420"></a><span id="l2.420" class="difflineplus">+#define VCStatusProp &quot;status&quot;</span>
<a href="#l2.421"></a><span id="l2.421" class="difflineplus">+#define VCStreetAddressProp &quot;street&quot;</span>
<a href="#l2.422"></a><span id="l2.422" class="difflineplus">+#define VCSubTypeProp &quot;subtype&quot;</span>
<a href="#l2.423"></a><span id="l2.423" class="difflineplus">+#define VCSummaryProp &quot;summary&quot;</span>
<a href="#l2.424"></a><span id="l2.424" class="difflineplus">+#define VCTelephoneProp &quot;tel&quot;</span>
<a href="#l2.425"></a><span id="l2.425" class="difflineplus">+#define VCTIFFProp &quot;tiff&quot;</span>
<a href="#l2.426"></a><span id="l2.426" class="difflineplus">+#define VCTimeZoneProp &quot;tz&quot;</span>
<a href="#l2.427"></a><span id="l2.427" class="difflineplus">+#define VCTitleProp &quot;title&quot;</span>
<a href="#l2.428"></a><span id="l2.428" class="difflineplus">+#define VCTLXProp &quot;tlx&quot;</span>
<a href="#l2.429"></a><span id="l2.429" class="difflineplus">+#define VCTodoProp &quot;vtodo&quot;</span>
<a href="#l2.430"></a><span id="l2.430" class="difflineplus">+#define VCTranspProp &quot;transp&quot;</span>
<a href="#l2.431"></a><span id="l2.431" class="difflineplus">+#define VCUniqueStringProp &quot;uid&quot;</span>
<a href="#l2.432"></a><span id="l2.432" class="difflineplus">+#define VCURLProp &quot;url&quot;</span>
<a href="#l2.433"></a><span id="l2.433" class="difflineplus">+#define VCURLValueProp &quot;urlval&quot;</span>
<a href="#l2.434"></a><span id="l2.434" class="difflineplus">+#define VCValueProp &quot;value&quot;</span>
<a href="#l2.435"></a><span id="l2.435" class="difflineplus">+#define VCVersionProp &quot;version&quot;</span>
<a href="#l2.436"></a><span id="l2.436" class="difflineplus">+#define VCVideoProp &quot;video&quot;</span>
<a href="#l2.437"></a><span id="l2.437" class="difflineplus">+#define VCVoiceProp &quot;voice&quot;</span>
<a href="#l2.438"></a><span id="l2.438" class="difflineplus">+#define VCWAVEProp &quot;wave&quot;</span>
<a href="#l2.439"></a><span id="l2.439" class="difflineplus">+#define VCWMFProp &quot;wmf&quot;</span>
<a href="#l2.440"></a><span id="l2.440" class="difflineplus">+#define VCWorkProp &quot;work&quot;</span>
<a href="#l2.441"></a><span id="l2.441" class="difflineplus">+#define VCX400Prop &quot;x400&quot;</span>
<a href="#l2.442"></a><span id="l2.442" class="difflineplus">+#define VCX509Prop &quot;x509&quot;</span>
<a href="#l2.443"></a><span id="l2.443" class="difflineplus">+#define VCXRuleProp &quot;xrule&quot;</span>
<a href="#l2.444"></a><span id="l2.444" class="difflineplus">+#define VCCooltalk &quot;x-mozilla-cpt&quot;</span>
<a href="#l2.445"></a><span id="l2.445" class="difflineplus">+#define VCCooltalkAddress &quot;x-moxilla-cpadr&quot;</span>
<a href="#l2.446"></a><span id="l2.446" class="difflineplus">+#define VCUseServer &quot;x-mozilla-cpsrv&quot;</span>
<a href="#l2.447"></a><span id="l2.447" class="difflineplus">+#define VCUseHTML &quot;x-mozilla-html&quot;</span>
<a href="#l2.448"></a><span id="l2.448"> </span>
<a href="#l2.449"></a><span id="l2.449"> /* return type of vObjectValueType: */</span>
<a href="#l2.450"></a><span id="l2.450"> #define VCVT_NOVALUE  0</span>
<a href="#l2.451"></a><span id="l2.451">   /* if the VObject has no value associated with it. */</span>
<a href="#l2.452"></a><span id="l2.452"> #define VCVT_STRINGZ  1</span>
<a href="#l2.453"></a><span id="l2.453">   /* if the VObject has value set by setVObjectStringZValue. */</span>
<a href="#l2.454"></a><span id="l2.454"> #define VCVT_USTRINGZ 2</span>
<a href="#l2.455"></a><span id="l2.455">   /* if the VObject has value set by setVObjectUStringZValue. */</span>
<a href="#l2.456"></a><span id="l2.456" class="difflineat">@@ -284,69 +284,69 @@ extern &quot;C&quot; {</span>
<a href="#l2.457"></a><span id="l2.457"> #define INTEGER_VALUE_OF(o)   o-&gt;val.i</span>
<a href="#l2.458"></a><span id="l2.458"> #define LONG_VALUE_OF(o)    o-&gt;val.l</span>
<a href="#l2.459"></a><span id="l2.459"> #define ANY_VALUE_OF(o)     o-&gt;val.any</span>
<a href="#l2.460"></a><span id="l2.460"> #define VOBJECT_VALUE_OF(o)   o-&gt;val.vobj</span>
<a href="#l2.461"></a><span id="l2.461"> </span>
<a href="#l2.462"></a><span id="l2.462"> typedef struct VObject VObject;</span>
<a href="#l2.463"></a><span id="l2.463"> </span>
<a href="#l2.464"></a><span id="l2.464"> typedef union ValueItem {</span>
<a href="#l2.465"></a><span id="l2.465" class="difflineminus">-    const char *strs;</span>
<a href="#l2.466"></a><span id="l2.466" class="difflineminus">-    const vwchar_t *ustrs;</span>
<a href="#l2.467"></a><span id="l2.467" class="difflineminus">-    unsigned int i;</span>
<a href="#l2.468"></a><span id="l2.468" class="difflineminus">-    unsigned long l;</span>
<a href="#l2.469"></a><span id="l2.469" class="difflineminus">-    void *any;</span>
<a href="#l2.470"></a><span id="l2.470" class="difflineminus">-    VObject *vobj;</span>
<a href="#l2.471"></a><span id="l2.471" class="difflineminus">-    } ValueItem;</span>
<a href="#l2.472"></a><span id="l2.472" class="difflineplus">+  const char *strs;</span>
<a href="#l2.473"></a><span id="l2.473" class="difflineplus">+  const vwchar_t *ustrs;</span>
<a href="#l2.474"></a><span id="l2.474" class="difflineplus">+  unsigned int i;</span>
<a href="#l2.475"></a><span id="l2.475" class="difflineplus">+  unsigned long l;</span>
<a href="#l2.476"></a><span id="l2.476" class="difflineplus">+  void *any;</span>
<a href="#l2.477"></a><span id="l2.477" class="difflineplus">+  VObject *vobj;</span>
<a href="#l2.478"></a><span id="l2.478" class="difflineplus">+} ValueItem;</span>
<a href="#l2.479"></a><span id="l2.479"> </span>
<a href="#l2.480"></a><span id="l2.480"> struct VObject {</span>
<a href="#l2.481"></a><span id="l2.481" class="difflineminus">-    VObject *next;</span>
<a href="#l2.482"></a><span id="l2.482" class="difflineminus">-    const char *id;</span>
<a href="#l2.483"></a><span id="l2.483" class="difflineminus">-    VObject *prop;</span>
<a href="#l2.484"></a><span id="l2.484" class="difflineminus">-    unsigned short valType;</span>
<a href="#l2.485"></a><span id="l2.485" class="difflineminus">-    ValueItem val;</span>
<a href="#l2.486"></a><span id="l2.486" class="difflineminus">-    }; </span>
<a href="#l2.487"></a><span id="l2.487" class="difflineplus">+  VObject *next;</span>
<a href="#l2.488"></a><span id="l2.488" class="difflineplus">+  const char *id;</span>
<a href="#l2.489"></a><span id="l2.489" class="difflineplus">+  VObject *prop;</span>
<a href="#l2.490"></a><span id="l2.490" class="difflineplus">+  unsigned short valType;</span>
<a href="#l2.491"></a><span id="l2.491" class="difflineplus">+  ValueItem val;</span>
<a href="#l2.492"></a><span id="l2.492" class="difflineplus">+};</span>
<a href="#l2.493"></a><span id="l2.493"> </span>
<a href="#l2.494"></a><span id="l2.494"> typedef struct StrItem StrItem;</span>
<a href="#l2.495"></a><span id="l2.495"> </span>
<a href="#l2.496"></a><span id="l2.496"> struct StrItem {</span>
<a href="#l2.497"></a><span id="l2.497" class="difflineminus">-    StrItem *next;</span>
<a href="#l2.498"></a><span id="l2.498" class="difflineminus">-    const char *s;</span>
<a href="#l2.499"></a><span id="l2.499" class="difflineminus">-    unsigned int refCnt;</span>
<a href="#l2.500"></a><span id="l2.500" class="difflineminus">-    };</span>
<a href="#l2.501"></a><span id="l2.501" class="difflineplus">+  StrItem *next;</span>
<a href="#l2.502"></a><span id="l2.502" class="difflineplus">+  const char *s;</span>
<a href="#l2.503"></a><span id="l2.503" class="difflineplus">+  unsigned int refCnt;</span>
<a href="#l2.504"></a><span id="l2.504" class="difflineplus">+};</span>
<a href="#l2.505"></a><span id="l2.505"> </span>
<a href="#l2.506"></a><span id="l2.506"> typedef struct OFile {</span>
<a href="#l2.507"></a><span id="l2.507" class="difflineminus">-    char *s;</span>
<a href="#l2.508"></a><span id="l2.508" class="difflineminus">-    int len;</span>
<a href="#l2.509"></a><span id="l2.509" class="difflineminus">-    int limit;</span>
<a href="#l2.510"></a><span id="l2.510" class="difflineminus">-    int alloc:1;</span>
<a href="#l2.511"></a><span id="l2.511" class="difflineminus">-    int fail:1;</span>
<a href="#l2.512"></a><span id="l2.512" class="difflineminus">-    } OFile;</span>
<a href="#l2.513"></a><span id="l2.513" class="difflineplus">+  char *s;</span>
<a href="#l2.514"></a><span id="l2.514" class="difflineplus">+  int len;</span>
<a href="#l2.515"></a><span id="l2.515" class="difflineplus">+  int limit;</span>
<a href="#l2.516"></a><span id="l2.516" class="difflineplus">+  int alloc:1;</span>
<a href="#l2.517"></a><span id="l2.517" class="difflineplus">+  int fail:1;</span>
<a href="#l2.518"></a><span id="l2.518" class="difflineplus">+} OFile;</span>
<a href="#l2.519"></a><span id="l2.519"> </span>
<a href="#l2.520"></a><span id="l2.520"> typedef struct VObjectIterator {</span>
<a href="#l2.521"></a><span id="l2.521" class="difflineminus">-    VObject* start;</span>
<a href="#l2.522"></a><span id="l2.522" class="difflineminus">-    VObject* next;</span>
<a href="#l2.523"></a><span id="l2.523" class="difflineminus">-    } VObjectIterator;</span>
<a href="#l2.524"></a><span id="l2.524" class="difflineplus">+  VObject* start;</span>
<a href="#l2.525"></a><span id="l2.525" class="difflineplus">+  VObject* next;</span>
<a href="#l2.526"></a><span id="l2.526" class="difflineplus">+} VObjectIterator;</span>
<a href="#l2.527"></a><span id="l2.527"> </span>
<a href="#l2.528"></a><span id="l2.528" class="difflineminus">-VObject*    newVObject(const char *id);</span>
<a href="#l2.529"></a><span id="l2.529" class="difflineplus">+VObject*  newVObject(const char *id);</span>
<a href="#l2.530"></a><span id="l2.530"> void      deleteVObject(VObject *p);</span>
<a href="#l2.531"></a><span id="l2.531"> char*     dupStr(const char *s, unsigned int size);</span>
<a href="#l2.532"></a><span id="l2.532" class="difflineminus">-extern &quot;C&quot; void     deleteString(char *p);</span>
<a href="#l2.533"></a><span id="l2.533" class="difflineplus">+extern &quot;C&quot; void deleteString(char *p);</span>
<a href="#l2.534"></a><span id="l2.534"> void      unUseStr(const char *s);</span>
<a href="#l2.535"></a><span id="l2.535"> </span>
<a href="#l2.536"></a><span id="l2.536"> void      setVObjectName(VObject *o, const char* id);</span>
<a href="#l2.537"></a><span id="l2.537"> void      setVObjectStringZValue(VObject *o, const char *s);</span>
<a href="#l2.538"></a><span id="l2.538"> void      setVObjectStringZValue_(VObject *o, const char *s);</span>
<a href="#l2.539"></a><span id="l2.539"> void      setVObjectUStringZValue(VObject *o, const vwchar_t *s);</span>
<a href="#l2.540"></a><span id="l2.540"> void      setVObjectUStringZValue_(VObject *o, const vwchar_t *s);</span>
<a href="#l2.541"></a><span id="l2.541"> void      setVObjectIntegerValue(VObject *o, unsigned int i);</span>
<a href="#l2.542"></a><span id="l2.542"> void      setVObjectLongValue(VObject *o, unsigned long l);</span>
<a href="#l2.543"></a><span id="l2.543"> void      setVObjectAnyValue(VObject *o, void *t);</span>
<a href="#l2.544"></a><span id="l2.544" class="difflineminus">-VObject*    setValueWithSize(VObject *prop, void *val, unsigned int size);</span>
<a href="#l2.545"></a><span id="l2.545" class="difflineminus">-VObject*    setValueWithSize_(VObject *prop, void *val, unsigned int size);</span>
<a href="#l2.546"></a><span id="l2.546" class="difflineplus">+VObject*  setValueWithSize(VObject *prop, void *val, unsigned int size);</span>
<a href="#l2.547"></a><span id="l2.547" class="difflineplus">+VObject*  setValueWithSize_(VObject *prop, void *val, unsigned int size);</span>
<a href="#l2.548"></a><span id="l2.548"> </span>
<a href="#l2.549"></a><span id="l2.549"> const char* vObjectName(VObject *o);</span>
<a href="#l2.550"></a><span id="l2.550"> const char* vObjectStringZValue(VObject *o);</span>
<a href="#l2.551"></a><span id="l2.551"> const vwchar_t* vObjectUStringZValue(VObject *o);</span>
<a href="#l2.552"></a><span id="l2.552"> unsigned int vObjectIntegerValue(VObject *o);</span>
<a href="#l2.553"></a><span id="l2.553"> unsigned long vObjectLongValue(VObject *o);</span>
<a href="#l2.554"></a><span id="l2.554"> void* vObjectAnyValue(VObject *o);</span>
<a href="#l2.555"></a><span id="l2.555"> VObject* vObjectVObjectValue(VObject *o);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

