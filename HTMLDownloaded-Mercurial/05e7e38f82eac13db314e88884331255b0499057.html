<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 6099:05e7e38f82eac13db314e88884331255b0499057</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 05e7e38f82eac13db314e88884331255b0499057" />
<meta property="og:url" content="/comm-central/rev/05e7e38f82eac13db314e88884331255b0499057" />
<meta property="og:description" content="bug 580660 - Switch SeaMonkey browser UI to places bookmarks, r=IanN" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 05e7e38f82eac13db314e88884331255b0499057 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/05e7e38f82eac13db314e88884331255b0499057">shortlog</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/05e7e38f82eac13db314e88884331255b0499057">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057">files</a> |
changeset |
<a href="/comm-central/raw-rev/05e7e38f82eac13db314e88884331255b0499057">raw</a>  | <a href="/comm-central/archive/05e7e38f82eac13db314e88884331255b0499057.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=580660">bug 580660</a> - Switch SeaMonkey browser UI to places bookmarks, r=IanN
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#111;&#98;&#101;&#114;&#116;&#32;&#75;&#97;&#105;&#115;&#101;&#114;&#32;&#60;&#107;&#97;&#105;&#114;&#111;&#64;&#107;&#97;&#105;&#114;&#111;&#46;&#97;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 08 Aug 2010 22:06:47 +0200</td></tr>

<tr>
 <td>changeset 6099</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/05e7e38f82eac13db314e88884331255b0499057">05e7e38f82eac13db314e88884331255b0499057</a></td>
</tr>



<tr>
<td>parent 6098</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/50c4aad5795276977f3abac2f8a56a34f97ac36c">50c4aad5795276977f3abac2f8a56a34f97ac36c</a>
</td>
</tr>

<tr>
<td>child 6100</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b7f04f55aa20f29039d50312ee05657b89d39ebb">b7f04f55aa20f29039d50312ee05657b89d39ebb</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=05e7e38f82eac13db314e88884331255b0499057">4716</a></td></tr>
<tr><td>push user</td><td>kairo@kairo.at</td></tr>
<tr><td>push date</td><td class="date age">Sun, 08 Aug 2010 20:07:31 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@b9e980d6f85d [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b9e980d6f85d8be090681db70a0be5a06d5b216d">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b9e980d6f85d8be090681db70a0be5a06d5b216d&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9e980d6f85d8be090681db70a0be5a06d5b216d&newProject=comm-central&newRevision=6e9656086f3397ba950d84983e1878cb757598d0&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9e980d6f85d8be090681db70a0be5a06d5b216d&newProject=comm-central&newRevision=6e9656086f3397ba950d84983e1878cb757598d0&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b9e980d6f85d8be090681db70a0be5a06d5b216d&newProject=comm-central&newRevision=6e9656086f3397ba950d84983e1878cb757598d0&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28IanN%29&revcount=50">IanN</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=580660">580660</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=580660">bug 580660</a> - Switch SeaMonkey browser UI to places bookmarks, r=IanN</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/hiddenWindow.xul">suite/browser/hiddenWindow.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/browser/hiddenWindow.xul">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/browser/hiddenWindow.xul">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/hiddenWindow.xul">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/browser/hiddenWindow.xul">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/browser/hiddenWindow.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.css">suite/browser/navigator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.css">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.css">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.css">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.css">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.js">suite/browser/navigator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.js">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.js">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.js">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.js">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.xul">suite/browser/navigator.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.xul">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.xul">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.xul">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.xul">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigator.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigatorOverlay.xul">suite/browser/navigatorOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigatorOverlay.xul">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigatorOverlay.xul">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigatorOverlay.xul">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigatorOverlay.xul">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/browser/navigatorOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/public/Makefile.in">suite/browser/public/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/browser/public/Makefile.in">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/browser/public/Makefile.in">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/public/Makefile.in">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/browser/public/Makefile.in">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/browser/public/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/src/Makefile.in">suite/browser/src/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/browser/src/Makefile.in">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/browser/src/Makefile.in">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/browser/src/Makefile.in">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/browser/src/Makefile.in">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/browser/src/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/build/nsSuiteModule.cpp">suite/build/nsSuiteModule.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/build/nsSuiteModule.cpp">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/build/nsSuiteModule.cpp">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/build/nsSuiteModule.cpp">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/build/nsSuiteModule.cpp">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/build/nsSuiteModule.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.js">suite/common/bookmarks/bm-panel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.js">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.js">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.js">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.js">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.xul">suite/common/bookmarks/bm-panel.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.xul">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.xul">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.xul">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.xul">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/bm-panel.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/browser-places.js">suite/common/bookmarks/browser-places.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/browser-places.js">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/browser-places.js">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/browser-places.js">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/browser-places.js">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/browser-places.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/placesOverlay.xul">suite/common/bookmarks/placesOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/placesOverlay.xul">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/placesOverlay.xul">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/placesOverlay.xul">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/placesOverlay.xul">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/bookmarks/placesOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/contentAreaContextOverlay.xul">suite/common/contentAreaContextOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/contentAreaContextOverlay.xul">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/contentAreaContextOverlay.xul">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/contentAreaContextOverlay.xul">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/contentAreaContextOverlay.xul">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/contentAreaContextOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/feeds/subscribe.xhtml">suite/common/feeds/subscribe.xhtml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/feeds/subscribe.xhtml">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/feeds/subscribe.xhtml">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/feeds/subscribe.xhtml">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/feeds/subscribe.xhtml">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/feeds/subscribe.xhtml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/jar.mn">suite/common/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/jar.mn">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/jar.mn">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/jar.mn">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/jar.mn">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/nsContextMenu.js">suite/common/nsContextMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/nsContextMenu.js">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/nsContextMenu.js">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/nsContextMenu.js">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/nsContextMenu.js">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/nsContextMenu.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/search/search-panel.js">suite/common/search/search-panel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/common/search/search-panel.js">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/common/search/search-panel.js">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/common/search/search-panel.js">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/common/search/search-panel.js">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/common/search/search-panel.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedConverter.js">suite/feeds/src/FeedConverter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedConverter.js">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedConverter.js">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedConverter.js">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedConverter.js">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedConverter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedWriter.js">suite/feeds/src/FeedWriter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedWriter.js">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedWriter.js">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedWriter.js">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedWriter.js">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/feeds/src/FeedWriter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.dtd">suite/locales/en-US/chrome/browser/navigator.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.dtd">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.dtd">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.dtd">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.dtd">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.properties">suite/locales/en-US/chrome/browser/navigator.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.properties">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.properties">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.properties">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.properties">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/browser/navigator.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/bookmarks/places.dtd">suite/locales/en-US/chrome/common/bookmarks/places.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/bookmarks/places.dtd">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/bookmarks/places.dtd">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/bookmarks/places.dtd">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/bookmarks/places.dtd">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/bookmarks/places.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/feeds/subscribe.dtd">suite/locales/en-US/chrome/common/feeds/subscribe.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/feeds/subscribe.dtd">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/feeds/subscribe.dtd">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/feeds/subscribe.dtd">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/feeds/subscribe.dtd">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/locales/en-US/chrome/common/feeds/subscribe.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/jar.mn">suite/locales/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/locales/jar.mn">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/locales/jar.mn">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/locales/jar.mn">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/locales/jar.mn">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/locales/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/allBookmarks.png">suite/themes/classic/communicator/bookmarks/allBookmarks.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/allBookmarks.png">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/allBookmarks.png">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/allBookmarks.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/allBookmarks.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/allBookmarks.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-folder-button.gif">suite/themes/classic/communicator/bookmarks/bookmark-folder-button.gif</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-folder-button.gif">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-folder-button.gif">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-folder-button.gif">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-group.png">suite/themes/classic/communicator/bookmarks/bookmark-group.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-group.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-group.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-group.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-item-updated.png">suite/themes/classic/communicator/bookmarks/bookmark-item-updated.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-item-updated.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-item-updated.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmark-item-updated.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarks.css">suite/themes/classic/communicator/bookmarks/bookmarks.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarks.css">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarks.css">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarks.css">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarks.css">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarks.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksMenu.png">suite/themes/classic/communicator/bookmarks/bookmarksMenu.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksMenu.png">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksMenu.png">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksMenu.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksMenu.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksMenu.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css">suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.png">suite/themes/classic/communicator/bookmarks/bookmarksToolbar.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.png">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.png">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-folder.png">suite/themes/classic/communicator/bookmarks/livemark-folder.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-folder.png">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-folder.png">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-folder.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-folder.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-folder.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-item.png">suite/themes/classic/communicator/bookmarks/livemark-item.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-item.png">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-item.png">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-item.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-item.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/livemark-item.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-act.gif">suite/themes/classic/communicator/bookmarks/location-act.gif</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-act.gif">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-act.gif">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-act.gif">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-dis.gif">suite/themes/classic/communicator/bookmarks/location-dis.gif</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-dis.gif">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-dis.gif">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-dis.gif">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-hov.gif">suite/themes/classic/communicator/bookmarks/location-hov.gif</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-hov.gif">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-hov.gif">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location-hov.gif">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location.gif">suite/themes/classic/communicator/bookmarks/location.gif</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location.gif">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location.gif">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/location.gif">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/query.png">suite/themes/classic/communicator/bookmarks/query.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/query.png">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/query.png">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/query.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/query.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/query.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/toolbarDropMarker.png">suite/themes/classic/communicator/bookmarks/toolbarDropMarker.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/toolbarDropMarker.png">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/toolbarDropMarker.png">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/toolbarDropMarker.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/toolbarDropMarker.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/toolbarDropMarker.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/unsortedBookmarks.png">suite/themes/classic/communicator/bookmarks/unsortedBookmarks.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/unsortedBookmarks.png">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/unsortedBookmarks.png">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/unsortedBookmarks.png">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/unsortedBookmarks.png">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/communicator/bookmarks/unsortedBookmarks.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/jar.mn">suite/themes/classic/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/jar.mn">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/jar.mn">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/jar.mn">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/jar.mn">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/communicator/bookmarks/bookmarks.css">suite/themes/classic/mac/communicator/bookmarks/bookmarks.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/communicator/bookmarks/bookmarks.css">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/communicator/bookmarks/bookmarks.css">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/communicator/bookmarks/bookmarks.css">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/communicator/bookmarks/bookmarks.css">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/communicator/bookmarks/bookmarks.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/navigator/navigator.css">suite/themes/classic/mac/navigator/navigator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/navigator/navigator.css">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/navigator/navigator.css">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/navigator/navigator.css">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/navigator/navigator.css">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/mac/navigator/navigator.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/navigator/navigator.css">suite/themes/classic/navigator/navigator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/navigator/navigator.css">file</a> |
<a href="/comm-central/annotate/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/navigator/navigator.css">annotate</a> |
<a href="/comm-central/diff/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/navigator/navigator.css">diff</a> |
<a href="/comm-central/comparison/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/navigator/navigator.css">comparison</a> |
<a href="/comm-central/log/05e7e38f82eac13db314e88884331255b0499057/suite/themes/classic/navigator/navigator.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/browser/hiddenWindow.xul</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/browser/hiddenWindow.xul</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -68,17 +68,16 @@</span>
<a href="#l1.4"></a><span id="l1.4">   onunload=&quot;Shutdown();&quot;&gt;</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6">   &lt;!-- JS from navigator.xul, to handle the menu commands --&gt;</span>
<a href="#l1.7"></a><span id="l1.7">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/browser.js&quot;/&gt;</span>
<a href="#l1.8"></a><span id="l1.8">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/navigator.js&quot;/&gt;</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10">   &lt;!-- Shared Bookmarks Utility Library --&gt;</span>
<a href="#l1.11"></a><span id="l1.11">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/bookmarks/bookmarks.js&quot;/&gt;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/bookmarks/bookmarksMenu.js&quot;/&gt;</span>
<a href="#l1.13"></a><span id="l1.13"> </span>
<a href="#l1.14"></a><span id="l1.14">   &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l1.15"></a><span id="l1.15">     &lt;stringbundle id=&quot;bundle_navigator&quot; src=&quot;chrome://navigator/locale/navigator.properties&quot;/&gt;</span>
<a href="#l1.16"></a><span id="l1.16">     &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l1.17"></a><span id="l1.17">     &lt;stringbundle id=&quot;bundle_navigator_region&quot; src=&quot;chrome://navigator-region/locale/region.properties&quot;/&gt;</span>
<a href="#l1.18"></a><span id="l1.18">   &lt;/stringbundleset&gt;</span>
<a href="#l1.19"></a><span id="l1.19"> </span>
<a href="#l1.20"></a><span id="l1.20">   &lt;!-- keys are appended from the overlay --&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/browser/navigator.css</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/browser/navigator.css</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -38,16 +38,22 @@ panel[for=&quot;urlbar&quot;] {</span>
<a href="#l2.4"></a><span id="l2.4"> }</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6"> /* ::::: bookmarks menu ::::: */</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8"> .isempty:not(:last-child) {</span>
<a href="#l2.9"></a><span id="l2.9">   display: none;</span>
<a href="#l2.10"></a><span id="l2.10"> }</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+/* ::::: bookmarks toolbar ::::: */</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; toolbaritem &gt; hbox[type=&quot;places&quot;] {</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+  display: none;</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+}</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+</span>
<a href="#l2.18"></a><span id="l2.18"> /* ::::: autohide the menubar for full screen on linux too ::::: */</span>
<a href="#l2.19"></a><span id="l2.19"> </span>
<a href="#l2.20"></a><span id="l2.20"> #toolbar-menubar[autohide=&quot;true&quot;]</span>
<a href="#l2.21"></a><span id="l2.21"> {</span>
<a href="#l2.22"></a><span id="l2.22">   -moz-binding: url(&quot;chrome://global/content/bindings/toolbar.xml#toolbar-menubar-autohide&quot;);</span>
<a href="#l2.23"></a><span id="l2.23">   overflow: hidden;</span>
<a href="#l2.24"></a><span id="l2.24"> }</span>
<a href="#l2.25"></a><span id="l2.25"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/browser/navigator.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/browser/navigator.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -42,17 +42,16 @@</span>
<a href="#l3.4"></a><span id="l3.4"> Components.utils.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l3.5"></a><span id="l3.5"> </span>
<a href="#l3.6"></a><span id="l3.6"> const REMOTESERVICE_CONTRACTID = &quot;@mozilla.org/toolkit/remote-service;1&quot;;</span>
<a href="#l3.7"></a><span id="l3.7"> const XUL_NAMESPACE = &quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;;</span>
<a href="#l3.8"></a><span id="l3.8"> var gURLBar = null;</span>
<a href="#l3.9"></a><span id="l3.9"> var gProxyButton = null;</span>
<a href="#l3.10"></a><span id="l3.10"> var gProxyFavIcon = null;</span>
<a href="#l3.11"></a><span id="l3.11"> var gProxyDeck = null;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-var gBookmarksService = null;</span>
<a href="#l3.13"></a><span id="l3.13"> var gSearchService = null;</span>
<a href="#l3.14"></a><span id="l3.14"> var gNavigatorBundle;</span>
<a href="#l3.15"></a><span id="l3.15"> var gBrandBundle;</span>
<a href="#l3.16"></a><span id="l3.16"> var gNavigatorRegionBundle;</span>
<a href="#l3.17"></a><span id="l3.17"> var gLastValidURLStr = &quot;&quot;;</span>
<a href="#l3.18"></a><span id="l3.18"> var gLastValidURL = null;</span>
<a href="#l3.19"></a><span id="l3.19"> var gClickSelectsAll = false;</span>
<a href="#l3.20"></a><span id="l3.20"> var gClickAtEndSelects = false;</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineat">@@ -186,17 +185,16 @@ function removePopupPermListener(observe</span>
<a href="#l3.22"></a><span id="l3.22"> * We can avoid adding multiple load event listeners and save some time by adding</span>
<a href="#l3.23"></a><span id="l3.23"> * one listener that calls all real handlers.</span>
<a href="#l3.24"></a><span id="l3.24"> */</span>
<a href="#l3.25"></a><span id="l3.25"> </span>
<a href="#l3.26"></a><span id="l3.26"> function pageShowEventHandlers(event)</span>
<a href="#l3.27"></a><span id="l3.27"> {</span>
<a href="#l3.28"></a><span id="l3.28">   // Filter out events that are not about the document load we are interested in</span>
<a href="#l3.29"></a><span id="l3.29">   if (event.originalTarget == content.document) {</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-    UpdateBookmarksLastVisitedDate(event);</span>
<a href="#l3.31"></a><span id="l3.31">     UpdateInternetSearchResults(event);</span>
<a href="#l3.32"></a><span id="l3.32">     checkForDirectoryListing();</span>
<a href="#l3.33"></a><span id="l3.33">     postURLToNativeWidget();</span>
<a href="#l3.34"></a><span id="l3.34">   }</span>
<a href="#l3.35"></a><span id="l3.35"> }</span>
<a href="#l3.36"></a><span id="l3.36"> </span>
<a href="#l3.37"></a><span id="l3.37"> /**</span>
<a href="#l3.38"></a><span id="l3.38">  * Determine whether or not the content area is displaying a page with frames,</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineat">@@ -231,44 +229,16 @@ function updateHomeButtonTooltip()</span>
<a href="#l3.40"></a><span id="l3.40"> </span>
<a href="#l3.41"></a><span id="l3.41">   for (var i in homePage) {</span>
<a href="#l3.42"></a><span id="l3.42">     var label = document.createElementNS(XUL_NAMESPACE, &quot;label&quot;);</span>
<a href="#l3.43"></a><span id="l3.43">     label.setAttribute(&quot;value&quot;, homePage[i]);</span>
<a href="#l3.44"></a><span id="l3.44">     tooltip.appendChild(label);</span>
<a href="#l3.45"></a><span id="l3.45">   }</span>
<a href="#l3.46"></a><span id="l3.46"> }</span>
<a href="#l3.47"></a><span id="l3.47"> </span>
<a href="#l3.48"></a><span id="l3.48" class="difflineminus">-//////////////////////////////// BOOKMARKS ////////////////////////////////////</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineminus">-</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineminus">-function UpdateBookmarksLastVisitedDate(event)</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineminus">-{</span>
<a href="#l3.52"></a><span id="l3.52" class="difflineminus">-  var url = getWebNavigation().currentURI.spec;</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineminus">-  if (url) {</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineminus">-    // if the URL is bookmarked, update its &quot;Last Visited&quot; date</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineminus">-    if (!gBookmarksService)</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-      gBookmarksService = Components.classes[&quot;@mozilla.org/browser/bookmarks-service;1&quot;]</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineminus">-                                    .getService(Components.interfaces.nsIBookmarksService);</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineminus">-</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineminus">-    gBookmarksService.updateLastVisitedDate(url, content.document.characterSet);</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineminus">-  }</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineminus">-}</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineminus">-</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineminus">-function HandleBookmarkIcon(iconURL, addFlag)</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineminus">-{</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineminus">-  var url = content.document.documentURI;</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineminus">-  if (url) {</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineminus">-    // update URL with new icon reference</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-    if (!gBookmarksService)</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-      gBookmarksService = Components.classes[&quot;@mozilla.org/browser/bookmarks-service;1&quot;]</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineminus">-                                    .getService(Components.interfaces.nsIBookmarksService);</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineminus">-    if (addFlag)    gBookmarksService.updateBookmarkIcon(url, iconURL);</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineminus">-    else            gBookmarksService.removeBookmarkIcon(url, iconURL);</span>
<a href="#l3.73"></a><span id="l3.73" class="difflineminus">-  }</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineminus">-}</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineminus">-</span>
<a href="#l3.76"></a><span id="l3.76"> function UpdateInternetSearchResults(event)</span>
<a href="#l3.77"></a><span id="l3.77"> {</span>
<a href="#l3.78"></a><span id="l3.78">   var url = getWebNavigation().currentURI.spec;</span>
<a href="#l3.79"></a><span id="l3.79">   if (url &amp;&amp; isSearchPanelOpen())</span>
<a href="#l3.80"></a><span id="l3.80">   {</span>
<a href="#l3.81"></a><span id="l3.81">     if (!gSearchService)</span>
<a href="#l3.82"></a><span id="l3.82">       gSearchService = Components.classes[&quot;@mozilla.org/rdf/datasource;1?name=internetsearch&quot;]</span>
<a href="#l3.83"></a><span id="l3.83">                                  .getService(Components.interfaces.nsIInternetSearchService);</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineat">@@ -632,18 +602,20 @@ function Startup()</span>
<a href="#l3.85"></a><span id="l3.85">     document.getElementById(&quot;textfieldDirection-swap&quot;).hidden = false;</span>
<a href="#l3.86"></a><span id="l3.86">   }</span>
<a href="#l3.87"></a><span id="l3.87"> </span>
<a href="#l3.88"></a><span id="l3.88">   // Before and after callbacks for the customizeToolbar code</span>
<a href="#l3.89"></a><span id="l3.89">   getNavToolbox().customizeInit = BrowserToolboxCustomizeInit;</span>
<a href="#l3.90"></a><span id="l3.90">   getNavToolbox().customizeDone = BrowserToolboxCustomizeDone;</span>
<a href="#l3.91"></a><span id="l3.91">   getNavToolbox().customizeChange = BrowserToolboxCustomizeChange;</span>
<a href="#l3.92"></a><span id="l3.92"> </span>
<a href="#l3.93"></a><span id="l3.93" class="difflineminus">-  // now load bookmarks after a delay</span>
<a href="#l3.94"></a><span id="l3.94" class="difflineminus">-  setTimeout(LoadBookmarksCallback, 0);</span>
<a href="#l3.95"></a><span id="l3.95" class="difflineplus">+  PlacesToolbarHelper.init();</span>
<a href="#l3.96"></a><span id="l3.96" class="difflineplus">+</span>
<a href="#l3.97"></a><span id="l3.97" class="difflineplus">+  // bookmark-all-tabs command</span>
<a href="#l3.98"></a><span id="l3.98" class="difflineplus">+  gBookmarkAllTabsHandler.init();</span>
<a href="#l3.99"></a><span id="l3.99"> </span>
<a href="#l3.100"></a><span id="l3.100">   gBrowser.mPanelContainer.addEventListener(&quot;InstallBrowserTheme&quot;, LightWeightThemeWebInstaller, false, true);</span>
<a href="#l3.101"></a><span id="l3.101">   gBrowser.mPanelContainer.addEventListener(&quot;PreviewBrowserTheme&quot;, LightWeightThemeWebInstaller, false, true);</span>
<a href="#l3.102"></a><span id="l3.102">   gBrowser.mPanelContainer.addEventListener(&quot;ResetBrowserThemePreview&quot;, LightWeightThemeWebInstaller, false, true);</span>
<a href="#l3.103"></a><span id="l3.103"> </span>
<a href="#l3.104"></a><span id="l3.104">   // initialize the session-restore service</span>
<a href="#l3.105"></a><span id="l3.105">   setTimeout(InitSessionStoreCallback, 0);</span>
<a href="#l3.106"></a><span id="l3.106"> }</span>
<a href="#l3.107"></a><span id="l3.107" class="difflineat">@@ -659,30 +631,16 @@ function UpdateNavBar()</span>
<a href="#l3.108"></a><span id="l3.108">     if (!next || !next.classList.contains(&quot;nav-bar-class&quot;))</span>
<a href="#l3.109"></a><span id="l3.109">       element.classList.add(&quot;nav-bar-last&quot;);</span>
<a href="#l3.110"></a><span id="l3.110">     var previous = element.previousSibling;</span>
<a href="#l3.111"></a><span id="l3.111">     if (!previous || !previous.classList.contains(&quot;nav-bar-class&quot;))</span>
<a href="#l3.112"></a><span id="l3.112">       element.classList.add(&quot;nav-bar-first&quot;);</span>
<a href="#l3.113"></a><span id="l3.113">   }</span>
<a href="#l3.114"></a><span id="l3.114"> }</span>
<a href="#l3.115"></a><span id="l3.115"> </span>
<a href="#l3.116"></a><span id="l3.116" class="difflineminus">-function LoadBookmarksCallback()</span>
<a href="#l3.117"></a><span id="l3.117" class="difflineminus">-{</span>
<a href="#l3.118"></a><span id="l3.118" class="difflineminus">-  // loads the services</span>
<a href="#l3.119"></a><span id="l3.119" class="difflineminus">-  initServices();</span>
<a href="#l3.120"></a><span id="l3.120" class="difflineminus">-  initBMService();</span>
<a href="#l3.121"></a><span id="l3.121" class="difflineminus">-  BMSVC.readBookmarks();</span>
<a href="#l3.122"></a><span id="l3.122" class="difflineminus">-  var bt = document.getElementById(&quot;bookmarks-ptf&quot;);</span>
<a href="#l3.123"></a><span id="l3.123" class="difflineminus">-  if (bt) {</span>
<a href="#l3.124"></a><span id="l3.124" class="difflineminus">-    bt.database.AddObserver(BookmarksToolbarRDFObserver);</span>
<a href="#l3.125"></a><span id="l3.125" class="difflineminus">-  }</span>
<a href="#l3.126"></a><span id="l3.126" class="difflineminus">-  window.addEventListener(&quot;resize&quot;, BookmarksToolbar.resizeFunc, false);</span>
<a href="#l3.127"></a><span id="l3.127" class="difflineminus">-  controllers.appendController(BookmarksMenuController);</span>
<a href="#l3.128"></a><span id="l3.128" class="difflineminus">-}</span>
<a href="#l3.129"></a><span id="l3.129" class="difflineminus">-</span>
<a href="#l3.130"></a><span id="l3.130"> function InitSessionStoreCallback()</span>
<a href="#l3.131"></a><span id="l3.131"> {</span>
<a href="#l3.132"></a><span id="l3.132">   try {</span>
<a href="#l3.133"></a><span id="l3.133">     var ss = Components.classes[&quot;@mozilla.org/suite/sessionstore;1&quot;]</span>
<a href="#l3.134"></a><span id="l3.134">                        .getService(Components.interfaces.nsISessionStore);</span>
<a href="#l3.135"></a><span id="l3.135">     ss.init(window);</span>
<a href="#l3.136"></a><span id="l3.136">   } catch(ex) {</span>
<a href="#l3.137"></a><span id="l3.137">     dump(&quot;nsSessionStore could not be initialized: &quot; + ex + &quot;\n&quot;);</span>
<a href="#l3.138"></a><span id="l3.138" class="difflineat">@@ -704,63 +662,38 @@ function WindowFocusTimerCallback(elemen</span>
<a href="#l3.139"></a><span id="l3.139">       document.commandDispatcher.focusedElement = null;</span>
<a href="#l3.140"></a><span id="l3.140">     } else if (element instanceof Components.interfaces.nsIDOMElement) {</span>
<a href="#l3.141"></a><span id="l3.141">       document.commandDispatcher.focusedWindow = element.ownerDocument.defaultView;</span>
<a href="#l3.142"></a><span id="l3.142">       document.commandDispatcher.focusedElement = element;</span>
<a href="#l3.143"></a><span id="l3.143">     }</span>
<a href="#l3.144"></a><span id="l3.144">   }</span>
<a href="#l3.145"></a><span id="l3.145"> }</span>
<a href="#l3.146"></a><span id="l3.146"> </span>
<a href="#l3.147"></a><span id="l3.147" class="difflineminus">-function BrowserFlushBookmarks()</span>
<a href="#l3.148"></a><span id="l3.148" class="difflineminus">-{</span>
<a href="#l3.149"></a><span id="l3.149" class="difflineminus">-  // Flush bookmarks (used when window closes or is cached).</span>
<a href="#l3.150"></a><span id="l3.150" class="difflineminus">-  try {</span>
<a href="#l3.151"></a><span id="l3.151" class="difflineminus">-    // If bookmarks are dirty, flush 'em to disk</span>
<a href="#l3.152"></a><span id="l3.152" class="difflineminus">-    var bmks = Components.classes[&quot;@mozilla.org/browser/bookmarks-service;1&quot;]</span>
<a href="#l3.153"></a><span id="l3.153" class="difflineminus">-                         .getService(Components.interfaces.nsIRDFRemoteDataSource);</span>
<a href="#l3.154"></a><span id="l3.154" class="difflineminus">-    bmks.Flush();</span>
<a href="#l3.155"></a><span id="l3.155" class="difflineminus">-  } catch(ex) {</span>
<a href="#l3.156"></a><span id="l3.156" class="difflineminus">-  }</span>
<a href="#l3.157"></a><span id="l3.157" class="difflineminus">-}</span>
<a href="#l3.158"></a><span id="l3.158" class="difflineminus">-</span>
<a href="#l3.159"></a><span id="l3.159"> function Shutdown()</span>
<a href="#l3.160"></a><span id="l3.160"> {</span>
<a href="#l3.161"></a><span id="l3.161">   AddonManager.removeAddonListener(gAddonListener);</span>
<a href="#l3.162"></a><span id="l3.162"> </span>
<a href="#l3.163"></a><span id="l3.163">   // shut down browser access support</span>
<a href="#l3.164"></a><span id="l3.164">   window.browserDOMWindow = null;</span>
<a href="#l3.165"></a><span id="l3.165"> </span>
<a href="#l3.166"></a><span id="l3.166">   try {</span>
<a href="#l3.167"></a><span id="l3.167">     getBrowser().removeProgressListener(window.XULBrowserWindow);</span>
<a href="#l3.168"></a><span id="l3.168">   } catch (ex) {</span>
<a href="#l3.169"></a><span id="l3.169">     // Perhaps we didn't get around to adding the progress listener</span>
<a href="#l3.170"></a><span id="l3.170">   }</span>
<a href="#l3.171"></a><span id="l3.171"> </span>
<a href="#l3.172"></a><span id="l3.172" class="difflineminus">-  try {</span>
<a href="#l3.173"></a><span id="l3.173" class="difflineminus">-    controllers.removeController(BookmarksMenuController);</span>
<a href="#l3.174"></a><span id="l3.174" class="difflineminus">-  } catch (ex) {</span>
<a href="#l3.175"></a><span id="l3.175" class="difflineminus">-    // Perhaps we didn't get around to adding the controller</span>
<a href="#l3.176"></a><span id="l3.176" class="difflineminus">-  }</span>
<a href="#l3.177"></a><span id="l3.177" class="difflineminus">-</span>
<a href="#l3.178"></a><span id="l3.178" class="difflineminus">-  var bt = document.getElementById(&quot;bookmarks-ptf&quot;);</span>
<a href="#l3.179"></a><span id="l3.179" class="difflineminus">-  if (bt) {</span>
<a href="#l3.180"></a><span id="l3.180" class="difflineminus">-    bt.database.RemoveObserver(BookmarksToolbarRDFObserver);</span>
<a href="#l3.181"></a><span id="l3.181" class="difflineminus">-  }</span>
<a href="#l3.182"></a><span id="l3.182" class="difflineminus">-</span>
<a href="#l3.183"></a><span id="l3.183">   window.XULBrowserWindow.destroy();</span>
<a href="#l3.184"></a><span id="l3.184">   window.XULBrowserWindow = null;</span>
<a href="#l3.185"></a><span id="l3.185">   window.QueryInterface(Components.interfaces.nsIInterfaceRequestor)</span>
<a href="#l3.186"></a><span id="l3.186">         .getInterface(Components.interfaces.nsIWebNavigation)</span>
<a href="#l3.187"></a><span id="l3.187">         .QueryInterface(Components.interfaces.nsIDocShellTreeItem).treeOwner</span>
<a href="#l3.188"></a><span id="l3.188">         .QueryInterface(Components.interfaces.nsIInterfaceRequestor)</span>
<a href="#l3.189"></a><span id="l3.189">         .getInterface(Components.interfaces.nsIXULWindow)</span>
<a href="#l3.190"></a><span id="l3.190">         .XULBrowserWindow = null;</span>
<a href="#l3.191"></a><span id="l3.191"> </span>
<a href="#l3.192"></a><span id="l3.192" class="difflineminus">-  BrowserFlushBookmarks();</span>
<a href="#l3.193"></a><span id="l3.193" class="difflineminus">-</span>
<a href="#l3.194"></a><span id="l3.194">   // unregister us as a pref listener</span>
<a href="#l3.195"></a><span id="l3.195">   removePrefListener(gTabStripPrefListener);</span>
<a href="#l3.196"></a><span id="l3.196">   removePrefListener(gHomepagePrefListener);</span>
<a href="#l3.197"></a><span id="l3.197">   removePrefListener(gStatusBarPopupIconPrefListener);</span>
<a href="#l3.198"></a><span id="l3.198">   removePopupPermListener(gPopupPermListener);</span>
<a href="#l3.199"></a><span id="l3.199"> </span>
<a href="#l3.200"></a><span id="l3.200">   window.browserContentListener.close();</span>
<a href="#l3.201"></a><span id="l3.201"> }</span>
<a href="#l3.202"></a><span id="l3.202" class="difflineat">@@ -904,67 +837,82 @@ function BrowserReloadSkipCache()</span>
<a href="#l3.203"></a><span id="l3.203">   const reloadFlags = nsIWebNavigation.LOAD_FLAGS_BYPASS_PROXY | nsIWebNavigation.LOAD_FLAGS_BYPASS_CACHE;</span>
<a href="#l3.204"></a><span id="l3.204">   return BrowserReloadWithFlags(reloadFlags);</span>
<a href="#l3.205"></a><span id="l3.205"> }</span>
<a href="#l3.206"></a><span id="l3.206"> </span>
<a href="#l3.207"></a><span id="l3.207"> function BrowserHome(aEvent)</span>
<a href="#l3.208"></a><span id="l3.208"> {</span>
<a href="#l3.209"></a><span id="l3.209">   var tab;</span>
<a href="#l3.210"></a><span id="l3.210">   var homePage = getHomePage();</span>
<a href="#l3.211"></a><span id="l3.211" class="difflineminus">-  var target = !gBrowser ? &quot;window&quot;: !aEvent ? &quot;current&quot; : BookmarksUtils.getBrowserTargetFromEvent(aEvent);</span>
<a href="#l3.212"></a><span id="l3.212" class="difflineplus">+  var target = !gBrowser ? &quot;window&quot; : whereToOpenLink(aEvent);</span>
<a href="#l3.213"></a><span id="l3.213"> </span>
<a href="#l3.214"></a><span id="l3.214">   if (homePage.length == 1) {</span>
<a href="#l3.215"></a><span id="l3.215">     switch (target) {</span>
<a href="#l3.216"></a><span id="l3.216">     case &quot;current&quot;:</span>
<a href="#l3.217"></a><span id="l3.217">       loadURI(homePage[0]);</span>
<a href="#l3.218"></a><span id="l3.218">       break;</span>
<a href="#l3.219"></a><span id="l3.219">     case &quot;tab&quot;:</span>
<a href="#l3.220"></a><span id="l3.220" class="difflineplus">+    case &quot;tabshifted&quot;:</span>
<a href="#l3.221"></a><span id="l3.221">       tab = gBrowser.addTab(homePage[0]);</span>
<a href="#l3.222"></a><span id="l3.222" class="difflineminus">-      if (!BookmarksUtils.shouldLoadTabInBackground(aEvent))</span>
<a href="#l3.223"></a><span id="l3.223" class="difflineplus">+      if (target != &quot;tabshifted&quot;)</span>
<a href="#l3.224"></a><span id="l3.224">         gBrowser.selectedTab = tab;</span>
<a href="#l3.225"></a><span id="l3.225">       break;</span>
<a href="#l3.226"></a><span id="l3.226">     case &quot;window&quot;:</span>
<a href="#l3.227"></a><span id="l3.227">       openDialog(getBrowserURL(), &quot;_blank&quot;, &quot;chrome,all,dialog=no&quot;, homePage[0]);</span>
<a href="#l3.228"></a><span id="l3.228">     }</span>
<a href="#l3.229"></a><span id="l3.229">   } else {</span>
<a href="#l3.230"></a><span id="l3.230">     if (target == &quot;window&quot;)</span>
<a href="#l3.231"></a><span id="l3.231">       openDialog(getBrowserURL(), &quot;_blank&quot;, &quot;chrome,all,dialog=no&quot;, homePage.join(&quot;\n&quot;));</span>
<a href="#l3.232"></a><span id="l3.232">     else {</span>
<a href="#l3.233"></a><span id="l3.233">       var URIs = [];</span>
<a href="#l3.234"></a><span id="l3.234">       for (var i in homePage)</span>
<a href="#l3.235"></a><span id="l3.235">         URIs.push({URI: homePage[i]});</span>
<a href="#l3.236"></a><span id="l3.236"> </span>
<a href="#l3.237"></a><span id="l3.237">       tab = gBrowser.loadGroup(URIs);</span>
<a href="#l3.238"></a><span id="l3.238" class="difflineminus">-      </span>
<a href="#l3.239"></a><span id="l3.239" class="difflineminus">-      if (!BookmarksUtils.shouldLoadTabInBackground(aEvent))</span>
<a href="#l3.240"></a><span id="l3.240" class="difflineplus">+</span>
<a href="#l3.241"></a><span id="l3.241" class="difflineplus">+      if (target != &quot;tabshifted&quot;)</span>
<a href="#l3.242"></a><span id="l3.242">         gBrowser.selectedTab = tab;</span>
<a href="#l3.243"></a><span id="l3.243">     }</span>
<a href="#l3.244"></a><span id="l3.244">   }</span>
<a href="#l3.245"></a><span id="l3.245"> }</span>
<a href="#l3.246"></a><span id="l3.246"> </span>
<a href="#l3.247"></a><span id="l3.247" class="difflineminus">-function addBookmarkAs()</span>
<a href="#l3.248"></a><span id="l3.248" class="difflineminus">-{</span>
<a href="#l3.249"></a><span id="l3.249" class="difflineminus">-  const browsers = gBrowser.browsers;</span>
<a href="#l3.250"></a><span id="l3.250" class="difflineminus">-  if (browsers.length &gt; 1)</span>
<a href="#l3.251"></a><span id="l3.251" class="difflineminus">-    BookmarksUtils.addBookmarkForTabBrowser(gBrowser);</span>
<a href="#l3.252"></a><span id="l3.252" class="difflineminus">-  else</span>
<a href="#l3.253"></a><span id="l3.253" class="difflineminus">-    BookmarksUtils.addBookmarkForBrowser(gBrowser.webNavigation, true);</span>
<a href="#l3.254"></a><span id="l3.254" class="difflineminus">-}</span>
<a href="#l3.255"></a><span id="l3.255" class="difflineplus">+/**</span>
<a href="#l3.256"></a><span id="l3.256" class="difflineplus">+ * This also takes care of updating the command enabled-state when tabs are</span>
<a href="#l3.257"></a><span id="l3.257" class="difflineplus">+ * created or removed.</span>
<a href="#l3.258"></a><span id="l3.258" class="difflineplus">+ */</span>
<a href="#l3.259"></a><span id="l3.259" class="difflineplus">+var gBookmarkAllTabsHandler = {</span>
<a href="#l3.260"></a><span id="l3.260" class="difflineplus">+  init: function () {</span>
<a href="#l3.261"></a><span id="l3.261" class="difflineplus">+    this._command = document.getElementById(&quot;Browser:BookmarkAllTabs&quot;);</span>
<a href="#l3.262"></a><span id="l3.262" class="difflineplus">+    gBrowser.tabContainer.addEventListener(&quot;TabOpen&quot;, this, true);</span>
<a href="#l3.263"></a><span id="l3.263" class="difflineplus">+    gBrowser.tabContainer.addEventListener(&quot;TabClose&quot;, this, true);</span>
<a href="#l3.264"></a><span id="l3.264" class="difflineplus">+    this._updateCommandState();</span>
<a href="#l3.265"></a><span id="l3.265" class="difflineplus">+  },</span>
<a href="#l3.266"></a><span id="l3.266" class="difflineplus">+</span>
<a href="#l3.267"></a><span id="l3.267" class="difflineplus">+  _updateCommandState: function BATH__updateCommandState(aTabClose) {</span>
<a href="#l3.268"></a><span id="l3.268" class="difflineplus">+    var numTabs = gBrowser.browsers.length;</span>
<a href="#l3.269"></a><span id="l3.269"> </span>
<a href="#l3.270"></a><span id="l3.270" class="difflineminus">-function addGroupmarkAs()</span>
<a href="#l3.271"></a><span id="l3.271" class="difflineminus">-{</span>
<a href="#l3.272"></a><span id="l3.272" class="difflineminus">-  BookmarksUtils.addBookmarkForTabBrowser(gBrowser, true);</span>
<a href="#l3.273"></a><span id="l3.273" class="difflineminus">-}</span>
<a href="#l3.274"></a><span id="l3.274" class="difflineplus">+    // The TabClose event is fired before the tab is removed from the DOM</span>
<a href="#l3.275"></a><span id="l3.275" class="difflineplus">+    if (aTabClose)</span>
<a href="#l3.276"></a><span id="l3.276" class="difflineplus">+      numTabs--;</span>
<a href="#l3.277"></a><span id="l3.277" class="difflineplus">+</span>
<a href="#l3.278"></a><span id="l3.278" class="difflineplus">+    if (numTabs &gt; 1)</span>
<a href="#l3.279"></a><span id="l3.279" class="difflineplus">+      this._command.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l3.280"></a><span id="l3.280" class="difflineplus">+    else</span>
<a href="#l3.281"></a><span id="l3.281" class="difflineplus">+      this._command.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l3.282"></a><span id="l3.282" class="difflineplus">+  },</span>
<a href="#l3.283"></a><span id="l3.283"> </span>
<a href="#l3.284"></a><span id="l3.284" class="difflineminus">-function updateGroupmarkCommand()</span>
<a href="#l3.285"></a><span id="l3.285" class="difflineminus">-{</span>
<a href="#l3.286"></a><span id="l3.286" class="difflineminus">-  const disabled = (!gBrowser || gBrowser.browsers.length == 1);</span>
<a href="#l3.287"></a><span id="l3.287" class="difflineminus">-  document.getElementById(&quot;Browser:AddGroupmarkAs&quot;)</span>
<a href="#l3.288"></a><span id="l3.288" class="difflineminus">-          .setAttribute(&quot;disabled&quot;, disabled);</span>
<a href="#l3.289"></a><span id="l3.289" class="difflineminus">-}</span>
<a href="#l3.290"></a><span id="l3.290" class="difflineplus">+  doCommand: function BATH_doCommand() {</span>
<a href="#l3.291"></a><span id="l3.291" class="difflineplus">+    PlacesCommandHook.bookmarkCurrentPages();</span>
<a href="#l3.292"></a><span id="l3.292" class="difflineplus">+  },</span>
<a href="#l3.293"></a><span id="l3.293" class="difflineplus">+</span>
<a href="#l3.294"></a><span id="l3.294" class="difflineplus">+  // nsIDOMEventListener</span>
<a href="#l3.295"></a><span id="l3.295" class="difflineplus">+  handleEvent: function(aEvent) {</span>
<a href="#l3.296"></a><span id="l3.296" class="difflineplus">+    this._updateCommandState(aEvent.type == &quot;TabClose&quot;);</span>
<a href="#l3.297"></a><span id="l3.297" class="difflineplus">+  }</span>
<a href="#l3.298"></a><span id="l3.298" class="difflineplus">+};</span>
<a href="#l3.299"></a><span id="l3.299"> </span>
<a href="#l3.300"></a><span id="l3.300"> function readRDFString(aDS,aRes,aProp)</span>
<a href="#l3.301"></a><span id="l3.301"> {</span>
<a href="#l3.302"></a><span id="l3.302">   var n = aDS.GetTarget(aRes, aProp, true);</span>
<a href="#l3.303"></a><span id="l3.303">   return n ? n.QueryInterface(Components.interfaces.nsIRDFLiteral).Value : &quot;&quot;;</span>
<a href="#l3.304"></a><span id="l3.304"> }</span>
<a href="#l3.305"></a><span id="l3.305"> </span>
<a href="#l3.306"></a><span id="l3.306"> function ensureDefaultEnginePrefs(aRDF,aDS) </span>
<a href="#l3.307"></a><span id="l3.307" class="difflineat">@@ -1197,17 +1145,19 @@ function BrowserSearchInternet()</span>
<a href="#l3.308"></a><span id="l3.308"> </span>
<a href="#l3.309"></a><span id="l3.309"> //Note: BrowserNewEditorWindow() was moved to globalOverlay.xul and renamed to NewEditorWindow()</span>
<a href="#l3.310"></a><span id="l3.310"> </span>
<a href="#l3.311"></a><span id="l3.311"> function BrowserOpenWindow()</span>
<a href="#l3.312"></a><span id="l3.312"> {</span>
<a href="#l3.313"></a><span id="l3.313">   //opens a window where users can select a web location to open</span>
<a href="#l3.314"></a><span id="l3.314">   var params = { browser: window, action: null, url: &quot;&quot; };</span>
<a href="#l3.315"></a><span id="l3.315">   openDialog(&quot;chrome://communicator/content/openLocation.xul&quot;, &quot;_blank&quot;, &quot;chrome,modal,titlebar&quot;, params);</span>
<a href="#l3.316"></a><span id="l3.316" class="difflineminus">-  var url = getShortcutOrURI(params.url);</span>
<a href="#l3.317"></a><span id="l3.317" class="difflineplus">+  var postData = { };</span>
<a href="#l3.318"></a><span id="l3.318" class="difflineplus">+  var url = getShortcutOrURI(params.url, postData);</span>
<a href="#l3.319"></a><span id="l3.319" class="difflineplus">+  // XXX: need to actually deal with the postData, see bug 553459</span>
<a href="#l3.320"></a><span id="l3.320">   switch (params.action) {</span>
<a href="#l3.321"></a><span id="l3.321">     case &quot;0&quot;: // current window</span>
<a href="#l3.322"></a><span id="l3.322">       loadURI(url, null, nsIWebNavigation.LOAD_FLAGS_ALLOW_THIRD_PARTY_FIXUP);</span>
<a href="#l3.323"></a><span id="l3.323">       break;</span>
<a href="#l3.324"></a><span id="l3.324">     case &quot;1&quot;: // new window</span>
<a href="#l3.325"></a><span id="l3.325">       openDialog(getBrowserURL(), &quot;_blank&quot;, &quot;all,dialog=no&quot;, url, null, null,</span>
<a href="#l3.326"></a><span id="l3.326">                  nsIWebNavigation.LOAD_FLAGS_ALLOW_THIRD_PARTY_FIXUP);</span>
<a href="#l3.327"></a><span id="l3.327">       break;</span>
<a href="#l3.328"></a><span id="l3.328" class="difflineat">@@ -1480,17 +1430,19 @@ function BrowserLoadURL(aTriggeringEvent</span>
<a href="#l3.329"></a><span id="l3.329">     if (aTriggeringEvent &amp;&amp; 'shiftKey' in aTriggeringEvent &amp;&amp;</span>
<a href="#l3.330"></a><span id="l3.330">         'altKey' in aTriggeringEvent) {</span>
<a href="#l3.331"></a><span id="l3.331">       saveModifier = modifierIsShift ? aTriggeringEvent.shiftKey</span>
<a href="#l3.332"></a><span id="l3.332">                      : aTriggeringEvent.altKey;</span>
<a href="#l3.333"></a><span id="l3.333">       shiftPressed = aTriggeringEvent.shiftKey;</span>
<a href="#l3.334"></a><span id="l3.334">     }</span>
<a href="#l3.335"></a><span id="l3.335"> </span>
<a href="#l3.336"></a><span id="l3.336">     var browser = getBrowser();</span>
<a href="#l3.337"></a><span id="l3.337" class="difflineminus">-    url = getShortcutOrURI(url);</span>
<a href="#l3.338"></a><span id="l3.338" class="difflineplus">+    var postData = {};</span>
<a href="#l3.339"></a><span id="l3.339" class="difflineplus">+    url = getShortcutOrURI(url, postData);</span>
<a href="#l3.340"></a><span id="l3.340" class="difflineplus">+    // XXX: need to actually deal with the postData, see bug 553459</span>
<a href="#l3.341"></a><span id="l3.341">     // Accept both Control and Meta (=Command) as New-Window-Modifiers</span>
<a href="#l3.342"></a><span id="l3.342">     if (aTriggeringEvent &amp;&amp;</span>
<a href="#l3.343"></a><span id="l3.343">         (('ctrlKey' in aTriggeringEvent &amp;&amp; aTriggeringEvent.ctrlKey) ||</span>
<a href="#l3.344"></a><span id="l3.344">          ('metaKey' in aTriggeringEvent &amp;&amp; aTriggeringEvent.metaKey))) {</span>
<a href="#l3.345"></a><span id="l3.345">       // Check if user requests Tabs instead of windows</span>
<a href="#l3.346"></a><span id="l3.346">       var openTab = false;</span>
<a href="#l3.347"></a><span id="l3.347">       try {</span>
<a href="#l3.348"></a><span id="l3.348">         openTab = Services.prefs.getBoolPref(&quot;browser.tabs.opentabfor.urlbar&quot;);</span>
<a href="#l3.349"></a><span id="l3.349" class="difflineat">@@ -1540,70 +1492,79 @@ function BrowserLoadURL(aTriggeringEvent</span>
<a href="#l3.350"></a><span id="l3.350">       // No modifier was pressed, load the URL normally and</span>
<a href="#l3.351"></a><span id="l3.351">       // focus the content area</span>
<a href="#l3.352"></a><span id="l3.352">       loadURI(url, null, nsIWebNavigation.LOAD_FLAGS_ALLOW_THIRD_PARTY_FIXUP);</span>
<a href="#l3.353"></a><span id="l3.353">       content.focus();</span>
<a href="#l3.354"></a><span id="l3.354">     }</span>
<a href="#l3.355"></a><span id="l3.355">   }</span>
<a href="#l3.356"></a><span id="l3.356"> }</span>
<a href="#l3.357"></a><span id="l3.357"> </span>
<a href="#l3.358"></a><span id="l3.358" class="difflineminus">-function getShortcutOrURI(url)</span>
<a href="#l3.359"></a><span id="l3.359" class="difflineplus">+function getShortcutOrURI(aURL, aPostDataRef)</span>
<a href="#l3.360"></a><span id="l3.360"> {</span>
<a href="#l3.361"></a><span id="l3.361" class="difflineminus">-  // rjc: added support for URL shortcuts (3/30/1999)</span>
<a href="#l3.362"></a><span id="l3.362" class="difflineminus">-  try {</span>
<a href="#l3.363"></a><span id="l3.363" class="difflineminus">-    if (!gBookmarksService)</span>
<a href="#l3.364"></a><span id="l3.364" class="difflineminus">-      gBookmarksService = Components.classes[&quot;@mozilla.org/browser/bookmarks-service;1&quot;]</span>
<a href="#l3.365"></a><span id="l3.365" class="difflineminus">-                                    .getService(Components.interfaces.nsIBookmarksService);</span>
<a href="#l3.366"></a><span id="l3.366" class="difflineplus">+  var shortcutURL = null;</span>
<a href="#l3.367"></a><span id="l3.367" class="difflineplus">+  var keyword = aURL;</span>
<a href="#l3.368"></a><span id="l3.368" class="difflineplus">+  var param = &quot;&quot;;</span>
<a href="#l3.369"></a><span id="l3.369" class="difflineplus">+</span>
<a href="#l3.370"></a><span id="l3.370" class="difflineplus">+  var offset = aURL.indexOf(&quot; &quot;);</span>
<a href="#l3.371"></a><span id="l3.371" class="difflineplus">+  if (offset &gt; 0) {</span>
<a href="#l3.372"></a><span id="l3.372" class="difflineplus">+    keyword = aURL.substr(0, offset);</span>
<a href="#l3.373"></a><span id="l3.373" class="difflineplus">+    param = aURL.substr(offset + 1);</span>
<a href="#l3.374"></a><span id="l3.374" class="difflineplus">+  }</span>
<a href="#l3.375"></a><span id="l3.375" class="difflineplus">+</span>
<a href="#l3.376"></a><span id="l3.376" class="difflineplus">+  if (!aPostDataRef)</span>
<a href="#l3.377"></a><span id="l3.377" class="difflineplus">+    aPostDataRef = {};</span>
<a href="#l3.378"></a><span id="l3.378" class="difflineplus">+</span>
<a href="#l3.379"></a><span id="l3.379" class="difflineplus">+  // XXX: In the future, ask the search service if it knows that keyword</span>
<a href="#l3.380"></a><span id="l3.380" class="difflineplus">+</span>
<a href="#l3.381"></a><span id="l3.381" class="difflineplus">+  [shortcutURL, aPostDataRef.value] =</span>
<a href="#l3.382"></a><span id="l3.382" class="difflineplus">+    PlacesUtils.getURLAndPostDataForKeyword(keyword);</span>
<a href="#l3.383"></a><span id="l3.383"> </span>
<a href="#l3.384"></a><span id="l3.384" class="difflineminus">-    var shortcutURL = gBookmarksService.resolveKeyword(url);</span>
<a href="#l3.385"></a><span id="l3.385" class="difflineminus">-    if (!shortcutURL) {</span>
<a href="#l3.386"></a><span id="l3.386" class="difflineminus">-      // rjc: add support for string substitution with shortcuts (4/4/2000)</span>
<a href="#l3.387"></a><span id="l3.387" class="difflineminus">-      //      (see bug # 29871 for details)</span>
<a href="#l3.388"></a><span id="l3.388" class="difflineminus">-      var aOffset = url.indexOf(&quot; &quot;);</span>
<a href="#l3.389"></a><span id="l3.389" class="difflineminus">-      if (aOffset &gt; 0) {</span>
<a href="#l3.390"></a><span id="l3.390" class="difflineminus">-        var cmd = url.substr(0, aOffset);</span>
<a href="#l3.391"></a><span id="l3.391" class="difflineminus">-        var text = url.substr(aOffset+1);</span>
<a href="#l3.392"></a><span id="l3.392" class="difflineminus">-        shortcutURL = gBookmarksService.resolveKeyword(cmd);</span>
<a href="#l3.393"></a><span id="l3.393" class="difflineminus">-        // Bug 123006 : %s replace and URI escape, %S replace with raw value</span>
<a href="#l3.394"></a><span id="l3.394" class="difflineminus">-        if (shortcutURL &amp;&amp; text) {</span>
<a href="#l3.395"></a><span id="l3.395" class="difflineminus">-          var encodedText = null; </span>
<a href="#l3.396"></a><span id="l3.396" class="difflineminus">-          var charset = &quot;&quot;;</span>
<a href="#l3.397"></a><span id="l3.397" class="difflineminus">-          const re = /^(.*)\&amp;mozcharset=([a-zA-Z][_\-a-zA-Z0-9]+)\s*$/; </span>
<a href="#l3.398"></a><span id="l3.398" class="difflineminus">-          var matches = shortcutURL.match(re);</span>
<a href="#l3.399"></a><span id="l3.399" class="difflineminus">-          if (matches) {</span>
<a href="#l3.400"></a><span id="l3.400" class="difflineminus">-             shortcutURL = matches[1];</span>
<a href="#l3.401"></a><span id="l3.401" class="difflineminus">-             charset = matches[2];</span>
<a href="#l3.402"></a><span id="l3.402" class="difflineminus">-          }</span>
<a href="#l3.403"></a><span id="l3.403" class="difflineminus">-          else if (/%s/.test(shortcutURL)) {</span>
<a href="#l3.404"></a><span id="l3.404" class="difflineminus">-            try {</span>
<a href="#l3.405"></a><span id="l3.405" class="difflineminus">-              charset = BMSVC.getLastCharset(shortcutURL);</span>
<a href="#l3.406"></a><span id="l3.406" class="difflineminus">-            } catch (ex) {</span>
<a href="#l3.407"></a><span id="l3.407" class="difflineminus">-            }</span>
<a href="#l3.408"></a><span id="l3.408" class="difflineminus">-          }</span>
<a href="#l3.409"></a><span id="l3.409" class="difflineplus">+  if (!shortcutURL)</span>
<a href="#l3.410"></a><span id="l3.410" class="difflineplus">+    return aURL;</span>
<a href="#l3.411"></a><span id="l3.411" class="difflineplus">+</span>
<a href="#l3.412"></a><span id="l3.412" class="difflineplus">+  var postData = &quot;&quot;;</span>
<a href="#l3.413"></a><span id="l3.413" class="difflineplus">+  if (aPostDataRef.value)</span>
<a href="#l3.414"></a><span id="l3.414" class="difflineplus">+    postData = unescape(aPostDataRef.value);</span>
<a href="#l3.415"></a><span id="l3.415"> </span>
<a href="#l3.416"></a><span id="l3.416" class="difflineminus">-          if (charset)</span>
<a href="#l3.417"></a><span id="l3.417" class="difflineminus">-            encodedText = escape(convertFromUnicode(charset, text)); </span>
<a href="#l3.418"></a><span id="l3.418" class="difflineminus">-          else  // default case: charset=UTF-8</span>
<a href="#l3.419"></a><span id="l3.419" class="difflineminus">-            encodedText = encodeURIComponent(text);</span>
<a href="#l3.420"></a><span id="l3.420" class="difflineminus">-</span>
<a href="#l3.421"></a><span id="l3.421" class="difflineminus">-          if (encodedText &amp;&amp; /%[sS]/.test(shortcutURL))</span>
<a href="#l3.422"></a><span id="l3.422" class="difflineminus">-            shortcutURL = shortcutURL.replace(/%s/g, encodedText)</span>
<a href="#l3.423"></a><span id="l3.423" class="difflineminus">-                                     .replace(/%S/g, text);</span>
<a href="#l3.424"></a><span id="l3.424" class="difflineminus">-          else </span>
<a href="#l3.425"></a><span id="l3.425" class="difflineminus">-            shortcutURL = null;</span>
<a href="#l3.426"></a><span id="l3.426" class="difflineminus">-        }</span>
<a href="#l3.427"></a><span id="l3.427" class="difflineminus">-      }</span>
<a href="#l3.428"></a><span id="l3.428" class="difflineplus">+  if (/%s/i.test(shortcutURL) || /%s/i.test(postData)) {</span>
<a href="#l3.429"></a><span id="l3.429" class="difflineplus">+    var charset = &quot;&quot;;</span>
<a href="#l3.430"></a><span id="l3.430" class="difflineplus">+    const re = /^(.*)\&amp;mozcharset=([a-zA-Z][_\-a-zA-Z0-9]+)\s*$/;</span>
<a href="#l3.431"></a><span id="l3.431" class="difflineplus">+    var matches = shortcutURL.match(re);</span>
<a href="#l3.432"></a><span id="l3.432" class="difflineplus">+    if (matches)</span>
<a href="#l3.433"></a><span id="l3.433" class="difflineplus">+      [, shortcutURL, charset] = matches;</span>
<a href="#l3.434"></a><span id="l3.434" class="difflineplus">+    else {</span>
<a href="#l3.435"></a><span id="l3.435" class="difflineplus">+      // Try to get the saved character-set.</span>
<a href="#l3.436"></a><span id="l3.436" class="difflineplus">+      try {</span>
<a href="#l3.437"></a><span id="l3.437" class="difflineplus">+        // makeURI throws if URI is invalid.</span>
<a href="#l3.438"></a><span id="l3.438" class="difflineplus">+        // Will return an empty string if character-set is not found.</span>
<a href="#l3.439"></a><span id="l3.439" class="difflineplus">+        charset = PlacesUtils.history.getCharsetForURI(makeURI(shortcutURL));</span>
<a href="#l3.440"></a><span id="l3.440" class="difflineplus">+      } catch (e) {}</span>
<a href="#l3.441"></a><span id="l3.441">     }</span>
<a href="#l3.442"></a><span id="l3.442"> </span>
<a href="#l3.443"></a><span id="l3.443" class="difflineminus">-    if (shortcutURL)</span>
<a href="#l3.444"></a><span id="l3.444" class="difflineminus">-      url = shortcutURL;</span>
<a href="#l3.445"></a><span id="l3.445" class="difflineplus">+    var encodedParam = &quot;&quot;;</span>
<a href="#l3.446"></a><span id="l3.446" class="difflineplus">+    if (charset)</span>
<a href="#l3.447"></a><span id="l3.447" class="difflineplus">+      encodedParam = escape(convertFromUnicode(charset, param));</span>
<a href="#l3.448"></a><span id="l3.448" class="difflineplus">+    else // Default charset is UTF-8</span>
<a href="#l3.449"></a><span id="l3.449" class="difflineplus">+      encodedParam = encodeURIComponent(param);</span>
<a href="#l3.450"></a><span id="l3.450" class="difflineplus">+</span>
<a href="#l3.451"></a><span id="l3.451" class="difflineplus">+    shortcutURL = shortcutURL.replace(/%s/g, encodedParam).replace(/%S/g, param);</span>
<a href="#l3.452"></a><span id="l3.452"> </span>
<a href="#l3.453"></a><span id="l3.453" class="difflineminus">-  } catch (ex) {</span>
<a href="#l3.454"></a><span id="l3.454" class="difflineplus">+    if (/%s/i.test(postData)) // POST keyword</span>
<a href="#l3.455"></a><span id="l3.455" class="difflineplus">+      aPostDataRef.value = getPostDataStream(postData, param, encodedParam,</span>
<a href="#l3.456"></a><span id="l3.456" class="difflineplus">+                                             &quot;application/x-www-form-urlencoded&quot;);</span>
<a href="#l3.457"></a><span id="l3.457">   }</span>
<a href="#l3.458"></a><span id="l3.458" class="difflineminus">-  return url;</span>
<a href="#l3.459"></a><span id="l3.459" class="difflineplus">+  else if (param) {</span>
<a href="#l3.460"></a><span id="l3.460" class="difflineplus">+    // This keyword doesn't take a parameter, but one was provided. Just return</span>
<a href="#l3.461"></a><span id="l3.461" class="difflineplus">+    // the original URL.</span>
<a href="#l3.462"></a><span id="l3.462" class="difflineplus">+    aPostDataRef.value = null;</span>
<a href="#l3.463"></a><span id="l3.463" class="difflineplus">+</span>
<a href="#l3.464"></a><span id="l3.464" class="difflineplus">+    return aURL;</span>
<a href="#l3.465"></a><span id="l3.465" class="difflineplus">+  }</span>
<a href="#l3.466"></a><span id="l3.466" class="difflineplus">+</span>
<a href="#l3.467"></a><span id="l3.467" class="difflineplus">+  return shortcutURL;</span>
<a href="#l3.468"></a><span id="l3.468"> }</span>
<a href="#l3.469"></a><span id="l3.469"> </span>
<a href="#l3.470"></a><span id="l3.470"> function readFromClipboard()</span>
<a href="#l3.471"></a><span id="l3.471"> {</span>
<a href="#l3.472"></a><span id="l3.472">   var url;</span>
<a href="#l3.473"></a><span id="l3.473"> </span>
<a href="#l3.474"></a><span id="l3.474">   try {</span>
<a href="#l3.475"></a><span id="l3.475">     // Get clipboard.</span>
<a href="#l3.476"></a><span id="l3.476" class="difflineat">@@ -1739,27 +1700,16 @@ function hiddenWindowStartup()</span>
<a href="#l3.477"></a><span id="l3.477">   var separator = document.getElementById(&quot;sep-window-list&quot;);</span>
<a href="#l3.478"></a><span id="l3.478">   if (separator)</span>
<a href="#l3.479"></a><span id="l3.479">     separator.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l3.480"></a><span id="l3.480"> </span>
<a href="#l3.481"></a><span id="l3.481">   // init string bundles</span>
<a href="#l3.482"></a><span id="l3.482">   gNavigatorBundle = document.getElementById(&quot;bundle_navigator&quot;);</span>
<a href="#l3.483"></a><span id="l3.483">   gNavigatorRegionBundle = document.getElementById(&quot;bundle_navigator_region&quot;);</span>
<a href="#l3.484"></a><span id="l3.484">   gBrandBundle = document.getElementById(&quot;bundle_brand&quot;);</span>
<a href="#l3.485"></a><span id="l3.485" class="difflineminus">-</span>
<a href="#l3.486"></a><span id="l3.486" class="difflineminus">-  // now load bookmarks after a delay</span>
<a href="#l3.487"></a><span id="l3.487" class="difflineminus">-  setTimeout(hiddenWindowLoadBookmarksCallback, 0);</span>
<a href="#l3.488"></a><span id="l3.488" class="difflineminus">-}</span>
<a href="#l3.489"></a><span id="l3.489" class="difflineminus">-</span>
<a href="#l3.490"></a><span id="l3.490" class="difflineminus">-function hiddenWindowLoadBookmarksCallback()</span>
<a href="#l3.491"></a><span id="l3.491" class="difflineminus">-{</span>
<a href="#l3.492"></a><span id="l3.492" class="difflineminus">-  // loads the services</span>
<a href="#l3.493"></a><span id="l3.493" class="difflineminus">-  initServices();</span>
<a href="#l3.494"></a><span id="l3.494" class="difflineminus">-  initBMService();</span>
<a href="#l3.495"></a><span id="l3.495" class="difflineminus">-  BMSVC.readBookmarks();  </span>
<a href="#l3.496"></a><span id="l3.496"> }</span>
<a href="#l3.497"></a><span id="l3.497"> </span>
<a href="#l3.498"></a><span id="l3.498"> var consoleListener = {</span>
<a href="#l3.499"></a><span id="l3.499">   observe: function (aMsgObject)</span>
<a href="#l3.500"></a><span id="l3.500">   {</span>
<a href="#l3.501"></a><span id="l3.501">     const nsIScriptError = Components.interfaces.nsIScriptError;</span>
<a href="#l3.502"></a><span id="l3.502">     var scriptError = aMsgObject.QueryInterface(nsIScriptError);</span>
<a href="#l3.503"></a><span id="l3.503">     var isWarning = scriptError.flags &amp; nsIScriptError.warningFlag != 0;</span>
<a href="#l3.504"></a><span id="l3.504" class="difflineat">@@ -2558,50 +2508,33 @@ function getNotificationBox(aWindow)</span>
<a href="#l3.505"></a><span id="l3.505">                 .QueryInterface(Components.interfaces.nsIDocShell)</span>
<a href="#l3.506"></a><span id="l3.506">                 .chromeEventHandler.parentNode.wrappedJSObject;</span>
<a href="#l3.507"></a><span id="l3.507"> }</span>
<a href="#l3.508"></a><span id="l3.508"> </span>
<a href="#l3.509"></a><span id="l3.509"> function BrowserToolboxCustomizeInit()</span>
<a href="#l3.510"></a><span id="l3.510"> {</span>
<a href="#l3.511"></a><span id="l3.511">   SetPageProxyState(&quot;invalid&quot;, null);</span>
<a href="#l3.512"></a><span id="l3.512">   toolboxCustomizeInit(&quot;main-menubar&quot;);</span>
<a href="#l3.513"></a><span id="l3.513" class="difflineplus">+  PlacesToolbarHelper.customizeStart();</span>
<a href="#l3.514"></a><span id="l3.514"> }</span>
<a href="#l3.515"></a><span id="l3.515"> </span>
<a href="#l3.516"></a><span id="l3.516"> function BrowserToolboxCustomizeDone(aToolboxChanged)</span>
<a href="#l3.517"></a><span id="l3.517"> {</span>
<a href="#l3.518"></a><span id="l3.518">   toolboxCustomizeDone(&quot;main-menubar&quot;, getNavToolbox(), aToolboxChanged);</span>
<a href="#l3.519"></a><span id="l3.519"> </span>
<a href="#l3.520"></a><span id="l3.520">   UpdateNavBar();</span>
<a href="#l3.521"></a><span id="l3.521"> </span>
<a href="#l3.522"></a><span id="l3.522">   // Update the urlbar</span>
<a href="#l3.523"></a><span id="l3.523">   var value = gBrowser.userTypedValue;</span>
<a href="#l3.524"></a><span id="l3.524">   if (value == null)</span>
<a href="#l3.525"></a><span id="l3.525">     URLBarSetURI();</span>
<a href="#l3.526"></a><span id="l3.526">   else</span>
<a href="#l3.527"></a><span id="l3.527">     gURLBar.value = value;</span>
<a href="#l3.528"></a><span id="l3.528"> </span>
<a href="#l3.529"></a><span id="l3.529" class="difflineminus">-  // fix up the personal toolbar folder</span>
<a href="#l3.530"></a><span id="l3.530" class="difflineminus">-  var bt = document.getElementById(&quot;bookmarks-ptf&quot;);</span>
<a href="#l3.531"></a><span id="l3.531" class="difflineminus">-  if (isElementVisible(bt)) {</span>
<a href="#l3.532"></a><span id="l3.532" class="difflineminus">-    // XXXRatty: do we still need to reinstate the BookmarksToolbarRDFObserver?</span>
<a href="#l3.533"></a><span id="l3.533" class="difflineminus">-    let btchevron = document.getElementById(&quot;bookmarks-chevron&quot;);</span>
<a href="#l3.534"></a><span id="l3.534" class="difflineminus">-    // no uniqueness is guaranteed, so we have to remove first</span>
<a href="#l3.535"></a><span id="l3.535" class="difflineminus">-    try {</span>
<a href="#l3.536"></a><span id="l3.536" class="difflineminus">-      bt.database.RemoveObserver(BookmarksToolbarRDFObserver);</span>
<a href="#l3.537"></a><span id="l3.537" class="difflineminus">-    } catch (ex) {</span>
<a href="#l3.538"></a><span id="l3.538" class="difflineminus">-      // ignore</span>
<a href="#l3.539"></a><span id="l3.539" class="difflineminus">-    }</span>
<a href="#l3.540"></a><span id="l3.540" class="difflineminus">-    bt.database.AddObserver(BookmarksToolbarRDFObserver);</span>
<a href="#l3.541"></a><span id="l3.541" class="difflineminus">-    bt.builder.rebuild();</span>
<a href="#l3.542"></a><span id="l3.542" class="difflineminus">-    btchevron.builder.rebuild();</span>
<a href="#l3.543"></a><span id="l3.543" class="difflineminus">-</span>
<a href="#l3.544"></a><span id="l3.544" class="difflineminus">-    // fake a resize; this function takes care of flowing bookmarks</span>
<a href="#l3.545"></a><span id="l3.545" class="difflineminus">-    // from the bar to the overflow item</span>
<a href="#l3.546"></a><span id="l3.546" class="difflineminus">-    BookmarksToolbar.resizeFunc(null);</span>
<a href="#l3.547"></a><span id="l3.547" class="difflineminus">-  }</span>
<a href="#l3.548"></a><span id="l3.548" class="difflineplus">+  PlacesToolbarHelper.customizeDone();</span>
<a href="#l3.549"></a><span id="l3.549"> }</span>
<a href="#l3.550"></a><span id="l3.550"> </span>
<a href="#l3.551"></a><span id="l3.551"> function BrowserToolboxCustomizeChange(event)</span>
<a href="#l3.552"></a><span id="l3.552"> {</span>
<a href="#l3.553"></a><span id="l3.553">   toolboxCustomizeChange(getNavToolbox(), event);</span>
<a href="#l3.554"></a><span id="l3.554"> }</span>
<a href="#l3.555"></a><span id="l3.555"> </span>
<a href="#l3.556"></a><span id="l3.556"> var LightWeightThemeWebInstaller = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/browser/navigator.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/browser/navigator.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -35,23 +35,24 @@</span>
<a href="#l4.4"></a><span id="l4.4">  and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l4.5"></a><span id="l4.5">  the provisions above, a recipient may use your version of this file under</span>
<a href="#l4.6"></a><span id="l4.6">  the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8">  ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10"> </span>
<a href="#l4.11"></a><span id="l4.11"> &lt;?xml-stylesheet href=&quot;chrome://navigator/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://communicator/content/places/places.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.13"></a><span id="l4.13"> </span>
<a href="#l4.14"></a><span id="l4.14"> &lt;?xul-overlay href=&quot;chrome://navigator/content/navigatorOverlay.xul&quot;?&gt;</span>
<a href="#l4.15"></a><span id="l4.15"> &lt;?xul-overlay href=&quot;chrome://navigator/content/mailNavigatorOverlay.xul&quot;?&gt;</span>
<a href="#l4.16"></a><span id="l4.16"> &lt;?xul-overlay href=&quot;chrome://navigator/content/linkToolbarOverlay.xul&quot;?&gt;</span>
<a href="#l4.17"></a><span id="l4.17"> &lt;?xul-overlay href=&quot;chrome://communicator/content/contentAreaContextOverlay.xul&quot;?&gt;</span>
<a href="#l4.18"></a><span id="l4.18"> &lt;?xul-overlay href=&quot;chrome://communicator/content/sidebar/sidebarOverlay.xul&quot;?&gt;</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/bookmarks/bookmarksOverlay.xul&quot;?&gt;</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://communicator/content/bookmarks/placesOverlay.xul&quot;?&gt;</span>
<a href="#l4.21"></a><span id="l4.21"> </span>
<a href="#l4.22"></a><span id="l4.22"> </span>
<a href="#l4.23"></a><span id="l4.23"> &lt;!DOCTYPE window [</span>
<a href="#l4.24"></a><span id="l4.24"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l4.25"></a><span id="l4.25"> %brandDTD;</span>
<a href="#l4.26"></a><span id="l4.26"> &lt;!ENTITY % navigatorDTD SYSTEM &quot;chrome://navigator/locale/navigator.dtd&quot; &gt;</span>
<a href="#l4.27"></a><span id="l4.27"> %navigatorDTD;</span>
<a href="#l4.28"></a><span id="l4.28"> ]&gt;</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineat">@@ -80,87 +81,89 @@</span>
<a href="#l4.30"></a><span id="l4.30">   &lt;!-- Content Area --&gt;</span>
<a href="#l4.31"></a><span id="l4.31">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/nsBrowserStatusHandler.js&quot;/&gt;</span>
<a href="#l4.32"></a><span id="l4.32">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/nsBrowserContentListener.js&quot;/&gt;</span>
<a href="#l4.33"></a><span id="l4.33">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/contentAreaClick.js&quot;/&gt;</span>
<a href="#l4.34"></a><span id="l4.34">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/contentAreaDD.js&quot;/&gt;</span>
<a href="#l4.35"></a><span id="l4.35">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/findUtils.js&quot;/&gt;</span>
<a href="#l4.36"></a><span id="l4.36">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/printUtils.js&quot;/&gt;</span>
<a href="#l4.37"></a><span id="l4.37"> </span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-  &lt;!-- Shared Bookmarks Utility Library --&gt;</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/bookmarks/bookmarks.js&quot;/&gt;</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/bookmarks/bookmarksMenu.js&quot;/&gt;</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-</span>
<a href="#l4.42"></a><span id="l4.42">   &lt;!-- Navigator --&gt;</span>
<a href="#l4.43"></a><span id="l4.43">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/fullScreen.js&quot;/&gt;</span>
<a href="#l4.44"></a><span id="l4.44">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/browser.js&quot;/&gt;</span>
<a href="#l4.45"></a><span id="l4.45">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/navigator.js&quot;/&gt;</span>
<a href="#l4.46"></a><span id="l4.46">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/navigatorDD.js&quot;/&gt;</span>
<a href="#l4.47"></a><span id="l4.47">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://navigator/content/sessionHistoryUI.js&quot;/&gt;</span>
<a href="#l4.48"></a><span id="l4.48"> </span>
<a href="#l4.49"></a><span id="l4.49" class="difflineplus">+  &lt;!-- Places Bookmarks Utilities --&gt;</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/places/browserPlacesViews.js&quot;/&gt;</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/bookmarks/browser-places.js&quot;/&gt;</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+</span>
<a href="#l4.53"></a><span id="l4.53">   &lt;!-- hook for stringbundle overlays --&gt;</span>
<a href="#l4.54"></a><span id="l4.54">   &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l4.55"></a><span id="l4.55">     &lt;stringbundle id=&quot;bundle_navigator&quot; src=&quot;chrome://navigator/locale/navigator.properties&quot;/&gt;</span>
<a href="#l4.56"></a><span id="l4.56">     &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l4.57"></a><span id="l4.57">     &lt;stringbundle id=&quot;bundle_navigator_region&quot; src=&quot;chrome://navigator-region/locale/region.properties&quot;/&gt;</span>
<a href="#l4.58"></a><span id="l4.58">     &lt;stringbundle id=&quot;findBundle&quot; src=&quot;chrome://global/locale/finddialog.properties&quot;/&gt;</span>
<a href="#l4.59"></a><span id="l4.59">   &lt;/stringbundleset&gt;</span>
<a href="#l4.60"></a><span id="l4.60"> </span>
<a href="#l4.61"></a><span id="l4.61" class="difflineminus">-  &lt;commandset id=&quot;commands&quot;&gt;    </span>
<a href="#l4.62"></a><span id="l4.62" class="difflineplus">+  &lt;commandset id=&quot;commands&quot;&gt;</span>
<a href="#l4.63"></a><span id="l4.63">     &lt;commandset id=&quot;findTypeMenuItems&quot;/&gt;</span>
<a href="#l4.64"></a><span id="l4.64">     &lt;commandset id=&quot;globalEditMenuItems&quot;/&gt;</span>
<a href="#l4.65"></a><span id="l4.65">     &lt;commandset id=&quot;selectEditMenuItems&quot;/&gt;</span>
<a href="#l4.66"></a><span id="l4.66">     &lt;commandset id=&quot;undoEditMenuItems&quot;/&gt;</span>
<a href="#l4.67"></a><span id="l4.67">     &lt;commandset id=&quot;clipboardEditMenuItems&quot;/&gt;</span>
<a href="#l4.68"></a><span id="l4.68">     &lt;!-- &lt;command id=&quot;cmd_pageSetup&quot;/&gt; --&gt;</span>
<a href="#l4.69"></a><span id="l4.69">     &lt;command id=&quot;toggleSidebar&quot;/&gt;</span>
<a href="#l4.70"></a><span id="l4.70">   &lt;/commandset&gt;</span>
<a href="#l4.71"></a><span id="l4.71"> </span>
<a href="#l4.72"></a><span id="l4.72">   &lt;commandset id=&quot;mainCommandSet&quot;/&gt; &lt;!-- Firefox extension compatibility --&gt;</span>
<a href="#l4.73"></a><span id="l4.73"> </span>
<a href="#l4.74"></a><span id="l4.74" class="difflineplus">+  &lt;commandset id=&quot;placesCommands&quot;/&gt;</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineplus">+</span>
<a href="#l4.76"></a><span id="l4.76">   &lt;!-- broadcasters are appended from the overlay --&gt;</span>
<a href="#l4.77"></a><span id="l4.77">   &lt;broadcasterset id=&quot;navBroadcasters&quot;/&gt;</span>
<a href="#l4.78"></a><span id="l4.78">   &lt;broadcasterset id=&quot;mainBroadcasterSet&quot;/&gt; &lt;!-- Firefox extension compatibility --&gt;</span>
<a href="#l4.79"></a><span id="l4.79"> </span>
<a href="#l4.80"></a><span id="l4.80">   &lt;!-- keys are appended from the overlay --&gt;</span>
<a href="#l4.81"></a><span id="l4.81">   &lt;keyset id=&quot;navKeys&quot;&gt;</span>
<a href="#l4.82"></a><span id="l4.82">     &lt;key id=&quot;showHideSidebar&quot;/&gt;</span>
<a href="#l4.83"></a><span id="l4.83">   &lt;/keyset&gt;</span>
<a href="#l4.84"></a><span id="l4.84">   &lt;keyset id=&quot;mainKeyset&quot;/&gt; &lt;!-- Firefox extension compatibility --&gt;</span>
<a href="#l4.85"></a><span id="l4.85"> </span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-  &lt;popupset id=&quot;bookmarksPopupset&quot;/&gt;</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-  &lt;template id=&quot;bookmarksMenuTemplate&quot;/&gt;</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-</span>
<a href="#l4.89"></a><span id="l4.89">   &lt;popupset id=&quot;mainPopupSet&quot;&gt;</span>
<a href="#l4.90"></a><span id="l4.90">     &lt;menupopup id=&quot;backMenu&quot;</span>
<a href="#l4.91"></a><span id="l4.91">            position=&quot;after_start&quot;</span>
<a href="#l4.92"></a><span id="l4.92">            onpopupshowing=&quot;return BrowserBackMenu(event);&quot;</span>
<a href="#l4.93"></a><span id="l4.93">            oncommand=&quot;gotoHistoryIndex(event);&quot;/&gt;</span>
<a href="#l4.94"></a><span id="l4.94">     &lt;menupopup id=&quot;forwardMenu&quot;</span>
<a href="#l4.95"></a><span id="l4.95">            position=&quot;after_start&quot;</span>
<a href="#l4.96"></a><span id="l4.96">            onpopupshowing=&quot;return BrowserForwardMenu(event);&quot;</span>
<a href="#l4.97"></a><span id="l4.97">            oncommand=&quot;gotoHistoryIndex(event);&quot;/&gt;</span>
<a href="#l4.98"></a><span id="l4.98">     &lt;tooltip id=&quot;aHTMLTooltip&quot;</span>
<a href="#l4.99"></a><span id="l4.99">              onpopupshowing=&quot;return FillInHTMLTooltip(document.tooltipNode);&quot;/&gt;</span>
<a href="#l4.100"></a><span id="l4.100">     &lt;menupopup id=&quot;sidebarPopup&quot;/&gt;</span>
<a href="#l4.101"></a><span id="l4.101"> </span>
<a href="#l4.102"></a><span id="l4.102" class="difflineminus">-    &lt;tooltip  id=&quot;btTooltip&quot;/&gt;</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineminus">-</span>
<a href="#l4.104"></a><span id="l4.104">     &lt;tooltip id=&quot;home-button-tooltip&quot; noautohide=&quot;true&quot;&gt;</span>
<a href="#l4.105"></a><span id="l4.105">       &lt;vbox id=&quot;home-button-tooltip-inner&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.106"></a><span id="l4.106">     &lt;/tooltip&gt;</span>
<a href="#l4.107"></a><span id="l4.107"> </span>
<a href="#l4.108"></a><span id="l4.108">     &lt;menupopup id=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l4.109"></a><span id="l4.109"> </span>
<a href="#l4.110"></a><span id="l4.110">     &lt;menupopup id=&quot;feedsPopup&quot; popupanchor=&quot;bottomright&quot; popupalign=&quot;topright&quot;</span>
<a href="#l4.111"></a><span id="l4.111">                onpopupshowing=&quot;window.XULBrowserWindow.populateFeeds(this);&quot;</span>
<a href="#l4.112"></a><span id="l4.112">                oncommand=&quot;subscribeToFeed(event.target.statusText, event);&quot;</span>
<a href="#l4.113"></a><span id="l4.113">                onclick=&quot;checkForMiddleClick(this, event);&quot;/&gt;</span>
<a href="#l4.114"></a><span id="l4.114">     &lt;panel id=&quot;PopupAutoComplete&quot; type=&quot;autocomplete&quot; noautofocus=&quot;true&quot;/&gt;</span>
<a href="#l4.115"></a><span id="l4.115"> </span>
<a href="#l4.116"></a><span id="l4.116" class="difflineplus">+    &lt;menupopup id=&quot;placesContext&quot;/&gt;</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineplus">+</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineplus">+    &lt;!-- Bookmarks and history tooltip --&gt;</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineplus">+    &lt;tooltip id=&quot;bhTooltip&quot;/&gt;</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineplus">+</span>
<a href="#l4.121"></a><span id="l4.121">     &lt;menupopup id=&quot;popupBlockerMenu&quot;</span>
<a href="#l4.122"></a><span id="l4.122">                oncommand=&quot;popupBlockerMenuCommand(event.target);&quot;</span>
<a href="#l4.123"></a><span id="l4.123">                onpopupshowing=&quot;return popupBlockerMenuShowing(event)&quot;/&gt;</span>
<a href="#l4.124"></a><span id="l4.124">     &lt;!-- Items are generated, see popupBlockerMenuShowing() --&gt;</span>
<a href="#l4.125"></a><span id="l4.125">     &lt;menupopup id=&quot;popupNotificationMenu&quot;/&gt;</span>
<a href="#l4.126"></a><span id="l4.126">     &lt;menupopup id=&quot;networkProperties&quot;/&gt;</span>
<a href="#l4.127"></a><span id="l4.127">   &lt;/popupset&gt;</span>
<a href="#l4.128"></a><span id="l4.128"> </span>
<a href="#l4.129"></a><span id="l4.129" class="difflineat">@@ -299,19 +302,18 @@</span>
<a href="#l4.130"></a><span id="l4.130">                 class=&quot;urlbar-icons&quot;</span>
<a href="#l4.131"></a><span id="l4.131">                 onclick=&quot;handlePageProxyClick(event);&quot;&gt;</span>
<a href="#l4.132"></a><span id="l4.132">             &lt;image id=&quot;page-proxy-button&quot;</span>
<a href="#l4.133"></a><span id="l4.133">                    ondraggesture=&quot;PageProxyDragGesture(event);&quot;</span>
<a href="#l4.134"></a><span id="l4.134">                    tooltiptext=&quot;&amp;proxyIcon.tooltip;&quot;/&gt;</span>
<a href="#l4.135"></a><span id="l4.135">             &lt;image id=&quot;page-proxy-favicon&quot; validate=&quot;never&quot;</span>
<a href="#l4.136"></a><span id="l4.136">                    ondraggesture=&quot;PageProxyDragGesture(event);&quot;</span>
<a href="#l4.137"></a><span id="l4.137">                    onload=&quot;this.parentNode.selectedIndex = 1;</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineminus">-                           event.stopPropagation();</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineminus">-                           HandleBookmarkIcon(this.src, true);&quot;</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineminus">-                   onerror=&quot;gBrowser.addToMissedIconCache(this.src); HandleBookmarkIcon(this.src, false);&quot;</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineplus">+                           event.stopPropagation();&quot;</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineplus">+                   onerror=&quot;gBrowser.addToMissedIconCache(this.src);&quot;</span>
<a href="#l4.143"></a><span id="l4.143">                    tooltiptext=&quot;&amp;proxyIcon.tooltip;&quot;/&gt;</span>
<a href="#l4.144"></a><span id="l4.144">           &lt;/deck&gt;</span>
<a href="#l4.145"></a><span id="l4.145">           &lt;hbox id=&quot;urlbar-icons&quot;</span>
<a href="#l4.146"></a><span id="l4.146">                 class=&quot;urlbar-icons&quot;&gt;</span>
<a href="#l4.147"></a><span id="l4.147">             &lt;image id=&quot;feedsButton&quot; hidden=&quot;true&quot; popup=&quot;feedsPopup&quot;/&gt;</span>
<a href="#l4.148"></a><span id="l4.148">             &lt;image id=&quot;ev-button&quot; hidden=&quot;true&quot;</span>
<a href="#l4.149"></a><span id="l4.149">                    onclick=&quot;if (event.button == 0) BrowserPageInfo(null, 'securityTab');&quot;/&gt;</span>
<a href="#l4.150"></a><span id="l4.150">           &lt;/hbox&gt;</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineat">@@ -362,91 +364,105 @@</span>
<a href="#l4.152"></a><span id="l4.152">         &lt;/menupopup&gt;</span>
<a href="#l4.153"></a><span id="l4.153">       &lt;/toolbarbutton&gt;</span>
<a href="#l4.154"></a><span id="l4.154"> </span>
<a href="#l4.155"></a><span id="l4.155">       &lt;toolbaritem id=&quot;throbber-box&quot; align=&quot;center&quot;&gt;</span>
<a href="#l4.156"></a><span id="l4.156">         &lt;button id=&quot;navigator-throbber&quot; oncommand=&quot;goClickThrobber('browser.throbber.url')&quot;</span>
<a href="#l4.157"></a><span id="l4.157">                 tooltiptext=&quot;&amp;throbber.tooltip;&quot;/&gt;</span>
<a href="#l4.158"></a><span id="l4.158">       &lt;/toolbaritem&gt;</span>
<a href="#l4.159"></a><span id="l4.159"> </span>
<a href="#l4.160"></a><span id="l4.160" class="difflineminus">-      &lt;!-- &quot;Bookmarks&quot; button on personal toolbar --&gt;                           </span>
<a href="#l4.161"></a><span id="l4.161" class="difflineminus">-      &lt;toolbarbutton type=&quot;menu&quot; id=&quot;bookmarks-button&quot; class=&quot;bookmark-item&quot;</span>
<a href="#l4.162"></a><span id="l4.162" class="difflineplus">+      &lt;!-- &quot;Bookmarks&quot; button on personal toolbar --&gt;</span>
<a href="#l4.163"></a><span id="l4.163" class="difflineplus">+      &lt;toolbarbutton type=&quot;menu&quot; id=&quot;bookmarks-button&quot;</span>
<a href="#l4.164"></a><span id="l4.164" class="difflineplus">+                     class=&quot;bookmark-item&quot; container=&quot;true&quot;</span>
<a href="#l4.165"></a><span id="l4.165">                      label=&quot;&amp;bookmarksButton.label;&quot;</span>
<a href="#l4.166"></a><span id="l4.166" class="difflineminus">-                     datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot;</span>
<a href="#l4.167"></a><span id="l4.167" class="difflineminus">-                     ref=&quot;NC:BookmarksRoot&quot; container=&quot;true&quot; flags=&quot;dont-test-empty&quot;</span>
<a href="#l4.168"></a><span id="l4.168" class="difflineminus">-                     tooltip=&quot;btTooltip&quot;</span>
<a href="#l4.169"></a><span id="l4.169" class="difflineminus">-                     oncommand=&quot;BookmarksMenu.loadBookmark(event, this.database);&quot;</span>
<a href="#l4.170"></a><span id="l4.170" class="difflineminus">-                     onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot; </span>
<a href="#l4.171"></a><span id="l4.171" class="difflineminus">-                     template=&quot;bookmarksMenuTemplate&quot;</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineminus">-                     onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineminus">-                     onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineminus">-                     onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineminus">-                     ondraggesture=&quot;if (event.target.id!='bookmarks-button') nsDragAndDrop.startDrag(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineminus">-                     ondragdrop=&quot;nsDragAndDrop.drop(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.177"></a><span id="l4.177" class="difflineminus">-                     ondragenter=&quot;nsDragAndDrop.dragEnter(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.178"></a><span id="l4.178" class="difflineminus">-                     ondragexit=&quot;nsDragAndDrop.dragExit(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineminus">-                     ondragover=&quot;nsDragAndDrop.dragOver(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;&gt;</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineminus">-        &lt;menupopup context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineminus">-                   onpopupshowing=&quot;updateGroupmarkCommand();&quot;&gt;</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineplus">+                     ondragenter=&quot;PlacesMenuDNDHandler.onDragEnter(event);&quot;</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineplus">+                     ondragover=&quot;PlacesMenuDNDHandler.onDragOver(event);&quot;</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineplus">+                     ondragleave=&quot;PlacesMenuDNDHandler.onDragLeave(event);&quot;</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineplus">+                     ondrop=&quot;PlacesMenuDNDHandler.onDrop(event);&quot;&gt;</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineplus">+        &lt;menupopup id=&quot;BMB_bookmarksPopup&quot;</span>
<a href="#l4.187"></a><span id="l4.187" class="difflineplus">+                   placespopup=&quot;true&quot;</span>
<a href="#l4.188"></a><span id="l4.188" class="difflineplus">+                   context=&quot;placesContext&quot;</span>
<a href="#l4.189"></a><span id="l4.189" class="difflineplus">+                   openInTabs=&quot;children&quot;</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineplus">+                   oncommand=&quot;BookmarksEventHandler.onCommand(event);&quot;</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineplus">+                   onclick=&quot;BookmarksEventHandler.onClick(event);&quot;</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineplus">+                   onpopupshowing=&quot;BookmarksMenuButton.onPopupShowing(event);</span>
<a href="#l4.193"></a><span id="l4.193" class="difflineplus">+                                   if (!this.parentNode._placesView)</span>
<a href="#l4.194"></a><span id="l4.194" class="difflineplus">+                                     new PlacesMenu(event, 'place:folder=BOOKMARKS_MENU');&quot;</span>
<a href="#l4.195"></a><span id="l4.195" class="difflineplus">+                   tooltip=&quot;bhTooltip&quot; popupsinherittooltip=&quot;true&quot;&gt;</span>
<a href="#l4.196"></a><span id="l4.196">           &lt;menuitem command=&quot;Browser:AddBookmark&quot;/&gt;</span>
<a href="#l4.197"></a><span id="l4.197">           &lt;menuitem command=&quot;Browser:AddBookmarkAs&quot;/&gt;</span>
<a href="#l4.198"></a><span id="l4.198" class="difflineminus">-          &lt;menuitem command=&quot;Browser:AddGroupmarkAs&quot;/&gt;</span>
<a href="#l4.199"></a><span id="l4.199" class="difflineplus">+          &lt;menuitem command=&quot;Browser:BookmarkAllTabs&quot;/&gt;</span>
<a href="#l4.200"></a><span id="l4.200">           &lt;menuitem command=&quot;Browser:ManageBookmark&quot;/&gt;</span>
<a href="#l4.201"></a><span id="l4.201" class="difflineminus">-          &lt;menuseparator id=&quot;lastStaticSeparator&quot;/&gt;</span>
<a href="#l4.202"></a><span id="l4.202" class="difflineplus">+          &lt;menuseparator/&gt;</span>
<a href="#l4.203"></a><span id="l4.203" class="difflineplus">+          &lt;menu class=&quot;menu-iconic&quot; disabled=&quot;true&quot;</span>
<a href="#l4.204"></a><span id="l4.204" class="difflineplus">+                label=&quot;&amp;feedsMenu.label;&quot; accesskey=&quot;&amp;feedsMenu.accesskey;&quot;&gt;</span>
<a href="#l4.205"></a><span id="l4.205" class="difflineplus">+            &lt;menupopup onpopupshowing=&quot;window.XULBrowserWindow.populateFeeds(this);&quot;</span>
<a href="#l4.206"></a><span id="l4.206" class="difflineplus">+                       oncommand=&quot;subscribeToFeed(event.target.statusText, event);&quot;</span>
<a href="#l4.207"></a><span id="l4.207" class="difflineplus">+                       onclick=&quot;checkForMiddleClick(this, event);&quot;/&gt;</span>
<a href="#l4.208"></a><span id="l4.208" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l4.209"></a><span id="l4.209" class="difflineplus">+          &lt;menuseparator/&gt;</span>
<a href="#l4.210"></a><span id="l4.210" class="difflineplus">+          &lt;menuseparator/&gt;</span>
<a href="#l4.211"></a><span id="l4.211" class="difflineplus">+          &lt;menu id=&quot;BMB_bookmarksToolbarFolderMenu&quot;</span>
<a href="#l4.212"></a><span id="l4.212" class="difflineplus">+                class=&quot;menu-iconic bookmark-item&quot;</span>
<a href="#l4.213"></a><span id="l4.213" class="difflineplus">+                label=&quot;&amp;personalbarCmd.label;&quot;</span>
<a href="#l4.214"></a><span id="l4.214" class="difflineplus">+                container=&quot;true&quot;&gt;</span>
<a href="#l4.215"></a><span id="l4.215" class="difflineplus">+            &lt;menupopup id=&quot;BMB_bookmarksToolbarFolderPopup&quot;</span>
<a href="#l4.216"></a><span id="l4.216" class="difflineplus">+                       placespopup=&quot;true&quot;</span>
<a href="#l4.217"></a><span id="l4.217" class="difflineplus">+                       context=&quot;placesContext&quot;</span>
<a href="#l4.218"></a><span id="l4.218" class="difflineplus">+                       onpopupshowing=&quot;if (!this.parentNode._placesView)</span>
<a href="#l4.219"></a><span id="l4.219" class="difflineplus">+                                         new PlacesMenu(event, 'place:folder=TOOLBAR');&quot;/&gt;</span>
<a href="#l4.220"></a><span id="l4.220" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l4.221"></a><span id="l4.221" class="difflineplus">+          &lt;menu id=&quot;BMB_unsortedBookmarksFolderMenu&quot;</span>
<a href="#l4.222"></a><span id="l4.222" class="difflineplus">+                class=&quot;menu-iconic bookmark-item&quot;</span>
<a href="#l4.223"></a><span id="l4.223" class="difflineplus">+                container=&quot;true&quot;&gt;</span>
<a href="#l4.224"></a><span id="l4.224" class="difflineplus">+            &lt;menupopup id=&quot;BMB_unsortedBookmarksFolderPopup&quot;</span>
<a href="#l4.225"></a><span id="l4.225" class="difflineplus">+                       placespopup=&quot;true&quot;</span>
<a href="#l4.226"></a><span id="l4.226" class="difflineplus">+                       context=&quot;placesContext&quot;</span>
<a href="#l4.227"></a><span id="l4.227" class="difflineplus">+                       onpopupshowing=&quot;if (!this.parentNode._placesView)</span>
<a href="#l4.228"></a><span id="l4.228" class="difflineplus">+                                         new PlacesMenu(event, 'place:folder=UNFILED_BOOKMARKS');&quot;/&gt;</span>
<a href="#l4.229"></a><span id="l4.229" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l4.230"></a><span id="l4.230" class="difflineplus">+          &lt;menuseparator/&gt;</span>
<a href="#l4.231"></a><span id="l4.231">         &lt;/menupopup&gt;</span>
<a href="#l4.232"></a><span id="l4.232">       &lt;/toolbarbutton&gt;</span>
<a href="#l4.233"></a><span id="l4.233"> </span>
<a href="#l4.234"></a><span id="l4.234" class="difflineminus">-      &lt;toolbaritem id=&quot;personal-bookmarks&quot;</span>
<a href="#l4.235"></a><span id="l4.235" class="difflineminus">-                   flex=&quot;1&quot;</span>
<a href="#l4.236"></a><span id="l4.236" class="difflineminus">-                   style=&quot;min-width:0px; width:0px;&quot;</span>
<a href="#l4.237"></a><span id="l4.237" class="difflineminus">-                   class=&quot;chromeclass-directories&quot;</span>
<a href="#l4.238"></a><span id="l4.238" class="difflineminus">-               onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.239"></a><span id="l4.239" class="difflineminus">-               onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.240"></a><span id="l4.240" class="difflineminus">-               onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;</span>
<a href="#l4.241"></a><span id="l4.241" class="difflineminus">-               ondraggesture=&quot;nsDragAndDrop.startDrag(event, BookmarksMenuDNDObserver)&quot;</span>
<a href="#l4.242"></a><span id="l4.242" class="difflineminus">-               ondragdrop=&quot;nsDragAndDrop.drop(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.243"></a><span id="l4.243" class="difflineminus">-               ondragenter=&quot;nsDragAndDrop.dragEnter(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.244"></a><span id="l4.244" class="difflineminus">-               ondragexit=&quot;nsDragAndDrop.dragExit(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l4.245"></a><span id="l4.245" class="difflineminus">-               ondragover=&quot;nsDragAndDrop.dragOver(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;&gt;</span>
<a href="#l4.246"></a><span id="l4.246" class="difflineminus">-</span>
<a href="#l4.247"></a><span id="l4.247" class="difflineminus">-        &lt;toolbarbutton class=&quot;bookmark-item bookmarks-toolbar-customize&quot; mousethrough=&quot;never&quot;</span>
<a href="#l4.248"></a><span id="l4.248" class="difflineminus">-                       label=&quot;&amp;bookmarksToolbarItem.label;&quot;/&gt;</span>
<a href="#l4.249"></a><span id="l4.249" class="difflineminus">-</span>
<a href="#l4.250"></a><span id="l4.250" class="difflineminus">-        &lt;!-- Personal toolbar items --&gt;</span>
<a href="#l4.251"></a><span id="l4.251" class="difflineminus">-        &lt;hbox id=&quot;bookmarks-ptf&quot; flex=&quot;1&quot; style=&quot;min-width: 1px;&quot;</span>
<a href="#l4.252"></a><span id="l4.252" class="difflineminus">-              class=&quot;bookmarks-toolbar-items&quot;</span>
<a href="#l4.253"></a><span id="l4.253" class="difflineminus">-              context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l4.254"></a><span id="l4.254" class="difflineminus">-              template=&quot;bookmarksMenuTemplate&quot;</span>
<a href="#l4.255"></a><span id="l4.255" class="difflineminus">-              datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot;</span>
<a href="#l4.256"></a><span id="l4.256" class="difflineminus">-              ref=&quot;NC:PersonalToolbarFolder&quot; flags=&quot;dont-test-empty&quot;</span>
<a href="#l4.257"></a><span id="l4.257" class="difflineminus">-              rdf:type=&quot;http://home.netscape.com/NC-rdf#Folder&quot;</span>
<a href="#l4.258"></a><span id="l4.258" class="difflineminus">-              tooltip=&quot;btTooltip&quot;</span>
<a href="#l4.259"></a><span id="l4.259" class="difflineminus">-              oncommand=&quot;BookmarksUtils.loadBookmarkBrowser(event, this.database)&quot;</span>
<a href="#l4.260"></a><span id="l4.260" class="difflineminus">-              onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot;</span>
<a href="#l4.261"></a><span id="l4.261" class="difflineminus">-              onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.262"></a><span id="l4.262" class="difflineminus">-              onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.263"></a><span id="l4.263" class="difflineminus">-              onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;&gt;</span>
<a href="#l4.264"></a><span id="l4.264" class="difflineminus">-        &lt;/hbox&gt;</span>
<a href="#l4.265"></a><span id="l4.265" class="difflineminus">-        &lt;hbox class=&quot;bookmarks-toolbar-overflow-items&quot; mousethrough=&quot;always&quot;&gt;</span>
<a href="#l4.266"></a><span id="l4.266" class="difflineminus">-          &lt;hbox mousethrough=&quot;always&quot; id=&quot;overflow-padder&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.267"></a><span id="l4.267" class="difflineminus">-          &lt;toolbarbutton id=&quot;bookmarks-chevron&quot; type=&quot;menu&quot; class=&quot;chevron&quot;</span>
<a href="#l4.268"></a><span id="l4.268" class="difflineminus">-                         mousethrough=&quot;never&quot; collapsed=&quot;true&quot;</span>
<a href="#l4.269"></a><span id="l4.269" class="difflineminus">-                         datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot;</span>
<a href="#l4.270"></a><span id="l4.270" class="difflineminus">-                         template=&quot;bookmarksMenuTemplate&quot;</span>
<a href="#l4.271"></a><span id="l4.271" class="difflineminus">-                         ref=&quot;NC:PersonalToolbarFolder&quot; flags=&quot;dont-test-empty&quot;</span>
<a href="#l4.272"></a><span id="l4.272" class="difflineminus">-                         tooltip=&quot;btTooltip&quot;</span>
<a href="#l4.273"></a><span id="l4.273" class="difflineminus">-                         oncommand=&quot;BookmarksUtils.loadBookmarkBrowser(event, this.database)&quot;</span>
<a href="#l4.274"></a><span id="l4.274" class="difflineminus">-                         onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot;</span>
<a href="#l4.275"></a><span id="l4.275" class="difflineminus">-                         onmouseover=&quot;BookmarksToolbar.autoOpenMenu(event.target);&quot;</span>
<a href="#l4.276"></a><span id="l4.276" class="difflineminus">-                         onpopupshowing=&quot;BookmarksToolbar.onMenuOpen(event.target);&quot;</span>
<a href="#l4.277"></a><span id="l4.277" class="difflineminus">-                         onpopuphidden=&quot;BookmarksToolbar.onMenuClose(event.target);&quot;&gt;</span>
<a href="#l4.278"></a><span id="l4.278" class="difflineminus">-            &lt;menupopup id=&quot;bookmarks-chevron-popup&quot;</span>
<a href="#l4.279"></a><span id="l4.279" class="difflineminus">-                       context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l4.280"></a><span id="l4.280" class="difflineminus">-                       onpopupshowing=&quot;if (event.target == this) BookmarksToolbar.updateOverflowMenu(this);&quot;/&gt;</span>
<a href="#l4.281"></a><span id="l4.281" class="difflineminus">-          &lt;/toolbarbutton&gt;</span>
<a href="#l4.282"></a><span id="l4.282" class="difflineplus">+      &lt;toolbaritem flex=&quot;1&quot; id=&quot;personal-bookmarks&quot; title=&quot;&amp;bookmarksToolbarItem.label;&quot;</span>
<a href="#l4.283"></a><span id="l4.283" class="difflineplus">+                   removable=&quot;true&quot;&gt;</span>
<a href="#l4.284"></a><span id="l4.284" class="difflineplus">+        &lt;hbox flex=&quot;1&quot;</span>
<a href="#l4.285"></a><span id="l4.285" class="difflineplus">+              id=&quot;PlacesToolbar&quot;</span>
<a href="#l4.286"></a><span id="l4.286" class="difflineplus">+              context=&quot;placesContext&quot;</span>
<a href="#l4.287"></a><span id="l4.287" class="difflineplus">+              onclick=&quot;BookmarksEventHandler.onClick(event);&quot;</span>
<a href="#l4.288"></a><span id="l4.288" class="difflineplus">+              oncommand=&quot;BookmarksEventHandler.onCommand(event);&quot;</span>
<a href="#l4.289"></a><span id="l4.289" class="difflineplus">+              tooltip=&quot;bhTooltip&quot;</span>
<a href="#l4.290"></a><span id="l4.290" class="difflineplus">+              popupsinherittooltip=&quot;true&quot;&gt;</span>
<a href="#l4.291"></a><span id="l4.291" class="difflineplus">+          &lt;toolbarbutton class=&quot;bookmark-item bookmarks-toolbar-customize&quot;</span>
<a href="#l4.292"></a><span id="l4.292" class="difflineplus">+                         mousethrough=&quot;never&quot;</span>
<a href="#l4.293"></a><span id="l4.293" class="difflineplus">+                         label=&quot;&amp;bookmarksToolbarItem.label;&quot;/&gt;</span>
<a href="#l4.294"></a><span id="l4.294" class="difflineplus">+          &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l4.295"></a><span id="l4.295" class="difflineplus">+            &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l4.296"></a><span id="l4.296" class="difflineplus">+              &lt;image id=&quot;PlacesToolbarDropIndicator&quot;</span>
<a href="#l4.297"></a><span id="l4.297" class="difflineplus">+                     mousethrough=&quot;always&quot;</span>
<a href="#l4.298"></a><span id="l4.298" class="difflineplus">+                     collapsed=&quot;true&quot;/&gt;</span>
<a href="#l4.299"></a><span id="l4.299" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l4.300"></a><span id="l4.300" class="difflineplus">+            &lt;scrollbox orient=&quot;horizontal&quot;</span>
<a href="#l4.301"></a><span id="l4.301" class="difflineplus">+                       id=&quot;PlacesToolbarItems&quot;</span>
<a href="#l4.302"></a><span id="l4.302" class="difflineplus">+                       flex=&quot;1&quot;/&gt;</span>
<a href="#l4.303"></a><span id="l4.303" class="difflineplus">+            &lt;toolbarbutton type=&quot;menu&quot;</span>
<a href="#l4.304"></a><span id="l4.304" class="difflineplus">+                           id=&quot;PlacesChevron&quot;</span>
<a href="#l4.305"></a><span id="l4.305" class="difflineplus">+                           class=&quot;chevron&quot;</span>
<a href="#l4.306"></a><span id="l4.306" class="difflineplus">+                           mousethrough=&quot;never&quot;</span>
<a href="#l4.307"></a><span id="l4.307" class="difflineplus">+                           collapsed=&quot;true&quot;</span>
<a href="#l4.308"></a><span id="l4.308" class="difflineplus">+                           tooltiptext=&quot;&amp;bookmarksToolbarChevron.tooltip;&quot;</span>
<a href="#l4.309"></a><span id="l4.309" class="difflineplus">+                           onpopupshowing=&quot;this.parentNode.parentNode</span>
<a href="#l4.310"></a><span id="l4.310" class="difflineplus">+                                               ._placesView._onChevronPopupShowing(event);&quot;&gt;</span>
<a href="#l4.311"></a><span id="l4.311" class="difflineplus">+              &lt;menupopup id=&quot;PlacesChevronPopup&quot;</span>
<a href="#l4.312"></a><span id="l4.312" class="difflineplus">+                         placespopup=&quot;true&quot;</span>
<a href="#l4.313"></a><span id="l4.313" class="difflineplus">+                         tooltip=&quot;bhTooltip&quot; popupsinherittooltip=&quot;true&quot;</span>
<a href="#l4.314"></a><span id="l4.314" class="difflineplus">+                         context=&quot;placesContext&quot;/&gt;</span>
<a href="#l4.315"></a><span id="l4.315" class="difflineplus">+            &lt;/toolbarbutton&gt;</span>
<a href="#l4.316"></a><span id="l4.316" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l4.317"></a><span id="l4.317">         &lt;/hbox&gt;</span>
<a href="#l4.318"></a><span id="l4.318">       &lt;/toolbaritem&gt;</span>
<a href="#l4.319"></a><span id="l4.319"> </span>
<a href="#l4.320"></a><span id="l4.320">     &lt;/toolbarpalette&gt;</span>
<a href="#l4.321"></a><span id="l4.321"> </span>
<a href="#l4.322"></a><span id="l4.322">   &lt;/toolbox&gt;</span>
<a href="#l4.323"></a><span id="l4.323"> </span>
<a href="#l4.324"></a><span id="l4.324">   &lt;hbox flex=&quot;1&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/browser/navigatorOverlay.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/browser/navigatorOverlay.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -109,18 +109,20 @@</span>
<a href="#l5.4"></a><span id="l5.4">     &lt;key id=&quot;key_findTypeText&quot;/&gt;</span>
<a href="#l5.5"></a><span id="l5.5">     &lt;key id=&quot;key_findTypeLinks&quot;/&gt;</span>
<a href="#l5.6"></a><span id="l5.6"> </span>
<a href="#l5.7"></a><span id="l5.7">     &lt;!-- Go Menu --&gt;</span>
<a href="#l5.8"></a><span id="l5.8">     &lt;key keycode=&quot;VK_BACK&quot; command=&quot;cmd_handleBackspace&quot;/&gt;</span>
<a href="#l5.9"></a><span id="l5.9">     &lt;key keycode=&quot;VK_BACK&quot; command=&quot;cmd_handleShiftBackspace&quot; modifiers=&quot;shift&quot;/&gt;</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11">     &lt;!-- Bookmarks Menu --&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+    &lt;key id=&quot;addBookmarkKb&quot; key=&quot;&amp;addCurPageAsCmd.commandkey;&quot; command=&quot;Browser:AddBookmark&quot; modifiers=&quot;accel,alt&quot;/&gt;</span>
<a href="#l5.13"></a><span id="l5.13">     &lt;key id=&quot;addBookmarkAsKb&quot; key=&quot;&amp;addCurPageAsCmd.commandkey;&quot; command=&quot;Browser:AddBookmarkAs&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l5.14"></a><span id="l5.14">     &lt;key id=&quot;manBookmarkKb&quot; key=&quot;&amp;manBookmarksCmd.commandkey;&quot; command=&quot;Browser:ManageBookmark&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+    &lt;key id=&quot;bookmarkAllTabsKb&quot; key=&quot;&amp;addCurPageAsCmd.commandkey;&quot; command=&quot;Browser:BookmarkAllTabs&quot; modifiers=&quot;accel,shift&quot;/&gt;</span>
<a href="#l5.16"></a><span id="l5.16"> </span>
<a href="#l5.17"></a><span id="l5.17">     &lt;!-- Tools Menu --&gt;</span>
<a href="#l5.18"></a><span id="l5.18">     &lt;key id=&quot;searchInternetKb&quot; key=&quot;&amp;searchInternet.commandKey;&quot; modifiers=&quot;accel,shift&quot; command=&quot;Browser:SearchInternet&quot;/&gt;</span>
<a href="#l5.19"></a><span id="l5.19"> </span>
<a href="#l5.20"></a><span id="l5.20">     &lt;!-- Misc --&gt;</span>
<a href="#l5.21"></a><span id="l5.21">     &lt;!-- the amazing fishcam, suppress warning by ',' at the beginning of modifiers, see bug 496322 --&gt;</span>
<a href="#l5.22"></a><span id="l5.22">     &lt;key key=&quot;f&quot; modifiers=&quot;,control,alt&quot; oncommand=&quot;loadURI('http://www.fishcam.com/');&quot;/&gt;</span>
<a href="#l5.23"></a><span id="l5.23">     &lt;key id=&quot;goUpKb&quot; keycode=&quot;VK_UP&quot; command=&quot;Browser:Up&quot; modifiers=&quot;alt&quot;/&gt;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineat">@@ -179,27 +181,32 @@</span>
<a href="#l5.25"></a><span id="l5.25">     &lt;!-- Search Menu --&gt;</span>
<a href="#l5.26"></a><span id="l5.26">     &lt;command id=&quot;Browser:Find&quot; oncommand=&quot;BrowserFind();&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.27"></a><span id="l5.27">     &lt;command id=&quot;Browser:FindAgain&quot; oncommand=&quot;BrowserFindAgain(false);&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.28"></a><span id="l5.28">     &lt;command id=&quot;Browser:FindPrev&quot;  oncommand=&quot;BrowserFindAgain(true);&quot;  observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.29"></a><span id="l5.29">     &lt;command id=&quot;cmd_findTypeText&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.30"></a><span id="l5.30">     &lt;command id=&quot;cmd_findTypeLinks&quot; observes=&quot;isImage&quot;/&gt;</span>
<a href="#l5.31"></a><span id="l5.31"> </span>
<a href="#l5.32"></a><span id="l5.32">     &lt;!-- Bookmarks Menu --&gt;</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineminus">-    &lt;command id=&quot;Browser:AddBookmark&quot; label=&quot;&amp;addCurPageCmd.label;&quot; accesskey=&quot;&amp;addCurPageCmd.accesskey;&quot; </span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-             oncommand=&quot;BookmarksUtils.addBookmarkForBrowser(document.getElementById('content').webNavigation, false);&quot;/&gt;</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineminus">-    &lt;command id=&quot;Browser:AddBookmarkAs&quot; label=&quot;&amp;addCurPageAsCmd.label;&quot;</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineminus">-             accesskey=&quot;&amp;addCurPageAsCmd.accesskey;&quot;</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineminus">-             oncommand=&quot;addBookmarkAs();&quot;/&gt;</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineminus">-    &lt;command id=&quot;Browser:AddGroupmarkAs&quot; label=&quot;&amp;addCurTabsAsCmd.label;&quot;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineminus">-             accesskey=&quot;&amp;addCurTabsAsCmd.accesskey;&quot;</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-             oncommand=&quot;addGroupmarkAs(); event.stopPropagation();&quot;/&gt;</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineminus">-    &lt;command id=&quot;Browser:ManageBookmark&quot; label=&quot;&amp;manBookmarksCmd.label;&quot; accesskey=&quot;&amp;manBookmarksCmd.accesskey;&quot; </span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-             oncommand=&quot;toBookmarksManager();&quot;/&gt;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineminus">-  </span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+    &lt;command id=&quot;Browser:AddBookmark&quot;</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+             label=&quot;&amp;addCurPageCmd.label;&quot; accesskey=&quot;&amp;addCurPageCmd.accesskey;&quot;</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineplus">+             oncommand=&quot;PlacesCommandHook.bookmarkCurrentPage(false, PlacesUtils.bookmarksMenuFolderId);&quot;/&gt;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+    &lt;command id=&quot;Browser:AddBookmarkAs&quot;</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+             label=&quot;&amp;addCurPageAsCmd.label;&quot; accesskey=&quot;&amp;addCurPageAsCmd.accesskey;&quot;</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+             oncommand=&quot;PlacesCommandHook.bookmarkCurrentPage(true, PlacesUtils.bookmarksMenuFolderId);&quot;/&gt;</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+    &lt;!-- The command is disabled for the hidden window. Otherwise its enabled</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+         state is handled by gBookmarkAllTabsHandler. --&gt;</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+    &lt;command id=&quot;Browser:BookmarkAllTabs&quot;</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+             label=&quot;&amp;addCurTabsAsCmd.label;&quot; accesskey=&quot;&amp;addCurTabsAsCmd.accesskey;&quot;</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+             oncommand=&quot;gBookmarkAllTabsHandler.doCommand();&quot;</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+             disabled=&quot;true&quot;/&gt;</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+    &lt;command id=&quot;Browser:ManageBookmark&quot;</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+             label=&quot;&amp;manBookmarksCmd.label;&quot; accesskey=&quot;&amp;manBookmarksCmd.accesskey;&quot;</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+             oncommand=&quot;PlacesCommandHook.showBookmarksManager('AllBookmarks');&quot;/&gt;</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+</span>
<a href="#l5.60"></a><span id="l5.60">     &lt;!-- Go Menu --&gt;  </span>
<a href="#l5.61"></a><span id="l5.61">     &lt;command id=&quot;Browser:Home&quot;    oncommand=&quot;BrowserHome(event);&quot;/&gt;</span>
<a href="#l5.62"></a><span id="l5.62">     &lt;command id=&quot;Browser:Back&quot;    oncommand=&quot;BrowserBack();&quot;    observes=&quot;canGoBack&quot;/&gt;</span>
<a href="#l5.63"></a><span id="l5.63">     &lt;command id=&quot;Browser:Forward&quot; oncommand=&quot;BrowserForward();&quot; observes=&quot;canGoForward&quot;/&gt;</span>
<a href="#l5.64"></a><span id="l5.64">     &lt;command id=&quot;Browser:Up&quot;      oncommand=&quot;BrowserUp();&quot;      observes=&quot;canGoUp&quot;/&gt;</span>
<a href="#l5.65"></a><span id="l5.65">     &lt;commandset id=&quot;viewZoomCommands&quot;/&gt;</span>
<a href="#l5.66"></a><span id="l5.66">     &lt;commandset id=&quot;tasksCommands&quot;/&gt;</span>
<a href="#l5.67"></a><span id="l5.67"> </span>
<a href="#l5.68"></a><span id="l5.68" class="difflineat">@@ -224,96 +231,16 @@</span>
<a href="#l5.69"></a><span id="l5.69">          </span>
<a href="#l5.70"></a><span id="l5.70">   &lt;!-- bookmarks context menu --&gt;</span>
<a href="#l5.71"></a><span id="l5.71">   &lt;popupset id=&quot;bookmarksPopupset&quot;&gt;</span>
<a href="#l5.72"></a><span id="l5.72">     &lt;menupopup id=&quot;bookmarks-context-menu&quot; </span>
<a href="#l5.73"></a><span id="l5.73">            onpopupshowing=&quot;return BookmarksMenu.createContextMenu(event);&quot;</span>
<a href="#l5.74"></a><span id="l5.74">            onpopuphidden =&quot;BookmarksMenu.destroyContextMenu(event);&quot;/&gt;</span>
<a href="#l5.75"></a><span id="l5.75">   &lt;/popupset&gt;</span>
<a href="#l5.76"></a><span id="l5.76"> </span>
<a href="#l5.77"></a><span id="l5.77" class="difflineminus">-  &lt;!-- bookmarks toolbar tooltip --&gt;</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineminus">-  &lt;tooltip id=&quot;btTooltip&quot; noautohide=&quot;true&quot; </span>
<a href="#l5.79"></a><span id="l5.79" class="difflineminus">-           onpopupshowing=&quot;return BookmarksToolbar.fillInBTTooltip(document.tooltipNode)&quot;&gt;</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineminus">-    &lt;vbox id=&quot;btTooltipTextBox&quot; flex=&quot;1&quot;&gt;  </span>
<a href="#l5.81"></a><span id="l5.81" class="difflineminus">-      &lt;label id=&quot;btTitleText&quot;/&gt;</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineminus">-      &lt;label id=&quot;btUrlText&quot;/&gt;</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineminus">-  &lt;/tooltip&gt;</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineminus">-</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineminus">-  &lt;!-- bookmarks template --&gt;</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineminus">-  &lt;template id=&quot;bookmarksMenuTemplate&quot; xmlns:nc=&quot;http://home.netscape.com/NC-rdf#&quot;&gt;</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineminus">-    &lt;!-- don't generate children of bookmark group menuitems --&gt;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineminus">-    &lt;rule parent=&quot;menuitem&quot;/&gt;</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineminus">-    &lt;rule parent=&quot;hbox&quot; rdf:type=&quot;http://home.netscape.com/NC-rdf#BookmarkSeparator&quot;&gt;</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineminus">-      &lt;toolbarseparator uri=&quot;rdf:*&quot;/&gt;</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineminus">-    &lt;/rule&gt;</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineminus">-    &lt;rule parent=&quot;hbox&quot; iscontainer=&quot;true&quot; nc:FolderGroup=&quot;true&quot;&gt;</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineminus">-      &lt;toolbarbutton class=&quot;bookmark-item bookmark-group&quot; uri=&quot;rdf:*&quot;</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineminus">-                     group=&quot;true&quot;</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineminus">-                     label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot;/&gt;</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineminus">-    &lt;/rule&gt;</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineminus">-    &lt;rule parent=&quot;hbox&quot; iscontainer=&quot;true&quot;&gt;</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineminus">-      &lt;toolbarbutton type=&quot;menu&quot; editable=&quot;true&quot; class=&quot;bookmark-item&quot;</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineminus">-                     image=&quot;rdf:http://home.netscape.com/NC-rdf#Icon&quot;</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineminus">-                     validate=&quot;never&quot;</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineminus">-                     uri=&quot;rdf:*&quot; label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot;&gt;</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineminus">-        &lt;menupopup context=&quot;bookmarks-context-menu&quot;&gt;</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineminus">-          &lt;menuitem label=&quot;&amp;emptyItem.label;&quot; disabled=&quot;true&quot; class=&quot;isempty&quot;/&gt;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineminus">-        &lt;/menupopup&gt;</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineminus">-      &lt;/toolbarbutton&gt;</span>
<a href="#l5.107"></a><span id="l5.107" class="difflineminus">-    &lt;/rule&gt;</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineminus">-    &lt;rule parent=&quot;hbox&quot;&gt;</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineminus">-      &lt;toolbarbutton class=&quot;bookmark-item&quot; uri=&quot;rdf:*&quot; editable=&quot;true&quot; </span>
<a href="#l5.110"></a><span id="l5.110" class="difflineminus">-                     image=&quot;rdf:http://home.netscape.com/NC-rdf#Icon&quot;</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineminus">-                     validate=&quot;never&quot;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineminus">-                     status=&quot;rdf:http://home.netscape.com/WEB-rdf#status&quot;</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineminus">-                     statustext=&quot;rdf:http://home.netscape.com/NC-rdf#URL&quot;</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineminus">-                     label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot;/&gt;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineminus">-    &lt;/rule&gt;</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineminus">-    &lt;rule nc:FolderGroup=&quot;true&quot; iscontainer=&quot;true&quot;&gt;</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineminus">-      &lt;menupopup&gt;</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineminus">-        &lt;menuitem class=&quot;menuitem-iconic bookmark-group&quot; </span>
<a href="#l5.119"></a><span id="l5.119" class="difflineminus">-                  label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot;</span>
<a href="#l5.120"></a><span id="l5.120" class="difflineminus">-                  group=&quot;true&quot;</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineminus">-                  uri=&quot;rdf:*&quot;/&gt;</span>
<a href="#l5.122"></a><span id="l5.122" class="difflineminus">-      &lt;/menupopup&gt;</span>
<a href="#l5.123"></a><span id="l5.123" class="difflineminus">-    &lt;/rule&gt;</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineminus">-    &lt;rule iscontainer=&quot;true&quot;&gt;</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineminus">-      &lt;menupopup&gt;</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineminus">-        &lt;menu class=&quot;menu-iconic bookmark-item&quot; uri=&quot;rdf:*&quot; </span>
<a href="#l5.127"></a><span id="l5.127" class="difflineminus">-              image=&quot;rdf:http://home.netscape.com/NC-rdf#Icon&quot;</span>
<a href="#l5.128"></a><span id="l5.128" class="difflineminus">-              validate=&quot;never&quot;</span>
<a href="#l5.129"></a><span id="l5.129" class="difflineminus">-              type=&quot;rdf:http://www.w3.org/1999/02/22-rdf-syntax-ns#type&quot;</span>
<a href="#l5.130"></a><span id="l5.130" class="difflineminus">-              label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot;&gt;</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineminus">-          &lt;!-- Since this may be in a mac native menu, we can't hide the &quot;empty&quot;</span>
<a href="#l5.132"></a><span id="l5.132" class="difflineminus">-               menuitem with css. --&gt;</span>
<a href="#l5.133"></a><span id="l5.133" class="difflineminus">-          &lt;menupopup context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l5.134"></a><span id="l5.134" class="difflineminus">-                     onpopupshowing=&quot;this.firstChild.hidden = this.childNodes.length &gt; 1; event.stopPropagation();&quot;&gt;</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineminus">-            &lt;menuitem label=&quot;&amp;emptyItem.label;&quot; disabled=&quot;true&quot; class=&quot;isempty&quot;/&gt;</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineminus">-          &lt;/menupopup&gt;</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineminus">-        &lt;/menu&gt;</span>
<a href="#l5.138"></a><span id="l5.138" class="difflineminus">-      &lt;/menupopup&gt;</span>
<a href="#l5.139"></a><span id="l5.139" class="difflineminus">-    &lt;/rule&gt;</span>
<a href="#l5.140"></a><span id="l5.140" class="difflineminus">-    &lt;rule rdf:type=&quot;http://home.netscape.com/NC-rdf#BookmarkSeparator&quot;&gt;</span>
<a href="#l5.141"></a><span id="l5.141" class="difflineminus">-      &lt;menupopup&gt; </span>
<a href="#l5.142"></a><span id="l5.142" class="difflineminus">-        &lt;menuseparator uri=&quot;rdf:*&quot; /&gt;</span>
<a href="#l5.143"></a><span id="l5.143" class="difflineminus">-      &lt;/menupopup&gt;</span>
<a href="#l5.144"></a><span id="l5.144" class="difflineminus">-    &lt;/rule&gt;</span>
<a href="#l5.145"></a><span id="l5.145" class="difflineminus">-    &lt;rule&gt;</span>
<a href="#l5.146"></a><span id="l5.146" class="difflineminus">-      &lt;menupopup&gt;</span>
<a href="#l5.147"></a><span id="l5.147" class="difflineminus">-        &lt;menuitem class=&quot;menuitem-iconic bookmark-item&quot; uri=&quot;rdf:*&quot;</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineminus">-                  src=&quot;rdf:http://home.netscape.com/NC-rdf#Icon&quot;</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineminus">-                  validate=&quot;never&quot;</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineminus">-                  label=&quot;rdf:http://home.netscape.com/NC-rdf#Name&quot; </span>
<a href="#l5.151"></a><span id="l5.151" class="difflineminus">-                  status=&quot;rdf:http://home.netscape.com/WEB-rdf#status&quot;</span>
<a href="#l5.152"></a><span id="l5.152" class="difflineminus">-                  statustext=&quot;rdf:http://home.netscape.com/NC-rdf#URL&quot;/&gt;</span>
<a href="#l5.153"></a><span id="l5.153" class="difflineminus">-      &lt;/menupopup&gt;</span>
<a href="#l5.154"></a><span id="l5.154" class="difflineminus">-    &lt;/rule&gt;</span>
<a href="#l5.155"></a><span id="l5.155" class="difflineminus">-  &lt;/template&gt;</span>
<a href="#l5.156"></a><span id="l5.156" class="difflineminus">-</span>
<a href="#l5.157"></a><span id="l5.157">   &lt;!-- Menu --&gt;</span>
<a href="#l5.158"></a><span id="l5.158">   &lt;menubar id=&quot;main-menubar&quot; class=&quot;chromeclass-menubar&quot;&gt;</span>
<a href="#l5.159"></a><span id="l5.159">     &lt;menu id=&quot;menu_File&quot;&gt;</span>
<a href="#l5.160"></a><span id="l5.160">       &lt;menupopup id=&quot;menu_FilePopup&quot; onpopupshowing=&quot;updateCloseItems();getContentAreaFrameCount();updateSavePageItems();updateFileUploadItem();&quot;&gt;</span>
<a href="#l5.161"></a><span id="l5.161">         &lt;menu id=&quot;menu_New&quot;&gt;</span>
<a href="#l5.162"></a><span id="l5.162">           &lt;menupopup id=&quot;menu_NewPopup&quot;&gt;</span>
<a href="#l5.163"></a><span id="l5.163">             &lt;!-- From utilityOverlay.xul --&gt;</span>
<a href="#l5.164"></a><span id="l5.164">             &lt;menuitem id=&quot;menu_newNavigator&quot; command=&quot;cmd_newNavigator&quot;/&gt;</span>
<a href="#l5.165"></a><span id="l5.165" class="difflineat">@@ -474,56 +401,83 @@</span>
<a href="#l5.166"></a><span id="l5.166">                   label=&quot;&amp;historyCmd.label;&quot;</span>
<a href="#l5.167"></a><span id="l5.167">                   accesskey=&quot;&amp;historyCmd.accesskey;&quot;</span>
<a href="#l5.168"></a><span id="l5.168">                   oncommand=&quot;toHistory()&quot;</span>
<a href="#l5.169"></a><span id="l5.169">                   key=&quot;key_gotoHistory&quot;/&gt;</span>
<a href="#l5.170"></a><span id="l5.170">         &lt;menuseparator id=&quot;startHistorySeparator&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l5.171"></a><span id="l5.171">         &lt;menuseparator id=&quot;endHistorySeparator&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l5.172"></a><span id="l5.172">       &lt;/menupopup&gt;</span>
<a href="#l5.173"></a><span id="l5.173">     &lt;/menu&gt;</span>
<a href="#l5.174"></a><span id="l5.174" class="difflineminus">-    </span>
<a href="#l5.175"></a><span id="l5.175" class="difflineminus">-    &lt;menu id=&quot;BookmarksMenu&quot; label=&quot;&amp;bookmarksMenu.label;&quot; accesskey=&quot;&amp;bookmarksMenu.accesskey;&quot; </span>
<a href="#l5.176"></a><span id="l5.176" class="difflineminus">-          datasources=&quot;rdf:bookmarks rdf:files rdf:localsearch rdf:internetsearch&quot; </span>
<a href="#l5.177"></a><span id="l5.177" class="difflineminus">-          ref=&quot;NC:BookmarksRoot&quot; flags=&quot;dont-test-empty&quot; template=&quot;bookmarksMenuTemplate&quot;</span>
<a href="#l5.178"></a><span id="l5.178" class="difflineminus">-          tooltip=&quot;btTooltip&quot;</span>
<a href="#l5.179"></a><span id="l5.179" class="difflineminus">-          oncommand=&quot;BookmarksMenu.loadBookmark(event, this.database)&quot;</span>
<a href="#l5.180"></a><span id="l5.180" class="difflineminus">-          onclick=&quot;BookmarksMenu.loadBookmarkMiddleClick(event, this.database)&quot;</span>
<a href="#l5.181"></a><span id="l5.181" class="difflineminus">-          ondraggesture=&quot;nsDragAndDrop.startDrag(event, BookmarksMenuDNDObserver)&quot;</span>
<a href="#l5.182"></a><span id="l5.182" class="difflineminus">-          ondragdrop=&quot;nsDragAndDrop.drop(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l5.183"></a><span id="l5.183" class="difflineminus">-          ondragenter=&quot;nsDragAndDrop.dragEnter(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l5.184"></a><span id="l5.184" class="difflineminus">-          ondragexit=&quot;nsDragAndDrop.dragExit(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;</span>
<a href="#l5.185"></a><span id="l5.185" class="difflineminus">-          ondragover=&quot;nsDragAndDrop.dragOver(event, BookmarksMenuDNDObserver); event.stopPropagation()&quot;&gt;</span>
<a href="#l5.186"></a><span id="l5.186" class="difflineminus">-      &lt;menupopup id=&quot;menu_BookmarksPopup&quot;</span>
<a href="#l5.187"></a><span id="l5.187" class="difflineminus">-                 context=&quot;bookmarks-context-menu&quot;</span>
<a href="#l5.188"></a><span id="l5.188" class="difflineminus">-                 onpopupshowing=&quot;updateGroupmarkCommand();&quot;&gt;</span>
<a href="#l5.189"></a><span id="l5.189" class="difflineminus">-        &lt;menuitem key=&quot;addBookmarkKb&quot;   command=&quot;Browser:AddBookmark&quot;/&gt;</span>
<a href="#l5.190"></a><span id="l5.190" class="difflineminus">-        &lt;menuitem key=&quot;addBookmarkAsKb&quot; command=&quot;Browser:AddBookmarkAs&quot;/&gt;</span>
<a href="#l5.191"></a><span id="l5.191" class="difflineminus">-        &lt;menuitem                       command=&quot;Browser:AddGroupmarkAs&quot;/&gt;</span>
<a href="#l5.192"></a><span id="l5.192" class="difflineminus">-        &lt;menuitem key=&quot;manBookmarkKb&quot;   command=&quot;Browser:ManageBookmark&quot;/&gt;</span>
<a href="#l5.193"></a><span id="l5.193" class="difflineminus">-        &lt;menuseparator/&gt;</span>
<a href="#l5.194"></a><span id="l5.194" class="difflineplus">+</span>
<a href="#l5.195"></a><span id="l5.195" class="difflineplus">+    &lt;menu id=&quot;bookmarksMenu&quot;</span>
<a href="#l5.196"></a><span id="l5.196" class="difflineplus">+          label=&quot;&amp;bookmarksMenu.label;&quot;</span>
<a href="#l5.197"></a><span id="l5.197" class="difflineplus">+          accesskey=&quot;&amp;bookmarksMenu.accesskey;&quot;</span>
<a href="#l5.198"></a><span id="l5.198" class="difflineplus">+          ondragenter=&quot;PlacesMenuDNDHandler.onDragEnter(event);&quot;</span>
<a href="#l5.199"></a><span id="l5.199" class="difflineplus">+          ondragover=&quot;PlacesMenuDNDHandler.onDragOver(event);&quot;</span>
<a href="#l5.200"></a><span id="l5.200" class="difflineplus">+          ondrop=&quot;PlacesMenuDNDHandler.onDrop(event);&quot;&gt;</span>
<a href="#l5.201"></a><span id="l5.201" class="difflineplus">+      &lt;menupopup id=&quot;bookmarksMenuPopup&quot;</span>
<a href="#l5.202"></a><span id="l5.202" class="difflineplus">+                 placespopup=&quot;true&quot;</span>
<a href="#l5.203"></a><span id="l5.203" class="difflineplus">+                 context=&quot;placesContext&quot;</span>
<a href="#l5.204"></a><span id="l5.204" class="difflineplus">+                 openInTabs=&quot;children&quot;</span>
<a href="#l5.205"></a><span id="l5.205" class="difflineplus">+                 oncommand=&quot;BookmarksEventHandler.onCommand(event);&quot;</span>
<a href="#l5.206"></a><span id="l5.206" class="difflineplus">+                 onclick=&quot;BookmarksEventHandler.onClick(event);&quot;</span>
<a href="#l5.207"></a><span id="l5.207" class="difflineplus">+                 onpopupshowing=&quot;if (!document.getElementById('bookmarksMenu')._placesView)</span>
<a href="#l5.208"></a><span id="l5.208" class="difflineplus">+                                   new PlacesMenu(event, 'place:folder=BOOKMARKS_MENU');&quot;</span>
<a href="#l5.209"></a><span id="l5.209" class="difflineplus">+                 tooltip=&quot;bhTooltip&quot; popupsinherittooltip=&quot;true&quot;&gt;</span>
<a href="#l5.210"></a><span id="l5.210" class="difflineplus">+        &lt;menuitem id=&quot;menu_bookmarkThisPage&quot;</span>
<a href="#l5.211"></a><span id="l5.211" class="difflineplus">+                  command=&quot;Browser:AddBookmark&quot;</span>
<a href="#l5.212"></a><span id="l5.212" class="difflineplus">+                  key=&quot;addBookmarkKb&quot;/&gt;</span>
<a href="#l5.213"></a><span id="l5.213" class="difflineplus">+        &lt;menuitem id=&quot;menu_bookmarkThisPageAs&quot;</span>
<a href="#l5.214"></a><span id="l5.214" class="difflineplus">+                  command=&quot;Browser:AddBookmarkAs&quot;</span>
<a href="#l5.215"></a><span id="l5.215" class="difflineplus">+                  key=&quot;addBookmarkAsKb&quot;/&gt;</span>
<a href="#l5.216"></a><span id="l5.216" class="difflineplus">+        &lt;menuitem id=&quot;menu_bookmarkAllTabs&quot;</span>
<a href="#l5.217"></a><span id="l5.217" class="difflineplus">+                  command=&quot;Browser:BookmarkAllTabs&quot;</span>
<a href="#l5.218"></a><span id="l5.218" class="difflineplus">+                  key=&quot;bookmarkAllTabsKb&quot;/&gt;</span>
<a href="#l5.219"></a><span id="l5.219" class="difflineplus">+        &lt;menuitem id=&quot;menu_bookmarkManager&quot;</span>
<a href="#l5.220"></a><span id="l5.220" class="difflineplus">+                  command=&quot;Browser:ManageBookmark&quot;</span>
<a href="#l5.221"></a><span id="l5.221" class="difflineplus">+                  key=&quot;manBookmarkKb&quot;/&gt;</span>
<a href="#l5.222"></a><span id="l5.222" class="difflineplus">+        &lt;menuseparator id=&quot;organizeBookmarksSeparator&quot;/&gt;</span>
<a href="#l5.223"></a><span id="l5.223">         &lt;menu id=&quot;feedsMenu&quot; class=&quot;menu-iconic&quot; disabled=&quot;true&quot;</span>
<a href="#l5.224"></a><span id="l5.224">               label=&quot;&amp;feedsMenu.label;&quot; accesskey=&quot;&amp;feedsMenu.accesskey;&quot;&gt;</span>
<a href="#l5.225"></a><span id="l5.225">           &lt;menupopup onpopupshowing=&quot;window.XULBrowserWindow.populateFeeds(this);&quot;</span>
<a href="#l5.226"></a><span id="l5.226">                      oncommand=&quot;subscribeToFeed(event.target.statusText, event);&quot;</span>
<a href="#l5.227"></a><span id="l5.227">                      onclick=&quot;checkForMiddleClick(this, event);&quot;/&gt;</span>
<a href="#l5.228"></a><span id="l5.228">         &lt;/menu&gt;</span>
<a href="#l5.229"></a><span id="l5.229">         &lt;menuseparator/&gt;</span>
<a href="#l5.230"></a><span id="l5.230" class="difflineplus">+        &lt;menu id=&quot;bookmarksToolbarFolderMenu&quot;</span>
<a href="#l5.231"></a><span id="l5.231" class="difflineplus">+              class=&quot;menu-iconic bookmark-item&quot;</span>
<a href="#l5.232"></a><span id="l5.232" class="difflineplus">+              label=&quot;&amp;personalbarCmd.label;&quot;</span>
<a href="#l5.233"></a><span id="l5.233" class="difflineplus">+              container=&quot;true&quot;&gt;</span>
<a href="#l5.234"></a><span id="l5.234" class="difflineplus">+          &lt;menupopup id=&quot;bookmarksToolbarFolderPopup&quot;</span>
<a href="#l5.235"></a><span id="l5.235" class="difflineplus">+                     placespopup=&quot;true&quot;</span>
<a href="#l5.236"></a><span id="l5.236" class="difflineplus">+                     context=&quot;placesContext&quot;</span>
<a href="#l5.237"></a><span id="l5.237" class="difflineplus">+                     onpopupshowing=&quot;if (!this.parentNode._placesView)</span>
<a href="#l5.238"></a><span id="l5.238" class="difflineplus">+                                       new PlacesMenu(event, 'place:folder=TOOLBAR');&quot;/&gt;</span>
<a href="#l5.239"></a><span id="l5.239" class="difflineplus">+        &lt;/menu&gt;</span>
<a href="#l5.240"></a><span id="l5.240" class="difflineplus">+        &lt;menuseparator/&gt;</span>
<a href="#l5.241"></a><span id="l5.241">       &lt;/menupopup&gt;</span>
<a href="#l5.242"></a><span id="l5.242">     &lt;/menu&gt;</span>
<a href="#l5.243"></a><span id="l5.243" class="difflineminus">-      </span>
<a href="#l5.244"></a><span id="l5.244" class="difflineminus">-  &lt;menu id=&quot;tasksMenu&quot;&gt;</span>
<a href="#l5.245"></a><span id="l5.245" class="difflineminus">-    &lt;menupopup id=&quot;taskPopup&quot;&gt;</span>
<a href="#l5.246"></a><span id="l5.246" class="difflineminus">-      &lt;menuitem id=&quot;menu_searchWeb&quot; label=&quot;&amp;searchInternetCmd.label;&quot; key=&quot;searchInternetKb&quot; accesskey=&quot;&amp;searchInternetCmd.accesskey;&quot; command=&quot;Browser:SearchInternet&quot;/&gt;</span>
<a href="#l5.247"></a><span id="l5.247" class="difflineminus">-      &lt;menuitem id=&quot;menu_translate&quot; label=&quot;&amp;translateMenu.label;&quot; accesskey=&quot;&amp;translateMenu.accesskey;&quot; oncommand=&quot;Translate();&quot;/&gt;  </span>
<a href="#l5.248"></a><span id="l5.248" class="difflineminus">-      &lt;menuseparator id=&quot;navBeginGlobalItems&quot;/&gt;</span>
<a href="#l5.249"></a><span id="l5.249" class="difflineminus">-      &lt;menuitem id=&quot;sanitizeItem&quot;</span>
<a href="#l5.250"></a><span id="l5.250" class="difflineminus">-                accesskey=&quot;&amp;clearPrivateDataCmd.accesskey;&quot;</span>
<a href="#l5.251"></a><span id="l5.251" class="difflineminus">-                label=&quot;&amp;clearPrivateDataCmd.label;&quot;</span>
<a href="#l5.252"></a><span id="l5.252" class="difflineminus">-                key=&quot;key_sanitize&quot; command=&quot;Tools:Sanitize&quot;/&gt;</span>
<a href="#l5.253"></a><span id="l5.253" class="difflineminus">-    &lt;/menupopup&gt;</span>
<a href="#l5.254"></a><span id="l5.254" class="difflineminus">-  &lt;/menu&gt;</span>
<a href="#l5.255"></a><span id="l5.255"> </span>
<a href="#l5.256"></a><span id="l5.256" class="difflineminus">-  &lt;menu id=&quot;windowMenu&quot;/&gt;</span>
<a href="#l5.257"></a><span id="l5.257" class="difflineminus">-  </span>
<a href="#l5.258"></a><span id="l5.258" class="difflineminus">-  &lt;menu id=&quot;menu_Help&quot;/&gt;</span>
<a href="#l5.259"></a><span id="l5.259" class="difflineminus">-&lt;/menubar&gt;</span>
<a href="#l5.260"></a><span id="l5.260" class="difflineplus">+    &lt;menu id=&quot;tasksMenu&quot;&gt;</span>
<a href="#l5.261"></a><span id="l5.261" class="difflineplus">+      &lt;menupopup id=&quot;taskPopup&quot;&gt;</span>
<a href="#l5.262"></a><span id="l5.262" class="difflineplus">+        &lt;menuitem id=&quot;menu_searchWeb&quot;</span>
<a href="#l5.263"></a><span id="l5.263" class="difflineplus">+                  label=&quot;&amp;searchInternetCmd.label;&quot;</span>
<a href="#l5.264"></a><span id="l5.264" class="difflineplus">+                  accesskey=&quot;&amp;searchInternetCmd.accesskey;&quot;</span>
<a href="#l5.265"></a><span id="l5.265" class="difflineplus">+                  key=&quot;searchInternetKb&quot;</span>
<a href="#l5.266"></a><span id="l5.266" class="difflineplus">+                  command=&quot;Browser:SearchInternet&quot;/&gt;</span>
<a href="#l5.267"></a><span id="l5.267" class="difflineplus">+        &lt;menuitem id=&quot;menu_translate&quot;</span>
<a href="#l5.268"></a><span id="l5.268" class="difflineplus">+                  label=&quot;&amp;translateMenu.label;&quot;</span>
<a href="#l5.269"></a><span id="l5.269" class="difflineplus">+                  accesskey=&quot;&amp;translateMenu.accesskey;&quot;</span>
<a href="#l5.270"></a><span id="l5.270" class="difflineplus">+                  oncommand=&quot;Translate();&quot;/&gt;</span>
<a href="#l5.271"></a><span id="l5.271" class="difflineplus">+        &lt;menuseparator id=&quot;navBeginGlobalItems&quot;/&gt;</span>
<a href="#l5.272"></a><span id="l5.272" class="difflineplus">+        &lt;menuitem id=&quot;sanitizeItem&quot;</span>
<a href="#l5.273"></a><span id="l5.273" class="difflineplus">+                  accesskey=&quot;&amp;clearPrivateDataCmd.accesskey;&quot;</span>
<a href="#l5.274"></a><span id="l5.274" class="difflineplus">+                  label=&quot;&amp;clearPrivateDataCmd.label;&quot;</span>
<a href="#l5.275"></a><span id="l5.275" class="difflineplus">+                  key=&quot;key_sanitize&quot; command=&quot;Tools:Sanitize&quot;/&gt;</span>
<a href="#l5.276"></a><span id="l5.276" class="difflineplus">+      &lt;/menupopup&gt;</span>
<a href="#l5.277"></a><span id="l5.277" class="difflineplus">+    &lt;/menu&gt;</span>
<a href="#l5.278"></a><span id="l5.278" class="difflineplus">+</span>
<a href="#l5.279"></a><span id="l5.279" class="difflineplus">+    &lt;menu id=&quot;windowMenu&quot;/&gt;</span>
<a href="#l5.280"></a><span id="l5.280" class="difflineplus">+</span>
<a href="#l5.281"></a><span id="l5.281" class="difflineplus">+    &lt;menu id=&quot;menu_Help&quot;/&gt;</span>
<a href="#l5.282"></a><span id="l5.282" class="difflineplus">+  &lt;/menubar&gt;</span>
<a href="#l5.283"></a><span id="l5.283"> </span>
<a href="#l5.284"></a><span id="l5.284"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/browser/public/Makefile.in</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/browser/public/Makefile.in</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -41,17 +41,16 @@ srcdir		= @srcdir@</span>
<a href="#l6.4"></a><span id="l6.4"> VPATH		= @srcdir@</span>
<a href="#l6.5"></a><span id="l6.5"> </span>
<a href="#l6.6"></a><span id="l6.6"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8"> MODULE		= suitebrowser</span>
<a href="#l6.9"></a><span id="l6.9"> XPIDL_MODULE	= suitebrowser</span>
<a href="#l6.10"></a><span id="l6.10"> </span>
<a href="#l6.11"></a><span id="l6.11"> XPIDLSRCS = \</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-	nsIBookmarksService.idl \</span>
<a href="#l6.13"></a><span id="l6.13"> 	nsISearchService.idl \</span>
<a href="#l6.14"></a><span id="l6.14"> 	$(NULL)</span>
<a href="#l6.15"></a><span id="l6.15"> </span>
<a href="#l6.16"></a><span id="l6.16"> ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l6.17"></a><span id="l6.17"> XPIDLSRCS += nsIUrlWidget.idl</span>
<a href="#l6.18"></a><span id="l6.18"> endif</span>
<a href="#l6.19"></a><span id="l6.19"> </span>
<a href="#l6.20"></a><span id="l6.20"> include $(topsrcdir)/config/rules.mk</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/browser/src/Makefile.in</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/browser/src/Makefile.in</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -43,17 +43,16 @@ VPATH		= @srcdir@</span>
<a href="#l7.4"></a><span id="l7.4"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l7.5"></a><span id="l7.5"> </span>
<a href="#l7.6"></a><span id="l7.6"> MODULE		= suitebrowser</span>
<a href="#l7.7"></a><span id="l7.7"> LIBRARY_NAME	= suitebrowser_s</span>
<a href="#l7.8"></a><span id="l7.8"> META_COMPONENT  = suite</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11"> CPPSRCS = \</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-	nsBookmarksService.cpp \</span>
<a href="#l7.13"></a><span id="l7.13"> 	nsInternetSearchService.cpp \</span>
<a href="#l7.14"></a><span id="l7.14"> 	nsLocalSearchService.cpp \</span>
<a href="#l7.15"></a><span id="l7.15"> 	$(NULL)</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17"> ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l7.18"></a><span id="l7.18"> CPPSRCS += nsUrlWidget.cpp</span>
<a href="#l7.19"></a><span id="l7.19"> endif</span>
<a href="#l7.20"></a><span id="l7.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/build/nsSuiteModule.cpp</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/build/nsSuiteModule.cpp</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -40,17 +40,16 @@</span>
<a href="#l8.4"></a><span id="l8.4"> #include &quot;nsSuiteDirectoryProvider.h&quot;</span>
<a href="#l8.5"></a><span id="l8.5"> #include &quot;nsProfileMigrator.h&quot;</span>
<a href="#l8.6"></a><span id="l8.6"> #include &quot;nsSeamonkeyProfileMigrator.h&quot;</span>
<a href="#l8.7"></a><span id="l8.7"> #include &quot;nsThunderbirdProfileMigrator.h&quot;</span>
<a href="#l8.8"></a><span id="l8.8"> #include &quot;nsInternetSearchService.h&quot;</span>
<a href="#l8.9"></a><span id="l8.9"> #include &quot;nsLocalSearchService.h&quot;</span>
<a href="#l8.10"></a><span id="l8.10"> #include &quot;nsNetCID.h&quot;</span>
<a href="#l8.11"></a><span id="l8.11"> #include &quot;nsRDFCID.h&quot;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-#include &quot;nsBookmarksService.h&quot;</span>
<a href="#l8.13"></a><span id="l8.13"> #include &quot;nsFeedSniffer.h&quot;</span>
<a href="#l8.14"></a><span id="l8.14"> </span>
<a href="#l8.15"></a><span id="l8.15"> #if defined(XP_WIN)</span>
<a href="#l8.16"></a><span id="l8.16"> #include &quot;nsUrlWidget.h&quot;</span>
<a href="#l8.17"></a><span id="l8.17"> #if !defined(BUILD_STATIC_SHELL)</span>
<a href="#l8.18"></a><span id="l8.18"> #include &quot;nsWindowsShellService.h&quot;</span>
<a href="#l8.19"></a><span id="l8.19"> #endif</span>
<a href="#l8.20"></a><span id="l8.20"> #elif defined(XP_MACOSX) &amp;&amp; !defined(BUILD_STATIC_SHELL)</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineat">@@ -72,17 +71,16 @@ NS_GENERIC_FACTORY_CONSTRUCTOR(nsMacShel</span>
<a href="#l8.22"></a><span id="l8.22"> NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(nsGNOMEShellService, Init)</span>
<a href="#l8.23"></a><span id="l8.23"> #endif</span>
<a href="#l8.24"></a><span id="l8.24"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsSuiteDirectoryProvider)</span>
<a href="#l8.25"></a><span id="l8.25"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsProfileMigrator)</span>
<a href="#l8.26"></a><span id="l8.26"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsSeamonkeyProfileMigrator)</span>
<a href="#l8.27"></a><span id="l8.27"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsThunderbirdProfileMigrator)</span>
<a href="#l8.28"></a><span id="l8.28"> NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(LocalSearchDataSource, Init)</span>
<a href="#l8.29"></a><span id="l8.29"> NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(InternetSearchDataSource, Init)</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineminus">-NS_GENERIC_FACTORY_CONSTRUCTOR_INIT(nsBookmarksService, Init)</span>
<a href="#l8.31"></a><span id="l8.31"> NS_GENERIC_FACTORY_CONSTRUCTOR(nsFeedSniffer)</span>
<a href="#l8.32"></a><span id="l8.32"> </span>
<a href="#l8.33"></a><span id="l8.33"> #if defined(XP_WIN)</span>
<a href="#l8.34"></a><span id="l8.34"> NS_DEFINE_NAMED_CID(NS_IURLWIDGET_CID);</span>
<a href="#l8.35"></a><span id="l8.35"> #endif</span>
<a href="#l8.36"></a><span id="l8.36"> #if defined(NS_SUITEWININTEGRATION_CID)</span>
<a href="#l8.37"></a><span id="l8.37"> NS_DEFINE_NAMED_CID(NS_SUITEWININTEGRATION_CID);</span>
<a href="#l8.38"></a><span id="l8.38"> #elif defined(NS_SUITEMACINTEGRATION_CID)</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineat">@@ -91,17 +89,16 @@ NS_DEFINE_NAMED_CID(NS_SUITEMACINTEGRATI</span>
<a href="#l8.40"></a><span id="l8.40"> NS_DEFINE_NAMED_CID(NS_SUITEGNOMEINTEGRATION_CID);</span>
<a href="#l8.41"></a><span id="l8.41"> #endif</span>
<a href="#l8.42"></a><span id="l8.42"> NS_DEFINE_NAMED_CID(NS_SUITEDIRECTORYPROVIDER_CID);</span>
<a href="#l8.43"></a><span id="l8.43"> NS_DEFINE_NAMED_CID(NS_SUITEPROFILEMIGRATOR_CID);</span>
<a href="#l8.44"></a><span id="l8.44"> NS_DEFINE_NAMED_CID(NS_SEAMONKEYPROFILEMIGRATOR_CID);</span>
<a href="#l8.45"></a><span id="l8.45"> NS_DEFINE_NAMED_CID(NS_THUNDERBIRDPROFILEMIGRATOR_CID);</span>
<a href="#l8.46"></a><span id="l8.46"> NS_DEFINE_NAMED_CID(NS_RDFFINDDATASOURCE_CID);</span>
<a href="#l8.47"></a><span id="l8.47"> NS_DEFINE_NAMED_CID(NS_RDFSEARCHDATASOURCE_CID);</span>
<a href="#l8.48"></a><span id="l8.48" class="difflineminus">-NS_DEFINE_NAMED_CID(NS_BOOKMARKS_SERVICE_CID);</span>
<a href="#l8.49"></a><span id="l8.49"> NS_DEFINE_NAMED_CID(NS_FEEDSNIFFER_CID);</span>
<a href="#l8.50"></a><span id="l8.50"> </span>
<a href="#l8.51"></a><span id="l8.51"> /////////////////////////////////////////////////////////////////////////////</span>
<a href="#l8.52"></a><span id="l8.52"> </span>
<a href="#l8.53"></a><span id="l8.53"> static const mozilla::Module::CIDEntry kSuiteCIDs[] = {</span>
<a href="#l8.54"></a><span id="l8.54"> #if defined(XP_WIN)</span>
<a href="#l8.55"></a><span id="l8.55">   { &amp;kNS_IURLWIDGET_CID, false, NULL, nsUrlWidgetConstructor },</span>
<a href="#l8.56"></a><span id="l8.56"> #endif</span>
<a href="#l8.57"></a><span id="l8.57" class="difflineat">@@ -113,17 +110,16 @@ static const mozilla::Module::CIDEntry k</span>
<a href="#l8.58"></a><span id="l8.58">   { &amp;kNS_SUITEGNOMEINTEGRATION_CID, false, NULL, nsGNOMEShellServiceConstructor },</span>
<a href="#l8.59"></a><span id="l8.59"> #endif</span>
<a href="#l8.60"></a><span id="l8.60">   { &amp;kNS_SUITEDIRECTORYPROVIDER_CID, false, NULL, nsSuiteDirectoryProviderConstructor },</span>
<a href="#l8.61"></a><span id="l8.61">   { &amp;kNS_SUITEPROFILEMIGRATOR_CID, false, NULL, nsProfileMigratorConstructor },</span>
<a href="#l8.62"></a><span id="l8.62">   { &amp;kNS_SEAMONKEYPROFILEMIGRATOR_CID, false, NULL, nsSeamonkeyProfileMigratorConstructor },</span>
<a href="#l8.63"></a><span id="l8.63">   { &amp;kNS_THUNDERBIRDPROFILEMIGRATOR_CID, false, NULL, nsThunderbirdProfileMigratorConstructor },</span>
<a href="#l8.64"></a><span id="l8.64">   { &amp;kNS_RDFFINDDATASOURCE_CID, false, NULL, LocalSearchDataSourceConstructor },</span>
<a href="#l8.65"></a><span id="l8.65">   { &amp;kNS_RDFSEARCHDATASOURCE_CID, false, NULL, InternetSearchDataSourceConstructor },</span>
<a href="#l8.66"></a><span id="l8.66" class="difflineminus">-  { &amp;kNS_BOOKMARKS_SERVICE_CID, false, NULL, nsBookmarksServiceConstructor },</span>
<a href="#l8.67"></a><span id="l8.67">   { &amp;kNS_FEEDSNIFFER_CID, false, NULL, nsFeedSnifferConstructor },</span>
<a href="#l8.68"></a><span id="l8.68">   { NULL }</span>
<a href="#l8.69"></a><span id="l8.69"> };</span>
<a href="#l8.70"></a><span id="l8.70"> </span>
<a href="#l8.71"></a><span id="l8.71"> static const mozilla::Module::ContractIDEntry kSuiteContracts[] = {</span>
<a href="#l8.72"></a><span id="l8.72"> #if defined(XP_WIN)</span>
<a href="#l8.73"></a><span id="l8.73">   { NS_IURLWIDGET_CONTRACTID, &amp;kNS_IURLWIDGET_CID },</span>
<a href="#l8.74"></a><span id="l8.74"> #endif</span>
<a href="#l8.75"></a><span id="l8.75" class="difflineat">@@ -138,19 +134,16 @@ static const mozilla::Module::ContractID</span>
<a href="#l8.76"></a><span id="l8.76">   { NS_SUITEDIRECTORYPROVIDER_CONTRACTID, &amp;kNS_SUITEDIRECTORYPROVIDER_CID },</span>
<a href="#l8.77"></a><span id="l8.77">   { NS_PROFILEMIGRATOR_CONTRACTID, &amp;kNS_SUITEPROFILEMIGRATOR_CID },</span>
<a href="#l8.78"></a><span id="l8.78">   { NS_SUITEPROFILEMIGRATOR_CONTRACTID_PREFIX &quot;seamonkey&quot;, &amp;kNS_SEAMONKEYPROFILEMIGRATOR_CID },</span>
<a href="#l8.79"></a><span id="l8.79">   { NS_SUITEPROFILEMIGRATOR_CONTRACTID_PREFIX &quot;thunderbird&quot;, &amp;kNS_THUNDERBIRDPROFILEMIGRATOR_CID },</span>
<a href="#l8.80"></a><span id="l8.80">   { NS_LOCALSEARCH_SERVICE_CONTRACTID, &amp;kNS_RDFFINDDATASOURCE_CID },</span>
<a href="#l8.81"></a><span id="l8.81">   { NS_LOCALSEARCH_DATASOURCE_CONTRACTID, &amp;kNS_RDFFINDDATASOURCE_CID },</span>
<a href="#l8.82"></a><span id="l8.82">   { NS_INTERNETSEARCH_SERVICE_CONTRACTID, &amp;kNS_RDFSEARCHDATASOURCE_CID },</span>
<a href="#l8.83"></a><span id="l8.83">   { NS_INTERNETSEARCH_DATASOURCE_CONTRACTID, &amp;kNS_RDFSEARCHDATASOURCE_CID },</span>
<a href="#l8.84"></a><span id="l8.84" class="difflineminus">-  { NS_BOOKMARKS_SERVICE_CONTRACTID, &amp;kNS_BOOKMARKS_SERVICE_CID },</span>
<a href="#l8.85"></a><span id="l8.85" class="difflineminus">-  { &quot;@mozilla.org/embeddor.implemented/bookmark-charset-resolver;1&quot;, &amp;kNS_BOOKMARKS_SERVICE_CID },</span>
<a href="#l8.86"></a><span id="l8.86" class="difflineminus">-  { NS_BOOKMARKS_DATASOURCE_CONTRACTID, &amp;kNS_BOOKMARKS_SERVICE_CID },</span>
<a href="#l8.87"></a><span id="l8.87">   { NS_FEEDSNIFFER_CONTRACTID, &amp;kNS_FEEDSNIFFER_CID },</span>
<a href="#l8.88"></a><span id="l8.88">   { NULL }</span>
<a href="#l8.89"></a><span id="l8.89"> };</span>
<a href="#l8.90"></a><span id="l8.90"> </span>
<a href="#l8.91"></a><span id="l8.91"> static const mozilla::Module::CategoryEntry kSuiteCategories[] = {</span>
<a href="#l8.92"></a><span id="l8.92">   { XPCOM_DIRECTORY_PROVIDER_CATEGORY, &quot;suite-directory-provider&quot;, NS_SUITEDIRECTORYPROVIDER_CONTRACTID },</span>
<a href="#l8.93"></a><span id="l8.93">   { NS_CONTENT_SNIFFER_CATEGORY, &quot;Feed Sniffer&quot;, NS_FEEDSNIFFER_CONTRACTID },</span>
<a href="#l8.94"></a><span id="l8.94">   { NULL }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/suite/common/bookmarks/bm-panel.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/suite/common/bookmarks/bm-panel.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,68 +1,52 @@</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineminus">-/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l9.5"></a><span id="l9.5"> /* ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l9.6"></a><span id="l9.6">  * Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l9.7"></a><span id="l9.7">  *</span>
<a href="#l9.8"></a><span id="l9.8">  * The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l9.9"></a><span id="l9.9">  * 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l9.10"></a><span id="l9.10">  * the License. You may obtain a copy of the License at</span>
<a href="#l9.11"></a><span id="l9.11">  * http://www.mozilla.org/MPL/</span>
<a href="#l9.12"></a><span id="l9.12">  *</span>
<a href="#l9.13"></a><span id="l9.13">  * Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l9.14"></a><span id="l9.14">  * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l9.15"></a><span id="l9.15">  * for the specific language governing rights and limitations under the</span>
<a href="#l9.16"></a><span id="l9.16">  * License.</span>
<a href="#l9.17"></a><span id="l9.17">  *</span>
<a href="#l9.18"></a><span id="l9.18">  * The Original Code is mozilla.org code.</span>
<a href="#l9.19"></a><span id="l9.19">  *</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineminus">- * The Initial Developer of the Original Code is</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineminus">- * Netscape Communications Corporation.</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineminus">- * Portions created by the Initial Developer are Copyright (C) 1998</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+ * The Initial Developer of the Original Code is Mozilla Foundation.</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineplus">+ * Portions created by the Initial Developer are Copyright (C) 2007</span>
<a href="#l9.25"></a><span id="l9.25">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l9.26"></a><span id="l9.26">  *</span>
<a href="#l9.27"></a><span id="l9.27">  * Contributor(s):</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineminus">- *   Ben Goodger &lt;ben@netscape.com&gt; (Original Author)</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineplus">+ *   Dan Mills &lt;thunder@mozilla.com&gt; (Original Author)</span>
<a href="#l9.30"></a><span id="l9.30">  *</span>
<a href="#l9.31"></a><span id="l9.31">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineminus">- * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineminus">- * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+ * either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+ * the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l9.36"></a><span id="l9.36">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l9.37"></a><span id="l9.37">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l9.38"></a><span id="l9.38">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l9.39"></a><span id="l9.39">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l9.40"></a><span id="l9.40">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l9.41"></a><span id="l9.41">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l9.42"></a><span id="l9.42">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l9.43"></a><span id="l9.43">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l9.44"></a><span id="l9.44">  *</span>
<a href="#l9.45"></a><span id="l9.45">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l9.46"></a><span id="l9.46"> </span>
<a href="#l9.47"></a><span id="l9.47" class="difflineminus">-</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineminus">-////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineminus">-// Get the two bookmarks utility libraries running, attach controllers, focus</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineminus">-// tree widget, etc. </span>
<a href="#l9.51"></a><span id="l9.51" class="difflineminus">-function Startup() </span>
<a href="#l9.52"></a><span id="l9.52" class="difflineminus">-{</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineminus">-  // correct keybinding command attributes which don't do our business yet</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineminus">-  var key = document.getElementById(&quot;key_delete&quot;);</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineminus">-  if (key.getAttribute(&quot;command&quot;))</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineminus">-    key.setAttribute(&quot;command&quot;, &quot;cmd_bm_delete&quot;);</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineminus">-  key = document.getElementById(&quot;key_delete2&quot;);</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineminus">-  if (key.getAttribute(&quot;command&quot;))</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineminus">-    key.setAttribute(&quot;command&quot;, &quot;cmd_bm_delete&quot;);</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineminus">-</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineminus">-  var bookmarksView = document.getElementById(&quot;bookmarks-view&quot;);  </span>
<a href="#l9.62"></a><span id="l9.62" class="difflineminus">-  bookmarksView.tree.view.selection.select(0);</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineplus">+function init() {</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineplus">+  document.getElementById(&quot;bookmarks-view&quot;).place =</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineplus">+    &quot;place:queryType=1&amp;folder=&quot; + window.top.PlacesUIUtils.allBookmarksFolderId;</span>
<a href="#l9.66"></a><span id="l9.66"> }</span>
<a href="#l9.67"></a><span id="l9.67"> </span>
<a href="#l9.68"></a><span id="l9.68" class="difflineminus">-function addBookmark() {</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineminus">-  var contentArea = top.document.getElementById('content');                   </span>
<a href="#l9.70"></a><span id="l9.70" class="difflineminus">-  if (contentArea) {</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineminus">-    const browsers = contentArea.browsers;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineminus">-    if (browsers.length &gt; 1)</span>
<a href="#l9.73"></a><span id="l9.73" class="difflineminus">-      BookmarksUtils.addBookmarkForTabBrowser(contentArea);</span>
<a href="#l9.74"></a><span id="l9.74" class="difflineminus">-    else</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineminus">-      BookmarksUtils.addBookmarkForBrowser(contentArea.webNavigation, true);    </span>
<a href="#l9.76"></a><span id="l9.76" class="difflineminus">-  }</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineplus">+function searchBookmarks(aSearchString) {</span>
<a href="#l9.78"></a><span id="l9.78" class="difflineplus">+  var tree = document.getElementById('bookmarks-view');</span>
<a href="#l9.79"></a><span id="l9.79" class="difflineplus">+  if (!aSearchString)</span>
<a href="#l9.80"></a><span id="l9.80" class="difflineplus">+    tree.place = tree.place;</span>
<a href="#l9.81"></a><span id="l9.81">   else</span>
<a href="#l9.82"></a><span id="l9.82" class="difflineminus">-    BookmarksUtils.addBookmark(null, null, undefined, true);</span>
<a href="#l9.83"></a><span id="l9.83" class="difflineplus">+    tree.applyFilter(aSearchString,</span>
<a href="#l9.84"></a><span id="l9.84" class="difflineplus">+                     [PlacesUtils.bookmarksMenuFolderId,</span>
<a href="#l9.85"></a><span id="l9.85" class="difflineplus">+                      PlacesUtils.unfiledBookmarksFolderId,</span>
<a href="#l9.86"></a><span id="l9.86" class="difflineplus">+                      PlacesUtils.toolbarFolderId]);</span>
<a href="#l9.87"></a><span id="l9.87"> }</span>
<a href="#l9.88"></a><span id="l9.88" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/common/bookmarks/bm-panel.xul</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/common/bookmarks/bm-panel.xul</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,111 +1,94 @@</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt; &lt;!-- -*- Mode: SGML; indent-tabs-mode: nil; -*- --&gt; </span>
<a href="#l10.5"></a><span id="l10.5" class="difflineminus">-&lt;!--</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineminus">-</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineminus">- ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineminus">- Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineminus">-</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineminus">- The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineminus">- 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">- the License. You may obtain a copy of the License at</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">- http://www.mozilla.org/MPL/</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineminus">-</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineminus">- Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">- WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineminus">- for the specific language governing rights and limitations under the</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">- License.</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineminus">-</span>
<a href="#l10.20"></a><span id="l10.20" class="difflineminus">- The Original Code is mozilla.org code.</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l10.22"></a><span id="l10.22"> </span>
<a href="#l10.23"></a><span id="l10.23" class="difflineminus">- The Initial Developer of the Original Code is</span>
<a href="#l10.24"></a><span id="l10.24" class="difflineminus">- Netscape Communications Corporation.</span>
<a href="#l10.25"></a><span id="l10.25" class="difflineminus">- Portions created by the Initial Developer are Copyright (C) 1998</span>
<a href="#l10.26"></a><span id="l10.26" class="difflineminus">- the Initial Developer. All Rights Reserved.</span>
<a href="#l10.27"></a><span id="l10.27" class="difflineminus">-</span>
<a href="#l10.28"></a><span id="l10.28" class="difflineminus">- Contributor(s):</span>
<a href="#l10.29"></a><span id="l10.29" class="difflineminus">-   Ben Goodger &lt;ben@netscape.com&gt; (Original Author, v2.0)</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineminus">-   Pierre Chanial &lt;chanial@noos.fr&gt;</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineminus">- Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l10.33"></a><span id="l10.33" class="difflineminus">- either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l10.34"></a><span id="l10.34" class="difflineminus">- or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l10.35"></a><span id="l10.35" class="difflineminus">- in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l10.36"></a><span id="l10.36" class="difflineminus">- of those above. If you wish to allow use of your version of this file only</span>
<a href="#l10.37"></a><span id="l10.37" class="difflineminus">- under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l10.38"></a><span id="l10.38" class="difflineminus">- use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l10.39"></a><span id="l10.39" class="difflineminus">- decision by deleting the provisions above and replace them with the notice</span>
<a href="#l10.40"></a><span id="l10.40" class="difflineminus">- and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l10.41"></a><span id="l10.41" class="difflineminus">- the provisions above, a recipient may use your version of this file under</span>
<a href="#l10.42"></a><span id="l10.42" class="difflineminus">- the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l10.43"></a><span id="l10.43" class="difflineminus">-</span>
<a href="#l10.44"></a><span id="l10.44" class="difflineminus">- ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l10.45"></a><span id="l10.45" class="difflineplus">+&lt;!-- ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l10.46"></a><span id="l10.46" class="difflineplus">+   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l10.47"></a><span id="l10.47" class="difflineplus">+   -</span>
<a href="#l10.48"></a><span id="l10.48" class="difflineplus">+   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineplus">+   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineplus">+   - the License. You may obtain a copy of the License at</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineplus">+   - http://www.mozilla.org/MPL/</span>
<a href="#l10.52"></a><span id="l10.52" class="difflineplus">+   -</span>
<a href="#l10.53"></a><span id="l10.53" class="difflineplus">+   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l10.54"></a><span id="l10.54" class="difflineplus">+   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l10.55"></a><span id="l10.55" class="difflineplus">+   - for the specific language governing rights and limitations under the</span>
<a href="#l10.56"></a><span id="l10.56" class="difflineplus">+   - License.</span>
<a href="#l10.57"></a><span id="l10.57" class="difflineplus">+   -</span>
<a href="#l10.58"></a><span id="l10.58" class="difflineplus">+   - The Original Code is mozilla.org code.</span>
<a href="#l10.59"></a><span id="l10.59" class="difflineplus">+   -</span>
<a href="#l10.60"></a><span id="l10.60" class="difflineplus">+   - The Initial Developer of the Original Code is</span>
<a href="#l10.61"></a><span id="l10.61" class="difflineplus">+   - Netscape Communications Corporation.</span>
<a href="#l10.62"></a><span id="l10.62" class="difflineplus">+   - Portions created by the Initial Developer are Copyright (C) 1998</span>
<a href="#l10.63"></a><span id="l10.63" class="difflineplus">+   - the Initial Developer. All Rights Reserved.</span>
<a href="#l10.64"></a><span id="l10.64" class="difflineplus">+   -</span>
<a href="#l10.65"></a><span id="l10.65" class="difflineplus">+   - Contributor(s):</span>
<a href="#l10.66"></a><span id="l10.66" class="difflineplus">+   -   Ben Goodger &lt;ben@netscape.com&gt; (Original Author, v2.0)</span>
<a href="#l10.67"></a><span id="l10.67" class="difflineplus">+   -   Pierre Chanial &lt;p_ch@verizon.net&gt;</span>
<a href="#l10.68"></a><span id="l10.68" class="difflineplus">+   -   Dan Mills &lt;thunder@mozilla.com&gt;</span>
<a href="#l10.69"></a><span id="l10.69" class="difflineplus">+   -</span>
<a href="#l10.70"></a><span id="l10.70" class="difflineplus">+   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l10.71"></a><span id="l10.71" class="difflineplus">+   - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l10.72"></a><span id="l10.72" class="difflineplus">+   - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l10.73"></a><span id="l10.73" class="difflineplus">+   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l10.74"></a><span id="l10.74" class="difflineplus">+   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l10.75"></a><span id="l10.75" class="difflineplus">+   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l10.76"></a><span id="l10.76" class="difflineplus">+   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l10.77"></a><span id="l10.77" class="difflineplus">+   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l10.78"></a><span id="l10.78" class="difflineplus">+   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l10.79"></a><span id="l10.79" class="difflineplus">+   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l10.80"></a><span id="l10.80" class="difflineplus">+   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l10.81"></a><span id="l10.81" class="difflineplus">+   -</span>
<a href="#l10.82"></a><span id="l10.82" class="difflineplus">+   - ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l10.83"></a><span id="l10.83"> </span>
<a href="#l10.84"></a><span id="l10.84"> &lt;?xml-stylesheet href=&quot;chrome://communicator/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.85"></a><span id="l10.85" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://communicator/content/places/places.css&quot;?&gt;</span>
<a href="#l10.86"></a><span id="l10.86"> &lt;?xml-stylesheet href=&quot;chrome://communicator/skin/sidebar/sidebarListView.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.87"></a><span id="l10.87" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://communicator/skin/bookmarks/bookmarksWindow.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.88"></a><span id="l10.88" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://communicator/content/bookmarks/bookmarks.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.89"></a><span id="l10.89" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://communicator/skin/bookmarks/bookmarks.css&quot;?&gt;</span>
<a href="#l10.90"></a><span id="l10.90"> </span>
<a href="#l10.91"></a><span id="l10.91" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://global/content/editMenuOverlay.xul&quot;?&gt;</span>
<a href="#l10.92"></a><span id="l10.92" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://communicator/content/bookmarks/placesOverlay.xul&quot;?&gt;</span>
<a href="#l10.93"></a><span id="l10.93"> &lt;?xul-overlay href=&quot;chrome://communicator/content/utilityOverlay.xul&quot;?&gt;</span>
<a href="#l10.94"></a><span id="l10.94" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://global/content/globalOverlay.xul&quot;?&gt;</span>
<a href="#l10.95"></a><span id="l10.95" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/bookmarks/bookmarksOverlay.xul&quot;?&gt;</span>
<a href="#l10.96"></a><span id="l10.96" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/tasksOverlay.xul&quot;?&gt;</span>
<a href="#l10.97"></a><span id="l10.97"> </span>
<a href="#l10.98"></a><span id="l10.98" class="difflineminus">-&lt;!DOCTYPE page SYSTEM &quot;chrome://communicator/locale/bookmarks/bookmarks.dtd&quot;&gt;</span>
<a href="#l10.99"></a><span id="l10.99" class="difflineplus">+&lt;!DOCTYPE page SYSTEM &quot;chrome://communicator/locale/bookmarks/places.dtd&quot;&gt;</span>
<a href="#l10.100"></a><span id="l10.100"> </span>
<a href="#l10.101"></a><span id="l10.101"> &lt;page id=&quot;bookmarksPanel&quot;</span>
<a href="#l10.102"></a><span id="l10.102" class="difflineminus">-        xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>
<a href="#l10.103"></a><span id="l10.103" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l10.104"></a><span id="l10.104" class="difflineminus">-        onload=&quot;Startup();&quot; elementtofocus=&quot;search-box&quot;&gt;</span>
<a href="#l10.105"></a><span id="l10.105" class="difflineminus">-</span>
<a href="#l10.106"></a><span id="l10.106" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l10.107"></a><span id="l10.107" class="difflineplus">+      xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>
<a href="#l10.108"></a><span id="l10.108" class="difflineplus">+      xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l10.109"></a><span id="l10.109" class="difflineplus">+      onload=&quot;init();&quot;</span>
<a href="#l10.110"></a><span id="l10.110" class="difflineplus">+      onunload=&quot;SidebarUtils.clearURLFromStatusBar();&quot;</span>
<a href="#l10.111"></a><span id="l10.111" class="difflineplus">+      elementtofocus=&quot;search-box&quot;&gt;</span>
<a href="#l10.112"></a><span id="l10.112"> </span>
<a href="#l10.113"></a><span id="l10.113" class="difflineminus">-  &lt;!-- Bookmarks Shell --&gt;</span>
<a href="#l10.114"></a><span id="l10.114" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/bookmarks/bookmarks.js&quot;/&gt;</span>
<a href="#l10.115"></a><span id="l10.115" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/bookmarks/bm-panel.js&quot;/&gt;</span>
<a href="#l10.116"></a><span id="l10.116" class="difflineminus">-</span>
<a href="#l10.117"></a><span id="l10.117" class="difflineminus">-  &lt;!-- Bookmarks Panel Drag &amp; Drop --&gt;</span>
<a href="#l10.118"></a><span id="l10.118" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/nsDragAndDrop.js&quot;/&gt;</span>
<a href="#l10.119"></a><span id="l10.119" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l10.120"></a><span id="l10.120" class="difflineplus">+          src=&quot;chrome://communicator/content/places/sidebarUtils.js&quot;/&gt;</span>
<a href="#l10.121"></a><span id="l10.121" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l10.122"></a><span id="l10.122" class="difflineplus">+          src=&quot;chrome://communicator/content/bookmarks/bm-panel.js&quot;/&gt;</span>
<a href="#l10.123"></a><span id="l10.123"> </span>
<a href="#l10.124"></a><span id="l10.124" class="difflineminus">-  &lt;!-- context menu, tooltips, etc --&gt;</span>
<a href="#l10.125"></a><span id="l10.125" class="difflineminus">-  &lt;popupset id=&quot;bookmarksPopupset&quot;/&gt;</span>
<a href="#l10.126"></a><span id="l10.126" class="difflineminus">-  </span>
<a href="#l10.127"></a><span id="l10.127" class="difflineminus">-  &lt;!-- bookmarks string bundle --&gt;</span>
<a href="#l10.128"></a><span id="l10.128" class="difflineminus">-  &lt;stringbundleset id=&quot;stringbundleset&quot;/&gt;</span>
<a href="#l10.129"></a><span id="l10.129" class="difflineminus">-  </span>
<a href="#l10.130"></a><span id="l10.130" class="difflineminus">-  &lt;!-- bookmarks &amp; edit commands --&gt;</span>
<a href="#l10.131"></a><span id="l10.131" class="difflineminus">-  &lt;commands id=&quot;commands&quot;&gt;</span>
<a href="#l10.132"></a><span id="l10.132" class="difflineminus">-    &lt;commandset id=&quot;CommandUpdate_Bookmarks&quot;</span>
<a href="#l10.133"></a><span id="l10.133" class="difflineminus">-                commandupdater=&quot;true&quot;</span>
<a href="#l10.134"></a><span id="l10.134" class="difflineminus">-                events=&quot;click,focus&quot;</span>
<a href="#l10.135"></a><span id="l10.135" class="difflineminus">-                oncommandupdate=&quot;document.getElementById('bookmarks-view').onCommandUpdate();&quot;&gt;</span>
<a href="#l10.136"></a><span id="l10.136" class="difflineminus">-    &lt;/commandset&gt;                </span>
<a href="#l10.137"></a><span id="l10.137" class="difflineminus">-    &lt;commandset id=&quot;bookmarksItems&quot;/&gt;</span>
<a href="#l10.138"></a><span id="l10.138" class="difflineminus">-    &lt;command id=&quot;cmd_undo&quot;/&gt;</span>
<a href="#l10.139"></a><span id="l10.139" class="difflineminus">-    &lt;command id=&quot;cmd_redo&quot;/&gt;</span>
<a href="#l10.140"></a><span id="l10.140" class="difflineminus">-  &lt;/commands&gt;</span>
<a href="#l10.141"></a><span id="l10.141" class="difflineplus">+  &lt;commandset id=&quot;placesCommands&quot;/&gt;</span>
<a href="#l10.142"></a><span id="l10.142" class="difflineplus">+  &lt;commandset id=&quot;editMenuCommands&quot;/&gt;</span>
<a href="#l10.143"></a><span id="l10.143" class="difflineplus">+  &lt;popup id=&quot;placesContext&quot;/&gt;</span>
<a href="#l10.144"></a><span id="l10.144" class="difflineplus">+</span>
<a href="#l10.145"></a><span id="l10.145" class="difflineplus">+  &lt;!-- Bookmarks and history tooltip --&gt;</span>
<a href="#l10.146"></a><span id="l10.146" class="difflineplus">+  &lt;tooltip id=&quot;bhTooltip&quot;/&gt;</span>
<a href="#l10.147"></a><span id="l10.147"> </span>
<a href="#l10.148"></a><span id="l10.148" class="difflineminus">-  &lt;keyset id=&quot;bookmarks-tasksKeys&quot;/&gt;</span>
<a href="#l10.149"></a><span id="l10.149" class="difflineminus">-  </span>
<a href="#l10.150"></a><span id="l10.150" class="difflineminus">-  &lt;hbox id=&quot;panel-bar&quot; class=&quot;toolbar&quot;&gt;</span>
<a href="#l10.151"></a><span id="l10.151" class="difflineminus">-    &lt;toolbarbutton id=&quot;btnAddBookmark&quot; label=&quot;&amp;command.addBookmark.label;&quot;</span>
<a href="#l10.152"></a><span id="l10.152" class="difflineminus">-            oncommand=&quot;addBookmark();&quot;/&gt;</span>
<a href="#l10.153"></a><span id="l10.153" class="difflineminus">-    &lt;toolbarbutton id=&quot;btnManageBookmarks&quot; label=&quot;&amp;command.manageBookmarks.label;&quot;</span>
<a href="#l10.154"></a><span id="l10.154" class="difflineminus">-            oncommand=&quot;toBookmarksManager();&quot;/&gt;</span>
<a href="#l10.155"></a><span id="l10.155" class="difflineminus">-    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l10.156"></a><span id="l10.156" class="difflineminus">-    &lt;toolbarseparator/&gt;</span>
<a href="#l10.157"></a><span id="l10.157" class="difflineminus">-    &lt;toolbarbutton id=&quot;btnFindBookmarks&quot; label=&quot;&amp;command.findBookmarks.label;&quot;</span>
<a href="#l10.158"></a><span id="l10.158" class="difflineminus">-            oncommand=&quot;BookmarksCommand.findBookmark();&quot;/&gt;</span>
<a href="#l10.159"></a><span id="l10.159" class="difflineplus">+  &lt;hbox id=&quot;sidebar-search-container&quot; align=&quot;center&quot;&gt;</span>
<a href="#l10.160"></a><span id="l10.160" class="difflineplus">+    &lt;label id=&quot;sidebar-search-label&quot;</span>
<a href="#l10.161"></a><span id="l10.161" class="difflineplus">+           value=&quot;&amp;search.label;&quot; accesskey=&quot;&amp;search.accesskey;&quot; control=&quot;search-box&quot;/&gt;</span>
<a href="#l10.162"></a><span id="l10.162" class="difflineplus">+    &lt;textbox id=&quot;search-box&quot; flex=&quot;1&quot; type=&quot;search&quot; class=&quot;compact&quot;</span>
<a href="#l10.163"></a><span id="l10.163" class="difflineplus">+             aria-controls=&quot;bookmarks-view&quot;</span>
<a href="#l10.164"></a><span id="l10.164" class="difflineplus">+             oncommand=&quot;searchBookmarks(this.value);&quot;/&gt;</span>
<a href="#l10.165"></a><span id="l10.165">   &lt;/hbox&gt;</span>
<a href="#l10.166"></a><span id="l10.166"> </span>
<a href="#l10.167"></a><span id="l10.167" class="difflineminus">-  &lt;hbox id=&quot;search-bar&quot; class=&quot;toolbar&quot; align=&quot;center&quot;&gt;</span>
<a href="#l10.168"></a><span id="l10.168" class="difflineminus">-    &lt;textbox id=&quot;search-box&quot; flex=&quot;1&quot; type=&quot;search&quot; clickSelectsAll=&quot;true&quot;</span>
<a href="#l10.169"></a><span id="l10.169" class="difflineminus">-             placeholder=&quot;&amp;search.placeholder;&quot;</span>
<a href="#l10.170"></a><span id="l10.170" class="difflineminus">-             oncommand=&quot;document.getElementById('bookmarks-view').searchBookmarks(this.value)&quot;/&gt;</span>
<a href="#l10.171"></a><span id="l10.171" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l10.172"></a><span id="l10.172" class="difflineminus">-  </span>
<a href="#l10.173"></a><span id="l10.173" class="difflineminus">-  &lt;bookmarks-tree id=&quot;bookmarks-view&quot; type=&quot;single-column&quot; flex=&quot;1&quot;</span>
<a href="#l10.174"></a><span id="l10.174" class="difflineminus">-                  onfocus=&quot;this.tree.focus();&quot;</span>
<a href="#l10.175"></a><span id="l10.175" class="difflineminus">-                  onkeypress=&quot;if (event.keyCode == 13) this.openItemKey(event);&quot;</span>
<a href="#l10.176"></a><span id="l10.176" class="difflineminus">-                  ondraggesture=&quot;if (event.originalTarget.localName == 'treechildren') nsDragAndDrop.startDrag(event, this.DNDObserver);&quot;</span>
<a href="#l10.177"></a><span id="l10.177" class="difflineminus">-                  onclick=&quot;this.openItemClick(event, 1);&quot;/&gt;</span>
<a href="#l10.178"></a><span id="l10.178" class="difflineminus">-</span>
<a href="#l10.179"></a><span id="l10.179" class="difflineplus">+  &lt;tree id=&quot;bookmarks-view&quot; class=&quot;sidebar-placesTree&quot; type=&quot;places&quot;</span>
<a href="#l10.180"></a><span id="l10.180" class="difflineplus">+        flex=&quot;1&quot;</span>
<a href="#l10.181"></a><span id="l10.181" class="difflineplus">+        hidecolumnpicker=&quot;true&quot;</span>
<a href="#l10.182"></a><span id="l10.182" class="difflineplus">+        context=&quot;placesContext&quot;</span>
<a href="#l10.183"></a><span id="l10.183" class="difflineplus">+        onkeypress=&quot;SidebarUtils.handleTreeKeyPress(event);&quot;</span>
<a href="#l10.184"></a><span id="l10.184" class="difflineplus">+        onclick=&quot;SidebarUtils.handleTreeClick(this, event, true);&quot;</span>
<a href="#l10.185"></a><span id="l10.185" class="difflineplus">+        onmousemove=&quot;SidebarUtils.handleTreeMouseMove(event);&quot;</span>
<a href="#l10.186"></a><span id="l10.186" class="difflineplus">+        onmouseout=&quot;SidebarUtils.clearURLFromStatusBar();&quot;&gt;</span>
<a href="#l10.187"></a><span id="l10.187" class="difflineplus">+    &lt;treecols&gt;</span>
<a href="#l10.188"></a><span id="l10.188" class="difflineplus">+      &lt;treecol id=&quot;title&quot; flex=&quot;1&quot; primary=&quot;true&quot; hideheader=&quot;true&quot;/&gt;</span>
<a href="#l10.189"></a><span id="l10.189" class="difflineplus">+    &lt;/treecols&gt;</span>
<a href="#l10.190"></a><span id="l10.190" class="difflineplus">+    &lt;treechildren id=&quot;bookmarks-view-children&quot; view=&quot;bookmarks-view&quot;</span>
<a href="#l10.191"></a><span id="l10.191" class="difflineplus">+                  class=&quot;sidebar-placesTreechildren&quot; flex=&quot;1&quot; tooltip=&quot;bhTooltip&quot;/&gt;</span>
<a href="#l10.192"></a><span id="l10.192" class="difflineplus">+  &lt;/tree&gt;</span>
<a href="#l10.193"></a><span id="l10.193"> &lt;/page&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">new file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- /dev/null</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ b/suite/common/bookmarks/browser-places.js</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -0,0 +1,484 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineplus">+/* ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineplus">+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineplus">+ *</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineplus">+ * The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineplus">+ * 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineplus">+ * the License. You may obtain a copy of the License at</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineplus">+ * http://www.mozilla.org/MPL/</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+ *</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+ * Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+ * for the specific language governing rights and limitations under the</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+ * License.</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineplus">+ *</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+ * The Original Code is the Places Browser Integration</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineplus">+ *</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineplus">+ * The Initial Developer of the Original Code is Google Inc.</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineplus">+ * Portions created by the Initial Developer are Copyright (C) 2006</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineplus">+ * the Initial Developer. All Rights Reserved.</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineplus">+ *</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+ * Contributor(s):</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineplus">+ *   Ben Goodger &lt;beng@google.com&gt;</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineplus">+ *   Annie Sullivan &lt;annie.sullivan@gmail.com&gt;</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineplus">+ *   Joe Hughes &lt;joe@retrovirus.com&gt;</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+ *   Asaf Romano &lt;mano@mozilla.com&gt;</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineplus">+ *   Ehsan Akhgari &lt;ehsan.akhgari@gmail.com&gt;</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineplus">+ *</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineplus">+ * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+ * either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineplus">+ * the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineplus">+ * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineplus">+ * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+ * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+ * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineplus">+ * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineplus">+ * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineplus">+ * the provisions above, a recipient may use your version of this file under</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineplus">+ * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l11.42"></a><span id="l11.42" class="difflineplus">+ *</span>
<a href="#l11.43"></a><span id="l11.43" class="difflineplus">+ * ***** END LICENSE BLOCK ***** */</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineplus">+</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineplus">+var PlacesCommandHook = {</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineplus">+  /**</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineplus">+   * Adds a bookmark to the page loaded in the given browser.</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineplus">+   *</span>
<a href="#l11.49"></a><span id="l11.49" class="difflineplus">+   * @param aBrowser</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineplus">+   *        a &lt;browser&gt; element.</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineplus">+   * @param [optional] aParent</span>
<a href="#l11.52"></a><span id="l11.52" class="difflineplus">+   *        The folder in which to create a new bookmark if the page loaded in</span>
<a href="#l11.53"></a><span id="l11.53" class="difflineplus">+   *        aBrowser isn't bookmarked yet, defaults to the unfiled root.</span>
<a href="#l11.54"></a><span id="l11.54" class="difflineplus">+   * @param [optional] aShowEditUI</span>
<a href="#l11.55"></a><span id="l11.55" class="difflineplus">+   *        whether or not to show the edit-bookmark UI for the bookmark item</span>
<a href="#l11.56"></a><span id="l11.56" class="difflineplus">+   */</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineplus">+  bookmarkPage: function PCH_bookmarkPage(aBrowser, aParent, aShowEditUI) {</span>
<a href="#l11.58"></a><span id="l11.58" class="difflineplus">+    var uri = aBrowser.currentURI;</span>
<a href="#l11.59"></a><span id="l11.59" class="difflineplus">+    var itemId = PlacesUtils.getMostRecentBookmarkForURI(uri);</span>
<a href="#l11.60"></a><span id="l11.60" class="difflineplus">+    if (itemId == -1) {</span>
<a href="#l11.61"></a><span id="l11.61" class="difflineplus">+      // Copied over from addBookmarkForBrowser:</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineplus">+      // Bug 52536: We obtain the URL and title from the nsIWebNavigation</span>
<a href="#l11.63"></a><span id="l11.63" class="difflineplus">+      // associated with a &lt;browser/&gt; rather than from a DOMWindow.</span>
<a href="#l11.64"></a><span id="l11.64" class="difflineplus">+      // This is because when a full page plugin is loaded, there is</span>
<a href="#l11.65"></a><span id="l11.65" class="difflineplus">+      // no DOMWindow (?) but information about the loaded document</span>
<a href="#l11.66"></a><span id="l11.66" class="difflineplus">+      // may still be obtained from the webNavigation.</span>
<a href="#l11.67"></a><span id="l11.67" class="difflineplus">+      var webNav = aBrowser.webNavigation;</span>
<a href="#l11.68"></a><span id="l11.68" class="difflineplus">+      var url = webNav.currentURI;</span>
<a href="#l11.69"></a><span id="l11.69" class="difflineplus">+      var title;</span>
<a href="#l11.70"></a><span id="l11.70" class="difflineplus">+      var description;</span>
<a href="#l11.71"></a><span id="l11.71" class="difflineplus">+      var charset;</span>
<a href="#l11.72"></a><span id="l11.72" class="difflineplus">+      try {</span>
<a href="#l11.73"></a><span id="l11.73" class="difflineplus">+        title = webNav.document.title || url.spec;</span>
<a href="#l11.74"></a><span id="l11.74" class="difflineplus">+        description = PlacesUIUtils.getDescriptionFromDocument(webNav.document);</span>
<a href="#l11.75"></a><span id="l11.75" class="difflineplus">+        charset = webNav.document.characterSet;</span>
<a href="#l11.76"></a><span id="l11.76" class="difflineplus">+      }</span>
<a href="#l11.77"></a><span id="l11.77" class="difflineplus">+      catch (e) { }</span>
<a href="#l11.78"></a><span id="l11.78" class="difflineplus">+</span>
<a href="#l11.79"></a><span id="l11.79" class="difflineplus">+      if (aShowEditUI) {</span>
<a href="#l11.80"></a><span id="l11.80" class="difflineplus">+        // If we bookmark the page here (i.e. page was not &quot;starred&quot; already)</span>
<a href="#l11.81"></a><span id="l11.81" class="difflineplus">+        // but open right into the &quot;edit&quot; state, start batching here, so</span>
<a href="#l11.82"></a><span id="l11.82" class="difflineplus">+        // &quot;Cancel&quot; in that state removes the bookmark.</span>
<a href="#l11.83"></a><span id="l11.83" class="difflineplus">+        StarUI.beginBatch();</span>
<a href="#l11.84"></a><span id="l11.84" class="difflineplus">+      }</span>
<a href="#l11.85"></a><span id="l11.85" class="difflineplus">+</span>
<a href="#l11.86"></a><span id="l11.86" class="difflineplus">+      var parent = aParent != undefined ?</span>
<a href="#l11.87"></a><span id="l11.87" class="difflineplus">+                   aParent : PlacesUtils.unfiledBookmarksFolderId;</span>
<a href="#l11.88"></a><span id="l11.88" class="difflineplus">+      var descAnno = { name: PlacesUIUtils.DESCRIPTION_ANNO, value: description };</span>
<a href="#l11.89"></a><span id="l11.89" class="difflineplus">+      var txn = PlacesUIUtils.ptm.createItem(uri, parent, -1,</span>
<a href="#l11.90"></a><span id="l11.90" class="difflineplus">+                                             title, null, [descAnno]);</span>
<a href="#l11.91"></a><span id="l11.91" class="difflineplus">+      PlacesUIUtils.ptm.doTransaction(txn);</span>
<a href="#l11.92"></a><span id="l11.92" class="difflineplus">+      // Set the character-set</span>
<a href="#l11.93"></a><span id="l11.93" class="difflineplus">+      if (charset)</span>
<a href="#l11.94"></a><span id="l11.94" class="difflineplus">+        PlacesUtils.history.setCharsetForURI(uri, charset);</span>
<a href="#l11.95"></a><span id="l11.95" class="difflineplus">+      itemId = PlacesUtils.getMostRecentBookmarkForURI(uri);</span>
<a href="#l11.96"></a><span id="l11.96" class="difflineplus">+    }</span>
<a href="#l11.97"></a><span id="l11.97" class="difflineplus">+</span>
<a href="#l11.98"></a><span id="l11.98" class="difflineplus">+    // dock the panel to the star icon when possible, otherwise dock</span>
<a href="#l11.99"></a><span id="l11.99" class="difflineplus">+    // it to the content area</span>
<a href="#l11.100"></a><span id="l11.100" class="difflineplus">+    if (aBrowser.contentWindow == window.content) {</span>
<a href="#l11.101"></a><span id="l11.101" class="difflineplus">+      let ubIcons = aBrowser.ownerDocument.getElementById(&quot;urlbar-icons&quot;);</span>
<a href="#l11.102"></a><span id="l11.102" class="difflineplus">+      if (ubIcons) {</span>
<a href="#l11.103"></a><span id="l11.103" class="difflineplus">+        // Make sure the bookmark properties dialog hangs toward the middle of</span>
<a href="#l11.104"></a><span id="l11.104" class="difflineplus">+        // the location bar in RTL builds</span>
<a href="#l11.105"></a><span id="l11.105" class="difflineplus">+        let position = (getComputedStyle(gNavToolbox, &quot;&quot;).direction == &quot;rtl&quot;) ? 'after_start' : 'after_end';</span>
<a href="#l11.106"></a><span id="l11.106" class="difflineplus">+        if (aShowEditUI)</span>
<a href="#l11.107"></a><span id="l11.107" class="difflineplus">+          StarUI.showEditBookmarkPopup(itemId, ubIcons, position);</span>
<a href="#l11.108"></a><span id="l11.108" class="difflineplus">+        return;</span>
<a href="#l11.109"></a><span id="l11.109" class="difflineplus">+      }</span>
<a href="#l11.110"></a><span id="l11.110" class="difflineplus">+    }</span>
<a href="#l11.111"></a><span id="l11.111" class="difflineplus">+</span>
<a href="#l11.112"></a><span id="l11.112" class="difflineplus">+    StarUI.showEditBookmarkPopup(itemId, aBrowser, &quot;overlap&quot;);</span>
<a href="#l11.113"></a><span id="l11.113" class="difflineplus">+  },</span>
<a href="#l11.114"></a><span id="l11.114" class="difflineplus">+</span>
<a href="#l11.115"></a><span id="l11.115" class="difflineplus">+  /**</span>
<a href="#l11.116"></a><span id="l11.116" class="difflineplus">+   * Adds a bookmark to the page loaded in the current tab.</span>
<a href="#l11.117"></a><span id="l11.117" class="difflineplus">+   */</span>
<a href="#l11.118"></a><span id="l11.118" class="difflineplus">+  bookmarkCurrentPage: function PCH_bookmarkCurrentPage(aShowEditUI, aParent) {</span>
<a href="#l11.119"></a><span id="l11.119" class="difflineplus">+    this.bookmarkPage(gBrowser.selectedBrowser, aParent, aShowEditUI);</span>
<a href="#l11.120"></a><span id="l11.120" class="difflineplus">+  },</span>
<a href="#l11.121"></a><span id="l11.121" class="difflineplus">+</span>
<a href="#l11.122"></a><span id="l11.122" class="difflineplus">+  /**</span>
<a href="#l11.123"></a><span id="l11.123" class="difflineplus">+   * Adds a bookmark to the page targeted by a link.</span>
<a href="#l11.124"></a><span id="l11.124" class="difflineplus">+   * @param aParent</span>
<a href="#l11.125"></a><span id="l11.125" class="difflineplus">+   *        The folder in which to create a new bookmark if aURL isn't</span>
<a href="#l11.126"></a><span id="l11.126" class="difflineplus">+   *        bookmarked.</span>
<a href="#l11.127"></a><span id="l11.127" class="difflineplus">+   * @param aURL (string)</span>
<a href="#l11.128"></a><span id="l11.128" class="difflineplus">+   *        the address of the link target</span>
<a href="#l11.129"></a><span id="l11.129" class="difflineplus">+   * @param aTitle</span>
<a href="#l11.130"></a><span id="l11.130" class="difflineplus">+   *        The link text</span>
<a href="#l11.131"></a><span id="l11.131" class="difflineplus">+   */</span>
<a href="#l11.132"></a><span id="l11.132" class="difflineplus">+  bookmarkLink: function PCH_bookmarkLink(aParent, aURL, aTitle) {</span>
<a href="#l11.133"></a><span id="l11.133" class="difflineplus">+    var linkURI = makeURI(aURL);</span>
<a href="#l11.134"></a><span id="l11.134" class="difflineplus">+    var itemId = PlacesUtils.getMostRecentBookmarkForURI(linkURI);</span>
<a href="#l11.135"></a><span id="l11.135" class="difflineplus">+    if (itemId == -1)</span>
<a href="#l11.136"></a><span id="l11.136" class="difflineplus">+      PlacesUIUtils.showMinimalAddBookmarkUI(linkURI, aTitle);</span>
<a href="#l11.137"></a><span id="l11.137" class="difflineplus">+    else {</span>
<a href="#l11.138"></a><span id="l11.138" class="difflineplus">+      PlacesUIUtils.showItemProperties(itemId,</span>
<a href="#l11.139"></a><span id="l11.139" class="difflineplus">+                                       PlacesUtils.bookmarks.TYPE_BOOKMARK);</span>
<a href="#l11.140"></a><span id="l11.140" class="difflineplus">+    }</span>
<a href="#l11.141"></a><span id="l11.141" class="difflineplus">+  },</span>
<a href="#l11.142"></a><span id="l11.142" class="difflineplus">+</span>
<a href="#l11.143"></a><span id="l11.143" class="difflineplus">+  /**</span>
<a href="#l11.144"></a><span id="l11.144" class="difflineplus">+   * This function returns a list of nsIURI objects characterizing the</span>
<a href="#l11.145"></a><span id="l11.145" class="difflineplus">+   * tabs currently open in the browser.  The URIs will appear in the</span>
<a href="#l11.146"></a><span id="l11.146" class="difflineplus">+   * list in the order in which their corresponding tabs appeared.  However,</span>
<a href="#l11.147"></a><span id="l11.147" class="difflineplus">+   * only the first instance of each URI will be returned.</span>
<a href="#l11.148"></a><span id="l11.148" class="difflineplus">+   *</span>
<a href="#l11.149"></a><span id="l11.149" class="difflineplus">+   * @returns a list of nsIURI objects representing unique locations open</span>
<a href="#l11.150"></a><span id="l11.150" class="difflineplus">+   */</span>
<a href="#l11.151"></a><span id="l11.151" class="difflineplus">+  _getUniqueTabInfo: function BATC__getUniqueTabInfo() {</span>
<a href="#l11.152"></a><span id="l11.152" class="difflineplus">+    var tabList = [];</span>
<a href="#l11.153"></a><span id="l11.153" class="difflineplus">+    var seenURIs = {};</span>
<a href="#l11.154"></a><span id="l11.154" class="difflineplus">+</span>
<a href="#l11.155"></a><span id="l11.155" class="difflineplus">+    var browsers = gBrowser.browsers;</span>
<a href="#l11.156"></a><span id="l11.156" class="difflineplus">+    for (var i = 0; i &lt; browsers.length; ++i) {</span>
<a href="#l11.157"></a><span id="l11.157" class="difflineplus">+      let uri = browsers[i].currentURI;</span>
<a href="#l11.158"></a><span id="l11.158" class="difflineplus">+</span>
<a href="#l11.159"></a><span id="l11.159" class="difflineplus">+      // skip redundant entries</span>
<a href="#l11.160"></a><span id="l11.160" class="difflineplus">+      if (uri.spec in seenURIs)</span>
<a href="#l11.161"></a><span id="l11.161" class="difflineplus">+        continue;</span>
<a href="#l11.162"></a><span id="l11.162" class="difflineplus">+</span>
<a href="#l11.163"></a><span id="l11.163" class="difflineplus">+      // add to the set of seen URIs</span>
<a href="#l11.164"></a><span id="l11.164" class="difflineplus">+      seenURIs[uri.spec] = null;</span>
<a href="#l11.165"></a><span id="l11.165" class="difflineplus">+      tabList.push(uri);</span>
<a href="#l11.166"></a><span id="l11.166" class="difflineplus">+    }</span>
<a href="#l11.167"></a><span id="l11.167" class="difflineplus">+    return tabList;</span>
<a href="#l11.168"></a><span id="l11.168" class="difflineplus">+  },</span>
<a href="#l11.169"></a><span id="l11.169" class="difflineplus">+</span>
<a href="#l11.170"></a><span id="l11.170" class="difflineplus">+  /**</span>
<a href="#l11.171"></a><span id="l11.171" class="difflineplus">+   * Adds a folder with bookmarks to all of the currently open tabs in this</span>
<a href="#l11.172"></a><span id="l11.172" class="difflineplus">+   * window.</span>
<a href="#l11.173"></a><span id="l11.173" class="difflineplus">+   */</span>
<a href="#l11.174"></a><span id="l11.174" class="difflineplus">+  bookmarkCurrentPages: function PCH_bookmarkCurrentPages() {</span>
<a href="#l11.175"></a><span id="l11.175" class="difflineplus">+    var tabURIs = this._getUniqueTabInfo();</span>
<a href="#l11.176"></a><span id="l11.176" class="difflineplus">+    PlacesUIUtils.showMinimalAddMultiBookmarkUI(tabURIs);</span>
<a href="#l11.177"></a><span id="l11.177" class="difflineplus">+  },</span>
<a href="#l11.178"></a><span id="l11.178" class="difflineplus">+</span>
<a href="#l11.179"></a><span id="l11.179" class="difflineplus">+</span>
<a href="#l11.180"></a><span id="l11.180" class="difflineplus">+  /**</span>
<a href="#l11.181"></a><span id="l11.181" class="difflineplus">+   * Adds a Live Bookmark to a feed associated with the current page.</span>
<a href="#l11.182"></a><span id="l11.182" class="difflineplus">+   * @param     url</span>
<a href="#l11.183"></a><span id="l11.183" class="difflineplus">+   *            The nsIURI of the page the feed was attached to</span>
<a href="#l11.184"></a><span id="l11.184" class="difflineplus">+   * @title     title</span>
<a href="#l11.185"></a><span id="l11.185" class="difflineplus">+   *            The title of the feed. Optional.</span>
<a href="#l11.186"></a><span id="l11.186" class="difflineplus">+   * @subtitle  subtitle</span>
<a href="#l11.187"></a><span id="l11.187" class="difflineplus">+   *            A short description of the feed. Optional.</span>
<a href="#l11.188"></a><span id="l11.188" class="difflineplus">+   */</span>
<a href="#l11.189"></a><span id="l11.189" class="difflineplus">+  addLiveBookmark: function PCH_addLiveBookmark(url, feedTitle, feedSubtitle) {</span>
<a href="#l11.190"></a><span id="l11.190" class="difflineplus">+    var feedURI = makeURI(url);</span>
<a href="#l11.191"></a><span id="l11.191" class="difflineplus">+</span>
<a href="#l11.192"></a><span id="l11.192" class="difflineplus">+    var doc = gBrowser.contentDocument;</span>
<a href="#l11.193"></a><span id="l11.193" class="difflineplus">+    var title = (arguments.length &gt; 1) ? feedTitle : doc.title;</span>
<a href="#l11.194"></a><span id="l11.194" class="difflineplus">+</span>
<a href="#l11.195"></a><span id="l11.195" class="difflineplus">+    var description;</span>
<a href="#l11.196"></a><span id="l11.196" class="difflineplus">+    if (arguments.length &gt; 2)</span>
<a href="#l11.197"></a><span id="l11.197" class="difflineplus">+      description = feedSubtitle;</span>
<a href="#l11.198"></a><span id="l11.198" class="difflineplus">+    else</span>
<a href="#l11.199"></a><span id="l11.199" class="difflineplus">+      description = PlacesUIUtils.getDescriptionFromDocument(doc);</span>
<a href="#l11.200"></a><span id="l11.200" class="difflineplus">+</span>
<a href="#l11.201"></a><span id="l11.201" class="difflineplus">+    var toolbarIP =</span>
<a href="#l11.202"></a><span id="l11.202" class="difflineplus">+      new InsertionPoint(PlacesUtils.bookmarks.toolbarFolder, -1);</span>
<a href="#l11.203"></a><span id="l11.203" class="difflineplus">+    PlacesUIUtils.showMinimalAddLivemarkUI(feedURI, gBrowser.currentURI,</span>
<a href="#l11.204"></a><span id="l11.204" class="difflineplus">+                                           title, description, toolbarIP, true);</span>
<a href="#l11.205"></a><span id="l11.205" class="difflineplus">+  },</span>
<a href="#l11.206"></a><span id="l11.206" class="difflineplus">+</span>
<a href="#l11.207"></a><span id="l11.207" class="difflineplus">+  /**</span>
<a href="#l11.208"></a><span id="l11.208" class="difflineplus">+   * Opens the bookmarks manager.</span>
<a href="#l11.209"></a><span id="l11.209" class="difflineplus">+   * @param   aLeftPaneRoot</span>
<a href="#l11.210"></a><span id="l11.210" class="difflineplus">+   *          The query to select in the organizer window - options</span>
<a href="#l11.211"></a><span id="l11.211" class="difflineplus">+   *          are: AllBookmarks, BookmarksMenu, BookmarksToolbar,</span>
<a href="#l11.212"></a><span id="l11.212" class="difflineplus">+   *          UnfiledBookmarks and Tags.</span>
<a href="#l11.213"></a><span id="l11.213" class="difflineplus">+   */</span>
<a href="#l11.214"></a><span id="l11.214" class="difflineplus">+  showBookmarksManager: function PCH_showBookmarksManager(aLeftPaneRoot) {</span>
<a href="#l11.215"></a><span id="l11.215" class="difflineplus">+    var manager = Services.wm.getMostRecentWindow(&quot;bookmarks:manager&quot;);</span>
<a href="#l11.216"></a><span id="l11.216" class="difflineplus">+    if (!manager) {</span>
<a href="#l11.217"></a><span id="l11.217" class="difflineplus">+      // No currently open places window, so open one with the specified mode.</span>
<a href="#l11.218"></a><span id="l11.218" class="difflineplus">+      openDialog(&quot;chrome://communicator/content/bookmarks/bookmarksManager.xul&quot;,</span>
<a href="#l11.219"></a><span id="l11.219" class="difflineplus">+                 &quot;&quot;, &quot;chrome,toolbar=yes,dialog=no,resizable&quot;, aLeftPaneRoot);</span>
<a href="#l11.220"></a><span id="l11.220" class="difflineplus">+    }</span>
<a href="#l11.221"></a><span id="l11.221" class="difflineplus">+    else {</span>
<a href="#l11.222"></a><span id="l11.222" class="difflineplus">+      manager.PlacesOrganizer.selectLeftPaneQuery(aLeftPaneRoot);</span>
<a href="#l11.223"></a><span id="l11.223" class="difflineplus">+      manager.focus();</span>
<a href="#l11.224"></a><span id="l11.224" class="difflineplus">+    }</span>
<a href="#l11.225"></a><span id="l11.225" class="difflineplus">+  }</span>
<a href="#l11.226"></a><span id="l11.226" class="difflineplus">+};</span>
<a href="#l11.227"></a><span id="l11.227" class="difflineplus">+</span>
<a href="#l11.228"></a><span id="l11.228" class="difflineplus">+/**</span>
<a href="#l11.229"></a><span id="l11.229" class="difflineplus">+ * Functions for handling events in the Bookmarks Toolbar and menu.</span>
<a href="#l11.230"></a><span id="l11.230" class="difflineplus">+ */</span>
<a href="#l11.231"></a><span id="l11.231" class="difflineplus">+var BookmarksEventHandler = {</span>
<a href="#l11.232"></a><span id="l11.232" class="difflineplus">+  /**</span>
<a href="#l11.233"></a><span id="l11.233" class="difflineplus">+   * Handler for click event for an item in the bookmarks toolbar or menu.</span>
<a href="#l11.234"></a><span id="l11.234" class="difflineplus">+   * Menus and submenus from the folder buttons bubble up to this handler.</span>
<a href="#l11.235"></a><span id="l11.235" class="difflineplus">+   * Left-click is handled in the onCommand function.</span>
<a href="#l11.236"></a><span id="l11.236" class="difflineplus">+   * When items are middle-clicked (or clicked with modifier), open in tabs.</span>
<a href="#l11.237"></a><span id="l11.237" class="difflineplus">+   * If the click came through a menu, close the menu.</span>
<a href="#l11.238"></a><span id="l11.238" class="difflineplus">+   * @param aEvent</span>
<a href="#l11.239"></a><span id="l11.239" class="difflineplus">+   *        DOMEvent for the click</span>
<a href="#l11.240"></a><span id="l11.240" class="difflineplus">+   */</span>
<a href="#l11.241"></a><span id="l11.241" class="difflineplus">+  onClick: function BEH_onClick(aEvent) {</span>
<a href="#l11.242"></a><span id="l11.242" class="difflineplus">+    // Only handle middle-click or left-click with modifiers.</span>
<a href="#l11.243"></a><span id="l11.243" class="difflineplus">+    if (aEvent.button == 2 || (aEvent.button == 0 &amp;&amp; !aEvent.shiftKey &amp;&amp;</span>
<a href="#l11.244"></a><span id="l11.244" class="difflineplus">+                               !aEvent.ctrlKey &amp;&amp; !aEvent.metaKey))</span>
<a href="#l11.245"></a><span id="l11.245" class="difflineplus">+      return;</span>
<a href="#l11.246"></a><span id="l11.246" class="difflineplus">+</span>
<a href="#l11.247"></a><span id="l11.247" class="difflineplus">+    var target = aEvent.originalTarget;</span>
<a href="#l11.248"></a><span id="l11.248" class="difflineplus">+    // If this event bubbled up from a menu or menuitem, close the menus.</span>
<a href="#l11.249"></a><span id="l11.249" class="difflineplus">+    // Do this before opening tabs, to avoid hiding the open tabs confirm-dialog.</span>
<a href="#l11.250"></a><span id="l11.250" class="difflineplus">+    if (target.localName == &quot;menu&quot; || target.localName == &quot;menuitem&quot;) {</span>
<a href="#l11.251"></a><span id="l11.251" class="difflineplus">+      for (node = target.parentNode; node; node = node.parentNode) {</span>
<a href="#l11.252"></a><span id="l11.252" class="difflineplus">+        if (node.localName == &quot;menupopup&quot;)</span>
<a href="#l11.253"></a><span id="l11.253" class="difflineplus">+          node.hidePopup();</span>
<a href="#l11.254"></a><span id="l11.254" class="difflineplus">+        else if (node.localName != &quot;menu&quot;)</span>
<a href="#l11.255"></a><span id="l11.255" class="difflineplus">+          break;</span>
<a href="#l11.256"></a><span id="l11.256" class="difflineplus">+      }</span>
<a href="#l11.257"></a><span id="l11.257" class="difflineplus">+    }</span>
<a href="#l11.258"></a><span id="l11.258" class="difflineplus">+</span>
<a href="#l11.259"></a><span id="l11.259" class="difflineplus">+    if (target._placesNode &amp;&amp; PlacesUtils.nodeIsContainer(target._placesNode)) {</span>
<a href="#l11.260"></a><span id="l11.260" class="difflineplus">+      // Don't open the root folder in tabs when the empty area on the toolbar</span>
<a href="#l11.261"></a><span id="l11.261" class="difflineplus">+      // is middle-clicked or when a non-bookmark item except for Open in Tabs)</span>
<a href="#l11.262"></a><span id="l11.262" class="difflineplus">+      // in a bookmarks menupopup is middle-clicked.</span>
<a href="#l11.263"></a><span id="l11.263" class="difflineplus">+      if (target.localName == &quot;menu&quot; || target.localName == &quot;toolbarbutton&quot;)</span>
<a href="#l11.264"></a><span id="l11.264" class="difflineplus">+        PlacesUIUtils.openContainerNodeInTabs(target._placesNode, aEvent);</span>
<a href="#l11.265"></a><span id="l11.265" class="difflineplus">+    }</span>
<a href="#l11.266"></a><span id="l11.266" class="difflineplus">+    else if (aEvent.button == 1) {</span>
<a href="#l11.267"></a><span id="l11.267" class="difflineplus">+      // left-clicks with modifier are already served by onCommand</span>
<a href="#l11.268"></a><span id="l11.268" class="difflineplus">+      this.onCommand(aEvent);</span>
<a href="#l11.269"></a><span id="l11.269" class="difflineplus">+    }</span>
<a href="#l11.270"></a><span id="l11.270" class="difflineplus">+  },</span>
<a href="#l11.271"></a><span id="l11.271" class="difflineplus">+</span>
<a href="#l11.272"></a><span id="l11.272" class="difflineplus">+  /**</span>
<a href="#l11.273"></a><span id="l11.273" class="difflineplus">+   * Handler for command event for an item in the bookmarks toolbar.</span>
<a href="#l11.274"></a><span id="l11.274" class="difflineplus">+   * Menus and submenus from the folder buttons bubble up to this handler.</span>
<a href="#l11.275"></a><span id="l11.275" class="difflineplus">+   * Opens the item.</span>
<a href="#l11.276"></a><span id="l11.276" class="difflineplus">+   * @param aEvent</span>
<a href="#l11.277"></a><span id="l11.277" class="difflineplus">+   *        DOMEvent for the command</span>
<a href="#l11.278"></a><span id="l11.278" class="difflineplus">+   */</span>
<a href="#l11.279"></a><span id="l11.279" class="difflineplus">+  onCommand: function BEH_onCommand(aEvent) {</span>
<a href="#l11.280"></a><span id="l11.280" class="difflineplus">+    var target = aEvent.originalTarget;</span>
<a href="#l11.281"></a><span id="l11.281" class="difflineplus">+    if (target._placesNode)</span>
<a href="#l11.282"></a><span id="l11.282" class="difflineplus">+      PlacesUIUtils.openNodeWithEvent(target._placesNode, aEvent);</span>
<a href="#l11.283"></a><span id="l11.283" class="difflineplus">+  },</span>
<a href="#l11.284"></a><span id="l11.284" class="difflineplus">+</span>
<a href="#l11.285"></a><span id="l11.285" class="difflineplus">+  fillInBHTooltip: function BEH_fillInBHTooltip(aDocument, aEvent) {</span>
<a href="#l11.286"></a><span id="l11.286" class="difflineplus">+    var node;</span>
<a href="#l11.287"></a><span id="l11.287" class="difflineplus">+    var cropped = false;</span>
<a href="#l11.288"></a><span id="l11.288" class="difflineplus">+    var targetURI;</span>
<a href="#l11.289"></a><span id="l11.289" class="difflineplus">+</span>
<a href="#l11.290"></a><span id="l11.290" class="difflineplus">+    if (aDocument.tooltipNode.localName == &quot;treechildren&quot;) {</span>
<a href="#l11.291"></a><span id="l11.291" class="difflineplus">+      var tree = aDocument.tooltipNode.parentNode;</span>
<a href="#l11.292"></a><span id="l11.292" class="difflineplus">+      var row = {}, column = {};</span>
<a href="#l11.293"></a><span id="l11.293" class="difflineplus">+      var tbo = tree.treeBoxObject;</span>
<a href="#l11.294"></a><span id="l11.294" class="difflineplus">+      tbo.getCellAt(aEvent.clientX, aEvent.clientY, row, column, {});</span>
<a href="#l11.295"></a><span id="l11.295" class="difflineplus">+      if (row.value == -1)</span>
<a href="#l11.296"></a><span id="l11.296" class="difflineplus">+        return false;</span>
<a href="#l11.297"></a><span id="l11.297" class="difflineplus">+      node = tree.view.nodeForTreeIndex(row.value);</span>
<a href="#l11.298"></a><span id="l11.298" class="difflineplus">+      cropped = tbo.isCellCropped(row.value, column.value);</span>
<a href="#l11.299"></a><span id="l11.299" class="difflineplus">+    }</span>
<a href="#l11.300"></a><span id="l11.300" class="difflineplus">+    else {</span>
<a href="#l11.301"></a><span id="l11.301" class="difflineplus">+      // Check whether the tooltipNode is a Places node.</span>
<a href="#l11.302"></a><span id="l11.302" class="difflineplus">+      // In such a case use it, otherwise check for targetURI attribute.</span>
<a href="#l11.303"></a><span id="l11.303" class="difflineplus">+      var tooltipNode = aDocument.tooltipNode;</span>
<a href="#l11.304"></a><span id="l11.304" class="difflineplus">+      if (tooltipNode._placesNode)</span>
<a href="#l11.305"></a><span id="l11.305" class="difflineplus">+        node = tooltipNode._placesNode;</span>
<a href="#l11.306"></a><span id="l11.306" class="difflineplus">+      else {</span>
<a href="#l11.307"></a><span id="l11.307" class="difflineplus">+        // This is a static non-Places node.</span>
<a href="#l11.308"></a><span id="l11.308" class="difflineplus">+        targetURI = tooltipNode.getAttribute(&quot;targetURI&quot;);</span>
<a href="#l11.309"></a><span id="l11.309" class="difflineplus">+      }</span>
<a href="#l11.310"></a><span id="l11.310" class="difflineplus">+    }</span>
<a href="#l11.311"></a><span id="l11.311" class="difflineplus">+</span>
<a href="#l11.312"></a><span id="l11.312" class="difflineplus">+    if (!node &amp;&amp; !targetURI)</span>
<a href="#l11.313"></a><span id="l11.313" class="difflineplus">+      return false;</span>
<a href="#l11.314"></a><span id="l11.314" class="difflineplus">+</span>
<a href="#l11.315"></a><span id="l11.315" class="difflineplus">+    // Show node.label as tooltip's title for non-Places nodes.</span>
<a href="#l11.316"></a><span id="l11.316" class="difflineplus">+    var title = node ? node.title : tooltipNode.label;</span>
<a href="#l11.317"></a><span id="l11.317" class="difflineplus">+</span>
<a href="#l11.318"></a><span id="l11.318" class="difflineplus">+    // Show URL only for Places URI-nodes or nodes with a targetURI attribute.</span>
<a href="#l11.319"></a><span id="l11.319" class="difflineplus">+    var url;</span>
<a href="#l11.320"></a><span id="l11.320" class="difflineplus">+    if (targetURI || PlacesUtils.nodeIsURI(node))</span>
<a href="#l11.321"></a><span id="l11.321" class="difflineplus">+      url = targetURI || node.uri;</span>
<a href="#l11.322"></a><span id="l11.322" class="difflineplus">+</span>
<a href="#l11.323"></a><span id="l11.323" class="difflineplus">+    // Show tooltip for containers only if their title is cropped.</span>
<a href="#l11.324"></a><span id="l11.324" class="difflineplus">+    if (!cropped &amp;&amp; !url)</span>
<a href="#l11.325"></a><span id="l11.325" class="difflineplus">+      return false;</span>
<a href="#l11.326"></a><span id="l11.326" class="difflineplus">+</span>
<a href="#l11.327"></a><span id="l11.327" class="difflineplus">+    var tooltipTitle = aDocument.getElementById(&quot;bhtTitleText&quot;);</span>
<a href="#l11.328"></a><span id="l11.328" class="difflineplus">+    tooltipTitle.hidden = (!title || (title == url));</span>
<a href="#l11.329"></a><span id="l11.329" class="difflineplus">+    if (!tooltipTitle.hidden)</span>
<a href="#l11.330"></a><span id="l11.330" class="difflineplus">+      tooltipTitle.textContent = title;</span>
<a href="#l11.331"></a><span id="l11.331" class="difflineplus">+</span>
<a href="#l11.332"></a><span id="l11.332" class="difflineplus">+    var tooltipUrl = aDocument.getElementById(&quot;bhtUrlText&quot;);</span>
<a href="#l11.333"></a><span id="l11.333" class="difflineplus">+    tooltipUrl.hidden = !url;</span>
<a href="#l11.334"></a><span id="l11.334" class="difflineplus">+    if (!tooltipUrl.hidden)</span>
<a href="#l11.335"></a><span id="l11.335" class="difflineplus">+      tooltipUrl.value = url;</span>
<a href="#l11.336"></a><span id="l11.336" class="difflineplus">+</span>
<a href="#l11.337"></a><span id="l11.337" class="difflineplus">+    // Show tooltip.</span>
<a href="#l11.338"></a><span id="l11.338" class="difflineplus">+    return true;</span>
<a href="#l11.339"></a><span id="l11.339" class="difflineplus">+  }</span>
<a href="#l11.340"></a><span id="l11.340" class="difflineplus">+};</span>
<a href="#l11.341"></a><span id="l11.341" class="difflineplus">+</span>
<a href="#l11.342"></a><span id="l11.342" class="difflineplus">+</span>
<a href="#l11.343"></a><span id="l11.343" class="difflineplus">+// Handles special drag and drop functionality for Places menus that are not</span>
<a href="#l11.344"></a><span id="l11.344" class="difflineplus">+// part of a Places view (e.g. the bookmarks menu in the menubar).</span>
<a href="#l11.345"></a><span id="l11.345" class="difflineplus">+var PlacesMenuDNDHandler = {</span>
<a href="#l11.346"></a><span id="l11.346" class="difflineplus">+  _springLoadDelay: 350, // milliseconds</span>
<a href="#l11.347"></a><span id="l11.347" class="difflineplus">+  _loadTimer: null,</span>
<a href="#l11.348"></a><span id="l11.348" class="difflineplus">+</span>
<a href="#l11.349"></a><span id="l11.349" class="difflineplus">+  /**</span>
<a href="#l11.350"></a><span id="l11.350" class="difflineplus">+   * Called when the user enters the &lt;menu&gt; element during a drag.</span>
<a href="#l11.351"></a><span id="l11.351" class="difflineplus">+   * @param   event</span>
<a href="#l11.352"></a><span id="l11.352" class="difflineplus">+   *          The DragEnter event that spawned the opening.</span>
<a href="#l11.353"></a><span id="l11.353" class="difflineplus">+   */</span>
<a href="#l11.354"></a><span id="l11.354" class="difflineplus">+  onDragEnter: function PMDH_onDragEnter(event) {</span>
<a href="#l11.355"></a><span id="l11.355" class="difflineplus">+    // Opening menus in a Places popup is handled by the view itself.</span>
<a href="#l11.356"></a><span id="l11.356" class="difflineplus">+    if (!this._isStaticContainer(event.target))</span>
<a href="#l11.357"></a><span id="l11.357" class="difflineplus">+      return;</span>
<a href="#l11.358"></a><span id="l11.358" class="difflineplus">+</span>
<a href="#l11.359"></a><span id="l11.359" class="difflineplus">+    this._loadTimer = Components.classes[&quot;@mozilla.org/timer;1&quot;]</span>
<a href="#l11.360"></a><span id="l11.360" class="difflineplus">+                                .createInstance(Components.interfaces.nsITimer);</span>
<a href="#l11.361"></a><span id="l11.361" class="difflineplus">+    this._loadTimer.initWithCallback(function() {</span>
<a href="#l11.362"></a><span id="l11.362" class="difflineplus">+      PlacesMenuDNDHandler._loadTimer = null;</span>
<a href="#l11.363"></a><span id="l11.363" class="difflineplus">+      event.target.lastChild.setAttribute(&quot;autoopened&quot;, &quot;true&quot;);</span>
<a href="#l11.364"></a><span id="l11.364" class="difflineplus">+      event.target.lastChild.showPopup(event.target.lastChild);</span>
<a href="#l11.365"></a><span id="l11.365" class="difflineplus">+    }, this._springLoadDelay, Components.interfaces.nsITimer.TYPE_ONE_SHOT);</span>
<a href="#l11.366"></a><span id="l11.366" class="difflineplus">+    event.preventDefault();</span>
<a href="#l11.367"></a><span id="l11.367" class="difflineplus">+    event.stopPropagation();</span>
<a href="#l11.368"></a><span id="l11.368" class="difflineplus">+  },</span>
<a href="#l11.369"></a><span id="l11.369" class="difflineplus">+</span>
<a href="#l11.370"></a><span id="l11.370" class="difflineplus">+  /**</span>
<a href="#l11.371"></a><span id="l11.371" class="difflineplus">+   * Handles dragleave on the &lt;menu&gt; element.</span>
<a href="#l11.372"></a><span id="l11.372" class="difflineplus">+   * @returns true if the element is a container element (menu or</span>
<a href="#l11.373"></a><span id="l11.373" class="difflineplus">+   *          menu-toolbarbutton), false otherwise.</span>
<a href="#l11.374"></a><span id="l11.374" class="difflineplus">+   */</span>
<a href="#l11.375"></a><span id="l11.375" class="difflineplus">+  onDragLeave: function PMDH_onDragLeave(event) {</span>
<a href="#l11.376"></a><span id="l11.376" class="difflineplus">+    // Closing menus in a Places popup is handled by the view itself.</span>
<a href="#l11.377"></a><span id="l11.377" class="difflineplus">+    if (!this._isStaticContainer(event.target))</span>
<a href="#l11.378"></a><span id="l11.378" class="difflineplus">+      return;</span>
<a href="#l11.379"></a><span id="l11.379" class="difflineplus">+</span>
<a href="#l11.380"></a><span id="l11.380" class="difflineplus">+    if (this._loadTimer) {</span>
<a href="#l11.381"></a><span id="l11.381" class="difflineplus">+      this._loadTimer.cancel();</span>
<a href="#l11.382"></a><span id="l11.382" class="difflineplus">+      this._loadTimer = null;</span>
<a href="#l11.383"></a><span id="l11.383" class="difflineplus">+    }</span>
<a href="#l11.384"></a><span id="l11.384" class="difflineplus">+    let closeTimer = Components.classes[&quot;@mozilla.org/timer;1&quot;]</span>
<a href="#l11.385"></a><span id="l11.385" class="difflineplus">+                               .createInstance(Components.interfaces.nsITimer);</span>
<a href="#l11.386"></a><span id="l11.386" class="difflineplus">+    closeTimer.initWithCallback(function() {</span>
<a href="#l11.387"></a><span id="l11.387" class="difflineplus">+      let node = PlacesControllerDragHelper.currentDropTarget;</span>
<a href="#l11.388"></a><span id="l11.388" class="difflineplus">+      let inHierarchy = false;</span>
<a href="#l11.389"></a><span id="l11.389" class="difflineplus">+      while (node &amp;&amp; !inHierarchy) {</span>
<a href="#l11.390"></a><span id="l11.390" class="difflineplus">+        inHierarchy = node == event.target;</span>
<a href="#l11.391"></a><span id="l11.391" class="difflineplus">+        node = node.parentNode;</span>
<a href="#l11.392"></a><span id="l11.392" class="difflineplus">+      }</span>
<a href="#l11.393"></a><span id="l11.393" class="difflineplus">+      if (!inHierarchy &amp;&amp; event.target.lastChild &amp;&amp;</span>
<a href="#l11.394"></a><span id="l11.394" class="difflineplus">+          event.target.lastChild.hasAttribute(&quot;autoopened&quot;)) {</span>
<a href="#l11.395"></a><span id="l11.395" class="difflineplus">+        event.target.lastChild.removeAttribute(&quot;autoopened&quot;);</span>
<a href="#l11.396"></a><span id="l11.396" class="difflineplus">+        event.target.lastChild.hidePopup();</span>
<a href="#l11.397"></a><span id="l11.397" class="difflineplus">+      }</span>
<a href="#l11.398"></a><span id="l11.398" class="difflineplus">+    }, this._springLoadDelay, Components.interfaces.nsITimer.TYPE_ONE_SHOT);</span>
<a href="#l11.399"></a><span id="l11.399" class="difflineplus">+  },</span>
<a href="#l11.400"></a><span id="l11.400" class="difflineplus">+</span>
<a href="#l11.401"></a><span id="l11.401" class="difflineplus">+  /**</span>
<a href="#l11.402"></a><span id="l11.402" class="difflineplus">+   * Determines if a XUL element represents a static container.</span>
<a href="#l11.403"></a><span id="l11.403" class="difflineplus">+   * @returns true if the element is a container element (menu or</span>
<a href="#l11.404"></a><span id="l11.404" class="difflineplus">+   *          menu-toolbarbutton), false otherwise.</span>
<a href="#l11.405"></a><span id="l11.405" class="difflineplus">+   */</span>
<a href="#l11.406"></a><span id="l11.406" class="difflineplus">+  _isStaticContainer: function PMDH__isContainer(node) {</span>
<a href="#l11.407"></a><span id="l11.407" class="difflineplus">+    let isMenu = node.localName == &quot;menu&quot; ||</span>
<a href="#l11.408"></a><span id="l11.408" class="difflineplus">+                 (node.localName == &quot;toolbarbutton&quot; &amp;&amp;</span>
<a href="#l11.409"></a><span id="l11.409" class="difflineplus">+                  node.getAttribute(&quot;type&quot;) == &quot;menu&quot;);</span>
<a href="#l11.410"></a><span id="l11.410" class="difflineplus">+    let isStatic = !(&quot;_placesNode&quot; in node) &amp;&amp; node.lastChild &amp;&amp;</span>
<a href="#l11.411"></a><span id="l11.411" class="difflineplus">+                   node.lastChild.hasAttribute(&quot;placespopup&quot;) &amp;&amp;</span>
<a href="#l11.412"></a><span id="l11.412" class="difflineplus">+                   !node.parentNode.hasAttribute(&quot;placespopup&quot;);</span>
<a href="#l11.413"></a><span id="l11.413" class="difflineplus">+    return isMenu &amp;&amp; isStatic;</span>
<a href="#l11.414"></a><span id="l11.414" class="difflineplus">+  },</span>
<a href="#l11.415"></a><span id="l11.415" class="difflineplus">+</span>
<a href="#l11.416"></a><span id="l11.416" class="difflineplus">+  /**</span>
<a href="#l11.417"></a><span id="l11.417" class="difflineplus">+   * Called when the user drags over the &lt;menu&gt; element.</span>
<a href="#l11.418"></a><span id="l11.418" class="difflineplus">+   * @param   event</span>
<a href="#l11.419"></a><span id="l11.419" class="difflineplus">+   *          The DragOver event.</span>
<a href="#l11.420"></a><span id="l11.420" class="difflineplus">+   */</span>
<a href="#l11.421"></a><span id="l11.421" class="difflineplus">+  onDragOver: function PMDH_onDragOver(event) {</span>
<a href="#l11.422"></a><span id="l11.422" class="difflineplus">+    let ip = new InsertionPoint(PlacesUtils.bookmarksMenuFolderId,</span>
<a href="#l11.423"></a><span id="l11.423" class="difflineplus">+                                PlacesUtils.bookmarks.DEFAULT_INDEX,</span>
<a href="#l11.424"></a><span id="l11.424" class="difflineplus">+                                Components.interfaces.nsITreeView.DROP_ON);</span>
<a href="#l11.425"></a><span id="l11.425" class="difflineplus">+    if (ip &amp;&amp; PlacesControllerDragHelper.canDrop(ip, event.dataTransfer))</span>
<a href="#l11.426"></a><span id="l11.426" class="difflineplus">+      event.preventDefault();</span>
<a href="#l11.427"></a><span id="l11.427" class="difflineplus">+</span>
<a href="#l11.428"></a><span id="l11.428" class="difflineplus">+    event.stopPropagation();</span>
<a href="#l11.429"></a><span id="l11.429" class="difflineplus">+  },</span>
<a href="#l11.430"></a><span id="l11.430" class="difflineplus">+</span>
<a href="#l11.431"></a><span id="l11.431" class="difflineplus">+  /**</span>
<a href="#l11.432"></a><span id="l11.432" class="difflineplus">+   * Called when the user drops on the &lt;menu&gt; element.</span>
<a href="#l11.433"></a><span id="l11.433" class="difflineplus">+   * @param   event</span>
<a href="#l11.434"></a><span id="l11.434" class="difflineplus">+   *          The Drop event.</span>
<a href="#l11.435"></a><span id="l11.435" class="difflineplus">+   */</span>
<a href="#l11.436"></a><span id="l11.436" class="difflineplus">+  onDrop: function PMDH_onDrop(event) {</span>
<a href="#l11.437"></a><span id="l11.437" class="difflineplus">+    // Put the item at the end of bookmark menu.</span>
<a href="#l11.438"></a><span id="l11.438" class="difflineplus">+    let ip = new InsertionPoint(PlacesUtils.bookmarksMenuFolderId,</span>
<a href="#l11.439"></a><span id="l11.439" class="difflineplus">+                                PlacesUtils.bookmarks.DEFAULT_INDEX,</span>
<a href="#l11.440"></a><span id="l11.440" class="difflineplus">+                                Components.interfaces.nsITreeView.DROP_ON);</span>
<a href="#l11.441"></a><span id="l11.441" class="difflineplus">+    PlacesControllerDragHelper.onDrop(ip, event.dataTransfer);</span>
<a href="#l11.442"></a><span id="l11.442" class="difflineplus">+    event.stopPropagation();</span>
<a href="#l11.443"></a><span id="l11.443" class="difflineplus">+  }</span>
<a href="#l11.444"></a><span id="l11.444" class="difflineplus">+};</span>
<a href="#l11.445"></a><span id="l11.445" class="difflineplus">+</span>
<a href="#l11.446"></a><span id="l11.446" class="difflineplus">+</span>
<a href="#l11.447"></a><span id="l11.447" class="difflineplus">+// This object handles the initialization and uninitialization of the bookmarks</span>
<a href="#l11.448"></a><span id="l11.448" class="difflineplus">+// toolbar.  updateState is called when the browser window is opened and</span>
<a href="#l11.449"></a><span id="l11.449" class="difflineplus">+// after closing the toolbar customization dialog.</span>
<a href="#l11.450"></a><span id="l11.450" class="difflineplus">+let PlacesToolbarHelper = {</span>
<a href="#l11.451"></a><span id="l11.451" class="difflineplus">+  _place: &quot;place:folder=TOOLBAR&quot;,</span>
<a href="#l11.452"></a><span id="l11.452" class="difflineplus">+  get _viewElt() {</span>
<a href="#l11.453"></a><span id="l11.453" class="difflineplus">+    return document.getElementById(&quot;PlacesToolbar&quot;);</span>
<a href="#l11.454"></a><span id="l11.454" class="difflineplus">+  },</span>
<a href="#l11.455"></a><span id="l11.455" class="difflineplus">+</span>
<a href="#l11.456"></a><span id="l11.456" class="difflineplus">+  init: function PTH_init() {</span>
<a href="#l11.457"></a><span id="l11.457" class="difflineplus">+    if (this._viewElt)</span>
<a href="#l11.458"></a><span id="l11.458" class="difflineplus">+      new PlacesToolbar(this._place);</span>
<a href="#l11.459"></a><span id="l11.459" class="difflineplus">+  },</span>
<a href="#l11.460"></a><span id="l11.460" class="difflineplus">+</span>
<a href="#l11.461"></a><span id="l11.461" class="difflineplus">+  customizeStart: function PTH_customizeStart() {</span>
<a href="#l11.462"></a><span id="l11.462" class="difflineplus">+    let viewElt = this._viewElt;</span>
<a href="#l11.463"></a><span id="l11.463" class="difflineplus">+    if (viewElt &amp;&amp; viewElt._placesView)</span>
<a href="#l11.464"></a><span id="l11.464" class="difflineplus">+      viewElt._placesView.uninit();</span>
<a href="#l11.465"></a><span id="l11.465" class="difflineplus">+  },</span>
<a href="#l11.466"></a><span id="l11.466" class="difflineplus">+</span>
<a href="#l11.467"></a><span id="l11.467" class="difflineplus">+  customizeDone: function PTH_customizeDone() {</span>
<a href="#l11.468"></a><span id="l11.468" class="difflineplus">+    this.init();</span>
<a href="#l11.469"></a><span id="l11.469" class="difflineplus">+  }</span>
<a href="#l11.470"></a><span id="l11.470" class="difflineplus">+};</span>
<a href="#l11.471"></a><span id="l11.471" class="difflineplus">+</span>
<a href="#l11.472"></a><span id="l11.472" class="difflineplus">+</span>
<a href="#l11.473"></a><span id="l11.473" class="difflineplus">+// Handles the bookmarks menu button shown when the main menubar is hidden.</span>
<a href="#l11.474"></a><span id="l11.474" class="difflineplus">+let BookmarksMenuButton = {</span>
<a href="#l11.475"></a><span id="l11.475" class="difflineplus">+  _popupInitialized: false,</span>
<a href="#l11.476"></a><span id="l11.476" class="difflineplus">+  onPopupShowing: function BMB_onPopupShowing(event) {</span>
<a href="#l11.477"></a><span id="l11.477" class="difflineplus">+    if (!this._popupInitialized) {</span>
<a href="#l11.478"></a><span id="l11.478" class="difflineplus">+      // First popupshowing event, initialize immutable attributes.</span>
<a href="#l11.479"></a><span id="l11.479" class="difflineplus">+      this._popupInitialized = true;</span>
<a href="#l11.480"></a><span id="l11.480" class="difflineplus">+</span>
<a href="#l11.481"></a><span id="l11.481" class="difflineplus">+      // Need to set the label on Unsorted Bookmarks menu.</span>
<a href="#l11.482"></a><span id="l11.482" class="difflineplus">+      let unsortedBookmarksElt =</span>
<a href="#l11.483"></a><span id="l11.483" class="difflineplus">+        document.getElementById(&quot;BMB_unsortedBookmarksFolderMenu&quot;);</span>
<a href="#l11.484"></a><span id="l11.484" class="difflineplus">+      unsortedBookmarksElt.label =</span>
<a href="#l11.485"></a><span id="l11.485" class="difflineplus">+        PlacesUtils.getString(&quot;UnsortedBookmarksFolderTitle&quot;);</span>
<a href="#l11.486"></a><span id="l11.486" class="difflineplus">+    }</span>
<a href="#l11.487"></a><span id="l11.487" class="difflineplus">+  },</span>
<a href="#l11.488"></a><span id="l11.488" class="difflineplus">+};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1">copy from suite/common/history/placesOverlay.xul</span>
<a href="#l12.2"></a><span id="l12.2">copy to suite/common/bookmarks/placesOverlay.xul</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineminus">--- a/suite/common/history/placesOverlay.xul</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineplus">+++ b/suite/common/bookmarks/placesOverlay.xul</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineat">@@ -6,200 +6,249 @@</span>
<a href="#l12.6"></a><span id="l12.6">    - the License. You may obtain a copy of the License at</span>
<a href="#l12.7"></a><span id="l12.7">    - http://www.mozilla.org/MPL/</span>
<a href="#l12.8"></a><span id="l12.8">    -</span>
<a href="#l12.9"></a><span id="l12.9">    - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l12.10"></a><span id="l12.10">    - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l12.11"></a><span id="l12.11">    - for the specific language governing rights and limitations under the</span>
<a href="#l12.12"></a><span id="l12.12">    - License.</span>
<a href="#l12.13"></a><span id="l12.13">    -</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-   - The Original Code is mozilla.org code.</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+   - The Original Code is the Shared Places Commands.</span>
<a href="#l12.16"></a><span id="l12.16">    -</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineminus">-   - Netscape Communications Corporation.</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 1998</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineplus">+   - The Initial Developer of the Original Code is Google Inc.</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineplus">+   - Portions created by the Initial Developer are Copyright (C) 2005-2006</span>
<a href="#l12.22"></a><span id="l12.22">    - the Initial Developer. All Rights Reserved.</span>
<a href="#l12.23"></a><span id="l12.23">    -</span>
<a href="#l12.24"></a><span id="l12.24">    - Contributor(s):</span>
<a href="#l12.25"></a><span id="l12.25">    -   Ben Goodger &lt;beng@google.com&gt;</span>
<a href="#l12.26"></a><span id="l12.26">    -   Asaf Romano &lt;mano@mozilla.com&gt;</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineminus">-   -   Robert Kaiser &lt;kairo@kairo.at&gt;</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineplus">+   -   Michael Kohler &lt;michaelkohler@live.com&gt;</span>
<a href="#l12.29"></a><span id="l12.29">    -</span>
<a href="#l12.30"></a><span id="l12.30">    - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l12.31"></a><span id="l12.31">    - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l12.32"></a><span id="l12.32">    - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l12.33"></a><span id="l12.33">    - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l12.34"></a><span id="l12.34">    - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l12.35"></a><span id="l12.35">    - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l12.36"></a><span id="l12.36">    - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l12.37"></a><span id="l12.37">    - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineminus">-   - and other provisions required by the LGPL or the GPL. If you do not delete</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineplus">+   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l12.40"></a><span id="l12.40">    - the provisions above, a recipient may use your version of this file under</span>
<a href="#l12.41"></a><span id="l12.41">    - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l12.42"></a><span id="l12.42">    -</span>
<a href="#l12.43"></a><span id="l12.43">    - ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l12.44"></a><span id="l12.44"> </span>
<a href="#l12.45"></a><span id="l12.45"> &lt;!DOCTYPE overlay [</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineminus">-&lt;!ENTITY % historyDTD SYSTEM &quot;chrome://communicator/locale/history/history.dtd&quot;&gt;</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineminus">-%historyDTD;</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineminus">-&lt;!ENTITY % utilityDTD SYSTEM &quot;chrome://communicator/locale/utilityOverlay.dtd&quot;&gt;</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineminus">-%utilityDTD;</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineplus">+&lt;!ENTITY % placesDTD SYSTEM &quot;chrome://communicator/locale/bookmarks/places.dtd&quot;&gt;</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineplus">+%placesDTD;</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineplus">+&lt;!ENTITY % editMenuOverlayDTD SYSTEM &quot;chrome://global/locale/editMenuOverlay.dtd&quot;&gt;</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineplus">+%editMenuOverlayDTD;</span>
<a href="#l12.54"></a><span id="l12.54"> ]&gt;</span>
<a href="#l12.55"></a><span id="l12.55"> </span>
<a href="#l12.56"></a><span id="l12.56" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://communicator/content/history/places.css&quot;?&gt;</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://communicator/skin/bookmarks/bookmarks.css&quot;?&gt;</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineminus">-</span>
<a href="#l12.59"></a><span id="l12.59"> &lt;overlay id=&quot;placesOverlay&quot;</span>
<a href="#l12.60"></a><span id="l12.60">          xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>
<a href="#l12.61"></a><span id="l12.61">          xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l12.62"></a><span id="l12.62"> </span>
<a href="#l12.63"></a><span id="l12.63">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l12.64"></a><span id="l12.64">           src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l12.65"></a><span id="l12.65" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot;&gt;&lt;![CDATA[</span>
<a href="#l12.66"></a><span id="l12.66" class="difflineplus">+    Components.utils.import(&quot;resource://gre/modules/PlacesUtils.jsm&quot;);</span>
<a href="#l12.67"></a><span id="l12.67" class="difflineplus">+    Components.utils.import(&quot;resource:///modules/PlacesUIUtils.jsm&quot;);</span>
<a href="#l12.68"></a><span id="l12.68" class="difflineplus">+  ]]&gt;&lt;/script&gt;</span>
<a href="#l12.69"></a><span id="l12.69">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l12.70"></a><span id="l12.70" class="difflineminus">-          src=&quot;chrome://communicator/content/bookmarks/bookmarks.js&quot;/&gt;</span>
<a href="#l12.71"></a><span id="l12.71" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l12.72"></a><span id="l12.72" class="difflineminus">-          src=&quot;chrome://communicator/content/history/history.js&quot;/&gt;</span>
<a href="#l12.73"></a><span id="l12.73" class="difflineplus">+          src=&quot;chrome://communicator/content/places/controller.js&quot;/&gt;</span>
<a href="#l12.74"></a><span id="l12.74">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l12.75"></a><span id="l12.75" class="difflineminus">-          src=&quot;chrome://communicator/content/history/utils.js&quot;/&gt;</span>
<a href="#l12.76"></a><span id="l12.76" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l12.77"></a><span id="l12.77" class="difflineminus">-          src=&quot;chrome://communicator/content/history/controller.js&quot;/&gt;</span>
<a href="#l12.78"></a><span id="l12.78" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l12.79"></a><span id="l12.79" class="difflineminus">-          src=&quot;chrome://communicator/content/history/treeView.js&quot;/&gt;</span>
<a href="#l12.80"></a><span id="l12.80" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l12.81"></a><span id="l12.81" class="difflineminus">-          src=&quot;chrome://global/content/nsDragAndDrop.js&quot;/&gt;</span>
<a href="#l12.82"></a><span id="l12.82" class="difflineplus">+          src=&quot;chrome://communicator/content/places/treeView.js&quot;/&gt;</span>
<a href="#l12.83"></a><span id="l12.83" class="difflineplus">+</span>
<a href="#l12.84"></a><span id="l12.84" class="difflineplus">+  &lt;!-- Bookmarks and history tooltip --&gt;</span>
<a href="#l12.85"></a><span id="l12.85" class="difflineplus">+  &lt;tooltip id=&quot;bhTooltip&quot; noautohide=&quot;true&quot;</span>
<a href="#l12.86"></a><span id="l12.86" class="difflineplus">+           onpopupshowing=&quot;return window.top.BookmarksEventHandler.fillInBHTooltip(document, event)&quot;&gt;</span>
<a href="#l12.87"></a><span id="l12.87" class="difflineplus">+    &lt;vbox id=&quot;bhTooltipTextBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l12.88"></a><span id="l12.88" class="difflineplus">+      &lt;label id=&quot;bhtTitleText&quot; class=&quot;tooltip-label&quot; /&gt;</span>
<a href="#l12.89"></a><span id="l12.89" class="difflineplus">+      &lt;label id=&quot;bhtUrlText&quot; crop=&quot;center&quot; class=&quot;tooltip-label&quot; /&gt;</span>
<a href="#l12.90"></a><span id="l12.90" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l12.91"></a><span id="l12.91" class="difflineplus">+  &lt;/tooltip&gt;</span>
<a href="#l12.92"></a><span id="l12.92"> </span>
<a href="#l12.93"></a><span id="l12.93">   &lt;commandset id=&quot;placesCommands&quot;</span>
<a href="#l12.94"></a><span id="l12.94">               commandupdater=&quot;true&quot;</span>
<a href="#l12.95"></a><span id="l12.95" class="difflineminus">-              events=&quot;focus,sort&quot;</span>
<a href="#l12.96"></a><span id="l12.96" class="difflineminus">-              oncommandupdate=&quot;updateHistoryCommands(this.firstChild);&quot;&gt;</span>
<a href="#l12.97"></a><span id="l12.97" class="difflineplus">+              events=&quot;focus,sort,places&quot;</span>
<a href="#l12.98"></a><span id="l12.98" class="difflineplus">+              oncommandupdate=&quot;goUpdatePlacesCommands();&quot;&gt;</span>
<a href="#l12.99"></a><span id="l12.99">     &lt;command id=&quot;placesCmd_open&quot;</span>
<a href="#l12.100"></a><span id="l12.100" class="difflineminus">-             oncommand=&quot;goDoCommand('placesCmd_open');&quot;/&gt;</span>
<a href="#l12.101"></a><span id="l12.101" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_open');&quot;/&gt;</span>
<a href="#l12.102"></a><span id="l12.102">     &lt;command id=&quot;placesCmd_open:window&quot;</span>
<a href="#l12.103"></a><span id="l12.103" class="difflineminus">-             oncommand=&quot;goDoCommand('placesCmd_open:window');&quot;/&gt;</span>
<a href="#l12.104"></a><span id="l12.104" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_open:window');&quot;/&gt;</span>
<a href="#l12.105"></a><span id="l12.105">     &lt;command id=&quot;placesCmd_open:tab&quot;</span>
<a href="#l12.106"></a><span id="l12.106" class="difflineminus">-             oncommand=&quot;goDoCommand('placesCmd_open:tab');&quot;/&gt;</span>
<a href="#l12.107"></a><span id="l12.107" class="difflineminus">-    &lt;command id=&quot;placesCmd_delete:hostname&quot;</span>
<a href="#l12.108"></a><span id="l12.108" class="difflineminus">-             oncommand=&quot;goDoCommand('placesCmd_delete:hostname');&quot;/&gt;</span>
<a href="#l12.109"></a><span id="l12.109" class="difflineminus">-    &lt;command id=&quot;placesCmd_delete:domain&quot;</span>
<a href="#l12.110"></a><span id="l12.110" class="difflineminus">-             oncommand=&quot;goDoCommand('placesCmd_delete:domain');&quot;/&gt;</span>
<a href="#l12.111"></a><span id="l12.111" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_open:tab');&quot;/&gt;</span>
<a href="#l12.112"></a><span id="l12.112" class="difflineplus">+</span>
<a href="#l12.113"></a><span id="l12.113" class="difflineplus">+    &lt;command id=&quot;placesCmd_new:bookmark&quot;</span>
<a href="#l12.114"></a><span id="l12.114" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_new:bookmark');&quot;/&gt;</span>
<a href="#l12.115"></a><span id="l12.115" class="difflineplus">+    &lt;command id=&quot;placesCmd_new:livemark&quot;</span>
<a href="#l12.116"></a><span id="l12.116" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_new:livemark');&quot;/&gt;</span>
<a href="#l12.117"></a><span id="l12.117" class="difflineplus">+    &lt;command id=&quot;placesCmd_new:folder&quot;</span>
<a href="#l12.118"></a><span id="l12.118" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_new:folder');&quot;/&gt;</span>
<a href="#l12.119"></a><span id="l12.119" class="difflineplus">+    &lt;command id=&quot;placesCmd_new:separator&quot;</span>
<a href="#l12.120"></a><span id="l12.120" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_new:separator');&quot;/&gt;</span>
<a href="#l12.121"></a><span id="l12.121" class="difflineplus">+    &lt;command id=&quot;placesCmd_show:info&quot;</span>
<a href="#l12.122"></a><span id="l12.122" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_show:info');&quot;/&gt;</span>
<a href="#l12.123"></a><span id="l12.123" class="difflineplus">+    &lt;command id=&quot;placesCmd_rename&quot;</span>
<a href="#l12.124"></a><span id="l12.124" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_show:info');&quot;</span>
<a href="#l12.125"></a><span id="l12.125" class="difflineplus">+             observes=&quot;placesCmd_show:info&quot;/&gt;</span>
<a href="#l12.126"></a><span id="l12.126" class="difflineplus">+    &lt;command id=&quot;placesCmd_reload&quot;</span>
<a href="#l12.127"></a><span id="l12.127" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_reload');&quot;/&gt;</span>
<a href="#l12.128"></a><span id="l12.128" class="difflineplus">+    &lt;command id=&quot;placesCmd_reloadMicrosummary&quot;</span>
<a href="#l12.129"></a><span id="l12.129" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_reloadMicrosummary');&quot;/&gt;</span>
<a href="#l12.130"></a><span id="l12.130" class="difflineplus">+    &lt;command id=&quot;placesCmd_sortBy:name&quot;</span>
<a href="#l12.131"></a><span id="l12.131" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_sortBy:name');&quot;/&gt;</span>
<a href="#l12.132"></a><span id="l12.132" class="difflineplus">+    &lt;command id=&quot;placesCmd_moveBookmarks&quot;</span>
<a href="#l12.133"></a><span id="l12.133" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_moveBookmarks');&quot;/&gt;</span>
<a href="#l12.134"></a><span id="l12.134" class="difflineplus">+    &lt;command id=&quot;placesCmd_deleteDataHost&quot;</span>
<a href="#l12.135"></a><span id="l12.135" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_deleteDataHost');&quot;/&gt;</span>
<a href="#l12.136"></a><span id="l12.136" class="difflineplus">+    &lt;command id=&quot;placesCmd_createBookmark&quot;</span>
<a href="#l12.137"></a><span id="l12.137" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_createBookmark');&quot;/&gt;</span>
<a href="#l12.138"></a><span id="l12.138" class="difflineplus">+</span>
<a href="#l12.139"></a><span id="l12.139" class="difflineplus">+    &lt;!-- Special versions of cut/copy/paste/delete which check for an open context menu. --&gt;</span>
<a href="#l12.140"></a><span id="l12.140" class="difflineplus">+    &lt;command id=&quot;placesCmd_cut&quot;</span>
<a href="#l12.141"></a><span id="l12.141" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_cut');&quot;/&gt;</span>
<a href="#l12.142"></a><span id="l12.142" class="difflineplus">+    &lt;command id=&quot;placesCmd_copy&quot;</span>
<a href="#l12.143"></a><span id="l12.143" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_copy');&quot;/&gt;</span>
<a href="#l12.144"></a><span id="l12.144" class="difflineplus">+    &lt;command id=&quot;placesCmd_paste&quot;</span>
<a href="#l12.145"></a><span id="l12.145" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_paste');&quot;/&gt;</span>
<a href="#l12.146"></a><span id="l12.146" class="difflineplus">+    &lt;command id=&quot;placesCmd_delete&quot;</span>
<a href="#l12.147"></a><span id="l12.147" class="difflineplus">+             oncommand=&quot;goDoPlacesCommand('placesCmd_delete');&quot;/&gt;</span>
<a href="#l12.148"></a><span id="l12.148">   &lt;/commandset&gt;</span>
<a href="#l12.149"></a><span id="l12.149"> </span>
<a href="#l12.150"></a><span id="l12.150">   &lt;menupopup id=&quot;placesContext&quot;</span>
<a href="#l12.151"></a><span id="l12.151" class="difflineminus">-         onpopupshowing=&quot;this._view = PlacesUIUtils.getViewForNode(document.popupNode);</span>
<a href="#l12.152"></a><span id="l12.152" class="difflineminus">-                         return this._view.buildContextMenu(this);&quot;</span>
<a href="#l12.153"></a><span id="l12.153" class="difflineminus">-         onpopuphiding=&quot;this._view.destroyContextMenu();&quot;&gt;</span>
<a href="#l12.154"></a><span id="l12.154" class="difflineplus">+             onpopupshowing=&quot;this._view = PlacesUIUtils.getViewForNode(document.popupNode);</span>
<a href="#l12.155"></a><span id="l12.155" class="difflineplus">+                             return this._view.buildContextMenu(this);&quot;</span>
<a href="#l12.156"></a><span id="l12.156" class="difflineplus">+             onpopuphiding=&quot;this._view.destroyContextMenu();&quot;&gt;</span>
<a href="#l12.157"></a><span id="l12.157">     &lt;menuitem id=&quot;placesContext_open&quot;</span>
<a href="#l12.158"></a><span id="l12.158">               command=&quot;placesCmd_open&quot;</span>
<a href="#l12.159"></a><span id="l12.159">               label=&quot;&amp;cmd.open.label;&quot;</span>
<a href="#l12.160"></a><span id="l12.160">               accesskey=&quot;&amp;cmd.open.accesskey;&quot;</span>
<a href="#l12.161"></a><span id="l12.161">               default=&quot;true&quot;</span>
<a href="#l12.162"></a><span id="l12.162">               selectiontype=&quot;single&quot;</span>
<a href="#l12.163"></a><span id="l12.163">               selection=&quot;link&quot;/&gt;</span>
<a href="#l12.164"></a><span id="l12.164">     &lt;menuitem id=&quot;placesContext_open:newwindow&quot;</span>
<a href="#l12.165"></a><span id="l12.165">               command=&quot;placesCmd_open:window&quot;</span>
<a href="#l12.166"></a><span id="l12.166">               label=&quot;&amp;cmd.open_window.label;&quot;</span>
<a href="#l12.167"></a><span id="l12.167">               accesskey=&quot;&amp;cmd.open_window.accesskey;&quot;</span>
<a href="#l12.168"></a><span id="l12.168" class="difflineplus">+              selectiontype=&quot;single&quot;</span>
<a href="#l12.169"></a><span id="l12.169">               selection=&quot;link&quot;/&gt;</span>
<a href="#l12.170"></a><span id="l12.170">     &lt;menuitem id=&quot;placesContext_open:newtab&quot;</span>
<a href="#l12.171"></a><span id="l12.171">               command=&quot;placesCmd_open:tab&quot;</span>
<a href="#l12.172"></a><span id="l12.172">               label=&quot;&amp;cmd.open_tab.label;&quot;</span>
<a href="#l12.173"></a><span id="l12.173">               accesskey=&quot;&amp;cmd.open_tab.accesskey;&quot;</span>
<a href="#l12.174"></a><span id="l12.174" class="difflineplus">+              selectiontype=&quot;single&quot;</span>
<a href="#l12.175"></a><span id="l12.175" class="difflineplus">+              selection=&quot;link&quot;/&gt;</span>
<a href="#l12.176"></a><span id="l12.176" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_openContainer:tabs&quot;</span>
<a href="#l12.177"></a><span id="l12.177" class="difflineplus">+              oncommand=&quot;var view = PlacesUIUtils.getViewForNode(document.popupNode);</span>
<a href="#l12.178"></a><span id="l12.178" class="difflineplus">+                         view.controller.openSelectionInTabs(event);&quot;</span>
<a href="#l12.179"></a><span id="l12.179" class="difflineplus">+              onclick=&quot;checkForMiddleClick(this, event);&quot;</span>
<a href="#l12.180"></a><span id="l12.180" class="difflineplus">+              label=&quot;&amp;cmd.open_all_in_tabs.label;&quot;</span>
<a href="#l12.181"></a><span id="l12.181" class="difflineplus">+              accesskey=&quot;&amp;cmd.open_all_in_tabs.accesskey;&quot;</span>
<a href="#l12.182"></a><span id="l12.182" class="difflineplus">+              selectiontype=&quot;single&quot;</span>
<a href="#l12.183"></a><span id="l12.183" class="difflineplus">+              selection=&quot;folder|host|query&quot;/&gt;</span>
<a href="#l12.184"></a><span id="l12.184" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_openLinks:tabs&quot;</span>
<a href="#l12.185"></a><span id="l12.185" class="difflineplus">+              oncommand=&quot;var view = PlacesUIUtils.getViewForNode(document.popupNode);</span>
<a href="#l12.186"></a><span id="l12.186" class="difflineplus">+                         view.controller.openSelectionInTabs(event);&quot;</span>
<a href="#l12.187"></a><span id="l12.187" class="difflineplus">+              onclick=&quot;checkForMiddleClick(this, event);&quot;</span>
<a href="#l12.188"></a><span id="l12.188" class="difflineplus">+              label=&quot;&amp;cmd.open_all_in_tabs.label;&quot;</span>
<a href="#l12.189"></a><span id="l12.189" class="difflineplus">+              accesskey=&quot;&amp;cmd.open_all_in_tabs.accesskey;&quot;</span>
<a href="#l12.190"></a><span id="l12.190" class="difflineplus">+              selectiontype=&quot;multiple&quot;</span>
<a href="#l12.191"></a><span id="l12.191">               selection=&quot;link&quot;/&gt;</span>
<a href="#l12.192"></a><span id="l12.192">     &lt;menuseparator id=&quot;placesContext_openSeparator&quot;/&gt;</span>
<a href="#l12.193"></a><span id="l12.193" class="difflineminus">-    &lt;menuitem id=&quot;addBookmarkContextItem&quot;</span>
<a href="#l12.194"></a><span id="l12.194" class="difflineminus">-              label=&quot;&amp;bookmarkLinkCmd.label;&quot;</span>
<a href="#l12.195"></a><span id="l12.195" class="difflineminus">-              accesskey=&quot;&amp;bookmarkLinkCmd.accesskey;&quot;</span>
<a href="#l12.196"></a><span id="l12.196" class="difflineminus">-              selectiontype=&quot;single&quot;</span>
<a href="#l12.197"></a><span id="l12.197" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_new:bookmark&quot;</span>
<a href="#l12.198"></a><span id="l12.198" class="difflineplus">+              command=&quot;placesCmd_new:bookmark&quot;</span>
<a href="#l12.199"></a><span id="l12.199" class="difflineplus">+              label=&quot;&amp;cmd.new_bookmark.label;&quot;</span>
<a href="#l12.200"></a><span id="l12.200" class="difflineplus">+              accesskey=&quot;&amp;cmd.new_bookmark.accesskey;&quot;</span>
<a href="#l12.201"></a><span id="l12.201" class="difflineplus">+              selection=&quot;any&quot;</span>
<a href="#l12.202"></a><span id="l12.202" class="difflineplus">+              hideifnoinsertionpoint=&quot;true&quot;/&gt;</span>
<a href="#l12.203"></a><span id="l12.203" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_new:folder&quot;</span>
<a href="#l12.204"></a><span id="l12.204" class="difflineplus">+              command=&quot;placesCmd_new:folder&quot;</span>
<a href="#l12.205"></a><span id="l12.205" class="difflineplus">+              label=&quot;&amp;cmd.new_folder.label;&quot;</span>
<a href="#l12.206"></a><span id="l12.206" class="difflineplus">+              accesskey=&quot;&amp;cmd.context_new_folder.accesskey;&quot;</span>
<a href="#l12.207"></a><span id="l12.207" class="difflineplus">+              selection=&quot;any&quot;</span>
<a href="#l12.208"></a><span id="l12.208" class="difflineplus">+              hideifnoinsertionpoint=&quot;true&quot;/&gt;</span>
<a href="#l12.209"></a><span id="l12.209" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_new:separator&quot;</span>
<a href="#l12.210"></a><span id="l12.210" class="difflineplus">+              command=&quot;placesCmd_new:separator&quot;</span>
<a href="#l12.211"></a><span id="l12.211" class="difflineplus">+              label=&quot;&amp;cmd.new_separator.label;&quot;</span>
<a href="#l12.212"></a><span id="l12.212" class="difflineplus">+              accesskey=&quot;&amp;cmd.new_separator.accesskey;&quot;</span>
<a href="#l12.213"></a><span id="l12.213" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.214"></a><span id="l12.214" class="difflineplus">+              selection=&quot;any&quot;</span>
<a href="#l12.215"></a><span id="l12.215" class="difflineplus">+              hideifnoinsertionpoint=&quot;true&quot;/&gt;</span>
<a href="#l12.216"></a><span id="l12.216" class="difflineplus">+    &lt;menuseparator id=&quot;placesContext_newSeparator&quot;/&gt;</span>
<a href="#l12.217"></a><span id="l12.217" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_createBookmark&quot;</span>
<a href="#l12.218"></a><span id="l12.218" class="difflineplus">+              command=&quot;placesCmd_createBookmark&quot;</span>
<a href="#l12.219"></a><span id="l12.219" class="difflineplus">+              label=&quot;&amp;cmd.bookmarkLink.label;&quot;</span>
<a href="#l12.220"></a><span id="l12.220" class="difflineplus">+              accesskey=&quot;&amp;cmd.bookmarkLink.accesskey;&quot;</span>
<a href="#l12.221"></a><span id="l12.221">               selection=&quot;link&quot;</span>
<a href="#l12.222"></a><span id="l12.222" class="difflineminus">-              oncommand=&quot;historyAddBookmarks();&quot;/&gt;</span>
<a href="#l12.223"></a><span id="l12.223" class="difflineminus">-    &lt;menuitem id=&quot;addBookmarkContextItem&quot;</span>
<a href="#l12.224"></a><span id="l12.224" class="difflineminus">-              label=&quot;&amp;bookmarkLinksCmd.label;&quot;</span>
<a href="#l12.225"></a><span id="l12.225" class="difflineminus">-              accesskey=&quot;&amp;bookmarkLinksCmd.accesskey;&quot;</span>
<a href="#l12.226"></a><span id="l12.226" class="difflineminus">-              selectiontype=&quot;multiple&quot;</span>
<a href="#l12.227"></a><span id="l12.227" class="difflineminus">-              selection=&quot;link&quot;</span>
<a href="#l12.228"></a><span id="l12.228" class="difflineminus">-              oncommand=&quot;historyAddBookmarks();&quot;/&gt;</span>
<a href="#l12.229"></a><span id="l12.229" class="difflineplus">+              forcehideselection=&quot;bookmark|tagChild&quot;/&gt;</span>
<a href="#l12.230"></a><span id="l12.230" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_cut&quot;</span>
<a href="#l12.231"></a><span id="l12.231" class="difflineplus">+              command=&quot;placesCmd_cut&quot;</span>
<a href="#l12.232"></a><span id="l12.232" class="difflineplus">+              label=&quot;&amp;cutCmd.label;&quot;</span>
<a href="#l12.233"></a><span id="l12.233" class="difflineplus">+              accesskey=&quot;&amp;cutCmd.accesskey;&quot;</span>
<a href="#l12.234"></a><span id="l12.234" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.235"></a><span id="l12.235" class="difflineplus">+              selection=&quot;bookmark|folder|separator|query&quot;</span>
<a href="#l12.236"></a><span id="l12.236" class="difflineplus">+              forcehideselection=&quot;tagChild|livemarkChild&quot;/&gt;</span>
<a href="#l12.237"></a><span id="l12.237">     &lt;menuitem id=&quot;placesContext_copy&quot;</span>
<a href="#l12.238"></a><span id="l12.238" class="difflineminus">-              command=&quot;cmd_copy&quot;</span>
<a href="#l12.239"></a><span id="l12.239" class="difflineplus">+              command=&quot;placesCmd_copy&quot;</span>
<a href="#l12.240"></a><span id="l12.240">               label=&quot;&amp;copyCmd.label;&quot;</span>
<a href="#l12.241"></a><span id="l12.241" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.242"></a><span id="l12.242">               accesskey=&quot;&amp;copyCmd.accesskey;&quot;</span>
<a href="#l12.243"></a><span id="l12.243">               selection=&quot;any&quot;/&gt;</span>
<a href="#l12.244"></a><span id="l12.244" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_paste&quot;</span>
<a href="#l12.245"></a><span id="l12.245" class="difflineplus">+              command=&quot;placesCmd_paste&quot;</span>
<a href="#l12.246"></a><span id="l12.246" class="difflineplus">+              label=&quot;&amp;pasteCmd.label;&quot;</span>
<a href="#l12.247"></a><span id="l12.247" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.248"></a><span id="l12.248" class="difflineplus">+              accesskey=&quot;&amp;pasteCmd.accesskey;&quot;</span>
<a href="#l12.249"></a><span id="l12.249" class="difflineplus">+              selection=&quot;any&quot;</span>
<a href="#l12.250"></a><span id="l12.250" class="difflineplus">+              hideifnoinsertionpoint=&quot;true&quot;/&gt;</span>
<a href="#l12.251"></a><span id="l12.251">     &lt;menuseparator id=&quot;placesContext_editSeparator&quot;/&gt;</span>
<a href="#l12.252"></a><span id="l12.252">     &lt;menuitem id=&quot;placesContext_delete&quot;</span>
<a href="#l12.253"></a><span id="l12.253" class="difflineminus">-              command=&quot;cmd_delete&quot;</span>
<a href="#l12.254"></a><span id="l12.254" class="difflineplus">+              command=&quot;placesCmd_delete&quot;</span>
<a href="#l12.255"></a><span id="l12.255">               label=&quot;&amp;deleteCmd.label;&quot;</span>
<a href="#l12.256"></a><span id="l12.256">               accesskey=&quot;&amp;deleteCmd.accesskey;&quot;</span>
<a href="#l12.257"></a><span id="l12.257" class="difflineminus">-              selection=&quot;link|host|day&quot;/&gt;</span>
<a href="#l12.258"></a><span id="l12.258" class="difflineminus">-    &lt;menuitem id=&quot;placesContext_deleteByHostname&quot;</span>
<a href="#l12.259"></a><span id="l12.259" class="difflineminus">-              command=&quot;placesCmd_delete:hostname&quot;</span>
<a href="#l12.260"></a><span id="l12.260" class="difflineminus">-              selection=&quot;link|host&quot;/&gt;</span>
<a href="#l12.261"></a><span id="l12.261" class="difflineminus">-    &lt;menuitem id=&quot;placesContext_deleteByDomain&quot;</span>
<a href="#l12.262"></a><span id="l12.262" class="difflineminus">-              command=&quot;placesCmd_delete:domain&quot;</span>
<a href="#l12.263"></a><span id="l12.263" class="difflineminus">-              selection=&quot;link|host&quot;/&gt;</span>
<a href="#l12.264"></a><span id="l12.264" class="difflineminus">-    &lt;menuitem id=&quot;placesContext_selectAll&quot;</span>
<a href="#l12.265"></a><span id="l12.265" class="difflineminus">-              command=&quot;cmd_selectAll&quot;</span>
<a href="#l12.266"></a><span id="l12.266" class="difflineminus">-              label=&quot;&amp;selectAllCmd.label;&quot;</span>
<a href="#l12.267"></a><span id="l12.267" class="difflineminus">-              accesskey=&quot;&amp;selectAllCmd.accesskey;&quot;</span>
<a href="#l12.268"></a><span id="l12.268" class="difflineminus">-              selection=&quot;any&quot;/&gt;</span>
<a href="#l12.269"></a><span id="l12.269" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.270"></a><span id="l12.270" class="difflineplus">+              selection=&quot;bookmark|tagChild|folder|query|dynamiccontainer|separator|host&quot;/&gt;</span>
<a href="#l12.271"></a><span id="l12.271" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_delete_history&quot;</span>
<a href="#l12.272"></a><span id="l12.272" class="difflineplus">+              command=&quot;placesCmd_delete&quot;</span>
<a href="#l12.273"></a><span id="l12.273" class="difflineplus">+              label=&quot;&amp;cmd.delete.label;&quot;</span>
<a href="#l12.274"></a><span id="l12.274" class="difflineplus">+              accesskey=&quot;&amp;cmd.delete.accesskey;&quot;</span>
<a href="#l12.275"></a><span id="l12.275" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.276"></a><span id="l12.276" class="difflineplus">+              selection=&quot;link&quot;</span>
<a href="#l12.277"></a><span id="l12.277" class="difflineplus">+              forcehideselection=&quot;bookmark&quot;/&gt;</span>
<a href="#l12.278"></a><span id="l12.278" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_deleteHost&quot;</span>
<a href="#l12.279"></a><span id="l12.279" class="difflineplus">+              command=&quot;placesCmd_deleteDataHost&quot;</span>
<a href="#l12.280"></a><span id="l12.280" class="difflineplus">+              label=&quot;&amp;cmd.deleteDomainData.label;&quot;</span>
<a href="#l12.281"></a><span id="l12.281" class="difflineplus">+              accesskey=&quot;&amp;cmd.deleteDomainData.accesskey;&quot;</span>
<a href="#l12.282"></a><span id="l12.282" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.283"></a><span id="l12.283" class="difflineplus">+              selection=&quot;link|host&quot;</span>
<a href="#l12.284"></a><span id="l12.284" class="difflineplus">+              selectiontype=&quot;single&quot;</span>
<a href="#l12.285"></a><span id="l12.285" class="difflineplus">+              forcehideselection=&quot;bookmark&quot;/&gt;</span>
<a href="#l12.286"></a><span id="l12.286" class="difflineplus">+    &lt;menuseparator id=&quot;placesContext_deleteSeparator&quot;/&gt;</span>
<a href="#l12.287"></a><span id="l12.287" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_reload&quot;</span>
<a href="#l12.288"></a><span id="l12.288" class="difflineplus">+              command=&quot;placesCmd_reload&quot;</span>
<a href="#l12.289"></a><span id="l12.289" class="difflineplus">+              label=&quot;&amp;cmd.reloadLivebookmark.label;&quot;</span>
<a href="#l12.290"></a><span id="l12.290" class="difflineplus">+              accesskey=&quot;&amp;cmd.reloadLivebookmark.accesskey;&quot;</span>
<a href="#l12.291"></a><span id="l12.291" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.292"></a><span id="l12.292" class="difflineplus">+              selection=&quot;livemark/feedURI&quot;/&gt;</span>
<a href="#l12.293"></a><span id="l12.293" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_reloadMicrosummary&quot;</span>
<a href="#l12.294"></a><span id="l12.294" class="difflineplus">+              command=&quot;placesCmd_reloadMicrosummary&quot;</span>
<a href="#l12.295"></a><span id="l12.295" class="difflineplus">+              label=&quot;&amp;cmd.reloadMicrosummary.label;&quot;</span>
<a href="#l12.296"></a><span id="l12.296" class="difflineplus">+              accesskey=&quot;&amp;cmd.reloadMicrosummary.accesskey;&quot;</span>
<a href="#l12.297"></a><span id="l12.297" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.298"></a><span id="l12.298" class="difflineplus">+              selection=&quot;microsummary&quot;/&gt;</span>
<a href="#l12.299"></a><span id="l12.299" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_sortBy:name&quot;</span>
<a href="#l12.300"></a><span id="l12.300" class="difflineplus">+              command=&quot;placesCmd_sortBy:name&quot;</span>
<a href="#l12.301"></a><span id="l12.301" class="difflineplus">+              label=&quot;&amp;cmd.sortby_name.label;&quot;</span>
<a href="#l12.302"></a><span id="l12.302" class="difflineplus">+              accesskey=&quot;&amp;cmd.sortby_name.accesskey;&quot;</span>
<a href="#l12.303"></a><span id="l12.303" class="difflineplus">+              closemenu=&quot;single&quot;</span>
<a href="#l12.304"></a><span id="l12.304" class="difflineplus">+              selection=&quot;folder&quot;/&gt;</span>
<a href="#l12.305"></a><span id="l12.305" class="difflineplus">+    &lt;menuseparator id=&quot;placesContext_sortSeparator&quot;/&gt;</span>
<a href="#l12.306"></a><span id="l12.306" class="difflineplus">+    &lt;menuitem id=&quot;placesContext_show:info&quot;</span>
<a href="#l12.307"></a><span id="l12.307" class="difflineplus">+              command=&quot;placesCmd_show:info&quot;</span>
<a href="#l12.308"></a><span id="l12.308" class="difflineplus">+              label=&quot;&amp;cmd.properties.label;&quot;</span>
<a href="#l12.309"></a><span id="l12.309" class="difflineplus">+              accesskey=&quot;&amp;cmd.properties.accesskey;&quot;</span>
<a href="#l12.310"></a><span id="l12.310" class="difflineplus">+              selection=&quot;bookmark|folder|query&quot;</span>
<a href="#l12.311"></a><span id="l12.311" class="difflineplus">+              forcehideselection=&quot;livemarkChild&quot;/&gt;</span>
<a href="#l12.312"></a><span id="l12.312">   &lt;/menupopup&gt;</span>
<a href="#l12.313"></a><span id="l12.313"> </span>
<a href="#l12.314"></a><span id="l12.314" class="difflineminus">-  &lt;menupopup id=&quot;viewPopup&quot;&gt;</span>
<a href="#l12.315"></a><span id="l12.315" class="difflineminus">-    &lt;menu id=&quot;viewColumns&quot;</span>
<a href="#l12.316"></a><span id="l12.316" class="difflineminus">-          label=&quot;&amp;view.columns.label;&quot; accesskey=&quot;&amp;view.columns.accesskey;&quot;&gt;</span>
<a href="#l12.317"></a><span id="l12.317" class="difflineminus">-      &lt;menupopup onpopupshowing=&quot;UpdateViewColumns(this.firstChild);&quot;</span>
<a href="#l12.318"></a><span id="l12.318" class="difflineminus">-                 oncommand=&quot;ToggleColumn(event.target);&quot;&gt;</span>
<a href="#l12.319"></a><span id="l12.319" class="difflineminus">-        &lt;menuitem id=&quot;ToggleName&quot; disabled=&quot;true&quot; label=&quot;&amp;col.title.label;&quot;</span>
<a href="#l12.320"></a><span id="l12.320" class="difflineminus">-                  accesskey=&quot;&amp;col.title.accesskey;&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l12.321"></a><span id="l12.321" class="difflineminus">-        &lt;menuitem id=&quot;ToggleURL&quot; label=&quot;&amp;col.url.label;&quot;</span>
<a href="#l12.322"></a><span id="l12.322" class="difflineminus">-                  accesskey=&quot;&amp;col.url.accesskey;&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l12.323"></a><span id="l12.323" class="difflineminus">-        &lt;menuitem id=&quot;ToggleDate&quot; label=&quot;&amp;col.lastvisit.label;&quot;</span>
<a href="#l12.324"></a><span id="l12.324" class="difflineminus">-                  accesskey=&quot;&amp;col.lastvisit.accesskey;&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l12.325"></a><span id="l12.325" class="difflineminus">-        &lt;menuitem id=&quot;ToggleVisitCount&quot; label=&quot;&amp;col.visitcount.label;&quot;</span>
<a href="#l12.326"></a><span id="l12.326" class="difflineminus">-                  accesskey=&quot;&amp;col.visitcount.accesskey;&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l12.327"></a><span id="l12.327" class="difflineminus">-      &lt;/menupopup&gt;</span>
<a href="#l12.328"></a><span id="l12.328" class="difflineminus">-    &lt;/menu&gt;</span>
<a href="#l12.329"></a><span id="l12.329" class="difflineminus">-    &lt;menu id=&quot;viewSortBy&quot; label=&quot;&amp;view.sortBy.label;&quot;</span>
<a href="#l12.330"></a><span id="l12.330" class="difflineminus">-          accesskey=&quot;&amp;view.sortBy.accesskey;&quot;&gt;</span>
<a href="#l12.331"></a><span id="l12.331" class="difflineminus">-      &lt;menupopup onpopupshowing=&quot;UpdateViewSort(this.firstChild);&quot;</span>
<a href="#l12.332"></a><span id="l12.332" class="difflineminus">-                 oncommand=&quot;gHistoryTree.view.cycleHeader({id:event.target.id});&quot;&gt;</span>
<a href="#l12.333"></a><span id="l12.333" class="difflineminus">-        &lt;menuitem id=&quot;Unsorted&quot; type=&quot;radio&quot; name=&quot;columns&quot;</span>
<a href="#l12.334"></a><span id="l12.334" class="difflineminus">-                  label=&quot;&amp;view.unsorted.label;&quot;</span>
<a href="#l12.335"></a><span id="l12.335" class="difflineminus">-                  accesskey=&quot;&amp;view.unsorted.accesskey;&quot;/&gt;</span>
<a href="#l12.336"></a><span id="l12.336" class="difflineminus">-        &lt;menuseparator/&gt;</span>
<a href="#l12.337"></a><span id="l12.337" class="difflineminus">-        &lt;menuitem id=&quot;SortByName&quot; type=&quot;radio&quot; name=&quot;columns&quot;</span>
<a href="#l12.338"></a><span id="l12.338" class="difflineminus">-                  label=&quot;&amp;col.title.label;&quot;</span>
<a href="#l12.339"></a><span id="l12.339" class="difflineminus">-                  accesskey=&quot;&amp;col.title.accesskey;&quot;/&gt;</span>
<a href="#l12.340"></a><span id="l12.340" class="difflineminus">-        &lt;menuitem id=&quot;SortByURL&quot; type=&quot;radio&quot; name=&quot;columns&quot;</span>
<a href="#l12.341"></a><span id="l12.341" class="difflineminus">-                  label=&quot;&amp;col.url.label;&quot;</span>
<a href="#l12.342"></a><span id="l12.342" class="difflineminus">-                  accesskey=&quot;&amp;col.url.accesskey;&quot;/&gt;</span>
<a href="#l12.343"></a><span id="l12.343" class="difflineminus">-        &lt;menuitem id=&quot;SortByDate&quot; type=&quot;radio&quot; name=&quot;columns&quot;</span>
<a href="#l12.344"></a><span id="l12.344" class="difflineminus">-                  label=&quot;&amp;col.lastvisit.label;&quot;</span>
<a href="#l12.345"></a><span id="l12.345" class="difflineminus">-                  accesskey=&quot;&amp;col.lastvisit.accesskey;&quot;/&gt;</span>
<a href="#l12.346"></a><span id="l12.346" class="difflineminus">-        &lt;menuitem id=&quot;SortByVisitCount&quot; type=&quot;radio&quot; name=&quot;columns&quot;</span>
<a href="#l12.347"></a><span id="l12.347" class="difflineminus">-                  label=&quot;&amp;col.visitcount.label;&quot;</span>
<a href="#l12.348"></a><span id="l12.348" class="difflineminus">-                  accesskey=&quot;&amp;col.visitcount.accesskey;&quot;/&gt;</span>
<a href="#l12.349"></a><span id="l12.349" class="difflineminus">-        &lt;menuseparator/&gt;</span>
<a href="#l12.350"></a><span id="l12.350" class="difflineminus">-        &lt;menuitem id=&quot;SortAscending&quot; type=&quot;radio&quot; name=&quot;direction&quot;</span>
<a href="#l12.351"></a><span id="l12.351" class="difflineminus">-                  label=&quot;&amp;view.sortAscending.label;&quot;</span>
<a href="#l12.352"></a><span id="l12.352" class="difflineminus">-                  accesskey=&quot;&amp;view.sortAscending.accesskey;&quot;/&gt;</span>
<a href="#l12.353"></a><span id="l12.353" class="difflineminus">-        &lt;menuitem id=&quot;SortDescending&quot; type=&quot;radio&quot; name=&quot;direction&quot;</span>
<a href="#l12.354"></a><span id="l12.354" class="difflineminus">-                  label=&quot;&amp;view.sortDescending.label;&quot;</span>
<a href="#l12.355"></a><span id="l12.355" class="difflineminus">-                  accesskey=&quot;&amp;view.sortDescending.accesskey;&quot;/&gt;</span>
<a href="#l12.356"></a><span id="l12.356" class="difflineminus">-      &lt;/menupopup&gt;</span>
<a href="#l12.357"></a><span id="l12.357" class="difflineminus">-    &lt;/menu&gt;</span>
<a href="#l12.358"></a><span id="l12.358" class="difflineminus">-    &lt;menu id=&quot;viewGroupBy&quot; label=&quot;&amp;view.groupBy.label;&quot;</span>
<a href="#l12.359"></a><span id="l12.359" class="difflineminus">-          accesskey=&quot;&amp;view.groupBy.accesskey;&quot;&gt;</span>
<a href="#l12.360"></a><span id="l12.360" class="difflineminus">-      &lt;menupopup oncommand=&quot;GroupBy(event.target);&quot;&gt;</span>
<a href="#l12.361"></a><span id="l12.361" class="difflineminus">-        &lt;menuitem id=&quot;GroupByNone&quot; type=&quot;radio&quot; name=&quot;group&quot;</span>
<a href="#l12.362"></a><span id="l12.362" class="difflineminus">-                  label=&quot;&amp;view.groupNone.label;&quot;</span>
<a href="#l12.363"></a><span id="l12.363" class="difflineminus">-                  accesskey=&quot;&amp;view.groupNone.accesskey;&quot;/&gt;</span>
<a href="#l12.364"></a><span id="l12.364" class="difflineminus">-        &lt;menuitem id=&quot;GroupByDay&quot; type=&quot;radio&quot; name=&quot;group&quot;</span>
<a href="#l12.365"></a><span id="l12.365" class="difflineminus">-                  label=&quot;&amp;view.groupDay.label;&quot;</span>
<a href="#l12.366"></a><span id="l12.366" class="difflineminus">-                  accesskey=&quot;&amp;view.groupDay.accesskey;&quot;/&gt;</span>
<a href="#l12.367"></a><span id="l12.367" class="difflineminus">-        &lt;menuitem id=&quot;GroupBySite&quot; type=&quot;radio&quot; name=&quot;group&quot;</span>
<a href="#l12.368"></a><span id="l12.368" class="difflineminus">-                  label=&quot;&amp;view.groupSite.label;&quot;</span>
<a href="#l12.369"></a><span id="l12.369" class="difflineminus">-                  accesskey=&quot;&amp;view.groupSite.accesskey;&quot;/&gt;</span>
<a href="#l12.370"></a><span id="l12.370" class="difflineminus">-        &lt;menuitem id=&quot;GroupByBoth&quot; type=&quot;radio&quot; name=&quot;group&quot;</span>
<a href="#l12.371"></a><span id="l12.371" class="difflineminus">-                  label=&quot;&amp;view.groupDayAndSite.label;&quot;</span>
<a href="#l12.372"></a><span id="l12.372" class="difflineminus">-                  accesskey=&quot;&amp;view.groupDayAndSite.accesskey;&quot;/&gt;</span>
<a href="#l12.373"></a><span id="l12.373" class="difflineminus">-      &lt;/menupopup&gt;</span>
<a href="#l12.374"></a><span id="l12.374" class="difflineminus">-    &lt;/menu&gt;</span>
<a href="#l12.375"></a><span id="l12.375" class="difflineminus">-  &lt;/menupopup&gt;</span>
<a href="#l12.376"></a><span id="l12.376"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/suite/common/contentAreaContextOverlay.xul</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/suite/common/contentAreaContextOverlay.xul</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -92,19 +92,17 @@</span>
<a href="#l13.4"></a><span id="l13.4">       &lt;menuitem id=&quot;context-openlinkintab&quot;</span>
<a href="#l13.5"></a><span id="l13.5">                 label=&quot;&amp;openLinkCmdInTab.label;&quot;</span>
<a href="#l13.6"></a><span id="l13.6">                 accesskey=&quot;&amp;openLinkCmdInTab.accesskey;&quot;</span>
<a href="#l13.7"></a><span id="l13.7">                 oncommand=&quot;gContextMenu.openLinkInTab(event.shiftKey);&quot;/&gt;</span>
<a href="#l13.8"></a><span id="l13.8">       &lt;menuseparator id=&quot;context-sep-open&quot;/&gt;</span>
<a href="#l13.9"></a><span id="l13.9">       &lt;menuitem id=&quot;context-bookmarklink&quot;</span>
<a href="#l13.10"></a><span id="l13.10">                 label=&quot;&amp;bookmarkLinkCmd.label;&quot;</span>
<a href="#l13.11"></a><span id="l13.11">                 accesskey=&quot;&amp;bookmarkLinkCmd.accesskey;&quot;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-                oncommand=&quot;BookmarksUtils.addBookmark(gContextMenu.linkURL,</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-                                                      gContextMenu.linkText(),</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineminus">-                                                      undefined, false);&quot;/&gt;</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+                oncommand=&quot;gContextMenu.bookmarkLink();&quot;/&gt;</span>
<a href="#l13.16"></a><span id="l13.16">       &lt;menuitem id=&quot;context-savelink&quot;</span>
<a href="#l13.17"></a><span id="l13.17">                 valueSaveAs=&quot;&amp;saveLinkAsCmd.label;&quot;</span>
<a href="#l13.18"></a><span id="l13.18">                 valueSave=&quot;&amp;saveLinkCmd.label;&quot;</span>
<a href="#l13.19"></a><span id="l13.19">                 accesskey=&quot;&amp;saveLinkCmd.accesskey;&quot;</span>
<a href="#l13.20"></a><span id="l13.20">                 oncommand=&quot;gContextMenu.saveLink();&quot;/&gt;</span>
<a href="#l13.21"></a><span id="l13.21">       &lt;menuitem id=&quot;context-copyemail&quot;</span>
<a href="#l13.22"></a><span id="l13.22">                 label=&quot;&amp;copyEmailCmd.label;&quot;</span>
<a href="#l13.23"></a><span id="l13.23">                 accesskey=&quot;&amp;copyEmailCmd.accesskey;&quot;</span>
<a href="#l13.24"></a><span id="l13.24" class="difflineat">@@ -207,17 +205,17 @@</span>
<a href="#l13.25"></a><span id="l13.25">                 label=&quot;&amp;stopCmd.label;&quot;</span>
<a href="#l13.26"></a><span id="l13.26">                 accesskey=&quot;&amp;stopCmd.accesskey;&quot;</span>
<a href="#l13.27"></a><span id="l13.27">                 disabled=&quot;true&quot;</span>
<a href="#l13.28"></a><span id="l13.28">                 oncommand=&quot;BrowserStop();&quot;/&gt;</span>
<a href="#l13.29"></a><span id="l13.29">       &lt;menuseparator id=&quot;context-sep-stop&quot;/&gt;</span>
<a href="#l13.30"></a><span id="l13.30">       &lt;menuitem id=&quot;context-bookmarkpage&quot;</span>
<a href="#l13.31"></a><span id="l13.31">                 label=&quot;&amp;bookmarkPageCmd.label;&quot;</span>
<a href="#l13.32"></a><span id="l13.32">                 accesskey=&quot;&amp;bookmarkPageCmd.accesskey;&quot;</span>
<a href="#l13.33"></a><span id="l13.33" class="difflineminus">-                oncommand=&quot;gContextMenu.addBookmark();&quot;/&gt;</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineplus">+                oncommand=&quot;gContextMenu.bookmarkThisPage();&quot;/&gt;</span>
<a href="#l13.35"></a><span id="l13.35">       &lt;menuitem id=&quot;context-savepage&quot;</span>
<a href="#l13.36"></a><span id="l13.36">                 valueSaveAs=&quot;&amp;savePageAsCmd.label;&quot;</span>
<a href="#l13.37"></a><span id="l13.37">                 valueSave=&quot;&amp;savePageCmd.label;&quot;</span>
<a href="#l13.38"></a><span id="l13.38">                 accesskey=&quot;&amp;savePageCmd.accesskey;&quot;</span>
<a href="#l13.39"></a><span id="l13.39">                 oncommand=&quot;saveDocument(window.content.document, true);&quot;/&gt;</span>
<a href="#l13.40"></a><span id="l13.40">       &lt;menuseparator id=&quot;context-sep-viewbgimage&quot;/&gt;</span>
<a href="#l13.41"></a><span id="l13.41">       &lt;menuitem id=&quot;context-viewbgimage&quot;</span>
<a href="#l13.42"></a><span id="l13.42">                 label=&quot;&amp;viewBGImageCmd.label;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/suite/common/feeds/subscribe.xhtml</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/suite/common/feeds/subscribe.xhtml</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -39,16 +39,17 @@</span>
<a href="#l14.4"></a><span id="l14.4">      how much XUL-in-XHTML sucks, see bug 348830 --&gt;</span>
<a href="#l14.5"></a><span id="l14.5">         &lt;div id=&quot;feedSubscribeLine&quot;</span>
<a href="#l14.6"></a><span id="l14.6">           &gt;&lt;xul:vbox</span>
<a href="#l14.7"></a><span id="l14.7">             &gt;&lt;xul:hbox align=&quot;center&quot;</span>
<a href="#l14.8"></a><span id="l14.8">               &gt;&lt;xul:description id=&quot;subscribeUsingDescription&quot;</span>
<a href="#l14.9"></a><span id="l14.9">               /&gt;&lt;xul:menulist id=&quot;handlersMenuList&quot; aria-labelledby=&quot;subscribeUsingDescription&quot;</span>
<a href="#l14.10"></a><span id="l14.10">                 &gt;&lt;xul:menupopup menugenerated=&quot;true&quot; id=&quot;handlersMenuPopup&quot;</span>
<a href="#l14.11"></a><span id="l14.11">                   &gt;&lt;xul:menuitem id=&quot;messengerFeedsMenuItem&quot; label=&quot;&amp;feedMessenger;&quot; class=&quot;menuitem-iconic&quot; image=&quot;chrome://communicator/skin/icons/feedIcon16.png&quot; selected=&quot;true&quot;</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+                  /&gt;&lt;xul:menuitem id=&quot;liveBookmarksMenuItem&quot; label=&quot;&amp;feedLiveBookmarks;&quot; class=&quot;menuitem-iconic&quot; image=&quot;chrome://communicator/skin/icons/feedIcon16.png&quot; selected=&quot;true&quot;</span>
<a href="#l14.13"></a><span id="l14.13">                   /&gt;&lt;xul:menuseparator</span>
<a href="#l14.14"></a><span id="l14.14">                 /&gt;&lt;/xul:menupopup</span>
<a href="#l14.15"></a><span id="l14.15">               &gt;&lt;/xul:menulist</span>
<a href="#l14.16"></a><span id="l14.16">             &gt;&lt;/xul:hbox</span>
<a href="#l14.17"></a><span id="l14.17">             &gt;&lt;xul:hbox</span>
<a href="#l14.18"></a><span id="l14.18">               &gt;&lt;xul:checkbox id=&quot;alwaysUse&quot; checked=&quot;false&quot;</span>
<a href="#l14.19"></a><span id="l14.19">             /&gt;&lt;/xul:hbox</span>
<a href="#l14.20"></a><span id="l14.20">             &gt;&lt;xul:hbox align=&quot;center&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/suite/common/jar.mn</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/suite/common/jar.mn</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -116,23 +116,24 @@ comm.jar:</span>
<a href="#l15.4"></a><span id="l15.4">    content/communicator/bookmarks/bm-panel.js                       (bookmarks/bm-panel.js)</span>
<a href="#l15.5"></a><span id="l15.5">    content/communicator/bookmarks/bm-panel.xul                      (bookmarks/bm-panel.xul)</span>
<a href="#l15.6"></a><span id="l15.6">    content/communicator/bookmarks/bm-props.js                       (bookmarks/bm-props.js)</span>
<a href="#l15.7"></a><span id="l15.7">    content/communicator/bookmarks/bm-props.xul                      (bookmarks/bm-props.xul)</span>
<a href="#l15.8"></a><span id="l15.8">    content/communicator/bookmarks/bookmarks.css                     (bookmarks/bookmarks.css)</span>
<a href="#l15.9"></a><span id="l15.9">    content/communicator/bookmarks/bookmarks.js                      (bookmarks/bookmarks.js)</span>
<a href="#l15.10"></a><span id="l15.10">    content/communicator/bookmarks/bookmarksManager.js               (bookmarks/bookmarksManager.js)</span>
<a href="#l15.11"></a><span id="l15.11">    content/communicator/bookmarks/bookmarksManager.xul              (bookmarks/bookmarksManager.xul)</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-   content/communicator/bookmarks/bookmarksMenu.js                  (bookmarks/bookmarksMenu.js)</span>
<a href="#l15.13"></a><span id="l15.13">    content/communicator/bookmarks/bookmarksOverlay.xul              (bookmarks/bookmarksOverlay.xul)</span>
<a href="#l15.14"></a><span id="l15.14">    content/communicator/bookmarks/bookmarksTree.xml                 (bookmarks/bookmarksTree.xml)</span>
<a href="#l15.15"></a><span id="l15.15">    content/communicator/bookmarks/findBookmark.js                   (bookmarks/findBookmark.js)</span>
<a href="#l15.16"></a><span id="l15.16">    content/communicator/bookmarks/findBookmark.xul                  (bookmarks/findBookmark.xul)</span>
<a href="#l15.17"></a><span id="l15.17">    content/communicator/bookmarks/sortFolder.js                     (bookmarks/sortFolder.js)</span>
<a href="#l15.18"></a><span id="l15.18">    content/communicator/bookmarks/sortFolder.xul                    (bookmarks/sortFolder.xul)</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+   content/communicator/bookmarks/browser-places.js                 (bookmarks/browser-places.js)</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineplus">+   content/communicator/bookmarks/placesOverlay.xul                 (bookmarks/placesOverlay.xul)</span>
<a href="#l15.21"></a><span id="l15.21">    content/communicator/directory/directory.html                    (directory/directory.html)</span>
<a href="#l15.22"></a><span id="l15.22">    content/communicator/directory/directory.js                      (directory/directory.js)</span>
<a href="#l15.23"></a><span id="l15.23">    content/communicator/directory/directory.xul                     (directory/directory.xul)</span>
<a href="#l15.24"></a><span id="l15.24">    content/communicator/downloads/downloadmanager.js                (downloads/downloadmanager.js)</span>
<a href="#l15.25"></a><span id="l15.25">    content/communicator/downloads/downloadmanager.xul               (downloads/downloadmanager.xul)</span>
<a href="#l15.26"></a><span id="l15.26">    content/communicator/downloads/DownloadProgressListener.js       (downloads/DownloadProgressListener.js)</span>
<a href="#l15.27"></a><span id="l15.27">    content/communicator/downloads/progressDialog.xul                (downloads/progressDialog.xul)</span>
<a href="#l15.28"></a><span id="l15.28">    content/communicator/downloads/progressDialog.js                 (downloads/progressDialog.js)</span>
<a href="#l15.29"></a><span id="l15.29" class="difflineat">@@ -154,16 +155,23 @@ comm.jar:</span>
<a href="#l15.30"></a><span id="l15.30">    content/communicator/permissions/cookieViewer.js                 (permissions/cookieViewer.js)</span>
<a href="#l15.31"></a><span id="l15.31">    content/communicator/permissions/cookieViewer.xul                (permissions/cookieViewer.xul)</span>
<a href="#l15.32"></a><span id="l15.32">    content/communicator/permissions/imageContextOverlay.xul         (permissions/imageContextOverlay.xul)</span>
<a href="#l15.33"></a><span id="l15.33">    content/communicator/permissions/permissionsManager.js           (permissions/permissionsManager.js)</span>
<a href="#l15.34"></a><span id="l15.34">    content/communicator/permissions/permissionsManager.xul          (permissions/permissionsManager.xul)</span>
<a href="#l15.35"></a><span id="l15.35">    content/communicator/permissions/permissionsNavigatorOverlay.xul (permissions/permissionsNavigatorOverlay.xul)</span>
<a href="#l15.36"></a><span id="l15.36">    content/communicator/permissions/permissionsOverlay.js           (permissions/permissionsOverlay.js)</span>
<a href="#l15.37"></a><span id="l15.37">    content/communicator/permissions/treeUtils.js                    (permissions/treeUtils.js)</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineplus">+*  content/communicator/places/browserPlacesViews.js                (places/browserPlacesViews.js)</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineplus">+   content/communicator/places/controller.js                        (places/controller.js)</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineplus">+*  content/communicator/places/menu.xml                             (places/menu.xml)</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineplus">+   content/communicator/places/places.css                           (places/places.css)</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineplus">+   content/communicator/places/sidebarUtils.js                      (places/sidebarUtils.js)</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineplus">+   content/communicator/places/tree.xml                             (places/tree.xml)</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineplus">+   content/communicator/places/treeView.js                          (places/treeView.js)</span>
<a href="#l15.45"></a><span id="l15.45">    content/communicator/pref/preferences.xul                        (pref/preferences.xul)</span>
<a href="#l15.46"></a><span id="l15.46">    content/communicator/pref/preferences.js                         (pref/preferences.js)</span>
<a href="#l15.47"></a><span id="l15.47">    content/communicator/pref/prefpanels.css                         (pref/prefpanels.css)</span>
<a href="#l15.48"></a><span id="l15.48">    content/communicator/pref/prefpanels.xml                         (pref/prefpanels.xml)</span>
<a href="#l15.49"></a><span id="l15.49">    content/communicator/pref/pref-advanced.js                       (pref/pref-advanced.js)</span>
<a href="#l15.50"></a><span id="l15.50">    content/communicator/pref/pref-advanced.xul                      (pref/pref-advanced.xul)</span>
<a href="#l15.51"></a><span id="l15.51">    content/communicator/pref/pref-appearance.js                     (pref/pref-appearance.js)</span>
<a href="#l15.52"></a><span id="l15.52">    content/communicator/pref/pref-appearance.xul                    (pref/pref-appearance.xul)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/suite/common/nsContextMenu.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/suite/common/nsContextMenu.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1014,34 +1014,41 @@ nsContextMenu.prototype = {</span>
<a href="#l16.4"></a><span id="l16.4"> </span>
<a href="#l16.5"></a><span id="l16.5">   // Copy email to clipboard</span>
<a href="#l16.6"></a><span id="l16.6">   copyEmail: function() {</span>
<a href="#l16.7"></a><span id="l16.7">     var clipboard = this.getService(&quot;@mozilla.org/widget/clipboardhelper;1&quot;,</span>
<a href="#l16.8"></a><span id="l16.8">                                     Components.interfaces.nsIClipboardHelper);</span>
<a href="#l16.9"></a><span id="l16.9">     clipboard.copyString(this.getEmail());</span>
<a href="#l16.10"></a><span id="l16.10">   },</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-  addBookmark: function() {</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-    var docshell = document.getElementById( &quot;content&quot; ).webNavigation;</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineminus">-    BookmarksUtils.addBookmark(docshell.currentURI.spec,</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineminus">-                               docshell.document.title,</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineminus">-                               docshell.document.characterSet,</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineminus">-                               false);</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineplus">+  bookmarkThisPage : function() {</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineplus">+    window.top.PlacesCommandHook.bookmarkPage(this.browser,</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineplus">+                                              PlacesUtils.bookmarksMenuFolderId,</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineplus">+                                              true);</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineplus">+  },</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineplus">+  bookmarkLink: function CM_bookmarkLink() {</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineplus">+    window.top.PlacesCommandHook.bookmarkLink(PlacesUtils.bookmarksMenuFolderId,</span>
<a href="#l16.26"></a><span id="l16.26" class="difflineplus">+                                              this.linkURL,</span>
<a href="#l16.27"></a><span id="l16.27" class="difflineplus">+                                              this.linkText());</span>
<a href="#l16.28"></a><span id="l16.28">   },</span>
<a href="#l16.29"></a><span id="l16.29"> </span>
<a href="#l16.30"></a><span id="l16.30">   addBookmarkForFrame: function() {</span>
<a href="#l16.31"></a><span id="l16.31">     var doc = this.target.ownerDocument;</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineminus">-    var uri = doc.location.href;</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineminus">-    var title = doc.title;</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineminus">-    if (!title)</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineminus">-      title = uri;</span>
<a href="#l16.36"></a><span id="l16.36" class="difflineminus">-    BookmarksUtils.addBookmark(uri,</span>
<a href="#l16.37"></a><span id="l16.37" class="difflineminus">-                               title,</span>
<a href="#l16.38"></a><span id="l16.38" class="difflineminus">-                               doc.characterSet,</span>
<a href="#l16.39"></a><span id="l16.39" class="difflineminus">-                               false);</span>
<a href="#l16.40"></a><span id="l16.40" class="difflineplus">+    var uri = doc.documentURIObject;</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineplus">+</span>
<a href="#l16.42"></a><span id="l16.42" class="difflineplus">+    var itemId = PlacesUtils.getMostRecentBookmarkForURI(uri);</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineplus">+    if (itemId == -1) {</span>
<a href="#l16.44"></a><span id="l16.44" class="difflineplus">+      var title = doc.title;</span>
<a href="#l16.45"></a><span id="l16.45" class="difflineplus">+      var description = PlacesUIUtils.getDescriptionFromDocument(doc);</span>
<a href="#l16.46"></a><span id="l16.46" class="difflineplus">+      PlacesUIUtils.showMinimalAddBookmarkUI(uri, title, description);</span>
<a href="#l16.47"></a><span id="l16.47" class="difflineplus">+    }</span>
<a href="#l16.48"></a><span id="l16.48" class="difflineplus">+    else</span>
<a href="#l16.49"></a><span id="l16.49" class="difflineplus">+      PlacesUIUtils.showItemProperties(itemId,</span>
<a href="#l16.50"></a><span id="l16.50" class="difflineplus">+                                       PlacesUtils.bookmarks.TYPE_BOOKMARK);</span>
<a href="#l16.51"></a><span id="l16.51">   },</span>
<a href="#l16.52"></a><span id="l16.52"> </span>
<a href="#l16.53"></a><span id="l16.53">   // Open Metadata window for node</span>
<a href="#l16.54"></a><span id="l16.54">   showMetadata: function() {</span>
<a href="#l16.55"></a><span id="l16.55">     window.openDialog(&quot;chrome://navigator/content/metadata.xul&quot;,</span>
<a href="#l16.56"></a><span id="l16.56">                       &quot;_blank&quot;,</span>
<a href="#l16.57"></a><span id="l16.57">                       &quot;scrollbars,resizable,chrome,dialog=no&quot;,</span>
<a href="#l16.58"></a><span id="l16.58">                       this.target);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/suite/common/search/search-panel.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/suite/common/search/search-panel.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -41,17 +41,16 @@</span>
<a href="#l17.4"></a><span id="l17.4">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l17.5"></a><span id="l17.5">  *</span>
<a href="#l17.6"></a><span id="l17.6">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8"> const ISEARCH_CONTRACTID       = &quot;@mozilla.org/rdf/datasource;1?name=internetsearch&quot;;</span>
<a href="#l17.9"></a><span id="l17.9"> const RDFSERVICE_CONTRACTID    = &quot;@mozilla.org/rdf/rdf-service;1&quot;;</span>
<a href="#l17.10"></a><span id="l17.10"> const BMARKS_CONTRACTID        = &quot;@mozilla.org/browser/bookmarks-service;1&quot;;</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-const nsIBookmarksService      = Components.interfaces.nsIBookmarksService;</span>
<a href="#l17.13"></a><span id="l17.13"> const nsIRDFService            = Components.interfaces.nsIRDFService;</span>
<a href="#l17.14"></a><span id="l17.14"> const nsIRDFLiteral            = Components.interfaces.nsIRDFLiteral;</span>
<a href="#l17.15"></a><span id="l17.15"> const nsIRDFDataSource         = Components.interfaces.nsIRDFDataSource;</span>
<a href="#l17.16"></a><span id="l17.16"> const nsIRDFRemoteDataSource   = Components.interfaces.nsIRDFRemoteDataSource;</span>
<a href="#l17.17"></a><span id="l17.17"> const nsIInternetSearchService = Components.interfaces.nsIInternetSearchService;</span>
<a href="#l17.18"></a><span id="l17.18"> </span>
<a href="#l17.19"></a><span id="l17.19"> const DEBUG = false;</span>
<a href="#l17.20"></a><span id="l17.20"> </span>
<a href="#l17.21"></a><span id="l17.21" class="difflineat">@@ -937,18 +936,17 @@ function saveSearch()</span>
<a href="#l17.22"></a><span id="l17.22">       if (endOffset &gt; 0)</span>
<a href="#l17.23"></a><span id="l17.23">         lastSearchText = lastSearchText.substr(0, endOffset+1);</span>
<a href="#l17.24"></a><span id="l17.24">     }</span>
<a href="#l17.25"></a><span id="l17.25">   }</span>
<a href="#l17.26"></a><span id="l17.26"> </span>
<a href="#l17.27"></a><span id="l17.27">   var searchTitle = searchBundle.stringBundle.formatStringFromName(</span>
<a href="#l17.28"></a><span id="l17.28">                       &quot;searchTitle&quot;, [lastSearchText], 1);</span>
<a href="#l17.29"></a><span id="l17.29"> </span>
<a href="#l17.30"></a><span id="l17.30" class="difflineminus">-  var bmks = Components.classes[BMARKS_CONTRACTID].getService(nsIBookmarksService);</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-  bmks.addBookmarkImmediately(lastSearchURI, searchTitle, bmks.BOOKMARK_SEARCH_TYPE, null);</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+  // XXXplaces: add lastSearchURI to bookmarks with searchTitle</span>
<a href="#l17.33"></a><span id="l17.33"> }</span>
<a href="#l17.34"></a><span id="l17.34"> </span>
<a href="#l17.35"></a><span id="l17.35"> var gPageNumber = 0;</span>
<a href="#l17.36"></a><span id="l17.36"> /**</span>
<a href="#l17.37"></a><span id="l17.37">  * showMoreResults</span>
<a href="#l17.38"></a><span id="l17.38">  *</span>
<a href="#l17.39"></a><span id="l17.39">  * Run a query to show the next/previous page of search results for the</span>
<a href="#l17.40"></a><span id="l17.40">  * current search term.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/suite/feeds/src/FeedConverter.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/suite/feeds/src/FeedConverter.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -428,16 +428,21 @@ FeedResultService.prototype = {</span>
<a href="#l18.4"></a><span id="l18.4">       }</span>
<a href="#l18.5"></a><span id="l18.5">       break;</span>
<a href="#l18.6"></a><span id="l18.6"> </span>
<a href="#l18.7"></a><span id="l18.7">     default:</span>
<a href="#l18.8"></a><span id="l18.8">       // &quot;web&quot; should have been handled elsewhere</span>
<a href="#l18.9"></a><span id="l18.9">       LOG(&quot;unexpected handler: &quot; + handler);</span>
<a href="#l18.10"></a><span id="l18.10">       // fall through</span>
<a href="#l18.11"></a><span id="l18.11">     case &quot;bookmarks&quot;:</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+      var wm = Components.classes[&quot;@mozilla.org/appshell/window-mediator;1&quot;]</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+                         .getService(Components.interfaces.nsIWindowMediator);</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+      var topWindow = wm.getMostRecentWindow(&quot;navigator:browser&quot;);</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+      topWindow.PlacesCommandHook.addLiveBookmark(spec, title, subtitle);</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineplus">+      break;</span>
<a href="#l18.17"></a><span id="l18.17">     case &quot;messenger&quot;:</span>
<a href="#l18.18"></a><span id="l18.18">       Components.classes[&quot;@mozilla.org/newsblog-feed-downloader;1&quot;]</span>
<a href="#l18.19"></a><span id="l18.19">                 .getService(Components.interfaces.nsINewsBlogFeedDownloader)</span>
<a href="#l18.20"></a><span id="l18.20">                 .subscribeToFeed(&quot;feed:&quot; + spec, null, null);</span>
<a href="#l18.21"></a><span id="l18.21">       break;</span>
<a href="#l18.22"></a><span id="l18.22"> </span>
<a href="#l18.23"></a><span id="l18.23">     }</span>
<a href="#l18.24"></a><span id="l18.24">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/suite/feeds/src/FeedWriter.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/suite/feeds/src/FeedWriter.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -903,16 +903,21 @@ FeedWriter.prototype = {</span>
<a href="#l19.4"></a><span id="l19.4">           // isn't the selected application</span>
<a href="#l19.5"></a><span id="l19.5">           if (this._defaultSystemReader) {</span>
<a href="#l19.6"></a><span id="l19.6">             var shouldHide = this._defaultSystemReader.path == this._selectedApp.path;</span>
<a href="#l19.7"></a><span id="l19.7">             codeStr += &quot;defaultHandlerMenuItem.hidden = &quot; + shouldHide + &quot;;&quot;;</span>
<a href="#l19.8"></a><span id="l19.8">           }</span>
<a href="#l19.9"></a><span id="l19.9">           Components.utils.evalInSandbox(codeStr, this._contentSandbox);</span>
<a href="#l19.10"></a><span id="l19.10">           break;</span>
<a href="#l19.11"></a><span id="l19.11">         }</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+       case &quot;bookmarks&quot;:</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+         var liveBookmarksMenuItem = this._document.getElementById(&quot;liveBookmarksMenuItem&quot;);</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+         if (liveBookmarksMenuItem)</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+           this._safeDoCommand(liveBookmarksMenuItem);</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineplus">+         break;</span>
<a href="#l19.17"></a><span id="l19.17">       // fall through if this._selectedApp is null</span>
<a href="#l19.18"></a><span id="l19.18">       default:</span>
<a href="#l19.19"></a><span id="l19.19">         var messengerFeedsMenuItem = this._document.getElementById(&quot;messengerFeedsMenuItem&quot;);</span>
<a href="#l19.20"></a><span id="l19.20">         if (messengerFeedsMenuItem)</span>
<a href="#l19.21"></a><span id="l19.21">           this._safeDoCommand(messengerFeedsMenuItem);</span>
<a href="#l19.22"></a><span id="l19.22">         break;</span>
<a href="#l19.23"></a><span id="l19.23">     }</span>
<a href="#l19.24"></a><span id="l19.24">   },</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineat">@@ -1278,16 +1283,20 @@ FeedWriter.prototype = {</span>
<a href="#l19.26"></a><span id="l19.26">                                 this._selectedApp);</span>
<a href="#l19.27"></a><span id="l19.27">           prefs.setCharPref(getPrefReaderForType(feedType), &quot;client&quot;);</span>
<a href="#l19.28"></a><span id="l19.28">           break;</span>
<a href="#l19.29"></a><span id="l19.29">         case &quot;defaultHandlerMenuItem&quot;:</span>
<a href="#l19.30"></a><span id="l19.30">           prefs.setComplexValue(getPrefAppForType(feedType), Components.interfaces.nsILocalFile,</span>
<a href="#l19.31"></a><span id="l19.31">                                 this._defaultSystemReader);</span>
<a href="#l19.32"></a><span id="l19.32">           prefs.setCharPref(getPrefReaderForType(feedType), &quot;client&quot;);</span>
<a href="#l19.33"></a><span id="l19.33">           break;</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineplus">+        case &quot;liveBookmarksMenuItem&quot;:</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineplus">+          defaultHandler = &quot;bookmarks&quot;;</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineplus">+          prefs.setCharPref(getPrefReaderForType(feedType), &quot;bookmarks&quot;);</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineplus">+          break;</span>
<a href="#l19.38"></a><span id="l19.38">         case &quot;messengerFeedsMenuItem&quot;:</span>
<a href="#l19.39"></a><span id="l19.39">           defaultHandler = &quot;messenger&quot;;</span>
<a href="#l19.40"></a><span id="l19.40">           prefs.setCharPref(getPrefReaderForType(feedType), &quot;messenger&quot;);</span>
<a href="#l19.41"></a><span id="l19.41">           break;</span>
<a href="#l19.42"></a><span id="l19.42">       }</span>
<a href="#l19.43"></a><span id="l19.43">       var feedService = Components.classes[&quot;@mozilla.org/browser/feeds/result-service;1&quot;]</span>
<a href="#l19.44"></a><span id="l19.44">                                   .getService(Components.interfaces.nsIFeedResultService);</span>
<a href="#l19.45"></a><span id="l19.45"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/suite/locales/en-US/chrome/browser/navigator.dtd</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/browser/navigator.dtd</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -153,16 +153,17 @@</span>
<a href="#l20.4"></a><span id="l20.4"> </span>
<a href="#l20.5"></a><span id="l20.5"> &lt;!ENTITY proxyIcon.tooltip            &quot;Drag and drop this icon to create a link to this page&quot;&gt;</span>
<a href="#l20.6"></a><span id="l20.6"> </span>
<a href="#l20.7"></a><span id="l20.7"> &lt;!-- Toolbar items --&gt; </span>
<a href="#l20.8"></a><span id="l20.8"> &lt;!ENTITY  bookmarksButton.label       &quot;Bookmarks&quot;&gt;</span>
<a href="#l20.9"></a><span id="l20.9"> &lt;!ENTITY  bookmarksButton.tooltip     &quot;Bookmarks list&quot;&gt;</span>
<a href="#l20.10"></a><span id="l20.10"> &lt;!ENTITY  homeButton.label            &quot;Home&quot;&gt;</span>
<a href="#l20.11"></a><span id="l20.11"> &lt;!ENTITY  bookmarksToolbarItem.label  &quot;Bookmarks Toolbar Items&quot;&gt;</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+&lt;!ENTITY bookmarksToolbarChevron.tooltip &quot;Show more bookmarks&quot;&gt;</span>
<a href="#l20.13"></a><span id="l20.13"> </span>
<a href="#l20.14"></a><span id="l20.14"> &lt;!-- Statusbar --&gt;</span>
<a href="#l20.15"></a><span id="l20.15"> &lt;!ENTITY  statusText.label            &quot;Done&quot;&gt;</span>
<a href="#l20.16"></a><span id="l20.16"> </span>
<a href="#l20.17"></a><span id="l20.17"> &lt;!ENTITY historyCmd.label           &quot;History&quot;&gt;  </span>
<a href="#l20.18"></a><span id="l20.18"> &lt;!ENTITY historyCmd.accesskey       &quot;i&quot;&gt;</span>
<a href="#l20.19"></a><span id="l20.19"> &lt;!ENTITY history.commandKey         &quot;h&quot;&gt;</span>
<a href="#l20.20"></a><span id="l20.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/suite/locales/en-US/chrome/browser/navigator.properties</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/browser/navigator.properties</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -48,14 +48,16 @@ lwthemeInstallRequest.allowButton=Allow</span>
<a href="#l21.4"></a><span id="l21.4"> lwthemeInstallRequest.allowButton.accesskey=a</span>
<a href="#l21.5"></a><span id="l21.5"> </span>
<a href="#l21.6"></a><span id="l21.6"> lwthemePostInstallNotification.message=A new theme has been installed.</span>
<a href="#l21.7"></a><span id="l21.7"> lwthemePostInstallNotification.undoButton=Undo</span>
<a href="#l21.8"></a><span id="l21.8"> lwthemePostInstallNotification.undoButton.accesskey=n</span>
<a href="#l21.9"></a><span id="l21.9"> lwthemePostInstallNotification.manageButton=Manage Themes…</span>
<a href="#l21.10"></a><span id="l21.10"> lwthemePostInstallNotification.manageButton.accesskey=M</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineplus">+menuOpenAllInTabs.label=Open All in Tabs</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+</span>
<a href="#l21.14"></a><span id="l21.14"> # urlbarBindings.xml</span>
<a href="#l21.15"></a><span id="l21.15"> # LOCALIZATION NOTE: This is for the location bar drop-down string:</span>
<a href="#l21.16"></a><span id="l21.16"> #   &quot;Search &quot; + search_engine_name + &quot; for &quot; + user_input</span>
<a href="#l21.17"></a><span id="l21.17"> #   e.g. &quot;Search Google for abc&quot;</span>
<a href="#l21.18"></a><span id="l21.18"> # DO NOT change the %S order when translate, the first %S must be the search engine name.</span>
<a href="#l21.19"></a><span id="l21.19"> searchFor=Search %S for &quot;%S&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1">new file mode 100644</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineminus">--- /dev/null</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/bookmarks/places.dtd</span>
<a href="#l22.4"></a><span id="l22.4" class="difflineat">@@ -0,0 +1,104 @@</span>
<a href="#l22.5"></a><span id="l22.5" class="difflineplus">+&lt;!ENTITY bookmarksManager.title         &quot;Bookmarks Manager&quot;&gt;</span>
<a href="#l22.6"></a><span id="l22.6" class="difflineplus">+&lt;!ENTITY bookmarksManager.width         &quot;700&quot;&gt;</span>
<a href="#l22.7"></a><span id="l22.7" class="difflineplus">+&lt;!ENTITY bookmarksManager.height        &quot;500&quot;&gt;</span>
<a href="#l22.8"></a><span id="l22.8" class="difflineplus">+</span>
<a href="#l22.9"></a><span id="l22.9" class="difflineplus">+&lt;!ENTITY file.accesskey                 &quot;F&quot;&gt;</span>
<a href="#l22.10"></a><span id="l22.10" class="difflineplus">+&lt;!ENTITY file.close.label               &quot;Close&quot;&gt;</span>
<a href="#l22.11"></a><span id="l22.11" class="difflineplus">+&lt;!ENTITY file.close.accesskey           &quot;C&quot;&gt;</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineplus">+&lt;!ENTITY cmd.close.key                  &quot;w&quot;&gt;</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineplus">+&lt;!ENTITY view.columns.label             &quot;Show Columns&quot;&gt;</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineplus">+&lt;!ENTITY view.columns.accesskey         &quot;C&quot;&gt;</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineplus">+&lt;!ENTITY view.sort.label                &quot;Sort&quot;&gt;</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineplus">+&lt;!ENTITY view.sort.accesskey            &quot;S&quot;&gt;</span>
<a href="#l22.18"></a><span id="l22.18" class="difflineplus">+&lt;!ENTITY view.unsorted.label            &quot;Unsorted&quot;&gt;</span>
<a href="#l22.19"></a><span id="l22.19" class="difflineplus">+&lt;!ENTITY view.unsorted.accesskey        &quot;U&quot;&gt;</span>
<a href="#l22.20"></a><span id="l22.20" class="difflineplus">+&lt;!ENTITY view.sortAscending.label       &quot;A &gt; Z Sort Order&quot;&gt;</span>
<a href="#l22.21"></a><span id="l22.21" class="difflineplus">+&lt;!ENTITY view.sortAscending.accesskey   &quot;A&quot;&gt;</span>
<a href="#l22.22"></a><span id="l22.22" class="difflineplus">+&lt;!ENTITY view.sortDescending.label      &quot;Z &gt; A Sort Order&quot;&gt;</span>
<a href="#l22.23"></a><span id="l22.23" class="difflineplus">+&lt;!ENTITY view.sortDescending.accesskey  &quot;Z&quot;&gt;</span>
<a href="#l22.24"></a><span id="l22.24" class="difflineplus">+</span>
<a href="#l22.25"></a><span id="l22.25" class="difflineplus">+&lt;!ENTITY cmd.findInBookmarks.label      &quot;Find in Bookmarks…&quot;&gt;</span>
<a href="#l22.26"></a><span id="l22.26" class="difflineplus">+&lt;!ENTITY cmd.findInBookmarks.accesskey  &quot;F&quot;&gt;</span>
<a href="#l22.27"></a><span id="l22.27" class="difflineplus">+&lt;!ENTITY cmd.findCurrent.label          &quot;Find in Current Collection…&quot;&gt;</span>
<a href="#l22.28"></a><span id="l22.28" class="difflineplus">+&lt;!ENTITY cmd.findCurrent.accesskey      &quot;i&quot;&gt;</span>
<a href="#l22.29"></a><span id="l22.29" class="difflineplus">+</span>
<a href="#l22.30"></a><span id="l22.30" class="difflineplus">+&lt;!ENTITY cmd.exportHTML.label           &quot;Export HTML…&quot;&gt;</span>
<a href="#l22.31"></a><span id="l22.31" class="difflineplus">+&lt;!ENTITY cmd.exportHTML.accesskey       &quot;E&quot;&gt;</span>
<a href="#l22.32"></a><span id="l22.32" class="difflineplus">+&lt;!ENTITY cmd.importHTML.label           &quot;Import HTML…&quot;&gt;</span>
<a href="#l22.33"></a><span id="l22.33" class="difflineplus">+&lt;!ENTITY cmd.importHTML.accesskey       &quot;I&quot;&gt;</span>
<a href="#l22.34"></a><span id="l22.34" class="difflineplus">+</span>
<a href="#l22.35"></a><span id="l22.35" class="difflineplus">+&lt;!ENTITY cmd.backup.label               &quot;Backup…&quot;&gt;</span>
<a href="#l22.36"></a><span id="l22.36" class="difflineplus">+&lt;!ENTITY cmd.backup.accesskey           &quot;B&quot;&gt;</span>
<a href="#l22.37"></a><span id="l22.37" class="difflineplus">+&lt;!ENTITY cmd.restore2.label             &quot;Restore&quot;&gt;</span>
<a href="#l22.38"></a><span id="l22.38" class="difflineplus">+&lt;!ENTITY cmd.restore2.accesskey         &quot;R&quot;&gt;</span>
<a href="#l22.39"></a><span id="l22.39" class="difflineplus">+&lt;!ENTITY cmd.restoreFromFile.label      &quot;Choose File…&quot;&gt;</span>
<a href="#l22.40"></a><span id="l22.40" class="difflineplus">+&lt;!ENTITY cmd.restoreFromFile.accesskey  &quot;C&quot;&gt;</span>
<a href="#l22.41"></a><span id="l22.41" class="difflineplus">+</span>
<a href="#l22.42"></a><span id="l22.42" class="difflineplus">+&lt;!ENTITY cmd.bookmarkLink.label         &quot;Bookmark This Page…&quot;&gt;</span>
<a href="#l22.43"></a><span id="l22.43" class="difflineplus">+&lt;!ENTITY cmd.bookmarkLink.accesskey     &quot;B&quot;&gt;</span>
<a href="#l22.44"></a><span id="l22.44" class="difflineplus">+&lt;!ENTITY cmd.delete.label               &quot;Delete This Page&quot;&gt;</span>
<a href="#l22.45"></a><span id="l22.45" class="difflineplus">+&lt;!ENTITY cmd.delete.accesskey           &quot;D&quot;&gt;</span>
<a href="#l22.46"></a><span id="l22.46" class="difflineplus">+&lt;!ENTITY cmd.deleteDomainData.label     &quot;Forget About This Site&quot;&gt;</span>
<a href="#l22.47"></a><span id="l22.47" class="difflineplus">+&lt;!ENTITY cmd.deleteDomainData.accesskey &quot;F&quot;&gt;</span>
<a href="#l22.48"></a><span id="l22.48" class="difflineplus">+</span>
<a href="#l22.49"></a><span id="l22.49" class="difflineplus">+&lt;!ENTITY cmd.open.label                  &quot;Open&quot;&gt;</span>
<a href="#l22.50"></a><span id="l22.50" class="difflineplus">+&lt;!ENTITY cmd.open.accesskey              &quot;O&quot;&gt;</span>
<a href="#l22.51"></a><span id="l22.51" class="difflineplus">+&lt;!ENTITY cmd.open_window.label           &quot;Open in a New Window&quot;&gt;</span>
<a href="#l22.52"></a><span id="l22.52" class="difflineplus">+&lt;!ENTITY cmd.open_window.accesskey       &quot;N&quot;&gt;</span>
<a href="#l22.53"></a><span id="l22.53" class="difflineplus">+&lt;!ENTITY cmd.open_tab.label              &quot;Open in a New Tab&quot;&gt;</span>
<a href="#l22.54"></a><span id="l22.54" class="difflineplus">+&lt;!ENTITY cmd.open_tab.accesskey          &quot;w&quot;&gt;</span>
<a href="#l22.55"></a><span id="l22.55" class="difflineplus">+&lt;!ENTITY cmd.open_all_in_tabs.label      &quot;Open All in Tabs&quot;&gt;</span>
<a href="#l22.56"></a><span id="l22.56" class="difflineplus">+&lt;!ENTITY cmd.open_all_in_tabs.accesskey  &quot;O&quot;&gt;</span>
<a href="#l22.57"></a><span id="l22.57" class="difflineplus">+</span>
<a href="#l22.58"></a><span id="l22.58" class="difflineplus">+&lt;!ENTITY cmd.properties.label      &quot;Properties&quot;&gt;</span>
<a href="#l22.59"></a><span id="l22.59" class="difflineplus">+&lt;!ENTITY cmd.properties.accesskey  &quot;i&quot;&gt;</span>
<a href="#l22.60"></a><span id="l22.60" class="difflineplus">+</span>
<a href="#l22.61"></a><span id="l22.61" class="difflineplus">+&lt;!ENTITY cmd.sortby_name.label              &quot;Sort By Name&quot;&gt;</span>
<a href="#l22.62"></a><span id="l22.62" class="difflineplus">+&lt;!ENTITY cmd.sortby_name.accesskey          &quot;r&quot;&gt;</span>
<a href="#l22.63"></a><span id="l22.63" class="difflineplus">+</span>
<a href="#l22.64"></a><span id="l22.64" class="difflineplus">+&lt;!ENTITY cmd.new_bookmark.label            &quot;New Bookmark…&quot;&gt;</span>
<a href="#l22.65"></a><span id="l22.65" class="difflineplus">+&lt;!ENTITY cmd.new_bookmark.accesskey        &quot;B&quot;&gt;</span>
<a href="#l22.66"></a><span id="l22.66" class="difflineplus">+&lt;!ENTITY cmd.new_folder.label              &quot;New Folder…&quot;&gt;</span>
<a href="#l22.67"></a><span id="l22.67" class="difflineplus">+&lt;!ENTITY cmd.new_folder.accesskey          &quot;o&quot;&gt;</span>
<a href="#l22.68"></a><span id="l22.68" class="difflineplus">+&lt;!ENTITY cmd.context_new_folder.accesskey  &quot;F&quot;&gt;</span>
<a href="#l22.69"></a><span id="l22.69" class="difflineplus">+&lt;!ENTITY cmd.new_separator.label           &quot;New Separator&quot;&gt;</span>
<a href="#l22.70"></a><span id="l22.70" class="difflineplus">+&lt;!ENTITY cmd.new_separator.accesskey       &quot;S&quot;&gt;</span>
<a href="#l22.71"></a><span id="l22.71" class="difflineplus">+</span>
<a href="#l22.72"></a><span id="l22.72" class="difflineplus">+&lt;!ENTITY cmd.reloadLivebookmark.label      &quot;Reload Live Bookmark&quot;&gt;</span>
<a href="#l22.73"></a><span id="l22.73" class="difflineplus">+&lt;!ENTITY cmd.reloadLivebookmark.accesskey  &quot;R&quot;&gt;</span>
<a href="#l22.74"></a><span id="l22.74" class="difflineplus">+&lt;!ENTITY cmd.reloadMicrosummary.label      &quot;Reload Live Title&quot;&gt;</span>
<a href="#l22.75"></a><span id="l22.75" class="difflineplus">+&lt;!ENTITY cmd.reloadMicrosummary.accesskey  &quot;R&quot;&gt;</span>
<a href="#l22.76"></a><span id="l22.76" class="difflineplus">+</span>
<a href="#l22.77"></a><span id="l22.77" class="difflineplus">+&lt;!ENTITY cmd.moveBookmarks.label                  &quot;Move…&quot;&gt;</span>
<a href="#l22.78"></a><span id="l22.78" class="difflineplus">+&lt;!ENTITY cmd.moveBookmarks.accesskey              &quot;M&quot;&gt;</span>
<a href="#l22.79"></a><span id="l22.79" class="difflineplus">+</span>
<a href="#l22.80"></a><span id="l22.80" class="difflineplus">+&lt;!ENTITY col.name.label          &quot;Name&quot;&gt;</span>
<a href="#l22.81"></a><span id="l22.81" class="difflineplus">+&lt;!ENTITY col.tags.label          &quot;Tags&quot;&gt;</span>
<a href="#l22.82"></a><span id="l22.82" class="difflineplus">+&lt;!ENTITY col.url.label           &quot;Location&quot;&gt;</span>
<a href="#l22.83"></a><span id="l22.83" class="difflineplus">+&lt;!ENTITY col.lastvisit.label     &quot;Visit Date&quot;&gt;</span>
<a href="#l22.84"></a><span id="l22.84" class="difflineplus">+&lt;!ENTITY col.visitcount.label    &quot;Visit Count&quot;&gt;</span>
<a href="#l22.85"></a><span id="l22.85" class="difflineplus">+&lt;!ENTITY col.keyword.label       &quot;Keyword&quot;&gt;</span>
<a href="#l22.86"></a><span id="l22.86" class="difflineplus">+&lt;!ENTITY col.description.label   &quot;Description&quot;&gt;</span>
<a href="#l22.87"></a><span id="l22.87" class="difflineplus">+&lt;!ENTITY col.dateadded.label     &quot;Added&quot;&gt;</span>
<a href="#l22.88"></a><span id="l22.88" class="difflineplus">+&lt;!ENTITY col.lastmodified.label  &quot;Last Modified&quot;&gt;</span>
<a href="#l22.89"></a><span id="l22.89" class="difflineplus">+</span>
<a href="#l22.90"></a><span id="l22.90" class="difflineplus">+&lt;!ENTITY search.label                              &quot;Search:&quot;&gt;</span>
<a href="#l22.91"></a><span id="l22.91" class="difflineplus">+&lt;!ENTITY search.accesskey                          &quot;S&quot;&gt;</span>
<a href="#l22.92"></a><span id="l22.92" class="difflineplus">+&lt;!ENTITY search.scopeFolder.label                  &quot;Selected Folder&quot;&gt;</span>
<a href="#l22.93"></a><span id="l22.93" class="difflineplus">+&lt;!ENTITY search.scopeFolder.accesskey              &quot;r&quot;&gt;</span>
<a href="#l22.94"></a><span id="l22.94" class="difflineplus">+&lt;!ENTITY search.scopeBookmarks.label               &quot;Bookmarks&quot;&gt;</span>
<a href="#l22.95"></a><span id="l22.95" class="difflineplus">+&lt;!ENTITY search.scopeBookmarks.accesskey           &quot;k&quot;&gt;</span>
<a href="#l22.96"></a><span id="l22.96" class="difflineplus">+&lt;!ENTITY saveSearch.label                          &quot;Save&quot;&gt;</span>
<a href="#l22.97"></a><span id="l22.97" class="difflineplus">+&lt;!ENTITY saveSearch.accesskey                      &quot;S&quot;&gt;</span>
<a href="#l22.98"></a><span id="l22.98" class="difflineplus">+</span>
<a href="#l22.99"></a><span id="l22.99" class="difflineplus">+&lt;!ENTITY cmd.find.key  &quot;f&quot;&gt;</span>
<a href="#l22.100"></a><span id="l22.100" class="difflineplus">+</span>
<a href="#l22.101"></a><span id="l22.101" class="difflineplus">+&lt;!ENTITY backButton.tooltip  &quot;Go back&quot;&gt;</span>
<a href="#l22.102"></a><span id="l22.102" class="difflineplus">+&lt;!ENTITY forwardButton.tooltip  &quot;Go forward&quot;&gt;</span>
<a href="#l22.103"></a><span id="l22.103" class="difflineplus">+</span>
<a href="#l22.104"></a><span id="l22.104" class="difflineplus">+&lt;!ENTITY detailsPane.more.label &quot;More&quot;&gt;</span>
<a href="#l22.105"></a><span id="l22.105" class="difflineplus">+&lt;!ENTITY detailsPane.more.accesskey &quot;e&quot;&gt;</span>
<a href="#l22.106"></a><span id="l22.106" class="difflineplus">+&lt;!ENTITY detailsPane.less.label &quot;Less&quot;&gt;</span>
<a href="#l22.107"></a><span id="l22.107" class="difflineplus">+&lt;!ENTITY detailsPane.less.accesskey &quot;e&quot;&gt;</span>
<a href="#l22.108"></a><span id="l22.108" class="difflineplus">+&lt;!ENTITY detailsPane.selectAnItemText.description &quot;Select an item to view and edit its properties&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/feeds/subscribe.dtd</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/feeds/subscribe.dtd</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -1,3 +1,4 @@</span>
<a href="#l23.4"></a><span id="l23.4"> &lt;!ENTITY feedPage.title &quot;Viewing Feed&quot;&gt;</span>
<a href="#l23.5"></a><span id="l23.5"> &lt;!ENTITY feedSubscribeNow &quot;Subscribe Now&quot;&gt;</span>
<a href="#l23.6"></a><span id="l23.6"> &lt;!ENTITY feedMessenger &quot;News &amp;amp; Blogs&quot;&gt;</span>
<a href="#l23.7"></a><span id="l23.7" class="difflineplus">+&lt;!ENTITY feedLiveBookmarks &quot;Live Bookmarks&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/suite/locales/jar.mn</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/suite/locales/jar.mn</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -44,16 +44,17 @@</span>
<a href="#l24.4"></a><span id="l24.4">   locale/@AB_CD@/communicator/viewZoomOverlay.properties                    (%chrome/common/viewZoomOverlay.properties)</span>
<a href="#l24.5"></a><span id="l24.5">   locale/@AB_CD@/communicator/aboutSessionRestore.dtd                       (%chrome/common/aboutSessionRestore.dtd)</span>
<a href="#l24.6"></a><span id="l24.6">   locale/@AB_CD@/communicator/bookmarks/addBookmark.dtd                     (%chrome/common/bookmarks/addBookmark.dtd)</span>
<a href="#l24.7"></a><span id="l24.7">   locale/@AB_CD@/communicator/bookmarks/bm-props.dtd                        (%chrome/common/bookmarks/bm-props.dtd)</span>
<a href="#l24.8"></a><span id="l24.8">   locale/@AB_CD@/communicator/bookmarks/bookmarks.dtd                       (%chrome/common/bookmarks/bookmarks.dtd)</span>
<a href="#l24.9"></a><span id="l24.9">   locale/@AB_CD@/communicator/bookmarks/bookmarks.properties                (%chrome/common/bookmarks/bookmarks.properties)</span>
<a href="#l24.10"></a><span id="l24.10">   locale/@AB_CD@/communicator/bookmarks/findBookmark.dtd                    (%chrome/common/bookmarks/findBookmark.dtd)</span>
<a href="#l24.11"></a><span id="l24.11">   locale/@AB_CD@/communicator/bookmarks/sortFolder.dtd                      (%chrome/common/bookmarks/sortFolder.dtd)</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineplus">+  locale/@AB_CD@/communicator/bookmarks/places.dtd                          (%chrome/common/bookmarks/places.dtd)</span>
<a href="#l24.13"></a><span id="l24.13">   locale/@AB_CD@/communicator/directory/directory.dtd                       (%chrome/common/directory/directory.dtd)</span>
<a href="#l24.14"></a><span id="l24.14">   locale/@AB_CD@/communicator/downloads/downloadmanager.dtd                 (%chrome/common/downloads/downloadmanager.dtd)</span>
<a href="#l24.15"></a><span id="l24.15">   locale/@AB_CD@/communicator/downloads/downloadmanager.properties          (%chrome/common/downloads/downloadmanager.properties)</span>
<a href="#l24.16"></a><span id="l24.16">   locale/@AB_CD@/communicator/downloads/progressDialog.dtd                  (%chrome/common/downloads/progressDialog.dtd)</span>
<a href="#l24.17"></a><span id="l24.17">   locale/@AB_CD@/communicator/help/cert_dialog_help.xhtml                   (%chrome/common/help/cert_dialog_help.xhtml)</span>
<a href="#l24.18"></a><span id="l24.18">   locale/@AB_CD@/communicator/help/certs_help.xhtml                         (%chrome/common/help/certs_help.xhtml)</span>
<a href="#l24.19"></a><span id="l24.19">   locale/@AB_CD@/communicator/help/certs_prefs_help.xhtml                   (%chrome/common/help/certs_prefs_help.xhtml)</span>
<a href="#l24.20"></a><span id="l24.20">   locale/@AB_CD@/communicator/help/composer_help.xhtml                      (%chrome/common/help/composer_help.xhtml)</span>
<a href="#l24.21"></a><span id="l24.21" class="difflineat">@@ -133,16 +134,17 @@</span>
<a href="#l24.22"></a><span id="l24.22">   locale/@AB_CD@/communicator/history/places.properties                     (%chrome/common/history/places.properties)</span>
<a href="#l24.23"></a><span id="l24.23">   locale/@AB_CD@/communicator/migration/migration.dtd                       (%chrome/common/migration/migration.dtd)</span>
<a href="#l24.24"></a><span id="l24.24">   locale/@AB_CD@/communicator/migration/migration.properties                (%chrome/common/migration/migration.properties)</span>
<a href="#l24.25"></a><span id="l24.25">   locale/@AB_CD@/communicator/permissions/cookieViewer.properties           (%chrome/common/permissions/cookieViewer.properties)</span>
<a href="#l24.26"></a><span id="l24.26">   locale/@AB_CD@/communicator/permissions/cookieViewer.dtd                  (%chrome/common/permissions/cookieViewer.dtd)</span>
<a href="#l24.27"></a><span id="l24.27">   locale/@AB_CD@/communicator/permissions/permissionsManager.dtd            (%chrome/common/permissions/permissionsManager.dtd)</span>
<a href="#l24.28"></a><span id="l24.28">   locale/@AB_CD@/communicator/permissions/permissionsManager.properties     (%chrome/common/permissions/permissionsManager.properties)</span>
<a href="#l24.29"></a><span id="l24.29">   locale/@AB_CD@/communicator/permissions/permissionsNavigatorOverlay.dtd   (%chrome/common/permissions/permissionsNavigatorOverlay.dtd)</span>
<a href="#l24.30"></a><span id="l24.30" class="difflineplus">+  locale/@AB_CD@/communicator/places/places.properties                      (%chrome/common/places/places.properties)</span>
<a href="#l24.31"></a><span id="l24.31">   locale/@AB_CD@/communicator/pref/prefutilities.properties                 (%chrome/common/pref/prefutilities.properties)</span>
<a href="#l24.32"></a><span id="l24.32">   locale/@AB_CD@/communicator/pref/preferences.dtd                          (%chrome/common/pref/preferences.dtd)</span>
<a href="#l24.33"></a><span id="l24.33">   locale/@AB_CD@/communicator/pref/pref-advanced.dtd                        (%chrome/common/pref/pref-advanced.dtd)</span>
<a href="#l24.34"></a><span id="l24.34">   locale/@AB_CD@/communicator/pref/pref-appearance.dtd                      (%chrome/common/pref/pref-appearance.dtd)</span>
<a href="#l24.35"></a><span id="l24.35">   locale/@AB_CD@/communicator/pref/pref-applications.dtd                    (%chrome/common/pref/pref-applications.dtd)</span>
<a href="#l24.36"></a><span id="l24.36">   locale/@AB_CD@/communicator/pref/pref-applications.properties             (%chrome/common/pref/pref-applications.properties)</span>
<a href="#l24.37"></a><span id="l24.37">   locale/@AB_CD@/communicator/pref/pref-applicationManager.dtd              (%chrome/common/pref/pref-applicationManager.dtd)</span>
<a href="#l24.38"></a><span id="l24.38">   locale/@AB_CD@/communicator/pref/pref-applicationManager.properties       (%chrome/common/pref/pref-applicationManager.properties)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1">new file mode 100644</span>
<a href="#l25.2"></a><span id="l25.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..694760873498fadf1964139965a11a6ca93d9c13</span>
<a href="#l25.3"></a><span id="l25.3">GIT binary patch
literal 584
zc$@)90=NB%P)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00001b5ch_0Itp)
z=&gt;Px#24YJ`L;(K){{a7&gt;y{D4^000SaNLh0L01FcU01FcV0GgZ_00007bV*G`2igM;
z5)=WR1qjyw00GEJL_t(I%Z&lt;}LYg9oL#_|8$&gt;?$cVph6UDD}y3isAwVE2o^!HiC9|N
z?6&lt;HHwD1dP+CU1;3W5e?3qgex77G$gqZSscSGdVK=Q+n&gt;Uu4lsoMv8_^P4lAnZ&amp;r=
zT6ugIc*K9UvK+9{?WD#y_yN$lbon&amp;5@3i&amp;}-g&gt;vq{d&gt;;&lt;XpGl7?e&lt;v!)}Cyk2xN}C
zld~{0EIZkZoQ&gt;lrj!v-&amp;K)+w&amp;E-qeKARMHGYYwSE-oPzk3U)qzo5^MhxI6A56u5%~
zuD}&amp;YAPZzcHq`+_66R?d=n70A8v`C#t^;Jaj2Lh1eOf0ah)A3}wmgDFJzz3S!W8s&amp;
z*16hh6BM{RFWx_8&gt;F_nAMAj@&amp;Oa_wS%7n-0WC~VS*ZBJDJFQda`CNUVs&amp;&lt;iC9Ux3b
z&amp;ZAWK+_|}OgCaL6hZRQ-EmH0M#LWK&lt;m}O*!2`-$x&amp;a1aC=?}J1hLjH=n&lt;G&gt;p)dDs~
zoScKDg=KcXWClMfw097O^Q1KY7tr`~g^Vd9gP|NZSWIWg&lt;q-2Go|`lZuLsNwxkfb?
zNP(+KQe!#~A62C$14A-w@`w!NjCz54;E@1$-tEl-WjS~VbO2s&amp;zS;LTZge|oGX4$B
WZ(xE&lt;|A1@&amp;0000&lt;MNUMnLSTZxYVR!o</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1">deleted file mode 100644</span>
<a href="#l26.2"></a><span id="l26.2">index a2dd014d2878d8172bad2548042d1c7f7ab2935f..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l26.3"></a><span id="l26.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1">deleted file mode 100644</span>
<a href="#l27.2"></a><span id="l27.2">index 4736044bc02184eb79f6dc5e82f00f7f4dfd3d53..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l27.3"></a><span id="l27.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1">deleted file mode 100644</span>
<a href="#l28.2"></a><span id="l28.2">index 651f825dd62fe021648741789421434aa758f695..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l28.3"></a><span id="l28.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/suite/themes/classic/communicator/bookmarks/bookmarks.css</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/suite/themes/classic/communicator/bookmarks/bookmarks.css</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -36,75 +36,117 @@</span>
<a href="#l29.4"></a><span id="l29.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l29.5"></a><span id="l29.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l29.6"></a><span id="l29.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l29.7"></a><span id="l29.7">  *</span>
<a href="#l29.8"></a><span id="l29.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l29.9"></a><span id="l29.9"> </span>
<a href="#l29.10"></a><span id="l29.10"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l29.11"></a><span id="l29.11"> </span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-/** </span>
<a href="#l29.13"></a><span id="l29.13" class="difflineminus">- * Style rules for generic bookmarks items. </span>
<a href="#l29.14"></a><span id="l29.14" class="difflineminus">- */    </span>
<a href="#l29.15"></a><span id="l29.15" class="difflineplus">+/**</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineplus">+ * Style rules for generic bookmarks items.</span>
<a href="#l29.17"></a><span id="l29.17" class="difflineplus">+ */</span>
<a href="#l29.18"></a><span id="l29.18"> </span>
<a href="#l29.19"></a><span id="l29.19" class="difflineminus">-treechildren::-moz-tree-image(Name) {</span>
<a href="#l29.20"></a><span id="l29.20" class="difflineplus">+treechildren::-moz-tree-image(Name),</span>
<a href="#l29.21"></a><span id="l29.21" class="difflineplus">+treechildren::-moz-tree-image(title) {</span>
<a href="#l29.22"></a><span id="l29.22">   -moz-margin-end: 2px;</span>
<a href="#l29.23"></a><span id="l29.23">   width: 16px;</span>
<a href="#l29.24"></a><span id="l29.24">   height: 16px;</span>
<a href="#l29.25"></a><span id="l29.25"> }</span>
<a href="#l29.26"></a><span id="l29.26"> </span>
<a href="#l29.27"></a><span id="l29.27"> .bookmark-item,</span>
<a href="#l29.28"></a><span id="l29.28" class="difflineminus">-treechildren::-moz-tree-image(Name) {</span>
<a href="#l29.29"></a><span id="l29.29" class="difflineplus">+treechildren::-moz-tree-image(Name),</span>
<a href="#l29.30"></a><span id="l29.30" class="difflineplus">+treechildren::-moz-tree-image(title) {</span>
<a href="#l29.31"></a><span id="l29.31">   list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.png&quot;);</span>
<a href="#l29.32"></a><span id="l29.32"> }</span>
<a href="#l29.33"></a><span id="l29.33"> </span>
<a href="#l29.34"></a><span id="l29.34"> .bookmark-item[container=&quot;true&quot;],</span>
<a href="#l29.35"></a><span id="l29.35" class="difflineminus">-treechildren::-moz-tree-image(Name, container) {</span>
<a href="#l29.36"></a><span id="l29.36" class="difflineplus">+treechildren::-moz-tree-image(Name, container),</span>
<a href="#l29.37"></a><span id="l29.37" class="difflineplus">+treechildren::-moz-tree-image(title, container) {</span>
<a href="#l29.38"></a><span id="l29.38">   list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-folder-closed.png&quot;);</span>
<a href="#l29.39"></a><span id="l29.39"> }</span>
<a href="#l29.40"></a><span id="l29.40"> </span>
<a href="#l29.41"></a><span id="l29.41"> .bookmark-item[open=&quot;true&quot;],</span>
<a href="#l29.42"></a><span id="l29.42" class="difflineminus">-treechildren::-moz-tree-image(Name, open) {</span>
<a href="#l29.43"></a><span id="l29.43" class="difflineplus">+treechildren::-moz-tree-image(Name, open),</span>
<a href="#l29.44"></a><span id="l29.44" class="difflineplus">+treechildren::-moz-tree-image(title, open) {</span>
<a href="#l29.45"></a><span id="l29.45">   list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-folder-open.png&quot;);</span>
<a href="#l29.46"></a><span id="l29.46"> }</span>
<a href="#l29.47"></a><span id="l29.47"> </span>
<a href="#l29.48"></a><span id="l29.48"> .bookmark-item[container=&quot;true&quot;][open=&quot;true&quot;][loading=&quot;true&quot;] {</span>
<a href="#l29.49"></a><span id="l29.49">   list-style-image: url(&quot;chrome://communicator/skin/icons/loading.gif&quot;) !important;</span>
<a href="#l29.50"></a><span id="l29.50"> }</span>
<a href="#l29.51"></a><span id="l29.51"> </span>
<a href="#l29.52"></a><span id="l29.52" class="difflineminus">-.bookmark-item[status=&quot;new&quot;],</span>
<a href="#l29.53"></a><span id="l29.53" class="difflineminus">-treechildren::-moz-tree-image(Name, new) {</span>
<a href="#l29.54"></a><span id="l29.54" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item-updated.png&quot;);</span>
<a href="#l29.55"></a><span id="l29.55" class="difflineminus">-}</span>
<a href="#l29.56"></a><span id="l29.56" class="difflineminus">-</span>
<a href="#l29.57"></a><span id="l29.57"> .bookmark-item &gt; .toolbarbutton-box &gt; .toolbarbutton-icon {</span>
<a href="#l29.58"></a><span id="l29.58">   list-style-image: inherit;</span>
<a href="#l29.59"></a><span id="l29.59">   width: 16px;</span>
<a href="#l29.60"></a><span id="l29.60">   height: 16px;</span>
<a href="#l29.61"></a><span id="l29.61"> }</span>
<a href="#l29.62"></a><span id="l29.62"> </span>
<a href="#l29.63"></a><span id="l29.63" class="difflineminus">-treechildren::-moz-tree-twisty(group, hidetwisty) {</span>
<a href="#l29.64"></a><span id="l29.64" class="difflineminus">-  list-style-image: none;</span>
<a href="#l29.65"></a><span id="l29.65" class="difflineminus">-}</span>
<a href="#l29.66"></a><span id="l29.66" class="difflineminus">-</span>
<a href="#l29.67"></a><span id="l29.67" class="difflineminus">-treechildren::-moz-tree-image(Name, container, group) {</span>
<a href="#l29.68"></a><span id="l29.68" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-group.png&quot;);</span>
<a href="#l29.69"></a><span id="l29.69" class="difflineminus">-}</span>
<a href="#l29.70"></a><span id="l29.70" class="difflineminus">-</span>
<a href="#l29.71"></a><span id="l29.71"> /* calendar icon for history grouping items by day */</span>
<a href="#l29.72"></a><span id="l29.72"> treechildren::-moz-tree-image(Name, query, dayContainer) {</span>
<a href="#l29.73"></a><span id="l29.73">   list-style-image: url(&quot;chrome://communicator/skin/history/calendar.png&quot;);</span>
<a href="#l29.74"></a><span id="l29.74"> }</span>
<a href="#l29.75"></a><span id="l29.75"> </span>
<a href="#l29.76"></a><span id="l29.76" class="difflineminus">-treechildren::-moz-tree-image(Name, separator) {</span>
<a href="#l29.77"></a><span id="l29.77" class="difflineplus">+.bookmark-item[container][livemark],</span>
<a href="#l29.78"></a><span id="l29.78" class="difflineplus">+treechildren::-moz-tree-image(title, container, livemark) {</span>
<a href="#l29.79"></a><span id="l29.79" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/livemark-folder.png&quot;);</span>
<a href="#l29.80"></a><span id="l29.80" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l29.81"></a><span id="l29.81" class="difflineplus">+}</span>
<a href="#l29.82"></a><span id="l29.82" class="difflineplus">+</span>
<a href="#l29.83"></a><span id="l29.83" class="difflineplus">+.bookmark-item[container][livemark] .bookmark-item,</span>
<a href="#l29.84"></a><span id="l29.84" class="difflineplus">+treechildren::-moz-tree-image(title, livemarkItem) {</span>
<a href="#l29.85"></a><span id="l29.85" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/livemark-item.png&quot;);</span>
<a href="#l29.86"></a><span id="l29.86" class="difflineplus">+}</span>
<a href="#l29.87"></a><span id="l29.87" class="difflineplus">+</span>
<a href="#l29.88"></a><span id="l29.88" class="difflineplus">+treechildren::-moz-tree-image(container, OrganizerQuery_AllBookmarks) {</span>
<a href="#l29.89"></a><span id="l29.89" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/allBookmarks.png&quot;);</span>
<a href="#l29.90"></a><span id="l29.90" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l29.91"></a><span id="l29.91" class="difflineplus">+}</span>
<a href="#l29.92"></a><span id="l29.92" class="difflineplus">+</span>
<a href="#l29.93"></a><span id="l29.93" class="difflineplus">+#bookmarksToolbarFolderMenu,</span>
<a href="#l29.94"></a><span id="l29.94" class="difflineplus">+#BMB_bookmarksToolbarFolderMenu,</span>
<a href="#l29.95"></a><span id="l29.95" class="difflineplus">+treechildren::-moz-tree-image(container, OrganizerQuery_BookmarksToolbar) {</span>
<a href="#l29.96"></a><span id="l29.96" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmarksToolbar.png&quot;);</span>
<a href="#l29.97"></a><span id="l29.97" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l29.98"></a><span id="l29.98" class="difflineplus">+}</span>
<a href="#l29.99"></a><span id="l29.99" class="difflineplus">+</span>
<a href="#l29.100"></a><span id="l29.100" class="difflineplus">+treechildren::-moz-tree-image(container, OrganizerQuery_BookmarksMenu) {</span>
<a href="#l29.101"></a><span id="l29.101" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmarksMenu.png&quot;);</span>
<a href="#l29.102"></a><span id="l29.102" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l29.103"></a><span id="l29.103" class="difflineplus">+}</span>
<a href="#l29.104"></a><span id="l29.104" class="difflineplus">+</span>
<a href="#l29.105"></a><span id="l29.105" class="difflineplus">+#unsortedBookmarksFolderMenu,</span>
<a href="#l29.106"></a><span id="l29.106" class="difflineplus">+treechildren::-moz-tree-image(container, OrganizerQuery_UnfiledBookmarks) {</span>
<a href="#l29.107"></a><span id="l29.107" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/unsortedBookmarks.png&quot;);</span>
<a href="#l29.108"></a><span id="l29.108" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l29.109"></a><span id="l29.109" class="difflineplus">+}</span>
<a href="#l29.110"></a><span id="l29.110" class="difflineplus">+</span>
<a href="#l29.111"></a><span id="l29.111" class="difflineplus">+/* query-nodes should be styled even if they're not expandable */</span>
<a href="#l29.112"></a><span id="l29.112" class="difflineplus">+.bookmark-item[container][query],</span>
<a href="#l29.113"></a><span id="l29.113" class="difflineplus">+treechildren::-moz-tree-image(title, query) {</span>
<a href="#l29.114"></a><span id="l29.114" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/query.png&quot;);</span>
<a href="#l29.115"></a><span id="l29.115" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l29.116"></a><span id="l29.116" class="difflineplus">+}</span>
<a href="#l29.117"></a><span id="l29.117" class="difflineplus">+</span>
<a href="#l29.118"></a><span id="l29.118" class="difflineplus">+.bookmark-item[query][tagContainer],</span>
<a href="#l29.119"></a><span id="l29.119" class="difflineplus">+treechildren::-moz-tree-image(title, query, tagContainer),</span>
<a href="#l29.120"></a><span id="l29.120" class="difflineplus">+treechildren::-moz-tree-image(query, OrganizerQuery_Tags) {</span>
<a href="#l29.121"></a><span id="l29.121" class="difflineplus">+  list-style-image: url(&quot;chrome://mozapps/skin/places/tagContainerIcon.png&quot;);</span>
<a href="#l29.122"></a><span id="l29.122" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l29.123"></a><span id="l29.123" class="difflineplus">+}</span>
<a href="#l29.124"></a><span id="l29.124" class="difflineplus">+</span>
<a href="#l29.125"></a><span id="l29.125" class="difflineplus">+treechildren::-moz-tree-image(Name, separator),</span>
<a href="#l29.126"></a><span id="l29.126" class="difflineplus">+treechildren::-moz-tree-image(title, separator) {</span>
<a href="#l29.127"></a><span id="l29.127">   list-style-image: none;</span>
<a href="#l29.128"></a><span id="l29.128">   width: 0px;</span>
<a href="#l29.129"></a><span id="l29.129">   height: 0px;</span>
<a href="#l29.130"></a><span id="l29.130"> }</span>
<a href="#l29.131"></a><span id="l29.131"> </span>
<a href="#l29.132"></a><span id="l29.132" class="difflineminus">-treechildren::-moz-tree-cell-text(Name, separator) {</span>
<a href="#l29.133"></a><span id="l29.133" class="difflineplus">+treechildren::-moz-tree-cell-text(Name, separator),</span>
<a href="#l29.134"></a><span id="l29.134" class="difflineplus">+treechildren::-moz-tree-cell-text(title, separator) {</span>
<a href="#l29.135"></a><span id="l29.135">   color: ThreeDShadow;</span>
<a href="#l29.136"></a><span id="l29.136">   margin: 0px 5px;</span>
<a href="#l29.137"></a><span id="l29.137"> }</span>
<a href="#l29.138"></a><span id="l29.138"> </span>
<a href="#l29.139"></a><span id="l29.139" class="difflineminus">-treechildren::-moz-tree-cell-text(Name, separator, selected, focus) {</span>
<a href="#l29.140"></a><span id="l29.140" class="difflineplus">+treechildren::-moz-tree-cell-text(Name, separator, selected, focus),</span>
<a href="#l29.141"></a><span id="l29.141" class="difflineplus">+treechildren::-moz-tree-cell-text(title, separator, selected, focus) {</span>
<a href="#l29.142"></a><span id="l29.142">   color: HighlightText;</span>
<a href="#l29.143"></a><span id="l29.143"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1">new file mode 100644</span>
<a href="#l30.2"></a><span id="l30.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..b76d849b91f3927f3d657063dd3571c641d5c6d0</span>
<a href="#l30.3"></a><span id="l30.3">GIT binary patch
literal 371
zc$@)q0gV2MP)&lt;h;3K|Lk000e1NJLTq000mG000mO0{{R3C@l|D0000PbVXQnQ*UN;
zcVTj606}DLVr3vnZDD6+Qe|Oed2z{QJOBUyeo#zQMgRZ*+~o1c!mmn_*KWI$eQvUx
zqN1*&lt;nYg^X$HK4J(!JW;+uY&gt;w^78KU^Y8QX@bvWY^!4%e^zrrf^Y-=g_Vx7k_Vf7n
z_4xSp`T6(x`S|(z_xbwx`uX_!`uF?$`TP6&amp;`~3R+`}zF)`uzO*{Qdm&gt;{rvv^{r&gt;*`
z|NsBrz{*Gf000AYQchC&lt;f3kPJb4LIG0DMVAK~xx5ZOhvZf-n$8(UG=dy&gt;StXXw^}H
z4*&amp;myR?kBd!kT0rc5-MtL;3W#-ouLW8M0GiDYBxJgdie85Jshj&amp;ChN?V17N{%%7ea
z!5ee!x|@I8J;KG97LyjiHRr}TcZv_8*19UoDqf9HXkB1(L^veNA+t$F3%-Eb4P}Ss
RFo6I7002ovPDHLkV1fr~%xC}r</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/suite/themes/classic/communicator/bookmarks/bookmarksToolbar.css</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -86,67 +86,61 @@ toolbarbutton.bookmark-item[disabled=&quot;tr</span>
<a href="#l31.4"></a><span id="l31.4">   width: 16px;</span>
<a href="#l31.5"></a><span id="l31.5">   height: 16px;</span>
<a href="#l31.6"></a><span id="l31.6"> }</span>
<a href="#l31.7"></a><span id="l31.7"> </span>
<a href="#l31.8"></a><span id="l31.8"> .bookmark-item &gt; .toolbarbutton-menu-dropmarker {</span>
<a href="#l31.9"></a><span id="l31.9">   display: none;</span>
<a href="#l31.10"></a><span id="l31.10"> }</span>
<a href="#l31.11"></a><span id="l31.11"> </span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-/* ..... drag and drop styles ..... */</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineminus">-</span>
<a href="#l31.14"></a><span id="l31.14" class="difflineminus">-toolbarbutton.bookmark-item[dragover-left=&quot;true&quot;] {</span>
<a href="#l31.15"></a><span id="l31.15" class="difflineminus">-  -moz-border-left-colors: ThreeDDarkShadow;</span>
<a href="#l31.16"></a><span id="l31.16" class="difflineplus">+/* Prevent [mode=&quot;icons&quot;] from hiding the label */</span>
<a href="#l31.17"></a><span id="l31.17" class="difflineplus">+.bookmark-item &gt; .toolbarbutton-text {</span>
<a href="#l31.18"></a><span id="l31.18" class="difflineplus">+  display: -moz-box !important;</span>
<a href="#l31.19"></a><span id="l31.19"> }</span>
<a href="#l31.20"></a><span id="l31.20"> </span>
<a href="#l31.21"></a><span id="l31.21" class="difflineminus">-toolbarbutton.bookmark-item[dragover-right=&quot;true&quot;] {</span>
<a href="#l31.22"></a><span id="l31.22" class="difflineminus">-  -moz-border-right-colors: ThreeDDarkShadow;</span>
<a href="#l31.23"></a><span id="l31.23" class="difflineplus">+/* ..... drag and drop styles ..... */</span>
<a href="#l31.24"></a><span id="l31.24" class="difflineplus">+</span>
<a href="#l31.25"></a><span id="l31.25" class="difflineplus">+#PlacesToolbarDropIndicator {</span>
<a href="#l31.26"></a><span id="l31.26" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/toolbarDropMarker.png&quot;);</span>
<a href="#l31.27"></a><span id="l31.27"> }</span>
<a href="#l31.28"></a><span id="l31.28"> </span>
<a href="#l31.29"></a><span id="l31.29" class="difflineminus">-toolbarbutton.bookmark-item[dragover-top=&quot;true&quot;] {</span>
<a href="#l31.30"></a><span id="l31.30" class="difflineminus">-  -moz-appearance: none;</span>
<a href="#l31.31"></a><span id="l31.31" class="difflineminus">-  -moz-border-top-colors: ThreeDDarkShadow;</span>
<a href="#l31.32"></a><span id="l31.32" class="difflineminus">-  -moz-border-right-colors: ThreeDDarkShadow;</span>
<a href="#l31.33"></a><span id="l31.33" class="difflineminus">-  -moz-border-bottom-colors: ThreeDDarkShadow;</span>
<a href="#l31.34"></a><span id="l31.34" class="difflineminus">-  -moz-border-left-colors: ThreeDDarkShadow;</span>
<a href="#l31.35"></a><span id="l31.35" class="difflineplus">+toolbarbutton.bookmark-item[dragover=&quot;true&quot;][open=&quot;true&quot;] {</span>
<a href="#l31.36"></a><span id="l31.36" class="difflineplus">+  background: Highlight !important;</span>
<a href="#l31.37"></a><span id="l31.37" class="difflineplus">+  color: HighlightText !important;</span>
<a href="#l31.38"></a><span id="l31.38"> }</span>
<a href="#l31.39"></a><span id="l31.39"> </span>
<a href="#l31.40"></a><span id="l31.40"> /* ::::: bookmark menus ::::: */</span>
<a href="#l31.41"></a><span id="l31.41"> </span>
<a href="#l31.42"></a><span id="l31.42"> menu.bookmark-item,</span>
<a href="#l31.43"></a><span id="l31.43"> menuitem.bookmark-item {</span>
<a href="#l31.44"></a><span id="l31.44">   border-top: 1px solid transparent !important;</span>
<a href="#l31.45"></a><span id="l31.45">   border-bottom: 1px solid transparent !important;</span>
<a href="#l31.46"></a><span id="l31.46"> }</span>
<a href="#l31.47"></a><span id="l31.47"> </span>
<a href="#l31.48"></a><span id="l31.48"> .bookmark-item &gt; .menu-iconic-left &gt; .menu-iconic-icon {</span>
<a href="#l31.49"></a><span id="l31.49">   width: 16px;</span>
<a href="#l31.50"></a><span id="l31.50">   height: 16px;</span>
<a href="#l31.51"></a><span id="l31.51"> }</span>
<a href="#l31.52"></a><span id="l31.52"> </span>
<a href="#l31.53"></a><span id="l31.53" class="difflineminus">-.bookmark-group {</span>
<a href="#l31.54"></a><span id="l31.54" class="difflineminus">-  list-style-image: url(chrome://communicator/skin/bookmarks/bookmark-group.png) !important;</span>
<a href="#l31.55"></a><span id="l31.55" class="difflineminus">-}</span>
<a href="#l31.56"></a><span id="l31.56" class="difflineminus">-</span>
<a href="#l31.57"></a><span id="l31.57"> .menuitem-iconic.bookmark-item[disabled=&quot;true&quot;] {</span>
<a href="#l31.58"></a><span id="l31.58">   list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item-dis.png&quot;);</span>
<a href="#l31.59"></a><span id="l31.59"> }</span>
<a href="#l31.60"></a><span id="l31.60"> </span>
<a href="#l31.61"></a><span id="l31.61"> .menu-iconic.bookmark-item[disabled=&quot;true&quot;][container=&quot;true&quot;] {</span>
<a href="#l31.62"></a><span id="l31.62">   list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-folder-dis.png&quot;);</span>
<a href="#l31.63"></a><span id="l31.63"> }</span>
<a href="#l31.64"></a><span id="l31.64"> </span>
<a href="#l31.65"></a><span id="l31.65"> /* ..... drag and drop styles ..... */</span>
<a href="#l31.66"></a><span id="l31.66"> </span>
<a href="#l31.67"></a><span id="l31.67" class="difflineminus">-menu.bookmark-item[dragover-top=&quot;true&quot;],</span>
<a href="#l31.68"></a><span id="l31.68" class="difflineminus">-menuitem.bookmark-item[dragover-top=&quot;true&quot;] {</span>
<a href="#l31.69"></a><span id="l31.69" class="difflineminus">-  border-top: 1px solid ThreeDDarkShadow !important;</span>
<a href="#l31.70"></a><span id="l31.70" class="difflineminus">-} </span>
<a href="#l31.71"></a><span id="l31.71" class="difflineminus">-</span>
<a href="#l31.72"></a><span id="l31.72" class="difflineminus">-menu.bookmark-item[dragover-bottom=&quot;true&quot;],</span>
<a href="#l31.73"></a><span id="l31.73" class="difflineminus">-menuitem.bookmark-item[dragover-bottom=&quot;true&quot;] {</span>
<a href="#l31.74"></a><span id="l31.74" class="difflineminus">-  border-bottom: 1px solid ThreeDDarkShadow !important;</span>
<a href="#l31.75"></a><span id="l31.75" class="difflineplus">+/* rules for menupopup drop indicators */</span>
<a href="#l31.76"></a><span id="l31.76" class="difflineplus">+.menupopup-drop-indicator-bar {</span>
<a href="#l31.77"></a><span id="l31.77" class="difflineplus">+  position: relative;</span>
<a href="#l31.78"></a><span id="l31.78" class="difflineplus">+  /* these two margins must together compensate the indicator's height */</span>
<a href="#l31.79"></a><span id="l31.79" class="difflineplus">+  margin-top: -1px;</span>
<a href="#l31.80"></a><span id="l31.80" class="difflineplus">+  margin-bottom: -1px;</span>
<a href="#l31.81"></a><span id="l31.81"> }</span>
<a href="#l31.82"></a><span id="l31.82"> </span>
<a href="#l31.83"></a><span id="l31.83" class="difflineminus">-menu.bookmark-item[dragover=&quot;true&quot;] {</span>
<a href="#l31.84"></a><span id="l31.84" class="difflineminus">-  background: Highlight !important;</span>
<a href="#l31.85"></a><span id="l31.85" class="difflineminus">-  color: HighlightText !important;</span>
<a href="#l31.86"></a><span id="l31.86" class="difflineplus">+.menupopup-drop-indicator {</span>
<a href="#l31.87"></a><span id="l31.87" class="difflineplus">+  list-style-image: none;</span>
<a href="#l31.88"></a><span id="l31.88" class="difflineplus">+  height: 2px;</span>
<a href="#l31.89"></a><span id="l31.89" class="difflineplus">+  -moz-margin-end: -4em;</span>
<a href="#l31.90"></a><span id="l31.90" class="difflineplus">+  background-color: Highlight;</span>
<a href="#l31.91"></a><span id="l31.91"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1">new file mode 100644</span>
<a href="#l32.2"></a><span id="l32.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..1e36e1177e846b779bf7b59037ba4732c1617746</span>
<a href="#l32.3"></a><span id="l32.3">GIT binary patch
literal 272
zc%17D@N?(olHy`uVBq!ia0vp^0wB!63?wyl`GbL!WQl7;NpOBzNqJ&amp;XDuZK6ep0G}
zXKrG8YEWuoN@d~6R2!fon*g5&gt;*Z=?j1DQ82?FFJwpWXqvlX~mn&gt;}884wpGub)V6Bf
zs+otjUp=&amp;U6;SHdm4^`7UwbCD0X1`%1o;IsD5cfc*Uva}=FBx+uQhf+;b2b}#}J9B
zt&gt;;hjH5hQX2F_{cOZxf0ekxPcqh;xppPiT-u6NusW1Lj3Qy?msyzbjf=7}w{uTJ1v
zq}Q&gt;DEqcobJ*OYKZ!)5599gb5Jv2~xAM^XX-Gc&lt;KbH+Q3w1CDlc)I$ztaD0e0syPO
Bcgz3)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1">new file mode 100644</span>
<a href="#l33.2"></a><span id="l33.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..9bf8de30d723c3f2c07dd47c8889a789fff8347c</span>
<a href="#l33.3"></a><span id="l33.3">GIT binary patch
literal 597
zc$@)M0;&gt;IqP)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00001b5ch_0Itp)
z=&gt;Px#24YJ`L;(K){{a7&gt;y{D4^000SaNLh0L01FcU01FcV0GgZ_00007bV*G`2igM;
z5+yNyfj`Lr00GrWL_t(I%f*v1XcJ)+$A8~&lt;ci-JrV+O$`R#2;31q)gvXbmVh6vqsm
z&gt;fo%1AcElJ7%UWuf)qjM5JgZCLA0PQLT%C(1g%gCwklfB+$EQ!P3}I2g4kRKo%*&amp;1
z|Mz?U_jnJsI&gt;g_}@K9cN3hqu6#XkXthw^%Kq&gt;vD#x{q=3+!-oCKoHdNf-1gW1E4%R
zEzHh&gt;xv?7{ZKCvk+=JarKfaCaT1eADStddln3e-T-{4uD0N|#u8$YmqzCgS+c&gt;1Bi
zyphHaL;OmJ=lfKuRRAh0dgBNHLaeXB5H6W;k@L9&gt;V%sjdPF==y&lt;3D}ET8ll02H4&lt;W
zbfiFi&gt;LFrB2DPsr!)o!hJcm)fMg74gjDc%7+a08WH&lt;QoN8WJP?D&amp;0r6YDi1bJ}`*c
za{_wvm@{`U-j5@XUqC5|)`C`BBmv&gt;ktJtoEQ!3zmnn24YX3uHxdSPi2%gbV9`f0A#
z0g#=5bYqIH?=K;H9g*6JF&lt;(T5i&amp;)t!5Z8zno*^Yf(fY0u4%F;Tgb)atM7c5Kqm!`w
z3bi*!q)g&amp;(??6b}@!BQ;9YfSWi&lt;r*~0n6TNj&gt;K)ek0oYSiX5&amp;**ufW`+#9F4w#g}D
j@7DkI2&amp;+qC%b$_oiD9UJ2aT2w00000NkvXXu0mjfe!u~M</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1">new file mode 100644</span>
<a href="#l34.2"></a><span id="l34.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..a0edf570fbc2f05796d1cd038d16e816160c8075</span>
<a href="#l34.3"></a><span id="l34.3">GIT binary patch
literal 670
zc$@*A0%84$P)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00001b5ch_0Itp)
z=&gt;Px#24YJ`L;(K){{a7&gt;y{D4^000SaNLh0L01FcU01FcV0GgZ_00007bV*G`2igM;
z5+M*)gzA$300JIKL_t(I%bk+HPZU8M#Xq|{cgK%|(*%%UBqSyV&amp;P1cJ&amp;_){?8$-0T
zFcwA|ZA`TCKd_*tF+nRUZNvtng+HPRLM4$PB18xrob280-tNxK*J26bj&lt;fNbOfs2#
z-^+V%o+Bb`Ox&gt;SWg~6f;wy&lt;GInXv4c+NLsLS(&amp;ixMOv~nP4VH91E2t$OnZOf?9Kj$
z4I3jOAQrI(tVYBTZ_YFO^v&gt;Rz3t;QMG=N371Y&gt;oxkX?c#@b-fdn_ip2yYKr)0Z3f&amp;
z_JhTm6fCykh&gt;ltl*tqH;n(g=FI9`TK;TYMT6R55M1W8qxB(&gt;F=AjlvVH&lt;!m$)(Ey2
z36|cH?JLqTbP+e#y{jtuhXoyaB0}NJ4a6F&gt;ze@P?9rfQcBwGvQi&amp;ybFds7=GX%S)^
zD8#Ze^Mu;M6prhWAHG6&lt;WDHZ=#GiYH4N7SSO+mT&lt;Vj?Bh5dQjz|8&lt;g$*AJ*IPLu5!
zCO&lt;NU-dUyc?PZ!pla17ZNfct~yZo5A^c{b8l0RQ2u#r#4@lkR|P7*ACpzY{6T-A0^
zL2OW1O;TRMgk=t$zlZ7`z@MGORMu!8x`f0P&gt;MNhp?`&lt;Y9Mm!P2;`7@qzj{Pmnx}C3
zI+bcj@Z$|$XD^P*5v|X)wor|%gVofNG$1#dM|BO5Q4Yz@3RsQT(TlFGAE&lt;NM13}@q
zoVxX5ueM?m2Cq$|1=10RFWf~$4zw{Pu(+ScNBN)m3&amp;$!|#l!)!?f?J)07*qoM6N&lt;$
Ef;rzO2&gt;&lt;{9</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1">deleted file mode 100644</span>
<a href="#l35.2"></a><span id="l35.2">index 8fc466d015288a268cbd6cbb932641e8ee983277..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l35.3"></a><span id="l35.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1">deleted file mode 100644</span>
<a href="#l36.2"></a><span id="l36.2">index 8a161e1d45ea650deb926e89003e3e78010cfdc7..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l36.3"></a><span id="l36.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1">deleted file mode 100644</span>
<a href="#l37.2"></a><span id="l37.2">index fea1d10be092499ccf7aee7865f82922cef143c5..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l37.3"></a><span id="l37.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1">deleted file mode 100644</span>
<a href="#l38.2"></a><span id="l38.2">index 3042ab567c39962caba271e6c20ef3f3a16c264f..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l38.3"></a><span id="l38.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1">new file mode 100644</span>
<a href="#l39.2"></a><span id="l39.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..2e0099afdb0f28aae6569d69cb95586d6d4e0c96</span>
<a href="#l39.3"></a><span id="l39.3">GIT binary patch
literal 579
zc$@)40=)f+P)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00001b5ch_0Itp)
z=&gt;Px#24YJ`L;(K){{a7&gt;y{D4^000SaNLh0L01FcU01FcV0GgZ_00007bV*G`2igM;
z5*#&amp;mXm)A&lt;00F~EL_t(I%f*vFXj4%b#ees{`|{o!RK!X&lt;w1a&lt;8GPsCJrP6|-AXbWC
z+96ZiL{QYlrL&amp;6)h2Y&gt;I23kVwV5);fLS3YrLAoi`K@dSpOWu2Zsg1esI;fB)4{@sB
z_Q5%aa}M7J|9eFHlFv&lt;=PC&amp;6VC;mwwpPMv=&gt;HA%PT?41NarqqeARq`DtOp^!zX8D8
z&lt;(g2Pgxb;)(tsr`QjVhb{2`8KBb7_aRtRCCY!`sz7sgGOKs#B=6f&gt;0yeh}hE5q&gt;&gt;l
z-S?@7ApmRN^!5lz8841ySS%F*$mH^5M$ZEfZTz4wJ&lt;K)-ogGwP%u^}cW8&amp;Ivgr%69
zzC*YgFgkvT*NY1PbVYbqdxMlI9M7gY`&lt;U$2TcnR3L)k9s&lt;`mB!6&amp;TA-5S#c{&lt;gN~W
zlcjPImZTL%DBHz$JX)I#q?A~eV5_;A?4Z5z-oAcbJ}qIi0VSx;mpL^wf|Q`ONf!7+
zE&lt;d=-r;jTfI+A9gGK&amp;CC3=NaLavg-E6*m(EOw7uM_q-|&gt;S^fHjo}OL~4~}r)&lt;QZDJ
ziPnZEr5Q}D`QA)8Wt@HkaCUz^Sc~-T&lt;;K3hKf&gt;1M&lt;TIDvfb#Yn+`A*+_!AWEn#(f1
RFq!}W002ovPDHLkV1mJ3_?!R$</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1">new file mode 100644</span>
<a href="#l40.2"></a><span id="l40.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..ed3200f6c1f9b7844a78de9e572f8423b9928948</span>
<a href="#l40.3"></a><span id="l40.3">GIT binary patch
literal 583
zc$@)80=WH&amp;P)&lt;h;3K|Lk000e1NJLTq000R9000sQ1^@s6iGcJ-00004b3#c}2nYxW
zd&lt;bNS00009a7bBm000fw000fw0YWI7cmMzZ8FWQhbW?9;ba!ELWdL_~cP?peYja~^
zaAhuUa%Y?FJQ@H10mMl}K~yM_g_2EA6JZpE&amp;-+?KB{g&lt;HW{A&lt;9e?dztAtWTMXJE@m
z&lt;3bQOnlJ-8Qzasa@go{FA#umn5OC{86T`v&lt;;)X@hNNp85LrY^)TWG~OZkUS3=vm#I
z^W4Qfxq&gt;7BV6y+Z&gt;-)ZjU-IrO-f9PcP~iB!uicotiu&amp;$%RLT`R8lP&lt;}geLk@E=le9
ziPl=UIoy;@=MafTaP(NDW*H6vcp{k?&lt;K6jbgbp79No3PGRLWH}M~*;I6-=GK4cVqD
zo#Xuue(dd`&lt;dsm^D5AboN6S8-YAszL2~)QdLmi{cXYyQrxx(!G&amp;rHTI($wv4k^sp7
zj1R&gt;|n0~v)WMYh_ZubOP1KI~;17|MK)a~Abz6g5ym*jtmKOxI-VuNQ#Xc&lt;oLUm?qI
z;-0(x=H}cr6boNpSccQnpn?j9J4RX9EOPDL2j)My!G+x&lt;Axzyqx8;?V9z35x_1g}z
z=^Oyy)ajE*4bMPrZ|#x=ue5Y;ei}kbD5`&gt;JTNFYFe93Gg_0+_cyZu^NhU1dd6iumJ
zzJIA{eKi9i1)e=#*sYeUVF2F2BDs;t^W*9|mtU&gt;W)NKY?&lt;DaCI-oq&lt;TetWuL_z7HL
V{vBt+DB%DA002ovPDHLkV1ntt|Ahbm</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1">new file mode 100644</span>
<a href="#l41.2"></a><span id="l41.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..94c125941ea0251abcb30333c154e78bbe80dc7f</span>
<a href="#l41.3"></a><span id="l41.3">GIT binary patch
literal 731
zc$@*-0wn#3P)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV00001b5ch_0Itp)
z=&gt;Px#24YJ`L;(K){{a7&gt;y{D4^000SaNLh0L01FcU01FcV0GgZ_00007bV*G`2igM;
z5)T5dI+FJQ00LV{L_t(I%dL}LNRwd{$A7+iw&gt;4L8I{aA9nwvE&amp;S6~q4l{ADP6pEQR
z!i#!ur1B~xMUd%87|~T2!B(`oi6B9-5oMTyi4?{xs7TB{$eA-;n&gt;lB$i&lt;r&amp;oqM~zk
zKK|#N=lP#=;D3tG&gt;#_bVCN0&amp;lHdqr$ef;8h+MhHPQ&lt;L42Yc0@3YocY}=}v`Gsa}r7
zq6(!_9gRdn0QJYE_9RaDx#Gd9dd6c@xFr{7AD(NDMk0;zc)U3pi8KOE!0GdPoWHyP
zAVPv0y;ljXEHJVdz%99G^0X4@3ao2#?XuSnv;oMH#MG7B8_ryBCajNAlCg^~i5L@0
zQyeREaJZueo1uVE@C6#(RzkDE?8^PNTirc9Gs!R5jfF-AoISi8dWL_xmn?Y&gt;o8(&amp;h
z!;f%FF6@_DSY3$`o}b3Ntq7ntl&gt;@s@m(Az!44svyc-%eAVDK&amp;(G7V}`!R&gt;_yxFr`y
zyzPV+X2{bU0PFyQ&amp;+D;jwCWw{8#PS6eg(jVx&gt;km++-LaXAX&lt;42TA7x&lt;xdGggi|X?d
zq9~G+r?dFH9;*P&lt;&gt;h;+Of{Y5Ag9@7i)rL$us!rl}_c1m*ie*yGQB@@eN~;NU1&amp;}LL
zm`o-BhX~k&lt;icCBiy+&lt;hY2&gt;`RD7@1s2Tg?fW1aoN#xw)I^_um9StJPrMz7yb(2w2ht
z1x9l*M)P+&lt;-oJZ8K|vwb-DLpG&amp;jp#Aoo3J8^0iT}eq9Ezh$+UJWM=93@OFadPsadA
zPgjw@#k&gt;w9$P_;oX*IsME~pT|kgvy(uTSyDSy`I@{Vn+KjQsNje*?i_%aJY{+qVD!
N002ovPDHLkV1o5|M)3du</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/suite/themes/classic/jar.mn</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/suite/themes/classic/jar.mn</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -32,17 +32,16 @@ classic.jar:</span>
<a href="#l42.4"></a><span id="l42.4">   skin/classic/communicator/communicator.css                            (communicator/communicator.css)</span>
<a href="#l42.5"></a><span id="l42.5">   skin/classic/communicator/helpOverlay.css                             (communicator/helpOverlay.css)</span>
<a href="#l42.6"></a><span id="l42.6"> #ifdef XP_OS2</span>
<a href="#l42.7"></a><span id="l42.7">   skin/classic/communicator/toolbar.css                                 (os2/communicator/toolbar.css)</span>
<a href="#l42.8"></a><span id="l42.8"> #else</span>
<a href="#l42.9"></a><span id="l42.9">   skin/classic/communicator/toolbar.css                                 (communicator/toolbar.css)</span>
<a href="#l42.10"></a><span id="l42.10"> #endif</span>
<a href="#l42.11"></a><span id="l42.11">   skin/classic/communicator/bookmarks/bookmarks.css                     (communicator/bookmarks/bookmarks.css)</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-  skin/classic/communicator/bookmarks/bookmark-folder-button.gif        (communicator/bookmarks/bookmark-folder-button.gif)</span>
<a href="#l42.13"></a><span id="l42.13">   skin/classic/communicator/bookmarks/bookmark-folder-closed.png        (communicator/bookmarks/bookmark-folder-closed.png)</span>
<a href="#l42.14"></a><span id="l42.14">   skin/classic/communicator/bookmarks/bookmark-folder-dis.png           (communicator/bookmarks/bookmark-folder-dis.png)</span>
<a href="#l42.15"></a><span id="l42.15">   skin/classic/communicator/bookmarks/bookmark-folder-open.png          (communicator/bookmarks/bookmark-folder-open.png)</span>
<a href="#l42.16"></a><span id="l42.16">   skin/classic/communicator/bookmarks/bookmarksToolbar.css              (communicator/bookmarks/bookmarksToolbar.css)</span>
<a href="#l42.17"></a><span id="l42.17">   skin/classic/communicator/downloads/downloadButtons.png               (communicator/downloads/downloadButtons.png)</span>
<a href="#l42.18"></a><span id="l42.18">   skin/classic/communicator/downloads/downloadmanager.css               (communicator/downloads/downloadmanager.css)</span>
<a href="#l42.19"></a><span id="l42.19">   skin/classic/communicator/sidebar/sidebar.css                         (communicator/sidebar/sidebar.css)</span>
<a href="#l42.20"></a><span id="l42.20">   skin/classic/communicator/icons/communicatoricons.png                 (communicator/icons/communicatoricons.png)</span>
<a href="#l42.21"></a><span id="l42.21" class="difflineat">@@ -53,26 +52,28 @@ classic.jar:</span>
<a href="#l42.22"></a><span id="l42.22">   skin/classic/communicator/certError.css                               (communicator/certError.css)</span>
<a href="#l42.23"></a><span id="l42.23">   skin/classic/communicator/dialogs.css                                 (communicator/dialogs.css)</span>
<a href="#l42.24"></a><span id="l42.24">   skin/classic/communicator/communicatorBindings.xml                    (communicator/communicatorBindings.xml)</span>
<a href="#l42.25"></a><span id="l42.25">   skin/classic/communicator/preferences.css                             (communicator/preferences.css)</span>
<a href="#l42.26"></a><span id="l42.26">   skin/classic/communicator/prefpanels.css                              (communicator/prefpanels.css)</span>
<a href="#l42.27"></a><span id="l42.27">   skin/classic/communicator/smileys.css                                 (communicator/smileys.css)</span>
<a href="#l42.28"></a><span id="l42.28">   skin/classic/communicator/tasksOverlay.css                            (communicator/tasksOverlay.css)</span>
<a href="#l42.29"></a><span id="l42.29">   skin/classic/communicator/viewSourceOverlay.css                       (communicator/viewSourceOverlay.css)</span>
<a href="#l42.30"></a><span id="l42.30" class="difflineminus">-  skin/classic/communicator/bookmarks/bookmark-group.png                (communicator/bookmarks/bookmark-group.png)</span>
<a href="#l42.31"></a><span id="l42.31" class="difflineplus">+  skin/classic/communicator/bookmarks/allBookmarks.png                  (communicator/bookmarks/allBookmarks.png)</span>
<a href="#l42.32"></a><span id="l42.32">   skin/classic/communicator/bookmarks/bookmark-item-dis.png             (communicator/bookmarks/bookmark-item-dis.png)</span>
<a href="#l42.33"></a><span id="l42.33" class="difflineminus">-  skin/classic/communicator/bookmarks/bookmark-item-updated.png         (communicator/bookmarks/bookmark-item-updated.png)</span>
<a href="#l42.34"></a><span id="l42.34">   skin/classic/communicator/bookmarks/bookmark-item.png                 (communicator/bookmarks/bookmark-item.png)</span>
<a href="#l42.35"></a><span id="l42.35" class="difflineplus">+  skin/classic/communicator/bookmarks/bookmarksMenu.png                 (communicator/bookmarks/bookmarksMenu.png)</span>
<a href="#l42.36"></a><span id="l42.36" class="difflineplus">+  skin/classic/communicator/bookmarks/bookmarksToolbar.png              (communicator/bookmarks/bookmarksToolbar.png)</span>
<a href="#l42.37"></a><span id="l42.37" class="difflineplus">+  skin/classic/communicator/bookmarks/livemark-folder.png               (communicator/bookmarks/livemark-folder.png)</span>
<a href="#l42.38"></a><span id="l42.38" class="difflineplus">+  skin/classic/communicator/bookmarks/livemark-item.png                 (communicator/bookmarks/livemark-item.png)</span>
<a href="#l42.39"></a><span id="l42.39" class="difflineplus">+  skin/classic/communicator/bookmarks/query.png                         (communicator/bookmarks/query.png)</span>
<a href="#l42.40"></a><span id="l42.40" class="difflineplus">+  skin/classic/communicator/bookmarks/toolbarDropMarker.png             (communicator/bookmarks/toolbarDropMarker.png)</span>
<a href="#l42.41"></a><span id="l42.41" class="difflineplus">+  skin/classic/communicator/bookmarks/unsortedBookmarks.png             (communicator/bookmarks/unsortedBookmarks.png)</span>
<a href="#l42.42"></a><span id="l42.42">   skin/classic/communicator/bookmarks/bookmarksWindow.css               (communicator/bookmarks/bookmarksWindow.css)</span>
<a href="#l42.43"></a><span id="l42.43">   skin/classic/communicator/bookmarks/home.png                          (communicator/bookmarks/home.png)</span>
<a href="#l42.44"></a><span id="l42.44" class="difflineminus">-  skin/classic/communicator/bookmarks/location-act.gif                  (communicator/bookmarks/location-act.gif)</span>
<a href="#l42.45"></a><span id="l42.45" class="difflineminus">-  skin/classic/communicator/bookmarks/location-dis.gif                  (communicator/bookmarks/location-dis.gif)</span>
<a href="#l42.46"></a><span id="l42.46" class="difflineminus">-  skin/classic/communicator/bookmarks/location-hov.gif                  (communicator/bookmarks/location-hov.gif)</span>
<a href="#l42.47"></a><span id="l42.47" class="difflineminus">-  skin/classic/communicator/bookmarks/location.gif                      (communicator/bookmarks/location.gif)</span>
<a href="#l42.48"></a><span id="l42.48">   skin/classic/communicator/brand/throbber-anim.png                     (communicator/brand/throbber-anim.png)</span>
<a href="#l42.49"></a><span id="l42.49">   skin/classic/communicator/brand/throbber-single.png                   (communicator/brand/throbber-single.png)</span>
<a href="#l42.50"></a><span id="l42.50">   skin/classic/communicator/brand/throbber16-anim.png                   (communicator/brand/throbber16-anim.png)</span>
<a href="#l42.51"></a><span id="l42.51">   skin/classic/communicator/brand/throbber16-single.png                 (communicator/brand/throbber16-single.png)</span>
<a href="#l42.52"></a><span id="l42.52">   skin/classic/communicator/directory/directory.css                     (communicator/directory/directory.css)</span>
<a href="#l42.53"></a><span id="l42.53">   skin/classic/communicator/feed-subscribe.css                          (communicator/feed-subscribe.css)</span>
<a href="#l42.54"></a><span id="l42.54">   skin/classic/communicator/fullscreen-video.css                        (communicator/fullscreen-video.css)</span>
<a href="#l42.55"></a><span id="l42.55">   skin/classic/communicator/directory/folder-clsd.gif                   (communicator/directory/folder-clsd.gif)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/suite/themes/classic/mac/communicator/bookmarks/bookmarks.css</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/suite/themes/classic/mac/communicator/bookmarks/bookmarks.css</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -36,70 +36,111 @@</span>
<a href="#l43.4"></a><span id="l43.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l43.5"></a><span id="l43.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l43.6"></a><span id="l43.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l43.7"></a><span id="l43.7">  *</span>
<a href="#l43.8"></a><span id="l43.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l43.9"></a><span id="l43.9"> </span>
<a href="#l43.10"></a><span id="l43.10"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l43.11"></a><span id="l43.11"> </span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-/** </span>
<a href="#l43.13"></a><span id="l43.13" class="difflineminus">- * Style rules for generic bookmarks items. </span>
<a href="#l43.14"></a><span id="l43.14" class="difflineminus">- */    </span>
<a href="#l43.15"></a><span id="l43.15" class="difflineplus">+/**</span>
<a href="#l43.16"></a><span id="l43.16" class="difflineplus">+ * Style rules for generic bookmarks items.</span>
<a href="#l43.17"></a><span id="l43.17" class="difflineplus">+ */</span>
<a href="#l43.18"></a><span id="l43.18"> </span>
<a href="#l43.19"></a><span id="l43.19" class="difflineminus">-treechildren::-moz-tree-image(Name) {</span>
<a href="#l43.20"></a><span id="l43.20" class="difflineplus">+treechildren::-moz-tree-image(Name),</span>
<a href="#l43.21"></a><span id="l43.21" class="difflineplus">+treechildren::-moz-tree-image(title) {</span>
<a href="#l43.22"></a><span id="l43.22">   -moz-margin-end: 2px;</span>
<a href="#l43.23"></a><span id="l43.23">   width: 16px;</span>
<a href="#l43.24"></a><span id="l43.24">   height: 16px;</span>
<a href="#l43.25"></a><span id="l43.25"> }</span>
<a href="#l43.26"></a><span id="l43.26"> </span>
<a href="#l43.27"></a><span id="l43.27"> .bookmark-item,</span>
<a href="#l43.28"></a><span id="l43.28" class="difflineminus">-treechildren::-moz-tree-image(Name) {</span>
<a href="#l43.29"></a><span id="l43.29" class="difflineplus">+treechildren::-moz-tree-image(Name),</span>
<a href="#l43.30"></a><span id="l43.30" class="difflineplus">+treechildren::-moz-tree-image(title) {</span>
<a href="#l43.31"></a><span id="l43.31">   list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.png&quot;);</span>
<a href="#l43.32"></a><span id="l43.32"> }</span>
<a href="#l43.33"></a><span id="l43.33"> </span>
<a href="#l43.34"></a><span id="l43.34"> .bookmark-item[container=&quot;true&quot;],</span>
<a href="#l43.35"></a><span id="l43.35" class="difflineminus">-treechildren::-moz-tree-image(Name, container) {</span>
<a href="#l43.36"></a><span id="l43.36" class="difflineplus">+treechildren::-moz-tree-image(Name, container),</span>
<a href="#l43.37"></a><span id="l43.37" class="difflineplus">+treechildren::-moz-tree-image(title, container) {</span>
<a href="#l43.38"></a><span id="l43.38">   list-style-image: url(&quot;chrome://global/skin/tree/folder.png&quot;);</span>
<a href="#l43.39"></a><span id="l43.39"> }</span>
<a href="#l43.40"></a><span id="l43.40"> </span>
<a href="#l43.41"></a><span id="l43.41"> .bookmark-item[container=&quot;true&quot;][open=&quot;true&quot;][loading=&quot;true&quot;] {</span>
<a href="#l43.42"></a><span id="l43.42">   list-style-image: url(&quot;chrome://global/skin/icons/loading_16.png&quot;) !important;</span>
<a href="#l43.43"></a><span id="l43.43"> }</span>
<a href="#l43.44"></a><span id="l43.44"> </span>
<a href="#l43.45"></a><span id="l43.45" class="difflineminus">-.bookmark-item[status=&quot;new&quot;],</span>
<a href="#l43.46"></a><span id="l43.46" class="difflineminus">-treechildren::-moz-tree-image(Name, new) {</span>
<a href="#l43.47"></a><span id="l43.47" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item-updated.png&quot;);</span>
<a href="#l43.48"></a><span id="l43.48" class="difflineminus">-}</span>
<a href="#l43.49"></a><span id="l43.49" class="difflineminus">-</span>
<a href="#l43.50"></a><span id="l43.50"> .bookmark-item &gt; .toolbarbutton-box &gt; .toolbarbutton-icon {</span>
<a href="#l43.51"></a><span id="l43.51">   list-style-image: inherit;</span>
<a href="#l43.52"></a><span id="l43.52">   width: 16px;</span>
<a href="#l43.53"></a><span id="l43.53">   height: 16px;</span>
<a href="#l43.54"></a><span id="l43.54"> }</span>
<a href="#l43.55"></a><span id="l43.55"> </span>
<a href="#l43.56"></a><span id="l43.56" class="difflineminus">-treechildren::-moz-tree-twisty(group, hidetwisty) {</span>
<a href="#l43.57"></a><span id="l43.57" class="difflineminus">-  list-style-image: none;</span>
<a href="#l43.58"></a><span id="l43.58" class="difflineminus">-}</span>
<a href="#l43.59"></a><span id="l43.59" class="difflineminus">-</span>
<a href="#l43.60"></a><span id="l43.60" class="difflineminus">-treechildren::-moz-tree-image(Name, container, group) {</span>
<a href="#l43.61"></a><span id="l43.61" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-group.png&quot;);</span>
<a href="#l43.62"></a><span id="l43.62" class="difflineminus">-}</span>
<a href="#l43.63"></a><span id="l43.63" class="difflineminus">-</span>
<a href="#l43.64"></a><span id="l43.64"> /* calendar icon for history grouping items by day */</span>
<a href="#l43.65"></a><span id="l43.65"> treechildren::-moz-tree-image(Name, query, dayContainer) {</span>
<a href="#l43.66"></a><span id="l43.66">   list-style-image: url(&quot;chrome://communicator/skin/history/calendar.png&quot;);</span>
<a href="#l43.67"></a><span id="l43.67"> }</span>
<a href="#l43.68"></a><span id="l43.68"> </span>
<a href="#l43.69"></a><span id="l43.69" class="difflineminus">-treechildren::-moz-tree-image(Name, separator) {</span>
<a href="#l43.70"></a><span id="l43.70" class="difflineplus">+.bookmark-item[container][livemark],</span>
<a href="#l43.71"></a><span id="l43.71" class="difflineplus">+treechildren::-moz-tree-image(title, container, livemark) {</span>
<a href="#l43.72"></a><span id="l43.72" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/livemark-folder.png&quot;);</span>
<a href="#l43.73"></a><span id="l43.73" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l43.74"></a><span id="l43.74" class="difflineplus">+}</span>
<a href="#l43.75"></a><span id="l43.75" class="difflineplus">+</span>
<a href="#l43.76"></a><span id="l43.76" class="difflineplus">+.bookmark-item[container][livemark] .bookmark-item,</span>
<a href="#l43.77"></a><span id="l43.77" class="difflineplus">+treechildren::-moz-tree-image(title, livemarkItem) {</span>
<a href="#l43.78"></a><span id="l43.78" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/livemark-item.png&quot;);</span>
<a href="#l43.79"></a><span id="l43.79" class="difflineplus">+}</span>
<a href="#l43.80"></a><span id="l43.80" class="difflineplus">+</span>
<a href="#l43.81"></a><span id="l43.81" class="difflineplus">+treechildren::-moz-tree-image(container, OrganizerQuery_AllBookmarks) {</span>
<a href="#l43.82"></a><span id="l43.82" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/allBookmarks.png&quot;);</span>
<a href="#l43.83"></a><span id="l43.83" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l43.84"></a><span id="l43.84" class="difflineplus">+}</span>
<a href="#l43.85"></a><span id="l43.85" class="difflineplus">+</span>
<a href="#l43.86"></a><span id="l43.86" class="difflineplus">+#bookmarksToolbarFolderMenu,</span>
<a href="#l43.87"></a><span id="l43.87" class="difflineplus">+#BMB_bookmarksToolbarFolderMenu,</span>
<a href="#l43.88"></a><span id="l43.88" class="difflineplus">+treechildren::-moz-tree-image(container, OrganizerQuery_BookmarksToolbar) {</span>
<a href="#l43.89"></a><span id="l43.89" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmarksToolbar.png&quot;);</span>
<a href="#l43.90"></a><span id="l43.90" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l43.91"></a><span id="l43.91" class="difflineplus">+}</span>
<a href="#l43.92"></a><span id="l43.92" class="difflineplus">+</span>
<a href="#l43.93"></a><span id="l43.93" class="difflineplus">+treechildren::-moz-tree-image(container, OrganizerQuery_BookmarksMenu) {</span>
<a href="#l43.94"></a><span id="l43.94" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmarksMenu.png&quot;);</span>
<a href="#l43.95"></a><span id="l43.95" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l43.96"></a><span id="l43.96" class="difflineplus">+}</span>
<a href="#l43.97"></a><span id="l43.97" class="difflineplus">+</span>
<a href="#l43.98"></a><span id="l43.98" class="difflineplus">+#unsortedBookmarksFolderMenu,</span>
<a href="#l43.99"></a><span id="l43.99" class="difflineplus">+treechildren::-moz-tree-image(container, OrganizerQuery_UnfiledBookmarks) {</span>
<a href="#l43.100"></a><span id="l43.100" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/unsortedBookmarks.png&quot;);</span>
<a href="#l43.101"></a><span id="l43.101" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l43.102"></a><span id="l43.102" class="difflineplus">+}</span>
<a href="#l43.103"></a><span id="l43.103" class="difflineplus">+</span>
<a href="#l43.104"></a><span id="l43.104" class="difflineplus">+/* query-nodes should be styled even if they're not expandable */</span>
<a href="#l43.105"></a><span id="l43.105" class="difflineplus">+.bookmark-item[container][query],</span>
<a href="#l43.106"></a><span id="l43.106" class="difflineplus">+treechildren::-moz-tree-image(title, query) {</span>
<a href="#l43.107"></a><span id="l43.107" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/query.png&quot;);</span>
<a href="#l43.108"></a><span id="l43.108" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l43.109"></a><span id="l43.109" class="difflineplus">+}</span>
<a href="#l43.110"></a><span id="l43.110" class="difflineplus">+</span>
<a href="#l43.111"></a><span id="l43.111" class="difflineplus">+.bookmark-item[query][tagContainer],</span>
<a href="#l43.112"></a><span id="l43.112" class="difflineplus">+treechildren::-moz-tree-image(title, query, tagContainer),</span>
<a href="#l43.113"></a><span id="l43.113" class="difflineplus">+treechildren::-moz-tree-image(query, OrganizerQuery_Tags) {</span>
<a href="#l43.114"></a><span id="l43.114" class="difflineplus">+  list-style-image: url(&quot;chrome://mozapps/skin/places/tagContainerIcon.png&quot;);</span>
<a href="#l43.115"></a><span id="l43.115" class="difflineplus">+  -moz-image-region: auto;</span>
<a href="#l43.116"></a><span id="l43.116" class="difflineplus">+}</span>
<a href="#l43.117"></a><span id="l43.117" class="difflineplus">+</span>
<a href="#l43.118"></a><span id="l43.118" class="difflineplus">+treechildren::-moz-tree-image(Name, separator),</span>
<a href="#l43.119"></a><span id="l43.119" class="difflineplus">+treechildren::-moz-tree-image(title, separator) {</span>
<a href="#l43.120"></a><span id="l43.120">   list-style-image: none;</span>
<a href="#l43.121"></a><span id="l43.121">   width: 0px;</span>
<a href="#l43.122"></a><span id="l43.122">   height: 0px;</span>
<a href="#l43.123"></a><span id="l43.123"> }</span>
<a href="#l43.124"></a><span id="l43.124"> </span>
<a href="#l43.125"></a><span id="l43.125" class="difflineminus">-treechildren::-moz-tree-cell-text(Name, separator) {</span>
<a href="#l43.126"></a><span id="l43.126" class="difflineplus">+treechildren::-moz-tree-cell-text(Name, separator),</span>
<a href="#l43.127"></a><span id="l43.127" class="difflineplus">+treechildren::-moz-tree-cell-text(title, separator) {</span>
<a href="#l43.128"></a><span id="l43.128">   color: ThreeDShadow;</span>
<a href="#l43.129"></a><span id="l43.129">   margin: 0px 5px;</span>
<a href="#l43.130"></a><span id="l43.130"> }</span>
<a href="#l43.131"></a><span id="l43.131"> </span>
<a href="#l43.132"></a><span id="l43.132" class="difflineminus">-treechildren::-moz-tree-cell-text(Name, separator, selected, focus) {</span>
<a href="#l43.133"></a><span id="l43.133" class="difflineplus">+treechildren::-moz-tree-cell-text(Name, separator, selected, focus),</span>
<a href="#l43.134"></a><span id="l43.134" class="difflineplus">+treechildren::-moz-tree-cell-text(title, separator, selected, focus) {</span>
<a href="#l43.135"></a><span id="l43.135">   color: HighlightText;</span>
<a href="#l43.136"></a><span id="l43.136"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/suite/themes/classic/mac/navigator/navigator.css</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/suite/themes/classic/mac/navigator/navigator.css</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -303,34 +303,26 @@ toolbar[mode=&quot;text&quot;] &gt; #window-controls </span>
<a href="#l44.4"></a><span id="l44.4"> }</span>
<a href="#l44.5"></a><span id="l44.5"> </span>
<a href="#l44.6"></a><span id="l44.6"> #page-proxy-deck {</span>
<a href="#l44.7"></a><span id="l44.7">   cursor: -moz-grab;</span>
<a href="#l44.8"></a><span id="l44.8">   margin: 0 3px 1px 3px;</span>
<a href="#l44.9"></a><span id="l44.9"> }</span>
<a href="#l44.10"></a><span id="l44.10"> </span>
<a href="#l44.11"></a><span id="l44.11"> #page-proxy-button {</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/location.gif&quot;); </span>
<a href="#l44.13"></a><span id="l44.13" class="difflineminus">-} </span>
<a href="#l44.14"></a><span id="l44.14" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.png&quot;); </span>
<a href="#l44.15"></a><span id="l44.15" class="difflineplus">+}</span>
<a href="#l44.16"></a><span id="l44.16"> </span>
<a href="#l44.17"></a><span id="l44.17"> #page-proxy-favicon {</span>
<a href="#l44.18"></a><span id="l44.18">   list-style-image: none;</span>
<a href="#l44.19"></a><span id="l44.19" class="difflineminus">-} </span>
<a href="#l44.20"></a><span id="l44.20" class="difflineminus">-</span>
<a href="#l44.21"></a><span id="l44.21" class="difflineminus">-#page-proxy-button[pageproxystate=&quot;valid&quot;]:hover  {</span>
<a href="#l44.22"></a><span id="l44.22" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/location-hov.gif&quot;);</span>
<a href="#l44.23"></a><span id="l44.23" class="difflineminus">-}</span>
<a href="#l44.24"></a><span id="l44.24" class="difflineminus">-  </span>
<a href="#l44.25"></a><span id="l44.25" class="difflineminus">-#page-proxy-button[pageproxystate=&quot;valid&quot;]:hover:active {</span>
<a href="#l44.26"></a><span id="l44.26" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/location-act.gif&quot;);</span>
<a href="#l44.27"></a><span id="l44.27"> }</span>
<a href="#l44.28"></a><span id="l44.28"> </span>
<a href="#l44.29"></a><span id="l44.29"> #page-proxy-button[pageproxystate=&quot;invalid&quot;] {</span>
<a href="#l44.30"></a><span id="l44.30">   cursor: default;</span>
<a href="#l44.31"></a><span id="l44.31" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/location-dis.gif&quot;);</span>
<a href="#l44.32"></a><span id="l44.32" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item-dis.png&quot;);</span>
<a href="#l44.33"></a><span id="l44.33"> }</span>
<a href="#l44.34"></a><span id="l44.34"> </span>
<a href="#l44.35"></a><span id="l44.35"> /* ::::: autocomplete ::::: */</span>
<a href="#l44.36"></a><span id="l44.36"> </span>
<a href="#l44.37"></a><span id="l44.37"> .autocomplete-textbox-container {</span>
<a href="#l44.38"></a><span id="l44.38">   font: -moz-info;</span>
<a href="#l44.39"></a><span id="l44.39">   -moz-box-align: center;</span>
<a href="#l44.40"></a><span id="l44.40"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/suite/themes/classic/navigator/navigator.css</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/suite/themes/classic/navigator/navigator.css</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -332,34 +332,26 @@ toolbar[mode=&quot;text&quot;] &gt; #window-controls </span>
<a href="#l45.4"></a><span id="l45.4"> }</span>
<a href="#l45.5"></a><span id="l45.5"> </span>
<a href="#l45.6"></a><span id="l45.6"> #page-proxy-deck {</span>
<a href="#l45.7"></a><span id="l45.7">   cursor: -moz-grab;</span>
<a href="#l45.8"></a><span id="l45.8">   margin: 2px 3px;</span>
<a href="#l45.9"></a><span id="l45.9"> }</span>
<a href="#l45.10"></a><span id="l45.10"> </span>
<a href="#l45.11"></a><span id="l45.11"> #page-proxy-button {</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/location.gif&quot;); </span>
<a href="#l45.13"></a><span id="l45.13" class="difflineminus">-} </span>
<a href="#l45.14"></a><span id="l45.14" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.png&quot;); </span>
<a href="#l45.15"></a><span id="l45.15" class="difflineplus">+}</span>
<a href="#l45.16"></a><span id="l45.16"> </span>
<a href="#l45.17"></a><span id="l45.17"> #page-proxy-favicon {</span>
<a href="#l45.18"></a><span id="l45.18">   list-style-image: none;</span>
<a href="#l45.19"></a><span id="l45.19" class="difflineminus">-} </span>
<a href="#l45.20"></a><span id="l45.20" class="difflineminus">-</span>
<a href="#l45.21"></a><span id="l45.21" class="difflineminus">-#page-proxy-button[pageproxystate=&quot;valid&quot;]:hover  {</span>
<a href="#l45.22"></a><span id="l45.22" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/location-hov.gif&quot;);</span>
<a href="#l45.23"></a><span id="l45.23" class="difflineminus">-}</span>
<a href="#l45.24"></a><span id="l45.24" class="difflineminus">-  </span>
<a href="#l45.25"></a><span id="l45.25" class="difflineminus">-#page-proxy-button[pageproxystate=&quot;valid&quot;]:hover:active {</span>
<a href="#l45.26"></a><span id="l45.26" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/location-act.gif&quot;);</span>
<a href="#l45.27"></a><span id="l45.27"> }</span>
<a href="#l45.28"></a><span id="l45.28"> </span>
<a href="#l45.29"></a><span id="l45.29"> #page-proxy-button[pageproxystate=&quot;invalid&quot;] {</span>
<a href="#l45.30"></a><span id="l45.30">   cursor: default;</span>
<a href="#l45.31"></a><span id="l45.31" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/location-dis.gif&quot;);</span>
<a href="#l45.32"></a><span id="l45.32" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item-dis.png&quot;);</span>
<a href="#l45.33"></a><span id="l45.33"> }</span>
<a href="#l45.34"></a><span id="l45.34"> </span>
<a href="#l45.35"></a><span id="l45.35"> /* ::::: autocomplete ::::: */</span>
<a href="#l45.36"></a><span id="l45.36"> </span>
<a href="#l45.37"></a><span id="l45.37"> .autocomplete-history-dropmarker {</span>
<a href="#l45.38"></a><span id="l45.38">   border-right-width: 1px;</span>
<a href="#l45.39"></a><span id="l45.39">   border-bottom-width: 1px;</span>
<a href="#l45.40"></a><span id="l45.40">   -moz-border-right-colors: ThreeDShadow;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

