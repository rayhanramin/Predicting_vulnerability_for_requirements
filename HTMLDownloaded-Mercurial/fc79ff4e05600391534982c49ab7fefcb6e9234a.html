<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 27583:fc79ff4e05600391534982c49ab7fefcb6e9234a</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ fc79ff4e05600391534982c49ab7fefcb6e9234a" />
<meta property="og:url" content="/comm-central/rev/fc79ff4e05600391534982c49ab7fefcb6e9234a" />
<meta property="og:description" content="Bug 1563122 - Use HTML input instead of XUL textbox in mail/components/im/content/. r=mkmelin" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / fc79ff4e05600391534982c49ab7fefcb6e9234a 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/fc79ff4e05600391534982c49ab7fefcb6e9234a">shortlog</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/fc79ff4e05600391534982c49ab7fefcb6e9234a">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a">files</a> |
changeset |
<a href="/comm-central/raw-rev/fc79ff4e05600391534982c49ab7fefcb6e9234a">raw</a>  | <a href="/comm-central/archive/fc79ff4e05600391534982c49ab7fefcb6e9234a.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1563122">Bug 1563122</a> - Use HTML input instead of XUL textbox in mail/components/im/content/. r=mkmelin
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#65;&#108;&#101;&#115;&#115;&#97;&#110;&#100;&#114;&#111;&#32;&#67;&#97;&#115;&#116;&#101;&#108;&#108;&#97;&#110;&#105;&#32;&#60;&#97;&#108;&#101;&#115;&#115;&#97;&#110;&#100;&#114;&#111;&#64;&#116;&#104;&#117;&#110;&#100;&#101;&#114;&#98;&#105;&#114;&#100;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 13 Sep 2019 11:30:55 -0700</td></tr>

<tr>
 <td>changeset 27583</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/fc79ff4e05600391534982c49ab7fefcb6e9234a">fc79ff4e05600391534982c49ab7fefcb6e9234a</a></td>
</tr>



<tr>
<td>parent 27582</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/1ad46bfea4c728a73cbdcc871fda746a94f59bc2">1ad46bfea4c728a73cbdcc871fda746a94f59bc2</a>
</td>
</tr>

<tr>
<td>child 27584</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/7c55e731be1891f8e9d0dab13ca377fbd42bac6c">7c55e731be1891f8e9d0dab13ca377fbd42bac6c</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=fc79ff4e05600391534982c49ab7fefcb6e9234a">16402</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Fri, 13 Sep 2019 21:56:30 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@7c55e731be18 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=7c55e731be1891f8e9d0dab13ca377fbd42bac6c">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=7c55e731be1891f8e9d0dab13ca377fbd42bac6c&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=7c55e731be1891f8e9d0dab13ca377fbd42bac6c&newProject=comm-central&newRevision=f8986e7f6f2e8be77dbd46e853b96097004892a4&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=7c55e731be1891f8e9d0dab13ca377fbd42bac6c&newProject=comm-central&newRevision=f8986e7f6f2e8be77dbd46e853b96097004892a4&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=7c55e731be1891f8e9d0dab13ca377fbd42bac6c&newProject=comm-central&newRevision=f8986e7f6f2e8be77dbd46e853b96097004892a4&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1563122">1563122</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1563122">Bug 1563122</a> - Use HTML input instead of XUL textbox in mail/components/im/content/. r=mkmelin</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/chat/content/imAccountOptionsHelper.js">chat/content/imAccountOptionsHelper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/chat/content/imAccountOptionsHelper.js">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/chat/content/imAccountOptionsHelper.js">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/chat/content/imAccountOptionsHelper.js">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/chat/content/imAccountOptionsHelper.js">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/chat/content/imAccountOptionsHelper.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/base/content/messenger.xul">mail/base/content/messenger.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/base/content/messenger.xul">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/base/content/messenger.xul">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/base/content/messenger.xul">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/base/content/messenger.xul">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/base/content/messenger.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/addbuddy.xul">mail/components/im/content/addbuddy.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/addbuddy.xul">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/addbuddy.xul">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/addbuddy.xul">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/addbuddy.xul">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/addbuddy.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/am-im.xul">mail/components/im/content/am-im.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/am-im.xul">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/am-im.xul">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/am-im.xul">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/am-im.xul">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/am-im.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-conversation-info.js">mail/components/im/content/chat-conversation-info.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-conversation-info.js">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-conversation-info.js">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-conversation-info.js">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-conversation-info.js">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-conversation-info.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-messenger.inc.xul">mail/components/im/content/chat-messenger.inc.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-messenger.inc.xul">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-messenger.inc.xul">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-messenger.inc.xul">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-messenger.inc.xul">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat-messenger.inc.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat.css">mail/components/im/content/chat.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat.css">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat.css">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat.css">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat.css">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/chat.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.js">mail/components/im/content/imAccountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.js">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.js">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.js">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.js">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.xul">mail/components/im/content/imAccountWizard.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.xul">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.xul">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.xul">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.xul">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccountWizard.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.css">mail/components/im/content/imAccounts.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.css">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.css">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.css">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.css">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.xul">mail/components/im/content/imAccounts.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.xul">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.xul">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.xul">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.xul">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imAccounts.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imStatusSelector.js">mail/components/im/content/imStatusSelector.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imStatusSelector.js">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imStatusSelector.js">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imStatusSelector.js">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imStatusSelector.js">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/content/imStatusSelector.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/themes/chat.css">mail/components/im/themes/chat.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/themes/chat.css">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/themes/chat.css">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/themes/chat.css">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/themes/chat.css">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/components/im/themes/chat.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/linux/mail/chat.css">mail/themes/linux/mail/chat.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/linux/mail/chat.css">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/linux/mail/chat.css">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/linux/mail/chat.css">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/linux/mail/chat.css">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/linux/mail/chat.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/osx/mail/chat.css">mail/themes/osx/mail/chat.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/osx/mail/chat.css">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/osx/mail/chat.css">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/osx/mail/chat.css">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/osx/mail/chat.css">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/osx/mail/chat.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/shared/mail/input-fields.css">mail/themes/shared/mail/input-fields.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/shared/mail/input-fields.css">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/shared/mail/input-fields.css">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/shared/mail/input-fields.css">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/shared/mail/input-fields.css">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/shared/mail/input-fields.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/windows/mail/chat.css">mail/themes/windows/mail/chat.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/windows/mail/chat.css">file</a> |
<a href="/comm-central/annotate/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/windows/mail/chat.css">annotate</a> |
<a href="/comm-central/diff/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/windows/mail/chat.css">diff</a> |
<a href="/comm-central/comparison/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/windows/mail/chat.css">comparison</a> |
<a href="/comm-central/log/fc79ff4e05600391534982c49ab7fefcb6e9234a/mail/themes/windows/mail/chat.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/chat/content/imAccountOptionsHelper.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/chat/content/imAccountOptionsHelper.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -2,42 +2,40 @@</span>
<a href="#l1.4"></a><span id="l1.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.5"></a><span id="l1.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l1.6"></a><span id="l1.6"> </span>
<a href="#l1.7"></a><span id="l1.7"> var accountOptionsHelper = {</span>
<a href="#l1.8"></a><span id="l1.8">   createTextbox(aType, aValue, aLabel, aName) {</span>
<a href="#l1.9"></a><span id="l1.9">     let container = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l1.10"></a><span id="l1.10">     container.setAttribute(&quot;align&quot;, &quot;baseline&quot;);</span>
<a href="#l1.11"></a><span id="l1.11">     container.setAttribute(&quot;equalsize&quot;, &quot;always&quot;);</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    container.classList.add(&quot;input-container&quot;);</span>
<a href="#l1.13"></a><span id="l1.13"> </span>
<a href="#l1.14"></a><span id="l1.14">     let label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l1.15"></a><span id="l1.15">     label.textContent = aLabel;</span>
<a href="#l1.16"></a><span id="l1.16">     label.setAttribute(&quot;control&quot;, aName);</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-    label.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+    label.classList.add(&quot;label-inline&quot;);</span>
<a href="#l1.19"></a><span id="l1.19">     container.appendChild(label);</span>
<a href="#l1.20"></a><span id="l1.20"> </span>
<a href="#l1.21"></a><span id="l1.21" class="difflineminus">-    let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineminus">-    let textbox =</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineminus">-      aType != &quot;number&quot;</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineminus">-        ? document.createXULElement(&quot;textbox&quot;)</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineminus">-        : document.createElementNS(&quot;http://www.w3.org/1999/xhtml&quot;, &quot;input&quot;);</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineplus">+    let input = document.createElementNS(</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineplus">+      &quot;http://www.w3.org/1999/xhtml&quot;,</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineplus">+      &quot;input&quot;</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineplus">+    );</span>
<a href="#l1.30"></a><span id="l1.30">     if (aType == &quot;number&quot;) {</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-      textbox.style.width = &quot;100%&quot;;</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+      input.classList.add(&quot;input-number-inline&quot;);</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+    } else {</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineplus">+      input.classList.add(&quot;input-inline&quot;);</span>
<a href="#l1.35"></a><span id="l1.35">     }</span>
<a href="#l1.36"></a><span id="l1.36">     if (aType) {</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineminus">-      textbox.setAttribute(&quot;type&quot;, aType);</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineplus">+      input.setAttribute(&quot;type&quot;, aType);</span>
<a href="#l1.39"></a><span id="l1.39">     }</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineminus">-    textbox.setAttribute(&quot;value&quot;, aValue);</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineminus">-    textbox.setAttribute(&quot;id&quot;, aName);</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineminus">-    textbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineminus">-    hbox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineminus">-    hbox.setAttribute(&quot;align&quot;, &quot;start&quot;);</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineminus">-    hbox.appendChild(textbox);</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineplus">+    input.setAttribute(&quot;value&quot;, aValue);</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineplus">+    input.setAttribute(&quot;id&quot;, aName);</span>
<a href="#l1.48"></a><span id="l1.48"> </span>
<a href="#l1.49"></a><span id="l1.49" class="difflineminus">-    container.appendChild(hbox);</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineplus">+    container.appendChild(input);</span>
<a href="#l1.51"></a><span id="l1.51">     return container;</span>
<a href="#l1.52"></a><span id="l1.52">   },</span>
<a href="#l1.53"></a><span id="l1.53"> </span>
<a href="#l1.54"></a><span id="l1.54">   createMenulist(aList, aLabel, aName) {</span>
<a href="#l1.55"></a><span id="l1.55">     let vbox = document.createXULElement(&quot;vbox&quot;);</span>
<a href="#l1.56"></a><span id="l1.56">     let hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l1.57"></a><span id="l1.57"> </span>
<a href="#l1.58"></a><span id="l1.58">     let label = document.createXULElement(&quot;label&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/messenger.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/messenger.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -17,16 +17,17 @@</span>
<a href="#l2.4"></a><span id="l2.4"> &lt;?xml-stylesheet href=&quot;chrome://chat/skin/imtooltip.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.5"></a><span id="l2.5"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messageHeader.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.6"></a><span id="l2.6"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.7"></a><span id="l2.7"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/attachmentList.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.8"></a><span id="l2.8"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgHdrViewSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.9"></a><span id="l2.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgReadSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.10"></a><span id="l2.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/searchBox.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.11"></a><span id="l2.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/customizableui/panelUI.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/input-fields.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.13"></a><span id="l2.13"> </span>
<a href="#l2.14"></a><span id="l2.14"> &lt;!DOCTYPE window [</span>
<a href="#l2.15"></a><span id="l2.15"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l2.16"></a><span id="l2.16"> %brandDTD;</span>
<a href="#l2.17"></a><span id="l2.17"> &lt;!ENTITY % msgHdrViewOverlayDTD SYSTEM &quot;chrome://messenger/locale/msgHdrViewOverlay.dtd&quot;&gt;</span>
<a href="#l2.18"></a><span id="l2.18"> %msgHdrViewOverlayDTD;</span>
<a href="#l2.19"></a><span id="l2.19"> &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot; &gt;</span>
<a href="#l2.20"></a><span id="l2.20"> %messengerDTD;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/components/im/content/addbuddy.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/components/im/content/addbuddy.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,35 +1,43 @@</span>
<a href="#l3.4"></a><span id="l3.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l3.5"></a><span id="l3.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.6"></a><span id="l3.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.7"></a><span id="l3.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.10"></a><span id="l3.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/imMenulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/input-fields.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.12"></a><span id="l3.12"> </span>
<a href="#l3.13"></a><span id="l3.13"> &lt;!DOCTYPE window SYSTEM &quot;chrome://messenger/locale/addbuddy.dtd&quot;&gt;</span>
<a href="#l3.14"></a><span id="l3.14"> </span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-&lt;dialog xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-  id=&quot;addBuddyDialog&quot;</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineminus">-  windowtype=&quot;Messenger:AddBuddy&quot;</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-  title=&quot;&amp;addBuddyWindow.title;&quot;</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">-  buttons=&quot;accept,cancel&quot;</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-  onload=&quot;addBuddy.onload()&quot;</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-  buttondisabledaccept=&quot;true&quot;&gt;</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+&lt;dialog xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineplus">+        xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineplus">+        id=&quot;addBuddyDialog&quot;</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineplus">+        windowtype=&quot;Messenger:AddBuddy&quot;</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineplus">+        title=&quot;&amp;addBuddyWindow.title;&quot;</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineplus">+        buttons=&quot;accept,cancel&quot;</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineplus">+        onload=&quot;addBuddy.onload()&quot;</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineplus">+        buttondisabledaccept=&quot;true&quot;&gt;</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/editMenuOverlay.js&quot;/&gt;</span>
<a href="#l3.33"></a><span id="l3.33">   &lt;script src=&quot;chrome://messenger/content/chat/addbuddy.js&quot;/&gt;</span>
<a href="#l3.34"></a><span id="l3.34"> </span>
<a href="#l3.35"></a><span id="l3.35">   &lt;stringbundle id=&quot;chatBundle&quot; src=&quot;chrome://messenger/locale/chat.properties&quot;/&gt;</span>
<a href="#l3.36"></a><span id="l3.36">   &lt;hbox&gt;</span>
<a href="#l3.37"></a><span id="l3.37">     &lt;vbox id=&quot;nameBox&quot;&gt;</span>
<a href="#l3.38"></a><span id="l3.38">       &lt;hbox align=&quot;center&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l3.39"></a><span id="l3.39">         &lt;label value=&quot;&amp;name.label;&quot; control=&quot;name&quot;/&gt;</span>
<a href="#l3.40"></a><span id="l3.40">       &lt;/hbox&gt;</span>
<a href="#l3.41"></a><span id="l3.41">       &lt;hbox align=&quot;center&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l3.42"></a><span id="l3.42">         &lt;label value=&quot;&amp;account.label;&quot; control=&quot;accountlist&quot;/&gt;</span>
<a href="#l3.43"></a><span id="l3.43">       &lt;/hbox&gt;</span>
<a href="#l3.44"></a><span id="l3.44">     &lt;/vbox&gt;</span>
<a href="#l3.45"></a><span id="l3.45">     &lt;vbox id=&quot;accountBox&quot;&gt;</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineminus">-      &lt;textbox id=&quot;name&quot; oninput=&quot;addBuddy.oninput()&quot;/&gt;</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineplus">+      &lt;html:input id=&quot;name&quot;</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineplus">+                  type=&quot;text&quot;</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineplus">+                  class=&quot;input-inline&quot;</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineplus">+                  oninput=&quot;addBuddy.oninput()&quot;/&gt;</span>
<a href="#l3.51"></a><span id="l3.51">       &lt;menulist id=&quot;accountlist&quot;/&gt;</span>
<a href="#l3.52"></a><span id="l3.52">     &lt;/vbox&gt;</span>
<a href="#l3.53"></a><span id="l3.53">   &lt;/hbox&gt;</span>
<a href="#l3.54"></a><span id="l3.54"> &lt;/dialog&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/components/im/content/am-im.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/components/im/content/am-im.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,28 +1,32 @@</span>
<a href="#l4.4"></a><span id="l4.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l4.5"></a><span id="l4.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.6"></a><span id="l4.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.7"></a><span id="l4.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountManage.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/input-fields.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12"> &lt;!DOCTYPE window [</span>
<a href="#l4.13"></a><span id="l4.13">   &lt;!ENTITY % imDTD SYSTEM &quot;chrome://messenger/locale/am-im.dtd&quot;&gt;</span>
<a href="#l4.14"></a><span id="l4.14">   &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l4.15"></a><span id="l4.15">   %imDTD;</span>
<a href="#l4.16"></a><span id="l4.16">   %brandDTD;</span>
<a href="#l4.17"></a><span id="l4.17"> ]&gt;</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19"> &lt;page xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l4.20"></a><span id="l4.20">       xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l4.21"></a><span id="l4.21">       id=&quot;account&quot;</span>
<a href="#l4.22"></a><span id="l4.22">       title=&quot;&amp;accountWindow.title;&quot;</span>
<a href="#l4.23"></a><span id="l4.23">       buttons=&quot;accept,cancel&quot;</span>
<a href="#l4.24"></a><span id="l4.24">       onload=&quot;parent.onPanelLoaded('am-im.xul');&quot;&gt;</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineplus">+</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/editMenuOverlay.js&quot;/&gt;</span>
<a href="#l4.28"></a><span id="l4.28">   &lt;script src=&quot;chrome://chat/content/imAccountOptionsHelper.js&quot;/&gt;</span>
<a href="#l4.29"></a><span id="l4.29">   &lt;script src=&quot;chrome://messenger/content/am-im.js&quot;/&gt;</span>
<a href="#l4.30"></a><span id="l4.30"> </span>
<a href="#l4.31"></a><span id="l4.31">   &lt;linkset&gt;</span>
<a href="#l4.32"></a><span id="l4.32">     &lt;html:link rel=&quot;localization&quot; href=&quot;branding/brand.ftl&quot;/&gt;</span>
<a href="#l4.33"></a><span id="l4.33">     &lt;html:link rel=&quot;localization&quot; href=&quot;messenger/preferences/am-im.ftl&quot;/&gt;</span>
<a href="#l4.34"></a><span id="l4.34">     &lt;html:link rel=&quot;localization&quot; href=&quot;messenger/otr/am-im-otr.ftl&quot;/&gt;</span>
<a href="#l4.35"></a><span id="l4.35">   &lt;/linkset&gt;</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineat">@@ -45,33 +49,56 @@</span>
<a href="#l4.37"></a><span id="l4.37">       &lt;tabbox id=&quot;imTabbox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l4.38"></a><span id="l4.38">         &lt;tabs&gt;</span>
<a href="#l4.39"></a><span id="l4.39">             &lt;tab id=&quot;imTabGeneral&quot; label=&quot;&amp;account.general;&quot;/&gt;</span>
<a href="#l4.40"></a><span id="l4.40">             &lt;tab id=&quot;imTabOTR&quot; data-l10n-id=&quot;account-encryption&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l4.41"></a><span id="l4.41">         &lt;/tabs&gt;</span>
<a href="#l4.42"></a><span id="l4.42">         &lt;tabpanels flex=&quot;1&quot;&gt;</span>
<a href="#l4.43"></a><span id="l4.43">           &lt;tabpanel orient=&quot;vertical&quot;&gt;</span>
<a href="#l4.44"></a><span id="l4.44">             &lt;label class=&quot;header&quot; data-l10n-id=&quot;account-settingsTitle&quot; /&gt;</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineminus">-            &lt;hbox id=&quot;passwordBox&quot; equalsize=&quot;always&quot; align=&quot;baseline&quot;&gt;</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineminus">-              &lt;label value=&quot;&amp;account.password;&quot; control=&quot;server.password&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineminus">-              &lt;textbox id=&quot;server.password&quot; flex=&quot;1&quot; type=&quot;password&quot;</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineminus">-                       preftype=&quot;wstring&quot; genericattr=&quot;true&quot;/&gt;</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineplus">+            &lt;hbox id=&quot;passwordBox&quot;</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineplus">+                  equalsize=&quot;always&quot;</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+                  align=&quot;baseline&quot;</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineplus">+                  class=&quot;input-container&quot;&gt;</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineplus">+              &lt;label value=&quot;&amp;account.password;&quot;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineplus">+                     control=&quot;server.password&quot;</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineplus">+                     class=&quot;label-inline&quot;</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineplus">+                     flex=&quot;1&quot;/&gt;</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineplus">+              &lt;html:input id=&quot;server.password&quot;</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineplus">+                          type=&quot;password&quot;</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineplus">+                          preftype=&quot;wstring&quot;</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineplus">+                          genericattr=&quot;true&quot;</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineplus">+                          class=&quot;input-inline&quot;/&gt;</span>
<a href="#l4.62"></a><span id="l4.62">             &lt;/hbox&gt;</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-            &lt;hbox id=&quot;aliasBox&quot; equalsize=&quot;always&quot; align=&quot;baseline&quot;&gt;</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-              &lt;label value=&quot;&amp;account.alias;&quot; control=&quot;server.alias&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-              &lt;textbox id=&quot;server.alias&quot; flex=&quot;1&quot; preftype=&quot;wstring&quot;</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineminus">-                       wsm_persist=&quot;true&quot; genericattr=&quot;true&quot;/&gt;</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineplus">+            &lt;hbox id=&quot;aliasBox&quot;</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineplus">+                  equalsize=&quot;always&quot;</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineplus">+                  align=&quot;baseline&quot;</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineplus">+                  class=&quot;input-container&quot;&gt;</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineplus">+              &lt;label value=&quot;&amp;account.alias;&quot;</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineplus">+                     control=&quot;server.alias&quot;</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineplus">+                     class=&quot;label-inline&quot;</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineplus">+                     flex=&quot;1&quot;/&gt;</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineplus">+              &lt;html:input id=&quot;server.alias&quot;</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineplus">+                          type=&quot;text&quot;</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineplus">+                          preftype=&quot;wstring&quot;</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineplus">+                          wsm_persist=&quot;true&quot;</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineplus">+                          genericattr=&quot;true&quot;</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineplus">+                          class=&quot;input-inline&quot;/&gt;</span>
<a href="#l4.81"></a><span id="l4.81">             &lt;/hbox&gt;</span>
<a href="#l4.82"></a><span id="l4.82">             &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l4.83"></a><span id="l4.83"> </span>
<a href="#l4.84"></a><span id="l4.84">             &lt;vbox id=&quot;autojoinBox&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l4.85"></a><span id="l4.85">               &lt;label class=&quot;header&quot; data-l10n-id=&quot;account-channelTitle&quot; /&gt;</span>
<a href="#l4.86"></a><span id="l4.86">               &lt;vbox&gt;</span>
<a href="#l4.87"></a><span id="l4.87">                 &lt;label value=&quot;&amp;account.autojoin;&quot; control=&quot;server.autojoin&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-                &lt;textbox id=&quot;server.autojoin&quot; flex=&quot;1&quot; preftype=&quot;wstring&quot; genericattr=&quot;true&quot;/&gt;</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineplus">+                &lt;html:input id=&quot;server.autojoin&quot;</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineplus">+                            type=&quot;text&quot;</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineplus">+                            preftype=&quot;wstring&quot;</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineplus">+                            genericattr=&quot;true&quot;</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineplus">+                            class=&quot;input-inline&quot;/&gt;</span>
<a href="#l4.94"></a><span id="l4.94">               &lt;/vbox&gt;</span>
<a href="#l4.95"></a><span id="l4.95">               &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l4.96"></a><span id="l4.96">             &lt;/vbox&gt;</span>
<a href="#l4.97"></a><span id="l4.97">             &lt;vbox id=&quot;advanced&quot;&gt;</span>
<a href="#l4.98"></a><span id="l4.98">               &lt;label class=&quot;header&quot;&gt;&amp;account.advanced;&lt;/label&gt;</span>
<a href="#l4.99"></a><span id="l4.99">               &lt;vbox id=&quot;protoSpecific&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l4.100"></a><span id="l4.100">             &lt;/vbox&gt;</span>
<a href="#l4.101"></a><span id="l4.101">           &lt;/tabpanel&gt;</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineat">@@ -105,21 +132,22 @@</span>
<a href="#l4.103"></a><span id="l4.103">             &lt;/vbox&gt;</span>
<a href="#l4.104"></a><span id="l4.104"> </span>
<a href="#l4.105"></a><span id="l4.105">             &lt;separator/&gt;</span>
<a href="#l4.106"></a><span id="l4.106"> </span>
<a href="#l4.107"></a><span id="l4.107">             &lt;vbox&gt;</span>
<a href="#l4.108"></a><span id="l4.108">               &lt;label class=&quot;header&quot; data-l10n-id=&quot;otr-encryption-title&quot; /&gt;</span>
<a href="#l4.109"></a><span id="l4.109">               &lt;label data-l10n-id=&quot;otr-encryption-caption&quot; /&gt;</span>
<a href="#l4.110"></a><span id="l4.110">               &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineminus">-              &lt;hbox align=&quot;baseline&quot;&gt;</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineplus">+              &lt;hbox align=&quot;baseline&quot; class=&quot;input-container&quot;&gt;</span>
<a href="#l4.113"></a><span id="l4.113">                 &lt;label data-l10n-id=&quot;otr-fingerprint-label&quot; /&gt;</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineminus">-                &lt;textbox id=&quot;otrFingerprint&quot;</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineminus">-                         readonly=&quot;true&quot;</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineminus">-                         flex=&quot;1&quot;/&gt;</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineplus">+                &lt;html:input id=&quot;otrFingerprint&quot;</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineplus">+                            type=&quot;text&quot;</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineplus">+                            class=&quot;input-inline&quot;</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineplus">+                            readonly=&quot;readonly&quot;/&gt;</span>
<a href="#l4.121"></a><span id="l4.121">               &lt;/hbox&gt;</span>
<a href="#l4.122"></a><span id="l4.122">               &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l4.123"></a><span id="l4.123">               &lt;hbox pack=&quot;start&quot;&gt;</span>
<a href="#l4.124"></a><span id="l4.124">                 &lt;button id=&quot;viewFingerprintButton&quot;</span>
<a href="#l4.125"></a><span id="l4.125">                         data-l10n-id=&quot;view-fingerprint-button&quot;</span>
<a href="#l4.126"></a><span id="l4.126">                         oncommand=&quot;account.viewFingerprintKeys();&quot;/&gt;</span>
<a href="#l4.127"></a><span id="l4.127">               &lt;/hbox&gt;</span>
<a href="#l4.128"></a><span id="l4.128">             &lt;/vbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/components/im/content/chat-conversation-info.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/components/im/content/chat-conversation-info.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -71,17 +71,17 @@</span>
<a href="#l5.4"></a><span id="l5.4">         &lt;/stack&gt;</span>
<a href="#l5.5"></a><span id="l5.5">         &lt;stack class=&quot;displayNameAndstatusMessageStack&quot; mousethrough=&quot;always&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.6"></a><span id="l5.6">           &lt;hbox align=&quot;center&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.7"></a><span id="l5.7">             &lt;description class=&quot;displayName&quot; flex=&quot;1&quot; crop=&quot;end&quot;&gt;</span>
<a href="#l5.8"></a><span id="l5.8">             &lt;/description&gt;</span>
<a href="#l5.9"></a><span id="l5.9">             &lt;image class=&quot;prplIcon&quot;&gt;&lt;/image&gt;</span>
<a href="#l5.10"></a><span id="l5.10">           &lt;/hbox&gt;</span>
<a href="#l5.11"></a><span id="l5.11">           &lt;description class=&quot;statusMessage&quot; mousethrough=&quot;never&quot; crop=&quot;end&quot; flex=&quot;100000&quot;/&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-          &lt;textbox class=&quot;statusMessageInput&quot; mousethrough=&quot;never&quot; crop=&quot;end&quot; flex=&quot;100000&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+          &lt;html:input class=&quot;statusMessageInput input-inline&quot; hidden=&quot;hidden&quot;/&gt;</span>
<a href="#l5.14"></a><span id="l5.14">         &lt;/stack&gt;</span>
<a href="#l5.15"></a><span id="l5.15">       &lt;/hbox&gt;</span>
<a href="#l5.16"></a><span id="l5.16">       &lt;hbox class=&quot;otr-container&quot; align=&quot;left&quot; valign=&quot;middle&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l5.17"></a><span id="l5.17">         &lt;label class=&quot;otr-label&quot; crop=&quot;end&quot; data-l10n-id=&quot;state-label&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l5.18"></a><span id="l5.18">         &lt;toolbarbutton id=&quot;otrButton&quot;</span>
<a href="#l5.19"></a><span id="l5.19">                        mode=&quot;dialog&quot;</span>
<a href="#l5.20"></a><span id="l5.20">                        class=&quot;otr-button toolbarbutton-1&quot;</span>
<a href="#l5.21"></a><span id="l5.21">                        type=&quot;menu&quot;</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineat">@@ -123,18 +123,18 @@</span>
<a href="#l5.23"></a><span id="l5.23">       if (!this.hasAttribute(&quot;editing&quot;)) {</span>
<a href="#l5.24"></a><span id="l5.24">         return;</span>
<a href="#l5.25"></a><span id="l5.25">       }</span>
<a href="#l5.26"></a><span id="l5.26"> </span>
<a href="#l5.27"></a><span id="l5.27">       let panel = document.getElementById(&quot;conversationsDeck&quot;).selectedPanel;</span>
<a href="#l5.28"></a><span id="l5.28"> </span>
<a href="#l5.29"></a><span id="l5.29">       let topic = this.topic;</span>
<a href="#l5.30"></a><span id="l5.30">       let topicInput = this.topicInput;</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-      topic.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineminus">-      topicInput.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+      topic.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+      topicInput.toggleAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l5.35"></a><span id="l5.35">       if (save) {</span>
<a href="#l5.36"></a><span id="l5.36">         // apply the new topic only if it is different from the current one</span>
<a href="#l5.37"></a><span id="l5.37">         if (topicInput.value != topicInput.getAttribute(&quot;value&quot;)) {</span>
<a href="#l5.38"></a><span id="l5.38">           panel._conv.topic = topicInput.value;</span>
<a href="#l5.39"></a><span id="l5.39">         }</span>
<a href="#l5.40"></a><span id="l5.40">       }</span>
<a href="#l5.41"></a><span id="l5.41">       this.removeAttribute(&quot;editing&quot;);</span>
<a href="#l5.42"></a><span id="l5.42">       topicInput.removeEventListener(&quot;keypress&quot;, this._topicKeyPress, true);</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineat">@@ -157,42 +157,42 @@</span>
<a href="#l5.44"></a><span id="l5.44">           this.finishEditTopic(false);</span>
<a href="#l5.45"></a><span id="l5.45">           event.stopPropagation();</span>
<a href="#l5.46"></a><span id="l5.46">           event.preventDefault();</span>
<a href="#l5.47"></a><span id="l5.47">           break;</span>
<a href="#l5.48"></a><span id="l5.48">       }</span>
<a href="#l5.49"></a><span id="l5.49">     }</span>
<a href="#l5.50"></a><span id="l5.50"> </span>
<a href="#l5.51"></a><span id="l5.51">     topicBlur(event) {</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineminus">-      if (event.originalTarget == this.topicInput.inputField) {</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+      if (event.originalTarget == this.topicInput) {</span>
<a href="#l5.54"></a><span id="l5.54">         this.finishEditTopic(true);</span>
<a href="#l5.55"></a><span id="l5.55">       }</span>
<a href="#l5.56"></a><span id="l5.56">     }</span>
<a href="#l5.57"></a><span id="l5.57"> </span>
<a href="#l5.58"></a><span id="l5.58">     startEditTopic() {</span>
<a href="#l5.59"></a><span id="l5.59">       let topic = this.topic;</span>
<a href="#l5.60"></a><span id="l5.60">       let topicInput = this.topicInput;</span>
<a href="#l5.61"></a><span id="l5.61">       if (!topic.hasAttribute(&quot;editable&quot;) || this.hasAttribute(&quot;editing&quot;)) {</span>
<a href="#l5.62"></a><span id="l5.62">         return;</span>
<a href="#l5.63"></a><span id="l5.63">       }</span>
<a href="#l5.64"></a><span id="l5.64"> </span>
<a href="#l5.65"></a><span id="l5.65">       this.setAttribute(&quot;editing&quot;, &quot;true&quot;);</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineminus">-      topicInput.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineminus">-      topic.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+      topicInput.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+      topic.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l5.70"></a><span id="l5.70">       this._topicKeyPress = this.topicKeyPress.bind(this);</span>
<a href="#l5.71"></a><span id="l5.71">       topicInput.addEventListener(&quot;keypress&quot;, this._topicKeyPress);</span>
<a href="#l5.72"></a><span id="l5.72">       this._topicBlur = this.topicBlur.bind(this);</span>
<a href="#l5.73"></a><span id="l5.73">       topicInput.addEventListener(&quot;blur&quot;, this._topicBlur);</span>
<a href="#l5.74"></a><span id="l5.74">       topicInput.getBoundingClientRect();</span>
<a href="#l5.75"></a><span id="l5.75">       if (this.hasAttribute(&quot;noTopic&quot;)) {</span>
<a href="#l5.76"></a><span id="l5.76">         topicInput.value = &quot;&quot;;</span>
<a href="#l5.77"></a><span id="l5.77">       } else {</span>
<a href="#l5.78"></a><span id="l5.78">         topicInput.value = topic.value;</span>
<a href="#l5.79"></a><span id="l5.79">       }</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineminus">-      topicInput.inputField.select();</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineplus">+      topicInput.select();</span>
<a href="#l5.82"></a><span id="l5.82">     }</span>
<a href="#l5.83"></a><span id="l5.83"> </span>
<a href="#l5.84"></a><span id="l5.84">     otrButtonClicked(aEvent) {</span>
<a href="#l5.85"></a><span id="l5.85">       aEvent.preventDefault();</span>
<a href="#l5.86"></a><span id="l5.86">       let otrMenu = this.querySelector(&quot;.otr-menu-popup&quot;);</span>
<a href="#l5.87"></a><span id="l5.87">       otrMenu.openPopup(otrMenu.parentNode, &quot;after_start&quot;);</span>
<a href="#l5.88"></a><span id="l5.88">     }</span>
<a href="#l5.89"></a><span id="l5.89"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/components/im/content/chat-messenger.inc.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/components/im/content/chat-messenger.inc.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -39,21 +39,29 @@</span>
<a href="#l6.4"></a><span id="l6.4">                               status=&quot;available&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l6.5"></a><span id="l6.5">                     &lt;menuitem id=&quot;statusTypeUnavailable&quot; label=&quot;&amp;status.unavailable;&quot;</span>
<a href="#l6.6"></a><span id="l6.6">                               status=&quot;unavailable&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l6.7"></a><span id="l6.7">                     &lt;menuseparator id=&quot;statusTypeOfflineSeparator&quot;/&gt;</span>
<a href="#l6.8"></a><span id="l6.8">                     &lt;menuitem id=&quot;statusTypeOffline&quot; label=&quot;&amp;status.offline;&quot;</span>
<a href="#l6.9"></a><span id="l6.9">                               status=&quot;offline&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l6.10"></a><span id="l6.10">                   &lt;/menupopup&gt;</span>
<a href="#l6.11"></a><span id="l6.11">                 &lt;/toolbarbutton&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-                &lt;vbox flex=&quot;1&quot; orient=&quot;horizontal&quot; align=&quot;center&quot;&gt;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-                  &lt;label id=&quot;statusMessage&quot; flex=&quot;1&quot; value=&quot;&quot; class=&quot;statusMessageToolbarItem&quot;</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+                &lt;vbox flex=&quot;1&quot;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+                      orient=&quot;horizontal&quot;</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+                      align=&quot;center&quot;</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+                      class=&quot;input-container status-container&quot;&gt;</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+                  &lt;label id=&quot;statusMessageLabel&quot;</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+                         flex=&quot;1&quot;</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineplus">+                         value=&quot;&quot;</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineplus">+                         class=&quot;statusMessageToolbarItem label-inline&quot;</span>
<a href="#l6.22"></a><span id="l6.22">                          onclick=&quot;statusSelector.statusMessageClick();&quot;/&gt;</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineminus">-                  &lt;textbox id=&quot;statusMessageInput&quot; flex=&quot;1&quot; value=&quot;&quot; class=&quot;statusMessageToolbarItem&quot;</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineminus">-                           collapsed=&quot;true&quot; style=&quot;margin:0;&quot;/&gt;</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineplus">+                  &lt;html:input id=&quot;statusMessageInput&quot;</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineplus">+                              value=&quot;&quot;</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineplus">+                              class=&quot;statusMessageToolbarItem status-message-input&quot;</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineplus">+                              hidden=&quot;hidden&quot;/&gt;</span>
<a href="#l6.29"></a><span id="l6.29">                 &lt;/vbox&gt;</span>
<a href="#l6.30"></a><span id="l6.30">               &lt;/toolbaritem&gt;</span>
<a href="#l6.31"></a><span id="l6.31">               &lt;toolbarbutton id=&quot;button-chat-accounts&quot;</span>
<a href="#l6.32"></a><span id="l6.32">                              class=&quot;toolbarbutton-1&quot;</span>
<a href="#l6.33"></a><span id="l6.33">                              label=&quot;&amp;chatAccountsButton.label;&quot;</span>
<a href="#l6.34"></a><span id="l6.34">                              oncommand=&quot;openIMAccountMgr()&quot;/&gt;</span>
<a href="#l6.35"></a><span id="l6.35"> </span>
<a href="#l6.36"></a><span id="l6.36">               &lt;toolbaritem id=&quot;gloda-im-search&quot; insertafter=&quot;button-stop&quot;</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineat">@@ -161,21 +169,22 @@</span>
<a href="#l6.38"></a><span id="l6.38"> </span>
<a href="#l6.39"></a><span id="l6.39">                 &lt;/deck&gt;</span>
<a href="#l6.40"></a><span id="l6.40">               &lt;/vbox&gt;</span>
<a href="#l6.41"></a><span id="l6.41">               &lt;splitter id=&quot;contextSplitter&quot; hidden=&quot;true&quot; collapse=&quot;after&quot;/&gt;</span>
<a href="#l6.42"></a><span id="l6.42">               &lt;vbox id=&quot;contextPane&quot; hidden=&quot;true&quot; width=&quot;250&quot; persist=&quot;width&quot;&gt;</span>
<a href="#l6.43"></a><span id="l6.43">                 &lt;chat-conversation-info id=&quot;conv-top-info&quot; class=&quot;conv-top-info&quot;/&gt;</span>
<a href="#l6.44"></a><span id="l6.44">                 &lt;vbox id=&quot;contextPaneFlexibleBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l6.45"></a><span id="l6.45">                   &lt;vbox flex=&quot;1&quot; class=&quot;conv-chat&quot; width=&quot;150&quot;&gt;</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineminus">-                    &lt;hbox align=&quot;baseline&quot; class=&quot;conv-nicklist-header&quot;&gt;</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineminus">-                      &lt;label class=&quot;conv-nicklist-header-label&quot;</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineminus">-                             id=&quot;participantLabel&quot; control=&quot;participantCount&quot;</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineplus">+                    &lt;hbox align=&quot;baseline&quot; class=&quot;conv-nicklist-header input-container&quot;&gt;</span>
<a href="#l6.50"></a><span id="l6.50" class="difflineplus">+                      &lt;label id=&quot;participantLabel&quot;</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineplus">+                             class=&quot;conv-nicklist-header-label&quot;</span>
<a href="#l6.52"></a><span id="l6.52" class="difflineplus">+                             control=&quot;participantCount&quot;</span>
<a href="#l6.53"></a><span id="l6.53">                              value=&quot;&amp;chat.participants;&quot;/&gt;</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineminus">-                      &lt;textbox flex=&quot;1&quot; readonly=&quot;true&quot; class=&quot;plain&quot; id=&quot;participantCount&quot;/&gt;</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineplus">+                      &lt;html:input id=&quot;participantCount&quot; readonly=&quot;readonly&quot; class=&quot;plain&quot;/&gt;</span>
<a href="#l6.56"></a><span id="l6.56">                     &lt;/hbox&gt;</span>
<a href="#l6.57"></a><span id="l6.57">                     &lt;richlistbox id=&quot;nicklist&quot; class=&quot;conv-nicklist theme-listbox&quot;</span>
<a href="#l6.58"></a><span id="l6.58">                                  flex=&quot;1&quot; seltype=&quot;multiple&quot;</span>
<a href="#l6.59"></a><span id="l6.59">                                  tooltip=&quot;imTooltip&quot;</span>
<a href="#l6.60"></a><span id="l6.60">                                  onclick=&quot;chatHandler.onNickClick(event);&quot;</span>
<a href="#l6.61"></a><span id="l6.61">                                  onkeypress=&quot;chatHandler.onNicklistKeyPress(event);&quot;/&gt;</span>
<a href="#l6.62"></a><span id="l6.62">                   &lt;/vbox&gt;</span>
<a href="#l6.63"></a><span id="l6.63">                   &lt;splitter id=&quot;logsSplitter&quot; class=&quot;conv-chat&quot; collapse=&quot;after&quot; orient=&quot;vertical&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/components/im/content/chat.css</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/components/im/content/chat.css</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -41,28 +41,32 @@ richlistitem[is=&quot;chat-imconv&quot;] {</span>
<a href="#l7.4"></a><span id="l7.4"> #IMSearchInput {</span>
<a href="#l7.5"></a><span id="l7.5">   -moz-binding: url(&quot;chrome://messenger/content/search.xml#glodaSearch&quot;);</span>
<a href="#l7.6"></a><span id="l7.6"> }</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> #statusTypeIcon:not([disabled]) {</span>
<a href="#l7.9"></a><span id="l7.9">   cursor: pointer;</span>
<a href="#l7.10"></a><span id="l7.10"> }</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-#statusMessage, #statusMessageInput {</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+.status-container {</span>
<a href="#l7.14"></a><span id="l7.14">   width: 15em;</span>
<a href="#l7.15"></a><span id="l7.15"> }</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-#statusMessage:not([statusType=&quot;offline&quot;]):not([disabled]), .statusMessageInput[editable] {</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineplus">+#statusMessageLabel:not([statusType=&quot;offline&quot;]):not([disabled]), .statusMessageInput[editable] {</span>
<a href="#l7.19"></a><span id="l7.19">   cursor: text;</span>
<a href="#l7.20"></a><span id="l7.20"> }</span>
<a href="#l7.21"></a><span id="l7.21"> </span>
<a href="#l7.22"></a><span id="l7.22"> #statusMessageInput[editing], .statusMessageInput[editing] {</span>
<a href="#l7.23"></a><span id="l7.23">   -moz-appearance: textfield;</span>
<a href="#l7.24"></a><span id="l7.24"> }</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26" class="difflineplus">+#statusMessageInput.status-message-input {</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineplus">+  margin: 0;</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineplus">+}</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineplus">+</span>
<a href="#l7.30"></a><span id="l7.30"> toolbar[mode=&quot;text&quot;] #button-chat {</span>
<a href="#l7.31"></a><span id="l7.31">   -moz-box-orient: horizontal;</span>
<a href="#l7.32"></a><span id="l7.32"> }</span>
<a href="#l7.33"></a><span id="l7.33"> </span>
<a href="#l7.34"></a><span id="l7.34"> .badgeButton-badge {</span>
<a href="#l7.35"></a><span id="l7.35">   display: none;</span>
<a href="#l7.36"></a><span id="l7.36">   background-color: red;</span>
<a href="#l7.37"></a><span id="l7.37">   border: 1px solid white;</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineat">@@ -104,8 +108,12 @@ toolbar[mode=&quot;text&quot;] .badgeButton-badge </span>
<a href="#l7.39"></a><span id="l7.39"> </span>
<a href="#l7.40"></a><span id="l7.40"> #joinChatGrid html|div {</span>
<a href="#l7.41"></a><span id="l7.41">   display: flex;</span>
<a href="#l7.42"></a><span id="l7.42">   align-items: center;</span>
<a href="#l7.43"></a><span id="l7.43"> }</span>
<a href="#l7.44"></a><span id="l7.44"> .required {</span>
<a href="#l7.45"></a><span id="l7.45">   visibility: hidden;</span>
<a href="#l7.46"></a><span id="l7.46"> }</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineplus">+</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineplus">+#participantCount {</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineplus">+  background: transparent;</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/components/im/content/imAccountWizard.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/components/im/content/imAccountWizard.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -88,17 +88,17 @@ var accountWizard = {</span>
<a href="#l8.4"></a><span id="l8.4">     if (aTopic == &quot;prpl-quit&quot;) {</span>
<a href="#l8.5"></a><span id="l8.5">       // libpurple is being uninitialized. We can't create any new</span>
<a href="#l8.6"></a><span id="l8.6">       // account so keeping this wizard open would be pointless, close it.</span>
<a href="#l8.7"></a><span id="l8.7">       window.close();</span>
<a href="#l8.8"></a><span id="l8.8">     }</span>
<a href="#l8.9"></a><span id="l8.9">   },</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11">   getUsername() {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    // If the first username textbox is empty, make sure we return an empty</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    // If the first username input is empty, make sure we return an empty</span>
<a href="#l8.14"></a><span id="l8.14">     // string so that it blocks the 'next' button of the wizard.</span>
<a href="#l8.15"></a><span id="l8.15">     if (!this.userNameBoxes[0].value) {</span>
<a href="#l8.16"></a><span id="l8.16">       return &quot;&quot;;</span>
<a href="#l8.17"></a><span id="l8.17">     }</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19">     return this.userNameBoxes.reduce((prev, elt) =&gt; prev + elt.value, &quot;&quot;);</span>
<a href="#l8.20"></a><span id="l8.20">   },</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -123,34 +123,41 @@ var accountWizard = {</span>
<a href="#l8.23"></a><span id="l8.23">     this.proto = Services.core.getProtocolById(id);</span>
<a href="#l8.24"></a><span id="l8.24">   },</span>
<a href="#l8.25"></a><span id="l8.25"> </span>
<a href="#l8.26"></a><span id="l8.26">   insertUsernameField(aName, aLabel, aParent, aDefaultValue) {</span>
<a href="#l8.27"></a><span id="l8.27">     var hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l8.28"></a><span id="l8.28">     hbox.setAttribute(&quot;id&quot;, aName + &quot;-hbox&quot;);</span>
<a href="#l8.29"></a><span id="l8.29">     hbox.setAttribute(&quot;align&quot;, &quot;baseline&quot;);</span>
<a href="#l8.30"></a><span id="l8.30">     hbox.setAttribute(&quot;equalsize&quot;, &quot;always&quot;);</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineplus">+    hbox.classList.add(&quot;input-container&quot;);</span>
<a href="#l8.32"></a><span id="l8.32"> </span>
<a href="#l8.33"></a><span id="l8.33">     var label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l8.34"></a><span id="l8.34">     label.setAttribute(&quot;value&quot;, aLabel);</span>
<a href="#l8.35"></a><span id="l8.35">     label.setAttribute(&quot;control&quot;, aName);</span>
<a href="#l8.36"></a><span id="l8.36">     label.setAttribute(&quot;id&quot;, aName + &quot;-label&quot;);</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineplus">+    label.classList.add(&quot;label-inline&quot;);</span>
<a href="#l8.38"></a><span id="l8.38">     hbox.appendChild(label);</span>
<a href="#l8.39"></a><span id="l8.39"> </span>
<a href="#l8.40"></a><span id="l8.40" class="difflineminus">-    var textbox = document.createXULElement(&quot;textbox&quot;);</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineminus">-    textbox.setAttribute(&quot;id&quot;, aName);</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineminus">-    textbox.setAttribute(&quot;flex&quot;, 1);</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineplus">+    var input = document.createElementNS(</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineplus">+      &quot;http://www.w3.org/1999/xhtml&quot;,</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineplus">+      &quot;input&quot;</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineplus">+    );</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineplus">+    input.setAttribute(&quot;id&quot;, aName);</span>
<a href="#l8.48"></a><span id="l8.48" class="difflineplus">+    input.classList.add(&quot;input-inline&quot;);</span>
<a href="#l8.49"></a><span id="l8.49">     if (aDefaultValue) {</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineminus">-      textbox.setAttribute(&quot;value&quot;, aDefaultValue);</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+      input.setAttribute(&quot;value&quot;, aDefaultValue);</span>
<a href="#l8.52"></a><span id="l8.52">     }</span>
<a href="#l8.53"></a><span id="l8.53" class="difflineminus">-    textbox.addEventListener(&quot;input&quot;, accountWizard.checkUsername);</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineminus">-    hbox.appendChild(textbox);</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineplus">+    input.addEventListener(&quot;input&quot;, event =&gt; {</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineplus">+      this.checkUsername();</span>
<a href="#l8.57"></a><span id="l8.57" class="difflineplus">+    });</span>
<a href="#l8.58"></a><span id="l8.58" class="difflineplus">+    hbox.appendChild(input);</span>
<a href="#l8.59"></a><span id="l8.59"> </span>
<a href="#l8.60"></a><span id="l8.60">     aParent.appendChild(hbox);</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineminus">-    return textbox;</span>
<a href="#l8.62"></a><span id="l8.62" class="difflineplus">+    return input;</span>
<a href="#l8.63"></a><span id="l8.63">   },</span>
<a href="#l8.64"></a><span id="l8.64"> </span>
<a href="#l8.65"></a><span id="l8.65">   showUsernamePage() {</span>
<a href="#l8.66"></a><span id="l8.66">     var proto = this.proto.id;</span>
<a href="#l8.67"></a><span id="l8.67">     if (&quot;userNameBoxes&quot; in this &amp;&amp; this.userNameProto == proto) {</span>
<a href="#l8.68"></a><span id="l8.68">       this.checkUsername();</span>
<a href="#l8.69"></a><span id="l8.69">       return;</span>
<a href="#l8.70"></a><span id="l8.70">     }</span>
<a href="#l8.71"></a><span id="l8.71" class="difflineat">@@ -233,32 +240,33 @@ var accountWizard = {</span>
<a href="#l8.72"></a><span id="l8.72">   },</span>
<a href="#l8.73"></a><span id="l8.73"> </span>
<a href="#l8.74"></a><span id="l8.74">   createSummaryRow(aLabel, aValue) {</span>
<a href="#l8.75"></a><span id="l8.75">     var hbox = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l8.76"></a><span id="l8.76">     hbox.setAttribute(&quot;align&quot;, &quot;baseline&quot;);</span>
<a href="#l8.77"></a><span id="l8.77">     hbox.setAttribute(&quot;equalsize&quot;, &quot;always&quot;);</span>
<a href="#l8.78"></a><span id="l8.78"> </span>
<a href="#l8.79"></a><span id="l8.79">     var label = document.createXULElement(&quot;label&quot;);</span>
<a href="#l8.80"></a><span id="l8.80" class="difflineminus">-    label.setAttribute(&quot;class&quot;, &quot;header&quot;);</span>
<a href="#l8.81"></a><span id="l8.81" class="difflineplus">+    label.classList.add(&quot;header&quot;, &quot;label-inline&quot;);</span>
<a href="#l8.82"></a><span id="l8.82">     if (aLabel.length &gt; 20) {</span>
<a href="#l8.83"></a><span id="l8.83">       aLabel = aLabel.substring(0, 20);</span>
<a href="#l8.84"></a><span id="l8.84">       aLabel += &quot;&quot;;</span>
<a href="#l8.85"></a><span id="l8.85">     }</span>
<a href="#l8.86"></a><span id="l8.86"> </span>
<a href="#l8.87"></a><span id="l8.87">     label.setAttribute(&quot;value&quot;, aLabel);</span>
<a href="#l8.88"></a><span id="l8.88" class="difflineminus">-    var hboxWrapper = document.createXULElement(&quot;hbox&quot;);</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineminus">-    hboxWrapper.appendChild(label);</span>
<a href="#l8.90"></a><span id="l8.90" class="difflineminus">-    hbox.appendChild(hboxWrapper);</span>
<a href="#l8.91"></a><span id="l8.91" class="difflineplus">+    hbox.appendChild(label);</span>
<a href="#l8.92"></a><span id="l8.92"> </span>
<a href="#l8.93"></a><span id="l8.93" class="difflineminus">-    var textbox = document.createXULElement(&quot;textbox&quot;);</span>
<a href="#l8.94"></a><span id="l8.94" class="difflineminus">-    textbox.setAttribute(&quot;value&quot;, aValue);</span>
<a href="#l8.95"></a><span id="l8.95" class="difflineminus">-    textbox.setAttribute(&quot;class&quot;, &quot;plain&quot;);</span>
<a href="#l8.96"></a><span id="l8.96" class="difflineminus">-    textbox.setAttribute(&quot;readonly&quot;, true);</span>
<a href="#l8.97"></a><span id="l8.97" class="difflineminus">-    hbox.appendChild(textbox);</span>
<a href="#l8.98"></a><span id="l8.98" class="difflineplus">+    var input = document.createElementNS(</span>
<a href="#l8.99"></a><span id="l8.99" class="difflineplus">+      &quot;http://www.w3.org/1999/xhtml&quot;,</span>
<a href="#l8.100"></a><span id="l8.100" class="difflineplus">+      &quot;input&quot;</span>
<a href="#l8.101"></a><span id="l8.101" class="difflineplus">+    );</span>
<a href="#l8.102"></a><span id="l8.102" class="difflineplus">+    input.setAttribute(&quot;value&quot;, aValue);</span>
<a href="#l8.103"></a><span id="l8.103" class="difflineplus">+    input.classList.add(&quot;plain&quot;, &quot;input-inline&quot;);</span>
<a href="#l8.104"></a><span id="l8.104" class="difflineplus">+    input.setAttribute(&quot;readonly&quot;, true);</span>
<a href="#l8.105"></a><span id="l8.105" class="difflineplus">+    hbox.appendChild(input);</span>
<a href="#l8.106"></a><span id="l8.106"> </span>
<a href="#l8.107"></a><span id="l8.107">     return hbox;</span>
<a href="#l8.108"></a><span id="l8.108">   },</span>
<a href="#l8.109"></a><span id="l8.109"> </span>
<a href="#l8.110"></a><span id="l8.110">   showSummary() {</span>
<a href="#l8.111"></a><span id="l8.111">     var rows = document.getElementById(&quot;summaryRows&quot;);</span>
<a href="#l8.112"></a><span id="l8.112">     var bundle = document.getElementById(&quot;accountsBundle&quot;);</span>
<a href="#l8.113"></a><span id="l8.113">     while (rows.hasChildNodes()) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/components/im/content/imAccountWizard.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/components/im/content/imAccountWizard.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -2,29 +2,34 @@</span>
<a href="#l9.4"></a><span id="l9.4"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.10"></a><span id="l9.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.11"></a><span id="l9.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/imAccountWizard.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/input-fields.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.13"></a><span id="l9.13"> </span>
<a href="#l9.14"></a><span id="l9.14"> &lt;!DOCTYPE wizard [</span>
<a href="#l9.15"></a><span id="l9.15">   &lt;!ENTITY % accountWizardDTD SYSTEM &quot;chrome://messenger/locale/imAccountWizard.dtd&quot;&gt;</span>
<a href="#l9.16"></a><span id="l9.16">   &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l9.17"></a><span id="l9.17">   %accountWizardDTD;</span>
<a href="#l9.18"></a><span id="l9.18">   %brandDTD;</span>
<a href="#l9.19"></a><span id="l9.19"> ]&gt;</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21" class="difflineminus">-&lt;wizard id=&quot;accountWizard&quot; title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+&lt;wizard id=&quot;accountWizard&quot;</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+        title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l9.24"></a><span id="l9.24">         windowtype=&quot;Messenger:accountWizard&quot;</span>
<a href="#l9.25"></a><span id="l9.25">         onload=&quot;accountWizard.onload();&quot;</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+        xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span>
<a href="#l9.29"></a><span id="l9.29"> </span>
<a href="#l9.30"></a><span id="l9.30" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/editMenuOverlay.js&quot;/&gt;</span>
<a href="#l9.32"></a><span id="l9.32">   &lt;script src=&quot;chrome://chat/content/imAccountOptionsHelper.js&quot;/&gt;</span>
<a href="#l9.33"></a><span id="l9.33">   &lt;script src=&quot;chrome://messenger/content/chat/imAccountWizard.js&quot;/&gt;</span>
<a href="#l9.34"></a><span id="l9.34"> </span>
<a href="#l9.35"></a><span id="l9.35">   &lt;stringbundle id=&quot;accountsBundle&quot; src=&quot;chrome://messenger/locale/imAccounts.properties&quot;/&gt;</span>
<a href="#l9.36"></a><span id="l9.36"> </span>
<a href="#l9.37"></a><span id="l9.37">   &lt;wizardpage id=&quot;accountprotocol&quot; pageid=&quot;accountprotocol&quot; next=&quot;accountusername&quot;</span>
<a href="#l9.38"></a><span id="l9.38">               label=&quot;&amp;accountProtocolTitle.label;&quot;&gt;</span>
<a href="#l9.39"></a><span id="l9.39">     &lt;description&gt;&amp;accountProtocolInfo.label;&lt;/description&gt;</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineat">@@ -47,35 +52,41 @@</span>
<a href="#l9.41"></a><span id="l9.41">     &lt;separator/&gt;</span>
<a href="#l9.42"></a><span id="l9.42">     &lt;description id=&quot;duplicateAccount&quot; hidden=&quot;true&quot;&gt;&amp;accountUsernameDuplicate.label;&lt;/description&gt;</span>
<a href="#l9.43"></a><span id="l9.43">   &lt;/wizardpage&gt;</span>
<a href="#l9.44"></a><span id="l9.44"> </span>
<a href="#l9.45"></a><span id="l9.45">   &lt;wizardpage id=&quot;accountpassword&quot; pageid=&quot;accountpassword&quot; next=&quot;accountadvanced&quot;</span>
<a href="#l9.46"></a><span id="l9.46">               label=&quot;&amp;accountPasswordTitle.label;&quot;&gt;</span>
<a href="#l9.47"></a><span id="l9.47">     &lt;description&gt;&amp;accountPasswordInfo.label;&lt;/description&gt;</span>
<a href="#l9.48"></a><span id="l9.48">     &lt;separator/&gt;</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineminus">-    &lt;hbox id=&quot;passwordBox&quot; align=&quot;baseline&quot;&gt;</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineminus">-      &lt;label value=&quot;&amp;accountPasswordField.label;&quot; control=&quot;password&quot; id=&quot;passwordLabel&quot;/&gt;</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineminus">-      &lt;textbox id=&quot;password&quot; type=&quot;password&quot;/&gt;</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+    &lt;hbox id=&quot;passwordBox&quot; align=&quot;baseline&quot; class=&quot;input-container&quot;&gt;</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+      &lt;label id=&quot;passwordLabel&quot;</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+             value=&quot;&amp;accountPasswordField.label;&quot;</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+             class=&quot;label-inline&quot;</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+             control=&quot;password&quot;/&gt;</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+      &lt;html:input id=&quot;password&quot; type=&quot;password&quot; class=&quot;input-inline&quot;/&gt;</span>
<a href="#l9.58"></a><span id="l9.58">     &lt;/hbox&gt;</span>
<a href="#l9.59"></a><span id="l9.59">     &lt;separator/&gt;</span>
<a href="#l9.60"></a><span id="l9.60">     &lt;description id=&quot;passwordManagerDescription&quot;&gt;&amp;accountPasswordManager.label;&lt;/description&gt;</span>
<a href="#l9.61"></a><span id="l9.61">   &lt;/wizardpage&gt;</span>
<a href="#l9.62"></a><span id="l9.62"> </span>
<a href="#l9.63"></a><span id="l9.63">   &lt;wizardpage id=&quot;accountadvanced&quot; pageid=&quot;accountadvanced&quot; next=&quot;accountsummary&quot;</span>
<a href="#l9.64"></a><span id="l9.64">               label=&quot;&amp;accountAdvancedTitle.label;&quot;&gt;</span>
<a href="#l9.65"></a><span id="l9.65">     &lt;description&gt;&amp;accountAdvancedInfo.label;&lt;/description&gt;</span>
<a href="#l9.66"></a><span id="l9.66">     &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l9.67"></a><span id="l9.67">     &lt;groupbox id=&quot;aliasGroupbox&quot;&gt;</span>
<a href="#l9.68"></a><span id="l9.68">       &lt;hbox class=&quot;groupbox-title&quot;&gt;</span>
<a href="#l9.69"></a><span id="l9.69">         &lt;label id=&quot;aliasGroupboxCaption&quot; class=&quot;header&quot;&gt;&amp;accountAliasGroupbox.caption;&lt;/label&gt;</span>
<a href="#l9.70"></a><span id="l9.70">       &lt;/hbox&gt;</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineminus">-      &lt;hbox id=&quot;aliasBox&quot; align=&quot;baseline&quot;&gt;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineminus">-        &lt;label value=&quot;&amp;accountAliasField.label;&quot; control=&quot;alias&quot; id=&quot;aliasLabel&quot;/&gt;</span>
<a href="#l9.73"></a><span id="l9.73" class="difflineminus">-        &lt;textbox id=&quot;alias&quot;/&gt;</span>
<a href="#l9.74"></a><span id="l9.74" class="difflineplus">+      &lt;hbox id=&quot;aliasBox&quot; align=&quot;baseline&quot; class=&quot;input-container&quot;&gt;</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineplus">+        &lt;label id=&quot;aliasLabel&quot;</span>
<a href="#l9.76"></a><span id="l9.76" class="difflineplus">+               value=&quot;&amp;accountAliasField.label;&quot;</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineplus">+               class=&quot;label-inline&quot;</span>
<a href="#l9.78"></a><span id="l9.78" class="difflineplus">+               control=&quot;alias&quot; /&gt;</span>
<a href="#l9.79"></a><span id="l9.79" class="difflineplus">+        &lt;html:input id=&quot;alias&quot; type=&quot;text&quot; class=&quot;input-inline&quot;/&gt;</span>
<a href="#l9.80"></a><span id="l9.80">       &lt;/hbox&gt;</span>
<a href="#l9.81"></a><span id="l9.81">       &lt;description&gt;&amp;accountAliasInfo.label;&lt;/description&gt;</span>
<a href="#l9.82"></a><span id="l9.82">     &lt;/groupbox&gt;</span>
<a href="#l9.83"></a><span id="l9.83"> </span>
<a href="#l9.84"></a><span id="l9.84">     &lt;checkbox id=&quot;newMailNotification&quot;</span>
<a href="#l9.85"></a><span id="l9.85">               label=&quot;&amp;accountAdvanced.newMailNotification.label;&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l9.86"></a><span id="l9.86"> </span>
<a href="#l9.87"></a><span id="l9.87">     &lt;groupbox id=&quot;protoSpecificGroupbox&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/components/im/content/imAccounts.css</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/components/im/content/imAccounts.css</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -2,17 +2,17 @@</span>
<a href="#l10.4"></a><span id="l10.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.5"></a><span id="l10.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.6"></a><span id="l10.6"> </span>
<a href="#l10.7"></a><span id="l10.7"> #statusTypeIcon {</span>
<a href="#l10.8"></a><span id="l10.8">   cursor: pointer;</span>
<a href="#l10.9"></a><span id="l10.9"> }</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11"> #displayName,</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-#statusMessage:not([statusType=&quot;offline&quot;]) {</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+#statusMessageLabel:not([statusType=&quot;offline&quot;]) {</span>
<a href="#l10.14"></a><span id="l10.14">   cursor: text;</span>
<a href="#l10.15"></a><span id="l10.15"> }</span>
<a href="#l10.16"></a><span id="l10.16"> </span>
<a href="#l10.17"></a><span id="l10.17"> </span>
<a href="#l10.18"></a><span id="l10.18"> #displayNameInput[editing],</span>
<a href="#l10.19"></a><span id="l10.19"> #statusMessageInput[editing] {</span>
<a href="#l10.20"></a><span id="l10.20">   -moz-appearance: textfield;</span>
<a href="#l10.21"></a><span id="l10.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/components/im/content/imAccounts.xul</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/components/im/content/imAccounts.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -3,16 +3,17 @@</span>
<a href="#l11.4"></a><span id="l11.4">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.5"></a><span id="l11.5">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l11.6"></a><span id="l11.6"> </span>
<a href="#l11.7"></a><span id="l11.7"> &lt;?xml-stylesheet href=&quot;chrome://chat/content/accounts.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l11.8"></a><span id="l11.8"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/chat/imAccounts.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l11.9"></a><span id="l11.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/imRichlistbox.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l11.10"></a><span id="l11.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/imAccounts.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l11.11"></a><span id="l11.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/chat.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/input-fields.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l11.13"></a><span id="l11.13"> </span>
<a href="#l11.14"></a><span id="l11.14"> &lt;!DOCTYPE window [</span>
<a href="#l11.15"></a><span id="l11.15">  &lt;!ENTITY % accountsDTD SYSTEM &quot;chrome://chat/locale/accounts.dtd&quot;&gt;</span>
<a href="#l11.16"></a><span id="l11.16">  &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l11.17"></a><span id="l11.17">  &lt;!ENTITY % chatDTD SYSTEM &quot;chrome://messenger/locale/chat.dtd&quot;&gt;</span>
<a href="#l11.18"></a><span id="l11.18">  %accountsDTD;</span>
<a href="#l11.19"></a><span id="l11.19">  %brandDTD;</span>
<a href="#l11.20"></a><span id="l11.20">  %chatDTD;</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineat">@@ -20,125 +21,130 @@</span>
<a href="#l11.22"></a><span id="l11.22"> </span>
<a href="#l11.23"></a><span id="l11.23"> &lt;window xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l11.24"></a><span id="l11.24">         xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l11.25"></a><span id="l11.25">         id=&quot;accountManager&quot;</span>
<a href="#l11.26"></a><span id="l11.26">         windowtype=&quot;Messenger:Accounts&quot;</span>
<a href="#l11.27"></a><span id="l11.27">         title=&quot;&amp;accountsWindow.title;&quot;</span>
<a href="#l11.28"></a><span id="l11.28">         style=&quot;&amp;accountsWindow2.style;&quot;</span>
<a href="#l11.29"></a><span id="l11.29">         persist=&quot;width height screenX screenY&quot;&gt;</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineminus">- &lt;script src=&quot;chrome://messenger/content/chat/imAccounts.js&quot;/&gt;</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">- &lt;script src=&quot;chrome://messenger/content/chat/imStatusSelector.js&quot;/&gt;</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineminus">- &lt;script src=&quot;chrome://global/content/nsDragAndDrop.js&quot; /&gt;</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineminus">- &lt;script src=&quot;chrome://global/content/nsTransferable.js&quot; /&gt;</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineminus">- &lt;script src=&quot;chrome://chat/content/chat-account-richlistitem.js&quot; /&gt;</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineminus">- &lt;stringbundle id=&quot;accountsBundle&quot; src=&quot;chrome://messenger/locale/imAccounts.properties&quot;/&gt;</span>
<a href="#l11.36"></a><span id="l11.36"> </span>
<a href="#l11.37"></a><span id="l11.37" class="difflineminus">- &lt;linkset&gt;</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineminus">-   &lt;html:link rel=&quot;localization&quot; href=&quot;security/certificates/certManager.ftl&quot;/&gt;</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineminus">- &lt;/linkset&gt;</span>
<a href="#l11.40"></a><span id="l11.40" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/editMenuOverlay.js&quot;/&gt;</span>
<a href="#l11.42"></a><span id="l11.42" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/chat/imAccounts.js&quot;/&gt;</span>
<a href="#l11.43"></a><span id="l11.43" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/chat/imStatusSelector.js&quot;/&gt;</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/nsDragAndDrop.js&quot; /&gt;</span>
<a href="#l11.45"></a><span id="l11.45" class="difflineplus">+  &lt;script src=&quot;chrome://global/content/nsTransferable.js&quot; /&gt;</span>
<a href="#l11.46"></a><span id="l11.46" class="difflineplus">+  &lt;script src=&quot;chrome://chat/content/chat-account-richlistitem.js&quot; /&gt;</span>
<a href="#l11.47"></a><span id="l11.47" class="difflineplus">+  &lt;stringbundle id=&quot;accountsBundle&quot; src=&quot;chrome://messenger/locale/imAccounts.properties&quot;/&gt;</span>
<a href="#l11.48"></a><span id="l11.48"> </span>
<a href="#l11.49"></a><span id="l11.49" class="difflineminus">- &lt;stringbundle id=&quot;chatBundle&quot; src=&quot;chrome://messenger/locale/chat.properties&quot;/&gt;</span>
<a href="#l11.50"></a><span id="l11.50" class="difflineplus">+  &lt;linkset&gt;</span>
<a href="#l11.51"></a><span id="l11.51" class="difflineplus">+    &lt;html:link rel=&quot;localization&quot; href=&quot;security/certificates/certManager.ftl&quot;/&gt;</span>
<a href="#l11.52"></a><span id="l11.52" class="difflineplus">+  &lt;/linkset&gt;</span>
<a href="#l11.53"></a><span id="l11.53" class="difflineplus">+</span>
<a href="#l11.54"></a><span id="l11.54" class="difflineplus">+  &lt;stringbundle id=&quot;chatBundle&quot; src=&quot;chrome://messenger/locale/chat.properties&quot;/&gt;</span>
<a href="#l11.55"></a><span id="l11.55"> </span>
<a href="#l11.56"></a><span id="l11.56" class="difflineminus">- &lt;commandset id=&quot;accountsCommands&quot;&gt;</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineminus">-   &lt;command id=&quot;cmd_connect&quot;</span>
<a href="#l11.58"></a><span id="l11.58" class="difflineminus">-            accesskey=&quot;&amp;account.connect.accesskey;&quot;</span>
<a href="#l11.59"></a><span id="l11.59" class="difflineminus">-            label=&quot;&amp;account.connect.label;&quot;</span>
<a href="#l11.60"></a><span id="l11.60" class="difflineminus">-            oncommand=&quot;gAccountManager.connect()&quot;/&gt;</span>
<a href="#l11.61"></a><span id="l11.61" class="difflineminus">-   &lt;command id=&quot;cmd_disconnect&quot;</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineminus">-            label=&quot;&amp;account.disconnect.label;&quot;</span>
<a href="#l11.63"></a><span id="l11.63" class="difflineminus">-            accesskey=&quot;&amp;account.disconnect.accesskey;&quot;</span>
<a href="#l11.64"></a><span id="l11.64" class="difflineminus">-            oncommand=&quot;gAccountManager.disconnect()&quot;/&gt;</span>
<a href="#l11.65"></a><span id="l11.65" class="difflineminus">-   &lt;command id=&quot;cmd_cancelReconnection&quot;</span>
<a href="#l11.66"></a><span id="l11.66" class="difflineminus">-            label=&quot;&amp;account.cancelReconnection.label;&quot;</span>
<a href="#l11.67"></a><span id="l11.67" class="difflineminus">-            accesskey=&quot;&amp;account.cancelReconnection.accesskey;&quot;</span>
<a href="#l11.68"></a><span id="l11.68" class="difflineminus">-            oncommand=&quot;gAccountManager.cancelReconnection()&quot;/&gt;</span>
<a href="#l11.69"></a><span id="l11.69" class="difflineminus">-   &lt;command id=&quot;cmd_copyDebugLog&quot;</span>
<a href="#l11.70"></a><span id="l11.70" class="difflineminus">-            label=&quot;&amp;account.copyDebugLog.label;&quot;</span>
<a href="#l11.71"></a><span id="l11.71" class="difflineminus">-            accesskey=&quot;&amp;account.copyDebugLog.accesskey;&quot;</span>
<a href="#l11.72"></a><span id="l11.72" class="difflineminus">-            oncommand=&quot;gAccountManager.copyDebugLog();&quot;/&gt;</span>
<a href="#l11.73"></a><span id="l11.73" class="difflineminus">-   &lt;command id=&quot;cmd_moveup&quot;</span>
<a href="#l11.74"></a><span id="l11.74" class="difflineminus">-            label=&quot;&amp;account.moveup.label;&quot;</span>
<a href="#l11.75"></a><span id="l11.75" class="difflineminus">-            oncommand=&quot;gAccountManager.moveCurrentItem(-1)&quot;/&gt;</span>
<a href="#l11.76"></a><span id="l11.76" class="difflineminus">-   &lt;command id=&quot;cmd_movedown&quot;</span>
<a href="#l11.77"></a><span id="l11.77" class="difflineminus">-            label=&quot;&amp;account.movedown.label;&quot;</span>
<a href="#l11.78"></a><span id="l11.78" class="difflineminus">-            oncommand=&quot;gAccountManager.moveCurrentItem(1)&quot;/&gt;</span>
<a href="#l11.79"></a><span id="l11.79" class="difflineminus">-   &lt;command id=&quot;cmd_edit&quot;</span>
<a href="#l11.80"></a><span id="l11.80" class="difflineminus">-            label=&quot;&amp;account.edit.label;&quot;</span>
<a href="#l11.81"></a><span id="l11.81" class="difflineminus">-            accesskey=&quot;&amp;account.edit.accesskey;&quot;</span>
<a href="#l11.82"></a><span id="l11.82" class="difflineminus">-            oncommand=&quot;gAccountManager.edit()&quot;/&gt;</span>
<a href="#l11.83"></a><span id="l11.83" class="difflineminus">-   &lt;command id=&quot;cmd_new&quot;</span>
<a href="#l11.84"></a><span id="l11.84" class="difflineminus">-            label=&quot;&amp;accountManager.newAccount.label;&quot;</span>
<a href="#l11.85"></a><span id="l11.85" class="difflineminus">-            accesskey=&quot;&amp;accountManager.newAccount.accesskey;&quot;</span>
<a href="#l11.86"></a><span id="l11.86" class="difflineminus">-            oncommand=&quot;gAccountManager.new()&quot;/&gt;</span>
<a href="#l11.87"></a><span id="l11.87" class="difflineminus">-   &lt;command id=&quot;cmd_close&quot;</span>
<a href="#l11.88"></a><span id="l11.88" class="difflineminus">-            label=&quot;&amp;accountManager.close.label;&quot;</span>
<a href="#l11.89"></a><span id="l11.89" class="difflineminus">-            accesskey=&quot;&amp;accountManager.close.accesskey;&quot;</span>
<a href="#l11.90"></a><span id="l11.90" class="difflineminus">-            oncommand=&quot;gAccountManager.close()&quot;/&gt;</span>
<a href="#l11.91"></a><span id="l11.91" class="difflineminus">- &lt;/commandset&gt;</span>
<a href="#l11.92"></a><span id="l11.92" class="difflineplus">+  &lt;commandset id=&quot;accountsCommands&quot;&gt;</span>
<a href="#l11.93"></a><span id="l11.93" class="difflineplus">+    &lt;command id=&quot;cmd_connect&quot;</span>
<a href="#l11.94"></a><span id="l11.94" class="difflineplus">+             accesskey=&quot;&amp;account.connect.accesskey;&quot;</span>
<a href="#l11.95"></a><span id="l11.95" class="difflineplus">+             label=&quot;&amp;account.connect.label;&quot;</span>
<a href="#l11.96"></a><span id="l11.96" class="difflineplus">+             oncommand=&quot;gAccountManager.connect()&quot;/&gt;</span>
<a href="#l11.97"></a><span id="l11.97" class="difflineplus">+    &lt;command id=&quot;cmd_disconnect&quot;</span>
<a href="#l11.98"></a><span id="l11.98" class="difflineplus">+             label=&quot;&amp;account.disconnect.label;&quot;</span>
<a href="#l11.99"></a><span id="l11.99" class="difflineplus">+             accesskey=&quot;&amp;account.disconnect.accesskey;&quot;</span>
<a href="#l11.100"></a><span id="l11.100" class="difflineplus">+             oncommand=&quot;gAccountManager.disconnect()&quot;/&gt;</span>
<a href="#l11.101"></a><span id="l11.101" class="difflineplus">+    &lt;command id=&quot;cmd_cancelReconnection&quot;</span>
<a href="#l11.102"></a><span id="l11.102" class="difflineplus">+             label=&quot;&amp;account.cancelReconnection.label;&quot;</span>
<a href="#l11.103"></a><span id="l11.103" class="difflineplus">+             accesskey=&quot;&amp;account.cancelReconnection.accesskey;&quot;</span>
<a href="#l11.104"></a><span id="l11.104" class="difflineplus">+             oncommand=&quot;gAccountManager.cancelReconnection()&quot;/&gt;</span>
<a href="#l11.105"></a><span id="l11.105" class="difflineplus">+    &lt;command id=&quot;cmd_copyDebugLog&quot;</span>
<a href="#l11.106"></a><span id="l11.106" class="difflineplus">+             label=&quot;&amp;account.copyDebugLog.label;&quot;</span>
<a href="#l11.107"></a><span id="l11.107" class="difflineplus">+             accesskey=&quot;&amp;account.copyDebugLog.accesskey;&quot;</span>
<a href="#l11.108"></a><span id="l11.108" class="difflineplus">+             oncommand=&quot;gAccountManager.copyDebugLog();&quot;/&gt;</span>
<a href="#l11.109"></a><span id="l11.109" class="difflineplus">+    &lt;command id=&quot;cmd_moveup&quot;</span>
<a href="#l11.110"></a><span id="l11.110" class="difflineplus">+             label=&quot;&amp;account.moveup.label;&quot;</span>
<a href="#l11.111"></a><span id="l11.111" class="difflineplus">+             oncommand=&quot;gAccountManager.moveCurrentItem(-1)&quot;/&gt;</span>
<a href="#l11.112"></a><span id="l11.112" class="difflineplus">+    &lt;command id=&quot;cmd_movedown&quot;</span>
<a href="#l11.113"></a><span id="l11.113" class="difflineplus">+             label=&quot;&amp;account.movedown.label;&quot;</span>
<a href="#l11.114"></a><span id="l11.114" class="difflineplus">+             oncommand=&quot;gAccountManager.moveCurrentItem(1)&quot;/&gt;</span>
<a href="#l11.115"></a><span id="l11.115" class="difflineplus">+    &lt;command id=&quot;cmd_edit&quot;</span>
<a href="#l11.116"></a><span id="l11.116" class="difflineplus">+             label=&quot;&amp;account.edit.label;&quot;</span>
<a href="#l11.117"></a><span id="l11.117" class="difflineplus">+             accesskey=&quot;&amp;account.edit.accesskey;&quot;</span>
<a href="#l11.118"></a><span id="l11.118" class="difflineplus">+             oncommand=&quot;gAccountManager.edit()&quot;/&gt;</span>
<a href="#l11.119"></a><span id="l11.119" class="difflineplus">+    &lt;command id=&quot;cmd_new&quot;</span>
<a href="#l11.120"></a><span id="l11.120" class="difflineplus">+             label=&quot;&amp;accountManager.newAccount.label;&quot;</span>
<a href="#l11.121"></a><span id="l11.121" class="difflineplus">+             accesskey=&quot;&amp;accountManager.newAccount.accesskey;&quot;</span>
<a href="#l11.122"></a><span id="l11.122" class="difflineplus">+             oncommand=&quot;gAccountManager.new()&quot;/&gt;</span>
<a href="#l11.123"></a><span id="l11.123" class="difflineplus">+    &lt;command id=&quot;cmd_close&quot;</span>
<a href="#l11.124"></a><span id="l11.124" class="difflineplus">+             label=&quot;&amp;accountManager.close.label;&quot;</span>
<a href="#l11.125"></a><span id="l11.125" class="difflineplus">+             accesskey=&quot;&amp;accountManager.close.accesskey;&quot;</span>
<a href="#l11.126"></a><span id="l11.126" class="difflineplus">+             oncommand=&quot;gAccountManager.close()&quot;/&gt;</span>
<a href="#l11.127"></a><span id="l11.127" class="difflineplus">+  &lt;/commandset&gt;</span>
<a href="#l11.128"></a><span id="l11.128"> </span>
<a href="#l11.129"></a><span id="l11.129" class="difflineminus">- &lt;keyset id=&quot;accountsKeys&quot;&gt;</span>
<a href="#l11.130"></a><span id="l11.130" class="difflineminus">-   &lt;key id=&quot;key_close1&quot; key=&quot;w&quot; modifiers=&quot;accel&quot; command=&quot;cmd_close&quot;/&gt;</span>
<a href="#l11.131"></a><span id="l11.131" class="difflineminus">-   &lt;key id=&quot;key_close2&quot; keycode=&quot;VK_ESCAPE&quot; command=&quot;cmd_close&quot;/&gt;</span>
<a href="#l11.132"></a><span id="l11.132" class="difflineminus">-   &lt;key id=&quot;key_close3&quot; command=&quot;cmd_close&quot;</span>
<a href="#l11.133"></a><span id="l11.133" class="difflineminus">-        key=&quot;&amp;accountManager.close.commandkey;&quot; modifiers=&quot;accel,shift&quot;/&gt;</span>
<a href="#l11.134"></a><span id="l11.134" class="difflineminus">- &lt;/keyset&gt;</span>
<a href="#l11.135"></a><span id="l11.135" class="difflineplus">+  &lt;keyset id=&quot;accountsKeys&quot;&gt;</span>
<a href="#l11.136"></a><span id="l11.136" class="difflineplus">+    &lt;key id=&quot;key_close1&quot; key=&quot;w&quot; modifiers=&quot;accel&quot; command=&quot;cmd_close&quot;/&gt;</span>
<a href="#l11.137"></a><span id="l11.137" class="difflineplus">+    &lt;key id=&quot;key_close2&quot; keycode=&quot;VK_ESCAPE&quot; command=&quot;cmd_close&quot;/&gt;</span>
<a href="#l11.138"></a><span id="l11.138" class="difflineplus">+    &lt;key id=&quot;key_close3&quot; command=&quot;cmd_close&quot;</span>
<a href="#l11.139"></a><span id="l11.139" class="difflineplus">+         key=&quot;&amp;accountManager.close.commandkey;&quot; modifiers=&quot;accel,shift&quot;/&gt;</span>
<a href="#l11.140"></a><span id="l11.140" class="difflineplus">+  &lt;/keyset&gt;</span>
<a href="#l11.141"></a><span id="l11.141"> </span>
<a href="#l11.142"></a><span id="l11.142" class="difflineminus">- &lt;menupopup id=&quot;accountsContextMenu&quot;</span>
<a href="#l11.143"></a><span id="l11.143" class="difflineminus">-            onpopupshowing=&quot;gAccountManager.onContextMenuShowing()&quot;&gt;</span>
<a href="#l11.144"></a><span id="l11.144" class="difflineminus">-   &lt;menuitem id=&quot;context_connect&quot;</span>
<a href="#l11.145"></a><span id="l11.145" class="difflineminus">-             command=&quot;cmd_connect&quot;</span>
<a href="#l11.146"></a><span id="l11.146" class="difflineminus">-             class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.147"></a><span id="l11.147" class="difflineminus">-   &lt;menuitem id=&quot;context_disconnect&quot;</span>
<a href="#l11.148"></a><span id="l11.148" class="difflineminus">-             command=&quot;cmd_disconnect&quot;</span>
<a href="#l11.149"></a><span id="l11.149" class="difflineminus">-             class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.150"></a><span id="l11.150" class="difflineminus">-   &lt;menuitem id=&quot;context_cancelReconnection&quot;</span>
<a href="#l11.151"></a><span id="l11.151" class="difflineminus">-             command=&quot;cmd_cancelReconnection&quot;</span>
<a href="#l11.152"></a><span id="l11.152" class="difflineminus">-             class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.153"></a><span id="l11.153" class="difflineminus">-   &lt;menuitem id=&quot;context_copyDebugLog&quot;</span>
<a href="#l11.154"></a><span id="l11.154" class="difflineminus">-             command=&quot;cmd_copyDebugLog&quot;/&gt;</span>
<a href="#l11.155"></a><span id="l11.155" class="difflineminus">-   &lt;menuseparator id=&quot;context_accountsItemsSeparator&quot;</span>
<a href="#l11.156"></a><span id="l11.156" class="difflineminus">-                  class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.157"></a><span id="l11.157" class="difflineminus">-   &lt;menuitem command=&quot;cmd_new&quot;/&gt;</span>
<a href="#l11.158"></a><span id="l11.158" class="difflineminus">-   &lt;menuseparator class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.159"></a><span id="l11.159" class="difflineminus">-   &lt;menuitem command=&quot;cmd_moveup&quot; class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.160"></a><span id="l11.160" class="difflineminus">-   &lt;menuitem command=&quot;cmd_movedown&quot; class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.161"></a><span id="l11.161" class="difflineminus">-   &lt;menuseparator class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.162"></a><span id="l11.162" class="difflineminus">-   &lt;menuitem command=&quot;cmd_edit&quot; class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.163"></a><span id="l11.163" class="difflineminus">- &lt;/menupopup&gt;</span>
<a href="#l11.164"></a><span id="l11.164" class="difflineplus">+  &lt;menupopup id=&quot;accountsContextMenu&quot;</span>
<a href="#l11.165"></a><span id="l11.165" class="difflineplus">+             onpopupshowing=&quot;gAccountManager.onContextMenuShowing()&quot;&gt;</span>
<a href="#l11.166"></a><span id="l11.166" class="difflineplus">+    &lt;menuitem id=&quot;context_connect&quot;</span>
<a href="#l11.167"></a><span id="l11.167" class="difflineplus">+              command=&quot;cmd_connect&quot;</span>
<a href="#l11.168"></a><span id="l11.168" class="difflineplus">+              class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.169"></a><span id="l11.169" class="difflineplus">+    &lt;menuitem id=&quot;context_disconnect&quot;</span>
<a href="#l11.170"></a><span id="l11.170" class="difflineplus">+              command=&quot;cmd_disconnect&quot;</span>
<a href="#l11.171"></a><span id="l11.171" class="difflineplus">+              class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.172"></a><span id="l11.172" class="difflineplus">+    &lt;menuitem id=&quot;context_cancelReconnection&quot;</span>
<a href="#l11.173"></a><span id="l11.173" class="difflineplus">+              command=&quot;cmd_cancelReconnection&quot;</span>
<a href="#l11.174"></a><span id="l11.174" class="difflineplus">+              class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.175"></a><span id="l11.175" class="difflineplus">+    &lt;menuitem id=&quot;context_copyDebugLog&quot;</span>
<a href="#l11.176"></a><span id="l11.176" class="difflineplus">+              command=&quot;cmd_copyDebugLog&quot;/&gt;</span>
<a href="#l11.177"></a><span id="l11.177" class="difflineplus">+    &lt;menuseparator id=&quot;context_accountsItemsSeparator&quot;</span>
<a href="#l11.178"></a><span id="l11.178" class="difflineplus">+                   class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.179"></a><span id="l11.179" class="difflineplus">+    &lt;menuitem command=&quot;cmd_new&quot;/&gt;</span>
<a href="#l11.180"></a><span id="l11.180" class="difflineplus">+    &lt;menuseparator class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.181"></a><span id="l11.181" class="difflineplus">+    &lt;menuitem command=&quot;cmd_moveup&quot; class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.182"></a><span id="l11.182" class="difflineplus">+    &lt;menuitem command=&quot;cmd_movedown&quot; class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.183"></a><span id="l11.183" class="difflineplus">+    &lt;menuseparator class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.184"></a><span id="l11.184" class="difflineplus">+    &lt;menuitem command=&quot;cmd_edit&quot; class=&quot;im-context-account-item&quot;/&gt;</span>
<a href="#l11.185"></a><span id="l11.185" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l11.186"></a><span id="l11.186"> </span>
<a href="#l11.187"></a><span id="l11.187" class="difflineminus">- &lt;toolbox id=&quot;mainToolbox&quot;&gt;</span>
<a href="#l11.188"></a><span id="l11.188" class="difflineminus">-   &lt;toolbar id=&quot;statusArea&quot;&gt;</span>
<a href="#l11.189"></a><span id="l11.189" class="difflineminus">-     &lt;stack id=&quot;statusImageStack&quot;&gt;</span>
<a href="#l11.190"></a><span id="l11.190" class="difflineminus">-       &lt;image id=&quot;userIcon&quot; onclick=&quot;statusSelector.userIconClick();&quot;/&gt;</span>
<a href="#l11.191"></a><span id="l11.191" class="difflineminus">-       &lt;button type=&quot;menu&quot; id=&quot;statusTypeIcon&quot; status=&quot;available&quot;&gt;</span>
<a href="#l11.192"></a><span id="l11.192" class="difflineminus">-         &lt;menupopup id=&quot;setStatusTypeMenupopup&quot;</span>
<a href="#l11.193"></a><span id="l11.193" class="difflineminus">-                    oncommand=&quot;statusSelector.editStatus(event);&quot;&gt;</span>
<a href="#l11.194"></a><span id="l11.194" class="difflineminus">-           &lt;menuitem id=&quot;statusTypeAvailable&quot; label=&quot;&amp;status.available;&quot;</span>
<a href="#l11.195"></a><span id="l11.195" class="difflineminus">-                     status=&quot;available&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l11.196"></a><span id="l11.196" class="difflineminus">-           &lt;menuitem id=&quot;statusTypeUnavailable&quot; label=&quot;&amp;status.unavailable;&quot;</span>
<a href="#l11.197"></a><span id="l11.197" class="difflineminus">-                     status=&quot;unavailable&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l11.198"></a><span id="l11.198" class="difflineminus">-           &lt;menuseparator id=&quot;statusTypeOfflineSeparator&quot;/&gt;</span>
<a href="#l11.199"></a><span id="l11.199" class="difflineminus">-           &lt;menuitem id=&quot;statusTypeOffline&quot; label=&quot;&amp;status.offline;&quot;</span>
<a href="#l11.200"></a><span id="l11.200" class="difflineminus">-                     status=&quot;offline&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l11.201"></a><span id="l11.201" class="difflineminus">-         &lt;/menupopup&gt;</span>
<a href="#l11.202"></a><span id="l11.202" class="difflineminus">-       &lt;/button&gt;</span>
<a href="#l11.203"></a><span id="l11.203" class="difflineminus">-     &lt;/stack&gt;</span>
<a href="#l11.204"></a><span id="l11.204" class="difflineminus">-     &lt;stack id=&quot;displayNameAndstatusMessageStack&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l11.205"></a><span id="l11.205" class="difflineminus">-       &lt;vbox flex=&quot;1&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l11.206"></a><span id="l11.206" class="difflineminus">-         &lt;label id=&quot;displayName&quot; onclick=&quot;statusSelector.displayNameClick();&quot; align=&quot;center&quot; pack=&quot;center&quot;/&gt;</span>
<a href="#l11.207"></a><span id="l11.207" class="difflineminus">-       &lt;/vbox&gt;</span>
<a href="#l11.208"></a><span id="l11.208" class="difflineminus">-       &lt;textbox id=&quot;displayNameInput&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l11.209"></a><span id="l11.209" class="difflineminus">-       &lt;label id=&quot;statusMessage&quot; crop=&quot;end&quot; value=&quot;&quot;</span>
<a href="#l11.210"></a><span id="l11.210" class="difflineminus">-              onclick=&quot;statusSelector.statusMessageClick();&quot;/&gt;</span>
<a href="#l11.211"></a><span id="l11.211" class="difflineminus">-       &lt;textbox id=&quot;statusMessageInput&quot; crop=&quot;end&quot; value=&quot;&quot;</span>
<a href="#l11.212"></a><span id="l11.212" class="difflineminus">-                collapsed=&quot;true&quot;/&gt;</span>
<a href="#l11.213"></a><span id="l11.213" class="difflineminus">-     &lt;/stack&gt;</span>
<a href="#l11.214"></a><span id="l11.214" class="difflineminus">-   &lt;/toolbar&gt;</span>
<a href="#l11.215"></a><span id="l11.215" class="difflineminus">- &lt;/toolbox&gt;</span>
<a href="#l11.216"></a><span id="l11.216" class="difflineplus">+  &lt;toolbox id=&quot;mainToolbox&quot;&gt;</span>
<a href="#l11.217"></a><span id="l11.217" class="difflineplus">+    &lt;toolbar id=&quot;statusArea&quot;&gt;</span>
<a href="#l11.218"></a><span id="l11.218" class="difflineplus">+      &lt;stack id=&quot;statusImageStack&quot;&gt;</span>
<a href="#l11.219"></a><span id="l11.219" class="difflineplus">+        &lt;image id=&quot;userIcon&quot; onclick=&quot;statusSelector.userIconClick();&quot;/&gt;</span>
<a href="#l11.220"></a><span id="l11.220" class="difflineplus">+        &lt;button type=&quot;menu&quot; id=&quot;statusTypeIcon&quot; status=&quot;available&quot;&gt;</span>
<a href="#l11.221"></a><span id="l11.221" class="difflineplus">+          &lt;menupopup id=&quot;setStatusTypeMenupopup&quot;</span>
<a href="#l11.222"></a><span id="l11.222" class="difflineplus">+                     oncommand=&quot;statusSelector.editStatus(event);&quot;&gt;</span>
<a href="#l11.223"></a><span id="l11.223" class="difflineplus">+            &lt;menuitem id=&quot;statusTypeAvailable&quot; label=&quot;&amp;status.available;&quot;</span>
<a href="#l11.224"></a><span id="l11.224" class="difflineplus">+                      status=&quot;available&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l11.225"></a><span id="l11.225" class="difflineplus">+            &lt;menuitem id=&quot;statusTypeUnavailable&quot; label=&quot;&amp;status.unavailable;&quot;</span>
<a href="#l11.226"></a><span id="l11.226" class="difflineplus">+                      status=&quot;unavailable&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l11.227"></a><span id="l11.227" class="difflineplus">+            &lt;menuseparator id=&quot;statusTypeOfflineSeparator&quot;/&gt;</span>
<a href="#l11.228"></a><span id="l11.228" class="difflineplus">+            &lt;menuitem id=&quot;statusTypeOffline&quot; label=&quot;&amp;status.offline;&quot;</span>
<a href="#l11.229"></a><span id="l11.229" class="difflineplus">+                      status=&quot;offline&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l11.230"></a><span id="l11.230" class="difflineplus">+          &lt;/menupopup&gt;</span>
<a href="#l11.231"></a><span id="l11.231" class="difflineplus">+        &lt;/button&gt;</span>
<a href="#l11.232"></a><span id="l11.232" class="difflineplus">+      &lt;/stack&gt;</span>
<a href="#l11.233"></a><span id="l11.233" class="difflineplus">+      &lt;stack id=&quot;displayNameAndstatusMessageStack&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l11.234"></a><span id="l11.234" class="difflineplus">+        &lt;vbox flex=&quot;1&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l11.235"></a><span id="l11.235" class="difflineplus">+          &lt;label id=&quot;displayName&quot; onclick=&quot;statusSelector.displayNameClick();&quot; align=&quot;center&quot; pack=&quot;center&quot;/&gt;</span>
<a href="#l11.236"></a><span id="l11.236" class="difflineplus">+        &lt;/vbox&gt;</span>
<a href="#l11.237"></a><span id="l11.237" class="difflineplus">+        &lt;html:input id=&quot;displayNameInput&quot; hidden=&quot;hidden&quot; class=&quot;input-inline&quot;/&gt;</span>
<a href="#l11.238"></a><span id="l11.238" class="difflineplus">+        &lt;label id=&quot;statusMessageLabel&quot; crop=&quot;end&quot; value=&quot;&quot;</span>
<a href="#l11.239"></a><span id="l11.239" class="difflineplus">+               onclick=&quot;statusSelector.statusMessageClick();&quot;/&gt;</span>
<a href="#l11.240"></a><span id="l11.240" class="difflineplus">+        &lt;html:input id=&quot;statusMessageInput&quot;</span>
<a href="#l11.241"></a><span id="l11.241" class="difflineplus">+                    value=&quot;&quot;</span>
<a href="#l11.242"></a><span id="l11.242" class="difflineplus">+                    class=&quot;input-inline&quot;</span>
<a href="#l11.243"></a><span id="l11.243" class="difflineplus">+                    hidden=&quot;hidden&quot;/&gt;</span>
<a href="#l11.244"></a><span id="l11.244" class="difflineplus">+      &lt;/stack&gt;</span>
<a href="#l11.245"></a><span id="l11.245" class="difflineplus">+    &lt;/toolbar&gt;</span>
<a href="#l11.246"></a><span id="l11.246" class="difflineplus">+  &lt;/toolbox&gt;</span>
<a href="#l11.247"></a><span id="l11.247"> </span>
<a href="#l11.248"></a><span id="l11.248">   &lt;deck flex=&quot;1&quot; id=&quot;accountsDesk&quot; ondblclick=&quot;gAccountManager.new();&quot;&gt;</span>
<a href="#l11.249"></a><span id="l11.249">     &lt;vbox flex=&quot;1&quot; id=&quot;noAccountScreen&quot; align=&quot;center&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l11.250"></a><span id="l11.250">       &lt;hbox id=&quot;noAccountBox&quot; align=&quot;top&quot;&gt;</span>
<a href="#l11.251"></a><span id="l11.251">         &lt;vbox id=&quot;noAccountInnerBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l11.252"></a><span id="l11.252">           &lt;label id=&quot;noAccountTitle&quot; value=&quot;&amp;accountManager.noAccount.title;&quot;/&gt;</span>
<a href="#l11.253"></a><span id="l11.253">           &lt;description id=&quot;noAccountDesc&quot;&gt;&amp;accountManager.noAccount.description;&lt;/description&gt;</span>
<a href="#l11.254"></a><span id="l11.254">         &lt;/vbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/components/im/content/imStatusSelector.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/components/im/content/imStatusSelector.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -31,30 +31,30 @@ var statusSelector = {</span>
<a href="#l12.4"></a><span id="l12.4">       displayName = bundle.getString(&quot;displayNameEmptyText&quot;);</span>
<a href="#l12.5"></a><span id="l12.5">       elt.setAttribute(&quot;usingDefault&quot;, displayName);</span>
<a href="#l12.6"></a><span id="l12.6">     }</span>
<a href="#l12.7"></a><span id="l12.7">     elt.setAttribute(&quot;value&quot;, displayName);</span>
<a href="#l12.8"></a><span id="l12.8">   },</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10">   displayStatusType(aStatusType) {</span>
<a href="#l12.11"></a><span id="l12.11">     document</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-      .getElementById(&quot;statusMessage&quot;)</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+      .getElementById(&quot;statusMessageLabel&quot;)</span>
<a href="#l12.14"></a><span id="l12.14">       .setAttribute(&quot;statusType&quot;, aStatusType);</span>
<a href="#l12.15"></a><span id="l12.15">     let statusString = Status.toLabel(aStatusType);</span>
<a href="#l12.16"></a><span id="l12.16">     let statusTypeIcon = document.getElementById(&quot;statusTypeIcon&quot;);</span>
<a href="#l12.17"></a><span id="l12.17">     statusTypeIcon.setAttribute(&quot;status&quot;, aStatusType);</span>
<a href="#l12.18"></a><span id="l12.18">     statusTypeIcon.setAttribute(&quot;tooltiptext&quot;, statusString);</span>
<a href="#l12.19"></a><span id="l12.19">     return statusString;</span>
<a href="#l12.20"></a><span id="l12.20">   },</span>
<a href="#l12.21"></a><span id="l12.21"> </span>
<a href="#l12.22"></a><span id="l12.22">   displayCurrentStatus() {</span>
<a href="#l12.23"></a><span id="l12.23">     let us = Services.core.globalUserStatus;</span>
<a href="#l12.24"></a><span id="l12.24">     let status = Status.toAttribute(us.statusType);</span>
<a href="#l12.25"></a><span id="l12.25">     let message = status == &quot;offline&quot; ? &quot;&quot; : us.statusText;</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineminus">-    let statusMessage = document.getElementById(&quot;statusMessage&quot;);</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineplus">+    let statusMessage = document.getElementById(&quot;statusMessageLabel&quot;);</span>
<a href="#l12.28"></a><span id="l12.28">     if (!statusMessage) {</span>
<a href="#l12.29"></a><span id="l12.29">       // Chat toolbar not in the DOM yet</span>
<a href="#l12.30"></a><span id="l12.30">       return;</span>
<a href="#l12.31"></a><span id="l12.31">     }</span>
<a href="#l12.32"></a><span id="l12.32">     if (message) {</span>
<a href="#l12.33"></a><span id="l12.33">       statusMessage.removeAttribute(&quot;usingDefault&quot;);</span>
<a href="#l12.34"></a><span id="l12.34">     } else {</span>
<a href="#l12.35"></a><span id="l12.35">       let statusString = this.displayStatusType(status);</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineat">@@ -85,30 +85,32 @@ var statusSelector = {</span>
<a href="#l12.37"></a><span id="l12.37">       this._statusTypeBeforeEditing = currentStatusType;</span>
<a href="#l12.38"></a><span id="l12.38">       this._statusTypeEditing = aStatusType;</span>
<a href="#l12.39"></a><span id="l12.39">       this.displayStatusType(aStatusType);</span>
<a href="#l12.40"></a><span id="l12.40">     }</span>
<a href="#l12.41"></a><span id="l12.41">     this.statusMessageClick();</span>
<a href="#l12.42"></a><span id="l12.42">   },</span>
<a href="#l12.43"></a><span id="l12.43"> </span>
<a href="#l12.44"></a><span id="l12.44">   statusMessageClick() {</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineminus">-    let statusMessage = document.getElementById(&quot;statusMessage&quot;);</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineplus">+    let statusMessage = document.getElementById(&quot;statusMessageLabel&quot;);</span>
<a href="#l12.47"></a><span id="l12.47">     let statusMessageInput = document.getElementById(&quot;statusMessageInput&quot;);</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineminus">-    statusMessage.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineminus">-    statusMessageInput.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineplus">+    statusMessage.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineplus">+    statusMessageInput.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l12.52"></a><span id="l12.52">     let statusType = document</span>
<a href="#l12.53"></a><span id="l12.53">       .getElementById(&quot;statusTypeIcon&quot;)</span>
<a href="#l12.54"></a><span id="l12.54">       .getAttribute(&quot;status&quot;);</span>
<a href="#l12.55"></a><span id="l12.55">     if (statusType == &quot;offline&quot; || statusMessage.disabled) {</span>
<a href="#l12.56"></a><span id="l12.56">       return;</span>
<a href="#l12.57"></a><span id="l12.57">     }</span>
<a href="#l12.58"></a><span id="l12.58"> </span>
<a href="#l12.59"></a><span id="l12.59">     if (!statusMessageInput.hasAttribute(&quot;editing&quot;)) {</span>
<a href="#l12.60"></a><span id="l12.60">       statusMessageInput.setAttribute(&quot;editing&quot;, &quot;true&quot;);</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineminus">-      statusMessageInput.addEventListener(&quot;blur&quot;, this.statusMessageBlur);</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineplus">+      statusMessageInput.addEventListener(&quot;blur&quot;, event =&gt; {</span>
<a href="#l12.63"></a><span id="l12.63" class="difflineplus">+        this.finishEditStatusMessage(true);</span>
<a href="#l12.64"></a><span id="l12.64" class="difflineplus">+      });</span>
<a href="#l12.65"></a><span id="l12.65">       if (statusMessage.hasAttribute(&quot;usingDefault&quot;)) {</span>
<a href="#l12.66"></a><span id="l12.66">         if (</span>
<a href="#l12.67"></a><span id="l12.67">           &quot;_statusTypeBeforeEditing&quot; in this &amp;&amp;</span>
<a href="#l12.68"></a><span id="l12.68">           this._statusTypeBeforeEditing == &quot;offline&quot;</span>
<a href="#l12.69"></a><span id="l12.69">         ) {</span>
<a href="#l12.70"></a><span id="l12.70">           statusMessageInput.setAttribute(</span>
<a href="#l12.71"></a><span id="l12.71">             &quot;value&quot;,</span>
<a href="#l12.72"></a><span id="l12.72">             Services.core.globalUserStatus.statusText</span>
<a href="#l12.73"></a><span id="l12.73" class="difflineat">@@ -144,25 +146,16 @@ var statusSelector = {</span>
<a href="#l12.74"></a><span id="l12.74">     }</span>
<a href="#l12.75"></a><span id="l12.75">     this._stopEditStatusTimeout = setTimeout(</span>
<a href="#l12.76"></a><span id="l12.76">       this.finishEditStatusMessage,</span>
<a href="#l12.77"></a><span id="l12.77">       timeBeforeAutoValidate,</span>
<a href="#l12.78"></a><span id="l12.78">       true</span>
<a href="#l12.79"></a><span id="l12.79">     );</span>
<a href="#l12.80"></a><span id="l12.80">   },</span>
<a href="#l12.81"></a><span id="l12.81"> </span>
<a href="#l12.82"></a><span id="l12.82" class="difflineminus">-  statusMessageBlur(aEvent) {</span>
<a href="#l12.83"></a><span id="l12.83" class="difflineminus">-    if (</span>
<a href="#l12.84"></a><span id="l12.84" class="difflineminus">-      aEvent.originalTarget ==</span>
<a href="#l12.85"></a><span id="l12.85" class="difflineminus">-      document.getElementById(&quot;statusMessageInput&quot;).inputField</span>
<a href="#l12.86"></a><span id="l12.86" class="difflineminus">-    ) {</span>
<a href="#l12.87"></a><span id="l12.87" class="difflineminus">-      statusSelector.finishEditStatusMessage(true);</span>
<a href="#l12.88"></a><span id="l12.88" class="difflineminus">-    }</span>
<a href="#l12.89"></a><span id="l12.89" class="difflineminus">-  },</span>
<a href="#l12.90"></a><span id="l12.90" class="difflineminus">-</span>
<a href="#l12.91"></a><span id="l12.91">   statusMessageKeyPress(aEvent) {</span>
<a href="#l12.92"></a><span id="l12.92">     if (!this.hasAttribute(&quot;editing&quot;)) {</span>
<a href="#l12.93"></a><span id="l12.93">       if (aEvent.keyCode == aEvent.DOM_VK_DOWN) {</span>
<a href="#l12.94"></a><span id="l12.94">         let button = document.getElementById(&quot;statusTypeIcon&quot;);</span>
<a href="#l12.95"></a><span id="l12.95">         document.getElementById(&quot;setStatusTypeMenupopup&quot;).openPopup(button);</span>
<a href="#l12.96"></a><span id="l12.96">       }</span>
<a href="#l12.97"></a><span id="l12.97">       return;</span>
<a href="#l12.98"></a><span id="l12.98">     }</span>
<a href="#l12.99"></a><span id="l12.99" class="difflineat">@@ -179,20 +172,20 @@ var statusSelector = {</span>
<a href="#l12.100"></a><span id="l12.100">       default:</span>
<a href="#l12.101"></a><span id="l12.101">         statusSelector.statusMessageRefreshTimer();</span>
<a href="#l12.102"></a><span id="l12.102">     }</span>
<a href="#l12.103"></a><span id="l12.103">   },</span>
<a href="#l12.104"></a><span id="l12.104"> </span>
<a href="#l12.105"></a><span id="l12.105">   finishEditStatusMessage(aSave) {</span>
<a href="#l12.106"></a><span id="l12.106">     clearTimeout(this._stopEditStatusTimeout);</span>
<a href="#l12.107"></a><span id="l12.107">     delete this._stopEditStatusTimeout;</span>
<a href="#l12.108"></a><span id="l12.108" class="difflineminus">-    let statusMessage = document.getElementById(&quot;statusMessage&quot;);</span>
<a href="#l12.109"></a><span id="l12.109" class="difflineplus">+    let statusMessage = document.getElementById(&quot;statusMessageLabel&quot;);</span>
<a href="#l12.110"></a><span id="l12.110">     let statusMessageInput = document.getElementById(&quot;statusMessageInput&quot;);</span>
<a href="#l12.111"></a><span id="l12.111" class="difflineminus">-    statusMessage.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l12.112"></a><span id="l12.112" class="difflineminus">-    statusMessageInput.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l12.113"></a><span id="l12.113" class="difflineplus">+    statusMessage.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l12.114"></a><span id="l12.114" class="difflineplus">+    statusMessageInput.toggleAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l12.115"></a><span id="l12.115">     if (aSave) {</span>
<a href="#l12.116"></a><span id="l12.116">       let newStatus = Ci.imIStatusInfo.STATUS_UNKNOWN;</span>
<a href="#l12.117"></a><span id="l12.117">       if (&quot;_statusTypeEditing&quot; in this) {</span>
<a href="#l12.118"></a><span id="l12.118">         let statusType = this._statusTypeEditing;</span>
<a href="#l12.119"></a><span id="l12.119">         if (statusType == &quot;available&quot;) {</span>
<a href="#l12.120"></a><span id="l12.120">           newStatus = Ci.imIStatusInfo.STATUS_AVAILABLE;</span>
<a href="#l12.121"></a><span id="l12.121">         } else if (statusType == &quot;unavailable&quot;) {</span>
<a href="#l12.122"></a><span id="l12.122">           newStatus = Ci.imIStatusInfo.STATUS_UNAVAILABLE;</span>
<a href="#l12.123"></a><span id="l12.123" class="difflineat">@@ -221,17 +214,19 @@ var statusSelector = {</span>
<a href="#l12.124"></a><span id="l12.124">     if (statusMessage.hasAttribute(&quot;usingDefault&quot;)) {</span>
<a href="#l12.125"></a><span id="l12.125">       statusMessage.setAttribute(</span>
<a href="#l12.126"></a><span id="l12.126">         &quot;value&quot;,</span>
<a href="#l12.127"></a><span id="l12.127">         statusMessage.getAttribute(&quot;usingDefault&quot;)</span>
<a href="#l12.128"></a><span id="l12.128">       );</span>
<a href="#l12.129"></a><span id="l12.129">     }</span>
<a href="#l12.130"></a><span id="l12.130"> </span>
<a href="#l12.131"></a><span id="l12.131">     statusMessageInput.removeAttribute(&quot;editing&quot;);</span>
<a href="#l12.132"></a><span id="l12.132" class="difflineminus">-    statusMessageInput.removeEventListener(&quot;blur&quot;, this.statusMessageBlur);</span>
<a href="#l12.133"></a><span id="l12.133" class="difflineplus">+    statusMessageInput.removeEventListener(&quot;blur&quot;, event =&gt; {</span>
<a href="#l12.134"></a><span id="l12.134" class="difflineplus">+      this.finishEditStatusMessage(true);</span>
<a href="#l12.135"></a><span id="l12.135" class="difflineplus">+    });</span>
<a href="#l12.136"></a><span id="l12.136"> </span>
<a href="#l12.137"></a><span id="l12.137">     // We need to put the focus back on the label after the textbox</span>
<a href="#l12.138"></a><span id="l12.138">     // binding has been detached, otherwise the focus gets lost (it's</span>
<a href="#l12.139"></a><span id="l12.139">     // on none of the elements in the document), but before that we</span>
<a href="#l12.140"></a><span id="l12.140">     // need to flush the layout.</span>
<a href="#l12.141"></a><span id="l12.141">     statusMessageInput.getBoundingClientRect();</span>
<a href="#l12.142"></a><span id="l12.142">     statusMessageInput.focus();</span>
<a href="#l12.143"></a><span id="l12.143">   },</span>
<a href="#l12.144"></a><span id="l12.144" class="difflineat">@@ -252,30 +247,32 @@ var statusSelector = {</span>
<a href="#l12.145"></a><span id="l12.145">       }</span>
<a href="#l12.146"></a><span id="l12.146">       Services.core.globalUserStatus.setUserIcon(fp.file);</span>
<a href="#l12.147"></a><span id="l12.147">     });</span>
<a href="#l12.148"></a><span id="l12.148">   },</span>
<a href="#l12.149"></a><span id="l12.149"> </span>
<a href="#l12.150"></a><span id="l12.150">   displayNameClick() {</span>
<a href="#l12.151"></a><span id="l12.151">     let displayName = document.getElementById(&quot;displayName&quot;);</span>
<a href="#l12.152"></a><span id="l12.152">     let displayNameInput = document.getElementById(&quot;displayNameInput&quot;);</span>
<a href="#l12.153"></a><span id="l12.153" class="difflineminus">-    displayName.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l12.154"></a><span id="l12.154" class="difflineminus">-    displayNameInput.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l12.155"></a><span id="l12.155" class="difflineplus">+    displayName.setAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l12.156"></a><span id="l12.156" class="difflineplus">+    displayNameInput.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l12.157"></a><span id="l12.157">     if (!displayNameInput.hasAttribute(&quot;editing&quot;)) {</span>
<a href="#l12.158"></a><span id="l12.158">       displayNameInput.setAttribute(&quot;editing&quot;, &quot;true&quot;);</span>
<a href="#l12.159"></a><span id="l12.159">       if (displayName.hasAttribute(&quot;usingDefault&quot;)) {</span>
<a href="#l12.160"></a><span id="l12.160">         displayNameInput.removeAttribute(&quot;value&quot;);</span>
<a href="#l12.161"></a><span id="l12.161">       } else {</span>
<a href="#l12.162"></a><span id="l12.162">         displayNameInput.setAttribute(</span>
<a href="#l12.163"></a><span id="l12.163">           &quot;value&quot;,</span>
<a href="#l12.164"></a><span id="l12.164">           displayName.getAttribute(&quot;value&quot;)</span>
<a href="#l12.165"></a><span id="l12.165">         );</span>
<a href="#l12.166"></a><span id="l12.166">       }</span>
<a href="#l12.167"></a><span id="l12.167">       displayNameInput.addEventListener(&quot;keypress&quot;, this.displayNameKeyPress);</span>
<a href="#l12.168"></a><span id="l12.168" class="difflineminus">-      displayNameInput.addEventListener(&quot;blur&quot;, this.displayNameBlur);</span>
<a href="#l12.169"></a><span id="l12.169" class="difflineplus">+      displayNameInput.addEventListener(&quot;blur&quot;, event =&gt; {</span>
<a href="#l12.170"></a><span id="l12.170" class="difflineplus">+        this.finishEditDisplayName(true);</span>
<a href="#l12.171"></a><span id="l12.171" class="difflineplus">+      });</span>
<a href="#l12.172"></a><span id="l12.172">       // force binding attachmant by forcing layout</span>
<a href="#l12.173"></a><span id="l12.173">       displayNameInput.getBoundingClientRect();</span>
<a href="#l12.174"></a><span id="l12.174">       displayNameInput.select();</span>
<a href="#l12.175"></a><span id="l12.175">     }</span>
<a href="#l12.176"></a><span id="l12.176"> </span>
<a href="#l12.177"></a><span id="l12.177">     this.displayNameRefreshTimer();</span>
<a href="#l12.178"></a><span id="l12.178">   },</span>
<a href="#l12.179"></a><span id="l12.179"> </span>
<a href="#l12.180"></a><span id="l12.180" class="difflineat">@@ -285,25 +282,16 @@ var statusSelector = {</span>
<a href="#l12.181"></a><span id="l12.181">     clearTimeout(this._stopEditDisplayNameTimeout);</span>
<a href="#l12.182"></a><span id="l12.182">     this._stopEditDisplayNameTimeout = setTimeout(</span>
<a href="#l12.183"></a><span id="l12.183">       this.finishEditDisplayName,</span>
<a href="#l12.184"></a><span id="l12.184">       timeBeforeAutoValidate,</span>
<a href="#l12.185"></a><span id="l12.185">       true</span>
<a href="#l12.186"></a><span id="l12.186">     );</span>
<a href="#l12.187"></a><span id="l12.187">   },</span>
<a href="#l12.188"></a><span id="l12.188"> </span>
<a href="#l12.189"></a><span id="l12.189" class="difflineminus">-  displayNameBlur(aEvent) {</span>
<a href="#l12.190"></a><span id="l12.190" class="difflineminus">-    if (</span>
<a href="#l12.191"></a><span id="l12.191" class="difflineminus">-      aEvent.originalTarget ==</span>
<a href="#l12.192"></a><span id="l12.192" class="difflineminus">-      document.getElementById(&quot;displayNameInput&quot;).inputField</span>
<a href="#l12.193"></a><span id="l12.193" class="difflineminus">-    ) {</span>
<a href="#l12.194"></a><span id="l12.194" class="difflineminus">-      statusSelector.finishEditDisplayName(true);</span>
<a href="#l12.195"></a><span id="l12.195" class="difflineminus">-    }</span>
<a href="#l12.196"></a><span id="l12.196" class="difflineminus">-  },</span>
<a href="#l12.197"></a><span id="l12.197" class="difflineminus">-</span>
<a href="#l12.198"></a><span id="l12.198">   displayNameKeyPress(aEvent) {</span>
<a href="#l12.199"></a><span id="l12.199">     switch (aEvent.keyCode) {</span>
<a href="#l12.200"></a><span id="l12.200">       case aEvent.DOM_VK_RETURN:</span>
<a href="#l12.201"></a><span id="l12.201">         statusSelector.finishEditDisplayName(true);</span>
<a href="#l12.202"></a><span id="l12.202">         break;</span>
<a href="#l12.203"></a><span id="l12.203"> </span>
<a href="#l12.204"></a><span id="l12.204">       case aEvent.DOM_VK_ESCAPE:</span>
<a href="#l12.205"></a><span id="l12.205">         statusSelector.finishEditDisplayName(false);</span>
<a href="#l12.206"></a><span id="l12.206" class="difflineat">@@ -313,51 +301,53 @@ var statusSelector = {</span>
<a href="#l12.207"></a><span id="l12.207">         statusSelector.displayNameRefreshTimer();</span>
<a href="#l12.208"></a><span id="l12.208">     }</span>
<a href="#l12.209"></a><span id="l12.209">   },</span>
<a href="#l12.210"></a><span id="l12.210"> </span>
<a href="#l12.211"></a><span id="l12.211">   finishEditDisplayName(aSave) {</span>
<a href="#l12.212"></a><span id="l12.212">     clearTimeout(this._stopEditDisplayNameTimeout);</span>
<a href="#l12.213"></a><span id="l12.213">     let displayName = document.getElementById(&quot;displayName&quot;);</span>
<a href="#l12.214"></a><span id="l12.214">     let displayNameInput = document.getElementById(&quot;displayNameInput&quot;);</span>
<a href="#l12.215"></a><span id="l12.215" class="difflineminus">-    displayName.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l12.216"></a><span id="l12.216" class="difflineminus">-    displayNameInput.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l12.217"></a><span id="l12.217" class="difflineplus">+    displayName.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l12.218"></a><span id="l12.218" class="difflineplus">+    displayNameInput.toggleAttribute(&quot;hidden&quot;, &quot;true&quot;);</span>
<a href="#l12.219"></a><span id="l12.219">     // Apply the new display name only if it is different from the current one.</span>
<a href="#l12.220"></a><span id="l12.220">     if (</span>
<a href="#l12.221"></a><span id="l12.221">       aSave &amp;&amp;</span>
<a href="#l12.222"></a><span id="l12.222">       displayNameInput.value != displayNameInput.getAttribute(&quot;value&quot;)</span>
<a href="#l12.223"></a><span id="l12.223">     ) {</span>
<a href="#l12.224"></a><span id="l12.224">       Services.core.globalUserStatus.displayName = displayNameInput.value;</span>
<a href="#l12.225"></a><span id="l12.225">     } else if (displayName.hasAttribute(&quot;usingDefault&quot;)) {</span>
<a href="#l12.226"></a><span id="l12.226">       displayName.setAttribute(</span>
<a href="#l12.227"></a><span id="l12.227">         &quot;value&quot;,</span>
<a href="#l12.228"></a><span id="l12.228">         displayName.getAttribute(&quot;usingDefault&quot;)</span>
<a href="#l12.229"></a><span id="l12.229">       );</span>
<a href="#l12.230"></a><span id="l12.230">     }</span>
<a href="#l12.231"></a><span id="l12.231"> </span>
<a href="#l12.232"></a><span id="l12.232">     displayNameInput.removeAttribute(&quot;editing&quot;);</span>
<a href="#l12.233"></a><span id="l12.233">     displayNameInput.removeEventListener(&quot;keypress&quot;, this.displayNameKeyPress);</span>
<a href="#l12.234"></a><span id="l12.234" class="difflineminus">-    displayNameInput.removeEventListener(&quot;blur&quot;, this.displayNameBlur);</span>
<a href="#l12.235"></a><span id="l12.235" class="difflineplus">+    displayNameInput.removeEventListener(&quot;blur&quot;, event =&gt; {</span>
<a href="#l12.236"></a><span id="l12.236" class="difflineplus">+      this.finishEditDisplayName(true);</span>
<a href="#l12.237"></a><span id="l12.237" class="difflineplus">+    });</span>
<a href="#l12.238"></a><span id="l12.238">   },</span>
<a href="#l12.239"></a><span id="l12.239"> </span>
<a href="#l12.240"></a><span id="l12.240">   init() {</span>
<a href="#l12.241"></a><span id="l12.241">     let events = [&quot;status-changed&quot;];</span>
<a href="#l12.242"></a><span id="l12.242">     statusSelector.displayCurrentStatus();</span>
<a href="#l12.243"></a><span id="l12.243"> </span>
<a href="#l12.244"></a><span id="l12.244">     if (document.getElementById(&quot;displayName&quot;)) {</span>
<a href="#l12.245"></a><span id="l12.245">       events.push(&quot;user-display-name-changed&quot;);</span>
<a href="#l12.246"></a><span id="l12.246">       statusSelector.displayUserDisplayName();</span>
<a href="#l12.247"></a><span id="l12.247">     }</span>
<a href="#l12.248"></a><span id="l12.248"> </span>
<a href="#l12.249"></a><span id="l12.249">     if (document.getElementById(&quot;userIcon&quot;)) {</span>
<a href="#l12.250"></a><span id="l12.250">       events.push(&quot;user-icon-changed&quot;);</span>
<a href="#l12.251"></a><span id="l12.251">       statusSelector.displayUserIcon();</span>
<a href="#l12.252"></a><span id="l12.252">     }</span>
<a href="#l12.253"></a><span id="l12.253"> </span>
<a href="#l12.254"></a><span id="l12.254" class="difflineminus">-    let statusMessage = document.getElementById(&quot;statusMessage&quot;);</span>
<a href="#l12.255"></a><span id="l12.255" class="difflineplus">+    let statusMessage = document.getElementById(&quot;statusMessageLabel&quot;);</span>
<a href="#l12.256"></a><span id="l12.256">     let statusMessageInput = document.getElementById(&quot;statusMessageInput&quot;);</span>
<a href="#l12.257"></a><span id="l12.257">     if (statusMessage &amp;&amp; statusMessageInput) {</span>
<a href="#l12.258"></a><span id="l12.258">       statusMessage.addEventListener(&quot;keypress&quot;, this.statusMessageKeyPress);</span>
<a href="#l12.259"></a><span id="l12.259">       statusMessageInput.addEventListener(</span>
<a href="#l12.260"></a><span id="l12.260">         &quot;keypress&quot;,</span>
<a href="#l12.261"></a><span id="l12.261">         this.statusMessageKeyPress</span>
<a href="#l12.262"></a><span id="l12.262">       );</span>
<a href="#l12.263"></a><span id="l12.263">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/components/im/themes/chat.css</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/components/im/themes/chat.css</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -1,13 +1,14 @@</span>
<a href="#l13.4"></a><span id="l13.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.5"></a><span id="l13.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.6"></a><span id="l13.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8"> @import url(&quot;chrome://chat/skin/status.css&quot;);</span>
<a href="#l13.9"></a><span id="l13.9" class="difflineplus">+@namespace html url(&quot;http://www.w3.org/1999/xhtml&quot;);</span>
<a href="#l13.10"></a><span id="l13.10"> </span>
<a href="#l13.11"></a><span id="l13.11"> .im-placeholder-screen {</span>
<a href="#l13.12"></a><span id="l13.12">   color: -moz-FieldText;</span>
<a href="#l13.13"></a><span id="l13.13">   background-color: -moz-Field;</span>
<a href="#l13.14"></a><span id="l13.14">   overflow: auto;</span>
<a href="#l13.15"></a><span id="l13.15">   font-size: 15px;</span>
<a href="#l13.16"></a><span id="l13.16">   font-weight: normal;</span>
<a href="#l13.17"></a><span id="l13.17"> }</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineat">@@ -913,9 +914,9 @@ toolbar[mode=&quot;text&quot;] #statusTypeIcon &gt; .</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20"> :root[lwt-tree] #nicklist &gt; richlistitem[inactive][selected] &gt; label,</span>
<a href="#l13.21"></a><span id="l13.21"> :root[lwt-tree] #nicklist:focus &gt; richlistitem[inactive][selected] &gt; label {</span>
<a href="#l13.22"></a><span id="l13.22">   color: var(--sidebar-highlight-text-color, var(--sidebar-text-color)) !important;</span>
<a href="#l13.23"></a><span id="l13.23"> }</span>
<a href="#l13.24"></a><span id="l13.24"> </span>
<a href="#l13.25"></a><span id="l13.25"> :root[lwt-tree] #logTree {</span>
<a href="#l13.26"></a><span id="l13.26">   -moz-appearance: none;</span>
<a href="#l13.27"></a><span id="l13.27" class="difflineminus">-}</span>
<a href="#l13.28"></a><span id="l13.28">\ No newline at end of file</span>
<a href="#l13.29"></a><span id="l13.29" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/themes/linux/mail/chat.css</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/themes/linux/mail/chat.css</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -66,17 +66,17 @@</span>
<a href="#l14.4"></a><span id="l14.4">   -moz-box-align: center;</span>
<a href="#l14.5"></a><span id="l14.5"> }</span>
<a href="#l14.6"></a><span id="l14.6"> </span>
<a href="#l14.7"></a><span id="l14.7"> .statusMessageInput[editing] {</span>
<a href="#l14.8"></a><span id="l14.8">   color: -moz-dialogtext;</span>
<a href="#l14.9"></a><span id="l14.9">   margin: 29px 0 -3px -4px;</span>
<a href="#l14.10"></a><span id="l14.10"> }</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-#displayNameAndstatusMessageStack #statusMessage, #statusMessageInput {</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+#displayNameAndstatusMessageStack #statusMessageLabel, #statusMessageInput {</span>
<a href="#l14.14"></a><span id="l14.14">   margin: 32px 0 0;</span>
<a href="#l14.15"></a><span id="l14.15"> }</span>
<a href="#l14.16"></a><span id="l14.16"> </span>
<a href="#l14.17"></a><span id="l14.17"> #displayNameAndstatusMessageStack #statusMessageInput[editing] {</span>
<a href="#l14.18"></a><span id="l14.18">   margin: 30px -2px -2px -4px;</span>
<a href="#l14.19"></a><span id="l14.19"> }</span>
<a href="#l14.20"></a><span id="l14.20"> </span>
<a href="#l14.21"></a><span id="l14.21"> #displayNameAndstatusMessageStack #displayNameInput[editing] {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/themes/osx/mail/chat.css</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/themes/osx/mail/chat.css</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -100,17 +100,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">   background-color: #fff;</span>
<a href="#l15.5"></a><span id="l15.5"> }</span>
<a href="#l15.6"></a><span id="l15.6"> </span>
<a href="#l15.7"></a><span id="l15.7"> .statusMessageInput[editing] {</span>
<a href="#l15.8"></a><span id="l15.8">   color: -moz-dialogtext;</span>
<a href="#l15.9"></a><span id="l15.9">   margin: 29px 0 -1px -4px;</span>
<a href="#l15.10"></a><span id="l15.10"> }</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-#displayNameAndstatusMessageStack #statusMessage, #statusMessageInput {</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+#displayNameAndstatusMessageStack #statusMessageLabel, #statusMessageInput {</span>
<a href="#l15.14"></a><span id="l15.14">   margin: 32px 0 0;</span>
<a href="#l15.15"></a><span id="l15.15">   min-height: 16px;</span>
<a href="#l15.16"></a><span id="l15.16"> }</span>
<a href="#l15.17"></a><span id="l15.17"> </span>
<a href="#l15.18"></a><span id="l15.18"> #displayNameAndstatusMessageStack #statusMessageInput[editing] {</span>
<a href="#l15.19"></a><span id="l15.19">   margin: 29px 2px 0 -4px;</span>
<a href="#l15.20"></a><span id="l15.20"> }</span>
<a href="#l15.21"></a><span id="l15.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/themes/shared/mail/input-fields.css</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/themes/shared/mail/input-fields.css</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -6,16 +6,20 @@</span>
<a href="#l16.4"></a><span id="l16.4"> @namespace html url(&quot;http://www.w3.org/1999/xhtml&quot;);</span>
<a href="#l16.5"></a><span id="l16.5"> </span>
<a href="#l16.6"></a><span id="l16.6"> html|input.input-inline {</span>
<a href="#l16.7"></a><span id="l16.7">   margin: 2px 4px;</span>
<a href="#l16.8"></a><span id="l16.8">   padding: 2px 2px 3px;</span>
<a href="#l16.9"></a><span id="l16.9">   padding-inline-start: 4px;</span>
<a href="#l16.10"></a><span id="l16.10"> }</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+html|input.input-inline.plain {</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+  background-color: transparent;</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+}</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+</span>
<a href="#l16.16"></a><span id="l16.16"> html|input.input-filefield {</span>
<a href="#l16.17"></a><span id="l16.17">   -moz-appearance: none;</span>
<a href="#l16.18"></a><span id="l16.18">   padding-inline-start: 20px !important;</span>
<a href="#l16.19"></a><span id="l16.19">   background-position-x: left 8px;</span>
<a href="#l16.20"></a><span id="l16.20">   background-color: var(--in-content-box-background);</span>
<a href="#l16.21"></a><span id="l16.21">   border-color: var(--in-content-box-border-color);</span>
<a href="#l16.22"></a><span id="l16.22">   border: 1px solid threedshadow;</span>
<a href="#l16.23"></a><span id="l16.23"> }</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineat">@@ -33,11 +37,18 @@ html|input.input-inline-color {</span>
<a href="#l16.25"></a><span id="l16.25">   margin: 2px 4px;</span>
<a href="#l16.26"></a><span id="l16.26"> }</span>
<a href="#l16.27"></a><span id="l16.27"> </span>
<a href="#l16.28"></a><span id="l16.28"> .input-container {</span>
<a href="#l16.29"></a><span id="l16.29">   display: flex;</span>
<a href="#l16.30"></a><span id="l16.30">   align-items: center;</span>
<a href="#l16.31"></a><span id="l16.31"> }</span>
<a href="#l16.32"></a><span id="l16.32"> </span>
<a href="#l16.33"></a><span id="l16.33" class="difflineminus">-.input-container html|input:not([type=&quot;number&quot;]) {</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineminus">-  flex-grow: 1;</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineplus">+.input-container html|input:not([type=&quot;number&quot;]),</span>
<a href="#l16.36"></a><span id="l16.36" class="difflineplus">+.input-container .label-inline {</span>
<a href="#l16.37"></a><span id="l16.37" class="difflineplus">+  flex: 1;</span>
<a href="#l16.38"></a><span id="l16.38"> }</span>
<a href="#l16.39"></a><span id="l16.39" class="difflineplus">+</span>
<a href="#l16.40"></a><span id="l16.40" class="difflineplus">+html|input[type=&quot;number&quot;].input-number-inline {</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineplus">+  flex: 1 !important;</span>
<a href="#l16.42"></a><span id="l16.42" class="difflineplus">+  padding: 2px 2px 3px;</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineplus">+  margin-inline-start: 2px;</span>
<a href="#l16.44"></a><span id="l16.44" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mail/themes/windows/mail/chat.css</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mail/themes/windows/mail/chat.css</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -67,17 +67,17 @@</span>
<a href="#l17.4"></a><span id="l17.4">   background-color: -moz-Dialog;</span>
<a href="#l17.5"></a><span id="l17.5"> }</span>
<a href="#l17.6"></a><span id="l17.6"> </span>
<a href="#l17.7"></a><span id="l17.7"> .statusMessageInput[editing] {</span>
<a href="#l17.8"></a><span id="l17.8">   color: -moz-dialogtext;</span>
<a href="#l17.9"></a><span id="l17.9">   margin: 28px 0 -1px -2px;</span>
<a href="#l17.10"></a><span id="l17.10"> }</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-#displayNameAndstatusMessageStack #statusMessage, #statusMessageInput {</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+#displayNameAndstatusMessageStack #statusMessageLabel, #statusMessageInput {</span>
<a href="#l17.14"></a><span id="l17.14">   margin: 32px 0 0;</span>
<a href="#l17.15"></a><span id="l17.15"> }</span>
<a href="#l17.16"></a><span id="l17.16"> </span>
<a href="#l17.17"></a><span id="l17.17"> #displayNameAndstatusMessageStack  #statusMessageInput[editing] {</span>
<a href="#l17.18"></a><span id="l17.18">   margin: 30px 0 1px -2px;</span>
<a href="#l17.19"></a><span id="l17.19"> }</span>
<a href="#l17.20"></a><span id="l17.20"> </span>
<a href="#l17.21"></a><span id="l17.21"> #displayNameAndstatusMessageStack #displayNameInput[editing] {</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:32Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

