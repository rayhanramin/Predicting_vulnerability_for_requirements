<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 25732:cf9289be51a6cadb59dee3e7d0015941b29e0af9</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ cf9289be51a6cadb59dee3e7d0015941b29e0af9" />
<meta property="og:url" content="/comm-central/rev/cf9289be51a6cadb59dee3e7d0015941b29e0af9" />
<meta property="og:description" content="Port bug 1518283 - prohibit blank lines at the beginning and end of blocks (eslint padded-blocks). rs=bustage-fix" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / cf9289be51a6cadb59dee3e7d0015941b29e0af9 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/cf9289be51a6cadb59dee3e7d0015941b29e0af9">shortlog</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/cf9289be51a6cadb59dee3e7d0015941b29e0af9">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9">files</a> |
changeset |
<a href="/comm-central/raw-rev/cf9289be51a6cadb59dee3e7d0015941b29e0af9">raw</a>  | <a href="/comm-central/archive/cf9289be51a6cadb59dee3e7d0015941b29e0af9.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1518283">bug 1518283</a> - prohibit blank lines at the beginning and end of blocks (eslint padded-blocks). rs=bustage-fix
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#74;&#111;&#114;&#103;&#32;&#75;&#32;&#60;&#106;&#111;&#114;&#103;&#107;&#64;&#106;&#111;&#114;&#103;&#107;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 31 Jan 2019 15:29:21 +0100</td></tr>

<tr>
 <td>changeset 25732</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/cf9289be51a6cadb59dee3e7d0015941b29e0af9">cf9289be51a6cadb59dee3e7d0015941b29e0af9</a></td>
</tr>



<tr>
<td>parent 25731</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/420b121a7a6f5a18e804ed2e1c59fc874649e107">420b121a7a6f5a18e804ed2e1c59fc874649e107</a>
</td>
</tr>

<tr>
<td>child 25733</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/caa7c9cff3483c1d746e00e97facb895d7d84fa3">caa7c9cff3483c1d746e00e97facb895d7d84fa3</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=cf9289be51a6cadb59dee3e7d0015941b29e0af9">15447</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 31 Jan 2019 14:31:59 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@cf9289be51a6 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=cf9289be51a6cadb59dee3e7d0015941b29e0af9">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=cf9289be51a6cadb59dee3e7d0015941b29e0af9&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=cf9289be51a6cadb59dee3e7d0015941b29e0af9&newProject=comm-central&newRevision=bab34c7694e5b78245a8f4299ed373a1701c66c3&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=cf9289be51a6cadb59dee3e7d0015941b29e0af9&newProject=comm-central&newRevision=bab34c7694e5b78245a8f4299ed373a1701c66c3&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=cf9289be51a6cadb59dee3e7d0015941b29e0af9&newProject=comm-central&newRevision=bab34c7694e5b78245a8f4299ed373a1701c66c3&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28bustage-fix%29&revcount=50">bustage-fix</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1518283">1518283</a></td></tr>




</table></div>

<div class="page_body description">Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1518283">bug 1518283</a> - prohibit blank lines at the beginning and end of blocks (eslint padded-blocks). rs=bustage-fix</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/ChromeManifest.jsm">common/src/ChromeManifest.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/ChromeManifest.jsm">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/ChromeManifest.jsm">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/ChromeManifest.jsm">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/ChromeManifest.jsm">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/ChromeManifest.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/customizeToolbar.js">common/src/customizeToolbar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/customizeToolbar.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/customizeToolbar.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/customizeToolbar.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/customizeToolbar.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/common/src/customizeToolbar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/aboutAddonsExtra.js">mail/base/content/aboutAddonsExtra.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/aboutAddonsExtra.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/aboutAddonsExtra.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/aboutAddonsExtra.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/aboutAddonsExtra.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/aboutAddonsExtra.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/editContactPanel.js">mail/base/content/editContactPanel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/editContactPanel.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/editContactPanel.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/editContactPanel.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/editContactPanel.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/editContactPanel.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacet.js">mail/base/content/glodaFacet.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacet.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacet.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacet.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacet.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacet.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacetView.js">mail/base/content/glodaFacetView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacetView.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacetView.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacetView.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacetView.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/glodaFacetView.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mail-compacttheme.js">mail/base/content/mail-compacttheme.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mail-compacttheme.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mail-compacttheme.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mail-compacttheme.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mail-compacttheme.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mail-compacttheme.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCommands.js">mail/base/content/mailCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCommands.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCommands.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCommands.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCommands.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCommands.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCore.js">mail/base/content/mailCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCore.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCore.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCore.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCore.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailCore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWidgets.xml">mail/base/content/mailWidgets.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWidgets.xml">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWidgets.xml">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWidgets.xml">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWidgets.xml">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWidgets.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWindowOverlay.js">mail/base/content/mailWindowOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWindowOverlay.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWindowOverlay.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWindowOverlay.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWindowOverlay.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/mailWindowOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgHdrView.js">mail/base/content/msgHdrView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgHdrView.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgHdrView.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgHdrView.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgHdrView.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgHdrView.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgMail3PaneWindow.js">mail/base/content/msgMail3PaneWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgMail3PaneWindow.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgMail3PaneWindow.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgMail3PaneWindow.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgMail3PaneWindow.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgMail3PaneWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgViewNavigation.js">mail/base/content/msgViewNavigation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgViewNavigation.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgViewNavigation.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgViewNavigation.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgViewNavigation.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/msgViewNavigation.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/nsContextMenu.js">mail/base/content/nsContextMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/nsContextMenu.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/nsContextMenu.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/nsContextMenu.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/nsContextMenu.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/nsContextMenu.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/phishingDetector.js">mail/base/content/phishingDetector.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/phishingDetector.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/phishingDetector.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/phishingDetector.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/phishingDetector.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/phishingDetector.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/quickFilterBar.js">mail/base/content/quickFilterBar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/quickFilterBar.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/quickFilterBar.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/quickFilterBar.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/quickFilterBar.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/quickFilterBar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/sanitize.js">mail/base/content/sanitize.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/sanitize.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/sanitize.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/sanitize.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/sanitize.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/sanitize.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/tabmail.xml">mail/base/content/tabmail.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/tabmail.xml">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/tabmail.xml">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/tabmail.xml">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/tabmail.xml">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/content/tabmail.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/GlobalPopupNotifications.jsm">mail/base/modules/GlobalPopupNotifications.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/GlobalPopupNotifications.jsm">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/GlobalPopupNotifications.jsm">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/GlobalPopupNotifications.jsm">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/GlobalPopupNotifications.jsm">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/GlobalPopupNotifications.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailInstrumentation.jsm">mail/base/modules/MailInstrumentation.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailInstrumentation.jsm">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailInstrumentation.jsm">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailInstrumentation.jsm">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailInstrumentation.jsm">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailInstrumentation.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailMigrator.jsm">mail/base/modules/MailMigrator.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailMigrator.jsm">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailMigrator.jsm">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailMigrator.jsm">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailMigrator.jsm">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/MailMigrator.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/SessionStoreManager.jsm">mail/base/modules/SessionStoreManager.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/SessionStoreManager.jsm">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/SessionStoreManager.jsm">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/SessionStoreManager.jsm">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/SessionStoreManager.jsm">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/modules/SessionStoreManager.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_logic.js">mail/base/test/unit/test_viewWrapper_logic.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_logic.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_logic.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_logic.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_logic.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_logic.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_realFolder.js">mail/base/test/unit/test_viewWrapper_realFolder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_realFolder.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_realFolder.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_realFolder.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_realFolder.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/base/test/unit/test_viewWrapper_realFolder.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/emailWizard.js">mail/components/accountcreation/content/emailWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/emailWizard.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/emailWizard.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/emailWizard.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/emailWizard.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/emailWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/exchangeAutoDiscover.js">mail/components/accountcreation/content/exchangeAutoDiscover.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/exchangeAutoDiscover.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/exchangeAutoDiscover.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/exchangeAutoDiscover.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/exchangeAutoDiscover.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/exchangeAutoDiscover.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/fetchhttp.js">mail/components/accountcreation/content/fetchhttp.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/fetchhttp.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/fetchhttp.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/fetchhttp.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/fetchhttp.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/fetchhttp.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/guessConfig.js">mail/components/accountcreation/content/guessConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/guessConfig.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/guessConfig.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/guessConfig.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/guessConfig.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/guessConfig.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/verifyConfig.js">mail/components/accountcreation/content/verifyConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/verifyConfig.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/verifyConfig.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/verifyConfig.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/verifyConfig.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/accountcreation/content/verifyConfig.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/content/activity.js">mail/components/activity/content/activity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/content/activity.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/content/activity.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/content/activity.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/content/activity.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/content/activity.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/modules/sendLater.jsm">mail/components/activity/modules/sendLater.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/modules/sendLater.jsm">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/modules/sendLater.jsm">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/modules/sendLater.jsm">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/modules/sendLater.jsm">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/activity/modules/sendLater.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCard.js">mail/components/addrbook/content/abCard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCard.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCard.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCard.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCard.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCommon.js">mail/components/addrbook/content/abCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCommon.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCommon.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCommon.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCommon.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abCommon.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abContactsPanel.js">mail/components/addrbook/content/abContactsPanel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abContactsPanel.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abContactsPanel.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abContactsPanel.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abContactsPanel.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/abContactsPanel.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/addressbook.js">mail/components/addrbook/content/addressbook.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/addressbook.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/addressbook.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/addressbook.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/addressbook.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/addrbook/content/addressbook.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/appIdleManager.js">mail/components/appIdleManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/appIdleManager.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/appIdleManager.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/appIdleManager.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/appIdleManager.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/appIdleManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/cloudfile/cloudFileAccounts.js">mail/components/cloudfile/cloudFileAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/cloudfile/cloudFileAccounts.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/cloudfile/cloudFileAccounts.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/cloudfile/cloudFileAccounts.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/cloudfile/cloudFileAccounts.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/cloudfile/cloudFileAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/MsgComposeCommands.js">mail/components/compose/content/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/addressingWidgetOverlay.js">mail/components/compose/content/addressingWidgetOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/addressingWidgetOverlay.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/addressingWidgetOverlay.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/addressingWidgetOverlay.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/addressingWidgetOverlay.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/addressingWidgetOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/bigFileObserver.js">mail/components/compose/content/bigFileObserver.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/bigFileObserver.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/bigFileObserver.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/bigFileObserver.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/bigFileObserver.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/bigFileObserver.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/cloudAttachmentLinkManager.js">mail/components/compose/content/cloudAttachmentLinkManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/cloudAttachmentLinkManager.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/cloudAttachmentLinkManager.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/cloudAttachmentLinkManager.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/cloudAttachmentLinkManager.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/compose/content/cloudAttachmentLinkManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/content/imContextMenu.js">mail/components/im/content/imContextMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/content/imContextMenu.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/content/imContextMenu.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/content/imContextMenu.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/content/imContextMenu.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/content/imContextMenu.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/modules/search_im.jsm">mail/components/im/modules/search_im.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/modules/search_im.jsm">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/modules/search_im.jsm">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/modules/search_im.jsm">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/modules/search_im.jsm">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/im/modules/search_im.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/newmailaccount/content/uriListener.js">mail/components/newmailaccount/content/uriListener.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/newmailaccount/content/uriListener.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/newmailaccount/content/uriListener.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/newmailaccount/content/uriListener.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/newmailaccount/content/uriListener.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/newmailaccount/content/uriListener.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/nsMailDefaultHandler.js">mail/components/nsMailDefaultHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/nsMailDefaultHandler.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/nsMailDefaultHandler.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/nsMailDefaultHandler.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/nsMailDefaultHandler.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/nsMailDefaultHandler.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/advanced.js">mail/components/preferences/advanced.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/advanced.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/advanced.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/advanced.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/advanced.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/advanced.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/permissions.js">mail/components/preferences/permissions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/permissions.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/permissions.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/permissions.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/permissions.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/permissions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/sendoptions.js">mail/components/preferences/sendoptions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/sendoptions.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/sendoptions.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/sendoptions.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/sendoptions.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/components/preferences/sendoptions.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/extensions/mailviews/content/mailViewSetup.js">mail/extensions/mailviews/content/mailViewSetup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/extensions/mailviews/content/mailViewSetup.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/extensions/mailviews/content/mailViewSetup.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/extensions/mailviews/content/mailViewSetup.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/extensions/mailviews/content/mailViewSetup.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mail/extensions/mailviews/content/mailViewSetup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/content/abMailListDialog.js">mailnews/addrbook/content/abMailListDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/content/abMailListDialog.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/content/abMailListDialog.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/content/abMailListDialog.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/content/abMailListDialog.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/content/abMailListDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">mailnews/addrbook/src/nsAbLDAPAttributeMap.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/addrbook/src/nsAbLDAPAttributeMap.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/feed-parser.js">mailnews/extensions/newsblog/content/feed-parser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/feed-parser.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/feed-parser.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/feed-parser.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/feed-parser.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/feed-parser.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/newsblogOverlay.js">mailnews/extensions/newsblog/content/newsblogOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/newsblogOverlay.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/newsblogOverlay.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/newsblogOverlay.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/newsblogOverlay.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/extensions/newsblog/content/newsblogOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_duplicateKey.js">mailnews/local/test/unit/test_duplicateKey.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_duplicateKey.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_duplicateKey.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_duplicateKey.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_duplicateKey.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_duplicateKey.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_folderLoaded.js">mailnews/local/test/unit/test_folderLoaded.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_folderLoaded.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_folderLoaded.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_folderLoaded.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_folderLoaded.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_folderLoaded.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_nsIMsgPluggableStore.js">mailnews/local/test/unit/test_nsIMsgPluggableStore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_nsIMsgPluggableStore.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_nsIMsgPluggableStore.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_nsIMsgPluggableStore.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_nsIMsgPluggableStore.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/local/test/unit/test_nsIMsgPluggableStore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug403242.js">mailnews/news/test/unit/test_bug403242.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug403242.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug403242.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug403242.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug403242.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug403242.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug540288.js">mailnews/news/test/unit/test_bug540288.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug540288.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug540288.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug540288.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug540288.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_bug540288.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpGroupPassword.js">mailnews/news/test/unit/test_nntpGroupPassword.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpGroupPassword.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpGroupPassword.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpGroupPassword.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpGroupPassword.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpGroupPassword.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword.js">mailnews/news/test/unit/test_nntpPassword.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword2.js">mailnews/news/test/unit/test_nntpPassword2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword2.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword2.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword2.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword2.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpPassword2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpUrl.js">mailnews/news/test/unit/test_nntpUrl.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpUrl.js">file</a> |
<a href="/comm-central/annotate/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpUrl.js">annotate</a> |
<a href="/comm-central/diff/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpUrl.js">diff</a> |
<a href="/comm-central/comparison/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpUrl.js">comparison</a> |
<a href="/comm-central/log/cf9289be51a6cadb59dee3e7d0015941b29e0af9/mailnews/news/test/unit/test_nntpUrl.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/common/src/ChromeManifest.jsm</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/common/src/ChromeManifest.jsm</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -6,17 +6,16 @@ this.EXPORTED_SYMBOLS = [&quot;ChromeManifest</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5"> const {Services} = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l1.6"></a><span id="l1.6"> </span>
<a href="#l1.7"></a><span id="l1.7"> /**</span>
<a href="#l1.8"></a><span id="l1.8">  * A parser for chrome.manifest files. Implements a subset of</span>
<a href="#l1.9"></a><span id="l1.9">  * https://developer.mozilla.org/en-US/docs/Mozilla/Chrome_Registration</span>
<a href="#l1.10"></a><span id="l1.10">  */</span>
<a href="#l1.11"></a><span id="l1.11"> class ChromeManifest {</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-</span>
<a href="#l1.13"></a><span id="l1.13">   /**</span>
<a href="#l1.14"></a><span id="l1.14">    * Constucts the chrome.manifest parser</span>
<a href="#l1.15"></a><span id="l1.15">    *</span>
<a href="#l1.16"></a><span id="l1.16">    * @param {Function} loader           An asynchronous function that will load further files, e.g.</span>
<a href="#l1.17"></a><span id="l1.17">    *                                      those included via the |manifest| instruction. The</span>
<a href="#l1.18"></a><span id="l1.18">    *                                      function will take the file as an argument and should</span>
<a href="#l1.19"></a><span id="l1.19">    *                                      resolve with the string contents of that file</span>
<a href="#l1.20"></a><span id="l1.20">    * @param {Object} options            Object describing the current system. The keys are manifest</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineat">@@ -33,17 +32,16 @@ class ChromeManifest {</span>
<a href="#l1.22"></a><span id="l1.22"> </span>
<a href="#l1.23"></a><span id="l1.23">     this.component = new Map();</span>
<a href="#l1.24"></a><span id="l1.24">     this.contract = new Map();</span>
<a href="#l1.25"></a><span id="l1.25"> </span>
<a href="#l1.26"></a><span id="l1.26">     this.content = new Map();</span>
<a href="#l1.27"></a><span id="l1.27">     this.skin = new Map();</span>
<a href="#l1.28"></a><span id="l1.28">     this.resource = new Map();</span>
<a href="#l1.29"></a><span id="l1.29">     this.override = new Map();</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineminus">-</span>
<a href="#l1.31"></a><span id="l1.31">   }</span>
<a href="#l1.32"></a><span id="l1.32"> </span>
<a href="#l1.33"></a><span id="l1.33"> </span>
<a href="#l1.34"></a><span id="l1.34">   /**</span>
<a href="#l1.35"></a><span id="l1.35">    * Parse the given file.</span>
<a href="#l1.36"></a><span id="l1.36">    *</span>
<a href="#l1.37"></a><span id="l1.37">    * @param {String} filename           The filename to load</span>
<a href="#l1.38"></a><span id="l1.38">    * @param {String} base               The relative directory this file is expected to be in.</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineat">@@ -305,17 +303,16 @@ class DefaultMap extends Map {</span>
<a href="#l1.40"></a><span id="l1.40">    * Constructs the default map</span>
<a href="#l1.41"></a><span id="l1.41">    *</span>
<a href="#l1.42"></a><span id="l1.42">    * @param {Function} _default     A function that returns the default value for this map</span>
<a href="#l1.43"></a><span id="l1.43">    * @param {*} iterable            An iterable to initialize the map with</span>
<a href="#l1.44"></a><span id="l1.44">    */</span>
<a href="#l1.45"></a><span id="l1.45">   constructor(_default, iterable) {</span>
<a href="#l1.46"></a><span id="l1.46">     super(iterable);</span>
<a href="#l1.47"></a><span id="l1.47">     this._default = _default;</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineminus">-</span>
<a href="#l1.49"></a><span id="l1.49">   }</span>
<a href="#l1.50"></a><span id="l1.50"> </span>
<a href="#l1.51"></a><span id="l1.51">   /**</span>
<a href="#l1.52"></a><span id="l1.52">    * Get the given key, creating if necessary</span>
<a href="#l1.53"></a><span id="l1.53">    *</span>
<a href="#l1.54"></a><span id="l1.54">    * @param {String} key            The key of the map to get</span>
<a href="#l1.55"></a><span id="l1.55">    * @param {Boolean} create        True, if the key should be created in case it doesn't exist.</span>
<a href="#l1.56"></a><span id="l1.56">    */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/common/src/customizeToolbar.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/common/src/customizeToolbar.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -455,17 +455,16 @@ function addNewToolbar() {</span>
<a href="#l2.4"></a><span id="l2.4"> </span>
<a href="#l2.5"></a><span id="l2.5">   // Quitting from the toolbar dialog while the new toolbar prompt is up</span>
<a href="#l2.6"></a><span id="l2.6">   // can cause things to become unresponsive on the Mac. Until dialog modality</span>
<a href="#l2.7"></a><span id="l2.7">   // is fixed (395465), disable the &quot;Done&quot; button explicitly.</span>
<a href="#l2.8"></a><span id="l2.8">   var doneButton = document.getElementById(&quot;donebutton&quot;);</span>
<a href="#l2.9"></a><span id="l2.9">   doneButton.disabled = true;</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">   while (true) {</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-</span>
<a href="#l2.13"></a><span id="l2.13">     if (!promptService.prompt(window, title, message, name, null, {})) {</span>
<a href="#l2.14"></a><span id="l2.14">       doneButton.disabled = false;</span>
<a href="#l2.15"></a><span id="l2.15">       return;</span>
<a href="#l2.16"></a><span id="l2.16">     }</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18">     if (!name.value) {</span>
<a href="#l2.19"></a><span id="l2.19">       message = stringBundle.getFormattedString(&quot;enterToolbarBlank&quot;, [name.value]);</span>
<a href="#l2.20"></a><span id="l2.20">       continue;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/aboutAddonsExtra.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/aboutAddonsExtra.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -221,32 +221,27 @@ window.addEventListener(&quot;unload&quot;, () =&gt; </span>
<a href="#l3.4"></a><span id="l3.4"> function getTrueState(addon, addonRef) {</span>
<a href="#l3.5"></a><span id="l3.5">   let state = ExtensionSupport.loadedLegacyExtensions.get(addon.id);</span>
<a href="#l3.6"></a><span id="l3.6">   let returnObject = {};</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8">   if (addon.pendingOperations &amp; AddonManager.PENDING_UNINSTALL &amp;&amp;</span>
<a href="#l3.9"></a><span id="l3.9">       ExtensionSupport.loadedLegacyExtensions.has(addon.id)) {</span>
<a href="#l3.10"></a><span id="l3.10">     returnObject.stringName = &quot;warnLegacyUninstall&quot;;</span>
<a href="#l3.11"></a><span id="l3.11">     returnObject.undoCommand = `${addonRef}.cancelUninstall()`;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-</span>
<a href="#l3.13"></a><span id="l3.13">   } else if (state.pendingOperation == &quot;install&quot;) {</span>
<a href="#l3.14"></a><span id="l3.14">     returnObject.stringName = &quot;warnLegacyInstall&quot;;</span>
<a href="#l3.15"></a><span id="l3.15">     returnObject.undoCommand = `${addonRef}.uninstall()`;</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-</span>
<a href="#l3.17"></a><span id="l3.17">   } else if (addon.userDisabled) {</span>
<a href="#l3.18"></a><span id="l3.18">     returnObject.stringName = &quot;warnLegacyDisable&quot;;</span>
<a href="#l3.19"></a><span id="l3.19">     returnObject.undoCommand = `${addonRef}.enable()`;</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-</span>
<a href="#l3.21"></a><span id="l3.21">   } else if (state.pendingOperation == &quot;enable&quot;) {</span>
<a href="#l3.22"></a><span id="l3.22">     returnObject.stringName = &quot;warnLegacyEnable&quot;;</span>
<a href="#l3.23"></a><span id="l3.23">     returnObject.undoCommand = `${addonRef}.disable()`;</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineminus">-</span>
<a href="#l3.25"></a><span id="l3.25">   } else if (state.pendingOperation == &quot;upgrade&quot;) {</span>
<a href="#l3.26"></a><span id="l3.26">     returnObject.stringName = &quot;warnLegacyUpgrade&quot;;</span>
<a href="#l3.27"></a><span id="l3.27">     returnObject.version = state.version;</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineminus">-</span>
<a href="#l3.29"></a><span id="l3.29">   } else if (state.pendingOperation == &quot;downgrade&quot;) {</span>
<a href="#l3.30"></a><span id="l3.30">     returnObject.stringName = &quot;warnLegacyDowngrade&quot;;</span>
<a href="#l3.31"></a><span id="l3.31">     returnObject.version = state.version;</span>
<a href="#l3.32"></a><span id="l3.32">   }</span>
<a href="#l3.33"></a><span id="l3.33"> </span>
<a href="#l3.34"></a><span id="l3.34">   return returnObject;</span>
<a href="#l3.35"></a><span id="l3.35"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/base/content/editContactPanel.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/base/content/editContactPanel.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -164,17 +164,16 @@ var editContactInlineUI = {</span>
<a href="#l4.4"></a><span id="l4.4">   editDetails() {</span>
<a href="#l4.5"></a><span id="l4.5">     this.saveChanges();</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7">     window.openDialog(&quot;chrome://messenger/content/addressbook/abEditCardDialog.xul&quot;,</span>
<a href="#l4.8"></a><span id="l4.8">                       &quot;&quot;,</span>
<a href="#l4.9"></a><span id="l4.9">                       &quot;chrome,modal,resizable=no,centerscreen&quot;,</span>
<a href="#l4.10"></a><span id="l4.10">                       { abURI: this._cardDetails.book.URI,</span>
<a href="#l4.11"></a><span id="l4.11">                         card: this._cardDetails.card });</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-</span>
<a href="#l4.13"></a><span id="l4.13">   },</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15">   deleteContact() {</span>
<a href="#l4.16"></a><span id="l4.16">     if (this._cardDetails.book.readOnly)</span>
<a href="#l4.17"></a><span id="l4.17">       return; /* double check we can delete this */</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19">     /* hide before the dialog or the panel takes the first click */</span>
<a href="#l4.20"></a><span id="l4.20">     this.panel.hidePopup();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/base/content/glodaFacet.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/base/content/glodaFacet.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -422,17 +422,16 @@ class MozFacetDiscrete extends HTMLEleme</span>
<a href="#l5.4"></a><span id="l5.4">     this.addEventListener(&quot;mouseout&quot;, (event) =&gt; {</span>
<a href="#l5.5"></a><span id="l5.5">       // we dispatch based on the class of the thing we clicked on.</span>
<a href="#l5.6"></a><span id="l5.6">       // there are other ways we could accomplish this, but they all sorta suck.</span>
<a href="#l5.7"></a><span id="l5.7">       if (event.originalTarget.hasAttribute(&quot;class&quot;) &amp;&amp;</span>
<a href="#l5.8"></a><span id="l5.8">         event.originalTarget.classList.contains(&quot;bar-link&quot;)) {</span>
<a href="#l5.9"></a><span id="l5.9">         this.barHoverGone(event.originalTarget.parentNode, true);</span>
<a href="#l5.10"></a><span id="l5.10">       }</span>
<a href="#l5.11"></a><span id="l5.11">     });</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-</span>
<a href="#l5.13"></a><span id="l5.13">   }</span>
<a href="#l5.14"></a><span id="l5.14"> </span>
<a href="#l5.15"></a><span id="l5.15">   connectedCallback() {</span>
<a href="#l5.16"></a><span id="l5.16">     const facet = document.createElement(&quot;div&quot;);</span>
<a href="#l5.17"></a><span id="l5.17">     facet.classList.add(&quot;facet&quot;);</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19">     this.nameNode = document.createElement(&quot;h2&quot;);</span>
<a href="#l5.20"></a><span id="l5.20"> </span>
<a href="#l5.21"></a><span id="l5.21" class="difflineat">@@ -1196,17 +1195,16 @@ class MozFacetResultMessage extends HTML</span>
<a href="#l5.22"></a><span id="l5.22">         this.message, [this.message]);</span>
<a href="#l5.23"></a><span id="l5.23">     });</span>
<a href="#l5.24"></a><span id="l5.24"> </span>
<a href="#l5.25"></a><span id="l5.25">     this.addEventListener(&quot;mouseout&quot;, (event) =&gt; {</span>
<a href="#l5.26"></a><span id="l5.26">       FacetContext.unhoverFacet(FacetContext.fakeResultFaceter,</span>
<a href="#l5.27"></a><span id="l5.27">         FacetContext.fakeResultAttr,</span>
<a href="#l5.28"></a><span id="l5.28">         this.message, [this.message]);</span>
<a href="#l5.29"></a><span id="l5.29">     });</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineminus">-</span>
<a href="#l5.31"></a><span id="l5.31">   }</span>
<a href="#l5.32"></a><span id="l5.32"> </span>
<a href="#l5.33"></a><span id="l5.33">   connectedCallback() {</span>
<a href="#l5.34"></a><span id="l5.34">     const messageHeader = document.createElement(&quot;div&quot;);</span>
<a href="#l5.35"></a><span id="l5.35"> </span>
<a href="#l5.36"></a><span id="l5.36">     const messageLine = document.createElement(&quot;div&quot;);</span>
<a href="#l5.37"></a><span id="l5.37">     messageLine.classList.add(&quot;message-line&quot;);</span>
<a href="#l5.38"></a><span id="l5.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/base/content/glodaFacetView.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/base/content/glodaFacetView.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -742,17 +742,16 @@ var FacetContext = {</span>
<a href="#l6.4"></a><span id="l6.4">     this._brushedFacet = aFaceter;</span>
<a href="#l6.5"></a><span id="l6.5">     this._brushedGroup = aGroupValue;</span>
<a href="#l6.6"></a><span id="l6.6">     this._brushedItems = aGroupItems;</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8">     if (this._brushTimeout != null)</span>
<a href="#l6.9"></a><span id="l6.9">       clearTimeout(this._brushTimeout);</span>
<a href="#l6.10"></a><span id="l6.10">     this._brushTimeout = setTimeout(this._timeoutHoverWrapper,</span>
<a href="#l6.11"></a><span id="l6.11">                                     this._HOVER_STABILITY_DURATION_MS, this);</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-</span>
<a href="#l6.13"></a><span id="l6.13">   },</span>
<a href="#l6.14"></a><span id="l6.14">   _timeoutHover() {</span>
<a href="#l6.15"></a><span id="l6.15">     this._brushTimeout = null;</span>
<a href="#l6.16"></a><span id="l6.16">     for (let faceter of this.faceters) {</span>
<a href="#l6.17"></a><span id="l6.17">       if (faceter == this._brushedFacet || !faceter.xblNode)</span>
<a href="#l6.18"></a><span id="l6.18">         continue;</span>
<a href="#l6.19"></a><span id="l6.19"> </span>
<a href="#l6.20"></a><span id="l6.20">       if (this._brushedItems != null)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/base/content/mail-compacttheme.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/base/content/mail-compacttheme.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -46,17 +46,16 @@ var CompactTheme = {</span>
<a href="#l7.4"></a><span id="l7.4">           theme.id == &quot;thunderbird-compact-light@mozilla.org&quot; ||</span>
<a href="#l7.5"></a><span id="l7.5">           theme.id == &quot;thunderbird-compact-dark@mozilla.org&quot;)) {</span>
<a href="#l7.6"></a><span id="l7.6">         // We are using the theme ID on this object instead of always referencing</span>
<a href="#l7.7"></a><span id="l7.7">         // LightweightThemeManager.currentTheme in case this is a preview</span>
<a href="#l7.8"></a><span id="l7.8">         this._toggleStyleSheet(true);</span>
<a href="#l7.9"></a><span id="l7.9">       } else {</span>
<a href="#l7.10"></a><span id="l7.10">         this._toggleStyleSheet(false);</span>
<a href="#l7.11"></a><span id="l7.11">       }</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-</span>
<a href="#l7.13"></a><span id="l7.13">     }</span>
<a href="#l7.14"></a><span id="l7.14">   },</span>
<a href="#l7.15"></a><span id="l7.15"> </span>
<a href="#l7.16"></a><span id="l7.16">   _toggleStyleSheet(enabled) {</span>
<a href="#l7.17"></a><span id="l7.17">     let wasEnabled = this.isStyleSheetEnabled;</span>
<a href="#l7.18"></a><span id="l7.18">     if (enabled) {</span>
<a href="#l7.19"></a><span id="l7.19">       this.styleSheet.disabled = false;</span>
<a href="#l7.20"></a><span id="l7.20">     } else if (!enabled &amp;&amp; wasEnabled) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/base/content/mailCommands.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/base/content/mailCommands.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -396,17 +396,16 @@ function SaveAsFile(uris) {</span>
<a href="#l8.4"></a><span id="l8.4">       }</span>
<a href="#l8.5"></a><span id="l8.5">       filenames.push(name);</span>
<a href="#l8.6"></a><span id="l8.6">     }</span>
<a href="#l8.7"></a><span id="l8.7">     messenger.saveMessages(uris.length, filenames, uris);</span>
<a href="#l8.8"></a><span id="l8.8">   }</span>
<a href="#l8.9"></a><span id="l8.9"> }</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11"> function GenerateFilenameFromMsgHdr(msgHdr) {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-</span>
<a href="#l8.13"></a><span id="l8.13">   function MakeIS8601ODateString(date) {</span>
<a href="#l8.14"></a><span id="l8.14">     function pad(n) { return n &lt; 10 ? &quot;0&quot; + n : n; }</span>
<a href="#l8.15"></a><span id="l8.15">     return date.getFullYear() + &quot;-&quot; +</span>
<a href="#l8.16"></a><span id="l8.16">            pad(date.getMonth() + 1) + &quot;-&quot; +</span>
<a href="#l8.17"></a><span id="l8.17">            pad(date.getDate()) + &quot; &quot; +</span>
<a href="#l8.18"></a><span id="l8.18">            pad(date.getHours()) + &quot;&quot; +</span>
<a href="#l8.19"></a><span id="l8.19">            pad(date.getMinutes()) + &quot;&quot;;</span>
<a href="#l8.20"></a><span id="l8.20">   }</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineat">@@ -417,17 +416,16 @@ function GenerateFilenameFromMsgHdr(msgH</span>
<a href="#l8.22"></a><span id="l8.22">   else</span>
<a href="#l8.23"></a><span id="l8.23">     filename = msgHdr.mime2DecodedSubject;</span>
<a href="#l8.24"></a><span id="l8.24"> </span>
<a href="#l8.25"></a><span id="l8.25">   filename += &quot; - &quot;;</span>
<a href="#l8.26"></a><span id="l8.26">   filename += msgHdr.mime2DecodedAuthor + &quot; - &quot;;</span>
<a href="#l8.27"></a><span id="l8.27">   filename += MakeIS8601ODateString(new Date(msgHdr.date / 1000));</span>
<a href="#l8.28"></a><span id="l8.28"> </span>
<a href="#l8.29"></a><span id="l8.29">   return filename;</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineminus">-</span>
<a href="#l8.31"></a><span id="l8.31"> }</span>
<a href="#l8.32"></a><span id="l8.32"> </span>
<a href="#l8.33"></a><span id="l8.33"> function saveAsUrlListener(aUri, aIdentity) {</span>
<a href="#l8.34"></a><span id="l8.34">   this.uri = aUri;</span>
<a href="#l8.35"></a><span id="l8.35">   this.identity = aIdentity;</span>
<a href="#l8.36"></a><span id="l8.36"> }</span>
<a href="#l8.37"></a><span id="l8.37"> </span>
<a href="#l8.38"></a><span id="l8.38"> saveAsUrlListener.prototype = {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/base/content/mailCore.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/base/content/mailCore.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -325,17 +325,16 @@ function onViewToolbarsPopupShowing(aEve</span>
<a href="#l9.4"></a><span id="l9.4">     for (let externalToolbar of toolbox.externalToolbars) {</span>
<a href="#l9.5"></a><span id="l9.5">       if (externalToolbar.getAttribute(&quot;prependmenuitem&quot;))</span>
<a href="#l9.6"></a><span id="l9.6">         potentialToolbars.unshift(externalToolbar);</span>
<a href="#l9.7"></a><span id="l9.7">       else</span>
<a href="#l9.8"></a><span id="l9.8">         potentialToolbars.push(externalToolbar);</span>
<a href="#l9.9"></a><span id="l9.9">     }</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11">     for (let toolbarElement of potentialToolbars) {</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-</span>
<a href="#l9.13"></a><span id="l9.13">       // We have to bind to toolbar because Javascript doesn't do fresh</span>
<a href="#l9.14"></a><span id="l9.14">       // let-bindings per Iteration.</span>
<a href="#l9.15"></a><span id="l9.15">       let toolbar = toolbarElement;</span>
<a href="#l9.16"></a><span id="l9.16"> </span>
<a href="#l9.17"></a><span id="l9.17">       let toolbarName = toolbar.getAttribute(&quot;toolbarname&quot;);</span>
<a href="#l9.18"></a><span id="l9.18">       if (toolbarName) {</span>
<a href="#l9.19"></a><span id="l9.19">         let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l9.20"></a><span id="l9.20">         let hidingAttribute = toolbar.getAttribute(&quot;type&quot;) == &quot;menubar&quot; ?</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/base/content/mailWidgets.xml</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/base/content/mailWidgets.xml</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -594,17 +594,16 @@</span>
<a href="#l10.4"></a><span id="l10.4">                 newAddressNode = aAddressesNode.appendChild(newAddressNode);</span>
<a href="#l10.5"></a><span id="l10.5">               }</span>
<a href="#l10.6"></a><span id="l10.6">               this.updateEmailAddressNode(newAddressNode, this.mAddresses[i]);</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8">               // Reading .clientWidth triggers an expensive reflow, so only</span>
<a href="#l10.9"></a><span id="l10.9">               // do it when necessary for possible early loop exit to display</span>
<a href="#l10.10"></a><span id="l10.10">               // (X more).</span>
<a href="#l10.11"></a><span id="l10.11">               if (!all) {</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-</span>
<a href="#l10.13"></a><span id="l10.13">                 // Calculate width and lines, consider the i+1 comma node if we have to</span>
<a href="#l10.14"></a><span id="l10.14">                 // &lt;http://www.w3.org/TR/cssom-view/#client-attributes&gt;</span>
<a href="#l10.15"></a><span id="l10.15">                 // &lt;https://developer.mozilla.org/en/Determining_the_dimensions_of_elements&gt;</span>
<a href="#l10.16"></a><span id="l10.16">                 let newLineWidth = i + 1 &lt; this.mAddresses.length ?</span>
<a href="#l10.17"></a><span id="l10.17">                                    newAddressNode.clientWidth + this.commaNodeWidth :</span>
<a href="#l10.18"></a><span id="l10.18">                                    newAddressNode.clientWidth;</span>
<a href="#l10.19"></a><span id="l10.19">                 curLineWidth += newLineWidth;</span>
<a href="#l10.20"></a><span id="l10.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1005,17 +1005,16 @@ function InitRecentlyClosedTabsPopup(men</span>
<a href="#l11.4"></a><span id="l11.4">     return false;</span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6">   // Clear the list before rebulding it.</span>
<a href="#l11.7"></a><span id="l11.7">   while (menuPopup.hasChildNodes())</span>
<a href="#l11.8"></a><span id="l11.8">     menuPopup.lastChild.remove();</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10">   // Rebuild the recently closed tab list</span>
<a href="#l11.11"></a><span id="l11.11">   for (let i = 0; i &lt; tabs.length; i++) {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-</span>
<a href="#l11.13"></a><span id="l11.13">     let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l11.14"></a><span id="l11.14">     menuItem.setAttribute(&quot;label&quot;, tabs[i].title);</span>
<a href="#l11.15"></a><span id="l11.15">     menuItem.setAttribute(&quot;oncommand&quot;, `document.getElementById(&quot;tabmail&quot;).undoCloseTab(${i});`);</span>
<a href="#l11.16"></a><span id="l11.16"> </span>
<a href="#l11.17"></a><span id="l11.17">     if (i == 0)</span>
<a href="#l11.18"></a><span id="l11.18">       menuItem.setAttribute(&quot;key&quot;, &quot;key_undoCloseTab&quot;);</span>
<a href="#l11.19"></a><span id="l11.19"> </span>
<a href="#l11.20"></a><span id="l11.20">     menuPopup.appendChild(menuItem);</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineat">@@ -1580,17 +1579,16 @@ function BatchMessageMover() {</span>
<a href="#l11.22"></a><span id="l11.22">   this._currentKey = null;</span>
<a href="#l11.23"></a><span id="l11.23">   this._dstFolderParent = null;</span>
<a href="#l11.24"></a><span id="l11.24">   this._dstFolderName = null;</span>
<a href="#l11.25"></a><span id="l11.25"> }</span>
<a href="#l11.26"></a><span id="l11.26"> </span>
<a href="#l11.27"></a><span id="l11.27"> BatchMessageMover.prototype = {</span>
<a href="#l11.28"></a><span id="l11.28"> </span>
<a href="#l11.29"></a><span id="l11.29">   archiveMessages(aMsgHdrs) {</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineminus">-</span>
<a href="#l11.31"></a><span id="l11.31">     if (!aMsgHdrs.length)</span>
<a href="#l11.32"></a><span id="l11.32">       return;</span>
<a href="#l11.33"></a><span id="l11.33"> </span>
<a href="#l11.34"></a><span id="l11.34">     gFolderDisplay.hintMassMoveStarting();</span>
<a href="#l11.35"></a><span id="l11.35">     for (let i = 0; i &lt; aMsgHdrs.length; i++) {</span>
<a href="#l11.36"></a><span id="l11.36">       let msgHdr = aMsgHdrs[i];</span>
<a href="#l11.37"></a><span id="l11.37"> </span>
<a href="#l11.38"></a><span id="l11.38">       let server = msgHdr.folder.server;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/base/content/msgHdrView.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/base/content/msgHdrView.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -298,17 +298,16 @@ function initInlineToolbox(toolboxId, to</span>
<a href="#l12.4"></a><span id="l12.4">   let toolbarset = document.getElementById(&quot;customToolbars&quot;);</span>
<a href="#l12.5"></a><span id="l12.5">   toolbox.toolbarset = toolbarset;</span>
<a href="#l12.6"></a><span id="l12.6"> </span>
<a href="#l12.7"></a><span id="l12.7">   // Check whether we did an upgrade to a customizable header pane.</span>
<a href="#l12.8"></a><span id="l12.8">   // If yes, set the header pane toolbar mode to icons besides text</span>
<a href="#l12.9"></a><span id="l12.9">   let toolbar = document.getElementById(toolbarId);</span>
<a href="#l12.10"></a><span id="l12.10">   if (toolbox &amp;&amp; toolbar) {</span>
<a href="#l12.11"></a><span id="l12.11">     if (!toolbox.getAttribute(&quot;mode&quot;)) {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-</span>
<a href="#l12.13"></a><span id="l12.13">       /* set toolbox attributes to default values */</span>
<a href="#l12.14"></a><span id="l12.14">       let mode = toolbox.getAttribute(&quot;defaultmode&quot;);</span>
<a href="#l12.15"></a><span id="l12.15">       let align = toolbox.getAttribute(&quot;defaultlabelalign&quot;);</span>
<a href="#l12.16"></a><span id="l12.16">       let iconsize = toolbox.getAttribute(&quot;defaulticonsize&quot;);</span>
<a href="#l12.17"></a><span id="l12.17">       toolbox.setAttribute(&quot;mode&quot;, mode);</span>
<a href="#l12.18"></a><span id="l12.18">       toolbox.setAttribute(&quot;labelalign&quot;, align);</span>
<a href="#l12.19"></a><span id="l12.19">       toolbox.setAttribute(&quot;iconsize&quot;, iconsize);</span>
<a href="#l12.20"></a><span id="l12.20">       Services.xulStore.persist(toolbox, &quot;mode&quot;);</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineat">@@ -903,17 +902,16 @@ function EnsureMinimumNumberOfHeaders(he</span>
<a href="#l12.22"></a><span id="l12.22">     while (numEmptyHeaders) {</span>
<a href="#l12.23"></a><span id="l12.23">       var dummyHeaderId = &quot;Dummy-Header&quot; + gDummyHeaderIdIndex;</span>
<a href="#l12.24"></a><span id="l12.24">       gExpandedHeaderView[dummyHeaderId] = new HeaderView(dummyHeaderId, &quot;&quot;);</span>
<a href="#l12.25"></a><span id="l12.25">       gExpandedHeaderView[dummyHeaderId].valid = true;</span>
<a href="#l12.26"></a><span id="l12.26"> </span>
<a href="#l12.27"></a><span id="l12.27">       gDummyHeaderIdIndex++;</span>
<a href="#l12.28"></a><span id="l12.28">       numEmptyHeaders--;</span>
<a href="#l12.29"></a><span id="l12.29">     }</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineminus">-</span>
<a href="#l12.31"></a><span id="l12.31">   }</span>
<a href="#l12.32"></a><span id="l12.32"> }</span>
<a href="#l12.33"></a><span id="l12.33"> </span>
<a href="#l12.34"></a><span id="l12.34"> /**</span>
<a href="#l12.35"></a><span id="l12.35">  * Make sure the appropriate fields in the expanded header view are collapsed</span>
<a href="#l12.36"></a><span id="l12.36">  * or visible...</span>
<a href="#l12.37"></a><span id="l12.37">  */</span>
<a href="#l12.38"></a><span id="l12.38"> function updateExpandedView() {</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineat">@@ -1523,17 +1521,16 @@ function EditContact(emailAddressNode) {</span>
<a href="#l12.40"></a><span id="l12.40"> /**</span>
<a href="#l12.41"></a><span id="l12.41">  * Takes the email address title button, extracts the email address we stored</span>
<a href="#l12.42"></a><span id="l12.42">  * in there and opens a compose window with that address.</span>
<a href="#l12.43"></a><span id="l12.43">  *</span>
<a href="#l12.44"></a><span id="l12.44">  * @param addressNode  a node which has a &quot;fullAddress&quot; or &quot;newsgroup&quot; attribute</span>
<a href="#l12.45"></a><span id="l12.45">  * @param aEvent       the event object when user triggers the menuitem</span>
<a href="#l12.46"></a><span id="l12.46">  */</span>
<a href="#l12.47"></a><span id="l12.47"> function SendMailToNode(addressNode, aEvent) {</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineminus">-</span>
<a href="#l12.49"></a><span id="l12.49">   addressNode = addressNode.hasAttribute(&quot;newsgroup&quot;) ?</span>
<a href="#l12.50"></a><span id="l12.50">                   addressNode.closest(&quot;mail-newsgroup&quot;) :</span>
<a href="#l12.51"></a><span id="l12.51">                   addressNode.closest(&quot;mail-emailaddress&quot;);</span>
<a href="#l12.52"></a><span id="l12.52">   let fields = Cc[&quot;@mozilla.org/messengercompose/composefields;1&quot;]</span>
<a href="#l12.53"></a><span id="l12.53">                  .createInstance(Ci.nsIMsgCompFields);</span>
<a href="#l12.54"></a><span id="l12.54">   let params = Cc[&quot;@mozilla.org/messengercompose/composeparams;1&quot;]</span>
<a href="#l12.55"></a><span id="l12.55">                  .createInstance(Ci.nsIMsgComposeParams);</span>
<a href="#l12.56"></a><span id="l12.56"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -1063,17 +1063,16 @@ function ClearMessagePane() {</span>
<a href="#l13.4"></a><span id="l13.4">  *</span>
<a href="#l13.5"></a><span id="l13.5">  * @param aSingleSelect Should the selection we create be a single selection?</span>
<a href="#l13.6"></a><span id="l13.6">  *     This is relevant if the row being clicked on is already part of the</span>
<a href="#l13.7"></a><span id="l13.7">  *     selection.  If it is part of the selection and !aSingleSelect, then we</span>
<a href="#l13.8"></a><span id="l13.8">  *     leave the selection as is.  If it is part of the selection and</span>
<a href="#l13.9"></a><span id="l13.9">  *     aSingleSelect then we create a transient single-row selection.</span>
<a href="#l13.10"></a><span id="l13.10">  */</span>
<a href="#l13.11"></a><span id="l13.11"> function ChangeSelectionWithoutContentLoad(event, tree, aSingleSelect) {</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-</span>
<a href="#l13.13"></a><span id="l13.13">   var treeSelection = tree.view.selection;</span>
<a href="#l13.14"></a><span id="l13.14"> </span>
<a href="#l13.15"></a><span id="l13.15">   var row = tree.getRowAt(event.clientX, event.clientY);</span>
<a href="#l13.16"></a><span id="l13.16">   // Only do something if:</span>
<a href="#l13.17"></a><span id="l13.17">   // - the row is valid</span>
<a href="#l13.18"></a><span id="l13.18">   // - it's not already selected (or we want a single selection)</span>
<a href="#l13.19"></a><span id="l13.19">   if (row &gt;= 0 &amp;&amp;</span>
<a href="#l13.20"></a><span id="l13.20">       (aSingleSelect || !treeSelection.isSelected(row))) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/base/content/msgViewNavigation.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/base/content/msgViewNavigation.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -76,17 +76,16 @@ function FindNextFolder() {</span>
<a href="#l14.4"></a><span id="l14.4">   var folder = FindNextChildFolder(gDBView.msgFolder, null);</span>
<a href="#l14.5"></a><span id="l14.5">   if (folder)</span>
<a href="#l14.6"></a><span id="l14.6">     return folder;</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8">   // didn't find folder in children</span>
<a href="#l14.9"></a><span id="l14.9">   // go up to the parent, and start at the folder after the current one</span>
<a href="#l14.10"></a><span id="l14.10">   // unless we are at a server, in which case bail out.</span>
<a href="#l14.11"></a><span id="l14.11">   for (folder = gDBView.msgFolder; !folder.isServer;) {</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-</span>
<a href="#l14.13"></a><span id="l14.13">     var parent = folder.parent;</span>
<a href="#l14.14"></a><span id="l14.14">     folder = FindNextChildFolder(parent, folder);</span>
<a href="#l14.15"></a><span id="l14.15">     if (folder)</span>
<a href="#l14.16"></a><span id="l14.16">       return folder;</span>
<a href="#l14.17"></a><span id="l14.17"> </span>
<a href="#l14.18"></a><span id="l14.18">     // none at this level after the current folder.  go up.</span>
<a href="#l14.19"></a><span id="l14.19">     folder = parent;</span>
<a href="#l14.20"></a><span id="l14.20">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/base/content/nsContextMenu.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/base/content/nsContextMenu.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -549,17 +549,16 @@ nsContextMenu.prototype = {</span>
<a href="#l15.4"></a><span id="l15.4">     while (elem) {</span>
<a href="#l15.5"></a><span id="l15.5">       if (elem.nodeType == Node.ELEMENT_NODE) {</span>
<a href="#l15.6"></a><span id="l15.6">         // Link?</span>
<a href="#l15.7"></a><span id="l15.7">         if (!this.onLink &amp;&amp;</span>
<a href="#l15.8"></a><span id="l15.8">             ((elem instanceof HTMLAnchorElement &amp;&amp; elem.href) ||</span>
<a href="#l15.9"></a><span id="l15.9">              elem instanceof HTMLAreaElement &amp;&amp; elem.href ||</span>
<a href="#l15.10"></a><span id="l15.10">              elem instanceof HTMLLinkElement ||</span>
<a href="#l15.11"></a><span id="l15.11">              elem.getAttributeNS(&quot;http://www.w3.org/1999/xlink&quot;, &quot;type&quot;) == &quot;simple&quot;)) {</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-</span>
<a href="#l15.13"></a><span id="l15.13">           // Target is a link or a descendant of a link.</span>
<a href="#l15.14"></a><span id="l15.14">           this.onLink = true;</span>
<a href="#l15.15"></a><span id="l15.15">           this.onMetaDataItem = true;</span>
<a href="#l15.16"></a><span id="l15.16">           // Remember corresponding element.</span>
<a href="#l15.17"></a><span id="l15.17">           this.link = elem;</span>
<a href="#l15.18"></a><span id="l15.18">           this.linkURL = this.getLinkURL();</span>
<a href="#l15.19"></a><span id="l15.19">           this.linkURI = this.getLinkURI();</span>
<a href="#l15.20"></a><span id="l15.20">           this.linkProtocol = this.getLinkProtocol();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/base/content/phishingDetector.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/base/content/phishingDetector.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -58,17 +58,16 @@ var gPhishingDetector = {</span>
<a href="#l16.4"></a><span id="l16.4">       if (folder.server.type == &quot;nntp&quot; || folder.server.type == &quot;rss&quot;)</span>
<a href="#l16.5"></a><span id="l16.5">         return;</span>
<a href="#l16.6"></a><span id="l16.6"> </span>
<a href="#l16.7"></a><span id="l16.7">       // Also ignore messages in Sent/Drafts/Templates/Outbox.</span>
<a href="#l16.8"></a><span id="l16.8">       let outgoingFlags = Ci.nsMsgFolderFlags.SentMail | Ci.nsMsgFolderFlags.Drafts |</span>
<a href="#l16.9"></a><span id="l16.9">                           Ci.nsMsgFolderFlags.Templates | Ci.nsMsgFolderFlags.Queue;</span>
<a href="#l16.10"></a><span id="l16.10">       if (folder.isSpecialFolder(outgoingFlags, true))</span>
<a href="#l16.11"></a><span id="l16.11">         return;</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-</span>
<a href="#l16.13"></a><span id="l16.13">     } catch (ex) {</span>
<a href="#l16.14"></a><span id="l16.14">         if (ex.result != Cr.NS_ERROR_FAILURE)</span>
<a href="#l16.15"></a><span id="l16.15">           throw ex;</span>
<a href="#l16.16"></a><span id="l16.16">     }</span>
<a href="#l16.17"></a><span id="l16.17"> </span>
<a href="#l16.18"></a><span id="l16.18">     // extract the link nodes in the message and analyze them, looking for suspicious URLs...</span>
<a href="#l16.19"></a><span id="l16.19">     var linkNodes = document.getElementById(&quot;messagepane&quot;).contentDocument.links;</span>
<a href="#l16.20"></a><span id="l16.20">     for (var index = 0; index &lt; linkNodes.length; index++)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mail/base/content/quickFilterBar.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mail/base/content/quickFilterBar.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -355,17 +355,16 @@ var QuickFilterBarMuxer = {</span>
<a href="#l17.4"></a><span id="l17.4"> </span>
<a href="#l17.5"></a><span id="l17.5">     let textWidget = document.getElementById(QuickFilterManager.textBoxDomId);</span>
<a href="#l17.6"></a><span id="l17.6">     if (textWidget) {</span>
<a href="#l17.7"></a><span id="l17.7">       this._savedOffTextWidgetMinWidth = textWidget.getAttribute(&quot;minwidth&quot;);</span>
<a href="#l17.8"></a><span id="l17.8">       textWidget.removeAttribute(&quot;minwidth&quot;);</span>
<a href="#l17.9"></a><span id="l17.9">     }</span>
<a href="#l17.10"></a><span id="l17.10"> </span>
<a href="#l17.11"></a><span id="l17.11">     collapsibleButtonBox.setAttribute(&quot;shrink&quot;, &quot;true&quot;);</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-</span>
<a href="#l17.13"></a><span id="l17.13">   },</span>
<a href="#l17.14"></a><span id="l17.14"> </span>
<a href="#l17.15"></a><span id="l17.15">   /**</span>
<a href="#l17.16"></a><span id="l17.16">    * Counterpart to |onOverflow| un-collapses the buttons once the quick filter</span>
<a href="#l17.17"></a><span id="l17.17">    *  bar gets wide enough to support the desired minimum widget of the bar when</span>
<a href="#l17.18"></a><span id="l17.18">    *  the buttons are not collapsed.</span>
<a href="#l17.19"></a><span id="l17.19">    */</span>
<a href="#l17.20"></a><span id="l17.20">   onWindowResize() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/base/content/sanitize.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/base/content/sanitize.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -73,17 +73,16 @@ Sanitizer.prototype = {</span>
<a href="#l18.4"></a><span id="l18.4">   items: {</span>
<a href="#l18.5"></a><span id="l18.5">     cache: {</span>
<a href="#l18.6"></a><span id="l18.6">       clear() {</span>
<a href="#l18.7"></a><span id="l18.7">         try {</span>
<a href="#l18.8"></a><span id="l18.8">           // Cache doesn't consult timespan, nor does it have the</span>
<a href="#l18.9"></a><span id="l18.9">           // facility for timespan-based eviction.  Wipe it.</span>
<a href="#l18.10"></a><span id="l18.10">           Services.cache2.clear();</span>
<a href="#l18.11"></a><span id="l18.11">         } catch (ex) {}</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-</span>
<a href="#l18.13"></a><span id="l18.13">       },</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15">       get canClear() {</span>
<a href="#l18.16"></a><span id="l18.16">         return true;</span>
<a href="#l18.17"></a><span id="l18.17">       },</span>
<a href="#l18.18"></a><span id="l18.18">     },</span>
<a href="#l18.19"></a><span id="l18.19"> </span>
<a href="#l18.20"></a><span id="l18.20">     cookies: {</span>
<a href="#l18.21"></a><span id="l18.21" class="difflineat">@@ -134,17 +133,16 @@ Sanitizer.prototype = {</span>
<a href="#l18.22"></a><span id="l18.22">           }</span>
<a href="#l18.23"></a><span id="l18.23">         }</span>
<a href="#l18.24"></a><span id="l18.24"> </span>
<a href="#l18.25"></a><span id="l18.25">         // clear any network geolocation provider sessions</span>
<a href="#l18.26"></a><span id="l18.26">         try {</span>
<a href="#l18.27"></a><span id="l18.27">             var branch = Services.prefs.getBranch(&quot;geo.wifi.access_token.&quot;);</span>
<a href="#l18.28"></a><span id="l18.28">             branch.deleteBranch(&quot;&quot;);</span>
<a href="#l18.29"></a><span id="l18.29">         } catch (e) {}</span>
<a href="#l18.30"></a><span id="l18.30" class="difflineminus">-</span>
<a href="#l18.31"></a><span id="l18.31">       },</span>
<a href="#l18.32"></a><span id="l18.32"> </span>
<a href="#l18.33"></a><span id="l18.33">       get canClear() {</span>
<a href="#l18.34"></a><span id="l18.34">         return true;</span>
<a href="#l18.35"></a><span id="l18.35">       },</span>
<a href="#l18.36"></a><span id="l18.36">     },</span>
<a href="#l18.37"></a><span id="l18.37"> </span>
<a href="#l18.38"></a><span id="l18.38">     history: {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/base/content/tabmail.xml</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/base/content/tabmail.xml</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1044,17 +1044,16 @@</span>
<a href="#l19.4"></a><span id="l19.4">             rev: 0,</span>
<a href="#l19.5"></a><span id="l19.5">             // If our currently selected tab gets persisted, we will update this</span>
<a href="#l19.6"></a><span id="l19.6">             selectedIndex: null,</span>
<a href="#l19.7"></a><span id="l19.7">           };</span>
<a href="#l19.8"></a><span id="l19.8"> </span>
<a href="#l19.9"></a><span id="l19.9">           let tabs = state.tabs = [];</span>
<a href="#l19.10"></a><span id="l19.10"> </span>
<a href="#l19.11"></a><span id="l19.11">           for (let [iTab, tab] of this.tabInfo.entries()) {</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-</span>
<a href="#l19.13"></a><span id="l19.13">             let persistTab = this.persistTab(tab);</span>
<a href="#l19.14"></a><span id="l19.14"> </span>
<a href="#l19.15"></a><span id="l19.15">             if (!persistTab)</span>
<a href="#l19.16"></a><span id="l19.16">               continue;</span>
<a href="#l19.17"></a><span id="l19.17"> </span>
<a href="#l19.18"></a><span id="l19.18">             tabs.push(persistTab);</span>
<a href="#l19.19"></a><span id="l19.19"> </span>
<a href="#l19.20"></a><span id="l19.20">             // Mark this persisted tab as selected</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineat">@@ -1101,17 +1100,16 @@</span>
<a href="#l19.22"></a><span id="l19.22">            * Attempts to restore tabs persisted from a prior call to</span>
<a href="#l19.23"></a><span id="l19.23">            *  |persistTabs|.  This is currently a synchronous operation, but in</span>
<a href="#l19.24"></a><span id="l19.24">            *  the future this may kick off an asynchronous mechanism to restore</span>
<a href="#l19.25"></a><span id="l19.25">            *  the tabs one-by-one.</span>
<a href="#l19.26"></a><span id="l19.26">            */</span>
<a href="#l19.27"></a><span id="l19.27">           let tabs = aPersistedState.tabs;</span>
<a href="#l19.28"></a><span id="l19.28">           let indexToSelect = null;</span>
<a href="#l19.29"></a><span id="l19.29">           for (let [iTab, tabState] of tabs.entries()) {</span>
<a href="#l19.30"></a><span id="l19.30" class="difflineminus">-</span>
<a href="#l19.31"></a><span id="l19.31">             if (tabState.state.firstTab &amp;&amp; aDontRestoreFirstTab)</span>
<a href="#l19.32"></a><span id="l19.32">               tabState.state.dontRestoreFirstTab = aDontRestoreFirstTab;</span>
<a href="#l19.33"></a><span id="l19.33"> </span>
<a href="#l19.34"></a><span id="l19.34">             if (!this.restoreTab(tabState))</span>
<a href="#l19.35"></a><span id="l19.35">               continue;</span>
<a href="#l19.36"></a><span id="l19.36"> </span>
<a href="#l19.37"></a><span id="l19.37">             // If this persisted tab was the selected one, then mark the newest</span>
<a href="#l19.38"></a><span id="l19.38">             //  tab as the guy to select.</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineat">@@ -1292,17 +1290,16 @@</span>
<a href="#l19.40"></a><span id="l19.40">               UpdateMailToolbar(&quot;tabmail&quot;);</span>
<a href="#l19.41"></a><span id="l19.41"> </span>
<a href="#l19.42"></a><span id="l19.42">               // We switched tabs, so we don't need to know the last tab</span>
<a href="#l19.43"></a><span id="l19.43">               // opener anymore.</span>
<a href="#l19.44"></a><span id="l19.44">               this.mLastTabOpener = null;</span>
<a href="#l19.45"></a><span id="l19.45"> </span>
<a href="#l19.46"></a><span id="l19.46">               let evt = new CustomEvent(&quot;TabSelect&quot;, { bubbles: true, detail: { tabInfo: tab } });</span>
<a href="#l19.47"></a><span id="l19.47">               this.tabContainer.selectedItem.dispatchEvent(evt);</span>
<a href="#l19.48"></a><span id="l19.48" class="difflineminus">-</span>
<a href="#l19.49"></a><span id="l19.49">             }</span>
<a href="#l19.50"></a><span id="l19.50">           ]]&gt;</span>
<a href="#l19.51"></a><span id="l19.51">         &lt;/body&gt;</span>
<a href="#l19.52"></a><span id="l19.52">       &lt;/method&gt;</span>
<a href="#l19.53"></a><span id="l19.53">       &lt;method name=&quot;saveCurrentTabState&quot;&gt;</span>
<a href="#l19.54"></a><span id="l19.54">         &lt;body&gt;</span>
<a href="#l19.55"></a><span id="l19.55">           &lt;![CDATA[</span>
<a href="#l19.56"></a><span id="l19.56">             if (!this.currentTabInfo)</span>
<a href="#l19.57"></a><span id="l19.57" class="difflineat">@@ -2432,17 +2429,16 @@</span>
<a href="#l19.58"></a><span id="l19.58">           return;</span>
<a href="#l19.59"></a><span id="l19.59">         }</span>
<a href="#l19.60"></a><span id="l19.60"> </span>
<a href="#l19.61"></a><span id="l19.61">         // Bug 516247:</span>
<a href="#l19.62"></a><span id="l19.62">         // in case the user is dragging something else than a tab, and</span>
<a href="#l19.63"></a><span id="l19.63">         // keeps hovering over a tab, we assume he wants to switch to this tab.</span>
<a href="#l19.64"></a><span id="l19.64">         if ((dt.mozTypesAt(0)[0] != &quot;application/x-moz-tabmail-tab&quot;)</span>
<a href="#l19.65"></a><span id="l19.65">             &amp;&amp; (dt.mozTypesAt(0)[1] != &quot;application/x-moz-tabmail-json&quot;)) {</span>
<a href="#l19.66"></a><span id="l19.66" class="difflineminus">-</span>
<a href="#l19.67"></a><span id="l19.67">           let tab = this._getDragTargetTab(event);</span>
<a href="#l19.68"></a><span id="l19.68"> </span>
<a href="#l19.69"></a><span id="l19.69">           if (!tab)</span>
<a href="#l19.70"></a><span id="l19.70">             return;</span>
<a href="#l19.71"></a><span id="l19.71"> </span>
<a href="#l19.72"></a><span id="l19.72">           event.preventDefault();</span>
<a href="#l19.73"></a><span id="l19.73">           event.stopPropagation();</span>
<a href="#l19.74"></a><span id="l19.74"> </span>
<a href="#l19.75"></a><span id="l19.75" class="difflineat">@@ -2461,17 +2457,16 @@</span>
<a href="#l19.76"></a><span id="l19.76"> </span>
<a href="#l19.77"></a><span id="l19.77">           return;</span>
<a href="#l19.78"></a><span id="l19.78">         }</span>
<a href="#l19.79"></a><span id="l19.79"> </span>
<a href="#l19.80"></a><span id="l19.80">         // as some tabs do not support session restore they can't be</span>
<a href="#l19.81"></a><span id="l19.81">         // moved to a different or new window. We should not show</span>
<a href="#l19.82"></a><span id="l19.82">         // a dropmarker in such a case</span>
<a href="#l19.83"></a><span id="l19.83">         if (!dt.mozGetDataAt(&quot;application/x-moz-tabmail-json&quot;, 0)) {</span>
<a href="#l19.84"></a><span id="l19.84" class="difflineminus">-</span>
<a href="#l19.85"></a><span id="l19.85">           let draggedTab = dt.mozGetDataAt(&quot;application/x-moz-tabmail-tab&quot;, 0);</span>
<a href="#l19.86"></a><span id="l19.86"> </span>
<a href="#l19.87"></a><span id="l19.87">           if (!draggedTab)</span>
<a href="#l19.88"></a><span id="l19.88">             return;</span>
<a href="#l19.89"></a><span id="l19.89"> </span>
<a href="#l19.90"></a><span id="l19.90">           if (this.tabmail.tabContainer.getIndexOfItem(draggedTab) == -1)</span>
<a href="#l19.91"></a><span id="l19.91">             return;</span>
<a href="#l19.92"></a><span id="l19.92">         }</span>
<a href="#l19.93"></a><span id="l19.93" class="difflineat">@@ -2481,17 +2476,16 @@</span>
<a href="#l19.94"></a><span id="l19.94">         event.preventDefault();</span>
<a href="#l19.95"></a><span id="l19.95">         event.stopPropagation();</span>
<a href="#l19.96"></a><span id="l19.96"> </span>
<a href="#l19.97"></a><span id="l19.97">         let ltr = (window.getComputedStyle(this).direction == &quot;ltr&quot;);</span>
<a href="#l19.98"></a><span id="l19.98">         let ind = this._tabDropIndicator;</span>
<a href="#l19.99"></a><span id="l19.99"> </span>
<a href="#l19.100"></a><span id="l19.100">         // Let's scroll</span>
<a href="#l19.101"></a><span id="l19.101">         if (this.hasAttribute(&quot;overflow&quot;)) {</span>
<a href="#l19.102"></a><span id="l19.102" class="difflineminus">-</span>
<a href="#l19.103"></a><span id="l19.103">           let target = event.originalTarget.getAttribute(&quot;anonid&quot;);</span>
<a href="#l19.104"></a><span id="l19.104"> </span>
<a href="#l19.105"></a><span id="l19.105">           let pixelsToScroll = 0;</span>
<a href="#l19.106"></a><span id="l19.106"> </span>
<a href="#l19.107"></a><span id="l19.107">           if (target == &quot;scrollbutton-up&quot;)</span>
<a href="#l19.108"></a><span id="l19.108">             pixelsToScroll = this.arrowScrollbox.scrollIncrement;</span>
<a href="#l19.109"></a><span id="l19.109"> </span>
<a href="#l19.110"></a><span id="l19.110">           if (target == &quot;scrollbutton-down&quot;)</span>
<a href="#l19.111"></a><span id="l19.111" class="difflineat">@@ -2523,25 +2517,23 @@</span>
<a href="#l19.112"></a><span id="l19.112">         var maxMargin = Math.min(minMargin + scrollRect.width, scrollRect.right);</span>
<a href="#l19.113"></a><span id="l19.113"> </span>
<a href="#l19.114"></a><span id="l19.114">         if (!ltr)</span>
<a href="#l19.115"></a><span id="l19.115">           [minMargin, maxMargin] = [this.clientWidth - maxMargin, this.clientWidth - minMargin];</span>
<a href="#l19.116"></a><span id="l19.116"> </span>
<a href="#l19.117"></a><span id="l19.117">         var newMargin;</span>
<a href="#l19.118"></a><span id="l19.118"> </span>
<a href="#l19.119"></a><span id="l19.119">         if (newIndex == this.childNodes.length) {</span>
<a href="#l19.120"></a><span id="l19.120" class="difflineminus">-</span>
<a href="#l19.121"></a><span id="l19.121">           let tabRect = this.childNodes[newIndex - 1].getBoundingClientRect();</span>
<a href="#l19.122"></a><span id="l19.122"> </span>
<a href="#l19.123"></a><span id="l19.123">           if (ltr)</span>
<a href="#l19.124"></a><span id="l19.124">             newMargin = tabRect.right - rect.left;</span>
<a href="#l19.125"></a><span id="l19.125">           else</span>
<a href="#l19.126"></a><span id="l19.126">             newMargin = rect.right - tabRect.left;</span>
<a href="#l19.127"></a><span id="l19.127">         } else {</span>
<a href="#l19.128"></a><span id="l19.128" class="difflineminus">-</span>
<a href="#l19.129"></a><span id="l19.129">           let tabRect = this.childNodes[newIndex].getBoundingClientRect();</span>
<a href="#l19.130"></a><span id="l19.130"> </span>
<a href="#l19.131"></a><span id="l19.131">           if (ltr)</span>
<a href="#l19.132"></a><span id="l19.132">             newMargin = tabRect.left - rect.left;</span>
<a href="#l19.133"></a><span id="l19.133">           else</span>
<a href="#l19.134"></a><span id="l19.134">             newMargin = rect.right - tabRect.right;</span>
<a href="#l19.135"></a><span id="l19.135">         }</span>
<a href="#l19.136"></a><span id="l19.136"> </span>
<a href="#l19.137"></a><span id="l19.137" class="difflineat">@@ -2589,17 +2581,16 @@</span>
<a href="#l19.138"></a><span id="l19.138">         if (!draggedTab)</span>
<a href="#l19.139"></a><span id="l19.139">           return;</span>
<a href="#l19.140"></a><span id="l19.140"> </span>
<a href="#l19.141"></a><span id="l19.141">         event.stopPropagation();</span>
<a href="#l19.142"></a><span id="l19.142">         this._tabDropIndicator.collapsed = true;</span>
<a href="#l19.143"></a><span id="l19.143"> </span>
<a href="#l19.144"></a><span id="l19.144">         // Is the tab one of our children?</span>
<a href="#l19.145"></a><span id="l19.145">         if (this.tabmail.tabContainer.getIndexOfItem(draggedTab) == -1) {</span>
<a href="#l19.146"></a><span id="l19.146" class="difflineminus">-</span>
<a href="#l19.147"></a><span id="l19.147">           // It's a tab from an other window, so we have to trigger session</span>
<a href="#l19.148"></a><span id="l19.148">           // restore to get our tab</span>
<a href="#l19.149"></a><span id="l19.149"> </span>
<a href="#l19.150"></a><span id="l19.150">           let tabmail2 = draggedTab.ownerDocument.getElementById(&quot;tabmail&quot;);</span>
<a href="#l19.151"></a><span id="l19.151">           if (!tabmail2)</span>
<a href="#l19.152"></a><span id="l19.152">             return;</span>
<a href="#l19.153"></a><span id="l19.153"> </span>
<a href="#l19.154"></a><span id="l19.154">           let draggedJson = dt.mozGetDataAt(&quot;application/x-moz-tabmail-json&quot;, 0);</span>
<a href="#l19.155"></a><span id="l19.155" class="difflineat">@@ -2645,17 +2636,16 @@</span>
<a href="#l19.156"></a><span id="l19.156">           return;</span>
<a href="#l19.157"></a><span id="l19.157"> </span>
<a href="#l19.158"></a><span id="l19.158">         // Disable detach within the browser toolbox</span>
<a href="#l19.159"></a><span id="l19.159">         var eX = event.screenX;</span>
<a href="#l19.160"></a><span id="l19.160">         var wX = window.screenX;</span>
<a href="#l19.161"></a><span id="l19.161"> </span>
<a href="#l19.162"></a><span id="l19.162">         // check if the drop point is horizontally within the window</span>
<a href="#l19.163"></a><span id="l19.163">         if (eX &gt; wX &amp;&amp; eX &lt; (wX + window.outerWidth)) {</span>
<a href="#l19.164"></a><span id="l19.164" class="difflineminus">-</span>
<a href="#l19.165"></a><span id="l19.165">           let bo = this.arrowScrollbox.boxObject;</span>
<a href="#l19.166"></a><span id="l19.166">           // also avoid detaching if the the tab was dropped too close to</span>
<a href="#l19.167"></a><span id="l19.167">           // the tabbar (half a tab)</span>
<a href="#l19.168"></a><span id="l19.168">           let endScreenY = bo.screenY + 1.5 * bo.height;</span>
<a href="#l19.169"></a><span id="l19.169">           let eY = event.screenY;</span>
<a href="#l19.170"></a><span id="l19.170"> </span>
<a href="#l19.171"></a><span id="l19.171">           if (eY &lt; endScreenY &amp;&amp; eY &gt; window.screenY)</span>
<a href="#l19.172"></a><span id="l19.172">             return;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mail/base/modules/GlobalPopupNotifications.jsm</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mail/base/modules/GlobalPopupNotifications.jsm</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -448,17 +448,16 @@ PopupNotifications.prototype = {</span>
<a href="#l20.4"></a><span id="l20.4">       this._remove(existingNotification);</span>
<a href="#l20.5"></a><span id="l20.5">     }</span>
<a href="#l20.6"></a><span id="l20.6"> </span>
<a href="#l20.7"></a><span id="l20.7">     popupNotificationsMap.push(notification);</span>
<a href="#l20.8"></a><span id="l20.8"> </span>
<a href="#l20.9"></a><span id="l20.9">     let isActiveWindow = Services.focus.activeWindow == this.window;</span>
<a href="#l20.10"></a><span id="l20.10"> </span>
<a href="#l20.11"></a><span id="l20.11">     if (isActiveWindow) {</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-</span>
<a href="#l20.13"></a><span id="l20.13">       // Autofocus if the notification requests focus.</span>
<a href="#l20.14"></a><span id="l20.14">       if (options &amp;&amp; !options.dismissed &amp;&amp; options.autofocus) {</span>
<a href="#l20.15"></a><span id="l20.15">         this.panel.removeAttribute(&quot;noautofocus&quot;);</span>
<a href="#l20.16"></a><span id="l20.16">       } else {</span>
<a href="#l20.17"></a><span id="l20.17">         this.panel.setAttribute(&quot;noautofocus&quot;, &quot;true&quot;);</span>
<a href="#l20.18"></a><span id="l20.18">       }</span>
<a href="#l20.19"></a><span id="l20.19"> </span>
<a href="#l20.20"></a><span id="l20.20">       // show panel now</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineat">@@ -1095,17 +1094,16 @@ PopupNotifications.prototype = {</span>
<a href="#l20.22"></a><span id="l20.22">     for (let notification of aCurrentNotifications) {</span>
<a href="#l20.23"></a><span id="l20.23">       let anchorElm = notification.anchorElement;</span>
<a href="#l20.24"></a><span id="l20.24">       if (anchorElm) {</span>
<a href="#l20.25"></a><span id="l20.25">         anchorElm.setAttribute(ICON_ATTRIBUTE_SHOWING, &quot;true&quot;);</span>
<a href="#l20.26"></a><span id="l20.26"> </span>
<a href="#l20.27"></a><span id="l20.27">         if (notification.options.extraAttr) {</span>
<a href="#l20.28"></a><span id="l20.28">           anchorElm.setAttribute(&quot;extraAttr&quot;, notification.options.extraAttr);</span>
<a href="#l20.29"></a><span id="l20.29">         }</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineminus">-</span>
<a href="#l20.31"></a><span id="l20.31">       }</span>
<a href="#l20.32"></a><span id="l20.32">     }</span>
<a href="#l20.33"></a><span id="l20.33">   },</span>
<a href="#l20.34"></a><span id="l20.34"> </span>
<a href="#l20.35"></a><span id="l20.35">   _hideIcons() {</span>
<a href="#l20.36"></a><span id="l20.36">     let icons = this.iconBox.querySelectorAll(ICON_SELECTOR);</span>
<a href="#l20.37"></a><span id="l20.37">     for (let icon of icons) {</span>
<a href="#l20.38"></a><span id="l20.38">       icon.removeAttribute(ICON_ATTRIBUTE_SHOWING);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mail/base/modules/MailInstrumentation.jsm</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mail/base/modules/MailInstrumentation.jsm</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -34,32 +34,30 @@ var MailInstrumentation = {</span>
<a href="#l21.4"></a><span id="l21.4">   // if true, we need to remove our observers in uninit.</span>
<a href="#l21.5"></a><span id="l21.5">   _observersRegistered: false,</span>
<a href="#l21.6"></a><span id="l21.6"> </span>
<a href="#l21.7"></a><span id="l21.7">   observe(aSubject, aTopic, aState) {</span>
<a href="#l21.8"></a><span id="l21.8">     if (aTopic == &quot;mail:composeSendSucceeded&quot;)</span>
<a href="#l21.9"></a><span id="l21.9">       MailInstrumentation.addEvent(&quot;msgSent&quot;, true);</span>
<a href="#l21.10"></a><span id="l21.10">     else if (aTopic == &quot;mail:setAsDefault&quot;)</span>
<a href="#l21.11"></a><span id="l21.11">       MailInstrumentation.addEvent(&quot;setAsDefault&quot;, true);</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-</span>
<a href="#l21.13"></a><span id="l21.13">   },</span>
<a href="#l21.14"></a><span id="l21.14">   msgAdded(aMsg) {</span>
<a href="#l21.15"></a><span id="l21.15">     MailServices.mfn.removeListener(this);</span>
<a href="#l21.16"></a><span id="l21.16">     this._mfnListener = false;</span>
<a href="#l21.17"></a><span id="l21.17">     MailInstrumentation.addEvent(&quot;msgDownloaded&quot;, true);</span>
<a href="#l21.18"></a><span id="l21.18">   },</span>
<a href="#l21.19"></a><span id="l21.19"> </span>
<a href="#l21.20"></a><span id="l21.20">   _accountsChanged() {</span>
<a href="#l21.21"></a><span id="l21.21">     // check if there are at least two accounts - one is local folders account</span>
<a href="#l21.22"></a><span id="l21.22">     if (Services.prefs.getCharPref(&quot;mail.accountmanager.accounts&quot;).includes(&quot;,&quot;, 1)) {</span>
<a href="#l21.23"></a><span id="l21.23">       MailInstrumentation.addEvent(&quot;accountAdded&quot;, true);</span>
<a href="#l21.24"></a><span id="l21.24">       MailInstrumentation._removeObserver(</span>
<a href="#l21.25"></a><span id="l21.25">         &quot;mail.accountmanager.accounts&quot;,</span>
<a href="#l21.26"></a><span id="l21.26">         MailInstrumentation._accountsChanged);</span>
<a href="#l21.27"></a><span id="l21.27" class="difflineminus">-</span>
<a href="#l21.28"></a><span id="l21.28">     }</span>
<a href="#l21.29"></a><span id="l21.29">   },</span>
<a href="#l21.30"></a><span id="l21.30">   _smtpServerAdded() {</span>
<a href="#l21.31"></a><span id="l21.31">     MailInstrumentation.addEvent(&quot;smtpServerAdded&quot;, true);</span>
<a href="#l21.32"></a><span id="l21.32">     MailInstrumentation._removeObserver(&quot;mail.smtpservers&quot;,</span>
<a href="#l21.33"></a><span id="l21.33">       MailInstrumentation._smtpServerAdded);</span>
<a href="#l21.34"></a><span id="l21.34">   },</span>
<a href="#l21.35"></a><span id="l21.35">   _userOptedIn() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mail/base/modules/MailMigrator.jsm</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mail/base/modules/MailMigrator.jsm</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -325,17 +325,16 @@ var MailMigrator = {</span>
<a href="#l22.4"></a><span id="l22.4">           // Apply changes to currentset.</span>
<a href="#l22.5"></a><span id="l22.5">           xulStore.setValue(MESSENGERCOMPOSE_DOCURL, &quot;composeToolbar2&quot;,</span>
<a href="#l22.6"></a><span id="l22.6">                             &quot;currentset&quot;, cs);</span>
<a href="#l22.7"></a><span id="l22.7">         }</span>
<a href="#l22.8"></a><span id="l22.8">       }</span>
<a href="#l22.9"></a><span id="l22.9"> </span>
<a href="#l22.10"></a><span id="l22.10">       // Update the migration version.</span>
<a href="#l22.11"></a><span id="l22.11">       Services.prefs.setIntPref(UI_VERSION_PREF, UI_VERSION);</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-</span>
<a href="#l22.13"></a><span id="l22.13">     } catch (e) {</span>
<a href="#l22.14"></a><span id="l22.14">       Cu.reportError(&quot;Migrating from UI version &quot; + currentUIVersion + &quot; to &quot; +</span>
<a href="#l22.15"></a><span id="l22.15">                      UI_VERSION + &quot; failed. Error message was: &quot; + e + &quot; -- &quot; +</span>
<a href="#l22.16"></a><span id="l22.16">                      &quot;Will reattempt on next start.&quot;);</span>
<a href="#l22.17"></a><span id="l22.17">     }</span>
<a href="#l22.18"></a><span id="l22.18">   },</span>
<a href="#l22.19"></a><span id="l22.19">   /* eslint-enable complexity */</span>
<a href="#l22.20"></a><span id="l22.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mail/base/modules/SessionStoreManager.jsm</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mail/base/modules/SessionStoreManager.jsm</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -88,17 +88,16 @@ var SessionStoreManager = {</span>
<a href="#l23.4"></a><span id="l23.4">       return;</span>
<a href="#l23.5"></a><span id="l23.5"> </span>
<a href="#l23.6"></a><span id="l23.6">     // Read the session state data from file, asynchronously.</span>
<a href="#l23.7"></a><span id="l23.7">     // An error on the json file returns an empty object which corresponds</span>
<a href="#l23.8"></a><span id="l23.8">     // to a null |_initialState|.</span>
<a href="#l23.9"></a><span id="l23.9">     await this.store.load();</span>
<a href="#l23.10"></a><span id="l23.10">     this._initialState = this.store.data.toSource() == {}.toSource() ?</span>
<a href="#l23.11"></a><span id="l23.11">                            null : this.store.data;</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-</span>
<a href="#l23.13"></a><span id="l23.13">   },</span>
<a href="#l23.14"></a><span id="l23.14"> </span>
<a href="#l23.15"></a><span id="l23.15">   /**</span>
<a href="#l23.16"></a><span id="l23.16">    * Opens the windows that were open in the previous session.</span>
<a href="#l23.17"></a><span id="l23.17">    */</span>
<a href="#l23.18"></a><span id="l23.18">   _openOtherRequiredWindows(aWindow) {</span>
<a href="#l23.19"></a><span id="l23.19">     // XXX we might want to display a restore page and let the user decide</span>
<a href="#l23.20"></a><span id="l23.20">     // whether to restore the other windows, just like Firefox does.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mail/base/test/unit/test_viewWrapper_logic.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mail/base/test/unit/test_viewWrapper_logic.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -123,17 +123,16 @@ function* test_sort_secondary_explicit()</span>
<a href="#l24.4"></a><span id="l24.4">     assert_equals(viewWrapper.dbView.secondarySortType,</span>
<a href="#l24.5"></a><span id="l24.5">                   Ci.nsMsgViewSortType.bySubject,</span>
<a href="#l24.6"></a><span id="l24.6">                   &quot;secondary sort should be by subject&quot;);</span>
<a href="#l24.7"></a><span id="l24.7">     assert_equals(viewWrapper.dbView.secondarySortOrder,</span>
<a href="#l24.8"></a><span id="l24.8">                   Ci.nsMsgViewSortOrder.descending,</span>
<a href="#l24.9"></a><span id="l24.9">                   &quot;secondary sort order should be descending&quot;);</span>
<a href="#l24.10"></a><span id="l24.10">     yield async_view_refresh(viewWrapper);</span>
<a href="#l24.11"></a><span id="l24.11">   }</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-</span>
<a href="#l24.13"></a><span id="l24.13"> }</span>
<a href="#l24.14"></a><span id="l24.14"> </span>
<a href="#l24.15"></a><span id="l24.15"> /**</span>
<a href="#l24.16"></a><span id="l24.16">  * Verify that we handle implicit secondary sorts correctly.</span>
<a href="#l24.17"></a><span id="l24.17">  * An implicit secondary sort is when we sort by Y, then we sort by X, and it's</span>
<a href="#l24.18"></a><span id="l24.18">  *  okay to have the effective sort of [X, Y].  The UI has/wants this, so, uh,</span>
<a href="#l24.19"></a><span id="l24.19">  *  let's make sure we obey its assumptions unless we have gone and made the UI</span>
<a href="#l24.20"></a><span id="l24.20">  *  be explicit about these things.  We can't simply depend on the view to do</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mail/base/test/unit/test_viewWrapper_realFolder.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mail/base/test/unit/test_viewWrapper_realFolder.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -44,17 +44,16 @@ function* test_real_folder_update() {</span>
<a href="#l25.4"></a><span id="l25.4"> </span>
<a href="#l25.5"></a><span id="l25.5">   // remove the first set of messages (more -&gt; some)</span>
<a href="#l25.6"></a><span id="l25.6">   yield async_trash_messages(setOne);</span>
<a href="#l25.7"></a><span id="l25.7">   verify_messages_in_view(setTwo, viewWrapper);</span>
<a href="#l25.8"></a><span id="l25.8"> </span>
<a href="#l25.9"></a><span id="l25.9">   // remove the second set of messages (some -&gt; none)</span>
<a href="#l25.10"></a><span id="l25.10">   yield async_trash_messages(setTwo);</span>
<a href="#l25.11"></a><span id="l25.11">   verify_empty_view(viewWrapper);</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-</span>
<a href="#l25.13"></a><span id="l25.13"> }</span>
<a href="#l25.14"></a><span id="l25.14"> </span>
<a href="#l25.15"></a><span id="l25.15"> /**</span>
<a href="#l25.16"></a><span id="l25.16">  * Open a real folder, verify, open another folder, verify.  We are testing</span>
<a href="#l25.17"></a><span id="l25.17">  *  ability to change folders without exploding.</span>
<a href="#l25.18"></a><span id="l25.18">  */</span>
<a href="#l25.19"></a><span id="l25.19"> function* test_real_folder_load_after_real_folder_load() {</span>
<a href="#l25.20"></a><span id="l25.20">   let viewWrapper = make_view_wrapper();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -641,17 +641,16 @@ EmailConfigWizard.prototype = {</span>
<a href="#l26.4"></a><span id="l26.4">           call.errorCallback()(e); // ()(e) is correct</span>
<a href="#l26.5"></a><span id="l26.5">           if (e.code == 401 || allErrors &amp;&amp; allErrors.find(e =&gt; e.code == 401)) { // Auth failed</span>
<a href="#l26.6"></a><span id="l26.6">             // Ask user for username.</span>
<a href="#l26.7"></a><span id="l26.7">             _show(&quot;usernameRow&quot;);</span>
<a href="#l26.8"></a><span id="l26.8">             this.switchToMode(&quot;start&quot;);</span>
<a href="#l26.9"></a><span id="l26.9">           }</span>
<a href="#l26.10"></a><span id="l26.10">         });</span>
<a href="#l26.11"></a><span id="l26.11">       call.setAbortable(fetch);</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-</span>
<a href="#l26.13"></a><span id="l26.13">     } catch (e) { // e.g. when entering an invalid domain like &quot;c@c.-com&quot;</span>
<a href="#l26.14"></a><span id="l26.14">       this.showErrorMsg(e);</span>
<a href="#l26.15"></a><span id="l26.15">       this.removeStatusLines();</span>
<a href="#l26.16"></a><span id="l26.16">       this.onStop();</span>
<a href="#l26.17"></a><span id="l26.17">     }</span>
<a href="#l26.18"></a><span id="l26.18">   },</span>
<a href="#l26.19"></a><span id="l26.19"> </span>
<a href="#l26.20"></a><span id="l26.20">   /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mail/components/accountcreation/content/exchangeAutoDiscover.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mail/components/accountcreation/content/exchangeAutoDiscover.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -277,17 +277,16 @@ function readAutoDiscoverXML(autoDiscove</span>
<a href="#l27.4"></a><span id="l27.4">             config.incoming = server;</span>
<a href="#l27.5"></a><span id="l27.5">           } else {</span>
<a href="#l27.6"></a><span id="l27.6">             config.incomingAlternatives.push(server);</span>
<a href="#l27.7"></a><span id="l27.7">           }</span>
<a href="#l27.8"></a><span id="l27.8">         }</span>
<a href="#l27.9"></a><span id="l27.9">       }</span>
<a href="#l27.10"></a><span id="l27.10"> </span>
<a href="#l27.11"></a><span id="l27.11">       // else unknown or unsupported protocol</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-</span>
<a href="#l27.13"></a><span id="l27.13">     } catch (e) { logException(e); }</span>
<a href="#l27.14"></a><span id="l27.14">   }</span>
<a href="#l27.15"></a><span id="l27.15"> </span>
<a href="#l27.16"></a><span id="l27.16">   // OAuth2 settings, so that createInBackend() doesn't bail out</span>
<a href="#l27.17"></a><span id="l27.17">   if (config.incoming.owaURL || config.incoming.ewsURL) {</span>
<a href="#l27.18"></a><span id="l27.18">     config.oauthSettings = {</span>
<a href="#l27.19"></a><span id="l27.19">       issuer: config.incoming.hostname,</span>
<a href="#l27.20"></a><span id="l27.20">       scope: config.incoming.owaURL || config.incoming.ewsURL,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mail/components/accountcreation/content/fetchhttp.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mail/components/accountcreation/content/fetchhttp.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -200,17 +200,16 @@ FetchHTTP.prototype = {</span>
<a href="#l28.4"></a><span id="l28.4">   _response(success, exStored) {</span>
<a href="#l28.5"></a><span id="l28.5">     try {</span>
<a href="#l28.6"></a><span id="l28.6">     var errorCode = null;</span>
<a href="#l28.7"></a><span id="l28.7">     var errorStr = null;</span>
<a href="#l28.8"></a><span id="l28.8"> </span>
<a href="#l28.9"></a><span id="l28.9">     if (success &amp;&amp; this._request.status &gt;= 200 &amp;&amp;</span>
<a href="#l28.10"></a><span id="l28.10">         this._request.status &lt; 300) { // HTTP level success</span>
<a href="#l28.11"></a><span id="l28.11">       try {</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-</span>
<a href="#l28.13"></a><span id="l28.13">         // response</span>
<a href="#l28.14"></a><span id="l28.14">         var mimetype = this._request.getResponseHeader(&quot;Content-Type&quot;);</span>
<a href="#l28.15"></a><span id="l28.15">         if (!mimetype)</span>
<a href="#l28.16"></a><span id="l28.16">           mimetype = &quot;&quot;;</span>
<a href="#l28.17"></a><span id="l28.17">         mimetype = mimetype.split(&quot;;&quot;)[0];</span>
<a href="#l28.18"></a><span id="l28.18">         if (mimetype == &quot;text/xml&quot; ||</span>
<a href="#l28.19"></a><span id="l28.19">             mimetype == &quot;application/xml&quot; ||</span>
<a href="#l28.20"></a><span id="l28.20">             mimetype == &quot;text/rdf&quot;) {</span>
<a href="#l28.21"></a><span id="l28.21" class="difflineat">@@ -220,17 +219,16 @@ FetchHTTP.prototype = {</span>
<a href="#l28.22"></a><span id="l28.22">                    mimetype == &quot;application/json&quot;) {</span>
<a href="#l28.23"></a><span id="l28.23">           // JSON</span>
<a href="#l28.24"></a><span id="l28.24">           this.result = JSON.parse(this._request.responseText);</span>
<a href="#l28.25"></a><span id="l28.25">         } else {</span>
<a href="#l28.26"></a><span id="l28.26">           // Plaintext (fallback)</span>
<a href="#l28.27"></a><span id="l28.27">           // ddump(&quot;mimetype: &quot; + mimetype + &quot; only supported as text&quot;);</span>
<a href="#l28.28"></a><span id="l28.28">           this.result = this._request.responseText;</span>
<a href="#l28.29"></a><span id="l28.29">         }</span>
<a href="#l28.30"></a><span id="l28.30" class="difflineminus">-</span>
<a href="#l28.31"></a><span id="l28.31">       } catch (e) {</span>
<a href="#l28.32"></a><span id="l28.32">         success = false;</span>
<a href="#l28.33"></a><span id="l28.33">         errorStr = getStringBundle(</span>
<a href="#l28.34"></a><span id="l28.34">                    &quot;chrome://messenger/locale/accountCreationUtil.properties&quot;)</span>
<a href="#l28.35"></a><span id="l28.35">                    .GetStringFromName(&quot;bad_response_content.error&quot;);</span>
<a href="#l28.36"></a><span id="l28.36">         errorCode = -4;</span>
<a href="#l28.37"></a><span id="l28.37">       }</span>
<a href="#l28.38"></a><span id="l28.38">     } else if (this._args.username &amp;&amp;</span>
<a href="#l28.39"></a><span id="l28.39" class="difflineat">@@ -278,17 +276,16 @@ FetchHTTP.prototype = {</span>
<a href="#l28.40"></a><span id="l28.40"> </span>
<a href="#l28.41"></a><span id="l28.41">     if (this._finishedCallback) {</span>
<a href="#l28.42"></a><span id="l28.42">       try {</span>
<a href="#l28.43"></a><span id="l28.43">         this._finishedCallback(this);</span>
<a href="#l28.44"></a><span id="l28.44">       } catch (e) {</span>
<a href="#l28.45"></a><span id="l28.45">         logException(e);</span>
<a href="#l28.46"></a><span id="l28.46">       }</span>
<a href="#l28.47"></a><span id="l28.47">     }</span>
<a href="#l28.48"></a><span id="l28.48" class="difflineminus">-</span>
<a href="#l28.49"></a><span id="l28.49">     } catch (e) {</span>
<a href="#l28.50"></a><span id="l28.50">       // error in our fetchhttp._response() code</span>
<a href="#l28.51"></a><span id="l28.51">       logException(e);</span>
<a href="#l28.52"></a><span id="l28.52">       this._error(e);</span>
<a href="#l28.53"></a><span id="l28.53">     }</span>
<a href="#l28.54"></a><span id="l28.54">   },</span>
<a href="#l28.55"></a><span id="l28.55">   _error(e) {</span>
<a href="#l28.56"></a><span id="l28.56">     try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mail/components/accountcreation/content/guessConfig.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mail/components/accountcreation/content/guessConfig.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -145,17 +145,16 @@ function guessConfig(domain, progressCal</span>
<a href="#l29.4"></a><span id="l29.4">     if (incomingDone &amp;&amp; outgoingDone) {</span>
<a href="#l29.5"></a><span id="l29.5">       try {</span>
<a href="#l29.6"></a><span id="l29.6">         successCallback(resultConfig);</span>
<a href="#l29.7"></a><span id="l29.7">       } catch (e) {</span>
<a href="#l29.8"></a><span id="l29.8">         try {</span>
<a href="#l29.9"></a><span id="l29.9">           errorCallback(e);</span>
<a href="#l29.10"></a><span id="l29.10">         } catch (e) { errorInCallback(e); }</span>
<a href="#l29.11"></a><span id="l29.11">       }</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-</span>
<a href="#l29.13"></a><span id="l29.13">     }</span>
<a href="#l29.14"></a><span id="l29.14">   };</span>
<a href="#l29.15"></a><span id="l29.15"> </span>
<a href="#l29.16"></a><span id="l29.16">   var logger = Log4Moz.getConfiguredLogger(&quot;mail.setup&quot;);</span>
<a href="#l29.17"></a><span id="l29.17">   var HostTryToAccountServer = function(thisTry, server) {</span>
<a href="#l29.18"></a><span id="l29.18">     server.type = protocolToString(thisTry.protocol);</span>
<a href="#l29.19"></a><span id="l29.19">     server.hostname = thisTry.hostname;</span>
<a href="#l29.20"></a><span id="l29.20">     server.port = thisTry.port;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mail/components/accountcreation/content/verifyConfig.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mail/components/accountcreation/content/verifyConfig.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -260,17 +260,16 @@ urlListener.prototype = {</span>
<a href="#l30.4"></a><span id="l30.4"> </span>
<a href="#l30.5"></a><span id="l30.5">     // Tried all variations we can. Give up.</span>
<a href="#l30.6"></a><span id="l30.6">     this._log.info(&quot;Giving up.&quot;);</span>
<a href="#l30.7"></a><span id="l30.7">     this._cleanup();</span>
<a href="#l30.8"></a><span id="l30.8">     let errorMsg = getStringBundle(</span>
<a href="#l30.9"></a><span id="l30.9">         &quot;chrome://messenger/locale/accountCreationModel.properties&quot;)</span>
<a href="#l30.10"></a><span id="l30.10">         .GetStringFromName(&quot;cannot_login.error&quot;);</span>
<a href="#l30.11"></a><span id="l30.11">     this.mErrorCallback(new Exception(errorMsg));</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-</span>
<a href="#l30.13"></a><span id="l30.13">   },</span>
<a href="#l30.14"></a><span id="l30.14"> </span>
<a href="#l30.15"></a><span id="l30.15">   _cleanup() {</span>
<a href="#l30.16"></a><span id="l30.16">     try {</span>
<a href="#l30.17"></a><span id="l30.17">       // Avoid pref pollution, clear out server prefs.</span>
<a href="#l30.18"></a><span id="l30.18">       if (this.mServer) {</span>
<a href="#l30.19"></a><span id="l30.19">         MailServices.accounts.removeIncomingServer(this.mServer, true);</span>
<a href="#l30.20"></a><span id="l30.20">         this.mServer = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mail/components/activity/content/activity.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mail/components/activity/content/activity.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -182,17 +182,16 @@ var activityObject = {</span>
<a href="#l31.4"></a><span id="l31.4">         let activity = activities[iActivity];</span>
<a href="#l31.5"></a><span id="l31.5">         this.addActivityBinding(activity.id, activity);</span>
<a href="#l31.6"></a><span id="l31.6">       }</span>
<a href="#l31.7"></a><span id="l31.7"> </span>
<a href="#l31.8"></a><span id="l31.8">       // start listening changes in the activity manager's</span>
<a href="#l31.9"></a><span id="l31.9">       // internal list</span>
<a href="#l31.10"></a><span id="l31.10">       this._activityMgrListener = new this.ActivityMgrListener();</span>
<a href="#l31.11"></a><span id="l31.11">       activityManager.addListener(this._activityMgrListener);</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-</span>
<a href="#l31.13"></a><span id="l31.13">     } catch (e) {</span>
<a href="#l31.14"></a><span id="l31.14">       this._activityLogger.error(&quot;Exception: &quot; + e);</span>
<a href="#l31.15"></a><span id="l31.15">     }</span>
<a href="#l31.16"></a><span id="l31.16">   },</span>
<a href="#l31.17"></a><span id="l31.17"> </span>
<a href="#l31.18"></a><span id="l31.18">   rebuild() {</span>
<a href="#l31.19"></a><span id="l31.19">     let activities = activityManager.getActivities({});</span>
<a href="#l31.20"></a><span id="l31.20">     for (let activity of activities)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mail/components/activity/modules/sendLater.jsm</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mail/components/activity/modules/sendLater.jsm</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -98,17 +98,16 @@ var sendLaterModule = {</span>
<a href="#l32.4"></a><span id="l32.4">       aActivity.groupingStyle = Ci.nsIActivity.GROUPING_STYLE_BYCONTEXT;</span>
<a href="#l32.5"></a><span id="l32.5">       aActivity.contextType = this._identity.key;</span>
<a href="#l32.6"></a><span id="l32.6">       aActivity.contextObj = this._identity;</span>
<a href="#l32.7"></a><span id="l32.7">       let contextDisplayText = this._identity.identityName;</span>
<a href="#l32.8"></a><span id="l32.8">       if (!contextDisplayText)</span>
<a href="#l32.9"></a><span id="l32.9">         contextDisplayText = this._identity.email;</span>
<a href="#l32.10"></a><span id="l32.10"> </span>
<a href="#l32.11"></a><span id="l32.11">       aActivity.contextDisplayText = contextDisplayText;</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-</span>
<a href="#l32.13"></a><span id="l32.13">     } else {</span>
<a href="#l32.14"></a><span id="l32.14">       aActivity.groupingStyle = Ci.nsIActivity.GROUPING_STYLE_STANDALONE;</span>
<a href="#l32.15"></a><span id="l32.15">     }</span>
<a href="#l32.16"></a><span id="l32.16">   },</span>
<a href="#l32.17"></a><span id="l32.17"> </span>
<a href="#l32.18"></a><span id="l32.18">   // Replaces the process with an event that reflects a completed process.</span>
<a href="#l32.19"></a><span id="l32.19">   _replaceProcessWithEvent(aProcess) {</span>
<a href="#l32.20"></a><span id="l32.20">     this.activityMgr.removeActivity(aProcess.id);</span>
<a href="#l32.21"></a><span id="l32.21" class="difflineat">@@ -137,22 +136,20 @@ var sendLaterModule = {</span>
<a href="#l32.22"></a><span id="l32.22">     this._applyIdentityGrouping(warning);</span>
<a href="#l32.23"></a><span id="l32.23"> </span>
<a href="#l32.24"></a><span id="l32.24">     this.activityMgr.addActivity(warning);</span>
<a href="#l32.25"></a><span id="l32.25">   },</span>
<a href="#l32.26"></a><span id="l32.26"> </span>
<a href="#l32.27"></a><span id="l32.27">   onStartSending(aTotalMessageCount) {</span>
<a href="#l32.28"></a><span id="l32.28">     if (!aTotalMessageCount) {</span>
<a href="#l32.29"></a><span id="l32.29">       this.log.error(&quot;onStartSending called with zero messages\n&quot;);</span>
<a href="#l32.30"></a><span id="l32.30" class="difflineminus">-</span>
<a href="#l32.31"></a><span id="l32.31">     }</span>
<a href="#l32.32"></a><span id="l32.32">   },</span>
<a href="#l32.33"></a><span id="l32.33"> </span>
<a href="#l32.34"></a><span id="l32.34">   onMessageStartSending(aCurrentMessage, aTotalMessageCount, aMessageHeader, aIdentity) {</span>
<a href="#l32.35"></a><span id="l32.35" class="difflineminus">-</span>
<a href="#l32.36"></a><span id="l32.36">     // We want to use the identity and subject later, so store them for now.</span>
<a href="#l32.37"></a><span id="l32.37">     this._identity = aIdentity;</span>
<a href="#l32.38"></a><span id="l32.38">     if (aMessageHeader)</span>
<a href="#l32.39"></a><span id="l32.39">       this._subject = aMessageHeader.mime2DecodedSubject;</span>
<a href="#l32.40"></a><span id="l32.40"> </span>
<a href="#l32.41"></a><span id="l32.41">     // Create the process to display the send activity.</span>
<a href="#l32.42"></a><span id="l32.42">     let process = this._newProcess(&quot;sendingMessage&quot;, true);</span>
<a href="#l32.43"></a><span id="l32.43">     this._sendProcess = process;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mail/components/addrbook/content/abCard.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCard.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -1260,17 +1260,16 @@ var filePhotoHandler = {</span>
<a href="#l33.4"></a><span id="l33.4"> </span>
<a href="#l33.5"></a><span id="l33.5">     let cbSuccess = function(newPhotoName) {</span>
<a href="#l33.6"></a><span id="l33.6">       gPhotoDownloadUI.onSuccess();</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8">       newPhotoAdded(newPhotoName, aCard);</span>
<a href="#l33.9"></a><span id="l33.9">       aDocument.getElementById(&quot;PhotoFile&quot;).setAttribute(&quot;PhotoURI&quot;, photoURI);</span>
<a href="#l33.10"></a><span id="l33.10"> </span>
<a href="#l33.11"></a><span id="l33.11">       filePhotoHandler.onShow(aCard, aDocument, &quot;photo&quot;);</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-</span>
<a href="#l33.13"></a><span id="l33.13">     };</span>
<a href="#l33.14"></a><span id="l33.14"> </span>
<a href="#l33.15"></a><span id="l33.15">     gImageDownloader.savePhoto(photoURI, cbSuccess,</span>
<a href="#l33.16"></a><span id="l33.16">                                gPhotoDownloadUI.onError,</span>
<a href="#l33.17"></a><span id="l33.17">                                gPhotoDownloadUI.onProgress);</span>
<a href="#l33.18"></a><span id="l33.18">     return true;</span>
<a href="#l33.19"></a><span id="l33.19">   },</span>
<a href="#l33.20"></a><span id="l33.20"> </span>
<a href="#l33.21"></a><span id="l33.21" class="difflineat">@@ -1330,17 +1329,16 @@ var webPhotoHandler = {</span>
<a href="#l33.22"></a><span id="l33.22">     gPhotoDownloadUI.onStart();</span>
<a href="#l33.23"></a><span id="l33.23"> </span>
<a href="#l33.24"></a><span id="l33.24">     let cbSuccess = function(newPhotoName) {</span>
<a href="#l33.25"></a><span id="l33.25">       gPhotoDownloadUI.onSuccess();</span>
<a href="#l33.26"></a><span id="l33.26"> </span>
<a href="#l33.27"></a><span id="l33.27">       newPhotoAdded(newPhotoName, aCard);</span>
<a href="#l33.28"></a><span id="l33.28"> </span>
<a href="#l33.29"></a><span id="l33.29">       webPhotoHandler.onShow(aCard, aDocument, &quot;photo&quot;);</span>
<a href="#l33.30"></a><span id="l33.30" class="difflineminus">-</span>
<a href="#l33.31"></a><span id="l33.31">     };</span>
<a href="#l33.32"></a><span id="l33.32"> </span>
<a href="#l33.33"></a><span id="l33.33">     gImageDownloader.savePhoto(photoURI, cbSuccess,</span>
<a href="#l33.34"></a><span id="l33.34">                                gPhotoDownloadUI.onError,</span>
<a href="#l33.35"></a><span id="l33.35">                                gPhotoDownloadUI.onProgress);</span>
<a href="#l33.36"></a><span id="l33.36">     return true;</span>
<a href="#l33.37"></a><span id="l33.37">   },</span>
<a href="#l33.38"></a><span id="l33.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mail/components/addrbook/content/abCommon.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mail/components/addrbook/content/abCommon.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -607,17 +607,16 @@ function selectStartupViewDirectory() {</span>
<a href="#l34.4"></a><span id="l34.4"> function DirPaneClick(event) {</span>
<a href="#l34.5"></a><span id="l34.5">   // we only care about left button events</span>
<a href="#l34.6"></a><span id="l34.6">   if (event.button != 0)</span>
<a href="#l34.7"></a><span id="l34.7">     return;</span>
<a href="#l34.8"></a><span id="l34.8"> </span>
<a href="#l34.9"></a><span id="l34.9">   // if the user clicks on the header / trecol, do nothing</span>
<a href="#l34.10"></a><span id="l34.10">   if (event.originalTarget.localName == &quot;treecol&quot;) {</span>
<a href="#l34.11"></a><span id="l34.11">     event.stopPropagation();</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-</span>
<a href="#l34.13"></a><span id="l34.13">   }</span>
<a href="#l34.14"></a><span id="l34.14"> }</span>
<a href="#l34.15"></a><span id="l34.15"> </span>
<a href="#l34.16"></a><span id="l34.16"> function DirPaneDoubleClick(event) {</span>
<a href="#l34.17"></a><span id="l34.17">   // We only care about left button events.</span>
<a href="#l34.18"></a><span id="l34.18">   if (event.button != 0)</span>
<a href="#l34.19"></a><span id="l34.19">     return;</span>
<a href="#l34.20"></a><span id="l34.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mail/components/addrbook/content/abContactsPanel.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mail/components/addrbook/content/abContactsPanel.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -76,17 +76,16 @@ function contactsListOnClick(aEvent) {</span>
<a href="#l35.4"></a><span id="l35.4">       // Any click on results tree whitespace.</span>
<a href="#l35.5"></a><span id="l35.5">       if ((aEvent.detail == 1 &amp;&amp; aEvent.button == 0) || aEvent.button == 2) {</span>
<a href="#l35.6"></a><span id="l35.6">         // Single left click or any right click on results tree blank space:</span>
<a href="#l35.7"></a><span id="l35.7">         // Clear selection. This also triggers on the first click of any</span>
<a href="#l35.8"></a><span id="l35.8">         // double-click, but that's ok. MAC OS X doesn't return event.detail==1</span>
<a href="#l35.9"></a><span id="l35.9">         // for single right click, so we also let this trigger for the second</span>
<a href="#l35.10"></a><span id="l35.10">         // click of right double-click.</span>
<a href="#l35.11"></a><span id="l35.11">         gAbView.selection.clearSelection();</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-</span>
<a href="#l35.13"></a><span id="l35.13">       }</span>
<a href="#l35.14"></a><span id="l35.14">     } else if (aEvent.button == 0 &amp;&amp; aEvent.detail == 2) {</span>
<a href="#l35.15"></a><span id="l35.15">       // Any click on results tree rows.</span>
<a href="#l35.16"></a><span id="l35.16">       // Double-click on a row: Go ahead and add the entry.</span>
<a href="#l35.17"></a><span id="l35.17">       addSelectedAddresses(&quot;addr_to&quot;);</span>
<a href="#l35.18"></a><span id="l35.18">     }</span>
<a href="#l35.19"></a><span id="l35.19">   }</span>
<a href="#l35.20"></a><span id="l35.20"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mail/components/addrbook/content/addressbook.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mail/components/addrbook/content/addressbook.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -257,17 +257,16 @@ function GetCurrentPrefs() {</span>
<a href="#l36.4"></a><span id="l36.4">   // initialize phonetic</span>
<a href="#l36.5"></a><span id="l36.5">   var showPhoneticFields =</span>
<a href="#l36.6"></a><span id="l36.6">     Services.prefs.getComplexValue(&quot;mail.addr_book.show_phonetic_fields&quot;,</span>
<a href="#l36.7"></a><span id="l36.7">       Ci.nsIPrefLocalizedString).data;</span>
<a href="#l36.8"></a><span id="l36.8">   // show phonetic fields if indicated by the pref</span>
<a href="#l36.9"></a><span id="l36.9">   if (showPhoneticFields == &quot;true&quot;)</span>
<a href="#l36.10"></a><span id="l36.10">     document.getElementById(&quot;cmd_SortBy_PhoneticName&quot;)</span>
<a href="#l36.11"></a><span id="l36.11">             .setAttribute(&quot;hidden&quot;, &quot;false&quot;);</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-</span>
<a href="#l36.13"></a><span id="l36.13"> }</span>
<a href="#l36.14"></a><span id="l36.14"> </span>
<a href="#l36.15"></a><span id="l36.15"> function SetNameColumn(cmd) {</span>
<a href="#l36.16"></a><span id="l36.16">   var prefValue;</span>
<a href="#l36.17"></a><span id="l36.17"> </span>
<a href="#l36.18"></a><span id="l36.18">   switch (cmd) {</span>
<a href="#l36.19"></a><span id="l36.19">     case &quot;firstLastCmd&quot;:</span>
<a href="#l36.20"></a><span id="l36.20">       prefValue = kFirstNameFirst;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mail/components/appIdleManager.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mail/components/appIdleManager.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -21,17 +21,16 @@ var appIdleManager = {</span>
<a href="#l37.4"></a><span id="l37.4">   get _timer() {</span>
<a href="#l37.5"></a><span id="l37.5">     delete this._timer;</span>
<a href="#l37.6"></a><span id="l37.6">     return this._timer = Cc[&quot;@mozilla.org/timer;1&quot;].createInstance(Ci.nsITimer);</span>
<a href="#l37.7"></a><span id="l37.7">   },</span>
<a href="#l37.8"></a><span id="l37.8"> </span>
<a href="#l37.9"></a><span id="l37.9">   _timerCallback() {</span>
<a href="#l37.10"></a><span id="l37.10">     appIdleManager._appIdle = true;</span>
<a href="#l37.11"></a><span id="l37.11">     Services.obs.notifyObservers(null, &quot;mail:appIdle&quot;, &quot;idle&quot;);</span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-</span>
<a href="#l37.13"></a><span id="l37.13">   },</span>
<a href="#l37.14"></a><span id="l37.14"> </span>
<a href="#l37.15"></a><span id="l37.15">   onBlur() {</span>
<a href="#l37.16"></a><span id="l37.16">     appIdleManager._timer.initWithCallback(appIdleManager._timerCallback,</span>
<a href="#l37.17"></a><span id="l37.17">                                  appIdleManager._timerInterval,</span>
<a href="#l37.18"></a><span id="l37.18">                                  Ci.nsITimer.TYPE_ONE_SHOT);</span>
<a href="#l37.19"></a><span id="l37.19">    },</span>
<a href="#l37.20"></a><span id="l37.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mail/components/cloudfile/cloudFileAccounts.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mail/components/cloudfile/cloudFileAccounts.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -53,17 +53,16 @@ var cloudFileAccounts = new class extend</span>
<a href="#l38.4"></a><span id="l38.4">     }</span>
<a href="#l38.5"></a><span id="l38.5">     return provider;</span>
<a href="#l38.6"></a><span id="l38.6">   }</span>
<a href="#l38.7"></a><span id="l38.7"> </span>
<a href="#l38.8"></a><span id="l38.8">   _createUniqueAccountKey() {</span>
<a href="#l38.9"></a><span id="l38.9">     // Pick a unique account key (TODO: this is a dumb way to do it, probably)</span>
<a href="#l38.10"></a><span id="l38.10">     let existingKeys = this._accountKeys;</span>
<a href="#l38.11"></a><span id="l38.11">     for (let n = 1; ; n++) {</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-</span>
<a href="#l38.13"></a><span id="l38.13">       if (!existingKeys.includes(&quot;account&quot; + n))</span>
<a href="#l38.14"></a><span id="l38.14">         return &quot;account&quot; + n;</span>
<a href="#l38.15"></a><span id="l38.15">     }</span>
<a href="#l38.16"></a><span id="l38.16">   }</span>
<a href="#l38.17"></a><span id="l38.17"> </span>
<a href="#l38.18"></a><span id="l38.18">   /**</span>
<a href="#l38.19"></a><span id="l38.19">    * Ensure that we have the account key for an account. If we already have the</span>
<a href="#l38.20"></a><span id="l38.20">    * key, just return it. If we have the nsIMsgCloudFileProvider, get the key</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -328,17 +328,16 @@ var stateListener = {</span>
<a href="#l39.4"></a><span id="l39.4">   NotifyComposeFieldsReady() {</span>
<a href="#l39.5"></a><span id="l39.5">     ComposeFieldsReady();</span>
<a href="#l39.6"></a><span id="l39.6">     updateSendCommands(true);</span>
<a href="#l39.7"></a><span id="l39.7">   },</span>
<a href="#l39.8"></a><span id="l39.8"> </span>
<a href="#l39.9"></a><span id="l39.9">   NotifyComposeBodyReady() {</span>
<a href="#l39.10"></a><span id="l39.10">     // Look all the possible compose types (nsIMsgComposeParams.idl):</span>
<a href="#l39.11"></a><span id="l39.11">     switch (gComposeType) {</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-</span>
<a href="#l39.13"></a><span id="l39.13">     case Ci.nsIMsgCompType.MailToUrl:</span>
<a href="#l39.14"></a><span id="l39.14">       gBodyFromArgs = true;</span>
<a href="#l39.15"></a><span id="l39.15">     case Ci.nsIMsgCompType.New:</span>
<a href="#l39.16"></a><span id="l39.16">     case Ci.nsIMsgCompType.NewsPost:</span>
<a href="#l39.17"></a><span id="l39.17">     case Ci.nsIMsgCompType.ForwardAsAttachment:</span>
<a href="#l39.18"></a><span id="l39.18">       this.NotifyComposeBodyReadyNew();</span>
<a href="#l39.19"></a><span id="l39.19">       break;</span>
<a href="#l39.20"></a><span id="l39.20"> </span>
<a href="#l39.21"></a><span id="l39.21" class="difflineat">@@ -1915,17 +1914,16 @@ function MessageComposeOfflineStateChang</span>
<a href="#l39.22"></a><span id="l39.22">         sendNowMenuItem.setAttribute(&quot;key&quot;, gSavedSendNowKey);</span>
<a href="#l39.23"></a><span id="l39.23">       }</span>
<a href="#l39.24"></a><span id="l39.24">     }</span>
<a href="#l39.25"></a><span id="l39.25">   } catch (e) {}</span>
<a href="#l39.26"></a><span id="l39.26"> }</span>
<a href="#l39.27"></a><span id="l39.27"> </span>
<a href="#l39.28"></a><span id="l39.28"> function DoCommandClose() {</span>
<a href="#l39.29"></a><span id="l39.29">   if (ComposeCanClose()) {</span>
<a href="#l39.30"></a><span id="l39.30" class="difflineminus">-</span>
<a href="#l39.31"></a><span id="l39.31">     // Notify the SendListener that Send has been aborted and Stopped</span>
<a href="#l39.32"></a><span id="l39.32">     if (gMsgCompose)</span>
<a href="#l39.33"></a><span id="l39.33">       gMsgCompose.onSendNotPerformed(null, Cr.NS_ERROR_ABORT);</span>
<a href="#l39.34"></a><span id="l39.34"> </span>
<a href="#l39.35"></a><span id="l39.35">     // This destroys the window for us.</span>
<a href="#l39.36"></a><span id="l39.36">     MsgComposeCloseWindow();</span>
<a href="#l39.37"></a><span id="l39.37">   }</span>
<a href="#l39.38"></a><span id="l39.38"> </span>
<a href="#l39.39"></a><span id="l39.39" class="difflineat">@@ -2684,17 +2682,16 @@ function ComposeStartup(aParams) {</span>
<a href="#l39.40"></a><span id="l39.40">               read = cstream.readString(0xffffffff, str);</span>
<a href="#l39.41"></a><span id="l39.41">               data += str.value;</span>
<a href="#l39.42"></a><span id="l39.42">             } while (read != 0);</span>
<a href="#l39.43"></a><span id="l39.43">           } catch (e) {</span>
<a href="#l39.44"></a><span id="l39.44">             let title = getComposeBundle().getString(&quot;errorFileMessageTitle&quot;);</span>
<a href="#l39.45"></a><span id="l39.45">             let msg = getComposeBundle().getFormattedString(&quot;errorLoadFileMessageMessage&quot;,</span>
<a href="#l39.46"></a><span id="l39.46">                                                             [args.message]);</span>
<a href="#l39.47"></a><span id="l39.47">             Services.prompt.alert(null, title, msg);</span>
<a href="#l39.48"></a><span id="l39.48" class="difflineminus">-</span>
<a href="#l39.49"></a><span id="l39.49">           } finally {</span>
<a href="#l39.50"></a><span id="l39.50">             if (cstream)</span>
<a href="#l39.51"></a><span id="l39.51">               cstream.close();</span>
<a href="#l39.52"></a><span id="l39.52">             if (fstream)</span>
<a href="#l39.53"></a><span id="l39.53">               fstream.close();</span>
<a href="#l39.54"></a><span id="l39.54">           }</span>
<a href="#l39.55"></a><span id="l39.55"> </span>
<a href="#l39.56"></a><span id="l39.56">           if (data) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mail/components/compose/content/addressingWidgetOverlay.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mail/components/compose/content/addressingWidgetOverlay.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -599,17 +599,16 @@ function awAppendNewRow(setFocus) {</span>
<a href="#l40.4"></a><span id="l40.4"> </span>
<a href="#l40.5"></a><span id="l40.5"> /**</span>
<a href="#l40.6"></a><span id="l40.6">  * Returns the recipient type popup for a row.</span>
<a href="#l40.7"></a><span id="l40.7">  *</span>
<a href="#l40.8"></a><span id="l40.8">  * @param row  Index of the recipient row to return. Starts at 1.</span>
<a href="#l40.9"></a><span id="l40.9">  * @return     This returns the menulist (not its child menupopup), despite the function name.</span>
<a href="#l40.10"></a><span id="l40.10">  */</span>
<a href="#l40.11"></a><span id="l40.11"> function awGetPopupElement(row) {</span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-</span>
<a href="#l40.13"></a><span id="l40.13">     return document.getElementById(&quot;addressCol1#&quot; + row);</span>
<a href="#l40.14"></a><span id="l40.14"> }</span>
<a href="#l40.15"></a><span id="l40.15"> </span>
<a href="#l40.16"></a><span id="l40.16"> /**</span>
<a href="#l40.17"></a><span id="l40.17">  * Returns the recipient inputbox for a row.</span>
<a href="#l40.18"></a><span id="l40.18">  *</span>
<a href="#l40.19"></a><span id="l40.19">  * @param row  Index of the recipient row to return. Starts at 1.</span>
<a href="#l40.20"></a><span id="l40.20">  * @return     This returns the textbox element.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/mail/components/compose/content/bigFileObserver.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/mail/components/compose/content/bigFileObserver.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -277,17 +277,16 @@ var gBigFileObserver = {</span>
<a href="#l41.4"></a><span id="l41.4">     let notification = nb.getNotificationWithValue(kPrivacyNotificationValue);</span>
<a href="#l41.5"></a><span id="l41.5"> </span>
<a href="#l41.6"></a><span id="l41.6">     if (notification)</span>
<a href="#l41.7"></a><span id="l41.7">       return;</span>
<a href="#l41.8"></a><span id="l41.8"> </span>
<a href="#l41.9"></a><span id="l41.9">     let message = this.formatString(&quot;cloudFilePrivacyNotification&quot;);</span>
<a href="#l41.10"></a><span id="l41.10">     nb.appendNotification(message, kPrivacyNotificationValue, &quot;null&quot;,</span>
<a href="#l41.11"></a><span id="l41.11">                           nb.PRIORITY_WARNING_MEDIUM, null);</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-</span>
<a href="#l41.13"></a><span id="l41.13">   },</span>
<a href="#l41.14"></a><span id="l41.14"> </span>
<a href="#l41.15"></a><span id="l41.15">   _anyUploadsInProgress() {</span>
<a href="#l41.16"></a><span id="l41.16">     let bucket = document.getElementById(&quot;attachmentBucket&quot;);</span>
<a href="#l41.17"></a><span id="l41.17">     for (let i = 0, rowCount = bucket.getRowCount(); i &lt; rowCount; ++i) {</span>
<a href="#l41.18"></a><span id="l41.18">       let item = bucket.getItemAtIndex(i);</span>
<a href="#l41.19"></a><span id="l41.19">       if (item &amp;&amp; item.uploading)</span>
<a href="#l41.20"></a><span id="l41.20">         return true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mail/components/compose/content/cloudAttachmentLinkManager.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mail/components/compose/content/cloudAttachmentLinkManager.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -453,17 +453,16 @@ var gCloudAttachmentLinkManager = {</span>
<a href="#l42.4"></a><span id="l42.4">    * sending some BigFiles, we don't run into ID conflicts.</span>
<a href="#l42.5"></a><span id="l42.5">    */</span>
<a href="#l42.6"></a><span id="l42.6">   send(aEvent) {</span>
<a href="#l42.7"></a><span id="l42.7">     let msgType = parseInt(aEvent.target.getAttribute(&quot;msgtype&quot;));</span>
<a href="#l42.8"></a><span id="l42.8"> </span>
<a href="#l42.9"></a><span id="l42.9">     if (msgType == Ci.nsIMsgCompDeliverMode.Now ||</span>
<a href="#l42.10"></a><span id="l42.10">         msgType == Ci.nsIMsgCompDeliverMode.Later ||</span>
<a href="#l42.11"></a><span id="l42.11">         msgType == Ci.nsIMsgCompDeliverMode.Background) {</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-</span>
<a href="#l42.13"></a><span id="l42.13">       const kIDs = [&quot;cloudAttachmentList&quot;, &quot;cloudAttachmentListRoot&quot;,</span>
<a href="#l42.14"></a><span id="l42.14">                     &quot;cloudAttachmentListHeader&quot;];</span>
<a href="#l42.15"></a><span id="l42.15">       let mailDoc = document.getElementById(&quot;content-frame&quot;).contentDocument;</span>
<a href="#l42.16"></a><span id="l42.16"> </span>
<a href="#l42.17"></a><span id="l42.17">       for (let id of kIDs) {</span>
<a href="#l42.18"></a><span id="l42.18">         let element = mailDoc.getElementById(id);</span>
<a href="#l42.19"></a><span id="l42.19">         if (element)</span>
<a href="#l42.20"></a><span id="l42.20">           element.removeAttribute(&quot;id&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mail/components/im/content/imContextMenu.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mail/components/im/content/imContextMenu.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -96,17 +96,16 @@ imContextMenu.prototype = {</span>
<a href="#l43.4"></a><span id="l43.4">       menuitem.setAttribute(&quot;oncommand&quot;, &quot;this.action.run();&quot;);</span>
<a href="#l43.5"></a><span id="l43.5">       menuitem.action = action;</span>
<a href="#l43.6"></a><span id="l43.6">       sep.parentNode.appendChild(menuitem);</span>
<a href="#l43.7"></a><span id="l43.7">     }</span>
<a href="#l43.8"></a><span id="l43.8">   },</span>
<a href="#l43.9"></a><span id="l43.9"> </span>
<a href="#l43.10"></a><span id="l43.10">   // Set various context menu attributes based on the state of the world.</span>
<a href="#l43.11"></a><span id="l43.11">   setTarget(aNode) {</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-</span>
<a href="#l43.13"></a><span id="l43.13">     // Initialize contextual info.</span>
<a href="#l43.14"></a><span id="l43.14">     this.onLink            = false;</span>
<a href="#l43.15"></a><span id="l43.15">     this.linkURL           = &quot;&quot;;</span>
<a href="#l43.16"></a><span id="l43.16">     this.linkURI           = null;</span>
<a href="#l43.17"></a><span id="l43.17">     this.linkProtocol      = &quot;&quot;;</span>
<a href="#l43.18"></a><span id="l43.18"> </span>
<a href="#l43.19"></a><span id="l43.19">     // Remember the node that was clicked.</span>
<a href="#l43.20"></a><span id="l43.20">     this.target = aNode;</span>
<a href="#l43.21"></a><span id="l43.21" class="difflineat">@@ -118,17 +117,16 @@ imContextMenu.prototype = {</span>
<a href="#l43.22"></a><span id="l43.22">     while (elem) {</span>
<a href="#l43.23"></a><span id="l43.23">       if (elem.nodeType == Node.ELEMENT_NODE) {</span>
<a href="#l43.24"></a><span id="l43.24">         // Link?</span>
<a href="#l43.25"></a><span id="l43.25">         if (!this.onLink &amp;&amp;</span>
<a href="#l43.26"></a><span id="l43.26">              ((elem instanceof HTMLAnchorElement &amp;&amp; elem.href) ||</span>
<a href="#l43.27"></a><span id="l43.27">               (elem instanceof HTMLAreaElement &amp;&amp; elem.href) ||</span>
<a href="#l43.28"></a><span id="l43.28">               elem instanceof HTMLLinkElement ||</span>
<a href="#l43.29"></a><span id="l43.29">               elem.getAttributeNS(&quot;http://www.w3.org/1999/xlink&quot;, &quot;type&quot;) == &quot;simple&quot;)) {</span>
<a href="#l43.30"></a><span id="l43.30" class="difflineminus">-</span>
<a href="#l43.31"></a><span id="l43.31">           // Target is a link or a descendant of a link.</span>
<a href="#l43.32"></a><span id="l43.32">           this.onLink = true;</span>
<a href="#l43.33"></a><span id="l43.33"> </span>
<a href="#l43.34"></a><span id="l43.34">           // xxxmpc: this is kind of a hack to work around a Gecko bug (see bug 266932)</span>
<a href="#l43.35"></a><span id="l43.35">           // we're going to walk up the DOM looking for a parent link node,</span>
<a href="#l43.36"></a><span id="l43.36">           // this shouldn't be necessary, but we're matching the existing behaviour for left click</span>
<a href="#l43.37"></a><span id="l43.37">           var realLink = elem;</span>
<a href="#l43.38"></a><span id="l43.38">           var parent = elem;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mail/components/im/modules/search_im.jsm</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mail/components/im/modules/search_im.jsm</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -274,17 +274,16 @@ GlodaIMSearcher.prototype = {</span>
<a href="#l44.4"></a><span id="l44.4">         fulltextQueryString += term + &quot;*&quot;;</span>
<a href="#l44.5"></a><span id="l44.5">       else if (</span>
<a href="#l44.6"></a><span id="l44.6">           term.length == 2 &amp;&amp;</span>
<a href="#l44.7"></a><span id="l44.7">             term.charCodeAt(0) &gt;= 0x2000 &amp;&amp;</span>
<a href="#l44.8"></a><span id="l44.8">             term.charCodeAt(1) &gt;= 0x2000</span>
<a href="#l44.9"></a><span id="l44.9">           || term.length &gt;= 3</span>
<a href="#l44.10"></a><span id="l44.10">       )</span>
<a href="#l44.11"></a><span id="l44.11">         fulltextQueryString += '&quot;' + term + '&quot;';</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-</span>
<a href="#l44.13"></a><span id="l44.13">     }</span>
<a href="#l44.14"></a><span id="l44.14"> </span>
<a href="#l44.15"></a><span id="l44.15">     query.fulltextMatches(fulltextQueryString);</span>
<a href="#l44.16"></a><span id="l44.16">     query.limit(this.retrievalLimit);</span>
<a href="#l44.17"></a><span id="l44.17"> </span>
<a href="#l44.18"></a><span id="l44.18">     return query;</span>
<a href="#l44.19"></a><span id="l44.19">   },</span>
<a href="#l44.20"></a><span id="l44.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mail/components/newmailaccount/content/uriListener.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mail/components/newmailaccount/content/uriListener.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -129,17 +129,16 @@ TracingListener.prototype = {</span>
<a href="#l45.4"></a><span id="l45.4">   onStartRequest(/* nsIRequest */ aRequest,</span>
<a href="#l45.5"></a><span id="l45.5">                  /* nsISupports */ aContext) {</span>
<a href="#l45.6"></a><span id="l45.6">     this.oldListener.onStartRequest(aRequest, aContext);</span>
<a href="#l45.7"></a><span id="l45.7">   },</span>
<a href="#l45.8"></a><span id="l45.8"> </span>
<a href="#l45.9"></a><span id="l45.9">   onStopRequest(/* nsIRequest */ aRequest,</span>
<a href="#l45.10"></a><span id="l45.10">                 /* nsISupports */ aContext,</span>
<a href="#l45.11"></a><span id="l45.11">                 /* int */ aStatusCode) {</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-</span>
<a href="#l45.13"></a><span id="l45.13">     // Why don't people use JSMs? Sigh...</span>
<a href="#l45.14"></a><span id="l45.14">     let accountCreationFuncs = {};</span>
<a href="#l45.15"></a><span id="l45.15">     Services.scriptloader.loadSubScript(</span>
<a href="#l45.16"></a><span id="l45.16">       &quot;chrome://messenger/content/accountcreation/util.js&quot;,</span>
<a href="#l45.17"></a><span id="l45.17">       accountCreationFuncs);</span>
<a href="#l45.18"></a><span id="l45.18">     Services.scriptloader.loadSubScript(</span>
<a href="#l45.19"></a><span id="l45.19">       &quot;chrome://messenger/content/accountcreation/accountConfig.js&quot;,</span>
<a href="#l45.20"></a><span id="l45.20">       accountCreationFuncs);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/mail/components/nsMailDefaultHandler.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/mail/components/nsMailDefaultHandler.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -232,17 +232,16 @@ var nsMailDefaultHandler = {</span>
<a href="#l46.4"></a><span id="l46.4">       let instantApply = Services.prefs</span>
<a href="#l46.5"></a><span id="l46.5">                                  .getBoolPref(&quot;browser.preferences.instantApply&quot;);</span>
<a href="#l46.6"></a><span id="l46.6">       let features = &quot;chrome,titlebar,toolbar&quot; +</span>
<a href="#l46.7"></a><span id="l46.7">                      (instantApply ? &quot;,dialog=no&quot; : &quot;,modal&quot;);</span>
<a href="#l46.8"></a><span id="l46.8"> </span>
<a href="#l46.9"></a><span id="l46.9">       Services.ww.openWindow(null,</span>
<a href="#l46.10"></a><span id="l46.10">         &quot;chrome://messenger/content/preferences/preferences.xul&quot;,</span>
<a href="#l46.11"></a><span id="l46.11">         &quot;_blank&quot;, features, null);</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-</span>
<a href="#l46.13"></a><span id="l46.13">     }</span>
<a href="#l46.14"></a><span id="l46.14"> </span>
<a href="#l46.15"></a><span id="l46.15">     // The URI might be passed as the argument to the file parameter</span>
<a href="#l46.16"></a><span id="l46.16">     uri = cmdLine.handleFlagWithParam(&quot;file&quot;, false);</span>
<a href="#l46.17"></a><span id="l46.17"> </span>
<a href="#l46.18"></a><span id="l46.18">     var count = cmdLine.length;</span>
<a href="#l46.19"></a><span id="l46.19">     if (count) {</span>
<a href="#l46.20"></a><span id="l46.20">       var i = 0;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/mail/components/preferences/advanced.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/mail/components/preferences/advanced.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -186,17 +186,16 @@ var gAdvancedPane = {</span>
<a href="#l47.4"></a><span id="l47.4">         }</span>
<a href="#l47.5"></a><span id="l47.5">       }</span>
<a href="#l47.6"></a><span id="l47.6">       // Initialize Application section.</span>
<a href="#l47.7"></a><span id="l47.7"> </span>
<a href="#l47.8"></a><span id="l47.8">       // Listen for window unload so we can remove our preference observers.</span>
<a href="#l47.9"></a><span id="l47.9">       window.addEventListener(&quot;unload&quot;, this);</span>
<a href="#l47.10"></a><span id="l47.10"> </span>
<a href="#l47.11"></a><span id="l47.11">       Services.obs.addObserver(this, AUTO_UPDATE_CHANGED_TOPIC);</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-</span>
<a href="#l47.13"></a><span id="l47.13">     }</span>
<a href="#l47.14"></a><span id="l47.14"> </span>
<a href="#l47.15"></a><span id="l47.15">     this.mInitialized = true;</span>
<a href="#l47.16"></a><span id="l47.16">   },</span>
<a href="#l47.17"></a><span id="l47.17"> </span>
<a href="#l47.18"></a><span id="l47.18">   tabSelectionChanged() {</span>
<a href="#l47.19"></a><span id="l47.19">     if (this.mInitialized) {</span>
<a href="#l47.20"></a><span id="l47.20">       document.getElementById(&quot;mail.preferences.advanced.selectedTabIndex&quot;)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/mail/components/preferences/permissions.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/mail/components/preferences/permissions.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -160,17 +160,16 @@ var gPermissionManager = {</span>
<a href="#l48.4"></a><span id="l48.4">     // If this permission was added during this session, let's remove</span>
<a href="#l48.5"></a><span id="l48.5">     // it from the pending adds list to prevent calls to the</span>
<a href="#l48.6"></a><span id="l48.6">     // permission manager.</span>
<a href="#l48.7"></a><span id="l48.7">     let isNewPermission = this._permissionsToAdd.delete(aPermission.principal.origin);</span>
<a href="#l48.8"></a><span id="l48.8"> </span>
<a href="#l48.9"></a><span id="l48.9">     if (!isNewPermission) {</span>
<a href="#l48.10"></a><span id="l48.10">       this._permissionsToDelete.set(aPermission.principal.origin, aPermission);</span>
<a href="#l48.11"></a><span id="l48.11">     }</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-</span>
<a href="#l48.13"></a><span id="l48.13">   },</span>
<a href="#l48.14"></a><span id="l48.14"> </span>
<a href="#l48.15"></a><span id="l48.15">   _handleCapabilityChange() {</span>
<a href="#l48.16"></a><span id="l48.16">     // Re-do the sort, if the status changed from Block to Allow</span>
<a href="#l48.17"></a><span id="l48.17">     // or vice versa, since if we're sorted on status, we may no</span>
<a href="#l48.18"></a><span id="l48.18">     // longer be in order.</span>
<a href="#l48.19"></a><span id="l48.19">     if (this._lastPermissionSortColumn == &quot;statusCol&quot;) {</span>
<a href="#l48.20"></a><span id="l48.20">       this._resortPermissions();</span>
<a href="#l48.21"></a><span id="l48.21" class="difflineat">@@ -393,21 +392,19 @@ var gPermissionManager = {</span>
<a href="#l48.22"></a><span id="l48.22">     this._tree.view = this._view;</span>
<a href="#l48.23"></a><span id="l48.23">     this.onPermissionSort(&quot;origin&quot;);</span>
<a href="#l48.24"></a><span id="l48.24"> </span>
<a href="#l48.25"></a><span id="l48.25">     // disable &quot;remove all&quot; button if there are none</span>
<a href="#l48.26"></a><span id="l48.26">     document.getElementById(&quot;removeAllPermissions&quot;).disabled = this._permissions.length == 0;</span>
<a href="#l48.27"></a><span id="l48.27">   },</span>
<a href="#l48.28"></a><span id="l48.28"> </span>
<a href="#l48.29"></a><span id="l48.29">   _addPermissionToList(aPermission) {</span>
<a href="#l48.30"></a><span id="l48.30" class="difflineminus">-</span>
<a href="#l48.31"></a><span id="l48.31">     if (aPermission.type == this._type &amp;&amp;</span>
<a href="#l48.32"></a><span id="l48.32">         (!this._manageCapability ||</span>
<a href="#l48.33"></a><span id="l48.33">          (aPermission.capability == this._manageCapability))) {</span>
<a href="#l48.34"></a><span id="l48.34" class="difflineminus">-</span>
<a href="#l48.35"></a><span id="l48.35">       var principal = aPermission.principal;</span>
<a href="#l48.36"></a><span id="l48.36">       var capabilityString = this._getCapabilityString(aPermission.capability);</span>
<a href="#l48.37"></a><span id="l48.37">       var p = new Permission(principal,</span>
<a href="#l48.38"></a><span id="l48.38">                              aPermission.type,</span>
<a href="#l48.39"></a><span id="l48.39">                              capabilityString);</span>
<a href="#l48.40"></a><span id="l48.40">       this._permissions.push(p);</span>
<a href="#l48.41"></a><span id="l48.41">     }</span>
<a href="#l48.42"></a><span id="l48.42">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/mail/components/preferences/sendoptions.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/mail/components/preferences/sendoptions.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -69,17 +69,16 @@ var gSendOptionsDialog = {</span>
<a href="#l49.4"></a><span id="l49.4">     if (Services.prompt.prompt(window, this.mPrefsBundle.getString(listbox.id + &quot;AddDomainTitle&quot;),</span>
<a href="#l49.5"></a><span id="l49.5">                                this.mPrefsBundle.getString(listbox.id + &quot;AddDomain&quot;), result, null, {value: 0}))</span>
<a href="#l49.6"></a><span id="l49.6">       domainName = result.value.replace(/ /g, &quot;&quot;);</span>
<a href="#l49.7"></a><span id="l49.7"> </span>
<a href="#l49.8"></a><span id="l49.8">     if (domainName &amp;&amp; !this.domainAlreadyPresent(domainName)) {</span>
<a href="#l49.9"></a><span id="l49.9">       this.addItemToDomainList(listbox, domainName);</span>
<a href="#l49.10"></a><span id="l49.10">       document.getElementById(&quot;SendOptionsDialogPane&quot;).userChangedValue(listbox);</span>
<a href="#l49.11"></a><span id="l49.11">     }</span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-</span>
<a href="#l49.13"></a><span id="l49.13">   },</span>
<a href="#l49.14"></a><span id="l49.14"> </span>
<a href="#l49.15"></a><span id="l49.15">   domainAlreadyPresent(aDomainName) {</span>
<a href="#l49.16"></a><span id="l49.16">     let matchingDomains = this.mHTMLListBox.querySelectorAll('[value=&quot;' + aDomainName + '&quot;]');</span>
<a href="#l49.17"></a><span id="l49.17"> </span>
<a href="#l49.18"></a><span id="l49.18">     if (!matchingDomains.length)</span>
<a href="#l49.19"></a><span id="l49.19">       matchingDomains = this.mPlainTextListBox.querySelectorAll('[value=&quot;' + aDomainName + '&quot;]');</span>
<a href="#l49.20"></a><span id="l49.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/mail/extensions/mailviews/content/mailViewSetup.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/mail/extensions/mailviews/content/mailViewSetup.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -72,17 +72,16 @@ function onOK() {</span>
<a href="#l50.4"></a><span id="l50.4"> function initializeMailViewOverrides() {</span>
<a href="#l50.5"></a><span id="l50.5">   // replace some text with something we want. Need to add some ids to searchOverlay.js</span>
<a href="#l50.6"></a><span id="l50.6">   // var orButton = document.getElementById('or');</span>
<a href="#l50.7"></a><span id="l50.7">   // orButton.setAttribute('label', 'Any of the following');</span>
<a href="#l50.8"></a><span id="l50.8">   // var andButton = document.getElementById('and');</span>
<a href="#l50.9"></a><span id="l50.9">   // andButton.setAttribute('label', 'All of the following');</span>
<a href="#l50.10"></a><span id="l50.10">   // matchAll doesn't make sense for views, since views are a single folder</span>
<a href="#l50.11"></a><span id="l50.11">   hideMatchAllItem();</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-</span>
<a href="#l50.13"></a><span id="l50.13"> }</span>
<a href="#l50.14"></a><span id="l50.14"> </span>
<a href="#l50.15"></a><span id="l50.15"> function UpdateAfterCustomHeaderChange() {</span>
<a href="#l50.16"></a><span id="l50.16">   updateSearchAttributes();</span>
<a href="#l50.17"></a><span id="l50.17"> }</span>
<a href="#l50.18"></a><span id="l50.18"> </span>
<a href="#l50.19"></a><span id="l50.19"> function doEnabling() {</span>
<a href="#l50.20"></a><span id="l50.20">   if (dialog.nameField.value) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/mailnews/addrbook/content/abMailListDialog.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/mailnews/addrbook/content/abMailListDialog.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -62,17 +62,16 @@ function GetListValue(mailList, doAdd) {</span>
<a href="#l51.4"></a><span id="l51.4">   mailList.listNickName = document.getElementById(&quot;ListNickName&quot;).value;</span>
<a href="#l51.5"></a><span id="l51.5">   mailList.description = document.getElementById(&quot;ListDescription&quot;).value;</span>
<a href="#l51.6"></a><span id="l51.6"> </span>
<a href="#l51.7"></a><span id="l51.7">   var oldTotal = mailList.addressLists.length;</span>
<a href="#l51.8"></a><span id="l51.8">   var i = 1;</span>
<a href="#l51.9"></a><span id="l51.9">   var pos = 0;</span>
<a href="#l51.10"></a><span id="l51.10">   var inputField, fieldValue, cardproperty;</span>
<a href="#l51.11"></a><span id="l51.11">   while ((inputField = awGetInputElement(i))) {</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-</span>
<a href="#l51.13"></a><span id="l51.13">     fieldValue = inputField.value;</span>
<a href="#l51.14"></a><span id="l51.14"> </span>
<a href="#l51.15"></a><span id="l51.15">     if (doAdd || pos &gt;= oldTotal)</span>
<a href="#l51.16"></a><span id="l51.16">       cardproperty = Cc[&quot;@mozilla.org/addressbook/cardproperty;1&quot;].createInstance();</span>
<a href="#l51.17"></a><span id="l51.17">     else</span>
<a href="#l51.18"></a><span id="l51.18">       cardproperty = mailList.addressLists.queryElementAt(pos, Ci.nsIAbCard);</span>
<a href="#l51.19"></a><span id="l51.19"> </span>
<a href="#l51.20"></a><span id="l51.20">     if (fieldValue == &quot;&quot;) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbLDAPAttributeMap.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbLDAPAttributeMap.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -14,49 +14,45 @@ function nsAbLDAPAttributeMap() {</span>
<a href="#l52.4"></a><span id="l52.4">   this.mPropertyMap = {};</span>
<a href="#l52.5"></a><span id="l52.5">   this.mAttrMap = {};</span>
<a href="#l52.6"></a><span id="l52.6"> }</span>
<a href="#l52.7"></a><span id="l52.7"> </span>
<a href="#l52.8"></a><span id="l52.8"> nsAbLDAPAttributeMap.prototype = {</span>
<a href="#l52.9"></a><span id="l52.9">   classID: NS_ABLDAPATTRIBUTEMAP_CID,</span>
<a href="#l52.10"></a><span id="l52.10"> </span>
<a href="#l52.11"></a><span id="l52.11">   getAttributeList(aProperty) {</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-</span>
<a href="#l52.13"></a><span id="l52.13">     if (!(aProperty in this.mPropertyMap)) {</span>
<a href="#l52.14"></a><span id="l52.14">       return null;</span>
<a href="#l52.15"></a><span id="l52.15">     }</span>
<a href="#l52.16"></a><span id="l52.16"> </span>
<a href="#l52.17"></a><span id="l52.17">     // return the joined list</span>
<a href="#l52.18"></a><span id="l52.18">     return this.mPropertyMap[aProperty].join(&quot;,&quot;);</span>
<a href="#l52.19"></a><span id="l52.19">   },</span>
<a href="#l52.20"></a><span id="l52.20"> </span>
<a href="#l52.21"></a><span id="l52.21">   getAttributes(aProperty, aCount, aAttrs) {</span>
<a href="#l52.22"></a><span id="l52.22" class="difflineminus">-</span>
<a href="#l52.23"></a><span id="l52.23">     // fail if no entry for this</span>
<a href="#l52.24"></a><span id="l52.24">     if (!(aProperty in this.mPropertyMap)) {</span>
<a href="#l52.25"></a><span id="l52.25">       throw Cr.NS_ERROR_FAILURE;</span>
<a href="#l52.26"></a><span id="l52.26">     }</span>
<a href="#l52.27"></a><span id="l52.27"> </span>
<a href="#l52.28"></a><span id="l52.28">     aAttrs = this.mPropertyMap[aProperty];</span>
<a href="#l52.29"></a><span id="l52.29">     aCount = aAttrs.length;</span>
<a href="#l52.30"></a><span id="l52.30">     return aAttrs;</span>
<a href="#l52.31"></a><span id="l52.31">   },</span>
<a href="#l52.32"></a><span id="l52.32"> </span>
<a href="#l52.33"></a><span id="l52.33">   getFirstAttribute(aProperty) {</span>
<a href="#l52.34"></a><span id="l52.34" class="difflineminus">-</span>
<a href="#l52.35"></a><span id="l52.35">     // fail if no entry for this</span>
<a href="#l52.36"></a><span id="l52.36">     if (!(aProperty in this.mPropertyMap)) {</span>
<a href="#l52.37"></a><span id="l52.37">       return null;</span>
<a href="#l52.38"></a><span id="l52.38">     }</span>
<a href="#l52.39"></a><span id="l52.39"> </span>
<a href="#l52.40"></a><span id="l52.40">     return this.mPropertyMap[aProperty][0];</span>
<a href="#l52.41"></a><span id="l52.41">   },</span>
<a href="#l52.42"></a><span id="l52.42"> </span>
<a href="#l52.43"></a><span id="l52.43">   setAttributeList(aProperty, aAttributeList, aAllowInconsistencies) {</span>
<a href="#l52.44"></a><span id="l52.44" class="difflineminus">-</span>
<a href="#l52.45"></a><span id="l52.45">     var attrs = aAttributeList.split(&quot;,&quot;);</span>
<a href="#l52.46"></a><span id="l52.46"> </span>
<a href="#l52.47"></a><span id="l52.47">     // check to make sure this call won't allow multiple mappings to be</span>
<a href="#l52.48"></a><span id="l52.48">     // created, if requested</span>
<a href="#l52.49"></a><span id="l52.49">     if (!aAllowInconsistencies) {</span>
<a href="#l52.50"></a><span id="l52.50">       for (var attr of attrs) {</span>
<a href="#l52.51"></a><span id="l52.51">         if (attr in this.mAttrMap &amp;&amp; this.mAttrMap[attr] != aProperty) {</span>
<a href="#l52.52"></a><span id="l52.52">           throw Cr.NS_ERROR_FAILURE;</span>
<a href="#l52.53"></a><span id="l52.53" class="difflineat">@@ -76,17 +72,16 @@ nsAbLDAPAttributeMap.prototype = {</span>
<a href="#l52.54"></a><span id="l52.54">       this.mAttrMap[attr] = aProperty;</span>
<a href="#l52.55"></a><span id="l52.55">     }</span>
<a href="#l52.56"></a><span id="l52.56"> </span>
<a href="#l52.57"></a><span id="l52.57">     // add them to the property map</span>
<a href="#l52.58"></a><span id="l52.58">     this.mPropertyMap[aProperty] = attrs;</span>
<a href="#l52.59"></a><span id="l52.59">   },</span>
<a href="#l52.60"></a><span id="l52.60"> </span>
<a href="#l52.61"></a><span id="l52.61">   getProperty(aAttribute) {</span>
<a href="#l52.62"></a><span id="l52.62" class="difflineminus">-</span>
<a href="#l52.63"></a><span id="l52.63">     if (!(aAttribute in this.mAttrMap)) {</span>
<a href="#l52.64"></a><span id="l52.64">       return null;</span>
<a href="#l52.65"></a><span id="l52.65">     }</span>
<a href="#l52.66"></a><span id="l52.66"> </span>
<a href="#l52.67"></a><span id="l52.67">     return this.mAttrMap[aAttribute];</span>
<a href="#l52.68"></a><span id="l52.68">   },</span>
<a href="#l52.69"></a><span id="l52.69"> </span>
<a href="#l52.70"></a><span id="l52.70">   getAllCardAttributes() {</span>
<a href="#l52.71"></a><span id="l52.71" class="difflineat">@@ -99,17 +94,16 @@ nsAbLDAPAttributeMap.prototype = {</span>
<a href="#l52.72"></a><span id="l52.72">     if (!attrs.length) {</span>
<a href="#l52.73"></a><span id="l52.73">       throw Cr.NS_ERROR_FAILURE;</span>
<a href="#l52.74"></a><span id="l52.74">     }</span>
<a href="#l52.75"></a><span id="l52.75"> </span>
<a href="#l52.76"></a><span id="l52.76">     return attrs.join(&quot;,&quot;);</span>
<a href="#l52.77"></a><span id="l52.77">   },</span>
<a href="#l52.78"></a><span id="l52.78"> </span>
<a href="#l52.79"></a><span id="l52.79">   getAllCardProperties(aCount) {</span>
<a href="#l52.80"></a><span id="l52.80" class="difflineminus">-</span>
<a href="#l52.81"></a><span id="l52.81">     var props = [];</span>
<a href="#l52.82"></a><span id="l52.82">     for (var prop in this.mPropertyMap) {</span>
<a href="#l52.83"></a><span id="l52.83">       props.push(prop);</span>
<a href="#l52.84"></a><span id="l52.84">     }</span>
<a href="#l52.85"></a><span id="l52.85"> </span>
<a href="#l52.86"></a><span id="l52.86">     aCount.value = props.length;</span>
<a href="#l52.87"></a><span id="l52.87">     return props;</span>
<a href="#l52.88"></a><span id="l52.88">   },</span>
<a href="#l52.89"></a><span id="l52.89" class="difflineat">@@ -127,37 +121,33 @@ nsAbLDAPAttributeMap.prototype = {</span>
<a href="#l52.90"></a><span id="l52.90">       this.setAttributeList(child, branch.getCharPref(child), true);</span>
<a href="#l52.91"></a><span id="l52.91">     }</span>
<a href="#l52.92"></a><span id="l52.92"> </span>
<a href="#l52.93"></a><span id="l52.93">     // ensure that everything is kosher</span>
<a href="#l52.94"></a><span id="l52.94">     this.checkState();</span>
<a href="#l52.95"></a><span id="l52.95">   },</span>
<a href="#l52.96"></a><span id="l52.96"> </span>
<a href="#l52.97"></a><span id="l52.97">   setCardPropertiesFromLDAPMessage(aMessage, aCard) {</span>
<a href="#l52.98"></a><span id="l52.98" class="difflineminus">-</span>
<a href="#l52.99"></a><span id="l52.99">     var cardValueWasSet = false;</span>
<a href="#l52.100"></a><span id="l52.100"> </span>
<a href="#l52.101"></a><span id="l52.101">     var msgAttrCount = {};</span>
<a href="#l52.102"></a><span id="l52.102">     var msgAttrs = aMessage.getAttributes(msgAttrCount);</span>
<a href="#l52.103"></a><span id="l52.103"> </span>
<a href="#l52.104"></a><span id="l52.104">     // downcase the array for comparison</span>
<a href="#l52.105"></a><span id="l52.105">     function toLower(a) { return a.toLowerCase(); }</span>
<a href="#l52.106"></a><span id="l52.106">     msgAttrs = msgAttrs.map(toLower);</span>
<a href="#l52.107"></a><span id="l52.107"> </span>
<a href="#l52.108"></a><span id="l52.108">     // deal with each addressbook property</span>
<a href="#l52.109"></a><span id="l52.109">     for (var prop in this.mPropertyMap) {</span>
<a href="#l52.110"></a><span id="l52.110" class="difflineminus">-</span>
<a href="#l52.111"></a><span id="l52.111">       // go through the list of possible attrs in precedence order</span>
<a href="#l52.112"></a><span id="l52.112">       for (var attr of this.mPropertyMap[prop]) {</span>
<a href="#l52.113"></a><span id="l52.113" class="difflineminus">-</span>
<a href="#l52.114"></a><span id="l52.114">         attr = attr.toLowerCase();</span>
<a href="#l52.115"></a><span id="l52.115"> </span>
<a href="#l52.116"></a><span id="l52.116">         // find the first attr that exists in this message</span>
<a href="#l52.117"></a><span id="l52.117">         if (msgAttrs.includes(attr)) {</span>
<a href="#l52.118"></a><span id="l52.118" class="difflineminus">-</span>
<a href="#l52.119"></a><span id="l52.119">           try {</span>
<a href="#l52.120"></a><span id="l52.120">             var values = aMessage.getValues(attr, {});</span>
<a href="#l52.121"></a><span id="l52.121">             // strip out the optional label from the labeledURI</span>
<a href="#l52.122"></a><span id="l52.122">             if (attr == &quot;labeleduri&quot; &amp;&amp; values[0]) {</span>
<a href="#l52.123"></a><span id="l52.123">               var index = values[0].indexOf(&quot; &quot;);</span>
<a href="#l52.124"></a><span id="l52.124">               if (index != -1)</span>
<a href="#l52.125"></a><span id="l52.125">                 values[0] = values[0].substring(0, index);</span>
<a href="#l52.126"></a><span id="l52.126">             }</span>
<a href="#l52.127"></a><span id="l52.127" class="difflineat">@@ -173,23 +163,21 @@ nsAbLDAPAttributeMap.prototype = {</span>
<a href="#l52.128"></a><span id="l52.128">     }</span>
<a href="#l52.129"></a><span id="l52.129"> </span>
<a href="#l52.130"></a><span id="l52.130">     if (!cardValueWasSet) {</span>
<a href="#l52.131"></a><span id="l52.131">       throw Cr.NS_ERROR_FAILURE;</span>
<a href="#l52.132"></a><span id="l52.132">     }</span>
<a href="#l52.133"></a><span id="l52.133">   },</span>
<a href="#l52.134"></a><span id="l52.134"> </span>
<a href="#l52.135"></a><span id="l52.135">   checkState() {</span>
<a href="#l52.136"></a><span id="l52.136" class="difflineminus">-</span>
<a href="#l52.137"></a><span id="l52.137">     var attrsSeen = [];</span>
<a href="#l52.138"></a><span id="l52.138"> </span>
<a href="#l52.139"></a><span id="l52.139">     for (var prop in this.mPropertyMap) {</span>
<a href="#l52.140"></a><span id="l52.140">       let attrArray = this.mPropertyMap[prop];</span>
<a href="#l52.141"></a><span id="l52.141">       for (var attr of attrArray) {</span>
<a href="#l52.142"></a><span id="l52.142" class="difflineminus">-</span>
<a href="#l52.143"></a><span id="l52.143">         // multiple attributes that mapped to the empty string are permitted</span>
<a href="#l52.144"></a><span id="l52.144">         if (!attr.length) {</span>
<a href="#l52.145"></a><span id="l52.145">           continue;</span>
<a href="#l52.146"></a><span id="l52.146">         }</span>
<a href="#l52.147"></a><span id="l52.147"> </span>
<a href="#l52.148"></a><span id="l52.148">         // if we've seen this before, there's a problem</span>
<a href="#l52.149"></a><span id="l52.149">         if (attrsSeen.includes(attr)) {</span>
<a href="#l52.150"></a><span id="l52.150">           throw Cr.NS_ERROR_FAILURE;</span>
<a href="#l52.151"></a><span id="l52.151" class="difflineat">@@ -209,17 +197,16 @@ function nsAbLDAPAttributeMapService() {</span>
<a href="#l52.152"></a><span id="l52.152"> </span>
<a href="#l52.153"></a><span id="l52.153"> nsAbLDAPAttributeMapService.prototype = {</span>
<a href="#l52.154"></a><span id="l52.154"> </span>
<a href="#l52.155"></a><span id="l52.155">   classID: NS_ABLDAPATTRIBUTEMAPSERVICE_CID,</span>
<a href="#l52.156"></a><span id="l52.156"> </span>
<a href="#l52.157"></a><span id="l52.157">   mAttrMaps: {},</span>
<a href="#l52.158"></a><span id="l52.158"> </span>
<a href="#l52.159"></a><span id="l52.159">   getMapForPrefBranch(aPrefBranchName) {</span>
<a href="#l52.160"></a><span id="l52.160" class="difflineminus">-</span>
<a href="#l52.161"></a><span id="l52.161">     // if we've already got this map, return it</span>
<a href="#l52.162"></a><span id="l52.162">     if (aPrefBranchName in this.mAttrMaps) {</span>
<a href="#l52.163"></a><span id="l52.163">       return this.mAttrMaps[aPrefBranchName];</span>
<a href="#l52.164"></a><span id="l52.164">     }</span>
<a href="#l52.165"></a><span id="l52.165"> </span>
<a href="#l52.166"></a><span id="l52.166">     // otherwise, try and create it</span>
<a href="#l52.167"></a><span id="l52.167">     var attrMap = new nsAbLDAPAttributeMap();</span>
<a href="#l52.168"></a><span id="l52.168">     attrMap.setFromPrefs(&quot;ldap_2.servers.default.attrmap&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/mailnews/extensions/newsblog/content/feed-parser.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/mailnews/extensions/newsblog/content/feed-parser.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -833,27 +833,25 @@ FeedParser.prototype = {</span>
<a href="#l53.4"></a><span id="l53.4">   getRDFTargetValue(ds, source, property) {</span>
<a href="#l53.5"></a><span id="l53.5">     let nodeValue = this.getRDFTargetValueRaw(ds, source, property);</span>
<a href="#l53.6"></a><span id="l53.6">     if (!nodeValue) {</span>
<a href="#l53.7"></a><span id="l53.7">       return null;</span>
<a href="#l53.8"></a><span id="l53.8">     }</span>
<a href="#l53.9"></a><span id="l53.9"> </span>
<a href="#l53.10"></a><span id="l53.10">     nodeValue = nodeValue.replace(/[\n\r\t]+/g, &quot; &quot;);</span>
<a href="#l53.11"></a><span id="l53.11">     return this.removeUnprintableASCII(nodeValue);</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-</span>
<a href="#l53.13"></a><span id="l53.13">   },</span>
<a href="#l53.14"></a><span id="l53.14"> </span>
<a href="#l53.15"></a><span id="l53.15">   getRDFTargetValueFormatted(ds, source, property) {</span>
<a href="#l53.16"></a><span id="l53.16">     let nodeValue = this.getRDFTargetValueRaw(ds, source, property);</span>
<a href="#l53.17"></a><span id="l53.17">     if (!nodeValue) {</span>
<a href="#l53.18"></a><span id="l53.18">       return null;</span>
<a href="#l53.19"></a><span id="l53.19">     }</span>
<a href="#l53.20"></a><span id="l53.20"> </span>
<a href="#l53.21"></a><span id="l53.21">     return this.removeUnprintableASCIIexCRLFTAB(nodeValue);</span>
<a href="#l53.22"></a><span id="l53.22" class="difflineminus">-</span>
<a href="#l53.23"></a><span id="l53.23">   },</span>
<a href="#l53.24"></a><span id="l53.24"> </span>
<a href="#l53.25"></a><span id="l53.25">   getRDFTargetValueRaw(ds, source, property) {</span>
<a href="#l53.26"></a><span id="l53.26">     let node = ds.GetTarget(source, property, true);</span>
<a href="#l53.27"></a><span id="l53.27">     if (node) {</span>
<a href="#l53.28"></a><span id="l53.28">       try {</span>
<a href="#l53.29"></a><span id="l53.29">         node = node.QueryInterface(Ci.nsIRDFLiteral);</span>
<a href="#l53.30"></a><span id="l53.30">         if (node) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/mailnews/extensions/newsblog/content/newsblogOverlay.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/mailnews/extensions/newsblog/content/newsblogOverlay.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -303,17 +303,16 @@ function openComposeWindowForRSSArticle(</span>
<a href="#l54.4"></a><span id="l54.4">                   tabmail.selectedTab.mode.type == &quot;folder&quot; : false;</span>
<a href="#l54.5"></a><span id="l54.5">   let showingwebpage = (&quot;FeedMessageHandler&quot; in window) &amp;&amp; !is3pane &amp;&amp;</span>
<a href="#l54.6"></a><span id="l54.6">                        FeedMessageHandler.onOpenPref == FeedMessageHandler.kOpenWebPage;</span>
<a href="#l54.7"></a><span id="l54.7"> </span>
<a href="#l54.8"></a><span id="l54.8">   if (gShowFeedSummary &amp;&amp; !showingwebpage) {</span>
<a href="#l54.9"></a><span id="l54.9">     // The user is viewing the summary.</span>
<a href="#l54.10"></a><span id="l54.10">     MailServices.compose.OpenComposeWindow(aMsgComposeWindow, aMsgHdr, aMessageUri,</span>
<a href="#l54.11"></a><span id="l54.11">                                            aType, aFormat, aIdentity, aMsgWindow);</span>
<a href="#l54.12"></a><span id="l54.12" class="difflineminus">-</span>
<a href="#l54.13"></a><span id="l54.13">   } else {</span>
<a href="#l54.14"></a><span id="l54.14">     // Set up the compose message and get the feed message's web page link.</span>
<a href="#l54.15"></a><span id="l54.15">     let msgHdr = aMsgHdr;</span>
<a href="#l54.16"></a><span id="l54.16">     let type = aType;</span>
<a href="#l54.17"></a><span id="l54.17">     let msgComposeType = Ci.nsIMsgCompType;</span>
<a href="#l54.18"></a><span id="l54.18">     let subject = msgHdr.mime2DecodedSubject;</span>
<a href="#l54.19"></a><span id="l54.19">     let fwdPrefix = Services.prefs.getCharPref(&quot;mail.forward_subject_prefix&quot;);</span>
<a href="#l54.20"></a><span id="l54.20">     fwdPrefix = fwdPrefix ? fwdPrefix + &quot;: &quot; : &quot;&quot;;</span>
<a href="#l54.21"></a><span id="l54.21" class="difflineat">@@ -351,17 +350,16 @@ function openComposeWindowForRSSArticle(</span>
<a href="#l54.22"></a><span id="l54.22">           params.composeFields.body = url;</span>
<a href="#l54.23"></a><span id="l54.23">           params.bodyIsLink = true;</span>
<a href="#l54.24"></a><span id="l54.24">           MailServices.compose.OpenComposeWindowWithParams(null, params);</span>
<a href="#l54.25"></a><span id="l54.25">         } else {</span>
<a href="#l54.26"></a><span id="l54.26">           // No content-base url, use the summary.</span>
<a href="#l54.27"></a><span id="l54.27">           MailServices.compose.OpenComposeWindow(aMsgComposeWindow, aMsgHdr, aMessageUri,</span>
<a href="#l54.28"></a><span id="l54.28">                                                  aType, aFormat, aIdentity, aMsgWindow);</span>
<a href="#l54.29"></a><span id="l54.29">         }</span>
<a href="#l54.30"></a><span id="l54.30" class="difflineminus">-</span>
<a href="#l54.31"></a><span id="l54.31">       }, false, {saneBodySize: true});</span>
<a href="#l54.32"></a><span id="l54.32">     } catch (ex) {</span>
<a href="#l54.33"></a><span id="l54.33">       // Error getting header, use the summary.</span>
<a href="#l54.34"></a><span id="l54.34">       MailServices.compose.OpenComposeWindow(aMsgComposeWindow, aMsgHdr, aMessageUri,</span>
<a href="#l54.35"></a><span id="l54.35">                                              aType, aFormat, aIdentity, aMsgWindow);</span>
<a href="#l54.36"></a><span id="l54.36">     }</span>
<a href="#l54.37"></a><span id="l54.37">   }</span>
<a href="#l54.38"></a><span id="l54.38"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/mailnews/local/test/unit/test_duplicateKey.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_duplicateKey.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -6,17 +6,16 @@</span>
<a href="#l55.4"></a><span id="l55.4">  * messages, testing for duplicated keys in bug 1202105.</span>
<a href="#l55.5"></a><span id="l55.5">  */</span>
<a href="#l55.6"></a><span id="l55.6"> </span>
<a href="#l55.7"></a><span id="l55.7"> /* import-globals-from ../../../test/resources/POP3pump.js */</span>
<a href="#l55.8"></a><span id="l55.8"> load(&quot;../../../resources/POP3pump.js&quot;);</span>
<a href="#l55.9"></a><span id="l55.9"> const {PromiseTestUtils} = ChromeUtils.import(&quot;resource://testing-common/mailnews/PromiseTestUtils.jsm&quot;);</span>
<a href="#l55.10"></a><span id="l55.10"> </span>
<a href="#l55.11"></a><span id="l55.11"> add_task(async function runPump() {</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-</span>
<a href="#l55.13"></a><span id="l55.13">   gPOP3Pump.files = [&quot;../../../data/bugmail1&quot;,</span>
<a href="#l55.14"></a><span id="l55.14">                      &quot;../../../data/bugmail1&quot;,</span>
<a href="#l55.15"></a><span id="l55.15">                      &quot;../../../data/bugmail1&quot;,</span>
<a href="#l55.16"></a><span id="l55.16">                      &quot;../../../data/bugmail1&quot;,</span>
<a href="#l55.17"></a><span id="l55.17">                      &quot;../../../data/bugmail1&quot;];</span>
<a href="#l55.18"></a><span id="l55.18">   await gPOP3Pump.run();</span>
<a href="#l55.19"></a><span id="l55.19"> </span>
<a href="#l55.20"></a><span id="l55.20">   // get message headers for the inbox folder</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/mailnews/local/test/unit/test_folderLoaded.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_folderLoaded.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -38,17 +38,16 @@ var tests = [</span>
<a href="#l56.4"></a><span id="l56.4"> </span>
<a href="#l56.5"></a><span id="l56.5">     MailServices.copy.CopyFileMessage(gMsgFile1, gTargetFolder, null, false, 0,</span>
<a href="#l56.6"></a><span id="l56.6">                                       &quot;&quot;, asyncCopyListener, null);</span>
<a href="#l56.7"></a><span id="l56.7">     yield false;</span>
<a href="#l56.8"></a><span id="l56.8"> </span>
<a href="#l56.9"></a><span id="l56.9">     MailServices.copy.CopyFileMessage(gMsgFile2, gTargetFolder, null, false, 0,</span>
<a href="#l56.10"></a><span id="l56.10">                                       &quot;&quot;, asyncCopyListener, null);</span>
<a href="#l56.11"></a><span id="l56.11">     yield false;</span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-</span>
<a href="#l56.13"></a><span id="l56.13">   },</span>
<a href="#l56.14"></a><span id="l56.14"> </span>
<a href="#l56.15"></a><span id="l56.15">   function* firstUpdate() {</span>
<a href="#l56.16"></a><span id="l56.16">     // get message headers for the target folder</span>
<a href="#l56.17"></a><span id="l56.17">     let enumerator = gTargetFolder.msgDatabase.EnumerateMessages();</span>
<a href="#l56.18"></a><span id="l56.18">     var msgCount = 0;</span>
<a href="#l56.19"></a><span id="l56.19">     while (enumerator.hasMoreElements()) {</span>
<a href="#l56.20"></a><span id="l56.20">       msgCount++;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/mailnews/local/test/unit/test_nsIMsgPluggableStore.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_nsIMsgPluggableStore.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -10,17 +10,16 @@ var gPluggableStores = [</span>
<a href="#l57.4"></a><span id="l57.4">   &quot;@mozilla.org/msgstore/berkeleystore;1&quot;,</span>
<a href="#l57.5"></a><span id="l57.5">   &quot;@mozilla.org/msgstore/maildirstore;1&quot;,</span>
<a href="#l57.6"></a><span id="l57.6"> ];</span>
<a href="#l57.7"></a><span id="l57.7"> </span>
<a href="#l57.8"></a><span id="l57.8"> function test_discoverSubFolders() {</span>
<a href="#l57.9"></a><span id="l57.9">   let mailbox = setup_mailbox(&quot;none&quot;, create_temporary_directory());</span>
<a href="#l57.10"></a><span id="l57.10"> </span>
<a href="#l57.11"></a><span id="l57.11">   mailbox.msgStore.discoverSubFolders(mailbox, true);</span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-</span>
<a href="#l57.13"></a><span id="l57.13"> }</span>
<a href="#l57.14"></a><span id="l57.14"> </span>
<a href="#l57.15"></a><span id="l57.15"> function run_all_tests() {</span>
<a href="#l57.16"></a><span id="l57.16">   test_discoverSubFolders();</span>
<a href="#l57.17"></a><span id="l57.17"> }</span>
<a href="#l57.18"></a><span id="l57.18"> </span>
<a href="#l57.19"></a><span id="l57.19"> function run_test() {</span>
<a href="#l57.20"></a><span id="l57.20">   for (let store in gPluggableStores) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/mailnews/news/test/unit/test_bug403242.js</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_bug403242.js</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -40,10 +40,9 @@ function run_test() {</span>
<a href="#l58.4"></a><span id="l58.4">   // Correct text?</span>
<a href="#l58.5"></a><span id="l58.5">   Assert.equal(articleTextListener.data, daemon.getGroup(&quot;test1&quot;)[1].fullText);</span>
<a href="#l58.6"></a><span id="l58.6"> </span>
<a href="#l58.7"></a><span id="l58.7">   // No illegal commands?</span>
<a href="#l58.8"></a><span id="l58.8">   test = &quot;bug 403242&quot;;</span>
<a href="#l58.9"></a><span id="l58.9">   let transaction = server.playTransaction();</span>
<a href="#l58.10"></a><span id="l58.10">   do_check_transaction(transaction[transaction.length - 1],</span>
<a href="#l58.11"></a><span id="l58.11">     [&quot;MODE READER&quot;, &quot;GROUP test1&quot;, &quot;ARTICLE 1&quot;]);</span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-</span>
<a href="#l58.13"></a><span id="l58.13"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/mailnews/news/test/unit/test_bug540288.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_bug540288.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -91,14 +91,13 @@ function run_test() {</span>
<a href="#l59.4"></a><span id="l59.4">                     .DisplayMessage(messageUri, streamListener, null, null, null, {});</span>
<a href="#l59.5"></a><span id="l59.5"> </span>
<a href="#l59.6"></a><span id="l59.6">         // Get the server to run</span>
<a href="#l59.7"></a><span id="l59.7">         server.performTest();</span>
<a href="#l59.8"></a><span id="l59.8">       },</span>
<a href="#l59.9"></a><span id="l59.9">     });</span>
<a href="#l59.10"></a><span id="l59.10"> </span>
<a href="#l59.11"></a><span id="l59.11">     do_test_pending();</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-</span>
<a href="#l59.13"></a><span id="l59.13">   } catch (e) {</span>
<a href="#l59.14"></a><span id="l59.14">     server.stop();</span>
<a href="#l59.15"></a><span id="l59.15">     do_throw(e);</span>
<a href="#l59.16"></a><span id="l59.16">   }</span>
<a href="#l59.17"></a><span id="l59.17"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpGroupPassword.js</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpGroupPassword.js</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -50,17 +50,16 @@ add_task(async function() {</span>
<a href="#l60.4"></a><span id="l60.4">     setupProtocolTest(server.port, prefix + &quot;test.filter&quot;, localserver);</span>
<a href="#l60.5"></a><span id="l60.5">     server.performTest();</span>
<a href="#l60.6"></a><span id="l60.6">     transaction = server.playTransaction();</span>
<a href="#l60.7"></a><span id="l60.7">     do_check_transaction(transaction, [&quot;MODE READER&quot;, &quot;GROUP test.filter&quot;,</span>
<a href="#l60.8"></a><span id="l60.8">                                        &quot;AUTHINFO user group2&quot;,</span>
<a href="#l60.9"></a><span id="l60.9">                                        &quot;AUTHINFO pass pass2&quot;,</span>
<a href="#l60.10"></a><span id="l60.10">                                        &quot;GROUP test.filter&quot;,</span>
<a href="#l60.11"></a><span id="l60.11">                                        &quot;XOVER 1-8&quot;]);</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-</span>
<a href="#l60.13"></a><span id="l60.13">   } catch (e) {</span>
<a href="#l60.14"></a><span id="l60.14">     dump(&quot;NNTP Protocol test &quot; + test + &quot; failed for type RFC 977:\n&quot;);</span>
<a href="#l60.15"></a><span id="l60.15">     try {</span>
<a href="#l60.16"></a><span id="l60.16">       var trans = server.playTransaction();</span>
<a href="#l60.17"></a><span id="l60.17">       if (trans)</span>
<a href="#l60.18"></a><span id="l60.18">         dump(&quot;Commands called: &quot; + uneval(trans) + &quot;\n&quot;);</span>
<a href="#l60.19"></a><span id="l60.19">     } catch (exp) {}</span>
<a href="#l60.20"></a><span id="l60.20">     do_throw(e);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPassword.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPassword.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -26,17 +26,16 @@ add_task(async function() {</span>
<a href="#l61.4"></a><span id="l61.4">     // Test - group subscribe listing</span>
<a href="#l61.5"></a><span id="l61.5">     test = &quot;news:*&quot;;</span>
<a href="#l61.6"></a><span id="l61.6">     setupProtocolTest(server.port, prefix + &quot;*&quot;);</span>
<a href="#l61.7"></a><span id="l61.7">     server.performTest();</span>
<a href="#l61.8"></a><span id="l61.8">     transaction = server.playTransaction();</span>
<a href="#l61.9"></a><span id="l61.9">     do_check_transaction(transaction, [&quot;MODE READER&quot;, &quot;LIST&quot;,</span>
<a href="#l61.10"></a><span id="l61.10">                                        &quot;AUTHINFO user testnews&quot;,</span>
<a href="#l61.11"></a><span id="l61.11">                                        &quot;AUTHINFO pass newstest&quot;, &quot;LIST&quot;]);</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-</span>
<a href="#l61.13"></a><span id="l61.13">   } catch (e) {</span>
<a href="#l61.14"></a><span id="l61.14">     dump(&quot;NNTP Protocol test &quot; + test + &quot; failed for type RFC 977:\n&quot;);</span>
<a href="#l61.15"></a><span id="l61.15">     try {</span>
<a href="#l61.16"></a><span id="l61.16">       var trans = server.playTransaction();</span>
<a href="#l61.17"></a><span id="l61.17">       if (trans)</span>
<a href="#l61.18"></a><span id="l61.18">         dump(&quot;Commands called: &quot; + trans.them + &quot;\n&quot;);</span>
<a href="#l61.19"></a><span id="l61.19">     } catch (exp) {}</span>
<a href="#l61.20"></a><span id="l61.20">     do_throw(e);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPassword2.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPassword2.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -72,17 +72,16 @@ add_task(async function() {</span>
<a href="#l62.4"></a><span id="l62.4">     setupProtocolTest(server.port, prefix + &quot;*&quot;, incomingServer);</span>
<a href="#l62.5"></a><span id="l62.5">     server.performTest();</span>
<a href="#l62.6"></a><span id="l62.6">     var transaction = server.playTransaction();</span>
<a href="#l62.7"></a><span id="l62.7">     do_check_transaction(transaction, [&quot;MODE READER&quot;, &quot;LIST&quot;,</span>
<a href="#l62.8"></a><span id="l62.8">                                        &quot;AUTHINFO user testnews&quot;,</span>
<a href="#l62.9"></a><span id="l62.9">                                        &quot;AUTHINFO pass newstest&quot;, &quot;LIST&quot;]);</span>
<a href="#l62.10"></a><span id="l62.10">     incomingServer.QueryInterface(Ci.nsISubscribableServer)</span>
<a href="#l62.11"></a><span id="l62.11">                   .subscribeCleanup();</span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-</span>
<a href="#l62.13"></a><span id="l62.13">   } catch (e) {</span>
<a href="#l62.14"></a><span id="l62.14">     dump(&quot;NNTP Protocol test &quot; + test + &quot; failed for type RFC 977:\n&quot;);</span>
<a href="#l62.15"></a><span id="l62.15">     try {</span>
<a href="#l62.16"></a><span id="l62.16">       var trans = server.playTransaction();</span>
<a href="#l62.17"></a><span id="l62.17">       if (trans)</span>
<a href="#l62.18"></a><span id="l62.18">         dump(&quot;Commands called: &quot; + trans.them + &quot;\n&quot;);</span>
<a href="#l62.19"></a><span id="l62.19">     } catch (exp) {}</span>
<a href="#l62.20"></a><span id="l62.20">     do_throw(e);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpUrl.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpUrl.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -12,17 +12,16 @@ function getMessageHeaderFromUrl(aUrl) {</span>
<a href="#l63.4"></a><span id="l63.4">   let msgUrl = MailServices.nntp</span>
<a href="#l63.5"></a><span id="l63.5">                 .QueryInterface(Ci.nsIProtocolHandler)</span>
<a href="#l63.6"></a><span id="l63.6">                 .newURI(aUrl)</span>
<a href="#l63.7"></a><span id="l63.7">                 .QueryInterface(Ci.nsIMsgMessageUrl);</span>
<a href="#l63.8"></a><span id="l63.8">   return msgUrl.messageHeader;</span>
<a href="#l63.9"></a><span id="l63.9"> }</span>
<a href="#l63.10"></a><span id="l63.10"> </span>
<a href="#l63.11"></a><span id="l63.11"> function run_test() {</span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-</span>
<a href="#l63.13"></a><span id="l63.13">   // This is crash test for Bug 392729</span>
<a href="#l63.14"></a><span id="l63.14">   try {</span>
<a href="#l63.15"></a><span id="l63.15">     // msgkey is invalid for news:// protocol</span>
<a href="#l63.16"></a><span id="l63.16">     getMessageHeaderFromUrl(&quot;news://localhost:119&quot; +</span>
<a href="#l63.17"></a><span id="l63.17">                             &quot;/123@example.invalid?group=test.subscribe.simple&amp;key=abcdefghijk&quot;);</span>
<a href="#l63.18"></a><span id="l63.18">     Assert.ok(false);</span>
<a href="#l63.19"></a><span id="l63.19">   } catch (e) {</span>
<a href="#l63.20"></a><span id="l63.20">     Assert.equal(e.result, Cr.NS_ERROR_MALFORMED_URI);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

