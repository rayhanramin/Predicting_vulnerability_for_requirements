<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 5665:877fe35a43f134bfa51996fff4eabb6fe0aaef44</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 877fe35a43f134bfa51996fff4eabb6fe0aaef44" />
<meta property="og:url" content="/comm-central/rev/877fe35a43f134bfa51996fff4eabb6fe0aaef44" />
<meta property="og:description" content="Bug 560007, drop MOZILLA_1_9_2_BRANCH ifdefs across c-c build system. r=KaiRo, feedback=sgautherie" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 877fe35a43f134bfa51996fff4eabb6fe0aaef44 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/877fe35a43f134bfa51996fff4eabb6fe0aaef44">shortlog</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/877fe35a43f134bfa51996fff4eabb6fe0aaef44">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/877fe35a43f134bfa51996fff4eabb6fe0aaef44">files</a> |
changeset |
<a href="/comm-central/raw-rev/877fe35a43f134bfa51996fff4eabb6fe0aaef44">raw</a>  | <a href="/comm-central/archive/877fe35a43f134bfa51996fff4eabb6fe0aaef44.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=560007">Bug 560007</a>, drop MOZILLA_1_9_2_BRANCH ifdefs across c-c build system. r=KaiRo, feedback=sgautherie
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#74;&#117;&#115;&#116;&#105;&#110;&#32;&#87;&#111;&#111;&#100;&#32;&#60;&#67;&#97;&#108;&#108;&#101;&#107;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 13 May 2010 18:18:14 -0400</td></tr>

<tr>
 <td>changeset 5665</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/877fe35a43f134bfa51996fff4eabb6fe0aaef44">877fe35a43f134bfa51996fff4eabb6fe0aaef44</a></td>
</tr>



<tr>
<td>parent 5664</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/7635166356459e82f29f8eaf1d1fd41e0b0537bf">7635166356459e82f29f8eaf1d1fd41e0b0537bf</a>
</td>
</tr>

<tr>
<td>child 5666</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/5e65e552047432e6cc9b3489c4a7aefe65bf93ba">5e65e552047432e6cc9b3489c4a7aefe65bf93ba</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=877fe35a43f134bfa51996fff4eabb6fe0aaef44">4392</a></td></tr>
<tr><td>push user</td><td>Callek@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 13 May 2010 22:52:20 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@877fe35a43f1 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=877fe35a43f134bfa51996fff4eabb6fe0aaef44">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=877fe35a43f134bfa51996fff4eabb6fe0aaef44&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=877fe35a43f134bfa51996fff4eabb6fe0aaef44&newProject=comm-central&newRevision=877fe35a43f134bfa51996fff4eabb6fe0aaef44&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=877fe35a43f134bfa51996fff4eabb6fe0aaef44&newProject=comm-central&newRevision=877fe35a43f134bfa51996fff4eabb6fe0aaef44&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=877fe35a43f134bfa51996fff4eabb6fe0aaef44&newProject=comm-central&newRevision=877fe35a43f134bfa51996fff4eabb6fe0aaef44&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28KaiRo%29&revcount=50">KaiRo</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=560007">560007</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=560007">Bug 560007</a>, drop MOZILLA_1_9_2_BRANCH ifdefs across c-c build system. r=KaiRo, feedback=sgautherie</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/Makefile.in">Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/877fe35a43f134bfa51996fff4eabb6fe0aaef44/Makefile.in">file</a> |
<a href="/comm-central/annotate/877fe35a43f134bfa51996fff4eabb6fe0aaef44/Makefile.in">annotate</a> |
<a href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/Makefile.in">diff</a> |
<a href="/comm-central/comparison/877fe35a43f134bfa51996fff4eabb6fe0aaef44/Makefile.in">comparison</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/aclocal.m4">aclocal.m4</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/877fe35a43f134bfa51996fff4eabb6fe0aaef44/aclocal.m4">file</a> |
<a href="/comm-central/annotate/877fe35a43f134bfa51996fff4eabb6fe0aaef44/aclocal.m4">annotate</a> |
<a href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/aclocal.m4">diff</a> |
<a href="/comm-central/comparison/877fe35a43f134bfa51996fff4eabb6fe0aaef44/aclocal.m4">comparison</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44/aclocal.m4">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/build/autoconf/acwinpaths.m4">build/autoconf/acwinpaths.m4</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/build/autoconf/acwinpaths.m4">diff</a> |
<a href="/comm-central/comparison/877fe35a43f134bfa51996fff4eabb6fe0aaef44/build/autoconf/acwinpaths.m4">comparison</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44/build/autoconf/acwinpaths.m4">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/build/msys-perl-wrapper">build/msys-perl-wrapper</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/build/msys-perl-wrapper">diff</a> |
<a href="/comm-central/comparison/877fe35a43f134bfa51996fff4eabb6fe0aaef44/build/msys-perl-wrapper">comparison</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44/build/msys-perl-wrapper">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/autoconf.mk.in">config/autoconf.mk.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/autoconf.mk.in">file</a> |
<a href="/comm-central/annotate/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/autoconf.mk.in">annotate</a> |
<a href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/autoconf.mk.in">diff</a> |
<a href="/comm-central/comparison/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/autoconf.mk.in">comparison</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/autoconf.mk.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/config.mk">config/config.mk</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/config.mk">file</a> |
<a href="/comm-central/annotate/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/config.mk">annotate</a> |
<a href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/config.mk">diff</a> |
<a href="/comm-central/comparison/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/config.mk">comparison</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/config.mk">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/rules.mk">config/rules.mk</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/rules.mk">file</a> |
<a href="/comm-central/annotate/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/rules.mk">annotate</a> |
<a href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/rules.mk">diff</a> |
<a href="/comm-central/comparison/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/rules.mk">comparison</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44/config/rules.mk">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/configure.in">configure.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/877fe35a43f134bfa51996fff4eabb6fe0aaef44/configure.in">file</a> |
<a href="/comm-central/annotate/877fe35a43f134bfa51996fff4eabb6fe0aaef44/configure.in">annotate</a> |
<a href="/comm-central/diff/877fe35a43f134bfa51996fff4eabb6fe0aaef44/configure.in">diff</a> |
<a href="/comm-central/comparison/877fe35a43f134bfa51996fff4eabb6fe0aaef44/configure.in">comparison</a> |
<a href="/comm-central/log/877fe35a43f134bfa51996fff4eabb6fe0aaef44/configure.in">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/Makefile.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/Makefile.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -102,20 +102,18 @@ ifeq ($(OS_ARCH),WINNT)</span>
<a href="#l1.4"></a><span id="l1.4">   MAKE_SYM_STORE_PATH=..</span>
<a href="#l1.5"></a><span id="l1.5"> endif</span>
<a href="#l1.6"></a><span id="l1.6"> </span>
<a href="#l1.7"></a><span id="l1.7"> buildsymbols ::</span>
<a href="#l1.8"></a><span id="l1.8"> 	$(MAKE) -C mozilla MAKE_SYM_STORE_PATH=$(MAKE_SYM_STORE_PATH) SYM_STORE_SOURCE_DIRS=&quot;$(topsrcdir)/mozilla/extensions/inspector $(topsrcdir)/mozilla $(topsrcdir)&quot; $@</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-ifndef MOZILLA_1_9_2_BRANCH</span>
<a href="#l1.13"></a><span id="l1.13"> # defined in (mozilla/.../)package-name.mk</span>
<a href="#l1.14"></a><span id="l1.14"> export MOZ_SOURCE_STAMP</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-endif</span>
<a href="#l1.16"></a><span id="l1.16"> </span>
<a href="#l1.17"></a><span id="l1.17"> DIST_GARBAGE = config.cache config.log config.status config-defs.h \</span>
<a href="#l1.18"></a><span id="l1.18">    dependencies.beos config/autoconf.mk \</span>
<a href="#l1.19"></a><span id="l1.19">    unallmakefiles comm-config.h \</span>
<a href="#l1.20"></a><span id="l1.20">    $(topsrcdir)/.mozconfig.mk $(topsrcdir)/.mozconfig.out</span>
<a href="#l1.21"></a><span id="l1.21"> </span>
<a href="#l1.22"></a><span id="l1.22"> distclean::</span>
<a href="#l1.23"></a><span id="l1.23"> 	cat unallmakefiles | $(XARGS) rm -f</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/aclocal.m4</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/aclocal.m4</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -7,19 +7,17 @@ builtin(include, mozilla/build/autoconf/</span>
<a href="#l2.4"></a><span id="l2.4"> builtin(include, mozilla/build/autoconf/libIDL.m4)dnl</span>
<a href="#l2.5"></a><span id="l2.5"> builtin(include, mozilla/build/autoconf/nspr.m4)dnl</span>
<a href="#l2.6"></a><span id="l2.6"> builtin(include, mozilla/build/autoconf/nss.m4)dnl</span>
<a href="#l2.7"></a><span id="l2.7"> builtin(include, mozilla/build/autoconf/pkg.m4)dnl</span>
<a href="#l2.8"></a><span id="l2.8"> builtin(include, mozilla/build/autoconf/freetype2.m4)dnl</span>
<a href="#l2.9"></a><span id="l2.9"> builtin(include, mozilla/build/autoconf/codeset.m4)dnl</span>
<a href="#l2.10"></a><span id="l2.10"> builtin(include, mozilla/build/autoconf/altoptions.m4)dnl</span>
<a href="#l2.11"></a><span id="l2.11"> builtin(include, mozilla/build/autoconf/mozprog.m4)dnl</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-dnl use mozilla/build below when we drop support for MOZILLA_1_9_2_BRANCH</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-builtin(include, build/autoconf/acwinpaths.m4)dnl</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+builtin(include, mozilla/build/autoconf/acwinpaths.m4)dnl</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> MOZ_PROG_CHECKMSYS()</span>
<a href="#l2.18"></a><span id="l2.18"> </span>
<a href="#l2.19"></a><span id="l2.19"> # Read the user's .mozconfig script.  We can't do this in</span>
<a href="#l2.20"></a><span id="l2.20"> # configure.in: autoconf puts the argument parsing code above anything</span>
<a href="#l2.21"></a><span id="l2.21"> # expanded from configure.in, and we need to get the configure options</span>
<a href="#l2.22"></a><span id="l2.22"> # from .mozconfig in place before that argument parsing code.</span>
<a href="#l2.23"></a><span id="l2.23"> MOZ_READ_MOZCONFIG(mozilla)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">deleted file mode 100644</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineminus">--- a/build/autoconf/acwinpaths.m4</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineplus">+++ /dev/null</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineat">@@ -1,68 +0,0 @@</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineminus">-dnl ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l3.6"></a><span id="l3.6" class="difflineminus">-dnl Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l3.7"></a><span id="l3.7" class="difflineminus">-dnl</span>
<a href="#l3.8"></a><span id="l3.8" class="difflineminus">-dnl The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineminus">-dnl 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineminus">-dnl the License. You may obtain a copy of the License at</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineminus">-dnl http://www.mozilla.org/MPL/</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-dnl</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-dnl Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-dnl WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-dnl for the specific language governing rights and limitations under the</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-dnl License.</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineminus">-dnl</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-dnl The Original Code is mozilla.org code.</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">-dnl</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-dnl The Initial Developer of the Original Code is the</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-dnl Mozilla Foundation &lt;http://www.mozilla.org&gt;</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineminus">-dnl</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineminus">-dnl Portions created by the Initial Developer are Copyright (C) 2009</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineminus">-dnl the Initial Developer. All Rights Reserved.</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineminus">-dnl</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineminus">-dnl Contributor(s):</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineminus">-dnl   Benjamin Smedberg</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineminus">-dnl</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-dnl Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-dnl either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-dnl or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-dnl in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-dnl of those above. If you wish to allow use of your version of this file only</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineminus">-dnl under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineminus">-dnl use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineminus">-dnl decision by deleting the provisions above and replace them with the notice</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineminus">-dnl and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineminus">-dnl the provisions above, a recipient may use your version of this file under</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineminus">-dnl the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineminus">-dnl</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineminus">-dnl ***** END LICENSE BLOCK *****</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineminus">-</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineminus">-dnl this file exists in c-c only for MOZILLA_1_9_2_BRANCH</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineminus">-dnl and is a mirror of the same file in mozilla-central (1.9.3)</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineminus">-</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineminus">-define(GENERATE_SUB_ABS, [</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineminus">-define([AC_OUTPUT_FILES_SUB1], [</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineminus">-patsubst($@, [/\*)], [/* | ?:/*)])</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineminus">-])</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineminus">-])</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineminus">-GENERATE_SUB_ABS(defn([AC_OUTPUT_FILES]))</span>
<a href="#l3.52"></a><span id="l3.52" class="difflineminus">-</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineminus">-define(GENERATE_SUB_NOSPLIT, [</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineminus">-define([AC_OUTPUT_FILES], [</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineminus">-patsubst($@, [-e &quot;s%:% \$ac_given_srcdir/%g&quot;], [])</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-])</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineminus">-])</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineminus">-GENERATE_SUB_NOSPLIT(defn([AC_OUTPUT_FILES_SUB1]))</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineminus">-</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineminus">-define(GENERATE_HEADER_NOSPLIT, [</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineminus">-define([AC_OUTPUT_HEADER], [</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineminus">-patsubst($@, [-e &quot;s%:% \$ac_given_srcdir/%g&quot;], [])</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineminus">-])</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineminus">-])</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineminus">-GENERATE_HEADER_NOSPLIT(defn([AC_OUTPUT_HEADER]))</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineminus">-</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineminus">-define(GENERATE_SUBDIRS_ABS, [</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-define([AC_OUTPUT_SUBDIRS], [</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-patsubst($@, [/\*)], [/* | ?:/*)])</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineminus">-])</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineminus">-])</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineminus">-GENERATE_SUBDIRS_ABS(defn([AC_OUTPUT_SUBDIRS]))</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">deleted file mode 100644</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineminus">--- a/build/msys-perl-wrapper</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineplus">+++ /dev/null</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineat">@@ -1,19 +0,0 @@</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineminus">-#!/bin/sh</span>
<a href="#l4.6"></a><span id="l4.6" class="difflineminus">-</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineminus">-# this file exists in c-c only for MOZILLA_1_9_2_BRANCH</span>
<a href="#l4.8"></a><span id="l4.8" class="difflineminus">-# and is a mirror of the same file in mozilla-central (1.9.3)</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineminus">-</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineminus">-args=&quot;&quot;</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineminus">-</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-for i in &quot;${@}&quot;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-do</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-    case &quot;$i&quot; in</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-    -I?:/*)</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-        i=&quot;$(echo &quot;${i}&quot; | sed -e 's|^-I\(.\):/|-I/\1/|')&quot;</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineminus">-	;;</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineminus">-    esac</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineminus">-</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineminus">-    args=&quot;${args} '${i}'&quot;</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineminus">-done</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineminus">-</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineminus">-eval &quot;exec perl $args&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/config/autoconf.mk.in</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/config/autoconf.mk.in</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -39,17 +39,16 @@</span>
<a href="#l5.4"></a><span id="l5.4"> # A netscape style .mk file for autoconf builds</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6"> INCLUDED_AUTOCONF_MK = 1</span>
<a href="#l5.7"></a><span id="l5.7"> USE_AUTOCONF 	= 1</span>
<a href="#l5.8"></a><span id="l5.8"> MOZILLA_CLIENT	= 1</span>
<a href="#l5.9"></a><span id="l5.9"> COMM_BUILD = @COMM_BUILD@</span>
<a href="#l5.10"></a><span id="l5.10"> MOZILLA_SRCDIR = $(topsrcdir)/mozilla</span>
<a href="#l5.11"></a><span id="l5.11"> MOZILLA_VERSION = @MOZILLA_VERSION@</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-MOZILLA_1_9_2_BRANCH = @MOZILLA_1_9_2_BRANCH@</span>
<a href="#l5.13"></a><span id="l5.13"> </span>
<a href="#l5.14"></a><span id="l5.14"> THUNDERBIRD_VERSION	= @THUNDERBIRD_VERSION@</span>
<a href="#l5.15"></a><span id="l5.15"> SUNBIRD_VERSION = @SUNBIRD_VERSION@</span>
<a href="#l5.16"></a><span id="l5.16"> SEAMONKEY_VERSION	= @SEAMONKEY_VERSION@</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18"> MOZ_BUILD_APP = @MOZ_BUILD_APP@</span>
<a href="#l5.19"></a><span id="l5.19"> MOZ_APP_NAME	= @MOZ_APP_NAME@</span>
<a href="#l5.20"></a><span id="l5.20"> MOZ_APP_DISPLAYNAME = @MOZ_APP_DISPLAYNAME@</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineat">@@ -94,19 +93,17 @@ MOZ_DEBUG	= @MOZ_DEBUG@</span>
<a href="#l5.22"></a><span id="l5.22"> MOZ_DEBUG_MODULES = @MOZ_DEBUG_MODULES@</span>
<a href="#l5.23"></a><span id="l5.23"> MOZ_PROFILE_MODULES = @MOZ_PROFILE_MODULES@</span>
<a href="#l5.24"></a><span id="l5.24"> MOZ_DEBUG_ENABLE_DEFS		= @MOZ_DEBUG_ENABLE_DEFS@</span>
<a href="#l5.25"></a><span id="l5.25"> MOZ_DEBUG_DISABLE_DEFS	= @MOZ_DEBUG_DISABLE_DEFS@</span>
<a href="#l5.26"></a><span id="l5.26"> MOZ_DEBUG_FLAGS	= @MOZ_DEBUG_FLAGS@</span>
<a href="#l5.27"></a><span id="l5.27"> MOZ_DEBUG_LDFLAGS=@MOZ_DEBUG_LDFLAGS@</span>
<a href="#l5.28"></a><span id="l5.28"> MOZ_DBGRINFO_MODULES	= @MOZ_DBGRINFO_MODULES@</span>
<a href="#l5.29"></a><span id="l5.29"> MOZ_JSDEBUGGER  = @MOZ_JSDEBUGGER@</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineminus">-ifndef MOZILLA_1_9_2_BRANCH</span>
<a href="#l5.31"></a><span id="l5.31"> MOZ_IPC 	= @MOZ_IPC@</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineminus">-endif</span>
<a href="#l5.33"></a><span id="l5.33"> MOZ_MEMORY      = @MOZ_MEMORY@</span>
<a href="#l5.34"></a><span id="l5.34"> MOZ_JPROF       = @MOZ_JPROF@</span>
<a href="#l5.35"></a><span id="l5.35"> MOZ_SHARK       = @MOZ_SHARK@</span>
<a href="#l5.36"></a><span id="l5.36"> DEHYDRA_PATH    = @DEHYDRA_PATH@</span>
<a href="#l5.37"></a><span id="l5.37"> </span>
<a href="#l5.38"></a><span id="l5.38"> ENABLE_EAZEL_PROFILER=@ENABLE_EAZEL_PROFILER@</span>
<a href="#l5.39"></a><span id="l5.39"> EAZEL_PROFILER_CFLAGS=@EAZEL_PROFILER_CFLAGS@</span>
<a href="#l5.40"></a><span id="l5.40"> EAZEL_PROFILER_LIBS=@EAZEL_PROFILER_LIBS@</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineat">@@ -310,19 +307,17 @@ CXX		    = @CXX@</span>
<a href="#l5.42"></a><span id="l5.42"> GNU_AS		= @GNU_AS@</span>
<a href="#l5.43"></a><span id="l5.43"> GNU_LD		= @GNU_LD@</span>
<a href="#l5.44"></a><span id="l5.44"> GNU_CC		= @GNU_CC@</span>
<a href="#l5.45"></a><span id="l5.45"> GNU_CXX		= @GNU_CXX@</span>
<a href="#l5.46"></a><span id="l5.46"> HAVE_GCC3_ABI	= @HAVE_GCC3_ABI@</span>
<a href="#l5.47"></a><span id="l5.47"> INTEL_CC	= @INTEL_CC@</span>
<a href="#l5.48"></a><span id="l5.48"> INTEL_CXX	= @INTEL_CXX@</span>
<a href="#l5.49"></a><span id="l5.49"> </span>
<a href="#l5.50"></a><span id="l5.50" class="difflineminus">-ifndef MOZILLA_1_9_2_BRANCH</span>
<a href="#l5.51"></a><span id="l5.51"> STL_FLAGS		= @STL_FLAGS@</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineminus">-endif</span>
<a href="#l5.53"></a><span id="l5.53"> </span>
<a href="#l5.54"></a><span id="l5.54"> MOZ_MSVC_STL_WRAP__Throw= @MOZ_MSVC_STL_WRAP__Throw@</span>
<a href="#l5.55"></a><span id="l5.55"> MOZ_MSVC_STL_WRAP__RAISE= @MOZ_MSVC_STL_WRAP__RAISE@</span>
<a href="#l5.56"></a><span id="l5.56"> HOST_CC		= @HOST_CC@</span>
<a href="#l5.57"></a><span id="l5.57"> HOST_CXX	= @HOST_CXX@</span>
<a href="#l5.58"></a><span id="l5.58"> HOST_CFLAGS	= @HOST_CFLAGS@</span>
<a href="#l5.59"></a><span id="l5.59"> HOST_CXXFLAGS	= @HOST_CXXFLAGS@</span>
<a href="#l5.60"></a><span id="l5.60"> HOST_OPTIMIZE_FLAGS = @HOST_OPTIMIZE_FLAGS@</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineat">@@ -479,20 +474,16 @@ MOZ_AUTO_DEPS	= @MOZ_AUTO_DEPS@</span>
<a href="#l5.62"></a><span id="l5.62"> COMPILER_DEPEND = @COMPILER_DEPEND@</span>
<a href="#l5.63"></a><span id="l5.63"> MDDEPDIR        := @MDDEPDIR@</span>
<a href="#l5.64"></a><span id="l5.64"> </span>
<a href="#l5.65"></a><span id="l5.65"> MOZ_DEMANGLE_SYMBOLS = @MOZ_DEMANGLE_SYMBOLS@</span>
<a href="#l5.66"></a><span id="l5.66"> </span>
<a href="#l5.67"></a><span id="l5.67"> # XXX - these need to be cleaned up and have real checks added -cls</span>
<a href="#l5.68"></a><span id="l5.68"> CM_BLDTYPE=dbg</span>
<a href="#l5.69"></a><span id="l5.69"> AWT_11=1</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineminus">-# Windows m-1.9.2 /toolkit/mozapps/installer/package-name.mk needs this variable.</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineminus">-MOZ_BITS=32</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineminus">-endif</span>
<a href="#l5.74"></a><span id="l5.74"> OS_TARGET=@OS_TARGET@</span>
<a href="#l5.75"></a><span id="l5.75"> OS_ARCH=@OS_ARCH@</span>
<a href="#l5.76"></a><span id="l5.76"> OS_RELEASE=@OS_RELEASE@</span>
<a href="#l5.77"></a><span id="l5.77"> OS_TEST=@OS_TEST@</span>
<a href="#l5.78"></a><span id="l5.78"> </span>
<a href="#l5.79"></a><span id="l5.79"> # For Solaris build</span>
<a href="#l5.80"></a><span id="l5.80"> SOLARIS_SUNPRO_CC = @SOLARIS_SUNPRO_CC@</span>
<a href="#l5.81"></a><span id="l5.81"> SOLARIS_SUNPRO_CXX = @SOLARIS_SUNPRO_CXX@</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/config/config.mk</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/config/config.mk</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -149,21 +149,17 @@ FINAL_LINK_LIBS = $(MOZDEPTH)/config/fin</span>
<a href="#l6.4"></a><span id="l6.4"> FINAL_LINK_COMPS = $(MOZDEPTH)/config/final-link-comps</span>
<a href="#l6.5"></a><span id="l6.5"> FINAL_LINK_COMP_NAMES = $(MOZDEPTH)/config/final-link-comp-names</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7"> MOZ_UNICHARUTIL_LIBS = $(LIBXUL_DIST)/lib/$(LIB_PREFIX)unicharutil_s.$(LIB_SUFFIX)</span>
<a href="#l6.8"></a><span id="l6.8"> MOZ_WIDGET_SUPPORT_LIBS    = $(DIST)/lib/$(LIB_PREFIX)widgetsupport_s.$(LIB_SUFFIX)</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10"> ifdef MOZ_MEMORY</span>
<a href="#l6.11"></a><span id="l6.11"> ifneq (,$(filter-out WINNT WINCE,$(OS_ARCH)))</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-JEMALLOC_LIBS = $(MKSHLIB_FORCE_ALL) $(call EXPAND_LIBNAME_PATH,jemalloc,$(DIST)/lib) $(MKSHLIB_UNFORCE_ALL)</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-else</span>
<a href="#l6.15"></a><span id="l6.15"> JEMALLOC_LIBS = $(MKSHLIB_FORCE_ALL) $(call EXPAND_MOZLIBNAME,jemalloc) $(MKSHLIB_UNFORCE_ALL)</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-endif # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.17"></a><span id="l6.17"> endif</span>
<a href="#l6.18"></a><span id="l6.18"> endif</span>
<a href="#l6.19"></a><span id="l6.19"> </span>
<a href="#l6.20"></a><span id="l6.20"> # determine debug-related options</span>
<a href="#l6.21"></a><span id="l6.21"> _DEBUG_CFLAGS :=</span>
<a href="#l6.22"></a><span id="l6.22"> _DEBUG_LDFLAGS :=</span>
<a href="#l6.23"></a><span id="l6.23"> </span>
<a href="#l6.24"></a><span id="l6.24"> ifndef MOZ_DEBUG</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineat">@@ -232,19 +228,17 @@ else</span>
<a href="#l6.26"></a><span id="l6.26">       ifeq ($(first_match), ^ALL_MODULES)</span>
<a href="#l6.27"></a><span id="l6.27">         # the user didn't mention this module explicitly, </span>
<a href="#l6.28"></a><span id="l6.28">         # but wanted all modules to be compiled without -g (nothing to do)</span>
<a href="#l6.29"></a><span id="l6.29">       endif</span>
<a href="#l6.30"></a><span id="l6.30">     endif</span>
<a href="#l6.31"></a><span id="l6.31">   endif</span>
<a href="#l6.32"></a><span id="l6.32"> endif</span>
<a href="#l6.33"></a><span id="l6.33"> </span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-ifndef MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.35"></a><span id="l6.35"> MOZALLOC_LIB = $(call EXPAND_MOZLIBNAME,mozalloc)</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineminus">-endif</span>
<a href="#l6.37"></a><span id="l6.37"> </span>
<a href="#l6.38"></a><span id="l6.38"> # append debug flags </span>
<a href="#l6.39"></a><span id="l6.39"> # (these might have been above when processing MOZ_DBGRINFO_MODULES)</span>
<a href="#l6.40"></a><span id="l6.40"> OS_CFLAGS += $(_DEBUG_CFLAGS)</span>
<a href="#l6.41"></a><span id="l6.41"> OS_CXXFLAGS += $(_DEBUG_CFLAGS)</span>
<a href="#l6.42"></a><span id="l6.42"> OS_LDFLAGS += $(_DEBUG_LDFLAGS)</span>
<a href="#l6.43"></a><span id="l6.43"> </span>
<a href="#l6.44"></a><span id="l6.44"> # XXX: What does this? Bug 482434 filed for better explanation.</span>
<a href="#l6.45"></a><span id="l6.45" class="difflineat">@@ -266,21 +260,16 @@ endif</span>
<a href="#l6.46"></a><span id="l6.46"> </span>
<a href="#l6.47"></a><span id="l6.47"> # MOZ_DEBUG_SYMBOLS generates debug symbols in separate PDB files.</span>
<a href="#l6.48"></a><span id="l6.48"> # Used for generating an optimized build with debugging symbols.</span>
<a href="#l6.49"></a><span id="l6.49"> # Used in the Windows nightlies to generate symbols for crash reporting.</span>
<a href="#l6.50"></a><span id="l6.50"> ifdef MOZ_DEBUG_SYMBOLS</span>
<a href="#l6.51"></a><span id="l6.51"> OS_CXXFLAGS += -Zi -UDEBUG -DNDEBUG</span>
<a href="#l6.52"></a><span id="l6.52"> OS_CFLAGS += -Zi -UDEBUG -DNDEBUG</span>
<a href="#l6.53"></a><span id="l6.53"> OS_LDFLAGS += -DEBUG -OPT:REF</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineminus">-# This breaks builds on VC10, but mozilla-1.9.2 doesn't build with VC10 anyway,</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineminus">-# so this isn't a big loss.</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineminus">-OS_LDFLAGS += -OPT:NOWIN98</span>
<a href="#l6.58"></a><span id="l6.58" class="difflineminus">-endif # MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.59"></a><span id="l6.59"> endif # MOZ_DEBUG_SYMBOLS</span>
<a href="#l6.60"></a><span id="l6.60"> </span>
<a href="#l6.61"></a><span id="l6.61"> ifdef MOZ_QUANTIFY</span>
<a href="#l6.62"></a><span id="l6.62"> # -FIXED:NO is needed for Quantify to work, but it increases the size</span>
<a href="#l6.63"></a><span id="l6.63"> # of executables, so only use it if building for Quantify.</span>
<a href="#l6.64"></a><span id="l6.64"> WIN32_EXE_LDFLAGS += -FIXED:NO</span>
<a href="#l6.65"></a><span id="l6.65"> </span>
<a href="#l6.66"></a><span id="l6.66"> # We need -OPT:NOICF to prevent identical methods from being merged together.</span>
<a href="#l6.67"></a><span id="l6.67" class="difflineat">@@ -592,21 +581,17 @@ ifeq ($(OS_ARCH),Darwin)</span>
<a href="#l6.68"></a><span id="l6.68"> # Darwin doesn't cross-compile, so just set both types of flags here.</span>
<a href="#l6.69"></a><span id="l6.69"> HOST_CMFLAGS += -fobjc-exceptions</span>
<a href="#l6.70"></a><span id="l6.70"> HOST_CMMFLAGS += -fobjc-exceptions</span>
<a href="#l6.71"></a><span id="l6.71"> OS_COMPILE_CMFLAGS += -fobjc-exceptions</span>
<a href="#l6.72"></a><span id="l6.72"> OS_COMPILE_CMMFLAGS += -fobjc-exceptions</span>
<a href="#l6.73"></a><span id="l6.73"> endif</span>
<a href="#l6.74"></a><span id="l6.74"> </span>
<a href="#l6.75"></a><span id="l6.75"> COMPILE_CFLAGS	= $(VISIBILITY_FLAGS) $(DEFINES) $(INCLUDES) $(PROFILER_CFLAGS) $(DSO_CFLAGS) $(DSO_PIC_CFLAGS) $(CFLAGS) $(RTL_FLAGS) $(OS_COMPILE_CFLAGS)</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.77"></a><span id="l6.77" class="difflineminus">-COMPILE_CXXFLAGS = $(VISIBILITY_FLAGS) $(DEFINES) $(INCLUDES) $(PROFILER_CFLAGS) $(DSO_CFLAGS) $(DSO_PIC_CFLAGS) $(CXXFLAGS) $(RTL_FLAGS) $(OS_COMPILE_CXXFLAGS)</span>
<a href="#l6.78"></a><span id="l6.78" class="difflineminus">-else</span>
<a href="#l6.79"></a><span id="l6.79"> COMPILE_CXXFLAGS = $(STL_FLAGS) $(VISIBILITY_FLAGS) $(DEFINES) $(INCLUDES) $(PROFILER_CFLAGS) $(DSO_CFLAGS) $(DSO_PIC_CFLAGS) $(CXXFLAGS) $(RTL_FLAGS) $(OS_COMPILE_CXXFLAGS)</span>
<a href="#l6.80"></a><span id="l6.80" class="difflineminus">-endif</span>
<a href="#l6.81"></a><span id="l6.81"> COMPILE_CMFLAGS = $(OS_COMPILE_CMFLAGS)</span>
<a href="#l6.82"></a><span id="l6.82"> COMPILE_CMMFLAGS = $(OS_COMPILE_CMMFLAGS)</span>
<a href="#l6.83"></a><span id="l6.83"> </span>
<a href="#l6.84"></a><span id="l6.84"> ifndef CROSS_COMPILE</span>
<a href="#l6.85"></a><span id="l6.85"> HOST_CFLAGS += $(RTL_FLAGS)</span>
<a href="#l6.86"></a><span id="l6.86"> endif</span>
<a href="#l6.87"></a><span id="l6.87"> </span>
<a href="#l6.88"></a><span id="l6.88"> #</span>
<a href="#l6.89"></a><span id="l6.89" class="difflineat">@@ -651,21 +636,19 @@ DEFINES +=  -DXPCONNECT_STANDALONE</span>
<a href="#l6.90"></a><span id="l6.90"> endif</span>
<a href="#l6.91"></a><span id="l6.91"> </span>
<a href="#l6.92"></a><span id="l6.92"> ifeq ($(OS_ARCH),OS2)</span>
<a href="#l6.93"></a><span id="l6.93"> ELF_DYNSTR_GC	= echo</span>
<a href="#l6.94"></a><span id="l6.94"> else</span>
<a href="#l6.95"></a><span id="l6.95"> ELF_DYNSTR_GC	= :</span>
<a href="#l6.96"></a><span id="l6.96"> endif</span>
<a href="#l6.97"></a><span id="l6.97"> </span>
<a href="#l6.98"></a><span id="l6.98" class="difflineminus">-ifndef MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.99"></a><span id="l6.99"> ifeq ($(MOZ_WIDGET_TOOLKIT),qt)</span>
<a href="#l6.100"></a><span id="l6.100"> OS_LIBS += $(MOZ_QT_LIBS)</span>
<a href="#l6.101"></a><span id="l6.101"> endif</span>
<a href="#l6.102"></a><span id="l6.102" class="difflineminus">-endif # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.103"></a><span id="l6.103"> </span>
<a href="#l6.104"></a><span id="l6.104"> ifndef CROSS_COMPILE</span>
<a href="#l6.105"></a><span id="l6.105"> ifdef USE_ELF_DYNSTR_GC</span>
<a href="#l6.106"></a><span id="l6.106"> ifdef MOZ_COMPONENTS_VERSION_SCRIPT_LDFLAGS</span>
<a href="#l6.107"></a><span id="l6.107"> ELF_DYNSTR_GC 	= $(MOZDEPTH)/config/elf-dynstr-gc</span>
<a href="#l6.108"></a><span id="l6.108"> endif</span>
<a href="#l6.109"></a><span id="l6.109"> endif</span>
<a href="#l6.110"></a><span id="l6.110"> endif</span>
<a href="#l6.111"></a><span id="l6.111" class="difflineat">@@ -850,19 +833,17 @@ MAKE_JARS_FLAGS += -c $(LOCALE_MERGEDIR)</span>
<a href="#l6.112"></a><span id="l6.112"> endif</span>
<a href="#l6.113"></a><span id="l6.113"> MAKE_JARS_FLAGS += -c $(LOCALE_SRCDIR)</span>
<a href="#l6.114"></a><span id="l6.114"> ifdef LOCALE_MERGEDIR</span>
<a href="#l6.115"></a><span id="l6.115"> MAKE_JARS_FLAGS += -c $(topsrcdir)/$(relativesrcdir)/en-US</span>
<a href="#l6.116"></a><span id="l6.116"> endif</span>
<a href="#l6.117"></a><span id="l6.117"> endif</span>
<a href="#l6.118"></a><span id="l6.118"> </span>
<a href="#l6.119"></a><span id="l6.119"> ifdef WINCE</span>
<a href="#l6.120"></a><span id="l6.120" class="difflineminus">-ifndef MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.121"></a><span id="l6.121"> RUN_TEST_PROGRAM = $(PYTHON) $(MOZILLA_SRCDIR)/build/mobile/devicemanager-run-test.py</span>
<a href="#l6.122"></a><span id="l6.122" class="difflineminus">-endif # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l6.123"></a><span id="l6.123"> else</span>
<a href="#l6.124"></a><span id="l6.124"> ifeq (OS2,$(OS_ARCH))</span>
<a href="#l6.125"></a><span id="l6.125"> RUN_TEST_PROGRAM = $(MOZILLA_SRCDIR)/build/os2/test_os2.cmd &quot;$(DIST)&quot;</span>
<a href="#l6.126"></a><span id="l6.126"> else</span>
<a href="#l6.127"></a><span id="l6.127"> ifneq (WINNT,$(OS_ARCH))</span>
<a href="#l6.128"></a><span id="l6.128"> RUN_TEST_PROGRAM = $(DIST)/bin/run-mozilla.sh</span>
<a href="#l6.129"></a><span id="l6.129"> endif # ! WINNT</span>
<a href="#l6.130"></a><span id="l6.130"> endif # ! OS2</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/config/rules.mk</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/config/rules.mk</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -150,25 +150,19 @@ define _INSTALL_TESTS</span>
<a href="#l7.4"></a><span id="l7.4"> $(TEST_INSTALLER) $(wildcard $(srcdir)/$(dir)/*) $(testxpcobjdir)/$(MODULE)/$(dir)</span>
<a href="#l7.5"></a><span id="l7.5"> </span>
<a href="#l7.6"></a><span id="l7.6"> endef # do not remove the blank line!</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> SOLO_FILE ?= $(error Specify a test filename in SOLO_FILE when using check-interactive or check-one)</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10"> libs::</span>
<a href="#l7.11"></a><span id="l7.11"> 	$(foreach dir,$(XPCSHELL_TESTS),$(_INSTALL_TESTS))</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-	$(PERL) -I$(MOZILLA_DIR)/config $(MOZILLA_DIR)/config/build-list.pl \</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-	  $(testxpcobjdir)/all-test-dirs.list \</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-	  $(addprefix $(MODULE)/,$(XPCSHELL_TESTS))</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-else</span>
<a href="#l7.17"></a><span id="l7.17"> 	$(PYTHON) $(MOZILLA_DIR)/config/buildlist.py \</span>
<a href="#l7.18"></a><span id="l7.18"> 	  $(testxpcobjdir)/all-test-dirs.list \</span>
<a href="#l7.19"></a><span id="l7.19"> 	  $(addprefix $(MODULE)/,$(XPCSHELL_TESTS))</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-endif</span>
<a href="#l7.21"></a><span id="l7.21"> </span>
<a href="#l7.22"></a><span id="l7.22"> testxpcsrcdir = $(MOZILLA_SRCDIR)/testing/xpcshell</span>
<a href="#l7.23"></a><span id="l7.23"> </span>
<a href="#l7.24"></a><span id="l7.24"> # Execute all tests in the $(XPCSHELL_TESTS) directories.</span>
<a href="#l7.25"></a><span id="l7.25"> # See also $(MOZILLA_DIR)/testing/testsuite-targets.mk 'xpcshell-tests' target for global execution.</span>
<a href="#l7.26"></a><span id="l7.26"> xpcshell-tests:</span>
<a href="#l7.27"></a><span id="l7.27"> 	$(PYTHON) -u $(MOZILLA_DIR)/config/pythonpath.py \</span>
<a href="#l7.28"></a><span id="l7.28"> 	  -I$(MOZILLA_DIR)/build \</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineat">@@ -349,24 +343,22 @@ endif</span>
<a href="#l7.30"></a><span id="l7.30"> </span>
<a href="#l7.31"></a><span id="l7.31"> endif # !GNU_CC</span>
<a href="#l7.32"></a><span id="l7.32"> </span>
<a href="#l7.33"></a><span id="l7.33"> ifdef ENABLE_CXX_EXCEPTIONS</span>
<a href="#l7.34"></a><span id="l7.34"> CXXFLAGS += $(MOZ_EXCEPTIONS_FLAGS_ON) -DMOZ_CPP_EXCEPTIONS=1</span>
<a href="#l7.35"></a><span id="l7.35"> endif # ENABLE_CXX_EXCEPTIONS</span>
<a href="#l7.36"></a><span id="l7.36"> endif # WINNT</span>
<a href="#l7.37"></a><span id="l7.37"> </span>
<a href="#l7.38"></a><span id="l7.38" class="difflineminus">-ifndef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.39"></a><span id="l7.39"> ifeq ($(SOLARIS_SUNPRO_CXX),1)</span>
<a href="#l7.40"></a><span id="l7.40"> CXXFLAGS += -features=extensions -D__FUNCTION__=__func__</span>
<a href="#l7.41"></a><span id="l7.41"> ifeq (86,$(findstring 86,$(OS_TEST)))</span>
<a href="#l7.42"></a><span id="l7.42"> OS_LDFLAGS += -M $(MOZILLA_DIR)/config/solaris_ia32.map</span>
<a href="#l7.43"></a><span id="l7.43"> endif # x86</span>
<a href="#l7.44"></a><span id="l7.44"> endif # Solaris Sun Studio C++</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-endif # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.46"></a><span id="l7.46"> </span>
<a href="#l7.47"></a><span id="l7.47"> ifeq (,$(filter-out WINNT WINCE,$(HOST_OS_ARCH)))</span>
<a href="#l7.48"></a><span id="l7.48"> HOST_PDBFILE=$(basename $(@F)).pdb</span>
<a href="#l7.49"></a><span id="l7.49"> endif</span>
<a href="#l7.50"></a><span id="l7.50"> </span>
<a href="#l7.51"></a><span id="l7.51"> ifndef TARGETS</span>
<a href="#l7.52"></a><span id="l7.52"> TARGETS			= $(LIBRARY) $(SHARED_LIBRARY) $(PROGRAM) $(SIMPLE_PROGRAMS) $(HOST_LIBRARY) $(HOST_PROGRAM) $(HOST_SIMPLE_PROGRAMS)</span>
<a href="#l7.53"></a><span id="l7.53"> endif</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineat">@@ -811,62 +803,48 @@ endif</span>
<a href="#l7.55"></a><span id="l7.55"> #</span>
<a href="#l7.56"></a><span id="l7.56"> # Rule to create list of libraries for final link</span>
<a href="#l7.57"></a><span id="l7.57"> #</span>
<a href="#l7.58"></a><span id="l7.58"> export::</span>
<a href="#l7.59"></a><span id="l7.59"> ifdef LIBRARY_NAME</span>
<a href="#l7.60"></a><span id="l7.60"> ifdef EXPORT_LIBRARY</span>
<a href="#l7.61"></a><span id="l7.61"> ifdef IS_COMPONENT</span>
<a href="#l7.62"></a><span id="l7.62"> ifdef BUILD_STATIC_LIBS</span>
<a href="#l7.63"></a><span id="l7.63" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.64"></a><span id="l7.64" class="difflineminus">-	@$(PERL) -I$(MOZILLA_DIR)/config $(MOZILLA_DIR)/config/build-list.pl $(FINAL_LINK_COMPS) $(STATIC_LIBRARY_NAME)</span>
<a href="#l7.65"></a><span id="l7.65" class="difflineminus">-else</span>
<a href="#l7.66"></a><span id="l7.66"> 	@$(PYTHON) $(MOZILLA_DIR)/config/buildlist.py $(FINAL_LINK_COMPS) $(STATIC_LIBRARY_NAME)</span>
<a href="#l7.67"></a><span id="l7.67" class="difflineminus">-endif</span>
<a href="#l7.68"></a><span id="l7.68"> ifdef MODULE_NAME</span>
<a href="#l7.69"></a><span id="l7.69" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.70"></a><span id="l7.70" class="difflineminus">-	@$(PERL) -I$(MOZILLA_DIR)/config $(MOZILLA_DIR)/config/build-list.pl $(FINAL_LINK_COMP_NAMES) $(MODULE_NAME)</span>
<a href="#l7.71"></a><span id="l7.71" class="difflineminus">-else</span>
<a href="#l7.72"></a><span id="l7.72"> 	@$(PYTHON) $(MOZILLA_DIR)/config/buildlist.py $(FINAL_LINK_COMP_NAMES) $(MODULE_NAME)</span>
<a href="#l7.73"></a><span id="l7.73"> endif</span>
<a href="#l7.74"></a><span id="l7.74" class="difflineminus">-endif</span>
<a href="#l7.75"></a><span id="l7.75"> endif # BUILD_STATIC_LIBS</span>
<a href="#l7.76"></a><span id="l7.76"> else # !IS_COMPONENT</span>
<a href="#l7.77"></a><span id="l7.77" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.78"></a><span id="l7.78" class="difflineminus">-	$(PERL) -I$(MOZILLA_DIR)/config $(MOZILLA_DIR)/config/build-list.pl $(FINAL_LINK_LIBS) $(STATIC_LIBRARY_NAME)</span>
<a href="#l7.79"></a><span id="l7.79" class="difflineminus">-else</span>
<a href="#l7.80"></a><span id="l7.80"> 	$(PYTHON) $(MOZILLA_DIR)/config/buildlist.py $(FINAL_LINK_LIBS) $(STATIC_LIBRARY_NAME)</span>
<a href="#l7.81"></a><span id="l7.81" class="difflineminus">-endif</span>
<a href="#l7.82"></a><span id="l7.82"> endif # IS_COMPONENT</span>
<a href="#l7.83"></a><span id="l7.83"> endif # EXPORT_LIBRARY</span>
<a href="#l7.84"></a><span id="l7.84"> endif # LIBRARY_NAME</span>
<a href="#l7.85"></a><span id="l7.85"> </span>
<a href="#l7.86"></a><span id="l7.86"> # Create dependencies on static (and shared EXTRA_DSO_LIBS) libraries</span>
<a href="#l7.87"></a><span id="l7.87"> LIBS_DEPS = $(filter %.$(LIB_SUFFIX), $(LIBS))</span>
<a href="#l7.88"></a><span id="l7.88"> HOST_LIBS_DEPS = $(filter %.$(LIB_SUFFIX), $(HOST_LIBS))</span>
<a href="#l7.89"></a><span id="l7.89"> DSO_LDOPTS_DEPS = $(EXTRA_DSO_LIBS) $(filter %.$(LIB_SUFFIX), $(EXTRA_DSO_LDOPTS))</span>
<a href="#l7.90"></a><span id="l7.90"> </span>
<a href="#l7.91"></a><span id="l7.91" class="difflineminus">-ifndef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.92"></a><span id="l7.92"> ifndef _LIBNAME_RELATIVE_PATHS</span>
<a href="#l7.93"></a><span id="l7.93"> </span>
<a href="#l7.94"></a><span id="l7.94"> LIBS_DEPS += $(filter -l%, $(LIBS))</span>
<a href="#l7.95"></a><span id="l7.95"> HOST_LIBS_DEPS += $(filter -l%, $(HOST_LIBS))</span>
<a href="#l7.96"></a><span id="l7.96"> DSO_LDOPTS_DEPS += $(filter -l%, $(EXTRA_DSO_LDOPTS))</span>
<a href="#l7.97"></a><span id="l7.97"> </span>
<a href="#l7.98"></a><span id="l7.98"> _LIBDIRS = $(patsubst -L%,%,$(filter -L%, $(LIBS) $(HOST_LIBS) $(EXTRA_DSO_LDOPTS)))</span>
<a href="#l7.99"></a><span id="l7.99"> ifneq (,$(_LIBDIRS))</span>
<a href="#l7.100"></a><span id="l7.100"> vpath $(LIB_PREFIX)%.$(LIB_SUFFIX) $(_LIBDIRS)</span>
<a href="#l7.101"></a><span id="l7.101"> ifdef IMPORT_LIB_SUFFIX</span>
<a href="#l7.102"></a><span id="l7.102"> vpath $(LIB_PREFIX)%.$(IMPORT_LIB_SUFFIX) $(_LIBDIRS)</span>
<a href="#l7.103"></a><span id="l7.103"> endif # IMPORT_LIB_SUFFIX</span>
<a href="#l7.104"></a><span id="l7.104"> vpath $(DLL_PREFIX)%$(DLL_SUFFIX) $(_LIBDIRS)</span>
<a href="#l7.105"></a><span id="l7.105"> endif # _LIBDIRS</span>
<a href="#l7.106"></a><span id="l7.106"> </span>
<a href="#l7.107"></a><span id="l7.107"> endif # _LIBNAME_RELATIVE_PATHS</span>
<a href="#l7.108"></a><span id="l7.108" class="difflineminus">-endif # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.109"></a><span id="l7.109"> </span>
<a href="#l7.110"></a><span id="l7.110"> # Dependencies which, if modified, should cause everything to rebuild</span>
<a href="#l7.111"></a><span id="l7.111"> GLOBAL_DEPS += Makefile Makefile.in $(DEPTH)/config/autoconf.mk $(topsrcdir)/config/config.mk</span>
<a href="#l7.112"></a><span id="l7.112"> </span>
<a href="#l7.113"></a><span id="l7.113"> ##############################################</span>
<a href="#l7.114"></a><span id="l7.114"> ifdef PARALLEL_DIRS</span>
<a href="#l7.115"></a><span id="l7.115"> libs:: $(PARALLEL_DIRS_libs)</span>
<a href="#l7.116"></a><span id="l7.116"> </span>
<a href="#l7.117"></a><span id="l7.117" class="difflineat">@@ -891,21 +869,17 @@ else</span>
<a href="#l7.118"></a><span id="l7.118"> 	$(INSTALL) $(IFLAGS1) $(LIBRARY) $(DIST)/lib</span>
<a href="#l7.119"></a><span id="l7.119"> endif</span>
<a href="#l7.120"></a><span id="l7.120"> endif # DIST_INSTALL</span>
<a href="#l7.121"></a><span id="l7.121"> endif # LIBRARY</span>
<a href="#l7.122"></a><span id="l7.122"> ifdef SHARED_LIBRARY</span>
<a href="#l7.123"></a><span id="l7.123"> ifdef IS_COMPONENT</span>
<a href="#l7.124"></a><span id="l7.124"> 	$(INSTALL) $(IFLAGS2) $(SHARED_LIBRARY) $(FINAL_TARGET)/components</span>
<a href="#l7.125"></a><span id="l7.125"> 	$(ELF_DYNSTR_GC) $(FINAL_TARGET)/components/$(SHARED_LIBRARY)</span>
<a href="#l7.126"></a><span id="l7.126" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.127"></a><span id="l7.127" class="difflineminus">-	@$(PERL) -I$(MOZILLA_DIR)/config $(MOZILLA_DIR)/config/build-list.pl $(FINAL_TARGET)/components/components.list $(SHARED_LIBRARY)</span>
<a href="#l7.128"></a><span id="l7.128" class="difflineminus">-else</span>
<a href="#l7.129"></a><span id="l7.129"> 	@$(PYTHON) $(MOZILLA_DIR)/config/buildlist.py $(FINAL_TARGET)/components/components.list $(SHARED_LIBRARY)</span>
<a href="#l7.130"></a><span id="l7.130" class="difflineminus">-endif</span>
<a href="#l7.131"></a><span id="l7.131"> ifdef BEOS_ADDON_WORKAROUND</span>
<a href="#l7.132"></a><span id="l7.132"> 	( cd $(FINAL_TARGET)/components &amp;&amp; $(CC) -nostart -o $(SHARED_LIBRARY).stub $(SHARED_LIBRARY) )</span>
<a href="#l7.133"></a><span id="l7.133"> endif</span>
<a href="#l7.134"></a><span id="l7.134"> else # ! IS_COMPONENT</span>
<a href="#l7.135"></a><span id="l7.135"> ifneq (,$(filter OS2 WINNT WINCE,$(OS_ARCH)))</span>
<a href="#l7.136"></a><span id="l7.136"> 	$(INSTALL) $(IFLAGS2) $(IMPORT_LIBRARY) $(DIST)/lib</span>
<a href="#l7.137"></a><span id="l7.137"> else</span>
<a href="#l7.138"></a><span id="l7.138"> 	$(INSTALL) $(IFLAGS2) $(SHARED_LIBRARY) $(DIST)/lib</span>
<a href="#l7.139"></a><span id="l7.139" class="difflineat">@@ -1081,21 +1055,17 @@ endif</span>
<a href="#l7.140"></a><span id="l7.140"> # in one directory, it assumes everything to compile Foo is in</span>
<a href="#l7.141"></a><span id="l7.141"> # Foo.o (from either Foo.c or Foo.cpp).</span>
<a href="#l7.142"></a><span id="l7.142"> #</span>
<a href="#l7.143"></a><span id="l7.143"> # SIMPLE_PROGRAMS = Foo Bar</span>
<a href="#l7.144"></a><span id="l7.144"> # creates Foo.o Bar.o, links with LIBS to create Foo, Bar.</span>
<a href="#l7.145"></a><span id="l7.145"> #</span>
<a href="#l7.146"></a><span id="l7.146"> $(SIMPLE_PROGRAMS): %$(BIN_SUFFIX): %.$(OBJ_SUFFIX) $(LIBS_DEPS) $(EXTRA_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l7.147"></a><span id="l7.147"> ifeq (WINCE,$(OS_ARCH))</span>
<a href="#l7.148"></a><span id="l7.148" class="difflineminus">-  ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.149"></a><span id="l7.149" class="difflineminus">-	$(LD) -nologo  -entry:main -out:$@ $&lt; $(WIN32_EXE_LDFLAGS) $(LDFLAGS) $(LIBS) $(EXTRA_LIBS) $(OS_LIBS)</span>
<a href="#l7.150"></a><span id="l7.150" class="difflineminus">-  else</span>
<a href="#l7.151"></a><span id="l7.151"> 	$(LD) -nologo  -entry:mainACRTStartup -out:$@ $&lt; $(WIN32_EXE_LDFLAGS) $(LDFLAGS) $(LIBS) $(EXTRA_LIBS) $(OS_LIBS)</span>
<a href="#l7.152"></a><span id="l7.152" class="difflineminus">-  endif</span>
<a href="#l7.153"></a><span id="l7.153"> else</span>
<a href="#l7.154"></a><span id="l7.154"> ifeq (_WINNT,$(GNU_CC)_$(OS_ARCH))</span>
<a href="#l7.155"></a><span id="l7.155"> 	$(LD) -nologo -out:$@ -pdb:$(LINK_PDBFILE) $&lt; $(WIN32_EXE_LDFLAGS) $(LDFLAGS) $(LIBS) $(EXTRA_LIBS) $(OS_LIBS)</span>
<a href="#l7.156"></a><span id="l7.156"> ifdef MSMANIFEST_TOOL</span>
<a href="#l7.157"></a><span id="l7.157"> 	@if test -f $@.manifest; then \</span>
<a href="#l7.158"></a><span id="l7.158"> 		mt.exe -NOLOGO -MANIFEST $@.manifest -OUTPUTRESOURCE:$@\;1; \</span>
<a href="#l7.159"></a><span id="l7.159"> 		rm -f $@.manifest; \</span>
<a href="#l7.160"></a><span id="l7.160"> 	fi</span>
<a href="#l7.161"></a><span id="l7.161" class="difflineat">@@ -1251,21 +1221,17 @@ endif</span>
<a href="#l7.162"></a><span id="l7.162"> endif</span>
<a href="#l7.163"></a><span id="l7.163"> endif</span>
<a href="#l7.164"></a><span id="l7.164"> </span>
<a href="#l7.165"></a><span id="l7.165"> # On Darwin (Mac OS X), dwarf2 debugging uses debug info left in .o files,</span>
<a href="#l7.166"></a><span id="l7.166"> # so instead of deleting .o files after repacking them into a dylib, we make</span>
<a href="#l7.167"></a><span id="l7.167"> # symlinks back to the originals. The symlinks are a no-op for stabs debugging,</span>
<a href="#l7.168"></a><span id="l7.168"> # so no need to conditionalize on OS version or debugging format.</span>
<a href="#l7.169"></a><span id="l7.169"> </span>
<a href="#l7.170"></a><span id="l7.170" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.171"></a><span id="l7.171" class="difflineminus">-$(SHARED_LIBRARY): $(OBJS) $(LOBJS) $(DEF_FILE) $(RESFILE) $(SHARED_LIBRARY_LIBS) $(EXTRA_DEPS) $(DSO_LDOPTS_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l7.172"></a><span id="l7.172" class="difflineminus">-else</span>
<a href="#l7.173"></a><span id="l7.173"> $(SHARED_LIBRARY): $(OBJS) $(LOBJS) $(DEF_FILE) $(RESFILE) $(SHARED_LIBRARY_LIBS) $(LIBRARY) $(EXTRA_DEPS) $(DSO_LDOPTS_DEPS) $(GLOBAL_DEPS)</span>
<a href="#l7.174"></a><span id="l7.174" class="difflineminus">-endif</span>
<a href="#l7.175"></a><span id="l7.175"> ifndef INCREMENTAL_LINKER</span>
<a href="#l7.176"></a><span id="l7.176"> 	rm -f $@</span>
<a href="#l7.177"></a><span id="l7.177"> endif</span>
<a href="#l7.178"></a><span id="l7.178"> ifeq ($(OS_ARCH),OpenVMS)</span>
<a href="#l7.179"></a><span id="l7.179"> 	@if test ! -f $(VMS_SYMVEC_FILE); then \</span>
<a href="#l7.180"></a><span id="l7.180"> 	  if test -f $(VMS_SYMVEC_FILE_MODULE); then \</span>
<a href="#l7.181"></a><span id="l7.181"> 	    echo Creating specific component options file $(VMS_SYMVEC_FILE); \</span>
<a href="#l7.182"></a><span id="l7.182"> 	    cp $(VMS_SYMVEC_FILE_MODULE) $(VMS_SYMVEC_FILE); \</span>
<a href="#l7.183"></a><span id="l7.183" class="difflineat">@@ -1731,51 +1697,35 @@ endif</span>
<a href="#l7.184"></a><span id="l7.184"> 	$(LOOP_OVER_TOOL_DIRS)</span>
<a href="#l7.185"></a><span id="l7.185"> </span>
<a href="#l7.186"></a><span id="l7.186"> ################################################################################</span>
<a href="#l7.187"></a><span id="l7.187"> # Copy each element of EXTRA_COMPONENTS to $(FINAL_TARGET)/components</span>
<a href="#l7.188"></a><span id="l7.188"> ifdef EXTRA_COMPONENTS</span>
<a href="#l7.189"></a><span id="l7.189"> libs:: $(EXTRA_COMPONENTS)</span>
<a href="#l7.190"></a><span id="l7.190"> ifndef NO_DIST_INSTALL</span>
<a href="#l7.191"></a><span id="l7.191"> 	$(INSTALL) $(IFLAGS1) $^ $(FINAL_TARGET)/components</span>
<a href="#l7.192"></a><span id="l7.192" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.193"></a><span id="l7.193" class="difflineminus">-	@$(PERL) -I$(MOZILLA_DIR)/config $(MOZILLA_DIR)/config/build-list.pl $(FINAL_TARGET)/components/components.list $(notdir $^)</span>
<a href="#l7.194"></a><span id="l7.194" class="difflineminus">-else</span>
<a href="#l7.195"></a><span id="l7.195"> 	@$(PYTHON) $(MOZILLA_DIR)/config/buildlist.py $(FINAL_TARGET)/components/components.list $(notdir $^)</span>
<a href="#l7.196"></a><span id="l7.196" class="difflineminus">-endif</span>
<a href="#l7.197"></a><span id="l7.197"> </span>
<a href="#l7.198"></a><span id="l7.198"> endif</span>
<a href="#l7.199"></a><span id="l7.199"> </span>
<a href="#l7.200"></a><span id="l7.200"> endif</span>
<a href="#l7.201"></a><span id="l7.201"> </span>
<a href="#l7.202"></a><span id="l7.202"> ifdef EXTRA_PP_COMPONENTS</span>
<a href="#l7.203"></a><span id="l7.203"> libs:: $(EXTRA_PP_COMPONENTS)</span>
<a href="#l7.204"></a><span id="l7.204"> ifndef NO_DIST_INSTALL</span>
<a href="#l7.205"></a><span id="l7.205" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.206"></a><span id="l7.206" class="difflineminus">-	$(EXIT_ON_ERROR) \</span>
<a href="#l7.207"></a><span id="l7.207" class="difflineminus">-	$(NSINSTALL) -D $(FINAL_TARGET)/components; \</span>
<a href="#l7.208"></a><span id="l7.208" class="difflineminus">-	for i in $^; do \</span>
<a href="#l7.209"></a><span id="l7.209" class="difflineminus">-          fname=`basename $$i`; \</span>
<a href="#l7.210"></a><span id="l7.210" class="difflineminus">-	  dest=$(FINAL_TARGET)/components/$${fname}; \</span>
<a href="#l7.211"></a><span id="l7.211" class="difflineminus">-	  $(RM) -f $$dest; \</span>
<a href="#l7.212"></a><span id="l7.212" class="difflineminus">-	  $(PYTHON) $(MOZILLA_SRCDIR)/config/Preprocessor.py $(DEFINES) $(ACDEFINES) $(XULPPFLAGS) $$i &gt; $$dest; \</span>
<a href="#l7.213"></a><span id="l7.213" class="difflineminus">-	  $(PERL) -I$(MOZILLA_DIR)/config $(MOZILLA_DIR)/config/build-list.pl $(FINAL_TARGET)/components/components.list $$fname; \</span>
<a href="#l7.214"></a><span id="l7.214" class="difflineminus">-	done</span>
<a href="#l7.215"></a><span id="l7.215" class="difflineminus">-else</span>
<a href="#l7.216"></a><span id="l7.216"> 	$(EXIT_ON_ERROR) \</span>
<a href="#l7.217"></a><span id="l7.217"> 	$(NSINSTALL) -D $(FINAL_TARGET)/components; \</span>
<a href="#l7.218"></a><span id="l7.218"> 	for i in $^; do \</span>
<a href="#l7.219"></a><span id="l7.219">           fname=`basename $$i`; \</span>
<a href="#l7.220"></a><span id="l7.220"> 	  dest=$(FINAL_TARGET)/components/$${fname}; \</span>
<a href="#l7.221"></a><span id="l7.221"> 	  $(RM) -f $$dest; \</span>
<a href="#l7.222"></a><span id="l7.222"> 	  $(PYTHON) $(MOZILLA_SRCDIR)/config/Preprocessor.py $(DEFINES) $(ACDEFINES) $(XULPPFLAGS) $$i &gt; $$dest; \</span>
<a href="#l7.223"></a><span id="l7.223"> 	  $(PYTHON) $(MOZILLA_DIR)/config/buildlist.py $(FINAL_TARGET)/components/components.list $$fname; \</span>
<a href="#l7.224"></a><span id="l7.224"> 	done</span>
<a href="#l7.225"></a><span id="l7.225"> endif</span>
<a href="#l7.226"></a><span id="l7.226" class="difflineminus">-endif</span>
<a href="#l7.227"></a><span id="l7.227"> </span>
<a href="#l7.228"></a><span id="l7.228"> endif</span>
<a href="#l7.229"></a><span id="l7.229"> </span>
<a href="#l7.230"></a><span id="l7.230"> ################################################################################</span>
<a href="#l7.231"></a><span id="l7.231"> # Copy each element of EXTRA_JS_MODULES to $(FINAL_TARGET)/modules</span>
<a href="#l7.232"></a><span id="l7.232"> ifdef EXTRA_JS_MODULES</span>
<a href="#l7.233"></a><span id="l7.233"> libs:: $(EXTRA_JS_MODULES)</span>
<a href="#l7.234"></a><span id="l7.234"> ifndef NO_DIST_INSTALL</span>
<a href="#l7.235"></a><span id="l7.235" class="difflineat">@@ -2012,36 +1962,18 @@ endif # COMPILER_DEPEND</span>
<a href="#l7.236"></a><span id="l7.236"> $(CURDIR)/$(MDDEPDIR):</span>
<a href="#l7.237"></a><span id="l7.237"> 	@if test ! -d $@; then echo Creating $@; rm -rf $@; mkdir $@; else true; fi</span>
<a href="#l7.238"></a><span id="l7.238"> </span>
<a href="#l7.239"></a><span id="l7.239"> ifneq (,$(filter-out all chrome default export realchrome tools clean clobber clobber_all distclean realclean,$(MAKECMDGOALS)))</span>
<a href="#l7.240"></a><span id="l7.240"> ifneq (,$(OBJS)$(XPIDLSRCS)$(SIMPLE_PROGRAMS))</span>
<a href="#l7.241"></a><span id="l7.241"> MDDEPEND_FILES		:= $(strip $(wildcard $(MDDEPDIR)/*.pp))</span>
<a href="#l7.242"></a><span id="l7.242"> </span>
<a href="#l7.243"></a><span id="l7.243"> ifneq (,$(MDDEPEND_FILES))</span>
<a href="#l7.244"></a><span id="l7.244" class="difflineminus">-ifdef MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.245"></a><span id="l7.245" class="difflineminus">-ifdef PERL</span>
<a href="#l7.246"></a><span id="l7.246" class="difflineminus">-# The script mddepend.pl checks the dependencies and writes to stdout</span>
<a href="#l7.247"></a><span id="l7.247" class="difflineminus">-# one rule to force out-of-date objects. For example,</span>
<a href="#l7.248"></a><span id="l7.248" class="difflineminus">-#   foo.o boo.o: FORCE</span>
<a href="#l7.249"></a><span id="l7.249" class="difflineminus">-# The script has an advantage over including the *.pp files directly</span>
<a href="#l7.250"></a><span id="l7.250" class="difflineminus">-# because it handles the case when header files are removed from the build.</span>
<a href="#l7.251"></a><span id="l7.251" class="difflineminus">-# 'make' would complain that there is no way to build missing headers.</span>
<a href="#l7.252"></a><span id="l7.252" class="difflineminus">-ifeq (,$(MAKE_RESTARTS))</span>
<a href="#l7.253"></a><span id="l7.253" class="difflineminus">-$(MDDEPDIR)/.all.pp: FORCE</span>
<a href="#l7.254"></a><span id="l7.254" class="difflineminus">-	@$(PERL) $(BUILD_TOOLS)/mddepend.pl $@ $(MDDEPEND_FILES)</span>
<a href="#l7.255"></a><span id="l7.255" class="difflineminus">-endif</span>
<a href="#l7.256"></a><span id="l7.256" class="difflineminus">--include $(MDDEPDIR)/.all.pp</span>
<a href="#l7.257"></a><span id="l7.257" class="difflineminus">-else</span>
<a href="#l7.258"></a><span id="l7.258" class="difflineminus">-include $(MDDEPEND_FILES)</span>
<a href="#l7.259"></a><span id="l7.259" class="difflineminus">-endif</span>
<a href="#l7.260"></a><span id="l7.260" class="difflineminus">-else</span>
<a href="#l7.261"></a><span id="l7.261"> ALL_PP_RESULTS = $(shell $(PERL) $(BUILD_TOOLS)/mddepend.pl - $(MDDEPEND_FILES))</span>
<a href="#l7.262"></a><span id="l7.262"> $(eval $(ALL_PP_RESULTS))</span>
<a href="#l7.263"></a><span id="l7.263" class="difflineminus">-endif # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l7.264"></a><span id="l7.264"> endif</span>
<a href="#l7.265"></a><span id="l7.265"> </span>
<a href="#l7.266"></a><span id="l7.266"> endif</span>
<a href="#l7.267"></a><span id="l7.267"> endif</span>
<a href="#l7.268"></a><span id="l7.268"> #############################################################################</span>
<a href="#l7.269"></a><span id="l7.269"> </span>
<a href="#l7.270"></a><span id="l7.270"> -include $(topsrcdir)/$(MOZ_BUILD_APP)/app-rules.mk</span>
<a href="#l7.271"></a><span id="l7.271"> -include $(MY_RULES)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/configure.in</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/configure.in</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -87,28 +87,16 @@ MOZ_PATH_PROGS(PERL, $PERL perl5 perl)</span>
<a href="#l8.4"></a><span id="l8.4"> if test -z &quot;$PERL&quot; || test &quot;$PERL&quot; = &quot;:&quot;; then</span>
<a href="#l8.5"></a><span id="l8.5">     AC_MSG_ERROR([perl not found in \$PATH])</span>
<a href="#l8.6"></a><span id="l8.6"> fi</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9"> dnl Get mozilla version from central milestone file</span>
<a href="#l8.10"></a><span id="l8.10"> MOZILLA_VERSION=`$PERL $MOZILLA_SRCDIR/config/milestone.pl -topsrcdir $MOZILLA_SRCDIR`</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-changequote(,)</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-MOZILLA_BRANCH_VERSION=`echo ${MOZILLA_VERSION} | sed -e 's/^\([0-9]\.[0-9]\.[0-9]\).*/\1/;'`</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">-changequote([,])</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineminus">-dnl Set the Gecko 1.9.2 branch version.</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-MOZILLA_1_9_2_BRANCH=</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineminus">-if test &quot;$MOZILLA_BRANCH_VERSION&quot; = &quot;1.9.2&quot;; then</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineminus">-    MOZILLA_1_9_2_BRANCH=1</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineminus">-    AC_DEFINE(MOZILLA_1_9_2_BRANCH)</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineminus">-fi</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineminus">-AC_SUBST(MOZILLA_1_9_2_BRANCH)</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineminus">-</span>
<a href="#l8.24"></a><span id="l8.24"> MOZ_DEB_TIMESTAMP=`date +&quot;%a, %d  %b %Y %T %z&quot;   2&gt;&amp;1` </span>
<a href="#l8.25"></a><span id="l8.25"> AC_SUBST(MOZ_DEB_TIMESTAMP)</span>
<a href="#l8.26"></a><span id="l8.26"> </span>
<a href="#l8.27"></a><span id="l8.27"> </span>
<a href="#l8.28"></a><span id="l8.28"> dnl ========================================================</span>
<a href="#l8.29"></a><span id="l8.29"> dnl =</span>
<a href="#l8.30"></a><span id="l8.30"> dnl = Don't change the following two lines.  Doing so breaks:</span>
<a href="#l8.31"></a><span id="l8.31"> dnl =</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineat">@@ -138,46 +126,36 @@ dnl ====================================</span>
<a href="#l8.33"></a><span id="l8.33"> _SUBDIR_HOST_CFLAGS=&quot;$HOST_CFLAGS&quot;</span>
<a href="#l8.34"></a><span id="l8.34"> _SUBDIR_HOST_CXXFLAGS=&quot;$HOST_CXXFLAGS&quot;</span>
<a href="#l8.35"></a><span id="l8.35"> _SUBDIR_HOST_LDFLAGS=&quot;$HOST_LDFLAGS&quot;</span>
<a href="#l8.36"></a><span id="l8.36"> _SUBDIR_CONFIG_ARGS=&quot;$ac_configure_args&quot;</span>
<a href="#l8.37"></a><span id="l8.37"> </span>
<a href="#l8.38"></a><span id="l8.38"> dnl Set the version number of the libs included with mozilla</span>
<a href="#l8.39"></a><span id="l8.39"> dnl ========================================================</span>
<a href="#l8.40"></a><span id="l8.40"> MOZJPEG=62</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineminus">-MOZPNG=10217</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineminus">-else</span>
<a href="#l8.44"></a><span id="l8.44"> MOZPNG=10400</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineminus">-fi</span>
<a href="#l8.46"></a><span id="l8.46"> MOZZLIB=0x1230</span>
<a href="#l8.47"></a><span id="l8.47"> NSPR_VERSION=4</span>
<a href="#l8.48"></a><span id="l8.48"> NSS_VERSION=3</span>
<a href="#l8.49"></a><span id="l8.49"> </span>
<a href="#l8.50"></a><span id="l8.50"> dnl Set the minimum version of toolkit libs used by mozilla</span>
<a href="#l8.51"></a><span id="l8.51"> dnl ========================================================</span>
<a href="#l8.52"></a><span id="l8.52"> GLIB_VERSION=1.2.0</span>
<a href="#l8.53"></a><span id="l8.53"> PERL_VERSION=5.006</span>
<a href="#l8.54"></a><span id="l8.54"> CAIRO_VERSION=1.8.8</span>
<a href="#l8.55"></a><span id="l8.55"> PANGO_VERSION=1.14.0</span>
<a href="#l8.56"></a><span id="l8.56"> GTK2_VERSION=2.10.0</span>
<a href="#l8.57"></a><span id="l8.57"> WINDRES_VERSION=2.14.90</span>
<a href="#l8.58"></a><span id="l8.58"> W32API_VERSION=3.8</span>
<a href="#l8.59"></a><span id="l8.59"> GNOMEVFS_VERSION=2.0</span>
<a href="#l8.60"></a><span id="l8.60"> GCONF_VERSION=1.2.1</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; != &quot;1&quot;; then</span>
<a href="#l8.62"></a><span id="l8.62"> GIO_VERSION=2.0</span>
<a href="#l8.63"></a><span id="l8.63" class="difflineminus">-fi</span>
<a href="#l8.64"></a><span id="l8.64"> STARTUP_NOTIFICATION_VERSION=0.8</span>
<a href="#l8.65"></a><span id="l8.65"> DBUS_VERSION=0.60</span>
<a href="#l8.66"></a><span id="l8.66" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.67"></a><span id="l8.67" class="difflineminus">-SQLITE_VERSION=3.6.22</span>
<a href="#l8.68"></a><span id="l8.68" class="difflineminus">-else</span>
<a href="#l8.69"></a><span id="l8.69"> SQLITE_VERSION=3.6.23.1</span>
<a href="#l8.70"></a><span id="l8.70" class="difflineminus">-fi</span>
<a href="#l8.71"></a><span id="l8.71"> </span>
<a href="#l8.72"></a><span id="l8.72"> MSMANIFEST_TOOL=</span>
<a href="#l8.73"></a><span id="l8.73"> </span>
<a href="#l8.74"></a><span id="l8.74"> dnl Set various checks</span>
<a href="#l8.75"></a><span id="l8.75"> dnl ========================================================</span>
<a href="#l8.76"></a><span id="l8.76"> AC_PROG_AWK</span>
<a href="#l8.77"></a><span id="l8.77"> </span>
<a href="#l8.78"></a><span id="l8.78"> dnl Initialize the Pthread test variables early so they can be</span>
<a href="#l8.79"></a><span id="l8.79" class="difflineat">@@ -216,17 +194,17 @@ then</span>
<a href="#l8.80"></a><span id="l8.80"> 	***</span>
<a href="#l8.81"></a><span id="l8.81"> 	EOF</span>
<a href="#l8.82"></a><span id="l8.82">     exit 1</span>
<a href="#l8.83"></a><span id="l8.83">     break</span>
<a href="#l8.84"></a><span id="l8.84">   fi</span>
<a href="#l8.85"></a><span id="l8.85"> fi</span>
<a href="#l8.86"></a><span id="l8.86"> MOZ_BUILD_ROOT=`pwd`</span>
<a href="#l8.87"></a><span id="l8.87"> </span>
<a href="#l8.88"></a><span id="l8.88" class="difflineminus">-dnl Default to MSVC for win32 and gcc-4.2 for darwin (on !MOZILLA_1_9_2_BRANCH)</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineplus">+dnl Default to MSVC for win32 and gcc-4.2 for darwin</span>
<a href="#l8.90"></a><span id="l8.90"> dnl ==============================================================</span>
<a href="#l8.91"></a><span id="l8.91"> if test -z &quot;$CROSS_COMPILE&quot;; then</span>
<a href="#l8.92"></a><span id="l8.92"> case &quot;$target&quot; in</span>
<a href="#l8.93"></a><span id="l8.93"> *-cygwin*|*-mingw*|*-msvc*|*-mks*)</span>
<a href="#l8.94"></a><span id="l8.94">     if test -z &quot;$CC&quot;; then CC=cl; fi</span>
<a href="#l8.95"></a><span id="l8.95">     if test -z &quot;$CXX&quot;; then CXX=cl; fi</span>
<a href="#l8.96"></a><span id="l8.96">     if test -z &quot;$CPP&quot;; then CPP=&quot;cl -E -nologo&quot;; fi</span>
<a href="#l8.97"></a><span id="l8.97">     if test -z &quot;$CXXCPP&quot;; then CXXCPP=&quot;cl -TP -E -nologo&quot;; ac_cv_prog_CXXCPP=&quot;$CXXCPP&quot;; fi</span>
<a href="#l8.98"></a><span id="l8.98" class="difflineat">@@ -239,20 +217,18 @@ case &quot;$target&quot; in</span>
<a href="#l8.99"></a><span id="l8.99">         x86_64)</span>
<a href="#l8.100"></a><span id="l8.100">             AS=ml64</span>
<a href="#l8.101"></a><span id="l8.101">             ;;</span>
<a href="#l8.102"></a><span id="l8.102">         esac</span>
<a href="#l8.103"></a><span id="l8.103">     fi</span>
<a href="#l8.104"></a><span id="l8.104">     if test -z &quot;$MIDL&quot;; then MIDL=midl; fi</span>
<a href="#l8.105"></a><span id="l8.105">     ;;</span>
<a href="#l8.106"></a><span id="l8.106"> *-darwin*)</span>
<a href="#l8.107"></a><span id="l8.107" class="difflineminus">-    if test &quot;$MOZILLA_1_9_2_BRANCH&quot; != &quot;1&quot;; then</span>
<a href="#l8.108"></a><span id="l8.108">     if test -z &quot;$CC&quot;; then CC=gcc-4.2; fi</span>
<a href="#l8.109"></a><span id="l8.109">     if test -z &quot;$CXX&quot;; then CXX=g++-4.2; fi</span>
<a href="#l8.110"></a><span id="l8.110" class="difflineminus">-    fi</span>
<a href="#l8.111"></a><span id="l8.111">     ;;</span>
<a href="#l8.112"></a><span id="l8.112"> esac</span>
<a href="#l8.113"></a><span id="l8.113"> fi</span>
<a href="#l8.114"></a><span id="l8.114"> </span>
<a href="#l8.115"></a><span id="l8.115"> COMPILE_ENVIRONMENT=1</span>
<a href="#l8.116"></a><span id="l8.116"> MOZ_ARG_DISABLE_BOOL(compile-environment,</span>
<a href="#l8.117"></a><span id="l8.117"> [  --disable-compile-environment</span>
<a href="#l8.118"></a><span id="l8.118">                            Disable compiler/library checks.],</span>
<a href="#l8.119"></a><span id="l8.119" class="difflineat">@@ -389,25 +365,18 @@ if test -n &quot;$CROSS_COMPILE&quot; &amp;&amp; test &quot;$ta</span>
<a href="#l8.120"></a><span id="l8.120">       powerpc-apple-darwin8*:i?86-apple-darwin*)</span>
<a href="#l8.121"></a><span id="l8.121">         dnl The Darwin cross compiler doesn't necessarily point itself at a</span>
<a href="#l8.122"></a><span id="l8.122">         dnl root that has libraries for the proper architecture, it defaults</span>
<a href="#l8.123"></a><span id="l8.123">         dnl to the system root.  The libraries in the system root on current</span>
<a href="#l8.124"></a><span id="l8.124">         dnl versions of PPC OS X 10.4 aren't fat, so these target compiler</span>
<a href="#l8.125"></a><span id="l8.125">         dnl checks will fail.  Fake a working SDK in that case.</span>
<a href="#l8.126"></a><span id="l8.126">         _SAVE_CFLAGS=$CFLAGS</span>
<a href="#l8.127"></a><span id="l8.127">         _SAVE_CXXFLAGS=$CXXLAGS</span>
<a href="#l8.128"></a><span id="l8.128" class="difflineminus">-        dnl 1.9.2 support 10.4, 1.9.3 and later don't.</span>
<a href="#l8.129"></a><span id="l8.129" class="difflineminus">-        if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;;</span>
<a href="#l8.130"></a><span id="l8.130" class="difflineminus">-        then</span>
<a href="#l8.131"></a><span id="l8.131" class="difflineminus">-        CFLAGS=&quot;-isysroot /Developer/SDKs/MacOSX10.4u.sdk $CFLAGS&quot;</span>
<a href="#l8.132"></a><span id="l8.132" class="difflineminus">-        CXXFLAGS=&quot;-isysroot /Developer/SDKs/MacOSX10.4u.sdk $CXXFLAGS&quot;</span>
<a href="#l8.133"></a><span id="l8.133" class="difflineminus">-        else</span>
<a href="#l8.134"></a><span id="l8.134">         CFLAGS=&quot;-isysroot /Developer/SDKs/MacOSX10.5.sdk $CFLAGS&quot;</span>
<a href="#l8.135"></a><span id="l8.135">         CXXFLAGS=&quot;-isysroot /Developer/SDKs/MacOSX10.5.sdk $CXXFLAGS&quot;</span>
<a href="#l8.136"></a><span id="l8.136" class="difflineminus">-        fi</span>
<a href="#l8.137"></a><span id="l8.137">         ;;</span>
<a href="#l8.138"></a><span id="l8.138">     esac</span>
<a href="#l8.139"></a><span id="l8.139"> </span>
<a href="#l8.140"></a><span id="l8.140">     AC_CHECK_PROGS(CC, $CC &quot;${target_alias}-gcc&quot; &quot;${target}-gcc&quot;, :)</span>
<a href="#l8.141"></a><span id="l8.141">     unset ac_cv_prog_CC</span>
<a href="#l8.142"></a><span id="l8.142">     AC_PROG_CC</span>
<a href="#l8.143"></a><span id="l8.143">     AC_CHECK_PROGS(CXX, $CXX &quot;${target_alias}-g++&quot; &quot;${target}-g++&quot;, :)</span>
<a href="#l8.144"></a><span id="l8.144">     unset ac_cv_prog_CXX</span>
<a href="#l8.145"></a><span id="l8.145" class="difflineat">@@ -507,26 +476,17 @@ fi</span>
<a href="#l8.146"></a><span id="l8.146"> </span>
<a href="#l8.147"></a><span id="l8.147"> dnl Special win32 checks</span>
<a href="#l8.148"></a><span id="l8.148"> dnl ========================================================</span>
<a href="#l8.149"></a><span id="l8.149"> case &quot;$target&quot; in</span>
<a href="#l8.150"></a><span id="l8.150"> *-wince|*-winmo)</span>
<a href="#l8.151"></a><span id="l8.151">     WINVER=500</span>
<a href="#l8.152"></a><span id="l8.152">     ;;</span>
<a href="#l8.153"></a><span id="l8.153"> *)</span>
<a href="#l8.154"></a><span id="l8.154" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.155"></a><span id="l8.155" class="difflineminus">-    if test -n &quot;$GNU_CC&quot;; then  </span>
<a href="#l8.156"></a><span id="l8.156" class="difflineminus">-        WINVER=501</span>
<a href="#l8.157"></a><span id="l8.157" class="difflineminus">-    else    </span>
<a href="#l8.158"></a><span id="l8.158" class="difflineminus">-        WINVER=500</span>
<a href="#l8.159"></a><span id="l8.159" class="difflineminus">-    fi</span>
<a href="#l8.160"></a><span id="l8.160" class="difflineminus">-else</span>
<a href="#l8.161"></a><span id="l8.161">     WINVER=502</span>
<a href="#l8.162"></a><span id="l8.162" class="difflineminus">-fi</span>
<a href="#l8.163"></a><span id="l8.163" class="difflineminus">-</span>
<a href="#l8.164"></a><span id="l8.164">     ;;</span>
<a href="#l8.165"></a><span id="l8.165"> esac</span>
<a href="#l8.166"></a><span id="l8.166"> </span>
<a href="#l8.167"></a><span id="l8.167"> dnl Target the Windows 7 SDK by default</span>
<a href="#l8.168"></a><span id="l8.168"> WINSDK_TARGETVER=601</span>
<a href="#l8.169"></a><span id="l8.169"> </span>
<a href="#l8.170"></a><span id="l8.170"> MOZ_ARG_WITH_STRING(windows-version,</span>
<a href="#l8.171"></a><span id="l8.171"> [  --with-windows-version=WINSDK_TARGETVER</span>
<a href="#l8.172"></a><span id="l8.172" class="difflineat">@@ -1018,50 +978,31 @@ AC_SUBST(HAS_XCODE_2_1)</span>
<a href="#l8.173"></a><span id="l8.173"> dnl The universal machinery sets UNIVERSAL_BINARY to inform packager.mk</span>
<a href="#l8.174"></a><span id="l8.174"> dnl that a universal binary is being produced.</span>
<a href="#l8.175"></a><span id="l8.175"> AC_SUBST(UNIVERSAL_BINARY)</span>
<a href="#l8.176"></a><span id="l8.176"> </span>
<a href="#l8.177"></a><span id="l8.177"> dnl ========================================================</span>
<a href="#l8.178"></a><span id="l8.178"> dnl Check for MacOS deployment target version</span>
<a href="#l8.179"></a><span id="l8.179"> dnl ========================================================</span>
<a href="#l8.180"></a><span id="l8.180"> </span>
<a href="#l8.181"></a><span id="l8.181" class="difflineminus">-dnl 1.9.2 support 10.4, 1.9.3 and later don't.</span>
<a href="#l8.182"></a><span id="l8.182" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.183"></a><span id="l8.183" class="difflineminus">-MOZ_ARG_ENABLE_STRING(macos-target,</span>
<a href="#l8.184"></a><span id="l8.184" class="difflineminus">-                      [  --enable-macos-target=VER (default=10.4)</span>
<a href="#l8.185"></a><span id="l8.185" class="difflineminus">-                          Set the minimum MacOS version needed at runtime],</span>
<a href="#l8.186"></a><span id="l8.186" class="difflineminus">-                      [_MACOSX_DEPLOYMENT_TARGET=$enableval])</span>
<a href="#l8.187"></a><span id="l8.187" class="difflineminus">-else</span>
<a href="#l8.188"></a><span id="l8.188"> MOZ_ARG_ENABLE_STRING(macos-target,</span>
<a href="#l8.189"></a><span id="l8.189">                       [  --enable-macos-target=VER (default=10.5)</span>
<a href="#l8.190"></a><span id="l8.190">                           Set the minimum MacOS version needed at runtime],</span>
<a href="#l8.191"></a><span id="l8.191">                       [_MACOSX_DEPLOYMENT_TARGET=$enableval])</span>
<a href="#l8.192"></a><span id="l8.192" class="difflineminus">-fi</span>
<a href="#l8.193"></a><span id="l8.193"> </span>
<a href="#l8.194"></a><span id="l8.194"> case &quot;$target&quot; in</span>
<a href="#l8.195"></a><span id="l8.195"> *-darwin*)</span>
<a href="#l8.196"></a><span id="l8.196">     if test -n &quot;$_MACOSX_DEPLOYMENT_TARGET&quot; ; then</span>
<a href="#l8.197"></a><span id="l8.197">         dnl Use the specified value</span>
<a href="#l8.198"></a><span id="l8.198">         export MACOSX_DEPLOYMENT_TARGET=$_MACOSX_DEPLOYMENT_TARGET</span>
<a href="#l8.199"></a><span id="l8.199">         AC_DEFINE_UNQUOTED(__ENVIRONMENT_MAC_OS_X_VERION_MIN_REQUIRED__,$_MACOSX_DEPLOYMENT_TARGET)</span>
<a href="#l8.200"></a><span id="l8.200">     elif test -z &quot;$MACOSX_DEPLOYMENT_TARGET&quot; ; then</span>
<a href="#l8.201"></a><span id="l8.201">         dnl No value specified on the command line or in the environment,</span>
<a href="#l8.202"></a><span id="l8.202">         dnl use architecture minimum.</span>
<a href="#l8.203"></a><span id="l8.203" class="difflineminus">-        if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.204"></a><span id="l8.204" class="difflineminus">-        case &quot;${target_cpu}&quot; in</span>
<a href="#l8.205"></a><span id="l8.205" class="difflineminus">-          x86_64)</span>
<a href="#l8.206"></a><span id="l8.206" class="difflineminus">-            export MACOSX_DEPLOYMENT_TARGET=10.5</span>
<a href="#l8.207"></a><span id="l8.207" class="difflineminus">-            ;;</span>
<a href="#l8.208"></a><span id="l8.208" class="difflineminus">-          *)</span>
<a href="#l8.209"></a><span id="l8.209" class="difflineminus">-            export MACOSX_DEPLOYMENT_TARGET=10.4</span>
<a href="#l8.210"></a><span id="l8.210" class="difflineminus">-            ;;</span>
<a href="#l8.211"></a><span id="l8.211" class="difflineminus">-        esac</span>
<a href="#l8.212"></a><span id="l8.212" class="difflineminus">-        else</span>
<a href="#l8.213"></a><span id="l8.213">         export MACOSX_DEPLOYMENT_TARGET=10.5</span>
<a href="#l8.214"></a><span id="l8.214" class="difflineminus">-        fi</span>
<a href="#l8.215"></a><span id="l8.215">     fi</span>
<a href="#l8.216"></a><span id="l8.216">     ;;</span>
<a href="#l8.217"></a><span id="l8.217"> esac</span>
<a href="#l8.218"></a><span id="l8.218"> </span>
<a href="#l8.219"></a><span id="l8.219"> AC_SUBST(MACOSX_DEPLOYMENT_TARGET)</span>
<a href="#l8.220"></a><span id="l8.220"> </span>
<a href="#l8.221"></a><span id="l8.221"> dnl ========================================================</span>
<a href="#l8.222"></a><span id="l8.222"> dnl = Mac OS X SDK support</span>
<a href="#l8.223"></a><span id="l8.223" class="difflineat">@@ -1159,34 +1100,23 @@ MOZ_USER_DIR=&quot;.mozilla&quot;</span>
<a href="#l8.224"></a><span id="l8.224"> MOZ_JPEG_CFLAGS=</span>
<a href="#l8.225"></a><span id="l8.225"> MOZ_JPEG_LIBS='$(call EXPAND_LIBNAME_PATH,mozjpeg,$(DEPTH)/mozilla/jpeg)'</span>
<a href="#l8.226"></a><span id="l8.226"> MOZ_ZLIB_CFLAGS=</span>
<a href="#l8.227"></a><span id="l8.227"> MOZ_ZLIB_LIBS='$(call EXPAND_LIBNAME_PATH,mozz,$(DEPTH)/mozilla/modules/zlib/src)'</span>
<a href="#l8.228"></a><span id="l8.228"> MOZ_BZ2_CFLAGS=</span>
<a href="#l8.229"></a><span id="l8.229"> MOZ_BZ2_LIBS='$(call EXPAND_LIBNAME_PATH,bz2,$(DEPTH)/mozilla/modules/libbz2/src)'</span>
<a href="#l8.230"></a><span id="l8.230"> MOZ_PNG_CFLAGS=</span>
<a href="#l8.231"></a><span id="l8.231"> MOZ_PNG_LIBS='$(call EXPAND_LIBNAME_PATH,mozpng,$(DEPTH)/mozilla/modules/libimg/png)'</span>
<a href="#l8.232"></a><span id="l8.232" class="difflineminus">-</span>
<a href="#l8.233"></a><span id="l8.233" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.234"></a><span id="l8.234" class="difflineminus">-    MOZ_JS_LIBS='-L$(LIBXUL_DIST)/bin -lmozjs'</span>
<a href="#l8.235"></a><span id="l8.235" class="difflineminus">-    DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/bin -lxpcom -lxpcom_core '</span>
<a href="#l8.236"></a><span id="l8.236" class="difflineminus">-    MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin:/usr/lib:/usr/local/lib:/lib -Wl,-rpath-link,$(prefix)/lib'</span>
<a href="#l8.237"></a><span id="l8.237" class="difflineminus">-    XPCOM_FROZEN_LDOPTS='-L$(LIBXUL_DIST)/bin -lxpcom'</span>
<a href="#l8.238"></a><span id="l8.238" class="difflineminus">-    LIBXUL_LIBS='$(XPCOM_FROZEN_LDOPTS) -lxul'</span>
<a href="#l8.239"></a><span id="l8.239" class="difflineminus">-    XPCOM_GLUE_LDOPTS='$(LIBXUL_DIST)/lib/$(LIB_PREFIX)xpcomglue_s.$(LIB_SUFFIX) $(XPCOM_FROZEN_LDOPTS)'</span>
<a href="#l8.240"></a><span id="l8.240" class="difflineminus">-    XPCOM_STANDALONE_GLUE_LDOPTS='$(LIBXUL_DIST)/lib/$(LIB_PREFIX)xpcomglue.$(LIB_SUFFIX)'</span>
<a href="#l8.241"></a><span id="l8.241" class="difflineminus">-else</span>
<a href="#l8.242"></a><span id="l8.242" class="difflineminus">-    MOZ_JS_LIBS='-L$(LIBXUL_DIST)/bin -lmozjs'</span>
<a href="#l8.243"></a><span id="l8.243" class="difflineminus">-    DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/bin -lxpcom -lxpcom_core -lmozalloc'</span>
<a href="#l8.244"></a><span id="l8.244" class="difflineminus">-    MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin:/usr/lib:/usr/local/lib:/lib -Wl,-rpath-link,$(prefix)/lib'</span>
<a href="#l8.245"></a><span id="l8.245" class="difflineminus">-    XPCOM_FROZEN_LDOPTS='-L$(LIBXUL_DIST)/bin -lxpcom -lmozalloc'</span>
<a href="#l8.246"></a><span id="l8.246" class="difflineminus">-    LIBXUL_LIBS='$(XPCOM_FROZEN_LDOPTS) -lxul'</span>
<a href="#l8.247"></a><span id="l8.247" class="difflineminus">-    XPCOM_GLUE_LDOPTS='$(LIBXUL_DIST)/lib/$(LIB_PREFIX)xpcomglue_s.$(LIB_SUFFIX) $(XPCOM_FROZEN_LDOPTS)'</span>
<a href="#l8.248"></a><span id="l8.248" class="difflineminus">-    XPCOM_STANDALONE_GLUE_LDOPTS='$(LIBXUL_DIST)/lib/$(LIB_PREFIX)xpcomglue.$(LIB_SUFFIX)'</span>
<a href="#l8.249"></a><span id="l8.249" class="difflineminus">-fi</span>
<a href="#l8.250"></a><span id="l8.250" class="difflineplus">+MOZ_JS_LIBS='-L$(LIBXUL_DIST)/bin -lmozjs'</span>
<a href="#l8.251"></a><span id="l8.251" class="difflineplus">+DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/bin -lxpcom -lxpcom_core -lmozalloc'</span>
<a href="#l8.252"></a><span id="l8.252" class="difflineplus">+MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin:/usr/lib:/usr/local/lib:/lib -Wl,-rpath-link,$(prefix)/lib'</span>
<a href="#l8.253"></a><span id="l8.253" class="difflineplus">+XPCOM_FROZEN_LDOPTS='-L$(LIBXUL_DIST)/bin -lxpcom -lmozalloc'</span>
<a href="#l8.254"></a><span id="l8.254" class="difflineplus">+LIBXUL_LIBS='$(XPCOM_FROZEN_LDOPTS) -lxul'</span>
<a href="#l8.255"></a><span id="l8.255" class="difflineplus">+XPCOM_GLUE_LDOPTS='$(LIBXUL_DIST)/lib/$(LIB_PREFIX)xpcomglue_s.$(LIB_SUFFIX) $(XPCOM_FROZEN_LDOPTS)'</span>
<a href="#l8.256"></a><span id="l8.256" class="difflineplus">+XPCOM_STANDALONE_GLUE_LDOPTS='$(LIBXUL_DIST)/lib/$(LIB_PREFIX)xpcomglue.$(LIB_SUFFIX)'</span>
<a href="#l8.257"></a><span id="l8.257"> </span>
<a href="#l8.258"></a><span id="l8.258"> MOZ_FS_LAYOUT=unix</span>
<a href="#l8.259"></a><span id="l8.259"> </span>
<a href="#l8.260"></a><span id="l8.260"> MOZ_COMPONENT_NSPR_LIBS='-L$(LIBXUL_DIST)/bin $(NSPR_LIBS)'</span>
<a href="#l8.261"></a><span id="l8.261"> </span>
<a href="#l8.262"></a><span id="l8.262"> USE_DEPENDENT_LIBS=1</span>
<a href="#l8.263"></a><span id="l8.263"> </span>
<a href="#l8.264"></a><span id="l8.264"> _PLATFORM_DEFAULT_TOOLKIT=cairo-gtk2</span>
<a href="#l8.265"></a><span id="l8.265" class="difflineat">@@ -1800,18 +1730,17 @@ case &quot;$host&quot; in</span>
<a href="#l8.266"></a><span id="l8.266">     fi</span>
<a href="#l8.267"></a><span id="l8.267">     HOST_CFLAGS=&quot;$HOST_CFLAGS -DXP_WIN32 -DXP_WIN -DWIN32 -D_WIN32 -DNO_X11&quot;</span>
<a href="#l8.268"></a><span id="l8.268">     HOST_NSPR_MDCPUCFG='\&quot;md/_winnt.cfg\&quot;'</span>
<a href="#l8.269"></a><span id="l8.269">     HOST_OPTIMIZE_FLAGS=&quot;${HOST_OPTIMIZE_FLAGS=-O2}&quot;</span>
<a href="#l8.270"></a><span id="l8.270">     HOST_BIN_SUFFIX=.exe</span>
<a href="#l8.271"></a><span id="l8.271">     case &quot;$host&quot; in</span>
<a href="#l8.272"></a><span id="l8.272">     *mingw*)</span>
<a href="#l8.273"></a><span id="l8.273">     dnl MinGW/MSYS does not need CYGWIN_WRAPPER</span>
<a href="#l8.274"></a><span id="l8.274" class="difflineminus">-        dnl use MOZILLA_SRCDIR when we drop support for MOZILLA_1_9_2_BRANCH</span>
<a href="#l8.275"></a><span id="l8.275" class="difflineminus">-        PERL=&quot;/bin/sh ${_topsrcdir}/build/msys-perl-wrapper&quot;</span>
<a href="#l8.276"></a><span id="l8.276" class="difflineplus">+        PERL=&quot;/bin/sh ${MOZILLA_SRCDIR}/build/msys-perl-wrapper&quot;</span>
<a href="#l8.277"></a><span id="l8.277">         ;;</span>
<a href="#l8.278"></a><span id="l8.278">     *)</span>
<a href="#l8.279"></a><span id="l8.279">         CYGWIN_WRAPPER=&quot;${srcdir}/build/cygwin-wrapper&quot;</span>
<a href="#l8.280"></a><span id="l8.280">         if test &quot;`echo ${srcdir} | grep -c ^/ 2&gt;/dev/null`&quot; = 0; then</span>
<a href="#l8.281"></a><span id="l8.281">             _pwd=`pwd`</span>
<a href="#l8.282"></a><span id="l8.282">             CYGWIN_WRAPPER=&quot;${_pwd}/${srcdir}/build/cygwin-wrapper&quot;</span>
<a href="#l8.283"></a><span id="l8.283">         fi</span>
<a href="#l8.284"></a><span id="l8.284">         if test &quot;`${PERL} -v | grep -c cygwin  2&gt;/dev/null`&quot; = 0; then</span>
<a href="#l8.285"></a><span id="l8.285" class="difflineat">@@ -2108,21 +2037,17 @@ case &quot;$target&quot; in</span>
<a href="#l8.286"></a><span id="l8.286">         MOZ_DEBUG_FLAGS=&quot;-g -fno-inline&quot;</span>
<a href="#l8.287"></a><span id="l8.287">     elif test &quot;$GNU_CC&quot; || test &quot;$GNU_CXX&quot;; then</span>
<a href="#l8.288"></a><span id="l8.288">         GCC_VERSION=`$CC -v 2&gt;&amp;1 | awk '/^gcc version/ { print $3 }'`</span>
<a href="#l8.289"></a><span id="l8.289">         case $GCC_VERSION in</span>
<a href="#l8.290"></a><span id="l8.290">         4.1.*|4.2.*)</span>
<a href="#l8.291"></a><span id="l8.291">             # -Os is broken on gcc 4.1.x and 4.2.x, we need to tweak it to get good results.</span>
<a href="#l8.292"></a><span id="l8.292">             MOZ_OPTIMIZE_SIZE_TWEAK=&quot;-finline-limit=50&quot;</span>
<a href="#l8.293"></a><span id="l8.293">         esac</span>
<a href="#l8.294"></a><span id="l8.294" class="difflineminus">-      if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.295"></a><span id="l8.295" class="difflineminus">-        MOZ_OPTIMIZE_FLAGS=&quot;-Os -freorder-blocks -fno-reorder-functions $MOZ_OPTIMIZE_SIZE_TWEAK&quot;</span>
<a href="#l8.296"></a><span id="l8.296" class="difflineminus">-      else</span>
<a href="#l8.297"></a><span id="l8.297">         MOZ_OPTIMIZE_FLAGS=&quot;-Os -freorder-blocks -fno-reorder-functions -fomit-frame-pointer $MOZ_OPTIMIZE_SIZE_TWEAK&quot;</span>
<a href="#l8.298"></a><span id="l8.298" class="difflineminus">-      fi</span>
<a href="#l8.299"></a><span id="l8.299">         MOZ_DEBUG_FLAGS=&quot;-g -fno-inline&quot;  # most people on linux use gcc/gdb,</span>
<a href="#l8.300"></a><span id="l8.300">                                           # and that combo is not yet good at</span>
<a href="#l8.301"></a><span id="l8.301">                                           # debugging inlined functions (even</span>
<a href="#l8.302"></a><span id="l8.302">                                           # when using DWARF2 as the debugging</span>
<a href="#l8.303"></a><span id="l8.303">                                           # format)</span>
<a href="#l8.304"></a><span id="l8.304">     fi</span>
<a href="#l8.305"></a><span id="l8.305"> </span>
<a href="#l8.306"></a><span id="l8.306">     TARGET_NSPR_MDCPUCFG='\&quot;md/_linux.cfg\&quot;'</span>
<a href="#l8.307"></a><span id="l8.307" class="difflineat">@@ -2179,58 +2104,41 @@ case &quot;$target&quot; in</span>
<a href="#l8.308"></a><span id="l8.308">     MOZ_OPTIMIZE_FLAGS='-Ox'</span>
<a href="#l8.309"></a><span id="l8.309">     AR_FLAGS='-NOLOGO -OUT:&quot;$@&quot;'</span>
<a href="#l8.310"></a><span id="l8.310">     ASM_SUFFIX=asm</span>
<a href="#l8.311"></a><span id="l8.311">     CFLAGS=&quot;$CFLAGS -W3 -Gy -Fd\$(COMPILE_PDBFILE)&quot;</span>
<a href="#l8.312"></a><span id="l8.312">     CXXFLAGS=&quot;$CXXFLAGS -W3 -Gy -Fd\$(COMPILE_PDBFILE)&quot;</span>
<a href="#l8.313"></a><span id="l8.313">     DLL_PREFIX=</span>
<a href="#l8.314"></a><span id="l8.314">     DOXYGEN=:</span>
<a href="#l8.315"></a><span id="l8.315">     DSO_LDOPTS=-SUBSYSTEM:WINDOWSCE</span>
<a href="#l8.316"></a><span id="l8.316" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.317"></a><span id="l8.317" class="difflineminus">-    DYNAMIC_XPCOM_LIBS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xpcom_core.lib'</span>
<a href="#l8.318"></a><span id="l8.318" class="difflineminus">-else</span>
<a href="#l8.319"></a><span id="l8.319">     DYNAMIC_XPCOM_LIBS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xpcom_core.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.320"></a><span id="l8.320" class="difflineminus">-fi</span>
<a href="#l8.321"></a><span id="l8.321">     GARBAGE=</span>
<a href="#l8.322"></a><span id="l8.322">     IMPORT_LIB_SUFFIX=lib</span>
<a href="#l8.323"></a><span id="l8.323" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.324"></a><span id="l8.324" class="difflineminus">-    LIBS=&quot;$LIBS&quot;</span>
<a href="#l8.325"></a><span id="l8.325" class="difflineminus">-    LIBXUL_LIBS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xul.lib'</span>
<a href="#l8.326"></a><span id="l8.326" class="difflineminus">-else</span>
<a href="#l8.327"></a><span id="l8.327">     dnl Need to force-link against mozalloc because it's used in the shunt</span>
<a href="#l8.328"></a><span id="l8.328">     LIBS=&quot;$LIBS \$(LIBXUL_DIST)/lib/mozalloc.lib&quot;</span>
<a href="#l8.329"></a><span id="l8.329">     LIBXUL_LIBS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xul.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.330"></a><span id="l8.330" class="difflineminus">-fi</span>
<a href="#l8.331"></a><span id="l8.331">     LIB_PREFIX=</span>
<a href="#l8.332"></a><span id="l8.332">     LIB_SUFFIX=lib </span>
<a href="#l8.333"></a><span id="l8.333">     MKCSHLIB='$(LD) -NOLOGO -DLL -OUT:$@ $(DSO_LDOPTS)'</span>
<a href="#l8.334"></a><span id="l8.334">     MKSHLIB='$(LD) -NOLOGO -DLL -OUT:$@ $(DSO_LDOPTS)'</span>
<a href="#l8.335"></a><span id="l8.335">     MKSHLIB_FORCE_ALL=</span>
<a href="#l8.336"></a><span id="l8.336">     MKSHLIB_UNFORCE_ALL=</span>
<a href="#l8.337"></a><span id="l8.337">     MOZ_COMPONENT_NSPR_LIBS='$(NSPR_LIBS)'</span>
<a href="#l8.338"></a><span id="l8.338">     MOZ_COMPONENT_NSPR_LIBS='$(NSPR_LIBS)'</span>
<a href="#l8.339"></a><span id="l8.339">     MOZ_DEBUG_FLAGS='-Zi'</span>
<a href="#l8.340"></a><span id="l8.340">     MOZ_DEBUG_LDFLAGS='-DEBUG -DEBUGTYPE:CV'</span>
<a href="#l8.341"></a><span id="l8.341">     MOZ_FIX_LINK_PATHS=</span>
<a href="#l8.342"></a><span id="l8.342" class="difflineminus">-    if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.343"></a><span id="l8.343" class="difflineminus">-        MOZ_JS_LIBS='$(LIBXUL_DIST)/lib/js32$(VERSION_NUMBER).lib'</span>
<a href="#l8.344"></a><span id="l8.344" class="difflineminus">-    else</span>
<a href="#l8.345"></a><span id="l8.345" class="difflineminus">-        MOZ_JS_LIBS='$(LIBXUL_DIST)/lib/mozjs.lib'</span>
<a href="#l8.346"></a><span id="l8.346" class="difflineminus">-    fi</span>
<a href="#l8.347"></a><span id="l8.347" class="difflineplus">+    MOZ_JS_LIBS='$(LIBXUL_DIST)/lib/mozjs.lib'</span>
<a href="#l8.348"></a><span id="l8.348">     OBJ_SUFFIX=obj</span>
<a href="#l8.349"></a><span id="l8.349">     RANLIB='echo not_ranlib'</span>
<a href="#l8.350"></a><span id="l8.350">     STRIP='echo not_strip'</span>
<a href="#l8.351"></a><span id="l8.351">     TARGET_NSPR_MDCPUCFG='\&quot;md/_wince.cfg\&quot;'</span>
<a href="#l8.352"></a><span id="l8.352">     UNZIP=unzip</span>
<a href="#l8.353"></a><span id="l8.353">     XARGS=xargs</span>
<a href="#l8.354"></a><span id="l8.354" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.355"></a><span id="l8.355" class="difflineminus">-    XPCOM_FROZEN_LDOPTS='$(LIBXUL_DIST)/lib/xpcom.lib'</span>
<a href="#l8.356"></a><span id="l8.356" class="difflineminus">-else</span>
<a href="#l8.357"></a><span id="l8.357">     XPCOM_FROZEN_LDOPTS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xpcom.lib'</span>
<a href="#l8.358"></a><span id="l8.358" class="difflineminus">-fi</span>
<a href="#l8.359"></a><span id="l8.359">     ZIP=zip</span>
<a href="#l8.360"></a><span id="l8.360">     MOZ_TREE_FREETYPE=1</span>
<a href="#l8.361"></a><span id="l8.361"> </span>
<a href="#l8.362"></a><span id="l8.362">     AC_DEFINE(HAVE_SNPRINTF)</span>
<a href="#l8.363"></a><span id="l8.363">     AC_DEFINE(_WINDOWS)</span>
<a href="#l8.364"></a><span id="l8.364">     AC_DEFINE(WIN32)</span>
<a href="#l8.365"></a><span id="l8.365">     AC_DEFINE(XP_WIN)</span>
<a href="#l8.366"></a><span id="l8.366">     AC_DEFINE(XP_WIN32)</span>
<a href="#l8.367"></a><span id="l8.367" class="difflineat">@@ -2271,30 +2179,20 @@ fi</span>
<a href="#l8.368"></a><span id="l8.368">         CXXFLAGS=&quot;$CXXFLAGS -mms-bitfields&quot;</span>
<a href="#l8.369"></a><span id="l8.369">         DSO_LDOPTS='-shared'</span>
<a href="#l8.370"></a><span id="l8.370">         MKSHLIB='$(CXX) $(DSO_LDOPTS) -o $@'</span>
<a href="#l8.371"></a><span id="l8.371">         MKCSHLIB='$(CC) $(DSO_LDOPTS) -o $@'</span>
<a href="#l8.372"></a><span id="l8.372">         RC='$(WINDRES)'</span>
<a href="#l8.373"></a><span id="l8.373">         # Use temp file for windres (bug 213281)</span>
<a href="#l8.374"></a><span id="l8.374">         RCFLAGS='-O coff --use-temp-file'</span>
<a href="#l8.375"></a><span id="l8.375">         # mingw doesn't require kernel32, user32, and advapi32 explicitly</span>
<a href="#l8.376"></a><span id="l8.376" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.377"></a><span id="l8.377" class="difflineminus">-        LIBS=&quot;$LIBS -lgdi32 -lwinmm -lwsock32&quot;</span>
<a href="#l8.378"></a><span id="l8.378" class="difflineminus">-        MOZ_JS_LIBS='-L$(LIBXUL_DIST)/lib -ljs32$(VERSION_NUMBER)'</span>
<a href="#l8.379"></a><span id="l8.379" class="difflineminus">-else</span>
<a href="#l8.380"></a><span id="l8.380">         LIBS=&quot;$LIBS -luuid -lgdi32 -lwinmm -lwsock32&quot;</span>
<a href="#l8.381"></a><span id="l8.381" class="difflineminus">-fi</span>
<a href="#l8.382"></a><span id="l8.382">         MOZ_FIX_LINK_PATHS=</span>
<a href="#l8.383"></a><span id="l8.383" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.384"></a><span id="l8.384" class="difflineminus">-        DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/lib -lxpcom -lxpcom_core'</span>
<a href="#l8.385"></a><span id="l8.385" class="difflineminus">-        XPCOM_FROZEN_LDOPTS='-L$(LIBXUL_DIST)/lib -lxpcom'</span>
<a href="#l8.386"></a><span id="l8.386" class="difflineminus">-else</span>
<a href="#l8.387"></a><span id="l8.387">         DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/lib -lxpcom -lxpcom_core -lmozalloc'</span>
<a href="#l8.388"></a><span id="l8.388">         XPCOM_FROZEN_LDOPTS='-L$(LIBXUL_DIST)/lib -lxpcom -lmozalloc'</span>
<a href="#l8.389"></a><span id="l8.389" class="difflineminus">-fi</span>
<a href="#l8.390"></a><span id="l8.390">         DLL_PREFIX=</span>
<a href="#l8.391"></a><span id="l8.391">         IMPORT_LIB_SUFFIX=dll.a</span>
<a href="#l8.392"></a><span id="l8.392">     else</span>
<a href="#l8.393"></a><span id="l8.393">         TARGET_COMPILER_ABI=msvc</span>
<a href="#l8.394"></a><span id="l8.394">         HOST_CC='$(CC)'</span>
<a href="#l8.395"></a><span id="l8.395">         HOST_CXX='$(CXX)'</span>
<a href="#l8.396"></a><span id="l8.396">         HOST_LD='$(LD)'</span>
<a href="#l8.397"></a><span id="l8.397">         if test &quot;$AS_BIN&quot;; then</span>
<a href="#l8.398"></a><span id="l8.398" class="difflineat">@@ -2325,31 +2223,21 @@ fi</span>
<a href="#l8.399"></a><span id="l8.399">         _DEFINES_CXXFLAGS='-FI $(DEPTH)/comm-config.h -DMOZILLA_CLIENT'</span>
<a href="#l8.400"></a><span id="l8.400">         CFLAGS=&quot;$CFLAGS -W3 -Gy -Fd\$(COMPILE_PDBFILE)&quot;</span>
<a href="#l8.401"></a><span id="l8.401">         CXXFLAGS=&quot;$CXXFLAGS -W3 -Gy -Fd\$(COMPILE_PDBFILE)&quot;</span>
<a href="#l8.402"></a><span id="l8.402">         LIBS=&quot;$LIBS kernel32.lib user32.lib gdi32.lib winmm.lib wsock32.lib advapi32.lib&quot;</span>
<a href="#l8.403"></a><span id="l8.403">         MOZ_DEBUG_FLAGS='-Zi'</span>
<a href="#l8.404"></a><span id="l8.404">         MOZ_DEBUG_LDFLAGS='-DEBUG -DEBUGTYPE:CV'</span>
<a href="#l8.405"></a><span id="l8.405">         WARNINGS_AS_ERRORS='-WX'</span>
<a href="#l8.406"></a><span id="l8.406">     	MOZ_OPTIMIZE_FLAGS='-O1'</span>
<a href="#l8.407"></a><span id="l8.407" class="difflineminus">-        if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.408"></a><span id="l8.408" class="difflineminus">-            MOZ_JS_LIBS='$(LIBXUL_DIST)/lib/js32$(VERSION_NUMBER).lib'</span>
<a href="#l8.409"></a><span id="l8.409" class="difflineminus">-        else</span>
<a href="#l8.410"></a><span id="l8.410" class="difflineminus">-            MOZ_JS_LIBS='$(LIBXUL_DIST)/lib/mozjs.lib'</span>
<a href="#l8.411"></a><span id="l8.411" class="difflineminus">-        fi</span>
<a href="#l8.412"></a><span id="l8.412" class="difflineplus">+        MOZ_JS_LIBS='$(LIBXUL_DIST)/lib/mozjs.lib'</span>
<a href="#l8.413"></a><span id="l8.413">         MOZ_FIX_LINK_PATHS=</span>
<a href="#l8.414"></a><span id="l8.414" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.415"></a><span id="l8.415" class="difflineminus">-        DYNAMIC_XPCOM_LIBS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xpcom_core.lib'</span>
<a href="#l8.416"></a><span id="l8.416" class="difflineminus">-        XPCOM_FROZEN_LDOPTS='$(LIBXUL_DIST)/lib/xpcom.lib'</span>
<a href="#l8.417"></a><span id="l8.417" class="difflineminus">-        LIBXUL_LIBS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xul.lib'</span>
<a href="#l8.418"></a><span id="l8.418" class="difflineminus">-else</span>
<a href="#l8.419"></a><span id="l8.419">         DYNAMIC_XPCOM_LIBS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xpcom_core.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.420"></a><span id="l8.420">         XPCOM_FROZEN_LDOPTS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.421"></a><span id="l8.421">         LIBXUL_LIBS='$(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xul.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.422"></a><span id="l8.422" class="difflineminus">-fi</span>
<a href="#l8.423"></a><span id="l8.423">         MOZ_COMPONENT_NSPR_LIBS='$(NSPR_LIBS)'</span>
<a href="#l8.424"></a><span id="l8.424">         if test $_MSC_VER -ge 1400; then</span>
<a href="#l8.425"></a><span id="l8.425">             LDFLAGS=&quot;$LDFLAGS -NXCOMPAT&quot;</span>
<a href="#l8.426"></a><span id="l8.426">             dnl For profile-guided optimization</span>
<a href="#l8.427"></a><span id="l8.427">             PROFILE_GEN_CFLAGS=&quot;-GL&quot;</span>
<a href="#l8.428"></a><span id="l8.428">             PROFILE_GEN_LDFLAGS=&quot;-LTCG:PGINSTRUMENT&quot;</span>
<a href="#l8.429"></a><span id="l8.429">             dnl XXX: PGO builds can fail with warnings treated as errors,</span>
<a href="#l8.430"></a><span id="l8.430">             dnl specifically &quot;no profile data available&quot; appears to be</span>
<a href="#l8.431"></a><span id="l8.431" class="difflineat">@@ -2604,23 +2492,18 @@ fi</span>
<a href="#l8.432"></a><span id="l8.432">     BIN_FLAGS='-Zlinker /ST:0x100000'</span>
<a href="#l8.433"></a><span id="l8.433">     IMPLIB='emximp -o'</span>
<a href="#l8.434"></a><span id="l8.434">     FILTER='emxexp -o'</span>
<a href="#l8.435"></a><span id="l8.435">     LDFLAGS='-Zmap'</span>
<a href="#l8.436"></a><span id="l8.436">     WARNINGS_AS_ERRORS='-Werror'</span>
<a href="#l8.437"></a><span id="l8.437">     MOZ_DEBUG_FLAGS=&quot;-g -fno-inline&quot;</span>
<a href="#l8.438"></a><span id="l8.438">     MOZ_OPTIMIZE_FLAGS=&quot;-O2&quot;</span>
<a href="#l8.439"></a><span id="l8.439">     MOZ_OPTIMIZE_LDFLAGS=&quot;-s -Zlinker /EXEPACK:2 -Zlinker /PACKCODE -Zlinker /PACKDATA&quot;</span>
<a href="#l8.440"></a><span id="l8.440" class="difflineminus">-    if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.441"></a><span id="l8.441" class="difflineminus">-        DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/lib $(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xpcomcor.lib'</span>
<a href="#l8.442"></a><span id="l8.442" class="difflineminus">-        LIBXUL_LIBS='-L$(LIBXUL_DIST)/lib $(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xul.lib'</span>
<a href="#l8.443"></a><span id="l8.443" class="difflineminus">-    else</span>
<a href="#l8.444"></a><span id="l8.444" class="difflineminus">-        DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/lib $(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xpcom_core.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.445"></a><span id="l8.445" class="difflineminus">-        LIBXUL_LIBS='-L$(LIBXUL_DIST)/lib $(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xul.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.446"></a><span id="l8.446" class="difflineminus">-    fi</span>
<a href="#l8.447"></a><span id="l8.447" class="difflineplus">+    DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/lib $(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xpcom_core.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.448"></a><span id="l8.448" class="difflineplus">+    LIBXUL_LIBS='-L$(LIBXUL_DIST)/lib $(LIBXUL_DIST)/lib/xpcom.lib $(LIBXUL_DIST)/lib/xul.lib $(LIBXUL_DIST)/lib/mozalloc.lib'</span>
<a href="#l8.449"></a><span id="l8.449">     TARGET_MD_ARCH=os2</span>
<a href="#l8.450"></a><span id="l8.450">     _PLATFORM_DEFAULT_TOOLKIT=&quot;cairo-os2&quot;</span>
<a href="#l8.451"></a><span id="l8.451">     RC=rc.exe</span>
<a href="#l8.452"></a><span id="l8.452">     RCFLAGS='-n'</span>
<a href="#l8.453"></a><span id="l8.453">     MOZ_USER_DIR=&quot;Mozilla&quot;</span>
<a href="#l8.454"></a><span id="l8.454"> </span>
<a href="#l8.455"></a><span id="l8.455">     if test &quot;$MOZTOOLS&quot;; then</span>
<a href="#l8.456"></a><span id="l8.456">         MOZ_TOOLS_DIR=`echo $MOZTOOLS | sed -e 's|\\\\|/|g'`</span>
<a href="#l8.457"></a><span id="l8.457" class="difflineat">@@ -4281,21 +4164,17 @@ fi # SKIP_COMPILER_CHECKS</span>
<a href="#l8.458"></a><span id="l8.458"> </span>
<a href="#l8.459"></a><span id="l8.459"> dnl ========================================================</span>
<a href="#l8.460"></a><span id="l8.460"> dnl =</span>
<a href="#l8.461"></a><span id="l8.461"> dnl = Check for external package dependencies</span>
<a href="#l8.462"></a><span id="l8.462"> dnl =</span>
<a href="#l8.463"></a><span id="l8.463"> dnl ========================================================</span>
<a href="#l8.464"></a><span id="l8.464"> MOZ_ARG_HEADER(External Packages)</span>
<a href="#l8.465"></a><span id="l8.465"> </span>
<a href="#l8.466"></a><span id="l8.466" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.467"></a><span id="l8.467" class="difflineminus">-MOZ_ENABLE_LIBXUL=</span>
<a href="#l8.468"></a><span id="l8.468" class="difflineminus">-else</span>
<a href="#l8.469"></a><span id="l8.469"> MOZ_ENABLE_LIBXUL=1</span>
<a href="#l8.470"></a><span id="l8.470" class="difflineminus">-fi</span>
<a href="#l8.471"></a><span id="l8.471"> </span>
<a href="#l8.472"></a><span id="l8.472"> MOZ_ARG_WITH_STRING(libxul-sdk,</span>
<a href="#l8.473"></a><span id="l8.473"> [  --with-libxul-sdk=PFX   Use the libXUL SDK at &lt;PFX&gt;],</span>
<a href="#l8.474"></a><span id="l8.474">   LIBXUL_SDK_DIR=$withval)</span>
<a href="#l8.475"></a><span id="l8.475"> </span>
<a href="#l8.476"></a><span id="l8.476"> if test &quot;$LIBXUL_SDK_DIR&quot; = &quot;yes&quot;; then</span>
<a href="#l8.477"></a><span id="l8.477">     AC_MSG_ERROR([--with-libxul-sdk must specify a path])</span>
<a href="#l8.478"></a><span id="l8.478"> elif test -n &quot;$LIBXUL_SDK_DIR&quot; -a &quot;$LIBXUL_SDK_DIR&quot; != &quot;no&quot;; then</span>
<a href="#l8.479"></a><span id="l8.479" class="difflineat">@@ -4385,31 +4264,22 @@ else</span>
<a href="#l8.480"></a><span id="l8.480">    NSS_DEP_LIBS=&quot;\</span>
<a href="#l8.481"></a><span id="l8.481">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)crmf.\$(LIB_SUFFIX) \</span>
<a href="#l8.482"></a><span id="l8.482">         \$(LIBXUL_DIST)/lib/\$(DLL_PREFIX)smime$NSS_VERSION\$(DLL_SUFFIX) \</span>
<a href="#l8.483"></a><span id="l8.483">         \$(LIBXUL_DIST)/lib/\$(DLL_PREFIX)ssl$NSS_VERSION\$(DLL_SUFFIX) \</span>
<a href="#l8.484"></a><span id="l8.484">         \$(LIBXUL_DIST)/lib/\$(DLL_PREFIX)nss$NSS_VERSION\$(DLL_SUFFIX) \</span>
<a href="#l8.485"></a><span id="l8.485">         \$(LIBXUL_DIST)/lib/\$(DLL_PREFIX)nssutil$NSS_VERSION\$(DLL_SUFFIX)&quot;</span>
<a href="#l8.486"></a><span id="l8.486"> </span>
<a href="#l8.487"></a><span id="l8.487">    if test -z &quot;$GNU_CC&quot; &amp;&amp; test &quot;$OS_ARCH&quot; = &quot;WINNT&quot; -o &quot;$OS_ARCH&quot; = &quot;WINCE&quot; -o &quot;$OS_ARCH&quot; = &quot;OS2&quot;; then</span>
<a href="#l8.488"></a><span id="l8.488" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.489"></a><span id="l8.489" class="difflineminus">-       NSS_LIBS=&quot;\</span>
<a href="#l8.490"></a><span id="l8.490" class="difflineminus">-        \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)crmf.\$(LIB_SUFFIX) \</span>
<a href="#l8.491"></a><span id="l8.491" class="difflineminus">-        \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)smime$NSS_VERSION.\$(IMPORT_LIB_SUFFIX) \</span>
<a href="#l8.492"></a><span id="l8.492" class="difflineminus">-        \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)ssl$NSS_VERSION.\$(IMPORT_LIB_SUFFIX) \</span>
<a href="#l8.493"></a><span id="l8.493" class="difflineminus">-        \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)nss$NSS_VERSION.\$(IMPORT_LIB_SUFFIX) \</span>
<a href="#l8.494"></a><span id="l8.494" class="difflineminus">-        \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)nssutil$NSS_VERSION.\$(IMPORT_LIB_SUFFIX)&quot;</span>
<a href="#l8.495"></a><span id="l8.495" class="difflineminus">-else</span>
<a href="#l8.496"></a><span id="l8.496">        NSS_LIBS=&quot;\</span>
<a href="#l8.497"></a><span id="l8.497">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)crmf.\$(LIB_SUFFIX) \</span>
<a href="#l8.498"></a><span id="l8.498">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)smime$NSS_VERSION.\$(LIB_SUFFIX) \</span>
<a href="#l8.499"></a><span id="l8.499">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)ssl$NSS_VERSION.\$(LIB_SUFFIX) \</span>
<a href="#l8.500"></a><span id="l8.500">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)nss$NSS_VERSION.\$(LIB_SUFFIX) \</span>
<a href="#l8.501"></a><span id="l8.501">         \$(LIBXUL_DIST)/lib/\$(LIB_PREFIX)nssutil$NSS_VERSION.\$(LIB_SUFFIX)&quot;</span>
<a href="#l8.502"></a><span id="l8.502" class="difflineminus">-fi</span>
<a href="#l8.503"></a><span id="l8.503">    else</span>
<a href="#l8.504"></a><span id="l8.504">        NSS_LIBS='$(LIBS_DIR)'&quot; -lcrmf -lsmime$NSS_VERSION -lssl$NSS_VERSION -lnss$NSS_VERSION -lnssutil$NSS_VERSION&quot;</span>
<a href="#l8.505"></a><span id="l8.505">    fi</span>
<a href="#l8.506"></a><span id="l8.506"> fi</span>
<a href="#l8.507"></a><span id="l8.507"> </span>
<a href="#l8.508"></a><span id="l8.508"> if test -z &quot;$SKIP_LIBRARY_CHECKS&quot;; then</span>
<a href="#l8.509"></a><span id="l8.509"> dnl system JPEG support</span>
<a href="#l8.510"></a><span id="l8.510"> dnl ========================================================</span>
<a href="#l8.511"></a><span id="l8.511" class="difflineat">@@ -4606,66 +4476,57 @@ MOZ_ARG_HEADER(Application)</span>
<a href="#l8.512"></a><span id="l8.512"> </span>
<a href="#l8.513"></a><span id="l8.513"> BUILD_STATIC_LIBS=</span>
<a href="#l8.514"></a><span id="l8.514"> ENABLE_TESTS=1</span>
<a href="#l8.515"></a><span id="l8.515"> MOZ_BRANDING_DIRECTORY=</span>
<a href="#l8.516"></a><span id="l8.516"> MOZ_OFFICIAL_BRANDING=</span>
<a href="#l8.517"></a><span id="l8.517"> MOZ_CALENDAR=</span>
<a href="#l8.518"></a><span id="l8.518"> MOZ_DBGRINFO_MODULES=</span>
<a href="#l8.519"></a><span id="l8.519"> MOZ_FEEDS=1</span>
<a href="#l8.520"></a><span id="l8.520" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; != &quot;1&quot;; then</span>
<a href="#l8.521"></a><span id="l8.521"> MOZ_IPC=1</span>
<a href="#l8.522"></a><span id="l8.522" class="difflineminus">-fi</span>
<a href="#l8.523"></a><span id="l8.523"> MOZ_JSDEBUGGER=1</span>
<a href="#l8.524"></a><span id="l8.524"> MOZ_JSLOADER=1</span>
<a href="#l8.525"></a><span id="l8.525"> MOZ_LDAP_XPCOM=</span>
<a href="#l8.526"></a><span id="l8.526"> MOZ_MAIL_NEWS=</span>
<a href="#l8.527"></a><span id="l8.527"> MOZ_MORK=</span>
<a href="#l8.528"></a><span id="l8.528"> MOZ_MORKREADER=1</span>
<a href="#l8.529"></a><span id="l8.529"> MOZ_AUTH_EXTENSION=1</span>
<a href="#l8.530"></a><span id="l8.530"> MOZ_NO_ACTIVEX_SUPPORT=1</span>
<a href="#l8.531"></a><span id="l8.531"> MOZ_NO_INSPECTOR_APIS=</span>
<a href="#l8.532"></a><span id="l8.532"> MOZ_NO_FAST_LOAD=</span>
<a href="#l8.533"></a><span id="l8.533"> MOZ_OGG=1</span>
<a href="#l8.534"></a><span id="l8.534"> MOZ_SYDNEYAUDIO=</span>
<a href="#l8.535"></a><span id="l8.535"> MOZ_WAVE=1</span>
<a href="#l8.536"></a><span id="l8.536" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; != &quot;1&quot;; then</span>
<a href="#l8.537"></a><span id="l8.537"> MOZ_PANGO=1</span>
<a href="#l8.538"></a><span id="l8.538" class="difflineminus">-fi</span>
<a href="#l8.539"></a><span id="l8.539"> MOZ_PERMISSIONS=1</span>
<a href="#l8.540"></a><span id="l8.540"> MOZ_PLACES=1</span>
<a href="#l8.541"></a><span id="l8.541"> MOZ_PLAINTEXT_EDITOR_ONLY=</span>
<a href="#l8.542"></a><span id="l8.542"> MOZ_PLUGINS=1</span>
<a href="#l8.543"></a><span id="l8.543"> MOZ_PREF_EXTENSIONS=1</span>
<a href="#l8.544"></a><span id="l8.544"> MOZ_PROFILELOCKING=1</span>
<a href="#l8.545"></a><span id="l8.545"> MOZ_PSM=1</span>
<a href="#l8.546"></a><span id="l8.546"> MOZ_RDF=1</span>
<a href="#l8.547"></a><span id="l8.547"> MOZ_SAFE_BROWSING=</span>
<a href="#l8.548"></a><span id="l8.548"> MOZ_FASTSTART=</span>
<a href="#l8.549"></a><span id="l8.549"> MOZ_HELP_VIEWER=</span>
<a href="#l8.550"></a><span id="l8.550"> MOZ_SPELLCHECK=1</span>
<a href="#l8.551"></a><span id="l8.551"> MOZ_STATIC_MAIL_BUILD=</span>
<a href="#l8.552"></a><span id="l8.552"> MOZ_STORAGE=1</span>
<a href="#l8.553"></a><span id="l8.553" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.554"></a><span id="l8.554" class="difflineminus">-MOZ_SVG=1</span>
<a href="#l8.555"></a><span id="l8.555" class="difflineminus">-fi</span>
<a href="#l8.556"></a><span id="l8.556"> MOZ_TIMELINE=</span>
<a href="#l8.557"></a><span id="l8.557"> MOZ_UI_LOCALE=en-US</span>
<a href="#l8.558"></a><span id="l8.558"> MOZ_UNIVERSALCHARDET=1</span>
<a href="#l8.559"></a><span id="l8.559"> MOZ_URL_CLASSIFIER=</span>
<a href="#l8.560"></a><span id="l8.560"> MOZ_USE_NATIVE_UCONV=</span>
<a href="#l8.561"></a><span id="l8.561"> MOZ_VIEW_SOURCE=1</span>
<a href="#l8.562"></a><span id="l8.562"> MOZ_XSLT_STANDALONE=</span>
<a href="#l8.563"></a><span id="l8.563"> MOZ_XTF=1</span>
<a href="#l8.564"></a><span id="l8.564"> MOZ_XUL=1</span>
<a href="#l8.565"></a><span id="l8.565"> MOZ_ZIPWRITER=1</span>
<a href="#l8.566"></a><span id="l8.566"> NS_PRINTING=1</span>
<a href="#l8.567"></a><span id="l8.567" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; != &quot;1&quot;; then</span>
<a href="#l8.568"></a><span id="l8.568"> BUILD_CTYPES=1</span>
<a href="#l8.569"></a><span id="l8.569" class="difflineminus">-fi</span>
<a href="#l8.570"></a><span id="l8.570"> </span>
<a href="#l8.571"></a><span id="l8.571"> </span>
<a href="#l8.572"></a><span id="l8.572"> case &quot;$target_os&quot; in</span>
<a href="#l8.573"></a><span id="l8.573"> darwin*)</span>
<a href="#l8.574"></a><span id="l8.574">     ACCESSIBILITY=</span>
<a href="#l8.575"></a><span id="l8.575">     ;;</span>
<a href="#l8.576"></a><span id="l8.576"> *)</span>
<a href="#l8.577"></a><span id="l8.577">     ACCESSIBILITY=1</span>
<a href="#l8.578"></a><span id="l8.578" class="difflineat">@@ -4696,82 +4557,64 @@ MOZ_ARG_WITH_STRING(embedding-profile,</span>
<a href="#l8.579"></a><span id="l8.579"> </span>
<a href="#l8.580"></a><span id="l8.580"> case &quot;$MOZ_EMBEDDING_PROFILE&quot; in</span>
<a href="#l8.581"></a><span id="l8.581"> default)</span>
<a href="#l8.582"></a><span id="l8.582">   ;;</span>
<a href="#l8.583"></a><span id="l8.583"> </span>
<a href="#l8.584"></a><span id="l8.584"> basic)</span>
<a href="#l8.585"></a><span id="l8.585">   ENABLE_TESTS=</span>
<a href="#l8.586"></a><span id="l8.586">   MOZ_COMPOSER=</span>
<a href="#l8.587"></a><span id="l8.587" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.588"></a><span id="l8.588" class="difflineminus">-  MOZ_ENABLE_CANVAS=</span>
<a href="#l8.589"></a><span id="l8.589" class="difflineminus">-  fi</span>
<a href="#l8.590"></a><span id="l8.590">   MOZ_INSTALLER=</span>
<a href="#l8.591"></a><span id="l8.591">   MOZ_JSDEBUGGER=</span>
<a href="#l8.592"></a><span id="l8.592">   MOZ_LDAP_XPCOM=</span>
<a href="#l8.593"></a><span id="l8.593">   MOZ_MAIL_NEWS=</span>
<a href="#l8.594"></a><span id="l8.594">   MOZ_AUTH_EXTENSION=</span>
<a href="#l8.595"></a><span id="l8.595">   MOZ_NO_ACTIVEX_SUPPORT=1</span>
<a href="#l8.596"></a><span id="l8.596">   MOZ_NO_INSPECTOR_APIS=1</span>
<a href="#l8.597"></a><span id="l8.597">   MOZ_NO_FAST_LOAD=1</span>
<a href="#l8.598"></a><span id="l8.598">   MOZ_PLAINTEXT_EDITOR_ONLY=1</span>
<a href="#l8.599"></a><span id="l8.599"> #  MOZ_PLUGINS=</span>
<a href="#l8.600"></a><span id="l8.600">   MOZ_PREF_EXTENSIONS=</span>
<a href="#l8.601"></a><span id="l8.601">   MOZ_PROFILELOCKING=</span>
<a href="#l8.602"></a><span id="l8.602">   MOZ_SPELLCHECK=</span>
<a href="#l8.603"></a><span id="l8.603" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.604"></a><span id="l8.604" class="difflineminus">-  MOZ_SVG=</span>
<a href="#l8.605"></a><span id="l8.605" class="difflineminus">-  fi</span>
<a href="#l8.606"></a><span id="l8.606">   MOZ_UNIVERSALCHARDET=</span>
<a href="#l8.607"></a><span id="l8.607">   MOZ_UPDATER=</span>
<a href="#l8.608"></a><span id="l8.608">   MOZ_USE_NATIVE_UCONV=</span>
<a href="#l8.609"></a><span id="l8.609">   MOZ_VIEW_SOURCE=</span>
<a href="#l8.610"></a><span id="l8.610">   MOZ_XTF=</span>
<a href="#l8.611"></a><span id="l8.611">   MOZ_ZIPWRITER=</span>
<a href="#l8.612"></a><span id="l8.612">   NS_DISABLE_LOGGING=1</span>
<a href="#l8.613"></a><span id="l8.613" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.614"></a><span id="l8.614" class="difflineminus">-  NS_PRINTING=</span>
<a href="#l8.615"></a><span id="l8.615" class="difflineminus">-  fi</span>
<a href="#l8.616"></a><span id="l8.616">   ;;</span>
<a href="#l8.617"></a><span id="l8.617"> </span>
<a href="#l8.618"></a><span id="l8.618"> minimal)</span>
<a href="#l8.619"></a><span id="l8.619">   ENABLE_TESTS=</span>
<a href="#l8.620"></a><span id="l8.620">   MOZ_COMPOSER=</span>
<a href="#l8.621"></a><span id="l8.621" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.622"></a><span id="l8.622" class="difflineminus">-  MOZ_ENABLE_CANVAS=</span>
<a href="#l8.623"></a><span id="l8.623" class="difflineminus">-  fi</span>
<a href="#l8.624"></a><span id="l8.624">   MOZ_INSTALLER=</span>
<a href="#l8.625"></a><span id="l8.625">   MOZ_JSDEBUGGER=</span>
<a href="#l8.626"></a><span id="l8.626">   MOZ_LDAP_XPCOM=</span>
<a href="#l8.627"></a><span id="l8.627">   MOZ_MAIL_NEWS=</span>
<a href="#l8.628"></a><span id="l8.628">   MOZ_AUTH_EXTENSION=</span>
<a href="#l8.629"></a><span id="l8.629">   MOZ_NO_ACTIVEX_SUPPORT=1</span>
<a href="#l8.630"></a><span id="l8.630">   MOZ_NO_INSPECTOR_APIS=1</span>
<a href="#l8.631"></a><span id="l8.631">   MOZ_NO_FAST_LOAD=1</span>
<a href="#l8.632"></a><span id="l8.632">   MOZ_PLAINTEXT_EDITOR_ONLY=1</span>
<a href="#l8.633"></a><span id="l8.633">   MOZ_PLUGINS=</span>
<a href="#l8.634"></a><span id="l8.634">   MOZ_PREF_EXTENSIONS=</span>
<a href="#l8.635"></a><span id="l8.635">   MOZ_PROFILELOCKING=</span>
<a href="#l8.636"></a><span id="l8.636">   MOZ_SPELLCHECK=</span>
<a href="#l8.637"></a><span id="l8.637">   MOZ_STORAGE=1</span>
<a href="#l8.638"></a><span id="l8.638" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.639"></a><span id="l8.639" class="difflineminus">-  MOZ_SVG=</span>
<a href="#l8.640"></a><span id="l8.640" class="difflineminus">-  fi</span>
<a href="#l8.641"></a><span id="l8.641">   MOZ_UNIVERSALCHARDET=</span>
<a href="#l8.642"></a><span id="l8.642">   MOZ_UPDATER=</span>
<a href="#l8.643"></a><span id="l8.643">   MOZ_USE_NATIVE_UCONV=1</span>
<a href="#l8.644"></a><span id="l8.644">   MOZ_VIEW_SOURCE=</span>
<a href="#l8.645"></a><span id="l8.645">   MOZ_XTF=</span>
<a href="#l8.646"></a><span id="l8.646">   MOZ_XUL=</span>
<a href="#l8.647"></a><span id="l8.647">   MOZ_ZIPWRITER=</span>
<a href="#l8.648"></a><span id="l8.648">   MOZ_RDF=</span>
<a href="#l8.649"></a><span id="l8.649">   NS_DISABLE_LOGGING=1</span>
<a href="#l8.650"></a><span id="l8.650" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.651"></a><span id="l8.651" class="difflineminus">-  NS_PRINTING=</span>
<a href="#l8.652"></a><span id="l8.652" class="difflineminus">-  fi</span>
<a href="#l8.653"></a><span id="l8.653">   ;;</span>
<a href="#l8.654"></a><span id="l8.654"> </span>
<a href="#l8.655"></a><span id="l8.655"> *)</span>
<a href="#l8.656"></a><span id="l8.656">   AC_MSG_ERROR([Unrecognized value: --with-embedding-profile=$MOZ_EMBEDDING_PROFILE])</span>
<a href="#l8.657"></a><span id="l8.657">   ;;</span>
<a href="#l8.658"></a><span id="l8.658"> esac</span>
<a href="#l8.659"></a><span id="l8.659"> </span>
<a href="#l8.660"></a><span id="l8.660"> MOZ_ARG_WITH_STRING(xulrunner-stub-name,</span>
<a href="#l8.661"></a><span id="l8.661" class="difflineat">@@ -4809,19 +4652,16 @@ else</span>
<a href="#l8.662"></a><span id="l8.662">   AC_MSG_RESULT([no])</span>
<a href="#l8.663"></a><span id="l8.663"> fi</span>
<a href="#l8.664"></a><span id="l8.664"> </span>
<a href="#l8.665"></a><span id="l8.665"> # Special cases where we need to AC_DEFINE something. Also a holdover for apps</span>
<a href="#l8.666"></a><span id="l8.666"> # that haven't made a confvars.sh yet. Don't add new stuff here, use</span>
<a href="#l8.667"></a><span id="l8.667"> # MOZ_BUILD_APP.</span>
<a href="#l8.668"></a><span id="l8.668"> case &quot;$MOZ_BUILD_APP&quot; in</span>
<a href="#l8.669"></a><span id="l8.669"> suite)</span>
<a href="#l8.670"></a><span id="l8.670" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.671"></a><span id="l8.671" class="difflineminus">-    AC_MSG_ERROR([Building SeaMonkey with mozilla1.9.2 is not supported.])</span>
<a href="#l8.672"></a><span id="l8.672" class="difflineminus">-  fi</span>
<a href="#l8.673"></a><span id="l8.673">   AC_DEFINE(MOZ_SUITE)</span>
<a href="#l8.674"></a><span id="l8.674">   ;;</span>
<a href="#l8.675"></a><span id="l8.675"> </span>
<a href="#l8.676"></a><span id="l8.676"> mail)</span>
<a href="#l8.677"></a><span id="l8.677">   AC_DEFINE(MOZ_THUNDERBIRD)</span>
<a href="#l8.678"></a><span id="l8.678">   ;;</span>
<a href="#l8.679"></a><span id="l8.679"> </span>
<a href="#l8.680"></a><span id="l8.680"> calendar)</span>
<a href="#l8.681"></a><span id="l8.681" class="difflineat">@@ -4944,34 +4784,22 @@ cairo-os2)</span>
<a href="#l8.682"></a><span id="l8.682">     TK_LIBS='$(MOZ_CAIRO_LIBS)'</span>
<a href="#l8.683"></a><span id="l8.683">     ;;</span>
<a href="#l8.684"></a><span id="l8.684"> </span>
<a href="#l8.685"></a><span id="l8.685"> cairo-cocoa)</span>
<a href="#l8.686"></a><span id="l8.686">     MOZ_WIDGET_TOOLKIT=cocoa</span>
<a href="#l8.687"></a><span id="l8.687">     AC_DEFINE(MOZ_WIDGET_COCOA)</span>
<a href="#l8.688"></a><span id="l8.688">     MOZ_USER_DIR=&quot;Mozilla&quot;</span>
<a href="#l8.689"></a><span id="l8.689">     AC_DEFINE(XP_MACOSX)</span>
<a href="#l8.690"></a><span id="l8.690" class="difflineminus">-    if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.691"></a><span id="l8.691" class="difflineminus">-    TK_LIBS='-framework Carbon -framework AddressBook'</span>
<a href="#l8.692"></a><span id="l8.692" class="difflineminus">-    else</span>
<a href="#l8.693"></a><span id="l8.693">     TK_LIBS='-framework QuartzCore -framework Carbon -framework AddressBook'</span>
<a href="#l8.694"></a><span id="l8.694" class="difflineminus">-    fi</span>
<a href="#l8.695"></a><span id="l8.695">     TK_CFLAGS=&quot;-DNO_X11&quot;</span>
<a href="#l8.696"></a><span id="l8.696" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.697"></a><span id="l8.697" class="difflineminus">-    LDFLAGS=&quot;$LDFLAGS -framework Cocoa&quot;</span>
<a href="#l8.698"></a><span id="l8.698" class="difflineminus">-  else</span>
<a href="#l8.699"></a><span id="l8.699">     LDFLAGS=&quot;$LDFLAGS -framework Cocoa -lobjc&quot;</span>
<a href="#l8.700"></a><span id="l8.700" class="difflineminus">-  fi</span>
<a href="#l8.701"></a><span id="l8.701">     CFLAGS=&quot;$CFLAGS $TK_CFLAGS&quot;</span>
<a href="#l8.702"></a><span id="l8.702">     CXXFLAGS=&quot;$CXXFLAGS $TK_CFLAGS&quot;</span>
<a href="#l8.703"></a><span id="l8.703" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.704"></a><span id="l8.704" class="difflineminus">-    LIBXUL_LIBS='$(XPCOM_FROZEN_LDOPTS) $(LIBXUL_DIST)/bin/XUL -lobjc'</span>
<a href="#l8.705"></a><span id="l8.705" class="difflineminus">-  else</span>
<a href="#l8.706"></a><span id="l8.706">     LIBXUL_LIBS='$(XPCOM_FROZEN_LDOPTS) $(LIBXUL_DIST)/bin/XUL'</span>
<a href="#l8.707"></a><span id="l8.707" class="difflineminus">-  fi</span>
<a href="#l8.708"></a><span id="l8.708">     MOZ_FS_LAYOUT=bundle</span>
<a href="#l8.709"></a><span id="l8.709">     ;;</span>
<a href="#l8.710"></a><span id="l8.710"> esac</span>
<a href="#l8.711"></a><span id="l8.711"> </span>
<a href="#l8.712"></a><span id="l8.712"> if test &quot;$COMPILE_ENVIRONMENT&quot;; then</span>
<a href="#l8.713"></a><span id="l8.713">   if test &quot;$MOZ_ENABLE_GTK2&quot;; then</span>
<a href="#l8.714"></a><span id="l8.714">     if test &quot;$MOZ_X11&quot;; then</span>
<a href="#l8.715"></a><span id="l8.715">       GDK_PACKAGES=gdk-x11-2.0</span>
<a href="#l8.716"></a><span id="l8.716" class="difflineat">@@ -5022,21 +4850,17 @@ AC_SUBST(MOZ_ENABLE_STARTUP_NOTIFICATION</span>
<a href="#l8.717"></a><span id="l8.717"> AC_SUBST(MOZ_STARTUP_NOTIFICATION_CFLAGS)</span>
<a href="#l8.718"></a><span id="l8.718"> AC_SUBST(MOZ_STARTUP_NOTIFICATION_LIBS)</span>
<a href="#l8.719"></a><span id="l8.719"> </span>
<a href="#l8.720"></a><span id="l8.720"> dnl ========================================================</span>
<a href="#l8.721"></a><span id="l8.721"> dnl = QT support</span>
<a href="#l8.722"></a><span id="l8.722"> dnl ========================================================</span>
<a href="#l8.723"></a><span id="l8.723"> if test &quot;$MOZ_ENABLE_QT&quot;</span>
<a href="#l8.724"></a><span id="l8.724"> then</span>
<a href="#l8.725"></a><span id="l8.725" class="difflineminus">-    if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.726"></a><span id="l8.726" class="difflineminus">-    PKG_CHECK_MODULES(MOZ_QT, QtGui QtNetwork QtUiTools QtCore)</span>
<a href="#l8.727"></a><span id="l8.727" class="difflineminus">-    else</span>
<a href="#l8.728"></a><span id="l8.728">     PKG_CHECK_MODULES(MOZ_QT, QtGui QtNetwork QtCore QtOpenGL)</span>
<a href="#l8.729"></a><span id="l8.729" class="difflineminus">-    fi</span>
<a href="#l8.730"></a><span id="l8.730"> fi</span>
<a href="#l8.731"></a><span id="l8.731"> </span>
<a href="#l8.732"></a><span id="l8.732"> AC_SUBST(GTK_CONFIG)</span>
<a href="#l8.733"></a><span id="l8.733"> AC_SUBST(TK_CFLAGS)</span>
<a href="#l8.734"></a><span id="l8.734"> AC_SUBST(TK_LIBS)</span>
<a href="#l8.735"></a><span id="l8.735"> </span>
<a href="#l8.736"></a><span id="l8.736"> AC_SUBST(MOZ_ENABLE_GTK2)</span>
<a href="#l8.737"></a><span id="l8.737"> AC_SUBST(MOZ_GTK2_CFLAGS)</span>
<a href="#l8.738"></a><span id="l8.738" class="difflineat">@@ -5137,52 +4961,48 @@ MOZ_ARG_WITH_STRING(distribution-id,</span>
<a href="#l8.739"></a><span id="l8.739"> </span>
<a href="#l8.740"></a><span id="l8.740"> if test -z &quot;$MOZ_DISTRIBUTION_ID&quot;; then</span>
<a href="#l8.741"></a><span id="l8.741">    MOZ_DISTRIBUTION_ID=&quot;org.mozilla&quot;</span>
<a href="#l8.742"></a><span id="l8.742"> fi</span>
<a href="#l8.743"></a><span id="l8.743"> </span>
<a href="#l8.744"></a><span id="l8.744"> AC_DEFINE_UNQUOTED(MOZ_DISTRIBUTION_ID,&quot;$MOZ_DISTRIBUTION_ID&quot;)</span>
<a href="#l8.745"></a><span id="l8.745"> AC_SUBST(MOZ_DISTRIBUTION_ID)</span>
<a href="#l8.746"></a><span id="l8.746"> </span>
<a href="#l8.747"></a><span id="l8.747" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; != &quot;1&quot;; then</span>
<a href="#l8.748"></a><span id="l8.748"> dnl ========================================================</span>
<a href="#l8.749"></a><span id="l8.749"> dnl complex text support off by default</span>
<a href="#l8.750"></a><span id="l8.750"> dnl ========================================================</span>
<a href="#l8.751"></a><span id="l8.751"> MOZ_ARG_DISABLE_BOOL(pango,</span>
<a href="#l8.752"></a><span id="l8.752"> [  --disable-pango Disable usage of Pango ],</span>
<a href="#l8.753"></a><span id="l8.753">     MOZ_PANGO=,</span>
<a href="#l8.754"></a><span id="l8.754">     MOZ_PANGO=1)</span>
<a href="#l8.755"></a><span id="l8.755" class="difflineminus">-fi # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l8.756"></a><span id="l8.756"> </span>
<a href="#l8.757"></a><span id="l8.757"> dnl ========================================================</span>
<a href="#l8.758"></a><span id="l8.758"> dnl = Pango</span>
<a href="#l8.759"></a><span id="l8.759"> dnl ========================================================</span>
<a href="#l8.760"></a><span id="l8.760"> if test &quot;$MOZ_ENABLE_GTK2&quot;</span>
<a href="#l8.761"></a><span id="l8.761"> then</span>
<a href="#l8.762"></a><span id="l8.762">     PKG_CHECK_MODULES(MOZ_PANGO, pango &gt;= $PANGO_VERSION pangoft2 &gt;= $PANGO_VERSION)</span>
<a href="#l8.763"></a><span id="l8.763">     AC_SUBST(MOZ_PANGO_LIBS)</span>
<a href="#l8.764"></a><span id="l8.764"> fi</span>
<a href="#l8.765"></a><span id="l8.765"> </span>
<a href="#l8.766"></a><span id="l8.766" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; != &quot;1&quot;; then</span>
<a href="#l8.767"></a><span id="l8.767"> if test &quot;$MOZ_ENABLE_QT&quot;</span>
<a href="#l8.768"></a><span id="l8.768"> then</span>
<a href="#l8.769"></a><span id="l8.769">     if test &quot;$MOZ_PANGO&quot;</span>
<a href="#l8.770"></a><span id="l8.770">     then</span>
<a href="#l8.771"></a><span id="l8.771">         PKG_CHECK_MODULES(MOZ_PANGO, [pango &gt;= $PANGO_VERSION pangoft2 &gt;= $PANGO_VERSION],</span>
<a href="#l8.772"></a><span id="l8.772">         [</span>
<a href="#l8.773"></a><span id="l8.773">             AC_SUBST(MOZ_PANGO_LIBS)</span>
<a href="#l8.774"></a><span id="l8.774">             true # Needed not to have an empty block.</span>
<a href="#l8.775"></a><span id="l8.775">         ],</span>
<a href="#l8.776"></a><span id="l8.776">         [</span>
<a href="#l8.777"></a><span id="l8.777">             echo &quot;Pango library not found, will use FT2 font engine&quot;</span>
<a href="#l8.778"></a><span id="l8.778">             MOZ_PANGO=</span>
<a href="#l8.779"></a><span id="l8.779">         ])</span>
<a href="#l8.780"></a><span id="l8.780">     fi</span>
<a href="#l8.781"></a><span id="l8.781"> fi</span>
<a href="#l8.782"></a><span id="l8.782" class="difflineminus">-fi # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l8.783"></a><span id="l8.783"> </span>
<a href="#l8.784"></a><span id="l8.784"> dnl ========================================================</span>
<a href="#l8.785"></a><span id="l8.785"> dnl = GnomeVFS support module</span>
<a href="#l8.786"></a><span id="l8.786"> dnl ========================================================</span>
<a href="#l8.787"></a><span id="l8.787"> </span>
<a href="#l8.788"></a><span id="l8.788"> if test &quot;$MOZ_X11&quot;</span>
<a href="#l8.789"></a><span id="l8.789"> then</span>
<a href="#l8.790"></a><span id="l8.790">     dnl build the gnomevfs extension by default only when the</span>
<a href="#l8.791"></a><span id="l8.791" class="difflineat">@@ -5227,20 +5047,16 @@ then</span>
<a href="#l8.792"></a><span id="l8.792">     if test &quot;$MOZ_ENABLE_GCONF&quot;; then</span>
<a href="#l8.793"></a><span id="l8.793">         AC_DEFINE(MOZ_ENABLE_GCONF)</span>
<a href="#l8.794"></a><span id="l8.794">     fi</span>
<a href="#l8.795"></a><span id="l8.795"> </span>
<a href="#l8.796"></a><span id="l8.796">     AC_SUBST(MOZ_ENABLE_GCONF)</span>
<a href="#l8.797"></a><span id="l8.797">     AC_SUBST(MOZ_GCONF_CFLAGS)</span>
<a href="#l8.798"></a><span id="l8.798">     AC_SUBST(MOZ_GCONF_LIBS)</span>
<a href="#l8.799"></a><span id="l8.799"> </span>
<a href="#l8.800"></a><span id="l8.800" class="difflineminus">-    if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.801"></a><span id="l8.801" class="difflineminus">-      MOZ_ENABLE_GIO=</span>
<a href="#l8.802"></a><span id="l8.802" class="difflineminus">-    else</span>
<a href="#l8.803"></a><span id="l8.803" class="difflineminus">-</span>
<a href="#l8.804"></a><span id="l8.804">     dnl ========================================================</span>
<a href="#l8.805"></a><span id="l8.805">     dnl = GIO support module</span>
<a href="#l8.806"></a><span id="l8.806">     dnl ========================================================</span>
<a href="#l8.807"></a><span id="l8.807">     MOZ_ARG_ENABLE_BOOL(gio,</span>
<a href="#l8.808"></a><span id="l8.808">     [  --enable-gio            Enable GIO support (default: disabled)],</span>
<a href="#l8.809"></a><span id="l8.809">         MOZ_ENABLE_GIO=force,</span>
<a href="#l8.810"></a><span id="l8.810">         MOZ_ENABLE_GIO=)</span>
<a href="#l8.811"></a><span id="l8.811"> </span>
<a href="#l8.812"></a><span id="l8.812" class="difflineat">@@ -5251,19 +5067,16 @@ then</span>
<a href="#l8.813"></a><span id="l8.813">         ],[</span>
<a href="#l8.814"></a><span id="l8.814">             if test &quot;$MOZ_ENABLE_GIO&quot; = &quot;force&quot;</span>
<a href="#l8.815"></a><span id="l8.815">             then</span>
<a href="#l8.816"></a><span id="l8.816">                 AC_MSG_ERROR([* * * Could not find gio-2.0 &gt;= $GIO_VERSION])</span>
<a href="#l8.817"></a><span id="l8.817">             fi</span>
<a href="#l8.818"></a><span id="l8.818">             MOZ_ENABLE_GIO=</span>
<a href="#l8.819"></a><span id="l8.819">         ])</span>
<a href="#l8.820"></a><span id="l8.820">     fi</span>
<a href="#l8.821"></a><span id="l8.821" class="difflineminus">-</span>
<a href="#l8.822"></a><span id="l8.822" class="difflineminus">-    dnl ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l8.823"></a><span id="l8.823" class="difflineminus">-    fi</span>
<a href="#l8.824"></a><span id="l8.824"> fi</span>
<a href="#l8.825"></a><span id="l8.825"> </span>
<a href="#l8.826"></a><span id="l8.826"> if test &quot;$MOZ_ENABLE_GTK2&quot;</span>
<a href="#l8.827"></a><span id="l8.827"> then</span>
<a href="#l8.828"></a><span id="l8.828">     # The GNOME component is built if gtk2, gconf and gnome-vfs</span>
<a href="#l8.829"></a><span id="l8.829">     # are all available.</span>
<a href="#l8.830"></a><span id="l8.830"> </span>
<a href="#l8.831"></a><span id="l8.831">     if test &quot;$MOZ_ENABLE_GTK2&quot; -a &quot;$MOZ_ENABLE_GCONF&quot; &amp;&amp; \</span>
<a href="#l8.832"></a><span id="l8.832" class="difflineat">@@ -5309,17 +5122,16 @@ MOZ_ARG_DISABLE_BOOL(crypto,</span>
<a href="#l8.833"></a><span id="l8.833"> dnl ========================================================</span>
<a href="#l8.834"></a><span id="l8.834"> dnl = JS Debugger XPCOM component (js/jsd)</span>
<a href="#l8.835"></a><span id="l8.835"> dnl ========================================================</span>
<a href="#l8.836"></a><span id="l8.836"> MOZ_ARG_DISABLE_BOOL(jsd,</span>
<a href="#l8.837"></a><span id="l8.837"> [  --disable-jsd           Disable JavaScript debug library],</span>
<a href="#l8.838"></a><span id="l8.838">     MOZ_JSDEBUGGER=,</span>
<a href="#l8.839"></a><span id="l8.839">     MOZ_JSDEBUGGER=1)</span>
<a href="#l8.840"></a><span id="l8.840"> </span>
<a href="#l8.841"></a><span id="l8.841" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; != &quot;1&quot;; then</span>
<a href="#l8.842"></a><span id="l8.842"> dnl ========================================================</span>
<a href="#l8.843"></a><span id="l8.843"> dnl = Disable IPC support for tabs and plugins</span>
<a href="#l8.844"></a><span id="l8.844"> dnl ========================================================</span>
<a href="#l8.845"></a><span id="l8.845"> case &quot;${target}&quot; in</span>
<a href="#l8.846"></a><span id="l8.846"> powerpc-apple-darwin*)</span>
<a href="#l8.847"></a><span id="l8.847">     MOZ_IPC=</span>
<a href="#l8.848"></a><span id="l8.848">     ;;</span>
<a href="#l8.849"></a><span id="l8.849"> *-wince*)</span>
<a href="#l8.850"></a><span id="l8.850" class="difflineat">@@ -5332,17 +5144,16 @@ MOZ_ARG_DISABLE_BOOL(ipc,</span>
<a href="#l8.851"></a><span id="l8.851">     MOZ_IPC=,</span>
<a href="#l8.852"></a><span id="l8.852">     MOZ_IPC=1)</span>
<a href="#l8.853"></a><span id="l8.853"> </span>
<a href="#l8.854"></a><span id="l8.854"> if test -n &quot;$MOZ_IPC&quot;; then</span>
<a href="#l8.855"></a><span id="l8.855">     AC_DEFINE(MOZ_IPC)</span>
<a href="#l8.856"></a><span id="l8.856"> fi</span>
<a href="#l8.857"></a><span id="l8.857"> </span>
<a href="#l8.858"></a><span id="l8.858"> AC_SUBST(MOZ_IPC)</span>
<a href="#l8.859"></a><span id="l8.859" class="difflineminus">-fi # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l8.860"></a><span id="l8.860"> </span>
<a href="#l8.861"></a><span id="l8.861"> dnl ========================================================</span>
<a href="#l8.862"></a><span id="l8.862"> dnl = Disable plugin support</span>
<a href="#l8.863"></a><span id="l8.863"> dnl ========================================================</span>
<a href="#l8.864"></a><span id="l8.864"> MOZ_ARG_DISABLE_BOOL(plugins,</span>
<a href="#l8.865"></a><span id="l8.865"> [  --disable-plugins       Disable plugins support],</span>
<a href="#l8.866"></a><span id="l8.866">     MOZ_PLUGINS=,</span>
<a href="#l8.867"></a><span id="l8.867">     MOZ_PLUGINS=1)</span>
<a href="#l8.868"></a><span id="l8.868" class="difflineat">@@ -5569,70 +5380,42 @@ MOZ_ARG_DISABLE_BOOL(crashreporter,</span>
<a href="#l8.869"></a><span id="l8.869"> </span>
<a href="#l8.870"></a><span id="l8.870"> if test -n &quot;$MOZ_CRASHREPORTER&quot;; then</span>
<a href="#l8.871"></a><span id="l8.871">    AC_DEFINE(MOZ_CRASHREPORTER)</span>
<a href="#l8.872"></a><span id="l8.872"> fi</span>
<a href="#l8.873"></a><span id="l8.873"> </span>
<a href="#l8.874"></a><span id="l8.874"> dnl ========================================================</span>
<a href="#l8.875"></a><span id="l8.875"> dnl SVG</span>
<a href="#l8.876"></a><span id="l8.876"> dnl ========================================================</span>
<a href="#l8.877"></a><span id="l8.877" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.878"></a><span id="l8.878" class="difflineminus">-</span>
<a href="#l8.879"></a><span id="l8.879" class="difflineminus">-MOZ_ARG_DISABLE_BOOL(svg,</span>
<a href="#l8.880"></a><span id="l8.880" class="difflineminus">-[  --disable-svg            Disable SVG support (NB: unsupported option in comm-central)],</span>
<a href="#l8.881"></a><span id="l8.881" class="difflineminus">-    MOZ_SVG=,</span>
<a href="#l8.882"></a><span id="l8.882" class="difflineminus">-    MOZ_SVG=1 )</span>
<a href="#l8.883"></a><span id="l8.883" class="difflineminus">-if test -z &quot;$MOZ_SVG&quot;; then</span>
<a href="#l8.884"></a><span id="l8.884" class="difflineminus">-  AC_MSG_ERROR([comm-central does not support disabling SVG.])</span>
<a href="#l8.885"></a><span id="l8.885" class="difflineminus">-fi</span>
<a href="#l8.886"></a><span id="l8.886" class="difflineminus">-</span>
<a href="#l8.887"></a><span id="l8.887" class="difflineminus">-else</span>
<a href="#l8.888"></a><span id="l8.888" class="difflineminus">-</span>
<a href="#l8.889"></a><span id="l8.889"> MOZ_ARG_DISABLE_BOOL(svg,</span>
<a href="#l8.890"></a><span id="l8.890"> [  --disable-svg            Disable SVG support (NB: unsupported option in comm-central)],</span>
<a href="#l8.891"></a><span id="l8.891">     AC_MSG_ERROR([comm-central does not support disabling SVG.]))</span>
<a href="#l8.892"></a><span id="l8.892"> </span>
<a href="#l8.893"></a><span id="l8.893" class="difflineminus">-fi</span>
<a href="#l8.894"></a><span id="l8.894" class="difflineminus">-</span>
<a href="#l8.895"></a><span id="l8.895"> dnl ========================================================</span>
<a href="#l8.896"></a><span id="l8.896"> dnl SMIL</span>
<a href="#l8.897"></a><span id="l8.897"> dnl ========================================================</span>
<a href="#l8.898"></a><span id="l8.898" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.899"></a><span id="l8.899" class="difflineminus">-</span>
<a href="#l8.900"></a><span id="l8.900" class="difflineminus">-MOZ_ARG_ENABLE_BOOL(smil,</span>
<a href="#l8.901"></a><span id="l8.901" class="difflineminus">-[  --enable-smil           Enable SMIL animation support],</span>
<a href="#l8.902"></a><span id="l8.902" class="difflineminus">-    MOZ_SMIL=1,</span>
<a href="#l8.903"></a><span id="l8.903" class="difflineminus">-    MOZ_SMIL= )</span>
<a href="#l8.904"></a><span id="l8.904" class="difflineminus">-</span>
<a href="#l8.905"></a><span id="l8.905" class="difflineminus">-else</span>
<a href="#l8.906"></a><span id="l8.906" class="difflineminus">-</span>
<a href="#l8.907"></a><span id="l8.907"> MOZ_SMIL=1</span>
<a href="#l8.908"></a><span id="l8.908"> MOZ_ARG_DISABLE_BOOL(smil,</span>
<a href="#l8.909"></a><span id="l8.909"> [  --disable-smil           Disable SMIL animation support],</span>
<a href="#l8.910"></a><span id="l8.910">     MOZ_SMIL=,</span>
<a href="#l8.911"></a><span id="l8.911">     MOZ_SMIL=1 )</span>
<a href="#l8.912"></a><span id="l8.912"> </span>
<a href="#l8.913"></a><span id="l8.913" class="difflineminus">-fi</span>
<a href="#l8.914"></a><span id="l8.914"> if test -n &quot;$MOZ_SMIL&quot;; then</span>
<a href="#l8.915"></a><span id="l8.915">   AC_DEFINE(MOZ_SMIL)</span>
<a href="#l8.916"></a><span id="l8.916"> fi</span>
<a href="#l8.917"></a><span id="l8.917"> </span>
<a href="#l8.918"></a><span id="l8.918"> dnl ========================================================</span>
<a href="#l8.919"></a><span id="l8.919"> dnl Build Freetype in the tree</span>
<a href="#l8.920"></a><span id="l8.920"> dnl ========================================================</span>
<a href="#l8.921"></a><span id="l8.921"> MOZ_ARG_ENABLE_BOOL(tree-freetype,</span>
<a href="#l8.922"></a><span id="l8.922"> [  --enable-tree-freetype         Enable Tree FreeType],</span>
<a href="#l8.923"></a><span id="l8.923">     MOZ_TREE_FREETYPE=1,</span>
<a href="#l8.924"></a><span id="l8.924">     MOZ_TREE_FREETYPE= )</span>
<a href="#l8.925"></a><span id="l8.925"> if test -n &quot;$MOZ_TREE_FREETYPE&quot;; then</span>
<a href="#l8.926"></a><span id="l8.926" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.927"></a><span id="l8.927" class="difflineminus">-   CAIRO_FT_LIBS='$(LIBXUL_DIST)/lib/freetype2.lib'</span>
<a href="#l8.928"></a><span id="l8.928" class="difflineminus">-  else</span>
<a href="#l8.929"></a><span id="l8.929">    CAIRO_FT_LIBS='$(call EXPAND_LIBNAME_PATH,freetype2,$(LIBXUL_DIST)/lib)'</span>
<a href="#l8.930"></a><span id="l8.930" class="difflineminus">-  fi</span>
<a href="#l8.931"></a><span id="l8.931"> fi</span>
<a href="#l8.932"></a><span id="l8.932"> </span>
<a href="#l8.933"></a><span id="l8.933"> dnl ========================================================</span>
<a href="#l8.934"></a><span id="l8.934"> dnl experimental ldap features</span>
<a href="#l8.935"></a><span id="l8.935"> dnl ========================================================</span>
<a href="#l8.936"></a><span id="l8.936"> MOZ_ARG_ENABLE_BOOL(ldap-experimental,</span>
<a href="#l8.937"></a><span id="l8.937"> [  --enable-ldap-experimental</span>
<a href="#l8.938"></a><span id="l8.938">                           Enable LDAP experimental features],</span>
<a href="#l8.939"></a><span id="l8.939" class="difflineat">@@ -5783,21 +5566,17 @@ MOZ_NATIVE_SQLITE=</span>
<a href="#l8.940"></a><span id="l8.940"> MOZ_ARG_ENABLE_BOOL(system-sqlite,</span>
<a href="#l8.941"></a><span id="l8.941"> [  --enable-system-sqlite  Use system sqlite (located with pkgconfig)],</span>
<a href="#l8.942"></a><span id="l8.942"> MOZ_NATIVE_SQLITE=1,</span>
<a href="#l8.943"></a><span id="l8.943"> MOZ_NATIVE_SQLITE= )</span>
<a href="#l8.944"></a><span id="l8.944"> </span>
<a href="#l8.945"></a><span id="l8.945"> if test -z &quot;$MOZ_NATIVE_SQLITE&quot;</span>
<a href="#l8.946"></a><span id="l8.946"> then</span>
<a href="#l8.947"></a><span id="l8.947">     SQLITE_CFLAGS=</span>
<a href="#l8.948"></a><span id="l8.948" class="difflineminus">-    if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.949"></a><span id="l8.949" class="difflineminus">-    SQLITE_LIBS='$(call EXPAND_LIBNAME_PATH,sqlite3,$(DIST)/lib)'</span>
<a href="#l8.950"></a><span id="l8.950" class="difflineminus">-    else</span>
<a href="#l8.951"></a><span id="l8.951">     SQLITE_LIBS='$(call EXPAND_LIBNAME_PATH,mozsqlite3,$(DIST)/lib)'</span>
<a href="#l8.952"></a><span id="l8.952" class="difflineminus">-    fi</span>
<a href="#l8.953"></a><span id="l8.953"> else</span>
<a href="#l8.954"></a><span id="l8.954">     PKG_CHECK_MODULES(SQLITE, sqlite3 &gt;= $SQLITE_VERSION)</span>
<a href="#l8.955"></a><span id="l8.955"> fi</span>
<a href="#l8.956"></a><span id="l8.956"> </span>
<a href="#l8.957"></a><span id="l8.957"> AC_SUBST(MOZ_NATIVE_SQLITE)</span>
<a href="#l8.958"></a><span id="l8.958"> </span>
<a href="#l8.959"></a><span id="l8.959"> dnl = Enable help viewer (off by default)</span>
<a href="#l8.960"></a><span id="l8.960"> dnl ========================================================</span>
<a href="#l8.961"></a><span id="l8.961" class="difflineat">@@ -6661,28 +6440,18 @@ if test -n &quot;$INTEL_CC&quot;; then</span>
<a href="#l8.962"></a><span id="l8.962">   PROFILE_USE_CFLAGS=&quot;-prof-use -prof-dir .&quot;</span>
<a href="#l8.963"></a><span id="l8.963">   PROFILE_USE_LDFLAGS=</span>
<a href="#l8.964"></a><span id="l8.964"> fi</span>
<a href="#l8.965"></a><span id="l8.965"> </span>
<a href="#l8.966"></a><span id="l8.966"> dnl Sun Studio on Solaris</span>
<a href="#l8.967"></a><span id="l8.967"> if test &quot;$SOLARIS_SUNPRO_CC&quot;; then</span>
<a href="#l8.968"></a><span id="l8.968">   PROFILE_GEN_CFLAGS=&quot;-xprofile=collect:$_objdir/$enable_application&quot;</span>
<a href="#l8.969"></a><span id="l8.969">   PROFILE_GEN_LDFLAGS=&quot;-xprofile=collect:$_objdir/$enable_application&quot;</span>
<a href="#l8.970"></a><span id="l8.970" class="difflineminus">- if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.971"></a><span id="l8.971" class="difflineminus">-  if test &quot;$CPU_ARCH&quot; != &quot;sparc&quot;; then</span>
<a href="#l8.972"></a><span id="l8.972" class="difflineminus">-    PROFILE_USE_CFLAGS=&quot;-xprofile=use:$_objdir/$enable_application&quot;</span>
<a href="#l8.973"></a><span id="l8.973" class="difflineminus">-    PROFILE_USE_LDFLAGS=&quot;-xprofile=use:$_objdir/$enable_application&quot;</span>
<a href="#l8.974"></a><span id="l8.974" class="difflineminus">-  else</span>
<a href="#l8.975"></a><span id="l8.975" class="difflineminus">-    PROFILE_USE_CFLAGS=&quot;-xlinkopt=2 -xprofile=use:$_objdir/$enable_application&quot;</span>
<a href="#l8.976"></a><span id="l8.976" class="difflineminus">-    PROFILE_USE_LDFLAGS=&quot;-xlinkopt=2 -xprofile=use:$_objdir/$enable_application&quot;</span>
<a href="#l8.977"></a><span id="l8.977" class="difflineminus">-  fi</span>
<a href="#l8.978"></a><span id="l8.978" class="difflineminus">- else</span>
<a href="#l8.979"></a><span id="l8.979">   PROFILE_USE_CFLAGS=&quot;-xprofile=use:$_objdir/$enable_application&quot;</span>
<a href="#l8.980"></a><span id="l8.980">   PROFILE_USE_LDFLAGS=&quot;-xprofile=use:$_objdir/$enable_application&quot;</span>
<a href="#l8.981"></a><span id="l8.981" class="difflineminus">- fi</span>
<a href="#l8.982"></a><span id="l8.982"> fi</span>
<a href="#l8.983"></a><span id="l8.983"> </span>
<a href="#l8.984"></a><span id="l8.984"> AC_SUBST(PROFILE_GEN_CFLAGS)</span>
<a href="#l8.985"></a><span id="l8.985"> AC_SUBST(PROFILE_GEN_LDFLAGS)</span>
<a href="#l8.986"></a><span id="l8.986"> AC_SUBST(PROFILE_USE_CFLAGS)</span>
<a href="#l8.987"></a><span id="l8.987"> AC_SUBST(PROFILE_USE_LDFLAGS)</span>
<a href="#l8.988"></a><span id="l8.988"> </span>
<a href="#l8.989"></a><span id="l8.989"> AC_LANG_CPLUSPLUS</span>
<a href="#l8.990"></a><span id="l8.990" class="difflineat">@@ -6898,23 +6667,16 @@ dnl =</span>
<a href="#l8.991"></a><span id="l8.991"> dnl ========================================================</span>
<a href="#l8.992"></a><span id="l8.992"> MOZ_ARG_HEADER(Static build options)</span>
<a href="#l8.993"></a><span id="l8.993"> </span>
<a href="#l8.994"></a><span id="l8.994"> MOZ_ARG_ENABLE_BOOL(static,</span>
<a href="#l8.995"></a><span id="l8.995"> [  --enable-static         Enable building of internal static libs],</span>
<a href="#l8.996"></a><span id="l8.996">     BUILD_STATIC_LIBS=1,</span>
<a href="#l8.997"></a><span id="l8.997">     BUILD_STATIC_LIBS=)</span>
<a href="#l8.998"></a><span id="l8.998"> </span>
<a href="#l8.999"></a><span id="l8.999" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.1000"></a><span id="l8.1000" class="difflineminus">-dnl Disable libxul in debug builds.</span>
<a href="#l8.1001"></a><span id="l8.1001" class="difflineminus">-if test -n &quot;$MOZ_DEBUG&quot;; then</span>
<a href="#l8.1002"></a><span id="l8.1002" class="difflineminus">-   MOZ_ENABLE_LIBXUL=</span>
<a href="#l8.1003"></a><span id="l8.1003" class="difflineminus">-fi</span>
<a href="#l8.1004"></a><span id="l8.1004" class="difflineminus">-fi</span>
<a href="#l8.1005"></a><span id="l8.1005" class="difflineminus">-</span>
<a href="#l8.1006"></a><span id="l8.1006"> MOZ_ARG_ENABLE_BOOL(libxul,</span>
<a href="#l8.1007"></a><span id="l8.1007"> [  --enable-libxul         Enable building of libxul],</span>
<a href="#l8.1008"></a><span id="l8.1008">     MOZ_ENABLE_LIBXUL=1,</span>
<a href="#l8.1009"></a><span id="l8.1009">     MOZ_ENABLE_LIBXUL=)</span>
<a href="#l8.1010"></a><span id="l8.1010"> </span>
<a href="#l8.1011"></a><span id="l8.1011"> if test -n &quot;$MOZ_STATIC_BUILD_UNSUPPORTED&quot; -a -n &quot;$BUILD_STATIC_LIBS&quot;; then</span>
<a href="#l8.1012"></a><span id="l8.1012"> 	AC_MSG_ERROR([--enable-static is not supported for building $MOZ_APP_NAME. You probably want --enable-libxul.])</span>
<a href="#l8.1013"></a><span id="l8.1013"> fi</span>
<a href="#l8.1014"></a><span id="l8.1014" class="difflineat">@@ -7017,21 +6779,17 @@ if test &quot;$MOZ_TREE_CAIRO&quot;; then</span>
<a href="#l8.1015"></a><span id="l8.1015">     else</span>
<a href="#l8.1016"></a><span id="l8.1016">         MOZ_CAIRO_LIBS='$(DEPTH)/mozilla/gfx/cairo/cairo/src/$(LIB_PREFIX)mozcairo.$(LIB_SUFFIX) $(DEPTH)/mozilla/gfx/cairo/libpixman/src/$(LIB_PREFIX)mozlibpixman.$(LIB_SUFFIX)'&quot; $CAIRO_FT_LIBS&quot;</span>
<a href="#l8.1017"></a><span id="l8.1017"> </span>
<a href="#l8.1018"></a><span id="l8.1018">         if test &quot;$MOZ_X11&quot;; then</span>
<a href="#l8.1019"></a><span id="l8.1019">             MOZ_CAIRO_LIBS=&quot;$MOZ_CAIRO_LIBS $XLDFLAGS -lXrender -lfreetype -lfontconfig&quot;</span>
<a href="#l8.1020"></a><span id="l8.1020">         fi</span>
<a href="#l8.1021"></a><span id="l8.1021">     fi</span>
<a href="#l8.1022"></a><span id="l8.1022"> else</span>
<a href="#l8.1023"></a><span id="l8.1023" class="difflineminus">-  if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.1024"></a><span id="l8.1024" class="difflineminus">-   PKG_CHECK_MODULES(CAIRO, cairo &gt;= $CAIRO_VERSION freetype2 fontconfig)</span>
<a href="#l8.1025"></a><span id="l8.1025" class="difflineminus">-  else</span>
<a href="#l8.1026"></a><span id="l8.1026">    PKG_CHECK_MODULES(CAIRO, cairo &gt;= $CAIRO_VERSION pixman-1 freetype2 fontconfig)</span>
<a href="#l8.1027"></a><span id="l8.1027" class="difflineminus">-  fi</span>
<a href="#l8.1028"></a><span id="l8.1028">    MOZ_CAIRO_LIBS=$CAIRO_LIBS</span>
<a href="#l8.1029"></a><span id="l8.1029">    if test &quot;$MOZ_X11&quot;; then</span>
<a href="#l8.1030"></a><span id="l8.1030">         PKG_CHECK_MODULES(CAIRO_XRENDER, cairo-xlib-xrender &gt;= $CAIRO_VERSION)</span>
<a href="#l8.1031"></a><span id="l8.1031">         MOZ_CAIRO_LIBS=&quot;$MOZ_CAIRO_LIBS $XLDFLAGS $CAIRO_XRENDER_LIBS&quot;</span>
<a href="#l8.1032"></a><span id="l8.1032">    fi</span>
<a href="#l8.1033"></a><span id="l8.1033"> fi</span>
<a href="#l8.1034"></a><span id="l8.1034"> </span>
<a href="#l8.1035"></a><span id="l8.1035"> AC_SUBST(MOZ_CAIRO_LIBS)</span>
<a href="#l8.1036"></a><span id="l8.1036" class="difflineat">@@ -7074,29 +6832,16 @@ MOZ_ARG_DISABLE_BOOL(rdf,</span>
<a href="#l8.1037"></a><span id="l8.1037"> [  --disable-rdf           Disable RDF],</span>
<a href="#l8.1038"></a><span id="l8.1038">     MOZ_RDF= )</span>
<a href="#l8.1039"></a><span id="l8.1039"> if test &quot;$MOZ_RDF&quot;; then</span>
<a href="#l8.1040"></a><span id="l8.1040">   AC_DEFINE(MOZ_RDF)</span>
<a href="#l8.1041"></a><span id="l8.1041"> fi</span>
<a href="#l8.1042"></a><span id="l8.1042"> </span>
<a href="#l8.1043"></a><span id="l8.1043"> AC_SUBST(MOZ_RDF)</span>
<a href="#l8.1044"></a><span id="l8.1044"> </span>
<a href="#l8.1045"></a><span id="l8.1045" class="difflineminus">-if test &quot;$MOZILLA_1_9_2_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l8.1046"></a><span id="l8.1046" class="difflineminus">-</span>
<a href="#l8.1047"></a><span id="l8.1047" class="difflineminus">-dnl</span>
<a href="#l8.1048"></a><span id="l8.1048" class="difflineminus">-dnl Build jsctypes on the platforms we can.</span>
<a href="#l8.1049"></a><span id="l8.1049" class="difflineminus">-dnl</span>
<a href="#l8.1050"></a><span id="l8.1050" class="difflineminus">-AC_SUBST(BUILD_CTYPES)</span>
<a href="#l8.1051"></a><span id="l8.1051" class="difflineminus">-if test &quot;$OS_ARCH&quot; != &quot;WINCE&quot; -o `echo $OS_TEST | grep -ic arm` != 1; then</span>
<a href="#l8.1052"></a><span id="l8.1052" class="difflineminus">-  BUILD_CTYPES=1</span>
<a href="#l8.1053"></a><span id="l8.1053" class="difflineminus">-  AC_DEFINE(BUILD_CTYPES)</span>
<a href="#l8.1054"></a><span id="l8.1054" class="difflineminus">-fi</span>
<a href="#l8.1055"></a><span id="l8.1055" class="difflineminus">-</span>
<a href="#l8.1056"></a><span id="l8.1056" class="difflineminus">-else</span>
<a href="#l8.1057"></a><span id="l8.1057" class="difflineminus">-</span>
<a href="#l8.1058"></a><span id="l8.1058"> dnl</span>
<a href="#l8.1059"></a><span id="l8.1059"> dnl Build jsctypes on the platforms we can, unless it's explicitly disabled.</span>
<a href="#l8.1060"></a><span id="l8.1060"> dnl</span>
<a href="#l8.1061"></a><span id="l8.1061"> MOZ_ARG_DISABLE_BOOL(ctypes,</span>
<a href="#l8.1062"></a><span id="l8.1062"> [  --disable-ctypes        Disable js-ctypes],</span>
<a href="#l8.1063"></a><span id="l8.1063">     BUILD_CTYPES=,</span>
<a href="#l8.1064"></a><span id="l8.1064">     BUILD_CTYPES=1)</span>
<a href="#l8.1065"></a><span id="l8.1065"> AC_SUBST(BUILD_CTYPES)</span>
<a href="#l8.1066"></a><span id="l8.1066" class="difflineat">@@ -7104,18 +6849,16 @@ if test &quot;$BUILD_CTYPES&quot;; then</span>
<a href="#l8.1067"></a><span id="l8.1067">   if test &quot;$OS_ARCH&quot; = &quot;WINCE&quot; -a `echo $OS_TEST | grep -ic arm` = 1; then</span>
<a href="#l8.1068"></a><span id="l8.1068">     # Disable ctypes for arm/wince.</span>
<a href="#l8.1069"></a><span id="l8.1069">     BUILD_CTYPES=</span>
<a href="#l8.1070"></a><span id="l8.1070">   else</span>
<a href="#l8.1071"></a><span id="l8.1071">     AC_DEFINE(BUILD_CTYPES)</span>
<a href="#l8.1072"></a><span id="l8.1072">   fi</span>
<a href="#l8.1073"></a><span id="l8.1073"> fi</span>
<a href="#l8.1074"></a><span id="l8.1074"> </span>
<a href="#l8.1075"></a><span id="l8.1075" class="difflineminus">-fi # ! MOZILLA_1_9_2_BRANCH</span>
<a href="#l8.1076"></a><span id="l8.1076" class="difflineminus">-</span>
<a href="#l8.1077"></a><span id="l8.1077"> dnl Only build Mork if it's required</span>
<a href="#l8.1078"></a><span id="l8.1078"> AC_SUBST(MOZ_MORK)</span>
<a href="#l8.1079"></a><span id="l8.1079"> if test &quot;$MOZ_MORK&quot;; then</span>
<a href="#l8.1080"></a><span id="l8.1080">   AC_DEFINE(MOZ_MORK)</span>
<a href="#l8.1081"></a><span id="l8.1081"> fi</span>
<a href="#l8.1082"></a><span id="l8.1082"> </span>
<a href="#l8.1083"></a><span id="l8.1083"> dnl Build the lightweight Mork reader if required</span>
<a href="#l8.1084"></a><span id="l8.1084"> AC_SUBST(MOZ_MORKREADER)</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

