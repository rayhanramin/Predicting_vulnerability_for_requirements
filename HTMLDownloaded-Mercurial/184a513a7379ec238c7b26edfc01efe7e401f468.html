<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 15759:184a513a7379ec238c7b26edfc01efe7e401f468</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 184a513a7379ec238c7b26edfc01efe7e401f468" />
<meta property="og:url" content="/comm-central/rev/184a513a7379ec238c7b26edfc01efe7e401f468" />
<meta property="og:description" content="Bug 972331 - Use node.remove(), especially instead of node.parentNode.removeChild(node): /suite/common/. r=IanN" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 184a513a7379ec238c7b26edfc01efe7e401f468 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/184a513a7379ec238c7b26edfc01efe7e401f468">shortlog</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/184a513a7379ec238c7b26edfc01efe7e401f468">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468">files</a> |
changeset |
<a href="/comm-central/raw-rev/184a513a7379ec238c7b26edfc01efe7e401f468">raw</a>  | <a href="/comm-central/archive/184a513a7379ec238c7b26edfc01efe7e401f468.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=972331">Bug 972331</a> - Use node.remove(), especially instead of node.parentNode.removeChild(node): /suite/common/. r=IanN
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#83;&#101;&#98;&#97;&#115;&#116;&#105;&#97;&#110;&#32;&#72;&#101;&#110;&#103;&#115;&#116;&#32;&#60;&#97;&#114;&#99;&#104;&#97;&#101;&#111;&#112;&#116;&#101;&#114;&#121;&#120;&#64;&#99;&#111;&#111;&#108;&#101;&#45;&#102;&#105;&#108;&#101;&#115;&#46;&#100;&#101;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 19 Feb 2014 14:15:57 +0100</td></tr>

<tr>
 <td>changeset 15759</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/184a513a7379ec238c7b26edfc01efe7e401f468">184a513a7379ec238c7b26edfc01efe7e401f468</a></td>
</tr>



<tr>
<td>parent 15758</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/56534fe2388d32b9b8e57f8ba515040770441b16">56534fe2388d32b9b8e57f8ba515040770441b16</a>
</td>
</tr>

<tr>
<td>child 15760</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/0e67e7003f4ead8bbb20a8cfa8fb3caeb8c95566">0e67e7003f4ead8bbb20a8cfa8fb3caeb8c95566</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=184a513a7379ec238c7b26edfc01efe7e401f468">9878</a></td></tr>
<tr><td>push user</td><td>ryanvm@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Wed, 19 Feb 2014 16:16:11 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@907a32e3e65e [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=907a32e3e65ecbd9f57dfe07cb2e9dfcffc0742c">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=907a32e3e65ecbd9f57dfe07cb2e9dfcffc0742c&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=907a32e3e65ecbd9f57dfe07cb2e9dfcffc0742c&newProject=comm-central&newRevision=6872b20a400922d4f663b121fd1ce05a0cdea722&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=907a32e3e65ecbd9f57dfe07cb2e9dfcffc0742c&newProject=comm-central&newRevision=6872b20a400922d4f663b121fd1ce05a0cdea722&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=907a32e3e65ecbd9f57dfe07cb2e9dfcffc0742c&newProject=comm-central&newRevision=6872b20a400922d4f663b121fd1ce05a0cdea722&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28IanN%29&revcount=50">IanN</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=972331">972331</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=972331">Bug 972331</a> - Use node.remove(), especially instead of node.parentNode.removeChild(node): /suite/common/. r=IanN</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/notification.xml">suite/common/bindings/notification.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/notification.xml">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/notification.xml">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/notification.xml">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/notification.xml">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/notification.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/toolbar.xml">suite/common/bindings/toolbar.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/toolbar.xml">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/toolbar.xml">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/toolbar.xml">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/toolbar.xml">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bindings/toolbar.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/blockedSite.xhtml">suite/common/blockedSite.xhtml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/blockedSite.xhtml">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/blockedSite.xhtml">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/blockedSite.xhtml">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/blockedSite.xhtml">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/blockedSite.xhtml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/bookmarksManager.js">suite/common/bookmarks/bookmarksManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/bookmarksManager.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/bookmarksManager.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/bookmarksManager.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/bookmarksManager.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/bookmarksManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/editBookmarkOverlay.js">suite/common/bookmarks/editBookmarkOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/editBookmarkOverlay.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/editBookmarkOverlay.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/editBookmarkOverlay.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/editBookmarkOverlay.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/bookmarks/editBookmarkOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/certError.xhtml">suite/common/certError.xhtml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/certError.xhtml">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/certError.xhtml">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/certError.xhtml">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/certError.xhtml">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/certError.xhtml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/dataman/dataman.js">suite/common/dataman/dataman.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/dataman/dataman.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/dataman/dataman.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/dataman/dataman.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/dataman/dataman.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/dataman/dataman.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/places/browserPlacesViews.js">suite/common/places/browserPlacesViews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/places/browserPlacesViews.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/places/browserPlacesViews.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/places/browserPlacesViews.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/places/browserPlacesViews.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/places/browserPlacesViews.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-applications.js">suite/common/pref/pref-applications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-applications.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-applications.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-applications.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-applications.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-applications.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-fonts.js">suite/common/pref/pref-fonts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-fonts.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-fonts.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-fonts.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-fonts.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-fonts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-languages.js">suite/common/pref/pref-languages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-languages.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-languages.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-languages.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-languages.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-languages.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-navigator.js">suite/common/pref/pref-navigator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-navigator.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-navigator.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-navigator.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-navigator.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-navigator.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-offlineapps.js">suite/common/pref/pref-offlineapps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-offlineapps.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-offlineapps.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-offlineapps.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-offlineapps.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-offlineapps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-spelling.js">suite/common/pref/pref-spelling.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-spelling.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-spelling.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-spelling.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-spelling.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/pref/pref-spelling.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/profile/profileSelection.js">suite/common/profile/profileSelection.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/profile/profileSelection.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/profile/profileSelection.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/profile/profileSelection.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/profile/profileSelection.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/profile/profileSelection.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/search/search.xml">suite/common/search/search.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/search/search.xml">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/search/search.xml">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/search/search.xml">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/search/search.xml">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/search/search.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sidebar/customize.js">suite/common/sidebar/customize.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sidebar/customize.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sidebar/customize.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sidebar/customize.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sidebar/customize.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sidebar/customize.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sync/syncUtils.js">suite/common/sync/syncUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sync/syncUtils.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sync/syncUtils.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sync/syncUtils.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sync/syncUtils.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/sync/syncUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/tests/browser/browser_500328.js">suite/common/tests/browser/browser_500328.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/tests/browser/browser_500328.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/tests/browser/browser_500328.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/tests/browser/browser_500328.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/tests/browser/browser_500328.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/tests/browser/browser_500328.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/utilityOverlay.js">suite/common/utilityOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/utilityOverlay.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/utilityOverlay.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/utilityOverlay.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/utilityOverlay.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/utilityOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/viewApplyThemeOverlay.js">suite/common/viewApplyThemeOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/viewApplyThemeOverlay.js">file</a> |
<a href="/comm-central/annotate/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/viewApplyThemeOverlay.js">annotate</a> |
<a href="/comm-central/diff/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/viewApplyThemeOverlay.js">diff</a> |
<a href="/comm-central/comparison/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/viewApplyThemeOverlay.js">comparison</a> |
<a href="/comm-central/log/184a513a7379ec238c7b26edfc01efe7e401f468/suite/common/viewApplyThemeOverlay.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/common/bindings/notification.xml</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/common/bindings/notification.xml</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -994,17 +994,17 @@</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5">                 var pluginElement = previewContent.ownerDocument.getBindingParent(previewContent);</span>
<a href="#l1.6"></a><span id="l1.6">                 var playPlugin = !aEvent.detail;</span>
<a href="#l1.7"></a><span id="l1.7">                 this.stopPlayPreview(pluginElement, playPlugin);</span>
<a href="#l1.8"></a><span id="l1.8"> </span>
<a href="#l1.9"></a><span id="l1.9">                 // cleaning up: removes overlay iframe from the DOM</span>
<a href="#l1.10"></a><span id="l1.10">                 var iframe = previewContent.getElementsByClassName(&quot;previewPluginContentFrame&quot;)[0];</span>
<a href="#l1.11"></a><span id="l1.11">                 if (iframe)</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-                  previewContent.removeChild(iframe);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+                  iframe.remove();</span>
<a href="#l1.14"></a><span id="l1.14">                 break;</span>
<a href="#l1.15"></a><span id="l1.15">             }</span>
<a href="#l1.16"></a><span id="l1.16">           ]]&gt;</span>
<a href="#l1.17"></a><span id="l1.17">         &lt;/body&gt;</span>
<a href="#l1.18"></a><span id="l1.18">       &lt;/method&gt;</span>
<a href="#l1.19"></a><span id="l1.19"> </span>
<a href="#l1.20"></a><span id="l1.20">       &lt;method name=&quot;installMissingPlugins&quot;&gt;</span>
<a href="#l1.21"></a><span id="l1.21">         &lt;body&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/common/bindings/toolbar.xml</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/common/bindings/toolbar.xml</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -79,17 +79,17 @@</span>
<a href="#l2.4"></a><span id="l2.4">         &lt;parameter name=&quot;aGrippyID&quot;/&gt;</span>
<a href="#l2.5"></a><span id="l2.5">         &lt;body&gt;</span>
<a href="#l2.6"></a><span id="l2.6">         &lt;![CDATA[</span>
<a href="#l2.7"></a><span id="l2.7">           var idString = aGrippyID.substring(&quot;moz_tb_collapsed_&quot;.length, aGrippyID.length);</span>
<a href="#l2.8"></a><span id="l2.8">           var toolbar = document.getElementById(idString);</span>
<a href="#l2.9"></a><span id="l2.9">           toolbar.setAttribute(&quot;collapsed&quot;, &quot;false&quot;);</span>
<a href="#l2.10"></a><span id="l2.10">           var collapsedTray = document.getAnonymousElementByAttribute(this, &quot;tbattr&quot;, &quot;collapsed-tray&quot;);</span>
<a href="#l2.11"></a><span id="l2.11">           var collapsedToolbar = document.getElementById(&quot;moz_tb_collapsed_&quot; + toolbar.id);</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-          collapsedTray.removeChild(collapsedToolbar);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+          collapsedToolbar.remove();</span>
<a href="#l2.14"></a><span id="l2.14">           if (!collapsedTray.hasChildNodes())</span>
<a href="#l2.15"></a><span id="l2.15">             document.getAnonymousElementByAttribute(this, &quot;tbattr&quot;, &quot;collapsed-tray-holder&quot;).setAttribute(&quot;moz-collapsed&quot;, &quot;true&quot;);</span>
<a href="#l2.16"></a><span id="l2.16">           document.persist(toolbar.id, &quot;collapsed&quot;);</span>
<a href="#l2.17"></a><span id="l2.17">           if (toolbar.hasAttribute(&quot;customindex&quot;))</span>
<a href="#l2.18"></a><span id="l2.18">             this.persistCustomCollapse(toolbar, &quot;false&quot;);</span>
<a href="#l2.19"></a><span id="l2.19">         ]]&gt;</span>
<a href="#l2.20"></a><span id="l2.20">         &lt;/body&gt;</span>
<a href="#l2.21"></a><span id="l2.21">       &lt;/method&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/common/blockedSite.xhtml</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/common/blockedSite.xhtml</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -84,45 +84,35 @@</span>
<a href="#l3.4"></a><span id="l3.4">       }</span>
<a href="#l3.5"></a><span id="l3.5"> </span>
<a href="#l3.6"></a><span id="l3.6">       /**</span>
<a href="#l3.7"></a><span id="l3.7">        * Initialize custom strings and functionality for blocked malware case</span>
<a href="#l3.8"></a><span id="l3.8">        */</span>
<a href="#l3.9"></a><span id="l3.9">       function initPage_malware()</span>
<a href="#l3.10"></a><span id="l3.10">       {</span>
<a href="#l3.11"></a><span id="l3.11">         // Remove phishing strings</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-        var el = document.getElementById(&quot;errorTitleText_phishing&quot;);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-        el.parentNode.removeChild(el);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-        el = document.getElementById(&quot;errorShortDescText_phishing&quot;);</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-        el.parentNode.removeChild(el);</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineminus">-</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-        el = document.getElementById(&quot;errorLongDescText_phishing&quot;);</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">-        el.parentNode.removeChild(el);</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineplus">+        document.getElementById(&quot;errorTitleText_phishing&quot;).remove();</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineplus">+        document.getElementById(&quot;errorShortDescText_phishing&quot;).remove();</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+        document.getElementById(&quot;errorLongDescText_phishing&quot;).remove();</span>
<a href="#l3.23"></a><span id="l3.23"> </span>
<a href="#l3.24"></a><span id="l3.24">         // Set sitename</span>
<a href="#l3.25"></a><span id="l3.25">         document.getElementById(&quot;malware_sitename&quot;).textContent = getHostString();</span>
<a href="#l3.26"></a><span id="l3.26">         document.title = document.getElementById(&quot;errorTitleText_malware&quot;)</span>
<a href="#l3.27"></a><span id="l3.27">                                  .textContent;</span>
<a href="#l3.28"></a><span id="l3.28">       }</span>
<a href="#l3.29"></a><span id="l3.29"> </span>
<a href="#l3.30"></a><span id="l3.30">       /**</span>
<a href="#l3.31"></a><span id="l3.31">        * Initialize custom strings and functionality for blocked phishing case</span>
<a href="#l3.32"></a><span id="l3.32">        */</span>
<a href="#l3.33"></a><span id="l3.33">       function initPage_phishing()</span>
<a href="#l3.34"></a><span id="l3.34">       {</span>
<a href="#l3.35"></a><span id="l3.35">         // Remove malware strings</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineminus">-        var el = document.getElementById(&quot;errorTitleText_malware&quot;);</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineminus">-        el.parentNode.removeChild(el);</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineminus">-</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineminus">-        el = document.getElementById(&quot;errorShortDescText_malware&quot;);</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineminus">-        el.parentNode.removeChild(el);</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineminus">-</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineminus">-        el = document.getElementById(&quot;errorLongDescText_malware&quot;);</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineminus">-        el.parentNode.removeChild(el);</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineplus">+        document.getElementById(&quot;errorTitleText_malware&quot;).remove();</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineplus">+        document.getElementById(&quot;errorShortDescText_malware&quot;).remove();</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineplus">+        document.getElementById(&quot;errorLongDescText_malware&quot;).remove();</span>
<a href="#l3.47"></a><span id="l3.47"> </span>
<a href="#l3.48"></a><span id="l3.48">         // Set sitename</span>
<a href="#l3.49"></a><span id="l3.49">         document.getElementById(&quot;phishing_sitename&quot;).textContent = getHostString();</span>
<a href="#l3.50"></a><span id="l3.50">         document.title = document.getElementById(&quot;errorTitleText_phishing&quot;)</span>
<a href="#l3.51"></a><span id="l3.51">                                  .textContent;</span>
<a href="#l3.52"></a><span id="l3.52">       }</span>
<a href="#l3.53"></a><span id="l3.53">     ]]&gt;&lt;/script&gt;</span>
<a href="#l3.54"></a><span id="l3.54">     &lt;style type=&quot;text/css&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/common/bookmarks/bookmarksManager.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/common/bookmarks/bookmarksManager.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -350,19 +350,19 @@ var PlacesOrganizer = {</span>
<a href="#l4.4"></a><span id="l4.4">    * Populates the restore menu with the dates of the backups available.</span>
<a href="#l4.5"></a><span id="l4.5">    */</span>
<a href="#l4.6"></a><span id="l4.6">   populateRestoreMenu: function PO_populateRestoreMenu() {</span>
<a href="#l4.7"></a><span id="l4.7">     let restorePopup = document.getElementById(&quot;fileRestorePopup&quot;);</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9">     let dateSvc = Components.classes[&quot;@mozilla.org/intl/scriptabledateformat;1&quot;]</span>
<a href="#l4.10"></a><span id="l4.10">                             .getService(Components.interfaces.nsIScriptableDateFormat);</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    // Remove existing menu items.  Last item is the restoreFromFile item.</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+    // Remove existing menu items. Last item is the restoreFromFile item.</span>
<a href="#l4.14"></a><span id="l4.14">     while (restorePopup.childNodes.length &gt; 1)</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-      restorePopup.removeChild(restorePopup.firstChild);</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+      restorePopup.firstChild.remove();</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18">     let backupFiles = PlacesBackups.entries;</span>
<a href="#l4.19"></a><span id="l4.19">     if (backupFiles.length == 0)</span>
<a href="#l4.20"></a><span id="l4.20">       return;</span>
<a href="#l4.21"></a><span id="l4.21"> </span>
<a href="#l4.22"></a><span id="l4.22">     // Populate menu with backups.</span>
<a href="#l4.23"></a><span id="l4.23">     for (let i = 0; i &lt; backupFiles.length; i++) {</span>
<a href="#l4.24"></a><span id="l4.24">       let backupDate = PlacesBackups.getDateForFile(backupFiles[i]);</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineat">@@ -1018,22 +1018,22 @@ var ViewMenu = {</span>
<a href="#l4.26"></a><span id="l4.26">       if (endID) {</span>
<a href="#l4.27"></a><span id="l4.27">         endElement = document.getElementById(endID);</span>
<a href="#l4.28"></a><span id="l4.28">         NS_ASSERT(endElement.parentNode == popup,</span>
<a href="#l4.29"></a><span id="l4.29">                   &quot;endElement is not in popup&quot;);</span>
<a href="#l4.30"></a><span id="l4.30">         NS_ASSERT(endElement,</span>
<a href="#l4.31"></a><span id="l4.31">                   &quot;endID does not correspond to an existing element&quot;);</span>
<a href="#l4.32"></a><span id="l4.32">       }</span>
<a href="#l4.33"></a><span id="l4.33">       while (startElement.nextSibling != endElement)</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-        popup.removeChild(startElement.nextSibling);</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineplus">+        startElement.nextSibling.remove();</span>
<a href="#l4.36"></a><span id="l4.36">       return endElement;</span>
<a href="#l4.37"></a><span id="l4.37">     }</span>
<a href="#l4.38"></a><span id="l4.38">     else {</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-      while(popup.hasChildNodes())</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-        popup.removeChild(popup.firstChild);</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+      while (popup.hasChildNodes())</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+        popup.lastChild.remove();</span>
<a href="#l4.43"></a><span id="l4.43">     }</span>
<a href="#l4.44"></a><span id="l4.44">     return null;</span>
<a href="#l4.45"></a><span id="l4.45">   },</span>
<a href="#l4.46"></a><span id="l4.46"> </span>
<a href="#l4.47"></a><span id="l4.47">   /**</span>
<a href="#l4.48"></a><span id="l4.48">    * Fills a menupopup with a list of columns</span>
<a href="#l4.49"></a><span id="l4.49">    * @param   event</span>
<a href="#l4.50"></a><span id="l4.50">    *          The popupshowing event that invoked this function.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/common/bookmarks/editBookmarkOverlay.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/common/bookmarks/editBookmarkOverlay.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -263,17 +263,17 @@ var gEditItemOverlay = {</span>
<a href="#l5.4"></a><span id="l5.4">     aMenupopup.appendChild(folderMenuItem);</span>
<a href="#l5.5"></a><span id="l5.5">     return folderMenuItem;</span>
<a href="#l5.6"></a><span id="l5.6">   },</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8">   _initFolderMenuList: function EIO__initFolderMenuList(aSelectedFolder) {</span>
<a href="#l5.9"></a><span id="l5.9">     // clean up first</span>
<a href="#l5.10"></a><span id="l5.10">     var menupopup = this._folderMenuList.menupopup;</span>
<a href="#l5.11"></a><span id="l5.11">     while (menupopup.childNodes.length &gt; 6)</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-      menupopup.removeChild(menupopup.lastChild);</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+      menupopup.lastChild.remove();</span>
<a href="#l5.14"></a><span id="l5.14"> </span>
<a href="#l5.15"></a><span id="l5.15">     const bms = PlacesUtils.bookmarks;</span>
<a href="#l5.16"></a><span id="l5.16">     const annos = PlacesUtils.annotations;</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18">     // Build the static list</span>
<a href="#l5.19"></a><span id="l5.19">     var unfiledItem = this._element(&quot;unfiledRootItem&quot;);</span>
<a href="#l5.20"></a><span id="l5.20">     if (!this._staticFoldersListBuilt) {</span>
<a href="#l5.21"></a><span id="l5.21">       unfiledItem.label = bms.getItemTitle(PlacesUtils.unfiledBookmarksFolderId);</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineat">@@ -645,17 +645,17 @@ var gEditItemOverlay = {</span>
<a href="#l5.23"></a><span id="l5.23">     for (let i = 0; i &lt; menupopup.childNodes.length; i++) {</span>
<a href="#l5.24"></a><span id="l5.24">       if (&quot;folderId&quot; in menupopup.childNodes[i] &amp;&amp;</span>
<a href="#l5.25"></a><span id="l5.25">           menupopup.childNodes[i].folderId == aFolderId)</span>
<a href="#l5.26"></a><span id="l5.26">         return menupopup.childNodes[i];</span>
<a href="#l5.27"></a><span id="l5.27">     }</span>
<a href="#l5.28"></a><span id="l5.28"> </span>
<a href="#l5.29"></a><span id="l5.29">     // 3 special folders + separator + folder-items-count limit</span>
<a href="#l5.30"></a><span id="l5.30">     if (menupopup.childNodes.length == 4 + MAX_FOLDER_ITEM_IN_MENU_LIST)</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-      menupopup.removeChild(menupopup.lastChild);</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+      menupopup.lastChild.remove();</span>
<a href="#l5.33"></a><span id="l5.33"> </span>
<a href="#l5.34"></a><span id="l5.34">     return this._appendFolderItemToMenupopup(menupopup, aFolderId);</span>
<a href="#l5.35"></a><span id="l5.35">   },</span>
<a href="#l5.36"></a><span id="l5.36"> </span>
<a href="#l5.37"></a><span id="l5.37">   onFolderMenuListCommand: function EIO_onFolderMenuListCommand(aEvent) {</span>
<a href="#l5.38"></a><span id="l5.38">     // Set a selectedIndex attribute to show special icons</span>
<a href="#l5.39"></a><span id="l5.39">     this._folderMenuList.setAttribute(&quot;selectedIndex&quot;,</span>
<a href="#l5.40"></a><span id="l5.40">                                       this._folderMenuList.selectedIndex);</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineat">@@ -760,17 +760,17 @@ var gEditItemOverlay = {</span>
<a href="#l5.42"></a><span id="l5.42"> </span>
<a href="#l5.43"></a><span id="l5.43">   _rebuildTagsSelectorList: function EIO__rebuildTagsSelectorList() {</span>
<a href="#l5.44"></a><span id="l5.44">     var tagsSelector = this._element(&quot;tagsSelector&quot;);</span>
<a href="#l5.45"></a><span id="l5.45">     var tagsSelectorRow = this._element(&quot;tagsSelectorRow&quot;);</span>
<a href="#l5.46"></a><span id="l5.46">     if (tagsSelectorRow.collapsed)</span>
<a href="#l5.47"></a><span id="l5.47">       return;</span>
<a href="#l5.48"></a><span id="l5.48"> </span>
<a href="#l5.49"></a><span id="l5.49">     while (tagsSelector.hasChildNodes())</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineminus">-      tagsSelector.removeChild(tagsSelector.lastChild);</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+      tagsSelector.lastChild.remove();</span>
<a href="#l5.52"></a><span id="l5.52"> </span>
<a href="#l5.53"></a><span id="l5.53">     var tagsInField = this._getTagsArrayFromTagField();</span>
<a href="#l5.54"></a><span id="l5.54">     var allTags = PlacesUtils.tagging.allTags;</span>
<a href="#l5.55"></a><span id="l5.55">     for (var i = 0; i &lt; allTags.length; i++) {</span>
<a href="#l5.56"></a><span id="l5.56">       var tag = allTags[i];</span>
<a href="#l5.57"></a><span id="l5.57">       var elt = document.createElement(&quot;listitem&quot;);</span>
<a href="#l5.58"></a><span id="l5.58">       elt.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l5.59"></a><span id="l5.59">       elt.setAttribute(&quot;label&quot;, tag);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/common/certError.xhtml</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/common/certError.xhtml</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -75,18 +75,17 @@</span>
<a href="#l6.4"></a><span id="l6.4">           toggle('technicalContent');</span>
<a href="#l6.5"></a><span id="l6.5">           toggle('expertContent');</span>
<a href="#l6.6"></a><span id="l6.6">         }</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8">         // Disallow overrides if this is a Strict-Transport-Security</span>
<a href="#l6.9"></a><span id="l6.9">         // host and the cert is bad (STS Spec section 7.3);</span>
<a href="#l6.10"></a><span id="l6.10">         // or if the cert error is in a frame (bug 633691).</span>
<a href="#l6.11"></a><span id="l6.11">         if (getCSSClass() == &quot;badStsCert&quot; || window != window.top) {</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-          var ec = document.getElementById('expertContent');</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-          ec.parentNode.removeChild(ec);</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+          document.getElementById('expertContent').remove();</span>
<a href="#l6.15"></a><span id="l6.15">         }</span>
<a href="#l6.16"></a><span id="l6.16"> </span>
<a href="#l6.17"></a><span id="l6.17">         // Rather than textContent, we need to treat description as HTML</span>
<a href="#l6.18"></a><span id="l6.18">         var sd = document.getElementById(&quot;technicalContentText&quot;);</span>
<a href="#l6.19"></a><span id="l6.19">         if (!sd)</span>
<a href="#l6.20"></a><span id="l6.20">           return;</span>
<a href="#l6.21"></a><span id="l6.21"> </span>
<a href="#l6.22"></a><span id="l6.22">         var desc = getDescription();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/common/dataman/dataman.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/common/dataman/dataman.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1263,17 +1263,17 @@ var gPerms = {</span>
<a href="#l7.4"></a><span id="l7.4">     this.addButton.disabled = false;</span>
<a href="#l7.5"></a><span id="l7.5">   },</span>
<a href="#l7.6"></a><span id="l7.6"> </span>
<a href="#l7.7"></a><span id="l7.7">   shutdown: function permissions_shutdown() {</span>
<a href="#l7.8"></a><span id="l7.8">     gDataman.debugMsg(&quot;Shutting down permissions panel&quot;);</span>
<a href="#l7.9"></a><span id="l7.9">     // XXX: Here we could detect if we still hold any non-default settings and</span>
<a href="#l7.10"></a><span id="l7.10">     //      trigger the removeDomainOrFlag if not.</span>
<a href="#l7.11"></a><span id="l7.11">     while (this.list.hasChildNodes())</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-      this.list.removeChild(this.list.lastChild);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+      this.list.lastChild.remove();</span>
<a href="#l7.14"></a><span id="l7.14"> </span>
<a href="#l7.15"></a><span id="l7.15">     this.addSelBox.hidden = true;</span>
<a href="#l7.16"></a><span id="l7.16">   },</span>
<a href="#l7.17"></a><span id="l7.17"> </span>
<a href="#l7.18"></a><span id="l7.18">   // Most functions of permissions are in the XBL items!</span>
<a href="#l7.19"></a><span id="l7.19"> </span>
<a href="#l7.20"></a><span id="l7.20">   addButtonClick: function permissions_addButtonClick() {</span>
<a href="#l7.21"></a><span id="l7.21">     gDataman.debugMsg(&quot;Add permissions button clicked!&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/common/places/browserPlacesViews.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/common/places/browserPlacesViews.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -215,17 +215,17 @@ PlacesViewBase.prototype = {</span>
<a href="#l8.4"></a><span id="l8.4">           // ...after places nodes</span>
<a href="#l8.5"></a><span id="l8.5">           aPopup._endMarker = i;</span>
<a href="#l8.6"></a><span id="l8.6">           break;</span>
<a href="#l8.7"></a><span id="l8.7">         }</span>
<a href="#l8.8"></a><span id="l8.8">       }</span>
<a href="#l8.9"></a><span id="l8.9">     }</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11">     for (let i = 0; i &lt; items.length; ++i) {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-      aPopup.removeChild(items[i]);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+      items[i].remove();</span>
<a href="#l8.14"></a><span id="l8.14">       if (aPopup._endMarker != -1)</span>
<a href="#l8.15"></a><span id="l8.15">         aPopup._endMarker--;</span>
<a href="#l8.16"></a><span id="l8.16">     }</span>
<a href="#l8.17"></a><span id="l8.17">   },</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19">   _rebuildPopup: function PVB__rebuildPopup(aPopup) {</span>
<a href="#l8.20"></a><span id="l8.20">     this._cleanPopup(aPopup);</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -265,17 +265,17 @@ PlacesViewBase.prototype = {</span>
<a href="#l8.23"></a><span id="l8.23"> </span>
<a href="#l8.24"></a><span id="l8.24">   _removeChild: function PVB__removeChild(aChild) {</span>
<a href="#l8.25"></a><span id="l8.25">     // If document.popupNode pointed to this child, null it out,</span>
<a href="#l8.26"></a><span id="l8.26">     // otherwise controller's command-updating may rely on the removed</span>
<a href="#l8.27"></a><span id="l8.27">     // item still being &quot;selected&quot;.</span>
<a href="#l8.28"></a><span id="l8.28">     if (document.popupNode == aChild)</span>
<a href="#l8.29"></a><span id="l8.29">       document.popupNode = null;</span>
<a href="#l8.30"></a><span id="l8.30"> </span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-    aChild.parentNode.removeChild(aChild);</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+    aChild.remove();</span>
<a href="#l8.33"></a><span id="l8.33">   },</span>
<a href="#l8.34"></a><span id="l8.34"> </span>
<a href="#l8.35"></a><span id="l8.35">   _showEmptyMenuItem: function PVB__showEmptyMenuItem(aPopup) {</span>
<a href="#l8.36"></a><span id="l8.36">     if (aPopup._emptyMenuItem) {</span>
<a href="#l8.37"></a><span id="l8.37">       aPopup._emptyMenuItem.hidden = false;</span>
<a href="#l8.38"></a><span id="l8.38">       return;</span>
<a href="#l8.39"></a><span id="l8.39">     }</span>
<a href="#l8.40"></a><span id="l8.40"> </span>
<a href="#l8.41"></a><span id="l8.41" class="difflineat">@@ -385,20 +385,20 @@ PlacesViewBase.prototype = {</span>
<a href="#l8.42"></a><span id="l8.42">     return element;</span>
<a href="#l8.43"></a><span id="l8.43">   },</span>
<a href="#l8.44"></a><span id="l8.44"> </span>
<a href="#l8.45"></a><span id="l8.45">   _setLivemarkSiteURIMenuItem:</span>
<a href="#l8.46"></a><span id="l8.46">   function PVB__setLivemarkSiteURIMenuItem(aPopup) {</span>
<a href="#l8.47"></a><span id="l8.47">     let livemarkInfo = this.controller.getCachedLivemarkInfo(aPopup._placesNode);</span>
<a href="#l8.48"></a><span id="l8.48">     let siteUrl = livemarkInfo &amp;&amp; livemarkInfo.siteURI &amp;&amp; livemarkInfo.siteURI.spec;</span>
<a href="#l8.49"></a><span id="l8.49">     if (!siteUrl &amp;&amp; aPopup._siteURIMenuitem) {</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineminus">-      aPopup.removeChild(aPopup._siteURIMenuitem);</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+      aPopup._siteURIMenuitem.remove();</span>
<a href="#l8.52"></a><span id="l8.52">       aPopup._siteURIMenuitem = null;</span>
<a href="#l8.53"></a><span id="l8.53">       aPopup._startMarker--;</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineminus">-      aPopup.removeChild(aPopup._siteURIMenuseparator);</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineplus">+      aPopup._siteURIMenuseparator.remove();</span>
<a href="#l8.56"></a><span id="l8.56">       aPopup._siteURIMenuseparator = null;</span>
<a href="#l8.57"></a><span id="l8.57">       aPopup._startMarker--;</span>
<a href="#l8.58"></a><span id="l8.58">     }</span>
<a href="#l8.59"></a><span id="l8.59">     else if (siteUrl &amp;&amp; !aPopup._siteURIMenuitem) {</span>
<a href="#l8.60"></a><span id="l8.60">       // Add &quot;Open (Feed Name)&quot; menuitem.</span>
<a href="#l8.61"></a><span id="l8.61">       aPopup._siteURIMenuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l8.62"></a><span id="l8.62">       aPopup._siteURIMenuitem.className = &quot;openlivemarksite-menuitem&quot;;</span>
<a href="#l8.63"></a><span id="l8.63">       aPopup._siteURIMenuitem.setAttribute(&quot;targetURI&quot;, siteUrl);</span>
<a href="#l8.64"></a><span id="l8.64" class="difflineat">@@ -455,17 +455,17 @@ PlacesViewBase.prototype = {</span>
<a href="#l8.65"></a><span id="l8.65">       aPopup._startMarker++;</span>
<a href="#l8.66"></a><span id="l8.66">     }</span>
<a href="#l8.67"></a><span id="l8.67">     else if (lmStatus &amp;&amp; lmStatusElt.getAttribute(&quot;lmStatus&quot;) != lmStatus) {</span>
<a href="#l8.68"></a><span id="l8.68">       // Status has changed, update the cached status menuitem.</span>
<a href="#l8.69"></a><span id="l8.69">       lmStatusElt.setAttribute(&quot;label&quot;, PlacesUIUtils.getString(lmStatus));</span>
<a href="#l8.70"></a><span id="l8.70">     }</span>
<a href="#l8.71"></a><span id="l8.71">     else if (!lmStatus &amp;&amp; lmStatusElt) {</span>
<a href="#l8.72"></a><span id="l8.72">       // The livemark has finished loading.</span>
<a href="#l8.73"></a><span id="l8.73" class="difflineminus">-      aPopup.removeChild(aPopup._lmStatusMenuItem);</span>
<a href="#l8.74"></a><span id="l8.74" class="difflineplus">+      aPopup._lmStatusMenuItem.remove();</span>
<a href="#l8.75"></a><span id="l8.75">       aPopup._lmStatusMenuItem = null;</span>
<a href="#l8.76"></a><span id="l8.76">       aPopup._startMarker--;</span>
<a href="#l8.77"></a><span id="l8.77">     }</span>
<a href="#l8.78"></a><span id="l8.78">   },</span>
<a href="#l8.79"></a><span id="l8.79"> </span>
<a href="#l8.80"></a><span id="l8.80">   nodeURIChanged: function PVB_nodeURIChanged(aPlacesNode, aURIString) {</span>
<a href="#l8.81"></a><span id="l8.81">     let elt = this._getDOMNodeForPlacesNode(aPlacesNode);</span>
<a href="#l8.82"></a><span id="l8.82"> </span>
<a href="#l8.83"></a><span id="l8.83" class="difflineat">@@ -544,17 +544,17 @@ PlacesViewBase.prototype = {</span>
<a href="#l8.84"></a><span id="l8.84">     let parentElt = this._getDOMNodeForPlacesNode(aParentPlacesNode);</span>
<a href="#l8.85"></a><span id="l8.85">     let elt = this._getDOMNodeForPlacesNode(aPlacesNode);</span>
<a href="#l8.86"></a><span id="l8.86"> </span>
<a href="#l8.87"></a><span id="l8.87">     // Here we need the &lt;menu&gt;.</span>
<a href="#l8.88"></a><span id="l8.88">     if (elt.localName == &quot;menupopup&quot;)</span>
<a href="#l8.89"></a><span id="l8.89">       elt = elt.parentNode;</span>
<a href="#l8.90"></a><span id="l8.90"> </span>
<a href="#l8.91"></a><span id="l8.91">     if (parentElt._built) {</span>
<a href="#l8.92"></a><span id="l8.92" class="difflineminus">-      parentElt.removeChild(elt);</span>
<a href="#l8.93"></a><span id="l8.93" class="difflineplus">+      elt.remove();</span>
<a href="#l8.94"></a><span id="l8.94"> </span>
<a href="#l8.95"></a><span id="l8.95">       // Figure out if we need to show the &quot;&lt;Empty&gt;&quot; menu-item.</span>
<a href="#l8.96"></a><span id="l8.96">       // TODO Bug 517701: This doesn't seem to handle the case of an empty</span>
<a href="#l8.97"></a><span id="l8.97">       // root.</span>
<a href="#l8.98"></a><span id="l8.98">       if (!parentElt.hasChildNodes() ||</span>
<a href="#l8.99"></a><span id="l8.99">           (parentElt.childNodes.length == 1 &amp;&amp;</span>
<a href="#l8.100"></a><span id="l8.100">           parentElt.firstChild == parentElt._emptyMenuItem))</span>
<a href="#l8.101"></a><span id="l8.101">         this._showEmptyMenuItem(parentElt);</span>
<a href="#l8.102"></a><span id="l8.102" class="difflineat">@@ -569,17 +569,17 @@ PlacesViewBase.prototype = {</span>
<a href="#l8.103"></a><span id="l8.103">     let parentElt = this._getDOMNodeForPlacesNode(aParentPlacesNode);</span>
<a href="#l8.104"></a><span id="l8.104">     if (parentElt._built) {</span>
<a href="#l8.105"></a><span id="l8.105">       let elt = this._getDOMNodeForPlacesNode(aOldPlacesNode);</span>
<a href="#l8.106"></a><span id="l8.106"> </span>
<a href="#l8.107"></a><span id="l8.107">       // Here we need the &lt;menu&gt;.</span>
<a href="#l8.108"></a><span id="l8.108">       if (elt.localName == &quot;menupopup&quot;)</span>
<a href="#l8.109"></a><span id="l8.109">         elt = elt.parentNode;</span>
<a href="#l8.110"></a><span id="l8.110"> </span>
<a href="#l8.111"></a><span id="l8.111" class="difflineminus">-      parentElt.removeChild(elt);</span>
<a href="#l8.112"></a><span id="l8.112" class="difflineplus">+      elt.remove();</span>
<a href="#l8.113"></a><span id="l8.113"> </span>
<a href="#l8.114"></a><span id="l8.114">       // No worries: If elt is the last item (i.e. no nextSibling),</span>
<a href="#l8.115"></a><span id="l8.115">       // _insertNewItem/_insertNewItemToPopup will insert the new element as</span>
<a href="#l8.116"></a><span id="l8.116">       // the last item.</span>
<a href="#l8.117"></a><span id="l8.117">       let nextElt = elt.nextSibling;</span>
<a href="#l8.118"></a><span id="l8.118">       this._insertNewItemToPopup(aNewPlacesNode, parentElt, nextElt);</span>
<a href="#l8.119"></a><span id="l8.119">     }</span>
<a href="#l8.120"></a><span id="l8.120">   },</span>
<a href="#l8.121"></a><span id="l8.121" class="difflineat">@@ -640,17 +640,17 @@ PlacesViewBase.prototype = {</span>
<a href="#l8.122"></a><span id="l8.122">     // If our root node is a folder, it might be moved. There's nothing</span>
<a href="#l8.123"></a><span id="l8.123">     // we need to do in that case.</span>
<a href="#l8.124"></a><span id="l8.124">     if (elt == this._rootElt)</span>
<a href="#l8.125"></a><span id="l8.125">       return;</span>
<a href="#l8.126"></a><span id="l8.126"> </span>
<a href="#l8.127"></a><span id="l8.127">     let parentElt = this._getDOMNodeForPlacesNode(aNewParentPlacesNode);</span>
<a href="#l8.128"></a><span id="l8.128">     if (parentElt._built) {</span>
<a href="#l8.129"></a><span id="l8.129">       // Move the node.</span>
<a href="#l8.130"></a><span id="l8.130" class="difflineminus">-      parentElt.removeChild(elt);</span>
<a href="#l8.131"></a><span id="l8.131" class="difflineplus">+      elt.remove();</span>
<a href="#l8.132"></a><span id="l8.132">       let index = parentElt._startMarker + 1 + aNewIndex;</span>
<a href="#l8.133"></a><span id="l8.133">       parentElt.insertBefore(elt, parentElt.childNodes[index]);</span>
<a href="#l8.134"></a><span id="l8.134">     }</span>
<a href="#l8.135"></a><span id="l8.135">   },</span>
<a href="#l8.136"></a><span id="l8.136"> </span>
<a href="#l8.137"></a><span id="l8.137">   containerStateChanged:</span>
<a href="#l8.138"></a><span id="l8.138">   function PVB_containerStateChanged(aPlacesNode, aOldState, aNewState) {</span>
<a href="#l8.139"></a><span id="l8.139">     if (aNewState == Components.interfaces.nsINavHistoryContainerResultNode.STATE_OPENED ||</span>
<a href="#l8.140"></a><span id="l8.140" class="difflineat">@@ -762,21 +762,21 @@ PlacesViewBase.prototype = {</span>
<a href="#l8.141"></a><span id="l8.141">         currentChild = currentChild.nextSibling;</span>
<a href="#l8.142"></a><span id="l8.142">       }</span>
<a href="#l8.143"></a><span id="l8.143">       hasMultipleURIs = numURINodes &gt; 1;</span>
<a href="#l8.144"></a><span id="l8.144">     }</span>
<a href="#l8.145"></a><span id="l8.145"> </span>
<a href="#l8.146"></a><span id="l8.146">     if (!hasMultipleURIs) {</span>
<a href="#l8.147"></a><span id="l8.147">       // We don't have to show any option.</span>
<a href="#l8.148"></a><span id="l8.148">       if (aPopup._endOptOpenAllInTabs) {</span>
<a href="#l8.149"></a><span id="l8.149" class="difflineminus">-        aPopup.removeChild(aPopup._endOptOpenAllInTabs);</span>
<a href="#l8.150"></a><span id="l8.150" class="difflineplus">+        aPopup._endOptOpenAllInTabs.remove();</span>
<a href="#l8.151"></a><span id="l8.151">         aPopup._endOptOpenAllInTabs = null;</span>
<a href="#l8.152"></a><span id="l8.152">         aPopup._endMarker--;</span>
<a href="#l8.153"></a><span id="l8.153"> </span>
<a href="#l8.154"></a><span id="l8.154" class="difflineminus">-        aPopup.removeChild(aPopup._endOptSeparator);</span>
<a href="#l8.155"></a><span id="l8.155" class="difflineplus">+        aPopup._endOptSeparator.remove();</span>
<a href="#l8.156"></a><span id="l8.156">         aPopup._endOptSeparator = null;</span>
<a href="#l8.157"></a><span id="l8.157">         aPopup._endMarker--;</span>
<a href="#l8.158"></a><span id="l8.158">         aPopup._endMarker -= aPopup._placesNode.childCount;</span>
<a href="#l8.159"></a><span id="l8.159">         if (aPopup._endMarker &lt; -1)</span>
<a href="#l8.160"></a><span id="l8.160">           aPopup._endMarker = -1;</span>
<a href="#l8.161"></a><span id="l8.161">       }</span>
<a href="#l8.162"></a><span id="l8.162">     }</span>
<a href="#l8.163"></a><span id="l8.163">     else if (!aPopup._endOptOpenAllInTabs) {</span>
<a href="#l8.164"></a><span id="l8.164" class="difflineat">@@ -895,17 +895,17 @@ PlacesToolbar.prototype = {</span>
<a href="#l8.165"></a><span id="l8.165">   _rebuild: function PT__rebuild() {</span>
<a href="#l8.166"></a><span id="l8.166">     // Clear out references to existing nodes, since they will be removed</span>
<a href="#l8.167"></a><span id="l8.167">     // and re-added.</span>
<a href="#l8.168"></a><span id="l8.168">     if (this._overFolder.elt)</span>
<a href="#l8.169"></a><span id="l8.169">       this._clearOverFolder();</span>
<a href="#l8.170"></a><span id="l8.170"> </span>
<a href="#l8.171"></a><span id="l8.171">     this._openedMenuButton = null;</span>
<a href="#l8.172"></a><span id="l8.172">     while (this._rootElt.hasChildNodes()) {</span>
<a href="#l8.173"></a><span id="l8.173" class="difflineminus">-      this._rootElt.removeChild(this._rootElt.firstChild);</span>
<a href="#l8.174"></a><span id="l8.174" class="difflineplus">+      this._rootElt.lastChild.remove();</span>
<a href="#l8.175"></a><span id="l8.175">     }</span>
<a href="#l8.176"></a><span id="l8.176"> </span>
<a href="#l8.177"></a><span id="l8.177">     let cc = this._resultNode.childCount;</span>
<a href="#l8.178"></a><span id="l8.178">     for (let i = 0; i &lt; cc; ++i) {</span>
<a href="#l8.179"></a><span id="l8.179">       this._insertNewItem(this._resultNode.getChild(i), null);</span>
<a href="#l8.180"></a><span id="l8.180">     }</span>
<a href="#l8.181"></a><span id="l8.181"> </span>
<a href="#l8.182"></a><span id="l8.182">     if (this._chevronPopup.hasAttribute(&quot;type&quot;)) {</span>
<a href="#l8.183"></a><span id="l8.183" class="difflineat">@@ -1165,17 +1165,17 @@ PlacesToolbar.prototype = {</span>
<a href="#l8.184"></a><span id="l8.184"> </span>
<a href="#l8.185"></a><span id="l8.185">       this._removeChild(elt);</span>
<a href="#l8.186"></a><span id="l8.186">       this._rootElt.insertBefore(elt, this._rootElt.childNodes[aNewIndex]);</span>
<a href="#l8.187"></a><span id="l8.187"> </span>
<a href="#l8.188"></a><span id="l8.188">       // If the chevron popup is open, keep it in sync.</span>
<a href="#l8.189"></a><span id="l8.189">       if (this._chevron.open) {</span>
<a href="#l8.190"></a><span id="l8.190">         let chevronPopup = this._chevronPopup;</span>
<a href="#l8.191"></a><span id="l8.191">         let menuitem = chevronPopup.childNodes[aOldIndex];</span>
<a href="#l8.192"></a><span id="l8.192" class="difflineminus">-        chevronPopup.removeChild(menuitem);</span>
<a href="#l8.193"></a><span id="l8.193" class="difflineplus">+        menuitem.remove();</span>
<a href="#l8.194"></a><span id="l8.194">         chevronPopup.insertBefore(menuitem,</span>
<a href="#l8.195"></a><span id="l8.195">                                   chevronPopup.childNodes[aNewIndex]);</span>
<a href="#l8.196"></a><span id="l8.196">       }</span>
<a href="#l8.197"></a><span id="l8.197">       this.updateChevron();</span>
<a href="#l8.198"></a><span id="l8.198">       return;</span>
<a href="#l8.199"></a><span id="l8.199">     }</span>
<a href="#l8.200"></a><span id="l8.200"> </span>
<a href="#l8.201"></a><span id="l8.201">     PlacesViewBase.prototype.nodeMoved.apply(this, arguments);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/suite/common/pref/pref-applications.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/suite/common/pref/pref-applications.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1092,17 +1092,17 @@ var gApplicationsPane = {</span>
<a href="#l9.4"></a><span id="l9.4">         this._visibleTypeDescriptionCount[handlerInfo.description] = 1;</span>
<a href="#l9.5"></a><span id="l9.5">     }</span>
<a href="#l9.6"></a><span id="l9.6">   },</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8">   _rebuildView: function() {</span>
<a href="#l9.9"></a><span id="l9.9">     // Clear the list of entries (the first 2 elements are &lt;listcols&gt; and</span>
<a href="#l9.10"></a><span id="l9.10">     // &lt;listhead&gt;, they should never get removed).</span>
<a href="#l9.11"></a><span id="l9.11">     while (this._list.childNodes.length &gt; 2)</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-      this._list.removeChild(this._list.lastChild);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+      this._list.lastChild.remove();</span>
<a href="#l9.14"></a><span id="l9.14"> </span>
<a href="#l9.15"></a><span id="l9.15">     var visibleTypes = this._visibleTypes;</span>
<a href="#l9.16"></a><span id="l9.16"> </span>
<a href="#l9.17"></a><span id="l9.17">     // If the user is filtering the list, then only show matching types.</span>
<a href="#l9.18"></a><span id="l9.18">     if (this._filter.value)</span>
<a href="#l9.19"></a><span id="l9.19">       visibleTypes = visibleTypes.filter(this._matchesFilter, this);</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21">     for each (let visibleType in visibleTypes) {</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineat">@@ -1264,17 +1264,17 @@ var gApplicationsPane = {</span>
<a href="#l9.23"></a><span id="l9.23">     var cell =</span>
<a href="#l9.24"></a><span id="l9.24">       document.getAnonymousElementByAttribute(typeItem, &quot;anonid&quot;, &quot;action-cell&quot;);</span>
<a href="#l9.25"></a><span id="l9.25">     var menu =</span>
<a href="#l9.26"></a><span id="l9.26">       document.getAnonymousElementByAttribute(cell, &quot;anonid&quot;, &quot;action-menu&quot;);</span>
<a href="#l9.27"></a><span id="l9.27">     var menuPopup = menu.menupopup;</span>
<a href="#l9.28"></a><span id="l9.28"> </span>
<a href="#l9.29"></a><span id="l9.29">     // Clear out existing items.</span>
<a href="#l9.30"></a><span id="l9.30">     while (menuPopup.hasChildNodes())</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineminus">-      menuPopup.removeChild(menuPopup.lastChild);</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+      menuPopup.lastChild.remove();</span>
<a href="#l9.33"></a><span id="l9.33"> </span>
<a href="#l9.34"></a><span id="l9.34">     {</span>
<a href="#l9.35"></a><span id="l9.35">       let askMenuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l9.36"></a><span id="l9.36">       askMenuItem.setAttribute(&quot;class&quot;, &quot;handler-action&quot;);</span>
<a href="#l9.37"></a><span id="l9.37">       askMenuItem.setAttribute(&quot;value&quot;, nsIHandlerInfo.alwaysAsk);</span>
<a href="#l9.38"></a><span id="l9.38">       let label;</span>
<a href="#l9.39"></a><span id="l9.39">       if (isFeedType(handlerInfo.type))</span>
<a href="#l9.40"></a><span id="l9.40">         label = this._prefsBundle.getFormattedString(&quot;previewInApp&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/common/pref/pref-fonts.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/common/pref/pref-fonts.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -33,17 +33,17 @@ function BuildFontList(aLanguage, aFontT</span>
<a href="#l10.4"></a><span id="l10.4">       defaultFont = GetFontEnumerator().getDefaultFont(aLanguage, &quot;&quot;);</span>
<a href="#l10.5"></a><span id="l10.5">   }</span>
<a href="#l10.6"></a><span id="l10.6"> </span>
<a href="#l10.7"></a><span id="l10.7">   if (!gAllFonts)</span>
<a href="#l10.8"></a><span id="l10.8">     gAllFonts = GetFontEnumerator().EnumerateAllFonts({});</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10">   // Reset the list</span>
<a href="#l10.11"></a><span id="l10.11">   while (aMenuList.hasChildNodes())</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-    aMenuList.removeChild(aMenuList.firstChild);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+    aMenuList.lastChild.remove();</span>
<a href="#l10.14"></a><span id="l10.14"> </span>
<a href="#l10.15"></a><span id="l10.15">   // Build the UI for the Default Font and Fonts for this CSS type.</span>
<a href="#l10.16"></a><span id="l10.16">   var popup = document.createElement(&quot;menupopup&quot;);</span>
<a href="#l10.17"></a><span id="l10.17">   var separator;</span>
<a href="#l10.18"></a><span id="l10.18">   if (fonts.length)</span>
<a href="#l10.19"></a><span id="l10.19">   {</span>
<a href="#l10.20"></a><span id="l10.20">     if (defaultFont)</span>
<a href="#l10.21"></a><span id="l10.21">     {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/suite/common/pref/pref-languages.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/suite/common/pref/pref-languages.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -99,17 +99,17 @@ function ReadActiveLanguages()</span>
<a href="#l11.4"></a><span id="l11.4">   var arrayOfPrefs = document.getElementById(&quot;intl.accept_languages&quot;).value</span>
<a href="#l11.5"></a><span id="l11.5">                              .toLowerCase().split(/\s*,\s*/);</span>
<a href="#l11.6"></a><span id="l11.6"> </span>
<a href="#l11.7"></a><span id="l11.7">   // No need to rebuild listitems if languages in prefs and listitems match.</span>
<a href="#l11.8"></a><span id="l11.8">   if (InSync(arrayOfPrefs))</span>
<a href="#l11.9"></a><span id="l11.9">    return;</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11">   while (gActiveLanguages.hasChildNodes())</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-    gActiveLanguages.removeChild(gActiveLanguages.lastChild);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+    gActiveLanguages.lastChild.remove();</span>
<a href="#l11.14"></a><span id="l11.14"> </span>
<a href="#l11.15"></a><span id="l11.15">   arrayOfPrefs.forEach(</span>
<a href="#l11.16"></a><span id="l11.16">     function(aKey)</span>
<a href="#l11.17"></a><span id="l11.17">     {</span>
<a href="#l11.18"></a><span id="l11.18">       if (aKey)</span>
<a href="#l11.19"></a><span id="l11.19">       {</span>
<a href="#l11.20"></a><span id="l11.20">         let langTitle = gLanguageTitles.hasOwnProperty(aKey) ?</span>
<a href="#l11.21"></a><span id="l11.21">                         gLanguageTitles[aKey] : &quot;[&quot; + aKey + &quot;]&quot;;</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineat">@@ -180,17 +180,17 @@ function RemoveActiveLanguage(aEvent)</span>
<a href="#l11.23"></a><span id="l11.23">     return;</span>
<a href="#l11.24"></a><span id="l11.24"> </span>
<a href="#l11.25"></a><span id="l11.25">   var nextNode = null;</span>
<a href="#l11.26"></a><span id="l11.26"> </span>
<a href="#l11.27"></a><span id="l11.27">   while (gActiveLanguages.selectedItem)</span>
<a href="#l11.28"></a><span id="l11.28">   {</span>
<a href="#l11.29"></a><span id="l11.29">     var selectedNode = gActiveLanguages.selectedItem;</span>
<a href="#l11.30"></a><span id="l11.30">     nextNode = selectedNode.nextSibling || selectedNode.previousSibling;</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-    gActiveLanguages.removeChild(selectedNode);</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+    selectedNode.remove();</span>
<a href="#l11.33"></a><span id="l11.33">   }</span>
<a href="#l11.34"></a><span id="l11.34"> </span>
<a href="#l11.35"></a><span id="l11.35">   if (nextNode)</span>
<a href="#l11.36"></a><span id="l11.36">     gActiveLanguages.selectItem(nextNode);</span>
<a href="#l11.37"></a><span id="l11.37"> </span>
<a href="#l11.38"></a><span id="l11.38">   SelectLanguage();</span>
<a href="#l11.39"></a><span id="l11.39">   gActiveLanguages.doCommand();</span>
<a href="#l11.40"></a><span id="l11.40"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/suite/common/pref/pref-navigator.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/suite/common/pref/pref-navigator.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -175,17 +175,17 @@ function HomePagePrefCleanup()</span>
<a href="#l12.4"></a><span id="l12.4"> {</span>
<a href="#l12.5"></a><span id="l12.5">   // remove the old user prefs values that we didn't overwrite</span>
<a href="#l12.6"></a><span id="l12.6">   var count = GetHomePagePrefCount();</span>
<a href="#l12.7"></a><span id="l12.7">   for (var j = count; j &lt; gHomePagePrefPeak; ++j)</span>
<a href="#l12.8"></a><span id="l12.8">   {</span>
<a href="#l12.9"></a><span id="l12.9">     // clear &lt;preference&gt;</span>
<a href="#l12.10"></a><span id="l12.10">     var pref = GetHomePagePref(j);</span>
<a href="#l12.11"></a><span id="l12.11">     pref.valueFromPreferences = undefined;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    pref.parentNode.removeChild(pref);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+    pref.remove();</span>
<a href="#l12.14"></a><span id="l12.14">   }</span>
<a href="#l12.15"></a><span id="l12.15">   gHomePagePrefPeak = 0; // cleanup done</span>
<a href="#l12.16"></a><span id="l12.16"> }</span>
<a href="#l12.17"></a><span id="l12.17"> </span>
<a href="#l12.18"></a><span id="l12.18"> function UpdateHomePageListFromInput()</span>
<a href="#l12.19"></a><span id="l12.19"> {</span>
<a href="#l12.20"></a><span id="l12.20">   UpdateHomePagePrefs();</span>
<a href="#l12.21"></a><span id="l12.21">   UpdateHomePageButtons();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/suite/common/pref/pref-offlineapps.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/suite/common/pref/pref-offlineapps.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -96,18 +96,18 @@ function _getOfflineAppUsage(aHost)</span>
<a href="#l13.4"></a><span id="l13.4"> }</span>
<a href="#l13.5"></a><span id="l13.5"> </span>
<a href="#l13.6"></a><span id="l13.6"> /**</span>
<a href="#l13.7"></a><span id="l13.7">  * Updates the list of offline applications.</span>
<a href="#l13.8"></a><span id="l13.8">  */</span>
<a href="#l13.9"></a><span id="l13.9"> function UpdateOfflineApps()</span>
<a href="#l13.10"></a><span id="l13.10"> {</span>
<a href="#l13.11"></a><span id="l13.11">   var list = document.getElementById(&quot;offlineAppsList&quot;);</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-  while (list.lastChild)</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-    list.removeChild(list.lastChild);</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+  while (list.hasChildNodes())</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+    list.lastChild.remove();</span>
<a href="#l13.16"></a><span id="l13.16"> </span>
<a href="#l13.17"></a><span id="l13.17">   var bundle = document.getElementById(&quot;bundle_prefutilities&quot;);</span>
<a href="#l13.18"></a><span id="l13.18">   var pm = Services.perms;</span>
<a href="#l13.19"></a><span id="l13.19">   var enumerator = pm.enumerator;</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21">   while (enumerator.hasMoreElements()) {</span>
<a href="#l13.22"></a><span id="l13.22">     let perm = enumerator.getNext()</span>
<a href="#l13.23"></a><span id="l13.23">                          .QueryInterface(Components.interfaces.nsIPermission);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/suite/common/pref/pref-spelling.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/suite/common/pref/pref-spelling.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -85,17 +85,17 @@ function InitLanguageMenu() {</span>
<a href="#l14.4"></a><span id="l14.4">       return a[0].localeCompare(b[0]);</span>
<a href="#l14.5"></a><span id="l14.5">     }</span>
<a href="#l14.6"></a><span id="l14.6">   );</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8">   var languageMenuList = document.getElementById(&quot;languageMenuList&quot;);</span>
<a href="#l14.9"></a><span id="l14.9">   // Remove any languages from the list.</span>
<a href="#l14.10"></a><span id="l14.10">   var languageMenuPopup = languageMenuList.firstChild;</span>
<a href="#l14.11"></a><span id="l14.11">   while (languageMenuPopup.firstChild.localName != &quot;menuseparator&quot;)</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-    languageMenuPopup.removeChild(languageMenuPopup.firstChild);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+    languageMenuPopup.firstChild.remove();</span>
<a href="#l14.14"></a><span id="l14.14"> </span>
<a href="#l14.15"></a><span id="l14.15">   var curLang  = languageMenuList.value;</span>
<a href="#l14.16"></a><span id="l14.16">   var defaultItem = null;</span>
<a href="#l14.17"></a><span id="l14.17"> </span>
<a href="#l14.18"></a><span id="l14.18">   for (let i = 0; i &lt; count; i++) {</span>
<a href="#l14.19"></a><span id="l14.19">     let item = languageMenuList.insertItemAt(i, dictList[i][0], dictList[i][1]);</span>
<a href="#l14.20"></a><span id="l14.20">     if (curLang &amp;&amp; dictList[i][1] == curLang)</span>
<a href="#l14.21"></a><span id="l14.21">       defaultItem = item;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/suite/common/profile/profileSelection.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/suite/common/profile/profileSelection.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -247,17 +247,17 @@ function DeleteProfile(aDeleteFiles)</span>
<a href="#l15.4"></a><span id="l15.4"> {</span>
<a href="#l15.5"></a><span id="l15.5">   var profileTree = document.getElementById(&quot;profiles&quot;);</span>
<a href="#l15.6"></a><span id="l15.6">   var selected = profileTree.view.getItemAtIndex(profileTree.currentIndex);</span>
<a href="#l15.7"></a><span id="l15.7">   var previous = profileTree.currentIndex &amp;&amp; profileTree.currentIndex - 1;</span>
<a href="#l15.8"></a><span id="l15.8"> </span>
<a href="#l15.9"></a><span id="l15.9">   try {</span>
<a href="#l15.10"></a><span id="l15.10">     selected.profile.remove(aDeleteFiles);</span>
<a href="#l15.11"></a><span id="l15.11">     gProfileService.flush();</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-    profileTree.lastChild.removeChild(selected);</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+    selected.remove();</span>
<a href="#l15.14"></a><span id="l15.14"> </span>
<a href="#l15.15"></a><span id="l15.15">     if (profileTree.view.rowCount != 0) {</span>
<a href="#l15.16"></a><span id="l15.16">       profileTree.view.selection.select(previous);</span>
<a href="#l15.17"></a><span id="l15.17">       profileTree.treeBoxObject.ensureRowIsVisible(previous);</span>
<a href="#l15.18"></a><span id="l15.18">     }</span>
<a href="#l15.19"></a><span id="l15.19"> </span>
<a href="#l15.20"></a><span id="l15.20">     // set the button state</span>
<a href="#l15.21"></a><span id="l15.21">     DoEnabling();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/suite/common/search/search.xml</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/suite/common/search/search.xml</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -308,17 +308,17 @@</span>
<a href="#l16.4"></a><span id="l16.4">           var popup = this._popup;</span>
<a href="#l16.5"></a><span id="l16.5">           // Clear any addengine menuitems, including addengine-item entries and</span>
<a href="#l16.6"></a><span id="l16.6">           // the addengine-separator.  Work backward to avoid invalidating the</span>
<a href="#l16.7"></a><span id="l16.7">           // indexes as items are removed.</span>
<a href="#l16.8"></a><span id="l16.8">           var items = popup.childNodes;</span>
<a href="#l16.9"></a><span id="l16.9">           for (var i = items.length - 1; i &gt;= 0; i--) {</span>
<a href="#l16.10"></a><span id="l16.10">             if (items[i].classList.contains(&quot;addengine-item&quot;) ||</span>
<a href="#l16.11"></a><span id="l16.11">                 items[i].classList.contains(&quot;addengine-separator&quot;))</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-              popup.removeChild(items[i]);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+              items[i].remove();</span>
<a href="#l16.14"></a><span id="l16.14">           }</span>
<a href="#l16.15"></a><span id="l16.15"> </span>
<a href="#l16.16"></a><span id="l16.16">           var addengines = getBrowser().mCurrentBrowser.engines;</span>
<a href="#l16.17"></a><span id="l16.17">           if (addengines &amp;&amp; addengines.length &gt; 0) {</span>
<a href="#l16.18"></a><span id="l16.18">             const kXULNS =</span>
<a href="#l16.19"></a><span id="l16.19">                &quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;;</span>
<a href="#l16.20"></a><span id="l16.20"> </span>
<a href="#l16.21"></a><span id="l16.21">             // Find the (first) separator in the remaining menu, or the first item</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineat">@@ -362,17 +362,17 @@</span>
<a href="#l16.23"></a><span id="l16.23">            visible engines, or the currently selected engine, has changed.</span>
<a href="#l16.24"></a><span id="l16.24">       --&gt;</span>
<a href="#l16.25"></a><span id="l16.25">       &lt;method name=&quot;rebuildPopup&quot;&gt;</span>
<a href="#l16.26"></a><span id="l16.26">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l16.27"></a><span id="l16.27">           var popup = this._popup;</span>
<a href="#l16.28"></a><span id="l16.28"> </span>
<a href="#l16.29"></a><span id="l16.29">           // Clear the popup, down to the first separator</span>
<a href="#l16.30"></a><span id="l16.30">           while (popup.firstChild &amp;&amp; popup.firstChild.localName != &quot;menuseparator&quot;)</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineminus">-            popup.removeChild(popup.firstChild);</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+            popup.firstChild.remove();</span>
<a href="#l16.33"></a><span id="l16.33"> </span>
<a href="#l16.34"></a><span id="l16.34">           const kXULNS =</span>
<a href="#l16.35"></a><span id="l16.35">                &quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;;</span>
<a href="#l16.36"></a><span id="l16.36"> </span>
<a href="#l16.37"></a><span id="l16.37">           var engines = this.engines;</span>
<a href="#l16.38"></a><span id="l16.38">           for (var i = engines.length - 1; i &gt;= 0; --i) {</span>
<a href="#l16.39"></a><span id="l16.39">             var menuitem = document.createElementNS(kXULNS, &quot;menuitem&quot;);</span>
<a href="#l16.40"></a><span id="l16.40">             var name = engines[i].name;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/suite/common/sidebar/customize.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/suite/common/sidebar/customize.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -244,17 +244,17 @@ function SelectChangeForCurrentPanels() </span>
<a href="#l17.4"></a><span id="l17.4"> // Move the selected item up the the current panels list.</span>
<a href="#l17.5"></a><span id="l17.5"> function MoveUp() {</span>
<a href="#l17.6"></a><span id="l17.6">   var tree = document.getElementById('current-panels');</span>
<a href="#l17.7"></a><span id="l17.7">   if (tree.view.selection.count == 1) {</span>
<a href="#l17.8"></a><span id="l17.8">     var index = tree.currentIndex;</span>
<a href="#l17.9"></a><span id="l17.9">     var selected = tree.contentView.getItemAtIndex(index);</span>
<a href="#l17.10"></a><span id="l17.10">     var before = selected.previousSibling;</span>
<a href="#l17.11"></a><span id="l17.11">     if (before) {</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-      before.parentNode.removeChild(selected);</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+      selected.remove();</span>
<a href="#l17.14"></a><span id="l17.14">       before.parentNode.insertBefore(selected, before);</span>
<a href="#l17.15"></a><span id="l17.15">       tree.view.selection.select(index-1);</span>
<a href="#l17.16"></a><span id="l17.16">       tree.treeBoxObject.ensureRowIsVisible(index-1);</span>
<a href="#l17.17"></a><span id="l17.17">     }</span>
<a href="#l17.18"></a><span id="l17.18">   }</span>
<a href="#l17.19"></a><span id="l17.19"> }</span>
<a href="#l17.20"></a><span id="l17.20"> </span>
<a href="#l17.21"></a><span id="l17.21"> // Move the selected item down the the current panels list.</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineat">@@ -381,17 +381,17 @@ function RemovePanel()</span>
<a href="#l17.23"></a><span id="l17.23">   var nextNode = -1;</span>
<a href="#l17.24"></a><span id="l17.24">   var rangeCount = sel.getRangeCount();</span>
<a href="#l17.25"></a><span id="l17.25">   for (var range = rangeCount-1; range &gt;= 0; --range) {</span>
<a href="#l17.26"></a><span id="l17.26">     var min = {}, max = {};</span>
<a href="#l17.27"></a><span id="l17.27">     sel.getRangeAt(range, min, max);</span>
<a href="#l17.28"></a><span id="l17.28">     for (var index = max.value; index &gt;= min.value; --index) {</span>
<a href="#l17.29"></a><span id="l17.29">       var item = tree.contentView.getItemAtIndex(index);</span>
<a href="#l17.30"></a><span id="l17.30">       nextNode = item.nextSibling ? index : -1;</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-      item.parentNode.removeChild(item);</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+      item.remove();</span>
<a href="#l17.33"></a><span id="l17.33">     }</span>
<a href="#l17.34"></a><span id="l17.34">   }</span>
<a href="#l17.35"></a><span id="l17.35"> </span>
<a href="#l17.36"></a><span id="l17.36">   if (nextNode &gt;= 0)</span>
<a href="#l17.37"></a><span id="l17.37">     sel.select(nextNode);</span>
<a href="#l17.38"></a><span id="l17.38"> }</span>
<a href="#l17.39"></a><span id="l17.39"> </span>
<a href="#l17.40"></a><span id="l17.40"> // Bring up a new window with the customize url</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/suite/common/sync/syncUtils.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/suite/common/sync/syncUtils.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -92,17 +92,17 @@ let gSyncUtils = {</span>
<a href="#l18.4"></a><span id="l18.4">     iframe.collapsed = true;</span>
<a href="#l18.5"></a><span id="l18.5">     document.documentElement.appendChild(iframe);</span>
<a href="#l18.6"></a><span id="l18.6">     iframe.addEventListener(&quot;load&quot;, function loadListener() {</span>
<a href="#l18.7"></a><span id="l18.7">       iframe.removeEventListener(&quot;load&quot;, loadListener, true);</span>
<a href="#l18.8"></a><span id="l18.8"> </span>
<a href="#l18.9"></a><span id="l18.9">       // Remove the license block.</span>
<a href="#l18.10"></a><span id="l18.10">       let node = iframe.contentDocument.firstChild;</span>
<a href="#l18.11"></a><span id="l18.11">       if (node &amp;&amp; node.nodeType == Node.COMMENT_NODE)</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-        iframe.contentDocument.removeChild(node);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+        node.remove();</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15">       // Insert the Sync Key into the page.</span>
<a href="#l18.16"></a><span id="l18.16">       let el = iframe.contentDocument.getElementById(&quot;synckey&quot;);</span>
<a href="#l18.17"></a><span id="l18.17">       el.firstChild.nodeValue = pp;</span>
<a href="#l18.18"></a><span id="l18.18"> </span>
<a href="#l18.19"></a><span id="l18.19">       // Insert the TOS and Privacy Policy URLs into the page.</span>
<a href="#l18.20"></a><span id="l18.20">       let termsURL = Weave.Svc.Prefs.get(&quot;termsURL&quot;);</span>
<a href="#l18.21"></a><span id="l18.21">       el = iframe.contentDocument.getElementById(&quot;tosLink&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/suite/common/tests/browser/browser_500328.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/suite/common/tests/browser/browser_500328.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -39,17 +39,17 @@ function checkState(tab) {</span>
<a href="#l19.4"></a><span id="l19.4">       is(aEvent.state.obj3.toString(), '/^a$/', &quot;second popstate object.&quot;);</span>
<a href="#l19.5"></a><span id="l19.5"> </span>
<a href="#l19.6"></a><span id="l19.6">       // Make sure that the new-elem node is present in the document.  If it's</span>
<a href="#l19.7"></a><span id="l19.7">       // not, then this history entry has a different doc identifier than the</span>
<a href="#l19.8"></a><span id="l19.8">       // previous entry, which is bad.</span>
<a href="#l19.9"></a><span id="l19.9">       let doc = contentWindow.document;</span>
<a href="#l19.10"></a><span id="l19.10">       let newElem = doc.getElementById(&quot;new-elem&quot;);</span>
<a href="#l19.11"></a><span id="l19.11">       ok(newElem, &quot;doc should contain new-elem.&quot;);</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-      newElem.parentNode.removeChild(newElem);</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+      newElem.remove();</span>
<a href="#l19.14"></a><span id="l19.14">       ok(!doc.getElementById(&quot;new-elem&quot;), &quot;new-elem should be removed.&quot;);</span>
<a href="#l19.15"></a><span id="l19.15"> </span>
<a href="#l19.16"></a><span id="l19.16">       // Clean up after ourselves and finish the test.</span>
<a href="#l19.17"></a><span id="l19.17">       tab.linkedBrowser.removeEventListener(&quot;popstate&quot;, checkStateTabPopState,</span>
<a href="#l19.18"></a><span id="l19.18">                                               true);</span>
<a href="#l19.19"></a><span id="l19.19">       getBrowser().removeTab(tab);</span>
<a href="#l19.20"></a><span id="l19.20">       finish();</span>
<a href="#l19.21"></a><span id="l19.21">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/suite/common/utilityOverlay.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/suite/common/utilityOverlay.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -341,17 +341,17 @@ function onViewToolbarsPopupShowing(aEve</span>
<a href="#l20.4"></a><span id="l20.4"> {</span>
<a href="#l20.5"></a><span id="l20.5">   var popup = aEvent.target;</span>
<a href="#l20.6"></a><span id="l20.6">   if (popup != aEvent.currentTarget)</span>
<a href="#l20.7"></a><span id="l20.7">     return;</span>
<a href="#l20.8"></a><span id="l20.8"> </span>
<a href="#l20.9"></a><span id="l20.9">   // Empty the menu</span>
<a href="#l20.10"></a><span id="l20.10">   var deadItems = popup.getElementsByAttribute(&quot;toolbarid&quot;, &quot;*&quot;);</span>
<a href="#l20.11"></a><span id="l20.11">   for (let i = deadItems.length - 1; i &gt;= 0; --i)</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-    popup.removeChild(deadItems[i]);</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+    deadItems[i].remove();</span>
<a href="#l20.14"></a><span id="l20.14"> </span>
<a href="#l20.15"></a><span id="l20.15">   // Thunderbird/Lightning function signature is:</span>
<a href="#l20.16"></a><span id="l20.16">   // onViewToolbarsPopupShowing(aEvent, toolboxIds, aInsertPoint)</span>
<a href="#l20.17"></a><span id="l20.17">   // where toolboxIds is either a string or an array of strings.</span>
<a href="#l20.18"></a><span id="l20.18">   var firstMenuItem = aInsertPoint instanceof XULElement ? aInsertPoint</span>
<a href="#l20.19"></a><span id="l20.19">                                                          : popup.firstChild;</span>
<a href="#l20.20"></a><span id="l20.20"> </span>
<a href="#l20.21"></a><span id="l20.21">   var toolbar = document.popupNode || popup;</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineat">@@ -1225,17 +1225,17 @@ function popupNotificationMenuShowing(ev</span>
<a href="#l20.23"></a><span id="l20.23"> </span>
<a href="#l20.24"></a><span id="l20.24">   var separator = document.getElementById(&quot;popupNotificationMenuSeparator&quot;);</span>
<a href="#l20.25"></a><span id="l20.25">   separator.hidden = !createShowPopupsMenu(event.target, notificationbox.activeBrowser);</span>
<a href="#l20.26"></a><span id="l20.26"> }</span>
<a href="#l20.27"></a><span id="l20.27"> </span>
<a href="#l20.28"></a><span id="l20.28"> function RemovePopupsItems(parent)</span>
<a href="#l20.29"></a><span id="l20.29"> {</span>
<a href="#l20.30"></a><span id="l20.30">   while (parent.lastChild &amp;&amp; (&quot;popup&quot; in parent.lastChild))</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineminus">-    parent.removeChild(parent.lastChild);</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineplus">+    parent.lastChild.remove();</span>
<a href="#l20.33"></a><span id="l20.33"> }</span>
<a href="#l20.34"></a><span id="l20.34"> </span>
<a href="#l20.35"></a><span id="l20.35"> function createShowPopupsMenu(parent, browser)</span>
<a href="#l20.36"></a><span id="l20.36"> {</span>
<a href="#l20.37"></a><span id="l20.37">   if (!browser)</span>
<a href="#l20.38"></a><span id="l20.38">     return false;</span>
<a href="#l20.39"></a><span id="l20.39"> </span>
<a href="#l20.40"></a><span id="l20.40">   var popups = browser.pageReport;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/suite/common/viewApplyThemeOverlay.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/suite/common/viewApplyThemeOverlay.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -50,17 +50,17 @@ function getPersonas()</span>
<a href="#l21.4"></a><span id="l21.4">   catch (e) {</span>
<a href="#l21.5"></a><span id="l21.5">     dump(e);</span>
<a href="#l21.6"></a><span id="l21.6">   }</span>
<a href="#l21.7"></a><span id="l21.7"> }</span>
<a href="#l21.8"></a><span id="l21.8"> </span>
<a href="#l21.9"></a><span id="l21.9"> function checkTheme(popup)</span>
<a href="#l21.10"></a><span id="l21.10"> {</span>
<a href="#l21.11"></a><span id="l21.11">   while (popup.lastChild.localName != 'menuseparator')</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-    popup.removeChild(popup.lastChild);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+    popup.lastChild.remove();</span>
<a href="#l21.14"></a><span id="l21.14">   gThemes.forEach(function(theme) {</span>
<a href="#l21.15"></a><span id="l21.15">     var menuitem = document.createElement('menuitem');</span>
<a href="#l21.16"></a><span id="l21.16">     menuitem.setAttribute(&quot;label&quot;, theme.name);</span>
<a href="#l21.17"></a><span id="l21.17">     menuitem.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l21.18"></a><span id="l21.18">     menuitem.setAttribute(&quot;name&quot;, &quot;themeGroup&quot;);</span>
<a href="#l21.19"></a><span id="l21.19">     if (!theme.userDisabled)</span>
<a href="#l21.20"></a><span id="l21.20">       menuitem.setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l21.21"></a><span id="l21.21">     else if (!(theme.permissions &amp; AddonManager.PERM_CAN_ENABLE))</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

