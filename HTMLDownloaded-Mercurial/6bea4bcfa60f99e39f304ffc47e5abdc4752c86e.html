<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23583:6bea4bcfa60f99e39f304ffc47e5abdc4752c86e</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 6bea4bcfa60f99e39f304ffc47e5abdc4752c86e" />
<meta property="og:url" content="/comm-central/rev/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e" />
<meta property="og:description" content="Bug 1446609 - Remove the overlays for messenger.xul except mailWindowOverlay.xul. r=jorgk,aceman" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 6bea4bcfa60f99e39f304ffc47e5abdc4752c86e 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e">shortlog</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e">files</a> |
changeset |
<a href="/comm-central/raw-rev/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e">raw</a>  | <a href="/comm-central/archive/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1446609">Bug 1446609</a> - Remove the overlays for messenger.xul except mailWindowOverlay.xul. r=jorgk,aceman
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#105;&#99;&#104;&#97;&#114;&#100;&#32;&#77;&#97;&#114;&#116;&#105;&#32;&#60;&#114;&#105;&#99;&#104;&#97;&#114;&#100;&#46;&#109;&#97;&#114;&#116;&#105;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Sat, 17 Mar 2018 18:53:04 +0100</td></tr>

<tr>
 <td>changeset 23583</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e">6bea4bcfa60f99e39f304ffc47e5abdc4752c86e</a></td>
</tr>



<tr>
<td>parent 23582</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/9c6c4038b3b5ab074c1d9c2bf91bae0a062adaab">9c6c4038b3b5ab074c1d9c2bf91bae0a062adaab</a>
</td>
</tr>

<tr>
<td>child 23584</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/6e1f0a0d00a8c0b57932a525521e6bc9de5469e3">6e1f0a0d00a8c0b57932a525521e6bc9de5469e3</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=6bea4bcfa60f99e39f304ffc47e5abdc4752c86e">14238</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Sun, 25 Mar 2018 10:16:31 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@89435f04afee [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=89435f04afee556e91d8f17634cd377dff5ac8d2">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=89435f04afee556e91d8f17634cd377dff5ac8d2&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=89435f04afee556e91d8f17634cd377dff5ac8d2&newProject=comm-central&newRevision=6bea4bcfa60f99e39f304ffc47e5abdc4752c86e&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=89435f04afee556e91d8f17634cd377dff5ac8d2&newProject=comm-central&newRevision=6bea4bcfa60f99e39f304ffc47e5abdc4752c86e&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=89435f04afee556e91d8f17634cd377dff5ac8d2&newProject=comm-central&newRevision=6bea4bcfa60f99e39f304ffc47e5abdc4752c86e&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jorgk%29&revcount=50">jorgk</a>, <a href="/comm-central/log?rev=reviewer%28aceman%29&revcount=50">aceman</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1446609">1446609</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1446609">Bug 1446609</a> - Remove the overlays for messenger.xul except mailWindowOverlay.xul. r=jorgk,aceman</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar-overlay.xul">calendar/lightning/content/imip-bar-overlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar-overlay.xul">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar-overlay.xul">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar-overlay.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar-overlay.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar-overlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar.js">calendar/lightning/content/imip-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar.js">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar.js">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/calendar/lightning/content/imip-bar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/ABSearchDialog.xul">mail/base/content/ABSearchDialog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/ABSearchDialog.xul">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/ABSearchDialog.xul">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/ABSearchDialog.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/ABSearchDialog.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/ABSearchDialog.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/SearchDialog.xul">mail/base/content/SearchDialog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/SearchDialog.xul">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/SearchDialog.xul">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/SearchDialog.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/SearchDialog.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/SearchDialog.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactOverlay.js">mail/base/content/editContactOverlay.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactOverlay.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactOverlay.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactOverlay.xul">mail/base/content/editContactOverlay.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactOverlay.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactOverlay.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.inc">mail/base/content/editContactPanel.inc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.inc">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.inc">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.inc">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.inc">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.inc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.js">mail/base/content/editContactPanel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.js">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.js">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/editContactPanel.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/extraCustomizeItems.xul">mail/base/content/extraCustomizeItems.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/extraCustomizeItems.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/extraCustomizeItems.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/extraCustomizeItems.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/folderDisplay.js">mail/base/content/folderDisplay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/folderDisplay.js">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/folderDisplay.js">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/folderDisplay.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/folderDisplay.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/folderDisplay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/hiddenWindow.xul">mail/base/content/hiddenWindow.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/hiddenWindow.xul">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/hiddenWindow.xul">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/hiddenWindow.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/hiddenWindow.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/hiddenWindow.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerMenu.js">mail/base/content/macMessengerMenu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerMenu.js">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerMenu.js">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerMenu.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerMenu.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerMenu.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerOverlay.js">mail/base/content/macMessengerOverlay.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerOverlay.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerOverlay.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerOverlay.xul">mail/base/content/macMessengerOverlay.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerOverlay.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerOverlay.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/macMessengerOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/mailWindowOverlay.xul">mail/base/content/mailWindowOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/mailWindowOverlay.xul">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/mailWindowOverlay.xul">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/mailWindowOverlay.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/mailWindowOverlay.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/mailWindowOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messageWindow.xul">mail/base/content/messageWindow.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messageWindow.xul">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messageWindow.xul">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messageWindow.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messageWindow.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messageWindow.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messenger.xul">mail/base/content/messenger.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messenger.xul">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messenger.xul">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messenger.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messenger.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/messenger.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgAttachmentView.inc">mail/base/content/msgAttachmentView.inc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgAttachmentView.inc">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgAttachmentView.inc">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgAttachmentView.inc">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgAttachmentView.inc">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgAttachmentView.inc">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrPopup.inc">mail/base/content/msgHdrPopup.inc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrPopup.inc">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrPopup.inc">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrPopup.inc">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrPopup.inc">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrPopup.inc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.inc">mail/base/content/msgHdrView.inc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.inc">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.inc">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.inc">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.inc">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.inc">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.js">mail/base/content/msgHdrView.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.js">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.js">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrView.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrViewOverlay.js">mail/base/content/msgHdrViewOverlay.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrViewOverlay.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrViewOverlay.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrViewOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrViewOverlay.xul">mail/base/content/msgHdrViewOverlay.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrViewOverlay.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrViewOverlay.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/msgHdrViewOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.inc">mail/base/content/quickFilterBar.inc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.inc">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.inc">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.inc">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.inc">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.inc">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.xul">mail/base/content/quickFilterBar.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/quickFilterBar.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/specialTabs.xul">mail/base/content/specialTabs.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/specialTabs.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/specialTabs.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/specialTabs.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/utilityOverlay.xul">mail/base/content/utilityOverlay.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/utilityOverlay.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/utilityOverlay.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/content/utilityOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/jar.mn">mail/base/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/jar.mn">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/jar.mn">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/jar.mn">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/jar.mn">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/base/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-menu.inc">mail/components/im/content/chat-menu.inc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-menu.inc">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-menu.inc">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-menu.inc">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-menu.inc">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-menu.inc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger-overlay.js">mail/components/im/content/chat-messenger-overlay.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger-overlay.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger-overlay.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger-overlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger-overlay.xul">mail/components/im/content/chat-messenger-overlay.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger-overlay.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger-overlay.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger-overlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.inc">mail/components/im/content/chat-messenger.inc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.inc">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.inc">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.inc">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.inc">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.inc">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.js">mail/components/im/content/chat-messenger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.js">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.js">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.js">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.js">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/content/chat-messenger.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/jar.mn">mail/components/im/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/jar.mn">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/jar.mn">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/jar.mn">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/jar.mn">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/im/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/jar.mn">mail/components/preferences/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/jar.mn">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/jar.mn">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/jar.mn">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/jar.mn">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/preferencesTab.xul">mail/components/preferences/preferencesTab.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/preferencesTab.xul">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/preferencesTab.xul">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/components/preferences/preferencesTab.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/locales/en-US/chrome/messenger/messenger.dtd">mail/locales/en-US/chrome/messenger/messenger.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/locales/en-US/chrome/messenger/messenger.dtd">file</a> |
<a href="/comm-central/annotate/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/locales/en-US/chrome/messenger/messenger.dtd">annotate</a> |
<a href="/comm-central/diff/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/locales/en-US/chrome/messenger/messenger.dtd">diff</a> |
<a href="/comm-central/comparison/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/locales/en-US/chrome/messenger/messenger.dtd">comparison</a> |
<a href="/comm-central/log/6bea4bcfa60f99e39f304ffc47e5abdc4752c86e/mail/locales/en-US/chrome/messenger/messenger.dtd">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/lightning/content/imip-bar-overlay.xul</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/lightning/content/imip-bar-overlay.xul</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -27,17 +27,17 @@</span>
<a href="#l1.4"></a><span id="l1.4">                                     collapsed=&quot;true&quot;</span>
<a href="#l1.5"></a><span id="l1.5">                                     insertbefore=&quot;msgHeaderView&quot;</span>
<a href="#l1.6"></a><span id="l1.6">                                     label=&quot;&amp;lightning.imipbar.description;&quot;&gt;</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8">           &lt;!-- Some Toolbox implementation notes:</span>
<a href="#l1.9"></a><span id="l1.9">              -</span>
<a href="#l1.10"></a><span id="l1.10">              - css style:</span>
<a href="#l1.11"></a><span id="l1.11">              - classes within toolbox are making use of existing TB css definitions - as used in</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-             - /comm-central/source/mail/base/content/msgHdrViewOverlay.xul, only icon defining</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+             - /comm-central/source/mail/base/content/msgHdrView.inc, only icon defining</span>
<a href="#l1.14"></a><span id="l1.14">              - classes like imipAcceptButton are noted separately and OS specific within</span>
<a href="#l1.15"></a><span id="l1.15">              - skin/lightning.css (resp. the OS-specific theme folders)</span>
<a href="#l1.16"></a><span id="l1.16">              -</span>
<a href="#l1.17"></a><span id="l1.17">              - The toolbarbuttons will be adjusted dynamically in imip-bar.js based on their</span>
<a href="#l1.18"></a><span id="l1.18">              - content of menuitems. To avoid breaking this, the following should be considered</span>
<a href="#l1.19"></a><span id="l1.19">              - if adding/changing toolbarbutton definitions.</span>
<a href="#l1.20"></a><span id="l1.20">              - general:</span>
<a href="#l1.21"></a><span id="l1.21">              -    * the toolbarbuttons will appear in order of definition</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/lightning/content/imip-bar.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/lightning/content/imip-bar.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -33,17 +33,17 @@ var ltnImipBar = {</span>
<a href="#l2.4"></a><span id="l2.4"> </span>
<a href="#l2.5"></a><span id="l2.5">     },</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7">     /**</span>
<a href="#l2.8"></a><span id="l2.8">      * Load Handler called to initialize the imip bar</span>
<a href="#l2.9"></a><span id="l2.9">      * NOTE: This function is called without a valid this-context!</span>
<a href="#l2.10"></a><span id="l2.10">      */</span>
<a href="#l2.11"></a><span id="l2.11">     load: function() {</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-        // Add a listener to gMessageListeners defined in msgHdrViewOverlay.js</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+        // Add a listener to gMessageListeners defined in msgHdrView.js</span>
<a href="#l2.14"></a><span id="l2.14">         gMessageListeners.push(ltnImipBar);</span>
<a href="#l2.15"></a><span id="l2.15"> </span>
<a href="#l2.16"></a><span id="l2.16">         // We need to extend the HideMessageHeaderPane function to also hide the</span>
<a href="#l2.17"></a><span id="l2.17">         // message header pane. Otherwise, the imip bar will still be shown when</span>
<a href="#l2.18"></a><span id="l2.18">         // changing folders.</span>
<a href="#l2.19"></a><span id="l2.19">         ltnImipBar.tbHideMessageHeaderPane = HideMessageHeaderPane;</span>
<a href="#l2.20"></a><span id="l2.20">         HideMessageHeaderPane = function() {</span>
<a href="#l2.21"></a><span id="l2.21">             ltnImipBar.resetBar();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/ABSearchDialog.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/ABSearchDialog.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -2,18 +2,16 @@</span>
<a href="#l3.4"></a><span id="l3.4"> </span>
<a href="#l3.5"></a><span id="l3.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.6"></a><span id="l3.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.7"></a><span id="l3.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/searchDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.10"></a><span id="l3.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/addressbook/abResultsPane.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/utilityOverlay.xul&quot;?&gt;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-</span>
<a href="#l3.14"></a><span id="l3.14"> &lt;!DOCTYPE window [</span>
<a href="#l3.15"></a><span id="l3.15">   &lt;!ENTITY % abResultsPaneDTD SYSTEM &quot;chrome://messenger/locale/addressbook/abResultsPane.dtd&quot;&gt;</span>
<a href="#l3.16"></a><span id="l3.16">   %abResultsPaneDTD;</span>
<a href="#l3.17"></a><span id="l3.17">   &lt;!ENTITY % SearchDialogDTD SYSTEM &quot;chrome://messenger/locale/SearchDialog.dtd&quot;&gt;</span>
<a href="#l3.18"></a><span id="l3.18">   %SearchDialogDTD;</span>
<a href="#l3.19"></a><span id="l3.19">   &lt;!ENTITY % searchTermDTD SYSTEM &quot;chrome://messenger/locale/searchTermOverlay.dtd&quot;&gt;</span>
<a href="#l3.20"></a><span id="l3.20">   %searchTermDTD;</span>
<a href="#l3.21"></a><span id="l3.21"> ]&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/base/content/SearchDialog.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/base/content/SearchDialog.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -3,18 +3,16 @@</span>
<a href="#l4.4"></a><span id="l4.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.5"></a><span id="l4.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.6"></a><span id="l4.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/searchDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.9"></a><span id="l4.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderPane.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.10"></a><span id="l4.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/utilityOverlay.xul&quot;?&gt;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-</span>
<a href="#l4.14"></a><span id="l4.14"> &lt;!DOCTYPE dialog [</span>
<a href="#l4.15"></a><span id="l4.15">   &lt;!ENTITY % SearchDialogDTD SYSTEM &quot;chrome://messenger/locale/SearchDialog.dtd&quot;&gt;</span>
<a href="#l4.16"></a><span id="l4.16">   %SearchDialogDTD;</span>
<a href="#l4.17"></a><span id="l4.17">   &lt;!ENTITY % searchTermDTD SYSTEM &quot;chrome://messenger/locale/searchTermOverlay.dtd&quot;&gt;</span>
<a href="#l4.18"></a><span id="l4.18">   %searchTermDTD;</span>
<a href="#l4.19"></a><span id="l4.19"> ]&gt;</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21"> &lt;window id=&quot;searchMailWindow&quot;</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineat">@@ -55,26 +53,27 @@</span>
<a href="#l4.23"></a><span id="l4.23">       &lt;command id=&quot;saveas_vf_button&quot; oncommand=&quot;goDoCommand('saveas_vf_button')&quot; disabled=&quot;false&quot;/&gt;</span>
<a href="#l4.24"></a><span id="l4.24">       &lt;command id=&quot;file_message_button&quot;/&gt;</span>
<a href="#l4.25"></a><span id="l4.25">       &lt;command id=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l4.26"></a><span id="l4.26">       &lt;command id=&quot;cmd_shiftDelete&quot; oncommand=&quot;goDoCommand('cmd_shiftDelete');&quot;/&gt;</span>
<a href="#l4.27"></a><span id="l4.27">     &lt;/commandset&gt;</span>
<a href="#l4.28"></a><span id="l4.28">   &lt;/commands&gt;</span>
<a href="#l4.29"></a><span id="l4.29"> </span>
<a href="#l4.30"></a><span id="l4.30">   &lt;keyset id=&quot;mailKeys&quot;&gt;</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-    &lt;key id=&quot;key_delete&quot; oncommand=&quot;goDoCommand('cmd_delete');&quot;/&gt;</span>
<a href="#l4.32"></a><span id="l4.32">     &lt;key key=&quot;&amp;closeCmd.key;&quot; modifiers=&quot;accel&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l4.33"></a><span id="l4.33">     &lt;key keycode=&quot;VK_ESCAPE&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l4.34"></a><span id="l4.34"> #ifdef XP_MACOSX</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-      &lt;key id=&quot;key_delete2&quot; oncommand=&quot;goDoCommand('cmd_delete');&quot;/&gt;</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+      &lt;key id=&quot;key_delete&quot; keycode=&quot;VK_BACK&quot;     command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineplus">+      &lt;key id=&quot;key_delete2&quot; keycode=&quot;VK_DELETE&quot;  command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l4.38"></a><span id="l4.38">       &lt;key id=&quot;cmd_shiftDelete&quot; keycode=&quot;VK_BACK&quot;</span>
<a href="#l4.39"></a><span id="l4.39">            oncommand=&quot;goDoCommand('cmd_shiftDelete');&quot; modifiers=&quot;shift&quot;/&gt;</span>
<a href="#l4.40"></a><span id="l4.40">       &lt;key id=&quot;cmd_shiftDelete2&quot; keycode=&quot;VK_DELETE&quot;</span>
<a href="#l4.41"></a><span id="l4.41">            oncommand=&quot;goDoCommand('cmd_shiftDelete');&quot; modifiers=&quot;shift&quot;/&gt;</span>
<a href="#l4.42"></a><span id="l4.42"> #else</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+      &lt;key id=&quot;key_delete&quot; keycode=&quot;VK_DELETE&quot; command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l4.44"></a><span id="l4.44">       &lt;key id=&quot;cmd_shiftDelete&quot; keycode=&quot;VK_DELETE&quot;</span>
<a href="#l4.45"></a><span id="l4.45">            oncommand=&quot;goDoCommand('cmd_shiftDelete');&quot; modifiers=&quot;shift&quot;/&gt;</span>
<a href="#l4.46"></a><span id="l4.46"> #endif</span>
<a href="#l4.47"></a><span id="l4.47">   &lt;/keyset&gt;</span>
<a href="#l4.48"></a><span id="l4.48"> </span>
<a href="#l4.49"></a><span id="l4.49">   &lt;dummy class=&quot;usesMailWidgets&quot;/&gt;</span>
<a href="#l4.50"></a><span id="l4.50"> </span>
<a href="#l4.51"></a><span id="l4.51">     &lt;vbox id=&quot;searchTerms&quot; flex=&quot;3&quot; persist=&quot;height&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">rename from mail/base/content/editContactOverlay.xul</span>
<a href="#l5.2"></a><span id="l5.2">rename to mail/base/content/editContactPanel.inc</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineminus">--- a/mail/base/content/editContactOverlay.xul</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineplus">+++ b/mail/base/content/editContactPanel.inc</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineat">@@ -1,116 +1,99 @@</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineminus">-</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineminus">-&lt;!DOCTYPE overlay [</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-&lt;!ENTITY % editContactOverlayDTD SYSTEM &quot;chrome://messenger/locale/editContactOverlay.dtd&quot;&gt;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-%editContactOverlayDTD;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-]&gt;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/editContactOverlay.css&quot;?&gt;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineminus">-&lt;overlay id=&quot;editContactOverlay&quot;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineminus">-         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l5.23"></a><span id="l5.23"> </span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-  &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineminus">-    &lt;stringbundle id=&quot;bundle_editContact&quot;</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineminus">-                  src=&quot;chrome://messenger/locale/editContactOverlay.properties&quot;/&gt;</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineminus">-  &lt;/stringbundleset&gt;</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineminus">-</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineminus">-  &lt;panel id=&quot;editContactPanel&quot;</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineminus">-         type=&quot;arrow&quot;</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-         orient=&quot;vertical&quot;</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineminus">-         ignorekeys=&quot;true&quot;</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineminus">-         hidden=&quot;true&quot;</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-         aria-labelledby=&quot;editContactPanelTitle&quot;</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineminus">-         onpopuphidden=&quot;editContactInlineUI.onPopupHidden(event);&quot;</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineminus">-         onpopupshown=&quot;editContactInlineUI.onPopupShown(event);&quot;</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineminus">-         onkeypress=&quot;editContactInlineUI.onKeyPress(event, true);&quot;&gt;</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineminus">-    &lt;hbox flex=&quot;1&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineminus">-      &lt;image id=&quot;editContactPanelIcon&quot;/&gt;</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-      &lt;label id=&quot;editContactPanelTitle&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineminus">-      &lt;button id=&quot;editContactPanelDeleteContactButton&quot;</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-              label=&quot;&amp;editContactPanelDeleteContact.label;&quot;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineminus">-              accesskey=&quot;&amp;editContactPanelDeleteContact.accesskey;&quot;</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineminus">-              oncommand=&quot;editContactInlineUI.deleteContact();&quot;</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineminus">-              onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+&lt;panel id=&quot;editContactPanel&quot;</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+        type=&quot;arrow&quot;</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+        orient=&quot;vertical&quot;</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+        ignorekeys=&quot;true&quot;</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+        hidden=&quot;true&quot;</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+        aria-labelledby=&quot;editContactPanelTitle&quot;</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+        onpopuphidden=&quot;editContactInlineUI.onPopupHidden(event);&quot;</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+        onpopupshown=&quot;editContactInlineUI.onPopupShown(event);&quot;</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+        onkeypress=&quot;editContactInlineUI.onKeyPress(event, true);&quot;&gt;</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+  &lt;hbox flex=&quot;1&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+    &lt;image id=&quot;editContactPanelIcon&quot;/&gt;</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+    &lt;label id=&quot;editContactPanelTitle&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+    &lt;button id=&quot;editContactPanelDeleteContactButton&quot;</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+            label=&quot;&amp;editContactPanelDeleteContact.label;&quot;</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+            accesskey=&quot;&amp;editContactPanelDeleteContact.accesskey;&quot;</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+            oncommand=&quot;editContactInlineUI.deleteContact();&quot;</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineplus">+            onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+  &lt;/hbox&gt;</span>
<a href="#l5.65"></a><span id="l5.65"> </span>
<a href="#l5.66"></a><span id="l5.66" class="difflineminus">-    &lt;vbox id=&quot;editContactContent&quot;&gt;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineminus">-      &lt;grid id=&quot;editContactGrid&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineminus">-        &lt;columns&gt;</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineminus">-          &lt;column/&gt;</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineminus">-          &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineminus">-        &lt;/columns&gt;</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineminus">-        &lt;rows&gt;</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineminus">-          &lt;row align=&quot;center&quot; id=&quot;editContactNameRow&quot;&gt;</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineminus">-            &lt;label value=&quot;&amp;editContactName.label;&quot;</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineminus">-                   class=&quot;editContactPanel_rowLabel&quot;</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineminus">-                   accesskey=&quot;&amp;editContactName.accesskey;&quot;</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineminus">-                   control=&quot;editContactName&quot;/&gt;</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineminus">-            &lt;textbox id=&quot;editContactName&quot; class=&quot;editContactTextbox&quot;</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineminus">-                     onkeypress=&quot;editContactInlineUI.onKeyPress(event, true);&quot;/&gt;</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineminus">-          &lt;/row&gt;</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineminus">-          &lt;row align=&quot;center&quot; id=&quot;editContactEmailRow&quot;&gt;</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineminus">-            &lt;label value=&quot;&amp;editContactEmail.label;&quot;</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineminus">-                   class=&quot;editContactPanel_rowLabel&quot;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineminus">-                   accesskey=&quot;&amp;editContactEmail.accesskey;&quot;</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineminus">-                   control=&quot;editContactEmail&quot;/&gt;</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineminus">-            &lt;textbox id=&quot;editContactEmail&quot; readonly=&quot;true&quot;</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineminus">-                     class=&quot;editContactTextbox&quot;</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineminus">-                     onkeypress=&quot;editContactInlineUI.onKeyPress(event, true);&quot;/&gt;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineminus">-          &lt;/row&gt;</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineminus">-          &lt;row align=&quot;center&quot; id=&quot;editContactABRow&quot;&gt;</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineminus">-            &lt;label id=&quot;editContactAddressBook&quot;</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineminus">-                   class=&quot;editContactPanel_rowLabel&quot;</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineminus">-                   value=&quot;&amp;editContactAddressBook.label;&quot;</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineminus">-                   accesskey=&quot;&amp;editContactAddressBook.accesskey;&quot;</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineminus">-                   control=&quot;editContactAddressBookList&quot;/&gt;</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineminus">-            &lt;menulist id=&quot;editContactAddressBookList&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineminus">-              &lt;menupopup id=&quot;editContactAddressBookList-menupopup&quot;</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineminus">-                         class=&quot;addrbooksPopup&quot;/&gt;</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineminus">-            &lt;/menulist&gt;</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineminus">-          &lt;/row&gt;</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineminus">-          &lt;row&gt;</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineminus">-            &lt;hbox/&gt;</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineminus">-            &lt;description id=&quot;contactMoveDisabledText&quot;</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineminus">-                         collapsed=&quot;true&quot;&gt;&amp;contactMoveDisabledWarning.description;&lt;/description&gt;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineminus">-          &lt;/row&gt;</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineminus">-        &lt;/rows&gt;</span>
<a href="#l5.107"></a><span id="l5.107" class="difflineminus">-      &lt;/grid&gt;</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineplus">+  &lt;vbox id=&quot;editContactContent&quot;&gt;</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineplus">+    &lt;grid id=&quot;editContactGrid&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineplus">+      &lt;columns&gt;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineplus">+        &lt;column/&gt;</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineplus">+        &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineplus">+      &lt;/columns&gt;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineplus">+      &lt;rows&gt;</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineplus">+        &lt;row align=&quot;center&quot; id=&quot;editContactNameRow&quot;&gt;</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineplus">+          &lt;label value=&quot;&amp;editContactName.label;&quot;</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineplus">+                  class=&quot;editContactPanel_rowLabel&quot;</span>
<a href="#l5.119"></a><span id="l5.119" class="difflineplus">+                  accesskey=&quot;&amp;editContactName.accesskey;&quot;</span>
<a href="#l5.120"></a><span id="l5.120" class="difflineplus">+                  control=&quot;editContactName&quot;/&gt;</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineplus">+          &lt;textbox id=&quot;editContactName&quot; class=&quot;editContactTextbox&quot;</span>
<a href="#l5.122"></a><span id="l5.122" class="difflineplus">+                    onkeypress=&quot;editContactInlineUI.onKeyPress(event, true);&quot;/&gt;</span>
<a href="#l5.123"></a><span id="l5.123" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineplus">+        &lt;row align=&quot;center&quot; id=&quot;editContactEmailRow&quot;&gt;</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineplus">+          &lt;label value=&quot;&amp;editContactEmail.label;&quot;</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineplus">+                  class=&quot;editContactPanel_rowLabel&quot;</span>
<a href="#l5.127"></a><span id="l5.127" class="difflineplus">+                  accesskey=&quot;&amp;editContactEmail.accesskey;&quot;</span>
<a href="#l5.128"></a><span id="l5.128" class="difflineplus">+                  control=&quot;editContactEmail&quot;/&gt;</span>
<a href="#l5.129"></a><span id="l5.129" class="difflineplus">+          &lt;textbox id=&quot;editContactEmail&quot; readonly=&quot;true&quot;</span>
<a href="#l5.130"></a><span id="l5.130" class="difflineplus">+                    class=&quot;editContactTextbox&quot;</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineplus">+                    onkeypress=&quot;editContactInlineUI.onKeyPress(event, true);&quot;/&gt;</span>
<a href="#l5.132"></a><span id="l5.132" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l5.133"></a><span id="l5.133" class="difflineplus">+        &lt;row align=&quot;center&quot; id=&quot;editContactABRow&quot;&gt;</span>
<a href="#l5.134"></a><span id="l5.134" class="difflineplus">+          &lt;label id=&quot;editContactAddressBook&quot;</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineplus">+                  class=&quot;editContactPanel_rowLabel&quot;</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineplus">+                  value=&quot;&amp;editContactAddressBook.label;&quot;</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineplus">+                  accesskey=&quot;&amp;editContactAddressBook.accesskey;&quot;</span>
<a href="#l5.138"></a><span id="l5.138" class="difflineplus">+                  control=&quot;editContactAddressBookList&quot;/&gt;</span>
<a href="#l5.139"></a><span id="l5.139" class="difflineplus">+          &lt;menulist id=&quot;editContactAddressBookList&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l5.140"></a><span id="l5.140" class="difflineplus">+            &lt;menupopup id=&quot;editContactAddressBookList-menupopup&quot;</span>
<a href="#l5.141"></a><span id="l5.141" class="difflineplus">+                        class=&quot;addrbooksPopup&quot;/&gt;</span>
<a href="#l5.142"></a><span id="l5.142" class="difflineplus">+          &lt;/menulist&gt;</span>
<a href="#l5.143"></a><span id="l5.143" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l5.144"></a><span id="l5.144" class="difflineplus">+        &lt;row&gt;</span>
<a href="#l5.145"></a><span id="l5.145" class="difflineplus">+          &lt;hbox/&gt;</span>
<a href="#l5.146"></a><span id="l5.146" class="difflineplus">+          &lt;description id=&quot;contactMoveDisabledText&quot;</span>
<a href="#l5.147"></a><span id="l5.147" class="difflineplus">+                        collapsed=&quot;true&quot;&gt;&amp;contactMoveDisabledWarning.description;&lt;/description&gt;</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineplus">+        &lt;/row&gt;</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineplus">+      &lt;/rows&gt;</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineplus">+    &lt;/grid&gt;</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineplus">+  &lt;/vbox&gt;</span>
<a href="#l5.152"></a><span id="l5.152"> </span>
<a href="#l5.153"></a><span id="l5.153" class="difflineminus">-    &lt;vbox&gt;</span>
<a href="#l5.154"></a><span id="l5.154" class="difflineminus">-      &lt;hbox flex=&quot;1&quot; id=&quot;editContactPanelBottomButtons&quot;&gt;</span>
<a href="#l5.155"></a><span id="l5.155" class="difflineminus">-        &lt;button id=&quot;editContactPanelEditDetailsButton&quot;</span>
<a href="#l5.156"></a><span id="l5.156" class="difflineminus">-                oncommand=&quot;editContactInlineUI.editDetails();&quot;</span>
<a href="#l5.157"></a><span id="l5.157" class="difflineminus">-                onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.158"></a><span id="l5.158" class="difflineminus">-        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l5.159"></a><span id="l5.159" class="difflineplus">+  &lt;vbox&gt;</span>
<a href="#l5.160"></a><span id="l5.160" class="difflineplus">+    &lt;hbox flex=&quot;1&quot; id=&quot;editContactPanelBottomButtons&quot;&gt;</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineplus">+      &lt;button id=&quot;editContactPanelEditDetailsButton&quot;</span>
<a href="#l5.162"></a><span id="l5.162" class="difflineplus">+              oncommand=&quot;editContactInlineUI.editDetails();&quot;</span>
<a href="#l5.163"></a><span id="l5.163" class="difflineplus">+              onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.164"></a><span id="l5.164" class="difflineplus">+      &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l5.165"></a><span id="l5.165"> #ifndef XP_UNIX</span>
<a href="#l5.166"></a><span id="l5.166" class="difflineminus">-        &lt;button id=&quot;editContactPanelDoneButton&quot;</span>
<a href="#l5.167"></a><span id="l5.167" class="difflineminus">-                label=&quot;&amp;editContactPanelDone.label;&quot;</span>
<a href="#l5.168"></a><span id="l5.168" class="difflineminus">-                accesskey=&quot;&amp;editContactPanelDone.accesskey;&quot; default=&quot;true&quot;</span>
<a href="#l5.169"></a><span id="l5.169" class="difflineminus">-                oncommand=&quot;editContactInlineUI.saveChanges();&quot;</span>
<a href="#l5.170"></a><span id="l5.170" class="difflineminus">-                onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineminus">-        &lt;button id=&quot;editContactPanelCancelButton&quot;</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineminus">-                label=&quot;&amp;editContactPanelCancel.label;&quot;</span>
<a href="#l5.173"></a><span id="l5.173" class="difflineminus">-                accesskey=&quot;&amp;editContactPanelCancel.accesskey;&quot;</span>
<a href="#l5.174"></a><span id="l5.174" class="difflineminus">-                oncommand=&quot;editContactInlineUI.panel.hidePopup();&quot;</span>
<a href="#l5.175"></a><span id="l5.175" class="difflineminus">-                onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.176"></a><span id="l5.176" class="difflineplus">+      &lt;button id=&quot;editContactPanelDoneButton&quot;</span>
<a href="#l5.177"></a><span id="l5.177" class="difflineplus">+              label=&quot;&amp;editContactPanelDone.label;&quot;</span>
<a href="#l5.178"></a><span id="l5.178" class="difflineplus">+              accesskey=&quot;&amp;editContactPanelDone.accesskey;&quot; default=&quot;true&quot;</span>
<a href="#l5.179"></a><span id="l5.179" class="difflineplus">+              oncommand=&quot;editContactInlineUI.saveChanges();&quot;</span>
<a href="#l5.180"></a><span id="l5.180" class="difflineplus">+              onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.181"></a><span id="l5.181" class="difflineplus">+      &lt;button id=&quot;editContactPanelCancelButton&quot;</span>
<a href="#l5.182"></a><span id="l5.182" class="difflineplus">+              label=&quot;&amp;editContactPanelCancel.label;&quot;</span>
<a href="#l5.183"></a><span id="l5.183" class="difflineplus">+              accesskey=&quot;&amp;editContactPanelCancel.accesskey;&quot;</span>
<a href="#l5.184"></a><span id="l5.184" class="difflineplus">+              oncommand=&quot;editContactInlineUI.panel.hidePopup();&quot;</span>
<a href="#l5.185"></a><span id="l5.185" class="difflineplus">+              onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.186"></a><span id="l5.186"> #else</span>
<a href="#l5.187"></a><span id="l5.187" class="difflineminus">-        &lt;button id=&quot;editContactPanelCancelButton&quot;</span>
<a href="#l5.188"></a><span id="l5.188" class="difflineminus">-                label=&quot;&amp;editContactPanelCancel.label;&quot;</span>
<a href="#l5.189"></a><span id="l5.189" class="difflineminus">-                accesskey=&quot;&amp;editContactPanelCancel.accesskey;&quot;</span>
<a href="#l5.190"></a><span id="l5.190" class="difflineminus">-                oncommand=&quot;editContactInlineUI.panel.hidePopup();&quot;</span>
<a href="#l5.191"></a><span id="l5.191" class="difflineminus">-                onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.192"></a><span id="l5.192" class="difflineminus">-        &lt;button id=&quot;editContactPanelDoneButton&quot;</span>
<a href="#l5.193"></a><span id="l5.193" class="difflineminus">-                label=&quot;&amp;editContactPanelDone.label;&quot;</span>
<a href="#l5.194"></a><span id="l5.194" class="difflineminus">-                accesskey=&quot;&amp;editContactPanelDone.accesskey;&quot; default=&quot;true&quot;</span>
<a href="#l5.195"></a><span id="l5.195" class="difflineminus">-                oncommand=&quot;editContactInlineUI.saveChanges();&quot;</span>
<a href="#l5.196"></a><span id="l5.196" class="difflineminus">-                onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.197"></a><span id="l5.197" class="difflineplus">+      &lt;button id=&quot;editContactPanelCancelButton&quot;</span>
<a href="#l5.198"></a><span id="l5.198" class="difflineplus">+              label=&quot;&amp;editContactPanelCancel.label;&quot;</span>
<a href="#l5.199"></a><span id="l5.199" class="difflineplus">+              accesskey=&quot;&amp;editContactPanelCancel.accesskey;&quot;</span>
<a href="#l5.200"></a><span id="l5.200" class="difflineplus">+              oncommand=&quot;editContactInlineUI.panel.hidePopup();&quot;</span>
<a href="#l5.201"></a><span id="l5.201" class="difflineplus">+              onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.202"></a><span id="l5.202" class="difflineplus">+      &lt;button id=&quot;editContactPanelDoneButton&quot;</span>
<a href="#l5.203"></a><span id="l5.203" class="difflineplus">+              label=&quot;&amp;editContactPanelDone.label;&quot;</span>
<a href="#l5.204"></a><span id="l5.204" class="difflineplus">+              accesskey=&quot;&amp;editContactPanelDone.accesskey;&quot; default=&quot;true&quot;</span>
<a href="#l5.205"></a><span id="l5.205" class="difflineplus">+              oncommand=&quot;editContactInlineUI.saveChanges();&quot;</span>
<a href="#l5.206"></a><span id="l5.206" class="difflineplus">+              onkeypress=&quot;editContactInlineUI.onKeyPress(event, false);&quot;/&gt;</span>
<a href="#l5.207"></a><span id="l5.207"> #endif</span>
<a href="#l5.208"></a><span id="l5.208" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l5.209"></a><span id="l5.209" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l5.210"></a><span id="l5.210" class="difflineminus">-  &lt;/panel&gt;</span>
<a href="#l5.211"></a><span id="l5.211" class="difflineminus">-&lt;/overlay&gt;</span>
<a href="#l5.212"></a><span id="l5.212" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l5.213"></a><span id="l5.213" class="difflineplus">+  &lt;/vbox&gt;</span>
<a href="#l5.214"></a><span id="l5.214" class="difflineplus">+&lt;/panel&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">rename from mail/base/content/editContactOverlay.js</span>
<a href="#l6.2"></a><span id="l6.2">rename to mail/base/content/editContactPanel.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">deleted file mode 100644</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineminus">--- a/mail/base/content/extraCustomizeItems.xul</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineplus">+++ /dev/null</span>
<a href="#l7.4"></a><span id="l7.4" class="difflineat">@@ -1,127 +0,0 @@</span>
<a href="#l7.5"></a><span id="l7.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l7.6"></a><span id="l7.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.7"></a><span id="l7.7" class="difflineminus">- - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.8"></a><span id="l7.8" class="difflineminus">- - file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l7.9"></a><span id="l7.9" class="difflineminus">- --&gt;</span>
<a href="#l7.10"></a><span id="l7.10" class="difflineminus">-</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineminus">-&lt;!DOCTYPE overlay [</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-  &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot;&gt;</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-  %messengerDTD;</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-  &lt;!ENTITY % msgViewPickerDTD SYSTEM &quot;chrome://messenger/locale/msgViewPickerOverlay.dtd&quot; &gt;</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-  %msgViewPickerDTD;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-  &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-  %brandDTD;</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-]&gt;</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/searchBox.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineminus">-</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineminus">-&lt;overlay xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineminus">-</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineminus">-  &lt;popupset&gt;</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineminus">-    &lt;panel type=&quot;glodacomplete-richlistbox&quot;</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineminus">-           id=&quot;PopupGlodaAutocomplete&quot; noautofocus=&quot;true&quot; /&gt;</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineminus">-  &lt;/popupset&gt;</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineminus">-</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineminus">-  &lt;toolbarpalette id=&quot;MailToolbarPalette&quot;&gt;</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineminus">-    &lt;!-- gloda search widget; provides global (message) searching.  --&gt;</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-    &lt;toolbaritem id=&quot;gloda-search&quot; insertafter=&quot;button-stop&quot;</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineminus">-                 title=&quot;&amp;glodaSearch.title;&quot;</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineminus">-                 align=&quot;center&quot;</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineminus">-                 flex=&quot;1&quot;</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineminus">-                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineminus">-        &lt;textbox id=&quot;searchInput&quot;</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineminus">-                 class=&quot;searchBox&quot;</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineminus">-                 flex=&quot;1&quot;</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineminus">-                 type=&quot;glodacomplete&quot;</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineminus">-                 searchbutton=&quot;true&quot;</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineminus">-                 autocompletesearch=&quot;gloda&quot;</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineminus">-                 autocompletepopup=&quot;PopupGlodaAutocomplete&quot;</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineminus">-                 autocompletesearchparam=&quot;global&quot;</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineminus">-                 timeout=&quot;200&quot;</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-                 maxlength=&quot;192&quot;</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineminus">-                 placeholder=&quot;&quot;</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineminus">-                 emptytextbase=&quot;&amp;search.label.base1;&quot;</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineminus">-                 keyLabelNonMac=&quot;&amp;search.keyLabel.nonmac;&quot;</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineminus">-                 keyLabelMac=&quot;&amp;search.keyLabel.mac;&quot;</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineminus">-                 &gt;</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineminus">-          &lt;!-- Mimic the search/clear buttons of the standard search textbox,</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineminus">-               but adjust for the reality that clear doesn't make much sense</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineminus">-               since gloda results only show in a tab and the idiom for closing</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineminus">-               tabs is closing the tab.  Our binding does process escape to</span>
<a href="#l7.55"></a><span id="l7.55" class="difflineminus">-               clear the box, if people want to clear it that way...</span>
<a href="#l7.56"></a><span id="l7.56" class="difflineminus">-               --&gt;</span>
<a href="#l7.57"></a><span id="l7.57" class="difflineminus">-          &lt;hbox&gt;</span>
<a href="#l7.58"></a><span id="l7.58" class="difflineminus">-            &lt;image class=&quot;gloda-search-icon&quot;/&gt;</span>
<a href="#l7.59"></a><span id="l7.59" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l7.60"></a><span id="l7.60" class="difflineminus">-        &lt;/textbox&gt;</span>
<a href="#l7.61"></a><span id="l7.61" class="difflineminus">-    &lt;/toolbaritem&gt;</span>
<a href="#l7.62"></a><span id="l7.62" class="difflineminus">-</span>
<a href="#l7.63"></a><span id="l7.63" class="difflineminus">-    &lt;toolbarbutton id=&quot;button-compact&quot; class=&quot;toolbarbutton-1&quot;</span>
<a href="#l7.64"></a><span id="l7.64" class="difflineminus">-                   insertafter=&quot;button-mark&quot;</span>
<a href="#l7.65"></a><span id="l7.65" class="difflineminus">-                   label=&quot;&amp;compactButton.label;&quot;</span>
<a href="#l7.66"></a><span id="l7.66" class="difflineminus">-                   tooltiptext=&quot;&amp;compactButton.tooltip;&quot;</span>
<a href="#l7.67"></a><span id="l7.67" class="difflineminus">-                   oncommand=&quot;goDoCommand('button_compact');&quot;</span>
<a href="#l7.68"></a><span id="l7.68" class="difflineminus">-                   observes=&quot;button_compact&quot;/&gt;</span>
<a href="#l7.69"></a><span id="l7.69" class="difflineminus">-    &lt;toolbaritem id=&quot;folder-location-container&quot; insert-after=&quot;button-stop&quot;</span>
<a href="#l7.70"></a><span id="l7.70" class="difflineminus">-                 title=&quot;&amp;folderLocationToolbarItem.title;&quot;</span>
<a href="#l7.71"></a><span id="l7.71" class="difflineminus">-                 align=&quot;center&quot;</span>
<a href="#l7.72"></a><span id="l7.72" class="difflineminus">-                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l7.73"></a><span id="l7.73" class="difflineminus">-      &lt;menulist id=&quot;locationFolders&quot;</span>
<a href="#l7.74"></a><span id="l7.74" class="difflineminus">-                class=&quot;folderMenuItem&quot;</span>
<a href="#l7.75"></a><span id="l7.75" class="difflineminus">-                label=&quot;&amp;folderLocationToolbarItem.title;&quot;</span>
<a href="#l7.76"></a><span id="l7.76" class="difflineminus">-                context=&quot;folderPaneContext&quot;</span>
<a href="#l7.77"></a><span id="l7.77" class="difflineminus">-                maxwidth=&quot;300&quot;</span>
<a href="#l7.78"></a><span id="l7.78" class="difflineminus">-                crop=&quot;center&quot;&gt;</span>
<a href="#l7.79"></a><span id="l7.79" class="difflineminus">-        &lt;menupopup id=&quot;folderLocationPopup&quot;</span>
<a href="#l7.80"></a><span id="l7.80" class="difflineminus">-                   class=&quot;menulist-menupopup&quot;</span>
<a href="#l7.81"></a><span id="l7.81" class="difflineminus">-                   type=&quot;folder&quot;</span>
<a href="#l7.82"></a><span id="l7.82" class="difflineminus">-                   flex=&quot;1&quot;</span>
<a href="#l7.83"></a><span id="l7.83" class="difflineminus">-                   mode=&quot;notDeferred&quot;</span>
<a href="#l7.84"></a><span id="l7.84" class="difflineminus">-                   showFileHereLabel=&quot;true&quot;</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineminus">-                   oncommand=&quot;gFolderTreeView.selectFolder(event.target._folder, true);&quot;/&gt;</span>
<a href="#l7.86"></a><span id="l7.86" class="difflineminus">-      &lt;/menulist&gt;</span>
<a href="#l7.87"></a><span id="l7.87" class="difflineminus">-    &lt;/toolbaritem&gt;</span>
<a href="#l7.88"></a><span id="l7.88" class="difflineminus">-    &lt;toolbaritem id=&quot;mailviews-container&quot;</span>
<a href="#l7.89"></a><span id="l7.89" class="difflineminus">-                 title=&quot;&amp;mailViewsToolbarItem.title;&quot;</span>
<a href="#l7.90"></a><span id="l7.90" class="difflineminus">-                 align=&quot;center&quot;</span>
<a href="#l7.91"></a><span id="l7.91" class="difflineminus">-                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l7.92"></a><span id="l7.92" class="difflineminus">-      &lt;label id=&quot;viewPickerLabel&quot;</span>
<a href="#l7.93"></a><span id="l7.93" class="difflineminus">-             value=&quot;&amp;viewPicker.label;&quot;</span>
<a href="#l7.94"></a><span id="l7.94" class="difflineminus">-             control=&quot;viewPicker&quot;</span>
<a href="#l7.95"></a><span id="l7.95" class="difflineminus">-             accesskey=&quot;&amp;viewPicker.accesskey;&quot;/&gt;</span>
<a href="#l7.96"></a><span id="l7.96" class="difflineminus">-      &lt;menulist id=&quot;viewPicker&quot; oncommand=&quot;ViewChangeByMenuitem(event.target);&quot;&gt;</span>
<a href="#l7.97"></a><span id="l7.97" class="difflineminus">-        &lt;menupopup id=&quot;viewPickerPopup&quot;</span>
<a href="#l7.98"></a><span id="l7.98" class="difflineminus">-                   onpopupshowing=&quot;RefreshViewPopup(this);&quot;&gt;</span>
<a href="#l7.99"></a><span id="l7.99" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerAll&quot; value=&quot;0&quot;</span>
<a href="#l7.100"></a><span id="l7.100" class="difflineminus">-                    label=&quot;&amp;viewAll.label;&quot;</span>
<a href="#l7.101"></a><span id="l7.101" class="difflineminus">-                    type=&quot;radio&quot;/&gt;</span>
<a href="#l7.102"></a><span id="l7.102" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerUnread&quot; value=&quot;1&quot;</span>
<a href="#l7.103"></a><span id="l7.103" class="difflineminus">-                    label=&quot;&amp;viewUnread.label;&quot;</span>
<a href="#l7.104"></a><span id="l7.104" class="difflineminus">-                    type=&quot;radio&quot;/&gt;</span>
<a href="#l7.105"></a><span id="l7.105" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerNotDeleted&quot; value=&quot;3&quot;</span>
<a href="#l7.106"></a><span id="l7.106" class="difflineminus">-                    label=&quot;&amp;viewNotDeleted.label;&quot;</span>
<a href="#l7.107"></a><span id="l7.107" class="difflineminus">-                    type=&quot;radio&quot;/&gt;</span>
<a href="#l7.108"></a><span id="l7.108" class="difflineminus">-          &lt;menuseparator id=&quot;afterViewPickerUnreadSeparator&quot;/&gt;</span>
<a href="#l7.109"></a><span id="l7.109" class="difflineminus">-          &lt;menu id=&quot;viewPickerTags&quot; label=&quot;&amp;viewTags.label;&quot;&gt;</span>
<a href="#l7.110"></a><span id="l7.110" class="difflineminus">-            &lt;menupopup id=&quot;viewPickerTagsPopup&quot;</span>
<a href="#l7.111"></a><span id="l7.111" class="difflineminus">-                       class=&quot;menulist-menupopup&quot;</span>
<a href="#l7.112"></a><span id="l7.112" class="difflineminus">-                       onpopupshowing=&quot;RefreshTagsPopup(this, true);&quot;/&gt;</span>
<a href="#l7.113"></a><span id="l7.113" class="difflineminus">-          &lt;/menu&gt;</span>
<a href="#l7.114"></a><span id="l7.114" class="difflineminus">-          &lt;menu id=&quot;viewPickerCustomViews&quot; label=&quot;&amp;viewCustomViews.label;&quot;&gt;</span>
<a href="#l7.115"></a><span id="l7.115" class="difflineminus">-            &lt;menupopup id=&quot;viewPickerCustomViewsPopup&quot;</span>
<a href="#l7.116"></a><span id="l7.116" class="difflineminus">-                       class=&quot;menulist-menupopup&quot;</span>
<a href="#l7.117"></a><span id="l7.117" class="difflineminus">-                       onpopupshowing=&quot;RefreshCustomViewsPopup(this, true);&quot;/&gt;</span>
<a href="#l7.118"></a><span id="l7.118" class="difflineminus">-          &lt;/menu&gt;</span>
<a href="#l7.119"></a><span id="l7.119" class="difflineminus">-          &lt;menuseparator id=&quot;afterViewPickerCustomViewsSeparator&quot;/&gt;</span>
<a href="#l7.120"></a><span id="l7.120" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerVirtualFolder&quot;</span>
<a href="#l7.121"></a><span id="l7.121" class="difflineminus">-                    value=&quot;7&quot;</span>
<a href="#l7.122"></a><span id="l7.122" class="difflineminus">-                    label=&quot;&amp;viewVirtualFolder.label;&quot;/&gt;</span>
<a href="#l7.123"></a><span id="l7.123" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerCustomize&quot;</span>
<a href="#l7.124"></a><span id="l7.124" class="difflineminus">-                    value=&quot;8&quot;</span>
<a href="#l7.125"></a><span id="l7.125" class="difflineminus">-                    label=&quot;&amp;viewCustomizeView.label;&quot;/&gt;</span>
<a href="#l7.126"></a><span id="l7.126" class="difflineminus">-        &lt;/menupopup&gt;</span>
<a href="#l7.127"></a><span id="l7.127" class="difflineminus">-      &lt;/menulist&gt;</span>
<a href="#l7.128"></a><span id="l7.128" class="difflineminus">-    &lt;/toolbaritem&gt;</span>
<a href="#l7.129"></a><span id="l7.129" class="difflineminus">-</span>
<a href="#l7.130"></a><span id="l7.130" class="difflineminus">-  &lt;/toolbarpalette&gt;</span>
<a href="#l7.131"></a><span id="l7.131" class="difflineminus">-&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/base/content/folderDisplay.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/base/content/folderDisplay.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -2017,17 +2017,17 @@ FolderDisplayWidget.prototype = {</span>
<a href="#l8.4"></a><span id="l8.4">   /**</span>
<a href="#l8.5"></a><span id="l8.5">    * @return true if there is a selected message and it's an external message,</span>
<a href="#l8.6"></a><span id="l8.6">    *  meaning it is loaded from an .eml file on disk or is an rfc822 attachment</span>
<a href="#l8.7"></a><span id="l8.7">    *  on a message.</span>
<a href="#l8.8"></a><span id="l8.8">    */</span>
<a href="#l8.9"></a><span id="l8.9">   get selectedMessageIsExternal() {</span>
<a href="#l8.10"></a><span id="l8.10">     let message = this.selectedMessage;</span>
<a href="#l8.11"></a><span id="l8.11">     // Dummy messages currently lack a folder.  This is not a great heuristic.</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    // I have annotated msgHdrViewOverlay.js which provides the dummy header to</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    // I have annotated msgHdrView.js which provides the dummy header to</span>
<a href="#l8.14"></a><span id="l8.14">     //  express this implementation dependency.</span>
<a href="#l8.15"></a><span id="l8.15">     // (Currently, since external mails can only be opened in standalone windows</span>
<a href="#l8.16"></a><span id="l8.16">     //  which subclass us, we could always return false, and have the subclass</span>
<a href="#l8.17"></a><span id="l8.17">     //  return true using its own heuristics.  But since we are moving to a tab</span>
<a href="#l8.18"></a><span id="l8.18">     //  model more heavily, at some point the 3-pane will need this.)</span>
<a href="#l8.19"></a><span id="l8.19">     return Boolean(message &amp;&amp; !message.folder);</span>
<a href="#l8.20"></a><span id="l8.20">   },</span>
<a href="#l8.21"></a><span id="l8.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/base/content/hiddenWindow.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/base/content/hiddenWindow.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -2,26 +2,26 @@</span>
<a href="#l9.4"></a><span id="l9.4"> </span>
<a href="#l9.5"></a><span id="l9.5"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.6"></a><span id="l9.6"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.7"></a><span id="l9.7"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9"> #ifdef XP_MACOSX</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> &lt;!-- Overlays from messenger.xul.  --&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/utilityOverlay.xul&quot;?&gt;</span>
<a href="#l9.13"></a><span id="l9.13"> &lt;?xul-overlay href=&quot;chrome://messenger/content/mailWindowOverlay.xul&quot;?&gt;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/mailOverlay.xul&quot;?&gt;</span>
<a href="#l9.15"></a><span id="l9.15"> &lt;?xul-overlay href=&quot;chrome://communicator/content/charsetOverlay.xul&quot;?&gt;</span>
<a href="#l9.16"></a><span id="l9.16"> </span>
<a href="#l9.17"></a><span id="l9.17"> &lt;!DOCTYPE window [</span>
<a href="#l9.18"></a><span id="l9.18"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l9.19"></a><span id="l9.19"> %brandDTD;</span>
<a href="#l9.20"></a><span id="l9.20"> &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot; &gt;</span>
<a href="#l9.21"></a><span id="l9.21"> %messengerDTD;</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+&lt;!ENTITY % utilityDTD SYSTEM &quot;chrome://communicator/locale/utilityOverlay.dtd&quot;&gt;</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+%utilityDTD;</span>
<a href="#l9.24"></a><span id="l9.24"> ]&gt;</span>
<a href="#l9.25"></a><span id="l9.25"> </span>
<a href="#l9.26"></a><span id="l9.26"> &lt;window id=&quot;hidden-window&quot;</span>
<a href="#l9.27"></a><span id="l9.27">      xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>
<a href="#l9.28"></a><span id="l9.28">      xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l9.29"></a><span id="l9.29">      onload=&quot;hiddenWindowStartup();&quot;&gt;</span>
<a href="#l9.30"></a><span id="l9.30"> </span>
<a href="#l9.31"></a><span id="l9.31"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineat">@@ -37,17 +37,22 @@</span>
<a href="#l9.33"></a><span id="l9.33"> &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l9.34"></a><span id="l9.34">   &lt;stringbundle id=&quot;bundle_messenger&quot; src=&quot;chrome://messenger/locale/messenger.properties&quot;/&gt;</span>
<a href="#l9.35"></a><span id="l9.35">   &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l9.36"></a><span id="l9.36">   &lt;stringbundle id=&quot;bundle_search&quot; src=&quot;chrome://messenger/locale/search.properties&quot;/&gt;</span>
<a href="#l9.37"></a><span id="l9.37"> &lt;/stringbundleset&gt;</span>
<a href="#l9.38"></a><span id="l9.38"> </span>
<a href="#l9.39"></a><span id="l9.39">   &lt;!-- keys are appended from the overlay --&gt;</span>
<a href="#l9.40"></a><span id="l9.40"> &lt;keyset id=&quot;mailKeys&quot;&gt;</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineminus">-   &lt;keyset id=&quot;tasksKeys&quot;/&gt;</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+  &lt;keyset id=&quot;tasksKeys&quot;&gt;</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+    &lt;key id=&quot;key_newMessage&quot; key=&quot;&amp;newMessageCmd.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+         modifiers=&quot;accel,shift&quot;/&gt;</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+    &lt;key id=&quot;key_newMessage2&quot; key=&quot;&amp;newMessageCmd2.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineplus">+         modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineplus">+  &lt;/keyset&gt;</span>
<a href="#l9.48"></a><span id="l9.48"> &lt;/keyset&gt;</span>
<a href="#l9.49"></a><span id="l9.49"> </span>
<a href="#l9.50"></a><span id="l9.50"> &lt;commandset id=&quot;mailCommands&quot;&gt;</span>
<a href="#l9.51"></a><span id="l9.51">   &lt;commandset id=&quot;mailFileMenuItems&quot;/&gt;</span>
<a href="#l9.52"></a><span id="l9.52">   &lt;commandset id=&quot;mailViewMenuItems&quot;/&gt;</span>
<a href="#l9.53"></a><span id="l9.53">   &lt;commandset id=&quot;mailEditMenuItems&quot;/&gt;</span>
<a href="#l9.54"></a><span id="l9.54">   &lt;commandset id=&quot;mailEditContextMenuItems&quot;/&gt;</span>
<a href="#l9.55"></a><span id="l9.55">   &lt;commandset id=&quot;mailSearchMenuItems&quot;/&gt;</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineat">@@ -55,18 +60,21 @@</span>
<a href="#l9.57"></a><span id="l9.57">   &lt;commandset id=&quot;mailMessageMenuItems&quot;/&gt;</span>
<a href="#l9.58"></a><span id="l9.58">   &lt;commandset id=&quot;mailToolbarItems&quot;/&gt;</span>
<a href="#l9.59"></a><span id="l9.59">   &lt;commandset id=&quot;mailGetMsgMenuItems&quot;/&gt;</span>
<a href="#l9.60"></a><span id="l9.60">   &lt;commandset id=&quot;mailTagMenuItems&quot;/&gt;</span>
<a href="#l9.61"></a><span id="l9.61">   &lt;commandset id=&quot;mailMarkMenuItems&quot;/&gt;</span>
<a href="#l9.62"></a><span id="l9.62">   &lt;commandset id=&quot;mailToolsMenuItems&quot;/&gt;</span>
<a href="#l9.63"></a><span id="l9.63">   &lt;commandset id=&quot;globalEditMenuItems&quot;/&gt;</span>
<a href="#l9.64"></a><span id="l9.64">   &lt;commandset id=&quot;selectEditMenuItems&quot;/&gt;</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineminus">-  &lt;commandset id=&quot;clipboardEditMenuItems&quot;/&gt;</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineminus">-  &lt;commandset id=&quot;tasksCommands&quot;/&gt;</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineplus">+  &lt;commandset id=&quot;clipboardEditMenuItems&quot; commandupdater=&quot;true&quot; events=&quot;clipboard&quot; oncommandupdate=&quot;goUpdatePasteMenuItems()&quot;/&gt;</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineplus">+  &lt;commandset id=&quot;tasksCommands&quot;&gt;</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineplus">+    &lt;command id=&quot;cmd_newMessage&quot; oncommand=&quot;goOpenNewMessage();&quot;/&gt;</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineplus">+    &lt;command id=&quot;cmd_newCard&quot; oncommand=&quot;openNewCardDialog()&quot;/&gt;</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineplus">+  &lt;/commandset&gt;</span>
<a href="#l9.72"></a><span id="l9.72">   &lt;commandset id=&quot;macWindowMenuItems&quot;/&gt;</span>
<a href="#l9.73"></a><span id="l9.73"> &lt;/commandset&gt;</span>
<a href="#l9.74"></a><span id="l9.74"> </span>
<a href="#l9.75"></a><span id="l9.75">   &lt;!-- it's the whole mailWindowOverlay.xul menubar! hidden windows need to</span>
<a href="#l9.76"></a><span id="l9.76">        have a menubar for situations where they're the only window remaining</span>
<a href="#l9.77"></a><span id="l9.77">        on a platform that wants to leave the app running, like the Mac.</span>
<a href="#l9.78"></a><span id="l9.78">   --&gt;</span>
<a href="#l9.79"></a><span id="l9.79"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1">rename from mail/base/content/macMessengerOverlay.js</span>
<a href="#l10.2"></a><span id="l10.2">rename to mail/base/content/macMessengerMenu.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">deleted file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- a/mail/base/content/macMessengerOverlay.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ /dev/null</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -1,27 +0,0 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineminus">-</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineminus">-&lt;!DOCTYPE overlay [</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineminus">-  &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineminus">-  %brandDTD;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-  &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot; &gt;</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-  %messengerDTD;</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-]&gt;</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-&lt;overlay xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-          src=&quot;chrome://messenger/content/mailCore.js&quot; /&gt;</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineminus">-          src=&quot;chrome://messenger/content/macMessengerOverlay.js&quot;/&gt;</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-  &lt;popupset&gt;</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineminus">-    &lt;menupopup id=&quot;menu_mac_dockmenu&quot;&gt;</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineminus">-      &lt;menuitem label=&quot;&amp;writeNewMessageDock.label;&quot; id=&quot;tasksWriteNewMessage&quot;</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineminus">-                oncommand=&quot;writeNewMessageDock();&quot;/&gt;</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineminus">-      &lt;menuitem label=&quot;&amp;openAddressBookDock.label;&quot; id=&quot;tasksOpenAddressBook&quot;</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineminus">-                oncommand=&quot;openAddressBookDock();&quot;/&gt;</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineminus">-      &lt;menuitem label=&quot;&amp;dockOptions.label;&quot; id=&quot;tasksMenuDockOptions&quot;</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineminus">-                oncommand=&quot;openDockOptions();&quot;/&gt;</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineminus">-    &lt;/menupopup&gt;</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineminus">-  &lt;/popupset&gt;</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -6,23 +6,17 @@</span>
<a href="#l12.4"></a><span id="l12.4"> #ifdef XP_UNIX</span>
<a href="#l12.5"></a><span id="l12.5"> #ifndef XP_MACOSX</span>
<a href="#l12.6"></a><span id="l12.6"> #define XP_GNOME 1</span>
<a href="#l12.7"></a><span id="l12.7"> #endif</span>
<a href="#l12.8"></a><span id="l12.8"> #endif</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l12.11"></a><span id="l12.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgReadSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-&lt;!-- Overlaying utilityOverlay.xul here is a temporary band-aid for a</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-     hard-to-reproduce problem where File, Edit, and View menus disappear on</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-     Mac when certain add-ons are installed (bug 398702).  Work to find a</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-     better fix is ongoing.  Ultimately, utilityOverlay.xul wants to</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-     disappear from Thunderbird entirely (bug 359748). --&gt;</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/utilityOverlay.xul&quot;?&gt;</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/searchBox.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l12.20"></a><span id="l12.20"> </span>
<a href="#l12.21"></a><span id="l12.21"> &lt;?xul-overlay href=&quot;chrome://communicator/content/charsetOverlay.xul&quot;?&gt;</span>
<a href="#l12.22"></a><span id="l12.22"> &lt;?xul-overlay href=&quot;chrome://messenger/content/about-support/aboutSupportOverlay.xul&quot;?&gt;</span>
<a href="#l12.23"></a><span id="l12.23"> </span>
<a href="#l12.24"></a><span id="l12.24"> &lt;!DOCTYPE overlay [</span>
<a href="#l12.25"></a><span id="l12.25">   &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot;&gt;</span>
<a href="#l12.26"></a><span id="l12.26">   %messengerDTD;</span>
<a href="#l12.27"></a><span id="l12.27">   &lt;!ENTITY % msgViewPickerDTD SYSTEM &quot;chrome://messenger/locale/msgViewPickerOverlay.dtd&quot; &gt;</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineat">@@ -36,16 +30,20 @@</span>
<a href="#l12.29"></a><span id="l12.29">   &lt;!ENTITY % utilityDTD SYSTEM &quot;chrome://communicator/locale/utilityOverlay.dtd&quot;&gt;</span>
<a href="#l12.30"></a><span id="l12.30">   %utilityDTD;</span>
<a href="#l12.31"></a><span id="l12.31">   &lt;!ENTITY % charsetDTD SYSTEM &quot;chrome://global/locale/charsetMenu.dtd&quot;&gt;</span>
<a href="#l12.32"></a><span id="l12.32">   %charsetDTD;</span>
<a href="#l12.33"></a><span id="l12.33">   &lt;!ENTITY % viewZoomOverlayDTD SYSTEM &quot;chrome://messenger/locale/viewZoomOverlay.dtd&quot;&gt;</span>
<a href="#l12.34"></a><span id="l12.34">   %viewZoomOverlayDTD;</span>
<a href="#l12.35"></a><span id="l12.35">   &lt;!ENTITY % msgReadSMIMEDTD SYSTEM &quot;chrome://messenger-smime/locale/msgReadSMIMEOverlay.dtd&quot;&gt;</span>
<a href="#l12.36"></a><span id="l12.36">   %msgReadSMIMEDTD;</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineplus">+  &lt;!ENTITY % quickFilterBarDTD SYSTEM &quot;chrome://messenger/locale/quickFilterBar.dtd&quot;&gt;</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineplus">+  %quickFilterBarDTD;</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineplus">+  &lt;!ENTITY % msgViewPickerDTD SYSTEM &quot;chrome://messenger/locale/msgViewPickerOverlay.dtd&quot; &gt;</span>
<a href="#l12.40"></a><span id="l12.40" class="difflineplus">+  %msgViewPickerDTD;</span>
<a href="#l12.41"></a><span id="l12.41"> ]&gt;</span>
<a href="#l12.42"></a><span id="l12.42"> </span>
<a href="#l12.43"></a><span id="l12.43"> &lt;overlay  xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>
<a href="#l12.44"></a><span id="l12.44">           xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l12.45"></a><span id="l12.45"> </span>
<a href="#l12.46"></a><span id="l12.46"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailCommands.js&quot;/&gt;</span>
<a href="#l12.47"></a><span id="l12.47"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/junkCommands.js&quot;/&gt;</span>
<a href="#l12.48"></a><span id="l12.48"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailWindowOverlay.js&quot;/&gt;</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineat">@@ -55,35 +53,29 @@</span>
<a href="#l12.50"></a><span id="l12.50"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger-newsblog/content/newsblogOverlay.js&quot;/&gt;</span>
<a href="#l12.51"></a><span id="l12.51"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mail-offline.js&quot;/&gt;</span>
<a href="#l12.52"></a><span id="l12.52"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/printUtils.js&quot;/&gt;</span>
<a href="#l12.53"></a><span id="l12.53"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgViewPickerOverlay.js&quot;/&gt;</span>
<a href="#l12.54"></a><span id="l12.54"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/plugins.js&quot;/&gt;</span>
<a href="#l12.55"></a><span id="l12.55"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/viewZoomOverlay.js&quot;/&gt;</span>
<a href="#l12.56"></a><span id="l12.56"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/utilityOverlay.js&quot;/&gt;</span>
<a href="#l12.57"></a><span id="l12.57"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailCore.js&quot;/&gt;</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/quickFilterBar.js&quot;/&gt;</span>
<a href="#l12.59"></a><span id="l12.59"> #ifdef XP_MACOSX</span>
<a href="#l12.60"></a><span id="l12.60"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/macWindowMenu.js&quot;/&gt;</span>
<a href="#l12.61"></a><span id="l12.61"> #endif</span>
<a href="#l12.62"></a><span id="l12.62"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/newmailaccount/uriListener.js&quot;/&gt;</span>
<a href="#l12.63"></a><span id="l12.63"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger-smime/content/msgReadSMIMEOverlay.js&quot;/&gt;</span>
<a href="#l12.64"></a><span id="l12.64"> </span>
<a href="#l12.65"></a><span id="l12.65"> &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l12.66"></a><span id="l12.66">   &lt;stringbundle id=&quot;brand_bundle&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l12.67"></a><span id="l12.67">   &lt;stringbundle id=&quot;bundle_messenger&quot; src=&quot;chrome://messenger/locale/messenger.properties&quot;/&gt;</span>
<a href="#l12.68"></a><span id="l12.68">   &lt;stringbundle id=&quot;bundle_offlinePrompts&quot; src=&quot;chrome://messenger/locale/offline.properties&quot;/&gt;</span>
<a href="#l12.69"></a><span id="l12.69"> &lt;/stringbundleset&gt;</span>
<a href="#l12.70"></a><span id="l12.70"> </span>
<a href="#l12.71"></a><span id="l12.71" class="difflineminus">-&lt;!-- Performance optimization...we include utilityOverlay.xul which defines some command sets</span>
<a href="#l12.72"></a><span id="l12.72" class="difflineminus">-     which are updated based on events like focus and select. We have our own custom events</span>
<a href="#l12.73"></a><span id="l12.73" class="difflineminus">-     which we use to optimize when we do command updating. To avoid unnecessary command updating,</span>
<a href="#l12.74"></a><span id="l12.74" class="difflineminus">-     we are going to override the events the global edit menu items and select edit menu items</span>
<a href="#l12.75"></a><span id="l12.75" class="difflineminus">-     are updated on with events of our own controlling.</span>
<a href="#l12.76"></a><span id="l12.76" class="difflineminus">- --&gt;</span>
<a href="#l12.77"></a><span id="l12.77" class="difflineminus">-</span>
<a href="#l12.78"></a><span id="l12.78"> &lt;commandset id=&quot;globalEditMenuItems&quot;</span>
<a href="#l12.79"></a><span id="l12.79">             commandupdater=&quot;true&quot;</span>
<a href="#l12.80"></a><span id="l12.80">             events=&quot;create-menu-edit&quot;</span>
<a href="#l12.81"></a><span id="l12.81">             oncommandupdate=&quot;goUpdateGlobalEditMenuItems()&quot;/&gt;</span>
<a href="#l12.82"></a><span id="l12.82"> &lt;commandset id=&quot;selectEditMenuItems&quot;</span>
<a href="#l12.83"></a><span id="l12.83">             commandupdater=&quot;true&quot;</span>
<a href="#l12.84"></a><span id="l12.84">             events=&quot;create-menu-edit&quot;</span>
<a href="#l12.85"></a><span id="l12.85">             oncommandupdate=&quot;goUpdateSelectEditMenuItems()&quot;/&gt;</span>
<a href="#l12.86"></a><span id="l12.86" class="difflineat">@@ -114,29 +106,35 @@</span>
<a href="#l12.87"></a><span id="l12.87">     &lt;command id=&quot;cmd_subscribe&quot; oncommand=&quot;goDoCommand('cmd_subscribe')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.88"></a><span id="l12.88">     &lt;command id=&quot;cmd_synchronizeOffline&quot; oncommand=&quot;goDoCommand('cmd_synchronizeOffline')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.89"></a><span id="l12.89">     &lt;command id=&quot;cmd_downloadFlagged&quot; oncommand=&quot;goDoCommand('cmd_downloadFlagged')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.90"></a><span id="l12.90">     &lt;command id=&quot;cmd_downloadSelected&quot; oncommand=&quot;goDoCommand('cmd_downloadSelected')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.91"></a><span id="l12.91">     &lt;command id=&quot;cmd_settingsOffline&quot; oncommand=&quot;goDoCommand('cmd_settingsOffline')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.92"></a><span id="l12.92"> &lt;/commandset&gt;</span>
<a href="#l12.93"></a><span id="l12.93"> </span>
<a href="#l12.94"></a><span id="l12.94"> &lt;commandset id=&quot;mailCommands&quot;&gt;</span>
<a href="#l12.95"></a><span id="l12.95" class="difflineminus">-  &lt;command id=&quot;cmd_quit&quot;/&gt;</span>
<a href="#l12.96"></a><span id="l12.96" class="difflineplus">+  &lt;command id=&quot;cmd_quit&quot; oncommand=&quot;goQuitApplication()&quot;/&gt;</span>
<a href="#l12.97"></a><span id="l12.97">   &lt;!--The cmd_createFilterFromPopup is used to notify the email context popup --&gt;</span>
<a href="#l12.98"></a><span id="l12.98">   &lt;command id=&quot;cmd_createFilterFromPopup&quot;/&gt;</span>
<a href="#l12.99"></a><span id="l12.99">   &lt;command id=&quot;cmd_pageSetup&quot;/&gt;</span>
<a href="#l12.100"></a><span id="l12.100">   &lt;command id=&quot;cmd_CustomizeMailToolbar&quot;</span>
<a href="#l12.101"></a><span id="l12.101">            oncommand=&quot;CustomizeMailToolbar('mail-toolbox', 'CustomizeMailToolbar')&quot;/&gt;</span>
<a href="#l12.102"></a><span id="l12.102"> &lt;/commandset&gt;</span>
<a href="#l12.103"></a><span id="l12.103"> </span>
<a href="#l12.104"></a><span id="l12.104"> &lt;commandset id=&quot;mailViewMenuItems&quot;</span>
<a href="#l12.105"></a><span id="l12.105">             commandupdater=&quot;true&quot;</span>
<a href="#l12.106"></a><span id="l12.106">             events=&quot;create-menu-view&quot;</span>
<a href="#l12.107"></a><span id="l12.107">             oncommandupdate=&quot;goUpdateMailMenuItems(this)&quot;&gt;</span>
<a href="#l12.108"></a><span id="l12.108"> </span>
<a href="#l12.109"></a><span id="l12.109" class="difflineplus">+   &lt;command id=&quot;cmd_showQuickFilterBar&quot;</span>
<a href="#l12.110"></a><span id="l12.110" class="difflineplus">+            oncommand=&quot;goDoCommand('cmd_showQuickFilterBar');&quot;/&gt;</span>
<a href="#l12.111"></a><span id="l12.111" class="difflineplus">+   &lt;command id=&quot;cmd_toggleQuickFilterBar&quot;</span>
<a href="#l12.112"></a><span id="l12.112" class="difflineplus">+            oncommand=&quot;goDoCommand('cmd_toggleQuickFilterBar');&quot;/&gt;</span>
<a href="#l12.113"></a><span id="l12.113" class="difflineplus">+   &lt;command id=&quot;cmd_popQuickFilterBarStack&quot;</span>
<a href="#l12.114"></a><span id="l12.114" class="difflineplus">+            oncommand=&quot;goDoCommand('cmd_popQuickFilterBarStack');&quot;/&gt;</span>
<a href="#l12.115"></a><span id="l12.115">    &lt;command id=&quot;cmd_viewPageSource&quot; oncommand=&quot;goDoCommand('cmd_viewPageSource')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.116"></a><span id="l12.116">    &lt;command id=&quot;cmd_setFolderCharset&quot; oncommand=&quot;goDoCommand('cmd_setFolderCharset')&quot; /&gt;</span>
<a href="#l12.117"></a><span id="l12.117"> </span>
<a href="#l12.118"></a><span id="l12.118">    &lt;command id=&quot;cmd_expandAllThreads&quot; oncommand=&quot;goDoCommand('cmd_expandAllThreads')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.119"></a><span id="l12.119">    &lt;command id=&quot;cmd_collapseAllThreads&quot; oncommand=&quot;goDoCommand('cmd_collapseAllThreads')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.120"></a><span id="l12.120">    &lt;command id=&quot;cmd_viewClassicMailLayout&quot; oncommand=&quot;goDoCommand('cmd_viewClassicMailLayout')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.121"></a><span id="l12.121">    &lt;command id=&quot;cmd_viewWideMailLayout&quot; oncommand=&quot;goDoCommand('cmd_viewWideMailLayout')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.122"></a><span id="l12.122">    &lt;command id=&quot;cmd_viewVerticalMailLayout&quot; oncommand=&quot;goDoCommand('cmd_viewVerticalMailLayout')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.123"></a><span id="l12.123" class="difflineat">@@ -179,34 +177,46 @@</span>
<a href="#l12.124"></a><span id="l12.124">          valueUnmarkAllMsgs=&quot;&amp;undoMarkAllCmd.label;&quot;</span>
<a href="#l12.125"></a><span id="l12.125">          valueDefault=&quot;&amp;undoDefaultCmd.label;&quot;/&gt;</span>
<a href="#l12.126"></a><span id="l12.126">   &lt;command id=&quot;cmd_redo&quot;</span>
<a href="#l12.127"></a><span id="l12.127">          valueDeleteMsg=&quot;&amp;redoDeleteMsgCmd.label;&quot;</span>
<a href="#l12.128"></a><span id="l12.128">          valueMoveMsg=&quot;&amp;redoMoveMsgCmd.label;&quot;</span>
<a href="#l12.129"></a><span id="l12.129">          valueCopyMsg=&quot;&amp;redoCopyMsgCmd.label;&quot;</span>
<a href="#l12.130"></a><span id="l12.130">          valueUnmarkAllMsgs=&quot;&amp;redoMarkAllCmd.label;&quot;</span>
<a href="#l12.131"></a><span id="l12.131">          valueDefault=&quot;&amp;redoDefaultCmd.label;&quot;/&gt;</span>
<a href="#l12.132"></a><span id="l12.132" class="difflineminus">-  &lt;command id=&quot;cmd_cut&quot;/&gt;</span>
<a href="#l12.133"></a><span id="l12.133" class="difflineminus">-  &lt;command id=&quot;cmd_copy&quot;/&gt;</span>
<a href="#l12.134"></a><span id="l12.134" class="difflineminus">-  &lt;command id=&quot;cmd_paste&quot;/&gt;</span>
<a href="#l12.135"></a><span id="l12.135" class="difflineplus">+  &lt;command id=&quot;cmd_cut&quot;</span>
<a href="#l12.136"></a><span id="l12.136" class="difflineplus">+         oncommand=&quot;goDoCommand('cmd_cut')&quot;</span>
<a href="#l12.137"></a><span id="l12.137" class="difflineplus">+         disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.138"></a><span id="l12.138" class="difflineplus">+  &lt;command id=&quot;cmd_copy&quot;</span>
<a href="#l12.139"></a><span id="l12.139" class="difflineplus">+         oncommand=&quot;goDoCommand('cmd_copy')&quot;</span>
<a href="#l12.140"></a><span id="l12.140" class="difflineplus">+         disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.141"></a><span id="l12.141" class="difflineplus">+  &lt;command id=&quot;cmd_paste&quot;</span>
<a href="#l12.142"></a><span id="l12.142" class="difflineplus">+         oncommand=&quot;goDoCommand('cmd_paste')&quot;</span>
<a href="#l12.143"></a><span id="l12.143" class="difflineplus">+         disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.144"></a><span id="l12.144">   &lt;command id=&quot;cmd_delete&quot;</span>
<a href="#l12.145"></a><span id="l12.145" class="difflineplus">+         valueDefault=&quot;&amp;deleteCmd.label;&quot;</span>
<a href="#l12.146"></a><span id="l12.146" class="difflineplus">+         valueDefaultAccessKey=&quot;&amp;deleteCmd.accesskey;&quot;</span>
<a href="#l12.147"></a><span id="l12.147">          valueFolder=&quot;&amp;deleteFolderCmd.label;&quot;</span>
<a href="#l12.148"></a><span id="l12.148">          valueFolderAccessKey=&quot;&amp;deleteFolderCmd.accesskey;&quot;</span>
<a href="#l12.149"></a><span id="l12.149">          valueNewsgroup=&quot;&amp;unsubscribeNewsgroupCmd.label;&quot;</span>
<a href="#l12.150"></a><span id="l12.150">          valueNewsgroupAccessKey=&quot;&amp;unsubscribeNewsgroupCmd.accesskey;&quot;</span>
<a href="#l12.151"></a><span id="l12.151">          valueMessage=&quot;&amp;deleteMsgCmd.label;&quot;</span>
<a href="#l12.152"></a><span id="l12.152">          valueMessageAccessKey=&quot;&amp;deleteMsgCmd.accesskey;&quot;</span>
<a href="#l12.153"></a><span id="l12.153">          valueIMAPDeletedMessage=&quot;&amp;undeleteMsgCmd.label;&quot;</span>
<a href="#l12.154"></a><span id="l12.154">          valueIMAPDeletedMessageAccessKey=&quot;&amp;undeleteMsgCmd.accesskey;&quot;</span>
<a href="#l12.155"></a><span id="l12.155">          valueMessages=&quot;&amp;deleteMsgsCmd.label;&quot;</span>
<a href="#l12.156"></a><span id="l12.156">          valueMessagesAccessKey=&quot;&amp;deleteMsgsCmd.accesskey;&quot;</span>
<a href="#l12.157"></a><span id="l12.157">          valueIMAPDeletedMessages=&quot;&amp;undeleteMsgsCmd.label;&quot;</span>
<a href="#l12.158"></a><span id="l12.158" class="difflineminus">-         valueIMAPDeletedMessagesAccessKey=&quot;&amp;undeleteMsgsCmd.accesskey;&quot;/&gt;</span>
<a href="#l12.159"></a><span id="l12.159" class="difflineplus">+         valueIMAPDeletedMessagesAccessKey=&quot;&amp;undeleteMsgsCmd.accesskey;&quot;</span>
<a href="#l12.160"></a><span id="l12.160" class="difflineplus">+         oncommand=&quot;goDoCommand('cmd_delete')&quot;</span>
<a href="#l12.161"></a><span id="l12.161" class="difflineplus">+         disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.162"></a><span id="l12.162">   &lt;command id=&quot;cmd_cancel&quot; oncommand=&quot;goDoCommand('cmd_cancel')&quot;/&gt;</span>
<a href="#l12.163"></a><span id="l12.163" class="difflineminus">-  &lt;command id=&quot;cmd_selectAll&quot;/&gt;</span>
<a href="#l12.164"></a><span id="l12.164" class="difflineplus">+  &lt;command id=&quot;cmd_selectAll&quot;</span>
<a href="#l12.165"></a><span id="l12.165" class="difflineplus">+         oncommand=&quot;goDoCommand('cmd_selectAll')&quot;</span>
<a href="#l12.166"></a><span id="l12.166" class="difflineplus">+         disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.167"></a><span id="l12.167">   &lt;command id=&quot;cmd_selectThread&quot; oncommand=&quot;goDoCommand('cmd_selectThread')&quot;/&gt;</span>
<a href="#l12.168"></a><span id="l12.168">   &lt;command id=&quot;cmd_selectFlagged&quot; oncommand=&quot;goDoCommand('cmd_selectFlagged')&quot;/&gt;</span>
<a href="#l12.169"></a><span id="l12.169">   &lt;command id=&quot;cmd_properties&quot; oncommand=&quot;goDoCommand('cmd_properties')&quot;</span>
<a href="#l12.170"></a><span id="l12.170">          valueNewsgroup=&quot;&amp;folderPropsNewsgroupCmd2.label;&quot;</span>
<a href="#l12.171"></a><span id="l12.171">          valueFolder=&quot;&amp;folderPropsFolderCmd2.label;&quot;</span>
<a href="#l12.172"></a><span id="l12.172">          valueGeneric=&quot;&amp;folderPropsCmd2.label;&quot;/&gt;</span>
<a href="#l12.173"></a><span id="l12.173">   &lt;command id=&quot;cmd_find&quot; oncommand=&quot;goDoCommand('cmd_find')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.174"></a><span id="l12.174">   &lt;command id=&quot;cmd_findAgain&quot; oncommand=&quot;goDoCommand('cmd_findAgain')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.175"></a><span id="l12.175" class="difflineat">@@ -214,18 +224,18 @@</span>
<a href="#l12.176"></a><span id="l12.176">            disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.177"></a><span id="l12.177">   &lt;command id=&quot;cmd_search&quot; oncommand=&quot;goDoCommand('cmd_search')&quot;/&gt;</span>
<a href="#l12.178"></a><span id="l12.178">   &lt;!-- Stop/abort current network activities. --&gt;</span>
<a href="#l12.179"></a><span id="l12.179">   &lt;command id=&quot;cmd_stop&quot; oncommand=&quot;goDoCommand('cmd_stop')&quot;/&gt;</span>
<a href="#l12.180"></a><span id="l12.180">   &lt;command id=&quot;cmd_reload&quot; oncommand=&quot;goDoCommand('cmd_reload')&quot;/&gt;</span>
<a href="#l12.181"></a><span id="l12.181"> &lt;/commandset&gt;</span>
<a href="#l12.182"></a><span id="l12.182"> </span>
<a href="#l12.183"></a><span id="l12.183"> &lt;commandset id=&quot;mailEditContextMenuItems&quot;&gt;</span>
<a href="#l12.184"></a><span id="l12.184" class="difflineminus">-  &lt;command id=&quot;cmd_copyLink&quot;/&gt;</span>
<a href="#l12.185"></a><span id="l12.185" class="difflineminus">-  &lt;command id=&quot;cmd_copyImage&quot;/&gt;</span>
<a href="#l12.186"></a><span id="l12.186" class="difflineplus">+  &lt;command id=&quot;cmd_copyLink&quot; oncommand=&quot;goDoCommand('cmd_copyLink')&quot; disabled=&quot;false&quot;/&gt;</span>
<a href="#l12.187"></a><span id="l12.187" class="difflineplus">+  &lt;command id=&quot;cmd_copyImage&quot; oncommand=&quot;goCopyImage()&quot; disabled=&quot;false&quot;/&gt;</span>
<a href="#l12.188"></a><span id="l12.188"> &lt;/commandset&gt;</span>
<a href="#l12.189"></a><span id="l12.189"> </span>
<a href="#l12.190"></a><span id="l12.190"> &lt;commandset id=&quot;mailGoMenuItems&quot;</span>
<a href="#l12.191"></a><span id="l12.191">             commandupdater=&quot;true&quot;</span>
<a href="#l12.192"></a><span id="l12.192">             events=&quot;create-menu-go&quot;</span>
<a href="#l12.193"></a><span id="l12.193">             oncommandupdate=&quot;goUpdateMailMenuItems(this)&quot;&gt;</span>
<a href="#l12.194"></a><span id="l12.194"> </span>
<a href="#l12.195"></a><span id="l12.195">   &lt;command id=&quot;cmd_nextMsg&quot; oncommand=&quot;goDoCommand('cmd_nextMsg')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l12.196"></a><span id="l12.196" class="difflineat">@@ -369,46 +379,51 @@</span>
<a href="#l12.197"></a><span id="l12.197">   &lt;command id=&quot;Tasks:AddressBook&quot; oncommand=&quot;toAddressBook();&quot;/&gt;</span>
<a href="#l12.198"></a><span id="l12.198"> &lt;/commandset&gt;</span>
<a href="#l12.199"></a><span id="l12.199"> #endif</span>
<a href="#l12.200"></a><span id="l12.200"> </span>
<a href="#l12.201"></a><span id="l12.201"> &lt;keyset id=&quot;mailKeys&quot;&gt;</span>
<a href="#l12.202"></a><span id="l12.202">   &lt;key id=&quot;space&quot; key=&quot; &quot; modifiers=&quot;shift any&quot; oncommand=&quot;SpaceHit(event);&quot;/&gt;</span>
<a href="#l12.203"></a><span id="l12.203"> </span>
<a href="#l12.204"></a><span id="l12.204">   &lt;!-- File Menu --&gt;</span>
<a href="#l12.205"></a><span id="l12.205" class="difflineminus">-  &lt;key id=&quot;key_close&quot;/&gt;</span>
<a href="#l12.206"></a><span id="l12.206" class="difflineplus">+  &lt;key id=&quot;key_close&quot; key=&quot;&amp;closeCmd.key;&quot; command=&quot;cmd_close&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l12.207"></a><span id="l12.207"> #ifndef XP_MACOSX</span>
<a href="#l12.208"></a><span id="l12.208">   &lt;key id=&quot;key_close2&quot; keycode=&quot;VK_F4&quot; modifiers=&quot;accel&quot; command=&quot;cmd_close&quot;/&gt;</span>
<a href="#l12.209"></a><span id="l12.209">   &lt;key id=&quot;key_renameFolder&quot; keycode=&quot;&amp;renameFolder.key;&quot; oncommand=&quot;goDoCommand('cmd_renameFolder')&quot;/&gt;</span>
<a href="#l12.210"></a><span id="l12.210"> #endif</span>
<a href="#l12.211"></a><span id="l12.211"> #ifdef XP_UNIX</span>
<a href="#l12.212"></a><span id="l12.212" class="difflineminus">-  &lt;key id=&quot;key_quit&quot;/&gt;</span>
<a href="#l12.213"></a><span id="l12.213" class="difflineplus">+  &lt;key id=&quot;key_quit&quot; command=&quot;cmd_quit&quot; modifiers=&quot;accel&quot; key=&quot;&amp;quitApplicationCmd.key;&quot;/&gt;</span>
<a href="#l12.214"></a><span id="l12.214"> #endif</span>
<a href="#l12.215"></a><span id="l12.215">   &lt;!-- Edit Menu --&gt;</span>
<a href="#l12.216"></a><span id="l12.216" class="difflineminus">-  &lt;key id=&quot;key_undo&quot;/&gt;</span>
<a href="#l12.217"></a><span id="l12.217" class="difflineminus">-  &lt;key id=&quot;key_redo&quot;/&gt;</span>
<a href="#l12.218"></a><span id="l12.218" class="difflineminus">-  &lt;key id=&quot;key_cut&quot;/&gt;</span>
<a href="#l12.219"></a><span id="l12.219" class="difflineminus">-  &lt;key id=&quot;key_copy&quot;/&gt;</span>
<a href="#l12.220"></a><span id="l12.220" class="difflineminus">-  &lt;key id=&quot;key_paste&quot;/&gt;</span>
<a href="#l12.221"></a><span id="l12.221" class="difflineplus">+  &lt;key id=&quot;key_undo&quot; key=&quot;&amp;undoCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l12.222"></a><span id="l12.222" class="difflineplus">+  &lt;key id=&quot;key_redo&quot;</span>
<a href="#l12.223"></a><span id="l12.223" class="difflineplus">+#ifdef XP_UNIX</span>
<a href="#l12.224"></a><span id="l12.224" class="difflineplus">+       key=&quot;&amp;undoCmd.key;&quot; modifiers=&quot;shift, accel&quot;/&gt;</span>
<a href="#l12.225"></a><span id="l12.225" class="difflineplus">+#else</span>
<a href="#l12.226"></a><span id="l12.226" class="difflineplus">+       key=&quot;&amp;redoCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l12.227"></a><span id="l12.227" class="difflineplus">+#endif</span>
<a href="#l12.228"></a><span id="l12.228" class="difflineplus">+  &lt;key id=&quot;key_cut&quot; key=&quot;&amp;cutCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l12.229"></a><span id="l12.229" class="difflineplus">+  &lt;key id=&quot;key_copy&quot; key=&quot;&amp;copyCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l12.230"></a><span id="l12.230" class="difflineplus">+  &lt;key id=&quot;key_paste&quot; key=&quot;&amp;pasteCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l12.231"></a><span id="l12.231"> #ifdef XP_MACOSX</span>
<a href="#l12.232"></a><span id="l12.232">   &lt;key id=&quot;key_delete&quot; keycode=&quot;VK_BACK&quot;</span>
<a href="#l12.233"></a><span id="l12.233">        oncommand=&quot;goDoCommand('cmd_delete');&quot;/&gt;</span>
<a href="#l12.234"></a><span id="l12.234">   &lt;key id=&quot;key_delete2&quot; keycode=&quot;VK_DELETE&quot;</span>
<a href="#l12.235"></a><span id="l12.235">        oncommand=&quot;goDoCommand('cmd_delete');&quot;/&gt;</span>
<a href="#l12.236"></a><span id="l12.236">   &lt;key id=&quot;cmd_shiftDelete&quot; keycode=&quot;VK_BACK&quot;</span>
<a href="#l12.237"></a><span id="l12.237">        oncommand=&quot;goDoCommand('cmd_shiftDelete');&quot; modifiers=&quot;shift&quot;/&gt;</span>
<a href="#l12.238"></a><span id="l12.238">   &lt;key id=&quot;cmd_shiftDelete2&quot; keycode=&quot;VK_DELETE&quot;</span>
<a href="#l12.239"></a><span id="l12.239">        oncommand=&quot;goDoCommand('cmd_shiftDelete');&quot; modifiers=&quot;shift&quot;/&gt;</span>
<a href="#l12.240"></a><span id="l12.240"> #else</span>
<a href="#l12.241"></a><span id="l12.241">   &lt;key id=&quot;key_delete&quot; keycode=&quot;VK_DELETE&quot;</span>
<a href="#l12.242"></a><span id="l12.242">        oncommand=&quot;goDoCommand('cmd_delete');&quot;/&gt;</span>
<a href="#l12.243"></a><span id="l12.243">   &lt;key id=&quot;cmd_shiftDelete&quot; keycode=&quot;VK_DELETE&quot;</span>
<a href="#l12.244"></a><span id="l12.244">        oncommand=&quot;goDoCommand('cmd_shiftDelete');&quot; modifiers=&quot;shift&quot;/&gt;</span>
<a href="#l12.245"></a><span id="l12.245"> #endif</span>
<a href="#l12.246"></a><span id="l12.246" class="difflineminus">-  &lt;key id=&quot;key_selectAll&quot;/&gt;</span>
<a href="#l12.247"></a><span id="l12.247" class="difflineplus">+  &lt;key id=&quot;key_selectAll&quot; key=&quot;&amp;selectAllCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l12.248"></a><span id="l12.248">   &lt;key id=&quot;key_selectThread&quot; key=&quot;&amp;selectThreadCmd.key;&quot;             oncommand=&quot;goDoCommand('cmd_selectThread');&quot; modifiers=&quot;accel, shift&quot;/&gt;</span>
<a href="#l12.249"></a><span id="l12.249"> </span>
<a href="#l12.250"></a><span id="l12.250">   &lt;key id=&quot;key_toggleRead&quot; key=&quot;&amp;toggleReadCmd.key;&quot;                 oncommand=&quot;goDoCommand('cmd_toggleRead');&quot;/&gt;</span>
<a href="#l12.251"></a><span id="l12.251">   &lt;key id=&quot;key_toggleFlagged&quot; key=&quot;&amp;markStarredCmd.key;&quot;             oncommand=&quot;goDoCommand('cmd_markAsFlagged');&quot;/&gt;</span>
<a href="#l12.252"></a><span id="l12.252">   &lt;key id=&quot;key_markJunk&quot; key=&quot;&amp;markAsJunkCmd.key;&quot;                   oncommand=&quot;goDoCommand('cmd_markAsJunk');&quot;/&gt;</span>
<a href="#l12.253"></a><span id="l12.253">   &lt;key id=&quot;key_markNotJunk&quot; key=&quot;&amp;markAsNotJunkCmd.key;&quot;             oncommand=&quot;goDoCommand('cmd_markAsNotJunk');&quot;</span>
<a href="#l12.254"></a><span id="l12.254">        modifiers=&quot;shift&quot;/&gt;</span>
<a href="#l12.255"></a><span id="l12.255"> </span>
<a href="#l12.256"></a><span id="l12.256" class="difflineat">@@ -567,16 +582,21 @@</span>
<a href="#l12.257"></a><span id="l12.257">        key=&quot;&amp;addressBookCmd.key;&quot;</span>
<a href="#l12.258"></a><span id="l12.258">        modifiers=&quot;accel, shift&quot;</span>
<a href="#l12.259"></a><span id="l12.259">        oncommand=&quot;toAddressBook();&quot;/&gt;</span>
<a href="#l12.260"></a><span id="l12.260">   &lt;key id=&quot;key_savedFiles&quot;</span>
<a href="#l12.261"></a><span id="l12.261">        key=&quot;&amp;savedFiles.key;&quot;</span>
<a href="#l12.262"></a><span id="l12.262">        modifiers=&quot;accel&quot;</span>
<a href="#l12.263"></a><span id="l12.263">        oncommand=&quot;openSavedFilesWnd();&quot;/&gt;</span>
<a href="#l12.264"></a><span id="l12.264"> </span>
<a href="#l12.265"></a><span id="l12.265" class="difflineplus">+  &lt;key id=&quot;key_qfb_escape&quot; keycode=&quot;VK_ESCAPE&quot;</span>
<a href="#l12.266"></a><span id="l12.266" class="difflineplus">+       command=&quot;cmd_popQuickFilterBarStack&quot;/&gt;</span>
<a href="#l12.267"></a><span id="l12.267" class="difflineplus">+  &lt;key id=&quot;key_qfb_show&quot; key=&quot;&amp;quickFilterBar.show.key2;&quot;</span>
<a href="#l12.268"></a><span id="l12.268" class="difflineplus">+       modifiers=&quot;accel,shift&quot;</span>
<a href="#l12.269"></a><span id="l12.269" class="difflineplus">+       command=&quot;cmd_showQuickFilterBar&quot;/&gt;</span>
<a href="#l12.270"></a><span id="l12.270"> #ifdef XP_GNOME</span>
<a href="#l12.271"></a><span id="l12.271"> #define NUM_SELECT_TAB_MODIFIER alt</span>
<a href="#l12.272"></a><span id="l12.272"> #else</span>
<a href="#l12.273"></a><span id="l12.273"> #define NUM_SELECT_TAB_MODIFIER accel</span>
<a href="#l12.274"></a><span id="l12.274"> #endif</span>
<a href="#l12.275"></a><span id="l12.275"> </span>
<a href="#l12.276"></a><span id="l12.276"> #expand    &lt;key id=&quot;key_mail&quot; oncommand=&quot;focusOnMail(0, event);&quot; key=&quot;1&quot; modifiers=&quot;__NUM_SELECT_TAB_MODIFIER__&quot;/&gt;</span>
<a href="#l12.277"></a><span id="l12.277"> #expand    &lt;key id=&quot;key_selectTab2&quot; oncommand=&quot;focusOnMail(1, event);&quot; key=&quot;2&quot; modifiers=&quot;__NUM_SELECT_TAB_MODIFIER__&quot;/&gt;</span>
<a href="#l12.278"></a><span id="l12.278" class="difflineat">@@ -1384,16 +1404,23 @@</span>
<a href="#l12.279"></a><span id="l12.279"> #else</span>
<a href="#l12.280"></a><span id="l12.280">                       label=&quot;&amp;preferencesCmdUnix.label;&quot;</span>
<a href="#l12.281"></a><span id="l12.281"> #endif</span>
<a href="#l12.282"></a><span id="l12.282">                       oncommand=&quot;openOptionsDialog();&quot;/&gt;</span>
<a href="#l12.283"></a><span id="l12.283">             &lt;menuitem id=&quot;appmenu_accountmgr&quot;</span>
<a href="#l12.284"></a><span id="l12.284">                       label=&quot;&amp;accountManagerCmd2.label;&quot;</span>
<a href="#l12.285"></a><span id="l12.285">                       oncommand=&quot;MsgAccountManager(null);&quot;/&gt;</span>
<a href="#l12.286"></a><span id="l12.286">             &lt;menuseparator/&gt;</span>
<a href="#l12.287"></a><span id="l12.287" class="difflineplus">+            &lt;menuitem id=&quot;appmenu_quickFilterBar&quot;</span>
<a href="#l12.288"></a><span id="l12.288" class="difflineplus">+                      type=&quot;checkbox&quot;</span>
<a href="#l12.289"></a><span id="l12.289" class="difflineplus">+                      label=&quot;&amp;quickFilterBar.toggleBarVisibility.appmenu.label;&quot;</span>
<a href="#l12.290"></a><span id="l12.290" class="difflineplus">+                      command=&quot;cmd_toggleQuickFilterBar&quot;&gt;</span>
<a href="#l12.291"></a><span id="l12.291" class="difflineplus">+              &lt;observes element=&quot;view_toolbars_popup_quickFilterBar&quot;</span>
<a href="#l12.292"></a><span id="l12.292" class="difflineplus">+                        attribute=&quot;checked&quot;/&gt;</span>
<a href="#l12.293"></a><span id="l12.293" class="difflineplus">+            &lt;/menuitem&gt;</span>
<a href="#l12.294"></a><span id="l12.294">             &lt;menuitem id=&quot;appmenu_showStatusbar&quot;</span>
<a href="#l12.295"></a><span id="l12.295">                       type=&quot;checkbox&quot;</span>
<a href="#l12.296"></a><span id="l12.296">                       label=&quot;&amp;showTaskbarCmd.label;&quot;</span>
<a href="#l12.297"></a><span id="l12.297">                       oncommand=&quot;goToggleToolbar('status-bar', 'menu_showTaskbar')&quot;</span>
<a href="#l12.298"></a><span id="l12.298">                       checked=&quot;true&quot;</span>
<a href="#l12.299"></a><span id="l12.299">                       observes=&quot;menu_showTaskbar&quot;/&gt;</span>
<a href="#l12.300"></a><span id="l12.300">             &lt;menuseparator id=&quot;appmenu_toggleToolbarsSeparator&quot;/&gt;</span>
<a href="#l12.301"></a><span id="l12.301">             &lt;menuitem id=&quot;appmenu_toolbarLayout&quot;</span>
<a href="#l12.302"></a><span id="l12.302" class="difflineat">@@ -2287,16 +2314,30 @@</span>
<a href="#l12.303"></a><span id="l12.303">                              document.popupNode.textContent :</span>
<a href="#l12.304"></a><span id="l12.304">                              window.getSelection().toString());&quot;/&gt;</span>
<a href="#l12.305"></a><span id="l12.305">     &lt;menuitem id=&quot;createFilterFromMenuItem&quot; label=&quot;&amp;CreateFilterFrom.label;&quot;</span>
<a href="#l12.306"></a><span id="l12.306">               accesskey=&quot;&amp;CreateFilterFrom.accesskey;&quot;</span>
<a href="#l12.307"></a><span id="l12.307">               oncommand=&quot;CreateFilter(this.parentNode.triggerNode.parentNode, gMessageDisplay.displayedMessage)&quot;</span>
<a href="#l12.308"></a><span id="l12.308">               observes=&quot;cmd_createFilterFromPopup&quot;/&gt;</span>
<a href="#l12.309"></a><span id="l12.309">   &lt;/menupopup&gt;</span>
<a href="#l12.310"></a><span id="l12.310"> </span>
<a href="#l12.311"></a><span id="l12.311" class="difflineplus">+  &lt;tooltip id=&quot;qfb-text-search-upsell&quot;</span>
<a href="#l12.312"></a><span id="l12.312" class="difflineplus">+           level=&quot;parent&quot;</span>
<a href="#l12.313"></a><span id="l12.313" class="difflineplus">+           style=&quot;background-color: #ffeeee;&quot;&gt;</span>
<a href="#l12.314"></a><span id="l12.314" class="difflineplus">+    &lt;vbox&gt;</span>
<a href="#l12.315"></a><span id="l12.315" class="difflineplus">+      &lt;label id=&quot;qfb-upsell-line-one&quot;</span>
<a href="#l12.316"></a><span id="l12.316" class="difflineplus">+             class=&quot;header&quot;</span>
<a href="#l12.317"></a><span id="l12.317" class="difflineplus">+             fmt=&quot;&amp;quickFilterBar.glodaUpsell.continueSearch;&quot;</span>
<a href="#l12.318"></a><span id="l12.318" class="difflineplus">+             value=&quot;&quot;/&gt;</span>
<a href="#l12.319"></a><span id="l12.319" class="difflineplus">+      &lt;label id=&quot;qfb-upsell-line-two&quot;</span>
<a href="#l12.320"></a><span id="l12.320" class="difflineplus">+             fmt=&quot;&amp;quickFilterBar.glodaUpsell.pressEnterAndCurrent;&quot;</span>
<a href="#l12.321"></a><span id="l12.321" class="difflineplus">+             value=&quot;&quot;/&gt;</span>
<a href="#l12.322"></a><span id="l12.322" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l12.323"></a><span id="l12.323" class="difflineplus">+  &lt;/tooltip&gt;</span>
<a href="#l12.324"></a><span id="l12.324" class="difflineplus">+</span>
<a href="#l12.325"></a><span id="l12.325"> &lt;/popupset&gt;</span>
<a href="#l12.326"></a><span id="l12.326"> </span>
<a href="#l12.327"></a><span id="l12.327"> &lt;!-- The reason we put the menubar inside a toolbox is due to the labelalign and</span>
<a href="#l12.328"></a><span id="l12.328">      defaultlabelalign attributes that the toolbars might expect from their</span>
<a href="#l12.329"></a><span id="l12.329">      parent toolboxes.  This lets us control how toolbar buttons appear in the</span>
<a href="#l12.330"></a><span id="l12.330">      toolbars by default.</span>
<a href="#l12.331"></a><span id="l12.331"> </span>
<a href="#l12.332"></a><span id="l12.332">      We also put the toolbars inside a toolbox named &quot;navigation-toolbox&quot; to</span>
<a href="#l12.333"></a><span id="l12.333" class="difflineat">@@ -2319,19 +2360,23 @@</span>
<a href="#l12.334"></a><span id="l12.334"> #endif</span>
<a href="#l12.335"></a><span id="l12.335">            context=&quot;toolbar-context-menu&quot;</span>
<a href="#l12.336"></a><span id="l12.336">            mode=&quot;icons&quot;</span>
<a href="#l12.337"></a><span id="l12.337">            insertbefore=&quot;tabs-toolbar&quot;</span>
<a href="#l12.338"></a><span id="l12.338">            prependmenuitem=&quot;true&quot;&gt;</span>
<a href="#l12.339"></a><span id="l12.339">     &lt;toolbaritem id=&quot;menubar-items&quot; align=&quot;center&quot;&gt;</span>
<a href="#l12.340"></a><span id="l12.340">       &lt;menubar id=&quot;mail-menubar&quot; style=&quot;border:0px;padding:0px;margin:0px;-moz-appearance:none&quot;&gt;</span>
<a href="#l12.341"></a><span id="l12.341">         &lt;!-- File --&gt;</span>
<a href="#l12.342"></a><span id="l12.342" class="difflineminus">-        &lt;menu id=&quot;menu_File&quot;&gt;</span>
<a href="#l12.343"></a><span id="l12.343" class="difflineplus">+        &lt;menu id=&quot;menu_File&quot;</span>
<a href="#l12.344"></a><span id="l12.344" class="difflineplus">+              label=&quot;&amp;fileMenu.label;&quot;</span>
<a href="#l12.345"></a><span id="l12.345" class="difflineplus">+              accesskey=&quot;&amp;fileMenu.accesskey;&quot;&gt;</span>
<a href="#l12.346"></a><span id="l12.346">           &lt;menupopup id=&quot;menu_FilePopup&quot; onpopupshowing=&quot;file_init();&quot;&gt;</span>
<a href="#l12.347"></a><span id="l12.347" class="difflineminus">-          &lt;menu id=&quot;menu_New&quot;&gt;</span>
<a href="#l12.348"></a><span id="l12.348" class="difflineplus">+          &lt;menu id=&quot;menu_New&quot;</span>
<a href="#l12.349"></a><span id="l12.349" class="difflineplus">+                label=&quot;&amp;newMenu.label;&quot;</span>
<a href="#l12.350"></a><span id="l12.350" class="difflineplus">+                accesskey=&quot;&amp;newMenu.accesskey;&quot;&gt;</span>
<a href="#l12.351"></a><span id="l12.351">             &lt;menupopup id=&quot;menu_NewPopup&quot; onpopupshowing=&quot;menu_new_init();&quot;&gt;</span>
<a href="#l12.352"></a><span id="l12.352">               &lt;menuitem id=&quot;menu_newNewMsgCmd&quot; label=&quot;&amp;newNewMsgCmd.label;&quot;</span>
<a href="#l12.353"></a><span id="l12.353">                         accesskey=&quot;&amp;newNewMsgCmd.accesskey;&quot;</span>
<a href="#l12.354"></a><span id="l12.354">                         key=&quot;key_newMessage2&quot;</span>
<a href="#l12.355"></a><span id="l12.355">                         command=&quot;cmd_newMessage&quot;/&gt;</span>
<a href="#l12.356"></a><span id="l12.356">               &lt;menuitem id=&quot;menu_newFolder&quot; label=&quot;&amp;newFolderCmd.label;&quot;</span>
<a href="#l12.357"></a><span id="l12.357">                         command=&quot;cmd_newFolder&quot;</span>
<a href="#l12.358"></a><span id="l12.358">                         accesskey=&quot;&amp;newFolderCmd.accesskey;&quot;/&gt;</span>
<a href="#l12.359"></a><span id="l12.359" class="difflineat">@@ -2355,27 +2400,34 @@</span>
<a href="#l12.360"></a><span id="l12.360">                         label=&quot;&amp;newFeedAccountCmd.label;&quot;</span>
<a href="#l12.361"></a><span id="l12.361">                         accesskey=&quot;&amp;newFeedAccountCmd.accesskey;&quot;</span>
<a href="#l12.362"></a><span id="l12.362">                         oncommand=&quot;AddFeedAccount();&quot;/&gt;</span>
<a href="#l12.363"></a><span id="l12.363">               &lt;menuitem id=&quot;newAccountMenuItem&quot;</span>
<a href="#l12.364"></a><span id="l12.364">                         label=&quot;&amp;newOtherAccountsCmd.label;&quot;</span>
<a href="#l12.365"></a><span id="l12.365">                         accesskey=&quot;&amp;newOtherAccountsCmd.accesskey;&quot;</span>
<a href="#l12.366"></a><span id="l12.366">                         oncommand=&quot;MsgAccountWizard();&quot;/&gt;</span>
<a href="#l12.367"></a><span id="l12.367">               &lt;menuseparator id=&quot;newPopupMenuSeparator&quot;/&gt;</span>
<a href="#l12.368"></a><span id="l12.368" class="difflineminus">-              &lt;menuitem id=&quot;menu_newCard&quot;/&gt;</span>
<a href="#l12.369"></a><span id="l12.369" class="difflineplus">+              &lt;menuitem id=&quot;menu_newCard&quot;</span>
<a href="#l12.370"></a><span id="l12.370" class="difflineplus">+                        label=&quot;&amp;newContactCmd.label;&quot;</span>
<a href="#l12.371"></a><span id="l12.371" class="difflineplus">+                        accesskey=&quot;&amp;newContactCmd.accesskey;&quot;</span>
<a href="#l12.372"></a><span id="l12.372" class="difflineplus">+                        command=&quot;cmd_newCard&quot;/&gt;</span>
<a href="#l12.373"></a><span id="l12.373">               &lt;menuitem id=&quot;newIMContactMenuItem&quot;</span>
<a href="#l12.374"></a><span id="l12.374">                         label=&quot;&amp;newIMContactCmd.label;&quot;</span>
<a href="#l12.375"></a><span id="l12.375">                         accesskey=&quot;&amp;newIMContactCmd.accesskey;&quot;</span>
<a href="#l12.376"></a><span id="l12.376">                         command=&quot;cmd_addChatBuddy&quot;/&gt;</span>
<a href="#l12.377"></a><span id="l12.377">             &lt;/menupopup&gt;</span>
<a href="#l12.378"></a><span id="l12.378">           &lt;/menu&gt;</span>
<a href="#l12.379"></a><span id="l12.379">           &lt;menuitem id=&quot;openMessageFileMenuitem&quot; label=&quot;&amp;openMessageFileCmd.label;&quot;</span>
<a href="#l12.380"></a><span id="l12.380">             accesskey=&quot;&amp;openMessageFileCmd.accesskey;&quot;</span>
<a href="#l12.381"></a><span id="l12.381">             oncommand=&quot;MsgOpenFromFile();&quot;/&gt;</span>
<a href="#l12.382"></a><span id="l12.382" class="difflineminus">-          &lt;menuitem id=&quot;menu_close&quot;/&gt;</span>
<a href="#l12.383"></a><span id="l12.383" class="difflineplus">+          &lt;menuitem id=&quot;menu_close&quot;</span>
<a href="#l12.384"></a><span id="l12.384" class="difflineplus">+                    label=&quot;&amp;closeCmd.label;&quot;</span>
<a href="#l12.385"></a><span id="l12.385" class="difflineplus">+                    key=&quot;key_close&quot;</span>
<a href="#l12.386"></a><span id="l12.386" class="difflineplus">+                    accesskey=&quot;&amp;closeCmd.accesskey;&quot;</span>
<a href="#l12.387"></a><span id="l12.387" class="difflineplus">+                    command=&quot;cmd_close&quot;/&gt;</span>
<a href="#l12.388"></a><span id="l12.388">           &lt;menuseparator id=&quot;fileMenuAfterCloseSeparator&quot;/&gt;</span>
<a href="#l12.389"></a><span id="l12.389">           &lt;menu id=&quot;menu_saveAs&quot; label=&quot;&amp;saveAsMenu.label;&quot; accesskey=&quot;&amp;saveAsMenu.accesskey;&quot;&gt;</span>
<a href="#l12.390"></a><span id="l12.390">             &lt;menupopup id=&quot;menu_SavePopup&quot;&gt;</span>
<a href="#l12.391"></a><span id="l12.391">               &lt;menuitem id=&quot;menu_saveAsFile&quot; label=&quot;&amp;saveAsFileCmd.label;&quot;</span>
<a href="#l12.392"></a><span id="l12.392">                accesskey=&quot;&amp;saveAsFileCmd.accesskey;&quot;</span>
<a href="#l12.393"></a><span id="l12.393">                key=&quot;key_saveAsFile&quot;</span>
<a href="#l12.394"></a><span id="l12.394">                command=&quot;cmd_saveAsFile&quot;/&gt;</span>
<a href="#l12.395"></a><span id="l12.395">               &lt;menuitem id=&quot;menu_saveAsTemplate&quot; label=&quot;&amp;saveAsTemplateCmd.label;&quot;</span>
<a href="#l12.396"></a><span id="l12.396" class="difflineat">@@ -2451,29 +2503,48 @@</span>
<a href="#l12.397"></a><span id="l12.397">             &lt;/menupopup&gt;</span>
<a href="#l12.398"></a><span id="l12.398">           &lt;/menu&gt;</span>
<a href="#l12.399"></a><span id="l12.399">           &lt;menuseparator id=&quot;fileMenuAfterOfflineSeparator&quot;/&gt;</span>
<a href="#l12.400"></a><span id="l12.400">           &lt;menuitem id=&quot;printSetupMenuItem&quot; label=&quot;&amp;printSetupCmd.label;&quot; accesskey=&quot;&amp;printSetupCmd.accesskey;&quot; command=&quot;cmd_printSetup&quot;/&gt;</span>
<a href="#l12.401"></a><span id="l12.401"> #ifndef XP_MACOSX</span>
<a href="#l12.402"></a><span id="l12.402">           &lt;menuitem id=&quot;printPreviewMenuItem&quot; label=&quot;&amp;printPreviewCmd.label;&quot; accesskey=&quot;&amp;printPreviewCmd.accesskey;&quot; command=&quot;cmd_printpreview&quot;/&gt;</span>
<a href="#l12.403"></a><span id="l12.403"> #endif</span>
<a href="#l12.404"></a><span id="l12.404">           &lt;menuitem id=&quot;printMenuItem&quot; key=&quot;key_print&quot; label=&quot;&amp;printCmd.label;&quot; accesskey=&quot;&amp;printCmd.accesskey;&quot; command=&quot;cmd_print&quot;/&gt;</span>
<a href="#l12.405"></a><span id="l12.405" class="difflineplus">+          &lt;menuseparator id=&quot;menu_FileQuitSeparator&quot;/&gt;</span>
<a href="#l12.406"></a><span id="l12.406" class="difflineplus">+          &lt;menuitem id=&quot;menu_FileQuitItem&quot;</span>
<a href="#l12.407"></a><span id="l12.407" class="difflineplus">+#ifdef XP_UNIX</span>
<a href="#l12.408"></a><span id="l12.408" class="difflineplus">+                    key=&quot;key_quit&quot;</span>
<a href="#l12.409"></a><span id="l12.409" class="difflineplus">+#ifndef XP_MACOSX</span>
<a href="#l12.410"></a><span id="l12.410" class="difflineplus">+                    label=&quot;&amp;quitApplicationCmdUnix.label;&quot;</span>
<a href="#l12.411"></a><span id="l12.411" class="difflineplus">+                    accesskey=&quot;&amp;quitApplicationCmdUnix.accesskey;&quot;</span>
<a href="#l12.412"></a><span id="l12.412" class="difflineplus">+#else</span>
<a href="#l12.413"></a><span id="l12.413" class="difflineplus">+                    label=&quot;&amp;quitApplicationCmdMac.label;&quot;</span>
<a href="#l12.414"></a><span id="l12.414" class="difflineplus">+                    accesskey=&quot;&amp;quitApplicationCmdMac.accesskey;&quot;</span>
<a href="#l12.415"></a><span id="l12.415" class="difflineplus">+#endif</span>
<a href="#l12.416"></a><span id="l12.416" class="difflineplus">+#else</span>
<a href="#l12.417"></a><span id="l12.417" class="difflineplus">+                    label=&quot;&amp;quitApplicationCmd.label;&quot;</span>
<a href="#l12.418"></a><span id="l12.418" class="difflineplus">+                    accesskey=&quot;&amp;quitApplicationCmd.accesskey;&quot;</span>
<a href="#l12.419"></a><span id="l12.419" class="difflineplus">+#endif</span>
<a href="#l12.420"></a><span id="l12.420" class="difflineplus">+                    command=&quot;cmd_quit&quot;/&gt;</span>
<a href="#l12.421"></a><span id="l12.421">         &lt;/menupopup&gt;</span>
<a href="#l12.422"></a><span id="l12.422">       &lt;/menu&gt;</span>
<a href="#l12.423"></a><span id="l12.423"> </span>
<a href="#l12.424"></a><span id="l12.424">     &lt;!-- Edit --&gt;</span>
<a href="#l12.425"></a><span id="l12.425" class="difflineminus">-    &lt;menu id=&quot;menu_Edit&quot; oncommand=&quot;CommandUpdate_UndoRedo();&quot;&gt;</span>
<a href="#l12.426"></a><span id="l12.426" class="difflineplus">+    &lt;menu id=&quot;menu_Edit&quot;</span>
<a href="#l12.427"></a><span id="l12.427" class="difflineplus">+          label=&quot;&amp;editMenu.label;&quot;</span>
<a href="#l12.428"></a><span id="l12.428" class="difflineplus">+          accesskey=&quot;&amp;editMenu.accesskey;&quot;</span>
<a href="#l12.429"></a><span id="l12.429" class="difflineplus">+          oncommand=&quot;CommandUpdate_UndoRedo();&quot;&gt;</span>
<a href="#l12.430"></a><span id="l12.430">       &lt;menupopup id=&quot;menu_EditPopup&quot; onpopupshowing=&quot;InitEditMessagesMenu()&quot;&gt;</span>
<a href="#l12.431"></a><span id="l12.431">         &lt;menuitem id=&quot;menu_undo&quot; label=&quot;&amp;undoDefaultCmd.label;&quot; accesskey=&quot;&amp;undoDefaultCmd.accesskey;&quot; key=&quot;key_undo&quot; command=&quot;cmd_undo&quot;/&gt;</span>
<a href="#l12.432"></a><span id="l12.432">         &lt;menuitem id=&quot;menu_redo&quot; label=&quot;&amp;redoDefaultCmd.label;&quot; accesskey=&quot;&amp;redoDefaultCmd.accesskey;&quot; key=&quot;key_redo&quot; command=&quot;cmd_redo&quot;/&gt;</span>
<a href="#l12.433"></a><span id="l12.433">         &lt;menuseparator id=&quot;editMenuAfterRedoSeparator&quot;/&gt;</span>
<a href="#l12.434"></a><span id="l12.434" class="difflineminus">-        &lt;menuitem id=&quot;menu_cut&quot;/&gt;</span>
<a href="#l12.435"></a><span id="l12.435" class="difflineminus">-        &lt;menuitem id=&quot;menu_copy&quot;/&gt;</span>
<a href="#l12.436"></a><span id="l12.436" class="difflineminus">-        &lt;menuitem id=&quot;menu_paste&quot;/&gt;</span>
<a href="#l12.437"></a><span id="l12.437" class="difflineminus">-        &lt;menuitem id=&quot;menu_delete&quot; command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l12.438"></a><span id="l12.438" class="difflineplus">+        &lt;menuitem id=&quot;menu_cut&quot; label=&quot;&amp;cutCmd.label;&quot; key=&quot;key_cut&quot; accesskey=&quot;&amp;cutCmd.accesskey;&quot; command=&quot;cmd_cut&quot;/&gt;</span>
<a href="#l12.439"></a><span id="l12.439" class="difflineplus">+        &lt;menuitem id=&quot;menu_copy&quot; label=&quot;&amp;copyCmd.label;&quot; key=&quot;key_copy&quot; accesskey=&quot;&amp;copyCmd.accesskey;&quot; command=&quot;cmd_copy&quot;/&gt;</span>
<a href="#l12.440"></a><span id="l12.440" class="difflineplus">+        &lt;menuitem id=&quot;menu_paste&quot; label=&quot;&amp;pasteCmd.label;&quot; key=&quot;key_paste&quot; accesskey=&quot;&amp;pasteCmd.accesskey;&quot; command=&quot;cmd_paste&quot;/&gt;</span>
<a href="#l12.441"></a><span id="l12.441" class="difflineplus">+        &lt;menuitem id=&quot;menu_delete&quot; label=&quot;&amp;deleteCmd.label;&quot; key=&quot;key_delete&quot; accesskey=&quot;&amp;deleteCmd.accesskey;&quot; command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l12.442"></a><span id="l12.442">         &lt;menuseparator id=&quot;editMenuAfterDeleteSeparator&quot;/&gt;</span>
<a href="#l12.443"></a><span id="l12.443">         &lt;menu id=&quot;menu_select&quot; label=&quot;&amp;selectMenu.label;&quot; accesskey=&quot;&amp;selectMenu.accesskey;&quot;&gt;</span>
<a href="#l12.444"></a><span id="l12.444">           &lt;menupopup id=&quot;menu_SelectPopup&quot;&gt;</span>
<a href="#l12.445"></a><span id="l12.445">             &lt;menuitem id=&quot;menu_SelectAll&quot; label=&quot;&amp;all.label;&quot;</span>
<a href="#l12.446"></a><span id="l12.446">                       accesskey=&quot;&amp;all.accesskey;&quot; key=&quot;key_selectAll&quot;</span>
<a href="#l12.447"></a><span id="l12.447">                       command=&quot;cmd_selectAll&quot;/&gt;</span>
<a href="#l12.448"></a><span id="l12.448">             &lt;menuseparator id=&quot;selectMenuSeparator&quot;/&gt;</span>
<a href="#l12.449"></a><span id="l12.449">             &lt;menuitem id=&quot;menu_selectThread&quot; label=&quot;&amp;selectThreadCmd.label;&quot;</span>
<a href="#l12.450"></a><span id="l12.450" class="difflineat">@@ -2512,28 +2583,46 @@</span>
<a href="#l12.451"></a><span id="l12.451">                   accesskey=&quot;&amp;folderPropsCmd.accesskey;&quot;</span>
<a href="#l12.452"></a><span id="l12.452">                   command=&quot;cmd_properties&quot;/&gt;</span>
<a href="#l12.453"></a><span id="l12.453"> #ifdef XP_UNIX</span>
<a href="#l12.454"></a><span id="l12.454"> #ifndef XP_MACOSX</span>
<a href="#l12.455"></a><span id="l12.455">         &lt;menuitem id=&quot;menu_accountmgr&quot;</span>
<a href="#l12.456"></a><span id="l12.456">                   label=&quot;&amp;accountManagerCmd2.label;&quot;</span>
<a href="#l12.457"></a><span id="l12.457">                   accesskey=&quot;&amp;accountManagerCmdUnix2.accesskey;&quot;</span>
<a href="#l12.458"></a><span id="l12.458">                   oncommand=&quot;MsgAccountManager(null);&quot;/&gt;</span>
<a href="#l12.459"></a><span id="l12.459" class="difflineminus">-        &lt;menuitem id=&quot;menu_preferences&quot; oncommand=&quot;openOptionsDialog()&quot;/&gt;</span>
<a href="#l12.460"></a><span id="l12.460" class="difflineplus">+        &lt;menuitem id=&quot;menu_preferences&quot;</span>
<a href="#l12.461"></a><span id="l12.461" class="difflineplus">+                  oncommand=&quot;openOptionsDialog()&quot;</span>
<a href="#l12.462"></a><span id="l12.462" class="difflineplus">+                  label=&quot;&amp;preferencesCmdUnix.label;&quot;</span>
<a href="#l12.463"></a><span id="l12.463" class="difflineplus">+                  accesskey=&quot;&amp;preferencesCmdUnix.accesskey;&quot;/&gt;</span>
<a href="#l12.464"></a><span id="l12.464"> #endif</span>
<a href="#l12.465"></a><span id="l12.465"> #endif</span>
<a href="#l12.466"></a><span id="l12.466">       &lt;/menupopup&gt;</span>
<a href="#l12.467"></a><span id="l12.467">     &lt;/menu&gt;</span>
<a href="#l12.468"></a><span id="l12.468"> </span>
<a href="#l12.469"></a><span id="l12.469">     &lt;!-- View --&gt;</span>
<a href="#l12.470"></a><span id="l12.470" class="difflineminus">-    &lt;menu id=&quot;menu_View&quot;&gt;</span>
<a href="#l12.471"></a><span id="l12.471" class="difflineplus">+    &lt;menu id=&quot;menu_View&quot;</span>
<a href="#l12.472"></a><span id="l12.472" class="difflineplus">+          label=&quot;&amp;viewMenu.label;&quot;</span>
<a href="#l12.473"></a><span id="l12.473" class="difflineplus">+          accesskey=&quot;&amp;viewMenu.accesskey;&quot;&gt;</span>
<a href="#l12.474"></a><span id="l12.474">       &lt;menupopup id=&quot;menu_View_Popup&quot; onpopupshowing=&quot;view_init();&quot;&gt;</span>
<a href="#l12.475"></a><span id="l12.475" class="difflineminus">-        &lt;menu id=&quot;menu_Toolbars&quot; onpopupshowing=&quot;onViewToolbarsPopupShowing(event, 'mail-toolbox');&quot;&gt;</span>
<a href="#l12.476"></a><span id="l12.476" class="difflineplus">+        &lt;menu id=&quot;menu_Toolbars&quot;</span>
<a href="#l12.477"></a><span id="l12.477" class="difflineplus">+              label=&quot;&amp;viewToolbarsMenu.label;&quot;</span>
<a href="#l12.478"></a><span id="l12.478" class="difflineplus">+              accesskey=&quot;&amp;viewToolbarsMenu.accesskey;&quot;</span>
<a href="#l12.479"></a><span id="l12.479" class="difflineplus">+              onpopupshowing=&quot;onViewToolbarsPopupShowing(event, 'mail-toolbox');&quot;&gt;</span>
<a href="#l12.480"></a><span id="l12.480">           &lt;menupopup id=&quot;view_toolbars_popup&quot;&gt;</span>
<a href="#l12.481"></a><span id="l12.481" class="difflineminus">-            &lt;menuitem id=&quot;menu_showTaskbar&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l12.482"></a><span id="l12.482" class="difflineplus">+            &lt;menuitem id=&quot;view_toolbars_popup_quickFilterBar&quot;</span>
<a href="#l12.483"></a><span id="l12.483" class="difflineplus">+                      type=&quot;checkbox&quot;</span>
<a href="#l12.484"></a><span id="l12.484" class="difflineplus">+                      label=&quot;&amp;quickFilterBar.toggleBarVisibility.menu.label;&quot;</span>
<a href="#l12.485"></a><span id="l12.485" class="difflineplus">+                      accesskey=&quot;&amp;quickFilterBar.toggleBarVisibility.menu.accesskey;&quot;</span>
<a href="#l12.486"></a><span id="l12.486" class="difflineplus">+                      command=&quot;cmd_toggleQuickFilterBar&quot;/&gt;</span>
<a href="#l12.487"></a><span id="l12.487" class="difflineplus">+            &lt;menuitem id=&quot;menu_showTaskbar&quot;</span>
<a href="#l12.488"></a><span id="l12.488" class="difflineplus">+                      type=&quot;checkbox&quot;</span>
<a href="#l12.489"></a><span id="l12.489" class="difflineplus">+                      label=&quot;&amp;showTaskbarCmd.label;&quot;</span>
<a href="#l12.490"></a><span id="l12.490" class="difflineplus">+                      accesskey=&quot;&amp;showTaskbarCmd.accesskey;&quot;</span>
<a href="#l12.491"></a><span id="l12.491" class="difflineplus">+                      oncommand=&quot;goToggleToolbar('status-bar', 'menu_showTaskbar')&quot;</span>
<a href="#l12.492"></a><span id="l12.492" class="difflineplus">+                      checked=&quot;true&quot;/&gt;</span>
<a href="#l12.493"></a><span id="l12.493">             &lt;menuseparator id=&quot;viewMenuBeforeCustomizeMailToolbarsSeparator&quot;/&gt;</span>
<a href="#l12.494"></a><span id="l12.494">             &lt;menuitem id=&quot;customizeMailToolbars&quot;</span>
<a href="#l12.495"></a><span id="l12.495">                       command=&quot;cmd_CustomizeMailToolbar&quot;</span>
<a href="#l12.496"></a><span id="l12.496">                       label=&quot;&amp;customizeToolbar.label;&quot;</span>
<a href="#l12.497"></a><span id="l12.497">                       accesskey=&quot;&amp;customizeToolbar.accesskey;&quot;/&gt;</span>
<a href="#l12.498"></a><span id="l12.498">           &lt;/menupopup&gt;</span>
<a href="#l12.499"></a><span id="l12.499">         &lt;/menu&gt;</span>
<a href="#l12.500"></a><span id="l12.500">         &lt;menu id=&quot;menu_MessagePaneLayout&quot; label=&quot;&amp;messagePaneLayoutStyle.label;&quot; accesskey=&quot;&amp;messagePaneLayoutStyle.accesskey;&quot;&gt;</span>
<a href="#l12.501"></a><span id="l12.501" class="difflineat">@@ -3147,17 +3236,20 @@</span>
<a href="#l12.502"></a><span id="l12.502">                   key=&quot;key_sanitizeHistory&quot;</span>
<a href="#l12.503"></a><span id="l12.503">                   oncommand=&quot;toSanitize();&quot;/&gt;</span>
<a href="#l12.504"></a><span id="l12.504"> #ifndef XP_UNIX</span>
<a href="#l12.505"></a><span id="l12.505">         &lt;menuseparator id=&quot;prefSep&quot;/&gt;</span>
<a href="#l12.506"></a><span id="l12.506">         &lt;menuitem id=&quot;menu_accountmgr&quot;</span>
<a href="#l12.507"></a><span id="l12.507">                   label=&quot;&amp;accountManagerCmd2.label;&quot;</span>
<a href="#l12.508"></a><span id="l12.508">                   accesskey=&quot;&amp;accountManagerCmd2.accesskey;&quot;</span>
<a href="#l12.509"></a><span id="l12.509">                   oncommand=&quot;MsgAccountManager(null);&quot;/&gt;</span>
<a href="#l12.510"></a><span id="l12.510" class="difflineminus">-        &lt;menuitem id=&quot;menu_preferences&quot; oncommand=&quot;openOptionsDialog()&quot;/&gt;</span>
<a href="#l12.511"></a><span id="l12.511" class="difflineplus">+        &lt;menuitem id=&quot;menu_preferences&quot;</span>
<a href="#l12.512"></a><span id="l12.512" class="difflineplus">+                  oncommand=&quot;openOptionsDialog()&quot;</span>
<a href="#l12.513"></a><span id="l12.513" class="difflineplus">+                  label=&quot;&amp;preferencesCmd2.label;&quot;</span>
<a href="#l12.514"></a><span id="l12.514" class="difflineplus">+                  accesskey=&quot;&amp;preferencesCmd2.accesskey;&quot;/&gt;</span>
<a href="#l12.515"></a><span id="l12.515"> #else</span>
<a href="#l12.516"></a><span id="l12.516"> #ifdef XP_MACOSX</span>
<a href="#l12.517"></a><span id="l12.517">         &lt;menuseparator id=&quot;prefSep&quot;/&gt;</span>
<a href="#l12.518"></a><span id="l12.518">         &lt;menuitem id=&quot;menu_accountmgr&quot;</span>
<a href="#l12.519"></a><span id="l12.519">                   label=&quot;&amp;accountManagerCmd2.label;&quot;</span>
<a href="#l12.520"></a><span id="l12.520">                   accesskey=&quot;&amp;accountManagerCmd2.accesskey;&quot;</span>
<a href="#l12.521"></a><span id="l12.521">                   oncommand=&quot;MsgAccountManager(null);&quot;/&gt;</span>
<a href="#l12.522"></a><span id="l12.522">         &lt;menuitem id=&quot;menu_preferences&quot;</span>
<a href="#l12.523"></a><span id="l12.523" class="difflineat">@@ -3468,16 +3560,24 @@</span>
<a href="#l12.524"></a><span id="l12.524">                   accesskey=&quot;&amp;manageTags.accesskey;&quot;</span>
<a href="#l12.525"></a><span id="l12.525">                   command=&quot;cmd_manageTags&quot;/&gt;</span>
<a href="#l12.526"></a><span id="l12.526">         &lt;menuseparator id=&quot;button-tagpopup-sep-afterTagAddNew&quot;/&gt;</span>
<a href="#l12.527"></a><span id="l12.527">         &lt;menuitem id=&quot;button-tagRemoveAll&quot;</span>
<a href="#l12.528"></a><span id="l12.528">                   command=&quot;cmd_removeTags&quot;/&gt;</span>
<a href="#l12.529"></a><span id="l12.529">         &lt;menuseparator id=&quot;button-afterTagRemoveAllSeparator&quot;/&gt;</span>
<a href="#l12.530"></a><span id="l12.530">       &lt;/menupopup&gt;</span>
<a href="#l12.531"></a><span id="l12.531">     &lt;/toolbarbutton&gt;</span>
<a href="#l12.532"></a><span id="l12.532" class="difflineplus">+    &lt;toolbarbutton id=&quot;qfb-show-filter-bar&quot;</span>
<a href="#l12.533"></a><span id="l12.533" class="difflineplus">+                   class=&quot;toolbarbutton-1&quot;</span>
<a href="#l12.534"></a><span id="l12.534" class="difflineplus">+                   type=&quot;checkbox&quot;</span>
<a href="#l12.535"></a><span id="l12.535" class="difflineplus">+                   label=&quot;&amp;quickFilterBar.qfbShowFilterBar.label;&quot;</span>
<a href="#l12.536"></a><span id="l12.536" class="difflineplus">+                   command=&quot;cmd_toggleQuickFilterBar&quot;&gt;</span>
<a href="#l12.537"></a><span id="l12.537" class="difflineplus">+      &lt;observes element=&quot;view_toolbars_popup_quickFilterBar&quot;</span>
<a href="#l12.538"></a><span id="l12.538" class="difflineplus">+                attribute=&quot;checked&quot;/&gt;</span>
<a href="#l12.539"></a><span id="l12.539" class="difflineplus">+    &lt;/toolbarbutton&gt;</span>
<a href="#l12.540"></a><span id="l12.540">     &lt;toolbarbutton id=&quot;button-address&quot;</span>
<a href="#l12.541"></a><span id="l12.541">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l12.542"></a><span id="l12.542">                    label=&quot;&amp;addressBookButton.label;&quot;</span>
<a href="#l12.543"></a><span id="l12.543">                    oncommand=&quot;toAddressBook();&quot;</span>
<a href="#l12.544"></a><span id="l12.544">                    tooltiptext=&quot;&amp;addressBookButton.tooltip;&quot;/&gt;</span>
<a href="#l12.545"></a><span id="l12.545">     &lt;toolbarbutton id=&quot;button-chat&quot;</span>
<a href="#l12.546"></a><span id="l12.546">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l12.547"></a><span id="l12.547">                    label=&quot;&amp;chatButton.label;&quot;</span>
<a href="#l12.548"></a><span id="l12.548" class="difflineat">@@ -3505,16 +3605,115 @@</span>
<a href="#l12.549"></a><span id="l12.549">                 crop=&quot;center&quot;</span>
<a href="#l12.550"></a><span id="l12.550">                 flex=&quot;1&quot;</span>
<a href="#l12.551"></a><span id="l12.551">                 label=&quot;&amp;folderModeSelector.label;&quot;</span>
<a href="#l12.552"></a><span id="l12.552">                 oncommand=&quot;gFolderTreeView.mode = this.value;&quot;&gt;</span>
<a href="#l12.553"></a><span id="l12.553">         &lt;menupopup id=&quot;folderpane-mode-selector-popup&quot;</span>
<a href="#l12.554"></a><span id="l12.554">                    onpopupshowing=&quot;gFolderTreeView._initFolderModeSelector();&quot;/&gt;</span>
<a href="#l12.555"></a><span id="l12.555">       &lt;/menulist&gt;</span>
<a href="#l12.556"></a><span id="l12.556">     &lt;/toolbaritem&gt;</span>
<a href="#l12.557"></a><span id="l12.557" class="difflineplus">+    &lt;!-- gloda search widget; provides global (message) searching.  --&gt;</span>
<a href="#l12.558"></a><span id="l12.558" class="difflineplus">+    &lt;toolbaritem id=&quot;gloda-search&quot; insertafter=&quot;button-stop&quot;</span>
<a href="#l12.559"></a><span id="l12.559" class="difflineplus">+                 title=&quot;&amp;glodaSearch.title;&quot;</span>
<a href="#l12.560"></a><span id="l12.560" class="difflineplus">+                 align=&quot;center&quot;</span>
<a href="#l12.561"></a><span id="l12.561" class="difflineplus">+                 flex=&quot;1&quot;</span>
<a href="#l12.562"></a><span id="l12.562" class="difflineplus">+                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l12.563"></a><span id="l12.563" class="difflineplus">+        &lt;textbox id=&quot;searchInput&quot;</span>
<a href="#l12.564"></a><span id="l12.564" class="difflineplus">+                 class=&quot;searchBox&quot;</span>
<a href="#l12.565"></a><span id="l12.565" class="difflineplus">+                 flex=&quot;1&quot;</span>
<a href="#l12.566"></a><span id="l12.566" class="difflineplus">+                 type=&quot;glodacomplete&quot;</span>
<a href="#l12.567"></a><span id="l12.567" class="difflineplus">+                 searchbutton=&quot;true&quot;</span>
<a href="#l12.568"></a><span id="l12.568" class="difflineplus">+                 autocompletesearch=&quot;gloda&quot;</span>
<a href="#l12.569"></a><span id="l12.569" class="difflineplus">+                 autocompletepopup=&quot;PopupGlodaAutocomplete&quot;</span>
<a href="#l12.570"></a><span id="l12.570" class="difflineplus">+                 autocompletesearchparam=&quot;global&quot;</span>
<a href="#l12.571"></a><span id="l12.571" class="difflineplus">+                 timeout=&quot;200&quot;</span>
<a href="#l12.572"></a><span id="l12.572" class="difflineplus">+                 maxlength=&quot;192&quot;</span>
<a href="#l12.573"></a><span id="l12.573" class="difflineplus">+                 placeholder=&quot;&quot;</span>
<a href="#l12.574"></a><span id="l12.574" class="difflineplus">+                 emptytextbase=&quot;&amp;search.label.base1;&quot;</span>
<a href="#l12.575"></a><span id="l12.575" class="difflineplus">+                 keyLabelNonMac=&quot;&amp;search.keyLabel.nonmac;&quot;</span>
<a href="#l12.576"></a><span id="l12.576" class="difflineplus">+                 keyLabelMac=&quot;&amp;search.keyLabel.mac;&quot;</span>
<a href="#l12.577"></a><span id="l12.577" class="difflineplus">+                 &gt;</span>
<a href="#l12.578"></a><span id="l12.578" class="difflineplus">+          &lt;!-- Mimic the search/clear buttons of the standard search textbox,</span>
<a href="#l12.579"></a><span id="l12.579" class="difflineplus">+               but adjust for the reality that clear doesn't make much sense</span>
<a href="#l12.580"></a><span id="l12.580" class="difflineplus">+               since gloda results only show in a tab and the idiom for closing</span>
<a href="#l12.581"></a><span id="l12.581" class="difflineplus">+               tabs is closing the tab.  Our binding does process escape to</span>
<a href="#l12.582"></a><span id="l12.582" class="difflineplus">+               clear the box, if people want to clear it that way...</span>
<a href="#l12.583"></a><span id="l12.583" class="difflineplus">+               --&gt;</span>
<a href="#l12.584"></a><span id="l12.584" class="difflineplus">+          &lt;hbox&gt;</span>
<a href="#l12.585"></a><span id="l12.585" class="difflineplus">+            &lt;image class=&quot;gloda-search-icon&quot;/&gt;</span>
<a href="#l12.586"></a><span id="l12.586" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l12.587"></a><span id="l12.587" class="difflineplus">+        &lt;/textbox&gt;</span>
<a href="#l12.588"></a><span id="l12.588" class="difflineplus">+    &lt;/toolbaritem&gt;</span>
<a href="#l12.589"></a><span id="l12.589" class="difflineplus">+</span>
<a href="#l12.590"></a><span id="l12.590" class="difflineplus">+    &lt;toolbarbutton id=&quot;button-compact&quot; class=&quot;toolbarbutton-1&quot;</span>
<a href="#l12.591"></a><span id="l12.591" class="difflineplus">+                   insertafter=&quot;button-mark&quot;</span>
<a href="#l12.592"></a><span id="l12.592" class="difflineplus">+                   label=&quot;&amp;compactButton.label;&quot;</span>
<a href="#l12.593"></a><span id="l12.593" class="difflineplus">+                   tooltiptext=&quot;&amp;compactButton.tooltip;&quot;</span>
<a href="#l12.594"></a><span id="l12.594" class="difflineplus">+                   oncommand=&quot;goDoCommand('button_compact');&quot;</span>
<a href="#l12.595"></a><span id="l12.595" class="difflineplus">+                   observes=&quot;button_compact&quot;/&gt;</span>
<a href="#l12.596"></a><span id="l12.596" class="difflineplus">+    &lt;toolbaritem id=&quot;folder-location-container&quot; insert-after=&quot;button-stop&quot;</span>
<a href="#l12.597"></a><span id="l12.597" class="difflineplus">+                 title=&quot;&amp;folderLocationToolbarItem.title;&quot;</span>
<a href="#l12.598"></a><span id="l12.598" class="difflineplus">+                 align=&quot;center&quot;</span>
<a href="#l12.599"></a><span id="l12.599" class="difflineplus">+                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l12.600"></a><span id="l12.600" class="difflineplus">+      &lt;menulist id=&quot;locationFolders&quot;</span>
<a href="#l12.601"></a><span id="l12.601" class="difflineplus">+                class=&quot;folderMenuItem&quot;</span>
<a href="#l12.602"></a><span id="l12.602" class="difflineplus">+                label=&quot;&amp;folderLocationToolbarItem.title;&quot;</span>
<a href="#l12.603"></a><span id="l12.603" class="difflineplus">+                context=&quot;folderPaneContext&quot;</span>
<a href="#l12.604"></a><span id="l12.604" class="difflineplus">+                maxwidth=&quot;300&quot;</span>
<a href="#l12.605"></a><span id="l12.605" class="difflineplus">+                crop=&quot;center&quot;&gt;</span>
<a href="#l12.606"></a><span id="l12.606" class="difflineplus">+        &lt;menupopup id=&quot;folderLocationPopup&quot;</span>
<a href="#l12.607"></a><span id="l12.607" class="difflineplus">+                   class=&quot;menulist-menupopup&quot;</span>
<a href="#l12.608"></a><span id="l12.608" class="difflineplus">+                   type=&quot;folder&quot;</span>
<a href="#l12.609"></a><span id="l12.609" class="difflineplus">+                   flex=&quot;1&quot;</span>
<a href="#l12.610"></a><span id="l12.610" class="difflineplus">+                   mode=&quot;notDeferred&quot;</span>
<a href="#l12.611"></a><span id="l12.611" class="difflineplus">+                   showFileHereLabel=&quot;true&quot;</span>
<a href="#l12.612"></a><span id="l12.612" class="difflineplus">+                   oncommand=&quot;gFolderTreeView.selectFolder(event.target._folder, true);&quot;/&gt;</span>
<a href="#l12.613"></a><span id="l12.613" class="difflineplus">+      &lt;/menulist&gt;</span>
<a href="#l12.614"></a><span id="l12.614" class="difflineplus">+    &lt;/toolbaritem&gt;</span>
<a href="#l12.615"></a><span id="l12.615" class="difflineplus">+    &lt;toolbaritem id=&quot;mailviews-container&quot;</span>
<a href="#l12.616"></a><span id="l12.616" class="difflineplus">+                 title=&quot;&amp;mailViewsToolbarItem.title;&quot;</span>
<a href="#l12.617"></a><span id="l12.617" class="difflineplus">+                 align=&quot;center&quot;</span>
<a href="#l12.618"></a><span id="l12.618" class="difflineplus">+                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l12.619"></a><span id="l12.619" class="difflineplus">+      &lt;label id=&quot;viewPickerLabel&quot;</span>
<a href="#l12.620"></a><span id="l12.620" class="difflineplus">+             value=&quot;&amp;viewPicker.label;&quot;</span>
<a href="#l12.621"></a><span id="l12.621" class="difflineplus">+             control=&quot;viewPicker&quot;</span>
<a href="#l12.622"></a><span id="l12.622" class="difflineplus">+             accesskey=&quot;&amp;viewPicker.accesskey;&quot;/&gt;</span>
<a href="#l12.623"></a><span id="l12.623" class="difflineplus">+      &lt;menulist id=&quot;viewPicker&quot; oncommand=&quot;ViewChangeByMenuitem(event.target);&quot;&gt;</span>
<a href="#l12.624"></a><span id="l12.624" class="difflineplus">+        &lt;menupopup id=&quot;viewPickerPopup&quot;</span>
<a href="#l12.625"></a><span id="l12.625" class="difflineplus">+                   onpopupshowing=&quot;RefreshViewPopup(this);&quot;&gt;</span>
<a href="#l12.626"></a><span id="l12.626" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerAll&quot; value=&quot;0&quot;</span>
<a href="#l12.627"></a><span id="l12.627" class="difflineplus">+                    label=&quot;&amp;viewAll.label;&quot;</span>
<a href="#l12.628"></a><span id="l12.628" class="difflineplus">+                    type=&quot;radio&quot;/&gt;</span>
<a href="#l12.629"></a><span id="l12.629" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerUnread&quot; value=&quot;1&quot;</span>
<a href="#l12.630"></a><span id="l12.630" class="difflineplus">+                    label=&quot;&amp;viewUnread.label;&quot;</span>
<a href="#l12.631"></a><span id="l12.631" class="difflineplus">+                    type=&quot;radio&quot;/&gt;</span>
<a href="#l12.632"></a><span id="l12.632" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerNotDeleted&quot; value=&quot;3&quot;</span>
<a href="#l12.633"></a><span id="l12.633" class="difflineplus">+                    label=&quot;&amp;viewNotDeleted.label;&quot;</span>
<a href="#l12.634"></a><span id="l12.634" class="difflineplus">+                    type=&quot;radio&quot;/&gt;</span>
<a href="#l12.635"></a><span id="l12.635" class="difflineplus">+          &lt;menuseparator id=&quot;afterViewPickerUnreadSeparator&quot;/&gt;</span>
<a href="#l12.636"></a><span id="l12.636" class="difflineplus">+          &lt;menu id=&quot;viewPickerTags&quot; label=&quot;&amp;viewTags.label;&quot;&gt;</span>
<a href="#l12.637"></a><span id="l12.637" class="difflineplus">+            &lt;menupopup id=&quot;viewPickerTagsPopup&quot;</span>
<a href="#l12.638"></a><span id="l12.638" class="difflineplus">+                       class=&quot;menulist-menupopup&quot;</span>
<a href="#l12.639"></a><span id="l12.639" class="difflineplus">+                       onpopupshowing=&quot;RefreshTagsPopup(this, true);&quot;/&gt;</span>
<a href="#l12.640"></a><span id="l12.640" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l12.641"></a><span id="l12.641" class="difflineplus">+          &lt;menu id=&quot;viewPickerCustomViews&quot; label=&quot;&amp;viewCustomViews.label;&quot;&gt;</span>
<a href="#l12.642"></a><span id="l12.642" class="difflineplus">+            &lt;menupopup id=&quot;viewPickerCustomViewsPopup&quot;</span>
<a href="#l12.643"></a><span id="l12.643" class="difflineplus">+                       class=&quot;menulist-menupopup&quot;</span>
<a href="#l12.644"></a><span id="l12.644" class="difflineplus">+                       onpopupshowing=&quot;RefreshCustomViewsPopup(this, true);&quot;/&gt;</span>
<a href="#l12.645"></a><span id="l12.645" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l12.646"></a><span id="l12.646" class="difflineplus">+          &lt;menuseparator id=&quot;afterViewPickerCustomViewsSeparator&quot;/&gt;</span>
<a href="#l12.647"></a><span id="l12.647" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerVirtualFolder&quot;</span>
<a href="#l12.648"></a><span id="l12.648" class="difflineplus">+                    value=&quot;7&quot;</span>
<a href="#l12.649"></a><span id="l12.649" class="difflineplus">+                    label=&quot;&amp;viewVirtualFolder.label;&quot;/&gt;</span>
<a href="#l12.650"></a><span id="l12.650" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerCustomize&quot;</span>
<a href="#l12.651"></a><span id="l12.651" class="difflineplus">+                    value=&quot;8&quot;</span>
<a href="#l12.652"></a><span id="l12.652" class="difflineplus">+                    label=&quot;&amp;viewCustomizeView.label;&quot;/&gt;</span>
<a href="#l12.653"></a><span id="l12.653" class="difflineplus">+        &lt;/menupopup&gt;</span>
<a href="#l12.654"></a><span id="l12.654" class="difflineplus">+      &lt;/menulist&gt;</span>
<a href="#l12.655"></a><span id="l12.655" class="difflineplus">+    &lt;/toolbaritem&gt;</span>
<a href="#l12.656"></a><span id="l12.656"> </span>
<a href="#l12.657"></a><span id="l12.657">   &lt;/toolbarpalette&gt;</span>
<a href="#l12.658"></a><span id="l12.658"> </span>
<a href="#l12.659"></a><span id="l12.659">   &lt;!-- If changes are made to the default set of toolbar buttons, you may need to rev the id</span>
<a href="#l12.660"></a><span id="l12.660">        of mail-bar in order to force the new default items to show up for users who customized their toolbar</span>
<a href="#l12.661"></a><span id="l12.661">        in earlier versions. Bumping the id means users will have to re-customize their toolbar!</span>
<a href="#l12.662"></a><span id="l12.662">   --&gt;</span>
<a href="#l12.663"></a><span id="l12.663"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/base/content/messageWindow.xul</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/base/content/messageWindow.xul</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -2,30 +2,36 @@</span>
<a href="#l13.4"></a><span id="l13.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.5"></a><span id="l13.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.6"></a><span id="l13.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8"> #filter substitution</span>
<a href="#l13.9"></a><span id="l13.9"> </span>
<a href="#l13.10"></a><span id="l13.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/bindings.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l13.11"></a><span id="l13.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messageWindow.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/editContactOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messageHeader.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/attachmentList.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgHdrViewSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l13.16"></a><span id="l13.16"> </span>
<a href="#l13.17"></a><span id="l13.17" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/utilityOverlay.xul&quot;?&gt;</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/msgHdrViewOverlay.xul&quot;?&gt;</span>
<a href="#l13.19"></a><span id="l13.19"> &lt;?xul-overlay href=&quot;chrome://messenger/content/mailWindowOverlay.xul&quot;?&gt;</span>
<a href="#l13.20"></a><span id="l13.20" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/mailOverlay.xul&quot;?&gt;</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/editContactOverlay.xul&quot;?&gt;</span>
<a href="#l13.22"></a><span id="l13.22"> </span>
<a href="#l13.23"></a><span id="l13.23"> &lt;!DOCTYPE window [</span>
<a href="#l13.24"></a><span id="l13.24"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l13.25"></a><span id="l13.25"> %brandDTD;</span>
<a href="#l13.26"></a><span id="l13.26" class="difflineplus">+&lt;!ENTITY % msgHdrViewOverlayDTD SYSTEM &quot;chrome://messenger/locale/msgHdrViewOverlay.dtd&quot;&gt;</span>
<a href="#l13.27"></a><span id="l13.27" class="difflineplus">+%msgHdrViewOverlayDTD;</span>
<a href="#l13.28"></a><span id="l13.28"> &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot; &gt;</span>
<a href="#l13.29"></a><span id="l13.29"> %messengerDTD;</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineplus">+&lt;!ENTITY % editContactOverlayDTD SYSTEM &quot;chrome://messenger/locale/editContactOverlay.dtd&quot;&gt;</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineplus">+%editContactOverlayDTD;</span>
<a href="#l13.32"></a><span id="l13.32"> &lt;!ENTITY % customizeToolbarDTD SYSTEM &quot;chrome://messenger/locale/customizeToolbar.dtd&quot;&gt;</span>
<a href="#l13.33"></a><span id="l13.33"> %customizeToolbarDTD;</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineplus">+&lt;!ENTITY % utilityDTD SYSTEM &quot;chrome://communicator/locale/utilityOverlay.dtd&quot;&gt;</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineplus">+%utilityDTD;</span>
<a href="#l13.36"></a><span id="l13.36"> ]&gt;</span>
<a href="#l13.37"></a><span id="l13.37"> </span>
<a href="#l13.38"></a><span id="l13.38"> &lt;!--</span>
<a href="#l13.39"></a><span id="l13.39">   - This window displays a single message.</span>
<a href="#l13.40"></a><span id="l13.40">   --&gt;</span>
<a href="#l13.41"></a><span id="l13.41"> &lt;window id=&quot;messengerWindow&quot;</span>
<a href="#l13.42"></a><span id="l13.42">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l13.43"></a><span id="l13.43">         title=&quot;&amp;titledefault.label;@PRE_RELEASE_SUFFIX@&quot;</span>
<a href="#l13.44"></a><span id="l13.44" class="difflineat">@@ -37,17 +43,20 @@</span>
<a href="#l13.45"></a><span id="l13.45">         toggletoolbar=&quot;true&quot;</span>
<a href="#l13.46"></a><span id="l13.46">         windowtype=&quot;mail:messageWindow&quot;</span>
<a href="#l13.47"></a><span id="l13.47">         macanimationtype=&quot;document&quot;</span>
<a href="#l13.48"></a><span id="l13.48">         lightweightthemes=&quot;true&quot;</span>
<a href="#l13.49"></a><span id="l13.49">         fullscreenbutton=&quot;true&quot;&gt;</span>
<a href="#l13.50"></a><span id="l13.50"> </span>
<a href="#l13.51"></a><span id="l13.51">   &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l13.52"></a><span id="l13.52">     &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l13.53"></a><span id="l13.53" class="difflineplus">+    &lt;stringbundle id=&quot;bundle_messenger&quot; src=&quot;chrome://messenger/locale/messenger.properties&quot;/&gt;</span>
<a href="#l13.54"></a><span id="l13.54">     &lt;stringbundle id=&quot;bundle_offlinePrompts&quot; src=&quot;chrome://messenger/locale/offline.properties&quot;/&gt;</span>
<a href="#l13.55"></a><span id="l13.55" class="difflineplus">+    &lt;stringbundle id=&quot;bundle_editContact&quot;</span>
<a href="#l13.56"></a><span id="l13.56" class="difflineplus">+                  src=&quot;chrome://messenger/locale/editContactOverlay.properties&quot;/&gt;</span>
<a href="#l13.57"></a><span id="l13.57">   &lt;/stringbundleset&gt;</span>
<a href="#l13.58"></a><span id="l13.58"> </span>
<a href="#l13.59"></a><span id="l13.59">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l13.60"></a><span id="l13.60">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/shareglue.js&quot;/&gt;</span>
<a href="#l13.61"></a><span id="l13.61">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/commandglue.js&quot;/&gt;</span>
<a href="#l13.62"></a><span id="l13.62">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/folderDisplay.js&quot;/&gt;</span>
<a href="#l13.63"></a><span id="l13.63">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/messageDisplay.js&quot;/&gt;</span>
<a href="#l13.64"></a><span id="l13.64">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailWindow.js&quot;/&gt;</span>
<a href="#l13.65"></a><span id="l13.65" class="difflineat">@@ -55,66 +64,91 @@</span>
<a href="#l13.66"></a><span id="l13.66">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l13.67"></a><span id="l13.67">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/contentAreaUtils.js&quot;/&gt;</span>
<a href="#l13.68"></a><span id="l13.68">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/nsContextMenu.js&quot;/&gt;</span>
<a href="#l13.69"></a><span id="l13.69">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailContextMenus.js&quot;/&gt;</span>
<a href="#l13.70"></a><span id="l13.70">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/phishingDetector.js&quot;/&gt;</span>
<a href="#l13.71"></a><span id="l13.71">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/contentAreaClick.js&quot;/&gt;</span>
<a href="#l13.72"></a><span id="l13.72">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/nsDragAndDrop.js&quot;/&gt;</span>
<a href="#l13.73"></a><span id="l13.73">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgViewNavigation.js&quot;/&gt;</span>
<a href="#l13.74"></a><span id="l13.74" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/editContactOverlay.js&quot;/&gt;</span>
<a href="#l13.75"></a><span id="l13.75" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/editContactPanel.js&quot;/&gt;</span>
<a href="#l13.76"></a><span id="l13.76">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/toolbarIconColor.js&quot;/&gt;</span>
<a href="#l13.77"></a><span id="l13.77" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgHdrView.js&quot;/&gt;</span>
<a href="#l13.78"></a><span id="l13.78" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/nsDragAndDrop.js&quot;/&gt;</span>
<a href="#l13.79"></a><span id="l13.79" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger-smime/content/msgHdrViewSMIMEOverlay.js&quot;/&gt;</span>
<a href="#l13.80"></a><span id="l13.80"> </span>
<a href="#l13.81"></a><span id="l13.81">   &lt;commandset id=&quot;mailCommands&quot;&gt;</span>
<a href="#l13.82"></a><span id="l13.82">     &lt;commandset id=&quot;mailFileMenuItems&quot;/&gt;</span>
<a href="#l13.83"></a><span id="l13.83">     &lt;commandset id=&quot;mailViewMenuItems&quot;/&gt;</span>
<a href="#l13.84"></a><span id="l13.84">     &lt;commandset id=&quot;mailEditMenuItems&quot;/&gt;</span>
<a href="#l13.85"></a><span id="l13.85">     &lt;commandset id=&quot;mailSearchMenuItems&quot;/&gt;</span>
<a href="#l13.86"></a><span id="l13.86">     &lt;commandset id=&quot;mailGoMenuItems&quot;/&gt;</span>
<a href="#l13.87"></a><span id="l13.87">     &lt;commandset id=&quot;mailMessageMenuItems&quot;/&gt;</span>
<a href="#l13.88"></a><span id="l13.88">     &lt;commandset id=&quot;mailToolbarItems&quot;/&gt;</span>
<a href="#l13.89"></a><span id="l13.89">     &lt;commandset id=&quot;mailGetMsgMenuItems&quot;/&gt;</span>
<a href="#l13.90"></a><span id="l13.90">     &lt;commandset id=&quot;mailTagMenuItems&quot;/&gt;</span>
<a href="#l13.91"></a><span id="l13.91">     &lt;commandset id=&quot;mailMarkMenuItems&quot;/&gt;</span>
<a href="#l13.92"></a><span id="l13.92">     &lt;commandset id=&quot;mailToolsMenuItems&quot;/&gt;</span>
<a href="#l13.93"></a><span id="l13.93">     &lt;commandset id=&quot;mailEditContextMenuItems&quot;/&gt;</span>
<a href="#l13.94"></a><span id="l13.94" class="difflineminus">-    &lt;commandset id=&quot;tasksCommands&quot;/&gt;</span>
<a href="#l13.95"></a><span id="l13.95" class="difflineplus">+    &lt;commandset id=&quot;attachmentCommands&quot;&gt;</span>
<a href="#l13.96"></a><span id="l13.96" class="difflineplus">+      &lt;command id=&quot;cmd_openAllAttachments&quot;</span>
<a href="#l13.97"></a><span id="l13.97" class="difflineplus">+               oncommand=&quot;goDoCommand('cmd_openAllAttachments');&quot;</span>
<a href="#l13.98"></a><span id="l13.98" class="difflineplus">+               disabled=&quot;true&quot;/&gt;</span>
<a href="#l13.99"></a><span id="l13.99" class="difflineplus">+      &lt;command id=&quot;cmd_saveAllAttachments&quot;</span>
<a href="#l13.100"></a><span id="l13.100" class="difflineplus">+               oncommand=&quot;goDoCommand('cmd_saveAllAttachments');&quot;</span>
<a href="#l13.101"></a><span id="l13.101" class="difflineplus">+               disabled=&quot;true&quot;/&gt;</span>
<a href="#l13.102"></a><span id="l13.102" class="difflineplus">+      &lt;command id=&quot;cmd_detachAllAttachments&quot;</span>
<a href="#l13.103"></a><span id="l13.103" class="difflineplus">+               oncommand=&quot;goDoCommand('cmd_detachAllAttachments');&quot;</span>
<a href="#l13.104"></a><span id="l13.104" class="difflineplus">+               disabled=&quot;true&quot;/&gt;</span>
<a href="#l13.105"></a><span id="l13.105" class="difflineplus">+      &lt;command id=&quot;cmd_deleteAllAttachments&quot;</span>
<a href="#l13.106"></a><span id="l13.106" class="difflineplus">+               oncommand=&quot;goDoCommand('cmd_deleteAllAttachments');&quot;</span>
<a href="#l13.107"></a><span id="l13.107" class="difflineplus">+               disabled=&quot;true&quot;/&gt;</span>
<a href="#l13.108"></a><span id="l13.108" class="difflineplus">+    &lt;/commandset&gt;</span>
<a href="#l13.109"></a><span id="l13.109" class="difflineplus">+    &lt;commandset id=&quot;tasksCommands&quot;&gt;</span>
<a href="#l13.110"></a><span id="l13.110" class="difflineplus">+      &lt;command id=&quot;cmd_newMessage&quot; oncommand=&quot;goOpenNewMessage();&quot;/&gt;</span>
<a href="#l13.111"></a><span id="l13.111" class="difflineplus">+      &lt;command id=&quot;cmd_newCard&quot; oncommand=&quot;openNewCardDialog()&quot;/&gt;</span>
<a href="#l13.112"></a><span id="l13.112" class="difflineplus">+    &lt;/commandset&gt;</span>
<a href="#l13.113"></a><span id="l13.113">     &lt;commandset id=&quot;commandKeys&quot;/&gt;</span>
<a href="#l13.114"></a><span id="l13.114"> #ifdef XP_MACOSX</span>
<a href="#l13.115"></a><span id="l13.115">     &lt;commandset id=&quot;macWindowMenuItems&quot;/&gt;</span>
<a href="#l13.116"></a><span id="l13.116"> #endif</span>
<a href="#l13.117"></a><span id="l13.117">     &lt;command id=&quot;cmd_close&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l13.118"></a><span id="l13.118">   &lt;/commandset&gt;</span>
<a href="#l13.119"></a><span id="l13.119"> </span>
<a href="#l13.120"></a><span id="l13.120">   &lt;broadcasterset id=&quot;otherActionsButtonBroadcasters&quot;&gt;</span>
<a href="#l13.121"></a><span id="l13.121">      &lt;broadcaster id=&quot;otherActionsOpenIn&quot;/&gt;</span>
<a href="#l13.122"></a><span id="l13.122">   &lt;/broadcasterset&gt;</span>
<a href="#l13.123"></a><span id="l13.123"> </span>
<a href="#l13.124"></a><span id="l13.124">   &lt;keyset id=&quot;mailKeys&quot;&gt;</span>
<a href="#l13.125"></a><span id="l13.125" class="difflineminus">-    &lt;keyset id=&quot;tasksKeys&quot;/&gt;</span>
<a href="#l13.126"></a><span id="l13.126" class="difflineplus">+    &lt;keyset id=&quot;tasksKeys&quot;&gt;</span>
<a href="#l13.127"></a><span id="l13.127" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l13.128"></a><span id="l13.128" class="difflineplus">+    &lt;key id=&quot;key_newMessage&quot; key=&quot;&amp;newMessageCmd.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l13.129"></a><span id="l13.129" class="difflineplus">+         modifiers=&quot;accel,shift&quot;/&gt;</span>
<a href="#l13.130"></a><span id="l13.130" class="difflineplus">+    &lt;key id=&quot;key_newMessage2&quot; key=&quot;&amp;newMessageCmd2.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l13.131"></a><span id="l13.131" class="difflineplus">+         modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l13.132"></a><span id="l13.132" class="difflineplus">+#else</span>
<a href="#l13.133"></a><span id="l13.133" class="difflineplus">+    &lt;key id=&quot;key_newMessage&quot;  key=&quot;&amp;newMessageCmd.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l13.134"></a><span id="l13.134" class="difflineplus">+         modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l13.135"></a><span id="l13.135" class="difflineplus">+    &lt;key id=&quot;key_newMessage2&quot; key=&quot;&amp;newMessageCmd2.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l13.136"></a><span id="l13.136" class="difflineplus">+         modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l13.137"></a><span id="l13.137" class="difflineplus">+#endif</span>
<a href="#l13.138"></a><span id="l13.138" class="difflineplus">+    &lt;/keyset&gt;</span>
<a href="#l13.139"></a><span id="l13.139">     &lt;key keycode=&quot;VK_ESCAPE&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l13.140"></a><span id="l13.140">   &lt;/keyset&gt;</span>
<a href="#l13.141"></a><span id="l13.141"> </span>
<a href="#l13.142"></a><span id="l13.142">   &lt;!-- Popup menus provided by mailWindowOverlay.xul --&gt;</span>
<a href="#l13.143"></a><span id="l13.143" class="difflineminus">-  &lt;popupset id=&quot;mainPopupSet&quot;/&gt;</span>
<a href="#l13.144"></a><span id="l13.144" class="difflineminus">-  &lt;menupopup id=&quot;mailContext&quot;/&gt;</span>
<a href="#l13.145"></a><span id="l13.145" class="difflineminus">-  &lt;menupopup id=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l13.146"></a><span id="l13.146" class="difflineminus">-  &lt;menupopup id=&quot;remoteContentOptions&quot;/&gt;</span>
<a href="#l13.147"></a><span id="l13.147" class="difflineminus">-  &lt;menupopup id=&quot;phishingOptions&quot;/&gt;</span>
<a href="#l13.148"></a><span id="l13.148" class="difflineplus">+  &lt;popupset id=&quot;mainPopupSet&quot;&gt;</span>
<a href="#l13.149"></a><span id="l13.149" class="difflineplus">+    &lt;menupopup id=&quot;mailContext&quot;/&gt;</span>
<a href="#l13.150"></a><span id="l13.150" class="difflineplus">+    &lt;menupopup id=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l13.151"></a><span id="l13.151" class="difflineplus">+    &lt;menupopup id=&quot;remoteContentOptions&quot;/&gt;</span>
<a href="#l13.152"></a><span id="l13.152" class="difflineplus">+    &lt;menupopup id=&quot;phishingOptions&quot;/&gt;</span>
<a href="#l13.153"></a><span id="l13.153"> </span>
<a href="#l13.154"></a><span id="l13.154" class="difflineminus">-  &lt;!-- Popup menus provided by msgHdrViewOverlay.xul --&gt;</span>
<a href="#l13.155"></a><span id="l13.155" class="difflineminus">-  &lt;menupopup id=&quot;messageIdContext&quot;/&gt;</span>
<a href="#l13.156"></a><span id="l13.156" class="difflineminus">-  &lt;menupopup id=&quot;attachmentListContext&quot;/&gt;</span>
<a href="#l13.157"></a><span id="l13.157" class="difflineminus">-  &lt;menupopup id=&quot;attachmentItemContext&quot;/&gt;</span>
<a href="#l13.158"></a><span id="l13.158" class="difflineminus">-  &lt;menupopup id=&quot;header-toolbar-context-menu&quot;/&gt;</span>
<a href="#l13.159"></a><span id="l13.159" class="difflineminus">-  &lt;menupopup id=&quot;attachment-toolbar-context-menu&quot;/&gt;</span>
<a href="#l13.160"></a><span id="l13.160" class="difflineminus">-  &lt;menupopup id=&quot;copyUrlPopup&quot;/&gt;</span>
<a href="#l13.161"></a><span id="l13.161" class="difflineminus">-</span>
<a href="#l13.162"></a><span id="l13.162" class="difflineminus">-  &lt;!-- Panel provided by editContactOverlay.xul --&gt;</span>
<a href="#l13.163"></a><span id="l13.163" class="difflineminus">-  &lt;panel id=&quot;editContactPanel&quot;/&gt;</span>
<a href="#l13.164"></a><span id="l13.164" class="difflineplus">+#include msgHdrPopup.inc</span>
<a href="#l13.165"></a><span id="l13.165" class="difflineplus">+  &lt;/popupset&gt;</span>
<a href="#l13.166"></a><span id="l13.166" class="difflineplus">+#include editContactPanel.inc</span>
<a href="#l13.167"></a><span id="l13.167"> </span>
<a href="#l13.168"></a><span id="l13.168"> #ifdef XP_MACOSX</span>
<a href="#l13.169"></a><span id="l13.169">   &lt;vbox id=&quot;titlebar&quot;&gt;</span>
<a href="#l13.170"></a><span id="l13.170">     &lt;hbox id=&quot;titlebar-content&quot;&gt;</span>
<a href="#l13.171"></a><span id="l13.171">       &lt;spacer id=&quot;titlebar-spacer&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l13.172"></a><span id="l13.172">       &lt;hbox id=&quot;titlebar-buttonbox-container&quot; align=&quot;start&quot;&gt;</span>
<a href="#l13.173"></a><span id="l13.173">         &lt;hbox id=&quot;titlebar-buttonbox&quot;&gt;</span>
<a href="#l13.174"></a><span id="l13.174">           &lt;toolbarbutton class=&quot;titlebar-button&quot; id=&quot;titlebar-min&quot; oncommand=&quot;window.minimize();&quot;/&gt;</span>
<a href="#l13.175"></a><span id="l13.175" class="difflineat">@@ -138,29 +172,33 @@</span>
<a href="#l13.176"></a><span id="l13.176">  &lt;!-- msg header view --&gt;</span>
<a href="#l13.177"></a><span id="l13.177">   &lt;!-- a convenience box for ease of extension overlaying --&gt;</span>
<a href="#l13.178"></a><span id="l13.178">   &lt;hbox id=&quot;messagepaneboxwrapper&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l13.179"></a><span id="l13.179">     &lt;vbox id=&quot;messagepanebox&quot; flex=&quot;3&quot;</span>
<a href="#l13.180"></a><span id="l13.180">           ondragover=&quot;nsDragAndDrop.dragOver(event, messagepaneObserver);&quot;</span>
<a href="#l13.181"></a><span id="l13.181">           ondrop=&quot;nsDragAndDrop.drop(event, messagepaneObserver);&quot;</span>
<a href="#l13.182"></a><span id="l13.182">           ondragexit=&quot;nsDragAndDrop.dragExit(event, messagepaneObserver);&quot;&gt;</span>
<a href="#l13.183"></a><span id="l13.183"> </span>
<a href="#l13.184"></a><span id="l13.184" class="difflineminus">-      &lt;hbox id=&quot;msgHeaderView&quot;/&gt;</span>
<a href="#l13.185"></a><span id="l13.185" class="difflineplus">+      &lt;hbox id=&quot;msgHeaderView&quot; collapsed=&quot;true&quot; class=&quot;main-header-area&quot;&gt;</span>
<a href="#l13.186"></a><span id="l13.186" class="difflineplus">+#include msgHdrView.inc</span>
<a href="#l13.187"></a><span id="l13.187" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l13.188"></a><span id="l13.188">       &lt;!-- The msgNotificationBar appears on top of the message and displays</span>
<a href="#l13.189"></a><span id="l13.189">            information like: junk, mdn, remote content and phishing warnings --&gt;</span>
<a href="#l13.190"></a><span id="l13.190">       &lt;notificationbox id=&quot;msgNotificationBar&quot; notificationside=&quot;top&quot;/&gt;</span>
<a href="#l13.191"></a><span id="l13.191"> </span>
<a href="#l13.192"></a><span id="l13.192">       &lt;!-- message view --&gt;</span>
<a href="#l13.193"></a><span id="l13.193">       &lt;browser id=&quot;messagepane&quot; context=&quot;mailContext&quot; tooltip=&quot;aHTMLTooltip&quot;</span>
<a href="#l13.194"></a><span id="l13.194">                style=&quot;height: 0px; min-height: 1px&quot; flex=&quot;1&quot; name=&quot;messagepane&quot;</span>
<a href="#l13.195"></a><span id="l13.195">                disablesecurity=&quot;true&quot; disablehistory=&quot;true&quot; type=&quot;content&quot; primary=&quot;true&quot;</span>
<a href="#l13.196"></a><span id="l13.196">                onresize=&quot;return messagePaneOnResize(event);&quot; autofind=&quot;false&quot;</span>
<a href="#l13.197"></a><span id="l13.197">                src=&quot;about:blank&quot; onclick=&quot;return contentAreaClick(event);&quot; /&gt;</span>
<a href="#l13.198"></a><span id="l13.198">       &lt;splitter id=&quot;attachment-splitter&quot; collapse=&quot;after&quot; resizebefore=&quot;closest&quot; resizeafter=&quot;closest&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l13.199"></a><span id="l13.199" class="difflineminus">-      &lt;vbox id=&quot;attachmentView&quot;/&gt;</span>
<a href="#l13.200"></a><span id="l13.200" class="difflineplus">+      &lt;vbox id=&quot;attachmentView&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l13.201"></a><span id="l13.201" class="difflineplus">+#include msgAttachmentView.inc</span>
<a href="#l13.202"></a><span id="l13.202" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l13.203"></a><span id="l13.203">       &lt;findbar id=&quot;FindToolbar&quot; browserid=&quot;messagepane&quot;/&gt;</span>
<a href="#l13.204"></a><span id="l13.204">     &lt;/vbox&gt;</span>
<a href="#l13.205"></a><span id="l13.205">   &lt;/hbox&gt;</span>
<a href="#l13.206"></a><span id="l13.206">   &lt;panel id=&quot;customizeToolbarSheetPopup&quot; noautohide=&quot;true&quot;&gt;</span>
<a href="#l13.207"></a><span id="l13.207">     &lt;iframe id=&quot;customizeToolbarSheetIFrame&quot;</span>
<a href="#l13.208"></a><span id="l13.208">             style=&quot;&amp;dialog.dimensions;&quot;</span>
<a href="#l13.209"></a><span id="l13.209">             hidden=&quot;true&quot;/&gt;</span>
<a href="#l13.210"></a><span id="l13.210">   &lt;/panel&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/base/content/messenger.xul</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/base/content/messenger.xul</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -5,41 +5,47 @@</span>
<a href="#l14.4"></a><span id="l14.4"> </span>
<a href="#l14.5"></a><span id="l14.5"> #filter substitution</span>
<a href="#l14.6"></a><span id="l14.6"> </span>
<a href="#l14.7"></a><span id="l14.7"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/mailWindow1.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.8"></a><span id="l14.8"> &lt;?xml-stylesheet href=&quot;chrome://gloda/content/glodacomplete.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.9"></a><span id="l14.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/bindings.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.10"></a><span id="l14.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/tabmail.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.11"></a><span id="l14.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/tabmail.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/quickFilterBar.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/editContactOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/content/chat/chat.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/chat.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messageHeader.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/attachmentList.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgHdrViewSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l14.19"></a><span id="l14.19"> </span>
<a href="#l14.20"></a><span id="l14.20" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://communicator/content/utilityOverlay.xul&quot;?&gt;</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/msgHdrViewOverlay.xul&quot;?&gt;</span>
<a href="#l14.22"></a><span id="l14.22"> &lt;?xul-overlay href=&quot;chrome://messenger/content/mailWindowOverlay.xul&quot;?&gt;</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/extraCustomizeItems.xul&quot;?&gt;</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/mailOverlay.xul&quot;?&gt;</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/editContactOverlay.xul&quot;?&gt;</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/specialTabs.xul&quot;?&gt;</span>
<a href="#l14.27"></a><span id="l14.27" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/preferences/preferencesTab.xul&quot;?&gt;</span>
<a href="#l14.28"></a><span id="l14.28" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/quickFilterBar.xul&quot;?&gt;</span>
<a href="#l14.29"></a><span id="l14.29" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l14.30"></a><span id="l14.30" class="difflineminus">-&lt;?xul-overlay href=&quot;chrome://messenger/content/macMessengerOverlay.xul&quot;?&gt;</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineminus">-#endif</span>
<a href="#l14.32"></a><span id="l14.32"> </span>
<a href="#l14.33"></a><span id="l14.33"> &lt;!DOCTYPE window [</span>
<a href="#l14.34"></a><span id="l14.34"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l14.35"></a><span id="l14.35"> %brandDTD;</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineplus">+&lt;!ENTITY % chatDTD SYSTEM &quot;chrome://messenger/locale/chat.dtd&quot;&gt;</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineplus">+%chatDTD;</span>
<a href="#l14.38"></a><span id="l14.38" class="difflineplus">+&lt;!ENTITY % msgHdrViewOverlayDTD SYSTEM &quot;chrome://messenger/locale/msgHdrViewOverlay.dtd&quot;&gt;</span>
<a href="#l14.39"></a><span id="l14.39" class="difflineplus">+%msgHdrViewOverlayDTD;</span>
<a href="#l14.40"></a><span id="l14.40"> &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot; &gt;</span>
<a href="#l14.41"></a><span id="l14.41"> %messengerDTD;</span>
<a href="#l14.42"></a><span id="l14.42"> &lt;!ENTITY % customizeToolbarDTD SYSTEM &quot;chrome://messenger/locale/customizeToolbar.dtd&quot;&gt;</span>
<a href="#l14.43"></a><span id="l14.43"> %customizeToolbarDTD;</span>
<a href="#l14.44"></a><span id="l14.44"> &lt;!ENTITY % textcontextDTD SYSTEM &quot;chrome://global/locale/textcontext.dtd&quot;&gt;</span>
<a href="#l14.45"></a><span id="l14.45"> %textcontextDTD;</span>
<a href="#l14.46"></a><span id="l14.46"> &lt;!ENTITY % tabMailDTD SYSTEM &quot;chrome://messenger/locale/tabmail.dtd&quot; &gt;</span>
<a href="#l14.47"></a><span id="l14.47"> %tabMailDTD;</span>
<a href="#l14.48"></a><span id="l14.48" class="difflineplus">+&lt;!ENTITY % quickFilterBarDTD SYSTEM &quot;chrome://messenger/locale/quickFilterBar.dtd&quot;&gt;</span>
<a href="#l14.49"></a><span id="l14.49" class="difflineplus">+%quickFilterBarDTD;</span>
<a href="#l14.50"></a><span id="l14.50" class="difflineplus">+&lt;!ENTITY % utilityDTD SYSTEM &quot;chrome://communicator/locale/utilityOverlay.dtd&quot;&gt;</span>
<a href="#l14.51"></a><span id="l14.51" class="difflineplus">+%utilityDTD;</span>
<a href="#l14.52"></a><span id="l14.52" class="difflineplus">+&lt;!ENTITY % editContactOverlayDTD SYSTEM &quot;chrome://messenger/locale/editContactOverlay.dtd&quot;&gt;</span>
<a href="#l14.53"></a><span id="l14.53" class="difflineplus">+%editContactOverlayDTD;</span>
<a href="#l14.54"></a><span id="l14.54"> ]&gt;</span>
<a href="#l14.55"></a><span id="l14.55"> </span>
<a href="#l14.56"></a><span id="l14.56"> &lt;!--</span>
<a href="#l14.57"></a><span id="l14.57">   - The 'what you think of when you think of thunderbird' window;</span>
<a href="#l14.58"></a><span id="l14.58">   -  3-pane view inside of tabs.</span>
<a href="#l14.59"></a><span id="l14.59">   --&gt;</span>
<a href="#l14.60"></a><span id="l14.60"> &lt;window id=&quot;messengerWindow&quot;</span>
<a href="#l14.61"></a><span id="l14.61">         xmlns:svg=&quot;http://www.w3.org/2000/svg&quot;</span>
<a href="#l14.62"></a><span id="l14.62" class="difflineat">@@ -55,17 +61,23 @@</span>
<a href="#l14.63"></a><span id="l14.63">         toggletoolbar=&quot;true&quot;</span>
<a href="#l14.64"></a><span id="l14.64">         windowtype=&quot;mail:3pane&quot;</span>
<a href="#l14.65"></a><span id="l14.65">         macanimationtype=&quot;document&quot;</span>
<a href="#l14.66"></a><span id="l14.66">         lightweightthemes=&quot;true&quot;</span>
<a href="#l14.67"></a><span id="l14.67">         fullscreenbutton=&quot;true&quot;&gt;</span>
<a href="#l14.68"></a><span id="l14.68"> </span>
<a href="#l14.69"></a><span id="l14.69"> &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l14.70"></a><span id="l14.70">   &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l14.71"></a><span id="l14.71" class="difflineplus">+  &lt;stringbundle id=&quot;bundle_messenger&quot; src=&quot;chrome://messenger/locale/messenger.properties&quot;/&gt;</span>
<a href="#l14.72"></a><span id="l14.72">   &lt;stringbundle id=&quot;bundle_search&quot; src=&quot;chrome://messenger/locale/search.properties&quot;/&gt;</span>
<a href="#l14.73"></a><span id="l14.73" class="difflineplus">+  &lt;stringbundle id=&quot;chatBundle&quot; src=&quot;chrome://messenger/locale/chat.properties&quot;/&gt;</span>
<a href="#l14.74"></a><span id="l14.74" class="difflineplus">+  &lt;stringbundle id=&quot;bundle_dateformat&quot; src=&quot;chrome://chat/locale/dateFormat.properties&quot;/&gt;</span>
<a href="#l14.75"></a><span id="l14.75" class="difflineplus">+  &lt;stringbundle id=&quot;bundle_places&quot; src=&quot;chrome://places/locale/places.properties&quot;/&gt;</span>
<a href="#l14.76"></a><span id="l14.76" class="difflineplus">+  &lt;stringbundle id=&quot;bundle_editContact&quot;</span>
<a href="#l14.77"></a><span id="l14.77" class="difflineplus">+                src=&quot;chrome://messenger/locale/editContactOverlay.properties&quot;/&gt;</span>
<a href="#l14.78"></a><span id="l14.78"> &lt;/stringbundleset&gt;</span>
<a href="#l14.79"></a><span id="l14.79"> </span>
<a href="#l14.80"></a><span id="l14.80"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/globalOverlay.js&quot;/&gt;</span>
<a href="#l14.81"></a><span id="l14.81"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/commandglue.js&quot;/&gt;</span>
<a href="#l14.82"></a><span id="l14.82"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/shareglue.js&quot;/&gt;</span>
<a href="#l14.83"></a><span id="l14.83"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgViewNavigation.js&quot;/&gt;</span>
<a href="#l14.84"></a><span id="l14.84"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailWindow.js&quot;/&gt;</span>
<a href="#l14.85"></a><span id="l14.85"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/selectionsummaries.js&quot;/&gt;</span>
<a href="#l14.86"></a><span id="l14.86" class="difflineat">@@ -79,18 +91,30 @@</span>
<a href="#l14.87"></a><span id="l14.87"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/contentAreaUtils.js&quot;/&gt;</span>
<a href="#l14.88"></a><span id="l14.88"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/nsContextMenu.js&quot;/&gt;</span>
<a href="#l14.89"></a><span id="l14.89"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailContextMenus.js&quot;/&gt;</span>
<a href="#l14.90"></a><span id="l14.90"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/accountUtils.js&quot;/&gt;</span>
<a href="#l14.91"></a><span id="l14.91"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/folderPane.js&quot;/&gt;</span>
<a href="#l14.92"></a><span id="l14.92"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/phishingDetector.js&quot;/&gt;</span>
<a href="#l14.93"></a><span id="l14.93"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/contentAreaClick.js&quot;/&gt;</span>
<a href="#l14.94"></a><span id="l14.94"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/nsDragAndDrop.js&quot;/&gt;</span>
<a href="#l14.95"></a><span id="l14.95" class="difflineminus">-&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/editContactOverlay.js&quot;/&gt;</span>
<a href="#l14.96"></a><span id="l14.96" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/editContactPanel.js&quot;/&gt;</span>
<a href="#l14.97"></a><span id="l14.97"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/toolbarIconColor.js&quot;/&gt;</span>
<a href="#l14.98"></a><span id="l14.98" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/jsTreeView.js&quot;/&gt;</span>
<a href="#l14.99"></a><span id="l14.99" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgHdrView.js&quot;/&gt;</span>
<a href="#l14.100"></a><span id="l14.100" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/nsDragAndDrop.js&quot;/&gt;</span>
<a href="#l14.101"></a><span id="l14.101" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger-smime/content/msgHdrViewSMIMEOverlay.js&quot;/&gt;</span>
<a href="#l14.102"></a><span id="l14.102" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/chat/chat-messenger.js&quot;/&gt;</span>
<a href="#l14.103"></a><span id="l14.103" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/chat/imStatusSelector.js&quot;/&gt;</span>
<a href="#l14.104"></a><span id="l14.104" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/chat/imContextMenu.js&quot;/&gt;</span>
<a href="#l14.105"></a><span id="l14.105" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/preferences/preferencesTab.js&quot;/&gt;</span>
<a href="#l14.106"></a><span id="l14.106" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l14.107"></a><span id="l14.107" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailCore.js&quot; /&gt;</span>
<a href="#l14.108"></a><span id="l14.108" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/macMessengerMenu.js&quot;/&gt;</span>
<a href="#l14.109"></a><span id="l14.109" class="difflineplus">+#endif</span>
<a href="#l14.110"></a><span id="l14.110"> </span>
<a href="#l14.111"></a><span id="l14.111"> </span>
<a href="#l14.112"></a><span id="l14.112"> &lt;!-- move needed functions into a single js file --&gt;</span>
<a href="#l14.113"></a><span id="l14.113"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/threadPane.js&quot;/&gt;</span>
<a href="#l14.114"></a><span id="l14.114"> </span>
<a href="#l14.115"></a><span id="l14.115"> &lt;commandset id=&quot;mailCommands&quot;&gt;</span>
<a href="#l14.116"></a><span id="l14.116">   &lt;commandset id=&quot;mailFileMenuItems&quot;/&gt;</span>
<a href="#l14.117"></a><span id="l14.117">   &lt;commandset id=&quot;mailViewMenuItems&quot;/&gt;</span>
<a href="#l14.118"></a><span id="l14.118" class="difflineat">@@ -101,128 +125,171 @@</span>
<a href="#l14.119"></a><span id="l14.119">   &lt;commandset id=&quot;mailMessageMenuItems&quot;/&gt;</span>
<a href="#l14.120"></a><span id="l14.120">   &lt;commandset id=&quot;mailToolbarItems&quot;/&gt;</span>
<a href="#l14.121"></a><span id="l14.121">   &lt;commandset id=&quot;mailGetMsgMenuItems&quot;/&gt;</span>
<a href="#l14.122"></a><span id="l14.122">   &lt;commandset id=&quot;mailTagMenuItems&quot;/&gt;</span>
<a href="#l14.123"></a><span id="l14.123">   &lt;commandset id=&quot;mailMarkMenuItems&quot;/&gt;</span>
<a href="#l14.124"></a><span id="l14.124">   &lt;commandset id=&quot;mailToolsMenuItems&quot;/&gt;</span>
<a href="#l14.125"></a><span id="l14.125">   &lt;commandset id=&quot;globalEditMenuItems&quot;/&gt;</span>
<a href="#l14.126"></a><span id="l14.126">   &lt;commandset id=&quot;selectEditMenuItems&quot;/&gt;</span>
<a href="#l14.127"></a><span id="l14.127" class="difflineminus">-  &lt;commandset id=&quot;clipboardEditMenuItems&quot;/&gt;</span>
<a href="#l14.128"></a><span id="l14.128" class="difflineplus">+  &lt;commandset id=&quot;undoEditMenuItems&quot; commandupdater=&quot;true&quot; events=&quot;undo&quot; oncommandupdate=&quot;goUpdateUndoEditMenuItems()&quot;/&gt;</span>
<a href="#l14.129"></a><span id="l14.129" class="difflineplus">+  &lt;commandset id=&quot;clipboardEditMenuItems&quot; commandupdater=&quot;true&quot; events=&quot;clipboard&quot; oncommandupdate=&quot;goUpdatePasteMenuItems()&quot;/&gt;</span>
<a href="#l14.130"></a><span id="l14.130">   &lt;commandset id=&quot;webSearchItems&quot;/&gt;</span>
<a href="#l14.131"></a><span id="l14.131" class="difflineplus">+  &lt;commandset id=&quot;attachmentCommands&quot;&gt;</span>
<a href="#l14.132"></a><span id="l14.132" class="difflineplus">+    &lt;command id=&quot;cmd_openAllAttachments&quot;</span>
<a href="#l14.133"></a><span id="l14.133" class="difflineplus">+             oncommand=&quot;goDoCommand('cmd_openAllAttachments');&quot;</span>
<a href="#l14.134"></a><span id="l14.134" class="difflineplus">+             disabled=&quot;true&quot;/&gt;</span>
<a href="#l14.135"></a><span id="l14.135" class="difflineplus">+    &lt;command id=&quot;cmd_saveAllAttachments&quot;</span>
<a href="#l14.136"></a><span id="l14.136" class="difflineplus">+             oncommand=&quot;goDoCommand('cmd_saveAllAttachments');&quot;</span>
<a href="#l14.137"></a><span id="l14.137" class="difflineplus">+             disabled=&quot;true&quot;/&gt;</span>
<a href="#l14.138"></a><span id="l14.138" class="difflineplus">+    &lt;command id=&quot;cmd_detachAllAttachments&quot;</span>
<a href="#l14.139"></a><span id="l14.139" class="difflineplus">+             oncommand=&quot;goDoCommand('cmd_detachAllAttachments');&quot;</span>
<a href="#l14.140"></a><span id="l14.140" class="difflineplus">+             disabled=&quot;true&quot;/&gt;</span>
<a href="#l14.141"></a><span id="l14.141" class="difflineplus">+    &lt;command id=&quot;cmd_deleteAllAttachments&quot;</span>
<a href="#l14.142"></a><span id="l14.142" class="difflineplus">+             oncommand=&quot;goDoCommand('cmd_deleteAllAttachments');&quot;</span>
<a href="#l14.143"></a><span id="l14.143" class="difflineplus">+             disabled=&quot;true&quot;/&gt;</span>
<a href="#l14.144"></a><span id="l14.144" class="difflineplus">+  &lt;/commandset&gt;</span>
<a href="#l14.145"></a><span id="l14.145">   &lt;commandset id=&quot;FocusRingUpdate_Mail&quot;</span>
<a href="#l14.146"></a><span id="l14.146">         commandupdater=&quot;true&quot;</span>
<a href="#l14.147"></a><span id="l14.147">         events=&quot;focus&quot;</span>
<a href="#l14.148"></a><span id="l14.148">         oncommandupdate=&quot;FocusRingUpdate_Mail()&quot;/&gt;</span>
<a href="#l14.149"></a><span id="l14.149" class="difflineminus">-  &lt;commandset id=&quot;tasksCommands&quot;/&gt;</span>
<a href="#l14.150"></a><span id="l14.150" class="difflineplus">+  &lt;commandset id=&quot;tasksCommands&quot;&gt;</span>
<a href="#l14.151"></a><span id="l14.151" class="difflineplus">+    &lt;command id=&quot;cmd_newMessage&quot; oncommand=&quot;goOpenNewMessage();&quot;/&gt;</span>
<a href="#l14.152"></a><span id="l14.152" class="difflineplus">+    &lt;command id=&quot;cmd_newCard&quot; oncommand=&quot;openNewCardDialog()&quot;/&gt;</span>
<a href="#l14.153"></a><span id="l14.153" class="difflineplus">+  &lt;/commandset&gt;</span>
<a href="#l14.154"></a><span id="l14.154"> #ifdef XP_MACOSX</span>
<a href="#l14.155"></a><span id="l14.155">   &lt;commandset id=&quot;macWindowMenuItems&quot;/&gt;</span>
<a href="#l14.156"></a><span id="l14.156"> #endif</span>
<a href="#l14.157"></a><span id="l14.157">   &lt;command id=&quot;cmd_close&quot; oncommand=&quot;CloseTabOrWindow();&quot;/&gt;</span>
<a href="#l14.158"></a><span id="l14.158"> &lt;/commandset&gt;</span>
<a href="#l14.159"></a><span id="l14.159"> </span>
<a href="#l14.160"></a><span id="l14.160"> &lt;broadcasterset id=&quot;otherActionsButtonBroadcasters&quot;&gt;</span>
<a href="#l14.161"></a><span id="l14.161">    &lt;broadcaster id=&quot;otherActionsOpenIn&quot;/&gt;</span>
<a href="#l14.162"></a><span id="l14.162"> &lt;/broadcasterset&gt;</span>
<a href="#l14.163"></a><span id="l14.163"> </span>
<a href="#l14.164"></a><span id="l14.164"> &lt;keyset id=&quot;mailKeys&quot;&gt;</span>
<a href="#l14.165"></a><span id="l14.165" class="difflineminus">-  &lt;keyset id=&quot;tasksKeys&quot;/&gt;</span>
<a href="#l14.166"></a><span id="l14.166" class="difflineplus">+  &lt;keyset id=&quot;tasksKeys&quot;&gt;</span>
<a href="#l14.167"></a><span id="l14.167" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l14.168"></a><span id="l14.168" class="difflineplus">+  &lt;key id=&quot;key_newMessage&quot; key=&quot;&amp;newMessageCmd.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l14.169"></a><span id="l14.169" class="difflineplus">+       modifiers=&quot;accel,shift&quot;/&gt;</span>
<a href="#l14.170"></a><span id="l14.170" class="difflineplus">+  &lt;key id=&quot;key_newMessage2&quot; key=&quot;&amp;newMessageCmd2.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l14.171"></a><span id="l14.171" class="difflineplus">+       modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l14.172"></a><span id="l14.172" class="difflineplus">+#else</span>
<a href="#l14.173"></a><span id="l14.173" class="difflineplus">+  &lt;key id=&quot;key_newMessage&quot;  key=&quot;&amp;newMessageCmd.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l14.174"></a><span id="l14.174" class="difflineplus">+       modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l14.175"></a><span id="l14.175" class="difflineplus">+  &lt;key id=&quot;key_newMessage2&quot; key=&quot;&amp;newMessageCmd2.key;&quot; command=&quot;cmd_newMessage&quot;</span>
<a href="#l14.176"></a><span id="l14.176" class="difflineplus">+       modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l14.177"></a><span id="l14.177" class="difflineplus">+#endif</span>
<a href="#l14.178"></a><span id="l14.178" class="difflineplus">+  &lt;/keyset&gt;</span>
<a href="#l14.179"></a><span id="l14.179"> &lt;/keyset&gt;</span>
<a href="#l14.180"></a><span id="l14.180"> </span>
<a href="#l14.181"></a><span id="l14.181"> &lt;!-- Popup menus provided by mailWindowOverlay.xul --&gt;</span>
<a href="#l14.182"></a><span id="l14.182" class="difflineminus">-&lt;popupset id=&quot;mainPopupSet&quot;/&gt;</span>
<a href="#l14.183"></a><span id="l14.183" class="difflineminus">-&lt;menupopup id=&quot;mailContext&quot;/&gt;</span>
<a href="#l14.184"></a><span id="l14.184" class="difflineminus">-&lt;menupopup id=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l14.185"></a><span id="l14.185" class="difflineminus">-&lt;menupopup id=&quot;remoteContentOptions&quot;/&gt;</span>
<a href="#l14.186"></a><span id="l14.186" class="difflineminus">-&lt;menupopup id=&quot;phishingOptions&quot;/&gt;</span>
<a href="#l14.187"></a><span id="l14.187" class="difflineminus">-&lt;menupopup id=&quot;folderPaneContext&quot;/&gt;</span>
<a href="#l14.188"></a><span id="l14.188" class="difflineplus">+&lt;popupset id=&quot;mainPopupSet&quot;&gt;</span>
<a href="#l14.189"></a><span id="l14.189" class="difflineplus">+  &lt;panel type=&quot;glodacomplete-richlistbox&quot;</span>
<a href="#l14.190"></a><span id="l14.190" class="difflineplus">+         id=&quot;PopupGlodaAutocomplete&quot;</span>
<a href="#l14.191"></a><span id="l14.191" class="difflineplus">+         noautofocus=&quot;true&quot; /&gt;</span>
<a href="#l14.192"></a><span id="l14.192" class="difflineplus">+  &lt;panel type=&quot;autocomplete&quot;</span>
<a href="#l14.193"></a><span id="l14.193" class="difflineplus">+         id=&quot;PopupAutoComplete&quot;</span>
<a href="#l14.194"></a><span id="l14.194" class="difflineplus">+         noautofocus=&quot;true&quot;/&gt;</span>
<a href="#l14.195"></a><span id="l14.195" class="difflineplus">+  &lt;menupopup id=&quot;mailContext&quot;/&gt;</span>
<a href="#l14.196"></a><span id="l14.196" class="difflineplus">+  &lt;menupopup id=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l14.197"></a><span id="l14.197" class="difflineplus">+  &lt;menupopup id=&quot;remoteContentOptions&quot;/&gt;</span>
<a href="#l14.198"></a><span id="l14.198" class="difflineplus">+  &lt;menupopup id=&quot;phishingOptions&quot;/&gt;</span>
<a href="#l14.199"></a><span id="l14.199" class="difflineplus">+  &lt;menupopup id=&quot;folderPaneContext&quot;/&gt;</span>
<a href="#l14.200"></a><span id="l14.200"> </span>
<a href="#l14.201"></a><span id="l14.201" class="difflineminus">-&lt;!-- Popup menus provided by msgHdrViewOverlay.xul --&gt;</span>
<a href="#l14.202"></a><span id="l14.202" class="difflineminus">-&lt;menupopup id=&quot;messageIdContext&quot;/&gt;</span>
<a href="#l14.203"></a><span id="l14.203" class="difflineminus">-&lt;menupopup id=&quot;attachmentListContext&quot;/&gt;</span>
<a href="#l14.204"></a><span id="l14.204" class="difflineminus">-&lt;menupopup id=&quot;attachmentItemContext&quot;/&gt;</span>
<a href="#l14.205"></a><span id="l14.205" class="difflineminus">-&lt;menupopup id=&quot;header-toolbar-context-menu&quot;/&gt;</span>
<a href="#l14.206"></a><span id="l14.206" class="difflineminus">-&lt;menupopup id=&quot;attachment-toolbar-context-menu&quot;/&gt;</span>
<a href="#l14.207"></a><span id="l14.207" class="difflineminus">-&lt;menupopup id=&quot;copyUrlPopup&quot;/&gt;</span>
<a href="#l14.208"></a><span id="l14.208" class="difflineplus">+#include msgHdrPopup.inc</span>
<a href="#l14.209"></a><span id="l14.209"> </span>
<a href="#l14.210"></a><span id="l14.210" class="difflineminus">-&lt;!-- Panel provided by editContactOverlay.xul --&gt;</span>
<a href="#l14.211"></a><span id="l14.211" class="difflineminus">-&lt;panel id=&quot;editContactPanel&quot;/&gt;</span>
<a href="#l14.212"></a><span id="l14.212" class="difflineminus">-</span>
<a href="#l14.213"></a><span id="l14.213" class="difflineminus">-&lt;tooltip id=&quot;attachmentListTooltip&quot;/&gt;</span>
<a href="#l14.214"></a><span id="l14.214" class="difflineplus">+  &lt;tooltip id=&quot;attachmentListTooltip&quot;/&gt;</span>
<a href="#l14.215"></a><span id="l14.215"> </span>
<a href="#l14.216"></a><span id="l14.216" class="difflineminus">-&lt;menupopup id=&quot;newsgroupPopup&quot; position=&quot;after_start&quot; class=&quot;newsgroupPopup&quot;</span>
<a href="#l14.217"></a><span id="l14.217" class="difflineminus">-           onpopupshowing=&quot;setupNewsgroupPopup(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup')); goUpdateCommand('cmd_createFilterFromPopup')&quot;</span>
<a href="#l14.218"></a><span id="l14.218" class="difflineminus">-           onpopuphiding=&quot;hideEmailNewsPopup(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'));&quot;&gt;</span>
<a href="#l14.219"></a><span id="l14.219" class="difflineminus">-    &lt;menuitem id=&quot;newsgroupPlaceHolder&quot;</span>
<a href="#l14.220"></a><span id="l14.220" class="difflineminus">-              disabled=&quot;true&quot;/&gt;</span>
<a href="#l14.221"></a><span id="l14.221" class="difflineminus">-    &lt;menuseparator/&gt;</span>
<a href="#l14.222"></a><span id="l14.222" class="difflineminus">-    &lt;menuitem id=&quot;sendMessageToNewsgroupItem&quot; label=&quot;&amp;SendMessageTo.label;&quot;</span>
<a href="#l14.223"></a><span id="l14.223" class="difflineminus">-              accesskey=&quot;&amp;SendMessageTo.accesskey;&quot;</span>
<a href="#l14.224"></a><span id="l14.224" class="difflineminus">-              oncommand=&quot;SendMailToNode(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'), event)&quot;/&gt;</span>
<a href="#l14.225"></a><span id="l14.225" class="difflineminus">-    &lt;menuitem id=&quot;copyNewsgroupNameItem&quot; label=&quot;&amp;CopyNewsgroupName.label;&quot;</span>
<a href="#l14.226"></a><span id="l14.226" class="difflineminus">-              accesskey=&quot;&amp;CopyNewsgroupName.accesskey;&quot;</span>
<a href="#l14.227"></a><span id="l14.227" class="difflineminus">-              oncommand=&quot;CopyEmailNewsAddress(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'))&quot;/&gt;</span>
<a href="#l14.228"></a><span id="l14.228" class="difflineminus">-    &lt;menuitem id=&quot;copyNewsgroupURLItem&quot; label=&quot;&amp;CopyNewsgroupURL.label;&quot;</span>
<a href="#l14.229"></a><span id="l14.229" class="difflineminus">-              accesskey=&quot;&amp;CopyNewsgroupURL.accesskey;&quot;</span>
<a href="#l14.230"></a><span id="l14.230" class="difflineminus">-              oncommand=&quot;CopyNewsgroupURL(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'))&quot;/&gt;</span>
<a href="#l14.231"></a><span id="l14.231" class="difflineminus">-    &lt;menuseparator id=&quot;subscribeToNewsgroupSeparator&quot;/&gt;</span>
<a href="#l14.232"></a><span id="l14.232" class="difflineminus">-    &lt;menuitem id=&quot;subscribeToNewsgroupItem&quot; label=&quot;&amp;SubscribeToNewsgroup.label;&quot;</span>
<a href="#l14.233"></a><span id="l14.233" class="difflineminus">-              accesskey=&quot;&amp;SubscribeToNewsgroup.accesskey;&quot;</span>
<a href="#l14.234"></a><span id="l14.234" class="difflineminus">-              oncommand=&quot;SubscribeToNewsgroup(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'))&quot;/&gt;</span>
<a href="#l14.235"></a><span id="l14.235" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l14.236"></a><span id="l14.236" class="difflineplus">+  &lt;menupopup id=&quot;newsgroupPopup&quot; position=&quot;after_start&quot; class=&quot;newsgroupPopup&quot;</span>
<a href="#l14.237"></a><span id="l14.237" class="difflineplus">+             onpopupshowing=&quot;setupNewsgroupPopup(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup')); goUpdateCommand('cmd_createFilterFromPopup')&quot;</span>
<a href="#l14.238"></a><span id="l14.238" class="difflineplus">+             onpopuphiding=&quot;hideEmailNewsPopup(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'));&quot;&gt;</span>
<a href="#l14.239"></a><span id="l14.239" class="difflineplus">+      &lt;menuitem id=&quot;newsgroupPlaceHolder&quot;</span>
<a href="#l14.240"></a><span id="l14.240" class="difflineplus">+                disabled=&quot;true&quot;/&gt;</span>
<a href="#l14.241"></a><span id="l14.241" class="difflineplus">+      &lt;menuseparator/&gt;</span>
<a href="#l14.242"></a><span id="l14.242" class="difflineplus">+      &lt;menuitem id=&quot;sendMessageToNewsgroupItem&quot; label=&quot;&amp;SendMessageTo.label;&quot;</span>
<a href="#l14.243"></a><span id="l14.243" class="difflineplus">+                accesskey=&quot;&amp;SendMessageTo.accesskey;&quot;</span>
<a href="#l14.244"></a><span id="l14.244" class="difflineplus">+                oncommand=&quot;SendMailToNode(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'), event)&quot;/&gt;</span>
<a href="#l14.245"></a><span id="l14.245" class="difflineplus">+      &lt;menuitem id=&quot;copyNewsgroupNameItem&quot; label=&quot;&amp;CopyNewsgroupName.label;&quot;</span>
<a href="#l14.246"></a><span id="l14.246" class="difflineplus">+                accesskey=&quot;&amp;CopyNewsgroupName.accesskey;&quot;</span>
<a href="#l14.247"></a><span id="l14.247" class="difflineplus">+                oncommand=&quot;CopyEmailNewsAddress(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'))&quot;/&gt;</span>
<a href="#l14.248"></a><span id="l14.248" class="difflineplus">+      &lt;menuitem id=&quot;copyNewsgroupURLItem&quot; label=&quot;&amp;CopyNewsgroupURL.label;&quot;</span>
<a href="#l14.249"></a><span id="l14.249" class="difflineplus">+                accesskey=&quot;&amp;CopyNewsgroupURL.accesskey;&quot;</span>
<a href="#l14.250"></a><span id="l14.250" class="difflineplus">+                oncommand=&quot;CopyNewsgroupURL(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'))&quot;/&gt;</span>
<a href="#l14.251"></a><span id="l14.251" class="difflineplus">+      &lt;menuseparator id=&quot;subscribeToNewsgroupSeparator&quot;/&gt;</span>
<a href="#l14.252"></a><span id="l14.252" class="difflineplus">+      &lt;menuitem id=&quot;subscribeToNewsgroupItem&quot; label=&quot;&amp;SubscribeToNewsgroup.label;&quot;</span>
<a href="#l14.253"></a><span id="l14.253" class="difflineplus">+                accesskey=&quot;&amp;SubscribeToNewsgroup.accesskey;&quot;</span>
<a href="#l14.254"></a><span id="l14.254" class="difflineplus">+                oncommand=&quot;SubscribeToNewsgroup(findEmailNodeFromPopupNode(document.popupNode, 'newsgroupPopup'))&quot;/&gt;</span>
<a href="#l14.255"></a><span id="l14.255" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l14.256"></a><span id="l14.256" class="difflineplus">+</span>
<a href="#l14.257"></a><span id="l14.257" class="difflineplus">+  &lt;menupopup id=&quot;pageContextMenu&quot;</span>
<a href="#l14.258"></a><span id="l14.258" class="difflineplus">+             pagemenu=&quot;end&quot;</span>
<a href="#l14.259"></a><span id="l14.259" class="difflineplus">+             onpopupshowing=&quot;InitPageMenu(this, event);&quot;&gt;</span>
<a href="#l14.260"></a><span id="l14.260" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l14.261"></a><span id="l14.261" class="difflineplus">+</span>
<a href="#l14.262"></a><span id="l14.262" class="difflineplus">+  &lt;!-- We want to be able to do the following:</span>
<a href="#l14.263"></a><span id="l14.263" class="difflineplus">+</span>
<a href="#l14.264"></a><span id="l14.264" class="difflineplus">+       1)  Open the tabContextMenu by right-clicking on individual tab selectors</span>
<a href="#l14.265"></a><span id="l14.265" class="difflineplus">+       2)  Open the mail-toolbox customize context menu when right-clicking on</span>
<a href="#l14.266"></a><span id="l14.266" class="difflineplus">+           the empty space of the tab selector.</span>
<a href="#l14.267"></a><span id="l14.267"> </span>
<a href="#l14.268"></a><span id="l14.268" class="difflineminus">-&lt;menupopup id=&quot;pageContextMenu&quot;</span>
<a href="#l14.269"></a><span id="l14.269" class="difflineminus">-           pagemenu=&quot;end&quot;</span>
<a href="#l14.270"></a><span id="l14.270" class="difflineminus">-           onpopupshowing=&quot;InitPageMenu(this, event);&quot;&gt;</span>
<a href="#l14.271"></a><span id="l14.271" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l14.272"></a><span id="l14.272" class="difflineminus">-</span>
<a href="#l14.273"></a><span id="l14.273" class="difflineminus">-&lt;!-- We want to be able to do the following:</span>
<a href="#l14.274"></a><span id="l14.274" class="difflineplus">+       In order to do that, we make the tabContextMenu available in the main</span>
<a href="#l14.275"></a><span id="l14.275" class="difflineplus">+       document, and refer to it via the context attributes of each newly spawned</span>
<a href="#l14.276"></a><span id="l14.276" class="difflineplus">+       tab selector.  We also make the context attribute of the tab strip default</span>
<a href="#l14.277"></a><span id="l14.277" class="difflineplus">+       to the mail-toolbox customization popup.</span>
<a href="#l14.278"></a><span id="l14.278"> </span>
<a href="#l14.279"></a><span id="l14.279" class="difflineminus">-     1)  Open the tabContextMenu by right-clicking on individual tab selectors</span>
<a href="#l14.280"></a><span id="l14.280" class="difflineminus">-     2)  Open the mail-toolbox customize context menu when right-clicking on</span>
<a href="#l14.281"></a><span id="l14.281" class="difflineminus">-         the empty space of the tab selector.</span>
<a href="#l14.282"></a><span id="l14.282" class="difflineminus">-</span>
<a href="#l14.283"></a><span id="l14.283" class="difflineminus">-     In order to do that, we make the tabContextMenu available in the main</span>
<a href="#l14.284"></a><span id="l14.284" class="difflineminus">-     document, and refer to it via the context attributes of each newly spawned</span>
<a href="#l14.285"></a><span id="l14.285" class="difflineminus">-     tab selector.  We also make the context attribute of the tab strip default</span>
<a href="#l14.286"></a><span id="l14.286" class="difflineminus">-     to the mail-toolbox customization popup.</span>
<a href="#l14.287"></a><span id="l14.287" class="difflineminus">-</span>
<a href="#l14.288"></a><span id="l14.288" class="difflineminus">-     So, when right-clicking on a tab, the tabContextMenu opens up, and stops</span>
<a href="#l14.289"></a><span id="l14.289" class="difflineminus">-     the click event from propagating - but when the strip is right-clicked</span>
<a href="#l14.290"></a><span id="l14.290" class="difflineminus">-     outside of any tabs, the mail-toolbox context menu opens, as desired.</span>
<a href="#l14.291"></a><span id="l14.291" class="difflineminus">---&gt;</span>
<a href="#l14.292"></a><span id="l14.292" class="difflineplus">+       So, when right-clicking on a tab, the tabContextMenu opens up, and stops</span>
<a href="#l14.293"></a><span id="l14.293" class="difflineplus">+       the click event from propagating - but when the strip is right-clicked</span>
<a href="#l14.294"></a><span id="l14.294" class="difflineplus">+       outside of any tabs, the mail-toolbox context menu opens, as desired.</span>
<a href="#l14.295"></a><span id="l14.295" class="difflineplus">+  --&gt;</span>
<a href="#l14.296"></a><span id="l14.296"> </span>
<a href="#l14.297"></a><span id="l14.297" class="difflineminus">-&lt;menupopup id=&quot;tabContextMenu&quot;</span>
<a href="#l14.298"></a><span id="l14.298" class="difflineminus">-               onpopupshowing=&quot;return document.getElementById('tabmail').onTabContextMenuShowing(document.popupNode);&quot;&gt;</span>
<a href="#l14.299"></a><span id="l14.299" class="difflineminus">-  &lt;menuitem label=&quot;&amp;moveToNewWindow.label;&quot;</span>
<a href="#l14.300"></a><span id="l14.300" class="difflineminus">-                accesskey=&quot;&amp;moveToNewWindow.accesskey;&quot;</span>
<a href="#l14.301"></a><span id="l14.301" class="difflineminus">-                anonid=&quot;openTabInWindow&quot;</span>
<a href="#l14.302"></a><span id="l14.302" class="difflineminus">-                oncommand=&quot;document.getElementById('tabmail').replaceTabWithWindow(document.popupNode);&quot;/&gt;</span>
<a href="#l14.303"></a><span id="l14.303" class="difflineminus">-  &lt;menuseparator /&gt;</span>
<a href="#l14.304"></a><span id="l14.304" class="difflineminus">-  &lt;menuitem label=&quot;&amp;closeOtherTabsCmd2.label;&quot;</span>
<a href="#l14.305"></a><span id="l14.305" class="difflineminus">-                accesskey=&quot;&amp;closeOtherTabsCmd2.accesskey;&quot;</span>
<a href="#l14.306"></a><span id="l14.306" class="difflineminus">-                anonid=&quot;closeOtherTabs&quot;</span>
<a href="#l14.307"></a><span id="l14.307" class="difflineminus">-                oncommand=&quot;document.getElementById('tabmail').closeOtherTabs(document.popupNode);&quot;/&gt;</span>
<a href="#l14.308"></a><span id="l14.308" class="difflineminus">-  &lt;menuseparator /&gt;</span>
<a href="#l14.309"></a><span id="l14.309" class="difflineminus">-  &lt;menu label=&quot;&amp;recentlyClosedTabsCmd.label;&quot;</span>
<a href="#l14.310"></a><span id="l14.310" class="difflineminus">-            accesskey=&quot;&amp;recentlyClosedTabsCmd.accesskey;&quot;</span>
<a href="#l14.311"></a><span id="l14.311" class="difflineminus">-            anonid=&quot;recentlyClosedTabs&quot; &gt;</span>
<a href="#l14.312"></a><span id="l14.312" class="difflineminus">-    &lt;menupopup onpopupshowing=&quot;return InitRecentlyClosedTabsPopup(this);&quot; /&gt;</span>
<a href="#l14.313"></a><span id="l14.313" class="difflineminus">-  &lt;/menu&gt;</span>
<a href="#l14.314"></a><span id="l14.314" class="difflineminus">-  &lt;menuitem label=&quot;&amp;closeTabCmd2.label;&quot;</span>
<a href="#l14.315"></a><span id="l14.315" class="difflineminus">-                accesskey=&quot;&amp;closeTabCmd2.accesskey;&quot;</span>
<a href="#l14.316"></a><span id="l14.316" class="difflineminus">-                anonid=&quot;closeTab&quot;</span>
<a href="#l14.317"></a><span id="l14.317" class="difflineminus">-                oncommand=&quot;document.getElementById('tabmail').closeTab(document.popupNode);&quot;/&gt;</span>
<a href="#l14.318"></a><span id="l14.318" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l14.319"></a><span id="l14.319" class="difflineplus">+  &lt;menupopup id=&quot;tabContextMenu&quot;</span>
<a href="#l14.320"></a><span id="l14.320" class="difflineplus">+                 onpopupshowing=&quot;return document.getElementById('tabmail').onTabContextMenuShowing(document.popupNode);&quot;&gt;</span>
<a href="#l14.321"></a><span id="l14.321" class="difflineplus">+    &lt;menuitem label=&quot;&amp;moveToNewWindow.label;&quot;</span>
<a href="#l14.322"></a><span id="l14.322" class="difflineplus">+                  accesskey=&quot;&amp;moveToNewWindow.accesskey;&quot;</span>
<a href="#l14.323"></a><span id="l14.323" class="difflineplus">+                  anonid=&quot;openTabInWindow&quot;</span>
<a href="#l14.324"></a><span id="l14.324" class="difflineplus">+                  oncommand=&quot;document.getElementById('tabmail').replaceTabWithWindow(document.popupNode);&quot;/&gt;</span>
<a href="#l14.325"></a><span id="l14.325" class="difflineplus">+    &lt;menuseparator /&gt;</span>
<a href="#l14.326"></a><span id="l14.326" class="difflineplus">+    &lt;menuitem label=&quot;&amp;closeOtherTabsCmd2.label;&quot;</span>
<a href="#l14.327"></a><span id="l14.327" class="difflineplus">+                  accesskey=&quot;&amp;closeOtherTabsCmd2.accesskey;&quot;</span>
<a href="#l14.328"></a><span id="l14.328" class="difflineplus">+                  anonid=&quot;closeOtherTabs&quot;</span>
<a href="#l14.329"></a><span id="l14.329" class="difflineplus">+                  oncommand=&quot;document.getElementById('tabmail').closeOtherTabs(document.popupNode);&quot;/&gt;</span>
<a href="#l14.330"></a><span id="l14.330" class="difflineplus">+    &lt;menuseparator /&gt;</span>
<a href="#l14.331"></a><span id="l14.331" class="difflineplus">+    &lt;menu label=&quot;&amp;recentlyClosedTabsCmd.label;&quot;</span>
<a href="#l14.332"></a><span id="l14.332" class="difflineplus">+              accesskey=&quot;&amp;recentlyClosedTabsCmd.accesskey;&quot;</span>
<a href="#l14.333"></a><span id="l14.333" class="difflineplus">+              anonid=&quot;recentlyClosedTabs&quot; &gt;</span>
<a href="#l14.334"></a><span id="l14.334" class="difflineplus">+      &lt;menupopup onpopupshowing=&quot;return InitRecentlyClosedTabsPopup(this);&quot; /&gt;</span>
<a href="#l14.335"></a><span id="l14.335" class="difflineplus">+    &lt;/menu&gt;</span>
<a href="#l14.336"></a><span id="l14.336" class="difflineplus">+    &lt;menuitem label=&quot;&amp;closeTabCmd2.label;&quot;</span>
<a href="#l14.337"></a><span id="l14.337" class="difflineplus">+                  accesskey=&quot;&amp;closeTabCmd2.accesskey;&quot;</span>
<a href="#l14.338"></a><span id="l14.338" class="difflineplus">+                  anonid=&quot;closeTab&quot;</span>
<a href="#l14.339"></a><span id="l14.339" class="difflineplus">+                  oncommand=&quot;document.getElementById('tabmail').closeTab(document.popupNode);&quot;/&gt;</span>
<a href="#l14.340"></a><span id="l14.340" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l14.341"></a><span id="l14.341"> </span>
<a href="#l14.342"></a><span id="l14.342" class="difflineminus">-&lt;tooltip id=&quot;tabmail-tabs-tooltip&quot; onpopupshowing=&quot;document.getElementById('tabmail').createTooltip(event);&quot;/&gt;</span>
<a href="#l14.343"></a><span id="l14.343" class="difflineminus">-&lt;tooltip id=&quot;folderpopup&quot; class=&quot;folderSummaryPopup&quot;/&gt;</span>
<a href="#l14.344"></a><span id="l14.344" class="difflineplus">+  &lt;tooltip id=&quot;tabmail-tabs-tooltip&quot; onpopupshowing=&quot;document.getElementById('tabmail').createTooltip(event);&quot;/&gt;</span>
<a href="#l14.345"></a><span id="l14.345" class="difflineplus">+  &lt;tooltip id=&quot;folderpopup&quot; class=&quot;folderSummaryPopup&quot;/&gt;</span>
<a href="#l14.346"></a><span id="l14.346" class="difflineplus">+</span>
<a href="#l14.347"></a><span id="l14.347" class="difflineplus">+  &lt;tooltip id=&quot;aHTMLTooltip&quot; page=&quot;true&quot;/&gt;</span>
<a href="#l14.348"></a><span id="l14.348" class="difflineplus">+  &lt;tooltip id=&quot;tabmail-tabs-tooltip&quot; onpopupshowing=&quot;document.getElementById('tabmail').createTooltip(event);&quot;/&gt;</span>
<a href="#l14.349"></a><span id="l14.349"> </span>
<a href="#l14.350"></a><span id="l14.350" class="difflineminus">-&lt;tooltip id=&quot;aHTMLTooltip&quot; page=&quot;true&quot;/&gt;</span>
<a href="#l14.351"></a><span id="l14.351" class="difflineminus">-&lt;tooltip id=&quot;tabmail-tabs-tooltip&quot; onpopupshowing=&quot;document.getElementById('tabmail').createTooltip(event);&quot;/&gt;</span>
<a href="#l14.352"></a><span id="l14.352" class="difflineplus">+#include editContactPanel.inc</span>
<a href="#l14.353"></a><span id="l14.353" class="difflineplus">+#include ../../components/im/content/chat-menu.inc</span>
<a href="#l14.354"></a><span id="l14.354" class="difflineplus">+&lt;/popupset&gt;</span>
<a href="#l14.355"></a><span id="l14.355" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l14.356"></a><span id="l14.356" class="difflineplus">+&lt;popupset&gt;</span>
<a href="#l14.357"></a><span id="l14.357" class="difflineplus">+  &lt;menupopup id=&quot;menu_mac_dockmenu&quot;&gt;</span>
<a href="#l14.358"></a><span id="l14.358" class="difflineplus">+    &lt;menuitem label=&quot;&amp;writeNewMessageDock.label;&quot; id=&quot;tasksWriteNewMessage&quot;</span>
<a href="#l14.359"></a><span id="l14.359" class="difflineplus">+              oncommand=&quot;writeNewMessageDock();&quot;/&gt;</span>
<a href="#l14.360"></a><span id="l14.360" class="difflineplus">+    &lt;menuitem label=&quot;&amp;openAddressBookDock.label;&quot; id=&quot;tasksOpenAddressBook&quot;</span>
<a href="#l14.361"></a><span id="l14.361" class="difflineplus">+              oncommand=&quot;openAddressBookDock();&quot;/&gt;</span>
<a href="#l14.362"></a><span id="l14.362" class="difflineplus">+    &lt;menuitem label=&quot;&amp;dockOptions.label;&quot; id=&quot;tasksMenuDockOptions&quot;</span>
<a href="#l14.363"></a><span id="l14.363" class="difflineplus">+              oncommand=&quot;openDockOptions();&quot;/&gt;</span>
<a href="#l14.364"></a><span id="l14.364" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l14.365"></a><span id="l14.365" class="difflineplus">+&lt;/popupset&gt;</span>
<a href="#l14.366"></a><span id="l14.366" class="difflineplus">+#endif</span>
<a href="#l14.367"></a><span id="l14.367"> </span>
<a href="#l14.368"></a><span id="l14.368"> #ifdef CAN_DRAW_IN_TITLEBAR</span>
<a href="#l14.369"></a><span id="l14.369"> &lt;vbox id=&quot;titlebar&quot;&gt;</span>
<a href="#l14.370"></a><span id="l14.370">   &lt;hbox id=&quot;titlebar-content&quot;&gt;</span>
<a href="#l14.371"></a><span id="l14.371">     &lt;spacer id=&quot;titlebar-spacer&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l14.372"></a><span id="l14.372">     &lt;hbox id=&quot;titlebar-buttonbox-container&quot; align=&quot;start&quot;&gt;</span>
<a href="#l14.373"></a><span id="l14.373">       &lt;hbox id=&quot;titlebar-buttonbox&quot;&gt;</span>
<a href="#l14.374"></a><span id="l14.374">         &lt;toolbarbutton class=&quot;titlebar-button&quot; id=&quot;titlebar-min&quot; oncommand=&quot;window.minimize();&quot;/&gt;</span>
<a href="#l14.375"></a><span id="l14.375" class="difflineat">@@ -380,16 +447,17 @@</span>
<a href="#l14.376"></a><span id="l14.376">                               onunderflow=&quot;document.getElementById('folderPaneHeader').setAttribute('overflowing', 'false');&quot;/&gt;</span>
<a href="#l14.377"></a><span id="l14.377">               &lt;/tree&gt;</span>
<a href="#l14.378"></a><span id="l14.378">             &lt;/vbox&gt;</span>
<a href="#l14.379"></a><span id="l14.379"> </span>
<a href="#l14.380"></a><span id="l14.380">             &lt;splitter id=&quot;folderpane_splitter&quot; collapse=&quot;before&quot;/&gt;</span>
<a href="#l14.381"></a><span id="l14.381"> </span>
<a href="#l14.382"></a><span id="l14.382">             &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l14.383"></a><span id="l14.383">               &lt;box orient=&quot;vertical&quot; id=&quot;messagesBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l14.384"></a><span id="l14.384" class="difflineplus">+#include quickFilterBar.inc</span>
<a href="#l14.385"></a><span id="l14.385">                 &lt;deck id=&quot;displayDeck&quot; flex=&quot;1&quot; selectedIndex=&quot;0&quot;</span>
<a href="#l14.386"></a><span id="l14.386">                       minheight=&quot;100&quot; height=&quot;100&quot; persist=&quot;height&quot;</span>
<a href="#l14.387"></a><span id="l14.387">                       &gt;</span>
<a href="#l14.388"></a><span id="l14.388">                   &lt;!-- first panel in displayDeck is Account Central --&gt;</span>
<a href="#l14.389"></a><span id="l14.389">                   &lt;vbox id=&quot;accountCentralBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l14.390"></a><span id="l14.390">                     &lt;iframe name=&quot;accountCentralPane&quot;</span>
<a href="#l14.391"></a><span id="l14.391">                             contextmenu=&quot;pageContextMenu&quot;</span>
<a href="#l14.392"></a><span id="l14.392">                             tooltip=&quot;aHTMLTooltip&quot;</span>
<a href="#l14.393"></a><span id="l14.393" class="difflineat">@@ -519,17 +587,19 @@</span>
<a href="#l14.394"></a><span id="l14.394">                              style=&quot;height: 0px; min-height: 1px&quot;</span>
<a href="#l14.395"></a><span id="l14.395">                              flex=&quot;1&quot; name=&quot;multimessage&quot;</span>
<a href="#l14.396"></a><span id="l14.396">                              hidden=&quot;true&quot;</span>
<a href="#l14.397"></a><span id="l14.397">                              disablesecurity=&quot;true&quot; disablehistory=&quot;true&quot;</span>
<a href="#l14.398"></a><span id="l14.398">                              tooltip=&quot;aHTMLTooltip&quot;</span>
<a href="#l14.399"></a><span id="l14.399">                              src=&quot;chrome://messenger/content/multimessageview.xhtml&quot;</span>
<a href="#l14.400"></a><span id="l14.400">                              autofind=&quot;false&quot;/&gt;</span>
<a href="#l14.401"></a><span id="l14.401">                     &lt;vbox id=&quot;singlemessage&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l14.402"></a><span id="l14.402" class="difflineminus">-                      &lt;hbox id=&quot;msgHeaderView&quot;/&gt;</span>
<a href="#l14.403"></a><span id="l14.403" class="difflineplus">+                      &lt;hbox id=&quot;msgHeaderView&quot; collapsed=&quot;true&quot; class=&quot;main-header-area&quot;&gt;</span>
<a href="#l14.404"></a><span id="l14.404" class="difflineplus">+#include msgHdrView.inc</span>
<a href="#l14.405"></a><span id="l14.405" class="difflineplus">+                      &lt;/hbox&gt;</span>
<a href="#l14.406"></a><span id="l14.406">                       &lt;!-- The msgNotificationBar appears on top of the message</span>
<a href="#l14.407"></a><span id="l14.407">                            and displays information like: junk, contains remote</span>
<a href="#l14.408"></a><span id="l14.408">                            images, or is a suspected phishing URL. --&gt;</span>
<a href="#l14.409"></a><span id="l14.409">                       &lt;notificationbox id=&quot;msgNotificationBar&quot; notificationside=&quot;top&quot;/&gt;</span>
<a href="#l14.410"></a><span id="l14.410">                       &lt;!-- The messagepanewrapper hbox exists to allow</span>
<a href="#l14.411"></a><span id="l14.411">                            extensions to add sidebars to the message. --&gt;</span>
<a href="#l14.412"></a><span id="l14.412">                       &lt;hbox id=&quot;messagepanewrapper&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l14.413"></a><span id="l14.413">                         &lt;browser id=&quot;messagepane&quot; context=&quot;mailContext&quot;</span>
<a href="#l14.414"></a><span id="l14.414" class="difflineat">@@ -539,31 +609,99 @@</span>
<a href="#l14.415"></a><span id="l14.415">                                  primary=&quot;true&quot; src=&quot;about:blank&quot;</span>
<a href="#l14.416"></a><span id="l14.416">                                  onresize=&quot;return messagePaneOnResize(event);&quot;</span>
<a href="#l14.417"></a><span id="l14.417">                                  disablesecurity=&quot;true&quot;</span>
<a href="#l14.418"></a><span id="l14.418">                                  onclick=&quot;return contentAreaClick(event);&quot;/&gt;</span>
<a href="#l14.419"></a><span id="l14.419">                       &lt;/hbox&gt;</span>
<a href="#l14.420"></a><span id="l14.420">                       &lt;splitter id=&quot;attachment-splitter&quot; collapse=&quot;after&quot;</span>
<a href="#l14.421"></a><span id="l14.421">                                 resizebefore=&quot;closest&quot; resizeafter=&quot;closest&quot;</span>
<a href="#l14.422"></a><span id="l14.422">                                 collapsed=&quot;true&quot;/&gt;</span>
<a href="#l14.423"></a><span id="l14.423" class="difflineminus">-                      &lt;vbox id=&quot;attachmentView&quot;/&gt;</span>
<a href="#l14.424"></a><span id="l14.424" class="difflineplus">+                      &lt;vbox id=&quot;attachmentView&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l14.425"></a><span id="l14.425" class="difflineplus">+#include msgAttachmentView.inc</span>
<a href="#l14.426"></a><span id="l14.426" class="difflineplus">+                      &lt;/vbox&gt;</span>
<a href="#l14.427"></a><span id="l14.427">                       &lt;findbar id=&quot;FindToolbar&quot; browserid=&quot;messagepane&quot;/&gt;</span>
<a href="#l14.428"></a><span id="l14.428">                     &lt;/vbox&gt;</span>
<a href="#l14.429"></a><span id="l14.429">                   &lt;/vbox&gt;</span>
<a href="#l14.430"></a><span id="l14.430">                 &lt;/hbox&gt;</span>
<a href="#l14.431"></a><span id="l14.431">                &lt;notificationbox id=&quot;msg-footer-notification-box&quot; notificationside=&quot;bottom&quot;/&gt;</span>
<a href="#l14.432"></a><span id="l14.432">               &lt;/box&gt;</span>
<a href="#l14.433"></a><span id="l14.433">             &lt;/vbox&gt;</span>
<a href="#l14.434"></a><span id="l14.434">           &lt;/box&gt;</span>
<a href="#l14.435"></a><span id="l14.435">         &lt;/box&gt; &lt;!-- end of mailContent --&gt;</span>
<a href="#l14.436"></a><span id="l14.436" class="difflineplus">+#include ../../components/im/content/chat-messenger.inc</span>
<a href="#l14.437"></a><span id="l14.437">       &lt;/tabpanels&gt;</span>
<a href="#l14.438"></a><span id="l14.438">     &lt;/tabmail&gt;</span>
<a href="#l14.439"></a><span id="l14.439" class="difflineminus">-    &lt;vbox id=&quot;contentTab&quot;/&gt;</span>
<a href="#l14.440"></a><span id="l14.440" class="difflineminus">-    &lt;vbox id=&quot;chromeTab&quot;/&gt;</span>
<a href="#l14.441"></a><span id="l14.441" class="difflineminus">-    &lt;vbox id=&quot;glodaTab&quot;/&gt;</span>
<a href="#l14.442"></a><span id="l14.442" class="difflineplus">+    &lt;vbox id=&quot;contentTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l14.443"></a><span id="l14.443" class="difflineplus">+      &lt;vbox flex=&quot;1&quot; class=&quot;contentTabInstance&quot;&gt;</span>
<a href="#l14.444"></a><span id="l14.444" class="difflineplus">+        &lt;toolbox id=&quot;dummycontenttoolbox&quot; class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l14.445"></a><span id="l14.445" class="difflineplus">+          &lt;toolbar id=&quot;dummycontenttoolbar&quot; class=&quot;contentTabToolbar&quot;&gt;</span>
<a href="#l14.446"></a><span id="l14.446" class="difflineplus">+          &lt;/toolbar&gt;</span>
<a href="#l14.447"></a><span id="l14.447" class="difflineplus">+        &lt;/toolbox&gt;</span>
<a href="#l14.448"></a><span id="l14.448" class="difflineplus">+        &lt;notificationbox flex=&quot;1&quot; notificationside=&quot;top&quot;&gt;</span>
<a href="#l14.449"></a><span id="l14.449" class="difflineplus">+          &lt;browser id=&quot;dummycontentbrowser&quot; type=&quot;content&quot; flex=&quot;1&quot;</span>
<a href="#l14.450"></a><span id="l14.450" class="difflineplus">+                   disablehistory=&quot;true&quot; autocompletepopup=&quot;PopupAutoComplete&quot;</span>
<a href="#l14.451"></a><span id="l14.451" class="difflineplus">+                   context=&quot;mailContext&quot;/&gt;</span>
<a href="#l14.452"></a><span id="l14.452" class="difflineplus">+        &lt;/notificationbox&gt;</span>
<a href="#l14.453"></a><span id="l14.453" class="difflineplus">+        &lt;findbar browserid=&quot;dummycontentbrowser&quot;/&gt;</span>
<a href="#l14.454"></a><span id="l14.454" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l14.455"></a><span id="l14.455" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l14.456"></a><span id="l14.456" class="difflineplus">+</span>
<a href="#l14.457"></a><span id="l14.457" class="difflineplus">+    &lt;vbox id=&quot;chromeTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l14.458"></a><span id="l14.458" class="difflineplus">+      &lt;vbox flex=&quot;1&quot; class=&quot;chromeTabInstance&quot;&gt;</span>
<a href="#l14.459"></a><span id="l14.459" class="difflineplus">+        &lt;toolbox id=&quot;dummychrometoolbox&quot; class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l14.460"></a><span id="l14.460" class="difflineplus">+          &lt;toolbar id=&quot;dummychrometoolbar&quot; class=&quot;contentTabToolbar&quot;&gt;&lt;/toolbar&gt;</span>
<a href="#l14.461"></a><span id="l14.461" class="difflineplus">+        &lt;/toolbox&gt;</span>
<a href="#l14.462"></a><span id="l14.462" class="difflineplus">+        &lt;notificationbox flex=&quot;1&quot; notificationside=&quot;top&quot;&gt;</span>
<a href="#l14.463"></a><span id="l14.463" class="difflineplus">+          &lt;browser id=&quot;dummychromebrowser&quot; flex=&quot;1&quot;</span>
<a href="#l14.464"></a><span id="l14.464" class="difflineplus">+                   disablesecurity=&quot;true&quot; disablehistory=&quot;true&quot;</span>
<a href="#l14.465"></a><span id="l14.465" class="difflineplus">+                   autocompletepopup=&quot;PopupAutoComplete&quot;/&gt;</span>
<a href="#l14.466"></a><span id="l14.466" class="difflineplus">+        &lt;/notificationbox&gt;</span>
<a href="#l14.467"></a><span id="l14.467" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l14.468"></a><span id="l14.468" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l14.469"></a><span id="l14.469" class="difflineplus">+</span>
<a href="#l14.470"></a><span id="l14.470" class="difflineplus">+    &lt;vbox id=&quot;glodaTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l14.471"></a><span id="l14.471" class="difflineplus">+      &lt;vbox flex=&quot;1&quot; class=&quot;chromeTabInstance&quot;&gt;</span>
<a href="#l14.472"></a><span id="l14.472" class="difflineplus">+        &lt;toolbox class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l14.473"></a><span id="l14.473" class="difflineplus">+          &lt;toolbar class=&quot;glodaTabToolbar inline-toolbar chromeclass-toolbar&quot;&gt;</span>
<a href="#l14.474"></a><span id="l14.474" class="difflineplus">+            &lt;spacer flex=&quot;1&quot; /&gt;</span>
<a href="#l14.475"></a><span id="l14.475" class="difflineplus">+            &lt;spacer flex=&quot;1&quot; /&gt;</span>
<a href="#l14.476"></a><span id="l14.476" class="difflineplus">+            &lt;hbox flex=&quot;1&quot; class=&quot;remote-gloda-search-container&quot;&gt;</span>
<a href="#l14.477"></a><span id="l14.477" class="difflineplus">+              &lt;textbox class=&quot;remote-gloda-search searchBox&quot;</span>
<a href="#l14.478"></a><span id="l14.478" class="difflineplus">+                       flex=&quot;1&quot;</span>
<a href="#l14.479"></a><span id="l14.479" class="difflineplus">+                       type=&quot;glodacomplete&quot;</span>
<a href="#l14.480"></a><span id="l14.480" class="difflineplus">+                       searchbutton=&quot;true&quot;</span>
<a href="#l14.481"></a><span id="l14.481" class="difflineplus">+                       autocompletesearch=&quot;gloda&quot;</span>
<a href="#l14.482"></a><span id="l14.482" class="difflineplus">+                       autocompletepopup=&quot;PopupGlodaAutocomplete&quot;</span>
<a href="#l14.483"></a><span id="l14.483" class="difflineplus">+                       autocompletesearchparam=&quot;global&quot;</span>
<a href="#l14.484"></a><span id="l14.484" class="difflineplus">+                       timeout=&quot;200&quot;</span>
<a href="#l14.485"></a><span id="l14.485" class="difflineplus">+                       maxlength=&quot;192&quot;</span>
<a href="#l14.486"></a><span id="l14.486" class="difflineplus">+                       placeholder=&quot;&quot;</span>
<a href="#l14.487"></a><span id="l14.487" class="difflineplus">+                       emptytextbase=&quot;&amp;search.label.base1;&quot;</span>
<a href="#l14.488"></a><span id="l14.488" class="difflineplus">+                       keyLabelNonMac=&quot;&amp;search.keyLabel.nonmac;&quot;</span>
<a href="#l14.489"></a><span id="l14.489" class="difflineplus">+                       keyLabelMac=&quot;&amp;search.keyLabel.mac;&quot;&gt;</span>
<a href="#l14.490"></a><span id="l14.490" class="difflineplus">+                &lt;hbox&gt;</span>
<a href="#l14.491"></a><span id="l14.491" class="difflineplus">+                  &lt;image class=&quot;gloda-search-icon&quot; /&gt;</span>
<a href="#l14.492"></a><span id="l14.492" class="difflineplus">+                &lt;/hbox&gt;</span>
<a href="#l14.493"></a><span id="l14.493" class="difflineplus">+              &lt;/textbox&gt;</span>
<a href="#l14.494"></a><span id="l14.494" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l14.495"></a><span id="l14.495" class="difflineplus">+          &lt;/toolbar&gt;</span>
<a href="#l14.496"></a><span id="l14.496" class="difflineplus">+        &lt;/toolbox&gt;</span>
<a href="#l14.497"></a><span id="l14.497" class="difflineplus">+        &lt;iframe flex=&quot;1&quot;/&gt;</span>
<a href="#l14.498"></a><span id="l14.498" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l14.499"></a><span id="l14.499" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l14.500"></a><span id="l14.500" class="difflineplus">+    &lt;vbox id=&quot;preferencesTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l14.501"></a><span id="l14.501" class="difflineplus">+      &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l14.502"></a><span id="l14.502" class="difflineplus">+        &lt;notificationbox flex=&quot;1&quot;&gt;</span>
<a href="#l14.503"></a><span id="l14.503" class="difflineplus">+          &lt;browser id=&quot;preferencesbrowser&quot; type=&quot;content&quot; flex=&quot;1&quot;</span>
<a href="#l14.504"></a><span id="l14.504" class="difflineplus">+                   disablehistory=&quot;true&quot; autocompletepopup=&quot;PopupAutoComplete&quot;</span>
<a href="#l14.505"></a><span id="l14.505" class="difflineplus">+                   context=&quot;mailContext&quot;/&gt;</span>
<a href="#l14.506"></a><span id="l14.506" class="difflineplus">+        &lt;/notificationbox&gt;</span>
<a href="#l14.507"></a><span id="l14.507" class="difflineplus">+        &lt;findbar browserid=&quot;preferencesbrowser&quot;/&gt;</span>
<a href="#l14.508"></a><span id="l14.508" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l14.509"></a><span id="l14.509" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l14.510"></a><span id="l14.510">   &lt;/hbox&gt;</span>
<a href="#l14.511"></a><span id="l14.511">   &lt;panel id=&quot;customizeToolbarSheetPopup&quot; noautohide=&quot;true&quot;&gt;</span>
<a href="#l14.512"></a><span id="l14.512">     &lt;iframe id=&quot;customizeToolbarSheetIFrame&quot;</span>
<a href="#l14.513"></a><span id="l14.513">             style=&quot;&amp;dialog.dimensions;&quot;</span>
<a href="#l14.514"></a><span id="l14.514">             hidden=&quot;true&quot;/&gt;</span>
<a href="#l14.515"></a><span id="l14.515">   &lt;/panel&gt;</span>
<a href="#l14.516"></a><span id="l14.516"> </span>
<a href="#l14.517"></a><span id="l14.517">   &lt;notificationbox id=&quot;mail-notification-box&quot; notificationside=&quot;bottom&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1">new file mode 100644</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineminus">--- /dev/null</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineplus">+++ b/mail/base/content/msgAttachmentView.inc</span>
<a href="#l15.4"></a><span id="l15.4" class="difflineat">@@ -0,0 +1,106 @@</span>
<a href="#l15.5"></a><span id="l15.5" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.6"></a><span id="l15.6" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.7"></a><span id="l15.7" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l15.8"></a><span id="l15.8" class="difflineplus">+</span>
<a href="#l15.9"></a><span id="l15.9" class="difflineplus">+&lt;!-- the message pane consists of 4 'boxes'. Box #4 is the attachment box which</span>
<a href="#l15.10"></a><span id="l15.10" class="difflineplus">+     can be toggled into a slim or an expanded view --&gt;</span>
<a href="#l15.11"></a><span id="l15.11" class="difflineplus">+                        &lt;hbox align=&quot;center&quot; id=&quot;attachmentBar&quot;</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+                              context=&quot;attachment-toolbar-context-menu&quot;</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+                              onclick=&quot;if (event.button == 0) toggleAttachmentList(undefined, true);&quot;&gt;</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+                          &lt;button type=&quot;checkbox&quot; id=&quot;attachmentToggle&quot;</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+                                  onmousedown=&quot;event.preventDefault();&quot;</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineplus">+                                  onclick=&quot;event.stopPropagation();&quot;</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineplus">+                                  oncommand=&quot;toggleAttachmentList(this.checked, true);&quot;/&gt;</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineplus">+                          &lt;hbox align=&quot;center&quot; id=&quot;attachmentInfo&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+                            &lt;image id=&quot;attachmentIcon&quot;/&gt;</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineplus">+                            &lt;label id=&quot;attachmentCount&quot;/&gt;</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineplus">+                            &lt;label id=&quot;attachmentName&quot; crop=&quot;center&quot; flex=&quot;1&quot;</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineplus">+                                   tooltiptext=&quot;&amp;openAttachment.tooltip;&quot;</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineplus">+                                   onclick=&quot;OpenAttachmentFromBar(event);&quot;</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineplus">+                                   ondragstart=&quot;nsDragAndDrop.startDrag(event,attachmentNameDNDObserver);&quot;/&gt;</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineplus">+                            &lt;label id=&quot;attachmentSize&quot;/&gt;</span>
<a href="#l15.26"></a><span id="l15.26" class="difflineplus">+                          &lt;/hbox&gt;</span>
<a href="#l15.27"></a><span id="l15.27" class="difflineplus">+                          &lt;!-- Use a very large flex value here so that attachmentCount doesn't take</span>
<a href="#l15.28"></a><span id="l15.28" class="difflineplus">+                               up more space than necessary, but still crops itself if there's not</span>
<a href="#l15.29"></a><span id="l15.29" class="difflineplus">+                               enough space. --&gt;</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineplus">+                          &lt;spacer flex=&quot;9999&quot;/&gt;</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineplus">+</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineplus">+                          &lt;toolbox id=&quot;attachment-view-toolbox&quot;</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineplus">+                                   class=&quot;inline-toolbox&quot;</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineplus">+                                   defaulticonsize=&quot;small&quot;</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineplus">+                                   minwidth=&quot;50px&quot;</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineplus">+                                   defaultlabelalign=&quot;end&quot;</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineplus">+                                   defaultmode=&quot;full&quot;</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineplus">+                                   inlinetoolbox=&quot;true&quot;&gt;</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineplus">+                            &lt;toolbarpalette id=&quot;attachment-view-toolbar-palette&quot;&gt;</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineplus">+                              &lt;toolbaritem id=&quot;attachmentSaveAll&quot;</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineplus">+                                           title=&quot;&amp;saveAllAttachmentsButton1.label;&quot;&gt;</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineplus">+                                &lt;toolbarbutton type=&quot;menu-button&quot; id=&quot;attachmentSaveAllSingle&quot;</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineplus">+                                               class=&quot;toolbarbutton-1 msgHeaderView-button&quot;</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineplus">+                                               label=&quot;&amp;saveAttachmentButton1.label;&quot;</span>
<a href="#l15.45"></a><span id="l15.45" class="difflineplus">+                                               tooltiptext=&quot;&amp;saveAttachmentButton1.tooltip;&quot;</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineplus">+                                               onclick=&quot;event.stopPropagation();&quot;</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineplus">+                                               oncommand=&quot;TryHandleAllAttachments('saveAs'); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineplus">+                                               hidden=&quot;true&quot;&gt;</span>
<a href="#l15.49"></a><span id="l15.49" class="difflineplus">+                                  &lt;menupopup id=&quot;attachmentSaveAllSingleMenu&quot;</span>
<a href="#l15.50"></a><span id="l15.50" class="difflineplus">+                                             onpopupshowing=&quot;onShowSaveAttachmentMenuSingle();&quot;&gt;</span>
<a href="#l15.51"></a><span id="l15.51" class="difflineplus">+                                    &lt;menuitem id=&quot;button-openAttachment&quot;</span>
<a href="#l15.52"></a><span id="l15.52" class="difflineplus">+                                              oncommand=&quot;TryHandleAllAttachments('open'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.53"></a><span id="l15.53" class="difflineplus">+                                              label=&quot;&amp;openAttachmentCmd.label;&quot;</span>
<a href="#l15.54"></a><span id="l15.54" class="difflineplus">+                                              accesskey=&quot;&amp;openAttachmentCmd.accesskey;&quot;/&gt;</span>
<a href="#l15.55"></a><span id="l15.55" class="difflineplus">+                                    &lt;menuitem id=&quot;button-saveAttachment&quot;</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineplus">+                                              oncommand=&quot;TryHandleAllAttachments('saveAs'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineplus">+                                              label=&quot;&amp;saveAsAttachmentCmd.label;&quot;</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineplus">+                                              accesskey=&quot;&amp;saveAsAttachmentCmd.accesskey;&quot;/&gt;</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineplus">+                                    &lt;menuseparator id=&quot;button-menu-separator&quot;/&gt;</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineplus">+                                    &lt;menuitem id=&quot;button-detachAttachment&quot;</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineplus">+                                              oncommand=&quot;TryHandleAllAttachments('detach'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.62"></a><span id="l15.62" class="difflineplus">+                                              label=&quot;&amp;detachAttachmentCmd.label;&quot;</span>
<a href="#l15.63"></a><span id="l15.63" class="difflineplus">+                                              accesskey=&quot;&amp;detachAttachmentCmd.accesskey;&quot;/&gt;</span>
<a href="#l15.64"></a><span id="l15.64" class="difflineplus">+                                    &lt;menuitem id=&quot;button-deleteAttachment&quot;</span>
<a href="#l15.65"></a><span id="l15.65" class="difflineplus">+                                              oncommand=&quot;TryHandleAllAttachments('delete'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.66"></a><span id="l15.66" class="difflineplus">+                                              label=&quot;&amp;deleteAttachmentCmd.label;&quot;</span>
<a href="#l15.67"></a><span id="l15.67" class="difflineplus">+                                              accesskey=&quot;&amp;deleteAttachmentCmd.accesskey;&quot;/&gt;</span>
<a href="#l15.68"></a><span id="l15.68" class="difflineplus">+                                  &lt;/menupopup&gt;</span>
<a href="#l15.69"></a><span id="l15.69" class="difflineplus">+                                &lt;/toolbarbutton&gt;</span>
<a href="#l15.70"></a><span id="l15.70" class="difflineplus">+                                &lt;toolbarbutton type=&quot;menu-button&quot; id=&quot;attachmentSaveAllMultiple&quot;</span>
<a href="#l15.71"></a><span id="l15.71" class="difflineplus">+                                               class=&quot;toolbarbutton-1 msgHeaderView-button&quot;</span>
<a href="#l15.72"></a><span id="l15.72" class="difflineplus">+                                               label=&quot;&amp;saveAllAttachmentsButton1.label;&quot;</span>
<a href="#l15.73"></a><span id="l15.73" class="difflineplus">+                                               tooltiptext=&quot;&amp;saveAllAttachmentsButton1.tooltip;&quot;</span>
<a href="#l15.74"></a><span id="l15.74" class="difflineplus">+                                               onclick=&quot;event.stopPropagation();&quot;</span>
<a href="#l15.75"></a><span id="l15.75" class="difflineplus">+                                               oncommand=&quot;TryHandleAllAttachments('save'); RestoreFocusAfterHdrButton();&quot;&gt;</span>
<a href="#l15.76"></a><span id="l15.76" class="difflineplus">+                                  &lt;menupopup id=&quot;attachmentSaveAllMultipleMenu&quot;</span>
<a href="#l15.77"></a><span id="l15.77" class="difflineplus">+                                             onpopupshowing=&quot;onShowSaveAttachmentMenuMultiple();&quot;&gt;</span>
<a href="#l15.78"></a><span id="l15.78" class="difflineplus">+                                    &lt;menuitem id=&quot;button-openAllAttachments&quot;</span>
<a href="#l15.79"></a><span id="l15.79" class="difflineplus">+                                              oncommand=&quot;TryHandleAllAttachments('open'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.80"></a><span id="l15.80" class="difflineplus">+                                              label=&quot;&amp;openAllAttachmentsCmd.label;&quot;</span>
<a href="#l15.81"></a><span id="l15.81" class="difflineplus">+                                              accesskey=&quot;&amp;openAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l15.82"></a><span id="l15.82" class="difflineplus">+                                    &lt;menuitem id=&quot;button-saveAllAttachments&quot;</span>
<a href="#l15.83"></a><span id="l15.83" class="difflineplus">+                                              oncommand=&quot;TryHandleAllAttachments('save'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.84"></a><span id="l15.84" class="difflineplus">+                                              label=&quot;&amp;saveAllAttachmentsCmd.label;&quot;</span>
<a href="#l15.85"></a><span id="l15.85" class="difflineplus">+                                              accesskey=&quot;&amp;saveAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l15.86"></a><span id="l15.86" class="difflineplus">+                                    &lt;menuseparator id=&quot;button-menu-separator-all&quot;/&gt;</span>
<a href="#l15.87"></a><span id="l15.87" class="difflineplus">+                                    &lt;menuitem id=&quot;button-detachAllAttachments&quot;</span>
<a href="#l15.88"></a><span id="l15.88" class="difflineplus">+                                              oncommand=&quot;TryHandleAllAttachments('detach'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.89"></a><span id="l15.89" class="difflineplus">+                                              label=&quot;&amp;detachAllAttachmentsCmd.label;&quot;</span>
<a href="#l15.90"></a><span id="l15.90" class="difflineplus">+                                              accesskey=&quot;&amp;detachAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l15.91"></a><span id="l15.91" class="difflineplus">+                                    &lt;menuitem id=&quot;button-deleteAllAttachments&quot;</span>
<a href="#l15.92"></a><span id="l15.92" class="difflineplus">+                                              oncommand=&quot;TryHandleAllAttachments('delete'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l15.93"></a><span id="l15.93" class="difflineplus">+                                              label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l15.94"></a><span id="l15.94" class="difflineplus">+                                              accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l15.95"></a><span id="l15.95" class="difflineplus">+                                  &lt;/menupopup&gt;</span>
<a href="#l15.96"></a><span id="l15.96" class="difflineplus">+                                &lt;/toolbarbutton&gt;</span>
<a href="#l15.97"></a><span id="l15.97" class="difflineplus">+                              &lt;/toolbaritem&gt;</span>
<a href="#l15.98"></a><span id="l15.98" class="difflineplus">+                            &lt;/toolbarpalette&gt;</span>
<a href="#l15.99"></a><span id="l15.99" class="difflineplus">+                            &lt;toolbar id=&quot;attachment-view-toolbar&quot; class=&quot;inline-toolbar&quot;</span>
<a href="#l15.100"></a><span id="l15.100" class="difflineplus">+                                     customizable=&quot;true&quot; mode=&quot;full&quot;</span>
<a href="#l15.101"></a><span id="l15.101" class="difflineplus">+                                     context=&quot;attachment-toolbar-context-menu&quot;</span>
<a href="#l15.102"></a><span id="l15.102" class="difflineplus">+                                     defaulticonsize=&quot;small&quot; defaultmode=&quot;full&quot;</span>
<a href="#l15.103"></a><span id="l15.103" class="difflineplus">+                                     defaultset=&quot;attachmentSaveAll&quot;/&gt;</span>
<a href="#l15.104"></a><span id="l15.104" class="difflineplus">+                          &lt;/toolbox&gt;</span>
<a href="#l15.105"></a><span id="l15.105" class="difflineplus">+                        &lt;/hbox&gt;</span>
<a href="#l15.106"></a><span id="l15.106" class="difflineplus">+                        &lt;attachmentlist orient=&quot;horizontal&quot; id=&quot;attachmentList&quot; flex=&quot;1&quot;</span>
<a href="#l15.107"></a><span id="l15.107" class="difflineplus">+                                        seltype=&quot;multiple&quot; context=&quot;attachmentListContext&quot;</span>
<a href="#l15.108"></a><span id="l15.108" class="difflineplus">+                                        itemcontext=&quot;attachmentItemContext&quot;</span>
<a href="#l15.109"></a><span id="l15.109" class="difflineplus">+                                        ondragstart=&quot;nsDragAndDrop.startDrag(event,attachmentListDNDObserver);&quot;</span>
<a href="#l15.110"></a><span id="l15.110" class="difflineplus">+                                        ondragover=&quot;nsDragAndDrop.dragOver(event, attachmentListDNDObserver);&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1">new file mode 100644</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineminus">--- /dev/null</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineplus">+++ b/mail/base/content/msgHdrPopup.inc</span>
<a href="#l16.4"></a><span id="l16.4" class="difflineat">@@ -0,0 +1,135 @@</span>
<a href="#l16.5"></a><span id="l16.5" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.6"></a><span id="l16.6" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.7"></a><span id="l16.7" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l16.8"></a><span id="l16.8" class="difflineplus">+</span>
<a href="#l16.9"></a><span id="l16.9" class="difflineplus">+  &lt;menupopup id=&quot;messageIdContext&quot; popupanchor=&quot;bottomleft&quot;</span>
<a href="#l16.10"></a><span id="l16.10" class="difflineplus">+             onpopupshowing=&quot;FillMessageIdContextMenu(document.popupNode);&quot;&gt;</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineplus">+    &lt;menuitem id=&quot;messageIdContext-messageIdTarget&quot;</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+              disabled=&quot;true&quot;/&gt;</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+    &lt;menuseparator id=&quot;messageIdContext-separator&quot;/&gt;</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+    &lt;menuitem id=&quot;messageIdContext-openMessageForMsgId&quot;</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+              label=&quot;&amp;OpenMessageForMsgId.label;&quot;</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+              accesskey=&quot;&amp;OpenMessageForMsgId.accesskey;&quot;</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineplus">+              oncommand=&quot;var messageId = GetMessageIdFromNode(document.popupNode, true);</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineplus">+                         OpenMessageForMessageId(messageId)&quot;/&gt;</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineplus">+    &lt;menuitem id=&quot;messageIdContext-openBrowserWithMsgId&quot;</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineplus">+              label=&quot;&amp;OpenBrowserWithMsgId.label;&quot;</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineplus">+              accesskey=&quot;&amp;OpenBrowserWithMsgId.accesskey;&quot;</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineplus">+              oncommand=&quot;var messageId = GetMessageIdFromNode(document.popupNode, true);</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+                         OpenBrowserWithMessageId(messageId)&quot;/&gt;</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineplus">+    &lt;menuitem id=&quot;messageIdContext-copyMessageId&quot;</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineplus">+              label=&quot;&amp;CopyMessageId.label;&quot;</span>
<a href="#l16.26"></a><span id="l16.26" class="difflineplus">+              accesskey=&quot;&amp;CopyMessageId.accesskey;&quot;</span>
<a href="#l16.27"></a><span id="l16.27" class="difflineplus">+              oncommand=&quot;var messageId = GetMessageIdFromNode(document.popupNode, false);</span>
<a href="#l16.28"></a><span id="l16.28" class="difflineplus">+                         CopyMessageId(messageId);&quot;/&gt;</span>
<a href="#l16.29"></a><span id="l16.29" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineplus">+</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineplus">+  &lt;menupopup id=&quot;attachmentItemContext&quot;</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+             onpopupshowing=&quot;return onShowAttachmentItemContextMenu();&quot;</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineplus">+             onpopuphiding=&quot;return onHideAttachmentItemContextMenu();&quot;&gt;</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineplus">+    &lt;menuitem id=&quot;context-openAttachment&quot;</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineplus">+              label=&quot;&amp;openAttachmentCmd.label;&quot;</span>
<a href="#l16.36"></a><span id="l16.36" class="difflineplus">+              accesskey=&quot;&amp;openAttachmentCmd.accesskey;&quot;</span>
<a href="#l16.37"></a><span id="l16.37" class="difflineplus">+              oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'open');&quot;/&gt;</span>
<a href="#l16.38"></a><span id="l16.38" class="difflineplus">+    &lt;menuitem id=&quot;context-saveAttachment&quot;</span>
<a href="#l16.39"></a><span id="l16.39" class="difflineplus">+              label=&quot;&amp;saveAsAttachmentCmd.label;&quot;</span>
<a href="#l16.40"></a><span id="l16.40" class="difflineplus">+              accesskey=&quot;&amp;saveAsAttachmentCmd.accesskey;&quot;</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineplus">+              oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'saveAs');&quot;/&gt;</span>
<a href="#l16.42"></a><span id="l16.42" class="difflineplus">+    &lt;menuseparator id=&quot;context-menu-separator&quot;/&gt;</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineplus">+    &lt;menuitem id=&quot;context-detachAttachment&quot;</span>
<a href="#l16.44"></a><span id="l16.44" class="difflineplus">+              label=&quot;&amp;detachAttachmentCmd.label;&quot;</span>
<a href="#l16.45"></a><span id="l16.45" class="difflineplus">+              accesskey=&quot;&amp;detachAttachmentCmd.accesskey;&quot;</span>
<a href="#l16.46"></a><span id="l16.46" class="difflineplus">+              oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'detach');&quot;/&gt;</span>
<a href="#l16.47"></a><span id="l16.47" class="difflineplus">+    &lt;menuitem id=&quot;context-deleteAttachment&quot;</span>
<a href="#l16.48"></a><span id="l16.48" class="difflineplus">+              label=&quot;&amp;deleteAttachmentCmd.label;&quot;</span>
<a href="#l16.49"></a><span id="l16.49" class="difflineplus">+              accesskey=&quot;&amp;deleteAttachmentCmd.accesskey;&quot;</span>
<a href="#l16.50"></a><span id="l16.50" class="difflineplus">+              oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'delete');&quot;/&gt;</span>
<a href="#l16.51"></a><span id="l16.51" class="difflineplus">+    &lt;menuseparator id=&quot;context-menu-copyurl-separator&quot;/&gt;</span>
<a href="#l16.52"></a><span id="l16.52" class="difflineplus">+    &lt;menuitem id=&quot;context-copyAttachmentUrl&quot;</span>
<a href="#l16.53"></a><span id="l16.53" class="difflineplus">+              label=&quot;&amp;copyLinkCmd.label;&quot;</span>
<a href="#l16.54"></a><span id="l16.54" class="difflineplus">+              accesskey=&quot;&amp;copyLinkCmd.accesskey;&quot;</span>
<a href="#l16.55"></a><span id="l16.55" class="difflineplus">+              oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'copyUrl');&quot;/&gt;</span>
<a href="#l16.56"></a><span id="l16.56" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l16.57"></a><span id="l16.57" class="difflineplus">+</span>
<a href="#l16.58"></a><span id="l16.58" class="difflineplus">+  &lt;menupopup id=&quot;attachmentListContext&quot;</span>
<a href="#l16.59"></a><span id="l16.59" class="difflineplus">+             onpopupshowing=&quot;goUpdateAttachmentCommands();&quot;&gt;</span>
<a href="#l16.60"></a><span id="l16.60" class="difflineplus">+    &lt;menuitem id=&quot;context-openAllAttachments&quot;</span>
<a href="#l16.61"></a><span id="l16.61" class="difflineplus">+              label=&quot;&amp;openAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.62"></a><span id="l16.62" class="difflineplus">+              accesskey=&quot;&amp;openAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.63"></a><span id="l16.63" class="difflineplus">+              command=&quot;cmd_openAllAttachments&quot;/&gt;</span>
<a href="#l16.64"></a><span id="l16.64" class="difflineplus">+    &lt;menuitem id=&quot;context-saveAllAttachments&quot;</span>
<a href="#l16.65"></a><span id="l16.65" class="difflineplus">+              label=&quot;&amp;saveAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.66"></a><span id="l16.66" class="difflineplus">+              accesskey=&quot;&amp;saveAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.67"></a><span id="l16.67" class="difflineplus">+              command=&quot;cmd_saveAllAttachments&quot;/&gt;</span>
<a href="#l16.68"></a><span id="l16.68" class="difflineplus">+    &lt;menuseparator id=&quot;context-menu-separator-all&quot;/&gt;</span>
<a href="#l16.69"></a><span id="l16.69" class="difflineplus">+    &lt;menuitem id=&quot;context-detachAllAttachments&quot;</span>
<a href="#l16.70"></a><span id="l16.70" class="difflineplus">+              label=&quot;&amp;detachAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.71"></a><span id="l16.71" class="difflineplus">+              accesskey=&quot;&amp;detachAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.72"></a><span id="l16.72" class="difflineplus">+              command=&quot;cmd_detachAllAttachments&quot;/&gt;</span>
<a href="#l16.73"></a><span id="l16.73" class="difflineplus">+    &lt;menuitem id=&quot;context-deleteAllAttachments&quot;</span>
<a href="#l16.74"></a><span id="l16.74" class="difflineplus">+              label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.75"></a><span id="l16.75" class="difflineplus">+              accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.76"></a><span id="l16.76" class="difflineplus">+              command=&quot;cmd_deleteAllAttachments&quot;/&gt;</span>
<a href="#l16.77"></a><span id="l16.77" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l16.78"></a><span id="l16.78" class="difflineplus">+</span>
<a href="#l16.79"></a><span id="l16.79" class="difflineplus">+  &lt;menupopup id=&quot;attachmentMenuList&quot;</span>
<a href="#l16.80"></a><span id="l16.80" class="difflineplus">+             onpopupshowing=&quot;FillAttachmentListPopup(event, this);&quot;&gt;</span>
<a href="#l16.81"></a><span id="l16.81" class="difflineplus">+     &lt;menuseparator/&gt;</span>
<a href="#l16.82"></a><span id="l16.82" class="difflineplus">+     &lt;menuitem label=&quot;&amp;openAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.83"></a><span id="l16.83" class="difflineplus">+               accesskey=&quot;&amp;openAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.84"></a><span id="l16.84" class="difflineplus">+               command=&quot;cmd_openAllAttachments&quot; /&gt;</span>
<a href="#l16.85"></a><span id="l16.85" class="difflineplus">+     &lt;menuitem label=&quot;&amp;saveAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.86"></a><span id="l16.86" class="difflineplus">+               accesskey=&quot;&amp;saveAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.87"></a><span id="l16.87" class="difflineplus">+               command=&quot;cmd_saveAllAttachments&quot;/&gt;</span>
<a href="#l16.88"></a><span id="l16.88" class="difflineplus">+     &lt;menuitem label=&quot;&amp;detachAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.89"></a><span id="l16.89" class="difflineplus">+               accesskey=&quot;&amp;detachAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.90"></a><span id="l16.90" class="difflineplus">+               command=&quot;cmd_detachAllAttachments&quot; /&gt;</span>
<a href="#l16.91"></a><span id="l16.91" class="difflineplus">+     &lt;menuitem label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.92"></a><span id="l16.92" class="difflineplus">+               accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.93"></a><span id="l16.93" class="difflineplus">+               command=&quot;cmd_deleteAllAttachments&quot; /&gt;</span>
<a href="#l16.94"></a><span id="l16.94" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l16.95"></a><span id="l16.95" class="difflineplus">+</span>
<a href="#l16.96"></a><span id="l16.96" class="difflineplus">+  &lt;menupopup id=&quot;appmenu_attachmentMenuList&quot;</span>
<a href="#l16.97"></a><span id="l16.97" class="difflineplus">+             onpopupshowing=&quot;FillAttachmentListPopup(event, this);&quot;&gt;</span>
<a href="#l16.98"></a><span id="l16.98" class="difflineplus">+     &lt;menuseparator/&gt;</span>
<a href="#l16.99"></a><span id="l16.99" class="difflineplus">+     &lt;menuitem label=&quot;&amp;openAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.100"></a><span id="l16.100" class="difflineplus">+               accesskey=&quot;&amp;openAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.101"></a><span id="l16.101" class="difflineplus">+               command=&quot;cmd_openAllAttachments&quot; /&gt;</span>
<a href="#l16.102"></a><span id="l16.102" class="difflineplus">+     &lt;menuitem label=&quot;&amp;saveAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.103"></a><span id="l16.103" class="difflineplus">+               accesskey=&quot;&amp;saveAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.104"></a><span id="l16.104" class="difflineplus">+               command=&quot;cmd_saveAllAttachments&quot;/&gt;</span>
<a href="#l16.105"></a><span id="l16.105" class="difflineplus">+     &lt;menuitem label=&quot;&amp;detachAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.106"></a><span id="l16.106" class="difflineplus">+               accesskey=&quot;&amp;detachAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.107"></a><span id="l16.107" class="difflineplus">+               command=&quot;cmd_detachAllAttachments&quot; /&gt;</span>
<a href="#l16.108"></a><span id="l16.108" class="difflineplus">+     &lt;menuitem label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l16.109"></a><span id="l16.109" class="difflineplus">+               accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l16.110"></a><span id="l16.110" class="difflineplus">+               command=&quot;cmd_deleteAllAttachments&quot; /&gt;</span>
<a href="#l16.111"></a><span id="l16.111" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l16.112"></a><span id="l16.112" class="difflineplus">+</span>
<a href="#l16.113"></a><span id="l16.113" class="difflineplus">+  &lt;menupopup id=&quot;header-toolbar-context-menu&quot;&gt;</span>
<a href="#l16.114"></a><span id="l16.114" class="difflineplus">+    &lt;menuitem id=&quot;CustomizeHeaderToolbar&quot;</span>
<a href="#l16.115"></a><span id="l16.115" class="difflineplus">+              oncommand=&quot;CustomizeMailToolbar('header-view-toolbox', 'CustomizeHeaderToolbar')&quot;</span>
<a href="#l16.116"></a><span id="l16.116" class="difflineplus">+              label=&quot;&amp;customizeToolbar.label;&quot;</span>
<a href="#l16.117"></a><span id="l16.117" class="difflineplus">+              accesskey=&quot;&amp;customizeToolbar.accesskey;&quot;/&gt;</span>
<a href="#l16.118"></a><span id="l16.118" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l16.119"></a><span id="l16.119" class="difflineplus">+</span>
<a href="#l16.120"></a><span id="l16.120" class="difflineplus">+  &lt;menupopup id=&quot;attachment-toolbar-context-menu&quot;</span>
<a href="#l16.121"></a><span id="l16.121" class="difflineplus">+             onpopupshowing=&quot;return onShowAttachmentToolbarContextMenu(event);&quot;&gt;</span>
<a href="#l16.122"></a><span id="l16.122" class="difflineplus">+    &lt;menuitem id=&quot;context-expandAttachmentBar&quot;</span>
<a href="#l16.123"></a><span id="l16.123" class="difflineplus">+              type=&quot;checkbox&quot;</span>
<a href="#l16.124"></a><span id="l16.124" class="difflineplus">+              label=&quot;&amp;startExpandedCmd.label;&quot;</span>
<a href="#l16.125"></a><span id="l16.125" class="difflineplus">+              accesskey=&quot;&amp;startExpandedCmd.accesskey;&quot;</span>
<a href="#l16.126"></a><span id="l16.126" class="difflineplus">+              oncommand=&quot;Services.prefs.setBoolPref('mailnews.attachments.display.start_expanded', this.getAttribute('checked'));&quot;/&gt;</span>
<a href="#l16.127"></a><span id="l16.127" class="difflineplus">+    &lt;menuseparator/&gt;</span>
<a href="#l16.128"></a><span id="l16.128" class="difflineplus">+    &lt;menuitem id=&quot;CustomizeAttachmentToolbar&quot;</span>
<a href="#l16.129"></a><span id="l16.129" class="difflineplus">+              oncommand=&quot;CustomizeMailToolbar('attachment-view-toolbox', 'CustomizeAttachmentToolbar')&quot;</span>
<a href="#l16.130"></a><span id="l16.130" class="difflineplus">+              label=&quot;&amp;customizeToolbar.label;&quot;</span>
<a href="#l16.131"></a><span id="l16.131" class="difflineplus">+              accesskey=&quot;&amp;customizeToolbar.accesskey;&quot;/&gt;</span>
<a href="#l16.132"></a><span id="l16.132" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l16.133"></a><span id="l16.133" class="difflineplus">+</span>
<a href="#l16.134"></a><span id="l16.134" class="difflineplus">+  &lt;menupopup id=&quot;copyUrlPopup&quot;</span>
<a href="#l16.135"></a><span id="l16.135" class="difflineplus">+             popupanchor=&quot;bottomleft&quot;&gt;</span>
<a href="#l16.136"></a><span id="l16.136" class="difflineplus">+    &lt;menuitem label=&quot;&amp;copyLinkCmd.label;&quot;</span>
<a href="#l16.137"></a><span id="l16.137" class="difflineplus">+              accesskey=&quot;&amp;copyLinkCmd.accesskey;&quot;</span>
<a href="#l16.138"></a><span id="l16.138" class="difflineplus">+              oncommand=&quot;CopyWebsiteAddress(document.popupNode)&quot;/&gt;</span>
<a href="#l16.139"></a><span id="l16.139" class="difflineplus">+  &lt;/menupopup&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">rename from mail/base/content/msgHdrViewOverlay.xul</span>
<a href="#l17.2"></a><span id="l17.2">rename to mail/base/content/msgHdrView.inc</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineminus">--- a/mail/base/content/msgHdrViewOverlay.xul</span>
<a href="#l17.4"></a><span id="l17.4" class="difflineplus">+++ b/mail/base/content/msgHdrView.inc</span>
<a href="#l17.5"></a><span id="l17.5" class="difflineat">@@ -1,688 +1,414 @@</span>
<a href="#l17.6"></a><span id="l17.6" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l17.7"></a><span id="l17.7" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.8"></a><span id="l17.8" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineminus">-&lt;!DOCTYPE overlay [</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineminus">-&lt;!ENTITY % msgHdrViewOverlayDTD SYSTEM &quot;chrome://messenger/locale/msgHdrViewOverlay.dtd&quot;&gt;</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-%msgHdrViewOverlayDTD;</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-&lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot;&gt;</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-%messengerDTD;</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineminus">-]&gt;</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineminus">-</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messageHeader.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/attachmentList.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/msgHdrViewSMIMEOverlay.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineminus">-&lt;overlay xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineminus">-</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineminus">-&lt;script type=&quot;application/javascript&quot;</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineminus">-        src=&quot;chrome://messenger/content/msgHdrViewOverlay.js&quot;/&gt;</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineminus">-&lt;script type=&quot;application/javascript&quot;</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineminus">-        src=&quot;chrome://global/content/nsDragAndDrop.js&quot;/&gt;</span>
<a href="#l17.26"></a><span id="l17.26" class="difflineminus">-&lt;script type=&quot;application/javascript&quot;</span>
<a href="#l17.27"></a><span id="l17.27" class="difflineminus">-        src=&quot;chrome://messenger-smime/content/msgHdrViewSMIMEOverlay.js&quot;/&gt;</span>
<a href="#l17.28"></a><span id="l17.28" class="difflineminus">-</span>
<a href="#l17.29"></a><span id="l17.29" class="difflineminus">-&lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l17.30"></a><span id="l17.30" class="difflineminus">-  &lt;stringbundle id=&quot;bundle_messenger&quot; src=&quot;chrome://messenger/locale/messenger.properties&quot;/&gt;</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-&lt;/stringbundleset&gt;</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineminus">-</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineminus">-&lt;commandset id=&quot;mailCommands&quot;&gt;</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineminus">-  &lt;commandset id=&quot;attachmentCommands&quot;&gt;</span>
<a href="#l17.35"></a><span id="l17.35" class="difflineminus">-    &lt;command id=&quot;cmd_openAllAttachments&quot;</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineminus">-             oncommand=&quot;goDoCommand('cmd_openAllAttachments');&quot;</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineminus">-             disabled=&quot;true&quot;/&gt;</span>
<a href="#l17.38"></a><span id="l17.38" class="difflineminus">-    &lt;command id=&quot;cmd_saveAllAttachments&quot;</span>
<a href="#l17.39"></a><span id="l17.39" class="difflineminus">-             oncommand=&quot;goDoCommand('cmd_saveAllAttachments');&quot;</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineminus">-             disabled=&quot;true&quot;/&gt;</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineminus">-    &lt;command id=&quot;cmd_detachAllAttachments&quot;</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineminus">-             oncommand=&quot;goDoCommand('cmd_detachAllAttachments');&quot;</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineminus">-             disabled=&quot;true&quot;/&gt;</span>
<a href="#l17.44"></a><span id="l17.44" class="difflineminus">-    &lt;command id=&quot;cmd_deleteAllAttachments&quot;</span>
<a href="#l17.45"></a><span id="l17.45" class="difflineminus">-             oncommand=&quot;goDoCommand('cmd_deleteAllAttachments');&quot;</span>
<a href="#l17.46"></a><span id="l17.46" class="difflineminus">-             disabled=&quot;true&quot;/&gt;</span>
<a href="#l17.47"></a><span id="l17.47" class="difflineminus">-  &lt;/commandset&gt;</span>
<a href="#l17.48"></a><span id="l17.48" class="difflineminus">-&lt;/commandset&gt;</span>
<a href="#l17.49"></a><span id="l17.49" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l17.52"></a><span id="l17.52"> </span>
<a href="#l17.53"></a><span id="l17.53" class="difflineminus">-&lt;menupopup id=&quot;messageIdContext&quot; popupanchor=&quot;bottomleft&quot;</span>
<a href="#l17.54"></a><span id="l17.54" class="difflineminus">-           onpopupshowing=&quot;FillMessageIdContextMenu(document.popupNode);&quot;&gt;</span>
<a href="#l17.55"></a><span id="l17.55" class="difflineminus">-  &lt;menuitem id=&quot;messageIdContext-messageIdTarget&quot;</span>
<a href="#l17.56"></a><span id="l17.56" class="difflineminus">-            disabled=&quot;true&quot;/&gt;</span>
<a href="#l17.57"></a><span id="l17.57" class="difflineminus">-  &lt;menuseparator id=&quot;messageIdContext-separator&quot;/&gt;</span>
<a href="#l17.58"></a><span id="l17.58" class="difflineminus">-  &lt;menuitem id=&quot;messageIdContext-openMessageForMsgId&quot;</span>
<a href="#l17.59"></a><span id="l17.59" class="difflineminus">-            label=&quot;&amp;OpenMessageForMsgId.label;&quot;</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineminus">-            accesskey=&quot;&amp;OpenMessageForMsgId.accesskey;&quot;</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineminus">-            oncommand=&quot;var messageId = GetMessageIdFromNode(document.popupNode, true);</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineminus">-                       OpenMessageForMessageId(messageId)&quot;/&gt;</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineminus">-  &lt;menuitem id=&quot;messageIdContext-openBrowserWithMsgId&quot;</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineminus">-            label=&quot;&amp;OpenBrowserWithMsgId.label;&quot;</span>
<a href="#l17.65"></a><span id="l17.65" class="difflineminus">-            accesskey=&quot;&amp;OpenBrowserWithMsgId.accesskey;&quot;</span>
<a href="#l17.66"></a><span id="l17.66" class="difflineminus">-            oncommand=&quot;var messageId = GetMessageIdFromNode(document.popupNode, true);</span>
<a href="#l17.67"></a><span id="l17.67" class="difflineminus">-                       OpenBrowserWithMessageId(messageId)&quot;/&gt;</span>
<a href="#l17.68"></a><span id="l17.68" class="difflineminus">-  &lt;menuitem id=&quot;messageIdContext-copyMessageId&quot;</span>
<a href="#l17.69"></a><span id="l17.69" class="difflineminus">-            label=&quot;&amp;CopyMessageId.label;&quot;</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineminus">-            accesskey=&quot;&amp;CopyMessageId.accesskey;&quot;</span>
<a href="#l17.71"></a><span id="l17.71" class="difflineminus">-            oncommand=&quot;var messageId = GetMessageIdFromNode(document.popupNode, false);</span>
<a href="#l17.72"></a><span id="l17.72" class="difflineminus">-                       CopyMessageId(messageId);&quot;/&gt;</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l17.74"></a><span id="l17.74" class="difflineplus">+                        &lt;deck id=&quot;msgHeaderViewDeck&quot; selectedIndex=&quot;0&quot;</span>
<a href="#l17.75"></a><span id="l17.75" class="difflineplus">+                              persist=&quot;selectedIndex&quot; flex=&quot;1&quot;</span>
<a href="#l17.76"></a><span id="l17.76" class="difflineplus">+                              context=&quot;header-toolbar-context-menu&quot;&gt;</span>
<a href="#l17.77"></a><span id="l17.77"> </span>
<a href="#l17.78"></a><span id="l17.78" class="difflineminus">-&lt;menupopup id=&quot;attachmentItemContext&quot;</span>
<a href="#l17.79"></a><span id="l17.79" class="difflineminus">-           onpopupshowing=&quot;return onShowAttachmentItemContextMenu();&quot;</span>
<a href="#l17.80"></a><span id="l17.80" class="difflineminus">-           onpopuphiding=&quot;return onHideAttachmentItemContextMenu();&quot;&gt;</span>
<a href="#l17.81"></a><span id="l17.81" class="difflineminus">-  &lt;menuitem id=&quot;context-openAttachment&quot;</span>
<a href="#l17.82"></a><span id="l17.82" class="difflineminus">-            label=&quot;&amp;openAttachmentCmd.label;&quot;</span>
<a href="#l17.83"></a><span id="l17.83" class="difflineminus">-            accesskey=&quot;&amp;openAttachmentCmd.accesskey;&quot;</span>
<a href="#l17.84"></a><span id="l17.84" class="difflineminus">-            oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'open');&quot;/&gt;</span>
<a href="#l17.85"></a><span id="l17.85" class="difflineminus">-  &lt;menuitem id=&quot;context-saveAttachment&quot;</span>
<a href="#l17.86"></a><span id="l17.86" class="difflineminus">-            label=&quot;&amp;saveAsAttachmentCmd.label;&quot;</span>
<a href="#l17.87"></a><span id="l17.87" class="difflineminus">-            accesskey=&quot;&amp;saveAsAttachmentCmd.accesskey;&quot;</span>
<a href="#l17.88"></a><span id="l17.88" class="difflineminus">-            oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'saveAs');&quot;/&gt;</span>
<a href="#l17.89"></a><span id="l17.89" class="difflineminus">-  &lt;menuseparator id=&quot;context-menu-separator&quot;/&gt;</span>
<a href="#l17.90"></a><span id="l17.90" class="difflineminus">-  &lt;menuitem id=&quot;context-detachAttachment&quot;</span>
<a href="#l17.91"></a><span id="l17.91" class="difflineminus">-            label=&quot;&amp;detachAttachmentCmd.label;&quot;</span>
<a href="#l17.92"></a><span id="l17.92" class="difflineminus">-            accesskey=&quot;&amp;detachAttachmentCmd.accesskey;&quot;</span>
<a href="#l17.93"></a><span id="l17.93" class="difflineminus">-            oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'detach');&quot;/&gt;</span>
<a href="#l17.94"></a><span id="l17.94" class="difflineminus">-  &lt;menuitem id=&quot;context-deleteAttachment&quot;</span>
<a href="#l17.95"></a><span id="l17.95" class="difflineminus">-            label=&quot;&amp;deleteAttachmentCmd.label;&quot;</span>
<a href="#l17.96"></a><span id="l17.96" class="difflineminus">-            accesskey=&quot;&amp;deleteAttachmentCmd.accesskey;&quot;</span>
<a href="#l17.97"></a><span id="l17.97" class="difflineminus">-            oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'delete');&quot;/&gt;</span>
<a href="#l17.98"></a><span id="l17.98" class="difflineminus">-  &lt;menuseparator id=&quot;context-menu-copyurl-separator&quot;/&gt;</span>
<a href="#l17.99"></a><span id="l17.99" class="difflineminus">-  &lt;menuitem id=&quot;context-copyAttachmentUrl&quot;</span>
<a href="#l17.100"></a><span id="l17.100" class="difflineminus">-            label=&quot;&amp;copyLinkCmd.label;&quot;</span>
<a href="#l17.101"></a><span id="l17.101" class="difflineminus">-            accesskey=&quot;&amp;copyLinkCmd.accesskey;&quot;</span>
<a href="#l17.102"></a><span id="l17.102" class="difflineminus">-            oncommand=&quot;HandleMultipleAttachments(this.parentNode.attachments, 'copyUrl');&quot;/&gt;</span>
<a href="#l17.103"></a><span id="l17.103" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l17.104"></a><span id="l17.104" class="difflineplus">+                          &lt;!-- the message pane consists of 3 'boxes'. Box #2 is the expanded headers view (the default view) --&gt;</span>
<a href="#l17.105"></a><span id="l17.105" class="difflineplus">+                          &lt;vbox id=&quot;expandedHeaderView&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.106"></a><span id="l17.106" class="difflineplus">+</span>
<a href="#l17.107"></a><span id="l17.107" class="difflineplus">+                            &lt;!-- a convenience box for ease of extension overlaying --&gt;</span>
<a href="#l17.108"></a><span id="l17.108" class="difflineplus">+                            &lt;vbox id=&quot;expandedHeadersBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.109"></a><span id="l17.109"> </span>
<a href="#l17.110"></a><span id="l17.110" class="difflineminus">-&lt;menupopup id=&quot;attachmentListContext&quot; onpopupshowing=&quot;goUpdateAttachmentCommands();&quot;&gt;</span>
<a href="#l17.111"></a><span id="l17.111" class="difflineminus">-  &lt;menuitem id=&quot;context-openAllAttachments&quot;</span>
<a href="#l17.112"></a><span id="l17.112" class="difflineminus">-            label=&quot;&amp;openAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.113"></a><span id="l17.113" class="difflineminus">-            accesskey=&quot;&amp;openAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.114"></a><span id="l17.114" class="difflineminus">-            command=&quot;cmd_openAllAttachments&quot;/&gt;</span>
<a href="#l17.115"></a><span id="l17.115" class="difflineminus">-  &lt;menuitem id=&quot;context-saveAllAttachments&quot;</span>
<a href="#l17.116"></a><span id="l17.116" class="difflineminus">-            label=&quot;&amp;saveAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.117"></a><span id="l17.117" class="difflineminus">-            accesskey=&quot;&amp;saveAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.118"></a><span id="l17.118" class="difflineminus">-            command=&quot;cmd_saveAllAttachments&quot;/&gt;</span>
<a href="#l17.119"></a><span id="l17.119" class="difflineminus">-  &lt;menuseparator id=&quot;context-menu-separator-all&quot;/&gt;</span>
<a href="#l17.120"></a><span id="l17.120" class="difflineminus">-  &lt;menuitem id=&quot;context-detachAllAttachments&quot;</span>
<a href="#l17.121"></a><span id="l17.121" class="difflineminus">-            label=&quot;&amp;detachAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.122"></a><span id="l17.122" class="difflineminus">-            accesskey=&quot;&amp;detachAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.123"></a><span id="l17.123" class="difflineminus">-            command=&quot;cmd_detachAllAttachments&quot;/&gt;</span>
<a href="#l17.124"></a><span id="l17.124" class="difflineminus">-  &lt;menuitem id=&quot;context-deleteAllAttachments&quot;</span>
<a href="#l17.125"></a><span id="l17.125" class="difflineminus">-            label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.126"></a><span id="l17.126" class="difflineminus">-            accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.127"></a><span id="l17.127" class="difflineminus">-            command=&quot;cmd_deleteAllAttachments&quot;/&gt;</span>
<a href="#l17.128"></a><span id="l17.128" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l17.129"></a><span id="l17.129" class="difflineminus">-</span>
<a href="#l17.130"></a><span id="l17.130" class="difflineminus">-&lt;menupopup id=&quot;attachmentMenuList&quot; onpopupshowing=&quot;FillAttachmentListPopup(event, this);&quot;&gt;</span>
<a href="#l17.131"></a><span id="l17.131" class="difflineminus">-   &lt;menuseparator/&gt;</span>
<a href="#l17.132"></a><span id="l17.132" class="difflineminus">-   &lt;menuitem label=&quot;&amp;openAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.133"></a><span id="l17.133" class="difflineminus">-             accesskey=&quot;&amp;openAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.134"></a><span id="l17.134" class="difflineminus">-             command=&quot;cmd_openAllAttachments&quot; /&gt;</span>
<a href="#l17.135"></a><span id="l17.135" class="difflineminus">-   &lt;menuitem label=&quot;&amp;saveAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.136"></a><span id="l17.136" class="difflineminus">-             accesskey=&quot;&amp;saveAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.137"></a><span id="l17.137" class="difflineminus">-             command=&quot;cmd_saveAllAttachments&quot;/&gt;</span>
<a href="#l17.138"></a><span id="l17.138" class="difflineminus">-   &lt;menuitem label=&quot;&amp;detachAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.139"></a><span id="l17.139" class="difflineminus">-             accesskey=&quot;&amp;detachAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.140"></a><span id="l17.140" class="difflineminus">-             command=&quot;cmd_detachAllAttachments&quot; /&gt;</span>
<a href="#l17.141"></a><span id="l17.141" class="difflineminus">-   &lt;menuitem label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.142"></a><span id="l17.142" class="difflineminus">-             accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.143"></a><span id="l17.143" class="difflineminus">-             command=&quot;cmd_deleteAllAttachments&quot; /&gt;</span>
<a href="#l17.144"></a><span id="l17.144" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l17.145"></a><span id="l17.145" class="difflineminus">-</span>
<a href="#l17.146"></a><span id="l17.146" class="difflineminus">-&lt;menupopup id=&quot;appmenu_attachmentMenuList&quot; onpopupshowing=&quot;FillAttachmentListPopup(event, this);&quot;&gt;</span>
<a href="#l17.147"></a><span id="l17.147" class="difflineminus">-   &lt;menuseparator/&gt;</span>
<a href="#l17.148"></a><span id="l17.148" class="difflineminus">-   &lt;menuitem label=&quot;&amp;openAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.149"></a><span id="l17.149" class="difflineminus">-             accesskey=&quot;&amp;openAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.150"></a><span id="l17.150" class="difflineminus">-             command=&quot;cmd_openAllAttachments&quot; /&gt;</span>
<a href="#l17.151"></a><span id="l17.151" class="difflineminus">-   &lt;menuitem label=&quot;&amp;saveAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.152"></a><span id="l17.152" class="difflineminus">-             accesskey=&quot;&amp;saveAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.153"></a><span id="l17.153" class="difflineminus">-             command=&quot;cmd_saveAllAttachments&quot;/&gt;</span>
<a href="#l17.154"></a><span id="l17.154" class="difflineminus">-   &lt;menuitem label=&quot;&amp;detachAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.155"></a><span id="l17.155" class="difflineminus">-             accesskey=&quot;&amp;detachAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.156"></a><span id="l17.156" class="difflineminus">-             command=&quot;cmd_detachAllAttachments&quot; /&gt;</span>
<a href="#l17.157"></a><span id="l17.157" class="difflineminus">-   &lt;menuitem label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.158"></a><span id="l17.158" class="difflineminus">-             accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;</span>
<a href="#l17.159"></a><span id="l17.159" class="difflineminus">-             command=&quot;cmd_deleteAllAttachments&quot; /&gt;</span>
<a href="#l17.160"></a><span id="l17.160" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l17.161"></a><span id="l17.161" class="difflineplus">+                              &lt;!-- This hbox has display:block set to imbue it with the HTML layout</span>
<a href="#l17.162"></a><span id="l17.162" class="difflineplus">+                                   model. This lets us float the message header toolbar to the right</span>
<a href="#l17.163"></a><span id="l17.163" class="difflineplus">+                                   so we don't waste space when the From field and the toolbar could</span>
<a href="#l17.164"></a><span id="l17.164" class="difflineplus">+                                   fit alongside each other. --&gt;</span>
<a href="#l17.165"></a><span id="l17.165" class="difflineplus">+                              &lt;hbox id=&quot;expandedHeadersTopBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.166"></a><span id="l17.166"> </span>
<a href="#l17.167"></a><span id="l17.167" class="difflineminus">-&lt;menupopup id=&quot;header-toolbar-context-menu&quot;&gt;</span>
<a href="#l17.168"></a><span id="l17.168" class="difflineminus">-  &lt;menuitem id=&quot;CustomizeHeaderToolbar&quot;</span>
<a href="#l17.169"></a><span id="l17.169" class="difflineminus">-            oncommand=&quot;CustomizeMailToolbar('header-view-toolbox', 'CustomizeHeaderToolbar')&quot;</span>
<a href="#l17.170"></a><span id="l17.170" class="difflineminus">-            label=&quot;&amp;customizeToolbar.label;&quot;</span>
<a href="#l17.171"></a><span id="l17.171" class="difflineminus">-            accesskey=&quot;&amp;customizeToolbar.accesskey;&quot;/&gt;</span>
<a href="#l17.172"></a><span id="l17.172" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l17.173"></a><span id="l17.173" class="difflineminus">-</span>
<a href="#l17.174"></a><span id="l17.174" class="difflineminus">-&lt;menupopup id=&quot;attachment-toolbar-context-menu&quot;</span>
<a href="#l17.175"></a><span id="l17.175" class="difflineminus">-           onpopupshowing=&quot;return onShowAttachmentToolbarContextMenu(event);&quot;&gt;</span>
<a href="#l17.176"></a><span id="l17.176" class="difflineminus">-  &lt;menuitem id=&quot;context-expandAttachmentBar&quot; type=&quot;checkbox&quot;</span>
<a href="#l17.177"></a><span id="l17.177" class="difflineminus">-            label=&quot;&amp;startExpandedCmd.label;&quot;</span>
<a href="#l17.178"></a><span id="l17.178" class="difflineminus">-            accesskey=&quot;&amp;startExpandedCmd.accesskey;&quot;</span>
<a href="#l17.179"></a><span id="l17.179" class="difflineminus">-            oncommand=&quot;Services.prefs.setBoolPref('mailnews.attachments.display.start_expanded', this.getAttribute('checked'));&quot;/&gt;</span>
<a href="#l17.180"></a><span id="l17.180" class="difflineminus">-  &lt;menuseparator/&gt;</span>
<a href="#l17.181"></a><span id="l17.181" class="difflineminus">-  &lt;menuitem id=&quot;CustomizeAttachmentToolbar&quot;</span>
<a href="#l17.182"></a><span id="l17.182" class="difflineminus">-            oncommand=&quot;CustomizeMailToolbar('attachment-view-toolbox', 'CustomizeAttachmentToolbar')&quot;</span>
<a href="#l17.183"></a><span id="l17.183" class="difflineminus">-            label=&quot;&amp;customizeToolbar.label;&quot;</span>
<a href="#l17.184"></a><span id="l17.184" class="difflineminus">-            accesskey=&quot;&amp;customizeToolbar.accesskey;&quot;/&gt;</span>
<a href="#l17.185"></a><span id="l17.185" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l17.186"></a><span id="l17.186" class="difflineminus">-</span>
<a href="#l17.187"></a><span id="l17.187" class="difflineminus">-&lt;menupopup id=&quot;copyUrlPopup&quot; popupanchor=&quot;bottomleft&quot;&gt;</span>
<a href="#l17.188"></a><span id="l17.188" class="difflineminus">-  &lt;menuitem label=&quot;&amp;copyLinkCmd.label;&quot; accesskey=&quot;&amp;copyLinkCmd.accesskey;&quot; oncommand=&quot;CopyWebsiteAddress(document.popupNode)&quot;/&gt;</span>
<a href="#l17.189"></a><span id="l17.189" class="difflineminus">-&lt;/menupopup&gt;</span>
<a href="#l17.190"></a><span id="l17.190" class="difflineplus">+                                &lt;toolbox id=&quot;header-view-toolbox&quot;</span>
<a href="#l17.191"></a><span id="l17.191" class="difflineplus">+                                         class=&quot;inline-toolbox&quot;</span>
<a href="#l17.192"></a><span id="l17.192" class="difflineplus">+                                         defaulticonsize=&quot;small&quot;</span>
<a href="#l17.193"></a><span id="l17.193" class="difflineplus">+                                         minwidth=&quot;50px&quot;</span>
<a href="#l17.194"></a><span id="l17.194" class="difflineplus">+                                         defaultlabelalign=&quot;end&quot;</span>
<a href="#l17.195"></a><span id="l17.195" class="difflineplus">+                                         defaultmode=&quot;full&quot;</span>
<a href="#l17.196"></a><span id="l17.196" class="difflineplus">+                                         inlinetoolbox=&quot;true&quot;&gt;</span>
<a href="#l17.197"></a><span id="l17.197" class="difflineplus">+                                  &lt;toolbarpalette id=&quot;header-view-toolbar-palette&quot;&gt;</span>
<a href="#l17.198"></a><span id="l17.198" class="difflineplus">+                                    &lt;!-- XXXdmose need to move these commands to a controller, either</span>
<a href="#l17.199"></a><span id="l17.199" class="difflineplus">+                                         on the header view, the message pane, or the default</span>
<a href="#l17.200"></a><span id="l17.200" class="difflineplus">+                                         controller --&gt;</span>
<a href="#l17.201"></a><span id="l17.201"> </span>
<a href="#l17.202"></a><span id="l17.202" class="difflineminus">-&lt;hbox id=&quot;msgHeaderView&quot; collapsed=&quot;true&quot; class=&quot;main-header-area&quot;&gt;</span>
<a href="#l17.203"></a><span id="l17.203" class="difflineminus">-  &lt;deck id=&quot;msgHeaderViewDeck&quot; selectedIndex=&quot;0&quot;</span>
<a href="#l17.204"></a><span id="l17.204" class="difflineminus">-        persist=&quot;selectedIndex&quot; flex=&quot;1&quot;</span>
<a href="#l17.205"></a><span id="l17.205" class="difflineminus">-        context=&quot;header-toolbar-context-menu&quot;&gt;</span>
<a href="#l17.206"></a><span id="l17.206" class="difflineminus">-</span>
<a href="#l17.207"></a><span id="l17.207" class="difflineminus">-    &lt;!-- the message pane consists of 3 'boxes'. Box #2 is the expanded headers view (the default view) --&gt;</span>
<a href="#l17.208"></a><span id="l17.208" class="difflineminus">-    &lt;vbox id=&quot;expandedHeaderView&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.209"></a><span id="l17.209" class="difflineminus">-</span>
<a href="#l17.210"></a><span id="l17.210" class="difflineminus">-      &lt;!-- a convenience box for ease of extension overlaying --&gt;</span>
<a href="#l17.211"></a><span id="l17.211" class="difflineminus">-      &lt;vbox id=&quot;expandedHeadersBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.212"></a><span id="l17.212" class="difflineminus">-</span>
<a href="#l17.213"></a><span id="l17.213" class="difflineminus">-        &lt;!-- This hbox has display:block set to imbue it with the HTML layout</span>
<a href="#l17.214"></a><span id="l17.214" class="difflineminus">-             model. This lets us float the message header toolbar to the right</span>
<a href="#l17.215"></a><span id="l17.215" class="difflineminus">-             so we don't waste space when the From field and the toolbar could</span>
<a href="#l17.216"></a><span id="l17.216" class="difflineminus">-             fit alongside each other. --&gt;</span>
<a href="#l17.217"></a><span id="l17.217" class="difflineminus">-        &lt;hbox id=&quot;expandedHeadersTopBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.218"></a><span id="l17.218" class="difflineminus">-</span>
<a href="#l17.219"></a><span id="l17.219" class="difflineminus">-          &lt;toolbox id=&quot;header-view-toolbox&quot;</span>
<a href="#l17.220"></a><span id="l17.220" class="difflineminus">-                   class=&quot;inline-toolbox&quot;</span>
<a href="#l17.221"></a><span id="l17.221" class="difflineminus">-                   defaulticonsize=&quot;small&quot;</span>
<a href="#l17.222"></a><span id="l17.222" class="difflineminus">-                   minwidth=&quot;50px&quot;</span>
<a href="#l17.223"></a><span id="l17.223" class="difflineminus">-                   defaultlabelalign=&quot;end&quot;</span>
<a href="#l17.224"></a><span id="l17.224" class="difflineminus">-                   defaultmode=&quot;full&quot;</span>
<a href="#l17.225"></a><span id="l17.225" class="difflineminus">-                   inlinetoolbox=&quot;true&quot;&gt;</span>
<a href="#l17.226"></a><span id="l17.226" class="difflineminus">-            &lt;toolbarpalette id=&quot;header-view-toolbar-palette&quot;&gt;</span>
<a href="#l17.227"></a><span id="l17.227" class="difflineminus">-              &lt;!-- XXXdmose need to move these commands to a controller, either</span>
<a href="#l17.228"></a><span id="l17.228" class="difflineminus">-                   on the header view, the message pane, or the default</span>
<a href="#l17.229"></a><span id="l17.229" class="difflineminus">-                   controller --&gt;</span>
<a href="#l17.230"></a><span id="l17.230" class="difflineminus">-</span>
<a href="#l17.231"></a><span id="l17.231" class="difflineminus">-              &lt;!-- XXXdmose need to audit our shortcut/a11y setup and make sure</span>
<a href="#l17.232"></a><span id="l17.232" class="difflineminus">-                   these buttons are doing the right thing --&gt;</span>
<a href="#l17.233"></a><span id="l17.233" class="difflineplus">+                                    &lt;!-- XXXdmose need to audit our shortcut/a11y setup and make sure</span>
<a href="#l17.234"></a><span id="l17.234" class="difflineplus">+                                         these buttons are doing the right thing --&gt;</span>
<a href="#l17.235"></a><span id="l17.235"> </span>
<a href="#l17.236"></a><span id="l17.236" class="difflineminus">-              &lt;toolbarbutton id=&quot;hdrForwardButton&quot;</span>
<a href="#l17.237"></a><span id="l17.237" class="difflineminus">-                             label=&quot;&amp;hdrForwardButton1.label;&quot;</span>
<a href="#l17.238"></a><span id="l17.238" class="difflineminus">-                             tooltiptext=&quot;&amp;hdrForwardButton1.tooltip;&quot;</span>
<a href="#l17.239"></a><span id="l17.239" class="difflineminus">-                             oncommand=&quot;MsgForwardMessage(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.240"></a><span id="l17.240" class="difflineminus">-                             observes=&quot;button_forward&quot;</span>
<a href="#l17.241"></a><span id="l17.241" class="difflineminus">-                             class=&quot;toolbarbutton-1 msgHeaderView-button hdrForwardButton&quot;/&gt;</span>
<a href="#l17.242"></a><span id="l17.242" class="difflineminus">-              &lt;toolbaritem id=&quot;hdrMenuForwardButton&quot; label=&quot;&amp;hdrMenuForwardButton.label;&quot;&gt;</span>
<a href="#l17.243"></a><span id="l17.243" class="difflineminus">-              &lt;!-- This toolbaritem is a dummy and should only be shown when</span>
<a href="#l17.244"></a><span id="l17.244" class="difflineminus">-                   customizing the toolbar to distinguish the forward button</span>
<a href="#l17.245"></a><span id="l17.245" class="difflineminus">-                   from the forward dual-button. --&gt;</span>
<a href="#l17.246"></a><span id="l17.246" class="difflineminus">-                &lt;toolbarbutton id=&quot;hdrDualForwardButton&quot;</span>
<a href="#l17.247"></a><span id="l17.247" class="difflineminus">-                               label=&quot;&amp;hdrForwardButton1.label;&quot;</span>
<a href="#l17.248"></a><span id="l17.248" class="difflineminus">-                               tooltiptext=&quot;&amp;hdrForwardButton1.tooltip;&quot;</span>
<a href="#l17.249"></a><span id="l17.249" class="difflineminus">-                               oncommand=&quot;MsgForwardMessage(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.250"></a><span id="l17.250" class="difflineminus">-                               observes=&quot;button_forward&quot;</span>
<a href="#l17.251"></a><span id="l17.251" class="difflineminus">-                               class=&quot;toolbarbutton-1 msgHeaderView-button hdrForwardButton&quot;</span>
<a href="#l17.252"></a><span id="l17.252" class="difflineminus">-                               type=&quot;menu-button&quot;&gt;</span>
<a href="#l17.253"></a><span id="l17.253" class="difflineminus">-                  &lt;menupopup id=&quot;hdrForwardDropdown&quot;&gt;</span>
<a href="#l17.254"></a><span id="l17.254" class="difflineminus">-                    &lt;menuitem id=&quot;hdrForwardAsInlineMenu&quot;</span>
<a href="#l17.255"></a><span id="l17.255" class="difflineminus">-                              label=&quot;&amp;buttonMenuForwardAsInline.label;&quot;</span>
<a href="#l17.256"></a><span id="l17.256" class="difflineminus">-                              tooltiptext=&quot;&amp;forwardAsInline.tooltip;&quot;</span>
<a href="#l17.257"></a><span id="l17.257" class="difflineminus">-                              command=&quot;cmd_forwardInline&quot;/&gt;</span>
<a href="#l17.258"></a><span id="l17.258" class="difflineminus">-                    &lt;menuitem id=&quot;hdrForwardAsAttachmentMenu&quot;</span>
<a href="#l17.259"></a><span id="l17.259" class="difflineminus">-                              label=&quot;&amp;buttonMenuForwardAsAttachment.label;&quot;</span>
<a href="#l17.260"></a><span id="l17.260" class="difflineminus">-                              tooltiptext=&quot;&amp;forwardAsAttachment.tooltip;&quot;</span>
<a href="#l17.261"></a><span id="l17.261" class="difflineminus">-                              command=&quot;cmd_forwardAttachment&quot;/&gt;</span>
<a href="#l17.262"></a><span id="l17.262" class="difflineminus">-                  &lt;/menupopup&gt;</span>
<a href="#l17.263"></a><span id="l17.263" class="difflineminus">-                &lt;/toolbarbutton&gt;</span>
<a href="#l17.264"></a><span id="l17.264" class="difflineminus">-              &lt;/toolbaritem&gt;</span>
<a href="#l17.265"></a><span id="l17.265" class="difflineminus">-              &lt;toolbarbutton id=&quot;hdrArchiveButton&quot;</span>
<a href="#l17.266"></a><span id="l17.266" class="difflineminus">-                             label=&quot;&amp;hdrArchiveButton1.label;&quot;</span>
<a href="#l17.267"></a><span id="l17.267" class="difflineminus">-                             tooltiptext=&quot;&amp;hdrArchiveButton1.tooltip;&quot;</span>
<a href="#l17.268"></a><span id="l17.268" class="difflineminus">-                             oncommand=&quot;MsgArchiveSelectedMessages(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.269"></a><span id="l17.269" class="difflineminus">-                             observes=&quot;button_archive&quot;</span>
<a href="#l17.270"></a><span id="l17.270" class="difflineminus">-                             class=&quot;toolbarbutton-1 msgHeaderView-button hdrArchiveButton&quot;/&gt;</span>
<a href="#l17.271"></a><span id="l17.271" class="difflineminus">-              &lt;toolbarbutton id=&quot;hdrJunkButton&quot; label=&quot;&amp;hdrJunkButton1.label;&quot;</span>
<a href="#l17.272"></a><span id="l17.272" class="difflineminus">-                             tooltiptext=&quot;&amp;hdrJunkButton1.tooltip;&quot;</span>
<a href="#l17.273"></a><span id="l17.273" class="difflineminus">-                             observes=&quot;button_junk&quot;</span>
<a href="#l17.274"></a><span id="l17.274" class="difflineminus">-                             class=&quot;toolbarbutton-1 msgHeaderView-button hdrJunkButton&quot;</span>
<a href="#l17.275"></a><span id="l17.275" class="difflineminus">-                             oncommand=&quot;goDoCommand('button_junk');RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.276"></a><span id="l17.276" class="difflineminus">-              &lt;toolbarbutton id=&quot;hdrTrashButton&quot;</span>
<a href="#l17.277"></a><span id="l17.277" class="difflineminus">-                             label=&quot;&amp;hdrTrashButton1.label;&quot;</span>
<a href="#l17.278"></a><span id="l17.278" class="difflineminus">-                             tooltiptext=&quot;&amp;hdrTrashButton1.tooltip;&quot;</span>
<a href="#l17.279"></a><span id="l17.279" class="difflineminus">-                             observes=&quot;button_delete&quot;</span>
<a href="#l17.280"></a><span id="l17.280" class="difflineminus">-                             class=&quot;toolbarbutton-1 msgHeaderView-button hdrTrashButton&quot;</span>
<a href="#l17.281"></a><span id="l17.281" class="difflineminus">-                             oncommand=&quot;goDoCommand(event.shiftKey ? 'button_shiftDelete' :</span>
<a href="#l17.282"></a><span id="l17.282" class="difflineminus">-                                                    'button_delete');RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.283"></a><span id="l17.283" class="difflineminus">-              &lt;toolbarbutton id=&quot;hdrOpenConversationButton&quot;</span>
<a href="#l17.284"></a><span id="l17.284" class="difflineminus">-                             label=&quot;&amp;hdrOpenConversationButton1.label;&quot;</span>
<a href="#l17.285"></a><span id="l17.285" class="difflineminus">-                             tooltiptext=&quot;&amp;hdrOpenConversationButton1.tooltip;&quot;</span>
<a href="#l17.286"></a><span id="l17.286" class="difflineminus">-                             observes=&quot;button_showconversation&quot;</span>
<a href="#l17.287"></a><span id="l17.287" class="difflineminus">-                             class=&quot;toolbarbutton-1 msgHeaderView-button hdrConversationButton&quot;</span>
<a href="#l17.288"></a><span id="l17.288" class="difflineminus">-                             oncommand=&quot;gConversationOpener.openConversationForMessages(gFolderDisplay.selectedMessages);RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.289"></a><span id="l17.289" class="difflineminus">-              &lt;toolbarbutton id=&quot;hdrReplyToSenderButton&quot; label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.290"></a><span id="l17.290" class="difflineminus">-                             tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.291"></a><span id="l17.291" class="difflineminus">-                             oncommand=&quot;MsgReplySender(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.292"></a><span id="l17.292" class="difflineminus">-                             observes=&quot;button_reply&quot;</span>
<a href="#l17.293"></a><span id="l17.293" class="difflineminus">-                             class=&quot;toolbarbutton-1 msgHeaderView-button hdrReplyToSenderButton&quot;/&gt;</span>
<a href="#l17.294"></a><span id="l17.294" class="difflineminus">-              &lt;toolbaritem id=&quot;hdrSmartReplyButton&quot; label=&quot;&amp;hdrSmartReplyButton1.label;&quot;&gt;</span>
<a href="#l17.295"></a><span id="l17.295" class="difflineminus">-                &lt;!-- This button is a dummy and should only be shown when</span>
<a href="#l17.296"></a><span id="l17.296" class="difflineminus">-                     customizing the toolbar to distinguish the smart reply</span>
<a href="#l17.297"></a><span id="l17.297" class="difflineminus">-                     button from the reply to sender button. --&gt;</span>
<a href="#l17.298"></a><span id="l17.298" class="difflineminus">-                &lt;toolbarbutton id=&quot;hdrDummyReplyButton&quot; label=&quot;&amp;hdrSmartReplyButton1.label;&quot;</span>
<a href="#l17.299"></a><span id="l17.299" class="difflineminus">-                               hidden=&quot;true&quot;</span>
<a href="#l17.300"></a><span id="l17.300" class="difflineminus">-                               class=&quot;toolbarbutton-1 msgHeaderView-button hdrDummyReplyButton&quot;/&gt;</span>
<a href="#l17.301"></a><span id="l17.301" class="difflineminus">-                &lt;toolbarbutton id=&quot;hdrReplyButton&quot; label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.302"></a><span id="l17.302" class="difflineminus">-                               tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.303"></a><span id="l17.303" class="difflineminus">-                               oncommand=&quot;MsgReplySender(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.304"></a><span id="l17.304" class="difflineminus">-                               observes=&quot;button_reply&quot;</span>
<a href="#l17.305"></a><span id="l17.305" class="difflineminus">-                               class=&quot;toolbarbutton-1 msgHeaderView-button hdrReplyButton&quot;/&gt;</span>
<a href="#l17.306"></a><span id="l17.306" class="difflineminus">-                &lt;toolbarbutton id=&quot;hdrReplyAllButton&quot;</span>
<a href="#l17.307"></a><span id="l17.307" class="difflineminus">-                               label=&quot;&amp;hdrReplyAllButton1.label;&quot;</span>
<a href="#l17.308"></a><span id="l17.308" class="difflineminus">-                               tooltiptext=&quot;&amp;hdrReplyAllButton1.tooltip;&quot;</span>
<a href="#l17.309"></a><span id="l17.309" class="difflineminus">-                               oncommand=&quot;MsgReplyToAllMessage(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.310"></a><span id="l17.310" class="difflineminus">-                               observes=&quot;button_replyall&quot;</span>
<a href="#l17.311"></a><span id="l17.311" class="difflineminus">-                               class=&quot;toolbarbutton-1 msgHeaderView-button hdrReplyButton hdrReplyAllButton&quot;</span>
<a href="#l17.312"></a><span id="l17.312" class="difflineminus">-                               type=&quot;menu-button&quot;</span>
<a href="#l17.313"></a><span id="l17.313" class="difflineminus">-                               hidden=&quot;true&quot;&gt;</span>
<a href="#l17.314"></a><span id="l17.314" class="difflineminus">-                  &lt;menupopup id=&quot;hdrReplyAllDropdown&quot;&gt;</span>
<a href="#l17.315"></a><span id="l17.315" class="difflineminus">-                    &lt;menuitem id=&quot;hdrReplyAll_ReplyAllSubButton&quot;</span>
<a href="#l17.316"></a><span id="l17.316" class="difflineminus">-                              label=&quot;&amp;hdrReplyAllButton1.label;&quot;</span>
<a href="#l17.317"></a><span id="l17.317" class="difflineminus">-                              tooltiptext=&quot;&amp;hdrReplyAllButton1.tooltip;&quot;</span>
<a href="#l17.318"></a><span id="l17.318" class="difflineminus">-                              observes=&quot;button_replyall&quot;/&gt;</span>
<a href="#l17.319"></a><span id="l17.319" class="difflineminus">-                    &lt;menuseparator id=&quot;hdrReplyAllSubSeparator&quot;/&gt;</span>
<a href="#l17.320"></a><span id="l17.320" class="difflineminus">-                    &lt;menuitem id=&quot;hdrReplySubButton&quot;</span>
<a href="#l17.321"></a><span id="l17.321" class="difflineminus">-                              label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.322"></a><span id="l17.322" class="difflineminus">-                              tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.323"></a><span id="l17.323" class="difflineminus">-                              observes=&quot;button_reply&quot;</span>
<a href="#l17.324"></a><span id="l17.324" class="difflineminus">-                              oncommand=&quot;MsgReplySender(event); event.stopPropagation();</span>
<a href="#l17.325"></a><span id="l17.325" class="difflineminus">-                                         RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.326"></a><span id="l17.326" class="difflineminus">-                  &lt;/menupopup&gt;</span>
<a href="#l17.327"></a><span id="l17.327" class="difflineminus">-                &lt;/toolbarbutton&gt;</span>
<a href="#l17.328"></a><span id="l17.328" class="difflineminus">-                &lt;toolbarbutton id=&quot;hdrReplyListButton&quot;</span>
<a href="#l17.329"></a><span id="l17.329" class="difflineminus">-                               label=&quot;&amp;hdrReplyListButton1.label;&quot;</span>
<a href="#l17.330"></a><span id="l17.330" class="difflineminus">-                               tooltiptext=&quot;&amp;hdrReplyListButton1.tooltip;&quot;</span>
<a href="#l17.331"></a><span id="l17.331" class="difflineminus">-                               oncommand=&quot;MsgReplyToListMessage(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.332"></a><span id="l17.332" class="difflineminus">-                               observes=&quot;button_replylist&quot;</span>
<a href="#l17.333"></a><span id="l17.333" class="difflineminus">-                               class=&quot;toolbarbutton-1 msgHeaderView-button hdrReplyButton hdrReplyListButton&quot;</span>
<a href="#l17.334"></a><span id="l17.334" class="difflineminus">-                               type=&quot;menu-button&quot;</span>
<a href="#l17.335"></a><span id="l17.335" class="difflineminus">-                               hidden=&quot;true&quot;&gt;</span>
<a href="#l17.336"></a><span id="l17.336" class="difflineminus">-                  &lt;menupopup id=&quot;hdrReplyListDropdown&quot;&gt;</span>
<a href="#l17.337"></a><span id="l17.337" class="difflineminus">-                    &lt;menuitem id=&quot;hdrReplyList_ReplyListSubButton&quot;</span>
<a href="#l17.338"></a><span id="l17.338" class="difflineminus">-                              label=&quot;&amp;hdrReplyListButton1.label;&quot;</span>
<a href="#l17.339"></a><span id="l17.339" class="difflineminus">-                              tooltiptext=&quot;&amp;hdrReplyListButton1.tooltip;&quot;</span>
<a href="#l17.340"></a><span id="l17.340" class="difflineminus">-                              observes=&quot;button_replylist&quot;/&gt;</span>
<a href="#l17.341"></a><span id="l17.341" class="difflineminus">-                    &lt;menuseparator id=&quot;hdrReplyListSubSeparator&quot;/&gt;</span>
<a href="#l17.342"></a><span id="l17.342" class="difflineminus">-                    &lt;menuitem id=&quot;hdrRelplyList_ReplyAllSubButton&quot;</span>
<a href="#l17.343"></a><span id="l17.343" class="difflineminus">-                              label=&quot;&amp;hdrReplyAllButton1.label;&quot;</span>
<a href="#l17.344"></a><span id="l17.344" class="difflineminus">-                              tooltiptext=&quot;&amp;hdrReplyAllButton1.tooltip;&quot;</span>
<a href="#l17.345"></a><span id="l17.345" class="difflineminus">-                              observes=&quot;button_replyall&quot;</span>
<a href="#l17.346"></a><span id="l17.346" class="difflineminus">-                              oncommand=&quot;MsgReplyToAllMessage(event); event.stopPropagation();</span>
<a href="#l17.347"></a><span id="l17.347" class="difflineminus">-                                         RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.348"></a><span id="l17.348" class="difflineminus">-                    &lt;menuitem id=&quot;hdrReplyList_ReplySubButton&quot;</span>
<a href="#l17.349"></a><span id="l17.349" class="difflineminus">-                              label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.350"></a><span id="l17.350" class="difflineminus">-                              tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.351"></a><span id="l17.351" class="difflineminus">-                              observes=&quot;button_reply&quot;</span>
<a href="#l17.352"></a><span id="l17.352" class="difflineminus">-                              oncommand=&quot;MsgReplySender(event); event.stopPropagation();</span>
<a href="#l17.353"></a><span id="l17.353" class="difflineminus">-                                         RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.354"></a><span id="l17.354" class="difflineminus">-                  &lt;/menupopup&gt;</span>
<a href="#l17.355"></a><span id="l17.355" class="difflineminus">-                &lt;/toolbarbutton&gt;</span>
<a href="#l17.356"></a><span id="l17.356" class="difflineminus">-                &lt;toolbarbutton id=&quot;hdrFollowupButton&quot; label=&quot;&amp;hdrFollowupButton1.label;&quot;</span>
<a href="#l17.357"></a><span id="l17.357" class="difflineminus">-                               tooltiptext=&quot;&amp;hdrFollowupButton1.tooltip;&quot;</span>
<a href="#l17.358"></a><span id="l17.358" class="difflineminus">-                               oncommand=&quot;MsgReplyGroup(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.359"></a><span id="l17.359" class="difflineminus">-                               observes=&quot;button_followup&quot;</span>
<a href="#l17.360"></a><span id="l17.360" class="difflineminus">-                               class=&quot;toolbarbutton-1 msgHeaderView-button hdrFollowupButton&quot;</span>
<a href="#l17.361"></a><span id="l17.361" class="difflineminus">-                               type=&quot;menu-button&quot;&gt;</span>
<a href="#l17.362"></a><span id="l17.362" class="difflineminus">-                  &lt;menupopup id=&quot;hdrFollowupDropdown&quot;&gt;</span>
<a href="#l17.363"></a><span id="l17.363" class="difflineminus">-                    &lt;menuitem id=&quot;hdrFollowup_FollowupSubButton&quot;</span>
<a href="#l17.364"></a><span id="l17.364" class="difflineminus">-                              label=&quot;&amp;hdrFollowupButton1.label;&quot;</span>
<a href="#l17.365"></a><span id="l17.365" class="difflineminus">-                              tooltiptext=&quot;&amp;hdrFollowupButton1.tooltip;&quot;</span>
<a href="#l17.366"></a><span id="l17.366" class="difflineminus">-                              observes=&quot;button_followup&quot;/&gt;</span>
<a href="#l17.367"></a><span id="l17.367" class="difflineminus">-                    &lt;menuseparator id=&quot;hdrFollowupSubSeparator&quot;/&gt;</span>
<a href="#l17.368"></a><span id="l17.368" class="difflineminus">-                    &lt;menuitem id=&quot;hdrFollowup_ReplyAllSubButton&quot;</span>
<a href="#l17.369"></a><span id="l17.369" class="difflineminus">-                              label=&quot;&amp;hdrReplyAllButton1.label;&quot;</span>
<a href="#l17.370"></a><span id="l17.370" class="difflineminus">-                              tooltiptext=&quot;&amp;hdrReplyAllButton1.tooltip;&quot;</span>
<a href="#l17.371"></a><span id="l17.371" class="difflineminus">-                              observes=&quot;button_replyall&quot;</span>
<a href="#l17.372"></a><span id="l17.372" class="difflineminus">-                              oncommand=&quot;MsgReplyToAllMessage(event); event.stopPropagation();</span>
<a href="#l17.373"></a><span id="l17.373" class="difflineminus">-                                         RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.374"></a><span id="l17.374" class="difflineminus">-                    &lt;menuitem id=&quot;hdrFollowup_ReplySubButton&quot;</span>
<a href="#l17.375"></a><span id="l17.375" class="difflineminus">-                              label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.376"></a><span id="l17.376" class="difflineminus">-                              tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.377"></a><span id="l17.377" class="difflineminus">-                              observes=&quot;button_reply&quot;</span>
<a href="#l17.378"></a><span id="l17.378" class="difflineminus">-                              oncommand=&quot;MsgReplySender(event); event.stopPropagation();</span>
<a href="#l17.379"></a><span id="l17.379" class="difflineminus">-                                         RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.380"></a><span id="l17.380" class="difflineminus">-                  &lt;/menupopup&gt;</span>
<a href="#l17.381"></a><span id="l17.381" class="difflineminus">-                &lt;/toolbarbutton&gt;</span>
<a href="#l17.382"></a><span id="l17.382" class="difflineminus">-              &lt;/toolbaritem&gt;</span>
<a href="#l17.383"></a><span id="l17.383" class="difflineminus">-              &lt;toolbarbutton id=&quot;hdrTagButton&quot;</span>
<a href="#l17.384"></a><span id="l17.384" class="difflineminus">-                             type=&quot;menu&quot;</span>
<a href="#l17.385"></a><span id="l17.385" class="difflineminus">-                             class=&quot;toolbarbutton-1 msgHeaderView-button hdrTagButton&quot;</span>
<a href="#l17.386"></a><span id="l17.386" class="difflineminus">-                             label=&quot;&amp;tagButton.label;&quot;</span>
<a href="#l17.387"></a><span id="l17.387" class="difflineminus">-                             tooltiptext=&quot;&amp;tagButton.tooltip;&quot;</span>
<a href="#l17.388"></a><span id="l17.388" class="difflineminus">-                             command=&quot;cmd_tag&quot;&gt;</span>
<a href="#l17.389"></a><span id="l17.389" class="difflineminus">-                &lt;menupopup id=&quot;hdrTagDropdown&quot;</span>
<a href="#l17.390"></a><span id="l17.390" class="difflineminus">-                           onpopupshowing=&quot;InitMessageTags(this);&quot;&gt;</span>
<a href="#l17.391"></a><span id="l17.391" class="difflineminus">-                  &lt;menuitem id=&quot;hdrTagDropdown-addNewTag&quot;</span>
<a href="#l17.392"></a><span id="l17.392" class="difflineminus">-                            label=&quot;&amp;addNewTag.label;&quot;</span>
<a href="#l17.393"></a><span id="l17.393" class="difflineminus">-                            accesskey=&quot;&amp;addNewTag.accesskey;&quot;</span>
<a href="#l17.394"></a><span id="l17.394" class="difflineminus">-                            command=&quot;cmd_addTag&quot;/&gt;</span>
<a href="#l17.395"></a><span id="l17.395" class="difflineminus">-                  &lt;menuitem id=&quot;manageTags&quot;</span>
<a href="#l17.396"></a><span id="l17.396" class="difflineminus">-                            label=&quot;&amp;manageTags.label;&quot;</span>
<a href="#l17.397"></a><span id="l17.397" class="difflineminus">-                            accesskey=&quot;&amp;manageTags.accesskey;&quot;</span>
<a href="#l17.398"></a><span id="l17.398" class="difflineminus">-                            command=&quot;cmd_manageTags&quot;/&gt;</span>
<a href="#l17.399"></a><span id="l17.399" class="difflineminus">-                  &lt;menuseparator id=&quot;hdrTagDropdown-sep-afterAddNewTag&quot;/&gt;</span>
<a href="#l17.400"></a><span id="l17.400" class="difflineminus">-                  &lt;menuitem id=&quot;hdrTagDropdown-tagRemoveAll&quot;</span>
<a href="#l17.401"></a><span id="l17.401" class="difflineminus">-                            command=&quot;cmd_removeTags&quot;/&gt;</span>
<a href="#l17.402"></a><span id="l17.402" class="difflineminus">-                  &lt;menuseparator id=&quot;hdrTagDropdown-sep-afterTagRemoveAll&quot;/&gt;</span>
<a href="#l17.403"></a><span id="l17.403" class="difflineminus">-                &lt;/menupopup&gt;</span>
<a href="#l17.404"></a><span id="l17.404" class="difflineminus">-              &lt;/toolbarbutton&gt;</span>
<a href="#l17.405"></a><span id="l17.405" class="difflineminus">-              &lt;toolbarbutton type=&quot;menu&quot;</span>
<a href="#l17.406"></a><span id="l17.406" class="difflineminus">-                             id=&quot;otherActionsButton&quot;</span>
<a href="#l17.407"></a><span id="l17.407" class="difflineminus">-                             label=&quot;&amp;otherActionsButton2.label;&quot;</span>
<a href="#l17.408"></a><span id="l17.408" class="difflineminus">-                             tooltiptext=&quot;&amp;otherActionsButton.tooltip;&quot;</span>
<a href="#l17.409"></a><span id="l17.409" class="difflineminus">-                             class=&quot;toolbarbutton-1 msgHeaderView-button&quot;&gt;</span>
<a href="#l17.410"></a><span id="l17.410" class="difflineminus">-                &lt;menupopup id=&quot;otherActionsPopup&quot;</span>
<a href="#l17.411"></a><span id="l17.411" class="difflineminus">-                           onpopupshowing=&quot;onShowOtherActionsPopup();&quot;&gt;</span>
<a href="#l17.412"></a><span id="l17.412" class="difflineminus">-                  &lt;menuitem id=&quot;otherActionsOpenConversation&quot;</span>
<a href="#l17.413"></a><span id="l17.413" class="difflineminus">-                            label=&quot;&amp;otherActionsOpenConversation1.label;&quot;</span>
<a href="#l17.414"></a><span id="l17.414" class="difflineminus">-                            accesskey=&quot;&amp;otherActionsOpenConversation1.accesskey;&quot;</span>
<a href="#l17.415"></a><span id="l17.415" class="difflineminus">-                            oncommand=&quot;gConversationOpener.openConversationForMessages(gFolderDisplay.selectedMessages);&quot;/&gt;</span>
<a href="#l17.416"></a><span id="l17.416" class="difflineminus">-                  &lt;menuitem id=&quot;otherActionsOpenInNewWindow&quot;</span>
<a href="#l17.417"></a><span id="l17.417" class="difflineminus">-                            label=&quot;&amp;otherActionsOpenInNewWindow1.label;&quot;</span>
<a href="#l17.418"></a><span id="l17.418" class="difflineminus">-                            accesskey=&quot;&amp;otherActionsOpenInNewWindow1.accesskey;&quot;</span>
<a href="#l17.419"></a><span id="l17.419" class="difflineminus">-                            observes=&quot;otherActionsOpenIn&quot;</span>
<a href="#l17.420"></a><span id="l17.420" class="difflineminus">-                            oncommand=&quot;MsgOpenNewWindowForMessage();&quot;/&gt;</span>
<a href="#l17.421"></a><span id="l17.421" class="difflineminus">-                  &lt;menuitem id=&quot;otherActionsOpenInNewTab&quot;</span>
<a href="#l17.422"></a><span id="l17.422" class="difflineminus">-                            label=&quot;&amp;otherActionsOpenInNewTab1.label;&quot;</span>
<a href="#l17.423"></a><span id="l17.423" class="difflineminus">-                            accesskey=&quot;&amp;otherActionsOpenInNewTab1.accesskey;&quot;</span>
<a href="#l17.424"></a><span id="l17.424" class="difflineminus">-                            observes=&quot;otherActionsOpenIn&quot;</span>
<a href="#l17.425"></a><span id="l17.425" class="difflineminus">-                            oncommand=&quot;OpenMessageInNewTab(event);&quot;/&gt;</span>
<a href="#l17.426"></a><span id="l17.426" class="difflineminus">-                  &lt;menuitem id=&quot;viewSourceMenuItem&quot;</span>
<a href="#l17.427"></a><span id="l17.427" class="difflineminus">-                            label=&quot;&amp;viewSourceMenuItem1.label;&quot;</span>
<a href="#l17.428"></a><span id="l17.428" class="difflineminus">-                            accesskey=&quot;&amp;viewSourceMenuItem1.accesskey;&quot;</span>
<a href="#l17.429"></a><span id="l17.429" class="difflineminus">-                            oncommand=&quot;ViewPageSource(gFolderDisplay.selectedMessageUris);&quot; /&gt;</span>
<a href="#l17.430"></a><span id="l17.430" class="difflineminus">-                  &lt;menuseparator id=&quot;otherActionsSeparator&quot;/&gt;</span>
<a href="#l17.431"></a><span id="l17.431" class="difflineminus">-                  &lt;menuitem id=&quot;markAsReadMenuItem&quot;</span>
<a href="#l17.432"></a><span id="l17.432" class="difflineminus">-                            label=&quot;&amp;markAsReadMenuItem1.label;&quot;</span>
<a href="#l17.433"></a><span id="l17.433" class="difflineminus">-                            accesskey=&quot;&amp;markAsReadMenuItem1.accesskey;&quot;</span>
<a href="#l17.434"></a><span id="l17.434" class="difflineminus">-                            oncommand=&quot;MsgMarkMsgAsRead();&quot;/&gt;</span>
<a href="#l17.435"></a><span id="l17.435" class="difflineminus">-                  &lt;menuitem id=&quot;markAsUnreadMenuItem&quot;</span>
<a href="#l17.436"></a><span id="l17.436" class="difflineminus">-                            label=&quot;&amp;markAsUnreadMenuItem1.label;&quot;</span>
<a href="#l17.437"></a><span id="l17.437" class="difflineminus">-                            accesskey=&quot;&amp;markAsUnreadMenuItem1.accesskey;&quot;</span>
<a href="#l17.438"></a><span id="l17.438" class="difflineminus">-                            oncommand=&quot;MsgMarkMsgAsRead();&quot;/&gt;</span>
<a href="#l17.439"></a><span id="l17.439" class="difflineminus">-                  &lt;menuitem id=&quot;saveAsMenuItem&quot; label=&quot;&amp;saveAsMenuItem1.label;&quot;</span>
<a href="#l17.440"></a><span id="l17.440" class="difflineminus">-                            accesskey=&quot;&amp;saveAsMenuItem1.accesskey;&quot;</span>
<a href="#l17.441"></a><span id="l17.441" class="difflineminus">-                            oncommand=&quot;MsgSaveAsFile();&quot;/&gt;</span>
<a href="#l17.442"></a><span id="l17.442" class="difflineminus">-                  &lt;menuitem id=&quot;otherActionsPrint&quot;</span>
<a href="#l17.443"></a><span id="l17.443" class="difflineminus">-                            label=&quot;&amp;otherActionsPrint1.label;&quot;</span>
<a href="#l17.444"></a><span id="l17.444" class="difflineminus">-                            accesskey=&quot;&amp;otherActionsPrint1.accesskey;&quot;</span>
<a href="#l17.445"></a><span id="l17.445" class="difflineminus">-                            oncommand=&quot;PrintEnginePrint();&quot;/&gt;</span>
<a href="#l17.446"></a><span id="l17.446" class="difflineminus">-                &lt;/menupopup&gt;</span>
<a href="#l17.447"></a><span id="l17.447" class="difflineminus">-              &lt;/toolbarbutton&gt;</span>
<a href="#l17.448"></a><span id="l17.448" class="difflineminus">-            &lt;/toolbarpalette&gt;</span>
<a href="#l17.449"></a><span id="l17.449" class="difflineminus">-</span>
<a href="#l17.450"></a><span id="l17.450" class="difflineminus">-            &lt;toolbar id=&quot;header-view-toolbar&quot; class=&quot;inline-toolbar&quot; align=&quot;start&quot;</span>
<a href="#l17.451"></a><span id="l17.451" class="difflineminus">-                     customizable=&quot;true&quot; mode=&quot;full&quot;</span>
<a href="#l17.452"></a><span id="l17.452" class="difflineminus">-                     context=&quot;header-toolbar-context-menu&quot;</span>
<a href="#l17.453"></a><span id="l17.453" class="difflineminus">-                     defaulticonsize=&quot;small&quot; defaultmode=&quot;full&quot;</span>
<a href="#l17.454"></a><span id="l17.454" class="difflineminus">-                     defaultset=&quot;hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton,otherActionsButton&quot;/&gt;</span>
<a href="#l17.455"></a><span id="l17.455" class="difflineminus">-          &lt;/toolbox&gt;</span>
<a href="#l17.456"></a><span id="l17.456" class="difflineminus">-</span>
<a href="#l17.457"></a><span id="l17.457" class="difflineminus">-          &lt;!-- This box ensures that the expandedHeaders grid below is aligned</span>
<a href="#l17.458"></a><span id="l17.458" class="difflineminus">-               with the bottom of the message header toolbar. Like the</span>
<a href="#l17.459"></a><span id="l17.459" class="difflineminus">-               expandedHeadersTopBox, this uses display:block to give us HTML</span>
<a href="#l17.460"></a><span id="l17.460" class="difflineminus">-               layouting. --&gt;</span>
<a href="#l17.461"></a><span id="l17.461" class="difflineminus">-          &lt;box id=&quot;expandedBoxSpacer&quot;/&gt;</span>
<a href="#l17.462"></a><span id="l17.462" class="difflineminus">-</span>
<a href="#l17.463"></a><span id="l17.463" class="difflineminus">-          &lt;!-- Theoretically, we should be able to replace this grid with just</span>
<a href="#l17.464"></a><span id="l17.464" class="difflineminus">-               an hbox.  Unfortunately, doing that makes it very hard to sync</span>
<a href="#l17.465"></a><span id="l17.465" class="difflineminus">-               the column sizes between the name columns, because for currently</span>
<a href="#l17.466"></a><span id="l17.466" class="difflineminus">-               unclear reasons, the .clientWidth of a column is wider than the</span>
<a href="#l17.467"></a><span id="l17.467" class="difflineminus">-               .clientWidth of its largest contained child by an unspecified</span>
<a href="#l17.468"></a><span id="l17.468" class="difflineminus">-               amount. --&gt;</span>
<a href="#l17.469"></a><span id="l17.469" class="difflineminus">-          &lt;grid id=&quot;expandedHeaders&quot;&gt;</span>
<a href="#l17.470"></a><span id="l17.470" class="difflineminus">-</span>
<a href="#l17.471"></a><span id="l17.471" class="difflineminus">-            &lt;columns id=&quot;expandedHeadersColumns&quot;&gt;</span>
<a href="#l17.472"></a><span id="l17.472" class="difflineminus">-              &lt;column id=&quot;expandedHeadersNameColumn&quot;/&gt;</span>
<a href="#l17.473"></a><span id="l17.473" class="difflineminus">-              &lt;column id=&quot;expandedHeadersValueColumn&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.474"></a><span id="l17.474" class="difflineminus">-            &lt;/columns&gt;</span>
<a href="#l17.475"></a><span id="l17.475" class="difflineplus">+                                    &lt;toolbarbutton id=&quot;hdrForwardButton&quot;</span>
<a href="#l17.476"></a><span id="l17.476" class="difflineplus">+                                                   label=&quot;&amp;hdrForwardButton1.label;&quot;</span>
<a href="#l17.477"></a><span id="l17.477" class="difflineplus">+                                                   tooltiptext=&quot;&amp;hdrForwardButton1.tooltip;&quot;</span>
<a href="#l17.478"></a><span id="l17.478" class="difflineplus">+                                                   oncommand=&quot;MsgForwardMessage(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.479"></a><span id="l17.479" class="difflineplus">+                                                   observes=&quot;button_forward&quot;</span>
<a href="#l17.480"></a><span id="l17.480" class="difflineplus">+                                                   class=&quot;toolbarbutton-1 msgHeaderView-button hdrForwardButton&quot;/&gt;</span>
<a href="#l17.481"></a><span id="l17.481" class="difflineplus">+                                    &lt;toolbaritem id=&quot;hdrMenuForwardButton&quot; label=&quot;&amp;hdrMenuForwardButton.label;&quot;&gt;</span>
<a href="#l17.482"></a><span id="l17.482" class="difflineplus">+                                    &lt;!-- This toolbaritem is a dummy and should only be shown when</span>
<a href="#l17.483"></a><span id="l17.483" class="difflineplus">+                                         customizing the toolbar to distinguish the forward button</span>
<a href="#l17.484"></a><span id="l17.484" class="difflineplus">+                                         from the forward dual-button. --&gt;</span>
<a href="#l17.485"></a><span id="l17.485" class="difflineplus">+                                      &lt;toolbarbutton id=&quot;hdrDualForwardButton&quot;</span>
<a href="#l17.486"></a><span id="l17.486" class="difflineplus">+                                                     label=&quot;&amp;hdrForwardButton1.label;&quot;</span>
<a href="#l17.487"></a><span id="l17.487" class="difflineplus">+                                                     tooltiptext=&quot;&amp;hdrForwardButton1.tooltip;&quot;</span>
<a href="#l17.488"></a><span id="l17.488" class="difflineplus">+                                                     oncommand=&quot;MsgForwardMessage(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.489"></a><span id="l17.489" class="difflineplus">+                                                     observes=&quot;button_forward&quot;</span>
<a href="#l17.490"></a><span id="l17.490" class="difflineplus">+                                                     class=&quot;toolbarbutton-1 msgHeaderView-button hdrForwardButton&quot;</span>
<a href="#l17.491"></a><span id="l17.491" class="difflineplus">+                                                     type=&quot;menu-button&quot;&gt;</span>
<a href="#l17.492"></a><span id="l17.492" class="difflineplus">+                                        &lt;menupopup id=&quot;hdrForwardDropdown&quot;&gt;</span>
<a href="#l17.493"></a><span id="l17.493" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrForwardAsInlineMenu&quot;</span>
<a href="#l17.494"></a><span id="l17.494" class="difflineplus">+                                                    label=&quot;&amp;buttonMenuForwardAsInline.label;&quot;</span>
<a href="#l17.495"></a><span id="l17.495" class="difflineplus">+                                                    tooltiptext=&quot;&amp;forwardAsInline.tooltip;&quot;</span>
<a href="#l17.496"></a><span id="l17.496" class="difflineplus">+                                                    command=&quot;cmd_forwardInline&quot;/&gt;</span>
<a href="#l17.497"></a><span id="l17.497" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrForwardAsAttachmentMenu&quot;</span>
<a href="#l17.498"></a><span id="l17.498" class="difflineplus">+                                                    label=&quot;&amp;buttonMenuForwardAsAttachment.label;&quot;</span>
<a href="#l17.499"></a><span id="l17.499" class="difflineplus">+                                                    tooltiptext=&quot;&amp;forwardAsAttachment.tooltip;&quot;</span>
<a href="#l17.500"></a><span id="l17.500" class="difflineplus">+                                                    command=&quot;cmd_forwardAttachment&quot;/&gt;</span>
<a href="#l17.501"></a><span id="l17.501" class="difflineplus">+                                        &lt;/menupopup&gt;</span>
<a href="#l17.502"></a><span id="l17.502" class="difflineplus">+                                      &lt;/toolbarbutton&gt;</span>
<a href="#l17.503"></a><span id="l17.503" class="difflineplus">+                                    &lt;/toolbaritem&gt;</span>
<a href="#l17.504"></a><span id="l17.504" class="difflineplus">+                                    &lt;toolbarbutton id=&quot;hdrArchiveButton&quot;</span>
<a href="#l17.505"></a><span id="l17.505" class="difflineplus">+                                                   label=&quot;&amp;hdrArchiveButton1.label;&quot;</span>
<a href="#l17.506"></a><span id="l17.506" class="difflineplus">+                                                   tooltiptext=&quot;&amp;hdrArchiveButton1.tooltip;&quot;</span>
<a href="#l17.507"></a><span id="l17.507" class="difflineplus">+                                                   oncommand=&quot;MsgArchiveSelectedMessages(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.508"></a><span id="l17.508" class="difflineplus">+                                                   observes=&quot;button_archive&quot;</span>
<a href="#l17.509"></a><span id="l17.509" class="difflineplus">+                                                   class=&quot;toolbarbutton-1 msgHeaderView-button hdrArchiveButton&quot;/&gt;</span>
<a href="#l17.510"></a><span id="l17.510" class="difflineplus">+                                    &lt;toolbarbutton id=&quot;hdrJunkButton&quot; label=&quot;&amp;hdrJunkButton1.label;&quot;</span>
<a href="#l17.511"></a><span id="l17.511" class="difflineplus">+                                                   tooltiptext=&quot;&amp;hdrJunkButton1.tooltip;&quot;</span>
<a href="#l17.512"></a><span id="l17.512" class="difflineplus">+                                                   observes=&quot;button_junk&quot;</span>
<a href="#l17.513"></a><span id="l17.513" class="difflineplus">+                                                   class=&quot;toolbarbutton-1 msgHeaderView-button hdrJunkButton&quot;</span>
<a href="#l17.514"></a><span id="l17.514" class="difflineplus">+                                                   oncommand=&quot;goDoCommand('button_junk');RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.515"></a><span id="l17.515" class="difflineplus">+                                    &lt;toolbarbutton id=&quot;hdrTrashButton&quot;</span>
<a href="#l17.516"></a><span id="l17.516" class="difflineplus">+                                                   label=&quot;&amp;hdrTrashButton1.label;&quot;</span>
<a href="#l17.517"></a><span id="l17.517" class="difflineplus">+                                                   tooltiptext=&quot;&amp;hdrTrashButton1.tooltip;&quot;</span>
<a href="#l17.518"></a><span id="l17.518" class="difflineplus">+                                                   observes=&quot;button_delete&quot;</span>
<a href="#l17.519"></a><span id="l17.519" class="difflineplus">+                                                   class=&quot;toolbarbutton-1 msgHeaderView-button hdrTrashButton&quot;</span>
<a href="#l17.520"></a><span id="l17.520" class="difflineplus">+                                                   oncommand=&quot;goDoCommand(event.shiftKey ? 'button_shiftDelete' :</span>
<a href="#l17.521"></a><span id="l17.521" class="difflineplus">+                                                                          'button_delete');RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.522"></a><span id="l17.522" class="difflineplus">+                                    &lt;toolbarbutton id=&quot;hdrOpenConversationButton&quot;</span>
<a href="#l17.523"></a><span id="l17.523" class="difflineplus">+                                                   label=&quot;&amp;hdrOpenConversationButton1.label;&quot;</span>
<a href="#l17.524"></a><span id="l17.524" class="difflineplus">+                                                   tooltiptext=&quot;&amp;hdrOpenConversationButton1.tooltip;&quot;</span>
<a href="#l17.525"></a><span id="l17.525" class="difflineplus">+                                                   observes=&quot;button_showconversation&quot;</span>
<a href="#l17.526"></a><span id="l17.526" class="difflineplus">+                                                   class=&quot;toolbarbutton-1 msgHeaderView-button hdrConversationButton&quot;</span>
<a href="#l17.527"></a><span id="l17.527" class="difflineplus">+                                                   oncommand=&quot;gConversationOpener.openConversationForMessages(gFolderDisplay.selectedMessages);RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.528"></a><span id="l17.528" class="difflineplus">+                                    &lt;toolbarbutton id=&quot;hdrReplyToSenderButton&quot; label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.529"></a><span id="l17.529" class="difflineplus">+                                                   tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.530"></a><span id="l17.530" class="difflineplus">+                                                   oncommand=&quot;MsgReplySender(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.531"></a><span id="l17.531" class="difflineplus">+                                                   observes=&quot;button_reply&quot;</span>
<a href="#l17.532"></a><span id="l17.532" class="difflineplus">+                                                   class=&quot;toolbarbutton-1 msgHeaderView-button hdrReplyToSenderButton&quot;/&gt;</span>
<a href="#l17.533"></a><span id="l17.533" class="difflineplus">+                                    &lt;toolbaritem id=&quot;hdrSmartReplyButton&quot; label=&quot;&amp;hdrSmartReplyButton1.label;&quot;&gt;</span>
<a href="#l17.534"></a><span id="l17.534" class="difflineplus">+                                      &lt;!-- This button is a dummy and should only be shown when</span>
<a href="#l17.535"></a><span id="l17.535" class="difflineplus">+                                           customizing the toolbar to distinguish the smart reply</span>
<a href="#l17.536"></a><span id="l17.536" class="difflineplus">+                                           button from the reply to sender button. --&gt;</span>
<a href="#l17.537"></a><span id="l17.537" class="difflineplus">+                                      &lt;toolbarbutton id=&quot;hdrDummyReplyButton&quot; label=&quot;&amp;hdrSmartReplyButton1.label;&quot;</span>
<a href="#l17.538"></a><span id="l17.538" class="difflineplus">+                                                     hidden=&quot;true&quot;</span>
<a href="#l17.539"></a><span id="l17.539" class="difflineplus">+                                                     class=&quot;toolbarbutton-1 msgHeaderView-button hdrDummyReplyButton&quot;/&gt;</span>
<a href="#l17.540"></a><span id="l17.540" class="difflineplus">+                                      &lt;toolbarbutton id=&quot;hdrReplyButton&quot; label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.541"></a><span id="l17.541" class="difflineplus">+                                                     tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.542"></a><span id="l17.542" class="difflineplus">+                                                     oncommand=&quot;MsgReplySender(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.543"></a><span id="l17.543" class="difflineplus">+                                                     observes=&quot;button_reply&quot;</span>
<a href="#l17.544"></a><span id="l17.544" class="difflineplus">+                                                     class=&quot;toolbarbutton-1 msgHeaderView-button hdrReplyButton&quot;/&gt;</span>
<a href="#l17.545"></a><span id="l17.545" class="difflineplus">+                                      &lt;toolbarbutton id=&quot;hdrReplyAllButton&quot;</span>
<a href="#l17.546"></a><span id="l17.546" class="difflineplus">+                                                     label=&quot;&amp;hdrReplyAllButton1.label;&quot;</span>
<a href="#l17.547"></a><span id="l17.547" class="difflineplus">+                                                     tooltiptext=&quot;&amp;hdrReplyAllButton1.tooltip;&quot;</span>
<a href="#l17.548"></a><span id="l17.548" class="difflineplus">+                                                     oncommand=&quot;MsgReplyToAllMessage(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.549"></a><span id="l17.549" class="difflineplus">+                                                     observes=&quot;button_replyall&quot;</span>
<a href="#l17.550"></a><span id="l17.550" class="difflineplus">+                                                     class=&quot;toolbarbutton-1 msgHeaderView-button hdrReplyButton hdrReplyAllButton&quot;</span>
<a href="#l17.551"></a><span id="l17.551" class="difflineplus">+                                                     type=&quot;menu-button&quot;</span>
<a href="#l17.552"></a><span id="l17.552" class="difflineplus">+                                                     hidden=&quot;true&quot;&gt;</span>
<a href="#l17.553"></a><span id="l17.553" class="difflineplus">+                                        &lt;menupopup id=&quot;hdrReplyAllDropdown&quot;&gt;</span>
<a href="#l17.554"></a><span id="l17.554" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrReplyAll_ReplyAllSubButton&quot;</span>
<a href="#l17.555"></a><span id="l17.555" class="difflineplus">+                                                    label=&quot;&amp;hdrReplyAllButton1.label;&quot;</span>
<a href="#l17.556"></a><span id="l17.556" class="difflineplus">+                                                    tooltiptext=&quot;&amp;hdrReplyAllButton1.tooltip;&quot;</span>
<a href="#l17.557"></a><span id="l17.557" class="difflineplus">+                                                    observes=&quot;button_replyall&quot;/&gt;</span>
<a href="#l17.558"></a><span id="l17.558" class="difflineplus">+                                          &lt;menuseparator id=&quot;hdrReplyAllSubSeparator&quot;/&gt;</span>
<a href="#l17.559"></a><span id="l17.559" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrReplySubButton&quot;</span>
<a href="#l17.560"></a><span id="l17.560" class="difflineplus">+                                                    label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.561"></a><span id="l17.561" class="difflineplus">+                                                    tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.562"></a><span id="l17.562" class="difflineplus">+                                                    observes=&quot;button_reply&quot;</span>
<a href="#l17.563"></a><span id="l17.563" class="difflineplus">+                                                    oncommand=&quot;MsgReplySender(event); event.stopPropagation();</span>
<a href="#l17.564"></a><span id="l17.564" class="difflineplus">+                                                               RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.565"></a><span id="l17.565" class="difflineplus">+                                        &lt;/menupopup&gt;</span>
<a href="#l17.566"></a><span id="l17.566" class="difflineplus">+                                      &lt;/toolbarbutton&gt;</span>
<a href="#l17.567"></a><span id="l17.567" class="difflineplus">+                                      &lt;toolbarbutton id=&quot;hdrReplyListButton&quot;</span>
<a href="#l17.568"></a><span id="l17.568" class="difflineplus">+                                                     label=&quot;&amp;hdrReplyListButton1.label;&quot;</span>
<a href="#l17.569"></a><span id="l17.569" class="difflineplus">+                                                     tooltiptext=&quot;&amp;hdrReplyListButton1.tooltip;&quot;</span>
<a href="#l17.570"></a><span id="l17.570" class="difflineplus">+                                                     oncommand=&quot;MsgReplyToListMessage(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.571"></a><span id="l17.571" class="difflineplus">+                                                     observes=&quot;button_replylist&quot;</span>
<a href="#l17.572"></a><span id="l17.572" class="difflineplus">+                                                     class=&quot;toolbarbutton-1 msgHeaderView-button hdrReplyButton hdrReplyListButton&quot;</span>
<a href="#l17.573"></a><span id="l17.573" class="difflineplus">+                                                     type=&quot;menu-button&quot;</span>
<a href="#l17.574"></a><span id="l17.574" class="difflineplus">+                                                     hidden=&quot;true&quot;&gt;</span>
<a href="#l17.575"></a><span id="l17.575" class="difflineplus">+                                        &lt;menupopup id=&quot;hdrReplyListDropdown&quot;&gt;</span>
<a href="#l17.576"></a><span id="l17.576" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrReplyList_ReplyListSubButton&quot;</span>
<a href="#l17.577"></a><span id="l17.577" class="difflineplus">+                                                    label=&quot;&amp;hdrReplyListButton1.label;&quot;</span>
<a href="#l17.578"></a><span id="l17.578" class="difflineplus">+                                                    tooltiptext=&quot;&amp;hdrReplyListButton1.tooltip;&quot;</span>
<a href="#l17.579"></a><span id="l17.579" class="difflineplus">+                                                    observes=&quot;button_replylist&quot;/&gt;</span>
<a href="#l17.580"></a><span id="l17.580" class="difflineplus">+                                          &lt;menuseparator id=&quot;hdrReplyListSubSeparator&quot;/&gt;</span>
<a href="#l17.581"></a><span id="l17.581" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrRelplyList_ReplyAllSubButton&quot;</span>
<a href="#l17.582"></a><span id="l17.582" class="difflineplus">+                                                    label=&quot;&amp;hdrReplyAllButton1.label;&quot;</span>
<a href="#l17.583"></a><span id="l17.583" class="difflineplus">+                                                    tooltiptext=&quot;&amp;hdrReplyAllButton1.tooltip;&quot;</span>
<a href="#l17.584"></a><span id="l17.584" class="difflineplus">+                                                    observes=&quot;button_replyall&quot;</span>
<a href="#l17.585"></a><span id="l17.585" class="difflineplus">+                                                    oncommand=&quot;MsgReplyToAllMessage(event); event.stopPropagation();</span>
<a href="#l17.586"></a><span id="l17.586" class="difflineplus">+                                                               RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.587"></a><span id="l17.587" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrReplyList_ReplySubButton&quot;</span>
<a href="#l17.588"></a><span id="l17.588" class="difflineplus">+                                                    label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.589"></a><span id="l17.589" class="difflineplus">+                                                    tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.590"></a><span id="l17.590" class="difflineplus">+                                                    observes=&quot;button_reply&quot;</span>
<a href="#l17.591"></a><span id="l17.591" class="difflineplus">+                                                    oncommand=&quot;MsgReplySender(event); event.stopPropagation();</span>
<a href="#l17.592"></a><span id="l17.592" class="difflineplus">+                                                               RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.593"></a><span id="l17.593" class="difflineplus">+                                        &lt;/menupopup&gt;</span>
<a href="#l17.594"></a><span id="l17.594" class="difflineplus">+                                      &lt;/toolbarbutton&gt;</span>
<a href="#l17.595"></a><span id="l17.595" class="difflineplus">+                                      &lt;toolbarbutton id=&quot;hdrFollowupButton&quot; label=&quot;&amp;hdrFollowupButton1.label;&quot;</span>
<a href="#l17.596"></a><span id="l17.596" class="difflineplus">+                                                     tooltiptext=&quot;&amp;hdrFollowupButton1.tooltip;&quot;</span>
<a href="#l17.597"></a><span id="l17.597" class="difflineplus">+                                                     oncommand=&quot;MsgReplyGroup(event);RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.598"></a><span id="l17.598" class="difflineplus">+                                                     observes=&quot;button_followup&quot;</span>
<a href="#l17.599"></a><span id="l17.599" class="difflineplus">+                                                     class=&quot;toolbarbutton-1 msgHeaderView-button hdrFollowupButton&quot;</span>
<a href="#l17.600"></a><span id="l17.600" class="difflineplus">+                                                     type=&quot;menu-button&quot;&gt;</span>
<a href="#l17.601"></a><span id="l17.601" class="difflineplus">+                                        &lt;menupopup id=&quot;hdrFollowupDropdown&quot;&gt;</span>
<a href="#l17.602"></a><span id="l17.602" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrFollowup_FollowupSubButton&quot;</span>
<a href="#l17.603"></a><span id="l17.603" class="difflineplus">+                                                    label=&quot;&amp;hdrFollowupButton1.label;&quot;</span>
<a href="#l17.604"></a><span id="l17.604" class="difflineplus">+                                                    tooltiptext=&quot;&amp;hdrFollowupButton1.tooltip;&quot;</span>
<a href="#l17.605"></a><span id="l17.605" class="difflineplus">+                                                    observes=&quot;button_followup&quot;/&gt;</span>
<a href="#l17.606"></a><span id="l17.606" class="difflineplus">+                                          &lt;menuseparator id=&quot;hdrFollowupSubSeparator&quot;/&gt;</span>
<a href="#l17.607"></a><span id="l17.607" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrFollowup_ReplyAllSubButton&quot;</span>
<a href="#l17.608"></a><span id="l17.608" class="difflineplus">+                                                    label=&quot;&amp;hdrReplyAllButton1.label;&quot;</span>
<a href="#l17.609"></a><span id="l17.609" class="difflineplus">+                                                    tooltiptext=&quot;&amp;hdrReplyAllButton1.tooltip;&quot;</span>
<a href="#l17.610"></a><span id="l17.610" class="difflineplus">+                                                    observes=&quot;button_replyall&quot;</span>
<a href="#l17.611"></a><span id="l17.611" class="difflineplus">+                                                    oncommand=&quot;MsgReplyToAllMessage(event); event.stopPropagation();</span>
<a href="#l17.612"></a><span id="l17.612" class="difflineplus">+                                                               RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.613"></a><span id="l17.613" class="difflineplus">+                                          &lt;menuitem id=&quot;hdrFollowup_ReplySubButton&quot;</span>
<a href="#l17.614"></a><span id="l17.614" class="difflineplus">+                                                    label=&quot;&amp;hdrReplyButton1.label;&quot;</span>
<a href="#l17.615"></a><span id="l17.615" class="difflineplus">+                                                    tooltiptext=&quot;&amp;hdrReplyButton2.tooltip;&quot;</span>
<a href="#l17.616"></a><span id="l17.616" class="difflineplus">+                                                    observes=&quot;button_reply&quot;</span>
<a href="#l17.617"></a><span id="l17.617" class="difflineplus">+                                                    oncommand=&quot;MsgReplySender(event); event.stopPropagation();</span>
<a href="#l17.618"></a><span id="l17.618" class="difflineplus">+                                                               RestoreFocusAfterHdrButton();&quot;/&gt;</span>
<a href="#l17.619"></a><span id="l17.619" class="difflineplus">+                                        &lt;/menupopup&gt;</span>
<a href="#l17.620"></a><span id="l17.620" class="difflineplus">+                                      &lt;/toolbarbutton&gt;</span>
<a href="#l17.621"></a><span id="l17.621" class="difflineplus">+                                    &lt;/toolbaritem&gt;</span>
<a href="#l17.622"></a><span id="l17.622" class="difflineplus">+                                    &lt;toolbarbutton id=&quot;hdrTagButton&quot;</span>
<a href="#l17.623"></a><span id="l17.623" class="difflineplus">+                                                   type=&quot;menu&quot;</span>
<a href="#l17.624"></a><span id="l17.624" class="difflineplus">+                                                   class=&quot;toolbarbutton-1 msgHeaderView-button hdrTagButton&quot;</span>
<a href="#l17.625"></a><span id="l17.625" class="difflineplus">+                                                   label=&quot;&amp;tagButton.label;&quot;</span>
<a href="#l17.626"></a><span id="l17.626" class="difflineplus">+                                                   tooltiptext=&quot;&amp;tagButton.tooltip;&quot;</span>
<a href="#l17.627"></a><span id="l17.627" class="difflineplus">+                                                   command=&quot;cmd_tag&quot;&gt;</span>
<a href="#l17.628"></a><span id="l17.628" class="difflineplus">+                                      &lt;menupopup id=&quot;hdrTagDropdown&quot;</span>
<a href="#l17.629"></a><span id="l17.629" class="difflineplus">+                                                 onpopupshowing=&quot;InitMessageTags(this);&quot;&gt;</span>
<a href="#l17.630"></a><span id="l17.630" class="difflineplus">+                                        &lt;menuitem id=&quot;hdrTagDropdown-addNewTag&quot;</span>
<a href="#l17.631"></a><span id="l17.631" class="difflineplus">+                                                  label=&quot;&amp;addNewTag.label;&quot;</span>
<a href="#l17.632"></a><span id="l17.632" class="difflineplus">+                                                  accesskey=&quot;&amp;addNewTag.accesskey;&quot;</span>
<a href="#l17.633"></a><span id="l17.633" class="difflineplus">+                                                  command=&quot;cmd_addTag&quot;/&gt;</span>
<a href="#l17.634"></a><span id="l17.634" class="difflineplus">+                                        &lt;menuitem id=&quot;manageTags&quot;</span>
<a href="#l17.635"></a><span id="l17.635" class="difflineplus">+                                                  label=&quot;&amp;manageTags.label;&quot;</span>
<a href="#l17.636"></a><span id="l17.636" class="difflineplus">+                                                  accesskey=&quot;&amp;manageTags.accesskey;&quot;</span>
<a href="#l17.637"></a><span id="l17.637" class="difflineplus">+                                                  command=&quot;cmd_manageTags&quot;/&gt;</span>
<a href="#l17.638"></a><span id="l17.638" class="difflineplus">+                                        &lt;menuseparator id=&quot;hdrTagDropdown-sep-afterAddNewTag&quot;/&gt;</span>
<a href="#l17.639"></a><span id="l17.639" class="difflineplus">+                                        &lt;menuitem id=&quot;hdrTagDropdown-tagRemoveAll&quot;</span>
<a href="#l17.640"></a><span id="l17.640" class="difflineplus">+                                                  command=&quot;cmd_removeTags&quot;/&gt;</span>
<a href="#l17.641"></a><span id="l17.641" class="difflineplus">+                                        &lt;menuseparator id=&quot;hdrTagDropdown-sep-afterTagRemoveAll&quot;/&gt;</span>
<a href="#l17.642"></a><span id="l17.642" class="difflineplus">+                                      &lt;/menupopup&gt;</span>
<a href="#l17.643"></a><span id="l17.643" class="difflineplus">+                                    &lt;/toolbarbutton&gt;</span>
<a href="#l17.644"></a><span id="l17.644" class="difflineplus">+                                    &lt;toolbarbutton type=&quot;menu&quot;</span>
<a href="#l17.645"></a><span id="l17.645" class="difflineplus">+                                                   id=&quot;otherActionsButton&quot;</span>
<a href="#l17.646"></a><span id="l17.646" class="difflineplus">+                                                   label=&quot;&amp;otherActionsButton2.label;&quot;</span>
<a href="#l17.647"></a><span id="l17.647" class="difflineplus">+                                                   tooltiptext=&quot;&amp;otherActionsButton.tooltip;&quot;</span>
<a href="#l17.648"></a><span id="l17.648" class="difflineplus">+                                                   class=&quot;toolbarbutton-1 msgHeaderView-button&quot;&gt;</span>
<a href="#l17.649"></a><span id="l17.649" class="difflineplus">+                                      &lt;menupopup id=&quot;otherActionsPopup&quot;</span>
<a href="#l17.650"></a><span id="l17.650" class="difflineplus">+                                                 onpopupshowing=&quot;onShowOtherActionsPopup();&quot;&gt;</span>
<a href="#l17.651"></a><span id="l17.651" class="difflineplus">+                                        &lt;menuitem id=&quot;otherActionsOpenConversation&quot;</span>
<a href="#l17.652"></a><span id="l17.652" class="difflineplus">+                                                  label=&quot;&amp;otherActionsOpenConversation1.label;&quot;</span>
<a href="#l17.653"></a><span id="l17.653" class="difflineplus">+                                                  accesskey=&quot;&amp;otherActionsOpenConversation1.accesskey;&quot;</span>
<a href="#l17.654"></a><span id="l17.654" class="difflineplus">+                                                  oncommand=&quot;gConversationOpener.openConversationForMessages(gFolderDisplay.selectedMessages);&quot;/&gt;</span>
<a href="#l17.655"></a><span id="l17.655" class="difflineplus">+                                        &lt;menuitem id=&quot;otherActionsOpenInNewWindow&quot;</span>
<a href="#l17.656"></a><span id="l17.656" class="difflineplus">+                                                  label=&quot;&amp;otherActionsOpenInNewWindow1.label;&quot;</span>
<a href="#l17.657"></a><span id="l17.657" class="difflineplus">+                                                  accesskey=&quot;&amp;otherActionsOpenInNewWindow1.accesskey;&quot;</span>
<a href="#l17.658"></a><span id="l17.658" class="difflineplus">+                                                  observes=&quot;otherActionsOpenIn&quot;</span>
<a href="#l17.659"></a><span id="l17.659" class="difflineplus">+                                                  oncommand=&quot;MsgOpenNewWindowForMessage();&quot;/&gt;</span>
<a href="#l17.660"></a><span id="l17.660" class="difflineplus">+                                        &lt;menuitem id=&quot;otherActionsOpenInNewTab&quot;</span>
<a href="#l17.661"></a><span id="l17.661" class="difflineplus">+                                                  label=&quot;&amp;otherActionsOpenInNewTab1.label;&quot;</span>
<a href="#l17.662"></a><span id="l17.662" class="difflineplus">+                                                  accesskey=&quot;&amp;otherActionsOpenInNewTab1.accesskey;&quot;</span>
<a href="#l17.663"></a><span id="l17.663" class="difflineplus">+                                                  observes=&quot;otherActionsOpenIn&quot;</span>
<a href="#l17.664"></a><span id="l17.664" class="difflineplus">+                                                  oncommand=&quot;OpenMessageInNewTab(event);&quot;/&gt;</span>
<a href="#l17.665"></a><span id="l17.665" class="difflineplus">+                                        &lt;menuitem id=&quot;viewSourceMenuItem&quot;</span>
<a href="#l17.666"></a><span id="l17.666" class="difflineplus">+                                                  label=&quot;&amp;viewSourceMenuItem1.label;&quot;</span>
<a href="#l17.667"></a><span id="l17.667" class="difflineplus">+                                                  accesskey=&quot;&amp;viewSourceMenuItem1.accesskey;&quot;</span>
<a href="#l17.668"></a><span id="l17.668" class="difflineplus">+                                                  oncommand=&quot;ViewPageSource(gFolderDisplay.selectedMessageUris);&quot; /&gt;</span>
<a href="#l17.669"></a><span id="l17.669" class="difflineplus">+                                        &lt;menuseparator id=&quot;otherActionsSeparator&quot;/&gt;</span>
<a href="#l17.670"></a><span id="l17.670" class="difflineplus">+                                        &lt;menuitem id=&quot;markAsReadMenuItem&quot;</span>
<a href="#l17.671"></a><span id="l17.671" class="difflineplus">+                                                  label=&quot;&amp;markAsReadMenuItem1.label;&quot;</span>
<a href="#l17.672"></a><span id="l17.672" class="difflineplus">+                                                  accesskey=&quot;&amp;markAsReadMenuItem1.accesskey;&quot;</span>
<a href="#l17.673"></a><span id="l17.673" class="difflineplus">+                                                  oncommand=&quot;MsgMarkMsgAsRead();&quot;/&gt;</span>
<a href="#l17.674"></a><span id="l17.674" class="difflineplus">+                                        &lt;menuitem id=&quot;markAsUnreadMenuItem&quot;</span>
<a href="#l17.675"></a><span id="l17.675" class="difflineplus">+                                                  label=&quot;&amp;markAsUnreadMenuItem1.label;&quot;</span>
<a href="#l17.676"></a><span id="l17.676" class="difflineplus">+                                                  accesskey=&quot;&amp;markAsUnreadMenuItem1.accesskey;&quot;</span>
<a href="#l17.677"></a><span id="l17.677" class="difflineplus">+                                                  oncommand=&quot;MsgMarkMsgAsRead();&quot;/&gt;</span>
<a href="#l17.678"></a><span id="l17.678" class="difflineplus">+                                        &lt;menuitem id=&quot;saveAsMenuItem&quot; label=&quot;&amp;saveAsMenuItem1.label;&quot;</span>
<a href="#l17.679"></a><span id="l17.679" class="difflineplus">+                                                  accesskey=&quot;&amp;saveAsMenuItem1.accesskey;&quot;</span>
<a href="#l17.680"></a><span id="l17.680" class="difflineplus">+                                                  oncommand=&quot;MsgSaveAsFile();&quot;/&gt;</span>
<a href="#l17.681"></a><span id="l17.681" class="difflineplus">+                                        &lt;menuitem id=&quot;otherActionsPrint&quot;</span>
<a href="#l17.682"></a><span id="l17.682" class="difflineplus">+                                                  label=&quot;&amp;otherActionsPrint1.label;&quot;</span>
<a href="#l17.683"></a><span id="l17.683" class="difflineplus">+                                                  accesskey=&quot;&amp;otherActionsPrint1.accesskey;&quot;</span>
<a href="#l17.684"></a><span id="l17.684" class="difflineplus">+                                                  oncommand=&quot;PrintEnginePrint();&quot;/&gt;</span>
<a href="#l17.685"></a><span id="l17.685" class="difflineplus">+                                      &lt;/menupopup&gt;</span>
<a href="#l17.686"></a><span id="l17.686" class="difflineplus">+                                    &lt;/toolbarbutton&gt;</span>
<a href="#l17.687"></a><span id="l17.687" class="difflineplus">+                                  &lt;/toolbarpalette&gt;</span>
<a href="#l17.688"></a><span id="l17.688"> </span>
<a href="#l17.689"></a><span id="l17.689" class="difflineminus">-            &lt;rows id=&quot;expandedHeaderRows&quot;&gt;</span>
<a href="#l17.690"></a><span id="l17.690" class="difflineminus">-              &lt;row id=&quot;expandedfromRow&quot;&gt;</span>
<a href="#l17.691"></a><span id="l17.691" class="difflineminus">-                &lt;label id=&quot;expandedfromLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.692"></a><span id="l17.692" class="difflineminus">-                       value=&quot;&amp;fromField4.label;&quot;</span>
<a href="#l17.693"></a><span id="l17.693" class="difflineminus">-                       valueFrom=&quot;&amp;fromField4.label;&quot; valueAuthor=&quot;&amp;author.label;&quot;</span>
<a href="#l17.694"></a><span id="l17.694" class="difflineminus">-                       control=&quot;expandedfromBox&quot;/&gt;</span>
<a href="#l17.695"></a><span id="l17.695" class="difflineminus">-                &lt;mail-multi-emailHeaderField id=&quot;expandedfromBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.696"></a><span id="l17.696" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.697"></a><span id="l17.697" class="difflineminus">-            &lt;/rows&gt;</span>
<a href="#l17.698"></a><span id="l17.698" class="difflineminus">-          &lt;/grid&gt;</span>
<a href="#l17.699"></a><span id="l17.699" class="difflineminus">-        &lt;/hbox&gt;</span>
<a href="#l17.700"></a><span id="l17.700" class="difflineplus">+                                  &lt;toolbar id=&quot;header-view-toolbar&quot; class=&quot;inline-toolbar&quot; align=&quot;start&quot;</span>
<a href="#l17.701"></a><span id="l17.701" class="difflineplus">+                                           customizable=&quot;true&quot; mode=&quot;full&quot;</span>
<a href="#l17.702"></a><span id="l17.702" class="difflineplus">+                                           context=&quot;header-toolbar-context-menu&quot;</span>
<a href="#l17.703"></a><span id="l17.703" class="difflineplus">+                                           defaulticonsize=&quot;small&quot; defaultmode=&quot;full&quot;</span>
<a href="#l17.704"></a><span id="l17.704" class="difflineplus">+                                           defaultset=&quot;hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton,otherActionsButton&quot;/&gt;</span>
<a href="#l17.705"></a><span id="l17.705" class="difflineplus">+                                &lt;/toolbox&gt;</span>
<a href="#l17.706"></a><span id="l17.706"> </span>
<a href="#l17.707"></a><span id="l17.707" class="difflineminus">-        &lt;hbox id=&quot;expandedHeadersBottomBox&quot;&gt;</span>
<a href="#l17.708"></a><span id="l17.708" class="difflineminus">-</span>
<a href="#l17.709"></a><span id="l17.709" class="difflineminus">-          &lt;!-- The grid that contains all headers except the first one,</span>
<a href="#l17.710"></a><span id="l17.710" class="difflineminus">-                including any headers created dynamically from JavaScript --&gt;</span>
<a href="#l17.711"></a><span id="l17.711" class="difflineminus">-          &lt;grid id=&quot;expandedHeaders2&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.712"></a><span id="l17.712" class="difflineplus">+                                &lt;!-- This box ensures that the expandedHeaders grid below is aligned</span>
<a href="#l17.713"></a><span id="l17.713" class="difflineplus">+                                     with the bottom of the message header toolbar. Like the</span>
<a href="#l17.714"></a><span id="l17.714" class="difflineplus">+                                     expandedHeadersTopBox, this uses display:block to give us HTML</span>
<a href="#l17.715"></a><span id="l17.715" class="difflineplus">+                                     layouting. --&gt;</span>
<a href="#l17.716"></a><span id="l17.716" class="difflineplus">+                                &lt;box id=&quot;expandedBoxSpacer&quot;/&gt;</span>
<a href="#l17.717"></a><span id="l17.717"> </span>
<a href="#l17.718"></a><span id="l17.718" class="difflineminus">-            &lt;columns id=&quot;expandedHeaders2Columns&quot;&gt;</span>
<a href="#l17.719"></a><span id="l17.719" class="difflineminus">-              &lt;column id=&quot;expandedHeaders2NameColumn&quot;/&gt;</span>
<a href="#l17.720"></a><span id="l17.720" class="difflineminus">-              &lt;column id=&quot;expandedHeaders2ValueColumn&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.721"></a><span id="l17.721" class="difflineminus">-            &lt;/columns&gt;</span>
<a href="#l17.722"></a><span id="l17.722" class="difflineminus">-</span>
<a href="#l17.723"></a><span id="l17.723" class="difflineminus">-            &lt;rows id=&quot;expandedHeader2Rows&quot;&gt;</span>
<a href="#l17.724"></a><span id="l17.724" class="difflineplus">+                                &lt;!-- Theoretically, we should be able to replace this grid with just</span>
<a href="#l17.725"></a><span id="l17.725" class="difflineplus">+                                     an hbox.  Unfortunately, doing that makes it very hard to sync</span>
<a href="#l17.726"></a><span id="l17.726" class="difflineplus">+                                     the column sizes between the name columns, because for currently</span>
<a href="#l17.727"></a><span id="l17.727" class="difflineplus">+                                     unclear reasons, the .clientWidth of a column is wider than the</span>
<a href="#l17.728"></a><span id="l17.728" class="difflineplus">+                                     .clientWidth of its largest contained child by an unspecified</span>
<a href="#l17.729"></a><span id="l17.729" class="difflineplus">+                                     amount. --&gt;</span>
<a href="#l17.730"></a><span id="l17.730" class="difflineplus">+                                &lt;grid id=&quot;expandedHeaders&quot;&gt;</span>
<a href="#l17.731"></a><span id="l17.731"> </span>
<a href="#l17.732"></a><span id="l17.732" class="difflineminus">-              &lt;!-- Commonly used rows are pre-specified in the XUL to avoid the</span>
<a href="#l17.733"></a><span id="l17.733" class="difflineminus">-                   performance hit of creating them dynamically. --&gt;</span>
<a href="#l17.734"></a><span id="l17.734" class="difflineminus">-              &lt;row id=&quot;expandedsubjectRow&quot;&gt;</span>
<a href="#l17.735"></a><span id="l17.735" class="difflineminus">-                &lt;label id=&quot;expandedsubjectLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.736"></a><span id="l17.736" class="difflineminus">-                       value=&quot;&amp;subjectField4.label;&quot;</span>
<a href="#l17.737"></a><span id="l17.737" class="difflineminus">-                       control=&quot;expandedsubjectBox&quot;/&gt;</span>
<a href="#l17.738"></a><span id="l17.738" class="difflineminus">-                &lt;mail-headerfield id=&quot;expandedsubjectBox&quot; flex=&quot;1&quot;</span>
<a href="#l17.739"></a><span id="l17.739" class="difflineminus">-                                  headerName=&quot;subject&quot;/&gt;</span>
<a href="#l17.740"></a><span id="l17.740" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.741"></a><span id="l17.741" class="difflineminus">-              &lt;row id=&quot;expandedorganizationRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.742"></a><span id="l17.742" class="difflineminus">-                &lt;label id=&quot;expandedorganizationLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.743"></a><span id="l17.743" class="difflineminus">-                       value=&quot;&amp;organizationField4.label;&quot;</span>
<a href="#l17.744"></a><span id="l17.744" class="difflineminus">-                       control=&quot;expandedorganizationBox&quot;/&gt;</span>
<a href="#l17.745"></a><span id="l17.745" class="difflineminus">-                &lt;mail-headerfield id=&quot;expandedorganizationBox&quot;/&gt;</span>
<a href="#l17.746"></a><span id="l17.746" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.747"></a><span id="l17.747" class="difflineminus">-              &lt;row id=&quot;expandedsenderRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.748"></a><span id="l17.748" class="difflineminus">-                &lt;label id=&quot;expandedsenderLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.749"></a><span id="l17.749" class="difflineminus">-                       value=&quot;&amp;senderField4.label;&quot; control=&quot;expandedsenderBox&quot;/&gt;</span>
<a href="#l17.750"></a><span id="l17.750" class="difflineminus">-                &lt;mail-emailheaderfield id=&quot;expandedsenderBox&quot;/&gt;</span>
<a href="#l17.751"></a><span id="l17.751" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.752"></a><span id="l17.752" class="difflineminus">-              &lt;row id=&quot;expandedreply-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.753"></a><span id="l17.753" class="difflineminus">-                &lt;label id=&quot;expandedreply-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.754"></a><span id="l17.754" class="difflineminus">-                       value=&quot;&amp;replyToField4.label;&quot;</span>
<a href="#l17.755"></a><span id="l17.755" class="difflineminus">-                       control=&quot;expandedreply-toBox&quot;/&gt;</span>
<a href="#l17.756"></a><span id="l17.756" class="difflineminus">-                &lt;mail-multi-emailHeaderField id=&quot;expandedreply-toBox&quot;/&gt;</span>
<a href="#l17.757"></a><span id="l17.757" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.758"></a><span id="l17.758" class="difflineminus">-              &lt;row id=&quot;expandedtoRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.759"></a><span id="l17.759" class="difflineminus">-                &lt;label id=&quot;expandedtoLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.760"></a><span id="l17.760" class="difflineminus">-                       value=&quot;&amp;toField4.label;&quot; control=&quot;expandedtoBox&quot;/&gt;</span>
<a href="#l17.761"></a><span id="l17.761" class="difflineminus">-                &lt;mail-multi-emailHeaderField id=&quot;expandedtoBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.762"></a><span id="l17.762" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.763"></a><span id="l17.763" class="difflineminus">-              &lt;row id=&quot;expandedccRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.764"></a><span id="l17.764" class="difflineminus">-                &lt;label id=&quot;expandedccLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.765"></a><span id="l17.765" class="difflineminus">-                       value=&quot;&amp;ccField4.label;&quot; control=&quot;expandedccBox&quot;/&gt;</span>
<a href="#l17.766"></a><span id="l17.766" class="difflineminus">-                &lt;mail-multi-emailHeaderField id=&quot;expandedccBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.767"></a><span id="l17.767" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.768"></a><span id="l17.768" class="difflineminus">-              &lt;row id=&quot;expandedbccRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.769"></a><span id="l17.769" class="difflineminus">-                &lt;label id=&quot;expandedbccLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.770"></a><span id="l17.770" class="difflineminus">-                       value=&quot;&amp;bccField4.label;&quot; control=&quot;expandedbccBox&quot;/&gt;</span>
<a href="#l17.771"></a><span id="l17.771" class="difflineminus">-                &lt;mail-multi-emailHeaderField id=&quot;expandedbccBox&quot;/&gt;</span>
<a href="#l17.772"></a><span id="l17.772" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.773"></a><span id="l17.773" class="difflineminus">-              &lt;row id=&quot;expandednewsgroupsRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.774"></a><span id="l17.774" class="difflineminus">-                &lt;label id=&quot;expandednewsgroupsLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.775"></a><span id="l17.775" class="difflineminus">-                       value=&quot;&amp;newsgroupsField4.label;&quot;</span>
<a href="#l17.776"></a><span id="l17.776" class="difflineminus">-                       control=&quot;expandednewsgroupsBox&quot;/&gt;</span>
<a href="#l17.777"></a><span id="l17.777" class="difflineminus">-                &lt;mail-newsgroups-headerfield id=&quot;expandednewsgroupsBox&quot;/&gt;</span>
<a href="#l17.778"></a><span id="l17.778" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.779"></a><span id="l17.779" class="difflineminus">-              &lt;row id=&quot;expandedfollowup-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.780"></a><span id="l17.780" class="difflineminus">-                &lt;label id=&quot;expandedfollowup-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.781"></a><span id="l17.781" class="difflineminus">-                       value=&quot;&amp;followupToField4.label;&quot;</span>
<a href="#l17.782"></a><span id="l17.782" class="difflineminus">-                       control=&quot;expandedfollowup-toBox&quot;/&gt;</span>
<a href="#l17.783"></a><span id="l17.783" class="difflineminus">-                &lt;mail-newsgroups-headerfield id=&quot;expandedfollowup-toBox&quot;/&gt;</span>
<a href="#l17.784"></a><span id="l17.784" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.785"></a><span id="l17.785" class="difflineminus">-              &lt;row id=&quot;expandeddateRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.786"></a><span id="l17.786" class="difflineminus">-                &lt;label id=&quot;expandeddateLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.787"></a><span id="l17.787" class="difflineminus">-                       value=&quot;&amp;dateField4.label;&quot; control=&quot;expandeddateBox&quot;/&gt;</span>
<a href="#l17.788"></a><span id="l17.788" class="difflineminus">-                &lt;mail-headerfield id=&quot;expandeddateBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.789"></a><span id="l17.789" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.790"></a><span id="l17.790" class="difflineminus">-              &lt;row id=&quot;expandedmessage-idRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.791"></a><span id="l17.791" class="difflineminus">-                &lt;label id=&quot;expandedmessage-idLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.792"></a><span id="l17.792" class="difflineminus">-                       value=&quot;&amp;messageIdField4.label;&quot;</span>
<a href="#l17.793"></a><span id="l17.793" class="difflineminus">-                       control=&quot;expandedmessage-idBox&quot;/&gt;</span>
<a href="#l17.794"></a><span id="l17.794" class="difflineminus">-                &lt;mail-messageids-headerfield id=&quot;expandedmessage-idBox&quot;/&gt;</span>
<a href="#l17.795"></a><span id="l17.795" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.796"></a><span id="l17.796" class="difflineminus">-              &lt;row id=&quot;expandedin-reply-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.797"></a><span id="l17.797" class="difflineminus">-                &lt;label id=&quot;expandedin-reply-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.798"></a><span id="l17.798" class="difflineminus">-                       value=&quot;&amp;inReplyToField4.label;&quot;</span>
<a href="#l17.799"></a><span id="l17.799" class="difflineminus">-                       control=&quot;expandedin-reply-toBox&quot;/&gt;</span>
<a href="#l17.800"></a><span id="l17.800" class="difflineminus">-                &lt;mail-messageids-headerfield id=&quot;expandedin-reply-toBox&quot;/&gt;</span>
<a href="#l17.801"></a><span id="l17.801" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.802"></a><span id="l17.802" class="difflineminus">-              &lt;row id=&quot;expandedreferencesRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.803"></a><span id="l17.803" class="difflineminus">-                &lt;label id=&quot;expandedreferencesLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.804"></a><span id="l17.804" class="difflineminus">-                       value=&quot;&amp;referencesField4.label;&quot;</span>
<a href="#l17.805"></a><span id="l17.805" class="difflineminus">-                       control=&quot;expandedReferencesBox&quot;/&gt;</span>
<a href="#l17.806"></a><span id="l17.806" class="difflineminus">-                &lt;mail-messageids-headerfield id=&quot;expandedreferencesBox&quot;</span>
<a href="#l17.807"></a><span id="l17.807" class="difflineminus">-                                             flex=&quot;1&quot;/&gt;</span>
<a href="#l17.808"></a><span id="l17.808" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.809"></a><span id="l17.809" class="difflineminus">-              &lt;row id=&quot;expandedtagsRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.810"></a><span id="l17.810" class="difflineminus">-                &lt;label id=&quot;expandedtagsLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.811"></a><span id="l17.811" class="difflineminus">-                       value=&quot;&amp;tagsHdr4.label;&quot; control=&quot;expandedtagsBox&quot;/&gt;</span>
<a href="#l17.812"></a><span id="l17.812" class="difflineminus">-                &lt;mail-tagfield id=&quot;expandedtagsBox&quot;/&gt;</span>
<a href="#l17.813"></a><span id="l17.813" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.814"></a><span id="l17.814" class="difflineminus">-              &lt;row id=&quot;expandedcontent-baseRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.815"></a><span id="l17.815" class="difflineminus">-                &lt;label id=&quot;expandedcontent-baseLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.816"></a><span id="l17.816" class="difflineminus">-                       value=&quot;&amp;originalWebsite4.label;&quot;</span>
<a href="#l17.817"></a><span id="l17.817" class="difflineminus">-                       control=&quot;expandedcontent-baseBox&quot;/&gt;</span>
<a href="#l17.818"></a><span id="l17.818" class="difflineminus">-                &lt;mail-urlfield id=&quot;expandedcontent-baseBox&quot;/&gt;</span>
<a href="#l17.819"></a><span id="l17.819" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.820"></a><span id="l17.820" class="difflineminus">-              &lt;row id=&quot;expandeduser-agentRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.821"></a><span id="l17.821" class="difflineminus">-                &lt;label id=&quot;expandeduser-agentLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.822"></a><span id="l17.822" class="difflineminus">-                       value=&quot;&amp;userAgentField4.label;&quot;</span>
<a href="#l17.823"></a><span id="l17.823" class="difflineminus">-                       control=&quot;expandeduser-agentBox&quot;/&gt;</span>
<a href="#l17.824"></a><span id="l17.824" class="difflineminus">-                &lt;mail-headerfield id=&quot;expandeduser-agentBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.825"></a><span id="l17.825" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l17.826"></a><span id="l17.826" class="difflineminus">-            &lt;/rows&gt;</span>
<a href="#l17.827"></a><span id="l17.827" class="difflineminus">-          &lt;/grid&gt;</span>
<a href="#l17.828"></a><span id="l17.828" class="difflineplus">+                                  &lt;columns id=&quot;expandedHeadersColumns&quot;&gt;</span>
<a href="#l17.829"></a><span id="l17.829" class="difflineplus">+                                    &lt;column id=&quot;expandedHeadersNameColumn&quot;/&gt;</span>
<a href="#l17.830"></a><span id="l17.830" class="difflineplus">+                                    &lt;column id=&quot;expandedHeadersValueColumn&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.831"></a><span id="l17.831" class="difflineplus">+                                  &lt;/columns&gt;</span>
<a href="#l17.832"></a><span id="l17.832" class="difflineplus">+</span>
<a href="#l17.833"></a><span id="l17.833" class="difflineplus">+                                  &lt;rows id=&quot;expandedHeaderRows&quot;&gt;</span>
<a href="#l17.834"></a><span id="l17.834" class="difflineplus">+                                    &lt;row id=&quot;expandedfromRow&quot;&gt;</span>
<a href="#l17.835"></a><span id="l17.835" class="difflineplus">+                                      &lt;label id=&quot;expandedfromLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.836"></a><span id="l17.836" class="difflineplus">+                                             value=&quot;&amp;fromField4.label;&quot;</span>
<a href="#l17.837"></a><span id="l17.837" class="difflineplus">+                                             valueFrom=&quot;&amp;fromField4.label;&quot; valueAuthor=&quot;&amp;author.label;&quot;</span>
<a href="#l17.838"></a><span id="l17.838" class="difflineplus">+                                             control=&quot;expandedfromBox&quot;/&gt;</span>
<a href="#l17.839"></a><span id="l17.839" class="difflineplus">+                                      &lt;mail-multi-emailHeaderField id=&quot;expandedfromBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.840"></a><span id="l17.840" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.841"></a><span id="l17.841" class="difflineplus">+                                  &lt;/rows&gt;</span>
<a href="#l17.842"></a><span id="l17.842" class="difflineplus">+                                &lt;/grid&gt;</span>
<a href="#l17.843"></a><span id="l17.843" class="difflineplus">+                              &lt;/hbox&gt;</span>
<a href="#l17.844"></a><span id="l17.844" class="difflineplus">+</span>
<a href="#l17.845"></a><span id="l17.845" class="difflineplus">+                              &lt;hbox id=&quot;expandedHeadersBottomBox&quot;&gt;</span>
<a href="#l17.846"></a><span id="l17.846" class="difflineplus">+</span>
<a href="#l17.847"></a><span id="l17.847" class="difflineplus">+                                &lt;!-- The grid that contains all headers except the first one,</span>
<a href="#l17.848"></a><span id="l17.848" class="difflineplus">+                                      including any headers created dynamically from JavaScript --&gt;</span>
<a href="#l17.849"></a><span id="l17.849" class="difflineplus">+                                &lt;grid id=&quot;expandedHeaders2&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.850"></a><span id="l17.850" class="difflineplus">+</span>
<a href="#l17.851"></a><span id="l17.851" class="difflineplus">+                                  &lt;columns id=&quot;expandedHeaders2Columns&quot;&gt;</span>
<a href="#l17.852"></a><span id="l17.852" class="difflineplus">+                                    &lt;column id=&quot;expandedHeaders2NameColumn&quot;/&gt;</span>
<a href="#l17.853"></a><span id="l17.853" class="difflineplus">+                                    &lt;column id=&quot;expandedHeaders2ValueColumn&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.854"></a><span id="l17.854" class="difflineplus">+                                  &lt;/columns&gt;</span>
<a href="#l17.855"></a><span id="l17.855" class="difflineplus">+</span>
<a href="#l17.856"></a><span id="l17.856" class="difflineplus">+                                  &lt;rows id=&quot;expandedHeader2Rows&quot;&gt;</span>
<a href="#l17.857"></a><span id="l17.857"> </span>
<a href="#l17.858"></a><span id="l17.858" class="difflineminus">-          &lt;!-- perhaps this should be a customizable toolbar too --&gt;</span>
<a href="#l17.859"></a><span id="l17.859" class="difflineminus">-          &lt;vbox id=&quot;otherActionsBox&quot; align=&quot;end&quot;&gt;</span>
<a href="#l17.860"></a><span id="l17.860" class="difflineminus">-            &lt;hbox id=&quot;dateValueBox&quot; align=&quot;top&quot; flex=&quot;1&quot;&gt;  &lt;!--For extensions--&gt;</span>
<a href="#l17.861"></a><span id="l17.861" class="difflineminus">-              &lt;hbox id=&quot;smimeBox&quot; insertbefore=&quot;dateLabel&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.862"></a><span id="l17.862" class="difflineminus">-                &lt;image id=&quot;signedHdrIcon&quot;</span>
<a href="#l17.863"></a><span id="l17.863" class="difflineminus">-                      onclick=&quot;showMessageReadSecurityInfo();&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l17.864"></a><span id="l17.864" class="difflineminus">-                &lt;image id=&quot;encryptedHdrIcon&quot;</span>
<a href="#l17.865"></a><span id="l17.865" class="difflineminus">-                      onclick=&quot;showMessageReadSecurityInfo();&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l17.866"></a><span id="l17.866" class="difflineminus">-              &lt;/hbox&gt;</span>
<a href="#l17.867"></a><span id="l17.867" class="difflineminus">-              &lt;label id=&quot;dateLabel&quot; class=&quot;dateLabel&quot; flex=&quot;1&quot; role=&quot;textbox&quot;</span>
<a href="#l17.868"></a><span id="l17.868" class="difflineminus">-                     aria-readonly=&quot;true&quot;/&gt;</span>
<a href="#l17.869"></a><span id="l17.869" class="difflineminus">-            &lt;/hbox&gt;</span>
<a href="#l17.870"></a><span id="l17.870" class="difflineminus">-          &lt;/vbox&gt;</span>
<a href="#l17.871"></a><span id="l17.871" class="difflineminus">-        &lt;/hbox&gt;</span>
<a href="#l17.872"></a><span id="l17.872" class="difflineminus">-      &lt;/vbox&gt;</span>
<a href="#l17.873"></a><span id="l17.873" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l17.874"></a><span id="l17.874" class="difflineminus">-  &lt;/deck&gt;</span>
<a href="#l17.875"></a><span id="l17.875" class="difflineminus">-&lt;/hbox&gt;</span>
<a href="#l17.876"></a><span id="l17.876" class="difflineminus">-</span>
<a href="#l17.877"></a><span id="l17.877" class="difflineminus">-&lt;!-- the message pane consists of 4 'boxes'. Box #4 is the attachment box which</span>
<a href="#l17.878"></a><span id="l17.878" class="difflineminus">-     can be toggled into a slim or an expanded view --&gt;</span>
<a href="#l17.879"></a><span id="l17.879" class="difflineminus">-&lt;vbox id=&quot;attachmentView&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.880"></a><span id="l17.880" class="difflineminus">-  &lt;hbox align=&quot;center&quot; id=&quot;attachmentBar&quot;</span>
<a href="#l17.881"></a><span id="l17.881" class="difflineminus">-        context=&quot;attachment-toolbar-context-menu&quot;</span>
<a href="#l17.882"></a><span id="l17.882" class="difflineminus">-        onclick=&quot;if (event.button == 0) toggleAttachmentList(undefined, true);&quot;&gt;</span>
<a href="#l17.883"></a><span id="l17.883" class="difflineminus">-    &lt;button type=&quot;checkbox&quot; id=&quot;attachmentToggle&quot;</span>
<a href="#l17.884"></a><span id="l17.884" class="difflineminus">-            onmousedown=&quot;event.preventDefault();&quot;</span>
<a href="#l17.885"></a><span id="l17.885" class="difflineminus">-            onclick=&quot;event.stopPropagation();&quot;</span>
<a href="#l17.886"></a><span id="l17.886" class="difflineminus">-            oncommand=&quot;toggleAttachmentList(this.checked, true);&quot;/&gt;</span>
<a href="#l17.887"></a><span id="l17.887" class="difflineminus">-    &lt;hbox align=&quot;center&quot; id=&quot;attachmentInfo&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l17.888"></a><span id="l17.888" class="difflineminus">-      &lt;image id=&quot;attachmentIcon&quot;/&gt;</span>
<a href="#l17.889"></a><span id="l17.889" class="difflineminus">-      &lt;label id=&quot;attachmentCount&quot;/&gt;</span>
<a href="#l17.890"></a><span id="l17.890" class="difflineminus">-      &lt;label id=&quot;attachmentName&quot; crop=&quot;center&quot; flex=&quot;1&quot;</span>
<a href="#l17.891"></a><span id="l17.891" class="difflineminus">-             tooltiptext=&quot;&amp;openAttachment.tooltip;&quot;</span>
<a href="#l17.892"></a><span id="l17.892" class="difflineminus">-             onclick=&quot;OpenAttachmentFromBar(event);&quot;</span>
<a href="#l17.893"></a><span id="l17.893" class="difflineminus">-             ondragstart=&quot;nsDragAndDrop.startDrag(event,attachmentNameDNDObserver);&quot;/&gt;</span>
<a href="#l17.894"></a><span id="l17.894" class="difflineminus">-      &lt;label id=&quot;attachmentSize&quot;/&gt;</span>
<a href="#l17.895"></a><span id="l17.895" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l17.896"></a><span id="l17.896" class="difflineminus">-    &lt;!-- Use a very large flex value here so that attachmentCount doesn't take</span>
<a href="#l17.897"></a><span id="l17.897" class="difflineminus">-         up more space than necessary, but still crops itself if there's not</span>
<a href="#l17.898"></a><span id="l17.898" class="difflineminus">-         enough space. --&gt;</span>
<a href="#l17.899"></a><span id="l17.899" class="difflineminus">-    &lt;spacer flex=&quot;9999&quot;/&gt;</span>
<a href="#l17.900"></a><span id="l17.900" class="difflineplus">+                                    &lt;!-- Commonly used rows are pre-specified in the XUL to avoid the</span>
<a href="#l17.901"></a><span id="l17.901" class="difflineplus">+                                         performance hit of creating them dynamically. --&gt;</span>
<a href="#l17.902"></a><span id="l17.902" class="difflineplus">+                                    &lt;row id=&quot;expandedsubjectRow&quot;&gt;</span>
<a href="#l17.903"></a><span id="l17.903" class="difflineplus">+                                      &lt;label id=&quot;expandedsubjectLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.904"></a><span id="l17.904" class="difflineplus">+                                             value=&quot;&amp;subjectField4.label;&quot;</span>
<a href="#l17.905"></a><span id="l17.905" class="difflineplus">+                                             control=&quot;expandedsubjectBox&quot;/&gt;</span>
<a href="#l17.906"></a><span id="l17.906" class="difflineplus">+                                      &lt;mail-headerfield id=&quot;expandedsubjectBox&quot; flex=&quot;1&quot;</span>
<a href="#l17.907"></a><span id="l17.907" class="difflineplus">+                                                        headerName=&quot;subject&quot;/&gt;</span>
<a href="#l17.908"></a><span id="l17.908" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.909"></a><span id="l17.909" class="difflineplus">+                                    &lt;row id=&quot;expandedorganizationRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.910"></a><span id="l17.910" class="difflineplus">+                                      &lt;label id=&quot;expandedorganizationLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.911"></a><span id="l17.911" class="difflineplus">+                                             value=&quot;&amp;organizationField4.label;&quot;</span>
<a href="#l17.912"></a><span id="l17.912" class="difflineplus">+                                             control=&quot;expandedorganizationBox&quot;/&gt;</span>
<a href="#l17.913"></a><span id="l17.913" class="difflineplus">+                                      &lt;mail-headerfield id=&quot;expandedorganizationBox&quot;/&gt;</span>
<a href="#l17.914"></a><span id="l17.914" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.915"></a><span id="l17.915" class="difflineplus">+                                    &lt;row id=&quot;expandedsenderRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.916"></a><span id="l17.916" class="difflineplus">+                                      &lt;label id=&quot;expandedsenderLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.917"></a><span id="l17.917" class="difflineplus">+                                             value=&quot;&amp;senderField4.label;&quot; control=&quot;expandedsenderBox&quot;/&gt;</span>
<a href="#l17.918"></a><span id="l17.918" class="difflineplus">+                                      &lt;mail-emailheaderfield id=&quot;expandedsenderBox&quot;/&gt;</span>
<a href="#l17.919"></a><span id="l17.919" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.920"></a><span id="l17.920" class="difflineplus">+                                    &lt;row id=&quot;expandedreply-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.921"></a><span id="l17.921" class="difflineplus">+                                      &lt;label id=&quot;expandedreply-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.922"></a><span id="l17.922" class="difflineplus">+                                             value=&quot;&amp;replyToField4.label;&quot;</span>
<a href="#l17.923"></a><span id="l17.923" class="difflineplus">+                                             control=&quot;expandedreply-toBox&quot;/&gt;</span>
<a href="#l17.924"></a><span id="l17.924" class="difflineplus">+                                      &lt;mail-multi-emailHeaderField id=&quot;expandedreply-toBox&quot;/&gt;</span>
<a href="#l17.925"></a><span id="l17.925" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.926"></a><span id="l17.926" class="difflineplus">+                                    &lt;row id=&quot;expandedtoRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.927"></a><span id="l17.927" class="difflineplus">+                                      &lt;label id=&quot;expandedtoLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.928"></a><span id="l17.928" class="difflineplus">+                                             value=&quot;&amp;toField4.label;&quot; control=&quot;expandedtoBox&quot;/&gt;</span>
<a href="#l17.929"></a><span id="l17.929" class="difflineplus">+                                      &lt;mail-multi-emailHeaderField id=&quot;expandedtoBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.930"></a><span id="l17.930" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.931"></a><span id="l17.931" class="difflineplus">+                                    &lt;row id=&quot;expandedccRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.932"></a><span id="l17.932" class="difflineplus">+                                      &lt;label id=&quot;expandedccLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.933"></a><span id="l17.933" class="difflineplus">+                                             value=&quot;&amp;ccField4.label;&quot; control=&quot;expandedccBox&quot;/&gt;</span>
<a href="#l17.934"></a><span id="l17.934" class="difflineplus">+                                      &lt;mail-multi-emailHeaderField id=&quot;expandedccBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.935"></a><span id="l17.935" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.936"></a><span id="l17.936" class="difflineplus">+                                    &lt;row id=&quot;expandedbccRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.937"></a><span id="l17.937" class="difflineplus">+                                      &lt;label id=&quot;expandedbccLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.938"></a><span id="l17.938" class="difflineplus">+                                             value=&quot;&amp;bccField4.label;&quot; control=&quot;expandedbccBox&quot;/&gt;</span>
<a href="#l17.939"></a><span id="l17.939" class="difflineplus">+                                      &lt;mail-multi-emailHeaderField id=&quot;expandedbccBox&quot;/&gt;</span>
<a href="#l17.940"></a><span id="l17.940" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.941"></a><span id="l17.941" class="difflineplus">+                                    &lt;row id=&quot;expandednewsgroupsRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.942"></a><span id="l17.942" class="difflineplus">+                                      &lt;label id=&quot;expandednewsgroupsLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.943"></a><span id="l17.943" class="difflineplus">+                                             value=&quot;&amp;newsgroupsField4.label;&quot;</span>
<a href="#l17.944"></a><span id="l17.944" class="difflineplus">+                                             control=&quot;expandednewsgroupsBox&quot;/&gt;</span>
<a href="#l17.945"></a><span id="l17.945" class="difflineplus">+                                      &lt;mail-newsgroups-headerfield id=&quot;expandednewsgroupsBox&quot;/&gt;</span>
<a href="#l17.946"></a><span id="l17.946" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.947"></a><span id="l17.947" class="difflineplus">+                                    &lt;row id=&quot;expandedfollowup-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.948"></a><span id="l17.948" class="difflineplus">+                                      &lt;label id=&quot;expandedfollowup-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.949"></a><span id="l17.949" class="difflineplus">+                                             value=&quot;&amp;followupToField4.label;&quot;</span>
<a href="#l17.950"></a><span id="l17.950" class="difflineplus">+                                             control=&quot;expandedfollowup-toBox&quot;/&gt;</span>
<a href="#l17.951"></a><span id="l17.951" class="difflineplus">+                                      &lt;mail-newsgroups-headerfield id=&quot;expandedfollowup-toBox&quot;/&gt;</span>
<a href="#l17.952"></a><span id="l17.952" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.953"></a><span id="l17.953" class="difflineplus">+                                    &lt;row id=&quot;expandeddateRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.954"></a><span id="l17.954" class="difflineplus">+                                      &lt;label id=&quot;expandeddateLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.955"></a><span id="l17.955" class="difflineplus">+                                             value=&quot;&amp;dateField4.label;&quot; control=&quot;expandeddateBox&quot;/&gt;</span>
<a href="#l17.956"></a><span id="l17.956" class="difflineplus">+                                      &lt;mail-headerfield id=&quot;expandeddateBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.957"></a><span id="l17.957" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.958"></a><span id="l17.958" class="difflineplus">+                                    &lt;row id=&quot;expandedmessage-idRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.959"></a><span id="l17.959" class="difflineplus">+                                      &lt;label id=&quot;expandedmessage-idLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.960"></a><span id="l17.960" class="difflineplus">+                                             value=&quot;&amp;messageIdField4.label;&quot;</span>
<a href="#l17.961"></a><span id="l17.961" class="difflineplus">+                                             control=&quot;expandedmessage-idBox&quot;/&gt;</span>
<a href="#l17.962"></a><span id="l17.962" class="difflineplus">+                                      &lt;mail-messageids-headerfield id=&quot;expandedmessage-idBox&quot;/&gt;</span>
<a href="#l17.963"></a><span id="l17.963" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.964"></a><span id="l17.964" class="difflineplus">+                                    &lt;row id=&quot;expandedin-reply-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.965"></a><span id="l17.965" class="difflineplus">+                                      &lt;label id=&quot;expandedin-reply-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.966"></a><span id="l17.966" class="difflineplus">+                                             value=&quot;&amp;inReplyToField4.label;&quot;</span>
<a href="#l17.967"></a><span id="l17.967" class="difflineplus">+                                             control=&quot;expandedin-reply-toBox&quot;/&gt;</span>
<a href="#l17.968"></a><span id="l17.968" class="difflineplus">+                                      &lt;mail-messageids-headerfield id=&quot;expandedin-reply-toBox&quot;/&gt;</span>
<a href="#l17.969"></a><span id="l17.969" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.970"></a><span id="l17.970" class="difflineplus">+                                    &lt;row id=&quot;expandedreferencesRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.971"></a><span id="l17.971" class="difflineplus">+                                      &lt;label id=&quot;expandedreferencesLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.972"></a><span id="l17.972" class="difflineplus">+                                             value=&quot;&amp;referencesField4.label;&quot;</span>
<a href="#l17.973"></a><span id="l17.973" class="difflineplus">+                                             control=&quot;expandedReferencesBox&quot;/&gt;</span>
<a href="#l17.974"></a><span id="l17.974" class="difflineplus">+                                      &lt;mail-messageids-headerfield id=&quot;expandedreferencesBox&quot;</span>
<a href="#l17.975"></a><span id="l17.975" class="difflineplus">+                                                                   flex=&quot;1&quot;/&gt;</span>
<a href="#l17.976"></a><span id="l17.976" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.977"></a><span id="l17.977" class="difflineplus">+                                    &lt;row id=&quot;expandedtagsRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.978"></a><span id="l17.978" class="difflineplus">+                                      &lt;label id=&quot;expandedtagsLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.979"></a><span id="l17.979" class="difflineplus">+                                             value=&quot;&amp;tagsHdr4.label;&quot; control=&quot;expandedtagsBox&quot;/&gt;</span>
<a href="#l17.980"></a><span id="l17.980" class="difflineplus">+                                      &lt;mail-tagfield id=&quot;expandedtagsBox&quot;/&gt;</span>
<a href="#l17.981"></a><span id="l17.981" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.982"></a><span id="l17.982" class="difflineplus">+                                    &lt;row id=&quot;expandedcontent-baseRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.983"></a><span id="l17.983" class="difflineplus">+                                      &lt;label id=&quot;expandedcontent-baseLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.984"></a><span id="l17.984" class="difflineplus">+                                             value=&quot;&amp;originalWebsite4.label;&quot;</span>
<a href="#l17.985"></a><span id="l17.985" class="difflineplus">+                                             control=&quot;expandedcontent-baseBox&quot;/&gt;</span>
<a href="#l17.986"></a><span id="l17.986" class="difflineplus">+                                      &lt;mail-urlfield id=&quot;expandedcontent-baseBox&quot;/&gt;</span>
<a href="#l17.987"></a><span id="l17.987" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.988"></a><span id="l17.988" class="difflineplus">+                                    &lt;row id=&quot;expandeduser-agentRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.989"></a><span id="l17.989" class="difflineplus">+                                      &lt;label id=&quot;expandeduser-agentLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l17.990"></a><span id="l17.990" class="difflineplus">+                                             value=&quot;&amp;userAgentField4.label;&quot;</span>
<a href="#l17.991"></a><span id="l17.991" class="difflineplus">+                                             control=&quot;expandeduser-agentBox&quot;/&gt;</span>
<a href="#l17.992"></a><span id="l17.992" class="difflineplus">+                                      &lt;mail-headerfield id=&quot;expandeduser-agentBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l17.993"></a><span id="l17.993" class="difflineplus">+                                    &lt;/row&gt;</span>
<a href="#l17.994"></a><span id="l17.994" class="difflineplus">+                                  &lt;/rows&gt;</span>
<a href="#l17.995"></a><span id="l17.995" class="difflineplus">+                                &lt;/grid&gt;</span>
<a href="#l17.996"></a><span id="l17.996"> </span>
<a href="#l17.997"></a><span id="l17.997" class="difflineminus">-    &lt;toolbox id=&quot;attachment-view-toolbox&quot;</span>
<a href="#l17.998"></a><span id="l17.998" class="difflineminus">-             class=&quot;inline-toolbox&quot;</span>
<a href="#l17.999"></a><span id="l17.999" class="difflineminus">-             defaulticonsize=&quot;small&quot;</span>
<a href="#l17.1000"></a><span id="l17.1000" class="difflineminus">-             minwidth=&quot;50px&quot;</span>
<a href="#l17.1001"></a><span id="l17.1001" class="difflineminus">-             defaultlabelalign=&quot;end&quot;</span>
<a href="#l17.1002"></a><span id="l17.1002" class="difflineminus">-             defaultmode=&quot;full&quot;</span>
<a href="#l17.1003"></a><span id="l17.1003" class="difflineminus">-             inlinetoolbox=&quot;true&quot;&gt;</span>
<a href="#l17.1004"></a><span id="l17.1004" class="difflineminus">-      &lt;toolbarpalette id=&quot;attachment-view-toolbar-palette&quot;&gt;</span>
<a href="#l17.1005"></a><span id="l17.1005" class="difflineminus">-        &lt;toolbaritem id=&quot;attachmentSaveAll&quot;</span>
<a href="#l17.1006"></a><span id="l17.1006" class="difflineminus">-                     title=&quot;&amp;saveAllAttachmentsButton1.label;&quot;&gt;</span>
<a href="#l17.1007"></a><span id="l17.1007" class="difflineminus">-          &lt;toolbarbutton type=&quot;menu-button&quot; id=&quot;attachmentSaveAllSingle&quot;</span>
<a href="#l17.1008"></a><span id="l17.1008" class="difflineminus">-                         class=&quot;toolbarbutton-1 msgHeaderView-button&quot;</span>
<a href="#l17.1009"></a><span id="l17.1009" class="difflineminus">-                         label=&quot;&amp;saveAttachmentButton1.label;&quot;</span>
<a href="#l17.1010"></a><span id="l17.1010" class="difflineminus">-                         tooltiptext=&quot;&amp;saveAttachmentButton1.tooltip;&quot;</span>
<a href="#l17.1011"></a><span id="l17.1011" class="difflineminus">-                         onclick=&quot;event.stopPropagation();&quot;</span>
<a href="#l17.1012"></a><span id="l17.1012" class="difflineminus">-                         oncommand=&quot;TryHandleAllAttachments('saveAs'); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1013"></a><span id="l17.1013" class="difflineminus">-                         hidden=&quot;true&quot;&gt;</span>
<a href="#l17.1014"></a><span id="l17.1014" class="difflineminus">-            &lt;menupopup id=&quot;attachmentSaveAllSingleMenu&quot;</span>
<a href="#l17.1015"></a><span id="l17.1015" class="difflineminus">-                       onpopupshowing=&quot;onShowSaveAttachmentMenuSingle();&quot;&gt;</span>
<a href="#l17.1016"></a><span id="l17.1016" class="difflineminus">-              &lt;menuitem id=&quot;button-openAttachment&quot;</span>
<a href="#l17.1017"></a><span id="l17.1017" class="difflineminus">-                        oncommand=&quot;TryHandleAllAttachments('open'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1018"></a><span id="l17.1018" class="difflineminus">-                        label=&quot;&amp;openAttachmentCmd.label;&quot;</span>
<a href="#l17.1019"></a><span id="l17.1019" class="difflineminus">-                        accesskey=&quot;&amp;openAttachmentCmd.accesskey;&quot;/&gt;</span>
<a href="#l17.1020"></a><span id="l17.1020" class="difflineminus">-              &lt;menuitem id=&quot;button-saveAttachment&quot;</span>
<a href="#l17.1021"></a><span id="l17.1021" class="difflineminus">-                        oncommand=&quot;TryHandleAllAttachments('saveAs'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1022"></a><span id="l17.1022" class="difflineminus">-                        label=&quot;&amp;saveAsAttachmentCmd.label;&quot;</span>
<a href="#l17.1023"></a><span id="l17.1023" class="difflineminus">-                        accesskey=&quot;&amp;saveAsAttachmentCmd.accesskey;&quot;/&gt;</span>
<a href="#l17.1024"></a><span id="l17.1024" class="difflineminus">-              &lt;menuseparator id=&quot;button-menu-separator&quot;/&gt;</span>
<a href="#l17.1025"></a><span id="l17.1025" class="difflineminus">-              &lt;menuitem id=&quot;button-detachAttachment&quot;</span>
<a href="#l17.1026"></a><span id="l17.1026" class="difflineminus">-                        oncommand=&quot;TryHandleAllAttachments('detach'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1027"></a><span id="l17.1027" class="difflineminus">-                        label=&quot;&amp;detachAttachmentCmd.label;&quot;</span>
<a href="#l17.1028"></a><span id="l17.1028" class="difflineminus">-                        accesskey=&quot;&amp;detachAttachmentCmd.accesskey;&quot;/&gt;</span>
<a href="#l17.1029"></a><span id="l17.1029" class="difflineminus">-              &lt;menuitem id=&quot;button-deleteAttachment&quot;</span>
<a href="#l17.1030"></a><span id="l17.1030" class="difflineminus">-                        oncommand=&quot;TryHandleAllAttachments('delete'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1031"></a><span id="l17.1031" class="difflineminus">-                        label=&quot;&amp;deleteAttachmentCmd.label;&quot;</span>
<a href="#l17.1032"></a><span id="l17.1032" class="difflineminus">-                        accesskey=&quot;&amp;deleteAttachmentCmd.accesskey;&quot;/&gt;</span>
<a href="#l17.1033"></a><span id="l17.1033" class="difflineminus">-            &lt;/menupopup&gt;</span>
<a href="#l17.1034"></a><span id="l17.1034" class="difflineminus">-          &lt;/toolbarbutton&gt;</span>
<a href="#l17.1035"></a><span id="l17.1035" class="difflineminus">-          &lt;toolbarbutton type=&quot;menu-button&quot; id=&quot;attachmentSaveAllMultiple&quot;</span>
<a href="#l17.1036"></a><span id="l17.1036" class="difflineminus">-                         class=&quot;toolbarbutton-1 msgHeaderView-button&quot;</span>
<a href="#l17.1037"></a><span id="l17.1037" class="difflineminus">-                         label=&quot;&amp;saveAllAttachmentsButton1.label;&quot;</span>
<a href="#l17.1038"></a><span id="l17.1038" class="difflineminus">-                         tooltiptext=&quot;&amp;saveAllAttachmentsButton1.tooltip;&quot;</span>
<a href="#l17.1039"></a><span id="l17.1039" class="difflineminus">-                         onclick=&quot;event.stopPropagation();&quot;</span>
<a href="#l17.1040"></a><span id="l17.1040" class="difflineminus">-                         oncommand=&quot;TryHandleAllAttachments('save'); RestoreFocusAfterHdrButton();&quot;&gt;</span>
<a href="#l17.1041"></a><span id="l17.1041" class="difflineminus">-            &lt;menupopup id=&quot;attachmentSaveAllMultipleMenu&quot;</span>
<a href="#l17.1042"></a><span id="l17.1042" class="difflineminus">-                       onpopupshowing=&quot;onShowSaveAttachmentMenuMultiple();&quot;&gt;</span>
<a href="#l17.1043"></a><span id="l17.1043" class="difflineminus">-              &lt;menuitem id=&quot;button-openAllAttachments&quot;</span>
<a href="#l17.1044"></a><span id="l17.1044" class="difflineminus">-                        oncommand=&quot;TryHandleAllAttachments('open'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1045"></a><span id="l17.1045" class="difflineminus">-                        label=&quot;&amp;openAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.1046"></a><span id="l17.1046" class="difflineminus">-                        accesskey=&quot;&amp;openAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l17.1047"></a><span id="l17.1047" class="difflineminus">-              &lt;menuitem id=&quot;button-saveAllAttachments&quot;</span>
<a href="#l17.1048"></a><span id="l17.1048" class="difflineminus">-                        oncommand=&quot;TryHandleAllAttachments('save'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1049"></a><span id="l17.1049" class="difflineminus">-                        label=&quot;&amp;saveAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.1050"></a><span id="l17.1050" class="difflineminus">-                        accesskey=&quot;&amp;saveAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l17.1051"></a><span id="l17.1051" class="difflineminus">-              &lt;menuseparator id=&quot;button-menu-separator-all&quot;/&gt;</span>
<a href="#l17.1052"></a><span id="l17.1052" class="difflineminus">-              &lt;menuitem id=&quot;button-detachAllAttachments&quot;</span>
<a href="#l17.1053"></a><span id="l17.1053" class="difflineminus">-                        oncommand=&quot;TryHandleAllAttachments('detach'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1054"></a><span id="l17.1054" class="difflineminus">-                        label=&quot;&amp;detachAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.1055"></a><span id="l17.1055" class="difflineminus">-                        accesskey=&quot;&amp;detachAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l17.1056"></a><span id="l17.1056" class="difflineminus">-              &lt;menuitem id=&quot;button-deleteAllAttachments&quot;</span>
<a href="#l17.1057"></a><span id="l17.1057" class="difflineminus">-                        oncommand=&quot;TryHandleAllAttachments('delete'); event.stopPropagation(); RestoreFocusAfterHdrButton();&quot;</span>
<a href="#l17.1058"></a><span id="l17.1058" class="difflineminus">-                        label=&quot;&amp;deleteAllAttachmentsCmd.label;&quot;</span>
<a href="#l17.1059"></a><span id="l17.1059" class="difflineminus">-                        accesskey=&quot;&amp;deleteAllAttachmentsCmd.accesskey;&quot;/&gt;</span>
<a href="#l17.1060"></a><span id="l17.1060" class="difflineminus">-            &lt;/menupopup&gt;</span>
<a href="#l17.1061"></a><span id="l17.1061" class="difflineminus">-          &lt;/toolbarbutton&gt;</span>
<a href="#l17.1062"></a><span id="l17.1062" class="difflineminus">-        &lt;/toolbaritem&gt;</span>
<a href="#l17.1063"></a><span id="l17.1063" class="difflineminus">-      &lt;/toolbarpalette&gt;</span>
<a href="#l17.1064"></a><span id="l17.1064" class="difflineminus">-      &lt;toolbar id=&quot;attachment-view-toolbar&quot; class=&quot;inline-toolbar&quot;</span>
<a href="#l17.1065"></a><span id="l17.1065" class="difflineminus">-               customizable=&quot;true&quot; mode=&quot;full&quot;</span>
<a href="#l17.1066"></a><span id="l17.1066" class="difflineminus">-               context=&quot;attachment-toolbar-context-menu&quot;</span>
<a href="#l17.1067"></a><span id="l17.1067" class="difflineminus">-               defaulticonsize=&quot;small&quot; defaultmode=&quot;full&quot;</span>
<a href="#l17.1068"></a><span id="l17.1068" class="difflineminus">-               defaultset=&quot;attachmentSaveAll&quot;/&gt;</span>
<a href="#l17.1069"></a><span id="l17.1069" class="difflineminus">-    &lt;/toolbox&gt;</span>
<a href="#l17.1070"></a><span id="l17.1070" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l17.1071"></a><span id="l17.1071" class="difflineminus">-  &lt;attachmentlist orient=&quot;horizontal&quot; id=&quot;attachmentList&quot; flex=&quot;1&quot;</span>
<a href="#l17.1072"></a><span id="l17.1072" class="difflineminus">-                  seltype=&quot;multiple&quot; context=&quot;attachmentListContext&quot;</span>
<a href="#l17.1073"></a><span id="l17.1073" class="difflineminus">-                  itemcontext=&quot;attachmentItemContext&quot;</span>
<a href="#l17.1074"></a><span id="l17.1074" class="difflineminus">-                  ondragstart=&quot;nsDragAndDrop.startDrag(event,attachmentListDNDObserver);&quot;</span>
<a href="#l17.1075"></a><span id="l17.1075" class="difflineminus">-                  ondragover=&quot;nsDragAndDrop.dragOver(event, attachmentListDNDObserver);&quot;/&gt;</span>
<a href="#l17.1076"></a><span id="l17.1076" class="difflineminus">-&lt;/vbox&gt;</span>
<a href="#l17.1077"></a><span id="l17.1077" class="difflineminus">-</span>
<a href="#l17.1078"></a><span id="l17.1078" class="difflineminus">-&lt;/overlay&gt;</span>
<a href="#l17.1079"></a><span id="l17.1079" class="difflineplus">+                                &lt;!-- perhaps this should be a customizable toolbar too --&gt;</span>
<a href="#l17.1080"></a><span id="l17.1080" class="difflineplus">+                                &lt;vbox id=&quot;otherActionsBox&quot; align=&quot;end&quot;&gt;</span>
<a href="#l17.1081"></a><span id="l17.1081" class="difflineplus">+                                  &lt;hbox id=&quot;dateValueBox&quot; align=&quot;top&quot; flex=&quot;1&quot;&gt;  &lt;!--For extensions--&gt;</span>
<a href="#l17.1082"></a><span id="l17.1082" class="difflineplus">+                                    &lt;hbox id=&quot;smimeBox&quot; insertbefore=&quot;dateLabel&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l17.1083"></a><span id="l17.1083" class="difflineplus">+                                      &lt;image id=&quot;signedHdrIcon&quot;</span>
<a href="#l17.1084"></a><span id="l17.1084" class="difflineplus">+                                            onclick=&quot;showMessageReadSecurityInfo();&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l17.1085"></a><span id="l17.1085" class="difflineplus">+                                      &lt;image id=&quot;encryptedHdrIcon&quot;</span>
<a href="#l17.1086"></a><span id="l17.1086" class="difflineplus">+                                            onclick=&quot;showMessageReadSecurityInfo();&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l17.1087"></a><span id="l17.1087" class="difflineplus">+                                    &lt;/hbox&gt;</span>
<a href="#l17.1088"></a><span id="l17.1088" class="difflineplus">+                                    &lt;label id=&quot;dateLabel&quot; class=&quot;dateLabel&quot; flex=&quot;1&quot; role=&quot;textbox&quot;</span>
<a href="#l17.1089"></a><span id="l17.1089" class="difflineplus">+                                           aria-readonly=&quot;true&quot;/&gt;</span>
<a href="#l17.1090"></a><span id="l17.1090" class="difflineplus">+                                  &lt;/hbox&gt;</span>
<a href="#l17.1091"></a><span id="l17.1091" class="difflineplus">+                                &lt;/vbox&gt;</span>
<a href="#l17.1092"></a><span id="l17.1092" class="difflineplus">+                              &lt;/hbox&gt;</span>
<a href="#l17.1093"></a><span id="l17.1093" class="difflineplus">+                            &lt;/vbox&gt;</span>
<a href="#l17.1094"></a><span id="l17.1094" class="difflineplus">+                          &lt;/vbox&gt;</span>
<a href="#l17.1095"></a><span id="l17.1095" class="difflineplus">+                        &lt;/deck&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1">rename from mail/base/content/msgHdrViewOverlay.js</span>
<a href="#l18.2"></a><span id="l18.2">rename to mail/base/content/msgHdrView.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1">rename from mail/base/content/quickFilterBar.xul</span>
<a href="#l19.2"></a><span id="l19.2">rename to mail/base/content/quickFilterBar.inc</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineminus">--- a/mail/base/content/quickFilterBar.xul</span>
<a href="#l19.4"></a><span id="l19.4" class="difflineplus">+++ b/mail/base/content/quickFilterBar.inc</span>
<a href="#l19.5"></a><span id="l19.5" class="difflineat">@@ -1,114 +1,13 @@</span>
<a href="#l19.6"></a><span id="l19.6" class="difflineminus">-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l19.7"></a><span id="l19.7" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.8"></a><span id="l19.8" class="difflineminus">-  - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.9"></a><span id="l19.9" class="difflineminus">-  - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l19.10"></a><span id="l19.10" class="difflineminus">-</span>
<a href="#l19.11"></a><span id="l19.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/quickFilterBar.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-&lt;!DOCTYPE quickFilterBar SYSTEM &quot;chrome://messenger/locale/quickFilterBar.dtd&quot;&gt;</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-&lt;overlay id=&quot;quickFilterBar-overlay&quot;</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineminus">-         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineminus">-  &lt;script src=&quot;quickFilterBar.js&quot; type=&quot;application/javascript&quot; /&gt;</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineminus">-</span>
<a href="#l19.17"></a><span id="l19.17" class="difflineminus">-  &lt;keyset id=&quot;mailKeys&quot;&gt;</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineminus">-    &lt;key id=&quot;key_qfb_escape&quot; keycode=&quot;VK_ESCAPE&quot;</span>
<a href="#l19.19"></a><span id="l19.19" class="difflineminus">-         command=&quot;cmd_popQuickFilterBarStack&quot;/&gt;</span>
<a href="#l19.20"></a><span id="l19.20" class="difflineminus">-    &lt;key id=&quot;key_qfb_show&quot; key=&quot;&amp;quickFilterBar.show.key2;&quot;</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineminus">-         modifiers=&quot;accel,shift&quot;</span>
<a href="#l19.22"></a><span id="l19.22" class="difflineminus">-         command=&quot;cmd_showQuickFilterBar&quot;/&gt;</span>
<a href="#l19.23"></a><span id="l19.23" class="difflineminus">-  &lt;/keyset&gt;</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineminus">-</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineminus">-  &lt;commandset id=&quot;mailViewMenuItems&quot;&gt;</span>
<a href="#l19.26"></a><span id="l19.26" class="difflineminus">-    &lt;command id=&quot;cmd_showQuickFilterBar&quot;</span>
<a href="#l19.27"></a><span id="l19.27" class="difflineminus">-             oncommand=&quot;goDoCommand('cmd_showQuickFilterBar');&quot;</span>
<a href="#l19.28"></a><span id="l19.28" class="difflineminus">-             /&gt;</span>
<a href="#l19.29"></a><span id="l19.29" class="difflineminus">-    &lt;command id=&quot;cmd_toggleQuickFilterBar&quot;</span>
<a href="#l19.30"></a><span id="l19.30" class="difflineminus">-             oncommand=&quot;goDoCommand('cmd_toggleQuickFilterBar');&quot;</span>
<a href="#l19.31"></a><span id="l19.31" class="difflineminus">-             /&gt;</span>
<a href="#l19.32"></a><span id="l19.32" class="difflineminus">-    &lt;command id=&quot;cmd_popQuickFilterBarStack&quot;</span>
<a href="#l19.33"></a><span id="l19.33" class="difflineminus">-             oncommand=&quot;goDoCommand('cmd_popQuickFilterBarStack');&quot;</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineminus">-             /&gt;</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineminus">-  &lt;/commandset&gt;</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineminus">-</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineminus">-  &lt;menupopup id=&quot;view_toolbars_popup&quot;&gt;</span>
<a href="#l19.38"></a><span id="l19.38" class="difflineminus">-    &lt;!-- gets disabled but stays visible when not legal --&gt;</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineminus">-    &lt;menuitem id=&quot;view_toolbars_popup_quickFilterBar&quot;</span>
<a href="#l19.40"></a><span id="l19.40" class="difflineminus">-              type=&quot;checkbox&quot;</span>
<a href="#l19.41"></a><span id="l19.41" class="difflineminus">-              insertbefore=&quot;menu_showTaskbar&quot;</span>
<a href="#l19.42"></a><span id="l19.42" class="difflineminus">-              label=&quot;&amp;quickFilterBar.toggleBarVisibility.menu.label;&quot;</span>
<a href="#l19.43"></a><span id="l19.43" class="difflineminus">-              accesskey=&quot;&amp;quickFilterBar.toggleBarVisibility.menu.accesskey;&quot;</span>
<a href="#l19.44"></a><span id="l19.44" class="difflineminus">-              command=&quot;cmd_toggleQuickFilterBar&quot;</span>
<a href="#l19.45"></a><span id="l19.45" class="difflineminus">-              /&gt;</span>
<a href="#l19.46"></a><span id="l19.46" class="difflineminus">-  &lt;/menupopup&gt;</span>
<a href="#l19.47"></a><span id="l19.47" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.48"></a><span id="l19.48" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.49"></a><span id="l19.49" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l19.50"></a><span id="l19.50"> </span>
<a href="#l19.51"></a><span id="l19.51" class="difflineminus">-  &lt;menupopup id=&quot;appmenu_customizeMenu&quot;&gt;</span>
<a href="#l19.52"></a><span id="l19.52" class="difflineminus">-    &lt;!-- gets disabled but stays visible when not legal --&gt;</span>
<a href="#l19.53"></a><span id="l19.53" class="difflineminus">-    &lt;menuitem id=&quot;appmenu_quickFilterBar&quot;</span>
<a href="#l19.54"></a><span id="l19.54" class="difflineminus">-              type=&quot;checkbox&quot;</span>
<a href="#l19.55"></a><span id="l19.55" class="difflineminus">-              insertbefore=&quot;appmenu_showStatusbar&quot;</span>
<a href="#l19.56"></a><span id="l19.56" class="difflineminus">-              label=&quot;&amp;quickFilterBar.toggleBarVisibility.appmenu.label;&quot;</span>
<a href="#l19.57"></a><span id="l19.57" class="difflineminus">-              command=&quot;cmd_toggleQuickFilterBar&quot;</span>
<a href="#l19.58"></a><span id="l19.58" class="difflineminus">-              &gt;</span>
<a href="#l19.59"></a><span id="l19.59" class="difflineminus">-      &lt;observes element=&quot;view_toolbars_popup_quickFilterBar&quot;</span>
<a href="#l19.60"></a><span id="l19.60" class="difflineminus">-                attribute=&quot;checked&quot;</span>
<a href="#l19.61"></a><span id="l19.61" class="difflineminus">-                /&gt;</span>
<a href="#l19.62"></a><span id="l19.62" class="difflineminus">-    &lt;/menuitem&gt;</span>
<a href="#l19.63"></a><span id="l19.63" class="difflineminus">-  &lt;/menupopup&gt;</span>
<a href="#l19.64"></a><span id="l19.64" class="difflineminus">-</span>
<a href="#l19.65"></a><span id="l19.65" class="difflineminus">-  &lt;toolbarpalette id=&quot;MailToolbarPalette&quot;&gt;</span>
<a href="#l19.66"></a><span id="l19.66" class="difflineminus">-    &lt;!-- gets hidden but keeps space allocation when not legal--&gt;</span>
<a href="#l19.67"></a><span id="l19.67" class="difflineminus">-    &lt;toolbarbutton id=&quot;qfb-show-filter-bar&quot;</span>
<a href="#l19.68"></a><span id="l19.68" class="difflineminus">-                   class=&quot;toolbarbutton-1&quot;</span>
<a href="#l19.69"></a><span id="l19.69" class="difflineminus">-                   type=&quot;checkbox&quot;</span>
<a href="#l19.70"></a><span id="l19.70" class="difflineminus">-                   label=&quot;&amp;quickFilterBar.qfbShowFilterBar.label;&quot;</span>
<a href="#l19.71"></a><span id="l19.71" class="difflineminus">-                   command=&quot;cmd_toggleQuickFilterBar&quot;</span>
<a href="#l19.72"></a><span id="l19.72" class="difflineminus">-                   tooltiptext=&quot;&amp;quickFilterBar.toggleBarVisibility.button.tooltip;&quot;</span>
<a href="#l19.73"></a><span id="l19.73" class="difflineminus">-                   &gt;</span>
<a href="#l19.74"></a><span id="l19.74" class="difflineminus">-      &lt;observes element=&quot;view_toolbars_popup_quickFilterBar&quot;</span>
<a href="#l19.75"></a><span id="l19.75" class="difflineminus">-                attribute=&quot;checked&quot;</span>
<a href="#l19.76"></a><span id="l19.76" class="difflineminus">-                /&gt;</span>
<a href="#l19.77"></a><span id="l19.77" class="difflineminus">-    &lt;/toolbarbutton&gt;</span>
<a href="#l19.78"></a><span id="l19.78" class="difflineminus">-  &lt;/toolbarpalette&gt;</span>
<a href="#l19.79"></a><span id="l19.79" class="difflineminus">-</span>
<a href="#l19.80"></a><span id="l19.80" class="difflineminus">-  &lt;popupset id=&quot;mainPopupSet&quot;&gt;</span>
<a href="#l19.81"></a><span id="l19.81" class="difflineminus">-    &lt;!-- Using an actual panel resulted in serious focus problems on linux,</span>
<a href="#l19.82"></a><span id="l19.82" class="difflineminus">-         even with noautofocus=true.  It would appear the window manager does</span>
<a href="#l19.83"></a><span id="l19.83" class="difflineminus">-         not buy into what we are selling in that case, whereas I presume the</span>
<a href="#l19.84"></a><span id="l19.84" class="difflineminus">-         specialization that precludes tooltips from ever having focus prevents</span>
<a href="#l19.85"></a><span id="l19.85" class="difflineminus">-         that problem from happening. --&gt;</span>
<a href="#l19.86"></a><span id="l19.86" class="difflineminus">-    &lt;tooltip id=&quot;qfb-text-search-upsell&quot;</span>
<a href="#l19.87"></a><span id="l19.87" class="difflineminus">-             level=&quot;parent&quot;</span>
<a href="#l19.88"></a><span id="l19.88" class="difflineminus">-             style=&quot;background-color: #ffeeee;&quot;</span>
<a href="#l19.89"></a><span id="l19.89" class="difflineminus">-           &gt;</span>
<a href="#l19.90"></a><span id="l19.90" class="difflineminus">-      &lt;vbox&gt;</span>
<a href="#l19.91"></a><span id="l19.91" class="difflineminus">-        &lt;label id=&quot;qfb-upsell-line-one&quot;</span>
<a href="#l19.92"></a><span id="l19.92" class="difflineminus">-               class=&quot;header&quot;</span>
<a href="#l19.93"></a><span id="l19.93" class="difflineminus">-               fmt=&quot;&amp;quickFilterBar.glodaUpsell.continueSearch;&quot;</span>
<a href="#l19.94"></a><span id="l19.94" class="difflineminus">-               value=&quot;&quot;</span>
<a href="#l19.95"></a><span id="l19.95" class="difflineminus">-               /&gt;</span>
<a href="#l19.96"></a><span id="l19.96" class="difflineminus">-        &lt;label id=&quot;qfb-upsell-line-two&quot;</span>
<a href="#l19.97"></a><span id="l19.97" class="difflineminus">-               fmt=&quot;&amp;quickFilterBar.glodaUpsell.pressEnterAndCurrent;&quot;</span>
<a href="#l19.98"></a><span id="l19.98" class="difflineminus">-               value=&quot;&quot;</span>
<a href="#l19.99"></a><span id="l19.99" class="difflineminus">-               /&gt;</span>
<a href="#l19.100"></a><span id="l19.100" class="difflineminus">-      &lt;/vbox&gt;</span>
<a href="#l19.101"></a><span id="l19.101" class="difflineminus">-    &lt;/tooltip&gt;</span>
<a href="#l19.102"></a><span id="l19.102" class="difflineminus">-  &lt;/popupset&gt;</span>
<a href="#l19.103"></a><span id="l19.103" class="difflineminus">-</span>
<a href="#l19.104"></a><span id="l19.104" class="difflineminus">-</span>
<a href="#l19.105"></a><span id="l19.105" class="difflineminus">-  &lt;vbox id=&quot;messagesBox&quot;&gt;</span>
<a href="#l19.106"></a><span id="l19.106" class="difflineminus">-    &lt;!--</span>
<a href="#l19.107"></a><span id="l19.107" class="difflineminus">-      - The message filter bar is not a XBL binding at this time in order to</span>
<a href="#l19.108"></a><span id="l19.108" class="difflineminus">-      - make it easier for people to overlay given that we are likely leaving</span>
<a href="#l19.109"></a><span id="l19.109" class="difflineminus">-      - a lot of visible space on the table.</span>
<a href="#l19.110"></a><span id="l19.110" class="difflineminus">-      -</span>
<a href="#l19.111"></a><span id="l19.111" class="difflineminus">-      - This may need to change for drag-and-drop or other reasons.</span>
<a href="#l19.112"></a><span id="l19.112" class="difflineminus">-      --&gt;</span>
<a href="#l19.113"></a><span id="l19.113" class="difflineminus">-    &lt;vbox id=&quot;quick-filter-bar&quot; insertbefore=&quot;displayDeck&quot;</span>
<a href="#l19.114"></a><span id="l19.114" class="difflineminus">-          &gt;</span>
<a href="#l19.115"></a><span id="l19.115" class="difflineplus">+    &lt;vbox id=&quot;quick-filter-bar&quot;&gt;</span>
<a href="#l19.116"></a><span id="l19.116">       &lt;observes element=&quot;cmd_toggleQuickFilterBar&quot;</span>
<a href="#l19.117"></a><span id="l19.117">                 attribute=&quot;disabled&quot;</span>
<a href="#l19.118"></a><span id="l19.118">                 /&gt;</span>
<a href="#l19.119"></a><span id="l19.119">       &lt;hbox id=&quot;quick-filter-bar-main-bar&quot; align=&quot;center&quot;</span>
<a href="#l19.120"></a><span id="l19.120">             onoverflow=&quot;QuickFilterBarMuxer.onOverflow();&quot;</span>
<a href="#l19.121"></a><span id="l19.121">             &gt;</span>
<a href="#l19.122"></a><span id="l19.122">         &lt;toolbarbutton id=&quot;qfb-sticky&quot; type=&quot;checkbox&quot;</span>
<a href="#l19.123"></a><span id="l19.123">                        crop=&quot;none&quot; minwidth=&quot;16&quot;</span>
<a href="#l19.124"></a><span id="l19.124" class="difflineat">@@ -195,10 +94,8 @@</span>
<a href="#l19.125"></a><span id="l19.125">                          label=&quot;&amp;quickFilterBar.textFilter.recipients.label;&quot; /&gt;</span>
<a href="#l19.126"></a><span id="l19.126">           &lt;toolbarbutton id=&quot;qfb-qs-subject&quot; type=&quot;checkbox&quot;</span>
<a href="#l19.127"></a><span id="l19.127">                          label=&quot;&amp;quickFilterBar.textFilter.subject.label;&quot; /&gt;</span>
<a href="#l19.128"></a><span id="l19.128">           &lt;toolbarbutton id=&quot;qfb-qs-body&quot; type=&quot;checkbox&quot;</span>
<a href="#l19.129"></a><span id="l19.129">                          label=&quot;&amp;quickFilterBar.textFilter.body.label;&quot; /&gt;</span>
<a href="#l19.130"></a><span id="l19.130">         &lt;/hbox&gt;</span>
<a href="#l19.131"></a><span id="l19.131">       &lt;/hbox&gt;</span>
<a href="#l19.132"></a><span id="l19.132">     &lt;/vbox&gt;</span>
<a href="#l19.133"></a><span id="l19.133" class="difflineminus">-  &lt;/vbox&gt;</span>
<a href="#l19.134"></a><span id="l19.134" class="difflineminus">-&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">deleted file mode 100644</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineminus">--- a/mail/base/content/specialTabs.xul</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineplus">+++ /dev/null</span>
<a href="#l20.4"></a><span id="l20.4" class="difflineat">@@ -1,78 +0,0 @@</span>
<a href="#l20.5"></a><span id="l20.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l20.6"></a><span id="l20.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.7"></a><span id="l20.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.8"></a><span id="l20.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l20.9"></a><span id="l20.9" class="difflineminus">-</span>
<a href="#l20.10"></a><span id="l20.10" class="difflineminus">-&lt;!DOCTYPE overlay [</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineminus">-  &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot;&gt;</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-  %messengerDTD;</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-]&gt;</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineminus">-</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineminus">-&lt;overlay id=&quot;specialTabs&quot;</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineminus">-         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineminus">-</span>
<a href="#l20.18"></a><span id="l20.18" class="difflineminus">-  &lt;popupset id=&quot;mainPopupSet&quot;&gt;</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineminus">-    &lt;!-- for search and content formfill/pw manager --&gt;</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineminus">-    &lt;panel type=&quot;autocomplete&quot; id=&quot;PopupAutoComplete&quot; noautofocus=&quot;true&quot;/&gt;</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineminus">-  &lt;/popupset&gt;</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineminus">-</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineminus">-  &lt;vbox id=&quot;contentTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l20.24"></a><span id="l20.24" class="difflineminus">-    &lt;vbox flex=&quot;1&quot; class=&quot;contentTabInstance&quot;&gt;</span>
<a href="#l20.25"></a><span id="l20.25" class="difflineminus">-      &lt;toolbox id=&quot;dummycontenttoolbox&quot; class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l20.26"></a><span id="l20.26" class="difflineminus">-        &lt;toolbar id=&quot;dummycontenttoolbar&quot; class=&quot;contentTabToolbar&quot;&gt;</span>
<a href="#l20.27"></a><span id="l20.27" class="difflineminus">-        &lt;/toolbar&gt;</span>
<a href="#l20.28"></a><span id="l20.28" class="difflineminus">-      &lt;/toolbox&gt;</span>
<a href="#l20.29"></a><span id="l20.29" class="difflineminus">-      &lt;notificationbox flex=&quot;1&quot; notificationside=&quot;top&quot;&gt;</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineminus">-        &lt;browser id=&quot;dummycontentbrowser&quot; type=&quot;content&quot; flex=&quot;1&quot;</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineminus">-                 disablehistory=&quot;true&quot; autocompletepopup=&quot;PopupAutoComplete&quot;</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineminus">-                 context=&quot;mailContext&quot;/&gt;</span>
<a href="#l20.33"></a><span id="l20.33" class="difflineminus">-      &lt;/notificationbox&gt;</span>
<a href="#l20.34"></a><span id="l20.34" class="difflineminus">-      &lt;findbar browserid=&quot;dummycontentbrowser&quot;/&gt;</span>
<a href="#l20.35"></a><span id="l20.35" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l20.36"></a><span id="l20.36" class="difflineminus">-  &lt;/vbox&gt;</span>
<a href="#l20.37"></a><span id="l20.37" class="difflineminus">-</span>
<a href="#l20.38"></a><span id="l20.38" class="difflineminus">-  &lt;vbox id=&quot;chromeTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l20.39"></a><span id="l20.39" class="difflineminus">-    &lt;vbox flex=&quot;1&quot; class=&quot;chromeTabInstance&quot;&gt;</span>
<a href="#l20.40"></a><span id="l20.40" class="difflineminus">-      &lt;toolbox id=&quot;dummychrometoolbox&quot; class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l20.41"></a><span id="l20.41" class="difflineminus">-        &lt;toolbar id=&quot;dummychrometoolbar&quot; class=&quot;contentTabToolbar&quot;&gt;&lt;/toolbar&gt;</span>
<a href="#l20.42"></a><span id="l20.42" class="difflineminus">-      &lt;/toolbox&gt;</span>
<a href="#l20.43"></a><span id="l20.43" class="difflineminus">-      &lt;notificationbox flex=&quot;1&quot; notificationside=&quot;top&quot;&gt;</span>
<a href="#l20.44"></a><span id="l20.44" class="difflineminus">-        &lt;browser id=&quot;dummychromebrowser&quot; flex=&quot;1&quot;</span>
<a href="#l20.45"></a><span id="l20.45" class="difflineminus">-                 disablesecurity=&quot;true&quot; disablehistory=&quot;true&quot;</span>
<a href="#l20.46"></a><span id="l20.46" class="difflineminus">-                 autocompletepopup=&quot;PopupAutoComplete&quot;/&gt;</span>
<a href="#l20.47"></a><span id="l20.47" class="difflineminus">-      &lt;/notificationbox&gt;</span>
<a href="#l20.48"></a><span id="l20.48" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l20.49"></a><span id="l20.49" class="difflineminus">-  &lt;/vbox&gt;</span>
<a href="#l20.50"></a><span id="l20.50" class="difflineminus">-</span>
<a href="#l20.51"></a><span id="l20.51" class="difflineminus">-  &lt;vbox id=&quot;glodaTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l20.52"></a><span id="l20.52" class="difflineminus">-    &lt;vbox flex=&quot;1&quot; class=&quot;chromeTabInstance&quot;&gt;</span>
<a href="#l20.53"></a><span id="l20.53" class="difflineminus">-      &lt;toolbox class=&quot;contentTabToolbox&quot;&gt;</span>
<a href="#l20.54"></a><span id="l20.54" class="difflineminus">-        &lt;toolbar class=&quot;glodaTabToolbar inline-toolbar chromeclass-toolbar&quot;&gt;</span>
<a href="#l20.55"></a><span id="l20.55" class="difflineminus">-          &lt;spacer flex=&quot;1&quot; /&gt;</span>
<a href="#l20.56"></a><span id="l20.56" class="difflineminus">-          &lt;spacer flex=&quot;1&quot; /&gt;</span>
<a href="#l20.57"></a><span id="l20.57" class="difflineminus">-          &lt;hbox flex=&quot;1&quot; class=&quot;remote-gloda-search-container&quot;&gt;</span>
<a href="#l20.58"></a><span id="l20.58" class="difflineminus">-            &lt;textbox class=&quot;remote-gloda-search searchBox&quot;</span>
<a href="#l20.59"></a><span id="l20.59" class="difflineminus">-                     flex=&quot;1&quot;</span>
<a href="#l20.60"></a><span id="l20.60" class="difflineminus">-                     type=&quot;glodacomplete&quot;</span>
<a href="#l20.61"></a><span id="l20.61" class="difflineminus">-                     searchbutton=&quot;true&quot;</span>
<a href="#l20.62"></a><span id="l20.62" class="difflineminus">-                     autocompletesearch=&quot;gloda&quot;</span>
<a href="#l20.63"></a><span id="l20.63" class="difflineminus">-                     autocompletepopup=&quot;PopupGlodaAutocomplete&quot;</span>
<a href="#l20.64"></a><span id="l20.64" class="difflineminus">-                     autocompletesearchparam=&quot;global&quot;</span>
<a href="#l20.65"></a><span id="l20.65" class="difflineminus">-                     timeout=&quot;200&quot;</span>
<a href="#l20.66"></a><span id="l20.66" class="difflineminus">-                     maxlength=&quot;192&quot;</span>
<a href="#l20.67"></a><span id="l20.67" class="difflineminus">-                     placeholder=&quot;&quot;</span>
<a href="#l20.68"></a><span id="l20.68" class="difflineminus">-                     emptytextbase=&quot;&amp;search.label.base1;&quot;</span>
<a href="#l20.69"></a><span id="l20.69" class="difflineminus">-                     keyLabelNonMac=&quot;&amp;search.keyLabel.nonmac;&quot;</span>
<a href="#l20.70"></a><span id="l20.70" class="difflineminus">-                     keyLabelMac=&quot;&amp;search.keyLabel.mac;&quot;&gt;</span>
<a href="#l20.71"></a><span id="l20.71" class="difflineminus">-              &lt;hbox&gt;</span>
<a href="#l20.72"></a><span id="l20.72" class="difflineminus">-                &lt;image class=&quot;gloda-search-icon&quot; /&gt;</span>
<a href="#l20.73"></a><span id="l20.73" class="difflineminus">-              &lt;/hbox&gt;</span>
<a href="#l20.74"></a><span id="l20.74" class="difflineminus">-            &lt;/textbox&gt;</span>
<a href="#l20.75"></a><span id="l20.75" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l20.76"></a><span id="l20.76" class="difflineminus">-        &lt;/toolbar&gt;</span>
<a href="#l20.77"></a><span id="l20.77" class="difflineminus">-      &lt;/toolbox&gt;</span>
<a href="#l20.78"></a><span id="l20.78" class="difflineminus">-      &lt;iframe flex=&quot;1&quot;/&gt;</span>
<a href="#l20.79"></a><span id="l20.79" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l20.80"></a><span id="l20.80" class="difflineminus">-  &lt;/vbox&gt;</span>
<a href="#l20.81"></a><span id="l20.81" class="difflineminus">-&lt;/overlay&gt;</span>
<a href="#l20.82"></a><span id="l20.82" class="difflineminus">-</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1">deleted file mode 100644</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineminus">--- a/mail/base/content/utilityOverlay.xul</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineplus">+++ /dev/null</span>
<a href="#l21.4"></a><span id="l21.4" class="difflineat">@@ -1,125 +0,0 @@</span>
<a href="#l21.5"></a><span id="l21.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l21.6"></a><span id="l21.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.7"></a><span id="l21.7" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.8"></a><span id="l21.8" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l21.9"></a><span id="l21.9" class="difflineminus">-</span>
<a href="#l21.10"></a><span id="l21.10" class="difflineminus">-</span>
<a href="#l21.11"></a><span id="l21.11" class="difflineminus">-&lt;!DOCTYPE overlay [</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineminus">-&lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineminus">-%brandDTD;</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineminus">-&lt;!ENTITY % utilityDTD SYSTEM &quot;chrome://communicator/locale/utilityOverlay.dtd&quot;&gt;</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineminus">-%utilityDTD;</span>
<a href="#l21.17"></a><span id="l21.17" class="difflineminus">-</span>
<a href="#l21.18"></a><span id="l21.18" class="difflineminus">-]&gt;</span>
<a href="#l21.19"></a><span id="l21.19" class="difflineminus">-</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineminus">-&lt;overlay id=&quot;utilityOverlay&quot; xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineminus">-</span>
<a href="#l21.22"></a><span id="l21.22" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/utilityOverlay.js&quot;/&gt;</span>
<a href="#l21.23"></a><span id="l21.23" class="difflineminus">-</span>
<a href="#l21.24"></a><span id="l21.24" class="difflineminus">-  &lt;!-- File Menu --&gt;</span>
<a href="#l21.25"></a><span id="l21.25" class="difflineminus">-  &lt;menu id=&quot;menu_File&quot; label=&quot;&amp;fileMenu.label;&quot; accesskey=&quot;&amp;fileMenu.accesskey;&quot;/&gt;</span>
<a href="#l21.26"></a><span id="l21.26" class="difflineminus">-  &lt;menu id=&quot;menu_New&quot; label=&quot;&amp;newMenu.label;&quot; accesskey=&quot;&amp;newMenu.accesskey;&quot;/&gt;</span>
<a href="#l21.27"></a><span id="l21.27" class="difflineminus">-  &lt;menuitem id=&quot;menu_close&quot; label=&quot;&amp;closeCmd.label;&quot; key=&quot;key_close&quot; accesskey=&quot;&amp;closeCmd.accesskey;&quot; command=&quot;cmd_close&quot;/&gt;</span>
<a href="#l21.28"></a><span id="l21.28" class="difflineminus">-</span>
<a href="#l21.29"></a><span id="l21.29" class="difflineminus">-  &lt;!-- quit --&gt;</span>
<a href="#l21.30"></a><span id="l21.30" class="difflineminus">-  &lt;menupopup id=&quot;menu_FilePopup&quot;&gt;</span>
<a href="#l21.31"></a><span id="l21.31" class="difflineminus">-    &lt;menuseparator id=&quot;menu_FileQuitSeparator&quot;/&gt;</span>
<a href="#l21.32"></a><span id="l21.32" class="difflineminus">-    &lt;menuitem id=&quot;menu_FileQuitItem&quot;</span>
<a href="#l21.33"></a><span id="l21.33" class="difflineminus">-#ifdef XP_UNIX</span>
<a href="#l21.34"></a><span id="l21.34" class="difflineminus">-      key=&quot;key_quit&quot;</span>
<a href="#l21.35"></a><span id="l21.35" class="difflineminus">-#ifndef XP_MACOSX</span>
<a href="#l21.36"></a><span id="l21.36" class="difflineminus">-      label=&quot;&amp;quitApplicationCmdUnix.label;&quot;</span>
<a href="#l21.37"></a><span id="l21.37" class="difflineminus">-      accesskey=&quot;&amp;quitApplicationCmdUnix.accesskey;&quot;</span>
<a href="#l21.38"></a><span id="l21.38" class="difflineminus">-#else</span>
<a href="#l21.39"></a><span id="l21.39" class="difflineminus">-      label=&quot;&amp;quitApplicationCmdMac.label;&quot;</span>
<a href="#l21.40"></a><span id="l21.40" class="difflineminus">-      accesskey=&quot;&amp;quitApplicationCmdMac.accesskey;&quot;</span>
<a href="#l21.41"></a><span id="l21.41" class="difflineminus">-#endif</span>
<a href="#l21.42"></a><span id="l21.42" class="difflineminus">-#else</span>
<a href="#l21.43"></a><span id="l21.43" class="difflineminus">-      label=&quot;&amp;quitApplicationCmd.label;&quot;</span>
<a href="#l21.44"></a><span id="l21.44" class="difflineminus">-      accesskey=&quot;&amp;quitApplicationCmd.accesskey;&quot;</span>
<a href="#l21.45"></a><span id="l21.45" class="difflineminus">-#endif</span>
<a href="#l21.46"></a><span id="l21.46" class="difflineminus">-      command=&quot;cmd_quit&quot;/&gt;</span>
<a href="#l21.47"></a><span id="l21.47" class="difflineminus">-  &lt;/menupopup&gt;</span>
<a href="#l21.48"></a><span id="l21.48" class="difflineminus">-</span>
<a href="#l21.49"></a><span id="l21.49" class="difflineminus">-  &lt;!-- Edit Menu --&gt;</span>
<a href="#l21.50"></a><span id="l21.50" class="difflineminus">-  &lt;menu id=&quot;menu_Edit&quot; label=&quot;&amp;editMenu.label;&quot; accesskey=&quot;&amp;editMenu.accesskey;&quot;/&gt;</span>
<a href="#l21.51"></a><span id="l21.51" class="difflineminus">-  &lt;menuitem id=&quot;menu_undo&quot; label=&quot;&amp;undoCmd.label;&quot; key=&quot;key_undo&quot;</span>
<a href="#l21.52"></a><span id="l21.52" class="difflineminus">-            accesskey=&quot;&amp;undoCmd.accesskey;&quot; command=&quot;cmd_undo&quot;/&gt;</span>
<a href="#l21.53"></a><span id="l21.53" class="difflineminus">-  &lt;menuitem id=&quot;menu_redo&quot; label=&quot;&amp;redoCmd.label;&quot; key=&quot;key_redo&quot; accesskey=&quot;&amp;redoCmd.accesskey;&quot; command=&quot;cmd_redo&quot;/&gt;</span>
<a href="#l21.54"></a><span id="l21.54" class="difflineminus">-  &lt;menuitem id=&quot;menu_cut&quot; label=&quot;&amp;cutCmd.label;&quot; key=&quot;key_cut&quot; accesskey=&quot;&amp;cutCmd.accesskey;&quot; command=&quot;cmd_cut&quot;/&gt;</span>
<a href="#l21.55"></a><span id="l21.55" class="difflineminus">-  &lt;menuitem id=&quot;menu_copy&quot; label=&quot;&amp;copyCmd.label;&quot; key=&quot;key_copy&quot; accesskey=&quot;&amp;copyCmd.accesskey;&quot; command=&quot;cmd_copy&quot;/&gt;</span>
<a href="#l21.56"></a><span id="l21.56" class="difflineminus">-  &lt;menuitem id=&quot;menu_paste&quot; label=&quot;&amp;pasteCmd.label;&quot; key=&quot;key_paste&quot; accesskey=&quot;&amp;pasteCmd.accesskey;&quot; command=&quot;cmd_paste&quot;/&gt;</span>
<a href="#l21.57"></a><span id="l21.57" class="difflineminus">-  &lt;menuitem id=&quot;menu_delete&quot; label=&quot;&amp;deleteCmd.label;&quot; key=&quot;key_delete&quot; accesskey=&quot;&amp;deleteCmd.accesskey;&quot; command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l21.58"></a><span id="l21.58" class="difflineminus">-  &lt;menuitem id=&quot;menu_selectAll&quot; label=&quot;&amp;selectAllCmd.label;&quot; key=&quot;key_selectAll&quot; accesskey=&quot;&amp;selectAllCmd.accesskey;&quot; command=&quot;cmd_selectAll&quot;/&gt;</span>
<a href="#l21.59"></a><span id="l21.59" class="difflineminus">-</span>
<a href="#l21.60"></a><span id="l21.60" class="difflineminus">-  &lt;menu id=&quot;menu_Toolbars&quot; label=&quot;&amp;viewToolbarsMenu.label;&quot; accesskey=&quot;&amp;viewToolbarsMenu.accesskey;&quot;/&gt;</span>
<a href="#l21.61"></a><span id="l21.61" class="difflineminus">-</span>
<a href="#l21.62"></a><span id="l21.62" class="difflineminus">-  &lt;menuitem id=&quot;menu_showTaskbar&quot; label=&quot;&amp;showTaskbarCmd.label;&quot; accesskey=&quot;&amp;showTaskbarCmd.accesskey;&quot;</span>
<a href="#l21.63"></a><span id="l21.63" class="difflineminus">-            oncommand=&quot;goToggleToolbar('status-bar', 'menu_showTaskbar')&quot;  checked=&quot;true&quot;/&gt;</span>
<a href="#l21.64"></a><span id="l21.64" class="difflineminus">-</span>
<a href="#l21.65"></a><span id="l21.65" class="difflineminus">-  &lt;!-- These key nodes are here only for show. The real bindings come from</span>
<a href="#l21.66"></a><span id="l21.66" class="difflineminus">-       XBL, in platformHTMLBindings.xml. See bugs 57078 and 71779. --&gt;</span>
<a href="#l21.67"></a><span id="l21.67" class="difflineminus">-</span>
<a href="#l21.68"></a><span id="l21.68" class="difflineminus">-  &lt;key id=&quot;key_close&quot;  key=&quot;&amp;closeCmd.key;&quot; command=&quot;cmd_close&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l21.69"></a><span id="l21.69" class="difflineminus">-#ifdef XP_UNIX</span>
<a href="#l21.70"></a><span id="l21.70" class="difflineminus">-  &lt;key id=&quot;key_quit&quot; command=&quot;cmd_quit&quot; modifiers=&quot;accel&quot; key=&quot;&amp;quitApplicationCmd.key;&quot; /&gt;</span>
<a href="#l21.71"></a><span id="l21.71" class="difflineminus">-#endif</span>
<a href="#l21.72"></a><span id="l21.72" class="difflineminus">-  &lt;key id=&quot;key_closeWindow&quot;  key=&quot;&amp;closeCmd.key;&quot; command=&quot;cmd_closeWindow&quot; modifiers=&quot;accel,shift&quot;/&gt;</span>
<a href="#l21.73"></a><span id="l21.73" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l21.74"></a><span id="l21.74" class="difflineminus">-  &lt;key id=&quot;key_delete&quot; keycode=&quot;VK_BACK&quot;     command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l21.75"></a><span id="l21.75" class="difflineminus">-  &lt;key id=&quot;key_delete2&quot; keycode=&quot;VK_DELETE&quot;  command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l21.76"></a><span id="l21.76" class="difflineminus">-#else</span>
<a href="#l21.77"></a><span id="l21.77" class="difflineminus">-  &lt;key id=&quot;key_delete&quot; keycode=&quot;VK_DELETE&quot; command=&quot;cmd_delete&quot;/&gt;</span>
<a href="#l21.78"></a><span id="l21.78" class="difflineminus">-#endif</span>
<a href="#l21.79"></a><span id="l21.79" class="difflineminus">-  &lt;key id=&quot;key_selectAll&quot; key=&quot;&amp;selectAllCmd.key;&quot;</span>
<a href="#l21.80"></a><span id="l21.80" class="difflineminus">-       modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l21.81"></a><span id="l21.81" class="difflineminus">-  &lt;key id=&quot;key_undo&quot; key=&quot;&amp;undoCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l21.82"></a><span id="l21.82" class="difflineminus">-  &lt;key id=&quot;key_redo&quot;</span>
<a href="#l21.83"></a><span id="l21.83" class="difflineminus">-#ifdef XP_UNIX</span>
<a href="#l21.84"></a><span id="l21.84" class="difflineminus">-       key=&quot;&amp;undoCmd.key;&quot;</span>
<a href="#l21.85"></a><span id="l21.85" class="difflineminus">-       modifiers=&quot;shift, accel&quot;/&gt;</span>
<a href="#l21.86"></a><span id="l21.86" class="difflineminus">-#else</span>
<a href="#l21.87"></a><span id="l21.87" class="difflineminus">-       key=&quot;&amp;redoCmd.key;&quot;</span>
<a href="#l21.88"></a><span id="l21.88" class="difflineminus">-       modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l21.89"></a><span id="l21.89" class="difflineminus">-#endif</span>
<a href="#l21.90"></a><span id="l21.90" class="difflineminus">-  &lt;key id=&quot;key_cut&quot; key=&quot;&amp;cutCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l21.91"></a><span id="l21.91" class="difflineminus">-  &lt;key id=&quot;key_copy&quot; key=&quot;&amp;copyCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l21.92"></a><span id="l21.92" class="difflineminus">-  &lt;key id=&quot;key_paste&quot; key=&quot;&amp;pasteCmd.key;&quot; modifiers=&quot;accel&quot;/&gt;</span>
<a href="#l21.93"></a><span id="l21.93" class="difflineminus">-</span>
<a href="#l21.94"></a><span id="l21.94" class="difflineminus">-  &lt;commandset id=&quot;globalEditMenuItems&quot; commandupdater=&quot;true&quot; events=&quot;focus&quot; oncommandupdate=&quot;goUpdateGlobalEditMenuItems()&quot;/&gt;</span>
<a href="#l21.95"></a><span id="l21.95" class="difflineminus">-  &lt;commandset id=&quot;selectEditMenuItems&quot; commandupdater=&quot;true&quot; events=&quot;select&quot; oncommandupdate=&quot;goUpdateSelectEditMenuItems()&quot;/&gt;</span>
<a href="#l21.96"></a><span id="l21.96" class="difflineminus">-  &lt;commandset id=&quot;undoEditMenuItems&quot; commandupdater=&quot;true&quot; events=&quot;undo&quot; oncommandupdate=&quot;goUpdateUndoEditMenuItems()&quot;/&gt;</span>
<a href="#l21.97"></a><span id="l21.97" class="difflineminus">-  &lt;commandset id=&quot;clipboardEditMenuItems&quot; commandupdater=&quot;true&quot; events=&quot;clipboard&quot; oncommandupdate=&quot;goUpdatePasteMenuItems()&quot;/&gt;</span>
<a href="#l21.98"></a><span id="l21.98" class="difflineminus">-</span>
<a href="#l21.99"></a><span id="l21.99" class="difflineminus">-  &lt;command id=&quot;cmd_quit&quot; oncommand=&quot;goQuitApplication()&quot;/&gt;</span>
<a href="#l21.100"></a><span id="l21.100" class="difflineminus">-  &lt;command id=&quot;cmd_copyLink&quot; oncommand=&quot;goDoCommand('cmd_copyLink')&quot; disabled=&quot;false&quot;/&gt;</span>
<a href="#l21.101"></a><span id="l21.101" class="difflineminus">-  &lt;command id=&quot;cmd_copyImage&quot; oncommand=&quot;goCopyImage()&quot; disabled=&quot;false&quot;/&gt;</span>
<a href="#l21.102"></a><span id="l21.102" class="difflineminus">-  &lt;command id=&quot;cmd_undo&quot; oncommand=&quot;goDoCommand('cmd_undo')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l21.103"></a><span id="l21.103" class="difflineminus">-  &lt;command id=&quot;cmd_redo&quot; oncommand=&quot;goDoCommand('cmd_redo')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l21.104"></a><span id="l21.104" class="difflineminus">-  &lt;command id=&quot;cmd_cut&quot; oncommand=&quot;goDoCommand('cmd_cut')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l21.105"></a><span id="l21.105" class="difflineminus">-  &lt;command id=&quot;cmd_copy&quot; oncommand=&quot;goDoCommand('cmd_copy')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l21.106"></a><span id="l21.106" class="difflineminus">-  &lt;command id=&quot;cmd_paste&quot;  oncommand=&quot;goDoCommand('cmd_paste')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l21.107"></a><span id="l21.107" class="difflineminus">-  &lt;command id=&quot;cmd_delete&quot; oncommand=&quot;goDoCommand('cmd_delete')&quot; valueDefault=&quot;&amp;deleteCmd.label;&quot;</span>
<a href="#l21.108"></a><span id="l21.108" class="difflineminus">-           valueDefaultAccessKey=&quot;&amp;deleteCmd.accesskey;&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l21.109"></a><span id="l21.109" class="difflineminus">-  &lt;command id=&quot;cmd_selectAll&quot; oncommand=&quot;goDoCommand('cmd_selectAll')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l21.110"></a><span id="l21.110" class="difflineminus">-</span>
<a href="#l21.111"></a><span id="l21.111" class="difflineminus">-  &lt;!-- Not needed yet, window will need this: --&gt;</span>
<a href="#l21.112"></a><span id="l21.112" class="difflineminus">-  &lt;!-- broadcaster id=&quot;cmd_preferences&quot;/ --&gt;</span>
<a href="#l21.113"></a><span id="l21.113" class="difflineminus">-</span>
<a href="#l21.114"></a><span id="l21.114" class="difflineminus">-#ifndef XP_MACOSX</span>
<a href="#l21.115"></a><span id="l21.115" class="difflineminus">-  &lt;menuitem id=&quot;menu_preferences&quot;</span>
<a href="#l21.116"></a><span id="l21.116" class="difflineminus">-#ifdef XP_UNIX</span>
<a href="#l21.117"></a><span id="l21.117" class="difflineminus">-</span>
<a href="#l21.118"></a><span id="l21.118" class="difflineminus">-            label=&quot;&amp;preferencesCmdUnix.label;&quot;</span>
<a href="#l21.119"></a><span id="l21.119" class="difflineminus">-            accesskey=&quot;&amp;preferencesCmdUnix.accesskey;&quot;/&gt;</span>
<a href="#l21.120"></a><span id="l21.120" class="difflineminus">-#else</span>
<a href="#l21.121"></a><span id="l21.121" class="difflineminus">-            label=&quot;&amp;preferencesCmd2.label;&quot;</span>
<a href="#l21.122"></a><span id="l21.122" class="difflineminus">-            accesskey=&quot;&amp;preferencesCmd2.accesskey;&quot;/&gt;</span>
<a href="#l21.123"></a><span id="l21.123" class="difflineminus">-#endif</span>
<a href="#l21.124"></a><span id="l21.124" class="difflineminus">-#endif</span>
<a href="#l21.125"></a><span id="l21.125" class="difflineminus">-</span>
<a href="#l21.126"></a><span id="l21.126" class="difflineminus">-  &lt;!-- View Menu --&gt;</span>
<a href="#l21.127"></a><span id="l21.127" class="difflineminus">-  &lt;menu id=&quot;menu_View&quot; label=&quot;&amp;viewMenu.label;&quot; accesskey=&quot;&amp;viewMenu.accesskey;&quot;/&gt;</span>
<a href="#l21.128"></a><span id="l21.128" class="difflineminus">-</span>
<a href="#l21.129"></a><span id="l21.129" class="difflineminus">-&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mail/base/jar.mn</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mail/base/jar.mn</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -19,58 +19,54 @@ messenger.jar:</span>
<a href="#l22.4"></a><span id="l22.4"> % style chrome://messenger/content/customizeToolbar.xul chrome://messenger/skin/primaryToolbar.css</span>
<a href="#l22.5"></a><span id="l22.5">     content/messenger/mailWindow.js                 (content/mailWindow.js)</span>
<a href="#l22.6"></a><span id="l22.6">     content/messenger/messageDisplay.js             (content/messageDisplay.js)</span>
<a href="#l22.7"></a><span id="l22.7">     content/messenger/extensionsOverlay.css         (content/extensionsOverlay.css)</span>
<a href="#l22.8"></a><span id="l22.8">     content/messenger/extensionsOverlay.xul         (content/extensionsOverlay.xul)</span>
<a href="#l22.9"></a><span id="l22.9">     content/messenger/folderDisplay.js              (content/folderDisplay.js)</span>
<a href="#l22.10"></a><span id="l22.10">     content/messenger/mailWindowOverlay.js          (content/mailWindowOverlay.js)</span>
<a href="#l22.11"></a><span id="l22.11"> *   content/messenger/mailWindowOverlay.xul         (content/mailWindowOverlay.xul)</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-    content/messenger/extraCustomizeItems.xul       (content/extraCustomizeItems.xul)</span>
<a href="#l22.13"></a><span id="l22.13"> *   content/messenger/mailOverlay.xul               (content/mailOverlay.xul)</span>
<a href="#l22.14"></a><span id="l22.14"> *   content/messenger/messageWindow.xul             (content/messageWindow.xul)</span>
<a href="#l22.15"></a><span id="l22.15">     content/messenger/messageWindow.js              (content/messageWindow.js)</span>
<a href="#l22.16"></a><span id="l22.16">     content/messenger/mailContextMenus.js           (content/mailContextMenus.js)</span>
<a href="#l22.17"></a><span id="l22.17">     content/messenger/nsContextMenu.js              (content/nsContextMenu.js)</span>
<a href="#l22.18"></a><span id="l22.18"> *   content/messenger/messenger.xul                 (content/messenger.xul)</span>
<a href="#l22.19"></a><span id="l22.19"> *   content/messenger/hiddenWindow.xul              (content/hiddenWindow.xul)</span>
<a href="#l22.20"></a><span id="l22.20">     content/messenger/hiddenWindow.js               (content/hiddenWindow.js)</span>
<a href="#l22.21"></a><span id="l22.21" class="difflineminus">-    content/messenger/msgHdrViewOverlay.js          (content/msgHdrViewOverlay.js)</span>
<a href="#l22.22"></a><span id="l22.22" class="difflineminus">-    content/messenger/msgHdrViewOverlay.xul         (content/msgHdrViewOverlay.xul)</span>
<a href="#l22.23"></a><span id="l22.23" class="difflineplus">+    content/messenger/msgHdrView.js                 (content/msgHdrView.js)</span>
<a href="#l22.24"></a><span id="l22.24">     content/messenger/msgViewNavigation.js          (content/msgViewNavigation.js)</span>
<a href="#l22.25"></a><span id="l22.25">     content/messenger/mailWidgets.xml               (content/mailWidgets.xml)</span>
<a href="#l22.26"></a><span id="l22.26">     content/messenger/customizeToolbar.css          (../../common/src/customizeToolbar.css)</span>
<a href="#l22.27"></a><span id="l22.27">     content/messenger/customizeToolbar.js           (../../common/src/customizeToolbar.js)</span>
<a href="#l22.28"></a><span id="l22.28"> *   content/messenger/customizeToolbar.xul          (../../common/src/customizeToolbar.xul)</span>
<a href="#l22.29"></a><span id="l22.29">     content/messenger/viewSource.css                (../../common/src/viewSource.css)</span>
<a href="#l22.30"></a><span id="l22.30">     content/messenger/viewSource.js                 (../../common/src/viewSource.js)</span>
<a href="#l22.31"></a><span id="l22.31"> *   content/messenger/viewSource.xul                (../../common/src/viewSource.xul)</span>
<a href="#l22.32"></a><span id="l22.32"> *   content/messenger/datetimepicker.xml            (../../common/bindings/datetimepicker.xml)</span>
<a href="#l22.33"></a><span id="l22.33">     content/messenger/generalBindings.xml           (../../common/bindings/generalBindings.xml)</span>
<a href="#l22.34"></a><span id="l22.34"> *   content/messenger/spinbuttons.xml               (../../common/bindings/spinbuttons.xml)</span>
<a href="#l22.35"></a><span id="l22.35"> *   content/messenger/toolbar.xml                   (../../common/bindings/toolbar.xml)</span>
<a href="#l22.36"></a><span id="l22.36"> *   content/messenger/bindings.css                  (content/bindings.css)</span>
<a href="#l22.37"></a><span id="l22.37">     content/messenger/nsDragAndDrop.js              (content/nsDragAndDrop.js)</span>
<a href="#l22.38"></a><span id="l22.38" class="difflineminus">-    content/messenger/editContactOverlay.js         (content/editContactOverlay.js)</span>
<a href="#l22.39"></a><span id="l22.39" class="difflineminus">-*   content/messenger/editContactOverlay.xul        (content/editContactOverlay.xul)</span>
<a href="#l22.40"></a><span id="l22.40" class="difflineplus">+    content/messenger/editContactPanel.js           (content/editContactPanel.js)</span>
<a href="#l22.41"></a><span id="l22.41">     content/messenger/msgMail3PaneWindow.js         (content/msgMail3PaneWindow.js)</span>
<a href="#l22.42"></a><span id="l22.42">     content/messenger/mail3PaneWindowCommands.js    (content/mail3PaneWindowCommands.js)</span>
<a href="#l22.43"></a><span id="l22.43">     content/messenger/mailCommands.js               (content/mailCommands.js)</span>
<a href="#l22.44"></a><span id="l22.44">     content/messenger/mailCore.js                   (content/mailCore.js)</span>
<a href="#l22.45"></a><span id="l22.45">     content/messenger/mailTabs.js                   (content/mailTabs.js)</span>
<a href="#l22.46"></a><span id="l22.46">     content/messenger/commandglue.js                (content/commandglue.js)</span>
<a href="#l22.47"></a><span id="l22.47"> *   content/messenger/SearchDialog.xul              (content/SearchDialog.xul)</span>
<a href="#l22.48"></a><span id="l22.48">     content/messenger/SearchDialog.js               (content/SearchDialog.js)</span>
<a href="#l22.49"></a><span id="l22.49"> *   content/messenger/ABSearchDialog.xul            (content/ABSearchDialog.xul)</span>
<a href="#l22.50"></a><span id="l22.50">     content/messenger/ABSearchDialog.js             (content/ABSearchDialog.js)</span>
<a href="#l22.51"></a><span id="l22.51">     content/messenger/FilterListDialog.xul          (content/FilterListDialog.xul)</span>
<a href="#l22.52"></a><span id="l22.52">     content/messenger/FilterListDialog.js           (content/FilterListDialog.js)</span>
<a href="#l22.53"></a><span id="l22.53">     content/messenger/plugins.js                    (content/plugins.js)</span>
<a href="#l22.54"></a><span id="l22.54">     content/messenger/specialTabs.js                (content/specialTabs.js)</span>
<a href="#l22.55"></a><span id="l22.55" class="difflineminus">-    content/messenger/specialTabs.xul               (content/specialTabs.xul)</span>
<a href="#l22.56"></a><span id="l22.56">     content/messenger/aboutDialog-appUpdater.js     (content/aboutDialog-appUpdater.js)</span>
<a href="#l22.57"></a><span id="l22.57"> *   content/messenger/aboutDialog.xul               (content/aboutDialog.xul)</span>
<a href="#l22.58"></a><span id="l22.58">     content/messenger/aboutDialog.js                (content/aboutDialog.js)</span>
<a href="#l22.59"></a><span id="l22.59"> *   content/messenger/aboutRights.xhtml             (content/aboutRights.xhtml)</span>
<a href="#l22.60"></a><span id="l22.60"> *   content/messenger/systemIntegrationDialog.xul   (content/systemIntegrationDialog.xul)</span>
<a href="#l22.61"></a><span id="l22.61">     content/messenger/systemIntegrationDialog.js    (content/systemIntegrationDialog.js)</span>
<a href="#l22.62"></a><span id="l22.62">     content/messenger/folderPane.js                 (content/folderPane.js)</span>
<a href="#l22.63"></a><span id="l22.63">     content/messenger/searchBar.js                  (content/searchBar.js)</span>
<a href="#l22.64"></a><span id="l22.64" class="difflineat">@@ -87,34 +83,32 @@ messenger.jar:</span>
<a href="#l22.65"></a><span id="l22.65">     content/messenger/configEditorOverlay.xul       (content/configEditorOverlay.xul)</span>
<a href="#l22.66"></a><span id="l22.66">     content/messenger/EdSpellCheckOverlay.xul       (content/EdSpellCheckOverlay.xul)</span>
<a href="#l22.67"></a><span id="l22.67">     content/messenger/EdSpellCheckOverlay.js        (content/EdSpellCheckOverlay.js)</span>
<a href="#l22.68"></a><span id="l22.68">     content/messenger/composerOverlay.css           (content/composerOverlay.css)</span>
<a href="#l22.69"></a><span id="l22.69">     content/messenger/threadPane.js                 (content/threadPane.js)</span>
<a href="#l22.70"></a><span id="l22.70">     content/messenger/threadPaneColumnPicker.xml    (content/threadPaneColumnPicker.xml)</span>
<a href="#l22.71"></a><span id="l22.71">     content/messenger/protovis-r2.6-modded.js       (content/protovis-r2.6-modded.js)</span>
<a href="#l22.72"></a><span id="l22.72"> #ifdef XP_MACOSX</span>
<a href="#l22.73"></a><span id="l22.73" class="difflineminus">-    content/messenger/macMessengerOverlay.xul       (content/macMessengerOverlay.xul)</span>
<a href="#l22.74"></a><span id="l22.74" class="difflineminus">-    content/messenger/macMessengerOverlay.js        (content/macMessengerOverlay.js)</span>
<a href="#l22.75"></a><span id="l22.75" class="difflineplus">+    content/messenger/macMessengerMenu.js           (content/macMessengerMenu.js)</span>
<a href="#l22.76"></a><span id="l22.76"> #endif</span>
<a href="#l22.77"></a><span id="l22.77">     content/messenger/selectionsummaries.js         (content/selectionsummaries.js)</span>
<a href="#l22.78"></a><span id="l22.78">     content/messenger/multimessageview.css          (content/multimessageview.css)</span>
<a href="#l22.79"></a><span id="l22.79">     content/messenger/multimessageview_print.css    (content/multimessageview_print.css)</span>
<a href="#l22.80"></a><span id="l22.80">     content/messenger/sharedsummary.css             (content/sharedsummary.css)</span>
<a href="#l22.81"></a><span id="l22.81">     content/messenger/multimessageview.xhtml        (content/multimessageview.xhtml)</span>
<a href="#l22.82"></a><span id="l22.82">     content/messenger/multimessageview.js           (content/multimessageview.js)</span>
<a href="#l22.83"></a><span id="l22.83">     content/messenger/glodaFacetTab.js              (content/glodaFacetTab.js)</span>
<a href="#l22.84"></a><span id="l22.84">     content/messenger/glodaFacetViewWrapper.xul     (content/glodaFacetViewWrapper.xul)</span>
<a href="#l22.85"></a><span id="l22.85">     content/messenger/glodaFacetView.xhtml          (content/glodaFacetView.xhtml)</span>
<a href="#l22.86"></a><span id="l22.86">     content/messenger/glodaFacetView.js             (content/glodaFacetView.js)</span>
<a href="#l22.87"></a><span id="l22.87">     content/messenger/glodaFacetView.css            (content/glodaFacetView.css)</span>
<a href="#l22.88"></a><span id="l22.88">     content/messenger/glodaFacetBindings.css        (content/glodaFacetBindings.css)</span>
<a href="#l22.89"></a><span id="l22.89">     content/messenger/glodaFacetBindings.xml        (content/glodaFacetBindings.xml)</span>
<a href="#l22.90"></a><span id="l22.90">     content/messenger/glodaFacetVis.js              (content/glodaFacetVis.js)</span>
<a href="#l22.91"></a><span id="l22.91" class="difflineminus">-    content/messenger/quickFilterBar.xul            (content/quickFilterBar.xul)</span>
<a href="#l22.92"></a><span id="l22.92">     content/messenger/quickFilterBar.js             (content/quickFilterBar.js)</span>
<a href="#l22.93"></a><span id="l22.93">     content/messenger/quickFilterBar.css            (content/quickFilterBar.css)</span>
<a href="#l22.94"></a><span id="l22.94">     content/messenger/browserRequest.js             (content/browserRequest.js)</span>
<a href="#l22.95"></a><span id="l22.95">     content/messenger/browserRequest.xul            (content/browserRequest.xul)</span>
<a href="#l22.96"></a><span id="l22.96"> *   content/messenger/safeMode.xul                  (content/safeMode.xul)</span>
<a href="#l22.97"></a><span id="l22.97">     content/messenger/safeMode.js                   (content/safeMode.js)</span>
<a href="#l22.98"></a><span id="l22.98">     content/messenger/sanitize.xul                  (content/sanitize.xul)</span>
<a href="#l22.99"></a><span id="l22.99">     content/messenger/sanitize.js                   (content/sanitize.js)</span>
<a href="#l22.100"></a><span id="l22.100" class="difflineat">@@ -129,10 +123,9 @@ messenger.jar:</span>
<a href="#l22.101"></a><span id="l22.101"> % override chrome://global/locale/netError.dtd chrome://messenger/locale/netError.dtd</span>
<a href="#l22.102"></a><span id="l22.102"> % resource search-plugins chrome://messenger/locale/searchplugins/</span>
<a href="#l22.103"></a><span id="l22.103"> </span>
<a href="#l22.104"></a><span id="l22.104"> comm.jar:</span>
<a href="#l22.105"></a><span id="l22.105"> % content communicator %content/communicator/</span>
<a href="#l22.106"></a><span id="l22.106">    content/communicator/charsetOverlay.xul          (content/charsetOverlay.xul)</span>
<a href="#l22.107"></a><span id="l22.107">    content/communicator/contentAreaClick.js         (content/contentAreaClick.js)</span>
<a href="#l22.108"></a><span id="l22.108">    content/communicator/labelsencodings.properties  (/@mozreltopsrcdir@/dom/encoding/labelsencodings.properties)</span>
<a href="#l22.109"></a><span id="l22.109" class="difflineminus">-*  content/communicator/utilityOverlay.xul          (content/utilityOverlay.xul)</span>
<a href="#l22.110"></a><span id="l22.110">    content/communicator/utilityOverlay.js           (content/utilityOverlay.js)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1">new file mode 100644</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineminus">--- /dev/null</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineplus">+++ b/mail/components/im/content/chat-menu.inc</span>
<a href="#l23.4"></a><span id="l23.4" class="difflineat">@@ -0,0 +1,62 @@</span>
<a href="#l23.5"></a><span id="l23.5" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.6"></a><span id="l23.6" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.7"></a><span id="l23.7" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l23.8"></a><span id="l23.8" class="difflineplus">+</span>
<a href="#l23.9"></a><span id="l23.9" class="difflineplus">+  &lt;tooltip id=&quot;imTooltip&quot; type=&quot;im&quot;/&gt;</span>
<a href="#l23.10"></a><span id="l23.10" class="difflineplus">+</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineplus">+  &lt;menupopup id=&quot;buddyListContextMenu&quot;</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineplus">+             onpopupshowing=&quot;if (event.target != this) return true; gBuddyListContextMenu = new buddyListContextMenu(this); return gBuddyListContextMenu.shouldDisplay;&quot;</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+             onpopuphiding=&quot;if (event.target == this) { gBuddyListContextMenu = null; }&quot;&gt;</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+    &lt;menuitem id=&quot;context-openconversation&quot;</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineplus">+              label=&quot;&amp;openConversationCmd.label;&quot;</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineplus">+              accesskey=&quot;&amp;openConversationCmd.accesskey;&quot;</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineplus">+              oncommand=&quot;gBuddyListContextMenu.openConversation();&quot;/&gt;</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineplus">+    &lt;menuitem id=&quot;context-close-conversation&quot;</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineplus">+              label=&quot;&amp;closeConversationCmd.label;&quot;</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineplus">+              accesskey=&quot;&amp;closeConversationCmd.accesskey;&quot;</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineplus">+              oncommand=&quot;gBuddyListContextMenu.closeConversation();&quot;/&gt;</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineplus">+    &lt;menuseparator id=&quot;context-edit-buddy-separator&quot;/&gt;</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineplus">+    &lt;menuitem id=&quot;context-alias&quot;</span>
<a href="#l23.24"></a><span id="l23.24" class="difflineplus">+              label=&quot;&amp;aliasCmd.label;&quot;</span>
<a href="#l23.25"></a><span id="l23.25" class="difflineplus">+              accesskey=&quot;&amp;aliasCmd.accesskey;&quot;</span>
<a href="#l23.26"></a><span id="l23.26" class="difflineplus">+              oncommand=&quot;gBuddyListContextMenu.alias();&quot;/&gt;</span>
<a href="#l23.27"></a><span id="l23.27" class="difflineplus">+    &lt;menuitem id=&quot;context-delete&quot;</span>
<a href="#l23.28"></a><span id="l23.28" class="difflineplus">+              label=&quot;&amp;deleteCmd.label;&quot;</span>
<a href="#l23.29"></a><span id="l23.29" class="difflineplus">+              accesskey=&quot;&amp;deleteCmd.accesskey;&quot;</span>
<a href="#l23.30"></a><span id="l23.30" class="difflineplus">+              oncommand=&quot;gBuddyListContextMenu.delete();&quot;/&gt;</span>
<a href="#l23.31"></a><span id="l23.31" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineplus">+</span>
<a href="#l23.33"></a><span id="l23.33" class="difflineplus">+  &lt;menupopup id=&quot;chatConversationContextMenu&quot;</span>
<a href="#l23.34"></a><span id="l23.34" class="difflineplus">+             onpopupshowing=&quot;if (event.target != this) return true; gChatContextMenu = new imContextMenu(this); return gChatContextMenu.shouldDisplay;&quot;</span>
<a href="#l23.35"></a><span id="l23.35" class="difflineplus">+             onpopuphiding=&quot;if (event.target == this &amp;amp;&amp;amp; gChatContextMenu) { gChatContextMenu.cleanup(); gChatContextMenu = null; }&quot;&gt;</span>
<a href="#l23.36"></a><span id="l23.36" class="difflineplus">+    &lt;menuitem id=&quot;context-openlink&quot;</span>
<a href="#l23.37"></a><span id="l23.37" class="difflineplus">+              label=&quot;&amp;openLinkCmd.label;&quot;</span>
<a href="#l23.38"></a><span id="l23.38" class="difflineplus">+              accesskey=&quot;&amp;openLinkCmd.accesskey;&quot;</span>
<a href="#l23.39"></a><span id="l23.39" class="difflineplus">+              oncommand=&quot;gChatContextMenu.openLink();&quot;/&gt;</span>
<a href="#l23.40"></a><span id="l23.40" class="difflineplus">+    &lt;menuitem id=&quot;context-copyemail&quot;</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineplus">+              label=&quot;&amp;copyEmailCmd.label;&quot;</span>
<a href="#l23.42"></a><span id="l23.42" class="difflineplus">+              accesskey=&quot;&amp;copyEmailCmd.accesskey;&quot;</span>
<a href="#l23.43"></a><span id="l23.43" class="difflineplus">+              oncommand=&quot;gChatContextMenu.copyEmail();&quot;/&gt;</span>
<a href="#l23.44"></a><span id="l23.44" class="difflineplus">+    &lt;menuitem id=&quot;context-copylink&quot;</span>
<a href="#l23.45"></a><span id="l23.45" class="difflineplus">+              label=&quot;&amp;copyLinkCmd.label;&quot;</span>
<a href="#l23.46"></a><span id="l23.46" class="difflineplus">+              accesskey=&quot;&amp;copyLinkCmd.accesskey;&quot;</span>
<a href="#l23.47"></a><span id="l23.47" class="difflineplus">+              oncommand=&quot;goDoCommand('cmd_copyLink');&quot;/&gt;</span>
<a href="#l23.48"></a><span id="l23.48" class="difflineplus">+    &lt;menuseparator id=&quot;context-sep-copylink&quot;/&gt;</span>
<a href="#l23.49"></a><span id="l23.49" class="difflineplus">+</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineplus">+    &lt;menuitem id=&quot;context-copy&quot;</span>
<a href="#l23.51"></a><span id="l23.51" class="difflineplus">+              label=&quot;&amp;copyCmd.label;&quot;</span>
<a href="#l23.52"></a><span id="l23.52" class="difflineplus">+              accesskey=&quot;&amp;copyCmd.accesskey;&quot;</span>
<a href="#l23.53"></a><span id="l23.53" class="difflineplus">+              command=&quot;cmd_copy&quot;/&gt;</span>
<a href="#l23.54"></a><span id="l23.54" class="difflineplus">+    &lt;menuitem id=&quot;context-selectall&quot;</span>
<a href="#l23.55"></a><span id="l23.55" class="difflineplus">+              label=&quot;&amp;selectAllCmd.label;&quot;</span>
<a href="#l23.56"></a><span id="l23.56" class="difflineplus">+              accesskey=&quot;&amp;selectAllCmd.accesskey;&quot;</span>
<a href="#l23.57"></a><span id="l23.57" class="difflineplus">+              command=&quot;cmd_selectAll&quot;/&gt;</span>
<a href="#l23.58"></a><span id="l23.58" class="difflineplus">+    &lt;menuseparator id=&quot;context-sep-messageactions&quot;/&gt;</span>
<a href="#l23.59"></a><span id="l23.59" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l23.60"></a><span id="l23.60" class="difflineplus">+</span>
<a href="#l23.61"></a><span id="l23.61" class="difflineplus">+  &lt;menupopup id=&quot;chat-toolbar-context-menu&quot;&gt;</span>
<a href="#l23.62"></a><span id="l23.62" class="difflineplus">+    &lt;menuitem id=&quot;CustomizeChatToolbar&quot;</span>
<a href="#l23.63"></a><span id="l23.63" class="difflineplus">+              oncommand=&quot;CustomizeMailToolbar('chat-view-toolbox', 'CustomizeChatToolbar')&quot;</span>
<a href="#l23.64"></a><span id="l23.64" class="difflineplus">+              label=&quot;&amp;customizeToolbar.label;&quot;</span>
<a href="#l23.65"></a><span id="l23.65" class="difflineplus">+              accesskey=&quot;&amp;customizeToolbar.accesskey;&quot;/&gt;</span>
<a href="#l23.66"></a><span id="l23.66" class="difflineplus">+  &lt;/menupopup&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1">rename from mail/components/im/content/chat-messenger-overlay.xul</span>
<a href="#l24.2"></a><span id="l24.2">rename to mail/components/im/content/chat-messenger.inc</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineminus">--- a/mail/components/im/content/chat-messenger-overlay.xul</span>
<a href="#l24.4"></a><span id="l24.4" class="difflineplus">+++ b/mail/components/im/content/chat-messenger.inc</span>
<a href="#l24.5"></a><span id="l24.5" class="difflineat">@@ -1,292 +1,196 @@</span>
<a href="#l24.6"></a><span id="l24.6" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l24.7"></a><span id="l24.7" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l24.8"></a><span id="l24.8" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l24.9"></a><span id="l24.9" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l24.10"></a><span id="l24.10" class="difflineminus">-</span>
<a href="#l24.11"></a><span id="l24.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/content/chat/chat.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/chat.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineminus">-&lt;!DOCTYPE overlay [</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineminus">-  &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l24.16"></a><span id="l24.16" class="difflineminus">-  %brandDTD;</span>
<a href="#l24.17"></a><span id="l24.17" class="difflineminus">-  &lt;!ENTITY % chatDTD SYSTEM &quot;chrome://messenger/locale/chat.dtd&quot;&gt;</span>
<a href="#l24.18"></a><span id="l24.18" class="difflineminus">-  %chatDTD;</span>
<a href="#l24.19"></a><span id="l24.19" class="difflineminus">-  &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot;&gt;</span>
<a href="#l24.20"></a><span id="l24.20" class="difflineminus">-  %messengerDTD;</span>
<a href="#l24.21"></a><span id="l24.21" class="difflineminus">-  &lt;!ENTITY % textcontextDTD SYSTEM &quot;chrome://global/locale/textcontext.dtd&quot;&gt;</span>
<a href="#l24.22"></a><span id="l24.22" class="difflineminus">-  %textcontextDTD;</span>
<a href="#l24.23"></a><span id="l24.23" class="difflineminus">-]&gt;</span>
<a href="#l24.24"></a><span id="l24.24" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l24.25"></a><span id="l24.25" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l24.26"></a><span id="l24.26" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l24.27"></a><span id="l24.27"> </span>
<a href="#l24.28"></a><span id="l24.28" class="difflineminus">-&lt;overlay id=&quot;chat-messenger-overlay&quot;</span>
<a href="#l24.29"></a><span id="l24.29" class="difflineminus">-         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l24.30"></a><span id="l24.30" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l24.31"></a><span id="l24.31" class="difflineminus">-          src=&quot;chrome://messenger/content/jsTreeView.js&quot;/&gt;</span>
<a href="#l24.32"></a><span id="l24.32" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l24.33"></a><span id="l24.33" class="difflineminus">-          src=&quot;chrome://messenger/content/chat/chat-messenger-overlay.js&quot;/&gt;</span>
<a href="#l24.34"></a><span id="l24.34" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l24.35"></a><span id="l24.35" class="difflineminus">-          src=&quot;chrome://messenger/content/chat/imStatusSelector.js&quot;/&gt;</span>
<a href="#l24.36"></a><span id="l24.36" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l24.37"></a><span id="l24.37" class="difflineminus">-          src=&quot;chrome://messenger/content/chat/imContextMenu.js&quot;/&gt;</span>
<a href="#l24.38"></a><span id="l24.38" class="difflineminus">-</span>
<a href="#l24.39"></a><span id="l24.39" class="difflineminus">-  &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l24.40"></a><span id="l24.40" class="difflineminus">-    &lt;stringbundle id=&quot;chatBundle&quot; src=&quot;chrome://messenger/locale/chat.properties&quot;/&gt;</span>
<a href="#l24.41"></a><span id="l24.41" class="difflineminus">-    &lt;stringbundle id=&quot;bundle_dateformat&quot; src=&quot;chrome://chat/locale/dateFormat.properties&quot;/&gt;</span>
<a href="#l24.42"></a><span id="l24.42" class="difflineminus">-    &lt;stringbundle id=&quot;bundle_places&quot; src=&quot;chrome://places/locale/places.properties&quot;/&gt;</span>
<a href="#l24.43"></a><span id="l24.43" class="difflineminus">-  &lt;/stringbundleset&gt;</span>
<a href="#l24.44"></a><span id="l24.44" class="difflineminus">-</span>
<a href="#l24.45"></a><span id="l24.45" class="difflineminus">-  &lt;popupset id=&quot;mainPopupSet&quot;&gt;</span>
<a href="#l24.46"></a><span id="l24.46" class="difflineminus">-    &lt;tooltip id=&quot;imTooltip&quot; type=&quot;im&quot;/&gt;</span>
<a href="#l24.47"></a><span id="l24.47" class="difflineplus">+        &lt;vbox id=&quot;chatTabPanel&quot;&gt;</span>
<a href="#l24.48"></a><span id="l24.48" class="difflineplus">+          &lt;toolbox id=&quot;chat-view-toolbox&quot; class=&quot;mail-toolbox&quot;</span>
<a href="#l24.49"></a><span id="l24.49" class="difflineplus">+                   mode=&quot;full&quot; defaultmode=&quot;full&quot;</span>
<a href="#l24.50"></a><span id="l24.50" class="difflineplus">+                   labelalign=&quot;end&quot; defaultlabelalign=&quot;end&quot;&gt;</span>
<a href="#l24.51"></a><span id="l24.51" class="difflineplus">+            &lt;toolbar class=&quot;inline-toolbar chromeclass-toolbar&quot;</span>
<a href="#l24.52"></a><span id="l24.52" class="difflineplus">+                     id=&quot;chat-toobar&quot;</span>
<a href="#l24.53"></a><span id="l24.53" class="difflineplus">+                     fullscreentoolbar=&quot;true&quot;</span>
<a href="#l24.54"></a><span id="l24.54" class="difflineplus">+                     customizable=&quot;true&quot;</span>
<a href="#l24.55"></a><span id="l24.55" class="difflineplus">+                     context=&quot;chat-toolbar-context-menu&quot;</span>
<a href="#l24.56"></a><span id="l24.56" class="difflineplus">+                     mode=&quot;full&quot;</span>
<a href="#l24.57"></a><span id="l24.57" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l24.58"></a><span id="l24.58" class="difflineplus">+                     iconsize=&quot;small&quot;</span>
<a href="#l24.59"></a><span id="l24.59" class="difflineplus">+#endif</span>
<a href="#l24.60"></a><span id="l24.60" class="difflineplus">+                     defaultset=&quot;button-add-buddy,button-join-chat,spacer,chat-status-selector,button-chat-accounts,spacer,gloda-im-search,button-chat-appmenu&quot;/&gt;</span>
<a href="#l24.61"></a><span id="l24.61"> </span>
<a href="#l24.62"></a><span id="l24.62" class="difflineminus">-    &lt;menupopup id=&quot;buddyListContextMenu&quot;</span>
<a href="#l24.63"></a><span id="l24.63" class="difflineminus">-               onpopupshowing=&quot;if (event.target != this) return true; gBuddyListContextMenu = new buddyListContextMenu(this); return gBuddyListContextMenu.shouldDisplay;&quot;</span>
<a href="#l24.64"></a><span id="l24.64" class="difflineminus">-               onpopuphiding=&quot;if (event.target == this) { gBuddyListContextMenu = null; }&quot;&gt;</span>
<a href="#l24.65"></a><span id="l24.65" class="difflineminus">-      &lt;menuitem id=&quot;context-openconversation&quot;</span>
<a href="#l24.66"></a><span id="l24.66" class="difflineminus">-                label=&quot;&amp;openConversationCmd.label;&quot;</span>
<a href="#l24.67"></a><span id="l24.67" class="difflineminus">-                accesskey=&quot;&amp;openConversationCmd.accesskey;&quot;</span>
<a href="#l24.68"></a><span id="l24.68" class="difflineminus">-                oncommand=&quot;gBuddyListContextMenu.openConversation();&quot;/&gt;</span>
<a href="#l24.69"></a><span id="l24.69" class="difflineminus">-      &lt;menuitem id=&quot;context-close-conversation&quot;</span>
<a href="#l24.70"></a><span id="l24.70" class="difflineminus">-                label=&quot;&amp;closeConversationCmd.label;&quot;</span>
<a href="#l24.71"></a><span id="l24.71" class="difflineminus">-                accesskey=&quot;&amp;closeConversationCmd.accesskey;&quot;</span>
<a href="#l24.72"></a><span id="l24.72" class="difflineminus">-                oncommand=&quot;gBuddyListContextMenu.closeConversation();&quot;/&gt;</span>
<a href="#l24.73"></a><span id="l24.73" class="difflineminus">-      &lt;menuseparator id=&quot;context-edit-buddy-separator&quot;/&gt;</span>
<a href="#l24.74"></a><span id="l24.74" class="difflineminus">-      &lt;menuitem id=&quot;context-alias&quot;</span>
<a href="#l24.75"></a><span id="l24.75" class="difflineminus">-                label=&quot;&amp;aliasCmd.label;&quot;</span>
<a href="#l24.76"></a><span id="l24.76" class="difflineminus">-                accesskey=&quot;&amp;aliasCmd.accesskey;&quot;</span>
<a href="#l24.77"></a><span id="l24.77" class="difflineminus">-                oncommand=&quot;gBuddyListContextMenu.alias();&quot;/&gt;</span>
<a href="#l24.78"></a><span id="l24.78" class="difflineminus">-      &lt;menuitem id=&quot;context-delete&quot;</span>
<a href="#l24.79"></a><span id="l24.79" class="difflineminus">-                label=&quot;&amp;deleteCmd.label;&quot;</span>
<a href="#l24.80"></a><span id="l24.80" class="difflineminus">-                accesskey=&quot;&amp;deleteCmd.accesskey;&quot;</span>
<a href="#l24.81"></a><span id="l24.81" class="difflineminus">-                oncommand=&quot;gBuddyListContextMenu.delete();&quot;/&gt;</span>
<a href="#l24.82"></a><span id="l24.82" class="difflineminus">-    &lt;/menupopup&gt;</span>
<a href="#l24.83"></a><span id="l24.83" class="difflineminus">-</span>
<a href="#l24.84"></a><span id="l24.84" class="difflineminus">-    &lt;menupopup id=&quot;chatConversationContextMenu&quot;</span>
<a href="#l24.85"></a><span id="l24.85" class="difflineminus">-               onpopupshowing=&quot;if (event.target != this) return true; gChatContextMenu = new imContextMenu(this); return gChatContextMenu.shouldDisplay;&quot;</span>
<a href="#l24.86"></a><span id="l24.86" class="difflineminus">-               onpopuphiding=&quot;if (event.target == this &amp;amp;&amp;amp; gChatContextMenu) { gChatContextMenu.cleanup(); gChatContextMenu = null; }&quot;&gt;</span>
<a href="#l24.87"></a><span id="l24.87" class="difflineminus">-      &lt;menuitem id=&quot;context-openlink&quot;</span>
<a href="#l24.88"></a><span id="l24.88" class="difflineminus">-                label=&quot;&amp;openLinkCmd.label;&quot;</span>
<a href="#l24.89"></a><span id="l24.89" class="difflineminus">-                accesskey=&quot;&amp;openLinkCmd.accesskey;&quot;</span>
<a href="#l24.90"></a><span id="l24.90" class="difflineminus">-                oncommand=&quot;gChatContextMenu.openLink();&quot;/&gt;</span>
<a href="#l24.91"></a><span id="l24.91" class="difflineminus">-      &lt;menuitem id=&quot;context-copyemail&quot;</span>
<a href="#l24.92"></a><span id="l24.92" class="difflineminus">-                label=&quot;&amp;copyEmailCmd.label;&quot;</span>
<a href="#l24.93"></a><span id="l24.93" class="difflineminus">-                accesskey=&quot;&amp;copyEmailCmd.accesskey;&quot;</span>
<a href="#l24.94"></a><span id="l24.94" class="difflineminus">-                oncommand=&quot;gChatContextMenu.copyEmail();&quot;/&gt;</span>
<a href="#l24.95"></a><span id="l24.95" class="difflineminus">-      &lt;menuitem id=&quot;context-copylink&quot;</span>
<a href="#l24.96"></a><span id="l24.96" class="difflineminus">-                label=&quot;&amp;copyLinkCmd.label;&quot;</span>
<a href="#l24.97"></a><span id="l24.97" class="difflineminus">-                accesskey=&quot;&amp;copyLinkCmd.accesskey;&quot;</span>
<a href="#l24.98"></a><span id="l24.98" class="difflineminus">-                oncommand=&quot;goDoCommand('cmd_copyLink');&quot;/&gt;</span>
<a href="#l24.99"></a><span id="l24.99" class="difflineminus">-      &lt;menuseparator id=&quot;context-sep-copylink&quot;/&gt;</span>
<a href="#l24.100"></a><span id="l24.100" class="difflineminus">-</span>
<a href="#l24.101"></a><span id="l24.101" class="difflineminus">-      &lt;menuitem id=&quot;context-copy&quot;</span>
<a href="#l24.102"></a><span id="l24.102" class="difflineminus">-                label=&quot;&amp;copyCmd.label;&quot;</span>
<a href="#l24.103"></a><span id="l24.103" class="difflineminus">-                accesskey=&quot;&amp;copyCmd.accesskey;&quot;</span>
<a href="#l24.104"></a><span id="l24.104" class="difflineminus">-                command=&quot;cmd_copy&quot;/&gt;</span>
<a href="#l24.105"></a><span id="l24.105" class="difflineminus">-      &lt;menuitem id=&quot;context-selectall&quot;</span>
<a href="#l24.106"></a><span id="l24.106" class="difflineminus">-                label=&quot;&amp;selectAllCmd.label;&quot;</span>
<a href="#l24.107"></a><span id="l24.107" class="difflineminus">-                accesskey=&quot;&amp;selectAllCmd.accesskey;&quot;</span>
<a href="#l24.108"></a><span id="l24.108" class="difflineminus">-                command=&quot;cmd_selectAll&quot;/&gt;</span>
<a href="#l24.109"></a><span id="l24.109" class="difflineminus">-      &lt;menuseparator id=&quot;context-sep-messageactions&quot;/&gt;</span>
<a href="#l24.110"></a><span id="l24.110" class="difflineminus">-    &lt;/menupopup&gt;</span>
<a href="#l24.111"></a><span id="l24.111" class="difflineminus">-</span>
<a href="#l24.112"></a><span id="l24.112" class="difflineminus">-    &lt;menupopup id=&quot;chat-toolbar-context-menu&quot;&gt;</span>
<a href="#l24.113"></a><span id="l24.113" class="difflineminus">-      &lt;menuitem id=&quot;CustomizeChatToolbar&quot;</span>
<a href="#l24.114"></a><span id="l24.114" class="difflineminus">-                oncommand=&quot;CustomizeMailToolbar('chat-view-toolbox', 'CustomizeChatToolbar')&quot;</span>
<a href="#l24.115"></a><span id="l24.115" class="difflineminus">-                label=&quot;&amp;customizeToolbar.label;&quot;</span>
<a href="#l24.116"></a><span id="l24.116" class="difflineminus">-                accesskey=&quot;&amp;customizeToolbar.accesskey;&quot;/&gt;</span>
<a href="#l24.117"></a><span id="l24.117" class="difflineminus">-    &lt;/menupopup&gt;</span>
<a href="#l24.118"></a><span id="l24.118" class="difflineminus">-  &lt;/popupset&gt;</span>
<a href="#l24.119"></a><span id="l24.119" class="difflineminus">-</span>
<a href="#l24.120"></a><span id="l24.120" class="difflineminus">-  &lt;tabpanels id=&quot;tabpanelcontainer&quot;&gt;</span>
<a href="#l24.121"></a><span id="l24.121" class="difflineminus">-    &lt;vbox&gt;</span>
<a href="#l24.122"></a><span id="l24.122" class="difflineminus">-      &lt;toolbox id=&quot;chat-view-toolbox&quot; class=&quot;mail-toolbox&quot;</span>
<a href="#l24.123"></a><span id="l24.123" class="difflineminus">-               mode=&quot;full&quot; defaultmode=&quot;full&quot;</span>
<a href="#l24.124"></a><span id="l24.124" class="difflineminus">-               labelalign=&quot;end&quot; defaultlabelalign=&quot;end&quot;&gt;</span>
<a href="#l24.125"></a><span id="l24.125" class="difflineminus">-        &lt;toolbar class=&quot;inline-toolbar chromeclass-toolbar&quot;</span>
<a href="#l24.126"></a><span id="l24.126" class="difflineminus">-                 id=&quot;chat-toobar&quot;</span>
<a href="#l24.127"></a><span id="l24.127" class="difflineminus">-                 fullscreentoolbar=&quot;true&quot;</span>
<a href="#l24.128"></a><span id="l24.128" class="difflineminus">-                 customizable=&quot;true&quot;</span>
<a href="#l24.129"></a><span id="l24.129" class="difflineminus">-                 context=&quot;chat-toolbar-context-menu&quot;</span>
<a href="#l24.130"></a><span id="l24.130" class="difflineminus">-                 mode=&quot;full&quot;</span>
<a href="#l24.131"></a><span id="l24.131" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l24.132"></a><span id="l24.132" class="difflineminus">-                 iconsize=&quot;small&quot;</span>
<a href="#l24.133"></a><span id="l24.133" class="difflineminus">-#endif</span>
<a href="#l24.134"></a><span id="l24.134" class="difflineminus">-                 defaultset=&quot;button-add-buddy,button-join-chat,spacer,chat-status-selector,button-chat-accounts,spacer,gloda-im-search,button-chat-appmenu&quot;/&gt;</span>
<a href="#l24.135"></a><span id="l24.135" class="difflineplus">+            &lt;toolbarpalette id=&quot;ChatToolbarPalette&quot;&gt;</span>
<a href="#l24.136"></a><span id="l24.136" class="difflineplus">+              &lt;toolbarbutton id=&quot;button-add-buddy&quot;</span>
<a href="#l24.137"></a><span id="l24.137" class="difflineplus">+                             class=&quot;toolbarbutton-1&quot;</span>
<a href="#l24.138"></a><span id="l24.138" class="difflineplus">+                             label=&quot;&amp;addBuddyButton.label;&quot;</span>
<a href="#l24.139"></a><span id="l24.139" class="difflineplus">+                             oncommand=&quot;chatHandler.addBuddy()&quot;/&gt;</span>
<a href="#l24.140"></a><span id="l24.140" class="difflineplus">+              &lt;toolbarbutton id=&quot;button-join-chat&quot;</span>
<a href="#l24.141"></a><span id="l24.141" class="difflineplus">+                             class=&quot;toolbarbutton-1&quot;</span>
<a href="#l24.142"></a><span id="l24.142" class="difflineplus">+                             label=&quot;&amp;joinChatButton.label;&quot;</span>
<a href="#l24.143"></a><span id="l24.143" class="difflineplus">+                             oncommand=&quot;chatHandler.joinChat()&quot;/&gt;</span>
<a href="#l24.144"></a><span id="l24.144" class="difflineplus">+              &lt;toolbaritem id=&quot;chat-status-selector&quot;</span>
<a href="#l24.145"></a><span id="l24.145" class="difflineplus">+                           orient=&quot;horizontal&quot;</span>
<a href="#l24.146"></a><span id="l24.146" class="difflineplus">+                           align=&quot;center&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.147"></a><span id="l24.147" class="difflineplus">+                &lt;toolbarbutton type=&quot;menu&quot;</span>
<a href="#l24.148"></a><span id="l24.148" class="difflineplus">+                               id=&quot;statusTypeIcon&quot;</span>
<a href="#l24.149"></a><span id="l24.149" class="difflineplus">+                               class=&quot;toolbarbutton-1&quot;</span>
<a href="#l24.150"></a><span id="l24.150" class="difflineplus">+                               status=&quot;available&quot;&gt;</span>
<a href="#l24.151"></a><span id="l24.151" class="difflineplus">+                  &lt;menupopup id=&quot;setStatusTypeMenupopup&quot;</span>
<a href="#l24.152"></a><span id="l24.152" class="difflineplus">+                             oncommand=&quot;statusSelector.editStatus(event);&quot;&gt;</span>
<a href="#l24.153"></a><span id="l24.153" class="difflineplus">+                    &lt;menuitem id=&quot;statusTypeAvailable&quot; label=&quot;&amp;status.available;&quot;</span>
<a href="#l24.154"></a><span id="l24.154" class="difflineplus">+                              status=&quot;available&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l24.155"></a><span id="l24.155" class="difflineplus">+                    &lt;menuitem id=&quot;statusTypeUnavailable&quot; label=&quot;&amp;status.unavailable;&quot;</span>
<a href="#l24.156"></a><span id="l24.156" class="difflineplus">+                              status=&quot;unavailable&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l24.157"></a><span id="l24.157" class="difflineplus">+                    &lt;menuseparator id=&quot;statusTypeOfflineSeparator&quot;/&gt;</span>
<a href="#l24.158"></a><span id="l24.158" class="difflineplus">+                    &lt;menuitem id=&quot;statusTypeOffline&quot; label=&quot;&amp;status.offline;&quot;</span>
<a href="#l24.159"></a><span id="l24.159" class="difflineplus">+                              status=&quot;offline&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l24.160"></a><span id="l24.160" class="difflineplus">+                  &lt;/menupopup&gt;</span>
<a href="#l24.161"></a><span id="l24.161" class="difflineplus">+                &lt;/toolbarbutton&gt;</span>
<a href="#l24.162"></a><span id="l24.162" class="difflineplus">+                &lt;label id=&quot;statusMessage&quot; crop=&quot;end&quot; flex=&quot;1&quot; value=&quot;&quot;</span>
<a href="#l24.163"></a><span id="l24.163" class="difflineplus">+                       class=&quot;statusMessageToolbarItem&quot;</span>
<a href="#l24.164"></a><span id="l24.164" class="difflineplus">+                       onclick=&quot;statusSelector.statusMessageClick();&quot;/&gt;</span>
<a href="#l24.165"></a><span id="l24.165" class="difflineplus">+              &lt;/toolbaritem&gt;</span>
<a href="#l24.166"></a><span id="l24.166" class="difflineplus">+              &lt;toolbarbutton id=&quot;button-chat-accounts&quot;</span>
<a href="#l24.167"></a><span id="l24.167" class="difflineplus">+                             class=&quot;toolbarbutton-1&quot;</span>
<a href="#l24.168"></a><span id="l24.168" class="difflineplus">+                             label=&quot;&amp;chatAccountsButton.label;&quot;</span>
<a href="#l24.169"></a><span id="l24.169" class="difflineplus">+                             oncommand=&quot;openIMAccountMgr()&quot;/&gt;</span>
<a href="#l24.170"></a><span id="l24.170"> </span>
<a href="#l24.171"></a><span id="l24.171" class="difflineminus">-        &lt;toolbarpalette id=&quot;ChatToolbarPalette&quot;&gt;</span>
<a href="#l24.172"></a><span id="l24.172" class="difflineminus">-          &lt;toolbarbutton id=&quot;button-add-buddy&quot;</span>
<a href="#l24.173"></a><span id="l24.173" class="difflineminus">-                         class=&quot;toolbarbutton-1&quot;</span>
<a href="#l24.174"></a><span id="l24.174" class="difflineminus">-                         label=&quot;&amp;addBuddyButton.label;&quot;</span>
<a href="#l24.175"></a><span id="l24.175" class="difflineminus">-                         oncommand=&quot;chatHandler.addBuddy()&quot;/&gt;</span>
<a href="#l24.176"></a><span id="l24.176" class="difflineminus">-          &lt;toolbarbutton id=&quot;button-join-chat&quot;</span>
<a href="#l24.177"></a><span id="l24.177" class="difflineminus">-                         class=&quot;toolbarbutton-1&quot;</span>
<a href="#l24.178"></a><span id="l24.178" class="difflineminus">-                         label=&quot;&amp;joinChatButton.label;&quot;</span>
<a href="#l24.179"></a><span id="l24.179" class="difflineminus">-                         oncommand=&quot;chatHandler.joinChat()&quot;/&gt;</span>
<a href="#l24.180"></a><span id="l24.180" class="difflineminus">-          &lt;toolbaritem id=&quot;chat-status-selector&quot;</span>
<a href="#l24.181"></a><span id="l24.181" class="difflineminus">-                       orient=&quot;horizontal&quot;</span>
<a href="#l24.182"></a><span id="l24.182" class="difflineminus">-                       align=&quot;center&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.183"></a><span id="l24.183" class="difflineminus">-            &lt;toolbarbutton type=&quot;menu&quot;</span>
<a href="#l24.184"></a><span id="l24.184" class="difflineminus">-                           id=&quot;statusTypeIcon&quot;</span>
<a href="#l24.185"></a><span id="l24.185" class="difflineminus">-                           class=&quot;toolbarbutton-1&quot;</span>
<a href="#l24.186"></a><span id="l24.186" class="difflineminus">-                           status=&quot;available&quot;&gt;</span>
<a href="#l24.187"></a><span id="l24.187" class="difflineminus">-              &lt;menupopup id=&quot;setStatusTypeMenupopup&quot;</span>
<a href="#l24.188"></a><span id="l24.188" class="difflineminus">-                         oncommand=&quot;statusSelector.editStatus(event);&quot;&gt;</span>
<a href="#l24.189"></a><span id="l24.189" class="difflineminus">-                &lt;menuitem id=&quot;statusTypeAvailable&quot; label=&quot;&amp;status.available;&quot;</span>
<a href="#l24.190"></a><span id="l24.190" class="difflineminus">-                          status=&quot;available&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l24.191"></a><span id="l24.191" class="difflineminus">-                &lt;menuitem id=&quot;statusTypeUnavailable&quot; label=&quot;&amp;status.unavailable;&quot;</span>
<a href="#l24.192"></a><span id="l24.192" class="difflineminus">-                          status=&quot;unavailable&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l24.193"></a><span id="l24.193" class="difflineminus">-                &lt;menuseparator id=&quot;statusTypeOfflineSeparator&quot;/&gt;</span>
<a href="#l24.194"></a><span id="l24.194" class="difflineminus">-                &lt;menuitem id=&quot;statusTypeOffline&quot; label=&quot;&amp;status.offline;&quot;</span>
<a href="#l24.195"></a><span id="l24.195" class="difflineminus">-                          status=&quot;offline&quot; class=&quot;menuitem-iconic&quot;/&gt;</span>
<a href="#l24.196"></a><span id="l24.196" class="difflineminus">-              &lt;/menupopup&gt;</span>
<a href="#l24.197"></a><span id="l24.197" class="difflineminus">-            &lt;/toolbarbutton&gt;</span>
<a href="#l24.198"></a><span id="l24.198" class="difflineminus">-            &lt;label id=&quot;statusMessage&quot; crop=&quot;end&quot; flex=&quot;1&quot; value=&quot;&quot;</span>
<a href="#l24.199"></a><span id="l24.199" class="difflineminus">-                   class=&quot;statusMessageToolbarItem&quot;</span>
<a href="#l24.200"></a><span id="l24.200" class="difflineminus">-                   onclick=&quot;statusSelector.statusMessageClick();&quot;/&gt;</span>
<a href="#l24.201"></a><span id="l24.201" class="difflineminus">-          &lt;/toolbaritem&gt;</span>
<a href="#l24.202"></a><span id="l24.202" class="difflineminus">-          &lt;toolbarbutton id=&quot;button-chat-accounts&quot;</span>
<a href="#l24.203"></a><span id="l24.203" class="difflineminus">-                         class=&quot;toolbarbutton-1&quot;</span>
<a href="#l24.204"></a><span id="l24.204" class="difflineminus">-                         label=&quot;&amp;chatAccountsButton.label;&quot;</span>
<a href="#l24.205"></a><span id="l24.205" class="difflineminus">-                         oncommand=&quot;openIMAccountMgr()&quot;/&gt;</span>
<a href="#l24.206"></a><span id="l24.206" class="difflineplus">+              &lt;toolbaritem id=&quot;gloda-im-search&quot; insertafter=&quot;button-stop&quot;</span>
<a href="#l24.207"></a><span id="l24.207" class="difflineplus">+                           title=&quot;&amp;amp;glodaSearch.title;&quot;</span>
<a href="#l24.208"></a><span id="l24.208" class="difflineplus">+                           align=&quot;center&quot;</span>
<a href="#l24.209"></a><span id="l24.209" class="difflineplus">+                           flex=&quot;1&quot;</span>
<a href="#l24.210"></a><span id="l24.210" class="difflineplus">+                           class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l24.211"></a><span id="l24.211" class="difflineplus">+                &lt;textbox id=&quot;IMSearchInput&quot;</span>
<a href="#l24.212"></a><span id="l24.212" class="difflineplus">+                         class=&quot;searchBox&quot;</span>
<a href="#l24.213"></a><span id="l24.213" class="difflineplus">+                         flex=&quot;1&quot;</span>
<a href="#l24.214"></a><span id="l24.214" class="difflineplus">+                         type=&quot;glodacomplete&quot;</span>
<a href="#l24.215"></a><span id="l24.215" class="difflineplus">+                         searchbutton=&quot;true&quot;</span>
<a href="#l24.216"></a><span id="l24.216" class="difflineplus">+                         autocompletesearch=&quot;gloda&quot;</span>
<a href="#l24.217"></a><span id="l24.217" class="difflineplus">+                         autocompletepopup=&quot;PopupGlodaAutocomplete&quot;</span>
<a href="#l24.218"></a><span id="l24.218" class="difflineplus">+                         autocompletesearchparam=&quot;global&quot;</span>
<a href="#l24.219"></a><span id="l24.219" class="difflineplus">+                         timeout=&quot;200&quot;</span>
<a href="#l24.220"></a><span id="l24.220" class="difflineplus">+                         maxlength=&quot;192&quot;</span>
<a href="#l24.221"></a><span id="l24.221" class="difflineplus">+                         placeholder=&quot;&quot;</span>
<a href="#l24.222"></a><span id="l24.222" class="difflineplus">+                         emptytextbase=&quot;&amp;search.label.base1;&quot;</span>
<a href="#l24.223"></a><span id="l24.223" class="difflineplus">+                         keyLabelNonMac=&quot;&amp;search.keyLabel.nonmac;&quot;</span>
<a href="#l24.224"></a><span id="l24.224" class="difflineplus">+                         keyLabelMac=&quot;&amp;search.keyLabel.mac;&quot;</span>
<a href="#l24.225"></a><span id="l24.225" class="difflineplus">+                         &gt;</span>
<a href="#l24.226"></a><span id="l24.226" class="difflineplus">+                  &lt;!-- Mimic the search/clear buttons of the standard search textbox,</span>
<a href="#l24.227"></a><span id="l24.227" class="difflineplus">+                       but adjust for the reality that clear doesn't make much sense</span>
<a href="#l24.228"></a><span id="l24.228" class="difflineplus">+                       since gloda results only show in a tab and the idiom for closing</span>
<a href="#l24.229"></a><span id="l24.229" class="difflineplus">+                       tabs is closing the tab.  Our binding does process escape to</span>
<a href="#l24.230"></a><span id="l24.230" class="difflineplus">+                       clear the box, if people want to clear it that way...</span>
<a href="#l24.231"></a><span id="l24.231" class="difflineplus">+                    --&gt;</span>
<a href="#l24.232"></a><span id="l24.232" class="difflineplus">+                  &lt;hbox&gt;</span>
<a href="#l24.233"></a><span id="l24.233" class="difflineplus">+                    &lt;image class=&quot;gloda-search-icon&quot;/&gt;</span>
<a href="#l24.234"></a><span id="l24.234" class="difflineplus">+                  &lt;/hbox&gt;</span>
<a href="#l24.235"></a><span id="l24.235" class="difflineplus">+                &lt;/textbox&gt;</span>
<a href="#l24.236"></a><span id="l24.236" class="difflineplus">+              &lt;/toolbaritem&gt;</span>
<a href="#l24.237"></a><span id="l24.237" class="difflineplus">+              &lt;toolbarbutton id=&quot;button-chat-appmenu&quot;</span>
<a href="#l24.238"></a><span id="l24.238" class="difflineplus">+                             class=&quot;toolbarbutton-1 button-appmenu&quot;</span>
<a href="#l24.239"></a><span id="l24.239" class="difflineplus">+                             label=&quot;&amp;appmenuButton.label;&quot;</span>
<a href="#l24.240"></a><span id="l24.240" class="difflineplus">+                             tooltiptext=&quot;&amp;appmenuButton1.tooltip;&quot;/&gt;</span>
<a href="#l24.241"></a><span id="l24.241" class="difflineplus">+            &lt;/toolbarpalette&gt;</span>
<a href="#l24.242"></a><span id="l24.242" class="difflineplus">+            &lt;toolbarset id=&quot;customChatToolbars&quot; context=&quot;chat-toolbar-context-menu&quot;/&gt;</span>
<a href="#l24.243"></a><span id="l24.243" class="difflineplus">+          &lt;/toolbox&gt;</span>
<a href="#l24.244"></a><span id="l24.244"> </span>
<a href="#l24.245"></a><span id="l24.245" class="difflineminus">-          &lt;toolbaritem id=&quot;gloda-im-search&quot; insertafter=&quot;button-stop&quot;</span>
<a href="#l24.246"></a><span id="l24.246" class="difflineminus">-                       title=&quot;&amp;amp;glodaSearch.title;&quot;</span>
<a href="#l24.247"></a><span id="l24.247" class="difflineminus">-                       align=&quot;center&quot;</span>
<a href="#l24.248"></a><span id="l24.248" class="difflineminus">-                       flex=&quot;1&quot;</span>
<a href="#l24.249"></a><span id="l24.249" class="difflineminus">-                       class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l24.250"></a><span id="l24.250" class="difflineminus">-            &lt;textbox id=&quot;IMSearchInput&quot;</span>
<a href="#l24.251"></a><span id="l24.251" class="difflineminus">-                     class=&quot;searchBox&quot;</span>
<a href="#l24.252"></a><span id="l24.252" class="difflineminus">-                     flex=&quot;1&quot;</span>
<a href="#l24.253"></a><span id="l24.253" class="difflineminus">-                     type=&quot;glodacomplete&quot;</span>
<a href="#l24.254"></a><span id="l24.254" class="difflineminus">-                     searchbutton=&quot;true&quot;</span>
<a href="#l24.255"></a><span id="l24.255" class="difflineminus">-                     autocompletesearch=&quot;gloda&quot;</span>
<a href="#l24.256"></a><span id="l24.256" class="difflineminus">-                     autocompletepopup=&quot;PopupGlodaAutocomplete&quot;</span>
<a href="#l24.257"></a><span id="l24.257" class="difflineminus">-                     autocompletesearchparam=&quot;global&quot;</span>
<a href="#l24.258"></a><span id="l24.258" class="difflineminus">-                     timeout=&quot;200&quot;</span>
<a href="#l24.259"></a><span id="l24.259" class="difflineminus">-                     maxlength=&quot;192&quot;</span>
<a href="#l24.260"></a><span id="l24.260" class="difflineminus">-                     placeholder=&quot;&quot;</span>
<a href="#l24.261"></a><span id="l24.261" class="difflineminus">-                     emptytextbase=&quot;&amp;search.label.base1;&quot;</span>
<a href="#l24.262"></a><span id="l24.262" class="difflineminus">-                     keyLabelNonMac=&quot;&amp;search.keyLabel.nonmac;&quot;</span>
<a href="#l24.263"></a><span id="l24.263" class="difflineminus">-                     keyLabelMac=&quot;&amp;search.keyLabel.mac;&quot;</span>
<a href="#l24.264"></a><span id="l24.264" class="difflineminus">-                     &gt;</span>
<a href="#l24.265"></a><span id="l24.265" class="difflineminus">-              &lt;!-- Mimic the search/clear buttons of the standard search textbox,</span>
<a href="#l24.266"></a><span id="l24.266" class="difflineminus">-                   but adjust for the reality that clear doesn't make much sense</span>
<a href="#l24.267"></a><span id="l24.267" class="difflineminus">-                   since gloda results only show in a tab and the idiom for closing</span>
<a href="#l24.268"></a><span id="l24.268" class="difflineminus">-                   tabs is closing the tab.  Our binding does process escape to</span>
<a href="#l24.269"></a><span id="l24.269" class="difflineminus">-                   clear the box, if people want to clear it that way...</span>
<a href="#l24.270"></a><span id="l24.270" class="difflineminus">-                --&gt;</span>
<a href="#l24.271"></a><span id="l24.271" class="difflineminus">-              &lt;hbox&gt;</span>
<a href="#l24.272"></a><span id="l24.272" class="difflineminus">-                &lt;image class=&quot;gloda-search-icon&quot;/&gt;</span>
<a href="#l24.273"></a><span id="l24.273" class="difflineminus">-              &lt;/hbox&gt;</span>
<a href="#l24.274"></a><span id="l24.274" class="difflineminus">-            &lt;/textbox&gt;</span>
<a href="#l24.275"></a><span id="l24.275" class="difflineminus">-          &lt;/toolbaritem&gt;</span>
<a href="#l24.276"></a><span id="l24.276" class="difflineminus">-          &lt;toolbarbutton id=&quot;button-chat-appmenu&quot;</span>
<a href="#l24.277"></a><span id="l24.277" class="difflineminus">-                         class=&quot;toolbarbutton-1 button-appmenu&quot;</span>
<a href="#l24.278"></a><span id="l24.278" class="difflineminus">-                         label=&quot;&amp;appmenuButton.label;&quot;</span>
<a href="#l24.279"></a><span id="l24.279" class="difflineminus">-                         tooltiptext=&quot;&amp;appmenuButton1.tooltip;&quot;/&gt;</span>
<a href="#l24.280"></a><span id="l24.280" class="difflineminus">-        &lt;/toolbarpalette&gt;</span>
<a href="#l24.281"></a><span id="l24.281" class="difflineminus">-        &lt;toolbarset id=&quot;customChatToolbars&quot; context=&quot;chat-toolbar-context-menu&quot;/&gt;</span>
<a href="#l24.282"></a><span id="l24.282" class="difflineminus">-      &lt;/toolbox&gt;</span>
<a href="#l24.283"></a><span id="l24.283" class="difflineminus">-</span>
<a href="#l24.284"></a><span id="l24.284" class="difflineminus">-      &lt;notificationbox id=&quot;chatTabPanel&quot; flex=&quot;1&quot; notificationside=&quot;top&quot;&gt;</span>
<a href="#l24.285"></a><span id="l24.285" class="difflineminus">-        &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l24.286"></a><span id="l24.286" class="difflineminus">-          &lt;vbox id=&quot;listPaneBox&quot; minwidth=&quot;125&quot; width=&quot;200&quot; persist=&quot;width&quot;&gt;</span>
<a href="#l24.287"></a><span id="l24.287" class="difflineminus">-            &lt;richlistbox id=&quot;contactlistbox&quot;</span>
<a href="#l24.288"></a><span id="l24.288" class="difflineminus">-                         context=&quot;buddyListContextMenu&quot;</span>
<a href="#l24.289"></a><span id="l24.289" class="difflineminus">-                         tooltip=&quot;imTooltip&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.290"></a><span id="l24.290" class="difflineminus">-              &lt;imgroup id=&quot;conversationsGroup&quot; name=&quot;&amp;conversationsHeader.label;&quot;/&gt;</span>
<a href="#l24.291"></a><span id="l24.291" class="difflineminus">-              &lt;imconv id=&quot;searchResultConv&quot; displayname=&quot;&amp;searchResultConversation.label;&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l24.292"></a><span id="l24.292" class="difflineminus">-              &lt;imgroup id=&quot;onlinecontactsGroup&quot; name=&quot;&amp;onlineContactsHeader.label;&quot;/&gt;</span>
<a href="#l24.293"></a><span id="l24.293" class="difflineminus">-              &lt;imgroup id=&quot;offlinecontactsGroup&quot; name=&quot;&amp;offlineContactsHeader.label;&quot; closed=&quot;true&quot;/&gt;</span>
<a href="#l24.294"></a><span id="l24.294" class="difflineminus">-            &lt;/richlistbox&gt;</span>
<a href="#l24.295"></a><span id="l24.295" class="difflineminus">-          &lt;/vbox&gt;</span>
<a href="#l24.296"></a><span id="l24.296" class="difflineminus">-          &lt;splitter id=&quot;listSplitter&quot; collapse=&quot;before&quot;/&gt;</span>
<a href="#l24.297"></a><span id="l24.297" class="difflineminus">-          &lt;deck id=&quot;conversationsDeck&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.298"></a><span id="l24.298" class="difflineminus">-            &lt;vbox flex=&quot;1&quot; id=&quot;noConvScreen&quot; class=&quot;im-placeholder-screen&quot; align=&quot;center&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l24.299"></a><span id="l24.299" class="difflineminus">-              &lt;hbox id=&quot;noConvBox&quot; class=&quot;im-placeholder-box&quot; align=&quot;top&quot;&gt;</span>
<a href="#l24.300"></a><span id="l24.300" class="difflineminus">-                &lt;vbox id=&quot;noConvInnerBox&quot; class=&quot;im-placeholder-innerbox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.301"></a><span id="l24.301" class="difflineminus">-                  &lt;label id=&quot;noConvTitle&quot; class=&quot;im-placeholder-title&quot;&gt;&amp;chat.noConv.title;&lt;/label&gt;</span>
<a href="#l24.302"></a><span id="l24.302" class="difflineminus">-                  &lt;description id=&quot;noConvDesc&quot;</span>
<a href="#l24.303"></a><span id="l24.303" class="difflineminus">-                               class=&quot;im-placeholder-desc&quot;&gt;&amp;chat.noConv.description;&lt;/description&gt;</span>
<a href="#l24.304"></a><span id="l24.304" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l24.305"></a><span id="l24.305" class="difflineminus">-                &lt;vbox id=&quot;noAccountInnerBox&quot; class=&quot;im-placeholder-innerbox&quot; flex=&quot;1&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l24.306"></a><span id="l24.306" class="difflineminus">-                  &lt;label id=&quot;noAccountTitle&quot; class=&quot;im-placeholder-title&quot;&gt;&amp;chat.noAccount.title;&lt;/label&gt;</span>
<a href="#l24.307"></a><span id="l24.307" class="difflineminus">-                  &lt;description id=&quot;noAccountDesc&quot;</span>
<a href="#l24.308"></a><span id="l24.308" class="difflineminus">-                               class=&quot;im-placeholder-desc&quot;&gt;&amp;chat.noAccount.description;&lt;/description&gt;</span>
<a href="#l24.309"></a><span id="l24.309" class="difflineminus">-                  &lt;hbox class=&quot;im-placeholder-button-box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.310"></a><span id="l24.310" class="difflineminus">-                    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l24.311"></a><span id="l24.311" class="difflineminus">-                    &lt;button id=&quot;openIMAccountWizardButton&quot; label=&quot;&amp;chat.accountWizard.button;&quot;</span>
<a href="#l24.312"></a><span id="l24.312" class="difflineminus">-                            oncommand=&quot;openIMAccountWizard();&quot;/&gt;</span>
<a href="#l24.313"></a><span id="l24.313" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l24.314"></a><span id="l24.314" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l24.315"></a><span id="l24.315" class="difflineminus">-                &lt;vbox id=&quot;noConnectedAccountInnerBox&quot; class=&quot;im-placeholder-innerbox&quot; flex=&quot;1&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l24.316"></a><span id="l24.316" class="difflineminus">-                  &lt;label id=&quot;noConnectedAccountTitle&quot;</span>
<a href="#l24.317"></a><span id="l24.317" class="difflineminus">-                         class=&quot;im-placeholder-title&quot;&gt;&amp;chat.noConnectedAccount.title;&lt;/label&gt;</span>
<a href="#l24.318"></a><span id="l24.318" class="difflineminus">-                  &lt;description id=&quot;noConnectedAccountDesc&quot;</span>
<a href="#l24.319"></a><span id="l24.319" class="difflineminus">-                               class=&quot;im-placeholder-desc&quot;&gt;&amp;chat.noConnectedAccount.description;&lt;/description&gt;</span>
<a href="#l24.320"></a><span id="l24.320" class="difflineminus">-                  &lt;hbox class=&quot;im-placeholder-button-box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.321"></a><span id="l24.321" class="difflineminus">-                    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l24.322"></a><span id="l24.322" class="difflineminus">-                    &lt;button id=&quot;openIMAccountManagerButton&quot; label=&quot;&amp;chat.showAccountManager.button;&quot;</span>
<a href="#l24.323"></a><span id="l24.323" class="difflineminus">-                            oncommand=&quot;openIMAccountMgr();&quot;/&gt;</span>
<a href="#l24.324"></a><span id="l24.324" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l24.325"></a><span id="l24.325" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l24.326"></a><span id="l24.326" class="difflineminus">-              &lt;/hbox&gt;</span>
<a href="#l24.327"></a><span id="l24.327" class="difflineminus">-            &lt;/vbox&gt;</span>
<a href="#l24.328"></a><span id="l24.328" class="difflineminus">-            &lt;vbox id=&quot;logDisplay&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.329"></a><span id="l24.329" class="difflineminus">-              &lt;deck id=&quot;logDisplayDeck&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.330"></a><span id="l24.330" class="difflineminus">-                &lt;vbox flex=&quot;1&quot; id=&quot;noPreviousConvScreen&quot; class=&quot;im-placeholder-screen&quot; align=&quot;center&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l24.331"></a><span id="l24.331" class="difflineminus">-                  &lt;hbox id=&quot;noPreviousConvBox&quot; class=&quot;im-placeholder-box&quot; align=&quot;top&quot;&gt;</span>
<a href="#l24.332"></a><span id="l24.332" class="difflineminus">-                    &lt;vbox id=&quot;noPreviousConvInnerBox&quot; class=&quot;im-placeholder-innerbox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.333"></a><span id="l24.333" class="difflineminus">-                      &lt;description id=&quot;noPreviousConvDesc&quot;</span>
<a href="#l24.334"></a><span id="l24.334" class="difflineminus">-                                   class=&quot;im-placeholder-desc&quot;&gt;&amp;chat.noPreviousConv.description;&lt;/description&gt;</span>
<a href="#l24.335"></a><span id="l24.335" class="difflineplus">+          &lt;notificationbox id=&quot;chatTabPanel&quot; flex=&quot;1&quot; notificationside=&quot;top&quot;&gt;</span>
<a href="#l24.336"></a><span id="l24.336" class="difflineplus">+            &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l24.337"></a><span id="l24.337" class="difflineplus">+              &lt;vbox id=&quot;listPaneBox&quot; minwidth=&quot;125&quot; width=&quot;200&quot; persist=&quot;width&quot;&gt;</span>
<a href="#l24.338"></a><span id="l24.338" class="difflineplus">+                &lt;richlistbox id=&quot;contactlistbox&quot;</span>
<a href="#l24.339"></a><span id="l24.339" class="difflineplus">+                             context=&quot;buddyListContextMenu&quot;</span>
<a href="#l24.340"></a><span id="l24.340" class="difflineplus">+                             tooltip=&quot;imTooltip&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.341"></a><span id="l24.341" class="difflineplus">+                  &lt;imgroup id=&quot;conversationsGroup&quot; name=&quot;&amp;conversationsHeader.label;&quot;/&gt;</span>
<a href="#l24.342"></a><span id="l24.342" class="difflineplus">+                  &lt;imconv id=&quot;searchResultConv&quot; displayname=&quot;&amp;searchResultConversation.label;&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l24.343"></a><span id="l24.343" class="difflineplus">+                  &lt;imgroup id=&quot;onlinecontactsGroup&quot; name=&quot;&amp;onlineContactsHeader.label;&quot;/&gt;</span>
<a href="#l24.344"></a><span id="l24.344" class="difflineplus">+                  &lt;imgroup id=&quot;offlinecontactsGroup&quot; name=&quot;&amp;offlineContactsHeader.label;&quot; closed=&quot;true&quot;/&gt;</span>
<a href="#l24.345"></a><span id="l24.345" class="difflineplus">+                &lt;/richlistbox&gt;</span>
<a href="#l24.346"></a><span id="l24.346" class="difflineplus">+              &lt;/vbox&gt;</span>
<a href="#l24.347"></a><span id="l24.347" class="difflineplus">+              &lt;splitter id=&quot;listSplitter&quot; collapse=&quot;before&quot;/&gt;</span>
<a href="#l24.348"></a><span id="l24.348" class="difflineplus">+              &lt;deck id=&quot;conversationsDeck&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.349"></a><span id="l24.349" class="difflineplus">+                &lt;vbox flex=&quot;1&quot; id=&quot;noConvScreen&quot; class=&quot;im-placeholder-screen&quot; align=&quot;center&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l24.350"></a><span id="l24.350" class="difflineplus">+                  &lt;hbox id=&quot;noConvBox&quot; class=&quot;im-placeholder-box&quot; align=&quot;top&quot;&gt;</span>
<a href="#l24.351"></a><span id="l24.351" class="difflineplus">+                    &lt;vbox id=&quot;noConvInnerBox&quot; class=&quot;im-placeholder-innerbox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.352"></a><span id="l24.352" class="difflineplus">+                      &lt;label id=&quot;noConvTitle&quot; class=&quot;im-placeholder-title&quot;&gt;&amp;chat.noConv.title;&lt;/label&gt;</span>
<a href="#l24.353"></a><span id="l24.353" class="difflineplus">+                      &lt;description id=&quot;noConvDesc&quot;</span>
<a href="#l24.354"></a><span id="l24.354" class="difflineplus">+                                   class=&quot;im-placeholder-desc&quot;&gt;&amp;chat.noConv.description;&lt;/description&gt;</span>
<a href="#l24.355"></a><span id="l24.355" class="difflineplus">+                    &lt;/vbox&gt;</span>
<a href="#l24.356"></a><span id="l24.356" class="difflineplus">+                    &lt;vbox id=&quot;noAccountInnerBox&quot; class=&quot;im-placeholder-innerbox&quot; flex=&quot;1&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l24.357"></a><span id="l24.357" class="difflineplus">+                      &lt;label id=&quot;noAccountTitle&quot; class=&quot;im-placeholder-title&quot;&gt;&amp;chat.noAccount.title;&lt;/label&gt;</span>
<a href="#l24.358"></a><span id="l24.358" class="difflineplus">+                      &lt;description id=&quot;noAccountDesc&quot;</span>
<a href="#l24.359"></a><span id="l24.359" class="difflineplus">+                                   class=&quot;im-placeholder-desc&quot;&gt;&amp;chat.noAccount.description;&lt;/description&gt;</span>
<a href="#l24.360"></a><span id="l24.360" class="difflineplus">+                      &lt;hbox class=&quot;im-placeholder-button-box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.361"></a><span id="l24.361" class="difflineplus">+                        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l24.362"></a><span id="l24.362" class="difflineplus">+                        &lt;button id=&quot;openIMAccountWizardButton&quot; label=&quot;&amp;chat.accountWizard.button;&quot;</span>
<a href="#l24.363"></a><span id="l24.363" class="difflineplus">+                                oncommand=&quot;openIMAccountWizard();&quot;/&gt;</span>
<a href="#l24.364"></a><span id="l24.364" class="difflineplus">+                      &lt;/hbox&gt;</span>
<a href="#l24.365"></a><span id="l24.365" class="difflineplus">+                    &lt;/vbox&gt;</span>
<a href="#l24.366"></a><span id="l24.366" class="difflineplus">+                    &lt;vbox id=&quot;noConnectedAccountInnerBox&quot; class=&quot;im-placeholder-innerbox&quot; flex=&quot;1&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l24.367"></a><span id="l24.367" class="difflineplus">+                      &lt;label id=&quot;noConnectedAccountTitle&quot;</span>
<a href="#l24.368"></a><span id="l24.368" class="difflineplus">+                             class=&quot;im-placeholder-title&quot;&gt;&amp;chat.noConnectedAccount.title;&lt;/label&gt;</span>
<a href="#l24.369"></a><span id="l24.369" class="difflineplus">+                      &lt;description id=&quot;noConnectedAccountDesc&quot;</span>
<a href="#l24.370"></a><span id="l24.370" class="difflineplus">+                                   class=&quot;im-placeholder-desc&quot;&gt;&amp;chat.noConnectedAccount.description;&lt;/description&gt;</span>
<a href="#l24.371"></a><span id="l24.371" class="difflineplus">+                      &lt;hbox class=&quot;im-placeholder-button-box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.372"></a><span id="l24.372" class="difflineplus">+                        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l24.373"></a><span id="l24.373" class="difflineplus">+                        &lt;button id=&quot;openIMAccountManagerButton&quot; label=&quot;&amp;chat.showAccountManager.button;&quot;</span>
<a href="#l24.374"></a><span id="l24.374" class="difflineplus">+                                oncommand=&quot;openIMAccountMgr();&quot;/&gt;</span>
<a href="#l24.375"></a><span id="l24.375" class="difflineplus">+                      &lt;/hbox&gt;</span>
<a href="#l24.376"></a><span id="l24.376">                     &lt;/vbox&gt;</span>
<a href="#l24.377"></a><span id="l24.377">                   &lt;/hbox&gt;</span>
<a href="#l24.378"></a><span id="l24.378">                 &lt;/vbox&gt;</span>
<a href="#l24.379"></a><span id="l24.379" class="difflineminus">-                &lt;vbox flex=&quot;1&quot; id=&quot;logDisplayBrowserBox&quot;&gt;</span>
<a href="#l24.380"></a><span id="l24.380" class="difflineminus">-                  &lt;browser id=&quot;conv-log-browser&quot; type=&quot;content&quot; browser-type=&quot;conversation&quot;</span>
<a href="#l24.381"></a><span id="l24.381" class="difflineminus">-                           contextmenu=&quot;chatConversationContextMenu&quot; flex=&quot;1&quot;</span>
<a href="#l24.382"></a><span id="l24.382" class="difflineminus">-                           tooltip=&quot;imTooltip&quot;/&gt;</span>
<a href="#l24.383"></a><span id="l24.383" class="difflineminus">-                  &lt;progressmeter id=&quot;log-browserProgress&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l24.384"></a><span id="l24.384" class="difflineminus">-                  &lt;findbar id=&quot;log-findbar&quot; browserid=&quot;conv-log-browser&quot;/&gt;</span>
<a href="#l24.385"></a><span id="l24.385" class="difflineplus">+                &lt;vbox id=&quot;logDisplay&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.386"></a><span id="l24.386" class="difflineplus">+                  &lt;deck id=&quot;logDisplayDeck&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.387"></a><span id="l24.387" class="difflineplus">+                    &lt;vbox flex=&quot;1&quot; id=&quot;noPreviousConvScreen&quot; class=&quot;im-placeholder-screen&quot; align=&quot;center&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l24.388"></a><span id="l24.388" class="difflineplus">+                      &lt;hbox id=&quot;noPreviousConvBox&quot; class=&quot;im-placeholder-box&quot; align=&quot;top&quot;&gt;</span>
<a href="#l24.389"></a><span id="l24.389" class="difflineplus">+                        &lt;vbox id=&quot;noPreviousConvInnerBox&quot; class=&quot;im-placeholder-innerbox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.390"></a><span id="l24.390" class="difflineplus">+                          &lt;description id=&quot;noPreviousConvDesc&quot;</span>
<a href="#l24.391"></a><span id="l24.391" class="difflineplus">+                                       class=&quot;im-placeholder-desc&quot;&gt;&amp;chat.noPreviousConv.description;&lt;/description&gt;</span>
<a href="#l24.392"></a><span id="l24.392" class="difflineplus">+                        &lt;/vbox&gt;</span>
<a href="#l24.393"></a><span id="l24.393" class="difflineplus">+                      &lt;/hbox&gt;</span>
<a href="#l24.394"></a><span id="l24.394" class="difflineplus">+                    &lt;/vbox&gt;</span>
<a href="#l24.395"></a><span id="l24.395" class="difflineplus">+                    &lt;vbox flex=&quot;1&quot; id=&quot;logDisplayBrowserBox&quot;&gt;</span>
<a href="#l24.396"></a><span id="l24.396" class="difflineplus">+                      &lt;browser id=&quot;conv-log-browser&quot; type=&quot;content&quot; browser-type=&quot;conversation&quot;</span>
<a href="#l24.397"></a><span id="l24.397" class="difflineplus">+                               contextmenu=&quot;chatConversationContextMenu&quot; flex=&quot;1&quot;</span>
<a href="#l24.398"></a><span id="l24.398" class="difflineplus">+                               tooltip=&quot;imTooltip&quot;/&gt;</span>
<a href="#l24.399"></a><span id="l24.399" class="difflineplus">+                      &lt;progressmeter id=&quot;log-browserProgress&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l24.400"></a><span id="l24.400" class="difflineplus">+                      &lt;findbar id=&quot;log-findbar&quot; browserid=&quot;conv-log-browser&quot;/&gt;</span>
<a href="#l24.401"></a><span id="l24.401" class="difflineplus">+                    &lt;/vbox&gt;</span>
<a href="#l24.402"></a><span id="l24.402" class="difflineplus">+                  &lt;/deck&gt;</span>
<a href="#l24.403"></a><span id="l24.403" class="difflineplus">+                  &lt;button id=&quot;goToConversation&quot; hidden=&quot;true&quot;</span>
<a href="#l24.404"></a><span id="l24.404" class="difflineplus">+                          oncommand=&quot;chatHandler.showCurrentConversation();&quot;/&gt;</span>
<a href="#l24.405"></a><span id="l24.405">                 &lt;/vbox&gt;</span>
<a href="#l24.406"></a><span id="l24.406">               &lt;/deck&gt;</span>
<a href="#l24.407"></a><span id="l24.407" class="difflineminus">-              &lt;button id=&quot;goToConversation&quot; hidden=&quot;true&quot;</span>
<a href="#l24.408"></a><span id="l24.408" class="difflineminus">-                      oncommand=&quot;chatHandler.showCurrentConversation();&quot;/&gt;</span>
<a href="#l24.409"></a><span id="l24.409" class="difflineminus">-            &lt;/vbox&gt;</span>
<a href="#l24.410"></a><span id="l24.410" class="difflineminus">-          &lt;/deck&gt;</span>
<a href="#l24.411"></a><span id="l24.411" class="difflineminus">-          &lt;splitter id=&quot;contextSplitter&quot; hidden=&quot;true&quot; collapse=&quot;after&quot;/&gt;</span>
<a href="#l24.412"></a><span id="l24.412" class="difflineminus">-          &lt;vbox id=&quot;contextPane&quot; hidden=&quot;true&quot; width=&quot;250&quot; persist=&quot;width&quot;&gt;</span>
<a href="#l24.413"></a><span id="l24.413" class="difflineminus">-            &lt;toolbar class=&quot;conv-top-info&quot; id=&quot;conv-top-info&quot;/&gt;</span>
<a href="#l24.414"></a><span id="l24.414" class="difflineminus">-            &lt;vbox id=&quot;contextPaneFlexibleBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.415"></a><span id="l24.415" class="difflineminus">-              &lt;vbox flex=&quot;1&quot; class=&quot;conv-chat&quot; width=&quot;150&quot;&gt;</span>
<a href="#l24.416"></a><span id="l24.416" class="difflineminus">-                &lt;hbox align=&quot;baseline&quot; class=&quot;conv-nicklist-header&quot;&gt;</span>
<a href="#l24.417"></a><span id="l24.417" class="difflineminus">-                  &lt;label class=&quot;conv-nicklist-header-label&quot;</span>
<a href="#l24.418"></a><span id="l24.418" class="difflineminus">-                         id=&quot;participantLabel&quot; control=&quot;participantCount&quot;</span>
<a href="#l24.419"></a><span id="l24.419" class="difflineminus">-                         value=&quot;&amp;chat.participants;&quot;/&gt;</span>
<a href="#l24.420"></a><span id="l24.420" class="difflineminus">-                  &lt;textbox flex=&quot;1&quot; readonly=&quot;true&quot; class=&quot;plain&quot; id=&quot;participantCount&quot;/&gt;</span>
<a href="#l24.421"></a><span id="l24.421" class="difflineminus">-                &lt;/hbox&gt;</span>
<a href="#l24.422"></a><span id="l24.422" class="difflineminus">-                &lt;listbox id=&quot;nicklist&quot; class=&quot;conv-nicklist&quot;</span>
<a href="#l24.423"></a><span id="l24.423" class="difflineminus">-                         flex=&quot;1&quot; seltype=&quot;multiple&quot;</span>
<a href="#l24.424"></a><span id="l24.424" class="difflineminus">-                         tooltip=&quot;imTooltip&quot;</span>
<a href="#l24.425"></a><span id="l24.425" class="difflineminus">-                         onclick=&quot;chatHandler.onNickClick(event);&quot;</span>
<a href="#l24.426"></a><span id="l24.426" class="difflineminus">-                         onkeypress=&quot;chatHandler.onNicklistKeyPress(event);&quot;/&gt;</span>
<a href="#l24.427"></a><span id="l24.427" class="difflineplus">+              &lt;splitter id=&quot;contextSplitter&quot; hidden=&quot;true&quot; collapse=&quot;after&quot;/&gt;</span>
<a href="#l24.428"></a><span id="l24.428" class="difflineplus">+              &lt;vbox id=&quot;contextPane&quot; hidden=&quot;true&quot; width=&quot;250&quot; persist=&quot;width&quot;&gt;</span>
<a href="#l24.429"></a><span id="l24.429" class="difflineplus">+                &lt;toolbar class=&quot;conv-top-info&quot; id=&quot;conv-top-info&quot;/&gt;</span>
<a href="#l24.430"></a><span id="l24.430" class="difflineplus">+                &lt;vbox id=&quot;contextPaneFlexibleBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l24.431"></a><span id="l24.431" class="difflineplus">+                  &lt;vbox flex=&quot;1&quot; class=&quot;conv-chat&quot; width=&quot;150&quot;&gt;</span>
<a href="#l24.432"></a><span id="l24.432" class="difflineplus">+                    &lt;hbox align=&quot;baseline&quot; class=&quot;conv-nicklist-header&quot;&gt;</span>
<a href="#l24.433"></a><span id="l24.433" class="difflineplus">+                      &lt;label class=&quot;conv-nicklist-header-label&quot;</span>
<a href="#l24.434"></a><span id="l24.434" class="difflineplus">+                             id=&quot;participantLabel&quot; control=&quot;participantCount&quot;</span>
<a href="#l24.435"></a><span id="l24.435" class="difflineplus">+                             value=&quot;&amp;chat.participants;&quot;/&gt;</span>
<a href="#l24.436"></a><span id="l24.436" class="difflineplus">+                      &lt;textbox flex=&quot;1&quot; readonly=&quot;true&quot; class=&quot;plain&quot; id=&quot;participantCount&quot;/&gt;</span>
<a href="#l24.437"></a><span id="l24.437" class="difflineplus">+                    &lt;/hbox&gt;</span>
<a href="#l24.438"></a><span id="l24.438" class="difflineplus">+                    &lt;listbox id=&quot;nicklist&quot; class=&quot;conv-nicklist&quot;</span>
<a href="#l24.439"></a><span id="l24.439" class="difflineplus">+                             flex=&quot;1&quot; seltype=&quot;multiple&quot;</span>
<a href="#l24.440"></a><span id="l24.440" class="difflineplus">+                             tooltip=&quot;imTooltip&quot;</span>
<a href="#l24.441"></a><span id="l24.441" class="difflineplus">+                             onclick=&quot;chatHandler.onNickClick(event);&quot;</span>
<a href="#l24.442"></a><span id="l24.442" class="difflineplus">+                             onkeypress=&quot;chatHandler.onNicklistKeyPress(event);&quot;/&gt;</span>
<a href="#l24.443"></a><span id="l24.443" class="difflineplus">+                  &lt;/vbox&gt;</span>
<a href="#l24.444"></a><span id="l24.444" class="difflineplus">+                  &lt;splitter id=&quot;logsSplitter&quot; class=&quot;conv-chat&quot; collapse=&quot;after&quot;/&gt;</span>
<a href="#l24.445"></a><span id="l24.445" class="difflineplus">+                  &lt;vbox flex=&quot;1&quot; id=&quot;previousConversations&quot;&gt;</span>
<a href="#l24.446"></a><span id="l24.446" class="difflineplus">+                    &lt;label class=&quot;conv-logs-header-label&quot;</span>
<a href="#l24.447"></a><span id="l24.447" class="difflineplus">+                           id=&quot;participantLabel&quot;</span>
<a href="#l24.448"></a><span id="l24.448" class="difflineplus">+                           value=&quot;&amp;chat.previousConversations;&quot;/&gt;</span>
<a href="#l24.449"></a><span id="l24.449" class="difflineplus">+                    &lt;tree id=&quot;logTree&quot; flex=&quot;1&quot; hidecolumnpicker=&quot;true&quot; seltype=&quot;single&quot;</span>
<a href="#l24.450"></a><span id="l24.450" class="difflineplus">+                          context=&quot;logTreeContext&quot; onselect=&quot;chatHandler.onLogSelect();&quot;&gt;</span>
<a href="#l24.451"></a><span id="l24.451" class="difflineplus">+                      &lt;treecols&gt;</span>
<a href="#l24.452"></a><span id="l24.452" class="difflineplus">+                        &lt;treecol id=&quot;logCol&quot; flex=&quot;1&quot; primary=&quot;true&quot; hideheader=&quot;true&quot;</span>
<a href="#l24.453"></a><span id="l24.453" class="difflineplus">+                                 crop=&quot;center&quot; ignoreincolumnpicker=&quot;true&quot;/&gt;</span>
<a href="#l24.454"></a><span id="l24.454" class="difflineplus">+                      &lt;/treecols&gt;</span>
<a href="#l24.455"></a><span id="l24.455" class="difflineplus">+                      &lt;treechildren/&gt;</span>
<a href="#l24.456"></a><span id="l24.456" class="difflineplus">+                    &lt;/tree&gt;</span>
<a href="#l24.457"></a><span id="l24.457" class="difflineplus">+                  &lt;/vbox&gt;</span>
<a href="#l24.458"></a><span id="l24.458" class="difflineplus">+                &lt;/vbox&gt;</span>
<a href="#l24.459"></a><span id="l24.459">               &lt;/vbox&gt;</span>
<a href="#l24.460"></a><span id="l24.460" class="difflineminus">-              &lt;splitter id=&quot;logsSplitter&quot; class=&quot;conv-chat&quot; collapse=&quot;after&quot;/&gt;</span>
<a href="#l24.461"></a><span id="l24.461" class="difflineminus">-              &lt;vbox flex=&quot;1&quot; id=&quot;previousConversations&quot;&gt;</span>
<a href="#l24.462"></a><span id="l24.462" class="difflineminus">-                &lt;label class=&quot;conv-logs-header-label&quot;</span>
<a href="#l24.463"></a><span id="l24.463" class="difflineminus">-                       id=&quot;participantLabel&quot;</span>
<a href="#l24.464"></a><span id="l24.464" class="difflineminus">-                       value=&quot;&amp;chat.previousConversations;&quot;/&gt;</span>
<a href="#l24.465"></a><span id="l24.465" class="difflineminus">-                &lt;tree id=&quot;logTree&quot; flex=&quot;1&quot; hidecolumnpicker=&quot;true&quot; seltype=&quot;single&quot;</span>
<a href="#l24.466"></a><span id="l24.466" class="difflineminus">-                      context=&quot;logTreeContext&quot; onselect=&quot;chatHandler.onLogSelect();&quot;&gt;</span>
<a href="#l24.467"></a><span id="l24.467" class="difflineminus">-                  &lt;treecols&gt;</span>
<a href="#l24.468"></a><span id="l24.468" class="difflineminus">-                    &lt;treecol id=&quot;logCol&quot; flex=&quot;1&quot; primary=&quot;true&quot; hideheader=&quot;true&quot;</span>
<a href="#l24.469"></a><span id="l24.469" class="difflineminus">-                             crop=&quot;center&quot; ignoreincolumnpicker=&quot;true&quot;/&gt;</span>
<a href="#l24.470"></a><span id="l24.470" class="difflineminus">-                  &lt;/treecols&gt;</span>
<a href="#l24.471"></a><span id="l24.471" class="difflineminus">-                  &lt;treechildren/&gt;</span>
<a href="#l24.472"></a><span id="l24.472" class="difflineminus">-                &lt;/tree&gt;</span>
<a href="#l24.473"></a><span id="l24.473" class="difflineminus">-              &lt;/vbox&gt;</span>
<a href="#l24.474"></a><span id="l24.474" class="difflineminus">-            &lt;/vbox&gt;</span>
<a href="#l24.475"></a><span id="l24.475" class="difflineminus">-          &lt;/vbox&gt;</span>
<a href="#l24.476"></a><span id="l24.476" class="difflineminus">-        &lt;/hbox&gt;</span>
<a href="#l24.477"></a><span id="l24.477" class="difflineminus">-      &lt;/notificationbox&gt;</span>
<a href="#l24.478"></a><span id="l24.478" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l24.479"></a><span id="l24.479" class="difflineminus">-  &lt;/tabpanels&gt;</span>
<a href="#l24.480"></a><span id="l24.480" class="difflineminus">-&lt;/overlay&gt;</span>
<a href="#l24.481"></a><span id="l24.481" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l24.482"></a><span id="l24.482" class="difflineplus">+          &lt;/notificationbox&gt;</span>
<a href="#l24.483"></a><span id="l24.483" class="difflineplus">+        &lt;/vbox&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1">rename from mail/components/im/content/chat-messenger-overlay.js</span>
<a href="#l25.2"></a><span id="l25.2">rename to mail/components/im/content/chat-messenger.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/components/im/jar.mn</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/components/im/jar.mn</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,17 +1,15 @@</span>
<a href="#l26.4"></a><span id="l26.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l26.5"></a><span id="l26.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l26.6"></a><span id="l26.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l26.7"></a><span id="l26.7"> </span>
<a href="#l26.8"></a><span id="l26.8"> messenger.jar:</span>
<a href="#l26.9"></a><span id="l26.9" class="difflineminus">-% overlay chrome://messenger/content/messenger.xul chrome://messenger/content/chat/chat-messenger-overlay.xul</span>
<a href="#l26.10"></a><span id="l26.10"> % style chrome://messenger/content/customizeToolbar.xul chrome://messenger/skin/chat.css</span>
<a href="#l26.11"></a><span id="l26.11" class="difflineminus">-*   content/messenger/chat/chat-messenger-overlay.xul    (content/chat-messenger-overlay.xul)</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-    content/messenger/chat/chat-messenger-overlay.js     (content/chat-messenger-overlay.js)</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+    content/messenger/chat/chat-messenger.js             (content/chat-messenger.js)</span>
<a href="#l26.14"></a><span id="l26.14">     content/messenger/chat/chat.css                      (content/chat.css)</span>
<a href="#l26.15"></a><span id="l26.15">     content/messenger/am-im.js                           (content/am-im.js)</span>
<a href="#l26.16"></a><span id="l26.16">     content/messenger/am-im.xul                          (content/am-im.xul)</span>
<a href="#l26.17"></a><span id="l26.17">     content/messenger/chat/addbuddy.js                   (content/addbuddy.js)</span>
<a href="#l26.18"></a><span id="l26.18">     content/messenger/chat/addbuddy.xul                  (content/addbuddy.xul)</span>
<a href="#l26.19"></a><span id="l26.19">     content/messenger/chat/badgebutton.xml               (content/badgebutton.xml)</span>
<a href="#l26.20"></a><span id="l26.20">     content/messenger/chat/joinchat.js                   (content/joinchat.js)</span>
<a href="#l26.21"></a><span id="l26.21">     content/messenger/chat/joinchat.xul                  (content/joinchat.xul)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mail/components/preferences/jar.mn</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mail/components/preferences/jar.mn</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -4,17 +4,16 @@</span>
<a href="#l27.4"></a><span id="l27.4"> </span>
<a href="#l27.5"></a><span id="l27.5"> messenger.jar:</span>
<a href="#l27.6"></a><span id="l27.6"> *   content/messenger/preferences/preferences.xul</span>
<a href="#l27.7"></a><span id="l27.7"> *   content/messenger/preferences/aboutPreferences.xul</span>
<a href="#l27.8"></a><span id="l27.8">     content/messenger/preferences/aboutPreferences.xml</span>
<a href="#l27.9"></a><span id="l27.9">     content/messenger/preferences/preferences.css</span>
<a href="#l27.10"></a><span id="l27.10">     content/messenger/preferences/preferences.js</span>
<a href="#l27.11"></a><span id="l27.11"> *   content/messenger/preferences/preferences.xml       (../../../common/bindings/preferences.xml)</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-    content/messenger/preferences/preferencesTab.xul</span>
<a href="#l27.13"></a><span id="l27.13">     content/messenger/preferences/preferencesTab.js</span>
<a href="#l27.14"></a><span id="l27.14"> *   content/messenger/preferences/general.xul</span>
<a href="#l27.15"></a><span id="l27.15">     content/messenger/preferences/general.js</span>
<a href="#l27.16"></a><span id="l27.16"> #ifdef XP_MACOSX</span>
<a href="#l27.17"></a><span id="l27.17">     content/messenger/preferences/dockoptions.xul</span>
<a href="#l27.18"></a><span id="l27.18"> #endif</span>
<a href="#l27.19"></a><span id="l27.19">     content/messenger/preferences/display.xul</span>
<a href="#l27.20"></a><span id="l27.20">     content/messenger/preferences/display.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1">deleted file mode 100644</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineminus">--- a/mail/components/preferences/preferencesTab.xul</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineplus">+++ /dev/null</span>
<a href="#l28.4"></a><span id="l28.4" class="difflineat">@@ -1,23 +0,0 @@</span>
<a href="#l28.5"></a><span id="l28.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l28.6"></a><span id="l28.6" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l28.7"></a><span id="l28.7" class="difflineminus">-  - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l28.8"></a><span id="l28.8" class="difflineminus">-  - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l28.9"></a><span id="l28.9" class="difflineminus">-</span>
<a href="#l28.10"></a><span id="l28.10" class="difflineminus">-&lt;overlay id=&quot;preferencesTab-overlay&quot;</span>
<a href="#l28.11"></a><span id="l28.11" class="difflineminus">-         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineminus">-          src=&quot;chrome://messenger/content/preferences/preferencesTab.js&quot;/&gt;</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineminus">-</span>
<a href="#l28.15"></a><span id="l28.15" class="difflineminus">-  &lt;hbox id=&quot;tabmail-container&quot;&gt;</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineminus">-    &lt;vbox id=&quot;preferencesTab&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineminus">-      &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineminus">-        &lt;notificationbox flex=&quot;1&quot;&gt;</span>
<a href="#l28.19"></a><span id="l28.19" class="difflineminus">-          &lt;browser id=&quot;preferencesbrowser&quot; type=&quot;content&quot; flex=&quot;1&quot;</span>
<a href="#l28.20"></a><span id="l28.20" class="difflineminus">-                   disablehistory=&quot;true&quot; autocompletepopup=&quot;PopupAutoComplete&quot;</span>
<a href="#l28.21"></a><span id="l28.21" class="difflineminus">-                   context=&quot;mailContext&quot;/&gt;</span>
<a href="#l28.22"></a><span id="l28.22" class="difflineminus">-        &lt;/notificationbox&gt;</span>
<a href="#l28.23"></a><span id="l28.23" class="difflineminus">-        &lt;findbar browserid=&quot;preferencesbrowser&quot;/&gt;</span>
<a href="#l28.24"></a><span id="l28.24" class="difflineminus">-      &lt;/vbox&gt;</span>
<a href="#l28.25"></a><span id="l28.25" class="difflineminus">-    &lt;/vbox&gt;</span>
<a href="#l28.26"></a><span id="l28.26" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l28.27"></a><span id="l28.27" class="difflineminus">-&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messenger.dtd</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/messenger.dtd</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -31,16 +31,22 @@</span>
<a href="#l29.4"></a><span id="l29.4"> &lt;!ENTITY newExistingEmailAccountCmd.label &quot;Existing Mail Account…&quot;&gt;</span>
<a href="#l29.5"></a><span id="l29.5"> &lt;!ENTITY newExistingEmailAccountCmd.accesskey &quot;E&quot;&gt;</span>
<a href="#l29.6"></a><span id="l29.6"> &lt;!ENTITY newIMAccountCmd.label &quot;Chat Account…&quot;&gt;</span>
<a href="#l29.7"></a><span id="l29.7"> &lt;!ENTITY newIMAccountCmd.accesskey &quot;C&quot;&gt;</span>
<a href="#l29.8"></a><span id="l29.8"> &lt;!ENTITY newFeedAccountCmd.label &quot;Feed Account…&quot;&gt;</span>
<a href="#l29.9"></a><span id="l29.9"> &lt;!ENTITY newFeedAccountCmd.accesskey &quot;d&quot;&gt;</span>
<a href="#l29.10"></a><span id="l29.10"> &lt;!ENTITY newIMContactCmd.label &quot;Chat Contact…&quot;&gt;</span>
<a href="#l29.11"></a><span id="l29.11"> &lt;!ENTITY newIMContactCmd.accesskey &quot;h&quot;&gt;</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineplus">+&lt;!ENTITY  newMessageCmd2.key &quot;N&quot;&gt;</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+&lt;!ENTITY  newMessageCmd.key &quot;M&quot;&gt;</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineplus">+&lt;!ENTITY  newMessageCmd.label &quot;Message&quot;&gt;</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineplus">+&lt;!ENTITY  newMessageCmd.accesskey &quot;m&quot;&gt;</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineplus">+&lt;!ENTITY  newContactCmd.label &quot;Address Book Contact…&quot;&gt;</span>
<a href="#l29.17"></a><span id="l29.17" class="difflineplus">+&lt;!ENTITY  newContactCmd.accesskey &quot;C&quot;&gt;</span>
<a href="#l29.18"></a><span id="l29.18"> &lt;!ENTITY openMessageFileCmd.label &quot;Open Saved Message…&quot;&gt;</span>
<a href="#l29.19"></a><span id="l29.19"> &lt;!ENTITY openMessageFileCmd.accesskey &quot;O&quot;&gt;</span>
<a href="#l29.20"></a><span id="l29.20"> &lt;!ENTITY saveAsMenu.label &quot;Save As&quot;&gt;</span>
<a href="#l29.21"></a><span id="l29.21"> &lt;!ENTITY saveAsMenu.accesskey &quot;S&quot;&gt;</span>
<a href="#l29.22"></a><span id="l29.22"> &lt;!ENTITY saveAsFileCmd.label &quot;File&quot;&gt;</span>
<a href="#l29.23"></a><span id="l29.23"> &lt;!ENTITY saveAsFileCmd.accesskey &quot;F&quot;&gt;</span>
<a href="#l29.24"></a><span id="l29.24"> &lt;!ENTITY saveAsFileCmd.key &quot;s&quot;&gt;</span>
<a href="#l29.25"></a><span id="l29.25"> &lt;!ENTITY saveAsTemplateCmd.label &quot;Template&quot;&gt;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

