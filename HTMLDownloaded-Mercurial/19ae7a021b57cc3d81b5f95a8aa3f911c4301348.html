<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 27715:19ae7a021b57cc3d81b5f95a8aa3f911c4301348</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 19ae7a021b57cc3d81b5f95a8aa3f911c4301348" />
<meta property="og:url" content="/comm-central/rev/19ae7a021b57cc3d81b5f95a8aa3f911c4301348" />
<meta property="og:description" content="Bug 1582056 part 2 - Convert test-window-helpers.js to a JSM; r=mkmelin" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 19ae7a021b57cc3d81b5f95a8aa3f911c4301348 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/19ae7a021b57cc3d81b5f95a8aa3f911c4301348">shortlog</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/19ae7a021b57cc3d81b5f95a8aa3f911c4301348">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348">files</a> |
changeset |
<a href="/comm-central/raw-rev/19ae7a021b57cc3d81b5f95a8aa3f911c4301348">raw</a>  | <a href="/comm-central/archive/19ae7a021b57cc3d81b5f95a8aa3f911c4301348.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1582056">Bug 1582056</a> part 2 - Convert test-window-helpers.js to a JSM; r=mkmelin
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#71;&#101;&#111;&#102;&#102;&#32;&#76;&#97;&#110;&#107;&#111;&#119;&#32;&#60;&#103;&#101;&#111;&#102;&#102;&#64;&#100;&#97;&#114;&#107;&#116;&#114;&#111;&#106;&#97;&#110;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 25 Sep 2019 20:59:49 +1200</td></tr>

<tr>
 <td>changeset 27715</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/19ae7a021b57cc3d81b5f95a8aa3f911c4301348">19ae7a021b57cc3d81b5f95a8aa3f911c4301348</a></td>
</tr>



<tr>
<td>parent 27714</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/0ee0e21ccb1b19e9b54f2d50c1e1895a2d711187">0ee0e21ccb1b19e9b54f2d50c1e1895a2d711187</a>
</td>
</tr>

<tr>
<td>child 27716</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/284f2743822fb496e79f927afcfa23dc4ee7c5cb">284f2743822fb496e79f927afcfa23dc4ee7c5cb</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=19ae7a021b57cc3d81b5f95a8aa3f911c4301348">16458</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Wed, 25 Sep 2019 09:03:47 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@284f2743822f [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=284f2743822fb496e79f927afcfa23dc4ee7c5cb">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=284f2743822fb496e79f927afcfa23dc4ee7c5cb&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=284f2743822fb496e79f927afcfa23dc4ee7c5cb&newProject=comm-central&newRevision=0ee0e21ccb1b19e9b54f2d50c1e1895a2d711187&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=284f2743822fb496e79f927afcfa23dc4ee7c5cb&newProject=comm-central&newRevision=0ee0e21ccb1b19e9b54f2d50c1e1895a2d711187&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=284f2743822fb496e79f927afcfa23dc4ee7c5cb&newProject=comm-central&newRevision=0ee0e21ccb1b19e9b54f2d50c1e1895a2d711187&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1582056">1582056</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1582056">Bug 1582056</a> part 2 - Convert test-window-helpers.js to a JSM; r=mkmelin</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/Makefile.in">calendar/test/mozmill/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/Makefile.in">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/Makefile.in">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/Makefile.in">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/Makefile.in">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js">calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js">calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js">calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js">calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testAlarmDialog.js">calendar/test/mozmill/eventDialog/testAlarmDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testAlarmDialog.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testAlarmDialog.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testAlarmDialog.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testAlarmDialog.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testAlarmDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialog.js">calendar/test/mozmill/eventDialog/testEventDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialog.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialog.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialog.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialog.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogSize.js">calendar/test/mozmill/eventDialog/testEventDialogSize.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogSize.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogSize.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogSize.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogSize.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/eventDialog/testEventDialogSize.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/invitations/test-imip-bar-eml.js">calendar/test/mozmill/invitations/test-imip-bar-eml.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/invitations/test-imip-bar-eml.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/invitations/test-imip-bar-eml.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/invitations/test-imip-bar-eml.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/invitations/test-imip-bar-eml.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/invitations/test-imip-bar-eml.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testAlarmDefaultValue.js">calendar/test/mozmill/preferences/testAlarmDefaultValue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testAlarmDefaultValue.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testAlarmDefaultValue.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testAlarmDefaultValue.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testAlarmDefaultValue.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testAlarmDefaultValue.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testCategoryColors.js">calendar/test/mozmill/preferences/testCategoryColors.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testCategoryColors.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testCategoryColors.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testCategoryColors.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testCategoryColors.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/preferences/testCategoryColors.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-calendar-utils.js">calendar/test/mozmill/shared-modules/test-calendar-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-calendar-utils.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-calendar-utils.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-calendar-utils.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-calendar-utils.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-calendar-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testBasicFunctionality.js">calendar/test/mozmill/testBasicFunctionality.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testBasicFunctionality.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testBasicFunctionality.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testBasicFunctionality.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testBasicFunctionality.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testBasicFunctionality.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testLocalICS.js">calendar/test/mozmill/testLocalICS.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testLocalICS.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testLocalICS.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testLocalICS.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testLocalICS.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testLocalICS.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testTimezones.js">calendar/test/mozmill/testTimezones.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testTimezones.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testTimezones.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testTimezones.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testTimezones.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/calendar/test/mozmill/testTimezones.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-ab-whitelist.js">mail/test/mozmill/account/test-ab-whitelist.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-ab-whitelist.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-ab-whitelist.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-ab-whitelist.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-ab-whitelist.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-ab-whitelist.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-actions.js">mail/test/mozmill/account/test-account-actions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-actions.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-actions.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-actions.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-actions.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-actions.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-deletion.js">mail/test/mozmill/account/test-account-deletion.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-deletion.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-deletion.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-deletion.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-deletion.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-deletion.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-port-setting.js">mail/test/mozmill/account/test-account-port-setting.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-port-setting.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-port-setting.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-port-setting.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-port-setting.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-port-setting.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-settings-infrastructure.js">mail/test/mozmill/account/test-account-settings-infrastructure.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-settings-infrastructure.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-settings-infrastructure.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-settings-infrastructure.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-settings-infrastructure.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-settings-infrastructure.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-tree.js">mail/test/mozmill/account/test-account-tree.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-tree.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-tree.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-tree.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-tree.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-tree.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-values.js">mail/test/mozmill/account/test-account-values.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-values.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-values.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-values.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-values.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-account-values.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-archive-options.js">mail/test/mozmill/account/test-archive-options.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-archive-options.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-archive-options.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-archive-options.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-archive-options.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-archive-options.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-mail-account-setup-wizard.js">mail/test/mozmill/account/test-mail-account-setup-wizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-mail-account-setup-wizard.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-mail-account-setup-wizard.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-mail-account-setup-wizard.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-mail-account-setup-wizard.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-mail-account-setup-wizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-retest-config.js">mail/test/mozmill/account/test-retest-config.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-retest-config.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-retest-config.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-retest-config.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-retest-config.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/account/test-retest-config.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/addrbook/test-address-book.js">mail/test/mozmill/addrbook/test-address-book.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/addrbook/test-address-book.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/addrbook/test-address-book.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/addrbook/test-address-book.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/addrbook/test-address-book.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/addrbook/test-address-book.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-events.js">mail/test/mozmill/attachment/test-attachment-events.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-events.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-events.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-events.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-events.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-events.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-in-plain-msg.js">mail/test/mozmill/attachment/test-attachment-in-plain-msg.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-in-plain-msg.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-in-plain-msg.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-in-plain-msg.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-in-plain-msg.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-in-plain-msg.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-menus.js">mail/test/mozmill/attachment/test-attachment-menus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-menus.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-menus.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-menus.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-menus.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-menus.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-size.js">mail/test/mozmill/attachment/test-attachment-size.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-size.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-size.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-size.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-size.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment-size.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment.js">mail/test/mozmill/attachment/test-attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/attachment/test-attachment.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">mail/test/mozmill/cloudfile/test-cloudfile-manager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cloudfile/test-cloudfile-manager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-address-widgets.js">mail/test/mozmill/composition/test-address-widgets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-address-widgets.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-address-widgets.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-address-widgets.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-address-widgets.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-address-widgets.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment-reminder.js">mail/test/mozmill/composition/test-attachment-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment-reminder.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment-reminder.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment-reminder.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment-reminder.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment.js">mail/test/mozmill/composition/test-attachment.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-attachment.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-base64-display.js">mail/test/mozmill/composition/test-base64-display.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-base64-display.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-base64-display.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-base64-display.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-base64-display.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-base64-display.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-blocked-content.js">mail/test/mozmill/composition/test-blocked-content.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-blocked-content.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-blocked-content.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-blocked-content.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-blocked-content.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-blocked-content.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-edit.js">mail/test/mozmill/composition/test-charset-edit.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-edit.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-edit.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-edit.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-edit.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-edit.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-upgrade.js">mail/test/mozmill/composition/test-charset-upgrade.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-upgrade.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-upgrade.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-upgrade.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-upgrade.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-charset-upgrade.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-cp932-display.js">mail/test/mozmill/composition/test-cp932-display.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-cp932-display.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-cp932-display.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-cp932-display.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-cp932-display.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-cp932-display.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-draft-identity.js">mail/test/mozmill/composition/test-draft-identity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-draft-identity.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-draft-identity.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-draft-identity.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-draft-identity.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-draft-identity.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-drafts.js">mail/test/mozmill/composition/test-drafts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-drafts.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-drafts.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-drafts.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-drafts.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-drafts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-eml-actions.js">mail/test/mozmill/composition/test-eml-actions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-eml-actions.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-eml-actions.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-eml-actions.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-eml-actions.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-eml-actions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-focus.js">mail/test/mozmill/composition/test-focus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-focus.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-focus.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-focus.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-focus.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-focus.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-headers.js">mail/test/mozmill/composition/test-forward-headers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-headers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-headers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-headers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-headers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-headers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-rfc822-attach.js">mail/test/mozmill/composition/test-forward-rfc822-attach.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-rfc822-attach.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-rfc822-attach.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-rfc822-attach.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-rfc822-attach.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-rfc822-attach.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-utf8.js">mail/test/mozmill/composition/test-forward-utf8.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-utf8.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-utf8.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-utf8.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-utf8.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forward-utf8.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-content.js">mail/test/mozmill/composition/test-forwarded-content.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-content.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-content.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-content.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-content.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-content.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-eml-actions.js">mail/test/mozmill/composition/test-forwarded-eml-actions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-eml-actions.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-eml-actions.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-eml-actions.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-eml-actions.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-forwarded-eml-actions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-display.js">mail/test/mozmill/composition/test-image-display.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-display.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-display.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-display.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-display.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-display.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-insertion-dialog.js">mail/test/mozmill/composition/test-image-insertion-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-insertion-dialog.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-insertion-dialog.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-insertion-dialog.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-insertion-dialog.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-image-insertion-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-multipart-related.js">mail/test/mozmill/composition/test-multipart-related.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-multipart-related.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-multipart-related.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-multipart-related.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-multipart-related.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-multipart-related.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-newmsg-compose-identity.js">mail/test/mozmill/composition/test-newmsg-compose-identity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-newmsg-compose-identity.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-newmsg-compose-identity.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-newmsg-compose-identity.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-newmsg-compose-identity.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-newmsg-compose-identity.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-addresses.js">mail/test/mozmill/composition/test-reply-addresses.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-addresses.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-addresses.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-addresses.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-addresses.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-addresses.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-format-flowed.js">mail/test/mozmill/composition/test-reply-format-flowed.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-format-flowed.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-format-flowed.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-format-flowed.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-format-flowed.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-format-flowed.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-multipart-charset.js">mail/test/mozmill/composition/test-reply-multipart-charset.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-multipart-charset.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-multipart-charset.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-multipart-charset.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-multipart-charset.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-multipart-charset.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-signature.js">mail/test/mozmill/composition/test-reply-signature.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-signature.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-signature.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-signature.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-signature.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-reply-signature.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-save-changes-on-quit.js">mail/test/mozmill/composition/test-save-changes-on-quit.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-save-changes-on-quit.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-save-changes-on-quit.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-save-changes-on-quit.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-save-changes-on-quit.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-save-changes-on-quit.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-button.js">mail/test/mozmill/composition/test-send-button.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-button.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-button.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-button.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-button.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-button.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-format.js">mail/test/mozmill/composition/test-send-format.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-format.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-format.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-format.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-format.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-send-format.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-signature-updating.js">mail/test/mozmill/composition/test-signature-updating.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-signature-updating.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-signature-updating.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-signature-updating.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-signature-updating.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/composition/test-signature-updating.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-compose-mailto.js">mail/test/mozmill/content-policy/test-compose-mailto.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-compose-mailto.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-compose-mailto.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-compose-mailto.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-compose-mailto.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-compose-mailto.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-general-content-policy.js">mail/test/mozmill/content-policy/test-general-content-policy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-general-content-policy.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-general-content-policy.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-general-content-policy.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-general-content-policy.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-general-content-policy.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-js-content-policy.js">mail/test/mozmill/content-policy/test-js-content-policy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-js-content-policy.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-js-content-policy.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-js-content-policy.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-js-content-policy.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-js-content-policy.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-plugins-policy.js">mail/test/mozmill/content-policy/test-plugins-policy.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-plugins-policy.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-plugins-policy.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-plugins-policy.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-plugins-policy.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-plugins-policy.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-view-source.js">mail/test/mozmill/content-policy/test-view-source.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-view-source.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-view-source.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-view-source.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-view-source.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-policy/test-view-source.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-about-support.js">mail/test/mozmill/content-tabs/test-about-support.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-about-support.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-about-support.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-about-support.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-about-support.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-about-support.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-addons-mgr.js">mail/test/mozmill/content-tabs/test-addons-mgr.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-addons-mgr.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-addons-mgr.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-addons-mgr.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-addons-mgr.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-addons-mgr.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-content-tab.js">mail/test/mozmill/content-tabs/test-content-tab.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-content-tab.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-content-tab.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-content-tab.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-content-tab.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-content-tab.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-install-xpi.js">mail/test/mozmill/content-tabs/test-install-xpi.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-install-xpi.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-install-xpi.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-install-xpi.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-install-xpi.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/content-tabs/test-install-xpi.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cookies/test-cookies.js">mail/test/mozmill/cookies/test-cookies.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cookies/test-cookies.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cookies/test-cookies.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cookies/test-cookies.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cookies/test-cookies.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/cookies/test-cookies.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/downloads/test-about-downloads.js">mail/test/mozmill/downloads/test-about-downloads.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/downloads/test-about-downloads.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/downloads/test-about-downloads.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/downloads/test-about-downloads.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/downloads/test-about-downloads.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/downloads/test-about-downloads.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-archive-messages.js">mail/test/mozmill/folder-display/test-archive-messages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-archive-messages.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-archive-messages.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-archive-messages.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-archive-messages.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-archive-messages.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-close-window-on-delete.js">mail/test/mozmill/folder-display/test-close-window-on-delete.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-close-window-on-delete.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-close-window-on-delete.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-close-window-on-delete.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-close-window-on-delete.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-close-window-on-delete.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-columns.js">mail/test/mozmill/folder-display/test-columns.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-columns.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-columns.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-columns.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-columns.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-columns.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js">mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js">mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-pane-visibility.js">mail/test/mozmill/folder-display/test-folder-pane-visibility.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-pane-visibility.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-pane-visibility.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-pane-visibility.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-pane-visibility.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-pane-visibility.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-toolbar.js">mail/test/mozmill/folder-display/test-folder-toolbar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-toolbar.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-toolbar.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-toolbar.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-toolbar.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-folder-toolbar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-invalid-db-folder-load.js">mail/test/mozmill/folder-display/test-invalid-db-folder-load.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-invalid-db-folder-load.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-invalid-db-folder-load.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-invalid-db-folder-load.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-invalid-db-folder-load.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-invalid-db-folder-load.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-mail-views.js">mail/test/mozmill/folder-display/test-mail-views.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-mail-views.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-mail-views.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-mail-views.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-mail-views.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-mail-views.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands.js">mail/test/mozmill/folder-display/test-message-commands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-commands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-pane-visibility.js">mail/test/mozmill/folder-display/test-message-pane-visibility.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-pane-visibility.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-pane-visibility.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-pane-visibility.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-pane-visibility.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-pane-visibility.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-window.js">mail/test/mozmill/folder-display/test-message-window.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-window.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-window.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-window.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-window.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-message-window.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages.js">mail/test/mozmill/folder-display/test-opening-messages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-opening-messages.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-recent-menu.js">mail/test/mozmill/folder-display/test-recent-menu.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-recent-menu.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-recent-menu.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-recent-menu.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-recent-menu.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-recent-menu.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js">mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js">mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js">mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-tabs-simple.js">mail/test/mozmill/folder-display/test-tabs-simple.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-tabs-simple.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-tabs-simple.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-tabs-simple.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-tabs-simple.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-display/test-tabs-simple.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-pane/test-folder-pane-consumers.js">mail/test/mozmill/folder-pane/test-folder-pane-consumers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-pane/test-folder-pane-consumers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-pane/test-folder-pane-consumers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-pane/test-folder-pane-consumers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-pane/test-folder-pane-consumers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-pane/test-folder-pane-consumers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">mail/test/mozmill/folder-tree-modes/test-mode-switching.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-tree-modes/test-mode-switching.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-widget/test-message-filters.js">mail/test/mozmill/folder-widget/test-message-filters.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-widget/test-message-filters.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-widget/test-message-filters.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-widget/test-message-filters.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-widget/test-message-filters.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/folder-widget/test-message-filters.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/instrumentation/test-instrument-setup.js">mail/test/mozmill/instrumentation/test-instrument-setup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/instrumentation/test-instrument-setup.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/instrumentation/test-instrument-setup.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/instrumentation/test-instrument-setup.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/instrumentation/test-instrument-setup.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/instrumentation/test-instrument-setup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-message-header.js">mail/test/mozmill/message-header/test-message-header.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-message-header.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-message-header.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-message-header.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-message-header.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-message-header.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-phishing-bar.js">mail/test/mozmill/message-header/test-phishing-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-phishing-bar.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-phishing-bar.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-phishing-bar.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-phishing-bar.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-phishing-bar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-identity.js">mail/test/mozmill/message-header/test-reply-identity.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-identity.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-identity.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-identity.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-identity.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-identity.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js">mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-return-receipt.js">mail/test/mozmill/message-header/test-return-receipt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-return-receipt.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-return-receipt.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-return-receipt.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-return-receipt.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-header/test-return-receipt.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-reader/test-bug594646.js">mail/test/mozmill/message-reader/test-bug594646.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-reader/test-bug594646.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-reader/test-bug594646.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-reader/test-bug594646.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-reader/test-bug594646.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-reader/test-bug594646.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-commands.js">mail/test/mozmill/message-window/test-commands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-commands.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-commands.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-commands.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-commands.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-commands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-eml-subject.js">mail/test/mozmill/message-window/test-eml-subject.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-eml-subject.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-eml-subject.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-eml-subject.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-eml-subject.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-eml-subject.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-message-sidebar.js">mail/test/mozmill/message-window/test-message-sidebar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-message-sidebar.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-message-sidebar.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-message-sidebar.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-message-sidebar.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-message-sidebar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-vcard-actions.js">mail/test/mozmill/message-window/test-vcard-actions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-vcard-actions.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-vcard-actions.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-vcard-actions.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-vcard-actions.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-vcard-actions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-view-plaintext.js">mail/test/mozmill/message-window/test-view-plaintext.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-view-plaintext.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-view-plaintext.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-view-plaintext.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-view-plaintext.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/message-window/test-view-plaintext.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/newmailaccount/test-newmailaccount.js">mail/test/mozmill/newmailaccount/test-newmailaccount.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/newmailaccount/test-newmailaccount.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/newmailaccount/test-newmailaccount.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/newmailaccount/test-newmailaccount.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/newmailaccount/test-newmailaccount.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/newmailaccount/test-newmailaccount.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/notification/test-notification.js">mail/test/mozmill/notification/test-notification.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/notification/test-notification.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/notification/test-notification.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/notification/test-notification.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/notification/test-notification.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/notification/test-notification.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/pref-window/test-font-chooser.js">mail/test/mozmill/pref-window/test-font-chooser.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/pref-window/test-font-chooser.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/pref-window/test-font-chooser.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/pref-window/test-font-chooser.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/pref-window/test-font-chooser.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/pref-window/test-font-chooser.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-display-issues.js">mail/test/mozmill/quick-filter-bar/test-display-issues.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-display-issues.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-display-issues.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-display-issues.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-display-issues.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-display-issues.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">mail/test/mozmill/quick-filter-bar/test-filter-logic.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-filter-logic.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">mail/test/mozmill/quick-filter-bar/test-toggle-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/search-window/test-search-window.js">mail/test/mozmill/search-window/test-search-window.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/search-window/test-search-window.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/search-window/test-search-window.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/search-window/test-search-window.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/search-window/test-search-window.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/search-window/test-search-window.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/session-store/test-session-store.js">mail/test/mozmill/session-store/test-session-store.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/session-store/test-session-store.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/session-store/test-session-store.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/session-store/test-session-store.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/session-store/test-session-store.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/session-store/test-session-store.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/WindowHelpers.jsm">mail/test/mozmill/shared-modules/WindowHelpers.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/WindowHelpers.jsm">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/WindowHelpers.jsm">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/WindowHelpers.jsm">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/WindowHelpers.jsm">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/WindowHelpers.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/moz.build">mail/test/mozmill/shared-modules/moz.build</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/moz.build">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/moz.build">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/moz.build">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/moz.build">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/moz.build">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">mail/test/mozmill/shared-modules/test-account-manager-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-account-manager-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-address-book-helpers.js">mail/test/mozmill/shared-modules/test-address-book-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-address-book-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-address-book-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-address-book-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-address-book-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-address-book-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-compose-helpers.js">mail/test/mozmill/shared-modules/test-compose-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-compose-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-compose-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-compose-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-compose-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-compose-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">mail/test/mozmill/shared-modules/test-content-tab-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-customization-helpers.js">mail/test/mozmill/shared-modules/test-customization-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-customization-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-customization-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-customization-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-customization-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-customization-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">mail/test/mozmill/shared-modules/test-folder-display-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-folder-display-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-nntp-helpers.js">mail/test/mozmill/shared-modules/test-nntp-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-nntp-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-nntp-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-nntp-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-nntp-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-nntp-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-search-window-helpers.js">mail/test/mozmill/shared-modules/test-search-window-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-search-window-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-search-window-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-search-window-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-search-window-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-search-window-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js">mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-window-helpers.js">mail/test/mozmill/shared-modules/test-window-helpers.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-window-helpers.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-window-helpers.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/shared-modules/test-window-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-closing.js">mail/test/mozmill/tabmail/test-tabmail-closing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-closing.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-closing.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-closing.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-closing.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-closing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-customize.js">mail/test/mozmill/tabmail/test-tabmail-customize.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-customize.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-customize.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-customize.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-customize.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-customize.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">file</a> |
<a href="/comm-central/annotate/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">annotate</a> |
<a href="/comm-central/diff/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">diff</a> |
<a href="/comm-central/comparison/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">comparison</a> |
<a href="/comm-central/log/19ae7a021b57cc3d81b5f95a8aa3f911c4301348/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/test/mozmill/Makefile.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/test/mozmill/Makefile.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -28,21 +28,21 @@ find-solo-test = $(if $(and $(SOLO_TEST)</span>
<a href="#l1.4"></a><span id="l1.4"> include $(moztopsrcdir)/config/rules.mk</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6"> mozmill:</span>
<a href="#l1.7"></a><span id="l1.7"> 	unset PYTHONHOME &amp;&amp; cd $(MOZMILLDIR) &amp;&amp; unset MACOSX_DEPLOYMENT_TARGET &amp;&amp; \</span>
<a href="#l1.8"></a><span id="l1.8"> 	$(MOZMILLPYTHON) runtestlist.py --list=$(srcdir)/mozmilltests.list \</span>
<a href="#l1.9"></a><span id="l1.9"> 	--binary=&quot;$(MOZMILLPROGRAM)&quot; \</span>
<a href="#l1.10"></a><span id="l1.10"> 	--dir=$(abspath $(MOZMILLDIR))/stage \</span>
<a href="#l1.11"></a><span id="l1.11"> 	--symbols-path=$(ABS_DIST)/crashreporter-symbols \</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-	--plugins-path=$(ABS_DIST)/plugins \</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+	--testing-modules-dir=$(topobjdir)/_tests/modules \</span>
<a href="#l1.14"></a><span id="l1.14"> 	$(MOZMILL_EXTRA)</span>
<a href="#l1.15"></a><span id="l1.15"> </span>
<a href="#l1.16"></a><span id="l1.16"> mozmill-one: solo-test = $(find-solo-test)</span>
<a href="#l1.17"></a><span id="l1.17"> mozmill-one:</span>
<a href="#l1.18"></a><span id="l1.18"> 	unset PYTHONHOME &amp;&amp; cd $(MOZMILLDIR) &amp;&amp; unset MACOSX_DEPLOYMENT_TARGET &amp;&amp; \</span>
<a href="#l1.19"></a><span id="l1.19"> 	$(MOZMILLPYTHON) runtest.py \</span>
<a href="#l1.20"></a><span id="l1.20"> 	--test=$(abspath $(MOZMILLDIR))/stage/$(solo-test) \</span>
<a href="#l1.21"></a><span id="l1.21"> 	--binary=&quot;$(MOZMILLPROGRAM)&quot; \</span>
<a href="#l1.22"></a><span id="l1.22"> 	--symbols-path=$(ABS_DIST)/crashreporter-symbols \</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineminus">-	--plugins-path=$(ABS_DIST)/plugins \</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+	--testing-modules-dir=$(topobjdir)/_tests/modules \</span>
<a href="#l1.25"></a><span id="l1.25"> 	$(MOZMILL_EXTRA)</span>
<a href="#l1.26"></a><span id="l1.26"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/test/mozmill/cal-recurrence/testLastDayOfMonthRecurrence.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,21 +1,24 @@</span>
<a href="#l2.4"></a><span id="l2.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.5"></a><span id="l2.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.6"></a><span id="l2.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8"> var MODULE_NAME = &quot;testLastDayOfMonthRecurrence&quot;;</span>
<a href="#l2.9"></a><span id="l2.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l2.10"></a><span id="l2.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+);</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENTPATH, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l2.18"></a><span id="l2.18"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate;</span>
<a href="#l2.19"></a><span id="l2.19"> var invokeEventDialog, closeAllEventDialogs, deleteCalendars, createCalendar, menulistSelect;</span>
<a href="#l2.20"></a><span id="l2.20"> var REC_DLG_ACCEPT;</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l2.22"></a><span id="l2.22"> </span>
<a href="#l2.23"></a><span id="l2.23"> const HOUR = 8;</span>
<a href="#l2.24"></a><span id="l2.24"> </span>
<a href="#l2.25"></a><span id="l2.25"> function setupModule(module) {</span>
<a href="#l2.26"></a><span id="l2.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l2.27"></a><span id="l2.27">   ({</span>
<a href="#l2.28"></a><span id="l2.28">     TIMEOUT_MODAL_DIALOG,</span>
<a href="#l2.29"></a><span id="l2.29">     CALENDARNAME,</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineat">@@ -33,18 +36,16 @@ function setupModule(module) {</span>
<a href="#l2.31"></a><span id="l2.31">     menulistSelect,</span>
<a href="#l2.32"></a><span id="l2.32">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l2.33"></a><span id="l2.33">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l2.34"></a><span id="l2.34">   Object.assign(module, helpersForController(controller));</span>
<a href="#l2.35"></a><span id="l2.35"> </span>
<a href="#l2.36"></a><span id="l2.36">   ({ REC_DLG_ACCEPT } = collector.getModule(&quot;item-editing-helpers&quot;));</span>
<a href="#l2.37"></a><span id="l2.37">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l2.38"></a><span id="l2.38"> </span>
<a href="#l2.39"></a><span id="l2.39" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineminus">-</span>
<a href="#l2.41"></a><span id="l2.41">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l2.42"></a><span id="l2.42"> }</span>
<a href="#l2.43"></a><span id="l2.43"> </span>
<a href="#l2.44"></a><span id="l2.44"> function testLastDayOfMonthRecurrence() {</span>
<a href="#l2.45"></a><span id="l2.45">   goToDate(controller, 2008, 1, 31); // Start with a leap year.</span>
<a href="#l2.46"></a><span id="l2.46"> </span>
<a href="#l2.47"></a><span id="l2.47">   // Create monthly recurring event.</span>
<a href="#l2.48"></a><span id="l2.48">   let eventBox = lookupEventBox(&quot;day&quot;, CANVAS_BOX, null, 1, HOUR);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/test/mozmill/cal-recurrence/testWeeklyNRecurrence.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,23 +1,26 @@</span>
<a href="#l3.4"></a><span id="l3.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l3.5"></a><span id="l3.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.6"></a><span id="l3.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> var MODULE_NAME = &quot;testWeeklyNRecurrence&quot;;</span>
<a href="#l3.9"></a><span id="l3.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+);</span>
<a href="#l3.16"></a><span id="l3.16"> </span>
<a href="#l3.17"></a><span id="l3.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l3.18"></a><span id="l3.18"> </span>
<a href="#l3.19"></a><span id="l3.19"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENTPATH, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l3.20"></a><span id="l3.20"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate, invokeEventDialog;</span>
<a href="#l3.21"></a><span id="l3.21"> var viewForward, deleteCalendars, closeAllEventDialogs, createCalendar, menulistSelect;</span>
<a href="#l3.22"></a><span id="l3.22"> var REC_DLG_ACCEPT, REC_DLG_DAYS;</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l3.24"></a><span id="l3.24"> </span>
<a href="#l3.25"></a><span id="l3.25"> const HOUR = 8;</span>
<a href="#l3.26"></a><span id="l3.26"> </span>
<a href="#l3.27"></a><span id="l3.27"> function setupModule(module) {</span>
<a href="#l3.28"></a><span id="l3.28">   controller = mozmill.getMail3PaneController();</span>
<a href="#l3.29"></a><span id="l3.29">   ({</span>
<a href="#l3.30"></a><span id="l3.30">     TIMEOUT_MODAL_DIALOG,</span>
<a href="#l3.31"></a><span id="l3.31">     CALENDARNAME,</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineat">@@ -36,18 +39,16 @@ function setupModule(module) {</span>
<a href="#l3.33"></a><span id="l3.33">     menulistSelect,</span>
<a href="#l3.34"></a><span id="l3.34">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l3.35"></a><span id="l3.35">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l3.36"></a><span id="l3.36">   Object.assign(module, helpersForController(controller));</span>
<a href="#l3.37"></a><span id="l3.37"> </span>
<a href="#l3.38"></a><span id="l3.38">   ({ REC_DLG_ACCEPT, REC_DLG_DAYS } = collector.getModule(&quot;item-editing-helpers&quot;));</span>
<a href="#l3.39"></a><span id="l3.39">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l3.40"></a><span id="l3.40"> </span>
<a href="#l3.41"></a><span id="l3.41" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineminus">-</span>
<a href="#l3.43"></a><span id="l3.43">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l3.44"></a><span id="l3.44"> }</span>
<a href="#l3.45"></a><span id="l3.45"> </span>
<a href="#l3.46"></a><span id="l3.46"> function testWeeklyNRecurrence() {</span>
<a href="#l3.47"></a><span id="l3.47">   goToDate(controller, 2009, 1, 5);</span>
<a href="#l3.48"></a><span id="l3.48"> </span>
<a href="#l3.49"></a><span id="l3.49">   // Create weekly recurring event.</span>
<a href="#l3.50"></a><span id="l3.50">   let eventBox = lookupEventBox(&quot;day&quot;, CANVAS_BOX, null, 1, HOUR);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/test/mozmill/cal-recurrence/testWeeklyUntilRecurrence.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,23 +1,26 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.5"></a><span id="l4.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.6"></a><span id="l4.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> var MODULE_NAME = &quot;testWeeklyUntilRecurrence&quot;;</span>
<a href="#l4.9"></a><span id="l4.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+);</span>
<a href="#l4.16"></a><span id="l4.16"> </span>
<a href="#l4.17"></a><span id="l4.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19"> var SHORT_SLEEP, TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENTPATH, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l4.20"></a><span id="l4.20"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate, invokeEventDialog;</span>
<a href="#l4.21"></a><span id="l4.21"> var viewForward, closeAllEventDialogs, deleteCalendars, createCalendar, menulistSelect;</span>
<a href="#l4.22"></a><span id="l4.22"> var REC_DLG_DAYS, REC_DLG_ACCEPT, REC_DLG_UNTIL_INPUT;</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l4.24"></a><span id="l4.24"> </span>
<a href="#l4.25"></a><span id="l4.25"> const ENDDATE = new Date(2009, 0, 26); // Last Monday in month.</span>
<a href="#l4.26"></a><span id="l4.26"> const HOUR = 8;</span>
<a href="#l4.27"></a><span id="l4.27"> </span>
<a href="#l4.28"></a><span id="l4.28"> function setupModule(module) {</span>
<a href="#l4.29"></a><span id="l4.29">   controller = mozmill.getMail3PaneController();</span>
<a href="#l4.30"></a><span id="l4.30">   ({</span>
<a href="#l4.31"></a><span id="l4.31">     SHORT_SLEEP,</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineat">@@ -40,18 +43,16 @@ function setupModule(module) {</span>
<a href="#l4.33"></a><span id="l4.33">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l4.34"></a><span id="l4.34">   Object.assign(module, helpersForController(controller));</span>
<a href="#l4.35"></a><span id="l4.35"> </span>
<a href="#l4.36"></a><span id="l4.36">   ({ REC_DLG_DAYS, REC_DLG_ACCEPT, REC_DLG_UNTIL_INPUT } = collector.getModule(</span>
<a href="#l4.37"></a><span id="l4.37">     &quot;item-editing-helpers&quot;</span>
<a href="#l4.38"></a><span id="l4.38">   ));</span>
<a href="#l4.39"></a><span id="l4.39">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l4.40"></a><span id="l4.40"> </span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineminus">-</span>
<a href="#l4.43"></a><span id="l4.43">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l4.44"></a><span id="l4.44"> }</span>
<a href="#l4.45"></a><span id="l4.45"> </span>
<a href="#l4.46"></a><span id="l4.46"> function testWeeklyUntilRecurrence() {</span>
<a href="#l4.47"></a><span id="l4.47">   goToDate(controller, 2009, 1, 5); // Monday</span>
<a href="#l4.48"></a><span id="l4.48"> </span>
<a href="#l4.49"></a><span id="l4.49">   // Create weekly recurring event.</span>
<a href="#l4.50"></a><span id="l4.50">   let eventBox = lookupEventBox(&quot;day&quot;, CANVAS_BOX, null, 1, HOUR);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/test/mozmill/cal-recurrence/testWeeklyWithExceptionRecurrence.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,24 +1,27 @@</span>
<a href="#l5.4"></a><span id="l5.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.5"></a><span id="l5.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.6"></a><span id="l5.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8"> var MODULE_NAME = &quot;testWeeklyWithExceptionRecurrence&quot;;</span>
<a href="#l5.9"></a><span id="l5.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+);</span>
<a href="#l5.16"></a><span id="l5.16"> </span>
<a href="#l5.17"></a><span id="l5.17"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l5.18"></a><span id="l5.18"> var DAY_VIEW, WEEK_VIEW, EVENTPATH;</span>
<a href="#l5.19"></a><span id="l5.19"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate;</span>
<a href="#l5.20"></a><span id="l5.20"> var invokeEventDialog, viewForward, closeAllEventDialogs, deleteCalendars, createCalendar;</span>
<a href="#l5.21"></a><span id="l5.21"> var menulistSelect;</span>
<a href="#l5.22"></a><span id="l5.22"> var REPEAT_DETAILS, REC_DLG_ACCEPT, REC_DLG_DAYS;</span>
<a href="#l5.23"></a><span id="l5.23"> var helpersForEditUI, setData;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l5.25"></a><span id="l5.25"> </span>
<a href="#l5.26"></a><span id="l5.26"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l5.27"></a><span id="l5.27"> </span>
<a href="#l5.28"></a><span id="l5.28"> const HOUR = 8;</span>
<a href="#l5.29"></a><span id="l5.29"> const STARTDATE = new Date(2009, 0, 6);</span>
<a href="#l5.30"></a><span id="l5.30"> </span>
<a href="#l5.31"></a><span id="l5.31"> function setupModule(module) {</span>
<a href="#l5.32"></a><span id="l5.32">   controller = mozmill.getMail3PaneController();</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineat">@@ -48,18 +51,16 @@ function setupModule(module) {</span>
<a href="#l5.34"></a><span id="l5.34">     REPEAT_DETAILS,</span>
<a href="#l5.35"></a><span id="l5.35">     REC_DLG_ACCEPT,</span>
<a href="#l5.36"></a><span id="l5.36">     REC_DLG_DAYS,</span>
<a href="#l5.37"></a><span id="l5.37">     helpersForEditUI,</span>
<a href="#l5.38"></a><span id="l5.38">     setData,</span>
<a href="#l5.39"></a><span id="l5.39">   } = collector.getModule(&quot;item-editing-helpers&quot;));</span>
<a href="#l5.40"></a><span id="l5.40">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l5.41"></a><span id="l5.41"> </span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineminus">-</span>
<a href="#l5.44"></a><span id="l5.44">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l5.45"></a><span id="l5.45"> }</span>
<a href="#l5.46"></a><span id="l5.46"> </span>
<a href="#l5.47"></a><span id="l5.47"> function testWeeklyWithExceptionRecurrence() {</span>
<a href="#l5.48"></a><span id="l5.48">   goToDate(controller, 2009, 1, 5);</span>
<a href="#l5.49"></a><span id="l5.49"> </span>
<a href="#l5.50"></a><span id="l5.50">   // Create weekly recurring event.</span>
<a href="#l5.51"></a><span id="l5.51">   let eventBox = lookupEventBox(&quot;day&quot;, CANVAS_BOX, null, 1, HOUR);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testAlarmDialog.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testAlarmDialog.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,26 +1,28 @@</span>
<a href="#l6.4"></a><span id="l6.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.5"></a><span id="l6.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.6"></a><span id="l6.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8"> var MODULE_NAME = &quot;testAlarmDialog&quot;;</span>
<a href="#l6.9"></a><span id="l6.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+);</span>
<a href="#l6.16"></a><span id="l6.16"> </span>
<a href="#l6.17"></a><span id="l6.17"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENTPATH, ALLDAY;</span>
<a href="#l6.18"></a><span id="l6.18"> var helpersForController, switchToView, goToDate, lookupEventBox;</span>
<a href="#l6.19"></a><span id="l6.19"> var invokeEventDialog, viewForward, closeAllEventDialogs, deleteCalendars;</span>
<a href="#l6.20"></a><span id="l6.20"> var createCalendar;</span>
<a href="#l6.21"></a><span id="l6.21"> var setData;</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l6.23"></a><span id="l6.23"> </span>
<a href="#l6.24"></a><span id="l6.24"> function setupModule(module) {</span>
<a href="#l6.25"></a><span id="l6.25">   controller = mozmill.getMail3PaneController();</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l6.27"></a><span id="l6.27">   ({</span>
<a href="#l6.28"></a><span id="l6.28">     TIMEOUT_MODAL_DIALOG,</span>
<a href="#l6.29"></a><span id="l6.29">     CALENDARNAME,</span>
<a href="#l6.30"></a><span id="l6.30">     EVENTPATH,</span>
<a href="#l6.31"></a><span id="l6.31">     ALLDAY,</span>
<a href="#l6.32"></a><span id="l6.32">     helpersForController,</span>
<a href="#l6.33"></a><span id="l6.33">     switchToView,</span>
<a href="#l6.34"></a><span id="l6.34">     goToDate,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1,36 +1,38 @@</span>
<a href="#l7.4"></a><span id="l7.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.5"></a><span id="l7.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.6"></a><span id="l7.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> var MODULE_NAME = &quot;testEventDialog&quot;;</span>
<a href="#l7.9"></a><span id="l7.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l7.10"></a><span id="l7.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+);</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l7.18"></a><span id="l7.18"> </span>
<a href="#l7.19"></a><span id="l7.19"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENTPATH, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l7.20"></a><span id="l7.20"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate, lookupEventBox;</span>
<a href="#l7.21"></a><span id="l7.21"> var invokeEventDialog, checkAlarmIcon, viewBack, closeAllEventDialogs, deleteCalendars;</span>
<a href="#l7.22"></a><span id="l7.22"> var createCalendar;</span>
<a href="#l7.23"></a><span id="l7.23"> var EVENT_TABPANELS, ATTENDEES_ROW;</span>
<a href="#l7.24"></a><span id="l7.24"> var helpersForEditUI, setData;</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l7.26"></a><span id="l7.26"> </span>
<a href="#l7.27"></a><span id="l7.27"> const EVENTTITLE = &quot;Event&quot;;</span>
<a href="#l7.28"></a><span id="l7.28"> const EVENTLOCATION = &quot;Location&quot;;</span>
<a href="#l7.29"></a><span id="l7.29"> const EVENTDESCRIPTION = &quot;Event Description&quot;;</span>
<a href="#l7.30"></a><span id="l7.30"> const EVENTATTENDEE = &quot;foo@bar.com&quot;;</span>
<a href="#l7.31"></a><span id="l7.31"> const EVENTURL = &quot;http://mozilla.org/&quot;;</span>
<a href="#l7.32"></a><span id="l7.32"> var firstDay;</span>
<a href="#l7.33"></a><span id="l7.33"> </span>
<a href="#l7.34"></a><span id="l7.34"> function setupModule(module) {</span>
<a href="#l7.35"></a><span id="l7.35">   controller = mozmill.getMail3PaneController();</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l7.37"></a><span id="l7.37">   ({</span>
<a href="#l7.38"></a><span id="l7.38">     TIMEOUT_MODAL_DIALOG,</span>
<a href="#l7.39"></a><span id="l7.39">     CALENDARNAME,</span>
<a href="#l7.40"></a><span id="l7.40">     EVENTPATH,</span>
<a href="#l7.41"></a><span id="l7.41">     EVENT_BOX,</span>
<a href="#l7.42"></a><span id="l7.42">     CANVAS_BOX,</span>
<a href="#l7.43"></a><span id="l7.43">     helpersForController,</span>
<a href="#l7.44"></a><span id="l7.44">     handleOccurrencePrompt,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,28 +1,26 @@</span>
<a href="#l8.4"></a><span id="l8.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.5"></a><span id="l8.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.6"></a><span id="l8.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> var MODULE_NAME = &quot;testEventDialogModificationPrompt&quot;;</span>
<a href="#l8.9"></a><span id="l8.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l8.10"></a><span id="l8.10" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineminus">-  &quot;calendar-utils&quot;,</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-  &quot;item-editing-helpers&quot;,</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-];</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;folder-display-helpers&quot;];</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineplus">+</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+);</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l8.23"></a><span id="l8.23"> </span>
<a href="#l8.24"></a><span id="l8.24"> var CALENDARNAME, EVENT_BOX, CANVAS_BOX, EVENTPATH;</span>
<a href="#l8.25"></a><span id="l8.25"> var helpersForController, invokeEventDialog, createCalendar, closeAllEventDialogs, deleteCalendars;</span>
<a href="#l8.26"></a><span id="l8.26"> var goToDate;</span>
<a href="#l8.27"></a><span id="l8.27"> var setData;</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l8.29"></a><span id="l8.29"> var mark_failure;</span>
<a href="#l8.30"></a><span id="l8.30"> </span>
<a href="#l8.31"></a><span id="l8.31"> const TIMEOUT_COMMON_DIALOG = 3000;</span>
<a href="#l8.32"></a><span id="l8.32"> var savePromptAppeared = false;</span>
<a href="#l8.33"></a><span id="l8.33"> var failPoints = {</span>
<a href="#l8.34"></a><span id="l8.34">   first: &quot;no change&quot;,</span>
<a href="#l8.35"></a><span id="l8.35">   second: &quot;change all and back&quot;,</span>
<a href="#l8.36"></a><span id="l8.36">   third: [&quot;1st pass&quot;, &quot;2nd pass&quot;, &quot;3rd pass&quot;, &quot;4th pass&quot;, &quot;5th pass&quot;],</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineat">@@ -45,18 +43,16 @@ function setupModule(module) {</span>
<a href="#l8.38"></a><span id="l8.38">     goToDate,</span>
<a href="#l8.39"></a><span id="l8.39">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l8.40"></a><span id="l8.40">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l8.41"></a><span id="l8.41">   Object.assign(module, helpersForController(controller));</span>
<a href="#l8.42"></a><span id="l8.42"> </span>
<a href="#l8.43"></a><span id="l8.43">   ({ setData } = collector.getModule(&quot;item-editing-helpers&quot;));</span>
<a href="#l8.44"></a><span id="l8.44">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l8.45"></a><span id="l8.45"> </span>
<a href="#l8.46"></a><span id="l8.46" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineminus">-</span>
<a href="#l8.48"></a><span id="l8.48">   ({ mark_failure } = collector.getModule(&quot;folder-display-helpers&quot;));</span>
<a href="#l8.49"></a><span id="l8.49"> </span>
<a href="#l8.50"></a><span id="l8.50">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l8.51"></a><span id="l8.51"> }</span>
<a href="#l8.52"></a><span id="l8.52"> </span>
<a href="#l8.53"></a><span id="l8.53"> // Test that closing an event dialog with no changes does not prompt for save.</span>
<a href="#l8.54"></a><span id="l8.54"> function testEventDialogModificationPrompt() {</span>
<a href="#l8.55"></a><span id="l8.55">   goToDate(controller, 2009, 1, 1);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialogSize.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialogSize.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l9.4"></a><span id="l9.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.5"></a><span id="l9.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.6"></a><span id="l9.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> var MODULE_NAME = &quot;testEventDialogSize&quot;;</span>
<a href="#l9.9"></a><span id="l9.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;window-helpers&quot;];</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;];</span>
<a href="#l9.12"></a><span id="l9.12"> </span>
<a href="#l9.13"></a><span id="l9.13"> var helpersForController, invokeEventDialog, createCalendar, closeAllEventDialogs, deleteCalendars;</span>
<a href="#l9.14"></a><span id="l9.14"> var CALENDARNAME;</span>
<a href="#l9.15"></a><span id="l9.15"> </span>
<a href="#l9.16"></a><span id="l9.16"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l9.17"></a><span id="l9.17"> </span>
<a href="#l9.18"></a><span id="l9.18"> const SMALL_TOLERANCE = 5;</span>
<a href="#l9.19"></a><span id="l9.19"> const LARGE_TOLERANCE = 10;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/test/mozmill/invitations/test-imip-bar-eml.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/test/mozmill/invitations/test-imip-bar-eml.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,26 +1,25 @@</span>
<a href="#l10.4"></a><span id="l10.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.5"></a><span id="l10.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.6"></a><span id="l10.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8"> /**</span>
<a href="#l10.9"></a><span id="l10.9">  * Test that the IMIP bar behaves properly for eml files.</span>
<a href="#l10.10"></a><span id="l10.10">  */</span>
<a href="#l10.11"></a><span id="l10.11"> </span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-// make -C calendar/test/mozmill SOLO_TEST=invitations/test-imip-bar-eml.js mozmill-one</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+/* import-globals-from ../../../../mail/test/mozmill/shared-modules/test-folder-display-helpers.js */</span>
<a href="#l10.14"></a><span id="l10.14"> </span>
<a href="#l10.15"></a><span id="l10.15"> var MODULE_NAME = &quot;testInvitations&quot;;</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-</span>
<a href="#l10.17"></a><span id="l10.17"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l10.19"></a><span id="l10.19" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l10.20"></a><span id="l10.20"> </span>
<a href="#l10.21"></a><span id="l10.21"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l10.22"></a><span id="l10.22"> </span>
<a href="#l10.23"></a><span id="l10.23" class="difflineminus">-/* globals open_message_from_file, close_window */</span>
<a href="#l10.24"></a><span id="l10.24" class="difflineplus">+var { close_window } = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l10.25"></a><span id="l10.25"> </span>
<a href="#l10.26"></a><span id="l10.26"> function setupModule(module) {</span>
<a href="#l10.27"></a><span id="l10.27">   for (let dep of MODULE_REQUIRES) {</span>
<a href="#l10.28"></a><span id="l10.28">     collector.getModule(dep).installInto(module);</span>
<a href="#l10.29"></a><span id="l10.29">   }</span>
<a href="#l10.30"></a><span id="l10.30"> }</span>
<a href="#l10.31"></a><span id="l10.31"> </span>
<a href="#l10.32"></a><span id="l10.32"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/test/mozmill/preferences/testAlarmDefaultValue.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/test/mozmill/preferences/testAlarmDefaultValue.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -5,42 +5,43 @@</span>
<a href="#l11.4"></a><span id="l11.4"> /**</span>
<a href="#l11.5"></a><span id="l11.5">  * Test default alarm settings for events and tasks</span>
<a href="#l11.6"></a><span id="l11.6">  */</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8"> var MODULE_NAME = &quot;testAlarmDefaultValue&quot;;</span>
<a href="#l11.9"></a><span id="l11.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l11.10"></a><span id="l11.10"> var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;content-tab-helpers&quot;];</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+);</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+</span>
<a href="#l11.16"></a><span id="l11.16"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l11.17"></a><span id="l11.17"> var { PluralForm } = ChromeUtils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l11.18"></a><span id="l11.18"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l11.19"></a><span id="l11.19"> </span>
<a href="#l11.20"></a><span id="l11.20"> const DEFVALUE = 43;</span>
<a href="#l11.21"></a><span id="l11.21"> </span>
<a href="#l11.22"></a><span id="l11.22"> var helpersForController, invokeEventDialog, openLightningPrefs, closeLightningPrefs;</span>
<a href="#l11.23"></a><span id="l11.23"> var menulistSelect;</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l11.25"></a><span id="l11.25"> var content_tab_e, content_tab_eid;</span>
<a href="#l11.26"></a><span id="l11.26"> </span>
<a href="#l11.27"></a><span id="l11.27"> var prefTab = null;</span>
<a href="#l11.28"></a><span id="l11.28"> </span>
<a href="#l11.29"></a><span id="l11.29"> function setupModule(module) {</span>
<a href="#l11.30"></a><span id="l11.30">   controller = mozmill.getMail3PaneController();</span>
<a href="#l11.31"></a><span id="l11.31">   ({</span>
<a href="#l11.32"></a><span id="l11.32">     helpersForController,</span>
<a href="#l11.33"></a><span id="l11.33">     invokeEventDialog,</span>
<a href="#l11.34"></a><span id="l11.34">     openLightningPrefs,</span>
<a href="#l11.35"></a><span id="l11.35">     closeLightningPrefs,</span>
<a href="#l11.36"></a><span id="l11.36">     menulistSelect,</span>
<a href="#l11.37"></a><span id="l11.37">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l11.38"></a><span id="l11.38">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l11.39"></a><span id="l11.39"> </span>
<a href="#l11.40"></a><span id="l11.40" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l11.41"></a><span id="l11.41" class="difflineminus">-</span>
<a href="#l11.42"></a><span id="l11.42">   ({ content_tab_e, content_tab_eid } = collector.getModule(&quot;content-tab-helpers&quot;));</span>
<a href="#l11.43"></a><span id="l11.43">   collector.getModule(&quot;content-tab-helpers&quot;).setupModule();</span>
<a href="#l11.44"></a><span id="l11.44"> }</span>
<a href="#l11.45"></a><span id="l11.45"> </span>
<a href="#l11.46"></a><span id="l11.46"> function testDefaultAlarms() {</span>
<a href="#l11.47"></a><span id="l11.47">   let localeUnitString = cal.l10n.getCalString(&quot;unitDays&quot;);</span>
<a href="#l11.48"></a><span id="l11.48">   let unitString = PluralForm.get(DEFVALUE, localeUnitString).replace(&quot;#1&quot;, DEFVALUE);</span>
<a href="#l11.49"></a><span id="l11.49">   let alarmString = (...args) =&gt; cal.l10n.getString(&quot;calendar-alarms&quot;, ...args);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/test/mozmill/preferences/testCategoryColors.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/test/mozmill/preferences/testCategoryColors.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1,31 +1,32 @@</span>
<a href="#l12.4"></a><span id="l12.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.5"></a><span id="l12.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.6"></a><span id="l12.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8"> var MODULE_NAME = &quot;testCategoryColors&quot;;</span>
<a href="#l12.9"></a><span id="l12.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l12.10"></a><span id="l12.10"> var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;content-tab-helpers&quot;];</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+var { wait_for_frame_load } = ChromeUtils.import(</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+);</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+</span>
<a href="#l12.16"></a><span id="l12.16"> var helpersForController, openLightningPrefs, closeLightningPrefs;</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-var wait_for_frame_load;</span>
<a href="#l12.18"></a><span id="l12.18"> var content_tab_e, content_tab_eid;</span>
<a href="#l12.19"></a><span id="l12.19"> </span>
<a href="#l12.20"></a><span id="l12.20"> var prefTab = null;</span>
<a href="#l12.21"></a><span id="l12.21"> </span>
<a href="#l12.22"></a><span id="l12.22"> function setupModule(module) {</span>
<a href="#l12.23"></a><span id="l12.23">   controller = mozmill.getMail3PaneController();</span>
<a href="#l12.24"></a><span id="l12.24">   ({ helpersForController, openLightningPrefs, closeLightningPrefs } = collector.getModule(</span>
<a href="#l12.25"></a><span id="l12.25">     &quot;calendar-utils&quot;</span>
<a href="#l12.26"></a><span id="l12.26">   ));</span>
<a href="#l12.27"></a><span id="l12.27">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l12.28"></a><span id="l12.28"> </span>
<a href="#l12.29"></a><span id="l12.29" class="difflineminus">-  ({ wait_for_frame_load } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineminus">-</span>
<a href="#l12.31"></a><span id="l12.31">   ({ content_tab_e, content_tab_eid } = collector.getModule(&quot;content-tab-helpers&quot;));</span>
<a href="#l12.32"></a><span id="l12.32">   collector.getModule(&quot;content-tab-helpers&quot;).setupModule();</span>
<a href="#l12.33"></a><span id="l12.33"> }</span>
<a href="#l12.34"></a><span id="l12.34"> </span>
<a href="#l12.35"></a><span id="l12.35"> function testCategoryColors() {</span>
<a href="#l12.36"></a><span id="l12.36">   openLightningPrefs(tab =&gt; {</span>
<a href="#l12.37"></a><span id="l12.37">     prefTab = tab;</span>
<a href="#l12.38"></a><span id="l12.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -1,21 +1,24 @@</span>
<a href="#l13.4"></a><span id="l13.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.5"></a><span id="l13.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.6"></a><span id="l13.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8"> var MODULE_NAME = &quot;testLastDayOfMonthRecurrenceRotated&quot;;</span>
<a href="#l13.9"></a><span id="l13.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l13.10"></a><span id="l13.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l13.11"></a><span id="l13.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+);</span>
<a href="#l13.16"></a><span id="l13.16"> </span>
<a href="#l13.17"></a><span id="l13.17"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENTPATH, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l13.18"></a><span id="l13.18"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate;</span>
<a href="#l13.19"></a><span id="l13.19"> var invokeEventDialog, closeAllEventDialogs, deleteCalendars, createCalendar, menulistSelect;</span>
<a href="#l13.20"></a><span id="l13.20"> var REC_DLG_ACCEPT;</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l13.22"></a><span id="l13.22"> </span>
<a href="#l13.23"></a><span id="l13.23"> const HOUR = 8;</span>
<a href="#l13.24"></a><span id="l13.24"> </span>
<a href="#l13.25"></a><span id="l13.25"> function setupModule(module) {</span>
<a href="#l13.26"></a><span id="l13.26">   controller = mozmill.getMail3PaneController();</span>
<a href="#l13.27"></a><span id="l13.27">   ({</span>
<a href="#l13.28"></a><span id="l13.28">     TIMEOUT_MODAL_DIALOG,</span>
<a href="#l13.29"></a><span id="l13.29">     CALENDARNAME,</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineat">@@ -33,18 +36,16 @@ function setupModule(module) {</span>
<a href="#l13.31"></a><span id="l13.31">     menulistSelect,</span>
<a href="#l13.32"></a><span id="l13.32">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l13.33"></a><span id="l13.33">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l13.34"></a><span id="l13.34">   Object.assign(module, helpersForController(controller));</span>
<a href="#l13.35"></a><span id="l13.35"> </span>
<a href="#l13.36"></a><span id="l13.36">   ({ REC_DLG_ACCEPT } = collector.getModule(&quot;item-editing-helpers&quot;));</span>
<a href="#l13.37"></a><span id="l13.37">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l13.38"></a><span id="l13.38"> </span>
<a href="#l13.39"></a><span id="l13.39" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineminus">-</span>
<a href="#l13.41"></a><span id="l13.41">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l13.42"></a><span id="l13.42">   // Rotate view.</span>
<a href="#l13.43"></a><span id="l13.43">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l13.44"></a><span id="l13.44">   controller.mainMenu.click(&quot;#ltnViewRotated&quot;);</span>
<a href="#l13.45"></a><span id="l13.45">   controller.waitFor(() =&gt; eid(&quot;day-view&quot;).getNode().orient == &quot;horizontal&quot;);</span>
<a href="#l13.46"></a><span id="l13.46"> }</span>
<a href="#l13.47"></a><span id="l13.47"> </span>
<a href="#l13.48"></a><span id="l13.48"> function testLastDayOfMonthRecurrence() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1,28 +1,31 @@</span>
<a href="#l14.4"></a><span id="l14.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.5"></a><span id="l14.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.6"></a><span id="l14.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8"> var MODULE_NAME = &quot;testWeeklyNRecurrenceRotated&quot;;</span>
<a href="#l14.9"></a><span id="l14.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+);</span>
<a href="#l14.16"></a><span id="l14.16"> </span>
<a href="#l14.17"></a><span id="l14.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l14.18"></a><span id="l14.18"> </span>
<a href="#l14.19"></a><span id="l14.19"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENTPATH, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l14.20"></a><span id="l14.20"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate;</span>
<a href="#l14.21"></a><span id="l14.21"> var invokeEventDialog,</span>
<a href="#l14.22"></a><span id="l14.22">   viewForward,</span>
<a href="#l14.23"></a><span id="l14.23">   closeAllEventDialogs,</span>
<a href="#l14.24"></a><span id="l14.24">   deleteCalendars,</span>
<a href="#l14.25"></a><span id="l14.25">   createCalendar,</span>
<a href="#l14.26"></a><span id="l14.26">   menulistSelect;</span>
<a href="#l14.27"></a><span id="l14.27"> var REC_DLG_ACCEPT, REC_DLG_DAYS;</span>
<a href="#l14.28"></a><span id="l14.28" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l14.29"></a><span id="l14.29"> </span>
<a href="#l14.30"></a><span id="l14.30"> const HOUR = 8;</span>
<a href="#l14.31"></a><span id="l14.31"> </span>
<a href="#l14.32"></a><span id="l14.32"> function setupModule(module) {</span>
<a href="#l14.33"></a><span id="l14.33">   controller = mozmill.getMail3PaneController();</span>
<a href="#l14.34"></a><span id="l14.34">   ({</span>
<a href="#l14.35"></a><span id="l14.35">     TIMEOUT_MODAL_DIALOG,</span>
<a href="#l14.36"></a><span id="l14.36">     CALENDARNAME,</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineat">@@ -41,18 +44,16 @@ function setupModule(module) {</span>
<a href="#l14.38"></a><span id="l14.38">     menulistSelect,</span>
<a href="#l14.39"></a><span id="l14.39">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l14.40"></a><span id="l14.40">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l14.41"></a><span id="l14.41">   Object.assign(module, helpersForController(controller));</span>
<a href="#l14.42"></a><span id="l14.42"> </span>
<a href="#l14.43"></a><span id="l14.43">   ({ REC_DLG_ACCEPT, REC_DLG_DAYS } = collector.getModule(&quot;item-editing-helpers&quot;));</span>
<a href="#l14.44"></a><span id="l14.44">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l14.45"></a><span id="l14.45"> </span>
<a href="#l14.46"></a><span id="l14.46" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l14.47"></a><span id="l14.47" class="difflineminus">-</span>
<a href="#l14.48"></a><span id="l14.48">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l14.49"></a><span id="l14.49">   // Rotate view.</span>
<a href="#l14.50"></a><span id="l14.50">   controller.mainMenu.click(&quot;#ltnViewRotated&quot;);</span>
<a href="#l14.51"></a><span id="l14.51">   controller.waitFor(() =&gt; eid(&quot;day-view&quot;).getNode().orient == &quot;horizontal&quot;);</span>
<a href="#l14.52"></a><span id="l14.52"> }</span>
<a href="#l14.53"></a><span id="l14.53"> </span>
<a href="#l14.54"></a><span id="l14.54"> function testWeeklyNRecurrence() {</span>
<a href="#l14.55"></a><span id="l14.55">   goToDate(controller, 2009, 1, 5);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -1,28 +1,31 @@</span>
<a href="#l15.4"></a><span id="l15.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.5"></a><span id="l15.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.6"></a><span id="l15.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8"> var MODULE_NAME = &quot;testWeeklyUntilRecurrenceRotated&quot;;</span>
<a href="#l15.9"></a><span id="l15.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l15.10"></a><span id="l15.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l15.11"></a><span id="l15.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+);</span>
<a href="#l15.16"></a><span id="l15.16"> </span>
<a href="#l15.17"></a><span id="l15.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l15.18"></a><span id="l15.18"> </span>
<a href="#l15.19"></a><span id="l15.19"> var SHORT_SLEEP, TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENTPATH, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l15.20"></a><span id="l15.20"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate;</span>
<a href="#l15.21"></a><span id="l15.21"> var invokeEventDialog,</span>
<a href="#l15.22"></a><span id="l15.22">   viewForward,</span>
<a href="#l15.23"></a><span id="l15.23">   closeAllEventDialogs,</span>
<a href="#l15.24"></a><span id="l15.24">   deleteCalendars,</span>
<a href="#l15.25"></a><span id="l15.25">   createCalendar,</span>
<a href="#l15.26"></a><span id="l15.26">   menulistSelect;</span>
<a href="#l15.27"></a><span id="l15.27"> var REC_DLG_DAYS, REC_DLG_ACCEPT, REC_DLG_UNTIL_INPUT;</span>
<a href="#l15.28"></a><span id="l15.28" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l15.29"></a><span id="l15.29"> </span>
<a href="#l15.30"></a><span id="l15.30"> const ENDDATE = new Date(2009, 0, 26); // last Monday in month</span>
<a href="#l15.31"></a><span id="l15.31"> const HOUR = 8;</span>
<a href="#l15.32"></a><span id="l15.32"> </span>
<a href="#l15.33"></a><span id="l15.33"> function setupModule(module) {</span>
<a href="#l15.34"></a><span id="l15.34">   controller = mozmill.getMail3PaneController();</span>
<a href="#l15.35"></a><span id="l15.35">   ({</span>
<a href="#l15.36"></a><span id="l15.36">     SHORT_SLEEP,</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineat">@@ -45,18 +48,16 @@ function setupModule(module) {</span>
<a href="#l15.38"></a><span id="l15.38">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l15.39"></a><span id="l15.39">   Object.assign(module, helpersForController(controller));</span>
<a href="#l15.40"></a><span id="l15.40"> </span>
<a href="#l15.41"></a><span id="l15.41">   ({ REC_DLG_DAYS, REC_DLG_ACCEPT, REC_DLG_UNTIL_INPUT } = collector.getModule(</span>
<a href="#l15.42"></a><span id="l15.42">     &quot;item-editing-helpers&quot;</span>
<a href="#l15.43"></a><span id="l15.43">   ));</span>
<a href="#l15.44"></a><span id="l15.44">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l15.45"></a><span id="l15.45"> </span>
<a href="#l15.46"></a><span id="l15.46" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineminus">-</span>
<a href="#l15.48"></a><span id="l15.48">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l15.49"></a><span id="l15.49">   // Rotate view.</span>
<a href="#l15.50"></a><span id="l15.50">   controller.mainMenu.click(&quot;#ltnViewRotated&quot;);</span>
<a href="#l15.51"></a><span id="l15.51">   controller.waitFor(() =&gt; eid(&quot;day-view&quot;).getNode().orient == &quot;horizontal&quot;);</span>
<a href="#l15.52"></a><span id="l15.52"> }</span>
<a href="#l15.53"></a><span id="l15.53"> </span>
<a href="#l15.54"></a><span id="l15.54"> function testWeeklyUntilRecurrence() {</span>
<a href="#l15.55"></a><span id="l15.55">   goToDate(controller, 2009, 1, 5); // Monday</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testWeeklyWithExceptionRecurrence.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1,24 +1,27 @@</span>
<a href="#l16.4"></a><span id="l16.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.5"></a><span id="l16.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.6"></a><span id="l16.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8"> var MODULE_NAME = &quot;testWeeklyWithExceptionRecurrenceRotated&quot;;</span>
<a href="#l16.9"></a><span id="l16.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l16.10"></a><span id="l16.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+);</span>
<a href="#l16.16"></a><span id="l16.16"> </span>
<a href="#l16.17"></a><span id="l16.17"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, EVENT_BOX, CANVAS_BOX;</span>
<a href="#l16.18"></a><span id="l16.18"> var DAY_VIEW, WEEK_VIEW, EVENTPATH;</span>
<a href="#l16.19"></a><span id="l16.19"> var helpersForController, handleOccurrencePrompt, switchToView, goToDate;</span>
<a href="#l16.20"></a><span id="l16.20"> var invokeEventDialog, viewForward, closeAllEventDialogs, deleteCalendars, createCalendar;</span>
<a href="#l16.21"></a><span id="l16.21"> var menulistSelect;</span>
<a href="#l16.22"></a><span id="l16.22"> var REPEAT_DETAILS, REC_DLG_ACCEPT, REC_DLG_DAYS;</span>
<a href="#l16.23"></a><span id="l16.23"> var helpersForEditUI, setData;</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l16.25"></a><span id="l16.25"> </span>
<a href="#l16.26"></a><span id="l16.26"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l16.27"></a><span id="l16.27"> </span>
<a href="#l16.28"></a><span id="l16.28"> const HOUR = 8;</span>
<a href="#l16.29"></a><span id="l16.29"> const STARTDATE = new Date(2009, 0, 6);</span>
<a href="#l16.30"></a><span id="l16.30"> </span>
<a href="#l16.31"></a><span id="l16.31"> function setupModule(module) {</span>
<a href="#l16.32"></a><span id="l16.32">   controller = mozmill.getMail3PaneController();</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineat">@@ -48,18 +51,16 @@ function setupModule(module) {</span>
<a href="#l16.34"></a><span id="l16.34">     REPEAT_DETAILS,</span>
<a href="#l16.35"></a><span id="l16.35">     REC_DLG_ACCEPT,</span>
<a href="#l16.36"></a><span id="l16.36">     REC_DLG_DAYS,</span>
<a href="#l16.37"></a><span id="l16.37">     helpersForEditUI,</span>
<a href="#l16.38"></a><span id="l16.38">     setData,</span>
<a href="#l16.39"></a><span id="l16.39">   } = collector.getModule(&quot;item-editing-helpers&quot;));</span>
<a href="#l16.40"></a><span id="l16.40">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l16.41"></a><span id="l16.41"> </span>
<a href="#l16.42"></a><span id="l16.42" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineminus">-</span>
<a href="#l16.44"></a><span id="l16.44">   createCalendar(controller, CALENDARNAME);</span>
<a href="#l16.45"></a><span id="l16.45">   // Rotate view.</span>
<a href="#l16.46"></a><span id="l16.46">   controller.mainMenu.click(&quot;#ltnViewRotated&quot;);</span>
<a href="#l16.47"></a><span id="l16.47">   controller.waitFor(() =&gt; eid(&quot;day-view&quot;).getNode().orient == &quot;horizontal&quot;);</span>
<a href="#l16.48"></a><span id="l16.48"> }</span>
<a href="#l16.49"></a><span id="l16.49"> </span>
<a href="#l16.50"></a><span id="l16.50"> function testWeeklyWithExceptionRecurrence() {</span>
<a href="#l16.51"></a><span id="l16.51">   goToDate(controller, 2009, 1, 5);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/test-calendar-utils.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/test-calendar-utils.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,15 +1,19 @@</span>
<a href="#l17.4"></a><span id="l17.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.5"></a><span id="l17.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.6"></a><span id="l17.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8"> var MODULE_NAME = &quot;calendar-utils&quot;;</span>
<a href="#l17.9"></a><span id="l17.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;window-helpers&quot;, &quot;folder-display-helpers&quot;, &quot;pref-window-helpers&quot;];</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;pref-window-helpers&quot;];</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+var { close_window, plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+);</span>
<a href="#l17.16"></a><span id="l17.16"> </span>
<a href="#l17.17"></a><span id="l17.17"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l17.18"></a><span id="l17.18"> var utils = ChromeUtils.import(&quot;chrome://mozmill/content/modules/utils.jsm&quot;);</span>
<a href="#l17.19"></a><span id="l17.19"> </span>
<a href="#l17.20"></a><span id="l17.20"> var SHORT_SLEEP = 100;</span>
<a href="#l17.21"></a><span id="l17.21"> var MID_SLEEP = 500;</span>
<a href="#l17.22"></a><span id="l17.22"> var TIMEOUT_MODAL_DIALOG = 30000;</span>
<a href="#l17.23"></a><span id="l17.23"> var CALENDARNAME = &quot;Mozmill&quot;;</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineat">@@ -65,24 +69,19 @@ var EVENTPATH = `</span>
<a href="#l17.25"></a><span id="l17.25">     /{&quot;tooltip&quot;:&quot;itemTooltip&quot;,&quot;calendar&quot;:&quot;${CALENDARNAME.toLowerCase()}&quot;}</span>
<a href="#l17.26"></a><span id="l17.26"> `;</span>
<a href="#l17.27"></a><span id="l17.27"> // Used after &quot;${EVENTPATH}/${getEventDetails([view])}/&quot;.</span>
<a href="#l17.28"></a><span id="l17.28"> var ALARM_ICON_PATH = `</span>
<a href="#l17.29"></a><span id="l17.29">     anon({&quot;class&quot;:&quot;category-box-stack&quot;})/anon({&quot;align&quot;:&quot;center&quot;})/</span>
<a href="#l17.30"></a><span id="l17.30">     anon({&quot;class&quot;:&quot;alarm-icons-box&quot;})/anon({&quot;class&quot;:&quot;reminder-icon&quot;})</span>
<a href="#l17.31"></a><span id="l17.31"> `;</span>
<a href="#l17.32"></a><span id="l17.32"> </span>
<a href="#l17.33"></a><span id="l17.33" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog, close_window;</span>
<a href="#l17.34"></a><span id="l17.34"> var open_pref_tab, close_pref_tab;</span>
<a href="#l17.35"></a><span id="l17.35"> </span>
<a href="#l17.36"></a><span id="l17.36"> function setupModule(controller) {</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog, close_window } = collector.getModule(</span>
<a href="#l17.38"></a><span id="l17.38" class="difflineminus">-    &quot;window-helpers&quot;</span>
<a href="#l17.39"></a><span id="l17.39" class="difflineminus">-  ));</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineminus">-</span>
<a href="#l17.41"></a><span id="l17.41">   // This setup is needed for pref-win-helpers. For some reason, the automatic</span>
<a href="#l17.42"></a><span id="l17.42">   // loading of modules in shared modules does not setup the module correctly.</span>
<a href="#l17.43"></a><span id="l17.43">   collector.getModule(&quot;folder-display-helpers&quot;).setupModule();</span>
<a href="#l17.44"></a><span id="l17.44"> </span>
<a href="#l17.45"></a><span id="l17.45">   ({ open_pref_tab, close_pref_tab } = collector.getModule(&quot;pref-window-helpers&quot;));</span>
<a href="#l17.46"></a><span id="l17.46">   collector.getModule(&quot;pref-window-helpers&quot;).setupModule();</span>
<a href="#l17.47"></a><span id="l17.47"> </span>
<a href="#l17.48"></a><span id="l17.48">   // For our tests, we assume that Sunday is start of week.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/test-item-editing-helpers.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -1,37 +1,36 @@</span>
<a href="#l18.4"></a><span id="l18.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l18.5"></a><span id="l18.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l18.6"></a><span id="l18.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l18.7"></a><span id="l18.7"> </span>
<a href="#l18.8"></a><span id="l18.8"> var MODULE_NAME = &quot;item-editing-helpers&quot;;</span>
<a href="#l18.9"></a><span id="l18.9"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l18.10"></a><span id="l18.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;window-helpers&quot;];</span>
<a href="#l18.11"></a><span id="l18.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;];</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+var { augment_controller, plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+);</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l18.18"></a><span id="l18.18"> </span>
<a href="#l18.19"></a><span id="l18.19"> var SHORT_SLEEP, TIMEOUT_MODAL_DIALOG;</span>
<a href="#l18.20"></a><span id="l18.20"> var helpersForController, menulistSelect;</span>
<a href="#l18.21"></a><span id="l18.21" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog, augment_controller;</span>
<a href="#l18.22"></a><span id="l18.22"> var mark_failure;</span>
<a href="#l18.23"></a><span id="l18.23"> </span>
<a href="#l18.24"></a><span id="l18.24"> function setupModule(module) {</span>
<a href="#l18.25"></a><span id="l18.25">   controller = mozmill.getMail3PaneController();</span>
<a href="#l18.26"></a><span id="l18.26">   ({</span>
<a href="#l18.27"></a><span id="l18.27">     SHORT_SLEEP,</span>
<a href="#l18.28"></a><span id="l18.28">     TIMEOUT_MODAL_DIALOG,</span>
<a href="#l18.29"></a><span id="l18.29">     helpersForController,</span>
<a href="#l18.30"></a><span id="l18.30">     menulistSelect,</span>
<a href="#l18.31"></a><span id="l18.31">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l18.32"></a><span id="l18.32">   Object.assign(module, helpersForController(controller));</span>
<a href="#l18.33"></a><span id="l18.33"> </span>
<a href="#l18.34"></a><span id="l18.34" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog, augment_controller } = collector.getModule(</span>
<a href="#l18.35"></a><span id="l18.35" class="difflineminus">-    &quot;window-helpers&quot;</span>
<a href="#l18.36"></a><span id="l18.36" class="difflineminus">-  ));</span>
<a href="#l18.37"></a><span id="l18.37" class="difflineminus">-</span>
<a href="#l18.38"></a><span id="l18.38">   ({ mark_failure } = collector.getModule(&quot;folder-display-helpers&quot;));</span>
<a href="#l18.39"></a><span id="l18.39"> }</span>
<a href="#l18.40"></a><span id="l18.40"> // Lookup paths and path-snippets.</span>
<a href="#l18.41"></a><span id="l18.41"> // These 5 have to be used with itemEditLookup().</span>
<a href="#l18.42"></a><span id="l18.42"> var CATEGORY_LIST = `</span>
<a href="#l18.43"></a><span id="l18.43">     id(&quot;event-grid&quot;)/id(&quot;event-grid-category-color-row&quot;)/id(&quot;event-grid-category-color-td&quot;)</span>
<a href="#l18.44"></a><span id="l18.44">     /id(&quot;item-categories&quot;)/id(&quot;item-categories-popup&quot;)</span>
<a href="#l18.45"></a><span id="l18.45"> `;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/test/mozmill/testBasicFunctionality.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/test/mozmill/testBasicFunctionality.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,21 +1,24 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.5"></a><span id="l19.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.6"></a><span id="l19.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8"> var MODULE_NAME = &quot;testBasicFunctionality&quot;;</span>
<a href="#l19.9"></a><span id="l19.9"> var RELATIVE_ROOT = &quot;./shared-modules&quot;;</span>
<a href="#l19.10"></a><span id="l19.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;window-helpers&quot;];</span>
<a href="#l19.11"></a><span id="l19.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;];</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+);</span>
<a href="#l19.16"></a><span id="l19.16"> </span>
<a href="#l19.17"></a><span id="l19.17"> var { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l19.18"></a><span id="l19.18"> </span>
<a href="#l19.19"></a><span id="l19.19"> var TIMEOUT_MODAL_DIALOG, CALENDARNAME, CALENDAR_PANEL, DAY_VIEW, DAYBOX, MINIMONTH, CALENDARLIST;</span>
<a href="#l19.20"></a><span id="l19.20"> var helpersForController, switchToView, deleteCalendars, handleNewCalendarWizard;</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l19.22"></a><span id="l19.22"> </span>
<a href="#l19.23"></a><span id="l19.23"> function setupModule(module) {</span>
<a href="#l19.24"></a><span id="l19.24">   controller = mozmill.getMail3PaneController();</span>
<a href="#l19.25"></a><span id="l19.25">   ({</span>
<a href="#l19.26"></a><span id="l19.26">     TIMEOUT_MODAL_DIALOG,</span>
<a href="#l19.27"></a><span id="l19.27">     CALENDARNAME,</span>
<a href="#l19.28"></a><span id="l19.28">     CALENDAR_PANEL,</span>
<a href="#l19.29"></a><span id="l19.29">     DAY_VIEW,</span>
<a href="#l19.30"></a><span id="l19.30" class="difflineat">@@ -24,18 +27,16 @@ function setupModule(module) {</span>
<a href="#l19.31"></a><span id="l19.31">     CALENDARLIST,</span>
<a href="#l19.32"></a><span id="l19.32">     helpersForController,</span>
<a href="#l19.33"></a><span id="l19.33">     switchToView,</span>
<a href="#l19.34"></a><span id="l19.34">     deleteCalendars,</span>
<a href="#l19.35"></a><span id="l19.35">     handleNewCalendarWizard,</span>
<a href="#l19.36"></a><span id="l19.36">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l19.37"></a><span id="l19.37">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l19.38"></a><span id="l19.38">   Object.assign(module, helpersForController(controller));</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineminus">-</span>
<a href="#l19.40"></a><span id="l19.40" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l19.41"></a><span id="l19.41"> }</span>
<a href="#l19.42"></a><span id="l19.42"> </span>
<a href="#l19.43"></a><span id="l19.43"> function testSmokeTest() {</span>
<a href="#l19.44"></a><span id="l19.44">   let dateFormatter = cal.getDateFormatter();</span>
<a href="#l19.45"></a><span id="l19.45"> </span>
<a href="#l19.46"></a><span id="l19.46">   // Check for minimonth.</span>
<a href="#l19.47"></a><span id="l19.47">   controller.waitForElement(eid(&quot;calMinimonth&quot;));</span>
<a href="#l19.48"></a><span id="l19.48">   // Every month has a first.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/test/mozmill/testLocalICS.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/test/mozmill/testLocalICS.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -1,22 +1,25 @@</span>
<a href="#l20.4"></a><span id="l20.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.5"></a><span id="l20.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.6"></a><span id="l20.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8"> var MODULE_NAME = &quot;testLocalICS&quot;;</span>
<a href="#l20.9"></a><span id="l20.9"> var RELATIVE_ROOT = &quot;./shared-modules&quot;;</span>
<a href="#l20.10"></a><span id="l20.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+);</span>
<a href="#l20.16"></a><span id="l20.16"> </span>
<a href="#l20.17"></a><span id="l20.17"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l20.18"></a><span id="l20.18"> </span>
<a href="#l20.19"></a><span id="l20.19"> var TIMEOUT_MODAL_DIALOG, CANVAS_BOX, EVENT_BOX;</span>
<a href="#l20.20"></a><span id="l20.20"> var helpersForController, invokeEventDialog, deleteCalendars, handleNewCalendarWizard;</span>
<a href="#l20.21"></a><span id="l20.21"> var setData;</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineminus">-var plan_for_modal_dialog, wait_for_modal_dialog;</span>
<a href="#l20.23"></a><span id="l20.23"> </span>
<a href="#l20.24"></a><span id="l20.24"> const HOUR = 8;</span>
<a href="#l20.25"></a><span id="l20.25"> var calendarName, calendarTitle, calendarFile;</span>
<a href="#l20.26"></a><span id="l20.26"> </span>
<a href="#l20.27"></a><span id="l20.27"> function setupModule(module) {</span>
<a href="#l20.28"></a><span id="l20.28">   controller = mozmill.getMail3PaneController();</span>
<a href="#l20.29"></a><span id="l20.29"> </span>
<a href="#l20.30"></a><span id="l20.30">   ({</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineat">@@ -29,18 +32,16 @@ function setupModule(module) {</span>
<a href="#l20.32"></a><span id="l20.32">     handleNewCalendarWizard,</span>
<a href="#l20.33"></a><span id="l20.33">   } = collector.getModule(&quot;calendar-utils&quot;));</span>
<a href="#l20.34"></a><span id="l20.34">   collector.getModule(&quot;calendar-utils&quot;).setupModule(controller);</span>
<a href="#l20.35"></a><span id="l20.35">   Object.assign(module, helpersForController(controller));</span>
<a href="#l20.36"></a><span id="l20.36"> </span>
<a href="#l20.37"></a><span id="l20.37">   ({ setData } = collector.getModule(&quot;item-editing-helpers&quot;));</span>
<a href="#l20.38"></a><span id="l20.38">   collector.getModule(&quot;item-editing-helpers&quot;).setupModule(module);</span>
<a href="#l20.39"></a><span id="l20.39"> </span>
<a href="#l20.40"></a><span id="l20.40" class="difflineminus">-  ({ plan_for_modal_dialog, wait_for_modal_dialog } = collector.getModule(&quot;window-helpers&quot;));</span>
<a href="#l20.41"></a><span id="l20.41" class="difflineminus">-</span>
<a href="#l20.42"></a><span id="l20.42">   // Unique name needed as deleting a calendar only unsubscribes from it and</span>
<a href="#l20.43"></a><span id="l20.43">   // if same file were used on next testrun then previously created event</span>
<a href="#l20.44"></a><span id="l20.44">   // would show up.</span>
<a href="#l20.45"></a><span id="l20.45">   calendarName = calendarTitle = new Date().getTime() + &quot;&quot;;</span>
<a href="#l20.46"></a><span id="l20.46">   calendarFile = Services.dirsvc.get(&quot;TmpD&quot;, Ci.nsIFile);</span>
<a href="#l20.47"></a><span id="l20.47">   calendarFile.append(calendarName + &quot;.ics&quot;);</span>
<a href="#l20.48"></a><span id="l20.48"> }</span>
<a href="#l20.49"></a><span id="l20.49"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/test/mozmill/testTimezones.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/test/mozmill/testTimezones.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l21.4"></a><span id="l21.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l21.5"></a><span id="l21.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l21.6"></a><span id="l21.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l21.7"></a><span id="l21.7"> </span>
<a href="#l21.8"></a><span id="l21.8"> var MODULE_NAME = &quot;testTimezones&quot;;</span>
<a href="#l21.9"></a><span id="l21.9"> var RELATIVE_ROOT = &quot;./shared-modules&quot;;</span>
<a href="#l21.10"></a><span id="l21.10" class="difflineminus">-var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l21.11"></a><span id="l21.11" class="difflineplus">+var MODULE_REQUIRES = [&quot;calendar-utils&quot;, &quot;item-editing-helpers&quot;];</span>
<a href="#l21.12"></a><span id="l21.12"> </span>
<a href="#l21.13"></a><span id="l21.13"> var CANVAS_BOX, DAY_VIEW;</span>
<a href="#l21.14"></a><span id="l21.14"> var helpersForController, invokeEventDialog, switchToView, goToDate;</span>
<a href="#l21.15"></a><span id="l21.15"> var findEventsInNode, viewForward, viewBack;</span>
<a href="#l21.16"></a><span id="l21.16"> var setData;</span>
<a href="#l21.17"></a><span id="l21.17"> </span>
<a href="#l21.18"></a><span id="l21.18"> var DATES = [</span>
<a href="#l21.19"></a><span id="l21.19">   [2009, 1, 1],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mail/test/mozmill/account/test-ab-whitelist.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-ab-whitelist.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -1,25 +1,20 @@</span>
<a href="#l22.4"></a><span id="l22.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l22.5"></a><span id="l22.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l22.6"></a><span id="l22.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l22.7"></a><span id="l22.7"> </span>
<a href="#l22.8"></a><span id="l22.8"> &quot;use strict&quot;;</span>
<a href="#l22.9"></a><span id="l22.9"> </span>
<a href="#l22.10"></a><span id="l22.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l22.11"></a><span id="l22.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l22.13"></a><span id="l22.13"> </span>
<a href="#l22.14"></a><span id="l22.14"> var MODULE_NAME = &quot;test-ab-whitelist&quot;;</span>
<a href="#l22.15"></a><span id="l22.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l22.18"></a><span id="l22.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l22.19"></a><span id="l22.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l22.20"></a><span id="l22.20" class="difflineminus">-];</span>
<a href="#l22.21"></a><span id="l22.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l22.22"></a><span id="l22.22"> </span>
<a href="#l22.23"></a><span id="l22.23"> var mozmill = ChromeUtils.import(</span>
<a href="#l22.24"></a><span id="l22.24">   &quot;chrome://mozmill/content/modules/mozmill.jsm&quot;</span>
<a href="#l22.25"></a><span id="l22.25"> );</span>
<a href="#l22.26"></a><span id="l22.26"> var controller = ChromeUtils.import(</span>
<a href="#l22.27"></a><span id="l22.27">   &quot;chrome://mozmill/content/modules/controller.jsm&quot;</span>
<a href="#l22.28"></a><span id="l22.28"> );</span>
<a href="#l22.29"></a><span id="l22.29"> var elib = ChromeUtils.import(</span>
<a href="#l22.30"></a><span id="l22.30" class="difflineat">@@ -27,18 +22,16 @@ var elib = ChromeUtils.import(</span>
<a href="#l22.31"></a><span id="l22.31"> );</span>
<a href="#l22.32"></a><span id="l22.32"> </span>
<a href="#l22.33"></a><span id="l22.33"> var gOldWhiteList = null;</span>
<a href="#l22.34"></a><span id="l22.34"> var gKeyString = null;</span>
<a href="#l22.35"></a><span id="l22.35"> </span>
<a href="#l22.36"></a><span id="l22.36"> var gAccount = null;</span>
<a href="#l22.37"></a><span id="l22.37"> </span>
<a href="#l22.38"></a><span id="l22.38"> function setupModule(module) {</span>
<a href="#l22.39"></a><span id="l22.39" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l22.40"></a><span id="l22.40" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l22.41"></a><span id="l22.41">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l22.42"></a><span id="l22.42">   fdh.installInto(module);</span>
<a href="#l22.43"></a><span id="l22.43">   let amh = collector.getModule(&quot;account-manager-helpers&quot;);</span>
<a href="#l22.44"></a><span id="l22.44">   amh.installInto(module);</span>
<a href="#l22.45"></a><span id="l22.45"> </span>
<a href="#l22.46"></a><span id="l22.46">   let server = MailServices.accounts.FindServer(</span>
<a href="#l22.47"></a><span id="l22.47">     &quot;tinderbox&quot;,</span>
<a href="#l22.48"></a><span id="l22.48">     FAKE_SERVER_HOSTNAME,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-actions.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-actions.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -1,30 +1,24 @@</span>
<a href="#l23.4"></a><span id="l23.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.5"></a><span id="l23.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l23.6"></a><span id="l23.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l23.7"></a><span id="l23.7"> </span>
<a href="#l23.8"></a><span id="l23.8"> &quot;use strict&quot;;</span>
<a href="#l23.9"></a><span id="l23.9"> </span>
<a href="#l23.10"></a><span id="l23.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l23.11"></a><span id="l23.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l23.13"></a><span id="l23.13"> </span>
<a href="#l23.14"></a><span id="l23.14"> var MODULE_NAME = &quot;test-account-actions&quot;;</span>
<a href="#l23.15"></a><span id="l23.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineminus">-];</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l23.22"></a><span id="l23.22"> </span>
<a href="#l23.23"></a><span id="l23.23"> var imapAccount, nntpAccount, originalAccountCount;</span>
<a href="#l23.24"></a><span id="l23.24"> </span>
<a href="#l23.25"></a><span id="l23.25"> function setupModule(module) {</span>
<a href="#l23.26"></a><span id="l23.26" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l23.27"></a><span id="l23.27">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l23.28"></a><span id="l23.28">   collector.getModule(&quot;account-manager-helpers&quot;).installInto(module);</span>
<a href="#l23.29"></a><span id="l23.29"> </span>
<a href="#l23.30"></a><span id="l23.30">   // There may be pre-existing accounts from other tests.</span>
<a href="#l23.31"></a><span id="l23.31">   originalAccountCount = MailServices.accounts.allServers.length;</span>
<a href="#l23.32"></a><span id="l23.32">   // There already should be a Local Folders account created.</span>
<a href="#l23.33"></a><span id="l23.33">   // It is needed for this test.</span>
<a href="#l23.34"></a><span id="l23.34">   assert_true(MailServices.accounts.localFoldersServer);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-deletion.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-deletion.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -5,25 +5,20 @@</span>
<a href="#l24.4"></a><span id="l24.4"> /**</span>
<a href="#l24.5"></a><span id="l24.5">  * This test checks proper deletion of an account from the Account manager.</span>
<a href="#l24.6"></a><span id="l24.6">  */</span>
<a href="#l24.7"></a><span id="l24.7"> </span>
<a href="#l24.8"></a><span id="l24.8"> &quot;use strict&quot;;</span>
<a href="#l24.9"></a><span id="l24.9"> </span>
<a href="#l24.10"></a><span id="l24.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l24.11"></a><span id="l24.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l24.13"></a><span id="l24.13"> </span>
<a href="#l24.14"></a><span id="l24.14"> var MODULE_NAME = &quot;test-account-deletion&quot;;</span>
<a href="#l24.15"></a><span id="l24.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l24.16"></a><span id="l24.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l24.17"></a><span id="l24.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l24.18"></a><span id="l24.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l24.19"></a><span id="l24.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l24.20"></a><span id="l24.20" class="difflineminus">-];</span>
<a href="#l24.21"></a><span id="l24.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l24.22"></a><span id="l24.22"> </span>
<a href="#l24.23"></a><span id="l24.23"> var gPopAccount, gImapAccount, gOriginalAccountCount;</span>
<a href="#l24.24"></a><span id="l24.24"> </span>
<a href="#l24.25"></a><span id="l24.25"> function setupModule(module) {</span>
<a href="#l24.26"></a><span id="l24.26">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l24.27"></a><span id="l24.27">     collector.getModule(lib).installInto(module);</span>
<a href="#l24.28"></a><span id="l24.28">   }</span>
<a href="#l24.29"></a><span id="l24.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-port-setting.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-port-setting.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -1,25 +1,20 @@</span>
<a href="#l25.4"></a><span id="l25.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l25.5"></a><span id="l25.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l25.6"></a><span id="l25.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l25.7"></a><span id="l25.7"> </span>
<a href="#l25.8"></a><span id="l25.8"> &quot;use strict&quot;;</span>
<a href="#l25.9"></a><span id="l25.9"> </span>
<a href="#l25.10"></a><span id="l25.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l25.11"></a><span id="l25.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l25.13"></a><span id="l25.13"> </span>
<a href="#l25.14"></a><span id="l25.14"> var MODULE_NAME = &quot;test-account-port-setting&quot;;</span>
<a href="#l25.15"></a><span id="l25.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l25.20"></a><span id="l25.20" class="difflineminus">-];</span>
<a href="#l25.21"></a><span id="l25.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l25.22"></a><span id="l25.22"> </span>
<a href="#l25.23"></a><span id="l25.23"> var elib = ChromeUtils.import(</span>
<a href="#l25.24"></a><span id="l25.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l25.25"></a><span id="l25.25"> );</span>
<a href="#l25.26"></a><span id="l25.26"> </span>
<a href="#l25.27"></a><span id="l25.27"> var { input_value, delete_all_existing } = ChromeUtils.import(</span>
<a href="#l25.28"></a><span id="l25.28">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l25.29"></a><span id="l25.29"> );</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-settings-infrastructure.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-settings-infrastructure.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -9,34 +9,28 @@</span>
<a href="#l26.4"></a><span id="l26.4">  *</span>
<a href="#l26.5"></a><span id="l26.5">  * New checks can be added to it as needed.</span>
<a href="#l26.6"></a><span id="l26.6">  */</span>
<a href="#l26.7"></a><span id="l26.7"> </span>
<a href="#l26.8"></a><span id="l26.8"> &quot;use strict&quot;;</span>
<a href="#l26.9"></a><span id="l26.9"> </span>
<a href="#l26.10"></a><span id="l26.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l26.11"></a><span id="l26.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l26.13"></a><span id="l26.13"> </span>
<a href="#l26.14"></a><span id="l26.14"> var MODULE_NAME = &quot;test-account-settings-infrastructure&quot;;</span>
<a href="#l26.15"></a><span id="l26.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l26.16"></a><span id="l26.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l26.17"></a><span id="l26.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l26.18"></a><span id="l26.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l26.19"></a><span id="l26.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l26.20"></a><span id="l26.20" class="difflineminus">-];</span>
<a href="#l26.21"></a><span id="l26.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l26.22"></a><span id="l26.22"> </span>
<a href="#l26.23"></a><span id="l26.23"> var elib = ChromeUtils.import(</span>
<a href="#l26.24"></a><span id="l26.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l26.25"></a><span id="l26.25"> );</span>
<a href="#l26.26"></a><span id="l26.26"> </span>
<a href="#l26.27"></a><span id="l26.27"> var gPopAccount, gImapAccount, gOriginalAccountCount;</span>
<a href="#l26.28"></a><span id="l26.28"> </span>
<a href="#l26.29"></a><span id="l26.29"> function setupModule(module) {</span>
<a href="#l26.30"></a><span id="l26.30" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l26.31"></a><span id="l26.31">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l26.32"></a><span id="l26.32">   collector.getModule(&quot;account-manager-helpers&quot;).installInto(module);</span>
<a href="#l26.33"></a><span id="l26.33"> </span>
<a href="#l26.34"></a><span id="l26.34">   // There may be pre-existing accounts from other tests.</span>
<a href="#l26.35"></a><span id="l26.35">   gOriginalAccountCount = MailServices.accounts.allServers.length;</span>
<a href="#l26.36"></a><span id="l26.36"> </span>
<a href="#l26.37"></a><span id="l26.37">   // Create a POP server</span>
<a href="#l26.38"></a><span id="l26.38">   let popServer = MailServices.accounts</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-tree.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-tree.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -5,30 +5,24 @@</span>
<a href="#l27.4"></a><span id="l27.4"> /**</span>
<a href="#l27.5"></a><span id="l27.5">  * This test checks proper operation of the account tree in the Account manager.</span>
<a href="#l27.6"></a><span id="l27.6">  */</span>
<a href="#l27.7"></a><span id="l27.7"> </span>
<a href="#l27.8"></a><span id="l27.8"> &quot;use strict&quot;;</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l27.11"></a><span id="l27.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l27.13"></a><span id="l27.13"> </span>
<a href="#l27.14"></a><span id="l27.14"> var MODULE_NAME = &quot;test-account-tree&quot;;</span>
<a href="#l27.15"></a><span id="l27.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l27.16"></a><span id="l27.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l27.17"></a><span id="l27.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l27.18"></a><span id="l27.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l27.19"></a><span id="l27.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l27.20"></a><span id="l27.20" class="difflineminus">-];</span>
<a href="#l27.21"></a><span id="l27.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l27.22"></a><span id="l27.22"> </span>
<a href="#l27.23"></a><span id="l27.23"> var gPopAccount, gOriginalAccountCount;</span>
<a href="#l27.24"></a><span id="l27.24"> </span>
<a href="#l27.25"></a><span id="l27.25"> function setupModule(module) {</span>
<a href="#l27.26"></a><span id="l27.26" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l27.27"></a><span id="l27.27">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l27.28"></a><span id="l27.28">   collector.getModule(&quot;account-manager-helpers&quot;).installInto(module);</span>
<a href="#l27.29"></a><span id="l27.29"> </span>
<a href="#l27.30"></a><span id="l27.30">   // There may be pre-existing accounts from other tests.</span>
<a href="#l27.31"></a><span id="l27.31">   gOriginalAccountCount = MailServices.accounts.allServers.length;</span>
<a href="#l27.32"></a><span id="l27.32"> </span>
<a href="#l27.33"></a><span id="l27.33">   // Create a POP server</span>
<a href="#l27.34"></a><span id="l27.34">   let popServer = MailServices.accounts</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mail/test/mozmill/account/test-account-values.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-account-values.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -6,33 +6,31 @@</span>
<a href="#l28.4"></a><span id="l28.4">  * This test checks proper operation of the account settings panes</span>
<a href="#l28.5"></a><span id="l28.5">  * when certain special or invalid values are entered into the fields.</span>
<a href="#l28.6"></a><span id="l28.6">  */</span>
<a href="#l28.7"></a><span id="l28.7"> </span>
<a href="#l28.8"></a><span id="l28.8"> &quot;use strict&quot;;</span>
<a href="#l28.9"></a><span id="l28.9"> </span>
<a href="#l28.10"></a><span id="l28.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l28.11"></a><span id="l28.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l28.13"></a><span id="l28.13"> </span>
<a href="#l28.14"></a><span id="l28.14"> var MODULE_NAME = &quot;test-account-values&quot;;</span>
<a href="#l28.15"></a><span id="l28.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l28.19"></a><span id="l28.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l28.20"></a><span id="l28.20" class="difflineminus">-];</span>
<a href="#l28.21"></a><span id="l28.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l28.22"></a><span id="l28.22"> </span>
<a href="#l28.23"></a><span id="l28.23"> var elib = ChromeUtils.import(</span>
<a href="#l28.24"></a><span id="l28.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l28.25"></a><span id="l28.25"> );</span>
<a href="#l28.26"></a><span id="l28.26"> </span>
<a href="#l28.27"></a><span id="l28.27"> var { input_value, delete_all_existing } = ChromeUtils.import(</span>
<a href="#l28.28"></a><span id="l28.28">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l28.29"></a><span id="l28.29"> );</span>
<a href="#l28.30"></a><span id="l28.30" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l28.31"></a><span id="l28.31" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l28.32"></a><span id="l28.32" class="difflineplus">+);</span>
<a href="#l28.33"></a><span id="l28.33"> </span>
<a href="#l28.34"></a><span id="l28.34"> var gPopAccount, gOriginalAccountCount;</span>
<a href="#l28.35"></a><span id="l28.35"> </span>
<a href="#l28.36"></a><span id="l28.36"> function setupModule(module) {</span>
<a href="#l28.37"></a><span id="l28.37">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l28.38"></a><span id="l28.38">     collector.getModule(lib).installInto(module);</span>
<a href="#l28.39"></a><span id="l28.39">   }</span>
<a href="#l28.40"></a><span id="l28.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mail/test/mozmill/account/test-archive-options.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-archive-options.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -1,41 +1,41 @@</span>
<a href="#l29.4"></a><span id="l29.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l29.5"></a><span id="l29.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l29.6"></a><span id="l29.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8"> &quot;use strict&quot;;</span>
<a href="#l29.9"></a><span id="l29.9"> </span>
<a href="#l29.10"></a><span id="l29.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l29.11"></a><span id="l29.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l29.13"></a><span id="l29.13"> </span>
<a href="#l29.14"></a><span id="l29.14"> var MODULE_NAME = &quot;test-archive-options&quot;;</span>
<a href="#l29.15"></a><span id="l29.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l29.17"></a><span id="l29.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l29.18"></a><span id="l29.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l29.19"></a><span id="l29.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l29.20"></a><span id="l29.20" class="difflineminus">-];</span>
<a href="#l29.21"></a><span id="l29.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l29.22"></a><span id="l29.22"> </span>
<a href="#l29.23"></a><span id="l29.23"> var mozmill = ChromeUtils.import(</span>
<a href="#l29.24"></a><span id="l29.24">   &quot;chrome://mozmill/content/modules/mozmill.jsm&quot;</span>
<a href="#l29.25"></a><span id="l29.25"> );</span>
<a href="#l29.26"></a><span id="l29.26"> var controller = ChromeUtils.import(</span>
<a href="#l29.27"></a><span id="l29.27">   &quot;chrome://mozmill/content/modules/controller.jsm&quot;</span>
<a href="#l29.28"></a><span id="l29.28"> );</span>
<a href="#l29.29"></a><span id="l29.29"> var elib = ChromeUtils.import(</span>
<a href="#l29.30"></a><span id="l29.30">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l29.31"></a><span id="l29.31"> );</span>
<a href="#l29.32"></a><span id="l29.32"> </span>
<a href="#l29.33"></a><span id="l29.33" class="difflineplus">+var {</span>
<a href="#l29.34"></a><span id="l29.34" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l29.35"></a><span id="l29.35" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l29.36"></a><span id="l29.36" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l29.37"></a><span id="l29.37" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l29.38"></a><span id="l29.38" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l29.39"></a><span id="l29.39" class="difflineplus">+</span>
<a href="#l29.40"></a><span id="l29.40"> var defaultIdentity;</span>
<a href="#l29.41"></a><span id="l29.41"> </span>
<a href="#l29.42"></a><span id="l29.42"> function setupModule(module) {</span>
<a href="#l29.43"></a><span id="l29.43" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l29.44"></a><span id="l29.44" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l29.45"></a><span id="l29.45">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l29.46"></a><span id="l29.46">   fdh.installInto(module);</span>
<a href="#l29.47"></a><span id="l29.47">   let amh = collector.getModule(&quot;account-manager-helpers&quot;);</span>
<a href="#l29.48"></a><span id="l29.48">   amh.installInto(module);</span>
<a href="#l29.49"></a><span id="l29.49"> </span>
<a href="#l29.50"></a><span id="l29.50">   defaultIdentity = MailServices.accounts.defaultAccount.defaultIdentity;</span>
<a href="#l29.51"></a><span id="l29.51"> }</span>
<a href="#l29.52"></a><span id="l29.52"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mail/test/mozmill/account/test-mail-account-setup-wizard.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-mail-account-setup-wizard.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -1,25 +1,20 @@</span>
<a href="#l30.4"></a><span id="l30.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l30.5"></a><span id="l30.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l30.6"></a><span id="l30.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l30.7"></a><span id="l30.7"> </span>
<a href="#l30.8"></a><span id="l30.8"> &quot;use strict&quot;;</span>
<a href="#l30.9"></a><span id="l30.9"> </span>
<a href="#l30.10"></a><span id="l30.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l30.11"></a><span id="l30.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l30.13"></a><span id="l30.13"> </span>
<a href="#l30.14"></a><span id="l30.14"> var MODULE_NAME = &quot;test-mail-account-setup-wizard&quot;;</span>
<a href="#l30.15"></a><span id="l30.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l30.16"></a><span id="l30.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l30.17"></a><span id="l30.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l30.18"></a><span id="l30.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l30.19"></a><span id="l30.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l30.20"></a><span id="l30.20" class="difflineminus">-];</span>
<a href="#l30.21"></a><span id="l30.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l30.22"></a><span id="l30.22"> </span>
<a href="#l30.23"></a><span id="l30.23"> var elib = ChromeUtils.import(</span>
<a href="#l30.24"></a><span id="l30.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l30.25"></a><span id="l30.25"> );</span>
<a href="#l30.26"></a><span id="l30.26"> </span>
<a href="#l30.27"></a><span id="l30.27"> var { input_value, delete_all_existing } = ChromeUtils.import(</span>
<a href="#l30.28"></a><span id="l30.28">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l30.29"></a><span id="l30.29"> );</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mail/test/mozmill/account/test-retest-config.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mail/test/mozmill/account/test-retest-config.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -1,33 +1,31 @@</span>
<a href="#l31.4"></a><span id="l31.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l31.5"></a><span id="l31.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l31.6"></a><span id="l31.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l31.7"></a><span id="l31.7"> </span>
<a href="#l31.8"></a><span id="l31.8"> &quot;use strict&quot;;</span>
<a href="#l31.9"></a><span id="l31.9"> </span>
<a href="#l31.10"></a><span id="l31.10"> /* import-globals-from ../shared-modules/test-account-manager-helpers.js */</span>
<a href="#l31.11"></a><span id="l31.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l31.13"></a><span id="l31.13"> </span>
<a href="#l31.14"></a><span id="l31.14"> var MODULE_NAME = &quot;test-retest-config&quot;;</span>
<a href="#l31.15"></a><span id="l31.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l31.16"></a><span id="l31.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l31.17"></a><span id="l31.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l31.18"></a><span id="l31.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l31.19"></a><span id="l31.19" class="difflineminus">-  &quot;account-manager-helpers&quot;,</span>
<a href="#l31.20"></a><span id="l31.20" class="difflineminus">-];</span>
<a href="#l31.21"></a><span id="l31.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;account-manager-helpers&quot;];</span>
<a href="#l31.22"></a><span id="l31.22"> </span>
<a href="#l31.23"></a><span id="l31.23"> var elib = ChromeUtils.import(</span>
<a href="#l31.24"></a><span id="l31.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l31.25"></a><span id="l31.25"> );</span>
<a href="#l31.26"></a><span id="l31.26"> </span>
<a href="#l31.27"></a><span id="l31.27"> var { input_value, delete_all_existing } = ChromeUtils.import(</span>
<a href="#l31.28"></a><span id="l31.28">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l31.29"></a><span id="l31.29"> );</span>
<a href="#l31.30"></a><span id="l31.30" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l31.31"></a><span id="l31.31" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l31.32"></a><span id="l31.32" class="difflineplus">+);</span>
<a href="#l31.33"></a><span id="l31.33"> </span>
<a href="#l31.34"></a><span id="l31.34"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l31.35"></a><span id="l31.35"> </span>
<a href="#l31.36"></a><span id="l31.36"> var user = {</span>
<a href="#l31.37"></a><span id="l31.37">   name: &quot;test&quot;,</span>
<a href="#l31.38"></a><span id="l31.38">   email: &quot;test@momo.invalid&quot;,</span>
<a href="#l31.39"></a><span id="l31.39">   altEmail: &quot;test2@momo.invalid&quot;,</span>
<a href="#l31.40"></a><span id="l31.40"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mail/test/mozmill/addrbook/test-address-book.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mail/test/mozmill/addrbook/test-address-book.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -6,30 +6,31 @@</span>
<a href="#l32.4"></a><span id="l32.4">  * Tests for the address book.</span>
<a href="#l32.5"></a><span id="l32.5">  */</span>
<a href="#l32.6"></a><span id="l32.6"> </span>
<a href="#l32.7"></a><span id="l32.7"> &quot;use strict&quot;;</span>
<a href="#l32.8"></a><span id="l32.8"> </span>
<a href="#l32.9"></a><span id="l32.9"> /* import-globals-from ../shared-modules/test-address-book-helpers.js */</span>
<a href="#l32.10"></a><span id="l32.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l32.11"></a><span id="l32.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l32.13"></a><span id="l32.13"> </span>
<a href="#l32.14"></a><span id="l32.14"> var MODULE_NAME = &quot;test-address-book&quot;;</span>
<a href="#l32.15"></a><span id="l32.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l32.16"></a><span id="l32.16"> var MODULE_REQUIRES = [</span>
<a href="#l32.17"></a><span id="l32.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l32.18"></a><span id="l32.18">   &quot;address-book-helpers&quot;,</span>
<a href="#l32.19"></a><span id="l32.19">   &quot;compose-helpers&quot;,</span>
<a href="#l32.20"></a><span id="l32.20" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l32.21"></a><span id="l32.21"> ];</span>
<a href="#l32.22"></a><span id="l32.22"> </span>
<a href="#l32.23"></a><span id="l32.23"> var { gMockPromptService } = ChromeUtils.import(</span>
<a href="#l32.24"></a><span id="l32.24">   &quot;resource://testing-common/mozmill/PromptHelpers.jsm&quot;</span>
<a href="#l32.25"></a><span id="l32.25"> );</span>
<a href="#l32.26"></a><span id="l32.26" class="difflineplus">+var { plan_for_new_window } = ChromeUtils.import(</span>
<a href="#l32.27"></a><span id="l32.27" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l32.28"></a><span id="l32.28" class="difflineplus">+);</span>
<a href="#l32.29"></a><span id="l32.29"> </span>
<a href="#l32.30"></a><span id="l32.30"> var { XPCOMUtils } = ChromeUtils.import(</span>
<a href="#l32.31"></a><span id="l32.31">   &quot;resource://gre/modules/XPCOMUtils.jsm&quot;</span>
<a href="#l32.32"></a><span id="l32.32"> );</span>
<a href="#l32.33"></a><span id="l32.33"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l32.34"></a><span id="l32.34"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l32.35"></a><span id="l32.35">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l32.36"></a><span id="l32.36"> );</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment-events.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment-events.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -5,25 +5,20 @@</span>
<a href="#l33.4"></a><span id="l33.4"> /**</span>
<a href="#l33.5"></a><span id="l33.5">  * Ensures that attachment events are fired properly</span>
<a href="#l33.6"></a><span id="l33.6">  */</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8"> &quot;use strict&quot;;</span>
<a href="#l33.9"></a><span id="l33.9"> </span>
<a href="#l33.10"></a><span id="l33.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l33.11"></a><span id="l33.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l33.13"></a><span id="l33.13"> </span>
<a href="#l33.14"></a><span id="l33.14"> var MODULE_NAME = &quot;test-attachment-events&quot;;</span>
<a href="#l33.15"></a><span id="l33.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l33.16"></a><span id="l33.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l33.17"></a><span id="l33.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l33.18"></a><span id="l33.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l33.19"></a><span id="l33.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l33.20"></a><span id="l33.20" class="difflineminus">-];</span>
<a href="#l33.21"></a><span id="l33.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l33.22"></a><span id="l33.22"> </span>
<a href="#l33.23"></a><span id="l33.23"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l33.24"></a><span id="l33.24"> </span>
<a href="#l33.25"></a><span id="l33.25"> var { select_attachments } = ChromeUtils.import(</span>
<a href="#l33.26"></a><span id="l33.26">   &quot;resource://testing-common/mozmill/AttachmentHelpers.jsm&quot;</span>
<a href="#l33.27"></a><span id="l33.27"> );</span>
<a href="#l33.28"></a><span id="l33.28"> var { gMockPromptService } = ChromeUtils.import(</span>
<a href="#l33.29"></a><span id="l33.29">   &quot;resource://testing-common/mozmill/PromptHelpers.jsm&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment-in-plain-msg.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment-in-plain-msg.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -1,28 +1,27 @@</span>
<a href="#l34.4"></a><span id="l34.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l34.5"></a><span id="l34.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l34.6"></a><span id="l34.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l34.7"></a><span id="l34.7"> </span>
<a href="#l34.8"></a><span id="l34.8"> &quot;use strict&quot;;</span>
<a href="#l34.9"></a><span id="l34.9"> </span>
<a href="#l34.10"></a><span id="l34.10"> /* import-globals-from ../shared-modules/test-dom-helpers.js */</span>
<a href="#l34.11"></a><span id="l34.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l34.13"></a><span id="l34.13"> </span>
<a href="#l34.14"></a><span id="l34.14"> var MODULE_NAME = &quot;test-attachment-in-plain-msg&quot;;</span>
<a href="#l34.15"></a><span id="l34.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l34.16"></a><span id="l34.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l34.17"></a><span id="l34.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l34.18"></a><span id="l34.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l34.19"></a><span id="l34.19" class="difflineminus">-  &quot;dom-helpers&quot;,</span>
<a href="#l34.20"></a><span id="l34.20" class="difflineminus">-];</span>
<a href="#l34.21"></a><span id="l34.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;dom-helpers&quot;];</span>
<a href="#l34.22"></a><span id="l34.22"> </span>
<a href="#l34.23"></a><span id="l34.23"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l34.24"></a><span id="l34.24"> </span>
<a href="#l34.25"></a><span id="l34.25" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l34.26"></a><span id="l34.26" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l34.27"></a><span id="l34.27" class="difflineplus">+);</span>
<a href="#l34.28"></a><span id="l34.28" class="difflineplus">+</span>
<a href="#l34.29"></a><span id="l34.29"> function setupModule(module) {</span>
<a href="#l34.30"></a><span id="l34.30">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l34.31"></a><span id="l34.31">     collector.getModule(lib).installInto(module);</span>
<a href="#l34.32"></a><span id="l34.32">   }</span>
<a href="#l34.33"></a><span id="l34.33"> }</span>
<a href="#l34.34"></a><span id="l34.34"> </span>
<a href="#l34.35"></a><span id="l34.35"> /**</span>
<a href="#l34.36"></a><span id="l34.36">  * Bug 1358565</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment-menus.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment-menus.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -1,20 +1,19 @@</span>
<a href="#l35.4"></a><span id="l35.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l35.5"></a><span id="l35.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l35.6"></a><span id="l35.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l35.7"></a><span id="l35.7"> </span>
<a href="#l35.8"></a><span id="l35.8"> &quot;use strict&quot;;</span>
<a href="#l35.9"></a><span id="l35.9"> </span>
<a href="#l35.10"></a><span id="l35.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l35.11"></a><span id="l35.11" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l35.12"></a><span id="l35.12"> </span>
<a href="#l35.13"></a><span id="l35.13"> var MODULE_NAME = &quot;test-attachment-menus&quot;;</span>
<a href="#l35.14"></a><span id="l35.14"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l35.15"></a><span id="l35.15" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l35.16"></a><span id="l35.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l35.17"></a><span id="l35.17"> </span>
<a href="#l35.18"></a><span id="l35.18"> var folder;</span>
<a href="#l35.19"></a><span id="l35.19"> var messenger;</span>
<a href="#l35.20"></a><span id="l35.20"> var epsilon;</span>
<a href="#l35.21"></a><span id="l35.21"> </span>
<a href="#l35.22"></a><span id="l35.22"> var elib = ChromeUtils.import(</span>
<a href="#l35.23"></a><span id="l35.23">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l35.24"></a><span id="l35.24"> );</span>
<a href="#l35.25"></a><span id="l35.25" class="difflineat">@@ -176,18 +175,16 @@ var messages = [</span>
<a href="#l35.26"></a><span id="l35.26">     ],</span>
<a href="#l35.27"></a><span id="l35.27">     allMenuStates: { open: false, save: false, detach: false, delete_: false },</span>
<a href="#l35.28"></a><span id="l35.28">   },</span>
<a href="#l35.29"></a><span id="l35.29"> ];</span>
<a href="#l35.30"></a><span id="l35.30"> </span>
<a href="#l35.31"></a><span id="l35.31"> function setupModule(module) {</span>
<a href="#l35.32"></a><span id="l35.32">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l35.33"></a><span id="l35.33">   fdh.installInto(module);</span>
<a href="#l35.34"></a><span id="l35.34" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l35.35"></a><span id="l35.35" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l35.36"></a><span id="l35.36"> </span>
<a href="#l35.37"></a><span id="l35.37">   messenger = Cc[&quot;@mozilla.org/messenger;1&quot;].createInstance(Ci.nsIMessenger);</span>
<a href="#l35.38"></a><span id="l35.38"> </span>
<a href="#l35.39"></a><span id="l35.39">   /* Today's gory details (thanks to Jonathan Protzenko): libmime somehow</span>
<a href="#l35.40"></a><span id="l35.40">    * counts the trailing newline for an attachment MIME part. Most of the time,</span>
<a href="#l35.41"></a><span id="l35.41">    * assuming attachment has N bytes (no matter what's inside, newlines or</span>
<a href="#l35.42"></a><span id="l35.42">    * not), libmime will return N + 1 bytes. On Linux and Mac, this always</span>
<a href="#l35.43"></a><span id="l35.43">    * holds. However, on Windows, if the attachment is not encoded (that is, is</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment-size.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment-size.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -1,20 +1,19 @@</span>
<a href="#l36.4"></a><span id="l36.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l36.5"></a><span id="l36.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l36.6"></a><span id="l36.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l36.7"></a><span id="l36.7"> </span>
<a href="#l36.8"></a><span id="l36.8"> &quot;use strict&quot;;</span>
<a href="#l36.9"></a><span id="l36.9"> </span>
<a href="#l36.10"></a><span id="l36.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l36.11"></a><span id="l36.11" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l36.12"></a><span id="l36.12"> </span>
<a href="#l36.13"></a><span id="l36.13"> var MODULE_NAME = &quot;test-attachment-size&quot;;</span>
<a href="#l36.14"></a><span id="l36.14"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l36.15"></a><span id="l36.15" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l36.16"></a><span id="l36.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l36.17"></a><span id="l36.17"> </span>
<a href="#l36.18"></a><span id="l36.18"> var folder;</span>
<a href="#l36.19"></a><span id="l36.19"> var messenger;</span>
<a href="#l36.20"></a><span id="l36.20"> var epsilon;</span>
<a href="#l36.21"></a><span id="l36.21"> </span>
<a href="#l36.22"></a><span id="l36.22"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l36.23"></a><span id="l36.23"> var controller = ChromeUtils.import(</span>
<a href="#l36.24"></a><span id="l36.24">   &quot;chrome://mozmill/content/modules/controller.jsm&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mail/test/mozmill/attachment/test-attachment.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mail/test/mozmill/attachment/test-attachment.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -5,32 +5,36 @@</span>
<a href="#l37.4"></a><span id="l37.4"> /**</span>
<a href="#l37.5"></a><span id="l37.5">  * Checks various attachments display correctly</span>
<a href="#l37.6"></a><span id="l37.6">  */</span>
<a href="#l37.7"></a><span id="l37.7"> </span>
<a href="#l37.8"></a><span id="l37.8"> &quot;use strict&quot;;</span>
<a href="#l37.9"></a><span id="l37.9"> </span>
<a href="#l37.10"></a><span id="l37.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l37.11"></a><span id="l37.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l37.13"></a><span id="l37.13"> </span>
<a href="#l37.14"></a><span id="l37.14"> var MODULE_NAME = &quot;test-attachment&quot;;</span>
<a href="#l37.15"></a><span id="l37.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l37.16"></a><span id="l37.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l37.17"></a><span id="l37.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l37.18"></a><span id="l37.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l37.19"></a><span id="l37.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l37.20"></a><span id="l37.20" class="difflineminus">-];</span>
<a href="#l37.21"></a><span id="l37.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l37.22"></a><span id="l37.22"> </span>
<a href="#l37.23"></a><span id="l37.23"> var elib = ChromeUtils.import(</span>
<a href="#l37.24"></a><span id="l37.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l37.25"></a><span id="l37.25"> );</span>
<a href="#l37.26"></a><span id="l37.26"> var EventUtils = ChromeUtils.import(</span>
<a href="#l37.27"></a><span id="l37.27">   &quot;chrome://mozmill/content/stdlib/EventUtils.jsm&quot;</span>
<a href="#l37.28"></a><span id="l37.28"> );</span>
<a href="#l37.29"></a><span id="l37.29" class="difflineplus">+</span>
<a href="#l37.30"></a><span id="l37.30" class="difflineplus">+var {</span>
<a href="#l37.31"></a><span id="l37.31" class="difflineplus">+  close_window,</span>
<a href="#l37.32"></a><span id="l37.32" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l37.33"></a><span id="l37.33" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l37.34"></a><span id="l37.34" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l37.35"></a><span id="l37.35" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l37.36"></a><span id="l37.36" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l37.37"></a><span id="l37.37" class="difflineplus">+</span>
<a href="#l37.38"></a><span id="l37.38"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l37.39"></a><span id="l37.39"> </span>
<a href="#l37.40"></a><span id="l37.40"> var folder;</span>
<a href="#l37.41"></a><span id="l37.41"> var messages;</span>
<a href="#l37.42"></a><span id="l37.42"> </span>
<a href="#l37.43"></a><span id="l37.43"> var textAttachment =</span>
<a href="#l37.44"></a><span id="l37.44">   &quot;One of these days... people like me will rise up and overthrow you, and &quot; +</span>
<a href="#l37.45"></a><span id="l37.45">   &quot;the end of tyranny by the homeostatic machine will have arrived. The day &quot; +</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-attachment-urls.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -7,35 +7,36 @@</span>
<a href="#l38.4"></a><span id="l38.4">  */</span>
<a href="#l38.5"></a><span id="l38.5"> </span>
<a href="#l38.6"></a><span id="l38.6"> &quot;use strict&quot;;</span>
<a href="#l38.7"></a><span id="l38.7"> </span>
<a href="#l38.8"></a><span id="l38.8"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l38.9"></a><span id="l38.9"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l38.10"></a><span id="l38.10"> /* import-globals-from ../shared-modules/test-cloudfile-helpers.js */</span>
<a href="#l38.11"></a><span id="l38.11"> /* import-globals-from ../shared-modules/test-dom-helpers.js */</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l38.13"></a><span id="l38.13"> </span>
<a href="#l38.14"></a><span id="l38.14"> var MODULE_NAME = &quot;test-cloudfile-attachment-urls&quot;;</span>
<a href="#l38.15"></a><span id="l38.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l38.16"></a><span id="l38.16"> var MODULE_REQUIRES = [</span>
<a href="#l38.17"></a><span id="l38.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l38.18"></a><span id="l38.18">   &quot;compose-helpers&quot;,</span>
<a href="#l38.19"></a><span id="l38.19">   &quot;cloudfile-helpers&quot;,</span>
<a href="#l38.20"></a><span id="l38.20">   &quot;dom-helpers&quot;,</span>
<a href="#l38.21"></a><span id="l38.21" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l38.22"></a><span id="l38.22"> ];</span>
<a href="#l38.23"></a><span id="l38.23"> </span>
<a href="#l38.24"></a><span id="l38.24"> var {</span>
<a href="#l38.25"></a><span id="l38.25">   gMockFilePicker,</span>
<a href="#l38.26"></a><span id="l38.26">   gMockFilePickReg,</span>
<a href="#l38.27"></a><span id="l38.27">   select_attachments,</span>
<a href="#l38.28"></a><span id="l38.28"> } = ChromeUtils.import(</span>
<a href="#l38.29"></a><span id="l38.29">   &quot;resource://testing-common/mozmill/AttachmentHelpers.jsm&quot;</span>
<a href="#l38.30"></a><span id="l38.30"> );</span>
<a href="#l38.31"></a><span id="l38.31" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l38.32"></a><span id="l38.32" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l38.33"></a><span id="l38.33" class="difflineplus">+);</span>
<a href="#l38.34"></a><span id="l38.34"> </span>
<a href="#l38.35"></a><span id="l38.35"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l38.36"></a><span id="l38.36"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l38.37"></a><span id="l38.37">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l38.38"></a><span id="l38.38"> );</span>
<a href="#l38.39"></a><span id="l38.39"> </span>
<a href="#l38.40"></a><span id="l38.40"> var kUploadedFile = &quot;attachment-uploaded&quot;;</span>
<a href="#l38.41"></a><span id="l38.41"> var kHtmlPrefKey = &quot;mail.identity.default.compose_html&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-manager.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-manager.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -8,28 +8,30 @@</span>
<a href="#l39.4"></a><span id="l39.4">  */</span>
<a href="#l39.5"></a><span id="l39.5"> </span>
<a href="#l39.6"></a><span id="l39.6"> &quot;use strict&quot;;</span>
<a href="#l39.7"></a><span id="l39.7"> </span>
<a href="#l39.8"></a><span id="l39.8"> /* import-globals-from ../shared-modules/test-cloudfile-helpers.js */</span>
<a href="#l39.9"></a><span id="l39.9"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l39.10"></a><span id="l39.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l39.11"></a><span id="l39.11"> /* import-globals-from ../shared-modules/test-pref-window-helpers.js */</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l39.13"></a><span id="l39.13"> </span>
<a href="#l39.14"></a><span id="l39.14"> var MODULE_NAME = &quot;test-cloudfile-manager&quot;;</span>
<a href="#l39.15"></a><span id="l39.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l39.16"></a><span id="l39.16"> var MODULE_REQUIRES = [</span>
<a href="#l39.17"></a><span id="l39.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l39.18"></a><span id="l39.18">   &quot;pref-window-helpers&quot;,</span>
<a href="#l39.19"></a><span id="l39.19">   &quot;content-tab-helpers&quot;,</span>
<a href="#l39.20"></a><span id="l39.20">   &quot;cloudfile-helpers&quot;,</span>
<a href="#l39.21"></a><span id="l39.21" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l39.22"></a><span id="l39.22"> ];</span>
<a href="#l39.23"></a><span id="l39.23"> </span>
<a href="#l39.24"></a><span id="l39.24" class="difflineplus">+var { wait_for_frame_load } = ChromeUtils.import(</span>
<a href="#l39.25"></a><span id="l39.25" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l39.26"></a><span id="l39.26" class="difflineplus">+);</span>
<a href="#l39.27"></a><span id="l39.27" class="difflineplus">+</span>
<a href="#l39.28"></a><span id="l39.28"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l39.29"></a><span id="l39.29"> </span>
<a href="#l39.30"></a><span id="l39.30"> var kTestAccountType = &quot;mock&quot;;</span>
<a href="#l39.31"></a><span id="l39.31"> var kRootURL = collector.addHttpResource(&quot;../cloudfile/html&quot;, &quot;&quot;);</span>
<a href="#l39.32"></a><span id="l39.32"> var kSettingsWithLink = kRootURL + &quot;settings-with-link.xhtml&quot;;</span>
<a href="#l39.33"></a><span id="l39.33"> </span>
<a href="#l39.34"></a><span id="l39.34"> function setupModule(module) {</span>
<a href="#l39.35"></a><span id="l39.35">   for (let lib of MODULE_REQUIRES) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-address-widgets.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-address-widgets.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -5,25 +5,20 @@</span>
<a href="#l40.4"></a><span id="l40.4"> /**</span>
<a href="#l40.5"></a><span id="l40.5">  * Tests proper enabling of addressing widgets.</span>
<a href="#l40.6"></a><span id="l40.6">  */</span>
<a href="#l40.7"></a><span id="l40.7"> </span>
<a href="#l40.8"></a><span id="l40.8"> &quot;use strict&quot;;</span>
<a href="#l40.9"></a><span id="l40.9"> </span>
<a href="#l40.10"></a><span id="l40.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l40.11"></a><span id="l40.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l40.13"></a><span id="l40.13"> </span>
<a href="#l40.14"></a><span id="l40.14"> var MODULE_NAME = &quot;test-address-widgets&quot;;</span>
<a href="#l40.15"></a><span id="l40.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l40.16"></a><span id="l40.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l40.17"></a><span id="l40.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l40.18"></a><span id="l40.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l40.19"></a><span id="l40.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l40.20"></a><span id="l40.20" class="difflineminus">-];</span>
<a href="#l40.21"></a><span id="l40.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l40.22"></a><span id="l40.22"> </span>
<a href="#l40.23"></a><span id="l40.23"> var { fixIterator } = ChromeUtils.import(</span>
<a href="#l40.24"></a><span id="l40.24">   &quot;resource:///modules/iteratorUtils.jsm&quot;</span>
<a href="#l40.25"></a><span id="l40.25"> );</span>
<a href="#l40.26"></a><span id="l40.26"> </span>
<a href="#l40.27"></a><span id="l40.27"> var cwc = null; // compose window controller</span>
<a href="#l40.28"></a><span id="l40.28"> var accountPOP3 = null;</span>
<a href="#l40.29"></a><span id="l40.29"> var accountNNTP = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-attachment-reminder.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-attachment-reminder.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -5,38 +5,42 @@</span>
<a href="#l41.4"></a><span id="l41.4"> /**</span>
<a href="#l41.5"></a><span id="l41.5">  * Tests that the attachment reminder works properly.</span>
<a href="#l41.6"></a><span id="l41.6">  */</span>
<a href="#l41.7"></a><span id="l41.7"> </span>
<a href="#l41.8"></a><span id="l41.8"> &quot;use strict&quot;;</span>
<a href="#l41.9"></a><span id="l41.9"> </span>
<a href="#l41.10"></a><span id="l41.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l41.11"></a><span id="l41.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l41.13"></a><span id="l41.13"> </span>
<a href="#l41.14"></a><span id="l41.14"> var MODULE_NAME = &quot;test-attachment-reminder&quot;;</span>
<a href="#l41.15"></a><span id="l41.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l41.16"></a><span id="l41.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l41.17"></a><span id="l41.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l41.18"></a><span id="l41.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l41.19"></a><span id="l41.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l41.20"></a><span id="l41.20" class="difflineminus">-];</span>
<a href="#l41.21"></a><span id="l41.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l41.22"></a><span id="l41.22"> </span>
<a href="#l41.23"></a><span id="l41.23"> var { delete_all_existing } = ChromeUtils.import(</span>
<a href="#l41.24"></a><span id="l41.24">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l41.25"></a><span id="l41.25"> );</span>
<a href="#l41.26"></a><span id="l41.26"> var {</span>
<a href="#l41.27"></a><span id="l41.27">   assert_notification_displayed,</span>
<a href="#l41.28"></a><span id="l41.28">   check_notification_displayed,</span>
<a href="#l41.29"></a><span id="l41.29">   get_notification_button,</span>
<a href="#l41.30"></a><span id="l41.30">   wait_for_notification_to_show,</span>
<a href="#l41.31"></a><span id="l41.31">   wait_for_notification_to_stop,</span>
<a href="#l41.32"></a><span id="l41.32"> } = ChromeUtils.import(</span>
<a href="#l41.33"></a><span id="l41.33">   &quot;resource://testing-common/mozmill/NotificationBoxHelpers.jsm&quot;</span>
<a href="#l41.34"></a><span id="l41.34"> );</span>
<a href="#l41.35"></a><span id="l41.35" class="difflineplus">+var {</span>
<a href="#l41.36"></a><span id="l41.36" class="difflineplus">+  close_window,</span>
<a href="#l41.37"></a><span id="l41.37" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l41.38"></a><span id="l41.38" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l41.39"></a><span id="l41.39" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l41.40"></a><span id="l41.40" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l41.41"></a><span id="l41.41" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l41.42"></a><span id="l41.42" class="difflineplus">+  wait_for_window_focused,</span>
<a href="#l41.43"></a><span id="l41.43" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l41.44"></a><span id="l41.44"> </span>
<a href="#l41.45"></a><span id="l41.45"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l41.46"></a><span id="l41.46"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l41.47"></a><span id="l41.47">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l41.48"></a><span id="l41.48"> );</span>
<a href="#l41.49"></a><span id="l41.49"> </span>
<a href="#l41.50"></a><span id="l41.50"> var kBoxId = &quot;compose-notification-bottom&quot;;</span>
<a href="#l41.51"></a><span id="l41.51"> var kNotificationId = &quot;attachmentReminder&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-attachment.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-attachment.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -5,41 +5,40 @@</span>
<a href="#l42.4"></a><span id="l42.4"> /**</span>
<a href="#l42.5"></a><span id="l42.5">  * Tests attachment handling functionality of the message compose window.</span>
<a href="#l42.6"></a><span id="l42.6">  */</span>
<a href="#l42.7"></a><span id="l42.7"> </span>
<a href="#l42.8"></a><span id="l42.8"> &quot;use strict&quot;;</span>
<a href="#l42.9"></a><span id="l42.9"> </span>
<a href="#l42.10"></a><span id="l42.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l42.11"></a><span id="l42.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l42.13"></a><span id="l42.13"> </span>
<a href="#l42.14"></a><span id="l42.14"> var MODULE_NAME = &quot;test-attachment&quot;;</span>
<a href="#l42.15"></a><span id="l42.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l42.16"></a><span id="l42.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l42.17"></a><span id="l42.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l42.18"></a><span id="l42.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l42.19"></a><span id="l42.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l42.20"></a><span id="l42.20" class="difflineminus">-];</span>
<a href="#l42.21"></a><span id="l42.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l42.22"></a><span id="l42.22"> </span>
<a href="#l42.23"></a><span id="l42.23"> var elib = ChromeUtils.import(</span>
<a href="#l42.24"></a><span id="l42.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l42.25"></a><span id="l42.25"> );</span>
<a href="#l42.26"></a><span id="l42.26" class="difflineplus">+var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l42.27"></a><span id="l42.27" class="difflineplus">+</span>
<a href="#l42.28"></a><span id="l42.28" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l42.29"></a><span id="l42.29" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l42.30"></a><span id="l42.30" class="difflineplus">+);</span>
<a href="#l42.31"></a><span id="l42.31" class="difflineplus">+</span>
<a href="#l42.32"></a><span id="l42.32" class="difflineplus">+var { AppConstants } = ChromeUtils.import(</span>
<a href="#l42.33"></a><span id="l42.33" class="difflineplus">+  &quot;resource://gre/modules/AppConstants.jsm&quot;</span>
<a href="#l42.34"></a><span id="l42.34" class="difflineplus">+);</span>
<a href="#l42.35"></a><span id="l42.35"> </span>
<a href="#l42.36"></a><span id="l42.36"> var messenger;</span>
<a href="#l42.37"></a><span id="l42.37"> var folder;</span>
<a href="#l42.38"></a><span id="l42.38"> var epsilon;</span>
<a href="#l42.39"></a><span id="l42.39"> var isWindows;</span>
<a href="#l42.40"></a><span id="l42.40"> var filePrefix;</span>
<a href="#l42.41"></a><span id="l42.41"> </span>
<a href="#l42.42"></a><span id="l42.42" class="difflineminus">-var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l42.43"></a><span id="l42.43" class="difflineminus">-var { AppConstants } = ChromeUtils.import(</span>
<a href="#l42.44"></a><span id="l42.44" class="difflineminus">-  &quot;resource://gre/modules/AppConstants.jsm&quot;</span>
<a href="#l42.45"></a><span id="l42.45" class="difflineminus">-);</span>
<a href="#l42.46"></a><span id="l42.46" class="difflineminus">-</span>
<a href="#l42.47"></a><span id="l42.47"> var rawAttachment =</span>
<a href="#l42.48"></a><span id="l42.48">   &quot;Can't make the frug contest, Helen; stomach's upset. I'll fix you, &quot; +</span>
<a href="#l42.49"></a><span id="l42.49">   &quot;Ubik! Ubik drops you back in the thick of things fast. Taken as &quot; +</span>
<a href="#l42.50"></a><span id="l42.50">   &quot;directed, Ubik speeds relief to head and stomach. Remember: Ubik is &quot; +</span>
<a href="#l42.51"></a><span id="l42.51">   &quot;only seconds away. Avoid prolonged use.&quot;;</span>
<a href="#l42.52"></a><span id="l42.52"> </span>
<a href="#l42.53"></a><span id="l42.53"> var b64Attachment =</span>
<a href="#l42.54"></a><span id="l42.54">   &quot;iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwS&quot; +</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-base64-display.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-base64-display.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -4,24 +4,27 @@</span>
<a href="#l43.4"></a><span id="l43.4"> </span>
<a href="#l43.5"></a><span id="l43.5"> /**</span>
<a href="#l43.6"></a><span id="l43.6">  * Tests that messages with &quot;broken&quot; base64 are correctly displayed.</span>
<a href="#l43.7"></a><span id="l43.7">  */</span>
<a href="#l43.8"></a><span id="l43.8"> </span>
<a href="#l43.9"></a><span id="l43.9"> &quot;use strict&quot;;</span>
<a href="#l43.10"></a><span id="l43.10"> </span>
<a href="#l43.11"></a><span id="l43.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l43.13"></a><span id="l43.13"> </span>
<a href="#l43.14"></a><span id="l43.14"> var MODULE_NAME = &quot;test-base64-display.js&quot;;</span>
<a href="#l43.15"></a><span id="l43.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l43.16"></a><span id="l43.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l43.17"></a><span id="l43.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l43.18"></a><span id="l43.18"> </span>
<a href="#l43.19"></a><span id="l43.19"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l43.20"></a><span id="l43.20"> </span>
<a href="#l43.21"></a><span id="l43.21" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l43.22"></a><span id="l43.22" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l43.23"></a><span id="l43.23" class="difflineplus">+);</span>
<a href="#l43.24"></a><span id="l43.24" class="difflineplus">+</span>
<a href="#l43.25"></a><span id="l43.25"> function setupModule(module) {</span>
<a href="#l43.26"></a><span id="l43.26">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l43.27"></a><span id="l43.27">     collector.getModule(lib).installInto(module);</span>
<a href="#l43.28"></a><span id="l43.28">   }</span>
<a href="#l43.29"></a><span id="l43.29"> }</span>
<a href="#l43.30"></a><span id="l43.30"> </span>
<a href="#l43.31"></a><span id="l43.31"> function test_base64_display() {</span>
<a href="#l43.32"></a><span id="l43.32">   let file = os.getFileForPath(</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-blocked-content.js</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-blocked-content.js</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -5,31 +5,29 @@</span>
<a href="#l44.4"></a><span id="l44.4"> /**</span>
<a href="#l44.5"></a><span id="l44.5">  * Tests that we do the right thing wrt. blocked resources during composition.</span>
<a href="#l44.6"></a><span id="l44.6">  */</span>
<a href="#l44.7"></a><span id="l44.7"> </span>
<a href="#l44.8"></a><span id="l44.8"> &quot;use strict&quot;;</span>
<a href="#l44.9"></a><span id="l44.9"> </span>
<a href="#l44.10"></a><span id="l44.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l44.11"></a><span id="l44.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l44.13"></a><span id="l44.13"> </span>
<a href="#l44.14"></a><span id="l44.14"> var MODULE_NAME = &quot;test-blocked-content&quot;;</span>
<a href="#l44.15"></a><span id="l44.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l44.16"></a><span id="l44.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l44.17"></a><span id="l44.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l44.18"></a><span id="l44.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l44.19"></a><span id="l44.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l44.20"></a><span id="l44.20" class="difflineminus">-];</span>
<a href="#l44.21"></a><span id="l44.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l44.22"></a><span id="l44.22"> </span>
<a href="#l44.23"></a><span id="l44.23"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l44.24"></a><span id="l44.24"> </span>
<a href="#l44.25"></a><span id="l44.25"> var { wait_for_notification_to_show } = ChromeUtils.import(</span>
<a href="#l44.26"></a><span id="l44.26">   &quot;resource://testing-common/mozmill/NotificationBoxHelpers.jsm&quot;</span>
<a href="#l44.27"></a><span id="l44.27"> );</span>
<a href="#l44.28"></a><span id="l44.28" class="difflineplus">+var { plan_for_window_close, wait_for_window_close } = ChromeUtils.import(</span>
<a href="#l44.29"></a><span id="l44.29" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l44.30"></a><span id="l44.30" class="difflineplus">+);</span>
<a href="#l44.31"></a><span id="l44.31"> </span>
<a href="#l44.32"></a><span id="l44.32"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l44.33"></a><span id="l44.33"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l44.34"></a><span id="l44.34">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l44.35"></a><span id="l44.35"> );</span>
<a href="#l44.36"></a><span id="l44.36"> var { OS } = ChromeUtils.import(&quot;resource://gre/modules/osfile.jsm&quot;);</span>
<a href="#l44.37"></a><span id="l44.37"> </span>
<a href="#l44.38"></a><span id="l44.38"> var gOutboxFolder;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-charset-edit.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-charset-edit.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -6,35 +6,33 @@</span>
<a href="#l45.4"></a><span id="l45.4">  * Tests that we do the right thing wrt. message encoding when editing or</span>
<a href="#l45.5"></a><span id="l45.5">  * replying to messages.</span>
<a href="#l45.6"></a><span id="l45.6">  */</span>
<a href="#l45.7"></a><span id="l45.7"> </span>
<a href="#l45.8"></a><span id="l45.8"> &quot;use strict&quot;;</span>
<a href="#l45.9"></a><span id="l45.9"> </span>
<a href="#l45.10"></a><span id="l45.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l45.11"></a><span id="l45.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l45.13"></a><span id="l45.13"> </span>
<a href="#l45.14"></a><span id="l45.14"> var MODULE_NAME = &quot;test-charset-edit&quot;;</span>
<a href="#l45.15"></a><span id="l45.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l45.16"></a><span id="l45.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l45.17"></a><span id="l45.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l45.18"></a><span id="l45.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l45.19"></a><span id="l45.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l45.20"></a><span id="l45.20" class="difflineminus">-];</span>
<a href="#l45.21"></a><span id="l45.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l45.22"></a><span id="l45.22"> </span>
<a href="#l45.23"></a><span id="l45.23"> var elib = ChromeUtils.import(</span>
<a href="#l45.24"></a><span id="l45.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l45.25"></a><span id="l45.25"> );</span>
<a href="#l45.26"></a><span id="l45.26"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l45.27"></a><span id="l45.27"> var utils = ChromeUtils.import(&quot;chrome://mozmill/content/modules/utils.jsm&quot;);</span>
<a href="#l45.28"></a><span id="l45.28"> </span>
<a href="#l45.29"></a><span id="l45.29"> var { wait_for_notification_to_show } = ChromeUtils.import(</span>
<a href="#l45.30"></a><span id="l45.30">   &quot;resource://testing-common/mozmill/NotificationBoxHelpers.jsm&quot;</span>
<a href="#l45.31"></a><span id="l45.31"> );</span>
<a href="#l45.32"></a><span id="l45.32" class="difflineplus">+var { plan_for_new_window } = ChromeUtils.import(</span>
<a href="#l45.33"></a><span id="l45.33" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l45.34"></a><span id="l45.34" class="difflineplus">+);</span>
<a href="#l45.35"></a><span id="l45.35"> </span>
<a href="#l45.36"></a><span id="l45.36"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l45.37"></a><span id="l45.37"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l45.38"></a><span id="l45.38">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l45.39"></a><span id="l45.39"> );</span>
<a href="#l45.40"></a><span id="l45.40"> var { MimeParser } = ChromeUtils.import(&quot;resource:///modules/mimeParser.jsm&quot;);</span>
<a href="#l45.41"></a><span id="l45.41"> </span>
<a href="#l45.42"></a><span id="l45.42"> var gDrafts;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-charset-upgrade.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-charset-upgrade.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -6,25 +6,24 @@</span>
<a href="#l46.4"></a><span id="l46.4">  * Tests that we do the right thing wrt. message encoding, especially when</span>
<a href="#l46.5"></a><span id="l46.5">  * all characters doesn't fit the selected charset.</span>
<a href="#l46.6"></a><span id="l46.6">  */</span>
<a href="#l46.7"></a><span id="l46.7"> </span>
<a href="#l46.8"></a><span id="l46.8"> &quot;use strict&quot;;</span>
<a href="#l46.9"></a><span id="l46.9"> </span>
<a href="#l46.10"></a><span id="l46.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l46.11"></a><span id="l46.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l46.13"></a><span id="l46.13"> </span>
<a href="#l46.14"></a><span id="l46.14"> var MODULE_NAME = &quot;test-charset-upgrade&quot;;</span>
<a href="#l46.15"></a><span id="l46.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l46.16"></a><span id="l46.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l46.17"></a><span id="l46.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l46.18"></a><span id="l46.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l46.19"></a><span id="l46.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l46.20"></a><span id="l46.20" class="difflineminus">-];</span>
<a href="#l46.21"></a><span id="l46.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l46.22"></a><span id="l46.22" class="difflineplus">+</span>
<a href="#l46.23"></a><span id="l46.23" class="difflineplus">+var { plan_for_window_close, wait_for_window_close } = ChromeUtils.import(</span>
<a href="#l46.24"></a><span id="l46.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l46.25"></a><span id="l46.25" class="difflineplus">+);</span>
<a href="#l46.26"></a><span id="l46.26"> </span>
<a href="#l46.27"></a><span id="l46.27"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l46.28"></a><span id="l46.28"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l46.29"></a><span id="l46.29">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l46.30"></a><span id="l46.30"> );</span>
<a href="#l46.31"></a><span id="l46.31"> </span>
<a href="#l46.32"></a><span id="l46.32"> var gDrafts;</span>
<a href="#l46.33"></a><span id="l46.33"> var gOutbox;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-cp932-display.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-cp932-display.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -4,24 +4,27 @@</span>
<a href="#l47.4"></a><span id="l47.4"> </span>
<a href="#l47.5"></a><span id="l47.5"> /**</span>
<a href="#l47.6"></a><span id="l47.6">  * Tests that messages in cp932, Thunderbirds alias for Shift_JIS, are correctly displayed.</span>
<a href="#l47.7"></a><span id="l47.7">  */</span>
<a href="#l47.8"></a><span id="l47.8"> </span>
<a href="#l47.9"></a><span id="l47.9"> &quot;use strict&quot;;</span>
<a href="#l47.10"></a><span id="l47.10"> </span>
<a href="#l47.11"></a><span id="l47.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l47.13"></a><span id="l47.13"> </span>
<a href="#l47.14"></a><span id="l47.14"> var MODULE_NAME = &quot;test-cp932-display.js&quot;;</span>
<a href="#l47.15"></a><span id="l47.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l47.16"></a><span id="l47.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l47.17"></a><span id="l47.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l47.18"></a><span id="l47.18"> </span>
<a href="#l47.19"></a><span id="l47.19"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l47.20"></a><span id="l47.20"> </span>
<a href="#l47.21"></a><span id="l47.21" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l47.22"></a><span id="l47.22" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l47.23"></a><span id="l47.23" class="difflineplus">+);</span>
<a href="#l47.24"></a><span id="l47.24" class="difflineplus">+</span>
<a href="#l47.25"></a><span id="l47.25"> function setupModule(module) {</span>
<a href="#l47.26"></a><span id="l47.26">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l47.27"></a><span id="l47.27">     collector.getModule(lib).installInto(module);</span>
<a href="#l47.28"></a><span id="l47.28">   }</span>
<a href="#l47.29"></a><span id="l47.29"> }</span>
<a href="#l47.30"></a><span id="l47.30"> </span>
<a href="#l47.31"></a><span id="l47.31"> function test_cp932_display() {</span>
<a href="#l47.32"></a><span id="l47.32">   let file = os.getFileForPath(</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-draft-identity.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-draft-identity.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -6,25 +6,20 @@</span>
<a href="#l48.4"></a><span id="l48.4">  * Tests that compose new message chooses the correct initial identity when</span>
<a href="#l48.5"></a><span id="l48.5">  * called from the context of an open composer.</span>
<a href="#l48.6"></a><span id="l48.6">  */</span>
<a href="#l48.7"></a><span id="l48.7"> </span>
<a href="#l48.8"></a><span id="l48.8"> &quot;use strict&quot;;</span>
<a href="#l48.9"></a><span id="l48.9"> </span>
<a href="#l48.10"></a><span id="l48.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l48.11"></a><span id="l48.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l48.13"></a><span id="l48.13"> </span>
<a href="#l48.14"></a><span id="l48.14"> var MODULE_NAME = &quot;test-draft-identity&quot;;</span>
<a href="#l48.15"></a><span id="l48.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l48.16"></a><span id="l48.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l48.17"></a><span id="l48.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l48.18"></a><span id="l48.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l48.19"></a><span id="l48.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l48.20"></a><span id="l48.20" class="difflineminus">-];</span>
<a href="#l48.21"></a><span id="l48.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l48.22"></a><span id="l48.22"> </span>
<a href="#l48.23"></a><span id="l48.23"> var {</span>
<a href="#l48.24"></a><span id="l48.24">   assert_notification_displayed,</span>
<a href="#l48.25"></a><span id="l48.25">   wait_for_notification_to_show,</span>
<a href="#l48.26"></a><span id="l48.26"> } = ChromeUtils.import(</span>
<a href="#l48.27"></a><span id="l48.27">   &quot;resource://testing-common/mozmill/NotificationBoxHelpers.jsm&quot;</span>
<a href="#l48.28"></a><span id="l48.28"> );</span>
<a href="#l48.29"></a><span id="l48.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-drafts.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-drafts.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -6,29 +6,27 @@</span>
<a href="#l49.4"></a><span id="l49.4">  * Tests draft related functionality:</span>
<a href="#l49.5"></a><span id="l49.5">  * - that we don't allow opening multiple copies of a draft.</span>
<a href="#l49.6"></a><span id="l49.6">  */</span>
<a href="#l49.7"></a><span id="l49.7"> </span>
<a href="#l49.8"></a><span id="l49.8"> &quot;use strict&quot;;</span>
<a href="#l49.9"></a><span id="l49.9"> </span>
<a href="#l49.10"></a><span id="l49.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l49.11"></a><span id="l49.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l49.13"></a><span id="l49.13"> </span>
<a href="#l49.14"></a><span id="l49.14"> var MODULE_NAME = &quot;test-drafts&quot;;</span>
<a href="#l49.15"></a><span id="l49.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l49.16"></a><span id="l49.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l49.17"></a><span id="l49.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l49.18"></a><span id="l49.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l49.19"></a><span id="l49.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l49.20"></a><span id="l49.20" class="difflineminus">-];</span>
<a href="#l49.21"></a><span id="l49.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l49.22"></a><span id="l49.22"> </span>
<a href="#l49.23"></a><span id="l49.23"> var { wait_for_notification_to_show } = ChromeUtils.import(</span>
<a href="#l49.24"></a><span id="l49.24">   &quot;resource://testing-common/mozmill/NotificationBoxHelpers.jsm&quot;</span>
<a href="#l49.25"></a><span id="l49.25"> );</span>
<a href="#l49.26"></a><span id="l49.26" class="difflineplus">+var { plan_for_new_window, wait_for_window_focused } = ChromeUtils.import(</span>
<a href="#l49.27"></a><span id="l49.27" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l49.28"></a><span id="l49.28" class="difflineplus">+);</span>
<a href="#l49.29"></a><span id="l49.29"> </span>
<a href="#l49.30"></a><span id="l49.30"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l49.31"></a><span id="l49.31"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l49.32"></a><span id="l49.32">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l49.33"></a><span id="l49.33"> );</span>
<a href="#l49.34"></a><span id="l49.34"> </span>
<a href="#l49.35"></a><span id="l49.35"> var kBoxId = &quot;mail-notification-top&quot;;</span>
<a href="#l49.36"></a><span id="l49.36"> var draftsFolder;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-eml-actions.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-eml-actions.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -5,33 +5,33 @@</span>
<a href="#l50.4"></a><span id="l50.4"> /**</span>
<a href="#l50.5"></a><span id="l50.5">  * Tests that actions such as replying to an .eml works properly.</span>
<a href="#l50.6"></a><span id="l50.6">  */</span>
<a href="#l50.7"></a><span id="l50.7"> </span>
<a href="#l50.8"></a><span id="l50.8"> &quot;use strict&quot;;</span>
<a href="#l50.9"></a><span id="l50.9"> </span>
<a href="#l50.10"></a><span id="l50.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l50.11"></a><span id="l50.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l50.13"></a><span id="l50.13"> </span>
<a href="#l50.14"></a><span id="l50.14"> var MODULE_NAME = &quot;test-eml-actions&quot;;</span>
<a href="#l50.15"></a><span id="l50.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l50.16"></a><span id="l50.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l50.17"></a><span id="l50.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l50.18"></a><span id="l50.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l50.19"></a><span id="l50.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l50.20"></a><span id="l50.20" class="difflineminus">-];</span>
<a href="#l50.21"></a><span id="l50.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l50.22"></a><span id="l50.22"> </span>
<a href="#l50.23"></a><span id="l50.23" class="difflineplus">+var elib = ChromeUtils.import(</span>
<a href="#l50.24"></a><span id="l50.24" class="difflineplus">+  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l50.25"></a><span id="l50.25" class="difflineplus">+);</span>
<a href="#l50.26"></a><span id="l50.26"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l50.27"></a><span id="l50.27" class="difflineplus">+</span>
<a href="#l50.28"></a><span id="l50.28" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l50.29"></a><span id="l50.29" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l50.30"></a><span id="l50.30" class="difflineplus">+);</span>
<a href="#l50.31"></a><span id="l50.31" class="difflineplus">+</span>
<a href="#l50.32"></a><span id="l50.32"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l50.33"></a><span id="l50.33">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l50.34"></a><span id="l50.34"> );</span>
<a href="#l50.35"></a><span id="l50.35" class="difflineminus">-var elib = ChromeUtils.import(</span>
<a href="#l50.36"></a><span id="l50.36" class="difflineminus">-  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l50.37"></a><span id="l50.37" class="difflineminus">-);</span>
<a href="#l50.38"></a><span id="l50.38"> </span>
<a href="#l50.39"></a><span id="l50.39"> var gDrafts;</span>
<a href="#l50.40"></a><span id="l50.40"> </span>
<a href="#l50.41"></a><span id="l50.41"> function setupModule(module) {</span>
<a href="#l50.42"></a><span id="l50.42">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l50.43"></a><span id="l50.43">     collector.getModule(lib).installInto(module);</span>
<a href="#l50.44"></a><span id="l50.44">   }</span>
<a href="#l50.45"></a><span id="l50.45"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-focus.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-focus.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -5,25 +5,20 @@</span>
<a href="#l51.4"></a><span id="l51.4"> /*</span>
<a href="#l51.5"></a><span id="l51.5">  * Test that cycling through the focus of the 3pane's panes works correctly.</span>
<a href="#l51.6"></a><span id="l51.6">  */</span>
<a href="#l51.7"></a><span id="l51.7"> </span>
<a href="#l51.8"></a><span id="l51.8"> &quot;use strict&quot;;</span>
<a href="#l51.9"></a><span id="l51.9"> </span>
<a href="#l51.10"></a><span id="l51.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l51.11"></a><span id="l51.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l51.13"></a><span id="l51.13"> </span>
<a href="#l51.14"></a><span id="l51.14"> var MODULE_NAME = &quot;test-focus&quot;;</span>
<a href="#l51.15"></a><span id="l51.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l51.16"></a><span id="l51.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l51.17"></a><span id="l51.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l51.18"></a><span id="l51.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l51.19"></a><span id="l51.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l51.20"></a><span id="l51.20" class="difflineminus">-];</span>
<a href="#l51.21"></a><span id="l51.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l51.22"></a><span id="l51.22"> </span>
<a href="#l51.23"></a><span id="l51.23"> function setupModule(module) {</span>
<a href="#l51.24"></a><span id="l51.24">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l51.25"></a><span id="l51.25">     collector.getModule(lib).installInto(module);</span>
<a href="#l51.26"></a><span id="l51.26">   }</span>
<a href="#l51.27"></a><span id="l51.27"> }</span>
<a href="#l51.28"></a><span id="l51.28"> </span>
<a href="#l51.29"></a><span id="l51.29"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-forward-headers.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-forward-headers.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -6,43 +6,42 @@</span>
<a href="#l52.4"></a><span id="l52.4">  * Tests that headers like References and X-Forwarded-Message-Id are</span>
<a href="#l52.5"></a><span id="l52.5">  * set properly when forwarding messages.</span>
<a href="#l52.6"></a><span id="l52.6">  */</span>
<a href="#l52.7"></a><span id="l52.7"> </span>
<a href="#l52.8"></a><span id="l52.8"> &quot;use strict&quot;;</span>
<a href="#l52.9"></a><span id="l52.9"> </span>
<a href="#l52.10"></a><span id="l52.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l52.11"></a><span id="l52.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l52.13"></a><span id="l52.13"> </span>
<a href="#l52.14"></a><span id="l52.14"> var MODULE_NAME = &quot;test-forward-headers&quot;;</span>
<a href="#l52.15"></a><span id="l52.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l52.16"></a><span id="l52.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l52.17"></a><span id="l52.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l52.18"></a><span id="l52.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l52.19"></a><span id="l52.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l52.20"></a><span id="l52.20" class="difflineminus">-];</span>
<a href="#l52.21"></a><span id="l52.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l52.22"></a><span id="l52.22"> </span>
<a href="#l52.23"></a><span id="l52.23"> var { to_mime_message } = ChromeUtils.import(</span>
<a href="#l52.24"></a><span id="l52.24">   &quot;resource://testing-common/mozmill/MessageHelpers.jsm&quot;</span>
<a href="#l52.25"></a><span id="l52.25"> );</span>
<a href="#l52.26"></a><span id="l52.26" class="difflineplus">+var {</span>
<a href="#l52.27"></a><span id="l52.27" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l52.28"></a><span id="l52.28" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l52.29"></a><span id="l52.29" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l52.30"></a><span id="l52.30" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l52.31"></a><span id="l52.31" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l52.32"></a><span id="l52.32"> </span>
<a href="#l52.33"></a><span id="l52.33"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l52.34"></a><span id="l52.34"> </span>
<a href="#l52.35"></a><span id="l52.35"> var cwc = null; // compose window controller</span>
<a href="#l52.36"></a><span id="l52.36"> var folder;</span>
<a href="#l52.37"></a><span id="l52.37"> var gDrafts;</span>
<a href="#l52.38"></a><span id="l52.38"> </span>
<a href="#l52.39"></a><span id="l52.39"> function setupModule(module) {</span>
<a href="#l52.40"></a><span id="l52.40">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l52.41"></a><span id="l52.41">   fdh.installInto(module);</span>
<a href="#l52.42"></a><span id="l52.42">   let composeHelper = collector.getModule(&quot;compose-helpers&quot;);</span>
<a href="#l52.43"></a><span id="l52.43">   composeHelper.installInto(module);</span>
<a href="#l52.44"></a><span id="l52.44" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l52.45"></a><span id="l52.45" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l52.46"></a><span id="l52.46"> </span>
<a href="#l52.47"></a><span id="l52.47">   folder = create_folder(&quot;Test&quot;);</span>
<a href="#l52.48"></a><span id="l52.48">   let thread1 = create_thread(10);</span>
<a href="#l52.49"></a><span id="l52.49">   add_sets_to_folders([folder], [thread1]);</span>
<a href="#l52.50"></a><span id="l52.50"> </span>
<a href="#l52.51"></a><span id="l52.51">   gDrafts = get_special_folder(Ci.nsMsgFolderFlags.Drafts, true);</span>
<a href="#l52.52"></a><span id="l52.52"> </span>
<a href="#l52.53"></a><span id="l52.53">   // Don't create paragraphs in the test.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-forward-rfc822-attach.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-forward-rfc822-attach.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -6,31 +6,31 @@</span>
<a href="#l53.4"></a><span id="l53.4">  * Tests that attached messages (message/rfc822) are correctly sent.</span>
<a href="#l53.5"></a><span id="l53.5">  * It's easiest to test the forward case.</span>
<a href="#l53.6"></a><span id="l53.6">  */</span>
<a href="#l53.7"></a><span id="l53.7"> </span>
<a href="#l53.8"></a><span id="l53.8"> &quot;use strict&quot;;</span>
<a href="#l53.9"></a><span id="l53.9"> </span>
<a href="#l53.10"></a><span id="l53.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l53.11"></a><span id="l53.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l53.13"></a><span id="l53.13"> </span>
<a href="#l53.14"></a><span id="l53.14"> var MODULE_NAME = &quot;test-forward-rfc822-attach&quot;;</span>
<a href="#l53.15"></a><span id="l53.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l53.16"></a><span id="l53.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l53.17"></a><span id="l53.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l53.18"></a><span id="l53.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l53.19"></a><span id="l53.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l53.20"></a><span id="l53.20" class="difflineminus">-];</span>
<a href="#l53.21"></a><span id="l53.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l53.22"></a><span id="l53.22" class="difflineplus">+</span>
<a href="#l53.23"></a><span id="l53.23" class="difflineplus">+var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l53.24"></a><span id="l53.24" class="difflineplus">+</span>
<a href="#l53.25"></a><span id="l53.25" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l53.26"></a><span id="l53.26" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l53.27"></a><span id="l53.27" class="difflineplus">+);</span>
<a href="#l53.28"></a><span id="l53.28"> </span>
<a href="#l53.29"></a><span id="l53.29"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l53.30"></a><span id="l53.30"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l53.31"></a><span id="l53.31">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l53.32"></a><span id="l53.32"> );</span>
<a href="#l53.33"></a><span id="l53.33" class="difflineminus">-var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l53.34"></a><span id="l53.34"> </span>
<a href="#l53.35"></a><span id="l53.35"> var gDrafts;</span>
<a href="#l53.36"></a><span id="l53.36"> </span>
<a href="#l53.37"></a><span id="l53.37"> function setupModule(module) {</span>
<a href="#l53.38"></a><span id="l53.38">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l53.39"></a><span id="l53.39">     collector.getModule(lib).installInto(module);</span>
<a href="#l53.40"></a><span id="l53.40">   }</span>
<a href="#l53.41"></a><span id="l53.41"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-forward-utf8.js</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-forward-utf8.js</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -5,34 +5,34 @@</span>
<a href="#l54.4"></a><span id="l54.4"> /**</span>
<a href="#l54.5"></a><span id="l54.5">  * Tests that UTF-8 messages are correctly forwarded.</span>
<a href="#l54.6"></a><span id="l54.6">  */</span>
<a href="#l54.7"></a><span id="l54.7"> </span>
<a href="#l54.8"></a><span id="l54.8"> &quot;use strict&quot;;</span>
<a href="#l54.9"></a><span id="l54.9"> </span>
<a href="#l54.10"></a><span id="l54.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l54.11"></a><span id="l54.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l54.12"></a><span id="l54.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l54.13"></a><span id="l54.13"> </span>
<a href="#l54.14"></a><span id="l54.14"> var MODULE_NAME = &quot;test-forward-utf8&quot;;</span>
<a href="#l54.15"></a><span id="l54.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l54.16"></a><span id="l54.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l54.17"></a><span id="l54.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l54.18"></a><span id="l54.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l54.19"></a><span id="l54.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l54.20"></a><span id="l54.20" class="difflineminus">-];</span>
<a href="#l54.21"></a><span id="l54.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l54.22"></a><span id="l54.22" class="difflineplus">+</span>
<a href="#l54.23"></a><span id="l54.23" class="difflineplus">+var elib = ChromeUtils.import(</span>
<a href="#l54.24"></a><span id="l54.24" class="difflineplus">+  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l54.25"></a><span id="l54.25" class="difflineplus">+);</span>
<a href="#l54.26"></a><span id="l54.26" class="difflineplus">+var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l54.27"></a><span id="l54.27" class="difflineplus">+</span>
<a href="#l54.28"></a><span id="l54.28" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l54.29"></a><span id="l54.29" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l54.30"></a><span id="l54.30" class="difflineplus">+);</span>
<a href="#l54.31"></a><span id="l54.31"> </span>
<a href="#l54.32"></a><span id="l54.32"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l54.33"></a><span id="l54.33"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l54.34"></a><span id="l54.34">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l54.35"></a><span id="l54.35"> );</span>
<a href="#l54.36"></a><span id="l54.36" class="difflineminus">-var elib = ChromeUtils.import(</span>
<a href="#l54.37"></a><span id="l54.37" class="difflineminus">-  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l54.38"></a><span id="l54.38" class="difflineminus">-);</span>
<a href="#l54.39"></a><span id="l54.39" class="difflineminus">-var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l54.40"></a><span id="l54.40"> </span>
<a href="#l54.41"></a><span id="l54.41"> var folderToSendFrom;</span>
<a href="#l54.42"></a><span id="l54.42"> </span>
<a href="#l54.43"></a><span id="l54.43"> function setupModule(module) {</span>
<a href="#l54.44"></a><span id="l54.44">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l54.45"></a><span id="l54.45">     collector.getModule(lib).installInto(module);</span>
<a href="#l54.46"></a><span id="l54.46">   }</span>
<a href="#l54.47"></a><span id="l54.47"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-forwarded-content.js</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-forwarded-content.js</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -5,25 +5,20 @@</span>
<a href="#l55.4"></a><span id="l55.4"> /**</span>
<a href="#l55.5"></a><span id="l55.5">  * Tests that forwarded content is ok.</span>
<a href="#l55.6"></a><span id="l55.6">  */</span>
<a href="#l55.7"></a><span id="l55.7"> </span>
<a href="#l55.8"></a><span id="l55.8"> &quot;use strict&quot;;</span>
<a href="#l55.9"></a><span id="l55.9"> </span>
<a href="#l55.10"></a><span id="l55.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l55.11"></a><span id="l55.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l55.13"></a><span id="l55.13"> </span>
<a href="#l55.14"></a><span id="l55.14"> var MODULE_NAME = &quot;test-forwarded-content&quot;;</span>
<a href="#l55.15"></a><span id="l55.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l55.16"></a><span id="l55.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l55.17"></a><span id="l55.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l55.18"></a><span id="l55.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l55.19"></a><span id="l55.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l55.20"></a><span id="l55.20" class="difflineminus">-];</span>
<a href="#l55.21"></a><span id="l55.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l55.22"></a><span id="l55.22"> </span>
<a href="#l55.23"></a><span id="l55.23"> var folder = null;</span>
<a href="#l55.24"></a><span id="l55.24"> </span>
<a href="#l55.25"></a><span id="l55.25"> function setupModule(module) {</span>
<a href="#l55.26"></a><span id="l55.26">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l55.27"></a><span id="l55.27">     collector.getModule(lib).installInto(module);</span>
<a href="#l55.28"></a><span id="l55.28">   }</span>
<a href="#l55.29"></a><span id="l55.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-forwarded-eml-actions.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-forwarded-eml-actions.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -6,42 +6,43 @@</span>
<a href="#l56.4"></a><span id="l56.4">  * Tests that actions such as replying and forwarding works correctly from</span>
<a href="#l56.5"></a><span id="l56.5">  * an .eml message that's attached to another mail.</span>
<a href="#l56.6"></a><span id="l56.6">  */</span>
<a href="#l56.7"></a><span id="l56.7"> </span>
<a href="#l56.8"></a><span id="l56.8"> &quot;use strict&quot;;</span>
<a href="#l56.9"></a><span id="l56.9"> </span>
<a href="#l56.10"></a><span id="l56.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l56.11"></a><span id="l56.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l56.13"></a><span id="l56.13"> </span>
<a href="#l56.14"></a><span id="l56.14"> var MODULE_NAME = &quot;test-forwarded-eml-actions&quot;;</span>
<a href="#l56.15"></a><span id="l56.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l56.16"></a><span id="l56.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l56.17"></a><span id="l56.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l56.18"></a><span id="l56.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l56.19"></a><span id="l56.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l56.20"></a><span id="l56.20" class="difflineminus">-];</span>
<a href="#l56.21"></a><span id="l56.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l56.22"></a><span id="l56.22" class="difflineplus">+</span>
<a href="#l56.23"></a><span id="l56.23" class="difflineplus">+var elib = ChromeUtils.import(</span>
<a href="#l56.24"></a><span id="l56.24" class="difflineplus">+  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l56.25"></a><span id="l56.25" class="difflineplus">+);</span>
<a href="#l56.26"></a><span id="l56.26" class="difflineplus">+</span>
<a href="#l56.27"></a><span id="l56.27" class="difflineplus">+var {</span>
<a href="#l56.28"></a><span id="l56.28" class="difflineplus">+  close_window,</span>
<a href="#l56.29"></a><span id="l56.29" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l56.30"></a><span id="l56.30" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l56.31"></a><span id="l56.31" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l56.32"></a><span id="l56.32"> </span>
<a href="#l56.33"></a><span id="l56.33"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l56.34"></a><span id="l56.34">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l56.35"></a><span id="l56.35"> );</span>
<a href="#l56.36"></a><span id="l56.36" class="difflineminus">-var elib = ChromeUtils.import(</span>
<a href="#l56.37"></a><span id="l56.37" class="difflineminus">-  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l56.38"></a><span id="l56.38" class="difflineminus">-);</span>
<a href="#l56.39"></a><span id="l56.39"> </span>
<a href="#l56.40"></a><span id="l56.40"> var folder;</span>
<a href="#l56.41"></a><span id="l56.41"> </span>
<a href="#l56.42"></a><span id="l56.42"> var msgsubject = &quot;mail client suggestions&quot;;</span>
<a href="#l56.43"></a><span id="l56.43"> var msgbodyA = &quot;know of a good email client?&quot;;</span>
<a href="#l56.44"></a><span id="l56.44"> var msgbodyB = &quot;hi, i think you may know of an email client to recommend?&quot;;</span>
<a href="#l56.45"></a><span id="l56.45"> </span>
<a href="#l56.46"></a><span id="l56.46"> var setupModule = function(module) {</span>
<a href="#l56.47"></a><span id="l56.47">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l56.48"></a><span id="l56.48" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l56.49"></a><span id="l56.49">   collector.getModule(&quot;compose-helpers&quot;).installInto(module);</span>
<a href="#l56.50"></a><span id="l56.50"> </span>
<a href="#l56.51"></a><span id="l56.51">   folder = create_folder(&quot;FwdedEmlTest&quot;);</span>
<a href="#l56.52"></a><span id="l56.52"> </span>
<a href="#l56.53"></a><span id="l56.53">   let source =</span>
<a href="#l56.54"></a><span id="l56.54">     &quot;From - Mon Apr  16 22:55:33 2012\n&quot; +</span>
<a href="#l56.55"></a><span id="l56.55">     &quot;Date: Mon, 16 Apr 2012 22:55:33 +0300\n&quot; +</span>
<a href="#l56.56"></a><span id="l56.56">     &quot;From: Mr Example &lt;example@invalid&gt;\n&quot; +</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-image-display.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-image-display.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -5,30 +5,30 @@</span>
<a href="#l57.4"></a><span id="l57.4"> /**</span>
<a href="#l57.5"></a><span id="l57.5">  * Tests that we load and display embedded images in messages.</span>
<a href="#l57.6"></a><span id="l57.6">  */</span>
<a href="#l57.7"></a><span id="l57.7"> </span>
<a href="#l57.8"></a><span id="l57.8"> &quot;use strict&quot;;</span>
<a href="#l57.9"></a><span id="l57.9"> </span>
<a href="#l57.10"></a><span id="l57.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l57.11"></a><span id="l57.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l57.13"></a><span id="l57.13"> </span>
<a href="#l57.14"></a><span id="l57.14"> var MODULE_NAME = &quot;test-image-display&quot;;</span>
<a href="#l57.15"></a><span id="l57.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l57.16"></a><span id="l57.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l57.17"></a><span id="l57.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l57.18"></a><span id="l57.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l57.19"></a><span id="l57.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l57.20"></a><span id="l57.20" class="difflineminus">-];</span>
<a href="#l57.21"></a><span id="l57.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l57.22"></a><span id="l57.22"> </span>
<a href="#l57.23"></a><span id="l57.23"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l57.24"></a><span id="l57.24"> var elib = ChromeUtils.import(</span>
<a href="#l57.25"></a><span id="l57.25">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l57.26"></a><span id="l57.26"> );</span>
<a href="#l57.27"></a><span id="l57.27" class="difflineplus">+</span>
<a href="#l57.28"></a><span id="l57.28" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l57.29"></a><span id="l57.29" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l57.30"></a><span id="l57.30" class="difflineplus">+);</span>
<a href="#l57.31"></a><span id="l57.31" class="difflineplus">+</span>
<a href="#l57.32"></a><span id="l57.32"> var { IOUtils } = ChromeUtils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l57.33"></a><span id="l57.33"> </span>
<a href="#l57.34"></a><span id="l57.34"> var gImageFolder;</span>
<a href="#l57.35"></a><span id="l57.35"> </span>
<a href="#l57.36"></a><span id="l57.36"> function setupModule(module) {</span>
<a href="#l57.37"></a><span id="l57.37">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l57.38"></a><span id="l57.38">     collector.getModule(lib).installInto(module);</span>
<a href="#l57.39"></a><span id="l57.39">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-image-insertion-dialog.js</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-image-insertion-dialog.js</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -5,43 +5,39 @@</span>
<a href="#l58.4"></a><span id="l58.4"> /**</span>
<a href="#l58.5"></a><span id="l58.5">  * Tests the image insertion dialog functionality.</span>
<a href="#l58.6"></a><span id="l58.6">  */</span>
<a href="#l58.7"></a><span id="l58.7"> </span>
<a href="#l58.8"></a><span id="l58.8"> &quot;use strict&quot;;</span>
<a href="#l58.9"></a><span id="l58.9"> </span>
<a href="#l58.10"></a><span id="l58.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l58.11"></a><span id="l58.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l58.13"></a><span id="l58.13"> </span>
<a href="#l58.14"></a><span id="l58.14"> var MODULE_NAME = &quot;test-image-insertion-dialog&quot;;</span>
<a href="#l58.15"></a><span id="l58.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l58.16"></a><span id="l58.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l58.17"></a><span id="l58.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l58.18"></a><span id="l58.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l58.19"></a><span id="l58.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l58.20"></a><span id="l58.20" class="difflineminus">-];</span>
<a href="#l58.21"></a><span id="l58.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l58.22"></a><span id="l58.22"> </span>
<a href="#l58.23"></a><span id="l58.23"> var elib = ChromeUtils.import(</span>
<a href="#l58.24"></a><span id="l58.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l58.25"></a><span id="l58.25"> );</span>
<a href="#l58.26"></a><span id="l58.26"> </span>
<a href="#l58.27"></a><span id="l58.27"> var { input_value } = ChromeUtils.import(</span>
<a href="#l58.28"></a><span id="l58.28">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l58.29"></a><span id="l58.29"> );</span>
<a href="#l58.30"></a><span id="l58.30" class="difflineplus">+var wh = ChromeUtils.import(</span>
<a href="#l58.31"></a><span id="l58.31" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l58.32"></a><span id="l58.32" class="difflineplus">+);</span>
<a href="#l58.33"></a><span id="l58.33"> </span>
<a href="#l58.34"></a><span id="l58.34" class="difflineminus">-var fdh, ch, wh;</span>
<a href="#l58.35"></a><span id="l58.35" class="difflineplus">+var fdh, ch;</span>
<a href="#l58.36"></a><span id="l58.36"> </span>
<a href="#l58.37"></a><span id="l58.37"> function setupModule(module) {</span>
<a href="#l58.38"></a><span id="l58.38">   fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l58.39"></a><span id="l58.39">   fdh.installInto(module);</span>
<a href="#l58.40"></a><span id="l58.40">   ch = collector.getModule(&quot;compose-helpers&quot;);</span>
<a href="#l58.41"></a><span id="l58.41">   ch.installInto(module);</span>
<a href="#l58.42"></a><span id="l58.42" class="difflineminus">-  wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l58.43"></a><span id="l58.43" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l58.44"></a><span id="l58.44"> }</span>
<a href="#l58.45"></a><span id="l58.45"> </span>
<a href="#l58.46"></a><span id="l58.46"> function test_image_insertion_dialog_persist() {</span>
<a href="#l58.47"></a><span id="l58.47">   let cwc = open_compose_new_mail();</span>
<a href="#l58.48"></a><span id="l58.48"> </span>
<a href="#l58.49"></a><span id="l58.49">   // First focus on the editor element</span>
<a href="#l58.50"></a><span id="l58.50">   cwc.e(&quot;content-frame&quot;).focus();</span>
<a href="#l58.51"></a><span id="l58.51"> </span>
<a href="#l58.52"></a><span id="l58.52" class="difflineat">@@ -56,58 +52,58 @@ function test_image_insertion_dialog_per</span>
<a href="#l58.53"></a><span id="l58.53"> </span>
<a href="#l58.54"></a><span id="l58.54">     // Don't add alternate text</span>
<a href="#l58.55"></a><span id="l58.55">     mwc.click(mwc.eid(&quot;noAltTextRadio&quot;));</span>
<a href="#l58.56"></a><span id="l58.56"> </span>
<a href="#l58.57"></a><span id="l58.57">     mwc.window.document.documentElement.acceptDialog();</span>
<a href="#l58.58"></a><span id="l58.58">   });</span>
<a href="#l58.59"></a><span id="l58.59">   cwc.click(cwc.eid(&quot;insertImage&quot;));</span>
<a href="#l58.60"></a><span id="l58.60">   wh.wait_for_modal_dialog();</span>
<a href="#l58.61"></a><span id="l58.61" class="difflineminus">-  wait_for_window_close();</span>
<a href="#l58.62"></a><span id="l58.62" class="difflineplus">+  wh.wait_for_window_close();</span>
<a href="#l58.63"></a><span id="l58.63"> </span>
<a href="#l58.64"></a><span id="l58.64">   // Check that the radio option persists</span>
<a href="#l58.65"></a><span id="l58.65">   wh.plan_for_modal_dialog(&quot;imageDlg&quot;, function insert_image(mwc) {</span>
<a href="#l58.66"></a><span id="l58.66">     assert_true(</span>
<a href="#l58.67"></a><span id="l58.67">       mwc.window.document.getElementById(&quot;noAltTextRadio&quot;).selected,</span>
<a href="#l58.68"></a><span id="l58.68">       &quot;We should persist the previously selected value&quot;</span>
<a href="#l58.69"></a><span id="l58.69">     );</span>
<a href="#l58.70"></a><span id="l58.70">     // We change to &quot;use alt text&quot;</span>
<a href="#l58.71"></a><span id="l58.71">     mwc.click(mwc.eid(&quot;altTextRadio&quot;));</span>
<a href="#l58.72"></a><span id="l58.72">     mwc.window.document.documentElement.cancelDialog();</span>
<a href="#l58.73"></a><span id="l58.73">   });</span>
<a href="#l58.74"></a><span id="l58.74">   cwc.click(cwc.eid(&quot;insertImage&quot;));</span>
<a href="#l58.75"></a><span id="l58.75">   wh.wait_for_modal_dialog();</span>
<a href="#l58.76"></a><span id="l58.76" class="difflineminus">-  wait_for_window_close();</span>
<a href="#l58.77"></a><span id="l58.77" class="difflineplus">+  wh.wait_for_window_close();</span>
<a href="#l58.78"></a><span id="l58.78"> </span>
<a href="#l58.79"></a><span id="l58.79">   // Check that the radio option still persists (be really sure)</span>
<a href="#l58.80"></a><span id="l58.80">   wh.plan_for_modal_dialog(&quot;imageDlg&quot;, function insert_image(mwc) {</span>
<a href="#l58.81"></a><span id="l58.81">     assert_true(</span>
<a href="#l58.82"></a><span id="l58.82">       mwc.window.document.getElementById(&quot;altTextRadio&quot;).selected,</span>
<a href="#l58.83"></a><span id="l58.83">       &quot;We should persist the previously selected value&quot;</span>
<a href="#l58.84"></a><span id="l58.84">     );</span>
<a href="#l58.85"></a><span id="l58.85">     // Accept the dialog</span>
<a href="#l58.86"></a><span id="l58.86">     mwc.window.document.documentElement.cancelDialog();</span>
<a href="#l58.87"></a><span id="l58.87">   });</span>
<a href="#l58.88"></a><span id="l58.88">   cwc.click(cwc.eid(&quot;insertImage&quot;));</span>
<a href="#l58.89"></a><span id="l58.89">   wh.wait_for_modal_dialog();</span>
<a href="#l58.90"></a><span id="l58.90" class="difflineminus">-  wait_for_window_close();</span>
<a href="#l58.91"></a><span id="l58.91" class="difflineplus">+  wh.wait_for_window_close();</span>
<a href="#l58.92"></a><span id="l58.92"> </span>
<a href="#l58.93"></a><span id="l58.93">   // Get the inserted image, double-click it, make sure we switch to &quot;no alt</span>
<a href="#l58.94"></a><span id="l58.94">   // text&quot;, despite the persisted value being &quot;use alt text&quot;</span>
<a href="#l58.95"></a><span id="l58.95">   let img = cwc.e(&quot;content-frame&quot;).contentDocument.querySelector(&quot;img&quot;);</span>
<a href="#l58.96"></a><span id="l58.96">   wh.plan_for_modal_dialog(&quot;imageDlg&quot;, function insert_image(mwc) {</span>
<a href="#l58.97"></a><span id="l58.97">     assert_true(</span>
<a href="#l58.98"></a><span id="l58.98">       mwc.window.document.getElementById(&quot;noAltTextRadio&quot;).selected,</span>
<a href="#l58.99"></a><span id="l58.99">       &quot;We shouldn't use the persisted value because the insert image has no alt text&quot;</span>
<a href="#l58.100"></a><span id="l58.100">     );</span>
<a href="#l58.101"></a><span id="l58.101">     mwc.window.document.documentElement.cancelDialog();</span>
<a href="#l58.102"></a><span id="l58.102">   });</span>
<a href="#l58.103"></a><span id="l58.103">   cwc.doubleClick(new elib.Elem(img));</span>
<a href="#l58.104"></a><span id="l58.104">   wh.wait_for_modal_dialog();</span>
<a href="#l58.105"></a><span id="l58.105" class="difflineminus">-  wait_for_window_close();</span>
<a href="#l58.106"></a><span id="l58.106" class="difflineplus">+  wh.wait_for_window_close();</span>
<a href="#l58.107"></a><span id="l58.107">   // It's not clear why we have to wait here to avoid test failures,</span>
<a href="#l58.108"></a><span id="l58.108">   // see bug 1246094.</span>
<a href="#l58.109"></a><span id="l58.109">   cwc.sleep(500);</span>
<a href="#l58.110"></a><span id="l58.110"> </span>
<a href="#l58.111"></a><span id="l58.111">   // Now use some alt text for the edit image dialog</span>
<a href="#l58.112"></a><span id="l58.112">   wh.plan_for_modal_dialog(&quot;imageDlg&quot;, function insert_image(mwc) {</span>
<a href="#l58.113"></a><span id="l58.113">     assert_true(</span>
<a href="#l58.114"></a><span id="l58.114">       mwc.window.document.getElementById(&quot;noAltTextRadio&quot;).selected,</span>
<a href="#l58.115"></a><span id="l58.115" class="difflineat">@@ -119,29 +115,29 @@ function test_image_insertion_dialog_per</span>
<a href="#l58.116"></a><span id="l58.116">     srcloc.focus();</span>
<a href="#l58.117"></a><span id="l58.117">     input_value(mwc, &quot;some alt text&quot;);</span>
<a href="#l58.118"></a><span id="l58.118">     mwc.sleep(0);</span>
<a href="#l58.119"></a><span id="l58.119">     // Accept the dialog</span>
<a href="#l58.120"></a><span id="l58.120">     mwc.window.document.documentElement.acceptDialog();</span>
<a href="#l58.121"></a><span id="l58.121">   });</span>
<a href="#l58.122"></a><span id="l58.122">   cwc.doubleClick(new elib.Elem(img));</span>
<a href="#l58.123"></a><span id="l58.123">   wh.wait_for_modal_dialog();</span>
<a href="#l58.124"></a><span id="l58.124" class="difflineminus">-  wait_for_window_close();</span>
<a href="#l58.125"></a><span id="l58.125" class="difflineplus">+  wh.wait_for_window_close();</span>
<a href="#l58.126"></a><span id="l58.126">   // It's not clear why we have to wait here to avoid test failures,</span>
<a href="#l58.127"></a><span id="l58.127">   // see bug 1246094.</span>
<a href="#l58.128"></a><span id="l58.128">   cwc.sleep(500);</span>
<a href="#l58.129"></a><span id="l58.129"> </span>
<a href="#l58.130"></a><span id="l58.130">   // Make sure next time we edit it, we still have &quot;use alt text&quot; selected.</span>
<a href="#l58.131"></a><span id="l58.131">   img = cwc.e(&quot;content-frame&quot;).contentDocument.querySelector(&quot;img&quot;);</span>
<a href="#l58.132"></a><span id="l58.132">   wh.plan_for_modal_dialog(&quot;imageDlg&quot;, function insert_image(mwc) {</span>
<a href="#l58.133"></a><span id="l58.133">     assert_true(</span>
<a href="#l58.134"></a><span id="l58.134">       mwc.window.document.getElementById(&quot;altTextRadio&quot;).selected,</span>
<a href="#l58.135"></a><span id="l58.135">       &quot;We edited the image to make it have alt text, we should keep it selected&quot;</span>
<a href="#l58.136"></a><span id="l58.136">     );</span>
<a href="#l58.137"></a><span id="l58.137">     // Accept the dialog</span>
<a href="#l58.138"></a><span id="l58.138">     mwc.window.document.documentElement.cancelDialog();</span>
<a href="#l58.139"></a><span id="l58.139">   });</span>
<a href="#l58.140"></a><span id="l58.140">   cwc.doubleClick(new elib.Elem(img));</span>
<a href="#l58.141"></a><span id="l58.141">   wh.wait_for_modal_dialog();</span>
<a href="#l58.142"></a><span id="l58.142" class="difflineminus">-  wait_for_window_close();</span>
<a href="#l58.143"></a><span id="l58.143" class="difflineplus">+  wh.wait_for_window_close();</span>
<a href="#l58.144"></a><span id="l58.144"> </span>
<a href="#l58.145"></a><span id="l58.145">   close_compose_window(cwc);</span>
<a href="#l58.146"></a><span id="l58.146"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-multipart-related.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-multipart-related.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -5,36 +5,38 @@</span>
<a href="#l59.4"></a><span id="l59.4"> /**</span>
<a href="#l59.5"></a><span id="l59.5">  * Tests that multipart/related messages are handled properly.</span>
<a href="#l59.6"></a><span id="l59.6">  */</span>
<a href="#l59.7"></a><span id="l59.7"> </span>
<a href="#l59.8"></a><span id="l59.8"> &quot;use strict&quot;;</span>
<a href="#l59.9"></a><span id="l59.9"> </span>
<a href="#l59.10"></a><span id="l59.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l59.11"></a><span id="l59.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l59.13"></a><span id="l59.13"> </span>
<a href="#l59.14"></a><span id="l59.14"> var MODULE_NAME = &quot;test-multipart-related&quot;;</span>
<a href="#l59.15"></a><span id="l59.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l59.16"></a><span id="l59.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l59.17"></a><span id="l59.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l59.18"></a><span id="l59.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l59.19"></a><span id="l59.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l59.20"></a><span id="l59.20" class="difflineminus">-];</span>
<a href="#l59.21"></a><span id="l59.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l59.22"></a><span id="l59.22"> </span>
<a href="#l59.23"></a><span id="l59.23" class="difflineplus">+var elib = ChromeUtils.import(</span>
<a href="#l59.24"></a><span id="l59.24" class="difflineplus">+  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l59.25"></a><span id="l59.25" class="difflineplus">+);</span>
<a href="#l59.26"></a><span id="l59.26"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l59.27"></a><span id="l59.27" class="difflineplus">+var utils = ChromeUtils.import(&quot;chrome://mozmill/content/modules/utils.jsm&quot;);</span>
<a href="#l59.28"></a><span id="l59.28" class="difflineplus">+</span>
<a href="#l59.29"></a><span id="l59.29" class="difflineplus">+var {</span>
<a href="#l59.30"></a><span id="l59.30" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l59.31"></a><span id="l59.31" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l59.32"></a><span id="l59.32" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l59.33"></a><span id="l59.33" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l59.34"></a><span id="l59.34" class="difflineplus">+</span>
<a href="#l59.35"></a><span id="l59.35"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l59.36"></a><span id="l59.36"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l59.37"></a><span id="l59.37">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l59.38"></a><span id="l59.38"> );</span>
<a href="#l59.39"></a><span id="l59.39"> var { MimeParser } = ChromeUtils.import(&quot;resource:///modules/mimeParser.jsm&quot;);</span>
<a href="#l59.40"></a><span id="l59.40" class="difflineminus">-var elib = ChromeUtils.import(</span>
<a href="#l59.41"></a><span id="l59.41" class="difflineminus">-  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l59.42"></a><span id="l59.42" class="difflineminus">-);</span>
<a href="#l59.43"></a><span id="l59.43" class="difflineminus">-var utils = ChromeUtils.import(&quot;chrome://mozmill/content/modules/utils.jsm&quot;);</span>
<a href="#l59.44"></a><span id="l59.44"> </span>
<a href="#l59.45"></a><span id="l59.45"> var gDrafts;</span>
<a href="#l59.46"></a><span id="l59.46"> </span>
<a href="#l59.47"></a><span id="l59.47"> function setupModule(module) {</span>
<a href="#l59.48"></a><span id="l59.48">   for (let req of MODULE_REQUIRES) {</span>
<a href="#l59.49"></a><span id="l59.49">     collector.getModule(req).installInto(module);</span>
<a href="#l59.50"></a><span id="l59.50">   }</span>
<a href="#l59.51"></a><span id="l59.51">   gDrafts = get_special_folder(Ci.nsMsgFolderFlags.Drafts, true);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-newmsg-compose-identity.js</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-newmsg-compose-identity.js</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -6,25 +6,24 @@</span>
<a href="#l60.4"></a><span id="l60.4">  * Tests that compose new message chooses the correct initial identity when</span>
<a href="#l60.5"></a><span id="l60.5">  * called from the context of an open composer.</span>
<a href="#l60.6"></a><span id="l60.6">  */</span>
<a href="#l60.7"></a><span id="l60.7"> </span>
<a href="#l60.8"></a><span id="l60.8"> &quot;use strict&quot;;</span>
<a href="#l60.9"></a><span id="l60.9"> </span>
<a href="#l60.10"></a><span id="l60.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l60.11"></a><span id="l60.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l60.13"></a><span id="l60.13"> </span>
<a href="#l60.14"></a><span id="l60.14"> var MODULE_NAME = &quot;test-newmsg-compose-identity&quot;;</span>
<a href="#l60.15"></a><span id="l60.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l60.16"></a><span id="l60.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l60.17"></a><span id="l60.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l60.18"></a><span id="l60.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l60.19"></a><span id="l60.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l60.20"></a><span id="l60.20" class="difflineminus">-];</span>
<a href="#l60.21"></a><span id="l60.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l60.22"></a><span id="l60.22" class="difflineplus">+</span>
<a href="#l60.23"></a><span id="l60.23" class="difflineplus">+var { plan_for_new_window } = ChromeUtils.import(</span>
<a href="#l60.24"></a><span id="l60.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l60.25"></a><span id="l60.25" class="difflineplus">+);</span>
<a href="#l60.26"></a><span id="l60.26"> </span>
<a href="#l60.27"></a><span id="l60.27"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l60.28"></a><span id="l60.28">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l60.29"></a><span id="l60.29"> );</span>
<a href="#l60.30"></a><span id="l60.30"> </span>
<a href="#l60.31"></a><span id="l60.31"> var gInbox;</span>
<a href="#l60.32"></a><span id="l60.32"> var gDrafts;</span>
<a href="#l60.33"></a><span id="l60.33"> var account;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-reply-addresses.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-reply-addresses.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -7,42 +7,36 @@</span>
<a href="#l61.4"></a><span id="l61.4">  * reply to sender, reply to all, reply to list, mail-followup-tp,</span>
<a href="#l61.5"></a><span id="l61.5">  * mail-reply-to, and reply to self.</span>
<a href="#l61.6"></a><span id="l61.6">  */</span>
<a href="#l61.7"></a><span id="l61.7"> </span>
<a href="#l61.8"></a><span id="l61.8"> &quot;use strict&quot;;</span>
<a href="#l61.9"></a><span id="l61.9"> </span>
<a href="#l61.10"></a><span id="l61.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l61.11"></a><span id="l61.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l61.13"></a><span id="l61.13"> </span>
<a href="#l61.14"></a><span id="l61.14"> var MODULE_NAME = &quot;test-reply-addresses&quot;;</span>
<a href="#l61.15"></a><span id="l61.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l61.16"></a><span id="l61.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l61.17"></a><span id="l61.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l61.18"></a><span id="l61.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l61.19"></a><span id="l61.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l61.20"></a><span id="l61.20" class="difflineminus">-];</span>
<a href="#l61.21"></a><span id="l61.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l61.22"></a><span id="l61.22"> </span>
<a href="#l61.23"></a><span id="l61.23"> var folder;</span>
<a href="#l61.24"></a><span id="l61.24"> var i = 0;</span>
<a href="#l61.25"></a><span id="l61.25"> </span>
<a href="#l61.26"></a><span id="l61.26"> var myEmail = &quot;me@example.com&quot;;</span>
<a href="#l61.27"></a><span id="l61.27"> var myEmail2 = &quot;otherme@example.com&quot;;</span>
<a href="#l61.28"></a><span id="l61.28"> </span>
<a href="#l61.29"></a><span id="l61.29"> var identity;</span>
<a href="#l61.30"></a><span id="l61.30"> var identity2;</span>
<a href="#l61.31"></a><span id="l61.31"> </span>
<a href="#l61.32"></a><span id="l61.32"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l61.33"></a><span id="l61.33">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l61.34"></a><span id="l61.34"> );</span>
<a href="#l61.35"></a><span id="l61.35"> </span>
<a href="#l61.36"></a><span id="l61.36"> function setupModule(module) {</span>
<a href="#l61.37"></a><span id="l61.37">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l61.38"></a><span id="l61.38" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l61.39"></a><span id="l61.39">   collector.getModule(&quot;compose-helpers&quot;).installInto(module);</span>
<a href="#l61.40"></a><span id="l61.40"> </span>
<a href="#l61.41"></a><span id="l61.41">   // Now set up an account with some identities.</span>
<a href="#l61.42"></a><span id="l61.42">   let acctMgr = MailServices.accounts;</span>
<a href="#l61.43"></a><span id="l61.43">   let account = acctMgr.createAccount();</span>
<a href="#l61.44"></a><span id="l61.44">   account.incomingServer = acctMgr.createIncomingServer(</span>
<a href="#l61.45"></a><span id="l61.45">     &quot;nobody&quot;,</span>
<a href="#l61.46"></a><span id="l61.46">     &quot;Reply Addresses Testing&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-reply-format-flowed.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-reply-format-flowed.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -5,33 +5,32 @@</span>
<a href="#l62.4"></a><span id="l62.4"> /**</span>
<a href="#l62.5"></a><span id="l62.5">  * Tests that the reply to a format=flowed message is also flowed.</span>
<a href="#l62.6"></a><span id="l62.6">  */</span>
<a href="#l62.7"></a><span id="l62.7"> </span>
<a href="#l62.8"></a><span id="l62.8"> &quot;use strict&quot;;</span>
<a href="#l62.9"></a><span id="l62.9"> </span>
<a href="#l62.10"></a><span id="l62.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l62.11"></a><span id="l62.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l62.13"></a><span id="l62.13"> </span>
<a href="#l62.14"></a><span id="l62.14"> var MODULE_NAME = &quot;test-reply-format-flowed&quot;;</span>
<a href="#l62.15"></a><span id="l62.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l62.16"></a><span id="l62.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l62.17"></a><span id="l62.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l62.18"></a><span id="l62.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l62.19"></a><span id="l62.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l62.20"></a><span id="l62.20" class="difflineminus">-];</span>
<a href="#l62.21"></a><span id="l62.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l62.22"></a><span id="l62.22" class="difflineplus">+</span>
<a href="#l62.23"></a><span id="l62.23" class="difflineplus">+var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l62.24"></a><span id="l62.24" class="difflineplus">+</span>
<a href="#l62.25"></a><span id="l62.25" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l62.26"></a><span id="l62.26" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l62.27"></a><span id="l62.27" class="difflineplus">+);</span>
<a href="#l62.28"></a><span id="l62.28"> </span>
<a href="#l62.29"></a><span id="l62.29"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l62.30"></a><span id="l62.30"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l62.31"></a><span id="l62.31">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l62.32"></a><span id="l62.32"> );</span>
<a href="#l62.33"></a><span id="l62.33"> </span>
<a href="#l62.34"></a><span id="l62.34" class="difflineminus">-var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l62.35"></a><span id="l62.35" class="difflineminus">-</span>
<a href="#l62.36"></a><span id="l62.36"> var gDrafts;</span>
<a href="#l62.37"></a><span id="l62.37"> </span>
<a href="#l62.38"></a><span id="l62.38"> function setupModule(module) {</span>
<a href="#l62.39"></a><span id="l62.39">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l62.40"></a><span id="l62.40">     collector.getModule(lib).installInto(module);</span>
<a href="#l62.41"></a><span id="l62.41">   }</span>
<a href="#l62.42"></a><span id="l62.42"> </span>
<a href="#l62.43"></a><span id="l62.43">   gDrafts = get_special_folder(Ci.nsMsgFolderFlags.Drafts, true);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-reply-multipart-charset.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-reply-multipart-charset.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -19,31 +19,30 @@</span>
<a href="#l63.4"></a><span id="l63.4">  * For good measure some tests are included for charset overriding</span>
<a href="#l63.5"></a><span id="l63.5">  * and enforcing the charset default.</span>
<a href="#l63.6"></a><span id="l63.6">  */</span>
<a href="#l63.7"></a><span id="l63.7"> </span>
<a href="#l63.8"></a><span id="l63.8"> &quot;use strict&quot;;</span>
<a href="#l63.9"></a><span id="l63.9"> </span>
<a href="#l63.10"></a><span id="l63.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l63.11"></a><span id="l63.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l63.13"></a><span id="l63.13"> </span>
<a href="#l63.14"></a><span id="l63.14"> var MODULE_NAME = &quot;test-reply-multipart-charset&quot;;</span>
<a href="#l63.15"></a><span id="l63.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l63.16"></a><span id="l63.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l63.17"></a><span id="l63.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l63.18"></a><span id="l63.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l63.19"></a><span id="l63.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l63.20"></a><span id="l63.20" class="difflineminus">-];</span>
<a href="#l63.21"></a><span id="l63.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l63.22"></a><span id="l63.22"> </span>
<a href="#l63.23"></a><span id="l63.23"> var elib = ChromeUtils.import(</span>
<a href="#l63.24"></a><span id="l63.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l63.25"></a><span id="l63.25"> );</span>
<a href="#l63.26"></a><span id="l63.26"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l63.27"></a><span id="l63.27"> </span>
<a href="#l63.28"></a><span id="l63.28" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l63.29"></a><span id="l63.29" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l63.30"></a><span id="l63.30" class="difflineplus">+);</span>
<a href="#l63.31"></a><span id="l63.31" class="difflineplus">+</span>
<a href="#l63.32"></a><span id="l63.32"> var folderToStoreMessages;</span>
<a href="#l63.33"></a><span id="l63.33"> </span>
<a href="#l63.34"></a><span id="l63.34"> function setupModule(module) {</span>
<a href="#l63.35"></a><span id="l63.35">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l63.36"></a><span id="l63.36">     collector.getModule(lib).installInto(module);</span>
<a href="#l63.37"></a><span id="l63.37">   }</span>
<a href="#l63.38"></a><span id="l63.38"> </span>
<a href="#l63.39"></a><span id="l63.39">   folderToStoreMessages = create_folder(&quot;FolderWithMessages&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-reply-signature.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-reply-signature.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -5,25 +5,20 @@</span>
<a href="#l64.4"></a><span id="l64.4"> /**</span>
<a href="#l64.5"></a><span id="l64.5">  * Tests the mail.strip_sig_on_reply pref.</span>
<a href="#l64.6"></a><span id="l64.6">  */</span>
<a href="#l64.7"></a><span id="l64.7"> </span>
<a href="#l64.8"></a><span id="l64.8"> &quot;use strict&quot;;</span>
<a href="#l64.9"></a><span id="l64.9"> </span>
<a href="#l64.10"></a><span id="l64.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l64.11"></a><span id="l64.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l64.12"></a><span id="l64.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l64.13"></a><span id="l64.13"> </span>
<a href="#l64.14"></a><span id="l64.14"> var MODULE_NAME = &quot;test-reply-signature&quot;;</span>
<a href="#l64.15"></a><span id="l64.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l64.16"></a><span id="l64.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l64.17"></a><span id="l64.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l64.18"></a><span id="l64.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l64.19"></a><span id="l64.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l64.20"></a><span id="l64.20" class="difflineminus">-];</span>
<a href="#l64.21"></a><span id="l64.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l64.22"></a><span id="l64.22"> </span>
<a href="#l64.23"></a><span id="l64.23"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l64.24"></a><span id="l64.24"> </span>
<a href="#l64.25"></a><span id="l64.25"> var sig = &quot;roses are red&quot;;</span>
<a href="#l64.26"></a><span id="l64.26"> var folder;</span>
<a href="#l64.27"></a><span id="l64.27"> </span>
<a href="#l64.28"></a><span id="l64.28"> function setupModule(module) {</span>
<a href="#l64.29"></a><span id="l64.29">   for (let req of MODULE_REQUIRES) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-save-changes-on-quit.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-save-changes-on-quit.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -7,25 +7,20 @@</span>
<a href="#l65.4"></a><span id="l65.4">  * try to quit/close with an open compose window with unsaved changes, and</span>
<a href="#l65.5"></a><span id="l65.5">  * that we don't prompt if there are no changes.</span>
<a href="#l65.6"></a><span id="l65.6">  */</span>
<a href="#l65.7"></a><span id="l65.7"> </span>
<a href="#l65.8"></a><span id="l65.8"> &quot;use strict&quot;;</span>
<a href="#l65.9"></a><span id="l65.9"> </span>
<a href="#l65.10"></a><span id="l65.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l65.11"></a><span id="l65.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l65.12"></a><span id="l65.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l65.13"></a><span id="l65.13"> </span>
<a href="#l65.14"></a><span id="l65.14"> var MODULE_NAME = &quot;test-save-changes-on-quit&quot;;</span>
<a href="#l65.15"></a><span id="l65.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l65.16"></a><span id="l65.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l65.17"></a><span id="l65.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l65.18"></a><span id="l65.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l65.19"></a><span id="l65.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l65.20"></a><span id="l65.20" class="difflineminus">-];</span>
<a href="#l65.21"></a><span id="l65.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l65.22"></a><span id="l65.22"> </span>
<a href="#l65.23"></a><span id="l65.23"> var SAVE = 0;</span>
<a href="#l65.24"></a><span id="l65.24"> var CANCEL = 1;</span>
<a href="#l65.25"></a><span id="l65.25"> var DONT_SAVE = 2;</span>
<a href="#l65.26"></a><span id="l65.26"> </span>
<a href="#l65.27"></a><span id="l65.27"> var { gMockPromptService } = ChromeUtils.import(</span>
<a href="#l65.28"></a><span id="l65.28">   &quot;resource://testing-common/mozmill/PromptHelpers.jsm&quot;</span>
<a href="#l65.29"></a><span id="l65.29"> );</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-send-button.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-send-button.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -6,41 +6,42 @@</span>
<a href="#l66.4"></a><span id="l66.4">  * Tests proper enabling of send buttons depending on addresses input.</span>
<a href="#l66.5"></a><span id="l66.5">  */</span>
<a href="#l66.6"></a><span id="l66.6"> </span>
<a href="#l66.7"></a><span id="l66.7"> &quot;use strict&quot;;</span>
<a href="#l66.8"></a><span id="l66.8"> </span>
<a href="#l66.9"></a><span id="l66.9"> /* import-globals-from ../shared-modules/test-address-book-helpers.js */</span>
<a href="#l66.10"></a><span id="l66.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l66.11"></a><span id="l66.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l66.13"></a><span id="l66.13"> </span>
<a href="#l66.14"></a><span id="l66.14"> var MODULE_NAME = &quot;test-send-button&quot;;</span>
<a href="#l66.15"></a><span id="l66.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l66.16"></a><span id="l66.16"> var MODULE_REQUIRES = [</span>
<a href="#l66.17"></a><span id="l66.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l66.18"></a><span id="l66.18">   &quot;compose-helpers&quot;,</span>
<a href="#l66.19"></a><span id="l66.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l66.20"></a><span id="l66.20">   &quot;address-book-helpers&quot;,</span>
<a href="#l66.21"></a><span id="l66.21"> ];</span>
<a href="#l66.22"></a><span id="l66.22"> </span>
<a href="#l66.23"></a><span id="l66.23" class="difflineplus">+var elib = ChromeUtils.import(</span>
<a href="#l66.24"></a><span id="l66.24" class="difflineplus">+  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l66.25"></a><span id="l66.25" class="difflineplus">+);</span>
<a href="#l66.26"></a><span id="l66.26" class="difflineplus">+</span>
<a href="#l66.27"></a><span id="l66.27" class="difflineplus">+var { wait_for_frame_load } = ChromeUtils.import(</span>
<a href="#l66.28"></a><span id="l66.28" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l66.29"></a><span id="l66.29" class="difflineplus">+);</span>
<a href="#l66.30"></a><span id="l66.30" class="difflineplus">+</span>
<a href="#l66.31"></a><span id="l66.31"> var { AppConstants } = ChromeUtils.import(</span>
<a href="#l66.32"></a><span id="l66.32">   &quot;resource://gre/modules/AppConstants.jsm&quot;</span>
<a href="#l66.33"></a><span id="l66.33"> );</span>
<a href="#l66.34"></a><span id="l66.34"> </span>
<a href="#l66.35"></a><span id="l66.35" class="difflineminus">-var elib = ChromeUtils.import(</span>
<a href="#l66.36"></a><span id="l66.36" class="difflineminus">-  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l66.37"></a><span id="l66.37" class="difflineminus">-);</span>
<a href="#l66.38"></a><span id="l66.38" class="difflineminus">-</span>
<a href="#l66.39"></a><span id="l66.39"> var account = null;</span>
<a href="#l66.40"></a><span id="l66.40"> </span>
<a href="#l66.41"></a><span id="l66.41"> function setupModule(module) {</span>
<a href="#l66.42"></a><span id="l66.42">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l66.43"></a><span id="l66.43">   collector.getModule(&quot;compose-helpers&quot;).installInto(module);</span>
<a href="#l66.44"></a><span id="l66.44" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l66.45"></a><span id="l66.45">   collector.getModule(&quot;address-book-helpers&quot;).installInto(module);</span>
<a href="#l66.46"></a><span id="l66.46"> </span>
<a href="#l66.47"></a><span id="l66.47">   // Ensure we're in the tinderbox account as that has the right identities set</span>
<a href="#l66.48"></a><span id="l66.48">   // up for this test.</span>
<a href="#l66.49"></a><span id="l66.49">   let server = MailServices.accounts.FindServer(</span>
<a href="#l66.50"></a><span id="l66.50">     &quot;tinderbox&quot;,</span>
<a href="#l66.51"></a><span id="l66.51">     FAKE_SERVER_HOSTNAME,</span>
<a href="#l66.52"></a><span id="l66.52">     &quot;pop3&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-send-format.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-send-format.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -6,28 +6,27 @@</span>
<a href="#l67.4"></a><span id="l67.4">  * Tests resulting send format of a message dependent on using HTML features</span>
<a href="#l67.5"></a><span id="l67.5">  * in the composition.</span>
<a href="#l67.6"></a><span id="l67.6">  */</span>
<a href="#l67.7"></a><span id="l67.7"> </span>
<a href="#l67.8"></a><span id="l67.8"> &quot;use strict&quot;;</span>
<a href="#l67.9"></a><span id="l67.9"> </span>
<a href="#l67.10"></a><span id="l67.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l67.11"></a><span id="l67.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l67.12"></a><span id="l67.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l67.13"></a><span id="l67.13"> </span>
<a href="#l67.14"></a><span id="l67.14"> var MODULE_NAME = &quot;test-send-format&quot;;</span>
<a href="#l67.15"></a><span id="l67.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l67.16"></a><span id="l67.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l67.17"></a><span id="l67.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l67.18"></a><span id="l67.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l67.19"></a><span id="l67.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l67.20"></a><span id="l67.20" class="difflineminus">-];</span>
<a href="#l67.21"></a><span id="l67.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l67.22"></a><span id="l67.22"> </span>
<a href="#l67.23"></a><span id="l67.23"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l67.24"></a><span id="l67.24"> </span>
<a href="#l67.25"></a><span id="l67.25" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l67.26"></a><span id="l67.26" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l67.27"></a><span id="l67.27" class="difflineplus">+);</span>
<a href="#l67.28"></a><span id="l67.28" class="difflineplus">+</span>
<a href="#l67.29"></a><span id="l67.29"> function setupModule(module) {</span>
<a href="#l67.30"></a><span id="l67.30">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l67.31"></a><span id="l67.31">     collector.getModule(lib).installInto(module);</span>
<a href="#l67.32"></a><span id="l67.32">   }</span>
<a href="#l67.33"></a><span id="l67.33"> }</span>
<a href="#l67.34"></a><span id="l67.34"> </span>
<a href="#l67.35"></a><span id="l67.35"> function checkMsgFile(aFilePath, aConvertibility) {</span>
<a href="#l67.36"></a><span id="l67.36">   let file = os.getFileForPath(</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/mail/test/mozmill/composition/test-signature-updating.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/mail/test/mozmill/composition/test-signature-updating.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -11,25 +11,20 @@</span>
<a href="#l68.4"></a><span id="l68.4"> </span>
<a href="#l68.5"></a><span id="l68.5"> // mail.identity.id2.htmlSigFormat = true</span>
<a href="#l68.6"></a><span id="l68.6"> // mail.identity.id2.htmlSigText   = &quot;Tinderboxpushlog is the new &lt;b&gt;hotness!&lt;/b&gt;&quot;</span>
<a href="#l68.7"></a><span id="l68.7"> </span>
<a href="#l68.8"></a><span id="l68.8"> &quot;use strict&quot;;</span>
<a href="#l68.9"></a><span id="l68.9"> </span>
<a href="#l68.10"></a><span id="l68.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l68.11"></a><span id="l68.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l68.12"></a><span id="l68.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l68.13"></a><span id="l68.13"> </span>
<a href="#l68.14"></a><span id="l68.14"> var MODULE_NAME = &quot;test-signature-updating&quot;;</span>
<a href="#l68.15"></a><span id="l68.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l68.16"></a><span id="l68.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l68.17"></a><span id="l68.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l68.18"></a><span id="l68.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l68.19"></a><span id="l68.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l68.20"></a><span id="l68.20" class="difflineminus">-];</span>
<a href="#l68.21"></a><span id="l68.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l68.22"></a><span id="l68.22"> </span>
<a href="#l68.23"></a><span id="l68.23"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l68.24"></a><span id="l68.24"> </span>
<a href="#l68.25"></a><span id="l68.25"> var cwc = null; // compose window controller</span>
<a href="#l68.26"></a><span id="l68.26"> </span>
<a href="#l68.27"></a><span id="l68.27"> function setupModule(module) {</span>
<a href="#l68.28"></a><span id="l68.28">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l68.29"></a><span id="l68.29">     collector.getModule(lib).installInto(module);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-compose-mailto.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-compose-mailto.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -2,50 +2,50 @@</span>
<a href="#l69.4"></a><span id="l69.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l69.5"></a><span id="l69.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l69.6"></a><span id="l69.6"> </span>
<a href="#l69.7"></a><span id="l69.7"> &quot;use strict&quot;;</span>
<a href="#l69.8"></a><span id="l69.8"> </span>
<a href="#l69.9"></a><span id="l69.9"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l69.10"></a><span id="l69.10"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l69.11"></a><span id="l69.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l69.12"></a><span id="l69.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l69.13"></a><span id="l69.13"> </span>
<a href="#l69.14"></a><span id="l69.14"> var MODULE_NAME = &quot;test-compose-mailto&quot;;</span>
<a href="#l69.15"></a><span id="l69.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l69.16"></a><span id="l69.16"> var MODULE_REQUIRES = [</span>
<a href="#l69.17"></a><span id="l69.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l69.18"></a><span id="l69.18">   &quot;compose-helpers&quot;,</span>
<a href="#l69.19"></a><span id="l69.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l69.20"></a><span id="l69.20">   &quot;content-tab-helpers&quot;,</span>
<a href="#l69.21"></a><span id="l69.21"> ];</span>
<a href="#l69.22"></a><span id="l69.22"> </span>
<a href="#l69.23"></a><span id="l69.23"> var { input_value } = ChromeUtils.import(</span>
<a href="#l69.24"></a><span id="l69.24">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l69.25"></a><span id="l69.25"> );</span>
<a href="#l69.26"></a><span id="l69.26" class="difflineplus">+var {</span>
<a href="#l69.27"></a><span id="l69.27" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l69.28"></a><span id="l69.28" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l69.29"></a><span id="l69.29" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l69.30"></a><span id="l69.30" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l69.31"></a><span id="l69.31"> </span>
<a href="#l69.32"></a><span id="l69.32"> var folder = null;</span>
<a href="#l69.33"></a><span id="l69.33"> var composeHelper = null;</span>
<a href="#l69.34"></a><span id="l69.34" class="difflineminus">-var windowHelper = null;</span>
<a href="#l69.35"></a><span id="l69.35"> var gMsgNo = 0;</span>
<a href="#l69.36"></a><span id="l69.36"> var gComposeWin;</span>
<a href="#l69.37"></a><span id="l69.37"> var gNewTab;</span>
<a href="#l69.38"></a><span id="l69.38"> var gPreCount;</span>
<a href="#l69.39"></a><span id="l69.39"> </span>
<a href="#l69.40"></a><span id="l69.40"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l69.41"></a><span id="l69.41"> // so we get the right path for the resources.</span>
<a href="#l69.42"></a><span id="l69.42"> var url = collector.addHttpResource(&quot;../content-policy/html&quot;, &quot;content&quot;);</span>
<a href="#l69.43"></a><span id="l69.43"> </span>
<a href="#l69.44"></a><span id="l69.44"> function setupModule(module) {</span>
<a href="#l69.45"></a><span id="l69.45">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l69.46"></a><span id="l69.46">   fdh.installInto(module);</span>
<a href="#l69.47"></a><span id="l69.47">   composeHelper = collector.getModule(&quot;compose-helpers&quot;);</span>
<a href="#l69.48"></a><span id="l69.48">   composeHelper.installInto(module);</span>
<a href="#l69.49"></a><span id="l69.49" class="difflineminus">-  windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l69.50"></a><span id="l69.50" class="difflineminus">-  windowHelper.installInto(module);</span>
<a href="#l69.51"></a><span id="l69.51">   let cth = collector.getModule(&quot;content-tab-helpers&quot;);</span>
<a href="#l69.52"></a><span id="l69.52">   cth.installInto(module);</span>
<a href="#l69.53"></a><span id="l69.53"> }</span>
<a href="#l69.54"></a><span id="l69.54"> </span>
<a href="#l69.55"></a><span id="l69.55"> function test_openComposeFromMailToLink() {</span>
<a href="#l69.56"></a><span id="l69.56">   // Open a content tab with the mailto link in it.</span>
<a href="#l69.57"></a><span id="l69.57">   // To open a tab we're going to have to cheat and use tabmail so we can load</span>
<a href="#l69.58"></a><span id="l69.58">   // in the data of what we want.</span>
<a href="#l69.59"></a><span id="l69.59" class="difflineat">@@ -56,33 +56,33 @@ function test_openComposeFromMailToLink(</span>
<a href="#l69.60"></a><span id="l69.60">   );</span>
<a href="#l69.61"></a><span id="l69.61"> }</span>
<a href="#l69.62"></a><span id="l69.62"> </span>
<a href="#l69.63"></a><span id="l69.63"> function test_checkInsertImage() {</span>
<a href="#l69.64"></a><span id="l69.64">   // First focus on the editor element</span>
<a href="#l69.65"></a><span id="l69.65">   gComposeWin.e(&quot;content-frame&quot;).focus();</span>
<a href="#l69.66"></a><span id="l69.66"> </span>
<a href="#l69.67"></a><span id="l69.67">   // Now open the image window</span>
<a href="#l69.68"></a><span id="l69.68" class="difflineminus">-  windowHelper.plan_for_modal_dialog(&quot;imageDlg&quot;, function insert_image(mwc) {</span>
<a href="#l69.69"></a><span id="l69.69" class="difflineplus">+  plan_for_modal_dialog(&quot;imageDlg&quot;, function insert_image(mwc) {</span>
<a href="#l69.70"></a><span id="l69.70">     // Insert the url of the image.</span>
<a href="#l69.71"></a><span id="l69.71">     let srcloc = mwc.window.document.getElementById(&quot;srcInput&quot;);</span>
<a href="#l69.72"></a><span id="l69.72">     srcloc.focus();</span>
<a href="#l69.73"></a><span id="l69.73"> </span>
<a href="#l69.74"></a><span id="l69.74">     input_value(mwc, url + &quot;pass.png&quot;);</span>
<a href="#l69.75"></a><span id="l69.75">     mwc.sleep(0);</span>
<a href="#l69.76"></a><span id="l69.76"> </span>
<a href="#l69.77"></a><span id="l69.77">     // Don't add alternate text</span>
<a href="#l69.78"></a><span id="l69.78">     mwc.click(mwc.eid(&quot;noAltTextRadio&quot;));</span>
<a href="#l69.79"></a><span id="l69.79"> </span>
<a href="#l69.80"></a><span id="l69.80">     // Accept the dialog</span>
<a href="#l69.81"></a><span id="l69.81">     mwc.window.document.getElementById(&quot;imageDlg&quot;).acceptDialog();</span>
<a href="#l69.82"></a><span id="l69.82">   });</span>
<a href="#l69.83"></a><span id="l69.83">   gComposeWin.click(gComposeWin.eid(&quot;insertImage&quot;));</span>
<a href="#l69.84"></a><span id="l69.84"> </span>
<a href="#l69.85"></a><span id="l69.85" class="difflineminus">-  windowHelper.wait_for_modal_dialog();</span>
<a href="#l69.86"></a><span id="l69.86" class="difflineplus">+  wait_for_modal_dialog();</span>
<a href="#l69.87"></a><span id="l69.87">   wait_for_window_close();</span>
<a href="#l69.88"></a><span id="l69.88"> </span>
<a href="#l69.89"></a><span id="l69.89">   //  gComposeWin.sleep(500);</span>
<a href="#l69.90"></a><span id="l69.90"> </span>
<a href="#l69.91"></a><span id="l69.91">   // Test that the image load has not been denied</span>
<a href="#l69.92"></a><span id="l69.92">   let childImages = gComposeWin</span>
<a href="#l69.93"></a><span id="l69.93">     .e(&quot;content-frame&quot;)</span>
<a href="#l69.94"></a><span id="l69.94">     .contentDocument.getElementsByTagName(&quot;img&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-general-content-policy.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-general-content-policy.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -17,23 +17,21 @@</span>
<a href="#l70.4"></a><span id="l70.4">  * - Feed message</span>
<a href="#l70.5"></a><span id="l70.5">  */</span>
<a href="#l70.6"></a><span id="l70.6"> </span>
<a href="#l70.7"></a><span id="l70.7"> &quot;use strict&quot;;</span>
<a href="#l70.8"></a><span id="l70.8"> </span>
<a href="#l70.9"></a><span id="l70.9"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l70.10"></a><span id="l70.10"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l70.11"></a><span id="l70.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l70.13"></a><span id="l70.13"> </span>
<a href="#l70.14"></a><span id="l70.14"> var MODULE_NAME = &quot;test-general-content-policy&quot;;</span>
<a href="#l70.15"></a><span id="l70.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l70.16"></a><span id="l70.16"> var MODULE_REQUIRES = [</span>
<a href="#l70.17"></a><span id="l70.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l70.18"></a><span id="l70.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l70.19"></a><span id="l70.19">   &quot;compose-helpers&quot;,</span>
<a href="#l70.20"></a><span id="l70.20">   &quot;content-tab-helpers&quot;,</span>
<a href="#l70.21"></a><span id="l70.21"> ];</span>
<a href="#l70.22"></a><span id="l70.22"> </span>
<a href="#l70.23"></a><span id="l70.23"> var elib = ChromeUtils.import(</span>
<a href="#l70.24"></a><span id="l70.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l70.25"></a><span id="l70.25"> );</span>
<a href="#l70.26"></a><span id="l70.26"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l70.27"></a><span id="l70.27" class="difflineat">@@ -43,16 +41,23 @@ var { input_value } = ChromeUtils.import</span>
<a href="#l70.28"></a><span id="l70.28"> );</span>
<a href="#l70.29"></a><span id="l70.29"> var {</span>
<a href="#l70.30"></a><span id="l70.30">   get_notification_button,</span>
<a href="#l70.31"></a><span id="l70.31">   wait_for_notification_to_show,</span>
<a href="#l70.32"></a><span id="l70.32">   wait_for_notification_to_stop,</span>
<a href="#l70.33"></a><span id="l70.33"> } = ChromeUtils.import(</span>
<a href="#l70.34"></a><span id="l70.34">   &quot;resource://testing-common/mozmill/NotificationBoxHelpers.jsm&quot;</span>
<a href="#l70.35"></a><span id="l70.35"> );</span>
<a href="#l70.36"></a><span id="l70.36" class="difflineplus">+var {</span>
<a href="#l70.37"></a><span id="l70.37" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l70.38"></a><span id="l70.38" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l70.39"></a><span id="l70.39" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l70.40"></a><span id="l70.40" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l70.41"></a><span id="l70.41" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l70.42"></a><span id="l70.42" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l70.43"></a><span id="l70.43"> </span>
<a href="#l70.44"></a><span id="l70.44"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l70.45"></a><span id="l70.45"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l70.46"></a><span id="l70.46">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l70.47"></a><span id="l70.47"> );</span>
<a href="#l70.48"></a><span id="l70.48"> </span>
<a href="#l70.49"></a><span id="l70.49"> var folder = null;</span>
<a href="#l70.50"></a><span id="l70.50"> var gMsgNo = 0;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-js-content-policy.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-js-content-policy.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -7,21 +7,20 @@</span>
<a href="#l71.4"></a><span id="l71.4">  *</span>
<a href="#l71.5"></a><span id="l71.5">  * @note This assumes an existing local account, and will cause the Trash</span>
<a href="#l71.6"></a><span id="l71.6">  * folder of that account to be emptied multiple times.</span>
<a href="#l71.7"></a><span id="l71.7">  */</span>
<a href="#l71.8"></a><span id="l71.8"> </span>
<a href="#l71.9"></a><span id="l71.9"> &quot;use strict&quot;;</span>
<a href="#l71.10"></a><span id="l71.10"> </span>
<a href="#l71.11"></a><span id="l71.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l71.13"></a><span id="l71.13"> </span>
<a href="#l71.14"></a><span id="l71.14"> var MODULE_NAME = &quot;test-js-content-policy&quot;;</span>
<a href="#l71.15"></a><span id="l71.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l71.16"></a><span id="l71.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l71.17"></a><span id="l71.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l71.18"></a><span id="l71.18"> </span>
<a href="#l71.19"></a><span id="l71.19"> var folder = null;</span>
<a href="#l71.20"></a><span id="l71.20"> </span>
<a href="#l71.21"></a><span id="l71.21"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l71.22"></a><span id="l71.22"> // so we get the right path for the resources.</span>
<a href="#l71.23"></a><span id="l71.23"> var url = collector.addHttpResource(&quot;../content-policy/html&quot;, &quot;content&quot;);</span>
<a href="#l71.24"></a><span id="l71.24"> </span>
<a href="#l71.25"></a><span id="l71.25"> function setupModule(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-plugins-policy.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-plugins-policy.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -7,27 +7,29 @@</span>
<a href="#l72.4"></a><span id="l72.4">  * As of bug 1508942, plugins are no longer enabled in any context.</span>
<a href="#l72.5"></a><span id="l72.5">  */</span>
<a href="#l72.6"></a><span id="l72.6"> </span>
<a href="#l72.7"></a><span id="l72.7"> &quot;use strict&quot;;</span>
<a href="#l72.8"></a><span id="l72.8"> </span>
<a href="#l72.9"></a><span id="l72.9"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l72.10"></a><span id="l72.10"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l72.11"></a><span id="l72.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l72.12"></a><span id="l72.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l72.13"></a><span id="l72.13"> </span>
<a href="#l72.14"></a><span id="l72.14"> var MODULE_NAME = &quot;test-plugins-policy&quot;;</span>
<a href="#l72.15"></a><span id="l72.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l72.16"></a><span id="l72.16"> var MODULE_REQUIRES = [</span>
<a href="#l72.17"></a><span id="l72.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l72.18"></a><span id="l72.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l72.19"></a><span id="l72.19">   &quot;compose-helpers&quot;,</span>
<a href="#l72.20"></a><span id="l72.20">   &quot;content-tab-helpers&quot;,</span>
<a href="#l72.21"></a><span id="l72.21"> ];</span>
<a href="#l72.22"></a><span id="l72.22"> </span>
<a href="#l72.23"></a><span id="l72.23" class="difflineplus">+var { plan_for_new_window, wait_for_new_window } = ChromeUtils.import(</span>
<a href="#l72.24"></a><span id="l72.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l72.25"></a><span id="l72.25" class="difflineplus">+);</span>
<a href="#l72.26"></a><span id="l72.26" class="difflineplus">+</span>
<a href="#l72.27"></a><span id="l72.27"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l72.28"></a><span id="l72.28"> </span>
<a href="#l72.29"></a><span id="l72.29"> var folder = null;</span>
<a href="#l72.30"></a><span id="l72.30"> var composeHelper = null;</span>
<a href="#l72.31"></a><span id="l72.31"> var gMsgNo = 0;</span>
<a href="#l72.32"></a><span id="l72.32"> </span>
<a href="#l72.33"></a><span id="l72.33"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l72.34"></a><span id="l72.34"> // so we get the right path for the resources.</span>
<a href="#l72.35"></a><span id="l72.35" class="difflineat">@@ -43,18 +45,16 @@ var msgBody =</span>
<a href="#l72.36"></a><span id="l72.36">   &quot;&lt;/head&gt;\n&quot; +</span>
<a href="#l72.37"></a><span id="l72.37">   '&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;\n' +</span>
<a href="#l72.38"></a><span id="l72.38">   '&lt;embed id=&quot;testelement&quot; type=&quot;application/x-test&quot; width=&quot;400&quot; height=&quot;400&quot; border=&quot;1&quot;&gt;&lt;/embed&gt;\n' +</span>
<a href="#l72.39"></a><span id="l72.39">   &quot;&lt;/body&gt;\n&lt;/html&gt;\n&quot;;</span>
<a href="#l72.40"></a><span id="l72.40"> </span>
<a href="#l72.41"></a><span id="l72.41"> function setupModule(module) {</span>
<a href="#l72.42"></a><span id="l72.42">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l72.43"></a><span id="l72.43">   fdh.installInto(module);</span>
<a href="#l72.44"></a><span id="l72.44" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l72.45"></a><span id="l72.45" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l72.46"></a><span id="l72.46">   composeHelper = collector.getModule(&quot;compose-helpers&quot;);</span>
<a href="#l72.47"></a><span id="l72.47">   composeHelper.installInto(module);</span>
<a href="#l72.48"></a><span id="l72.48">   let cth = collector.getModule(&quot;content-tab-helpers&quot;);</span>
<a href="#l72.49"></a><span id="l72.49">   cth.installInto(module);</span>
<a href="#l72.50"></a><span id="l72.50"> </span>
<a href="#l72.51"></a><span id="l72.51">   folder = create_folder(&quot;pluginPolicy&quot;);</span>
<a href="#l72.52"></a><span id="l72.52"> }</span>
<a href="#l72.53"></a><span id="l72.53"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/mail/test/mozmill/content-policy/test-view-source.js</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/mail/test/mozmill/content-policy/test-view-source.js</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -4,26 +4,31 @@</span>
<a href="#l73.4"></a><span id="l73.4"> </span>
<a href="#l73.5"></a><span id="l73.5"> /**</span>
<a href="#l73.6"></a><span id="l73.6">  * Test that view-source content can be reloaded to change encoding.</span>
<a href="#l73.7"></a><span id="l73.7">  */</span>
<a href="#l73.8"></a><span id="l73.8"> </span>
<a href="#l73.9"></a><span id="l73.9"> &quot;use strict&quot;;</span>
<a href="#l73.10"></a><span id="l73.10"> </span>
<a href="#l73.11"></a><span id="l73.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l73.12"></a><span id="l73.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l73.13"></a><span id="l73.13"> </span>
<a href="#l73.14"></a><span id="l73.14"> var MODULE_NAME = &quot;test-view-source&quot;;</span>
<a href="#l73.15"></a><span id="l73.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l73.16"></a><span id="l73.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l73.17"></a><span id="l73.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l73.18"></a><span id="l73.18"> </span>
<a href="#l73.19"></a><span id="l73.19"> var elib = ChromeUtils.import(</span>
<a href="#l73.20"></a><span id="l73.20">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l73.21"></a><span id="l73.21"> );</span>
<a href="#l73.22"></a><span id="l73.22"> </span>
<a href="#l73.23"></a><span id="l73.23" class="difflineplus">+var {</span>
<a href="#l73.24"></a><span id="l73.24" class="difflineplus">+  close_window,</span>
<a href="#l73.25"></a><span id="l73.25" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l73.26"></a><span id="l73.26" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l73.27"></a><span id="l73.27" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l73.28"></a><span id="l73.28" class="difflineplus">+</span>
<a href="#l73.29"></a><span id="l73.29"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l73.30"></a><span id="l73.30"> </span>
<a href="#l73.31"></a><span id="l73.31"> var folder = null;</span>
<a href="#l73.32"></a><span id="l73.32"> </span>
<a href="#l73.33"></a><span id="l73.33"> function setupModule(module) {</span>
<a href="#l73.34"></a><span id="l73.34">   for (let dep of MODULE_REQUIRES) {</span>
<a href="#l73.35"></a><span id="l73.35">     collector.getModule(dep).installInto(module);</span>
<a href="#l73.36"></a><span id="l73.36">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-about-support.js</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-about-support.js</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -2,27 +2,29 @@</span>
<a href="#l74.4"></a><span id="l74.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l74.5"></a><span id="l74.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l74.6"></a><span id="l74.6"> </span>
<a href="#l74.7"></a><span id="l74.7"> &quot;use strict&quot;;</span>
<a href="#l74.8"></a><span id="l74.8"> </span>
<a href="#l74.9"></a><span id="l74.9"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l74.10"></a><span id="l74.10"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l74.11"></a><span id="l74.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l74.12"></a><span id="l74.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l74.13"></a><span id="l74.13"> </span>
<a href="#l74.14"></a><span id="l74.14"> var MODULE_NAME = &quot;test-about-support&quot;;</span>
<a href="#l74.15"></a><span id="l74.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l74.16"></a><span id="l74.16"> var MODULE_REQUIRES = [</span>
<a href="#l74.17"></a><span id="l74.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l74.18"></a><span id="l74.18">   &quot;content-tab-helpers&quot;,</span>
<a href="#l74.19"></a><span id="l74.19">   &quot;compose-helpers&quot;,</span>
<a href="#l74.20"></a><span id="l74.20" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l74.21"></a><span id="l74.21"> ];</span>
<a href="#l74.22"></a><span id="l74.22"> </span>
<a href="#l74.23"></a><span id="l74.23" class="difflineplus">+var { plan_for_new_window } = ChromeUtils.import(</span>
<a href="#l74.24"></a><span id="l74.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l74.25"></a><span id="l74.25" class="difflineplus">+);</span>
<a href="#l74.26"></a><span id="l74.26" class="difflineplus">+</span>
<a href="#l74.27"></a><span id="l74.27"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l74.28"></a><span id="l74.28"> // eslint-disable-next-line mozilla/reject-importGlobalProperties</span>
<a href="#l74.29"></a><span id="l74.29"> Cu.importGlobalProperties([&quot;DOMParser&quot;]);</span>
<a href="#l74.30"></a><span id="l74.30"> </span>
<a href="#l74.31"></a><span id="l74.31"> var warningText = new Map();</span>
<a href="#l74.32"></a><span id="l74.32"> </span>
<a href="#l74.33"></a><span id="l74.33"> function setupModule(module) {</span>
<a href="#l74.34"></a><span id="l74.34">   for (let lib of MODULE_REQUIRES) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-addons-mgr.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-addons-mgr.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -1,30 +1,31 @@</span>
<a href="#l75.4"></a><span id="l75.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l75.5"></a><span id="l75.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l75.6"></a><span id="l75.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l75.7"></a><span id="l75.7"> </span>
<a href="#l75.8"></a><span id="l75.8"> &quot;use strict&quot;;</span>
<a href="#l75.9"></a><span id="l75.9"> </span>
<a href="#l75.10"></a><span id="l75.10"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l75.11"></a><span id="l75.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l75.12"></a><span id="l75.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l75.13"></a><span id="l75.13"> </span>
<a href="#l75.14"></a><span id="l75.14"> var MODULE_NAME = &quot;test-addons-mgr&quot;;</span>
<a href="#l75.15"></a><span id="l75.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l75.16"></a><span id="l75.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l75.17"></a><span id="l75.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l75.18"></a><span id="l75.18" class="difflineminus">-  &quot;content-tab-helpers&quot;,</span>
<a href="#l75.19"></a><span id="l75.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l75.20"></a><span id="l75.20" class="difflineminus">-];</span>
<a href="#l75.21"></a><span id="l75.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;content-tab-helpers&quot;];</span>
<a href="#l75.22"></a><span id="l75.22"> </span>
<a href="#l75.23"></a><span id="l75.23"> var elib = ChromeUtils.import(</span>
<a href="#l75.24"></a><span id="l75.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l75.25"></a><span id="l75.25"> );</span>
<a href="#l75.26"></a><span id="l75.26"> </span>
<a href="#l75.27"></a><span id="l75.27" class="difflineplus">+var {</span>
<a href="#l75.28"></a><span id="l75.28" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l75.29"></a><span id="l75.29" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l75.30"></a><span id="l75.30" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l75.31"></a><span id="l75.31" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l75.32"></a><span id="l75.32" class="difflineplus">+</span>
<a href="#l75.33"></a><span id="l75.33"> function setupModule(module) {</span>
<a href="#l75.34"></a><span id="l75.34">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l75.35"></a><span id="l75.35">     collector.getModule(lib).installInto(module);</span>
<a href="#l75.36"></a><span id="l75.36">   }</span>
<a href="#l75.37"></a><span id="l75.37"> }</span>
<a href="#l75.38"></a><span id="l75.38"> </span>
<a href="#l75.39"></a><span id="l75.39"> function test_open_addons_with_url() {</span>
<a href="#l75.40"></a><span id="l75.40">   mc.window.openAddonsMgr(&quot;addons://list/theme&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-content-tab.js</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-content-tab.js</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -2,36 +2,39 @@</span>
<a href="#l76.4"></a><span id="l76.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l76.5"></a><span id="l76.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l76.6"></a><span id="l76.6"> </span>
<a href="#l76.7"></a><span id="l76.7"> &quot;use strict&quot;;</span>
<a href="#l76.8"></a><span id="l76.8"> </span>
<a href="#l76.9"></a><span id="l76.9"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l76.10"></a><span id="l76.10"> /* import-globals-from ../shared-modules/test-dom-helpers.js */</span>
<a href="#l76.11"></a><span id="l76.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l76.12"></a><span id="l76.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l76.13"></a><span id="l76.13"> </span>
<a href="#l76.14"></a><span id="l76.14"> var MODULE_NAME = &quot;test-content-tab&quot;;</span>
<a href="#l76.15"></a><span id="l76.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l76.16"></a><span id="l76.16"> var MODULE_REQUIRES = [</span>
<a href="#l76.17"></a><span id="l76.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l76.18"></a><span id="l76.18">   &quot;content-tab-helpers&quot;,</span>
<a href="#l76.19"></a><span id="l76.19">   &quot;dom-helpers&quot;,</span>
<a href="#l76.20"></a><span id="l76.20" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l76.21"></a><span id="l76.21"> ];</span>
<a href="#l76.22"></a><span id="l76.22"> </span>
<a href="#l76.23"></a><span id="l76.23"> var controller = ChromeUtils.import(</span>
<a href="#l76.24"></a><span id="l76.24">   &quot;chrome://mozmill/content/modules/controller.jsm&quot;</span>
<a href="#l76.25"></a><span id="l76.25"> );</span>
<a href="#l76.26"></a><span id="l76.26"> var mozmill = ChromeUtils.import(</span>
<a href="#l76.27"></a><span id="l76.27">   &quot;chrome://mozmill/content/modules/mozmill.jsm&quot;</span>
<a href="#l76.28"></a><span id="l76.28"> );</span>
<a href="#l76.29"></a><span id="l76.29"> var elementslib = ChromeUtils.import(</span>
<a href="#l76.30"></a><span id="l76.30">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l76.31"></a><span id="l76.31"> );</span>
<a href="#l76.32"></a><span id="l76.32" class="difflineplus">+</span>
<a href="#l76.33"></a><span id="l76.33" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l76.34"></a><span id="l76.34" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l76.35"></a><span id="l76.35" class="difflineplus">+);</span>
<a href="#l76.36"></a><span id="l76.36" class="difflineplus">+</span>
<a href="#l76.37"></a><span id="l76.37"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l76.38"></a><span id="l76.38"> </span>
<a href="#l76.39"></a><span id="l76.39"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l76.40"></a><span id="l76.40"> // so we get the right path for the resources.</span>
<a href="#l76.41"></a><span id="l76.41"> // Note: this one adds to '' as we need to make sure that favicon.ico is in the</span>
<a href="#l76.42"></a><span id="l76.42"> // root directory.</span>
<a href="#l76.43"></a><span id="l76.43"> var url = collector.addHttpResource(&quot;../content-tabs/html&quot;, &quot;&quot;);</span>
<a href="#l76.44"></a><span id="l76.44"> var whatsUrl = url + &quot;whatsnew.html&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l77.1"></a><span id="l77.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-install-xpi.js</span>
<a href="#l77.2"></a><span id="l77.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-install-xpi.js</span>
<a href="#l77.3"></a><span id="l77.3" class="difflineat">@@ -1,25 +1,20 @@</span>
<a href="#l77.4"></a><span id="l77.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l77.5"></a><span id="l77.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l77.6"></a><span id="l77.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l77.7"></a><span id="l77.7"> </span>
<a href="#l77.8"></a><span id="l77.8"> &quot;use strict&quot;;</span>
<a href="#l77.9"></a><span id="l77.9"> </span>
<a href="#l77.10"></a><span id="l77.10"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l77.11"></a><span id="l77.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l77.12"></a><span id="l77.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l77.13"></a><span id="l77.13"> </span>
<a href="#l77.14"></a><span id="l77.14"> var MODULE_NAME = &quot;test-install-xpi&quot;;</span>
<a href="#l77.15"></a><span id="l77.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l77.16"></a><span id="l77.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l77.17"></a><span id="l77.17" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l77.18"></a><span id="l77.18" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l77.19"></a><span id="l77.19" class="difflineminus">-  &quot;content-tab-helpers&quot;,</span>
<a href="#l77.20"></a><span id="l77.20" class="difflineminus">-];</span>
<a href="#l77.21"></a><span id="l77.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;content-tab-helpers&quot;];</span>
<a href="#l77.22"></a><span id="l77.22"> </span>
<a href="#l77.23"></a><span id="l77.23"> var controller = ChromeUtils.import(</span>
<a href="#l77.24"></a><span id="l77.24">   &quot;chrome://mozmill/content/modules/controller.jsm&quot;</span>
<a href="#l77.25"></a><span id="l77.25"> );</span>
<a href="#l77.26"></a><span id="l77.26"> var elib = ChromeUtils.import(</span>
<a href="#l77.27"></a><span id="l77.27">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l77.28"></a><span id="l77.28"> );</span>
<a href="#l77.29"></a><span id="l77.29"> var mozmill = ChromeUtils.import(</span>
<a href="#l77.30"></a><span id="l77.30" class="difflineat">@@ -30,18 +25,16 @@ var { Services } = ChromeUtils.import(&quot;r</span>
<a href="#l77.31"></a><span id="l77.31"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l77.32"></a><span id="l77.32"> // so we get the right path for the resources.</span>
<a href="#l77.33"></a><span id="l77.33"> var url = collector.addHttpResource(&quot;../content-tabs/html&quot;, &quot;content-tabs&quot;);</span>
<a href="#l77.34"></a><span id="l77.34"> </span>
<a href="#l77.35"></a><span id="l77.35"> var gDocument;</span>
<a href="#l77.36"></a><span id="l77.36"> var gNewTab;</span>
<a href="#l77.37"></a><span id="l77.37"> </span>
<a href="#l77.38"></a><span id="l77.38"> function setupModule(module) {</span>
<a href="#l77.39"></a><span id="l77.39" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l77.40"></a><span id="l77.40" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l77.41"></a><span id="l77.41">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l77.42"></a><span id="l77.42">   fdh.installInto(module);</span>
<a href="#l77.43"></a><span id="l77.43">   let cth = collector.getModule(&quot;content-tab-helpers&quot;);</span>
<a href="#l77.44"></a><span id="l77.44">   cth.installInto(module);</span>
<a href="#l77.45"></a><span id="l77.45"> </span>
<a href="#l77.46"></a><span id="l77.46">   gDocument = mc.window.document;</span>
<a href="#l77.47"></a><span id="l77.47">   gNewTab = open_content_tab_with_url(</span>
<a href="#l77.48"></a><span id="l77.48">     url + &quot;installxpi.html&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l78.1"></a><span id="l78.1" class="difflineminus">--- a/mail/test/mozmill/cookies/test-cookies.js</span>
<a href="#l78.2"></a><span id="l78.2" class="difflineplus">+++ b/mail/test/mozmill/cookies/test-cookies.js</span>
<a href="#l78.3"></a><span id="l78.3" class="difflineat">@@ -7,35 +7,28 @@</span>
<a href="#l78.4"></a><span id="l78.4">  *</span>
<a href="#l78.5"></a><span id="l78.5">  * XXX: Still need to check remote content in messages.</span>
<a href="#l78.6"></a><span id="l78.6">  */</span>
<a href="#l78.7"></a><span id="l78.7"> </span>
<a href="#l78.8"></a><span id="l78.8"> &quot;use strict&quot;;</span>
<a href="#l78.9"></a><span id="l78.9"> </span>
<a href="#l78.10"></a><span id="l78.10"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l78.11"></a><span id="l78.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l78.12"></a><span id="l78.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l78.13"></a><span id="l78.13"> </span>
<a href="#l78.14"></a><span id="l78.14"> var MODULE_NAME = &quot;test-cookies&quot;;</span>
<a href="#l78.15"></a><span id="l78.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l78.16"></a><span id="l78.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l78.17"></a><span id="l78.17" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l78.18"></a><span id="l78.18" class="difflineminus">-  &quot;content-tab-helpers&quot;,</span>
<a href="#l78.19"></a><span id="l78.19" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l78.20"></a><span id="l78.20" class="difflineminus">-];</span>
<a href="#l78.21"></a><span id="l78.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;content-tab-helpers&quot;, &quot;folder-display-helpers&quot;];</span>
<a href="#l78.22"></a><span id="l78.22"> </span>
<a href="#l78.23"></a><span id="l78.23"> // RELATIVE_ROOT messes with the collector, so we have to bring the path back</span>
<a href="#l78.24"></a><span id="l78.24"> // so we get the right path for the resources.</span>
<a href="#l78.25"></a><span id="l78.25"> var url = collector.addHttpResource(&quot;../cookies/html&quot;, &quot;cookies&quot;);</span>
<a href="#l78.26"></a><span id="l78.26"> </span>
<a href="#l78.27"></a><span id="l78.27"> function setupModule(module) {</span>
<a href="#l78.28"></a><span id="l78.28">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l78.29"></a><span id="l78.29">   fdh.installInto(module);</span>
<a href="#l78.30"></a><span id="l78.30" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l78.31"></a><span id="l78.31" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l78.32"></a><span id="l78.32">   let cth = collector.getModule(&quot;content-tab-helpers&quot;);</span>
<a href="#l78.33"></a><span id="l78.33">   cth.installInto(module);</span>
<a href="#l78.34"></a><span id="l78.34"> }</span>
<a href="#l78.35"></a><span id="l78.35"> </span>
<a href="#l78.36"></a><span id="l78.36"> /**</span>
<a href="#l78.37"></a><span id="l78.37">  * Test deleting junk messages with no messages marked as junk.</span>
<a href="#l78.38"></a><span id="l78.38">  */</span>
<a href="#l78.39"></a><span id="l78.39"> function test_load_cookie_page() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l79.1"></a><span id="l79.1" class="difflineminus">--- a/mail/test/mozmill/downloads/test-about-downloads.js</span>
<a href="#l79.2"></a><span id="l79.2" class="difflineplus">+++ b/mail/test/mozmill/downloads/test-about-downloads.js</span>
<a href="#l79.3"></a><span id="l79.3" class="difflineat">@@ -6,31 +6,33 @@</span>
<a href="#l79.4"></a><span id="l79.4">  * Test about:downloads.</span>
<a href="#l79.5"></a><span id="l79.5">  */</span>
<a href="#l79.6"></a><span id="l79.6"> </span>
<a href="#l79.7"></a><span id="l79.7"> &quot;use strict&quot;;</span>
<a href="#l79.8"></a><span id="l79.8"> </span>
<a href="#l79.9"></a><span id="l79.9"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l79.10"></a><span id="l79.10"> /* import-globals-from ../shared-modules/test-dom-helpers.js */</span>
<a href="#l79.11"></a><span id="l79.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l79.12"></a><span id="l79.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l79.13"></a><span id="l79.13"> </span>
<a href="#l79.14"></a><span id="l79.14"> var MODULE_NAME = &quot;test-about-downloads&quot;;</span>
<a href="#l79.15"></a><span id="l79.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l79.16"></a><span id="l79.16"> var MODULE_REQUIRES = [</span>
<a href="#l79.17"></a><span id="l79.17">   &quot;content-tab-helpers&quot;,</span>
<a href="#l79.18"></a><span id="l79.18">   &quot;dom-helpers&quot;,</span>
<a href="#l79.19"></a><span id="l79.19">   &quot;folder-display-helpers&quot;,</span>
<a href="#l79.20"></a><span id="l79.20" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l79.21"></a><span id="l79.21"> ];</span>
<a href="#l79.22"></a><span id="l79.22"> </span>
<a href="#l79.23"></a><span id="l79.23"> var elementslib = ChromeUtils.import(</span>
<a href="#l79.24"></a><span id="l79.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l79.25"></a><span id="l79.25"> );</span>
<a href="#l79.26"></a><span id="l79.26"> </span>
<a href="#l79.27"></a><span id="l79.27" class="difflineplus">+var { wait_for_browser_load } = ChromeUtils.import(</span>
<a href="#l79.28"></a><span id="l79.28" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l79.29"></a><span id="l79.29" class="difflineplus">+);</span>
<a href="#l79.30"></a><span id="l79.30" class="difflineplus">+</span>
<a href="#l79.31"></a><span id="l79.31"> var { gMockFilePicker, gMockFilePickReg } = ChromeUtils.import(</span>
<a href="#l79.32"></a><span id="l79.32">   &quot;resource://testing-common/mozmill/AttachmentHelpers.jsm&quot;</span>
<a href="#l79.33"></a><span id="l79.33"> );</span>
<a href="#l79.34"></a><span id="l79.34"> </span>
<a href="#l79.35"></a><span id="l79.35"> var downloads = ChromeUtils.import(&quot;resource://gre/modules/Downloads.jsm&quot;);</span>
<a href="#l79.36"></a><span id="l79.36"> </span>
<a href="#l79.37"></a><span id="l79.37"> var downloadsTab;</span>
<a href="#l79.38"></a><span id="l79.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l80.1"></a><span id="l80.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-archive-messages.js</span>
<a href="#l80.2"></a><span id="l80.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-archive-messages.js</span>
<a href="#l80.3"></a><span id="l80.3" class="difflineat">@@ -1,33 +1,30 @@</span>
<a href="#l80.4"></a><span id="l80.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l80.5"></a><span id="l80.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l80.6"></a><span id="l80.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l80.7"></a><span id="l80.7"> </span>
<a href="#l80.8"></a><span id="l80.8"> &quot;use strict&quot;;</span>
<a href="#l80.9"></a><span id="l80.9"> </span>
<a href="#l80.10"></a><span id="l80.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l80.11"></a><span id="l80.11" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l80.12"></a><span id="l80.12"> </span>
<a href="#l80.13"></a><span id="l80.13"> var MODULE_NAME = &quot;test-archive-messages&quot;;</span>
<a href="#l80.14"></a><span id="l80.14"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l80.15"></a><span id="l80.15" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l80.16"></a><span id="l80.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l80.17"></a><span id="l80.17"> </span>
<a href="#l80.18"></a><span id="l80.18"> var folder;</span>
<a href="#l80.19"></a><span id="l80.19"> </span>
<a href="#l80.20"></a><span id="l80.20"> /**</span>
<a href="#l80.21"></a><span id="l80.21">  * The number of messages in the thread we use to test.</span>
<a href="#l80.22"></a><span id="l80.22">  */</span>
<a href="#l80.23"></a><span id="l80.23"> var NUM_MESSAGES_IN_THREAD = 6;</span>
<a href="#l80.24"></a><span id="l80.24"> </span>
<a href="#l80.25"></a><span id="l80.25"> function setupModule(module) {</span>
<a href="#l80.26"></a><span id="l80.26">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l80.27"></a><span id="l80.27">   fdh.installInto(module);</span>
<a href="#l80.28"></a><span id="l80.28" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l80.29"></a><span id="l80.29" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l80.30"></a><span id="l80.30"> </span>
<a href="#l80.31"></a><span id="l80.31">   folder = create_folder(&quot;ThreadedMessages&quot;);</span>
<a href="#l80.32"></a><span id="l80.32">   let thread = create_thread(NUM_MESSAGES_IN_THREAD);</span>
<a href="#l80.33"></a><span id="l80.33">   add_sets_to_folders([folder], [thread]);</span>
<a href="#l80.34"></a><span id="l80.34">   thread = create_thread(NUM_MESSAGES_IN_THREAD);</span>
<a href="#l80.35"></a><span id="l80.35">   add_sets_to_folders([folder], [thread]);</span>
<a href="#l80.36"></a><span id="l80.36"> }</span>
<a href="#l80.37"></a><span id="l80.37"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l81.1"></a><span id="l81.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-close-window-on-delete.js</span>
<a href="#l81.2"></a><span id="l81.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-close-window-on-delete.js</span>
<a href="#l81.3"></a><span id="l81.3" class="difflineat">@@ -4,29 +4,32 @@</span>
<a href="#l81.4"></a><span id="l81.4"> </span>
<a href="#l81.5"></a><span id="l81.5"> /*</span>
<a href="#l81.6"></a><span id="l81.6">  * Test that the close message window on delete option works.</span>
<a href="#l81.7"></a><span id="l81.7">  */</span>
<a href="#l81.8"></a><span id="l81.8"> </span>
<a href="#l81.9"></a><span id="l81.9"> &quot;use strict&quot;;</span>
<a href="#l81.10"></a><span id="l81.10"> </span>
<a href="#l81.11"></a><span id="l81.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l81.12"></a><span id="l81.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l81.13"></a><span id="l81.13"> </span>
<a href="#l81.14"></a><span id="l81.14"> var MODULE_NAME = &quot;test-close-window-on-delete&quot;;</span>
<a href="#l81.15"></a><span id="l81.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l81.16"></a><span id="l81.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l81.17"></a><span id="l81.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l81.18"></a><span id="l81.18" class="difflineplus">+</span>
<a href="#l81.19"></a><span id="l81.19" class="difflineplus">+var {</span>
<a href="#l81.20"></a><span id="l81.20" class="difflineplus">+  close_window,</span>
<a href="#l81.21"></a><span id="l81.21" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l81.22"></a><span id="l81.22" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l81.23"></a><span id="l81.23" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l81.24"></a><span id="l81.24"> </span>
<a href="#l81.25"></a><span id="l81.25"> var folder;</span>
<a href="#l81.26"></a><span id="l81.26"> </span>
<a href="#l81.27"></a><span id="l81.27"> function setupModule(module) {</span>
<a href="#l81.28"></a><span id="l81.28">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l81.29"></a><span id="l81.29">   fdh.installInto(module);</span>
<a href="#l81.30"></a><span id="l81.30" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l81.31"></a><span id="l81.31" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l81.32"></a><span id="l81.32"> </span>
<a href="#l81.33"></a><span id="l81.33">   folder = create_folder(&quot;CloseWindowOnDeleteA&quot;);</span>
<a href="#l81.34"></a><span id="l81.34"> </span>
<a href="#l81.35"></a><span id="l81.35">   make_new_sets_in_folder(folder, [{ count: 10 }]);</span>
<a href="#l81.36"></a><span id="l81.36"> }</span>
<a href="#l81.37"></a><span id="l81.37"> </span>
<a href="#l81.38"></a><span id="l81.38"> /**</span>
<a href="#l81.39"></a><span id="l81.39">  * Delete a message and check that the message window is closed</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l82.1"></a><span id="l82.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-columns.js</span>
<a href="#l82.2"></a><span id="l82.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-columns.js</span>
<a href="#l82.3"></a><span id="l82.3" class="difflineat">@@ -6,26 +6,32 @@</span>
<a href="#l82.4"></a><span id="l82.4">  * Test column default logic and persistence logic.  Persistence comes in both</span>
<a href="#l82.5"></a><span id="l82.5">  *  tab-switching (because of the multiplexed implementation) and</span>
<a href="#l82.6"></a><span id="l82.6">  *  folder-switching forms.</span>
<a href="#l82.7"></a><span id="l82.7">  */</span>
<a href="#l82.8"></a><span id="l82.8"> </span>
<a href="#l82.9"></a><span id="l82.9"> &quot;use strict&quot;;</span>
<a href="#l82.10"></a><span id="l82.10"> </span>
<a href="#l82.11"></a><span id="l82.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l82.12"></a><span id="l82.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l82.13"></a><span id="l82.13"> </span>
<a href="#l82.14"></a><span id="l82.14"> var MODULE_NAME = &quot;test-columns&quot;;</span>
<a href="#l82.15"></a><span id="l82.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l82.16"></a><span id="l82.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l82.17"></a><span id="l82.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l82.18"></a><span id="l82.18"> </span>
<a href="#l82.19"></a><span id="l82.19"> var elib = ChromeUtils.import(</span>
<a href="#l82.20"></a><span id="l82.20">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l82.21"></a><span id="l82.21"> );</span>
<a href="#l82.22"></a><span id="l82.22"> </span>
<a href="#l82.23"></a><span id="l82.23" class="difflineplus">+var {</span>
<a href="#l82.24"></a><span id="l82.24" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l82.25"></a><span id="l82.25" class="difflineplus">+  plan_for_observable_event,</span>
<a href="#l82.26"></a><span id="l82.26" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l82.27"></a><span id="l82.27" class="difflineplus">+  wait_for_observable_event,</span>
<a href="#l82.28"></a><span id="l82.28" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l82.29"></a><span id="l82.29" class="difflineplus">+</span>
<a href="#l82.30"></a><span id="l82.30"> // needed to zero inter-folder processing delay</span>
<a href="#l82.31"></a><span id="l82.31"> var { MailUtils } = ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l82.32"></a><span id="l82.32"> </span>
<a href="#l82.33"></a><span id="l82.33"> var folderInbox, folderSent, folderVirtual, folderA, folderB;</span>
<a href="#l82.34"></a><span id="l82.34"> // INBOX_DEFAULTS sans 'dateCol' but gains 'tagsCol'</span>
<a href="#l82.35"></a><span id="l82.35"> var columnsB;</span>
<a href="#l82.36"></a><span id="l82.36"> // GLODA_DEFAULTS sans 'locationCol' but gains 'accountCol'</span>
<a href="#l82.37"></a><span id="l82.37"> var glodaColumns;</span>
<a href="#l82.38"></a><span id="l82.38" class="difflineat">@@ -39,18 +45,16 @@ var useCorrespondent;</span>
<a href="#l82.39"></a><span id="l82.39"> var INBOX_DEFAULTS;</span>
<a href="#l82.40"></a><span id="l82.40"> var SENT_DEFAULTS;</span>
<a href="#l82.41"></a><span id="l82.41"> var VIRTUAL_DEFAULTS;</span>
<a href="#l82.42"></a><span id="l82.42"> var GLODA_DEFAULTS;</span>
<a href="#l82.43"></a><span id="l82.43"> </span>
<a href="#l82.44"></a><span id="l82.44"> function setupModule(module) {</span>
<a href="#l82.45"></a><span id="l82.45">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l82.46"></a><span id="l82.46">   fdh.installInto(module);</span>
<a href="#l82.47"></a><span id="l82.47" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l82.48"></a><span id="l82.48" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l82.49"></a><span id="l82.49"> </span>
<a href="#l82.50"></a><span id="l82.50">   useCorrespondent = Services.prefs.getBoolPref(</span>
<a href="#l82.51"></a><span id="l82.51">     &quot;mail.threadpane.use_correspondents&quot;</span>
<a href="#l82.52"></a><span id="l82.52">   );</span>
<a href="#l82.53"></a><span id="l82.53">   INBOX_DEFAULTS = [</span>
<a href="#l82.54"></a><span id="l82.54">     &quot;threadCol&quot;,</span>
<a href="#l82.55"></a><span id="l82.55">     &quot;flaggedCol&quot;,</span>
<a href="#l82.56"></a><span id="l82.56">     &quot;attachmentCol&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l83.1"></a><span id="l83.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js</span>
<a href="#l83.2"></a><span id="l83.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-deletion-from-virtual-folders.js</span>
<a href="#l83.3"></a><span id="l83.3" class="difflineat">@@ -4,38 +4,42 @@</span>
<a href="#l83.4"></a><span id="l83.4"> </span>
<a href="#l83.5"></a><span id="l83.5"> /*</span>
<a href="#l83.6"></a><span id="l83.6">  * Test that deleting messages works from a virtual folder.</span>
<a href="#l83.7"></a><span id="l83.7">  */</span>
<a href="#l83.8"></a><span id="l83.8"> </span>
<a href="#l83.9"></a><span id="l83.9"> &quot;use strict&quot;;</span>
<a href="#l83.10"></a><span id="l83.10"> </span>
<a href="#l83.11"></a><span id="l83.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l83.12"></a><span id="l83.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l83.13"></a><span id="l83.13"> </span>
<a href="#l83.14"></a><span id="l83.14"> var MODULE_NAME = &quot;test-deletion-from-virtual-folders&quot;;</span>
<a href="#l83.15"></a><span id="l83.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l83.16"></a><span id="l83.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l83.17"></a><span id="l83.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l83.18"></a><span id="l83.18" class="difflineplus">+</span>
<a href="#l83.19"></a><span id="l83.19" class="difflineplus">+var {</span>
<a href="#l83.20"></a><span id="l83.20" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l83.21"></a><span id="l83.21" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l83.22"></a><span id="l83.22" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l83.23"></a><span id="l83.23" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l83.24"></a><span id="l83.24" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l83.25"></a><span id="l83.25"> </span>
<a href="#l83.26"></a><span id="l83.26"> var baseFolder, folder, lastMessageFolder;</span>
<a href="#l83.27"></a><span id="l83.27"> </span>
<a href="#l83.28"></a><span id="l83.28"> var tabFolder, tabMessage, tabMessageBackground, curMessage, nextMessage;</span>
<a href="#l83.29"></a><span id="l83.29"> </span>
<a href="#l83.30"></a><span id="l83.30"> var setNormal;</span>
<a href="#l83.31"></a><span id="l83.31"> </span>
<a href="#l83.32"></a><span id="l83.32"> /**</span>
<a href="#l83.33"></a><span id="l83.33">  * The message window controller.</span>
<a href="#l83.34"></a><span id="l83.34">  */</span>
<a href="#l83.35"></a><span id="l83.35"> var msgc;</span>
<a href="#l83.36"></a><span id="l83.36"> </span>
<a href="#l83.37"></a><span id="l83.37"> function setupModule(module) {</span>
<a href="#l83.38"></a><span id="l83.38">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l83.39"></a><span id="l83.39">   fdh.installInto(module);</span>
<a href="#l83.40"></a><span id="l83.40" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l83.41"></a><span id="l83.41" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l83.42"></a><span id="l83.42"> </span>
<a href="#l83.43"></a><span id="l83.43">   baseFolder = create_folder(&quot;DeletionFromVirtualFoldersA&quot;);</span>
<a href="#l83.44"></a><span id="l83.44">   // For setTagged, we want exactly as many messages as we plan to delete, so</span>
<a href="#l83.45"></a><span id="l83.45">   // that we can test that the message window and tabs close when they run out</span>
<a href="#l83.46"></a><span id="l83.46">   // of things to display.</span>
<a href="#l83.47"></a><span id="l83.47">   let [, setTagged] = make_new_sets_in_folder(baseFolder, [</span>
<a href="#l83.48"></a><span id="l83.48">     { count: 4 },</span>
<a href="#l83.49"></a><span id="l83.49">     { count: 4 },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l84.1"></a><span id="l84.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js</span>
<a href="#l84.2"></a><span id="l84.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-deletion-with-multiple-displays.js</span>
<a href="#l84.3"></a><span id="l84.3" class="difflineat">@@ -8,36 +8,37 @@</span>
<a href="#l84.4"></a><span id="l84.4">  *  message tab title updates appropriately through all of this. We do all of</span>
<a href="#l84.5"></a><span id="l84.5">  *  this both for tabs that have ever been opened in the foreground, and tabs</span>
<a href="#l84.6"></a><span id="l84.6">  *  that haven't (and thus might have fake selections).</span>
<a href="#l84.7"></a><span id="l84.7">  */</span>
<a href="#l84.8"></a><span id="l84.8"> </span>
<a href="#l84.9"></a><span id="l84.9"> &quot;use strict&quot;;</span>
<a href="#l84.10"></a><span id="l84.10"> </span>
<a href="#l84.11"></a><span id="l84.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l84.12"></a><span id="l84.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l84.13"></a><span id="l84.13"> </span>
<a href="#l84.14"></a><span id="l84.14"> var MODULE_NAME = &quot;test-deletion-with-multiple-displays&quot;;</span>
<a href="#l84.15"></a><span id="l84.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l84.16"></a><span id="l84.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l84.17"></a><span id="l84.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l84.18"></a><span id="l84.18" class="difflineplus">+</span>
<a href="#l84.19"></a><span id="l84.19" class="difflineplus">+var { plan_for_window_close, wait_for_window_close } = ChromeUtils.import(</span>
<a href="#l84.20"></a><span id="l84.20" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l84.21"></a><span id="l84.21" class="difflineplus">+);</span>
<a href="#l84.22"></a><span id="l84.22"> </span>
<a href="#l84.23"></a><span id="l84.23"> var folder,</span>
<a href="#l84.24"></a><span id="l84.24">   lastMessageFolder,</span>
<a href="#l84.25"></a><span id="l84.25">   oneBeforeFolder,</span>
<a href="#l84.26"></a><span id="l84.26">   oneAfterFolder,</span>
<a href="#l84.27"></a><span id="l84.27">   multipleDeletionFolder1,</span>
<a href="#l84.28"></a><span id="l84.28">   multipleDeletionFolder2,</span>
<a href="#l84.29"></a><span id="l84.29">   multipleDeletionFolder3,</span>
<a href="#l84.30"></a><span id="l84.30">   multipleDeletionFolder4;</span>
<a href="#l84.31"></a><span id="l84.31"> </span>
<a href="#l84.32"></a><span id="l84.32"> function setupModule(module) {</span>
<a href="#l84.33"></a><span id="l84.33">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l84.34"></a><span id="l84.34">   fdh.installInto(module);</span>
<a href="#l84.35"></a><span id="l84.35" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l84.36"></a><span id="l84.36" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l84.37"></a><span id="l84.37"> </span>
<a href="#l84.38"></a><span id="l84.38">   folder = create_folder(&quot;DeletionA&quot;);</span>
<a href="#l84.39"></a><span id="l84.39">   lastMessageFolder = create_folder(&quot;DeletionB&quot;);</span>
<a href="#l84.40"></a><span id="l84.40">   oneBeforeFolder = create_folder(&quot;DeletionC&quot;);</span>
<a href="#l84.41"></a><span id="l84.41">   oneAfterFolder = create_folder(&quot;DeletionD&quot;);</span>
<a href="#l84.42"></a><span id="l84.42">   multipleDeletionFolder1 = create_folder(&quot;DeletionE&quot;);</span>
<a href="#l84.43"></a><span id="l84.43">   multipleDeletionFolder2 = create_folder(&quot;DeletionF&quot;);</span>
<a href="#l84.44"></a><span id="l84.44">   multipleDeletionFolder3 = create_folder(&quot;DeletionG&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l85.1"></a><span id="l85.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js</span>
<a href="#l85.2"></a><span id="l85.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-displaying-messages-in-folder-tabs.js</span>
<a href="#l85.3"></a><span id="l85.3" class="difflineat">@@ -8,25 +8,24 @@</span>
<a href="#l85.4"></a><span id="l85.4">  * - dropping view filters to select the message</span>
<a href="#l85.5"></a><span id="l85.5">  * - displaying the message in an existing folder tab</span>
<a href="#l85.6"></a><span id="l85.6">  */</span>
<a href="#l85.7"></a><span id="l85.7"> </span>
<a href="#l85.8"></a><span id="l85.8"> &quot;use strict&quot;;</span>
<a href="#l85.9"></a><span id="l85.9"> </span>
<a href="#l85.10"></a><span id="l85.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l85.11"></a><span id="l85.11"> /* import-globals-from ../shared-modules/test-search-window-helpers.js */</span>
<a href="#l85.12"></a><span id="l85.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l85.13"></a><span id="l85.13"> </span>
<a href="#l85.14"></a><span id="l85.14"> var MODULE_NAME = &quot;test-displaying-messages-in-folder-tabs&quot;;</span>
<a href="#l85.15"></a><span id="l85.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l85.16"></a><span id="l85.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l85.17"></a><span id="l85.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l85.18"></a><span id="l85.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l85.19"></a><span id="l85.19" class="difflineminus">-  &quot;search-window-helpers&quot;,</span>
<a href="#l85.20"></a><span id="l85.20" class="difflineminus">-];</span>
<a href="#l85.21"></a><span id="l85.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;search-window-helpers&quot;];</span>
<a href="#l85.22"></a><span id="l85.22" class="difflineplus">+</span>
<a href="#l85.23"></a><span id="l85.23" class="difflineplus">+var { plan_for_window_close, wait_for_window_close } = ChromeUtils.import(</span>
<a href="#l85.24"></a><span id="l85.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l85.25"></a><span id="l85.25" class="difflineplus">+);</span>
<a href="#l85.26"></a><span id="l85.26"> </span>
<a href="#l85.27"></a><span id="l85.27"> var folderA;</span>
<a href="#l85.28"></a><span id="l85.28"> var folderB;</span>
<a href="#l85.29"></a><span id="l85.29"> var folderC;</span>
<a href="#l85.30"></a><span id="l85.30"> </span>
<a href="#l85.31"></a><span id="l85.31"> var folderTab;</span>
<a href="#l85.32"></a><span id="l85.32"> </span>
<a href="#l85.33"></a><span id="l85.33"> var msgHdrsInFolderA = [],</span>
<a href="#l85.34"></a><span id="l85.34" class="difflineat">@@ -43,18 +42,16 @@ function* _generateIndexes() {</span>
<a href="#l85.35"></a><span id="l85.35">     index = (index + 1) % NUM_MESSAGES_IN_FOLDER;</span>
<a href="#l85.36"></a><span id="l85.36">   }</span>
<a href="#l85.37"></a><span id="l85.37"> }</span>
<a href="#l85.38"></a><span id="l85.38"> var indexes = _generateIndexes();</span>
<a href="#l85.39"></a><span id="l85.39"> </span>
<a href="#l85.40"></a><span id="l85.40"> function setupModule(module) {</span>
<a href="#l85.41"></a><span id="l85.41">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l85.42"></a><span id="l85.42">   fdh.installInto(module);</span>
<a href="#l85.43"></a><span id="l85.43" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l85.44"></a><span id="l85.44" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l85.45"></a><span id="l85.45">   let sh = collector.getModule(&quot;search-window-helpers&quot;);</span>
<a href="#l85.46"></a><span id="l85.46">   sh.installInto(module);</span>
<a href="#l85.47"></a><span id="l85.47"> </span>
<a href="#l85.48"></a><span id="l85.48">   folderA = create_folder(&quot;DisplayMessageFolderTabA&quot;);</span>
<a href="#l85.49"></a><span id="l85.49">   folderB = create_folder(&quot;DisplayMessageFolderTabB&quot;);</span>
<a href="#l85.50"></a><span id="l85.50">   folderC = create_folder(&quot;DisplayMessageFolderTabC&quot;);</span>
<a href="#l85.51"></a><span id="l85.51">   make_new_sets_in_folder(folderA, [{ count: NUM_MESSAGES_IN_FOLDER }]);</span>
<a href="#l85.52"></a><span id="l85.52">   let [, taggedMsg] = make_new_sets_in_folder(folderB, [</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l86.1"></a><span id="l86.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-folder-pane-visibility.js</span>
<a href="#l86.2"></a><span id="l86.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-folder-pane-visibility.js</span>
<a href="#l86.3"></a><span id="l86.3" class="difflineat">@@ -5,29 +5,26 @@</span>
<a href="#l86.4"></a><span id="l86.4"> /*</span>
<a href="#l86.5"></a><span id="l86.5">  * Test that the folder pane collapses properly, stays collapsed amongst tab</span>
<a href="#l86.6"></a><span id="l86.6">  * changes, and that persistence works (to a first approximation).</span>
<a href="#l86.7"></a><span id="l86.7">  */</span>
<a href="#l86.8"></a><span id="l86.8"> </span>
<a href="#l86.9"></a><span id="l86.9"> &quot;use strict&quot;;</span>
<a href="#l86.10"></a><span id="l86.10"> </span>
<a href="#l86.11"></a><span id="l86.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l86.12"></a><span id="l86.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l86.13"></a><span id="l86.13"> </span>
<a href="#l86.14"></a><span id="l86.14"> var MODULE_NAME = &quot;test-folder-pane-visibility&quot;;</span>
<a href="#l86.15"></a><span id="l86.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l86.16"></a><span id="l86.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l86.17"></a><span id="l86.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l86.18"></a><span id="l86.18"> </span>
<a href="#l86.19"></a><span id="l86.19"> var folder;</span>
<a href="#l86.20"></a><span id="l86.20"> </span>
<a href="#l86.21"></a><span id="l86.21"> function setupModule(module) {</span>
<a href="#l86.22"></a><span id="l86.22">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l86.23"></a><span id="l86.23">   fdh.installInto(module);</span>
<a href="#l86.24"></a><span id="l86.24" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l86.25"></a><span id="l86.25" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l86.26"></a><span id="l86.26"> </span>
<a href="#l86.27"></a><span id="l86.27">   folder = create_folder(&quot;FolderPaneVisibility&quot;);</span>
<a href="#l86.28"></a><span id="l86.28">   make_new_sets_in_folder(folder, [{ count: 3 }]);</span>
<a href="#l86.29"></a><span id="l86.29"> }</span>
<a href="#l86.30"></a><span id="l86.30"> </span>
<a href="#l86.31"></a><span id="l86.31"> /**</span>
<a href="#l86.32"></a><span id="l86.32">  * When displaying a folder, assert that the folder pane is visible and all the</span>
<a href="#l86.33"></a><span id="l86.33">  * menus, splitters, etc. are set up right.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l87.1"></a><span id="l87.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-folder-toolbar.js</span>
<a href="#l87.2"></a><span id="l87.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-folder-toolbar.js</span>
<a href="#l87.3"></a><span id="l87.3" class="difflineat">@@ -5,29 +5,26 @@</span>
<a href="#l87.4"></a><span id="l87.4"> /*</span>
<a href="#l87.5"></a><span id="l87.5">  * Test that opening new folder and message tabs has the expected result and</span>
<a href="#l87.6"></a><span id="l87.6">  *  that closing them doesn't break anything.</span>
<a href="#l87.7"></a><span id="l87.7">  */</span>
<a href="#l87.8"></a><span id="l87.8"> </span>
<a href="#l87.9"></a><span id="l87.9"> &quot;use strict&quot;;</span>
<a href="#l87.10"></a><span id="l87.10"> </span>
<a href="#l87.11"></a><span id="l87.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l87.12"></a><span id="l87.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l87.13"></a><span id="l87.13"> </span>
<a href="#l87.14"></a><span id="l87.14"> var MODULE_NAME = &quot;test-folder-toolbar&quot;;</span>
<a href="#l87.15"></a><span id="l87.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l87.16"></a><span id="l87.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l87.17"></a><span id="l87.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l87.18"></a><span id="l87.18"> </span>
<a href="#l87.19"></a><span id="l87.19"> var folderA, folderB;</span>
<a href="#l87.20"></a><span id="l87.20"> </span>
<a href="#l87.21"></a><span id="l87.21"> function setupModule(module) {</span>
<a href="#l87.22"></a><span id="l87.22">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l87.23"></a><span id="l87.23">   fdh.installInto(module);</span>
<a href="#l87.24"></a><span id="l87.24" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l87.25"></a><span id="l87.25" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l87.26"></a><span id="l87.26"> </span>
<a href="#l87.27"></a><span id="l87.27">   folderA = create_folder(&quot;FolderToolbarA&quot;);</span>
<a href="#l87.28"></a><span id="l87.28">   // we need one message to select and open</span>
<a href="#l87.29"></a><span id="l87.29">   folderB = create_folder(&quot;FolderToolbarB&quot;);</span>
<a href="#l87.30"></a><span id="l87.30">   make_new_sets_in_folder(folderB, [{ count: 1 }]);</span>
<a href="#l87.31"></a><span id="l87.31"> }</span>
<a href="#l87.32"></a><span id="l87.32"> </span>
<a href="#l87.33"></a><span id="l87.33"> function test_add_folder_toolbar() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l88.1"></a><span id="l88.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-invalid-db-folder-load.js</span>
<a href="#l88.2"></a><span id="l88.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-invalid-db-folder-load.js</span>
<a href="#l88.3"></a><span id="l88.3" class="difflineat">@@ -6,17 +6,16 @@</span>
<a href="#l88.4"></a><span id="l88.4">  * Test that clicking on a folder with an invalid or missing .msf file</span>
<a href="#l88.5"></a><span id="l88.5">  * regenerates the.msf file and loads the view.</span>
<a href="#l88.6"></a><span id="l88.6">  * Also, check that rebuilding the index on a loaded folder reloads the folder.</span>
<a href="#l88.7"></a><span id="l88.7">  */</span>
<a href="#l88.8"></a><span id="l88.8"> </span>
<a href="#l88.9"></a><span id="l88.9"> &quot;use strict&quot;;</span>
<a href="#l88.10"></a><span id="l88.10"> </span>
<a href="#l88.11"></a><span id="l88.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l88.12"></a><span id="l88.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l88.13"></a><span id="l88.13"> </span>
<a href="#l88.14"></a><span id="l88.14"> var MODULE_NAME = &quot;test-invalid-db-folder-load&quot;;</span>
<a href="#l88.15"></a><span id="l88.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l88.16"></a><span id="l88.16"> var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l88.17"></a><span id="l88.17"> </span>
<a href="#l88.18"></a><span id="l88.18"> var folder;</span>
<a href="#l88.19"></a><span id="l88.19"> var setA;</span>
<a href="#l88.20"></a><span id="l88.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l89.1"></a><span id="l89.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-mail-views.js</span>
<a href="#l89.2"></a><span id="l89.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-mail-views.js</span>
<a href="#l89.3"></a><span id="l89.3" class="difflineat">@@ -1,36 +1,38 @@</span>
<a href="#l89.4"></a><span id="l89.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l89.5"></a><span id="l89.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l89.6"></a><span id="l89.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l89.7"></a><span id="l89.7"> </span>
<a href="#l89.8"></a><span id="l89.8"> &quot;use strict&quot;;</span>
<a href="#l89.9"></a><span id="l89.9"> </span>
<a href="#l89.10"></a><span id="l89.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l89.11"></a><span id="l89.11" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l89.12"></a><span id="l89.12"> </span>
<a href="#l89.13"></a><span id="l89.13"> var MODULE_NAME = &quot;test-mail-views&quot;;</span>
<a href="#l89.14"></a><span id="l89.14"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l89.15"></a><span id="l89.15" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l89.16"></a><span id="l89.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l89.17"></a><span id="l89.17" class="difflineplus">+</span>
<a href="#l89.18"></a><span id="l89.18" class="difflineplus">+var elib = ChromeUtils.import(</span>
<a href="#l89.19"></a><span id="l89.19" class="difflineplus">+  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l89.20"></a><span id="l89.20" class="difflineplus">+);</span>
<a href="#l89.21"></a><span id="l89.21" class="difflineplus">+</span>
<a href="#l89.22"></a><span id="l89.22" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l89.23"></a><span id="l89.23" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l89.24"></a><span id="l89.24" class="difflineplus">+);</span>
<a href="#l89.25"></a><span id="l89.25" class="difflineplus">+</span>
<a href="#l89.26"></a><span id="l89.26" class="difflineplus">+var { MailViewConstants } = ChromeUtils.import(</span>
<a href="#l89.27"></a><span id="l89.27" class="difflineplus">+  &quot;resource:///modules/MailViewManager.jsm&quot;</span>
<a href="#l89.28"></a><span id="l89.28" class="difflineplus">+);</span>
<a href="#l89.29"></a><span id="l89.29"> </span>
<a href="#l89.30"></a><span id="l89.30"> var baseFolder, savedFolder;</span>
<a href="#l89.31"></a><span id="l89.31"> var setUntagged, setTagged;</span>
<a href="#l89.32"></a><span id="l89.32"> </span>
<a href="#l89.33"></a><span id="l89.33" class="difflineminus">-var { MailViewConstants } = ChromeUtils.import(</span>
<a href="#l89.34"></a><span id="l89.34" class="difflineminus">-  &quot;resource:///modules/MailViewManager.jsm&quot;</span>
<a href="#l89.35"></a><span id="l89.35" class="difflineminus">-);</span>
<a href="#l89.36"></a><span id="l89.36" class="difflineminus">-var elib = ChromeUtils.import(</span>
<a href="#l89.37"></a><span id="l89.37" class="difflineminus">-  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l89.38"></a><span id="l89.38" class="difflineminus">-);</span>
<a href="#l89.39"></a><span id="l89.39" class="difflineminus">-</span>
<a href="#l89.40"></a><span id="l89.40"> var setupModule = function(module) {</span>
<a href="#l89.41"></a><span id="l89.41">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l89.42"></a><span id="l89.42">   fdh.installInto(module);</span>
<a href="#l89.43"></a><span id="l89.43" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l89.44"></a><span id="l89.44" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l89.45"></a><span id="l89.45"> </span>
<a href="#l89.46"></a><span id="l89.46">   // Create a folder with some messages that have no tags and some that are</span>
<a href="#l89.47"></a><span id="l89.47">   //  tagged Important ($label1).</span>
<a href="#l89.48"></a><span id="l89.48">   baseFolder = create_folder(&quot;MailViewA&quot;);</span>
<a href="#l89.49"></a><span id="l89.49">   [setUntagged, setTagged] = make_new_sets_in_folder(baseFolder, [{}, {}]);</span>
<a href="#l89.50"></a><span id="l89.50">   setTagged.addTag(&quot;$label1&quot;); // Important, by default</span>
<a href="#l89.51"></a><span id="l89.51"> };</span>
<a href="#l89.52"></a><span id="l89.52"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l90.1"></a><span id="l90.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js</span>
<a href="#l90.2"></a><span id="l90.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-message-commands-on-msgstore.js</span>
<a href="#l90.3"></a><span id="l90.3" class="difflineat">@@ -8,25 +8,24 @@</span>
<a href="#l90.4"></a><span id="l90.4">  * markings on the messages are stored in the msgStore, not only in the database.</span>
<a href="#l90.5"></a><span id="l90.5">  * For now, it checks for bug 840418.</span>
<a href="#l90.6"></a><span id="l90.6">  */</span>
<a href="#l90.7"></a><span id="l90.7"> </span>
<a href="#l90.8"></a><span id="l90.8"> &quot;use strict&quot;;</span>
<a href="#l90.9"></a><span id="l90.9"> </span>
<a href="#l90.10"></a><span id="l90.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l90.11"></a><span id="l90.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l90.12"></a><span id="l90.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l90.13"></a><span id="l90.13"> </span>
<a href="#l90.14"></a><span id="l90.14"> var MODULE_NAME = &quot;test-message-commands-on-msgstore&quot;;</span>
<a href="#l90.15"></a><span id="l90.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l90.16"></a><span id="l90.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l90.17"></a><span id="l90.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l90.18"></a><span id="l90.18" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l90.19"></a><span id="l90.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l90.20"></a><span id="l90.20" class="difflineminus">-];</span>
<a href="#l90.21"></a><span id="l90.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l90.22"></a><span id="l90.22" class="difflineplus">+</span>
<a href="#l90.23"></a><span id="l90.23" class="difflineplus">+var { plan_for_window_close, wait_for_window_close } = ChromeUtils.import(</span>
<a href="#l90.24"></a><span id="l90.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l90.25"></a><span id="l90.25" class="difflineplus">+);</span>
<a href="#l90.26"></a><span id="l90.26"> </span>
<a href="#l90.27"></a><span id="l90.27"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l90.28"></a><span id="l90.28"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l90.29"></a><span id="l90.29">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l90.30"></a><span id="l90.30"> );</span>
<a href="#l90.31"></a><span id="l90.31"> var { IOUtils } = ChromeUtils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l90.32"></a><span id="l90.32"> </span>
<a href="#l90.33"></a><span id="l90.33"> var statusHeader = &quot;X-Mozilla-Status: &quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l91.1"></a><span id="l91.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-message-commands.js</span>
<a href="#l91.2"></a><span id="l91.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-message-commands.js</span>
<a href="#l91.3"></a><span id="l91.3" class="difflineat">@@ -7,43 +7,40 @@</span>
<a href="#l91.4"></a><span id="l91.4">  * that can't be tested with xpcshell tests because they're handling in the</span>
<a href="#l91.5"></a><span id="l91.5">  * front end - which is why Archive is the only command currently tested.</span>
<a href="#l91.6"></a><span id="l91.6">  */</span>
<a href="#l91.7"></a><span id="l91.7"> </span>
<a href="#l91.8"></a><span id="l91.8"> &quot;use strict&quot;;</span>
<a href="#l91.9"></a><span id="l91.9"> </span>
<a href="#l91.10"></a><span id="l91.10"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l91.11"></a><span id="l91.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l91.12"></a><span id="l91.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l91.13"></a><span id="l91.13"> </span>
<a href="#l91.14"></a><span id="l91.14"> var MODULE_NAME = &quot;test-message-commands&quot;;</span>
<a href="#l91.15"></a><span id="l91.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l91.16"></a><span id="l91.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l91.17"></a><span id="l91.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l91.18"></a><span id="l91.18" class="difflineminus">-  &quot;content-tab-helpers&quot;,</span>
<a href="#l91.19"></a><span id="l91.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l91.20"></a><span id="l91.20" class="difflineminus">-];</span>
<a href="#l91.21"></a><span id="l91.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;content-tab-helpers&quot;];</span>
<a href="#l91.22"></a><span id="l91.22" class="difflineplus">+</span>
<a href="#l91.23"></a><span id="l91.23" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l91.24"></a><span id="l91.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l91.25"></a><span id="l91.25" class="difflineplus">+);</span>
<a href="#l91.26"></a><span id="l91.26"> </span>
<a href="#l91.27"></a><span id="l91.27"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l91.28"></a><span id="l91.28"> var { MailUtils } = ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l91.29"></a><span id="l91.29"> </span>
<a href="#l91.30"></a><span id="l91.30"> var unreadFolder, shiftDeleteFolder, threadDeleteFolder;</span>
<a href="#l91.31"></a><span id="l91.31"> var archiveSrcFolder = null;</span>
<a href="#l91.32"></a><span id="l91.32"> var archiveURI;</span>
<a href="#l91.33"></a><span id="l91.33"> </span>
<a href="#l91.34"></a><span id="l91.34"> var acctMgr;</span>
<a href="#l91.35"></a><span id="l91.35"> var tagArray;</span>
<a href="#l91.36"></a><span id="l91.36"> </span>
<a href="#l91.37"></a><span id="l91.37"> var setupModule = function(module) {</span>
<a href="#l91.38"></a><span id="l91.38">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l91.39"></a><span id="l91.39">   fdh.installInto(module);</span>
<a href="#l91.40"></a><span id="l91.40">   let cth = collector.getModule(&quot;content-tab-helpers&quot;);</span>
<a href="#l91.41"></a><span id="l91.41">   cth.installInto(module);</span>
<a href="#l91.42"></a><span id="l91.42" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l91.43"></a><span id="l91.43" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l91.44"></a><span id="l91.44"> </span>
<a href="#l91.45"></a><span id="l91.45">   unreadFolder = create_folder(&quot;UnreadFolder&quot;);</span>
<a href="#l91.46"></a><span id="l91.46">   shiftDeleteFolder = create_folder(&quot;ShiftDeleteFolder&quot;);</span>
<a href="#l91.47"></a><span id="l91.47">   threadDeleteFolder = create_folder(&quot;ThreadDeleteFolder&quot;);</span>
<a href="#l91.48"></a><span id="l91.48">   archiveSrcFolder = create_folder(&quot;ArchiveSrc&quot;);</span>
<a href="#l91.49"></a><span id="l91.49"> </span>
<a href="#l91.50"></a><span id="l91.50">   make_new_sets_in_folder(unreadFolder, [{ count: 2 }]);</span>
<a href="#l91.51"></a><span id="l91.51">   make_new_sets_in_folder(shiftDeleteFolder, [{ count: 3 }]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l92.1"></a><span id="l92.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-message-pane-visibility.js</span>
<a href="#l92.2"></a><span id="l92.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-message-pane-visibility.js</span>
<a href="#l92.3"></a><span id="l92.3" class="difflineat">@@ -5,29 +5,26 @@</span>
<a href="#l92.4"></a><span id="l92.4"> /*</span>
<a href="#l92.5"></a><span id="l92.5">  * Test that the message pane collapses properly, stays collapsed amongst tab</span>
<a href="#l92.6"></a><span id="l92.6">  *  changes, and that persistence works (to a first approximation).</span>
<a href="#l92.7"></a><span id="l92.7">  */</span>
<a href="#l92.8"></a><span id="l92.8"> </span>
<a href="#l92.9"></a><span id="l92.9"> &quot;use strict&quot;;</span>
<a href="#l92.10"></a><span id="l92.10"> </span>
<a href="#l92.11"></a><span id="l92.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l92.12"></a><span id="l92.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l92.13"></a><span id="l92.13"> </span>
<a href="#l92.14"></a><span id="l92.14"> var MODULE_NAME = &quot;test-message-pane-visibility&quot;;</span>
<a href="#l92.15"></a><span id="l92.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l92.16"></a><span id="l92.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l92.17"></a><span id="l92.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l92.18"></a><span id="l92.18"> </span>
<a href="#l92.19"></a><span id="l92.19"> var folder;</span>
<a href="#l92.20"></a><span id="l92.20"> </span>
<a href="#l92.21"></a><span id="l92.21"> function setupModule(module) {</span>
<a href="#l92.22"></a><span id="l92.22">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l92.23"></a><span id="l92.23">   fdh.installInto(module);</span>
<a href="#l92.24"></a><span id="l92.24" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l92.25"></a><span id="l92.25" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l92.26"></a><span id="l92.26"> </span>
<a href="#l92.27"></a><span id="l92.27">   folder = create_folder(&quot;MessagePaneVisibility&quot;);</span>
<a href="#l92.28"></a><span id="l92.28">   make_new_sets_in_folder(folder, [{ count: 3 }]);</span>
<a href="#l92.29"></a><span id="l92.29"> }</span>
<a href="#l92.30"></a><span id="l92.30"> </span>
<a href="#l92.31"></a><span id="l92.31"> /**</span>
<a href="#l92.32"></a><span id="l92.32">  * By default, the message pane should be visible.  Make sure that this state of</span>
<a href="#l92.33"></a><span id="l92.33">  *  affairs is correct in terms of menu options, splitters, etc.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l93.1"></a><span id="l93.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-message-window.js</span>
<a href="#l93.2"></a><span id="l93.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-message-window.js</span>
<a href="#l93.3"></a><span id="l93.3" class="difflineat">@@ -5,30 +5,34 @@</span>
<a href="#l93.4"></a><span id="l93.4"> /*</span>
<a href="#l93.5"></a><span id="l93.5">  * Test that we can open and close a standalone message display window from the</span>
<a href="#l93.6"></a><span id="l93.6">  *  folder pane.</span>
<a href="#l93.7"></a><span id="l93.7">  */</span>
<a href="#l93.8"></a><span id="l93.8"> </span>
<a href="#l93.9"></a><span id="l93.9"> &quot;use strict&quot;;</span>
<a href="#l93.10"></a><span id="l93.10"> </span>
<a href="#l93.11"></a><span id="l93.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l93.12"></a><span id="l93.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l93.13"></a><span id="l93.13"> </span>
<a href="#l93.14"></a><span id="l93.14"> var MODULE_NAME = &quot;test-message-window&quot;;</span>
<a href="#l93.15"></a><span id="l93.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l93.16"></a><span id="l93.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l93.17"></a><span id="l93.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l93.18"></a><span id="l93.18" class="difflineplus">+</span>
<a href="#l93.19"></a><span id="l93.19" class="difflineplus">+var {</span>
<a href="#l93.20"></a><span id="l93.20" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l93.21"></a><span id="l93.21" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l93.22"></a><span id="l93.22" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l93.23"></a><span id="l93.23" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l93.24"></a><span id="l93.24" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l93.25"></a><span id="l93.25"> </span>
<a href="#l93.26"></a><span id="l93.26"> var folderA, folderB;</span>
<a href="#l93.27"></a><span id="l93.27"> var curMessage;</span>
<a href="#l93.28"></a><span id="l93.28"> </span>
<a href="#l93.29"></a><span id="l93.29"> function setupModule(module) {</span>
<a href="#l93.30"></a><span id="l93.30">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l93.31"></a><span id="l93.31">   fdh.installInto(module);</span>
<a href="#l93.32"></a><span id="l93.32" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l93.33"></a><span id="l93.33" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l93.34"></a><span id="l93.34"> </span>
<a href="#l93.35"></a><span id="l93.35">   folderA = create_folder(&quot;MessageWindowA&quot;);</span>
<a href="#l93.36"></a><span id="l93.36">   folderB = create_folder(&quot;MessageWindowB&quot;);</span>
<a href="#l93.37"></a><span id="l93.37">   // create three messages in the folder to display</span>
<a href="#l93.38"></a><span id="l93.38">   let msg1 = create_thread(1);</span>
<a href="#l93.39"></a><span id="l93.39">   let msg2 = create_thread(1);</span>
<a href="#l93.40"></a><span id="l93.40">   let thread1 = create_thread(2);</span>
<a href="#l93.41"></a><span id="l93.41">   let thread2 = create_thread(2);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l94.1"></a><span id="l94.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js</span>
<a href="#l94.2"></a><span id="l94.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-opening-messages-without-a-backing-view.js</span>
<a href="#l94.3"></a><span id="l94.3" class="difflineat">@@ -6,38 +6,39 @@</span>
<a href="#l94.4"></a><span id="l94.4">  * Test that messages without a backing view are opened correctly. Examples of</span>
<a href="#l94.5"></a><span id="l94.5">  * messages without a backing view are those opened from the command line or</span>
<a href="#l94.6"></a><span id="l94.6">  * desktop search integration results.</span>
<a href="#l94.7"></a><span id="l94.7">  */</span>
<a href="#l94.8"></a><span id="l94.8"> </span>
<a href="#l94.9"></a><span id="l94.9"> &quot;use strict&quot;;</span>
<a href="#l94.10"></a><span id="l94.10"> </span>
<a href="#l94.11"></a><span id="l94.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l94.12"></a><span id="l94.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l94.13"></a><span id="l94.13"> </span>
<a href="#l94.14"></a><span id="l94.14"> var MODULE_NAME = &quot;test-opening-messages-without-a-backing-view&quot;;</span>
<a href="#l94.15"></a><span id="l94.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l94.16"></a><span id="l94.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l94.17"></a><span id="l94.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l94.18"></a><span id="l94.18" class="difflineplus">+</span>
<a href="#l94.19"></a><span id="l94.19" class="difflineplus">+var { plan_for_new_window, wait_for_new_window } = ChromeUtils.import(</span>
<a href="#l94.20"></a><span id="l94.20" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l94.21"></a><span id="l94.21" class="difflineplus">+);</span>
<a href="#l94.22"></a><span id="l94.22"> </span>
<a href="#l94.23"></a><span id="l94.23"> var { MailUtils } = ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l94.24"></a><span id="l94.24"> </span>
<a href="#l94.25"></a><span id="l94.25"> // One folder's enough</span>
<a href="#l94.26"></a><span id="l94.26"> var folder = null;</span>
<a href="#l94.27"></a><span id="l94.27"> </span>
<a href="#l94.28"></a><span id="l94.28"> // A list of the message headers in this folder</span>
<a href="#l94.29"></a><span id="l94.29"> var msgHdrsInFolder = null;</span>
<a href="#l94.30"></a><span id="l94.30"> </span>
<a href="#l94.31"></a><span id="l94.31"> // Number of messages to open for multi-message tests</span>
<a href="#l94.32"></a><span id="l94.32"> var NUM_MESSAGES_TO_OPEN = 5;</span>
<a href="#l94.33"></a><span id="l94.33"> </span>
<a href="#l94.34"></a><span id="l94.34"> function setupModule(module) {</span>
<a href="#l94.35"></a><span id="l94.35">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l94.36"></a><span id="l94.36">   fdh.installInto(module);</span>
<a href="#l94.37"></a><span id="l94.37" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l94.38"></a><span id="l94.38" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l94.39"></a><span id="l94.39"> </span>
<a href="#l94.40"></a><span id="l94.40">   folder = create_folder(&quot;OpeningMessagesNoBackingViewA&quot;);</span>
<a href="#l94.41"></a><span id="l94.41">   make_new_sets_in_folder(folder, [{ count: 10 }]);</span>
<a href="#l94.42"></a><span id="l94.42">   // We don't obey mail view persistence unless the view picker is there</span>
<a href="#l94.43"></a><span id="l94.43">   add_to_toolbar(mc.e(&quot;mail-bar3&quot;), &quot;mailviews-container&quot;);</span>
<a href="#l94.44"></a><span id="l94.44"> }</span>
<a href="#l94.45"></a><span id="l94.45"> </span>
<a href="#l94.46"></a><span id="l94.46"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l95.1"></a><span id="l95.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-opening-messages.js</span>
<a href="#l95.2"></a><span id="l95.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-opening-messages.js</span>
<a href="#l95.3"></a><span id="l95.3" class="difflineat">@@ -14,33 +14,34 @@</span>
<a href="#l95.4"></a><span id="l95.4">  *   that multiple messages opened in windows are just the same function called</span>
<a href="#l95.5"></a><span id="l95.5">  *   repeatedly.)</span>
<a href="#l95.6"></a><span id="l95.6">  * - reusing an existing window to show another message</span>
<a href="#l95.7"></a><span id="l95.7">  */</span>
<a href="#l95.8"></a><span id="l95.8"> </span>
<a href="#l95.9"></a><span id="l95.9"> &quot;use strict&quot;;</span>
<a href="#l95.10"></a><span id="l95.10"> </span>
<a href="#l95.11"></a><span id="l95.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l95.12"></a><span id="l95.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l95.13"></a><span id="l95.13"> </span>
<a href="#l95.14"></a><span id="l95.14"> var MODULE_NAME = &quot;test-opening-messages&quot;;</span>
<a href="#l95.15"></a><span id="l95.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l95.16"></a><span id="l95.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l95.17"></a><span id="l95.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l95.18"></a><span id="l95.18" class="difflineplus">+</span>
<a href="#l95.19"></a><span id="l95.19" class="difflineplus">+var { plan_for_new_window, wait_for_new_window } = ChromeUtils.import(</span>
<a href="#l95.20"></a><span id="l95.20" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l95.21"></a><span id="l95.21" class="difflineplus">+);</span>
<a href="#l95.22"></a><span id="l95.22"> </span>
<a href="#l95.23"></a><span id="l95.23"> // One folder's enough</span>
<a href="#l95.24"></a><span id="l95.24"> var folder = null;</span>
<a href="#l95.25"></a><span id="l95.25"> </span>
<a href="#l95.26"></a><span id="l95.26"> // Number of messages to open for multi-message tests</span>
<a href="#l95.27"></a><span id="l95.27"> var NUM_MESSAGES_TO_OPEN = 5;</span>
<a href="#l95.28"></a><span id="l95.28"> </span>
<a href="#l95.29"></a><span id="l95.29"> function setupModule(module) {</span>
<a href="#l95.30"></a><span id="l95.30">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l95.31"></a><span id="l95.31">   fdh.installInto(module);</span>
<a href="#l95.32"></a><span id="l95.32" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l95.33"></a><span id="l95.33" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l95.34"></a><span id="l95.34"> </span>
<a href="#l95.35"></a><span id="l95.35">   folder = create_folder(&quot;OpeningMessagesA&quot;);</span>
<a href="#l95.36"></a><span id="l95.36">   make_new_sets_in_folder(folder, [{ count: 10 }]);</span>
<a href="#l95.37"></a><span id="l95.37"> }</span>
<a href="#l95.38"></a><span id="l95.38"> </span>
<a href="#l95.39"></a><span id="l95.39"> /**</span>
<a href="#l95.40"></a><span id="l95.40">  * Test opening a single message in a new tab.</span>
<a href="#l95.41"></a><span id="l95.41">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l96.1"></a><span id="l96.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-recent-menu.js</span>
<a href="#l96.2"></a><span id="l96.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-recent-menu.js</span>
<a href="#l96.3"></a><span id="l96.3" class="difflineat">@@ -6,21 +6,20 @@</span>
<a href="#l96.4"></a><span id="l96.4">  * This tests the move/copy to recent folder menus to make sure</span>
<a href="#l96.5"></a><span id="l96.5">  * that they get updated when messages are moved to folders, and</span>
<a href="#l96.6"></a><span id="l96.6">  * don't get updated when we archive.</span>
<a href="#l96.7"></a><span id="l96.7">  */</span>
<a href="#l96.8"></a><span id="l96.8"> </span>
<a href="#l96.9"></a><span id="l96.9"> &quot;use strict&quot;;</span>
<a href="#l96.10"></a><span id="l96.10"> </span>
<a href="#l96.11"></a><span id="l96.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l96.12"></a><span id="l96.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l96.13"></a><span id="l96.13"> </span>
<a href="#l96.14"></a><span id="l96.14"> var MODULE_NAME = &quot;test-recent-menu&quot;;</span>
<a href="#l96.15"></a><span id="l96.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l96.16"></a><span id="l96.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l96.17"></a><span id="l96.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l96.18"></a><span id="l96.18"> </span>
<a href="#l96.19"></a><span id="l96.19"> var { MailUtils } = ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l96.20"></a><span id="l96.20"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l96.21"></a><span id="l96.21">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l96.22"></a><span id="l96.22"> );</span>
<a href="#l96.23"></a><span id="l96.23"> var { fixIterator } = ChromeUtils.import(</span>
<a href="#l96.24"></a><span id="l96.24">   &quot;resource:///modules/iteratorUtils.jsm&quot;</span>
<a href="#l96.25"></a><span id="l96.25"> );</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l97.1"></a><span id="l97.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js</span>
<a href="#l97.2"></a><span id="l97.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-right-click-middle-click-folders.js</span>
<a href="#l97.3"></a><span id="l97.3" class="difflineat">@@ -5,29 +5,26 @@</span>
<a href="#l97.4"></a><span id="l97.4"> /*</span>
<a href="#l97.5"></a><span id="l97.5">  * Test the many horrors involving right-clicks, middle clicks, and</span>
<a href="#l97.6"></a><span id="l97.6">  * selections... on folders!</span>
<a href="#l97.7"></a><span id="l97.7">  */</span>
<a href="#l97.8"></a><span id="l97.8"> </span>
<a href="#l97.9"></a><span id="l97.9"> &quot;use strict&quot;;</span>
<a href="#l97.10"></a><span id="l97.10"> </span>
<a href="#l97.11"></a><span id="l97.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l97.12"></a><span id="l97.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l97.13"></a><span id="l97.13"> </span>
<a href="#l97.14"></a><span id="l97.14"> var MODULE_NAME = &quot;test-right-click-middle-click-folders&quot;;</span>
<a href="#l97.15"></a><span id="l97.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l97.16"></a><span id="l97.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l97.17"></a><span id="l97.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l97.18"></a><span id="l97.18"> </span>
<a href="#l97.19"></a><span id="l97.19"> var folderA, folderB, folderC;</span>
<a href="#l97.20"></a><span id="l97.20"> </span>
<a href="#l97.21"></a><span id="l97.21"> function setupModule(module) {</span>
<a href="#l97.22"></a><span id="l97.22">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l97.23"></a><span id="l97.23">   fdh.installInto(module);</span>
<a href="#l97.24"></a><span id="l97.24" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l97.25"></a><span id="l97.25" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l97.26"></a><span id="l97.26"> </span>
<a href="#l97.27"></a><span id="l97.27">   folderA = create_folder(&quot;RightClickMiddleClickFoldersA&quot;);</span>
<a href="#l97.28"></a><span id="l97.28">   folderB = create_folder(&quot;RightClickMiddleClickFoldersB&quot;);</span>
<a href="#l97.29"></a><span id="l97.29">   folderC = create_folder(&quot;RightClickMiddleClickFoldersC&quot;);</span>
<a href="#l97.30"></a><span id="l97.30"> </span>
<a href="#l97.31"></a><span id="l97.31">   // We aren't really interested in the messages the folders contain, but just</span>
<a href="#l97.32"></a><span id="l97.32">   // for appearance's sake, add a message to each folder</span>
<a href="#l97.33"></a><span id="l97.33"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l98.1"></a><span id="l98.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js</span>
<a href="#l98.2"></a><span id="l98.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-right-click-middle-click-messages.js</span>
<a href="#l98.3"></a><span id="l98.3" class="difflineat">@@ -4,38 +4,35 @@</span>
<a href="#l98.4"></a><span id="l98.4"> </span>
<a href="#l98.5"></a><span id="l98.5"> /*</span>
<a href="#l98.6"></a><span id="l98.6">  * Test the many horrors involving right-clicks, middle clicks, and selections.</span>
<a href="#l98.7"></a><span id="l98.7">  */</span>
<a href="#l98.8"></a><span id="l98.8"> </span>
<a href="#l98.9"></a><span id="l98.9"> &quot;use strict&quot;;</span>
<a href="#l98.10"></a><span id="l98.10"> </span>
<a href="#l98.11"></a><span id="l98.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l98.12"></a><span id="l98.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l98.13"></a><span id="l98.13"> </span>
<a href="#l98.14"></a><span id="l98.14"> var MODULE_NAME = &quot;test-right-click-middle-click-messages&quot;;</span>
<a href="#l98.15"></a><span id="l98.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l98.16"></a><span id="l98.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l98.17"></a><span id="l98.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l98.18"></a><span id="l98.18"> </span>
<a href="#l98.19"></a><span id="l98.19"> var elib = ChromeUtils.import(</span>
<a href="#l98.20"></a><span id="l98.20">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l98.21"></a><span id="l98.21"> );</span>
<a href="#l98.22"></a><span id="l98.22"> </span>
<a href="#l98.23"></a><span id="l98.23"> var folder, threadedFolder;</span>
<a href="#l98.24"></a><span id="l98.24"> </span>
<a href="#l98.25"></a><span id="l98.25"> /**</span>
<a href="#l98.26"></a><span id="l98.26">  * The number of messages in the thread we use to test.</span>
<a href="#l98.27"></a><span id="l98.27">  */</span>
<a href="#l98.28"></a><span id="l98.28"> var NUM_MESSAGES_IN_THREAD = 6;</span>
<a href="#l98.29"></a><span id="l98.29"> </span>
<a href="#l98.30"></a><span id="l98.30"> function setupModule(module) {</span>
<a href="#l98.31"></a><span id="l98.31">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l98.32"></a><span id="l98.32">   fdh.installInto(module);</span>
<a href="#l98.33"></a><span id="l98.33" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l98.34"></a><span id="l98.34" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l98.35"></a><span id="l98.35"> </span>
<a href="#l98.36"></a><span id="l98.36">   folder = create_folder(&quot;RightClickMiddleClickA&quot;);</span>
<a href="#l98.37"></a><span id="l98.37">   threadedFolder = create_folder(&quot;RightClickMiddleClickB&quot;);</span>
<a href="#l98.38"></a><span id="l98.38">   // we want exactly as many messages as we plan to delete, so that we can test</span>
<a href="#l98.39"></a><span id="l98.39">   //  that the message window and tabs close when they run out of things to</span>
<a href="#l98.40"></a><span id="l98.40">   //  to display.</span>
<a href="#l98.41"></a><span id="l98.41">   make_new_sets_in_folder(folder, [{ count: 20 }]);</span>
<a href="#l98.42"></a><span id="l98.42">   // Create a few messages and one thread (the order is important here, as it</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l99.1"></a><span id="l99.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js</span>
<a href="#l99.2"></a><span id="l99.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-savedsearch-reload-after-compact.js</span>
<a href="#l99.3"></a><span id="l99.3" class="difflineat">@@ -5,27 +5,24 @@</span>
<a href="#l99.4"></a><span id="l99.4"> /**</span>
<a href="#l99.5"></a><span id="l99.5">  * Test reload of saved searches over local folders after compaction</span>
<a href="#l99.6"></a><span id="l99.6">  * of local folders.</span>
<a href="#l99.7"></a><span id="l99.7">  */</span>
<a href="#l99.8"></a><span id="l99.8"> </span>
<a href="#l99.9"></a><span id="l99.9"> &quot;use strict&quot;;</span>
<a href="#l99.10"></a><span id="l99.10"> </span>
<a href="#l99.11"></a><span id="l99.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l99.12"></a><span id="l99.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l99.13"></a><span id="l99.13"> </span>
<a href="#l99.14"></a><span id="l99.14"> var MODULE_NAME = &quot;test-savedsearch-reload-after-compact&quot;;</span>
<a href="#l99.15"></a><span id="l99.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l99.16"></a><span id="l99.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l99.17"></a><span id="l99.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l99.18"></a><span id="l99.18"> </span>
<a href="#l99.19"></a><span id="l99.19"> function setupModule(module) {</span>
<a href="#l99.20"></a><span id="l99.20">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l99.21"></a><span id="l99.21">   fdh.installInto(module);</span>
<a href="#l99.22"></a><span id="l99.22" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l99.23"></a><span id="l99.23" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l99.24"></a><span id="l99.24"> }</span>
<a href="#l99.25"></a><span id="l99.25"> </span>
<a href="#l99.26"></a><span id="l99.26"> /**</span>
<a href="#l99.27"></a><span id="l99.27">  * Add some messages to a folder, delete the first one, and create a saved</span>
<a href="#l99.28"></a><span id="l99.28">  * search over the inbox and the folder. Then, compact folders.</span>
<a href="#l99.29"></a><span id="l99.29">  */</span>
<a href="#l99.30"></a><span id="l99.30"> function test_setup_virtual_folder_and_compact() {</span>
<a href="#l99.31"></a><span id="l99.31">   let otherFolder = create_folder(&quot;otherFolder&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l100.1"></a><span id="l100.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-tabs-simple.js</span>
<a href="#l100.2"></a><span id="l100.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-tabs-simple.js</span>
<a href="#l100.3"></a><span id="l100.3" class="difflineat">@@ -9,29 +9,26 @@</span>
<a href="#l100.4"></a><span id="l100.4">  * cause more realistic focus changes so those changes now look sillier</span>
<a href="#l100.5"></a><span id="l100.5">  * because in many cases we are explicitly setting focus back after the thread</span>
<a href="#l100.6"></a><span id="l100.6">  * tree gains focus.</span>
<a href="#l100.7"></a><span id="l100.7">  */</span>
<a href="#l100.8"></a><span id="l100.8"> </span>
<a href="#l100.9"></a><span id="l100.9"> &quot;use strict&quot;;</span>
<a href="#l100.10"></a><span id="l100.10"> </span>
<a href="#l100.11"></a><span id="l100.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l100.12"></a><span id="l100.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l100.13"></a><span id="l100.13"> </span>
<a href="#l100.14"></a><span id="l100.14"> var MODULE_NAME = &quot;test-tabs-simple&quot;;</span>
<a href="#l100.15"></a><span id="l100.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l100.16"></a><span id="l100.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l100.17"></a><span id="l100.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l100.18"></a><span id="l100.18"> </span>
<a href="#l100.19"></a><span id="l100.19"> var folderA, folderB, setA, setB;</span>
<a href="#l100.20"></a><span id="l100.20"> </span>
<a href="#l100.21"></a><span id="l100.21"> function setupModule(module) {</span>
<a href="#l100.22"></a><span id="l100.22">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l100.23"></a><span id="l100.23">   fdh.installInto(module);</span>
<a href="#l100.24"></a><span id="l100.24" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l100.25"></a><span id="l100.25" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l100.26"></a><span id="l100.26"> </span>
<a href="#l100.27"></a><span id="l100.27">   folderA = create_folder(&quot;TabsSimpleA&quot;);</span>
<a href="#l100.28"></a><span id="l100.28">   folderB = create_folder(&quot;TabsSimpleB&quot;);</span>
<a href="#l100.29"></a><span id="l100.29"> </span>
<a href="#l100.30"></a><span id="l100.30">   // We will verify we are seeing the right folder by checking that it has the</span>
<a href="#l100.31"></a><span id="l100.31">   //  right messages in it.</span>
<a href="#l100.32"></a><span id="l100.32">   [setA] = make_new_sets_in_folder(folderA, [{}]);</span>
<a href="#l100.33"></a><span id="l100.33">   [setB] = make_new_sets_in_folder(folderB, [{}]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l101.1"></a><span id="l101.1" class="difflineminus">--- a/mail/test/mozmill/folder-pane/test-folder-pane-consumers.js</span>
<a href="#l101.2"></a><span id="l101.2" class="difflineplus">+++ b/mail/test/mozmill/folder-pane/test-folder-pane-consumers.js</span>
<a href="#l101.3"></a><span id="l101.3" class="difflineat">@@ -5,25 +5,24 @@</span>
<a href="#l101.4"></a><span id="l101.4"> /*</span>
<a href="#l101.5"></a><span id="l101.5">  * Tests for other dialogs using the tree view implementation in folderPane.js.</span>
<a href="#l101.6"></a><span id="l101.6">  */</span>
<a href="#l101.7"></a><span id="l101.7"> </span>
<a href="#l101.8"></a><span id="l101.8"> &quot;use strict&quot;;</span>
<a href="#l101.9"></a><span id="l101.9"> </span>
<a href="#l101.10"></a><span id="l101.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l101.11"></a><span id="l101.11"> /* import-globals-from ../shared-modules/test-nntp-helpers.js */</span>
<a href="#l101.12"></a><span id="l101.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l101.13"></a><span id="l101.13"> </span>
<a href="#l101.14"></a><span id="l101.14"> var MODULE_NAME = &quot;test-folder-pane&quot;;</span>
<a href="#l101.15"></a><span id="l101.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l101.16"></a><span id="l101.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l101.17"></a><span id="l101.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l101.18"></a><span id="l101.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l101.19"></a><span id="l101.19" class="difflineminus">-  &quot;nntp-helpers&quot;,</span>
<a href="#l101.20"></a><span id="l101.20" class="difflineminus">-];</span>
<a href="#l101.21"></a><span id="l101.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;nntp-helpers&quot;];</span>
<a href="#l101.22"></a><span id="l101.22" class="difflineplus">+</span>
<a href="#l101.23"></a><span id="l101.23" class="difflineplus">+var { plan_for_modal_dialog, wait_for_modal_dialog } = ChromeUtils.import(</span>
<a href="#l101.24"></a><span id="l101.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l101.25"></a><span id="l101.25" class="difflineplus">+);</span>
<a href="#l101.26"></a><span id="l101.26"> </span>
<a href="#l101.27"></a><span id="l101.27"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l101.28"></a><span id="l101.28">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l101.29"></a><span id="l101.29"> );</span>
<a href="#l101.30"></a><span id="l101.30"> </span>
<a href="#l101.31"></a><span id="l101.31"> var nntpAccount;</span>
<a href="#l101.32"></a><span id="l101.32"> </span>
<a href="#l101.33"></a><span id="l101.33"> function setupModule(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l102.1"></a><span id="l102.1" class="difflineminus">--- a/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js</span>
<a href="#l102.2"></a><span id="l102.2" class="difflineplus">+++ b/mail/test/mozmill/folder-tree-modes/test-custom-folder-tree-mode.js</span>
<a href="#l102.3"></a><span id="l102.3" class="difflineat">@@ -6,21 +6,26 @@</span>
<a href="#l102.4"></a><span id="l102.4"> /*</span>
<a href="#l102.5"></a><span id="l102.5">  * Tests for custom folder tree modes. The test mode is provided by the test</span>
<a href="#l102.6"></a><span id="l102.6">  * extension in the test-extension subdirectory.</span>
<a href="#l102.7"></a><span id="l102.7">  */</span>
<a href="#l102.8"></a><span id="l102.8"> </span>
<a href="#l102.9"></a><span id="l102.9"> &quot;use strict&quot;;</span>
<a href="#l102.10"></a><span id="l102.10"> </span>
<a href="#l102.11"></a><span id="l102.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l102.12"></a><span id="l102.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l102.13"></a><span id="l102.13"> </span>
<a href="#l102.14"></a><span id="l102.14"> var MODULE_NAME = &quot;test-custom-folder-tree-mode&quot;;</span>
<a href="#l102.15"></a><span id="l102.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l102.16"></a><span id="l102.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l102.17"></a><span id="l102.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l102.18"></a><span id="l102.18" class="difflineplus">+</span>
<a href="#l102.19"></a><span id="l102.19" class="difflineplus">+var {</span>
<a href="#l102.20"></a><span id="l102.20" class="difflineplus">+  close_window,</span>
<a href="#l102.21"></a><span id="l102.21" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l102.22"></a><span id="l102.22" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l102.23"></a><span id="l102.23" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l102.24"></a><span id="l102.24"> </span>
<a href="#l102.25"></a><span id="l102.25"> var gInbox;</span>
<a href="#l102.26"></a><span id="l102.26"> </span>
<a href="#l102.27"></a><span id="l102.27"> function setupModule(module) {</span>
<a href="#l102.28"></a><span id="l102.28">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l102.29"></a><span id="l102.29">     collector.getModule(lib).installInto(module);</span>
<a href="#l102.30"></a><span id="l102.30">   }</span>
<a href="#l102.31"></a><span id="l102.31"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l103.1"></a><span id="l103.1" class="difflineminus">--- a/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js</span>
<a href="#l103.2"></a><span id="l103.2" class="difflineplus">+++ b/mail/test/mozmill/folder-tree-modes/test-custom-smart-folder.js</span>
<a href="#l103.3"></a><span id="l103.3" class="difflineat">@@ -6,21 +6,20 @@</span>
<a href="#l103.4"></a><span id="l103.4"> /*</span>
<a href="#l103.5"></a><span id="l103.5">  * Tests for custom folder tree modes. The test mode is provided by the test</span>
<a href="#l103.6"></a><span id="l103.6">  * extension in the test-extension subdirectory.</span>
<a href="#l103.7"></a><span id="l103.7">  */</span>
<a href="#l103.8"></a><span id="l103.8"> </span>
<a href="#l103.9"></a><span id="l103.9"> &quot;use strict&quot;;</span>
<a href="#l103.10"></a><span id="l103.10"> </span>
<a href="#l103.11"></a><span id="l103.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l103.12"></a><span id="l103.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l103.13"></a><span id="l103.13"> </span>
<a href="#l103.14"></a><span id="l103.14"> var MODULE_NAME = &quot;test-custom-smart-folder&quot;;</span>
<a href="#l103.15"></a><span id="l103.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l103.16"></a><span id="l103.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l103.17"></a><span id="l103.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l103.18"></a><span id="l103.18"> </span>
<a href="#l103.19"></a><span id="l103.19"> // spaces in the name are intentional</span>
<a href="#l103.20"></a><span id="l103.20"> var smartParentNameA = &quot;My Smart Folder A&quot;;</span>
<a href="#l103.21"></a><span id="l103.21"> var smartParentNameB = &quot;My Smart Folder B&quot;;</span>
<a href="#l103.22"></a><span id="l103.22"> </span>
<a href="#l103.23"></a><span id="l103.23"> var rootFolder;</span>
<a href="#l103.24"></a><span id="l103.24"> var inboxSubfolder, subfolderA, subfolderB;</span>
<a href="#l103.25"></a><span id="l103.25"> var smartFolderInbox;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l104.1"></a><span id="l104.1" class="difflineminus">--- a/mail/test/mozmill/folder-tree-modes/test-mode-switching.js</span>
<a href="#l104.2"></a><span id="l104.2" class="difflineplus">+++ b/mail/test/mozmill/folder-tree-modes/test-mode-switching.js</span>
<a href="#l104.3"></a><span id="l104.3" class="difflineat">@@ -6,21 +6,20 @@</span>
<a href="#l104.4"></a><span id="l104.4">  * Bug 978592.</span>
<a href="#l104.5"></a><span id="l104.5">  * Test that switching folder modes via menu works and also compact versions</span>
<a href="#l104.6"></a><span id="l104.6">  * can be toggled properly.</span>
<a href="#l104.7"></a><span id="l104.7">  */</span>
<a href="#l104.8"></a><span id="l104.8"> </span>
<a href="#l104.9"></a><span id="l104.9"> &quot;use strict&quot;;</span>
<a href="#l104.10"></a><span id="l104.10"> </span>
<a href="#l104.11"></a><span id="l104.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l104.12"></a><span id="l104.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l104.13"></a><span id="l104.13"> </span>
<a href="#l104.14"></a><span id="l104.14"> var MODULE_NAME = &quot;test-mode-switching&quot;;</span>
<a href="#l104.15"></a><span id="l104.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l104.16"></a><span id="l104.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l104.17"></a><span id="l104.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l104.18"></a><span id="l104.18"> </span>
<a href="#l104.19"></a><span id="l104.19"> var rootFolder;</span>
<a href="#l104.20"></a><span id="l104.20"> var inboxFolder;</span>
<a href="#l104.21"></a><span id="l104.21"> var unreadFolder;</span>
<a href="#l104.22"></a><span id="l104.22"> var favoriteFolder;</span>
<a href="#l104.23"></a><span id="l104.23"> var toggle_menu;</span>
<a href="#l104.24"></a><span id="l104.24"> var toggle_appmenu;</span>
<a href="#l104.25"></a><span id="l104.25"> var tree;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l105.1"></a><span id="l105.1" class="difflineminus">--- a/mail/test/mozmill/folder-widget/test-message-filters.js</span>
<a href="#l105.2"></a><span id="l105.2" class="difflineplus">+++ b/mail/test/mozmill/folder-widget/test-message-filters.js</span>
<a href="#l105.3"></a><span id="l105.3" class="difflineat">@@ -6,31 +6,41 @@</span>
<a href="#l105.4"></a><span id="l105.4">  * Test various properties of the message filters.</span>
<a href="#l105.5"></a><span id="l105.5">  */</span>
<a href="#l105.6"></a><span id="l105.6"> </span>
<a href="#l105.7"></a><span id="l105.7"> &quot;use strict&quot;;</span>
<a href="#l105.8"></a><span id="l105.8"> </span>
<a href="#l105.9"></a><span id="l105.9"> /* import-globals-from ../shared-modules/test-address-book-helpers.js */</span>
<a href="#l105.10"></a><span id="l105.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l105.11"></a><span id="l105.11"> /* import-globals-from ../shared-modules/test-nntp-helpers.js */</span>
<a href="#l105.12"></a><span id="l105.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l105.13"></a><span id="l105.13"> </span>
<a href="#l105.14"></a><span id="l105.14"> var MODULE_NAME = &quot;test-message-filters&quot;;</span>
<a href="#l105.15"></a><span id="l105.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l105.16"></a><span id="l105.16"> var MODULE_REQUIRES = [</span>
<a href="#l105.17"></a><span id="l105.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l105.18"></a><span id="l105.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l105.19"></a><span id="l105.19">   &quot;nntp-helpers&quot;,</span>
<a href="#l105.20"></a><span id="l105.20">   &quot;address-book-helpers&quot;,</span>
<a href="#l105.21"></a><span id="l105.21"> ];</span>
<a href="#l105.22"></a><span id="l105.22"> </span>
<a href="#l105.23"></a><span id="l105.23"> var elib = ChromeUtils.import(</span>
<a href="#l105.24"></a><span id="l105.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l105.25"></a><span id="l105.25"> );</span>
<a href="#l105.26"></a><span id="l105.26"> </span>
<a href="#l105.27"></a><span id="l105.27" class="difflineplus">+var {</span>
<a href="#l105.28"></a><span id="l105.28" class="difflineplus">+  close_window,</span>
<a href="#l105.29"></a><span id="l105.29" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l105.30"></a><span id="l105.30" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l105.31"></a><span id="l105.31" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l105.32"></a><span id="l105.32" class="difflineplus">+  wait_for_existing_window,</span>
<a href="#l105.33"></a><span id="l105.33" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l105.34"></a><span id="l105.34" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l105.35"></a><span id="l105.35" class="difflineplus">+  wait_for_window_focused,</span>
<a href="#l105.36"></a><span id="l105.36" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l105.37"></a><span id="l105.37" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l105.38"></a><span id="l105.38" class="difflineplus">+</span>
<a href="#l105.39"></a><span id="l105.39"> var { gMockPromptService } = ChromeUtils.import(</span>
<a href="#l105.40"></a><span id="l105.40">   &quot;resource://testing-common/mozmill/PromptHelpers.jsm&quot;</span>
<a href="#l105.41"></a><span id="l105.41"> );</span>
<a href="#l105.42"></a><span id="l105.42"> </span>
<a href="#l105.43"></a><span id="l105.43"> var folderA;</span>
<a href="#l105.44"></a><span id="l105.44"> </span>
<a href="#l105.45"></a><span id="l105.45"> function setupModule(module) {</span>
<a href="#l105.46"></a><span id="l105.46">   for (let lib of MODULE_REQUIRES) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l106.1"></a><span id="l106.1" class="difflineminus">--- a/mail/test/mozmill/instrumentation/test-instrument-setup.js</span>
<a href="#l106.2"></a><span id="l106.2" class="difflineplus">+++ b/mail/test/mozmill/instrumentation/test-instrument-setup.js</span>
<a href="#l106.3"></a><span id="l106.3" class="difflineat">@@ -1,28 +1,32 @@</span>
<a href="#l106.4"></a><span id="l106.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l106.5"></a><span id="l106.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l106.6"></a><span id="l106.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l106.7"></a><span id="l106.7"> </span>
<a href="#l106.8"></a><span id="l106.8"> &quot;use strict&quot;;</span>
<a href="#l106.9"></a><span id="l106.9"> </span>
<a href="#l106.10"></a><span id="l106.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l106.11"></a><span id="l106.11" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l106.12"></a><span id="l106.12"> </span>
<a href="#l106.13"></a><span id="l106.13"> var MODULE_NAME = &quot;test-instrument-setup&quot;;</span>
<a href="#l106.14"></a><span id="l106.14"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l106.15"></a><span id="l106.15" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l106.16"></a><span id="l106.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l106.17"></a><span id="l106.17"> </span>
<a href="#l106.18"></a><span id="l106.18"> var elib = ChromeUtils.import(</span>
<a href="#l106.19"></a><span id="l106.19">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l106.20"></a><span id="l106.20"> );</span>
<a href="#l106.21"></a><span id="l106.21"> </span>
<a href="#l106.22"></a><span id="l106.22"> var { input_value } = ChromeUtils.import(</span>
<a href="#l106.23"></a><span id="l106.23">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l106.24"></a><span id="l106.24"> );</span>
<a href="#l106.25"></a><span id="l106.25" class="difflineplus">+var {</span>
<a href="#l106.26"></a><span id="l106.26" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l106.27"></a><span id="l106.27" class="difflineplus">+  wait_for_existing_window,</span>
<a href="#l106.28"></a><span id="l106.28" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l106.29"></a><span id="l106.29" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l106.30"></a><span id="l106.30"> </span>
<a href="#l106.31"></a><span id="l106.31"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l106.32"></a><span id="l106.32"> </span>
<a href="#l106.33"></a><span id="l106.33"> var user = {</span>
<a href="#l106.34"></a><span id="l106.34">   name: &quot;Roger Sterling&quot;,</span>
<a href="#l106.35"></a><span id="l106.35">   email: &quot;roger.sterling@example.com&quot;,</span>
<a href="#l106.36"></a><span id="l106.36">   incomingHost: &quot;testin.example.com&quot;,</span>
<a href="#l106.37"></a><span id="l106.37">   outgoingHost: &quot;testout.example.com&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l107.1"></a><span id="l107.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-message-header.js</span>
<a href="#l107.2"></a><span id="l107.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-message-header.js</span>
<a href="#l107.3"></a><span id="l107.3" class="difflineat">@@ -7,30 +7,33 @@</span>
<a href="#l107.4"></a><span id="l107.4">  * the more button ...</span>
<a href="#l107.5"></a><span id="l107.5">  */</span>
<a href="#l107.6"></a><span id="l107.6"> </span>
<a href="#l107.7"></a><span id="l107.7"> &quot;use strict&quot;;</span>
<a href="#l107.8"></a><span id="l107.8"> </span>
<a href="#l107.9"></a><span id="l107.9"> /* import-globals-from ../shared-modules/test-address-book-helpers.js */</span>
<a href="#l107.10"></a><span id="l107.10"> /* import-globals-from ../shared-modules/test-dom-helpers.js */</span>
<a href="#l107.11"></a><span id="l107.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l107.12"></a><span id="l107.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l107.13"></a><span id="l107.13"> </span>
<a href="#l107.14"></a><span id="l107.14"> var MODULE_NAME = &quot;test-message-header&quot;;</span>
<a href="#l107.15"></a><span id="l107.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l107.16"></a><span id="l107.16"> var MODULE_REQUIRES = [</span>
<a href="#l107.17"></a><span id="l107.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l107.18"></a><span id="l107.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l107.19"></a><span id="l107.19">   &quot;address-book-helpers&quot;,</span>
<a href="#l107.20"></a><span id="l107.20">   &quot;dom-helpers&quot;,</span>
<a href="#l107.21"></a><span id="l107.21"> ];</span>
<a href="#l107.22"></a><span id="l107.22"> </span>
<a href="#l107.23"></a><span id="l107.23"> var elib = ChromeUtils.import(</span>
<a href="#l107.24"></a><span id="l107.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l107.25"></a><span id="l107.25"> );</span>
<a href="#l107.26"></a><span id="l107.26" class="difflineplus">+</span>
<a href="#l107.27"></a><span id="l107.27" class="difflineplus">+var { resize_to } = ChromeUtils.import(</span>
<a href="#l107.28"></a><span id="l107.28" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l107.29"></a><span id="l107.29" class="difflineplus">+);</span>
<a href="#l107.30"></a><span id="l107.30" class="difflineplus">+</span>
<a href="#l107.31"></a><span id="l107.31"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l107.32"></a><span id="l107.32"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l107.33"></a><span id="l107.33">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l107.34"></a><span id="l107.34"> );</span>
<a href="#l107.35"></a><span id="l107.35"> </span>
<a href="#l107.36"></a><span id="l107.36"> var folder, folderMore;</span>
<a href="#l107.37"></a><span id="l107.37"> var gInterestingMessage;</span>
<a href="#l107.38"></a><span id="l107.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l108.1"></a><span id="l108.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-phishing-bar.js</span>
<a href="#l108.2"></a><span id="l108.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-phishing-bar.js</span>
<a href="#l108.3"></a><span id="l108.3" class="difflineat">@@ -4,32 +4,37 @@</span>
<a href="#l108.4"></a><span id="l108.4"> </span>
<a href="#l108.5"></a><span id="l108.5"> /**</span>
<a href="#l108.6"></a><span id="l108.6">  * Test that phishing notifications behave properly.</span>
<a href="#l108.7"></a><span id="l108.7">  */</span>
<a href="#l108.8"></a><span id="l108.8"> </span>
<a href="#l108.9"></a><span id="l108.9"> &quot;use strict&quot;;</span>
<a href="#l108.10"></a><span id="l108.10"> </span>
<a href="#l108.11"></a><span id="l108.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l108.12"></a><span id="l108.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l108.13"></a><span id="l108.13"> </span>
<a href="#l108.14"></a><span id="l108.14"> var MODULE_NAME = &quot;test-phishing-bar&quot;;</span>
<a href="#l108.15"></a><span id="l108.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l108.16"></a><span id="l108.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l108.17"></a><span id="l108.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l108.18"></a><span id="l108.18"> </span>
<a href="#l108.19"></a><span id="l108.19"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l108.20"></a><span id="l108.20"> </span>
<a href="#l108.21"></a><span id="l108.21"> var {</span>
<a href="#l108.22"></a><span id="l108.22">   assert_notification_displayed,</span>
<a href="#l108.23"></a><span id="l108.23">   get_notification_button,</span>
<a href="#l108.24"></a><span id="l108.24">   wait_for_notification_to_show,</span>
<a href="#l108.25"></a><span id="l108.25">   wait_for_notification_to_stop,</span>
<a href="#l108.26"></a><span id="l108.26"> } = ChromeUtils.import(</span>
<a href="#l108.27"></a><span id="l108.27">   &quot;resource://testing-common/mozmill/NotificationBoxHelpers.jsm&quot;</span>
<a href="#l108.28"></a><span id="l108.28"> );</span>
<a href="#l108.29"></a><span id="l108.29" class="difflineplus">+var {</span>
<a href="#l108.30"></a><span id="l108.30" class="difflineplus">+  close_window,</span>
<a href="#l108.31"></a><span id="l108.31" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l108.32"></a><span id="l108.32" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l108.33"></a><span id="l108.33" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l108.34"></a><span id="l108.34" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l108.35"></a><span id="l108.35"> </span>
<a href="#l108.36"></a><span id="l108.36"> var folder;</span>
<a href="#l108.37"></a><span id="l108.37"> </span>
<a href="#l108.38"></a><span id="l108.38"> var kBoxId = &quot;mail-notification-top&quot;;</span>
<a href="#l108.39"></a><span id="l108.39"> var kNotificationValue = &quot;maybeScam&quot;;</span>
<a href="#l108.40"></a><span id="l108.40"> </span>
<a href="#l108.41"></a><span id="l108.41"> function setupModule(module) {</span>
<a href="#l108.42"></a><span id="l108.42">   for (let dep of MODULE_REQUIRES) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l109.1"></a><span id="l109.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-reply-identity.js</span>
<a href="#l109.2"></a><span id="l109.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-reply-identity.js</span>
<a href="#l109.3"></a><span id="l109.3" class="difflineat">@@ -5,25 +5,20 @@</span>
<a href="#l109.4"></a><span id="l109.4"> /**</span>
<a href="#l109.5"></a><span id="l109.5">  * Tests that actions such as replying choses the most suitable identity.</span>
<a href="#l109.6"></a><span id="l109.6">  */</span>
<a href="#l109.7"></a><span id="l109.7"> </span>
<a href="#l109.8"></a><span id="l109.8"> &quot;use strict&quot;;</span>
<a href="#l109.9"></a><span id="l109.9"> </span>
<a href="#l109.10"></a><span id="l109.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l109.11"></a><span id="l109.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l109.12"></a><span id="l109.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l109.13"></a><span id="l109.13"> </span>
<a href="#l109.14"></a><span id="l109.14"> var MODULE_NAME = &quot;test-reply-identity&quot;;</span>
<a href="#l109.15"></a><span id="l109.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l109.16"></a><span id="l109.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l109.17"></a><span id="l109.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l109.18"></a><span id="l109.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l109.19"></a><span id="l109.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l109.20"></a><span id="l109.20" class="difflineminus">-];</span>
<a href="#l109.21"></a><span id="l109.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l109.22"></a><span id="l109.22"> </span>
<a href="#l109.23"></a><span id="l109.23"> var testFolder = null;</span>
<a href="#l109.24"></a><span id="l109.24"> </span>
<a href="#l109.25"></a><span id="l109.25"> var identity1Email = &quot;carl@example.com&quot;;</span>
<a href="#l109.26"></a><span id="l109.26"> var identity2Email = &quot;lenny@springfield.invalid&quot;;</span>
<a href="#l109.27"></a><span id="l109.27"> </span>
<a href="#l109.28"></a><span id="l109.28"> function setupModule(module) {</span>
<a href="#l109.29"></a><span id="l109.29">   for (let lib of MODULE_REQUIRES) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l110.1"></a><span id="l110.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js</span>
<a href="#l110.2"></a><span id="l110.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-reply-to-list-from-address-selection.js</span>
<a href="#l110.3"></a><span id="l110.3" class="difflineat">@@ -5,25 +5,20 @@</span>
<a href="#l110.4"></a><span id="l110.4"> /*</span>
<a href="#l110.5"></a><span id="l110.5">  *  Test for the most suitable identity in From address for reply-to-list</span>
<a href="#l110.6"></a><span id="l110.6">  */</span>
<a href="#l110.7"></a><span id="l110.7"> </span>
<a href="#l110.8"></a><span id="l110.8"> &quot;use strict&quot;;</span>
<a href="#l110.9"></a><span id="l110.9"> </span>
<a href="#l110.10"></a><span id="l110.10"> /* import-globals-from ../shared-modules/test-compose-helpers.js */</span>
<a href="#l110.11"></a><span id="l110.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l110.12"></a><span id="l110.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l110.13"></a><span id="l110.13"> </span>
<a href="#l110.14"></a><span id="l110.14"> var MODULE_NAME = &quot;test-reply-to-list-from-address-selection&quot;;</span>
<a href="#l110.15"></a><span id="l110.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l110.16"></a><span id="l110.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l110.17"></a><span id="l110.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l110.18"></a><span id="l110.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l110.19"></a><span id="l110.19" class="difflineminus">-  &quot;compose-helpers&quot;,</span>
<a href="#l110.20"></a><span id="l110.20" class="difflineminus">-];</span>
<a href="#l110.21"></a><span id="l110.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;compose-helpers&quot;];</span>
<a href="#l110.22"></a><span id="l110.22"> </span>
<a href="#l110.23"></a><span id="l110.23"> var testFolder = null;</span>
<a href="#l110.24"></a><span id="l110.24"> var msgHdr = null;</span>
<a href="#l110.25"></a><span id="l110.25"> var replyToListWindow = null;</span>
<a href="#l110.26"></a><span id="l110.26"> </span>
<a href="#l110.27"></a><span id="l110.27"> var identityString1 = &quot;tinderbox_correct_identity@foo.invalid&quot;;</span>
<a href="#l110.28"></a><span id="l110.28"> </span>
<a href="#l110.29"></a><span id="l110.29"> function setupModule(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l111.1"></a><span id="l111.1" class="difflineminus">--- a/mail/test/mozmill/message-header/test-return-receipt.js</span>
<a href="#l111.2"></a><span id="l111.2" class="difflineplus">+++ b/mail/test/mozmill/message-header/test-return-receipt.js</span>
<a href="#l111.3"></a><span id="l111.3" class="difflineat">@@ -4,34 +4,32 @@</span>
<a href="#l111.4"></a><span id="l111.4"> </span>
<a href="#l111.5"></a><span id="l111.5"> /*</span>
<a href="#l111.6"></a><span id="l111.6">  * Test return receipt (MDN) stuff.</span>
<a href="#l111.7"></a><span id="l111.7">  */</span>
<a href="#l111.8"></a><span id="l111.8"> </span>
<a href="#l111.9"></a><span id="l111.9"> &quot;use strict&quot;;</span>
<a href="#l111.10"></a><span id="l111.10"> </span>
<a href="#l111.11"></a><span id="l111.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l111.12"></a><span id="l111.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l111.13"></a><span id="l111.13"> </span>
<a href="#l111.14"></a><span id="l111.14"> var MODULE_NAME = &quot;test-return-receipt&quot;;</span>
<a href="#l111.15"></a><span id="l111.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l111.16"></a><span id="l111.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l111.17"></a><span id="l111.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l111.18"></a><span id="l111.18"> </span>
<a href="#l111.19"></a><span id="l111.19"> var { assert_notification_displayed } = ChromeUtils.import(</span>
<a href="#l111.20"></a><span id="l111.20">   &quot;resource://testing-common/mozmill/NotificationBoxHelpers.jsm&quot;</span>
<a href="#l111.21"></a><span id="l111.21"> );</span>
<a href="#l111.22"></a><span id="l111.22"> </span>
<a href="#l111.23"></a><span id="l111.23"> var folder;</span>
<a href="#l111.24"></a><span id="l111.24"> </span>
<a href="#l111.25"></a><span id="l111.25"> var kBoxId = &quot;mail-notification-top&quot;;</span>
<a href="#l111.26"></a><span id="l111.26"> var kNotificationValue = &quot;mdnRequested&quot;;</span>
<a href="#l111.27"></a><span id="l111.27"> </span>
<a href="#l111.28"></a><span id="l111.28"> function setupModule(module) {</span>
<a href="#l111.29"></a><span id="l111.29">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l111.30"></a><span id="l111.30" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l111.31"></a><span id="l111.31"> </span>
<a href="#l111.32"></a><span id="l111.32">   folder = create_folder(&quot;ReturnReceiptTest&quot;);</span>
<a href="#l111.33"></a><span id="l111.33"> </span>
<a href="#l111.34"></a><span id="l111.34">   // Create a message that requests a return receipt.</span>
<a href="#l111.35"></a><span id="l111.35">   let msg0 = create_message({</span>
<a href="#l111.36"></a><span id="l111.36">     from: [&quot;Ake&quot;, &quot;ake@example.com&quot;],</span>
<a href="#l111.37"></a><span id="l111.37">     clobberHeaders: { &quot;Disposition-Notification-To&quot;: &quot;ake@example.com&quot; },</span>
<a href="#l111.38"></a><span id="l111.38">   });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l112.1"></a><span id="l112.1" class="difflineminus">--- a/mail/test/mozmill/message-reader/test-bug594646.js</span>
<a href="#l112.2"></a><span id="l112.2" class="difflineplus">+++ b/mail/test/mozmill/message-reader/test-bug594646.js</span>
<a href="#l112.3"></a><span id="l112.3" class="difflineat">@@ -7,29 +7,31 @@</span>
<a href="#l112.4"></a><span id="l112.4"> /**</span>
<a href="#l112.5"></a><span id="l112.5">  * Tests that opening an .eml file the body of the message is correct,</span>
<a href="#l112.6"></a><span id="l112.6">  * that it hasn't been UTF-8 mojibake'd.</span>
<a href="#l112.7"></a><span id="l112.7">  */</span>
<a href="#l112.8"></a><span id="l112.8"> </span>
<a href="#l112.9"></a><span id="l112.9"> &quot;use strict&quot;;</span>
<a href="#l112.10"></a><span id="l112.10"> </span>
<a href="#l112.11"></a><span id="l112.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l112.12"></a><span id="l112.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l112.13"></a><span id="l112.13"> </span>
<a href="#l112.14"></a><span id="l112.14"> var MODULE_NAME = &quot;test-bug594646&quot;;</span>
<a href="#l112.15"></a><span id="l112.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l112.16"></a><span id="l112.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l112.17"></a><span id="l112.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l112.18"></a><span id="l112.18"> </span>
<a href="#l112.19"></a><span id="l112.19"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l112.20"></a><span id="l112.20"> </span>
<a href="#l112.21"></a><span id="l112.21" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l112.22"></a><span id="l112.22" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l112.23"></a><span id="l112.23" class="difflineplus">+);</span>
<a href="#l112.24"></a><span id="l112.24" class="difflineplus">+</span>
<a href="#l112.25"></a><span id="l112.25"> var gReferenceTextContent;</span>
<a href="#l112.26"></a><span id="l112.26"> </span>
<a href="#l112.27"></a><span id="l112.27"> function setupModule(module) {</span>
<a href="#l112.28"></a><span id="l112.28">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l112.29"></a><span id="l112.29" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l112.30"></a><span id="l112.30">   gReferenceTextContent = extract_eml_body_textcontent(</span>
<a href="#l112.31"></a><span id="l112.31">     &quot;./bug594646_reference.eml&quot;</span>
<a href="#l112.32"></a><span id="l112.32">   );</span>
<a href="#l112.33"></a><span id="l112.33"> }</span>
<a href="#l112.34"></a><span id="l112.34"> </span>
<a href="#l112.35"></a><span id="l112.35"> function extract_eml_body_textcontent(eml) {</span>
<a href="#l112.36"></a><span id="l112.36">   let file = os.getFileForPath(os.abspath(eml, os.getFileForPath(__file__)));</span>
<a href="#l112.37"></a><span id="l112.37">   let msgc = open_message_from_file(file);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l113.1"></a><span id="l113.1" class="difflineminus">--- a/mail/test/mozmill/message-window/test-commands.js</span>
<a href="#l113.2"></a><span id="l113.2" class="difflineplus">+++ b/mail/test/mozmill/message-window/test-commands.js</span>
<a href="#l113.3"></a><span id="l113.3" class="difflineat">@@ -1,36 +1,37 @@</span>
<a href="#l113.4"></a><span id="l113.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l113.5"></a><span id="l113.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l113.6"></a><span id="l113.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l113.7"></a><span id="l113.7"> </span>
<a href="#l113.8"></a><span id="l113.8"> &quot;use strict&quot;;</span>
<a href="#l113.9"></a><span id="l113.9"> </span>
<a href="#l113.10"></a><span id="l113.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l113.11"></a><span id="l113.11" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l113.12"></a><span id="l113.12"> </span>
<a href="#l113.13"></a><span id="l113.13"> var MODULE_NAME = &quot;test-commands&quot;;</span>
<a href="#l113.14"></a><span id="l113.14"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l113.15"></a><span id="l113.15" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l113.16"></a><span id="l113.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l113.17"></a><span id="l113.17"> </span>
<a href="#l113.18"></a><span id="l113.18"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l113.19"></a><span id="l113.19">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l113.20"></a><span id="l113.20"> );</span>
<a href="#l113.21"></a><span id="l113.21"> var elib = ChromeUtils.import(</span>
<a href="#l113.22"></a><span id="l113.22">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l113.23"></a><span id="l113.23"> );</span>
<a href="#l113.24"></a><span id="l113.24"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l113.25"></a><span id="l113.25"> </span>
<a href="#l113.26"></a><span id="l113.26" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l113.27"></a><span id="l113.27" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l113.28"></a><span id="l113.28" class="difflineplus">+);</span>
<a href="#l113.29"></a><span id="l113.29" class="difflineplus">+</span>
<a href="#l113.30"></a><span id="l113.30"> var folder1, folder2;</span>
<a href="#l113.31"></a><span id="l113.31"> </span>
<a href="#l113.32"></a><span id="l113.32"> var setupModule = function(module) {</span>
<a href="#l113.33"></a><span id="l113.33">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l113.34"></a><span id="l113.34">   fdh.installInto(module);</span>
<a href="#l113.35"></a><span id="l113.35" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l113.36"></a><span id="l113.36" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l113.37"></a><span id="l113.37"> </span>
<a href="#l113.38"></a><span id="l113.38">   folder1 = create_folder(&quot;CopyFromFolder&quot;);</span>
<a href="#l113.39"></a><span id="l113.39">   folder2 = create_folder(&quot;CopyToFolder&quot;);</span>
<a href="#l113.40"></a><span id="l113.40">   make_new_sets_in_folder(folder1, [{ count: 1 }]);</span>
<a href="#l113.41"></a><span id="l113.41"> };</span>
<a href="#l113.42"></a><span id="l113.42"> </span>
<a href="#l113.43"></a><span id="l113.43"> function test_copy_eml_message() {</span>
<a href="#l113.44"></a><span id="l113.44">   // First, copy an email to a folder and delete it immediately just so it shows</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l114.1"></a><span id="l114.1" class="difflineminus">--- a/mail/test/mozmill/message-window/test-eml-subject.js</span>
<a href="#l114.2"></a><span id="l114.2" class="difflineplus">+++ b/mail/test/mozmill/message-window/test-eml-subject.js</span>
<a href="#l114.3"></a><span id="l114.3" class="difflineat">@@ -4,35 +4,37 @@</span>
<a href="#l114.4"></a><span id="l114.4"> </span>
<a href="#l114.5"></a><span id="l114.5"> /**</span>
<a href="#l114.6"></a><span id="l114.6">  * Tests that opening an .eml file with empty subject works.</span>
<a href="#l114.7"></a><span id="l114.7">  */</span>
<a href="#l114.8"></a><span id="l114.8"> </span>
<a href="#l114.9"></a><span id="l114.9"> &quot;use strict&quot;;</span>
<a href="#l114.10"></a><span id="l114.10"> </span>
<a href="#l114.11"></a><span id="l114.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l114.12"></a><span id="l114.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l114.13"></a><span id="l114.13"> </span>
<a href="#l114.14"></a><span id="l114.14"> var MODULE_NAME = &quot;test-eml-subject&quot;;</span>
<a href="#l114.15"></a><span id="l114.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l114.16"></a><span id="l114.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l114.17"></a><span id="l114.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l114.18"></a><span id="l114.18"> </span>
<a href="#l114.19"></a><span id="l114.19"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l114.20"></a><span id="l114.20" class="difflineplus">+</span>
<a href="#l114.21"></a><span id="l114.21" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l114.22"></a><span id="l114.22" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l114.23"></a><span id="l114.23" class="difflineplus">+);</span>
<a href="#l114.24"></a><span id="l114.24" class="difflineplus">+</span>
<a href="#l114.25"></a><span id="l114.25"> var { StringBundle } = ChromeUtils.import(</span>
<a href="#l114.26"></a><span id="l114.26">   &quot;resource:///modules/StringBundle.js&quot;</span>
<a href="#l114.27"></a><span id="l114.27"> );</span>
<a href="#l114.28"></a><span id="l114.28"> var { AppConstants } = ChromeUtils.import(</span>
<a href="#l114.29"></a><span id="l114.29">   &quot;resource://gre/modules/AppConstants.jsm&quot;</span>
<a href="#l114.30"></a><span id="l114.30"> );</span>
<a href="#l114.31"></a><span id="l114.31"> </span>
<a href="#l114.32"></a><span id="l114.32"> var setupModule = function(module) {</span>
<a href="#l114.33"></a><span id="l114.33">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l114.34"></a><span id="l114.34">   fdh.installInto(module);</span>
<a href="#l114.35"></a><span id="l114.35" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l114.36"></a><span id="l114.36" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l114.37"></a><span id="l114.37"> };</span>
<a href="#l114.38"></a><span id="l114.38"> </span>
<a href="#l114.39"></a><span id="l114.39"> function check_eml_window_title(subject, eml) {</span>
<a href="#l114.40"></a><span id="l114.40">   let file = os.getFileForPath(os.abspath(eml, os.getFileForPath(__file__)));</span>
<a href="#l114.41"></a><span id="l114.41">   let msgc = open_message_from_file(file);</span>
<a href="#l114.42"></a><span id="l114.42"> </span>
<a href="#l114.43"></a><span id="l114.43">   let brandBundle = new StringBundle(</span>
<a href="#l114.44"></a><span id="l114.44">     &quot;chrome://branding/locale/brand.properties&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l115.1"></a><span id="l115.1" class="difflineminus">--- a/mail/test/mozmill/message-window/test-message-sidebar.js</span>
<a href="#l115.2"></a><span id="l115.2" class="difflineplus">+++ b/mail/test/mozmill/message-window/test-message-sidebar.js</span>
<a href="#l115.3"></a><span id="l115.3" class="difflineat">@@ -1,25 +1,20 @@</span>
<a href="#l115.4"></a><span id="l115.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l115.5"></a><span id="l115.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l115.6"></a><span id="l115.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l115.7"></a><span id="l115.7"> </span>
<a href="#l115.8"></a><span id="l115.8"> &quot;use strict&quot;;</span>
<a href="#l115.9"></a><span id="l115.9"> </span>
<a href="#l115.10"></a><span id="l115.10" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l115.11"></a><span id="l115.11" class="difflineplus">+/* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l115.12"></a><span id="l115.12"> </span>
<a href="#l115.13"></a><span id="l115.13"> var MODULE_NAME = &quot;test-message-sidebar&quot;;</span>
<a href="#l115.14"></a><span id="l115.14"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l115.15"></a><span id="l115.15" class="difflineminus">-var MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l115.16"></a><span id="l115.16" class="difflineminus">-</span>
<a href="#l115.17"></a><span id="l115.17" class="difflineminus">-var windowHelper;</span>
<a href="#l115.18"></a><span id="l115.18" class="difflineminus">-var mc;</span>
<a href="#l115.19"></a><span id="l115.19" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l115.20"></a><span id="l115.20"> </span>
<a href="#l115.21"></a><span id="l115.21" class="difflineminus">-function setupModule(module) {</span>
<a href="#l115.22"></a><span id="l115.22" class="difflineminus">-  windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l115.23"></a><span id="l115.23" class="difflineminus">-  mc = windowHelper.wait_for_existing_window(&quot;mail:3pane&quot;);</span>
<a href="#l115.24"></a><span id="l115.24" class="difflineminus">-  windowHelper.installInto(module);</span>
<a href="#l115.25"></a><span id="l115.25" class="difflineminus">-  windowHelper.augment_controller(mc);</span>
<a href="#l115.26"></a><span id="l115.26" class="difflineminus">-}</span>
<a href="#l115.27"></a><span id="l115.27" class="difflineplus">+var setupModule = function(module) {</span>
<a href="#l115.28"></a><span id="l115.28" class="difflineplus">+  let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l115.29"></a><span id="l115.29" class="difflineplus">+  fdh.installInto(module);</span>
<a href="#l115.30"></a><span id="l115.30" class="difflineplus">+};</span>
<a href="#l115.31"></a><span id="l115.31"> </span>
<a href="#l115.32"></a><span id="l115.32"> function test_messagepane_extension_points_exist() {</span>
<a href="#l115.33"></a><span id="l115.33">   mc.assertNode(mc.eid(&quot;messagepanewrapper&quot;));</span>
<a href="#l115.34"></a><span id="l115.34"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l116.1"></a><span id="l116.1" class="difflineminus">--- a/mail/test/mozmill/message-window/test-vcard-actions.js</span>
<a href="#l116.2"></a><span id="l116.2" class="difflineplus">+++ b/mail/test/mozmill/message-window/test-vcard-actions.js</span>
<a href="#l116.3"></a><span id="l116.3" class="difflineat">@@ -5,28 +5,29 @@</span>
<a href="#l116.4"></a><span id="l116.4"> /**</span>
<a href="#l116.5"></a><span id="l116.5">  * Tests for attached vcards.</span>
<a href="#l116.6"></a><span id="l116.6">  */</span>
<a href="#l116.7"></a><span id="l116.7"> </span>
<a href="#l116.8"></a><span id="l116.8"> &quot;use strict&quot;;</span>
<a href="#l116.9"></a><span id="l116.9"> </span>
<a href="#l116.10"></a><span id="l116.10"> /* import-globals-from ../shared-modules/test-address-book-helpers.js */</span>
<a href="#l116.11"></a><span id="l116.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l116.12"></a><span id="l116.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l116.13"></a><span id="l116.13"> </span>
<a href="#l116.14"></a><span id="l116.14"> var MODULE_NAME = &quot;test-vcard-actions&quot;;</span>
<a href="#l116.15"></a><span id="l116.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l116.16"></a><span id="l116.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l116.17"></a><span id="l116.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l116.18"></a><span id="l116.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l116.19"></a><span id="l116.19" class="difflineminus">-  &quot;address-book-helpers&quot;,</span>
<a href="#l116.20"></a><span id="l116.20" class="difflineminus">-];</span>
<a href="#l116.21"></a><span id="l116.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;address-book-helpers&quot;];</span>
<a href="#l116.22"></a><span id="l116.22"> </span>
<a href="#l116.23"></a><span id="l116.23"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l116.24"></a><span id="l116.24"> </span>
<a href="#l116.25"></a><span id="l116.25" class="difflineplus">+var {</span>
<a href="#l116.26"></a><span id="l116.26" class="difflineplus">+  close_window,</span>
<a href="#l116.27"></a><span id="l116.27" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l116.28"></a><span id="l116.28" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l116.29"></a><span id="l116.29" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l116.30"></a><span id="l116.30" class="difflineplus">+</span>
<a href="#l116.31"></a><span id="l116.31"> function setupModule(module) {</span>
<a href="#l116.32"></a><span id="l116.32">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l116.33"></a><span id="l116.33">     collector.getModule(lib).installInto(module);</span>
<a href="#l116.34"></a><span id="l116.34">   }</span>
<a href="#l116.35"></a><span id="l116.35"> }</span>
<a href="#l116.36"></a><span id="l116.36"> </span>
<a href="#l116.37"></a><span id="l116.37"> /**</span>
<a href="#l116.38"></a><span id="l116.38">  * Bug 1374779</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l117.1"></a><span id="l117.1" class="difflineminus">--- a/mail/test/mozmill/message-window/test-view-plaintext.js</span>
<a href="#l117.2"></a><span id="l117.2" class="difflineplus">+++ b/mail/test/mozmill/message-window/test-view-plaintext.js</span>
<a href="#l117.3"></a><span id="l117.3" class="difflineat">@@ -4,24 +4,28 @@</span>
<a href="#l117.4"></a><span id="l117.4"> </span>
<a href="#l117.5"></a><span id="l117.5"> /**</span>
<a href="#l117.6"></a><span id="l117.6">  * Tests that the plain text part of multipart/alternative messages can be correctly viewed.</span>
<a href="#l117.7"></a><span id="l117.7">  */</span>
<a href="#l117.8"></a><span id="l117.8"> </span>
<a href="#l117.9"></a><span id="l117.9"> &quot;use strict&quot;;</span>
<a href="#l117.10"></a><span id="l117.10"> </span>
<a href="#l117.11"></a><span id="l117.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l117.12"></a><span id="l117.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l117.13"></a><span id="l117.13"> </span>
<a href="#l117.14"></a><span id="l117.14"> var MODULE_NAME = &quot;test-view-plaintext&quot;;</span>
<a href="#l117.15"></a><span id="l117.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l117.16"></a><span id="l117.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l117.17"></a><span id="l117.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l117.18"></a><span id="l117.18" class="difflineplus">+</span>
<a href="#l117.19"></a><span id="l117.19" class="difflineplus">+var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l117.20"></a><span id="l117.20" class="difflineplus">+</span>
<a href="#l117.21"></a><span id="l117.21" class="difflineplus">+var { close_window } = ChromeUtils.import(</span>
<a href="#l117.22"></a><span id="l117.22" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l117.23"></a><span id="l117.23" class="difflineplus">+);</span>
<a href="#l117.24"></a><span id="l117.24"> </span>
<a href="#l117.25"></a><span id="l117.25"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l117.26"></a><span id="l117.26" class="difflineminus">-var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l117.27"></a><span id="l117.27"> </span>
<a href="#l117.28"></a><span id="l117.28"> function setupModule(module) {</span>
<a href="#l117.29"></a><span id="l117.29">   for (let lib of MODULE_REQUIRES) {</span>
<a href="#l117.30"></a><span id="l117.30">     collector.getModule(lib).installInto(module);</span>
<a href="#l117.31"></a><span id="l117.31">   }</span>
<a href="#l117.32"></a><span id="l117.32"> }</span>
<a href="#l117.33"></a><span id="l117.33"> </span>
<a href="#l117.34"></a><span id="l117.34"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l118.1"></a><span id="l118.1" class="difflineminus">--- a/mail/test/mozmill/newmailaccount/test-newmailaccount.js</span>
<a href="#l118.2"></a><span id="l118.2" class="difflineplus">+++ b/mail/test/mozmill/newmailaccount/test-newmailaccount.js</span>
<a href="#l118.3"></a><span id="l118.3" class="difflineat">@@ -5,34 +5,43 @@</span>
<a href="#l118.4"></a><span id="l118.4"> /**</span>
<a href="#l118.5"></a><span id="l118.5">  * Tests the get an account (account provisioning) workflow.</span>
<a href="#l118.6"></a><span id="l118.6">  */</span>
<a href="#l118.7"></a><span id="l118.7"> </span>
<a href="#l118.8"></a><span id="l118.8"> &quot;use strict&quot;;</span>
<a href="#l118.9"></a><span id="l118.9"> </span>
<a href="#l118.10"></a><span id="l118.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l118.11"></a><span id="l118.11"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l118.12"></a><span id="l118.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l118.13"></a><span id="l118.13"> /* import-globals-from ../shared-modules/test-newmailaccount-helpers.js */</span>
<a href="#l118.14"></a><span id="l118.14"> /* import-globals-from ../shared-modules/test-dom-helpers.js */</span>
<a href="#l118.15"></a><span id="l118.15"> </span>
<a href="#l118.16"></a><span id="l118.16"> var MODULE_NAME = &quot;test-newmailaccount&quot;;</span>
<a href="#l118.17"></a><span id="l118.17"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l118.18"></a><span id="l118.18"> var MODULE_REQUIRES = [</span>
<a href="#l118.19"></a><span id="l118.19">   &quot;folder-display-helpers&quot;,</span>
<a href="#l118.20"></a><span id="l118.20">   &quot;content-tab-helpers&quot;,</span>
<a href="#l118.21"></a><span id="l118.21" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l118.22"></a><span id="l118.22">   &quot;newmailaccount-helpers&quot;,</span>
<a href="#l118.23"></a><span id="l118.23">   &quot;dom-helpers&quot;,</span>
<a href="#l118.24"></a><span id="l118.24"> ];</span>
<a href="#l118.25"></a><span id="l118.25"> </span>
<a href="#l118.26"></a><span id="l118.26"> var elib = ChromeUtils.import(</span>
<a href="#l118.27"></a><span id="l118.27">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l118.28"></a><span id="l118.28"> );</span>
<a href="#l118.29"></a><span id="l118.29"> </span>
<a href="#l118.30"></a><span id="l118.30" class="difflineplus">+var {</span>
<a href="#l118.31"></a><span id="l118.31" class="difflineplus">+  close_window,</span>
<a href="#l118.32"></a><span id="l118.32" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l118.33"></a><span id="l118.33" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l118.34"></a><span id="l118.34" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l118.35"></a><span id="l118.35" class="difflineplus">+  wait_for_browser_load,</span>
<a href="#l118.36"></a><span id="l118.36" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l118.37"></a><span id="l118.37" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l118.38"></a><span id="l118.38" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l118.39"></a><span id="l118.39" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l118.40"></a><span id="l118.40" class="difflineplus">+</span>
<a href="#l118.41"></a><span id="l118.41"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l118.42"></a><span id="l118.42"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l118.43"></a><span id="l118.43">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l118.44"></a><span id="l118.44"> );</span>
<a href="#l118.45"></a><span id="l118.45"> var { HttpServer } = ChromeUtils.import(</span>
<a href="#l118.46"></a><span id="l118.46">   &quot;chrome://mozmill/content/stdlib/httpd.jsm&quot;</span>
<a href="#l118.47"></a><span id="l118.47"> );</span>
<a href="#l118.48"></a><span id="l118.48"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l119.1"></a><span id="l119.1" class="difflineminus">--- a/mail/test/mozmill/notification/test-notification.js</span>
<a href="#l119.2"></a><span id="l119.2" class="difflineplus">+++ b/mail/test/mozmill/notification/test-notification.js</span>
<a href="#l119.3"></a><span id="l119.3" class="difflineat">@@ -1,20 +1,26 @@</span>
<a href="#l119.4"></a><span id="l119.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l119.5"></a><span id="l119.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l119.6"></a><span id="l119.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l119.7"></a><span id="l119.7"> </span>
<a href="#l119.8"></a><span id="l119.8"> &quot;use strict&quot;;</span>
<a href="#l119.9"></a><span id="l119.9"> </span>
<a href="#l119.10"></a><span id="l119.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l119.11"></a><span id="l119.11" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l119.12"></a><span id="l119.12"> </span>
<a href="#l119.13"></a><span id="l119.13"> var MODULE_NAME = &quot;test-notifications&quot;;</span>
<a href="#l119.14"></a><span id="l119.14"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l119.15"></a><span id="l119.15" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l119.16"></a><span id="l119.16" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l119.17"></a><span id="l119.17" class="difflineplus">+</span>
<a href="#l119.18"></a><span id="l119.18" class="difflineplus">+var {</span>
<a href="#l119.19"></a><span id="l119.19" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l119.20"></a><span id="l119.20" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l119.21"></a><span id="l119.21" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l119.22"></a><span id="l119.22" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l119.23"></a><span id="l119.23" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l119.24"></a><span id="l119.24"> </span>
<a href="#l119.25"></a><span id="l119.25"> var { XPCOMUtils } = ChromeUtils.import(</span>
<a href="#l119.26"></a><span id="l119.26">   &quot;resource://gre/modules/XPCOMUtils.jsm&quot;</span>
<a href="#l119.27"></a><span id="l119.27"> );</span>
<a href="#l119.28"></a><span id="l119.28"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l119.29"></a><span id="l119.29"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l119.30"></a><span id="l119.30">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l119.31"></a><span id="l119.31"> );</span>
<a href="#l119.32"></a><span id="l119.32" class="difflineat">@@ -102,19 +108,16 @@ var gMockAlertsServiceFactory = {</span>
<a href="#l119.33"></a><span id="l119.33">     return gMockAlertsService;</span>
<a href="#l119.34"></a><span id="l119.34">   },</span>
<a href="#l119.35"></a><span id="l119.35"> };</span>
<a href="#l119.36"></a><span id="l119.36"> </span>
<a href="#l119.37"></a><span id="l119.37"> function setupModule(module) {</span>
<a href="#l119.38"></a><span id="l119.38">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l119.39"></a><span id="l119.39">   fdh.installInto(module);</span>
<a href="#l119.40"></a><span id="l119.40"> </span>
<a href="#l119.41"></a><span id="l119.41" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l119.42"></a><span id="l119.42" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l119.43"></a><span id="l119.43" class="difflineminus">-</span>
<a href="#l119.44"></a><span id="l119.44">   // Register the mock alerts service</span>
<a href="#l119.45"></a><span id="l119.45">   Components.manager</span>
<a href="#l119.46"></a><span id="l119.46">     .QueryInterface(Ci.nsIComponentRegistrar)</span>
<a href="#l119.47"></a><span id="l119.47">     .registerFactory(</span>
<a href="#l119.48"></a><span id="l119.48">       Components.ID(&quot;{1bda6c33-b089-43df-a8fd-111907d6385a}&quot;),</span>
<a href="#l119.49"></a><span id="l119.49">       &quot;Mock Alerts Service&quot;,</span>
<a href="#l119.50"></a><span id="l119.50">       &quot;@mozilla.org/system-alerts-service;1&quot;,</span>
<a href="#l119.51"></a><span id="l119.51">       gMockAlertsServiceFactory</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l120.1"></a><span id="l120.1" class="difflineminus">--- a/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js</span>
<a href="#l120.2"></a><span id="l120.2" class="difflineplus">+++ b/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js</span>
<a href="#l120.3"></a><span id="l120.3" class="difflineat">@@ -6,27 +6,29 @@</span>
<a href="#l120.4"></a><span id="l120.4">  * Tests that the main menu will NOT be collapsed by default if Thunderbird</span>
<a href="#l120.5"></a><span id="l120.5">  * starts with no accounts created, and mail.main_menu.collapse_by_default set</span>
<a href="#l120.6"></a><span id="l120.6">  * to false.</span>
<a href="#l120.7"></a><span id="l120.7">  */</span>
<a href="#l120.8"></a><span id="l120.8"> </span>
<a href="#l120.9"></a><span id="l120.9"> &quot;use strict&quot;;</span>
<a href="#l120.10"></a><span id="l120.10"> </span>
<a href="#l120.11"></a><span id="l120.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l120.12"></a><span id="l120.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l120.13"></a><span id="l120.13"> </span>
<a href="#l120.14"></a><span id="l120.14"> var MODULE_NAME = &quot;test-override-mainmenu-collapse&quot;;</span>
<a href="#l120.15"></a><span id="l120.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l120.16"></a><span id="l120.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l120.17"></a><span id="l120.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l120.18"></a><span id="l120.18" class="difflineplus">+</span>
<a href="#l120.19"></a><span id="l120.19" class="difflineplus">+var { close_window, wait_for_existing_window } = ChromeUtils.import(</span>
<a href="#l120.20"></a><span id="l120.20" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l120.21"></a><span id="l120.21" class="difflineplus">+);</span>
<a href="#l120.22"></a><span id="l120.22"> </span>
<a href="#l120.23"></a><span id="l120.23"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l120.24"></a><span id="l120.24"> </span>
<a href="#l120.25"></a><span id="l120.25"> function setupModule(module) {</span>
<a href="#l120.26"></a><span id="l120.26">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l120.27"></a><span id="l120.27" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l120.28"></a><span id="l120.28"> }</span>
<a href="#l120.29"></a><span id="l120.29"> </span>
<a href="#l120.30"></a><span id="l120.30"> function test_main_menu_not_collapsed() {</span>
<a href="#l120.31"></a><span id="l120.31">   // Due to random oranges on slower machines, we need to ensure that startup</span>
<a href="#l120.32"></a><span id="l120.32">   // is complete before running this test.</span>
<a href="#l120.33"></a><span id="l120.33">   let done = false;</span>
<a href="#l120.34"></a><span id="l120.34">   let observer = {</span>
<a href="#l120.35"></a><span id="l120.35">     observe(aSubject, aTopic, aData) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l121.1"></a><span id="l121.1" class="difflineminus">--- a/mail/test/mozmill/pref-window/test-font-chooser.js</span>
<a href="#l121.2"></a><span id="l121.2" class="difflineplus">+++ b/mail/test/mozmill/pref-window/test-font-chooser.js</span>
<a href="#l121.3"></a><span id="l121.3" class="difflineat">@@ -10,27 +10,29 @@</span>
<a href="#l121.4"></a><span id="l121.4">  * font.name-list.&lt;style&gt;.&lt;language&gt;.</span>
<a href="#l121.5"></a><span id="l121.5">  */</span>
<a href="#l121.6"></a><span id="l121.6"> </span>
<a href="#l121.7"></a><span id="l121.7"> &quot;use strict&quot;;</span>
<a href="#l121.8"></a><span id="l121.8"> </span>
<a href="#l121.9"></a><span id="l121.9"> /* import-globals-from ../shared-modules/test-content-tab-helpers.js */</span>
<a href="#l121.10"></a><span id="l121.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l121.11"></a><span id="l121.11"> /* import-globals-from ../shared-modules/test-pref-window-helpers.js */</span>
<a href="#l121.12"></a><span id="l121.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l121.13"></a><span id="l121.13"> </span>
<a href="#l121.14"></a><span id="l121.14"> var MODULE_NAME = &quot;test-font-chooser&quot;;</span>
<a href="#l121.15"></a><span id="l121.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l121.16"></a><span id="l121.16"> var MODULE_REQUIRES = [</span>
<a href="#l121.17"></a><span id="l121.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l121.18"></a><span id="l121.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l121.19"></a><span id="l121.19">   &quot;pref-window-helpers&quot;,</span>
<a href="#l121.20"></a><span id="l121.20">   &quot;content-tab-helpers&quot;,</span>
<a href="#l121.21"></a><span id="l121.21"> ];</span>
<a href="#l121.22"></a><span id="l121.22"> </span>
<a href="#l121.23"></a><span id="l121.23" class="difflineplus">+var { wait_for_frame_load } = ChromeUtils.import(</span>
<a href="#l121.24"></a><span id="l121.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l121.25"></a><span id="l121.25" class="difflineplus">+);</span>
<a href="#l121.26"></a><span id="l121.26" class="difflineplus">+</span>
<a href="#l121.27"></a><span id="l121.27"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l121.28"></a><span id="l121.28"> var { AppConstants } = ChromeUtils.import(</span>
<a href="#l121.29"></a><span id="l121.29">   &quot;resource://gre/modules/AppConstants.jsm&quot;</span>
<a href="#l121.30"></a><span id="l121.30"> );</span>
<a href="#l121.31"></a><span id="l121.31"> var { Preferences } = ChromeUtils.import(</span>
<a href="#l121.32"></a><span id="l121.32">   &quot;resource://gre/modules/Preferences.jsm&quot;</span>
<a href="#l121.33"></a><span id="l121.33"> );</span>
<a href="#l121.34"></a><span id="l121.34"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l122.1"></a><span id="l122.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-display-issues.js</span>
<a href="#l122.2"></a><span id="l122.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-display-issues.js</span>
<a href="#l122.3"></a><span id="l122.3" class="difflineat">@@ -9,27 +9,29 @@</span>
<a href="#l122.4"></a><span id="l122.4">  * the unit test machines (see also testing/machine-configuration.json).</span>
<a href="#l122.5"></a><span id="l122.5">  */</span>
<a href="#l122.6"></a><span id="l122.6"> </span>
<a href="#l122.7"></a><span id="l122.7"> &quot;use strict&quot;;</span>
<a href="#l122.8"></a><span id="l122.8"> </span>
<a href="#l122.9"></a><span id="l122.9"> /* import-globals-from ../shared-modules/test-dom-helpers.js */</span>
<a href="#l122.10"></a><span id="l122.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l122.11"></a><span id="l122.11"> /* import-globals-from ../shared-modules/test-quick-filter-bar-helpers.js */</span>
<a href="#l122.12"></a><span id="l122.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l122.13"></a><span id="l122.13"> </span>
<a href="#l122.14"></a><span id="l122.14"> var MODULE_NAME = &quot;test-display-issues&quot;;</span>
<a href="#l122.15"></a><span id="l122.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l122.16"></a><span id="l122.16"> var MODULE_REQUIRES = [</span>
<a href="#l122.17"></a><span id="l122.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l122.18"></a><span id="l122.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l122.19"></a><span id="l122.19">   &quot;quick-filter-bar-helpers&quot;,</span>
<a href="#l122.20"></a><span id="l122.20">   &quot;dom-helpers&quot;,</span>
<a href="#l122.21"></a><span id="l122.21"> ];</span>
<a href="#l122.22"></a><span id="l122.22"> </span>
<a href="#l122.23"></a><span id="l122.23" class="difflineplus">+var { close_window, resize_to } = ChromeUtils.import(</span>
<a href="#l122.24"></a><span id="l122.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l122.25"></a><span id="l122.25" class="difflineplus">+);</span>
<a href="#l122.26"></a><span id="l122.26" class="difflineplus">+</span>
<a href="#l122.27"></a><span id="l122.27"> var folder;</span>
<a href="#l122.28"></a><span id="l122.28"> var setUnstarred, setStarred;</span>
<a href="#l122.29"></a><span id="l122.29"> var gOriginalPaneWidth;</span>
<a href="#l122.30"></a><span id="l122.30"> </span>
<a href="#l122.31"></a><span id="l122.31"> var gEnlargedWindowWidth = 1260;</span>
<a href="#l122.32"></a><span id="l122.32"> var gShrunkenWindowWidth = 600;</span>
<a href="#l122.33"></a><span id="l122.33"> </span>
<a href="#l122.34"></a><span id="l122.34"> var gTodayPane;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l123.1"></a><span id="l123.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-filter-logic.js</span>
<a href="#l123.2"></a><span id="l123.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-filter-logic.js</span>
<a href="#l123.3"></a><span id="l123.3" class="difflineat">@@ -6,29 +6,23 @@</span>
<a href="#l123.4"></a><span id="l123.4">  * Verify that we are constructing the filters that we expect and that they</span>
<a href="#l123.5"></a><span id="l123.5">  * are hooked up to the right buttons.</span>
<a href="#l123.6"></a><span id="l123.6">  */</span>
<a href="#l123.7"></a><span id="l123.7"> </span>
<a href="#l123.8"></a><span id="l123.8"> &quot;use strict&quot;;</span>
<a href="#l123.9"></a><span id="l123.9"> </span>
<a href="#l123.10"></a><span id="l123.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l123.11"></a><span id="l123.11"> /* import-globals-from ../shared-modules/test-quick-filter-bar-helpers.js */</span>
<a href="#l123.12"></a><span id="l123.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l123.13"></a><span id="l123.13"> </span>
<a href="#l123.14"></a><span id="l123.14"> var MODULE_NAME = &quot;test-filter-logic&quot;;</span>
<a href="#l123.15"></a><span id="l123.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l123.16"></a><span id="l123.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l123.17"></a><span id="l123.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l123.18"></a><span id="l123.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l123.19"></a><span id="l123.19" class="difflineminus">-  &quot;quick-filter-bar-helpers&quot;,</span>
<a href="#l123.20"></a><span id="l123.20" class="difflineminus">-];</span>
<a href="#l123.21"></a><span id="l123.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;quick-filter-bar-helpers&quot;];</span>
<a href="#l123.22"></a><span id="l123.22"> </span>
<a href="#l123.23"></a><span id="l123.23"> function setupModule(module) {</span>
<a href="#l123.24"></a><span id="l123.24">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l123.25"></a><span id="l123.25" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l123.26"></a><span id="l123.26">   collector.getModule(&quot;quick-filter-bar-helpers&quot;).installInto(module);</span>
<a href="#l123.27"></a><span id="l123.27"> }</span>
<a href="#l123.28"></a><span id="l123.28"> </span>
<a href="#l123.29"></a><span id="l123.29"> function test_filter_unread() {</span>
<a href="#l123.30"></a><span id="l123.30">   let folder = create_folder(&quot;QuickFilterBarFilterUnread&quot;);</span>
<a href="#l123.31"></a><span id="l123.31">   let [unread, read] = make_new_sets_in_folder(folder, [</span>
<a href="#l123.32"></a><span id="l123.32">     { count: 1 },</span>
<a href="#l123.33"></a><span id="l123.33">     { count: 1 },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l124.1"></a><span id="l124.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js</span>
<a href="#l124.2"></a><span id="l124.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-keyboard-interface.js</span>
<a href="#l124.3"></a><span id="l124.3" class="difflineat">@@ -8,33 +8,26 @@</span>
<a href="#l124.4"></a><span id="l124.4">  * test-toggle-bar.js, but we test that repeatedly hitting control-shift-k</span>
<a href="#l124.5"></a><span id="l124.5">  * selects the text entered in the quick filter bar.</span>
<a href="#l124.6"></a><span id="l124.6">  */</span>
<a href="#l124.7"></a><span id="l124.7"> </span>
<a href="#l124.8"></a><span id="l124.8"> &quot;use strict&quot;;</span>
<a href="#l124.9"></a><span id="l124.9"> </span>
<a href="#l124.10"></a><span id="l124.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l124.11"></a><span id="l124.11"> /* import-globals-from ../shared-modules/test-quick-filter-bar-helpers.js */</span>
<a href="#l124.12"></a><span id="l124.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l124.13"></a><span id="l124.13"> </span>
<a href="#l124.14"></a><span id="l124.14"> var MODULE_NAME = &quot;test-keyboard-interface&quot;;</span>
<a href="#l124.15"></a><span id="l124.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l124.16"></a><span id="l124.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l124.17"></a><span id="l124.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l124.18"></a><span id="l124.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l124.19"></a><span id="l124.19" class="difflineminus">-  &quot;quick-filter-bar-helpers&quot;,</span>
<a href="#l124.20"></a><span id="l124.20" class="difflineminus">-];</span>
<a href="#l124.21"></a><span id="l124.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;quick-filter-bar-helpers&quot;];</span>
<a href="#l124.22"></a><span id="l124.22"> </span>
<a href="#l124.23"></a><span id="l124.23"> var folder;</span>
<a href="#l124.24"></a><span id="l124.24"> </span>
<a href="#l124.25"></a><span id="l124.25"> function setupModule(module) {</span>
<a href="#l124.26"></a><span id="l124.26">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l124.27"></a><span id="l124.27">   fdh.installInto(module);</span>
<a href="#l124.28"></a><span id="l124.28" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l124.29"></a><span id="l124.29" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l124.30"></a><span id="l124.30">   let qfb = collector.getModule(&quot;quick-filter-bar-helpers&quot;);</span>
<a href="#l124.31"></a><span id="l124.31">   qfb.installInto(module);</span>
<a href="#l124.32"></a><span id="l124.32"> </span>
<a href="#l124.33"></a><span id="l124.33">   folder = create_folder(&quot;QuickFilterBarKeyboardInterface&quot;);</span>
<a href="#l124.34"></a><span id="l124.34">   // we need a message so we can select it so we can find in message</span>
<a href="#l124.35"></a><span id="l124.35">   make_new_sets_in_folder(folder, [{ count: 1 }]);</span>
<a href="#l124.36"></a><span id="l124.36">   be_in_folder(folder);</span>
<a href="#l124.37"></a><span id="l124.37"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l125.1"></a><span id="l125.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js</span>
<a href="#l125.2"></a><span id="l125.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-sticky-filter-logic.js</span>
<a href="#l125.3"></a><span id="l125.3" class="difflineat">@@ -6,31 +6,24 @@</span>
<a href="#l125.4"></a><span id="l125.4">  * Sticky logic only needs to test the general sticky logic plus any filters</span>
<a href="#l125.5"></a><span id="l125.5">  *  with custom propagateState implementations (currently: tags, text filter.)</span>
<a href="#l125.6"></a><span id="l125.6">  */</span>
<a href="#l125.7"></a><span id="l125.7"> </span>
<a href="#l125.8"></a><span id="l125.8"> &quot;use strict&quot;;</span>
<a href="#l125.9"></a><span id="l125.9"> </span>
<a href="#l125.10"></a><span id="l125.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l125.11"></a><span id="l125.11"> /* import-globals-from ../shared-modules/test-quick-filter-bar-helpers.js */</span>
<a href="#l125.12"></a><span id="l125.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l125.13"></a><span id="l125.13"> </span>
<a href="#l125.14"></a><span id="l125.14"> var MODULE_NAME = &quot;test-sticky-filter-logic&quot;;</span>
<a href="#l125.15"></a><span id="l125.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l125.16"></a><span id="l125.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l125.17"></a><span id="l125.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l125.18"></a><span id="l125.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l125.19"></a><span id="l125.19" class="difflineminus">-  &quot;quick-filter-bar-helpers&quot;,</span>
<a href="#l125.20"></a><span id="l125.20" class="difflineminus">-];</span>
<a href="#l125.21"></a><span id="l125.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;quick-filter-bar-helpers&quot;];</span>
<a href="#l125.22"></a><span id="l125.22"> </span>
<a href="#l125.23"></a><span id="l125.23"> function setupModule(module) {</span>
<a href="#l125.24"></a><span id="l125.24">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l125.25"></a><span id="l125.25">   fdh.installInto(module);</span>
<a href="#l125.26"></a><span id="l125.26" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l125.27"></a><span id="l125.27" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l125.28"></a><span id="l125.28">   let qfb = collector.getModule(&quot;quick-filter-bar-helpers&quot;);</span>
<a href="#l125.29"></a><span id="l125.29">   qfb.installInto(module);</span>
<a href="#l125.30"></a><span id="l125.30"> }</span>
<a href="#l125.31"></a><span id="l125.31"> </span>
<a href="#l125.32"></a><span id="l125.32"> /**</span>
<a href="#l125.33"></a><span id="l125.33">  * Persist the current settings through folder change and inherit into a new tab.</span>
<a href="#l125.34"></a><span id="l125.34">  */</span>
<a href="#l125.35"></a><span id="l125.35"> function test_sticky_basics() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l126.1"></a><span id="l126.1" class="difflineminus">--- a/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js</span>
<a href="#l126.2"></a><span id="l126.2" class="difflineplus">+++ b/mail/test/mozmill/quick-filter-bar/test-toggle-bar.js</span>
<a href="#l126.3"></a><span id="l126.3" class="difflineat">@@ -6,34 +6,27 @@</span>
<a href="#l126.4"></a><span id="l126.4">  * Test that the message filter bar toggles into and out of existence and</span>
<a href="#l126.5"></a><span id="l126.5">  * states are updated as appropriate.</span>
<a href="#l126.6"></a><span id="l126.6">  */</span>
<a href="#l126.7"></a><span id="l126.7"> </span>
<a href="#l126.8"></a><span id="l126.8"> &quot;use strict&quot;;</span>
<a href="#l126.9"></a><span id="l126.9"> </span>
<a href="#l126.10"></a><span id="l126.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l126.11"></a><span id="l126.11"> /* import-globals-from ../shared-modules/test-quick-filter-bar-helpers.js */</span>
<a href="#l126.12"></a><span id="l126.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l126.13"></a><span id="l126.13"> </span>
<a href="#l126.14"></a><span id="l126.14"> var MODULE_NAME = &quot;test-toggle-bar&quot;;</span>
<a href="#l126.15"></a><span id="l126.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l126.16"></a><span id="l126.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l126.17"></a><span id="l126.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l126.18"></a><span id="l126.18" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l126.19"></a><span id="l126.19" class="difflineminus">-  &quot;quick-filter-bar-helpers&quot;,</span>
<a href="#l126.20"></a><span id="l126.20" class="difflineminus">-];</span>
<a href="#l126.21"></a><span id="l126.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;quick-filter-bar-helpers&quot;];</span>
<a href="#l126.22"></a><span id="l126.22"> </span>
<a href="#l126.23"></a><span id="l126.23"> var folder;</span>
<a href="#l126.24"></a><span id="l126.24"> var setUnstarred, setStarred;</span>
<a href="#l126.25"></a><span id="l126.25"> </span>
<a href="#l126.26"></a><span id="l126.26"> function setupModule(module) {</span>
<a href="#l126.27"></a><span id="l126.27">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l126.28"></a><span id="l126.28">   fdh.installInto(module);</span>
<a href="#l126.29"></a><span id="l126.29" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l126.30"></a><span id="l126.30" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l126.31"></a><span id="l126.31">   let qfb = collector.getModule(&quot;quick-filter-bar-helpers&quot;);</span>
<a href="#l126.32"></a><span id="l126.32">   qfb.installInto(module);</span>
<a href="#l126.33"></a><span id="l126.33"> </span>
<a href="#l126.34"></a><span id="l126.34">   folder = create_folder(&quot;QuickFilterBarToggleBar&quot;);</span>
<a href="#l126.35"></a><span id="l126.35">   [setUnstarred, setStarred] = make_new_sets_in_folder(folder, [</span>
<a href="#l126.36"></a><span id="l126.36">     { count: 1 },</span>
<a href="#l126.37"></a><span id="l126.37">     { count: 1 },</span>
<a href="#l126.38"></a><span id="l126.38">   ]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l127.1"></a><span id="l127.1" class="difflineminus">--- a/mail/test/mozmill/search-window/test-search-window.js</span>
<a href="#l127.2"></a><span id="l127.2" class="difflineplus">+++ b/mail/test/mozmill/search-window/test-search-window.js</span>
<a href="#l127.3"></a><span id="l127.3" class="difflineat">@@ -6,35 +6,37 @@</span>
<a href="#l127.4"></a><span id="l127.4">  * Tests:</span>
<a href="#l127.5"></a><span id="l127.5">  * - https://bugzilla.mozilla.org/show_bug.cgi?id=474701#c96 first para</span>
<a href="#l127.6"></a><span id="l127.6">  */</span>
<a href="#l127.7"></a><span id="l127.7"> </span>
<a href="#l127.8"></a><span id="l127.8"> &quot;use strict&quot;;</span>
<a href="#l127.9"></a><span id="l127.9"> </span>
<a href="#l127.10"></a><span id="l127.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l127.11"></a><span id="l127.11"> /* import-globals-from ../shared-modules/test-search-window-helpers.js */</span>
<a href="#l127.12"></a><span id="l127.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l127.13"></a><span id="l127.13"> </span>
<a href="#l127.14"></a><span id="l127.14"> var MODULE_NAME = &quot;test-search-window&quot;;</span>
<a href="#l127.15"></a><span id="l127.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l127.16"></a><span id="l127.16" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l127.17"></a><span id="l127.17" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l127.18"></a><span id="l127.18" class="difflineminus">-  &quot;search-window-helpers&quot;,</span>
<a href="#l127.19"></a><span id="l127.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l127.20"></a><span id="l127.20" class="difflineminus">-];</span>
<a href="#l127.21"></a><span id="l127.21" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;search-window-helpers&quot;];</span>
<a href="#l127.22"></a><span id="l127.22"> </span>
<a href="#l127.23"></a><span id="l127.23"> var elib = ChromeUtils.import(</span>
<a href="#l127.24"></a><span id="l127.24">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l127.25"></a><span id="l127.25"> );</span>
<a href="#l127.26"></a><span id="l127.26"> </span>
<a href="#l127.27"></a><span id="l127.27" class="difflineplus">+var {</span>
<a href="#l127.28"></a><span id="l127.28" class="difflineplus">+  plan_for_modal_dialog,</span>
<a href="#l127.29"></a><span id="l127.29" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l127.30"></a><span id="l127.30" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l127.31"></a><span id="l127.31" class="difflineplus">+  wait_for_modal_dialog,</span>
<a href="#l127.32"></a><span id="l127.32" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l127.33"></a><span id="l127.33" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l127.34"></a><span id="l127.34" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l127.35"></a><span id="l127.35" class="difflineplus">+</span>
<a href="#l127.36"></a><span id="l127.36"> function setupModule(module) {</span>
<a href="#l127.37"></a><span id="l127.37">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l127.38"></a><span id="l127.38">   fdh.installInto(module);</span>
<a href="#l127.39"></a><span id="l127.39" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l127.40"></a><span id="l127.40" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l127.41"></a><span id="l127.41">   let sh = collector.getModule(&quot;search-window-helpers&quot;);</span>
<a href="#l127.42"></a><span id="l127.42">   sh.installInto(module);</span>
<a href="#l127.43"></a><span id="l127.43"> }</span>
<a href="#l127.44"></a><span id="l127.44"> </span>
<a href="#l127.45"></a><span id="l127.45"> var folder, setFoo, setBar, setFooBar;</span>
<a href="#l127.46"></a><span id="l127.46"> </span>
<a href="#l127.47"></a><span id="l127.47"> // Number of messages to open for multi-message tests</span>
<a href="#l127.48"></a><span id="l127.48"> var NUM_MESSAGES_TO_OPEN = 5;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l128.1"></a><span id="l128.1" class="difflineminus">--- a/mail/test/mozmill/session-store/test-session-store.js</span>
<a href="#l128.2"></a><span id="l128.2" class="difflineplus">+++ b/mail/test/mozmill/session-store/test-session-store.js</span>
<a href="#l128.3"></a><span id="l128.3" class="difflineat">@@ -5,26 +5,33 @@</span>
<a href="#l128.4"></a><span id="l128.4"> /*</span>
<a href="#l128.5"></a><span id="l128.5">  * Session Storage Tests. Session Restoration Tests are currently implemented in</span>
<a href="#l128.6"></a><span id="l128.6">  * folder-display/test-message-pane-visibility.js.</span>
<a href="#l128.7"></a><span id="l128.7">  */</span>
<a href="#l128.8"></a><span id="l128.8"> </span>
<a href="#l128.9"></a><span id="l128.9"> &quot;use strict&quot;;</span>
<a href="#l128.10"></a><span id="l128.10"> </span>
<a href="#l128.11"></a><span id="l128.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l128.12"></a><span id="l128.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l128.13"></a><span id="l128.13"> </span>
<a href="#l128.14"></a><span id="l128.14"> var MODULE_NAME = &quot;test-session-store&quot;;</span>
<a href="#l128.15"></a><span id="l128.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l128.16"></a><span id="l128.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l128.17"></a><span id="l128.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l128.18"></a><span id="l128.18"> </span>
<a href="#l128.19"></a><span id="l128.19"> var controller = ChromeUtils.import(</span>
<a href="#l128.20"></a><span id="l128.20">   &quot;chrome://mozmill/content/modules/controller.jsm&quot;</span>
<a href="#l128.21"></a><span id="l128.21"> );</span>
<a href="#l128.22"></a><span id="l128.22"> </span>
<a href="#l128.23"></a><span id="l128.23" class="difflineplus">+var {</span>
<a href="#l128.24"></a><span id="l128.24" class="difflineplus">+  close_window,</span>
<a href="#l128.25"></a><span id="l128.25" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l128.26"></a><span id="l128.26" class="difflineplus">+  plan_for_window_close,</span>
<a href="#l128.27"></a><span id="l128.27" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l128.28"></a><span id="l128.28" class="difflineplus">+  wait_for_window_close,</span>
<a href="#l128.29"></a><span id="l128.29" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l128.30"></a><span id="l128.30" class="difflineplus">+</span>
<a href="#l128.31"></a><span id="l128.31"> var { IOUtils } = ChromeUtils.import(&quot;resource:///modules/IOUtils.js&quot;);</span>
<a href="#l128.32"></a><span id="l128.32"> var { FileUtils } = ChromeUtils.import(&quot;resource://gre/modules/FileUtils.jsm&quot;);</span>
<a href="#l128.33"></a><span id="l128.33"> var { SessionStoreManager } = ChromeUtils.import(</span>
<a href="#l128.34"></a><span id="l128.34">   &quot;resource:///modules/SessionStoreManager.jsm&quot;</span>
<a href="#l128.35"></a><span id="l128.35"> );</span>
<a href="#l128.36"></a><span id="l128.36"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l128.37"></a><span id="l128.37"> </span>
<a href="#l128.38"></a><span id="l128.38"> var folderA, folderB;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l129.1"></a><span id="l129.1">rename from mail/test/mozmill/shared-modules/test-window-helpers.js</span>
<a href="#l129.2"></a><span id="l129.2">rename to mail/test/mozmill/shared-modules/WindowHelpers.jsm</span>
<a href="#l129.3"></a><span id="l129.3" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-window-helpers.js</span>
<a href="#l129.4"></a><span id="l129.4" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/WindowHelpers.jsm</span>
<a href="#l129.5"></a><span id="l129.5" class="difflineat">@@ -1,15 +1,37 @@</span>
<a href="#l129.6"></a><span id="l129.6"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l129.7"></a><span id="l129.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l129.8"></a><span id="l129.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l129.9"></a><span id="l129.9"> </span>
<a href="#l129.10"></a><span id="l129.10"> &quot;use strict&quot;;</span>
<a href="#l129.11"></a><span id="l129.11"> </span>
<a href="#l129.12"></a><span id="l129.12" class="difflineminus">-var MODULE_NAME = &quot;window-helpers&quot;;</span>
<a href="#l129.13"></a><span id="l129.13" class="difflineplus">+this.EXPORTED_SYMBOLS = [</span>
<a href="#l129.14"></a><span id="l129.14" class="difflineplus">+  // These are used by test-folder-display-helpers.js and shouldn't really be</span>
<a href="#l129.15"></a><span id="l129.15" class="difflineplus">+  // exported, but it's convenient right now.</span>
<a href="#l129.16"></a><span id="l129.16" class="difflineplus">+  &quot;captureWindowStatesForErrorReporting&quot;,</span>
<a href="#l129.17"></a><span id="l129.17" class="difflineplus">+  &quot;getWindowTypeForXulWindow&quot;,</span>
<a href="#l129.18"></a><span id="l129.18" class="difflineplus">+  &quot;hereIsMarkAction&quot;,</span>
<a href="#l129.19"></a><span id="l129.19" class="difflineplus">+</span>
<a href="#l129.20"></a><span id="l129.20" class="difflineplus">+  &quot;plan_for_new_window&quot;,</span>
<a href="#l129.21"></a><span id="l129.21" class="difflineplus">+  &quot;wait_for_new_window&quot;,</span>
<a href="#l129.22"></a><span id="l129.22" class="difflineplus">+  &quot;plan_for_modal_dialog&quot;,</span>
<a href="#l129.23"></a><span id="l129.23" class="difflineplus">+  &quot;wait_for_modal_dialog&quot;,</span>
<a href="#l129.24"></a><span id="l129.24" class="difflineplus">+  &quot;plan_for_window_close&quot;,</span>
<a href="#l129.25"></a><span id="l129.25" class="difflineplus">+  &quot;wait_for_window_close&quot;,</span>
<a href="#l129.26"></a><span id="l129.26" class="difflineplus">+  &quot;close_window&quot;,</span>
<a href="#l129.27"></a><span id="l129.27" class="difflineplus">+  &quot;wait_for_existing_window&quot;,</span>
<a href="#l129.28"></a><span id="l129.28" class="difflineplus">+  &quot;wait_for_window_focused&quot;,</span>
<a href="#l129.29"></a><span id="l129.29" class="difflineplus">+  &quot;wait_for_browser_load&quot;,</span>
<a href="#l129.30"></a><span id="l129.30" class="difflineplus">+  &quot;wait_for_frame_load&quot;,</span>
<a href="#l129.31"></a><span id="l129.31" class="difflineplus">+  &quot;plan_for_observable_event&quot;,</span>
<a href="#l129.32"></a><span id="l129.32" class="difflineplus">+  &quot;wait_for_observable_event&quot;,</span>
<a href="#l129.33"></a><span id="l129.33" class="difflineplus">+  &quot;resize_to&quot;,</span>
<a href="#l129.34"></a><span id="l129.34" class="difflineplus">+  &quot;augment_controller&quot;,</span>
<a href="#l129.35"></a><span id="l129.35" class="difflineplus">+];</span>
<a href="#l129.36"></a><span id="l129.36"> </span>
<a href="#l129.37"></a><span id="l129.37"> var { fixIterator } = ChromeUtils.import(</span>
<a href="#l129.38"></a><span id="l129.38">   &quot;resource:///modules/iteratorUtils.jsm&quot;</span>
<a href="#l129.39"></a><span id="l129.39"> );</span>
<a href="#l129.40"></a><span id="l129.40"> var { NetUtil } = ChromeUtils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l129.41"></a><span id="l129.41"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l129.42"></a><span id="l129.42"> </span>
<a href="#l129.43"></a><span id="l129.43"> var controller = ChromeUtils.import(</span>
<a href="#l129.44"></a><span id="l129.44" class="difflineat">@@ -51,18 +73,16 @@ var WINDOW_CLOSE_TIMEOUT_MS = 10000;</span>
<a href="#l129.45"></a><span id="l129.45">  */</span>
<a href="#l129.46"></a><span id="l129.46"> var WINDOW_CLOSE_CHECK_INTERVAL_MS = 100;</span>
<a href="#l129.47"></a><span id="l129.47"> </span>
<a href="#l129.48"></a><span id="l129.48"> /**</span>
<a href="#l129.49"></a><span id="l129.49">  * Timeout for focusing a window.  Only really an issue on linux.</span>
<a href="#l129.50"></a><span id="l129.50">  */</span>
<a href="#l129.51"></a><span id="l129.51"> var WINDOW_FOCUS_TIMEOUT_MS = 10000;</span>
<a href="#l129.52"></a><span id="l129.52"> </span>
<a href="#l129.53"></a><span id="l129.53" class="difflineminus">-var hiddenWindow = Services.appShell.hiddenDOMWindow;</span>
<a href="#l129.54"></a><span id="l129.54" class="difflineminus">-</span>
<a href="#l129.55"></a><span id="l129.55"> // Have a dummy mark_action function in case test-folder-display-helpers does</span>
<a href="#l129.56"></a><span id="l129.56"> // not provide us with one.</span>
<a href="#l129.57"></a><span id="l129.57"> var mark_action = function dummy_mark_action() {};</span>
<a href="#l129.58"></a><span id="l129.58"> var mark_failure = function dummy_mark_failure() {};</span>
<a href="#l129.59"></a><span id="l129.59"> var normalize_for_json = function dummy_normalize_for_json() {};</span>
<a href="#l129.60"></a><span id="l129.60"> /**</span>
<a href="#l129.61"></a><span id="l129.61">  * This is used by test-folder-display-helpers to provide us with a reference</span>
<a href="#l129.62"></a><span id="l129.62">  * to logHelper's mark_action because of ugliness in the module system.</span>
<a href="#l129.63"></a><span id="l129.63" class="difflineat">@@ -72,38 +92,16 @@ function hereIsMarkAction(</span>
<a href="#l129.64"></a><span id="l129.64">   mark_failure_impl,</span>
<a href="#l129.65"></a><span id="l129.65">   normalize_for_json_impl</span>
<a href="#l129.66"></a><span id="l129.66"> ) {</span>
<a href="#l129.67"></a><span id="l129.67">   mark_action = mark_action_impl;</span>
<a href="#l129.68"></a><span id="l129.68">   mark_failure = mark_failure_impl;</span>
<a href="#l129.69"></a><span id="l129.69">   normalize_for_json = normalize_for_json_impl;</span>
<a href="#l129.70"></a><span id="l129.70"> }</span>
<a href="#l129.71"></a><span id="l129.71"> </span>
<a href="#l129.72"></a><span id="l129.72" class="difflineminus">-function installInto(module) {</span>
<a href="#l129.73"></a><span id="l129.73" class="difflineminus">-  module.plan_for_new_window = plan_for_new_window;</span>
<a href="#l129.74"></a><span id="l129.74" class="difflineminus">-  module.wait_for_new_window = wait_for_new_window;</span>
<a href="#l129.75"></a><span id="l129.75" class="difflineminus">-  module.plan_for_modal_dialog = plan_for_modal_dialog;</span>
<a href="#l129.76"></a><span id="l129.76" class="difflineminus">-  module.wait_for_modal_dialog = wait_for_modal_dialog;</span>
<a href="#l129.77"></a><span id="l129.77" class="difflineminus">-  module.plan_for_window_close = plan_for_window_close;</span>
<a href="#l129.78"></a><span id="l129.78" class="difflineminus">-  module.wait_for_window_close = wait_for_window_close;</span>
<a href="#l129.79"></a><span id="l129.79" class="difflineminus">-  module.close_window = close_window;</span>
<a href="#l129.80"></a><span id="l129.80" class="difflineminus">-  module.wait_for_existing_window = wait_for_existing_window;</span>
<a href="#l129.81"></a><span id="l129.81" class="difflineminus">-  module.wait_for_window_focused = wait_for_window_focused;</span>
<a href="#l129.82"></a><span id="l129.82" class="difflineminus">-</span>
<a href="#l129.83"></a><span id="l129.83" class="difflineminus">-  module.wait_for_browser_load = wait_for_browser_load;</span>
<a href="#l129.84"></a><span id="l129.84" class="difflineminus">-  module.wait_for_frame_load = wait_for_frame_load;</span>
<a href="#l129.85"></a><span id="l129.85" class="difflineminus">-</span>
<a href="#l129.86"></a><span id="l129.86" class="difflineminus">-  module.plan_for_observable_event = plan_for_observable_event;</span>
<a href="#l129.87"></a><span id="l129.87" class="difflineminus">-  module.wait_for_observable_event = wait_for_observable_event;</span>
<a href="#l129.88"></a><span id="l129.88" class="difflineminus">-</span>
<a href="#l129.89"></a><span id="l129.89" class="difflineminus">-  module.resize_to = resize_to;</span>
<a href="#l129.90"></a><span id="l129.90" class="difflineminus">-</span>
<a href="#l129.91"></a><span id="l129.91" class="difflineminus">-  module.augment_controller = augment_controller;</span>
<a href="#l129.92"></a><span id="l129.92" class="difflineminus">-}</span>
<a href="#l129.93"></a><span id="l129.93" class="difflineminus">-</span>
<a href="#l129.94"></a><span id="l129.94"> function getWindowTypeOrId(aWindowElem) {</span>
<a href="#l129.95"></a><span id="l129.95">   let windowType = aWindowElem.getAttribute(&quot;windowtype&quot;);</span>
<a href="#l129.96"></a><span id="l129.96">   // Ignore types that start with &quot;prompt:&quot;. This prefix gets added in</span>
<a href="#l129.97"></a><span id="l129.97">   // toolkit/components/prompts/src/CommonDialog.jsm since bug 1388238.</span>
<a href="#l129.98"></a><span id="l129.98">   if (windowType &amp;&amp; !windowType.startsWith(&quot;prompt:&quot;)) {</span>
<a href="#l129.99"></a><span id="l129.99">     return windowType;</span>
<a href="#l129.100"></a><span id="l129.100">   }</span>
<a href="#l129.101"></a><span id="l129.101"> </span>
<a href="#l129.102"></a><span id="l129.102" class="difflineat">@@ -348,17 +346,17 @@ var WindowWatcher = {</span>
<a href="#l129.103"></a><span id="l129.103">       augment_controller(troller, this.waitingForOpen);</span>
<a href="#l129.104"></a><span id="l129.104"> </span>
<a href="#l129.105"></a><span id="l129.105">       this._timer.cancel();</span>
<a href="#l129.106"></a><span id="l129.106"> </span>
<a href="#l129.107"></a><span id="l129.107">       let self = this;</span>
<a href="#l129.108"></a><span id="l129.108">       function startTest() {</span>
<a href="#l129.109"></a><span id="l129.109">         self.planForWindowClose(troller.window);</span>
<a href="#l129.110"></a><span id="l129.110">         try {</span>
<a href="#l129.111"></a><span id="l129.111" class="difflineminus">-          let runner = new frame.Runner(collector);</span>
<a href="#l129.112"></a><span id="l129.112" class="difflineplus">+          let runner = new frame.Runner();</span>
<a href="#l129.113"></a><span id="l129.113">           runner.wrapper(self.subTestFunc, troller);</span>
<a href="#l129.114"></a><span id="l129.114">         } finally {</span>
<a href="#l129.115"></a><span id="l129.115">           self.subTestFunc = null;</span>
<a href="#l129.116"></a><span id="l129.116">         }</span>
<a href="#l129.117"></a><span id="l129.117"> </span>
<a href="#l129.118"></a><span id="l129.118">         // if the test failed, make sure we force the window closed...</span>
<a href="#l129.119"></a><span id="l129.119">         // except I'm not sure how to easily figure that out...</span>
<a href="#l129.120"></a><span id="l129.120">         // so just close it no matter what.</span>
<a href="#l129.121"></a><span id="l129.121" class="difflineat">@@ -1706,18 +1704,16 @@ function _augment_helper(aController, aA</span>
<a href="#l129.122"></a><span id="l129.122">     }</span>
<a href="#l129.123"></a><span id="l129.123">   }</span>
<a href="#l129.124"></a><span id="l129.124"> </span>
<a href="#l129.125"></a><span id="l129.125">   if (aAugmentDef.onAugment) {</span>
<a href="#l129.126"></a><span id="l129.126">     aAugmentDef.onAugment(aController);</span>
<a href="#l129.127"></a><span id="l129.127">   }</span>
<a href="#l129.128"></a><span id="l129.128"> }</span>
<a href="#l129.129"></a><span id="l129.129"> </span>
<a href="#l129.130"></a><span id="l129.130" class="difflineminus">-var INPUT_PEEK_EVENTS = [&quot;click&quot;, &quot;keypress&quot;];</span>
<a href="#l129.131"></a><span id="l129.131" class="difflineminus">-</span>
<a href="#l129.132"></a><span id="l129.132"> var UNIQUE_WINDOW_ID_ATTR = &quot;__winHelper_uniqueId&quot;;</span>
<a href="#l129.133"></a><span id="l129.133"> </span>
<a href="#l129.134"></a><span id="l129.134"> /**</span>
<a href="#l129.135"></a><span id="l129.135">  * Given something you would find on event.target (should be a DOM node /</span>
<a href="#l129.136"></a><span id="l129.136">  *  DOM window), attempt to describe the hierarchy of that thing all the way</span>
<a href="#l129.137"></a><span id="l129.137">  *  to the outermost enclosing window.  This is intended to solve the problem</span>
<a href="#l129.138"></a><span id="l129.138">  *  where our event target can be the &quot;Window&quot; of an iframe, which is not</span>
<a href="#l129.139"></a><span id="l129.139">  *  very enlightening.  We really want to know the frameElement and what</span>
<a href="#l129.140"></a><span id="l129.140" class="difflineat">@@ -2138,24 +2134,16 @@ function screenshotToDataURL(aWindow) {</span>
<a href="#l129.141"></a><span id="l129.141">   subrenderCandidates(doc.documentElement.getElementsByTagName(&quot;iframe&quot;));</span>
<a href="#l129.142"></a><span id="l129.142">   subrenderCandidates(doc.documentElement.getElementsByTagName(&quot;browser&quot;));</span>
<a href="#l129.143"></a><span id="l129.143">   */</span>
<a href="#l129.144"></a><span id="l129.144"> </span>
<a href="#l129.145"></a><span id="l129.145">   return canvas.toDataURL(&quot;image/png&quot;, &quot;&quot;);</span>
<a href="#l129.146"></a><span id="l129.146"> }</span>
<a href="#l129.147"></a><span id="l129.147"> </span>
<a href="#l129.148"></a><span id="l129.148"> /**</span>
<a href="#l129.149"></a><span id="l129.149" class="difflineminus">- * Render the contents of a window to a base64-encoded string.</span>
<a href="#l129.150"></a><span id="l129.150" class="difflineminus">- */</span>
<a href="#l129.151"></a><span id="l129.151" class="difflineminus">-function screenshotToBase64(aWindow) {</span>
<a href="#l129.152"></a><span id="l129.152" class="difflineminus">-  let dataUrl = screenshotToDataURL(aWindow);</span>
<a href="#l129.153"></a><span id="l129.153" class="difflineminus">-  return dataUrl.substring(dataUrl.indexOf(&quot;base64,&quot;) + 7);</span>
<a href="#l129.154"></a><span id="l129.154" class="difflineminus">-}</span>
<a href="#l129.155"></a><span id="l129.155" class="difflineminus">-</span>
<a href="#l129.156"></a><span id="l129.156" class="difflineminus">-/**</span>
<a href="#l129.157"></a><span id="l129.157">  * Capture general information on the state of all open windows and provide</span>
<a href="#l129.158"></a><span id="l129.158">  *  them in a JSON-serializable object blob.</span>
<a href="#l129.159"></a><span id="l129.159">  *</span>
<a href="#l129.160"></a><span id="l129.160">  * Specific details for each window:</span>
<a href="#l129.161"></a><span id="l129.161">  * - Screen coordinates and dimensions of the window.</span>
<a href="#l129.162"></a><span id="l129.162">  * - Is the window active/focused?</span>
<a href="#l129.163"></a><span id="l129.163">  * - The focused element in the window; we leave this up to logHelper to</span>
<a href="#l129.164"></a><span id="l129.164">  *    describe.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l130.1"></a><span id="l130.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/moz.build</span>
<a href="#l130.2"></a><span id="l130.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/moz.build</span>
<a href="#l130.3"></a><span id="l130.3" class="difflineat">@@ -12,9 +12,10 @@ TEST_HARNESS_FILES.mozmill.stage['shared</span>
<a href="#l130.4"></a><span id="l130.4"> </span>
<a href="#l130.5"></a><span id="l130.5"> TESTING_JS_MODULES.mozmill += [</span>
<a href="#l130.6"></a><span id="l130.6">     'AttachmentHelpers.jsm',</span>
<a href="#l130.7"></a><span id="l130.7">     'KeyboardHelpers.jsm',</span>
<a href="#l130.8"></a><span id="l130.8">     'MessageHelpers.jsm',</span>
<a href="#l130.9"></a><span id="l130.9">     'MockObjectHelpers.jsm',</span>
<a href="#l130.10"></a><span id="l130.10">     'NotificationBoxHelpers.jsm',</span>
<a href="#l130.11"></a><span id="l130.11">     'PromptHelpers.jsm',</span>
<a href="#l130.12"></a><span id="l130.12" class="difflineplus">+    'WindowHelpers.jsm',</span>
<a href="#l130.13"></a><span id="l130.13"> ]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l131.1"></a><span id="l131.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-account-manager-helpers.js</span>
<a href="#l131.2"></a><span id="l131.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-account-manager-helpers.js</span>
<a href="#l131.3"></a><span id="l131.3" class="difflineat">@@ -1,29 +1,32 @@</span>
<a href="#l131.4"></a><span id="l131.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l131.5"></a><span id="l131.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l131.6"></a><span id="l131.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l131.7"></a><span id="l131.7"> </span>
<a href="#l131.8"></a><span id="l131.8"> &quot;use strict&quot;;</span>
<a href="#l131.9"></a><span id="l131.9"> </span>
<a href="#l131.10"></a><span id="l131.10"> var MODULE_NAME = &quot;account-manager-helpers&quot;;</span>
<a href="#l131.11"></a><span id="l131.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l131.12"></a><span id="l131.12" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l131.13"></a><span id="l131.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l131.14"></a><span id="l131.14"> </span>
<a href="#l131.15"></a><span id="l131.15"> var utils = ChromeUtils.import(&quot;chrome://mozmill/content/modules/utils.jsm&quot;);</span>
<a href="#l131.16"></a><span id="l131.16"> var elib = ChromeUtils.import(</span>
<a href="#l131.17"></a><span id="l131.17">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l131.18"></a><span id="l131.18"> );</span>
<a href="#l131.19"></a><span id="l131.19"> </span>
<a href="#l131.20"></a><span id="l131.20" class="difflineminus">-var wh, fdh, mc;</span>
<a href="#l131.21"></a><span id="l131.21" class="difflineplus">+var wh = ChromeUtils.import(</span>
<a href="#l131.22"></a><span id="l131.22" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l131.23"></a><span id="l131.23" class="difflineplus">+);</span>
<a href="#l131.24"></a><span id="l131.24" class="difflineplus">+</span>
<a href="#l131.25"></a><span id="l131.25" class="difflineplus">+var fdh, mc;</span>
<a href="#l131.26"></a><span id="l131.26"> </span>
<a href="#l131.27"></a><span id="l131.27"> function setupModule() {</span>
<a href="#l131.28"></a><span id="l131.28">   fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l131.29"></a><span id="l131.29">   mc = fdh.mc;</span>
<a href="#l131.30"></a><span id="l131.30" class="difflineminus">-  wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l131.31"></a><span id="l131.31"> }</span>
<a href="#l131.32"></a><span id="l131.32"> </span>
<a href="#l131.33"></a><span id="l131.33"> function installInto(module) {</span>
<a href="#l131.34"></a><span id="l131.34">   setupModule();</span>
<a href="#l131.35"></a><span id="l131.35"> </span>
<a href="#l131.36"></a><span id="l131.36">   // Now copy helper functions</span>
<a href="#l131.37"></a><span id="l131.37">   module.open_advanced_settings = open_advanced_settings;</span>
<a href="#l131.38"></a><span id="l131.38">   module.open_advanced_settings_from_account_wizard = open_advanced_settings_from_account_wizard;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l132.1"></a><span id="l132.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-address-book-helpers.js</span>
<a href="#l132.2"></a><span id="l132.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-address-book-helpers.js</span>
<a href="#l132.3"></a><span id="l132.3" class="difflineat">@@ -1,38 +1,40 @@</span>
<a href="#l132.4"></a><span id="l132.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l132.5"></a><span id="l132.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l132.6"></a><span id="l132.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l132.7"></a><span id="l132.7"> </span>
<a href="#l132.8"></a><span id="l132.8"> &quot;use strict&quot;;</span>
<a href="#l132.9"></a><span id="l132.9"> </span>
<a href="#l132.10"></a><span id="l132.10"> var MODULE_NAME = &quot;address-book-helpers&quot;;</span>
<a href="#l132.11"></a><span id="l132.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l132.12"></a><span id="l132.12" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l132.13"></a><span id="l132.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l132.14"></a><span id="l132.14" class="difflineplus">+</span>
<a href="#l132.15"></a><span id="l132.15" class="difflineplus">+var windowHelper = ChromeUtils.import(</span>
<a href="#l132.16"></a><span id="l132.16" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l132.17"></a><span id="l132.17" class="difflineplus">+);</span>
<a href="#l132.18"></a><span id="l132.18"> </span>
<a href="#l132.19"></a><span id="l132.19"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l132.20"></a><span id="l132.20"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l132.21"></a><span id="l132.21">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l132.22"></a><span id="l132.22"> );</span>
<a href="#l132.23"></a><span id="l132.23"> </span>
<a href="#l132.24"></a><span id="l132.24"> var ABJS_PREFIX = &quot;jsaddrbook://&quot;;</span>
<a href="#l132.25"></a><span id="l132.25"> var ABLDAP_PREFIX = &quot;moz-abldapdirectory://&quot;;</span>
<a href="#l132.26"></a><span id="l132.26"> </span>
<a href="#l132.27"></a><span id="l132.27"> var collectedAddresses;</span>
<a href="#l132.28"></a><span id="l132.28"> </span>
<a href="#l132.29"></a><span id="l132.29"> var abController;</span>
<a href="#l132.30"></a><span id="l132.30"> </span>
<a href="#l132.31"></a><span id="l132.31"> var folderDisplayHelper;</span>
<a href="#l132.32"></a><span id="l132.32"> var mc;</span>
<a href="#l132.33"></a><span id="l132.33" class="difflineminus">-var windowHelper;</span>
<a href="#l132.34"></a><span id="l132.34"> </span>
<a href="#l132.35"></a><span id="l132.35"> function setupModule() {</span>
<a href="#l132.36"></a><span id="l132.36">   folderDisplayHelper = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l132.37"></a><span id="l132.37">   mc = folderDisplayHelper.mc;</span>
<a href="#l132.38"></a><span id="l132.38" class="difflineminus">-  windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l132.39"></a><span id="l132.39">   // Ensure all the directories are initialised.</span>
<a href="#l132.40"></a><span id="l132.40">   MailServices.ab.directories;</span>
<a href="#l132.41"></a><span id="l132.41">   collectedAddresses = MailServices.ab.getDirectory(</span>
<a href="#l132.42"></a><span id="l132.42">     &quot;jsaddrbook://history.sqlite&quot;</span>
<a href="#l132.43"></a><span id="l132.43">   );</span>
<a href="#l132.44"></a><span id="l132.44"> }</span>
<a href="#l132.45"></a><span id="l132.45"> </span>
<a href="#l132.46"></a><span id="l132.46"> function installInto(module) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l133.1"></a><span id="l133.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js</span>
<a href="#l133.2"></a><span id="l133.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-cloudfile-backend-helpers.js</span>
<a href="#l133.3"></a><span id="l133.3" class="difflineat">@@ -1,48 +1,44 @@</span>
<a href="#l133.4"></a><span id="l133.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l133.5"></a><span id="l133.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l133.6"></a><span id="l133.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l133.7"></a><span id="l133.7"> </span>
<a href="#l133.8"></a><span id="l133.8"> &quot;use strict&quot;;</span>
<a href="#l133.9"></a><span id="l133.9"> </span>
<a href="#l133.10"></a><span id="l133.10"> var MODULE_NAME = &quot;cloudfile-backend-helpers&quot;;</span>
<a href="#l133.11"></a><span id="l133.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l133.12"></a><span id="l133.12" class="difflineminus">-var MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l133.13"></a><span id="l133.13" class="difflineplus">+</span>
<a href="#l133.14"></a><span id="l133.14" class="difflineplus">+var wh = ChromeUtils.import(</span>
<a href="#l133.15"></a><span id="l133.15" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l133.16"></a><span id="l133.16" class="difflineplus">+);</span>
<a href="#l133.17"></a><span id="l133.17"> </span>
<a href="#l133.18"></a><span id="l133.18"> var { cloudFileAccounts } = ChromeUtils.import(</span>
<a href="#l133.19"></a><span id="l133.19">   &quot;resource:///modules/cloudFileAccounts.jsm&quot;</span>
<a href="#l133.20"></a><span id="l133.20"> );</span>
<a href="#l133.21"></a><span id="l133.21"> </span>
<a href="#l133.22"></a><span id="l133.22"> var kUserAuthRequested = &quot;cloudfile:auth&quot;;</span>
<a href="#l133.23"></a><span id="l133.23"> var kUserDataRequested = &quot;cloudfile:user&quot;;</span>
<a href="#l133.24"></a><span id="l133.24"> var kUploadFile = &quot;cloudfile:uploadFile&quot;;</span>
<a href="#l133.25"></a><span id="l133.25"> var kGetFileURL = &quot;cloudfile:getFileURL&quot;;</span>
<a href="#l133.26"></a><span id="l133.26"> var kDeleteFile = &quot;cloudfile:deleteFile&quot;;</span>
<a href="#l133.27"></a><span id="l133.27"> var kLogout = &quot;cloudfile:logout&quot;;</span>
<a href="#l133.28"></a><span id="l133.28"> </span>
<a href="#l133.29"></a><span id="l133.29" class="difflineminus">-var wh;</span>
<a href="#l133.30"></a><span id="l133.30" class="difflineminus">-</span>
<a href="#l133.31"></a><span id="l133.31"> function installInto(module) {</span>
<a href="#l133.32"></a><span id="l133.32" class="difflineminus">-  setupModule(module);</span>
<a href="#l133.33"></a><span id="l133.33">   module.kUserAuthRequested = kUserAuthRequested;</span>
<a href="#l133.34"></a><span id="l133.34">   module.kUserDataRequested = kUserDataRequested;</span>
<a href="#l133.35"></a><span id="l133.35">   module.kUploadFile = kUploadFile;</span>
<a href="#l133.36"></a><span id="l133.36">   module.kGetFileURL = kGetFileURL;</span>
<a href="#l133.37"></a><span id="l133.37">   module.kDeleteFile = kDeleteFile;</span>
<a href="#l133.38"></a><span id="l133.38">   module.kLogout = kLogout;</span>
<a href="#l133.39"></a><span id="l133.39">   module.SimpleRequestObserverManager = SimpleRequestObserverManager;</span>
<a href="#l133.40"></a><span id="l133.40">   module.SimpleRequestObserver = SimpleRequestObserver;</span>
<a href="#l133.41"></a><span id="l133.41">   module.assert_can_cancel_uploads = assert_can_cancel_uploads;</span>
<a href="#l133.42"></a><span id="l133.42"> }</span>
<a href="#l133.43"></a><span id="l133.43"> </span>
<a href="#l133.44"></a><span id="l133.44" class="difflineminus">-function setupModule(module) {</span>
<a href="#l133.45"></a><span id="l133.45" class="difflineminus">-  wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l133.46"></a><span id="l133.46" class="difflineminus">-}</span>
<a href="#l133.47"></a><span id="l133.47" class="difflineminus">-</span>
<a href="#l133.48"></a><span id="l133.48"> function SimpleRequestObserverManager() {</span>
<a href="#l133.49"></a><span id="l133.49">   this._observers = [];</span>
<a href="#l133.50"></a><span id="l133.50"> }</span>
<a href="#l133.51"></a><span id="l133.51"> </span>
<a href="#l133.52"></a><span id="l133.52"> SimpleRequestObserverManager.prototype = {</span>
<a href="#l133.53"></a><span id="l133.53">   create(aName) {</span>
<a href="#l133.54"></a><span id="l133.54">     let obs = new SimpleRequestObserver(aName);</span>
<a href="#l133.55"></a><span id="l133.55">     this._observers.push(obs);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l134.1"></a><span id="l134.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-compose-helpers.js</span>
<a href="#l134.2"></a><span id="l134.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-compose-helpers.js</span>
<a href="#l134.3"></a><span id="l134.3" class="difflineat">@@ -1,37 +1,36 @@</span>
<a href="#l134.4"></a><span id="l134.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l134.5"></a><span id="l134.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l134.6"></a><span id="l134.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l134.7"></a><span id="l134.7"> </span>
<a href="#l134.8"></a><span id="l134.8"> &quot;use strict&quot;;</span>
<a href="#l134.9"></a><span id="l134.9"> </span>
<a href="#l134.10"></a><span id="l134.10"> var MODULE_NAME = &quot;compose-helpers&quot;;</span>
<a href="#l134.11"></a><span id="l134.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l134.12"></a><span id="l134.12" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l134.13"></a><span id="l134.13" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l134.14"></a><span id="l134.14" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l134.15"></a><span id="l134.15" class="difflineminus">-  &quot;dom-helpers&quot;,</span>
<a href="#l134.16"></a><span id="l134.16" class="difflineminus">-];</span>
<a href="#l134.17"></a><span id="l134.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;dom-helpers&quot;];</span>
<a href="#l134.18"></a><span id="l134.18"> </span>
<a href="#l134.19"></a><span id="l134.19"> var elib = ChromeUtils.import(</span>
<a href="#l134.20"></a><span id="l134.20">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l134.21"></a><span id="l134.21"> );</span>
<a href="#l134.22"></a><span id="l134.22"> var utils = ChromeUtils.import(&quot;chrome://mozmill/content/modules/utils.jsm&quot;);</span>
<a href="#l134.23"></a><span id="l134.23"> </span>
<a href="#l134.24"></a><span id="l134.24" class="difflineplus">+var windowHelper = ChromeUtils.import(</span>
<a href="#l134.25"></a><span id="l134.25" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l134.26"></a><span id="l134.26" class="difflineplus">+);</span>
<a href="#l134.27"></a><span id="l134.27" class="difflineplus">+</span>
<a href="#l134.28"></a><span id="l134.28"> var kTextNodeType = 3;</span>
<a href="#l134.29"></a><span id="l134.29"> </span>
<a href="#l134.30"></a><span id="l134.30"> var folderDisplayHelper;</span>
<a href="#l134.31"></a><span id="l134.31"> var mc;</span>
<a href="#l134.32"></a><span id="l134.32" class="difflineminus">-var windowHelper, domHelper;</span>
<a href="#l134.33"></a><span id="l134.33" class="difflineplus">+var domHelper;</span>
<a href="#l134.34"></a><span id="l134.34"> </span>
<a href="#l134.35"></a><span id="l134.35"> function setupModule() {</span>
<a href="#l134.36"></a><span id="l134.36">   folderDisplayHelper = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l134.37"></a><span id="l134.37">   mc = folderDisplayHelper.mc;</span>
<a href="#l134.38"></a><span id="l134.38" class="difflineminus">-  windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l134.39"></a><span id="l134.39">   domHelper = collector.getModule(&quot;dom-helpers&quot;);</span>
<a href="#l134.40"></a><span id="l134.40"> }</span>
<a href="#l134.41"></a><span id="l134.41"> </span>
<a href="#l134.42"></a><span id="l134.42"> function installInto(module) {</span>
<a href="#l134.43"></a><span id="l134.43">   setupModule();</span>
<a href="#l134.44"></a><span id="l134.44"> </span>
<a href="#l134.45"></a><span id="l134.45">   // Now copy helper functions</span>
<a href="#l134.46"></a><span id="l134.46">   module.open_compose_new_mail = open_compose_new_mail;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l135.1"></a><span id="l135.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-content-tab-helpers.js</span>
<a href="#l135.2"></a><span id="l135.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-content-tab-helpers.js</span>
<a href="#l135.3"></a><span id="l135.3" class="difflineat">@@ -1,50 +1,51 @@</span>
<a href="#l135.4"></a><span id="l135.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l135.5"></a><span id="l135.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l135.6"></a><span id="l135.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l135.7"></a><span id="l135.7"> </span>
<a href="#l135.8"></a><span id="l135.8"> &quot;use strict&quot;;</span>
<a href="#l135.9"></a><span id="l135.9"> </span>
<a href="#l135.10"></a><span id="l135.10"> var MODULE_NAME = &quot;content-tab-helpers&quot;;</span>
<a href="#l135.11"></a><span id="l135.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l135.12"></a><span id="l135.12" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l135.13"></a><span id="l135.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l135.14"></a><span id="l135.14"> </span>
<a href="#l135.15"></a><span id="l135.15"> var elib = ChromeUtils.import(</span>
<a href="#l135.16"></a><span id="l135.16">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l135.17"></a><span id="l135.17"> );</span>
<a href="#l135.18"></a><span id="l135.18"> var utils = ChromeUtils.import(&quot;chrome://mozmill/content/modules/utils.jsm&quot;);</span>
<a href="#l135.19"></a><span id="l135.19"> </span>
<a href="#l135.20"></a><span id="l135.20"> var { MockObjectReplacer } = ChromeUtils.import(</span>
<a href="#l135.21"></a><span id="l135.21">   &quot;resource://testing-common/mozmill/MockObjectHelpers.jsm&quot;</span>
<a href="#l135.22"></a><span id="l135.22"> );</span>
<a href="#l135.23"></a><span id="l135.23" class="difflineplus">+var wh = ChromeUtils.import(</span>
<a href="#l135.24"></a><span id="l135.24" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l135.25"></a><span id="l135.25" class="difflineplus">+);</span>
<a href="#l135.26"></a><span id="l135.26"> </span>
<a href="#l135.27"></a><span id="l135.27"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l135.28"></a><span id="l135.28"> </span>
<a href="#l135.29"></a><span id="l135.29"> var NORMAL_TIMEOUT = 6000;</span>
<a href="#l135.30"></a><span id="l135.30"> var FAST_TIMEOUT = 1000;</span>
<a href="#l135.31"></a><span id="l135.31"> var FAST_INTERVAL = 100;</span>
<a href="#l135.32"></a><span id="l135.32"> var EXT_PROTOCOL_SVC_CID = &quot;@mozilla.org/uriloader/external-protocol-service;1&quot;;</span>
<a href="#l135.33"></a><span id="l135.33"> </span>
<a href="#l135.34"></a><span id="l135.34"> var folderDisplayHelper;</span>
<a href="#l135.35"></a><span id="l135.35"> var mc;</span>
<a href="#l135.36"></a><span id="l135.36" class="difflineminus">-var wh;</span>
<a href="#l135.37"></a><span id="l135.37"> </span>
<a href="#l135.38"></a><span id="l135.38"> var _originalBlocklistURL = null;</span>
<a href="#l135.39"></a><span id="l135.39"> </span>
<a href="#l135.40"></a><span id="l135.40"> // logHelper (and therefore folderDisplayHelper) exports</span>
<a href="#l135.41"></a><span id="l135.41"> var mark_failure;</span>
<a href="#l135.42"></a><span id="l135.42"> var gMockExtProtSvcReg;</span>
<a href="#l135.43"></a><span id="l135.43"> </span>
<a href="#l135.44"></a><span id="l135.44"> function setupModule() {</span>
<a href="#l135.45"></a><span id="l135.45">   folderDisplayHelper = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l135.46"></a><span id="l135.46">   mc = folderDisplayHelper.mc;</span>
<a href="#l135.47"></a><span id="l135.47">   mark_failure = folderDisplayHelper.mark_failure;</span>
<a href="#l135.48"></a><span id="l135.48"> </span>
<a href="#l135.49"></a><span id="l135.49" class="difflineminus">-  wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l135.50"></a><span id="l135.50">   gMockExtProtSvcReg = new MockObjectReplacer(</span>
<a href="#l135.51"></a><span id="l135.51">     EXT_PROTOCOL_SVC_CID,</span>
<a href="#l135.52"></a><span id="l135.52">     MockExtProtConstructor</span>
<a href="#l135.53"></a><span id="l135.53">   );</span>
<a href="#l135.54"></a><span id="l135.54"> }</span>
<a href="#l135.55"></a><span id="l135.55"> </span>
<a href="#l135.56"></a><span id="l135.56"> function installInto(module) {</span>
<a href="#l135.57"></a><span id="l135.57">   setupModule();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l136.1"></a><span id="l136.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-customization-helpers.js</span>
<a href="#l136.2"></a><span id="l136.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-customization-helpers.js</span>
<a href="#l136.3"></a><span id="l136.3" class="difflineat">@@ -1,30 +1,33 @@</span>
<a href="#l136.4"></a><span id="l136.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l136.5"></a><span id="l136.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a href="#l136.6"></a><span id="l136.6">  * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l136.7"></a><span id="l136.7"> </span>
<a href="#l136.8"></a><span id="l136.8"> &quot;use strict&quot;;</span>
<a href="#l136.9"></a><span id="l136.9"> </span>
<a href="#l136.10"></a><span id="l136.10"> var MODULE_NAME = &quot;customization-helpers&quot;;</span>
<a href="#l136.11"></a><span id="l136.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l136.12"></a><span id="l136.12" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l136.13"></a><span id="l136.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l136.14"></a><span id="l136.14"> </span>
<a href="#l136.15"></a><span id="l136.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l136.16"></a><span id="l136.16"> var elib = ChromeUtils.import(</span>
<a href="#l136.17"></a><span id="l136.17">   &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l136.18"></a><span id="l136.18"> );</span>
<a href="#l136.19"></a><span id="l136.19"> </span>
<a href="#l136.20"></a><span id="l136.20" class="difflineplus">+var wh = ChromeUtils.import(</span>
<a href="#l136.21"></a><span id="l136.21" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l136.22"></a><span id="l136.22" class="difflineplus">+);</span>
<a href="#l136.23"></a><span id="l136.23" class="difflineplus">+</span>
<a href="#l136.24"></a><span id="l136.24"> var USE_SHEET_PREF = &quot;toolbar.customization.usesheet&quot;;</span>
<a href="#l136.25"></a><span id="l136.25"> </span>
<a href="#l136.26"></a><span id="l136.26" class="difflineminus">-var wh, fdh;</span>
<a href="#l136.27"></a><span id="l136.27" class="difflineplus">+var fdh;</span>
<a href="#l136.28"></a><span id="l136.28"> </span>
<a href="#l136.29"></a><span id="l136.29"> function setupModule() {</span>
<a href="#l136.30"></a><span id="l136.30">   fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l136.31"></a><span id="l136.31" class="difflineminus">-  wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l136.32"></a><span id="l136.32"> }</span>
<a href="#l136.33"></a><span id="l136.33"> </span>
<a href="#l136.34"></a><span id="l136.34"> function installInto(module) {</span>
<a href="#l136.35"></a><span id="l136.35">   setupModule();</span>
<a href="#l136.36"></a><span id="l136.36"> </span>
<a href="#l136.37"></a><span id="l136.37">   // Now copy helper functions</span>
<a href="#l136.38"></a><span id="l136.38">   module.CustomizeDialogHelper = CustomizeDialogHelper;</span>
<a href="#l136.39"></a><span id="l136.39"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l137.1"></a><span id="l137.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-folder-display-helpers.js</span>
<a href="#l137.2"></a><span id="l137.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-folder-display-helpers.js</span>
<a href="#l137.3"></a><span id="l137.3" class="difflineat">@@ -1,28 +1,32 @@</span>
<a href="#l137.4"></a><span id="l137.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l137.5"></a><span id="l137.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l137.6"></a><span id="l137.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l137.7"></a><span id="l137.7"> </span>
<a href="#l137.8"></a><span id="l137.8"> &quot;use strict&quot;;</span>
<a href="#l137.9"></a><span id="l137.9"> </span>
<a href="#l137.10"></a><span id="l137.10"> var MODULE_NAME = &quot;folder-display-helpers&quot;;</span>
<a href="#l137.11"></a><span id="l137.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l137.12"></a><span id="l137.12" class="difflineminus">-var MODULE_REQUIRES = [&quot;window-helpers&quot;];</span>
<a href="#l137.13"></a><span id="l137.13"> </span>
<a href="#l137.14"></a><span id="l137.14"> var EventUtils = ChromeUtils.import(</span>
<a href="#l137.15"></a><span id="l137.15">   &quot;chrome://mozmill/content/stdlib/EventUtils.jsm&quot;</span>
<a href="#l137.16"></a><span id="l137.16"> );</span>
<a href="#l137.17"></a><span id="l137.17"> var controller = ChromeUtils.import(</span>
<a href="#l137.18"></a><span id="l137.18">   &quot;chrome://mozmill/content/modules/controller.jsm&quot;</span>
<a href="#l137.19"></a><span id="l137.19"> );</span>
<a href="#l137.20"></a><span id="l137.20"> var frame = ChromeUtils.import(&quot;chrome://mozmill/content/modules/frame.jsm&quot;);</span>
<a href="#l137.21"></a><span id="l137.21"> var os = ChromeUtils.import(&quot;chrome://mozmill/content/stdlib/os.jsm&quot;);</span>
<a href="#l137.22"></a><span id="l137.22"> var utils = ChromeUtils.import(&quot;chrome://mozmill/content/modules/utils.jsm&quot;);</span>
<a href="#l137.23"></a><span id="l137.23"> </span>
<a href="#l137.24"></a><span id="l137.24" class="difflineplus">+// the windowHelper module</span>
<a href="#l137.25"></a><span id="l137.25" class="difflineplus">+var windowHelper = ChromeUtils.import(</span>
<a href="#l137.26"></a><span id="l137.26" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l137.27"></a><span id="l137.27" class="difflineplus">+);</span>
<a href="#l137.28"></a><span id="l137.28" class="difflineplus">+</span>
<a href="#l137.29"></a><span id="l137.29"> var { Log4Moz } = ChromeUtils.import(&quot;resource:///modules/gloda/log4moz.js&quot;);</span>
<a href="#l137.30"></a><span id="l137.30"> </span>
<a href="#l137.31"></a><span id="l137.31"> var nsMsgViewIndex_None = 0xffffffff;</span>
<a href="#l137.32"></a><span id="l137.32"> var { MailConsts } = ChromeUtils.import(&quot;resource:///modules/MailConsts.jsm&quot;);</span>
<a href="#l137.33"></a><span id="l137.33"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l137.34"></a><span id="l137.34">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l137.35"></a><span id="l137.35"> );</span>
<a href="#l137.36"></a><span id="l137.36"> var { MailUtils } = ChromeUtils.import(&quot;resource:///modules/MailUtils.jsm&quot;);</span>
<a href="#l137.37"></a><span id="l137.37" class="difflineat">@@ -92,19 +96,16 @@ var testHelperModule;</span>
<a href="#l137.38"></a><span id="l137.38"> var msgGen;</span>
<a href="#l137.39"></a><span id="l137.39"> </span>
<a href="#l137.40"></a><span id="l137.40"> var inboxFolder = null;</span>
<a href="#l137.41"></a><span id="l137.41"> </span>
<a href="#l137.42"></a><span id="l137.42"> // logHelper exports</span>
<a href="#l137.43"></a><span id="l137.43"> var mark_action;</span>
<a href="#l137.44"></a><span id="l137.44"> var mark_failure;</span>
<a href="#l137.45"></a><span id="l137.45"> </span>
<a href="#l137.46"></a><span id="l137.46" class="difflineminus">-// the windowHelper module</span>
<a href="#l137.47"></a><span id="l137.47" class="difflineminus">-var windowHelper;</span>
<a href="#l137.48"></a><span id="l137.48" class="difflineminus">-</span>
<a href="#l137.49"></a><span id="l137.49"> // Default size of the main Thunderbird window in which the tests will run.</span>
<a href="#l137.50"></a><span id="l137.50"> var gDefaultWindowWidth = 1024;</span>
<a href="#l137.51"></a><span id="l137.51"> var gDefaultWindowHeight = 768;</span>
<a href="#l137.52"></a><span id="l137.52"> </span>
<a href="#l137.53"></a><span id="l137.53"> var initialized = false;</span>
<a href="#l137.54"></a><span id="l137.54"> function setupModule() {</span>
<a href="#l137.55"></a><span id="l137.55">   if (initialized) {</span>
<a href="#l137.56"></a><span id="l137.56">     return;</span>
<a href="#l137.57"></a><span id="l137.57" class="difflineat">@@ -242,17 +243,16 @@ function setupModule() {</span>
<a href="#l137.58"></a><span id="l137.58">   SyntheticPartLeaf = testHelperModule.SyntheticPartLeaf;</span>
<a href="#l137.59"></a><span id="l137.59">   SyntheticPartMultiMixed = testHelperModule.SyntheticPartMultiMixed;</span>
<a href="#l137.60"></a><span id="l137.60">   SyntheticPartMultiRelated = testHelperModule.SyntheticPartMultiRelated;</span>
<a href="#l137.61"></a><span id="l137.61"> </span>
<a href="#l137.62"></a><span id="l137.62">   delete_message_set = testHelperModule.async_delete_messages;</span>
<a href="#l137.63"></a><span id="l137.63"> </span>
<a href="#l137.64"></a><span id="l137.64">   // use window-helper's augment_controller method to get our extra good stuff</span>
<a href="#l137.65"></a><span id="l137.65">   //  we need.</span>
<a href="#l137.66"></a><span id="l137.66" class="difflineminus">-  windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l137.67"></a><span id="l137.67">   mc = windowHelper.wait_for_existing_window(&quot;mail:3pane&quot;);</span>
<a href="#l137.68"></a><span id="l137.68">   windowHelper.augment_controller(mc);</span>
<a href="#l137.69"></a><span id="l137.69"> </span>
<a href="#l137.70"></a><span id="l137.70">   // Tell window-helper about the true mark_action function in order to try</span>
<a href="#l137.71"></a><span id="l137.71">   // and further complicate this horrid seven-dimensional rats' nest.</span>
<a href="#l137.72"></a><span id="l137.72">   windowHelper.hereIsMarkAction(</span>
<a href="#l137.73"></a><span id="l137.73">     mark_action,</span>
<a href="#l137.74"></a><span id="l137.74">     mark_failure,</span>
<a href="#l137.75"></a><span id="l137.75" class="difflineat">@@ -2634,17 +2634,17 @@ function _verify_summarized_message_set(</span>
<a href="#l137.76"></a><span id="l137.76">  *</span>
<a href="#l137.77"></a><span id="l137.77">  * @param aController The controller who has the summarized display going on.</span>
<a href="#l137.78"></a><span id="l137.78">  * @param [aMessages] Optional set of messages to verify.  If not provided, this</span>
<a href="#l137.79"></a><span id="l137.79">  *     is extracted via the folderDisplay.  If a SyntheticMessageSet is provided</span>
<a href="#l137.80"></a><span id="l137.80">  *     we will automatically retrieve what we need from it.</span>
<a href="#l137.81"></a><span id="l137.81">  */</span>
<a href="#l137.82"></a><span id="l137.82"> function assert_messages_summarized(aController, aSelectedMessages) {</span>
<a href="#l137.83"></a><span id="l137.83">   // - Compensate for selection stabilization code.</span>
<a href="#l137.84"></a><span id="l137.84" class="difflineminus">-  // Although test-window-helpers sets the stabilization interval to 0, we</span>
<a href="#l137.85"></a><span id="l137.85" class="difflineplus">+  // Although WindowHelpers sets the stabilization interval to 0, we</span>
<a href="#l137.86"></a><span id="l137.86">   //  still need to make sure we have drained the event queue so that it has</span>
<a href="#l137.87"></a><span id="l137.87">   //  actually gotten a chance to run.</span>
<a href="#l137.88"></a><span id="l137.88">   controller.sleep(0);</span>
<a href="#l137.89"></a><span id="l137.89"> </span>
<a href="#l137.90"></a><span id="l137.90">   // - Verify summary object knows about right messages</span>
<a href="#l137.91"></a><span id="l137.91">   if (aSelectedMessages == null) {</span>
<a href="#l137.92"></a><span id="l137.92">     aSelectedMessages = aController.folderDisplay.selectedMessages;</span>
<a href="#l137.93"></a><span id="l137.93">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l138.1"></a><span id="l138.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-nntp-helpers.js</span>
<a href="#l138.2"></a><span id="l138.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-nntp-helpers.js</span>
<a href="#l138.3"></a><span id="l138.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l138.4"></a><span id="l138.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l138.5"></a><span id="l138.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l138.6"></a><span id="l138.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l138.7"></a><span id="l138.7"> </span>
<a href="#l138.8"></a><span id="l138.8"> &quot;use strict&quot;;</span>
<a href="#l138.9"></a><span id="l138.9"> </span>
<a href="#l138.10"></a><span id="l138.10"> var MODULE_NAME = &quot;nntp-helpers&quot;;</span>
<a href="#l138.11"></a><span id="l138.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l138.12"></a><span id="l138.12" class="difflineminus">-var MODULES_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l138.13"></a><span id="l138.13" class="difflineplus">+var MODULES_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l138.14"></a><span id="l138.14"> </span>
<a href="#l138.15"></a><span id="l138.15"> var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l138.16"></a><span id="l138.16"> var { MailServices } = ChromeUtils.import(</span>
<a href="#l138.17"></a><span id="l138.17">   &quot;resource:///modules/MailServices.jsm&quot;</span>
<a href="#l138.18"></a><span id="l138.18"> );</span>
<a href="#l138.19"></a><span id="l138.19"> </span>
<a href="#l138.20"></a><span id="l138.20"> var kSimpleNewsArticle =</span>
<a href="#l138.21"></a><span id="l138.21">   &quot;From: John Doe &lt;john.doe@example.com&gt;\n&quot; +</span>
<a href="#l138.22"></a><span id="l138.22" class="difflineat">@@ -29,24 +29,22 @@ var groups = [</span>
<a href="#l138.23"></a><span id="l138.23">   [&quot;test.empty&quot;, false],</span>
<a href="#l138.24"></a><span id="l138.24">   [&quot;test.subscribe.empty&quot;, true],</span>
<a href="#l138.25"></a><span id="l138.25">   [&quot;test.subscribe.simple&quot;, true],</span>
<a href="#l138.26"></a><span id="l138.26">   [&quot;test.filter&quot;, true],</span>
<a href="#l138.27"></a><span id="l138.27"> ];</span>
<a href="#l138.28"></a><span id="l138.28"> </span>
<a href="#l138.29"></a><span id="l138.29"> var folderDisplayHelper;</span>
<a href="#l138.30"></a><span id="l138.30"> var mc;</span>
<a href="#l138.31"></a><span id="l138.31" class="difflineminus">-var windowHelper;</span>
<a href="#l138.32"></a><span id="l138.32"> </span>
<a href="#l138.33"></a><span id="l138.33"> var testHelperModule;</span>
<a href="#l138.34"></a><span id="l138.34"> </span>
<a href="#l138.35"></a><span id="l138.35"> function setupModule() {</span>
<a href="#l138.36"></a><span id="l138.36">   folderDisplayHelper = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l138.37"></a><span id="l138.37">   mc = folderDisplayHelper.mc;</span>
<a href="#l138.38"></a><span id="l138.38" class="difflineminus">-  windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l138.39"></a><span id="l138.39">   testHelperModule = {</span>
<a href="#l138.40"></a><span id="l138.40">     Cc,</span>
<a href="#l138.41"></a><span id="l138.41">     Ci,</span>
<a href="#l138.42"></a><span id="l138.42">     Cu,</span>
<a href="#l138.43"></a><span id="l138.43">     // fake some xpcshell stuff</span>
<a href="#l138.44"></a><span id="l138.44">     _TEST_FILE: [&quot;mozmill&quot;],</span>
<a href="#l138.45"></a><span id="l138.45">     do_throw(aMsg) {</span>
<a href="#l138.46"></a><span id="l138.46">       throw new Error(aMsg);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l139.1"></a><span id="l139.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-search-window-helpers.js</span>
<a href="#l139.2"></a><span id="l139.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-search-window-helpers.js</span>
<a href="#l139.3"></a><span id="l139.3" class="difflineat">@@ -1,26 +1,28 @@</span>
<a href="#l139.4"></a><span id="l139.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l139.5"></a><span id="l139.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l139.6"></a><span id="l139.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l139.7"></a><span id="l139.7"> </span>
<a href="#l139.8"></a><span id="l139.8"> &quot;use strict&quot;;</span>
<a href="#l139.9"></a><span id="l139.9"> </span>
<a href="#l139.10"></a><span id="l139.10"> var MODULE_NAME = &quot;search-window-helpers&quot;;</span>
<a href="#l139.11"></a><span id="l139.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l139.12"></a><span id="l139.12" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l139.13"></a><span id="l139.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l139.14"></a><span id="l139.14" class="difflineplus">+</span>
<a href="#l139.15"></a><span id="l139.15" class="difflineplus">+var windowHelper = ChromeUtils.import(</span>
<a href="#l139.16"></a><span id="l139.16" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l139.17"></a><span id="l139.17" class="difflineplus">+);</span>
<a href="#l139.18"></a><span id="l139.18"> </span>
<a href="#l139.19"></a><span id="l139.19"> var folderDisplayHelper;</span>
<a href="#l139.20"></a><span id="l139.20"> var mc;</span>
<a href="#l139.21"></a><span id="l139.21" class="difflineminus">-var windowHelper;</span>
<a href="#l139.22"></a><span id="l139.22"> </span>
<a href="#l139.23"></a><span id="l139.23"> function setupModule() {</span>
<a href="#l139.24"></a><span id="l139.24">   folderDisplayHelper = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l139.25"></a><span id="l139.25">   mc = folderDisplayHelper.mc;</span>
<a href="#l139.26"></a><span id="l139.26" class="difflineminus">-  windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l139.27"></a><span id="l139.27"> }</span>
<a href="#l139.28"></a><span id="l139.28"> </span>
<a href="#l139.29"></a><span id="l139.29"> function installInto(module) {</span>
<a href="#l139.30"></a><span id="l139.30">   setupModule();</span>
<a href="#l139.31"></a><span id="l139.31"> </span>
<a href="#l139.32"></a><span id="l139.32">   // Now copy helper functions</span>
<a href="#l139.33"></a><span id="l139.33">   module.open_search_window = open_search_window;</span>
<a href="#l139.34"></a><span id="l139.34">   module.open_search_window_from_context_menu = open_search_window_from_context_menu;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l140.1"></a><span id="l140.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js</span>
<a href="#l140.2"></a><span id="l140.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-subscribe-window-helpers.js</span>
<a href="#l140.3"></a><span id="l140.3" class="difflineat">@@ -1,30 +1,31 @@</span>
<a href="#l140.4"></a><span id="l140.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l140.5"></a><span id="l140.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l140.6"></a><span id="l140.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l140.7"></a><span id="l140.7"> </span>
<a href="#l140.8"></a><span id="l140.8"> &quot;use strict&quot;;</span>
<a href="#l140.9"></a><span id="l140.9"> </span>
<a href="#l140.10"></a><span id="l140.10"> var MODULE_NAME = &quot;subscribe-window-helpers&quot;;</span>
<a href="#l140.11"></a><span id="l140.11"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l140.12"></a><span id="l140.12" class="difflineminus">-var MODULE_REQUIRES = [&quot;window-helpers&quot;, &quot;folder-display-helpers&quot;];</span>
<a href="#l140.13"></a><span id="l140.13" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l140.14"></a><span id="l140.14"> </span>
<a href="#l140.15"></a><span id="l140.15"> var { input_value, delete_all_existing } = ChromeUtils.import(</span>
<a href="#l140.16"></a><span id="l140.16">   &quot;resource://testing-common/mozmill/KeyboardHelpers.jsm&quot;</span>
<a href="#l140.17"></a><span id="l140.17"> );</span>
<a href="#l140.18"></a><span id="l140.18" class="difflineplus">+var windowHelper = ChromeUtils.import(</span>
<a href="#l140.19"></a><span id="l140.19" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l140.20"></a><span id="l140.20" class="difflineplus">+);</span>
<a href="#l140.21"></a><span id="l140.21"> </span>
<a href="#l140.22"></a><span id="l140.22"> var folderDisplayHelper;</span>
<a href="#l140.23"></a><span id="l140.23"> var mc;</span>
<a href="#l140.24"></a><span id="l140.24" class="difflineminus">-var windowHelper;</span>
<a href="#l140.25"></a><span id="l140.25"> </span>
<a href="#l140.26"></a><span id="l140.26"> function setupModule() {</span>
<a href="#l140.27"></a><span id="l140.27">   folderDisplayHelper = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l140.28"></a><span id="l140.28">   mc = folderDisplayHelper.mc;</span>
<a href="#l140.29"></a><span id="l140.29" class="difflineminus">-  windowHelper = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l140.30"></a><span id="l140.30"> }</span>
<a href="#l140.31"></a><span id="l140.31"> </span>
<a href="#l140.32"></a><span id="l140.32"> function installInto(module) {</span>
<a href="#l140.33"></a><span id="l140.33">   setupModule();</span>
<a href="#l140.34"></a><span id="l140.34"> </span>
<a href="#l140.35"></a><span id="l140.35">   // Now copy helper functions</span>
<a href="#l140.36"></a><span id="l140.36">   module.open_subscribe_window_from_context_menu = open_subscribe_window_from_context_menu;</span>
<a href="#l140.37"></a><span id="l140.37">   module.enter_text_in_search_box = enter_text_in_search_box;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l141.1"></a><span id="l141.1" class="difflineminus">--- a/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js</span>
<a href="#l141.2"></a><span id="l141.2" class="difflineplus">+++ b/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js</span>
<a href="#l141.3"></a><span id="l141.3" class="difflineat">@@ -5,25 +5,27 @@</span>
<a href="#l141.4"></a><span id="l141.4"> /**</span>
<a href="#l141.5"></a><span id="l141.5">  * Tests that the main menu will be collapsed by default if Thunderbird starts</span>
<a href="#l141.6"></a><span id="l141.6">  * with no accounts created.</span>
<a href="#l141.7"></a><span id="l141.7">  */</span>
<a href="#l141.8"></a><span id="l141.8"> </span>
<a href="#l141.9"></a><span id="l141.9"> &quot;use strict&quot;;</span>
<a href="#l141.10"></a><span id="l141.10"> </span>
<a href="#l141.11"></a><span id="l141.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l141.12"></a><span id="l141.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l141.13"></a><span id="l141.13"> </span>
<a href="#l141.14"></a><span id="l141.14"> var MODULE_NAME = &quot;test-main-menu-collapsed&quot;;</span>
<a href="#l141.15"></a><span id="l141.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l141.16"></a><span id="l141.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l141.17"></a><span id="l141.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l141.18"></a><span id="l141.18" class="difflineplus">+</span>
<a href="#l141.19"></a><span id="l141.19" class="difflineplus">+var { close_window, wait_for_existing_window } = ChromeUtils.import(</span>
<a href="#l141.20"></a><span id="l141.20" class="difflineplus">+  &quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;</span>
<a href="#l141.21"></a><span id="l141.21" class="difflineplus">+);</span>
<a href="#l141.22"></a><span id="l141.22"> </span>
<a href="#l141.23"></a><span id="l141.23"> function setupModule(module) {</span>
<a href="#l141.24"></a><span id="l141.24">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l141.25"></a><span id="l141.25" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l141.26"></a><span id="l141.26"> }</span>
<a href="#l141.27"></a><span id="l141.27"> </span>
<a href="#l141.28"></a><span id="l141.28"> function test_main_menu_collapsed() {</span>
<a href="#l141.29"></a><span id="l141.29">   // Due to random oranges on slower machines, we need to ensure that startup</span>
<a href="#l141.30"></a><span id="l141.30">   // is complete before running this test.</span>
<a href="#l141.31"></a><span id="l141.31">   let done = false;</span>
<a href="#l141.32"></a><span id="l141.32">   let observer = {</span>
<a href="#l141.33"></a><span id="l141.33">     observe(aSubject, aTopic, aData) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l142.1"></a><span id="l142.1" class="difflineminus">--- a/mail/test/mozmill/tabmail/test-tabmail-closing.js</span>
<a href="#l142.2"></a><span id="l142.2" class="difflineplus">+++ b/mail/test/mozmill/tabmail/test-tabmail-closing.js</span>
<a href="#l142.3"></a><span id="l142.3" class="difflineat">@@ -4,29 +4,27 @@</span>
<a href="#l142.4"></a><span id="l142.4"> </span>
<a href="#l142.5"></a><span id="l142.5"> /*</span>
<a href="#l142.6"></a><span id="l142.6">  * Test tabmail behaviour when tabs close.</span>
<a href="#l142.7"></a><span id="l142.7">  */</span>
<a href="#l142.8"></a><span id="l142.8"> </span>
<a href="#l142.9"></a><span id="l142.9"> &quot;use strict&quot;;</span>
<a href="#l142.10"></a><span id="l142.10"> </span>
<a href="#l142.11"></a><span id="l142.11"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l142.12"></a><span id="l142.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l142.13"></a><span id="l142.13"> </span>
<a href="#l142.14"></a><span id="l142.14"> var MODULE_NAME = &quot;test-tabmail-closing&quot;;</span>
<a href="#l142.15"></a><span id="l142.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l142.16"></a><span id="l142.16" class="difflineminus">-var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;window-helpers&quot;];</span>
<a href="#l142.17"></a><span id="l142.17" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;];</span>
<a href="#l142.18"></a><span id="l142.18"> </span>
<a href="#l142.19"></a><span id="l142.19"> var gFolder;</span>
<a href="#l142.20"></a><span id="l142.20"> </span>
<a href="#l142.21"></a><span id="l142.21"> var MSGS_PER_THREAD = 3;</span>
<a href="#l142.22"></a><span id="l142.22"> </span>
<a href="#l142.23"></a><span id="l142.23"> function setupModule(module) {</span>
<a href="#l142.24"></a><span id="l142.24">   collector.getModule(&quot;folder-display-helpers&quot;).installInto(module);</span>
<a href="#l142.25"></a><span id="l142.25" class="difflineminus">-  collector.getModule(&quot;window-helpers&quot;).installInto(module);</span>
<a href="#l142.26"></a><span id="l142.26"> </span>
<a href="#l142.27"></a><span id="l142.27">   gFolder = create_folder(&quot;test-tabmail-closing folder&quot;);</span>
<a href="#l142.28"></a><span id="l142.28">   make_new_sets_in_folder(gFolder, [{ msgsPerThread: MSGS_PER_THREAD }]);</span>
<a href="#l142.29"></a><span id="l142.29"> }</span>
<a href="#l142.30"></a><span id="l142.30"> </span>
<a href="#l142.31"></a><span id="l142.31"> /**</span>
<a href="#l142.32"></a><span id="l142.32">  * Test that if we open up a message in a tab from the inbox tab, that</span>
<a href="#l142.33"></a><span id="l142.33">  * if we immediately close that tab, we switch back to the inbox tab.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l143.1"></a><span id="l143.1" class="difflineminus">--- a/mail/test/mozmill/tabmail/test-tabmail-customize.js</span>
<a href="#l143.2"></a><span id="l143.2" class="difflineplus">+++ b/mail/test/mozmill/tabmail/test-tabmail-customize.js</span>
<a href="#l143.3"></a><span id="l143.3" class="difflineat">@@ -6,36 +6,32 @@</span>
<a href="#l143.4"></a><span id="l143.4">  * Tests customization features of the tabs toolbar.</span>
<a href="#l143.5"></a><span id="l143.5">  */</span>
<a href="#l143.6"></a><span id="l143.6"> </span>
<a href="#l143.7"></a><span id="l143.7"> &quot;use strict&quot;;</span>
<a href="#l143.8"></a><span id="l143.8"> </span>
<a href="#l143.9"></a><span id="l143.9"> /* import-globals-from ../shared-modules/test-customization-helpers.js */</span>
<a href="#l143.10"></a><span id="l143.10"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l143.11"></a><span id="l143.11"> /* import-globals-from ../shared-modules/test-mouse-event-helpers.js */</span>
<a href="#l143.12"></a><span id="l143.12" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l143.13"></a><span id="l143.13"> </span>
<a href="#l143.14"></a><span id="l143.14"> var MODULE_NAME = &quot;test-tabmail-customize&quot;;</span>
<a href="#l143.15"></a><span id="l143.15"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l143.16"></a><span id="l143.16"> var MODULE_REQUIRES = [</span>
<a href="#l143.17"></a><span id="l143.17">   &quot;folder-display-helpers&quot;,</span>
<a href="#l143.18"></a><span id="l143.18">   &quot;mouse-event-helpers&quot;,</span>
<a href="#l143.19"></a><span id="l143.19" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l143.20"></a><span id="l143.20">   &quot;customization-helpers&quot;,</span>
<a href="#l143.21"></a><span id="l143.21"> ];</span>
<a href="#l143.22"></a><span id="l143.22"> </span>
<a href="#l143.23"></a><span id="l143.23"> var gCDHelper;</span>
<a href="#l143.24"></a><span id="l143.24"> </span>
<a href="#l143.25"></a><span id="l143.25"> function setupModule(module) {</span>
<a href="#l143.26"></a><span id="l143.26">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l143.27"></a><span id="l143.27">   fdh.installInto(module);</span>
<a href="#l143.28"></a><span id="l143.28">   let meh = collector.getModule(&quot;mouse-event-helpers&quot;);</span>
<a href="#l143.29"></a><span id="l143.29">   meh.installInto(module);</span>
<a href="#l143.30"></a><span id="l143.30" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l143.31"></a><span id="l143.31" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l143.32"></a><span id="l143.32">   let cu = collector.getModule(&quot;customization-helpers&quot;);</span>
<a href="#l143.33"></a><span id="l143.33">   cu.installInto(module);</span>
<a href="#l143.34"></a><span id="l143.34">   gCDHelper = new CustomizeDialogHelper(</span>
<a href="#l143.35"></a><span id="l143.35">     &quot;mail-toolbar-menubar2&quot;,</span>
<a href="#l143.36"></a><span id="l143.36">     &quot;CustomizeMailToolbar&quot;,</span>
<a href="#l143.37"></a><span id="l143.37">     &quot;mailnews:customizeToolbar&quot;</span>
<a href="#l143.38"></a><span id="l143.38">   );</span>
<a href="#l143.39"></a><span id="l143.39"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l144.1"></a><span id="l144.1" class="difflineminus">--- a/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</span>
<a href="#l144.2"></a><span id="l144.2" class="difflineplus">+++ b/mail/test/mozmill/tabmail/test-tabmail-dragndrop.js</span>
<a href="#l144.3"></a><span id="l144.3" class="difflineat">@@ -1,46 +1,46 @@</span>
<a href="#l144.4"></a><span id="l144.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l144.5"></a><span id="l144.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l144.6"></a><span id="l144.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l144.7"></a><span id="l144.7"> </span>
<a href="#l144.8"></a><span id="l144.8"> &quot;use strict&quot;;</span>
<a href="#l144.9"></a><span id="l144.9"> </span>
<a href="#l144.10"></a><span id="l144.10" class="difflineminus">-var elib = ChromeUtils.import(</span>
<a href="#l144.11"></a><span id="l144.11" class="difflineminus">-  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l144.12"></a><span id="l144.12" class="difflineminus">-);</span>
<a href="#l144.13"></a><span id="l144.13" class="difflineminus">-var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l144.14"></a><span id="l144.14" class="difflineminus">-</span>
<a href="#l144.15"></a><span id="l144.15"> /*</span>
<a href="#l144.16"></a><span id="l144.16">  * Test rearanging tabs via drag'n'drop.</span>
<a href="#l144.17"></a><span id="l144.17">  */</span>
<a href="#l144.18"></a><span id="l144.18"> </span>
<a href="#l144.19"></a><span id="l144.19"> /* import-globals-from ../shared-modules/test-folder-display-helpers.js */</span>
<a href="#l144.20"></a><span id="l144.20"> /* import-globals-from ../shared-modules/test-mouse-event-helpers.js */</span>
<a href="#l144.21"></a><span id="l144.21" class="difflineminus">-/* import-globals-from ../shared-modules/test-window-helpers.js */</span>
<a href="#l144.22"></a><span id="l144.22"> </span>
<a href="#l144.23"></a><span id="l144.23"> var MODULE_NAME = &quot;test-tabmail-dragndrop&quot;;</span>
<a href="#l144.24"></a><span id="l144.24"> var RELATIVE_ROOT = &quot;../shared-modules&quot;;</span>
<a href="#l144.25"></a><span id="l144.25" class="difflineminus">-var MODULE_REQUIRES = [</span>
<a href="#l144.26"></a><span id="l144.26" class="difflineminus">-  &quot;folder-display-helpers&quot;,</span>
<a href="#l144.27"></a><span id="l144.27" class="difflineminus">-  &quot;window-helpers&quot;,</span>
<a href="#l144.28"></a><span id="l144.28" class="difflineminus">-  &quot;mouse-event-helpers&quot;,</span>
<a href="#l144.29"></a><span id="l144.29" class="difflineminus">-];</span>
<a href="#l144.30"></a><span id="l144.30" class="difflineplus">+var MODULE_REQUIRES = [&quot;folder-display-helpers&quot;, &quot;mouse-event-helpers&quot;];</span>
<a href="#l144.31"></a><span id="l144.31" class="difflineplus">+</span>
<a href="#l144.32"></a><span id="l144.32" class="difflineplus">+var elib = ChromeUtils.import(</span>
<a href="#l144.33"></a><span id="l144.33" class="difflineplus">+  &quot;chrome://mozmill/content/modules/elementslib.jsm&quot;</span>
<a href="#l144.34"></a><span id="l144.34" class="difflineplus">+);</span>
<a href="#l144.35"></a><span id="l144.35" class="difflineplus">+</span>
<a href="#l144.36"></a><span id="l144.36" class="difflineplus">+var {</span>
<a href="#l144.37"></a><span id="l144.37" class="difflineplus">+  close_window,</span>
<a href="#l144.38"></a><span id="l144.38" class="difflineplus">+  plan_for_new_window,</span>
<a href="#l144.39"></a><span id="l144.39" class="difflineplus">+  wait_for_new_window,</span>
<a href="#l144.40"></a><span id="l144.40" class="difflineplus">+} = ChromeUtils.import(&quot;resource://testing-common/mozmill/WindowHelpers.jsm&quot;);</span>
<a href="#l144.41"></a><span id="l144.41" class="difflineplus">+</span>
<a href="#l144.42"></a><span id="l144.42" class="difflineplus">+var { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l144.43"></a><span id="l144.43"> </span>
<a href="#l144.44"></a><span id="l144.44"> var folder;</span>
<a href="#l144.45"></a><span id="l144.45"> var msgHdrsInFolder = [];</span>
<a href="#l144.46"></a><span id="l144.46"> </span>
<a href="#l144.47"></a><span id="l144.47"> // The number of messages in folder.</span>
<a href="#l144.48"></a><span id="l144.48"> var NUM_MESSAGES_IN_FOLDER = 15;</span>
<a href="#l144.49"></a><span id="l144.49"> </span>
<a href="#l144.50"></a><span id="l144.50"> function setupModule(module) {</span>
<a href="#l144.51"></a><span id="l144.51">   let fdh = collector.getModule(&quot;folder-display-helpers&quot;);</span>
<a href="#l144.52"></a><span id="l144.52">   fdh.installInto(module);</span>
<a href="#l144.53"></a><span id="l144.53" class="difflineminus">-  let wh = collector.getModule(&quot;window-helpers&quot;);</span>
<a href="#l144.54"></a><span id="l144.54" class="difflineminus">-  wh.installInto(module);</span>
<a href="#l144.55"></a><span id="l144.55">   let meh = collector.getModule(&quot;mouse-event-helpers&quot;);</span>
<a href="#l144.56"></a><span id="l144.56">   meh.installInto(module);</span>
<a href="#l144.57"></a><span id="l144.57"> </span>
<a href="#l144.58"></a><span id="l144.58">   folder = create_folder(&quot;MessageFolder&quot;);</span>
<a href="#l144.59"></a><span id="l144.59">   make_new_sets_in_folder(folder, [{ count: NUM_MESSAGES_IN_FOLDER }]);</span>
<a href="#l144.60"></a><span id="l144.60"> }</span>
<a href="#l144.61"></a><span id="l144.61"> </span>
<a href="#l144.62"></a><span id="l144.62"> /**</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

