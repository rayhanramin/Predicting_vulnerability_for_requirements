<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 13154:8ae9cf95cb401122f6e4929265f26857477b7124</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 8ae9cf95cb401122f6e4929265f26857477b7124" />
<meta property="og:url" content="/comm-central/rev/8ae9cf95cb401122f6e4929265f26857477b7124" />
<meta property="og:description" content="Bug 925489 - Perma-fail: test_bug155172.js | test failed (with xpcshell return code: 0) and a bunch more. r=standard8,a=Standard8 for CLOSED TREE" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 8ae9cf95cb401122f6e4929265f26857477b7124 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/8ae9cf95cb401122f6e4929265f26857477b7124">shortlog</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/8ae9cf95cb401122f6e4929265f26857477b7124">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124">files</a> |
changeset |
<a href="/comm-central/raw-rev/8ae9cf95cb401122f6e4929265f26857477b7124">raw</a>  | <a href="/comm-central/archive/8ae9cf95cb401122f6e4929265f26857477b7124.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=925489">Bug 925489</a> - Perma-fail: test_bug155172.js | test failed (with xpcshell return code: 0) and a bunch more. r=standard8,a=Standard8 for CLOSED TREE
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#103;&#110;&#117;&#115;&#32;&#77;&#101;&#108;&#105;&#110;&#32;&#60;&#109;&#107;&#109;&#101;&#108;&#105;&#110;&#43;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#105;&#107;&#105;&#46;&#102;&#105;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 14 Oct 2013 22:15:38 +0300</td></tr>

<tr>
 <td>changeset 13154</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/8ae9cf95cb401122f6e4929265f26857477b7124">8ae9cf95cb401122f6e4929265f26857477b7124</a></td>
</tr>



<tr>
<td>parent 13153</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/00e34a02cca896a0069c26407e5e4402bc31f994">00e34a02cca896a0069c26407e5e4402bc31f994</a>
</td>
</tr>

<tr>
<td>child 13155</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/1ea86fb44034d62465e57d5e3dac975cd2be8742">1ea86fb44034d62465e57d5e3dac975cd2be8742</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=8ae9cf95cb401122f6e4929265f26857477b7124">9568</a></td></tr>
<tr><td>push user</td><td>bugzilla@standard8.plus.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 17 Oct 2013 08:04:47 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@1ea86fb44034 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=1ea86fb44034d62465e57d5e3dac975cd2be8742">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=1ea86fb44034d62465e57d5e3dac975cd2be8742&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=1ea86fb44034d62465e57d5e3dac975cd2be8742&newProject=comm-central&newRevision=00e34a02cca896a0069c26407e5e4402bc31f994&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=1ea86fb44034d62465e57d5e3dac975cd2be8742&newProject=comm-central&newRevision=00e34a02cca896a0069c26407e5e4402bc31f994&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=1ea86fb44034d62465e57d5e3dac975cd2be8742&newProject=comm-central&newRevision=00e34a02cca896a0069c26407e5e4402bc31f994&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28standard8%29&revcount=50">standard8</a>, <a href="/comm-central/log?rev=reviewer%28Standard8%29&revcount=50">Standard8</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=925489">925489</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=155172">155172</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=925489">Bug 925489</a> - Perma-fail: test_bug155172.js | test failed (with xpcshell return code: 0) and a bunch more. r=standard8,a=Standard8 for CLOSED TREE</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/data/signons-smtp.txt">mailnews/compose/test/unit/data/signons-smtp.txt</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/data/signons-smtp.txt">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/data/signons-smtp.txt">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/data/signons-smtp.txt">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/head_compose.js">mailnews/compose/test/unit/head_compose.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/head_compose.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/head_compose.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/head_compose.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/head_compose.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/head_compose.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_bug155172.js">mailnews/compose/test/unit/test_bug155172.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_bug155172.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_bug155172.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_bug155172.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_bug155172.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_bug155172.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword.js">mailnews/compose/test/unit/test_smtpPassword.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword2.js">mailnews/compose/test/unit/test_smtpPassword2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword2.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword2.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword2.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword2.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPassword2.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">mailnews/compose/test/unit/test_smtpPasswordFailure1.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure1.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">mailnews/compose/test/unit/test_smtpPasswordFailure2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure2.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">mailnews/compose/test/unit/test_smtpPasswordFailure3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/compose/test/unit/test_smtpPasswordFailure3.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/imap/test/unit/test_imapPasswordFailure.js">mailnews/imap/test/unit/test_imapPasswordFailure.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/imap/test/unit/test_imapPasswordFailure.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/imap/test/unit/test_imapPasswordFailure.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/imap/test/unit/test_imapPasswordFailure.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/imap/test/unit/test_imapPasswordFailure.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/imap/test/unit/test_imapPasswordFailure.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password.js">mailnews/local/test/unit/test_pop3Password.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password2.js">mailnews/local/test/unit/test_pop3Password2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password2.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password2.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password2.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password2.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password2.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password3.js">mailnews/local/test/unit/test_pop3Password3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password3.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password3.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password3.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password3.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3Password3.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure.js">mailnews/local/test/unit/test_pop3PasswordFailure.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure2.js">mailnews/local/test/unit/test_pop3PasswordFailure2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure2.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure2.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure2.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure2.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure3.js">mailnews/local/test/unit/test_pop3PasswordFailure3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure3.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure3.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure3.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure3.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/local/test/unit/test_pop3PasswordFailure3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/head_server_setup.js">mailnews/news/test/unit/head_server_setup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/head_server_setup.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/head_server_setup.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/head_server_setup.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/head_server_setup.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/head_server_setup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword.js">mailnews/news/test/unit/test_nntpPassword.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword2.js">mailnews/news/test/unit/test_nntpPassword2.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword2.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword2.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword2.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword2.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword2.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword3.js">mailnews/news/test/unit/test_nntpPassword3.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword3.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword3.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword3.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword3.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPassword3.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPasswordFailure.js">mailnews/news/test/unit/test_nntpPasswordFailure.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPasswordFailure.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPasswordFailure.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPasswordFailure.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPasswordFailure.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/news/test/unit/test_nntpPasswordFailure.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/key3.db">mailnews/test/data/key3.db</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/key3.db">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/key3.db">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/key3.db">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/key3.db">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/key3.db">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.sqlite">mailnews/test/data/signons-mailnews1.8-alt.sqlite</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.sqlite">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.sqlite">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.sqlite">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.sqlite">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.sqlite">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.txt">mailnews/test/data/signons-mailnews1.8-alt.txt</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.txt">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.txt">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-alt.txt">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.sqlite">mailnews/test/data/signons-mailnews1.8-imap.sqlite</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.sqlite">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.sqlite">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.sqlite">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.sqlite">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.sqlite">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.txt">mailnews/test/data/signons-mailnews1.8-imap.txt</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.txt">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.txt">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-imap.txt">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.sqlite">mailnews/test/data/signons-mailnews1.8-multiple.sqlite</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.sqlite">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.sqlite">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.sqlite">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.sqlite">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.sqlite">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.txt">mailnews/test/data/signons-mailnews1.8-multiple.txt</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.txt">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.txt">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8-multiple.txt">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.sqlite">mailnews/test/data/signons-mailnews1.8.sqlite</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.sqlite">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.sqlite">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.sqlite">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.sqlite">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.sqlite">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.txt">mailnews/test/data/signons-mailnews1.8.txt</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.txt">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.txt">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-mailnews1.8.txt">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-smtp.sqlite">mailnews/test/data/signons-smtp.sqlite</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-smtp.sqlite">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-smtp.sqlite">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-smtp.sqlite">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-smtp.sqlite">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/data/signons-smtp.sqlite">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/resources/passwordStorage.js">mailnews/test/resources/passwordStorage.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/resources/passwordStorage.js">file</a> |
<a href="/comm-central/annotate/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/resources/passwordStorage.js">annotate</a> |
<a href="/comm-central/diff/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/resources/passwordStorage.js">diff</a> |
<a href="/comm-central/comparison/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/resources/passwordStorage.js">comparison</a> |
<a href="/comm-central/log/8ae9cf95cb401122f6e4929265f26857477b7124/mailnews/test/resources/passwordStorage.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1">deleted file mode 100644</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineminus">--- a/mailnews/compose/test/unit/data/signons-smtp.txt</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineplus">+++ /dev/null</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineat">@@ -1,8 +0,0 @@</span>
<a href="#l1.5"></a><span id="l1.5" class="difflineminus">-#2c</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineminus">-.</span>
<a href="#l1.7"></a><span id="l1.7" class="difflineminus">-smtp://test.smtp%40fakeserver@localhost</span>
<a href="#l1.8"></a><span id="l1.8" class="difflineminus">-\=username=\</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineminus">-~</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-*\=password=\</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineminus">-~c210cHRlc3Q=</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/compose/test/unit/head_compose.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/compose/test/unit/head_compose.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -8,16 +8,18 @@ Components.utils.import(&quot;resource://test</span>
<a href="#l2.4"></a><span id="l2.4"> var Cc = Components.classes;</span>
<a href="#l2.5"></a><span id="l2.5"> var Ci = Components.interfaces;</span>
<a href="#l2.6"></a><span id="l2.6"> var Cr = Components.results;</span>
<a href="#l2.7"></a><span id="l2.7"> var CC = Components.Constructor;</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9"> // Ensure the profile directory is set up</span>
<a href="#l2.10"></a><span id="l2.10"> do_get_profile();</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+var gDEPTH = &quot;../../../../&quot;;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+</span>
<a href="#l2.14"></a><span id="l2.14"> // Import the required setup scripts.</span>
<a href="#l2.15"></a><span id="l2.15"> load(&quot;../../../resources/abSetup.js&quot;);</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> // Import the smtp server scripts</span>
<a href="#l2.18"></a><span id="l2.18"> Components.utils.import(&quot;resource://testing-common/mailnews/maild.js&quot;);</span>
<a href="#l2.19"></a><span id="l2.19"> Components.utils.import(&quot;resource://testing-common/mailnews/smtpd.js&quot;);</span>
<a href="#l2.20"></a><span id="l2.20"> Components.utils.import(&quot;resource://testing-common/mailnews/auth.js&quot;);</span>
<a href="#l2.21"></a><span id="l2.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_bug155172.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_bug155172.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,14 +1,15 @@</span>
<a href="#l3.4"></a><span id="l3.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l3.5"></a><span id="l3.5"> /**</span>
<a href="#l3.6"></a><span id="l3.6">  * Authentication tests for SMTP.</span>
<a href="#l3.7"></a><span id="l3.7">  */</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l3.13"></a><span id="l3.13"> </span>
<a href="#l3.14"></a><span id="l3.14"> var gNewPassword = null;</span>
<a href="#l3.15"></a><span id="l3.15"> </span>
<a href="#l3.16"></a><span id="l3.16"> function confirmEx(aDialogTitle, aText, aButtonFlags, aButton0Title,</span>
<a href="#l3.17"></a><span id="l3.17">                    aButton1Title, aButton2Title, aCheckMsg, aCheckState) {</span>
<a href="#l3.18"></a><span id="l3.18">   // Just return 2 which will is pressing button 2 - enter a new password.</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineat">@@ -42,21 +43,18 @@ function run_test() {</span>
<a href="#l3.20"></a><span id="l3.20">     handler.kAuthRequired = true;</span>
<a href="#l3.21"></a><span id="l3.21">     handler.kAuthSchemes = [ &quot;PLAIN&quot;, &quot;LOGIN&quot; ]; // make match expected transaction below</span>
<a href="#l3.22"></a><span id="l3.22">     return handler;</span>
<a href="#l3.23"></a><span id="l3.23">   }</span>
<a href="#l3.24"></a><span id="l3.24"> </span>
<a href="#l3.25"></a><span id="l3.25">   server = setupServerDaemon(createHandler);</span>
<a href="#l3.26"></a><span id="l3.26">   server.setDebugLevel(fsDebugAll);</span>
<a href="#l3.27"></a><span id="l3.27"> </span>
<a href="#l3.28"></a><span id="l3.28" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-  var signons = do_get_file(&quot;data/signons-smtp.txt&quot;);</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+  setupForPassword(&quot;signons-smtp.sqlite&quot;)</span>
<a href="#l3.35"></a><span id="l3.35"> </span>
<a href="#l3.36"></a><span id="l3.36">   // Test file</span>
<a href="#l3.37"></a><span id="l3.37">   var testFile = do_get_file(&quot;data/message1.eml&quot;);</span>
<a href="#l3.38"></a><span id="l3.38"> </span>
<a href="#l3.39"></a><span id="l3.39">   // Ensure we have at least one mail account</span>
<a href="#l3.40"></a><span id="l3.40">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l3.41"></a><span id="l3.41"> </span>
<a href="#l3.42"></a><span id="l3.42">   var smtpServer = getBasicSmtpServer();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPassword.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPassword.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,15 +1,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l4.5"></a><span id="l4.5"> /**</span>
<a href="#l4.6"></a><span id="l4.6">  * Authentication tests for SMTP.</span>
<a href="#l4.7"></a><span id="l4.7">  */</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l4.10"></a><span id="l4.10"> </span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+</span>
<a href="#l4.13"></a><span id="l4.13"> var server;</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15"> const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l4.16"></a><span id="l4.16"> const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l4.17"></a><span id="l4.17"> const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l4.18"></a><span id="l4.18"> // This is the same as in the signons file.</span>
<a href="#l4.19"></a><span id="l4.19"> const kPassword = &quot;smtptest&quot;;</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21" class="difflineat">@@ -19,21 +21,18 @@ function run_test() {</span>
<a href="#l4.22"></a><span id="l4.22">     // Username needs to match signons.txt</span>
<a href="#l4.23"></a><span id="l4.23">     handler.kUsername = kUsername;</span>
<a href="#l4.24"></a><span id="l4.24">     handler.kPassword = kPassword;</span>
<a href="#l4.25"></a><span id="l4.25">     handler.kAuthRequired = true;</span>
<a href="#l4.26"></a><span id="l4.26">     return handler;</span>
<a href="#l4.27"></a><span id="l4.27">   }</span>
<a href="#l4.28"></a><span id="l4.28">   server = setupServerDaemon(createHandler);</span>
<a href="#l4.29"></a><span id="l4.29"> </span>
<a href="#l4.30"></a><span id="l4.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">-</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l4.37"></a><span id="l4.37"> </span>
<a href="#l4.38"></a><span id="l4.38">   // Test file</span>
<a href="#l4.39"></a><span id="l4.39">   var testFile = do_get_file(&quot;data/message1.eml&quot;);</span>
<a href="#l4.40"></a><span id="l4.40"> </span>
<a href="#l4.41"></a><span id="l4.41">   // Ensure we have at least one mail account</span>
<a href="#l4.42"></a><span id="l4.42">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l4.43"></a><span id="l4.43"> </span>
<a href="#l4.44"></a><span id="l4.44">   var smtpServer = getBasicSmtpServer();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPassword2.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPassword2.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,28 +1,27 @@</span>
<a href="#l5.4"></a><span id="l5.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l5.5"></a><span id="l5.5"> /**</span>
<a href="#l5.6"></a><span id="l5.6">  * Extra tests for SMTP passwords (forgetPassword)</span>
<a href="#l5.7"></a><span id="l5.7">  */</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+</span>
<a href="#l5.13"></a><span id="l5.13"> const kUser1 = &quot;testsmtp&quot;;</span>
<a href="#l5.14"></a><span id="l5.14"> const kUser2 = &quot;testsmtpa&quot;;</span>
<a href="#l5.15"></a><span id="l5.15"> const kProtocol = &quot;smtp&quot;;</span>
<a href="#l5.16"></a><span id="l5.16"> const kHostname = &quot;localhost&quot;;</span>
<a href="#l5.17"></a><span id="l5.17"> const kServerUrl = kProtocol + &quot;://&quot; + kHostname;</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19"> function run_test()</span>
<a href="#l5.20"></a><span id="l5.20"> {</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8-multiple.txt&quot;);</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineminus">-</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8-multiple.sqlite&quot;)</span>
<a href="#l5.28"></a><span id="l5.28"> </span>
<a href="#l5.29"></a><span id="l5.29">   // Set up the basic accounts and folders.</span>
<a href="#l5.30"></a><span id="l5.30">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l5.31"></a><span id="l5.31"> </span>
<a href="#l5.32"></a><span id="l5.32">   var smtpServer1 = getBasicSmtpServer();</span>
<a href="#l5.33"></a><span id="l5.33">   var smtpServer2 = getBasicSmtpServer();</span>
<a href="#l5.34"></a><span id="l5.34"> </span>
<a href="#l5.35"></a><span id="l5.35">   smtpServer1.authMethod = 3;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPasswordFailure1.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPasswordFailure1.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -10,16 +10,17 @@</span>
<a href="#l6.4"></a><span id="l6.4">  * multiple sends, the rest of this test is in test_smtpPasswordFailure2.js.</span>
<a href="#l6.5"></a><span id="l6.5">  */</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l6.8"></a><span id="l6.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l6.9"></a><span id="l6.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l6.10"></a><span id="l6.10"> </span>
<a href="#l6.11"></a><span id="l6.11"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l6.13"></a><span id="l6.13"> </span>
<a href="#l6.14"></a><span id="l6.14"> var server;</span>
<a href="#l6.15"></a><span id="l6.15"> var attempt = 0;</span>
<a href="#l6.16"></a><span id="l6.16"> </span>
<a href="#l6.17"></a><span id="l6.17"> const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l6.18"></a><span id="l6.18"> const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l6.19"></a><span id="l6.19"> const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l6.20"></a><span id="l6.20"> // This is the same as in the signons file.</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineat">@@ -59,21 +60,18 @@ function run_test() {</span>
<a href="#l6.22"></a><span id="l6.22">     // Username needs to match signons.txt</span>
<a href="#l6.23"></a><span id="l6.23">     handler.kUsername = kUsername;</span>
<a href="#l6.24"></a><span id="l6.24">     handler.kPassword = kValidPassword;</span>
<a href="#l6.25"></a><span id="l6.25">     handler.kAuthRequired = true;</span>
<a href="#l6.26"></a><span id="l6.26">     return handler;</span>
<a href="#l6.27"></a><span id="l6.27">   }</span>
<a href="#l6.28"></a><span id="l6.28">   server = setupServerDaemon(createHandler);</span>
<a href="#l6.29"></a><span id="l6.29"> </span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l6.37"></a><span id="l6.37"> </span>
<a href="#l6.38"></a><span id="l6.38">   registerAlertTestUtils();</span>
<a href="#l6.39"></a><span id="l6.39"> </span>
<a href="#l6.40"></a><span id="l6.40">   // Test file</span>
<a href="#l6.41"></a><span id="l6.41">   var testFile = do_get_file(&quot;data/message1.eml&quot;);</span>
<a href="#l6.42"></a><span id="l6.42"> </span>
<a href="#l6.43"></a><span id="l6.43">   // Ensure we have at least one mail account</span>
<a href="#l6.44"></a><span id="l6.44">   localAccountUtils.loadLocalMailAccount();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPasswordFailure2.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPasswordFailure2.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -10,16 +10,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">  * test_smtpPasswordFailure2.js.</span>
<a href="#l7.5"></a><span id="l7.5">  */</span>
<a href="#l7.6"></a><span id="l7.6"> </span>
<a href="#l7.7"></a><span id="l7.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l7.8"></a><span id="l7.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l7.9"></a><span id="l7.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l7.13"></a><span id="l7.13"> </span>
<a href="#l7.14"></a><span id="l7.14"> var server;</span>
<a href="#l7.15"></a><span id="l7.15"> var attempt = 0;</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17"> const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l7.18"></a><span id="l7.18"> const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l7.19"></a><span id="l7.19"> const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l7.20"></a><span id="l7.20"> // This is the same as in the signons file.</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineat">@@ -70,21 +71,18 @@ function run_test() {</span>
<a href="#l7.22"></a><span id="l7.22">     handler.kUsername = kUsername;</span>
<a href="#l7.23"></a><span id="l7.23">     handler.kPassword = kValidPassword;</span>
<a href="#l7.24"></a><span id="l7.24">     handler.kAuthRequired = true;</span>
<a href="#l7.25"></a><span id="l7.25">     handler.kAuthSchemes = [ &quot;PLAIN&quot;, &quot;LOGIN&quot; ]; // make match expected transaction below</span>
<a href="#l7.26"></a><span id="l7.26">     return handler;</span>
<a href="#l7.27"></a><span id="l7.27">   }</span>
<a href="#l7.28"></a><span id="l7.28">   server = setupServerDaemon(createHandler);</span>
<a href="#l7.29"></a><span id="l7.29"> </span>
<a href="#l7.30"></a><span id="l7.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineminus">-</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l7.37"></a><span id="l7.37"> </span>
<a href="#l7.38"></a><span id="l7.38">   registerAlertTestUtils();</span>
<a href="#l7.39"></a><span id="l7.39"> </span>
<a href="#l7.40"></a><span id="l7.40">   // Test file</span>
<a href="#l7.41"></a><span id="l7.41">   var testFile = do_get_file(&quot;data/message1.eml&quot;);</span>
<a href="#l7.42"></a><span id="l7.42"> </span>
<a href="#l7.43"></a><span id="l7.43">   // Ensure we have at least one mail account</span>
<a href="#l7.44"></a><span id="l7.44">   localAccountUtils.loadLocalMailAccount();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_smtpPasswordFailure3.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_smtpPasswordFailure3.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -8,16 +8,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">  *</span>
<a href="#l8.5"></a><span id="l8.5">  */</span>
<a href="#l8.6"></a><span id="l8.6"> </span>
<a href="#l8.7"></a><span id="l8.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l8.8"></a><span id="l8.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l8.9"></a><span id="l8.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l8.13"></a><span id="l8.13"> </span>
<a href="#l8.14"></a><span id="l8.14"> var server;</span>
<a href="#l8.15"></a><span id="l8.15"> var attempt = 0;</span>
<a href="#l8.16"></a><span id="l8.16"> </span>
<a href="#l8.17"></a><span id="l8.17"> const kSender = &quot;from@foo.invalid&quot;;</span>
<a href="#l8.18"></a><span id="l8.18"> const kTo = &quot;to@foo.invalid&quot;;</span>
<a href="#l8.19"></a><span id="l8.19"> const kUsername = &quot;testsmtp&quot;;</span>
<a href="#l8.20"></a><span id="l8.20"> // This is the same as in the signons file.</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineat">@@ -69,21 +70,18 @@ function run_test() {</span>
<a href="#l8.22"></a><span id="l8.22">     handler.kUsername = kUsername;</span>
<a href="#l8.23"></a><span id="l8.23">     handler.kPassword = kValidPassword;</span>
<a href="#l8.24"></a><span id="l8.24">     handler.kAuthRequired = true;</span>
<a href="#l8.25"></a><span id="l8.25">     handler.kAuthSchemes = [ &quot;PLAIN&quot;, &quot;LOGIN&quot; ]; // make match expected transaction below</span>
<a href="#l8.26"></a><span id="l8.26">     return handler;</span>
<a href="#l8.27"></a><span id="l8.27">   }</span>
<a href="#l8.28"></a><span id="l8.28">   server = setupServerDaemon(createHandler);</span>
<a href="#l8.29"></a><span id="l8.29"> </span>
<a href="#l8.30"></a><span id="l8.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineminus">-</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l8.37"></a><span id="l8.37"> </span>
<a href="#l8.38"></a><span id="l8.38">   registerAlertTestUtils();</span>
<a href="#l8.39"></a><span id="l8.39"> </span>
<a href="#l8.40"></a><span id="l8.40">   // Test file</span>
<a href="#l8.41"></a><span id="l8.41">   var testFile = do_get_file(&quot;data/message1.eml&quot;);</span>
<a href="#l8.42"></a><span id="l8.42"> </span>
<a href="#l8.43"></a><span id="l8.43">   // Ensure we have at least one mail account</span>
<a href="#l8.44"></a><span id="l8.44">   localAccountUtils.loadLocalMailAccount();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/imap/test/unit/test_imapPasswordFailure.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/imap/test/unit/test_imapPasswordFailure.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -8,16 +8,17 @@</span>
<a href="#l9.4"></a><span id="l9.4">  *   - Re-initiate connection, this time select enter new password, check that</span>
<a href="#l9.5"></a><span id="l9.5">  *     we get a new password prompt and can enter the password.</span>
<a href="#l9.6"></a><span id="l9.6">  */</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l9.9"></a><span id="l9.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l9.13"></a><span id="l9.13"> </span>
<a href="#l9.14"></a><span id="l9.14"> const kUserName = &quot;user&quot;;</span>
<a href="#l9.15"></a><span id="l9.15"> const kInvalidPassword = &quot;imaptest&quot;;</span>
<a href="#l9.16"></a><span id="l9.16"> const kValidPassword = &quot;password&quot;;</span>
<a href="#l9.17"></a><span id="l9.17"> </span>
<a href="#l9.18"></a><span id="l9.18"> var incomingServer, server;</span>
<a href="#l9.19"></a><span id="l9.19"> var attempt = 0;</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21" class="difflineat">@@ -54,21 +55,18 @@ function promptPasswordPS(aParent, aDial</span>
<a href="#l9.22"></a><span id="l9.22">     return true;</span>
<a href="#l9.23"></a><span id="l9.23">   }</span>
<a href="#l9.24"></a><span id="l9.24">   return false;</span>
<a href="#l9.25"></a><span id="l9.25"> }</span>
<a href="#l9.26"></a><span id="l9.26"> </span>
<a href="#l9.27"></a><span id="l9.27"> function run_test() {</span>
<a href="#l9.28"></a><span id="l9.28">   do_test_pending();</span>
<a href="#l9.29"></a><span id="l9.29"> </span>
<a href="#l9.30"></a><span id="l9.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineminus">-  let signons = do_get_file(&quot;../../../data/signons-mailnews1.8-imap.txt&quot;);</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineminus">-</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8-imap.sqlite&quot;)</span>
<a href="#l9.37"></a><span id="l9.37"> </span>
<a href="#l9.38"></a><span id="l9.38">   registerAlertTestUtils();</span>
<a href="#l9.39"></a><span id="l9.39"> </span>
<a href="#l9.40"></a><span id="l9.40">   let daemon = new imapDaemon();</span>
<a href="#l9.41"></a><span id="l9.41">   daemon.createMailbox(&quot;Subscribed&quot;, {subscribed : true});</span>
<a href="#l9.42"></a><span id="l9.42">   server = makeServer(daemon, &quot;&quot;, {</span>
<a href="#l9.43"></a><span id="l9.43">     // Make username of server match the singons.txt file</span>
<a href="#l9.44"></a><span id="l9.44">     // (pw there is intentionally invalid)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3Password.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3Password.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,15 +1,17 @@</span>
<a href="#l10.4"></a><span id="l10.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l10.5"></a><span id="l10.5"> /**</span>
<a href="#l10.6"></a><span id="l10.6">  * Authentication tests for POP3.</span>
<a href="#l10.7"></a><span id="l10.7">  */</span>
<a href="#l10.8"></a><span id="l10.8"> </span>
<a href="#l10.9"></a><span id="l10.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+</span>
<a href="#l10.13"></a><span id="l10.13"> var test = null;</span>
<a href="#l10.14"></a><span id="l10.14"> var server;</span>
<a href="#l10.15"></a><span id="l10.15"> var daemon;</span>
<a href="#l10.16"></a><span id="l10.16"> var incomingServer;</span>
<a href="#l10.17"></a><span id="l10.17"> var firstTest = true;</span>
<a href="#l10.18"></a><span id="l10.18"> var thisTest;</span>
<a href="#l10.19"></a><span id="l10.19"> </span>
<a href="#l10.20"></a><span id="l10.20"> var tests = [</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineat">@@ -113,21 +115,18 @@ function testNext() {</span>
<a href="#l10.22"></a><span id="l10.22"> </span>
<a href="#l10.23"></a><span id="l10.23"> function run_test() {</span>
<a href="#l10.24"></a><span id="l10.24">   // Disable new mail notifications</span>
<a href="#l10.25"></a><span id="l10.25">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l10.26"></a><span id="l10.26">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span>
<a href="#l10.27"></a><span id="l10.27">   Services.prefs.setBoolPref(&quot;mail.biff.show_tray_icon&quot;, false);</span>
<a href="#l10.28"></a><span id="l10.28">   Services.prefs.setBoolPref(&quot;mail.biff.animate_dock_icon&quot;, false);</span>
<a href="#l10.29"></a><span id="l10.29"> </span>
<a href="#l10.30"></a><span id="l10.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineminus">-</span>
<a href="#l10.33"></a><span id="l10.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l10.34"></a><span id="l10.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l10.35"></a><span id="l10.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l10.36"></a><span id="l10.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l10.37"></a><span id="l10.37"> </span>
<a href="#l10.38"></a><span id="l10.38">   // Set up the Server</span>
<a href="#l10.39"></a><span id="l10.39">   var serverArray = setupServerDaemon();</span>
<a href="#l10.40"></a><span id="l10.40">   daemon = serverArray[0];</span>
<a href="#l10.41"></a><span id="l10.41">   server = serverArray[1];</span>
<a href="#l10.42"></a><span id="l10.42">   var handler = serverArray[2]</span>
<a href="#l10.43"></a><span id="l10.43"> </span>
<a href="#l10.44"></a><span id="l10.44">   // Set the server expected username &amp; password to what we have in signons.txt</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3Password2.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3Password2.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -2,16 +2,18 @@</span>
<a href="#l11.4"></a><span id="l11.4"> /**</span>
<a href="#l11.5"></a><span id="l11.5">  * Authentication tests for POP3 - checks for servers whose details have</span>
<a href="#l11.6"></a><span id="l11.6">  * changed (e.g. realusername and realhostname are different from username and</span>
<a href="#l11.7"></a><span id="l11.7">  * hostname).</span>
<a href="#l11.8"></a><span id="l11.8">  */</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+</span>
<a href="#l11.14"></a><span id="l11.14"> var test = null;</span>
<a href="#l11.15"></a><span id="l11.15"> var server;</span>
<a href="#l11.16"></a><span id="l11.16"> var daemon;</span>
<a href="#l11.17"></a><span id="l11.17"> var incomingServer;</span>
<a href="#l11.18"></a><span id="l11.18"> var firstTest = true;</span>
<a href="#l11.19"></a><span id="l11.19"> var thisTest;</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21"> var tests = [</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineat">@@ -142,21 +144,18 @@ function run_test() {</span>
<a href="#l11.23"></a><span id="l11.23">   Services.prefs.setCharPref(&quot;mail.server.server2.hostname&quot;, &quot;invalid&quot;);</span>
<a href="#l11.24"></a><span id="l11.24">   Services.prefs.setCharPref(&quot;mail.server.server2.name&quot;, &quot;testpop3 on localhost&quot;);</span>
<a href="#l11.25"></a><span id="l11.25">   Services.prefs.setIntPref(&quot;mail.server.server2.port&quot;, 1134);</span>
<a href="#l11.26"></a><span id="l11.26">   Services.prefs.setCharPref(&quot;mail.server.server2.realhostname&quot;, &quot;localhost&quot;);</span>
<a href="#l11.27"></a><span id="l11.27">   Services.prefs.setCharPref(&quot;mail.server.server2.realuserName&quot;, &quot;testpop3&quot;);</span>
<a href="#l11.28"></a><span id="l11.28">   Services.prefs.setCharPref(&quot;mail.server.server2.type&quot;, &quot;pop3&quot;);</span>
<a href="#l11.29"></a><span id="l11.29">   Services.prefs.setCharPref(&quot;mail.server.server2.userName&quot;, &quot;othername&quot;);</span>
<a href="#l11.30"></a><span id="l11.30"> </span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8-alt.txt&quot;);</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineminus">-</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineminus">-  // Copy the file to the profile directory</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8-alt.sqlite&quot;)</span>
<a href="#l11.38"></a><span id="l11.38"> </span>
<a href="#l11.39"></a><span id="l11.39">   // Set up the Server</span>
<a href="#l11.40"></a><span id="l11.40">   var serverArray = setupServerDaemon();</span>
<a href="#l11.41"></a><span id="l11.41">   daemon = serverArray[0];</span>
<a href="#l11.42"></a><span id="l11.42">   server = serverArray[1];</span>
<a href="#l11.43"></a><span id="l11.43">   var handler = serverArray[2];</span>
<a href="#l11.44"></a><span id="l11.44"> </span>
<a href="#l11.45"></a><span id="l11.45">   // Set the server expected username &amp; password to what we have in signons.txt</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3Password3.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3Password3.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1,29 +1,28 @@</span>
<a href="#l12.4"></a><span id="l12.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l12.5"></a><span id="l12.5"> /**</span>
<a href="#l12.6"></a><span id="l12.6">  * Extra tests for POP3 passwords (forgetPassword)</span>
<a href="#l12.7"></a><span id="l12.7">  */</span>
<a href="#l12.8"></a><span id="l12.8"> </span>
<a href="#l12.9"></a><span id="l12.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l12.10"></a><span id="l12.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+</span>
<a href="#l12.14"></a><span id="l12.14"> const kUser1 = &quot;testpop3&quot;;</span>
<a href="#l12.15"></a><span id="l12.15"> const kUser2 = &quot;testpop3a&quot;;</span>
<a href="#l12.16"></a><span id="l12.16"> const kProtocol = &quot;pop3&quot;;</span>
<a href="#l12.17"></a><span id="l12.17"> const kHostname = &quot;localhost&quot;;</span>
<a href="#l12.18"></a><span id="l12.18"> const kServerUrl = &quot;mailbox://&quot; + kHostname;</span>
<a href="#l12.19"></a><span id="l12.19"> </span>
<a href="#l12.20"></a><span id="l12.20"> function run_test()</span>
<a href="#l12.21"></a><span id="l12.21"> {</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8-multiple.txt&quot;);</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineminus">-</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8-multiple.sqlite&quot;)</span>
<a href="#l12.29"></a><span id="l12.29"> </span>
<a href="#l12.30"></a><span id="l12.30">   // Set up the basic accounts and folders.</span>
<a href="#l12.31"></a><span id="l12.31">   // We would use createPop3ServerAndLocalFolders() however we want to have</span>
<a href="#l12.32"></a><span id="l12.32">   // a different username and NO password for this test (as we expect to load</span>
<a href="#l12.33"></a><span id="l12.33">   // it from signons.txt).</span>
<a href="#l12.34"></a><span id="l12.34">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l12.35"></a><span id="l12.35"> </span>
<a href="#l12.36"></a><span id="l12.36">   let incomingServer1 = MailServices.accounts.createIncomingServer(kUser1, kHostname,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3PasswordFailure.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3PasswordFailure.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -9,16 +9,17 @@</span>
<a href="#l13.4"></a><span id="l13.4">  *     we get a new password prompt and can enter the password.</span>
<a href="#l13.5"></a><span id="l13.5">  */</span>
<a href="#l13.6"></a><span id="l13.6"> </span>
<a href="#l13.7"></a><span id="l13.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l13.8"></a><span id="l13.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l13.9"></a><span id="l13.9"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l13.10"></a><span id="l13.10"> </span>
<a href="#l13.11"></a><span id="l13.11"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l13.13"></a><span id="l13.13"> </span>
<a href="#l13.14"></a><span id="l13.14"> var test = null;</span>
<a href="#l13.15"></a><span id="l13.15"> var server;</span>
<a href="#l13.16"></a><span id="l13.16"> var daemon;</span>
<a href="#l13.17"></a><span id="l13.17"> var incomingServer;</span>
<a href="#l13.18"></a><span id="l13.18"> var attempt = 0;</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20"> const kUserName = &quot;testpop3&quot;;</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineat">@@ -152,21 +153,18 @@ function run_test()</span>
<a href="#l13.22"></a><span id="l13.22"> {</span>
<a href="#l13.23"></a><span id="l13.23">   // Disable new mail notifications</span>
<a href="#l13.24"></a><span id="l13.24">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l13.25"></a><span id="l13.25">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span>
<a href="#l13.26"></a><span id="l13.26">   Services.prefs.setBoolPref(&quot;mail.biff.show_tray_icon&quot;, false);</span>
<a href="#l13.27"></a><span id="l13.27">   Services.prefs.setBoolPref(&quot;mail.biff.animate_dock_icon&quot;, false);</span>
<a href="#l13.28"></a><span id="l13.28">   Services.prefs.setBoolPref(&quot;signon.debug&quot;, true);</span>
<a href="#l13.29"></a><span id="l13.29"> </span>
<a href="#l13.30"></a><span id="l13.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-  let signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineminus">-</span>
<a href="#l13.33"></a><span id="l13.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l13.37"></a><span id="l13.37"> </span>
<a href="#l13.38"></a><span id="l13.38">   registerAlertTestUtils();</span>
<a href="#l13.39"></a><span id="l13.39"> </span>
<a href="#l13.40"></a><span id="l13.40">   // Set up the Server</span>
<a href="#l13.41"></a><span id="l13.41">   var serverArray = setupServerDaemon();</span>
<a href="#l13.42"></a><span id="l13.42">   daemon = serverArray[0];</span>
<a href="#l13.43"></a><span id="l13.43">   server = serverArray[1];</span>
<a href="#l13.44"></a><span id="l13.44">   var handler = serverArray[2];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3PasswordFailure2.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3PasswordFailure2.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -10,16 +10,17 @@</span>
<a href="#l14.4"></a><span id="l14.4">  */</span>
<a href="#l14.5"></a><span id="l14.5"> </span>
<a href="#l14.6"></a><span id="l14.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l14.7"></a><span id="l14.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l14.8"></a><span id="l14.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l14.9"></a><span id="l14.9"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l14.10"></a><span id="l14.10"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l14.11"></a><span id="l14.11"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l14.13"></a><span id="l14.13"> </span>
<a href="#l14.14"></a><span id="l14.14"> var test = null;</span>
<a href="#l14.15"></a><span id="l14.15"> var server;</span>
<a href="#l14.16"></a><span id="l14.16"> var daemon;</span>
<a href="#l14.17"></a><span id="l14.17"> var incomingServer;</span>
<a href="#l14.18"></a><span id="l14.18"> var attempt = 0;</span>
<a href="#l14.19"></a><span id="l14.19"> var count = {};</span>
<a href="#l14.20"></a><span id="l14.20"> var logins;</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineat">@@ -167,21 +168,18 @@ function run_test()</span>
<a href="#l14.22"></a><span id="l14.22"> {</span>
<a href="#l14.23"></a><span id="l14.23">   // Disable new mail notifications</span>
<a href="#l14.24"></a><span id="l14.24">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l14.25"></a><span id="l14.25">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span>
<a href="#l14.26"></a><span id="l14.26">   Services.prefs.setBoolPref(&quot;mail.biff.show_tray_icon&quot;, false);</span>
<a href="#l14.27"></a><span id="l14.27">   Services.prefs.setBoolPref(&quot;mail.biff.animate_dock_icon&quot;, false);</span>
<a href="#l14.28"></a><span id="l14.28">   Services.prefs.setBoolPref(&quot;signon.debug&quot;, true);</span>
<a href="#l14.29"></a><span id="l14.29"> </span>
<a href="#l14.30"></a><span id="l14.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineminus">-  let signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l14.32"></a><span id="l14.32" class="difflineminus">-</span>
<a href="#l14.33"></a><span id="l14.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l14.34"></a><span id="l14.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l14.35"></a><span id="l14.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l14.37"></a><span id="l14.37"> </span>
<a href="#l14.38"></a><span id="l14.38">   registerAlertTestUtils();</span>
<a href="#l14.39"></a><span id="l14.39"> </span>
<a href="#l14.40"></a><span id="l14.40">   // Set up the Server</span>
<a href="#l14.41"></a><span id="l14.41">   daemon = new pop3Daemon();</span>
<a href="#l14.42"></a><span id="l14.42">   function createHandler(d) {</span>
<a href="#l14.43"></a><span id="l14.43">     var handler = new POP3_RFC1939_handler(d);</span>
<a href="#l14.44"></a><span id="l14.44">     handler.dropOnAuthFailure = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mailnews/local/test/unit/test_pop3PasswordFailure3.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mailnews/local/test/unit/test_pop3PasswordFailure3.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -12,16 +12,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">  */</span>
<a href="#l15.5"></a><span id="l15.5"> </span>
<a href="#l15.6"></a><span id="l15.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l15.7"></a><span id="l15.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l15.8"></a><span id="l15.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l15.9"></a><span id="l15.9"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l15.10"></a><span id="l15.10"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l15.11"></a><span id="l15.11"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l15.13"></a><span id="l15.13"> </span>
<a href="#l15.14"></a><span id="l15.14"> var test = null;</span>
<a href="#l15.15"></a><span id="l15.15"> var server;</span>
<a href="#l15.16"></a><span id="l15.16"> var daemon;</span>
<a href="#l15.17"></a><span id="l15.17"> var incomingServer;</span>
<a href="#l15.18"></a><span id="l15.18"> var attempt = 0;</span>
<a href="#l15.19"></a><span id="l15.19"> var count = {};</span>
<a href="#l15.20"></a><span id="l15.20"> var logins;</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineat">@@ -169,21 +170,18 @@ function run_test()</span>
<a href="#l15.22"></a><span id="l15.22"> {</span>
<a href="#l15.23"></a><span id="l15.23">   // Disable new mail notifications</span>
<a href="#l15.24"></a><span id="l15.24">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l15.25"></a><span id="l15.25">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span>
<a href="#l15.26"></a><span id="l15.26">   Services.prefs.setBoolPref(&quot;mail.biff.show_tray_icon&quot;, false);</span>
<a href="#l15.27"></a><span id="l15.27">   Services.prefs.setBoolPref(&quot;mail.biff.animate_dock_icon&quot;, false);</span>
<a href="#l15.28"></a><span id="l15.28">   Services.prefs.setBoolPref(&quot;signon.debug&quot;, true);</span>
<a href="#l15.29"></a><span id="l15.29"> </span>
<a href="#l15.30"></a><span id="l15.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-  let signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineminus">-</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l15.37"></a><span id="l15.37"> </span>
<a href="#l15.38"></a><span id="l15.38">   registerAlertTestUtils();</span>
<a href="#l15.39"></a><span id="l15.39"> </span>
<a href="#l15.40"></a><span id="l15.40">   // Set up the Server</span>
<a href="#l15.41"></a><span id="l15.41">   daemon = new pop3Daemon();</span>
<a href="#l15.42"></a><span id="l15.42">   function createHandler(d) {</span>
<a href="#l15.43"></a><span id="l15.43">     var handler = new POP3_RFC5034_handler(d);</span>
<a href="#l15.44"></a><span id="l15.44">     handler.dropOnAuthFailure = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mailnews/news/test/unit/head_server_setup.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -6,16 +6,18 @@ Components.utils.import(&quot;resource://test</span>
<a href="#l16.4"></a><span id="l16.4"> var Cc = Components.classes;</span>
<a href="#l16.5"></a><span id="l16.5"> var Ci = Components.interfaces;</span>
<a href="#l16.6"></a><span id="l16.6"> var Cr = Components.results;</span>
<a href="#l16.7"></a><span id="l16.7"> var CC = Components.Constructor;</span>
<a href="#l16.8"></a><span id="l16.8"> </span>
<a href="#l16.9"></a><span id="l16.9"> // Ensure the profile directory is set up</span>
<a href="#l16.10"></a><span id="l16.10"> do_get_profile();</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+var gDEPTH = &quot;../../../../&quot;;</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+</span>
<a href="#l16.14"></a><span id="l16.14"> // Import the servers</span>
<a href="#l16.15"></a><span id="l16.15"> Components.utils.import(&quot;resource://testing-common/mailnews/maild.js&quot;);</span>
<a href="#l16.16"></a><span id="l16.16"> Components.utils.import(&quot;resource://testing-common/mailnews/nntpd.js&quot;);</span>
<a href="#l16.17"></a><span id="l16.17"> </span>
<a href="#l16.18"></a><span id="l16.18"> const kSimpleNewsArticle =</span>
<a href="#l16.19"></a><span id="l16.19">   &quot;From: John Doe &lt;john.doe@example.com&gt;\n&quot;+</span>
<a href="#l16.20"></a><span id="l16.20">   &quot;Date: Sat, 24 Mar 1990 10:59:24 -0500\n&quot;+</span>
<a href="#l16.21"></a><span id="l16.21">   &quot;Newsgroups: test.subscribe.simple\n&quot;+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPassword.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPassword.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,31 +1,30 @@</span>
<a href="#l17.4"></a><span id="l17.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l17.5"></a><span id="l17.5"> /**</span>
<a href="#l17.6"></a><span id="l17.6">  * Authentication tests for NNTP (based on RFC4643).</span>
<a href="#l17.7"></a><span id="l17.7">  *</span>
<a href="#l17.8"></a><span id="l17.8">  * Note: Logins for newsgroup servers for 1.8 were stored with either the</span>
<a href="#l17.9"></a><span id="l17.9">  * default port or the SSL default port. Nothing else!</span>
<a href="#l17.10"></a><span id="l17.10">  */</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+</span>
<a href="#l17.14"></a><span id="l17.14"> // The basic daemon to use for testing nntpd.js implementations</span>
<a href="#l17.15"></a><span id="l17.15"> var daemon = setupNNTPDaemon();</span>
<a href="#l17.16"></a><span id="l17.16"> </span>
<a href="#l17.17"></a><span id="l17.17"> // Define these up here for checking with the transaction</span>
<a href="#l17.18"></a><span id="l17.18"> var type = null;</span>
<a href="#l17.19"></a><span id="l17.19"> var test = null;</span>
<a href="#l17.20"></a><span id="l17.20"> </span>
<a href="#l17.21"></a><span id="l17.21"> function run_test() {</span>
<a href="#l17.22"></a><span id="l17.22">   type = &quot;RFC 4643&quot;;</span>
<a href="#l17.23"></a><span id="l17.23"> </span>
<a href="#l17.24"></a><span id="l17.24" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l17.26"></a><span id="l17.26" class="difflineminus">-</span>
<a href="#l17.27"></a><span id="l17.27" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l17.28"></a><span id="l17.28" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l17.29"></a><span id="l17.29" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l17.30"></a><span id="l17.30" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l17.31"></a><span id="l17.31"> </span>
<a href="#l17.32"></a><span id="l17.32">   var server = makeServer(NNTP_RFC4643_extension, daemon);</span>
<a href="#l17.33"></a><span id="l17.33">   server.start(NNTP_PORT);</span>
<a href="#l17.34"></a><span id="l17.34"> </span>
<a href="#l17.35"></a><span id="l17.35">   try {</span>
<a href="#l17.36"></a><span id="l17.36">     var prefix = &quot;news://localhost:&quot;+NNTP_PORT+&quot;/&quot;;</span>
<a href="#l17.37"></a><span id="l17.37">     var transaction;</span>
<a href="#l17.38"></a><span id="l17.38"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPassword2.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPassword2.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -4,16 +4,18 @@</span>
<a href="#l18.4"></a><span id="l18.4">  * details have changed (e.g. realhostname is different from hostname).</span>
<a href="#l18.5"></a><span id="l18.5">  *</span>
<a href="#l18.6"></a><span id="l18.6">  * Note: Logins for newsgroup servers for 1.8 were stored with either the</span>
<a href="#l18.7"></a><span id="l18.7">  * default port or the SSL default port. Nothing else!</span>
<a href="#l18.8"></a><span id="l18.8">  */</span>
<a href="#l18.9"></a><span id="l18.9"> </span>
<a href="#l18.10"></a><span id="l18.10"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+</span>
<a href="#l18.14"></a><span id="l18.14"> // The basic daemon to use for testing nntpd.js implementations</span>
<a href="#l18.15"></a><span id="l18.15"> var daemon = setupNNTPDaemon();</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17"> // Define these up here for checking with the transaction</span>
<a href="#l18.18"></a><span id="l18.18"> var type = null;</span>
<a href="#l18.19"></a><span id="l18.19"> var test = null;</span>
<a href="#l18.20"></a><span id="l18.20"> </span>
<a href="#l18.21"></a><span id="l18.21"> function run_test() {</span>
<a href="#l18.22"></a><span id="l18.22" class="difflineat">@@ -48,21 +50,18 @@ function run_test() {</span>
<a href="#l18.23"></a><span id="l18.23">                              &quot;testnntp on localhost&quot;);</span>
<a href="#l18.24"></a><span id="l18.24">   Services.prefs.setIntPref(&quot;mail.server.server2.port&quot;, NNTP_PORT);</span>
<a href="#l18.25"></a><span id="l18.25">   Services.prefs.setCharPref(&quot;mail.server.server2.realhostname&quot;,</span>
<a href="#l18.26"></a><span id="l18.26">                              &quot;localhost&quot;);</span>
<a href="#l18.27"></a><span id="l18.27">   Services.prefs.setCharPref(&quot;mail.server.server2.type&quot;, &quot;nntp&quot;);</span>
<a href="#l18.28"></a><span id="l18.28"> </span>
<a href="#l18.29"></a><span id="l18.29">   type = &quot;RFC 4643&quot;;</span>
<a href="#l18.30"></a><span id="l18.30"> </span>
<a href="#l18.31"></a><span id="l18.31" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l18.32"></a><span id="l18.32" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8-alt.txt&quot;);</span>
<a href="#l18.33"></a><span id="l18.33" class="difflineminus">-</span>
<a href="#l18.34"></a><span id="l18.34" class="difflineminus">-  // Copy the file to the profile directory</span>
<a href="#l18.35"></a><span id="l18.35" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l18.36"></a><span id="l18.36" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l18.37"></a><span id="l18.37" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8-alt.sqlite&quot;)</span>
<a href="#l18.38"></a><span id="l18.38"> </span>
<a href="#l18.39"></a><span id="l18.39">   var server = makeServer(NNTP_RFC4643_extension, daemon);</span>
<a href="#l18.40"></a><span id="l18.40">   server.start(NNTP_PORT);</span>
<a href="#l18.41"></a><span id="l18.41"> </span>
<a href="#l18.42"></a><span id="l18.42">   try {</span>
<a href="#l18.43"></a><span id="l18.43">     // Note, the uri is for hostname &quot;invalid&quot; which is the original uri. See </span>
<a href="#l18.44"></a><span id="l18.44">     // setupProtocolTest parameters.</span>
<a href="#l18.45"></a><span id="l18.45">     var prefix = &quot;news://invalid:&quot;+NNTP_PORT+&quot;/&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPassword3.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPassword3.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,29 +1,28 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l19.5"></a><span id="l19.5"> /**</span>
<a href="#l19.6"></a><span id="l19.6">  * Extra tests for forgetting newsgroup usernames and passwords.</span>
<a href="#l19.7"></a><span id="l19.7">  */</span>
<a href="#l19.8"></a><span id="l19.8"> </span>
<a href="#l19.9"></a><span id="l19.9"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l19.10"></a><span id="l19.10"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l19.11"></a><span id="l19.11"> </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+</span>
<a href="#l19.14"></a><span id="l19.14"> const kUsername = &quot;testnews&quot;;</span>
<a href="#l19.15"></a><span id="l19.15"> const kPassword = &quot;newstest&quot;;</span>
<a href="#l19.16"></a><span id="l19.16"> const kProtocol = &quot;nntp&quot;;</span>
<a href="#l19.17"></a><span id="l19.17"> const kHostname = &quot;localhost&quot;;</span>
<a href="#l19.18"></a><span id="l19.18"> const kServerUrl = &quot;news://&quot; + kHostname;</span>
<a href="#l19.19"></a><span id="l19.19"> </span>
<a href="#l19.20"></a><span id="l19.20"> function run_test()</span>
<a href="#l19.21"></a><span id="l19.21"> {</span>
<a href="#l19.22"></a><span id="l19.22" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l19.23"></a><span id="l19.23" class="difflineminus">-  var signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l19.24"></a><span id="l19.24" class="difflineminus">-</span>
<a href="#l19.25"></a><span id="l19.25" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l19.26"></a><span id="l19.26" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l19.27"></a><span id="l19.27" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l19.28"></a><span id="l19.28" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l19.29"></a><span id="l19.29"> </span>
<a href="#l19.30"></a><span id="l19.30">   // Set up the basic accounts and folders.</span>
<a href="#l19.31"></a><span id="l19.31">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l19.32"></a><span id="l19.32"> </span>
<a href="#l19.33"></a><span id="l19.33">   var incomingServer = MailServices.accounts.createIncomingServer(null, kHostname,</span>
<a href="#l19.34"></a><span id="l19.34">                                                                   kProtocol);</span>
<a href="#l19.35"></a><span id="l19.35"> </span>
<a href="#l19.36"></a><span id="l19.36">   // Force move to new credentials</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mailnews/news/test/unit/test_nntpPasswordFailure.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mailnews/news/test/unit/test_nntpPasswordFailure.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -10,16 +10,17 @@</span>
<a href="#l20.4"></a><span id="l20.4">  */</span>
<a href="#l20.5"></a><span id="l20.5"> </span>
<a href="#l20.6"></a><span id="l20.6"> Components.utils.import(&quot;resource://gre/modules/XPCOMUtils.jsm&quot;);</span>
<a href="#l20.7"></a><span id="l20.7"> Components.utils.import(&quot;resource:///modules/mailServices.js&quot;);</span>
<a href="#l20.8"></a><span id="l20.8"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l20.9"></a><span id="l20.9"> load(&quot;../../../resources/logHelper.js&quot;);</span>
<a href="#l20.10"></a><span id="l20.10"> load(&quot;../../../resources/asyncTestUtils.js&quot;);</span>
<a href="#l20.11"></a><span id="l20.11"> load(&quot;../../../resources/alertTestUtils.js&quot;);</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+load(&quot;../../../resources/passwordStorage.js&quot;);</span>
<a href="#l20.13"></a><span id="l20.13"> </span>
<a href="#l20.14"></a><span id="l20.14"> var test = null;</span>
<a href="#l20.15"></a><span id="l20.15"> var server;</span>
<a href="#l20.16"></a><span id="l20.16"> var daemon;</span>
<a href="#l20.17"></a><span id="l20.17"> var incomingServer;</span>
<a href="#l20.18"></a><span id="l20.18"> var folder;</span>
<a href="#l20.19"></a><span id="l20.19"> var attempt = 0;</span>
<a href="#l20.20"></a><span id="l20.20"> var count = {};</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineat">@@ -162,21 +163,18 @@ function run_test()</span>
<a href="#l20.22"></a><span id="l20.22"> {</span>
<a href="#l20.23"></a><span id="l20.23">   // Disable new mail notifications</span>
<a href="#l20.24"></a><span id="l20.24">   Services.prefs.setBoolPref(&quot;mail.biff.play_sound&quot;, false);</span>
<a href="#l20.25"></a><span id="l20.25">   Services.prefs.setBoolPref(&quot;mail.biff.show_alert&quot;, false);</span>
<a href="#l20.26"></a><span id="l20.26">   Services.prefs.setBoolPref(&quot;mail.biff.show_tray_icon&quot;, false);</span>
<a href="#l20.27"></a><span id="l20.27">   Services.prefs.setBoolPref(&quot;mail.biff.animate_dock_icon&quot;, false);</span>
<a href="#l20.28"></a><span id="l20.28">   Services.prefs.setBoolPref(&quot;signon.debug&quot;, true);</span>
<a href="#l20.29"></a><span id="l20.29"> </span>
<a href="#l20.30"></a><span id="l20.30" class="difflineminus">-  // Passwords File (generated from Mozilla 1.8 branch).</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineminus">-  let signons = do_get_file(&quot;../../../data/signons-mailnews1.8.txt&quot;);</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineminus">-</span>
<a href="#l20.33"></a><span id="l20.33" class="difflineminus">-  // Copy the file to the profile directory for a PAB</span>
<a href="#l20.34"></a><span id="l20.34" class="difflineminus">-  signons.copyTo(do_get_profile(), &quot;signons.txt&quot;);</span>
<a href="#l20.35"></a><span id="l20.35" class="difflineplus">+  // Prepare files for passwords (generated by a script in bug 925489).</span>
<a href="#l20.36"></a><span id="l20.36" class="difflineplus">+  setupForPassword(&quot;signons-mailnews1.8.sqlite&quot;)</span>
<a href="#l20.37"></a><span id="l20.37"> </span>
<a href="#l20.38"></a><span id="l20.38">   registerAlertTestUtils();</span>
<a href="#l20.39"></a><span id="l20.39"> </span>
<a href="#l20.40"></a><span id="l20.40">   // Set up the server</span>
<a href="#l20.41"></a><span id="l20.41">   daemon = setupNNTPDaemon();</span>
<a href="#l20.42"></a><span id="l20.42">   function createHandler(d) {</span>
<a href="#l20.43"></a><span id="l20.43">     var handler = new NNTP_RFC4643_extension(d);</span>
<a href="#l20.44"></a><span id="l20.44">     handler.expectedPassword = kValidPassword;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1">new file mode 100644</span>
<a href="#l21.2"></a><span id="l21.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..8a5ce41c83af779e12370251313d4c1294c42eb4</span>
<a href="#l21.3"></a><span id="l21.3">GIT binary patch
literal 16384
zc%1Fn&amp;r6eW90%~v_jw-2DB~--9i$&amp;&lt;$XJc#&lt;HbWnWOS&amp;olc0x9Y|h!jCpVlw&gt;M$(A
zhYpVrL0V9eib_sJBV*tp@gk%#5(y%9kda_2?hsBPU32cBe}Ef&lt;_Y2;9-tawqzt``F
zbVdge2}IH&amp;QC^}_E)k=HkUmv})D)95c|_8Ff7$Gh&amp;;cQpw9~Up+zJ2y00000kUey?
z!?*b#{+S1OFYihu4gdfE00000=`nidQ^9oTa#dv2v?=wmtLLw{yYDHUdWT~5Ih0n&gt;
zz+OePpn1^qe7MrpICJ)O+1T%#4LW&amp;Iy{X1dvD_Rcew3cxkSEo$()G%~yY|}?UWd=u
z;c02GI^8a3lUVI)@!j_{3l!zGyeg4QZz2Ey000000J4-wjN~VpY}OtAn9GHdLG9b|
zF4dTNK78v8U;pa1&lt;}a622#iU0hu_&lt;u{W4n2TY~Ma5*aM|(c$m+$4pag+U&amp;&amp;It@3E&gt;
z=eYP!+8ZdIy6`A4UmUhGz2({o9&lt;seDJl)^!9O?Fd&amp;nr6j;LGDXJ#+b&amp;f^t|XdH6zG
fi4QIOjrT6p6&gt;J}UA=}OLrUL)~000000FK&gt;%OZVOd</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1">new file mode 100644</span>
<a href="#l22.2"></a><span id="l22.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..33d30da47acb66f5e64bd41afc5e8e341fb19f33</span>
<a href="#l22.3"></a><span id="l22.3">GIT binary patch
literal 327680
zc%1FsT~8a?8314#Ls(OBvHe0@sgl!`+NB%IfDOixq85mgB_V|Hk%sgFjXeW+V{8`l
z5y-NJR8@aW)!$I5Qh!0ERrjWsRn^|@O&gt;cTpJ0T0&lt;V|Q~!xBEQOobjCV&amp;N=TnbH=wb
z_h72B8Ksu%8*9O4DjPe9#pAJGrc$w3EZ;hMV#nTU9i1nx&lt;E^7B_T}=i^xtE&gt;pZqYE
z+)Ktj`O*H*_W$zn*2i7XDtn*pZMUib00000000000000000000000000000000000
z0RDG9Np|&lt;$xEep~s?@^h=~{hnsajvD)EY}stvtWG9xa`!@0pk_j?EWSlhZegk5U)K
zr|wUmXnXIdtv`6{N?-nJeE0NND_fQD^gzjr209KtHA=go|FE~ayKk;Fq3r2FR_l$;
zTCf%^t!{3v&amp;qhIY?evguT{PrHx1LJiRoJ!E7jgZE?_BBb`*kayi3{^-e}sE(tF%_x
zT$r6Yom2N$=5)^O7v}X^Y=5n*yYCmR)RGsbcB&lt;jZS0?ji!}lL%I=lM@2jkC^n?b1&gt;
zwL`+F8f`}5QRvy4uA&gt;p&gt;$Hu3Msk7~=_bOrPjLGTw;_c#WYG!uw-q`G7&gt;TYrIT6=e#
zj+-w&amp;n!mPLS&amp;MGI?DTX8{fGS&gt;-F=x%{CWI1&lt;4U9bGyI@6tHzm%#MyjLHlLgBdD*^N
zvs1~Y7N#d3EEL-dJaK&gt;e*3{(0d}_8hGc`6*&gt;&gt;o&gt;9&gt;08LeV=o&gt;-&lt;D+V2Gg=C^HtR30
zm(HZJG&lt;c?}{gwC5-&lt;0FseOIr&gt;fA{tmQ$Bt;FMoBMndF;3jB}&gt;&lt;a(&gt;hITgSrG)U_|(
zpwo}*wJm(IVXF~swEMhOiK^kbeXa+M#!h`Byf~uuN42rL-r5NZN1a_9F&gt;}&lt;}nTQKF
z+R?w@d5iO66HaVI!8x1oMcY)+*lgt#p4av&amp;lZn-!w$chY+15CD(}|7U+j`WAkN+0?
z&lt;n#T1v`zp300000000000000000000000000000000000!2hl1-HEqj{WoI0y@x+O
zOfM$8y1J6JXs2;Kld06UgK8yw{VMbBtB=RuyE$1b&amp;a8}`RouBXwm5mW{&amp;;eAyF5L%
zQ!Y;2nYr`f^72aYgW&gt;Y{SmoB8aAzpLczgK62RClqyIKGG{oEV&lt;U~cWs%HYWO!}0O4
z+nWo!JEJ@0#oP75{qW(=-0DPa@7c(3t{fH0L+M;J5~OpZxiDQADG#IvvV+-NR4NUQ
zl%xIl*dO0{_uyptyu0HKS7QC&gt;Yw~Zj5_iK~^f+qdpKL!FAN%lOX(+!JR5l*XjlJPY
z%zPA#&lt;?r9kJ&lt;hDRR$}qt`lIE=m7Cj7S5|KiKB&lt;(lyW1&lt;z!hz+WT!@C!L#0waof{g?
zr$&lt;MY2h!PWb~u+W1f^(T_~lA;oh+Y!C;oOUlWDI+`qfIT1(j;4{`7eIXDZ$(`&gt;Fgw
zWh&gt;gaH&lt;_CoAHSKOpR2wfP0!SJ3mc_}d$+f@%cDbY)Zh4O&lt;6&amp;v!!LKG}7stoPi?cJ!
z;|q`L^V315P%Up|CbJv6&amp;%)6{7!GHH^uWkqdo}Wd&gt;Cu5OO6QhKQ8`yA2j%R`eesju
zo-BLYugSqBzoq~H000000000000000000000000000000000000C35A+Qq&gt;oCjkHe
z000000000000000000000000000000000000GF({T^w9;5&amp;!@I000000000000000
z00000000000000000000aLIaFN22-XSo2@azqU&gt;Q0000000000000000000000000
z0000000000008jK_1#2&amp;ycX&gt;=u4gip+ICQ_go(3N9p6u6l50VwTB&lt;)iuI*{vo@o9l
z*8FGl)7A+900000000000000000000000000000000000006$BzSr3wi`Sx^#`R35
zQrixyl`wHmUB?ePGqL1aP^p&amp;cPmim6T0JD1hq2~o%|EnG00000000000000000000
z0000000000000000001RIo|K=zY(uRJB{m^Or^FRR4d`@SDAOW8qr2ASc?*0BX&amp;J#
zG&lt;ND6VaHE9GnwRCP^p&amp;cPmcr6RP?k`NHh;(&amp;4cFeo1b3xVgLXD000000000000000
z00000000000000000000@NM&lt;;#A5u}$Z)P470N^DTr?7-bECO1T^K13qzAHt*&lt;4gA
z4UUwf{ltsVa9}wo7owr`P^pwp=Z1#!&gt;Cutpfpj*T9nR$oK`9y--tXv7EGD0YqlGXW
z&amp;Iaj$k-&gt;IoelR^c5Ju_Taw#h33gw`jjrMz5IV75&amp;$D03X{=0Po000000000000000
k00000000000000000000004k*iOxhao@f^xi9|B_Uub%NKmY&amp;$</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1">deleted file mode 100644</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineminus">--- a/mailnews/test/data/signons-mailnews1.8-alt.txt</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineplus">+++ /dev/null</span>
<a href="#l23.4"></a><span id="l23.4" class="difflineat">@@ -1,20 +0,0 @@</span>
<a href="#l23.5"></a><span id="l23.5" class="difflineminus">-#2c</span>
<a href="#l23.6"></a><span id="l23.6" class="difflineminus">-.</span>
<a href="#l23.7"></a><span id="l23.7" class="difflineminus">-mailbox://othername@invalid</span>
<a href="#l23.8"></a><span id="l23.8" class="difflineminus">-\=username=\</span>
<a href="#l23.9"></a><span id="l23.9" class="difflineminus">-~b3RoZXJuYW1l</span>
<a href="#l23.10"></a><span id="l23.10" class="difflineminus">-*\=password=\</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineminus">-~cG9wM3Rlc3Q=</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-.</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineminus">-news://invalid:119/#password</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineminus">-\=username=\</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineminus">-~</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineminus">-*\=password=\</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineminus">-~bmV3c3Rlc3Q=</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineminus">-.</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineminus">-news://invalid:119/#username</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineminus">-\=username=\</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineminus">-~</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineminus">-*\=password=\</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineminus">-~dGVzdG5ld3M=</span>
<a href="#l23.24"></a><span id="l23.24" class="difflineminus">-.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1">new file mode 100644</span>
<a href="#l24.2"></a><span id="l24.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..9749233eeab328c7a915e04c2efe0c996d74630f</span>
<a href="#l24.3"></a><span id="l24.3">GIT binary patch
literal 327680
zc%1Fs!EPJJ835qjNHR?UIs`2uq(A`*2#^RcK}(cb%Ye~RG@TNbB}b-Et2qcO?p7i~
ziZV&amp;ru^d~Ld+0qcl!qu#py&lt;7q_7QUE(w1$76qEL(BK|(iEVwiO&amp;iu18&lt;dyfoSZ(%`
z+@Ct#cGS-mgBL*&lt;2EWVYf*_bn&gt;vZtW&lt;+M(oxewDi75uolApg%`=J`iK_9z=X|JAck
zpZ)cl!*8aZHjn;(^eAlt000000000000000000000000000000000000Qmp)RW&gt;tw
zb1poYYVOC$*X_&gt;HcB`}7-0y8C`;GdOgJgTCeY&amp;zyE!V5L+S;w^gWS0I-1^#?zRynk
z=A+A(W`8pmJ{g{C_plicPm~=u(YxTGSq2^RCo`GM?EQ2&gt;#o&lt;ZzI=%jW)K0ed`u&amp;5A
zBx&lt;#Xr@TCF%5jelCGaNfO73mk{K?0cGP7T%`BcW{Gx!tk`-eO2W`A&gt;IbvUQYPv&amp;&amp;a
z&lt;74ysLG1kgRA%&lt;KX=&gt;TAsSR~p`pIN|Z2I|=!enN4VIh2(?MFMUWDpW3t)!pCr=g=Q
zQ&gt;Qc5%PXtZ+-QI9vu2zdQCq85Kd)}&amp;?rqfWmN&amp;L?cdA=g2B%{&lt;u3mjmztV5ElUuI`
z9Ufr*Wd4K9Y@rao4Butk&gt;&lt;vD~zfV`y8)=vr&amp;G&amp;5gx#^yl?VEQtlx%Kut@g!cb?|~K
z&gt;ua}HYn6I#qk3&lt;(T&amp;d2NCoauy7Q*1w7W5vrn*C%uI_!5|-EWVivb`|UH29bI$v-#3
z%&lt;SA;_?HjgF8ST&amp;y#DmT$RhvO%{XUyuh+M&gt;p4QFP)hlnmLBreigCl&amp;l&lt;FJ=&gt;2V&gt;rD
zCaw6~F%P0%?{TLakB&gt;-ysJc%M(vz@xI@tJ#d#8hqM2tOXr@w;dy_{Evu+mMUa}MFF
zzSXGLPjiaT&gt;wA+)WiQ&amp;_O+(K1_0B$Y=3vjHTOB_CK1d4y00000000000000000000
z000000000000000008f)mtpu}kk1D*Gbg`3$!}$+rlzvZc64x~P-t};QERW$&gt;kr@G
zy;ZAL@9maHRUh9jZ`JN}{#e_4)L1J&amp;Zd5Dlt?T!&lt;x{r#&lt;&amp;e2M_S&gt;Eg}Ew-;c*sGOq
z-n@IO^WTqiXLspgx7z(f{i}nOm6b}d+gR^&gt;zFBH*lolV&gt;YmLs%;@3}0QE6v+F^==s
zi&amp;x|PQX@|CQE{o5FO{xcZ7j#j3p&gt;T=Sy=w=&lt;GF9oUS|d`;&gt;87T1ONa40000000000
z0000000000000000000000000T(IfE&lt;;4Xj0RR910000000000000000000000000
z00000000007i?y5d2zu&gt;000000000000000000000000000000000000002M1)EN5
zc&gt;M1mEdT%j00000000000000000000000000000000000@Lu@EL_XVWM+Y|wg;u8#
zwe~u_{&amp;d&lt;N9{(#y3jhEB00000000000000000000000000000000000ybpdknGdqf
zc64x~P-t};QERW$&gt;rba0;qgC$v;Y7A00000000000000000000000000000000000
zz|YYqllgqM*^Ulw6bh|QBWmq+di~-1=`=7r{#%e10000000000000000000000000
z00000000000002^nVFy1%04YcrJd!)IL==$UXAlhjX23i#ie4tRJwMxu^cZi&gt;=dJC
y(`j^g{C$uX000000000000000000000000000000000000001ZFHKBjv;P5*pMxI&amp;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1">deleted file mode 100644</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineminus">--- a/mailnews/test/data/signons-mailnews1.8-imap.txt</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineplus">+++ /dev/null</span>
<a href="#l25.4"></a><span id="l25.4" class="difflineat">@@ -1,8 +0,0 @@</span>
<a href="#l25.5"></a><span id="l25.5" class="difflineminus">-#2c</span>
<a href="#l25.6"></a><span id="l25.6" class="difflineminus">-.</span>
<a href="#l25.7"></a><span id="l25.7" class="difflineminus">-imap://user@localhost</span>
<a href="#l25.8"></a><span id="l25.8" class="difflineminus">-\=username=\</span>
<a href="#l25.9"></a><span id="l25.9" class="difflineminus">-~</span>
<a href="#l25.10"></a><span id="l25.10" class="difflineminus">-*\=password=\</span>
<a href="#l25.11"></a><span id="l25.11" class="difflineminus">-~aW1hcHRlc3Q=</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1">new file mode 100644</span>
<a href="#l26.2"></a><span id="l26.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..612df7656cddc582a9025de1015fb19c9afd4808</span>
<a href="#l26.3"></a><span id="l26.3">GIT binary patch
literal 327680
zc%1FsO&gt;bOR835p!cpP^uMO7tQQ#LpYMBVgizU`Sv2&gt;dZg+_&lt;*m*d-1^(VdxVdz!Jw
z^^6lIt~*J(;3x0{KthOLfP}&lt;`Js&lt;=U5^DqtSg&gt;Kkf@&gt;#j9DlTpR7gS3Bi*BO&amp;w1yZ
z_ndp~-OlxEGtF)^ywcuU54*#K#DhdKnfT7|a3YbIim$=MQ!m9=&gt;d&lt;{MzWNiNZYmM{
zIdSg8*AnUb&gt;BNU$+xzC;?&gt;^Z6pntb{|Bv_Y#7zJI0000000000000000000000000
z0000000000UtYJ&lt;14G|BpM2Qg+-O8Q&gt;+SouTJ6&gt;5M(0+vQD3~b8QnV4J~+8h9bc&gt;t
zPtQ(OZw#LnKRh&gt;ksPBy@eIwyZXNShlC+{7dYjwNXI66`Kw27VuADLypW8~qvfq|jx
z@q!9RCs}KEx*OqobZf2K-CT&amp;m*80&amp;YUpj5d(|&amp;p+fse!98vZ11&lt;l*aQ2Zp{E=QDX~
zKKp;deSN#O-s~&lt;d%pA&gt;W;4^bN;peC3^-S!@M*qOjx8u~(r&gt;1tK&lt;LqZ9^J&amp;wMJj|p9
zhH|;&amp;qjWc{wW9ryM%0SBQR7MI@s|E4GcJx#%v6Vu_Yc3(Yz!YWJ-b-FTwNHRUzmPp
zd|`R`YIXUo{nK$YZn1h}@vUxiJ(_wv=+Oa29*&amp;$D7|LXlkCIO_Zg%#ojVtl0I&gt;#FN
zj^}&amp;0`^0ol%J$&lt;uJCf}1((LrLrRx3$PtMI=nwg$l9A2o-&amp;x}u2N5=ck4lQMpiGxSb
zdB4@{Mz_N4Zu{W=*0EG&gt;&lt;&amp;HJ&amp;|I2&amp;oqk3{+==}NQ4_^6X$xk27&lt;Jy^Hi+tXPal-N*
zuWxoPzLsWY-umPXI{LVtIl_lKwmZ?*{+O4VQLAy{n44jzbGN&lt;KI6Wf%P;K4Yj8DSS
zlfh1pn13?Zv4~R-+LN!~Nt&lt;(U2q(9q@PtEn&amp;^Hryx^Yg8llnf+WO6OsSdBvt_jL~c
z=+MDFxBsYjf0g*~?|Xmx;5Tsv000000000000000000000000000000000000092S
zJxZruNd!US+_{Ir!(chx-`}6^tamprW-_gIJ#4KV{6qb-_wP)#tJV3{@#Cs@FO4rx
zUv1x&lt;Ub|DD9lu+zPQJZ$p;5dreRFhmVq#)^qPP*xF6_L&amp;I(sR)aOLgHTx%iUdam)V
zyt{b$!en(~acX{IVrpmnS}8LXZg&amp;f-&amp;C%;&amp;CA%;kPVJ87N`+d!R1ON+N+T%dbM&gt;HB
zsbzz5CCWzGa;20lm-dq5zkGf8$A`;D&gt;AwH$UR1AbbaHd6Q!CpmaqgGLr&gt;ADCH|}@7
zTWXDmGxhg2^Ye}88gG93_Quv);nLk|Cf?jT8|&amp;AWu8rQ?$mMqyCl{9QE|jls?-tAD
zl}0w#2r7kQJt$UIqM$q)Rf1BsUM}aNe6bNe*^93nE+4&amp;o=9NUD@XTJUhs{&gt;4y&gt;oc^
zCp10R3MQ|N=A&amp;|Ed$iV^n3%j&gt;&amp;fi;_Dc&gt;Evxwtl-tK5Hg;&amp;Qd{d^=p&amp;m{@*q&gt;+0gw
zcj6tHnJec?&amp;C*7`li$8^d-mE~b8e!$o2!hi&lt;Z9VkkjvM`f?}9$1hsH%EQs=zd&gt;Cab
zwR$6eup?jp;o&lt;Vp%gO)7j*O3X=BKW&lt;qvZ&gt;C&lt;M-vl&lt;(oI#cWRx5sd96wIWdzf&amp;CWNU
zYrIRBuk38ySy@=xUW|7nS_=y|YR$#W%33L3uFP&amp;0y6w_#VJr#@@v9Mx=89pwBVi#3
zvr#=L7sJtdBP_2Jvc&lt;&lt;c^6KI8-2MmT!3+L?0RR910000000000000000000000000
z000000002M3pTi4Jb1xL000000000000000000000000000000000000002M3wCb5
zc&lt;_Rg000000000000000000000000000000000000001h7i=)TQoWxfdVlTxw)cy;
z0ssI200000000000000000000000000000000000UtVA73zD7n?&amp;ifzrq!;8t+jTi
zn&gt;wknZ&gt;X=3To0SAT6^bk`&lt;d7J3h5Kt2jjt0y&amp;oldf9d_Y_w%&gt;{000000000000000
z000000000000000000000001APOqkdM6$Eq-MpB|wA%Hswbt%*Qzy3eeKl1`B-g`c
ztJdB*+;L_o?ns}|F&amp;Iyf&gt;U}@a`+e`Hy^rDw000000000000000000000000000000
z000000001d(Y}!if@EjCyLmB_X|?NNYpvbs9=%U}uBg5XsX`&amp;S9yVLG_Riss6PnJv
z8ONqSU+iF&lt;W~#T8=&gt;4qshu(v@0ssI200000000000000000000000000000000000
zUz9idmXo`qxl*B)FO`Erw$ccS`CL7yRchIwT#2$#wp=M?%cZ^4L1?jDUTI`=ji6E}
z)`MbYB?`);Q6(s4&gt;*aDT$`&gt;19X|L}fG*=m0$&lt;?y8AeXO=1;sGi2x{TjSP&lt;na`7p{&gt;
zYV}5b@61Twa(cHg7KMd)u3$7*4CBzS5QN#N9+ZpWXuT1ZR|?tU-e8&lt;=s`s}&lt;?_a%t
z_Wlu9000000000000000000000000000000000000002s|6QstolNZ)ef!0kzP@z&amp;
E-&gt;4}AW&amp;i*H</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1">deleted file mode 100644</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineminus">--- a/mailnews/test/data/signons-mailnews1.8-multiple.txt</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineplus">+++ /dev/null</span>
<a href="#l27.4"></a><span id="l27.4" class="difflineat">@@ -1,26 +0,0 @@</span>
<a href="#l27.5"></a><span id="l27.5" class="difflineminus">-#2c</span>
<a href="#l27.6"></a><span id="l27.6" class="difflineminus">-.</span>
<a href="#l27.7"></a><span id="l27.7" class="difflineminus">-mailbox://testpop3@localhost</span>
<a href="#l27.8"></a><span id="l27.8" class="difflineminus">-\=username=\</span>
<a href="#l27.9"></a><span id="l27.9" class="difflineminus">-~</span>
<a href="#l27.10"></a><span id="l27.10" class="difflineminus">-*\=password=\</span>
<a href="#l27.11"></a><span id="l27.11" class="difflineminus">-~cG9wM3Rlc3Q=</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-.</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineminus">-mailbox://testpop3a@localhost</span>
<a href="#l27.14"></a><span id="l27.14" class="difflineminus">-\=username=\</span>
<a href="#l27.15"></a><span id="l27.15" class="difflineminus">-~</span>
<a href="#l27.16"></a><span id="l27.16" class="difflineminus">-*\=password=\</span>
<a href="#l27.17"></a><span id="l27.17" class="difflineminus">-~c210cHRlc3Q=</span>
<a href="#l27.18"></a><span id="l27.18" class="difflineminus">-.</span>
<a href="#l27.19"></a><span id="l27.19" class="difflineminus">-smtp://testsmtp@localhost</span>
<a href="#l27.20"></a><span id="l27.20" class="difflineminus">-\=username=\</span>
<a href="#l27.21"></a><span id="l27.21" class="difflineminus">-~</span>
<a href="#l27.22"></a><span id="l27.22" class="difflineminus">-*\=password=\</span>
<a href="#l27.23"></a><span id="l27.23" class="difflineminus">-~c210cHRlc3Q=</span>
<a href="#l27.24"></a><span id="l27.24" class="difflineminus">-.</span>
<a href="#l27.25"></a><span id="l27.25" class="difflineminus">-smtp://testsmtpa@localhost</span>
<a href="#l27.26"></a><span id="l27.26" class="difflineminus">-\=username=\</span>
<a href="#l27.27"></a><span id="l27.27" class="difflineminus">-~</span>
<a href="#l27.28"></a><span id="l27.28" class="difflineminus">-*\=password=\</span>
<a href="#l27.29"></a><span id="l27.29" class="difflineminus">-~cG9wM3Rlc3Q=</span>
<a href="#l27.30"></a><span id="l27.30" class="difflineminus">-.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1">new file mode 100644</span>
<a href="#l28.2"></a><span id="l28.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..d7814bf2a30141ea73f4786efbd62cb72d7062a7</span>
<a href="#l28.3"></a><span id="l28.3">GIT binary patch
literal 327680
zc%1Fs%WfOj8316?qOC}QQ3Plsq-_crLD4GlfRad2qJf|lW!h3KOO7sXq%Mr%a469x
zMM&lt;PA*^WcoUGx$907biKU!g#DeSq`=bk|kUF4{#m-E&gt;h(wqshCByJZ@gYN@oFmuk&amp;
zbN=(s;cRE|{n=_O9;`IB&gt;tSm!lX#FwCKEp#984q&lt;w&gt;w9F;+a=EN2=&gt;S**Q)pKHKd?
z@R!8dk6uso-R(&lt;!^v(O&lt;yZ^fncRoCQuX^`ScW-x^0000000000000000000000000
z0000000000006$cZuRvJyn8PB@N{*f9PiZ|cW=}hYt@bBjd&amp;wky0aPIIMm)hwNRW~
zDh|%fT`YbucvAe}{9ISx_n-6)g|D0$7(bW1b9k&lt;`ooe~;M13bs^ep($Ec+cp56|}Y
z4lH&amp;SlsP=fdZXFe2&lt;!2U^;T&lt;hAr5Qx!&amp;AO;(v&amp;Ct^iTp%!_E(W8aMRtjWfLiKkno+
zbz(mIAK_lyDb=g3&lt;%QY9IrV;SPRIQG#Jrx19ojhEJMe=}YJDfBcBtdb=O*)6(+@pN
zr+NoQMv{;ET4AXc?}wD*THK1uPePBjoPILn(qv(_IC!*w@cY&amp;B;1M%(OU28@g~4kJ
zGgl`URtB#WSI+P6j&gt;B&lt;F#SfOwx2pB{;^RRN4&gt;0s_=v41OI-Pu!e3o&amp;wxqn%n?yRbL
zq@m|%zTMr&amp;rh8nrPiuB4*}&gt;(xnfI5A`vsnwpSv_WGqp6hP`oxfIaM5*&gt;^U&gt;AoK7YV
z9zk=fR&amp;B*M!kt#*;Qq#uRBntMY1;qFd+H}qvUlLzx#Uk@`*g|A9?s*dQ%4s0q7UPk
z&lt;vm{C+&lt;fO)o}E4a=|AZ3&lt;9cojcX#YG&lt;L&amp;)1FID4O`PeZx!)9~0v0XknqVuBKzO&amp;ic
z3Cm9gJ2~RolfjNeoVd}RyakUd&amp;cP;}+K$6xHsL|vY}jmdaw;F!_cW8K^&gt;AaY6Vlz+
z?EX&gt;L#y-3MsPFwY@zFo-|M|mDIu`%{00000000000000000000000000000000000
z@PF@7U+T3)5G2l?eHc6pR{Bn#KHb-&gt;w&gt;B@N)3rtv*47WcQUCn?)r*Z{@!HztQN`U$
zlPfb&lt;8mlwwx1+hq-KaQqWxKq(eRFYdbE#1%6tauUYj&gt;MhuD`dqytlBrxiUK)MwJ&amp;D
z@4fBn&lt;;JDUJH_kSLSgdC+~VBk^gFBL)#&gt;rV=B3O;)L2-&amp;H#U(Ooybh&amp;gD@U02iZ(6
z7lhfdN)Sc)iLt0$DwQhZ_mh(!zww=*`~2wDo=z&lt;$_iORy(^_oAyUp&amp;kAHGk&amp;_4K3h
zS1-&lt;d@l{-287^+j&amp;hKPqt`sJ3&amp;PUbh=;p2U`q=Kf@4iqq3YXKZwXMuTYhj~MxL9Aj
zxs`8T&amp;CRWD+=*sZ3#(%rBg^;3$K%mbrxL-)NEip%@v(_uA{ws*aWqoN&lt;@4oAX|#M$
zjW&gt;VZeSY-nssExHn@_$Z|3cN6t8Q;ht?$kiww4N$YuTOY&gt;1gM6rG9(u1*&gt;uS`s(_{
z^sQTa^P8Q$F&gt;`hLTAXeb?rd#^6RlD&gt;cQ=j~?u|y}@$6_m?CgzPHpmV~rJyvC$p`sd
zDGYPvd~PIHd0dTeb)O%7E%{m^lX&gt;ocQV*-OQe&amp;^X0LL`F&amp;&lt;ZY&amp;&amp;Tnm9pV`@Iyx;k^
z+^v*GGVlCozEoQXZ!KkK@2u|@8ZR{7bg^&lt;dGd()8u)b9&amp;OkHoicX=;!Y4gqp*_q7U
zsf&amp;|q^OIZmhVvtp;W!%wm2zdcvp;fCkk91Dg0aysA7!(payiT$ROH(~&gt;pq{|e|&lt;c7
z$*(T}00000000000000000000000000000000000004N&amp;`u9%{UUCuu0000000000
z0000000000000000000000000008iko!vh@c*#is0000000000000000000000000
z0000000000006*C*55f&amp;?O!F@e{27~{c-04000000000000000000000000000000
z000000002K)V|&amp;mB%Aft=7n^+)`-H|dZXD&amp;?Kf`3yUp&amp;#p5q!%z21}QtB2KEsj=7H
z-rpHH)&amp;6Co{nz#&lt;?ca1R000000000000000000000000000000000000002sOY0k{
zAdzg=Tbmcs=~^QSYwL|&gt;D|OJi5$`s;TYHXeJvETZB&gt;L)MwN`5Eb$9f4Mo+cp6YW2=
zf6?CQTmS$700000000000000000000000000000000000!2j;MsUS!;&gt;#fZT&gt;2$3T
zg|+oYvvv4Bl}-hd$&amp;Glo+1+~hKK&lt;5CGv3|^&gt;v7K)jNc5K&amp;E3X!`PAE~Os20MR%@lk
zUU$ebP5qsuQ|;wM`;YBkx0l-wUUmTi00000000000000000000000000000000000
z008(3dAnyNd2ehYGdhu($OmCOTn@6CTrLQ+W0fF^@)KiGxl}4u#_y*NLdVDB(NZTY
z7#RuUAUi%b5llqml^~8rD!F{VTq%u~@An*pjz;D2&gt;}WphjGD^^+2N=ZlqNFyAfGFR
zVXmCdjpQo#PYv~~^xYfIk5q=^Y!p&lt;=mEq2)xhTkI@?*i+Xqb&lt;(*;2V2=I-}*(oMDh
zo@oEO{jc^vI~M=|000000000000000000000000000000000000Pt0p&gt;gh|S_D?&lt;g
Lr&amp;B#WeSQA{&gt;U$2B</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1">deleted file mode 100644</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineminus">--- a/mailnews/test/data/signons-mailnews1.8.txt</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineplus">+++ /dev/null</span>
<a href="#l29.4"></a><span id="l29.4" class="difflineat">@@ -1,26 +0,0 @@</span>
<a href="#l29.5"></a><span id="l29.5" class="difflineminus">-#2c</span>
<a href="#l29.6"></a><span id="l29.6" class="difflineminus">-.</span>
<a href="#l29.7"></a><span id="l29.7" class="difflineminus">-mailbox://testpop3@localhost</span>
<a href="#l29.8"></a><span id="l29.8" class="difflineminus">-\=username=\</span>
<a href="#l29.9"></a><span id="l29.9" class="difflineminus">-~</span>
<a href="#l29.10"></a><span id="l29.10" class="difflineminus">-*\=password=\</span>
<a href="#l29.11"></a><span id="l29.11" class="difflineminus">-~cG9wM3Rlc3Q=</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-.</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineminus">-news://localhost:119/#password</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineminus">-\=username=\</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineminus">-~</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineminus">-*\=password=\</span>
<a href="#l29.17"></a><span id="l29.17" class="difflineminus">-~bmV3c3Rlc3Q=</span>
<a href="#l29.18"></a><span id="l29.18" class="difflineminus">-.</span>
<a href="#l29.19"></a><span id="l29.19" class="difflineminus">-news://localhost:119/#username</span>
<a href="#l29.20"></a><span id="l29.20" class="difflineminus">-\=username=\</span>
<a href="#l29.21"></a><span id="l29.21" class="difflineminus">-~</span>
<a href="#l29.22"></a><span id="l29.22" class="difflineminus">-*\=password=\</span>
<a href="#l29.23"></a><span id="l29.23" class="difflineminus">-~dGVzdG5ld3M=</span>
<a href="#l29.24"></a><span id="l29.24" class="difflineminus">-.</span>
<a href="#l29.25"></a><span id="l29.25" class="difflineminus">-smtp://testsmtp@localhost</span>
<a href="#l29.26"></a><span id="l29.26" class="difflineminus">-\=username=\</span>
<a href="#l29.27"></a><span id="l29.27" class="difflineminus">-~</span>
<a href="#l29.28"></a><span id="l29.28" class="difflineminus">-*\=password=\</span>
<a href="#l29.29"></a><span id="l29.29" class="difflineminus">-~c210cHRlc3Q=</span>
<a href="#l29.30"></a><span id="l29.30" class="difflineminus">-.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1">new file mode 100644</span>
<a href="#l30.2"></a><span id="l30.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..cee66c6b69246fe471e16924f10b42d3bc69bd72</span>
<a href="#l30.3"></a><span id="l30.3">GIT binary patch
literal 327680
zc%1Fs-%lIK9RTp%1L7Eohf{k+*C$76)k7DbLt+d&gt;J++Q;8XCv^2;7DC0d24Ww&gt;I|S
zB_!k$Li*4@tA9kLN&gt;$&amp;hO6{M}hprQna5lbcpQtXMk7ichneWbgXJ_nJ-(RUT;(BJg
zz2A!B%#Gkh5Qf1oGnpU=K1=F&amp;@XqC=j-I&amp;&gt;lR6fByU&amp;8`--C(gKMK-E&gt;EQW~pZ)CF
zpT9o%dhBWA=&amp;whQk|qEE0000000000000000000000000000000001h|6jjPrzStY
z5}u4T_G&lt;OVt@hDov%S;U&gt;u%Qfw$`3&gt;&gt;YIJ-&lt;E7Pdajl$LtS*!vWQN6Oma1p^J~{21
ziY{N8oV^l0&gt;7Q%opi%3eC_QYVcfozL^g5&lt;aCQ_-%`^kcC^iQ(e?#6pjtG&gt;A#$DP%B
z)NJ)nd3o5B!yfHR;7!=o%-guBlaDW@CV!jcQyQ92?@zezA3SU|;`P-^e@?0I%;}uR
zhvxN-*r~m-)Z{Oc)Y3y!&gt;+87moymOL^iwCf(bVMhboeqIM-Q9zUP!IptjG1*Y3N|f
z*y)UG#aoqfX0Si=Nu!n-uvlFy|Ej#2SzcYdS6to5+%0ch?VXPPxV7?wwX1QXRbO~L
zX#W6HCsQA!CUd#)W%w@RMz{B|b|+a?cc5WpFyFJ?=capJwr}29U$U9?&gt;f*|Jx%Yxg
zOV!(z#nM`4wY*#@mdaDbkxP^7xiEOO1&gt;LWjjkvxU9mMTd_nQN$Y)%g}_5S63^bcEM
zYVyjJ@Q)w9UGlrldHv~wfkpnWn{m$aUazmZl+^V~&lt;?7pSQ2%y);|QPaIOx{*dt=^i
z)SI&lt;)$LvJi?qPesHasHvq1u1aNlwE0&gt;0rYnmQM#8h!}d%PJac@dpWNTVQIe}opT6Z
z^;M#7oa9tHukTGJrQK+6CkZ***FF2tnS(u%Y&lt;2kjA3;(800000000000000000000
z000000000000000004Loy!&lt;HqFvw&lt;uiHVc)Np&gt;SWHa3&gt;-w&amp;KpsT&amp;~&amp;PikiFaZrp!=
zue?|;FYgowl@D(hHx}=&lt;f3vvzXscR0+$xurA3xZ;er@K9;`IEjTRYLCuO6&gt;Fsm&gt;R_
z%x~xKeEI3p;dH*SvUImo&gt;pa|FdC&gt;m+-a`AoAA4cpPHA~L_v_z%nv7knUaREq&amp;gJuS
z)y2c3d}X7wF#E-=r%~ZXv^`sx$rhqQEt{XazMY-V&amp;rN6N=V$XXh3(mVG=1$^Sp3t+
zKmGaH&gt;qPJ6ytv@a0RR910000000000000000000000000000000001h3pU=nytv&gt;b
z000000000000000000000000000000000000002sf=%=;FD^I&lt;000000000000000
z000000000000000000000002EVB&lt;**kN*`U1poj50000000000000000000000000
z0000000000-U~k%$)&gt;xlxN|d?Yqqzd=5D(ik0&lt;Tn@jrv400000000000000000000
z0000000000000000002M`{0M8*&amp;y9*#hshET(i9uHFw+Hcs%I{kN*}V1poj500000
z000000000000000000000000000000zK?z~n$4!Wt+;bDmut4SqULV98~5LjCxPMd
zUxK6n00000000000000000000000000000000000006-E%+$z6`e{_S5pB;FX0nB-
zP|N1$u5V}O^K;YL`T5!WOksOAA5C9-Hl9R&gt;$NvtJ0ssI200000000000000000000
W000000000000000@1&gt;EEboxIAlZC$k</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1">new file mode 100644</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineminus">--- /dev/null</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineplus">+++ b/mailnews/test/resources/passwordStorage.js</span>
<a href="#l31.4"></a><span id="l31.4" class="difflineat">@@ -0,0 +1,10 @@</span>
<a href="#l31.5"></a><span id="l31.5" class="difflineplus">+if (typeof gDEPTH == &quot;undefined&quot;)</span>
<a href="#l31.6"></a><span id="l31.6" class="difflineplus">+  do_throw(&quot;gDEPTH must be defined when using passwordStorage.js&quot;);</span>
<a href="#l31.7"></a><span id="l31.7" class="difflineplus">+</span>
<a href="#l31.8"></a><span id="l31.8" class="difflineplus">+function setupForPassword(storageName) {</span>
<a href="#l31.9"></a><span id="l31.9" class="difflineplus">+  let keyDB = do_get_file(gDEPTH + &quot;mailnews/data/key3.db&quot;);</span>
<a href="#l31.10"></a><span id="l31.10" class="difflineplus">+  keyDB.copyTo(do_get_profile(), &quot;key3.db&quot;);</span>
<a href="#l31.11"></a><span id="l31.11" class="difflineplus">+</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineplus">+  let signons = do_get_file(gDEPTH + &quot;mailnews/data/&quot; + storageName);</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineplus">+  signons.copyTo(do_get_profile(), &quot;signons.sqlite&quot;);</span>
<a href="#l31.14"></a><span id="l31.14" class="difflineplus">+}</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

