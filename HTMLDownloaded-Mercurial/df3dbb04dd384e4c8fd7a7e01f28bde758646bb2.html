<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 28361:df3dbb04dd384e4c8fd7a7e01f28bde758646bb2</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ df3dbb04dd384e4c8fd7a7e01f28bde758646bb2" />
<meta property="og:url" content="/comm-central/rev/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2" />
<meta property="og:description" content="Bug 1593122 - Follow-up - show message guiding users what to do when exchange autodiscover authentication failed. r=aleca, ui-r=aleca" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / df3dbb04dd384e4c8fd7a7e01f28bde758646bb2 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2">shortlog</a> |
<a href="/comm-central/log/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2">files</a> |
changeset |
<a href="/comm-central/raw-rev/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2">raw</a>  | <a href="/comm-central/archive/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1593122">Bug 1593122</a> - Follow-up - show message guiding users what to do when exchange autodiscover authentication failed. r=aleca, ui-r=aleca
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#103;&#110;&#117;&#115;&#32;&#77;&#101;&#108;&#105;&#110;&#32;&#60;&#109;&#107;&#109;&#101;&#108;&#105;&#110;&#43;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#105;&#107;&#105;&#46;&#102;&#105;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 11 Dec 2019 12:44:39 +0200</td></tr>

<tr>
 <td>changeset 28361</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2">df3dbb04dd384e4c8fd7a7e01f28bde758646bb2</a></td>
</tr>



<tr>
<td>parent 28360</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/0ccbdc62b6cd9839a3743c5bdfffe73d2730ba74">0ccbdc62b6cd9839a3743c5bdfffe73d2730ba74</a>
</td>
</tr>

<tr>
<td>child 28362</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/4e8ac4f6b59766f3cd04ba9084a7ec0e65e89f1c">4e8ac4f6b59766f3cd04ba9084a7ec0e65e89f1c</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2">16794</a></td></tr>
<tr><td>push user</td><td>mkmelin@iki.fi</td></tr>
<tr><td>push date</td><td class="date age">Wed, 11 Dec 2019 10:45:28 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@df3dbb04dd38 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2&newProject=comm-central&newRevision=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2&newProject=comm-central&newRevision=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2&newProject=comm-central&newRevision=df3dbb04dd384e4c8fd7a7e01f28bde758646bb2&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28aleca%29&revcount=50">aleca</a>, <a href="/comm-central/log?rev=reviewer%28aleca%29&revcount=50">aleca</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1593122">1593122</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1593122">Bug 1593122</a> - Follow-up - show message guiding users what to do when exchange autodiscover authentication failed. r=aleca, ui-r=aleca
DONTBUILD</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/components/accountcreation/content/emailWizard.js">mail/components/accountcreation/content/emailWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/components/accountcreation/content/emailWizard.js">file</a> |
<a href="/comm-central/annotate/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/components/accountcreation/content/emailWizard.js">annotate</a> |
<a href="/comm-central/diff/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/components/accountcreation/content/emailWizard.js">diff</a> |
<a href="/comm-central/comparison/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/components/accountcreation/content/emailWizard.js">comparison</a> |
<a href="/comm-central/log/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/components/accountcreation/content/emailWizard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/locales/en-US/chrome/messenger/accountCreation.properties">mail/locales/en-US/chrome/messenger/accountCreation.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/locales/en-US/chrome/messenger/accountCreation.properties">file</a> |
<a href="/comm-central/annotate/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/locales/en-US/chrome/messenger/accountCreation.properties">annotate</a> |
<a href="/comm-central/diff/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/locales/en-US/chrome/messenger/accountCreation.properties">diff</a> |
<a href="/comm-central/comparison/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/locales/en-US/chrome/messenger/accountCreation.properties">comparison</a> |
<a href="/comm-central/log/df3dbb04dd384e4c8fd7a7e01f28bde758646bb2/mail/locales/en-US/chrome/messenger/accountCreation.properties">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/components/accountcreation/content/emailWizard.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -699,16 +699,21 @@ EmailConfigWizard.prototype = {</span>
<a href="#l1.4"></a><span id="l1.4">           let errorCallback = call.errorCallback();</span>
<a href="#l1.5"></a><span id="l1.5">           if (allErrors.some(e =&gt; e.code == 401)) {</span>
<a href="#l1.6"></a><span id="l1.6">             // Auth failed.</span>
<a href="#l1.7"></a><span id="l1.7">             // Ask user for username.</span>
<a href="#l1.8"></a><span id="l1.8">             this.onStartOver();</span>
<a href="#l1.9"></a><span id="l1.9">             this.stopSpinner(); // clears status message</span>
<a href="#l1.10"></a><span id="l1.10">             _show(&quot;usernameRow&quot;);</span>
<a href="#l1.11"></a><span id="l1.11">             _show(&quot;status-area&quot;);</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+            if (!this._exchangeUsername) {</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+              this.showErrorStatus(&quot;credentials_incomplete&quot;);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+            } else {</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+              this.showErrorStatus(&quot;credentials_wrong&quot;);</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+            }</span>
<a href="#l1.17"></a><span id="l1.17">             _enable(&quot;manual-edit_button&quot;);</span>
<a href="#l1.18"></a><span id="l1.18">             errorCallback(new CancelledException());</span>
<a href="#l1.19"></a><span id="l1.19">           } else {</span>
<a href="#l1.20"></a><span id="l1.20">             errorCallback(e);</span>
<a href="#l1.21"></a><span id="l1.21">           }</span>
<a href="#l1.22"></a><span id="l1.22">         }</span>
<a href="#l1.23"></a><span id="l1.23">       );</span>
<a href="#l1.24"></a><span id="l1.24">       call.setAbortable(fetch);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/accountCreation.properties</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/accountCreation.properties</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -98,8 +98,12 @@ resultSSL=SSL</span>
<a href="#l2.4"></a><span id="l2.4"> resultSTARTTLS=STARTTLS</span>
<a href="#l2.5"></a><span id="l2.5"> resultSSLCertWeak=Warning! Could not verify server</span>
<a href="#l2.6"></a><span id="l2.6"> resultSSLCertOK=</span>
<a href="#l2.7"></a><span id="l2.7"> resultUsernameBoth=%1$S</span>
<a href="#l2.8"></a><span id="l2.8"> resultUsernameDifferent=Incoming: %1$S, Outgoing: %2$S</span>
<a href="#l2.9"></a><span id="l2.9"> </span>
<a href="#l2.10"></a><span id="l2.10"> confirmAdvancedConfigTitle=Confirm Advanced Configuration</span>
<a href="#l2.11"></a><span id="l2.11"> confirmAdvancedConfigText=This dialog will be closed and an account with the current settings will be created, even if the configuration is incorrect. Do you want to proceed?</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+# LOCALIZATION NOTE(credentials_incomplete): The reference to &quot;janedoe&quot; (Jane Doe) is the name of an example person. You will want to translate it to whatever example persons would be named in your language. In the example, AD is the name of the Windows domain, and this should usually not be translated.</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+credentials_incomplete=Authentication failed. Either the entered credentials are incorrect or a separate username is required for logging in. This username is usually your Windows domain login with or without the domain (for example, janedoe or AD\\janedoe).</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+credentials_wrong=Authentication failed. Please check the username and password.</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

