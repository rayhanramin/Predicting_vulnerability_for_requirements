<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 4084:6df1d7e9b63c3f1e36364627cd28c8f80e2918e3</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 6df1d7e9b63c3f1e36364627cd28c8f80e2918e3" />
<meta property="og:url" content="/comm-central/rev/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3" />
<meta property="og:description" content="Bug 513709 - configure.in: Remove some useless vars, mozilla-* ones are enough;  (Jv1) Remove various vars (2/n)" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 6df1d7e9b63c3f1e36364627cd28c8f80e2918e3 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3">shortlog</a> |
<a href="/comm-central/log/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3">files</a> |
changeset |
<a href="/comm-central/raw-rev/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3">raw</a>  | <a href="/comm-central/archive/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=513709">Bug 513709</a> - configure.in: Remove some useless vars, mozilla-* ones are enough;  (Jv1) Remove various vars (2/n)
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#83;&#101;&#114;&#103;&#101;&#32;&#71;&#97;&#117;&#116;&#104;&#101;&#114;&#105;&#101;&#32;&#60;&#115;&#103;&#97;&#117;&#116;&#104;&#101;&#114;&#105;&#101;&#46;&#98;&#122;&#64;&#102;&#114;&#101;&#101;&#46;&#102;&#114;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 08 Oct 2009 00:13:20 +0200</td></tr>

<tr>
 <td>changeset 4084</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3">6df1d7e9b63c3f1e36364627cd28c8f80e2918e3</a></td>
</tr>



<tr>
<td>parent 4083</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/626e14c3c742f2478ba2ada67d5493454afdb0ad">626e14c3c742f2478ba2ada67d5493454afdb0ad</a>
</td>
</tr>

<tr>
<td>child 4085</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/e9f0d3cb9180d128a3631ef390c7a4994427357c">e9f0d3cb9180d128a3631ef390c7a4994427357c</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3">3190</a></td></tr>
<tr><td>push user</td><td>sgautherie.bz@free.fr</td></tr>
<tr><td>push date</td><td class="date age">Wed, 07 Oct 2009 22:16:48 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@6df1d7e9b63c [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3&newProject=comm-central&newRevision=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3&newProject=comm-central&newRevision=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3&newProject=comm-central&newRevision=6df1d7e9b63c3f1e36364627cd28c8f80e2918e3&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>

<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=513709">513709</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=513709">Bug 513709</a> - configure.in: Remove some useless vars, mozilla-* ones are enough;  (Jv1) Remove various vars (2/n)
r=kairo sr+a-thunderbird3=standard8

Various =
*LIBIDL*,
MOZ_PANGO,
some MOZ_TREE_CAIRO,
MOZ_WIDGET_PHOTON,
WRAP_SYSTEM_INCLUDES.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/config/autoconf.mk.in">config/autoconf.mk.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/config/autoconf.mk.in">file</a> |
<a href="/comm-central/annotate/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/config/autoconf.mk.in">annotate</a> |
<a href="/comm-central/diff/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/config/autoconf.mk.in">diff</a> |
<a href="/comm-central/comparison/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/config/autoconf.mk.in">comparison</a> |
<a href="/comm-central/log/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/config/autoconf.mk.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/configure.in">configure.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/configure.in">file</a> |
<a href="/comm-central/annotate/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/configure.in">annotate</a> |
<a href="/comm-central/diff/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/configure.in">diff</a> |
<a href="/comm-central/comparison/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/configure.in">comparison</a> |
<a href="/comm-central/log/6df1d7e9b63c3f1e36364627cd28c8f80e2918e3/configure.in">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/config/autoconf.mk.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/config/autoconf.mk.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -82,18 +82,16 @@ LIBXUL_DIST	= @LIBXUL_DIST@</span>
<a href="#l1.4"></a><span id="l1.4"> XULRUNNER_STUB_NAME = @XULRUNNER_STUB_NAME@</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6"> MOZ_CHROME_FILE_FORMAT	= @MOZ_CHROME_FILE_FORMAT@</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> MOZ_WIDGET_TOOLKIT	= @MOZ_WIDGET_TOOLKIT@</span>
<a href="#l1.9"></a><span id="l1.9"> MOZ_DFB			= @MOZ_DFB@</span>
<a href="#l1.10"></a><span id="l1.10"> MOZ_X11			= @MOZ_X11@</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-MOZ_PANGO = @MOZ_PANGO@</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-</span>
<a href="#l1.14"></a><span id="l1.14"> MOZ_JS_LIBS		   = @MOZ_JS_LIBS@</span>
<a href="#l1.15"></a><span id="l1.15"> </span>
<a href="#l1.16"></a><span id="l1.16"> MOZ_DEBUG	= @MOZ_DEBUG@</span>
<a href="#l1.17"></a><span id="l1.17"> MOZ_DEBUG_MODULES = @MOZ_DEBUG_MODULES@</span>
<a href="#l1.18"></a><span id="l1.18"> MOZ_PROFILE_MODULES = @MOZ_PROFILE_MODULES@</span>
<a href="#l1.19"></a><span id="l1.19"> MOZ_DEBUG_ENABLE_DEFS		= @MOZ_DEBUG_ENABLE_DEFS@</span>
<a href="#l1.20"></a><span id="l1.20"> MOZ_DEBUG_DISABLE_DEFS	= @MOZ_DEBUG_DISABLE_DEFS@</span>
<a href="#l1.21"></a><span id="l1.21"> MOZ_DEBUG_FLAGS	= @MOZ_DEBUG_FLAGS@</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineat">@@ -204,17 +202,16 @@ MOZ_AUTH_EXTENSION = @MOZ_AUTH_EXTENSION</span>
<a href="#l1.23"></a><span id="l1.23"> MOZ_NATIVE_HUNSPELL = @SYSTEM_HUNSPELL@</span>
<a href="#l1.24"></a><span id="l1.24"> MOZ_HUNSPELL_LIBS = @MOZ_HUNSPELL_LIBS@</span>
<a href="#l1.25"></a><span id="l1.25"> MOZ_HUNSPELL_CFLAGS = @MOZ_HUNSPELL_CFLAGS@</span>
<a href="#l1.26"></a><span id="l1.26"> </span>
<a href="#l1.27"></a><span id="l1.27"> MOZ_NATIVE_ZLIB	= @SYSTEM_ZLIB@</span>
<a href="#l1.28"></a><span id="l1.28"> MOZ_NATIVE_BZ2	= @SYSTEM_BZ2@</span>
<a href="#l1.29"></a><span id="l1.29"> MOZ_NATIVE_JPEG	= @SYSTEM_JPEG@</span>
<a href="#l1.30"></a><span id="l1.30"> MOZ_NATIVE_PNG	= @SYSTEM_PNG@</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-MOZ_TREE_CAIRO = @MOZ_TREE_CAIRO@</span>
<a href="#l1.32"></a><span id="l1.32"> </span>
<a href="#l1.33"></a><span id="l1.33"> MOZ_UPDATE_XTERM = @MOZ_UPDATE_XTERM@</span>
<a href="#l1.34"></a><span id="l1.34"> MOZ_PERMISSIONS = @MOZ_PERMISSIONS@</span>
<a href="#l1.35"></a><span id="l1.35"> </span>
<a href="#l1.36"></a><span id="l1.36"> MOZ_PREF_EXTENSIONS = @MOZ_PREF_EXTENSIONS@</span>
<a href="#l1.37"></a><span id="l1.37"> </span>
<a href="#l1.38"></a><span id="l1.38"> MOZ_CAIRO_LIBS = @MOZ_CAIRO_LIBS@</span>
<a href="#l1.39"></a><span id="l1.39"> </span>
<a href="#l1.40"></a><span id="l1.40" class="difflineat">@@ -337,20 +334,16 @@ HOST_CXXFLAGS	= @HOST_CXXFLAGS@</span>
<a href="#l1.41"></a><span id="l1.41"> HOST_OPTIMIZE_FLAGS = @HOST_OPTIMIZE_FLAGS@</span>
<a href="#l1.42"></a><span id="l1.42"> HOST_NSPR_MDCPUCFG = @HOST_NSPR_MDCPUCFG@</span>
<a href="#l1.43"></a><span id="l1.43"> HOST_AR		= @HOST_AR@</span>
<a href="#l1.44"></a><span id="l1.44"> HOST_AR_FLAGS	= @HOST_AR_FLAGS@</span>
<a href="#l1.45"></a><span id="l1.45"> HOST_LD		= @HOST_LD@</span>
<a href="#l1.46"></a><span id="l1.46"> HOST_RANLIB	= @HOST_RANLIB@</span>
<a href="#l1.47"></a><span id="l1.47"> HOST_BIN_SUFFIX	= @HOST_BIN_SUFFIX@</span>
<a href="#l1.48"></a><span id="l1.48"> </span>
<a href="#l1.49"></a><span id="l1.49" class="difflineminus">-HOST_LIBIDL_CONFIG = @HOST_LIBIDL_CONFIG@</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineminus">-HOST_LIBIDL_CFLAGS = @HOST_LIBIDL_CFLAGS@</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineminus">-HOST_LIBIDL_LIBS   = @HOST_LIBIDL_LIBS@</span>
<a href="#l1.52"></a><span id="l1.52" class="difflineminus">-</span>
<a href="#l1.53"></a><span id="l1.53"> HOST_OS_ARCH	= @HOST_OS_ARCH@</span>
<a href="#l1.54"></a><span id="l1.54"> host_cpu	= @host_cpu@</span>
<a href="#l1.55"></a><span id="l1.55"> host_vendor	= @host_vendor@</span>
<a href="#l1.56"></a><span id="l1.56"> host_os		= @host_os@</span>
<a href="#l1.57"></a><span id="l1.57"> </span>
<a href="#l1.58"></a><span id="l1.58"> TARGET_NSPR_MDCPUCFG = @TARGET_NSPR_MDCPUCFG@</span>
<a href="#l1.59"></a><span id="l1.59"> TARGET_CPU	= @TARGET_CPU@</span>
<a href="#l1.60"></a><span id="l1.60"> TARGET_VENDOR	= @TARGET_VENDOR@</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineat">@@ -484,19 +477,16 @@ MOZ_PANGO_LIBS          = @MOZ_PANGO_LIB</span>
<a href="#l1.62"></a><span id="l1.62"> MOZ_XIE_LIBS		= @MOZ_XIE_LIBS@</span>
<a href="#l1.63"></a><span id="l1.63"> XT_LIBS			= @XT_LIBS@</span>
<a href="#l1.64"></a><span id="l1.64"> </span>
<a href="#l1.65"></a><span id="l1.65"> MOZ_ALSA_LIBS           = @MOZ_ALSA_LIBS@</span>
<a href="#l1.66"></a><span id="l1.66"> </span>
<a href="#l1.67"></a><span id="l1.67"> GLIB_CFLAGS	= @GLIB_CFLAGS@</span>
<a href="#l1.68"></a><span id="l1.68"> GLIB_LIBS	= @GLIB_LIBS@</span>
<a href="#l1.69"></a><span id="l1.69"> GLIB_GMODULE_LIBS	= @GLIB_GMODULE_LIBS@</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineminus">-LIBIDL_CFLAGS = @LIBIDL_CFLAGS@</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineminus">-LIBIDL_LIBS = @LIBIDL_LIBS@</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineminus">-STATIC_LIBIDL = @STATIC_LIBIDL@</span>
<a href="#l1.73"></a><span id="l1.73"> </span>
<a href="#l1.74"></a><span id="l1.74"> MOZ_NATIVE_MAKEDEPEND	= @SYSTEM_MAKEDEPEND@</span>
<a href="#l1.75"></a><span id="l1.75"> </span>
<a href="#l1.76"></a><span id="l1.76"> # Used for LD_LIBRARY_PATH</span>
<a href="#l1.77"></a><span id="l1.77"> LIBS_PATH       = @LIBS_PATH@</span>
<a href="#l1.78"></a><span id="l1.78"> </span>
<a href="#l1.79"></a><span id="l1.79"> MOZ_AUTO_DEPS	= @MOZ_AUTO_DEPS@</span>
<a href="#l1.80"></a><span id="l1.80"> COMPILER_DEPEND = @COMPILER_DEPEND@</span>
<a href="#l1.81"></a><span id="l1.81" class="difflineat">@@ -589,9 +579,8 @@ MACOS_SDK_DIR	= @MACOS_SDK_DIR@</span>
<a href="#l1.82"></a><span id="l1.82"> NEXT_ROOT	= @NEXT_ROOT@</span>
<a href="#l1.83"></a><span id="l1.83"> GCC_VERSION	= @GCC_VERSION@</span>
<a href="#l1.84"></a><span id="l1.84"> XCODEBUILD_VERSION= @XCODEBUILD_VERSION@</span>
<a href="#l1.85"></a><span id="l1.85"> HAS_XCODE_2_1	= @HAS_XCODE_2_1@</span>
<a href="#l1.86"></a><span id="l1.86"> UNIVERSAL_BINARY= @UNIVERSAL_BINARY@</span>
<a href="#l1.87"></a><span id="l1.87"> HAVE_DTRACE= @HAVE_DTRACE@</span>
<a href="#l1.88"></a><span id="l1.88"> </span>
<a href="#l1.89"></a><span id="l1.89"> VISIBILITY_FLAGS = @VISIBILITY_FLAGS@</span>
<a href="#l1.90"></a><span id="l1.90" class="difflineminus">-WRAP_SYSTEM_INCLUDES = @WRAP_SYSTEM_INCLUDES@</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/configure.in</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/configure.in</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -122,17 +122,16 @@ MOZJPEG=62</span>
<a href="#l2.4"></a><span id="l2.4"> MOZPNG=10217</span>
<a href="#l2.5"></a><span id="l2.5"> MOZZLIB=0x1230</span>
<a href="#l2.6"></a><span id="l2.6"> NSPR_VERSION=4</span>
<a href="#l2.7"></a><span id="l2.7"> NSS_VERSION=3</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9"> dnl Set the minimum version of toolkit libs used by mozilla</span>
<a href="#l2.10"></a><span id="l2.10"> dnl ========================================================</span>
<a href="#l2.11"></a><span id="l2.11"> GLIB_VERSION=1.2.0</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-LIBIDL_VERSION=0.6.3</span>
<a href="#l2.13"></a><span id="l2.13"> PERL_VERSION=5.006</span>
<a href="#l2.14"></a><span id="l2.14"> CAIRO_VERSION=1.6.0</span>
<a href="#l2.15"></a><span id="l2.15"> PANGO_VERSION=1.14.0</span>
<a href="#l2.16"></a><span id="l2.16"> GTK2_VERSION=2.10.0</span>
<a href="#l2.17"></a><span id="l2.17"> MAKE_VERSION=3.78</span>
<a href="#l2.18"></a><span id="l2.18"> WINDRES_VERSION=2.14.90</span>
<a href="#l2.19"></a><span id="l2.19"> W32API_VERSION=3.8</span>
<a href="#l2.20"></a><span id="l2.20"> GNOMEVFS_VERSION=2.0</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineat">@@ -1010,18 +1009,16 @@ MOZ_ARG_WITH_STRING(macos-sdk,</span>
<a href="#l2.22"></a><span id="l2.22"> </span>
<a href="#l2.23"></a><span id="l2.23"> dnl MACOS_SDK_DIR will be set to the SDK location whenever one is in use.</span>
<a href="#l2.24"></a><span id="l2.24"> dnl NEXT_ROOT will be set and exported only if it's needed.</span>
<a href="#l2.25"></a><span id="l2.25"> AC_SUBST(MACOS_SDK_DIR)</span>
<a href="#l2.26"></a><span id="l2.26"> AC_SUBST(NEXT_ROOT)</span>
<a href="#l2.27"></a><span id="l2.27"> </span>
<a href="#l2.28"></a><span id="l2.28"> if test &quot;$MACOS_SDK_DIR&quot;; then</span>
<a href="#l2.29"></a><span id="l2.29">   dnl Sync this section with the ones in NSPR and NSS.</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-  dnl Changes to the cross environment here need to be accounted for in</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-  dnl the libIDL checks (below) and xpidl build.</span>
<a href="#l2.32"></a><span id="l2.32"> </span>
<a href="#l2.33"></a><span id="l2.33">   if test ! -d &quot;$MACOS_SDK_DIR&quot;; then</span>
<a href="#l2.34"></a><span id="l2.34">     AC_MSG_ERROR([SDK not found.  When using --with-macos-sdk, you must</span>
<a href="#l2.35"></a><span id="l2.35"> specify a valid SDK.  SDKs are installed when the optional cross-development</span>
<a href="#l2.36"></a><span id="l2.36"> tools are selected during the Xcode/Developer Tools installation.])</span>
<a href="#l2.37"></a><span id="l2.37">   fi</span>
<a href="#l2.38"></a><span id="l2.38"> </span>
<a href="#l2.39"></a><span id="l2.39">   GCC_VERSION_MAJOR=`echo $GCC_VERSION_FULL | $PERL -pe 's/(^\d*).*/$1/;'`</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineat">@@ -2166,19 +2163,16 @@ case &quot;$target&quot; in</span>
<a href="#l2.41"></a><span id="l2.41">     OBJ_SUFFIX=obj</span>
<a href="#l2.42"></a><span id="l2.42">     RANLIB='echo not_ranlib'</span>
<a href="#l2.43"></a><span id="l2.43">     STRIP='echo not_strip'</span>
<a href="#l2.44"></a><span id="l2.44">     TARGET_NSPR_MDCPUCFG='\&quot;md/_wince.cfg\&quot;'</span>
<a href="#l2.45"></a><span id="l2.45">     UNZIP=unzip</span>
<a href="#l2.46"></a><span id="l2.46">     XARGS=xargs</span>
<a href="#l2.47"></a><span id="l2.47">     XPCOM_FROZEN_LDOPTS='$(LIBXUL_DIST)/lib/xpcom.lib'</span>
<a href="#l2.48"></a><span id="l2.48">     ZIP=zip</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-    LIBIDL_CFLAGS=&quot;-I$MOZ_TOOLS_DIR/include ${GLIB_CFLAGS}&quot;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-    LIBIDL_LIBS=&quot;$MOZ_TOOLS_DIR/lib/libidl-0.6_s.lib $MOZ_TOOLS_DIR/lib/glib-1.2_s.lib&quot;</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineminus">-    STATIC_LIBIDL=1</span>
<a href="#l2.52"></a><span id="l2.52">     MOZ_TREE_FREETYPE=1</span>
<a href="#l2.53"></a><span id="l2.53"> </span>
<a href="#l2.54"></a><span id="l2.54">     AC_DEFINE(HAVE_SNPRINTF)</span>
<a href="#l2.55"></a><span id="l2.55">     AC_DEFINE(_WINDOWS)</span>
<a href="#l2.56"></a><span id="l2.56">     AC_DEFINE(_WIN32)</span>
<a href="#l2.57"></a><span id="l2.57">     AC_DEFINE(WIN32)</span>
<a href="#l2.58"></a><span id="l2.58">     AC_DEFINE(XP_WIN)</span>
<a href="#l2.59"></a><span id="l2.59">     AC_DEFINE(XP_WIN32)</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineat">@@ -2367,68 +2361,29 @@ case &quot;$target&quot; in</span>
<a href="#l2.61"></a><span id="l2.61">     GLIB_CFLAGS=&quot;-I${_GLIB_PREFIX_DIR}/include&quot;</span>
<a href="#l2.62"></a><span id="l2.62">     if test -f &quot;${_GLIB_PREFIX_DIR}/lib/glib-1.2_s.lib&quot;; then</span>
<a href="#l2.63"></a><span id="l2.63">         GLIB_LIBS=&quot;${_GLIB_PREFIX_DIR}/lib/glib-1.2_s.lib&quot;</span>
<a href="#l2.64"></a><span id="l2.64">     elif test -f &quot;${_GLIB_PREFIX_DIR}/lib/glib-1.2.lib&quot;; then</span>
<a href="#l2.65"></a><span id="l2.65">         GLIB_LIBS=&quot;${_GLIB_PREFIX_DIR}/lib/glib-1.2.lib&quot;</span>
<a href="#l2.66"></a><span id="l2.66">     else</span>
<a href="#l2.67"></a><span id="l2.67">         AC_MSG_ERROR([Cannot find $_GLIB_PREFIX_DIR/lib/glib-1.2.lib or $_GLIB_PREFIX_DIR/lib/glib-1.2_s.lib])</span>
<a href="#l2.68"></a><span id="l2.68">     fi</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineminus">-</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-    if test -n &quot;$LIBIDL_PREFIX&quot;; then</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineminus">-        _LIBIDL_PREFIX_DIR=`cd $LIBIDL_PREFIX &amp;&amp; pwd`</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineminus">-        if test &quot;$?&quot; = &quot;0&quot;; then</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineminus">-            if test `echo ${PATH}: | grep -ic &quot;$_LIBIDL_PREFIX_DIR/bin:&quot;` = 0; then</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineminus">-                AC_MSG_ERROR([LIBIDL_PREFIX must be in your \$PATH.])</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineminus">-            fi</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineminus">-            _LIBIDL_PREFIX_DIR=`$CYGPATH_W $_LIBIDL_PREFIX_DIR | $CYGPATH_S`</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineminus">-        else</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineminus">-            AC_MSG_ERROR([LIBIDL_PREFIX is set but &quot;${LIBIDL_PREFIX}&quot; is not a directory.])</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineminus">-        fi</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineminus">-    else</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineminus">-        _LIBIDL_PREFIX_DIR=$MOZ_TOOLS_DIR</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineminus">-    fi        </span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-    if test ! -f &quot;${_LIBIDL_PREFIX_DIR}/include/libIDL/IDL.h&quot;; then</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineminus">-        AC_MSG_ERROR([Cannot find $_LIBIDL_PREFIX_DIR/include/libIDL/IDL.h .])</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineminus">-    fi</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineminus">-    LIBIDL_CFLAGS=&quot;-I${_LIBIDL_PREFIX_DIR}/include ${GLIB_CFLAGS}&quot;</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineminus">-    if test -f &quot;${_LIBIDL_PREFIX_DIR}/lib/libidl-0.6_s.lib&quot;; then</span>
<a href="#l2.88"></a><span id="l2.88" class="difflineminus">-        LIBIDL_LIBS=&quot;${_LIBIDL_PREFIX_DIR}/lib/libidl-0.6_s.lib&quot;</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineminus">-        STATIC_LIBIDL=1</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineminus">-    elif test -f &quot;${_LIBIDL_PREFIX_DIR}/lib/libidl-0.6.lib&quot;; then</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineminus">-        LIBIDL_LIBS=&quot;${_LIBIDL_PREFIX_DIR}/lib/libidl-0.6.lib&quot;</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineminus">-    else</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineminus">-        AC_MSG_ERROR([Cannot find $_LIBIDL_PREFIX_DIR/lib/libidl-0.6.lib or $_LIBIDL_PREFIX_DIR/lib/libidl-0.6_s.lib])</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineminus">-    fi</span>
<a href="#l2.95"></a><span id="l2.95" class="difflineminus">-    LIBIDL_LIBS=&quot;${LIBIDL_LIBS} ${GLIB_LIBS}&quot;</span>
<a href="#l2.96"></a><span id="l2.96">     ;;</span>
<a href="#l2.97"></a><span id="l2.97"> </span>
<a href="#l2.98"></a><span id="l2.98">     *) # else cross-compiling</span>
<a href="#l2.99"></a><span id="l2.99">         if test -n &quot;$GLIB_PREFIX&quot;; then</span>
<a href="#l2.100"></a><span id="l2.100">             GLIB_CFLAGS=&quot;-I${GLIB_PREFIX}/include&quot;</span>
<a href="#l2.101"></a><span id="l2.101">             if test -f &quot;${GLIB_PREFIX}/lib/glib-1.2_s.lib&quot;; then</span>
<a href="#l2.102"></a><span id="l2.102">                 GLIB_LIBS=&quot;${GLIB_PREFIX}/lib/glib-1.2_s.lib&quot;</span>
<a href="#l2.103"></a><span id="l2.103">             elif test -f &quot;${GLIB_PREFIX}/lib/glib-1.2.lib&quot;; then</span>
<a href="#l2.104"></a><span id="l2.104">                 GLIB_LIBS=&quot;${GLIB_PREFIX}/lib/glib-1.2.lib&quot;</span>
<a href="#l2.105"></a><span id="l2.105">             else</span>
<a href="#l2.106"></a><span id="l2.106">                 AC_MSG_ERROR([Cannot find $GLIB_PREFIX/lib/glib-1.2.lib or $GLIB_PREFIX/lib/glib-1.2_s.lib])</span>
<a href="#l2.107"></a><span id="l2.107">             fi</span>
<a href="#l2.108"></a><span id="l2.108">         fi</span>
<a href="#l2.109"></a><span id="l2.109" class="difflineminus">-        if test -n &quot;$LIBIDL_PREFIX&quot;; then</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-            LIBIDL_CFLAGS=&quot;-I${LIBIDL_PREFIX}/include ${GLIB_CFLAGS}&quot;</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-            if test -f &quot;${LIBIDL_PREFIX}/lib/libIDL-0.6_s.lib&quot;; then</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineminus">-                LIBIDL_LIBS=&quot;${LIBIDL_PREFIX}/lib/libIDL-0.6_s.lib&quot;</span>
<a href="#l2.113"></a><span id="l2.113" class="difflineminus">-                STATIC_LIBIDL=1</span>
<a href="#l2.114"></a><span id="l2.114" class="difflineminus">-            elif test -f &quot;${LIBIDL_PREFIX}/lib/libIDL-0.6.lib&quot;; then</span>
<a href="#l2.115"></a><span id="l2.115" class="difflineminus">-                LIBIDL_LIBS=&quot;${LIBIDL_PREFIX}/lib/libIDL-0.6.lib&quot;</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineminus">-            else</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineminus">-                AC_MSG_ERROR([Cannot find $LIBIDL_PREFIX/lib/libIDL-0.6.lib or $LIBIDL_PREFIX/lib/libIDL-0.6_s.lib])</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineminus">-            fi</span>
<a href="#l2.119"></a><span id="l2.119" class="difflineminus">-        fi</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-        LIBIDL_LIBS=&quot;${LIBIDL_LIBS} ${GLIB_LIBS}&quot;</span>
<a href="#l2.121"></a><span id="l2.121">         ;;</span>
<a href="#l2.122"></a><span id="l2.122">     esac </span>
<a href="#l2.123"></a><span id="l2.123"> </span>
<a href="#l2.124"></a><span id="l2.124"> </span>
<a href="#l2.125"></a><span id="l2.125">     case &quot;$host_os&quot; in</span>
<a href="#l2.126"></a><span id="l2.126">     cygwin*|msvc*|mks*)</span>
<a href="#l2.127"></a><span id="l2.127">         AC_MSG_WARN([Using a cygwin build environment is unsupported. Configure cannot check for the presence of necessary headers. Please upgrade to MozillaBuild; see http://developer.mozilla.org/en/docs/Windows_Build_Prerequisites])</span>
<a href="#l2.128"></a><span id="l2.128">         ;;</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineat">@@ -3141,31 +3096,29 @@ EOF</span>
<a href="#l2.130"></a><span id="l2.130">                        ])</span>
<a href="#l2.131"></a><span id="l2.131">         if test &quot;$ac_cv_have_visibility_builtin_bug&quot; = &quot;no&quot; -a \</span>
<a href="#l2.132"></a><span id="l2.132">                 &quot;$ac_cv_have_visibility_class_bug&quot; = &quot;no&quot;; then</span>
<a href="#l2.133"></a><span id="l2.133"> if test &quot;$MOZILLA_1_9_1_BRANCH&quot; = &quot;1&quot;; then</span>
<a href="#l2.134"></a><span id="l2.134">           VISIBILITY_FLAGS='-I$(DIST)/include/system_wrappers -include $(MOZILLA_SRCDIR)/config/gcc_hidden.h'</span>
<a href="#l2.135"></a><span id="l2.135"> else</span>
<a href="#l2.136"></a><span id="l2.136">           VISIBILITY_FLAGS='-I$(DIST)/system_wrappers -include $(MOZILLA_SRCDIR)/config/gcc_hidden.h'</span>
<a href="#l2.137"></a><span id="l2.137"> fi</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineminus">-          WRAP_SYSTEM_INCLUDES=1</span>
<a href="#l2.139"></a><span id="l2.139">         else</span>
<a href="#l2.140"></a><span id="l2.140">           VISIBILITY_FLAGS='-fvisibility=hidden'</span>
<a href="#l2.141"></a><span id="l2.141">         fi # have visibility pragma bug</span>
<a href="#l2.142"></a><span id="l2.142">       fi   # have visibility pragma</span>
<a href="#l2.143"></a><span id="l2.143">     fi     # have visibility(default) attribute</span>
<a href="#l2.144"></a><span id="l2.144">   fi       # have visibility(hidden) attribute</span>
<a href="#l2.145"></a><span id="l2.145"> fi         # GNU_CC</span>
<a href="#l2.146"></a><span id="l2.146"> </span>
<a href="#l2.147"></a><span id="l2.147"> # visibility hidden flag for Sun Studio on Solaris</span>
<a href="#l2.148"></a><span id="l2.148"> if test &quot;$SOLARIS_SUNPRO_CC&quot;; then</span>
<a href="#l2.149"></a><span id="l2.149"> VISIBILITY_FLAGS='-xldscope=hidden'</span>
<a href="#l2.150"></a><span id="l2.150"> fi         # Sun Studio on Solaris</span>
<a href="#l2.151"></a><span id="l2.151"> </span>
<a href="#l2.152"></a><span id="l2.152" class="difflineminus">-AC_SUBST(WRAP_SYSTEM_INCLUDES)</span>
<a href="#l2.153"></a><span id="l2.153"> AC_SUBST(VISIBILITY_FLAGS)</span>
<a href="#l2.154"></a><span id="l2.154"> </span>
<a href="#l2.155"></a><span id="l2.155"> dnl Checks for header files.</span>
<a href="#l2.156"></a><span id="l2.156"> dnl ========================================================</span>
<a href="#l2.157"></a><span id="l2.157"> AC_HEADER_DIRENT</span>
<a href="#l2.158"></a><span id="l2.158"> case &quot;$target_os&quot; in</span>
<a href="#l2.159"></a><span id="l2.159"> freebsd*)</span>
<a href="#l2.160"></a><span id="l2.160"> # for stuff like -lXshm</span>
<a href="#l2.161"></a><span id="l2.161" class="difflineat">@@ -4759,17 +4712,16 @@ MOZ_ARG_HEADER(Toolkit Options)</span>
<a href="#l2.162"></a><span id="l2.162">     fi</span>
<a href="#l2.163"></a><span id="l2.163"> </span>
<a href="#l2.164"></a><span id="l2.164"> dnl ========================================================</span>
<a href="#l2.165"></a><span id="l2.165"> dnl = Enable the toolkit as needed                         =</span>
<a href="#l2.166"></a><span id="l2.166"> dnl ========================================================</span>
<a href="#l2.167"></a><span id="l2.167"> </span>
<a href="#l2.168"></a><span id="l2.168"> case &quot;$MOZ_WIDGET_TOOLKIT&quot; in</span>
<a href="#l2.169"></a><span id="l2.169"> photon)</span>
<a href="#l2.170"></a><span id="l2.170" class="difflineminus">-	AC_DEFINE(MOZ_WIDGET_PHOTON)</span>
<a href="#l2.171"></a><span id="l2.171">     ;;</span>
<a href="#l2.172"></a><span id="l2.172"> </span>
<a href="#l2.173"></a><span id="l2.173"> cairo-windows)</span>
<a href="#l2.174"></a><span id="l2.174">     MOZ_WIDGET_TOOLKIT=windows</span>
<a href="#l2.175"></a><span id="l2.175">     ;;</span>
<a href="#l2.176"></a><span id="l2.176"> </span>
<a href="#l2.177"></a><span id="l2.177"> cairo-gtk2|cairo-gtk2-x11)</span>
<a href="#l2.178"></a><span id="l2.178">     MOZ_WIDGET_TOOLKIT=gtk2</span>
<a href="#l2.179"></a><span id="l2.179" class="difflineat">@@ -5037,45 +4989,23 @@ MOZ_ARG_WITH_STRING(distribution-id,</span>
<a href="#l2.180"></a><span id="l2.180"> </span>
<a href="#l2.181"></a><span id="l2.181"> if test -z &quot;$MOZ_DISTRIBUTION_ID&quot;; then</span>
<a href="#l2.182"></a><span id="l2.182">    MOZ_DISTRIBUTION_ID=&quot;org.mozilla&quot;</span>
<a href="#l2.183"></a><span id="l2.183"> fi</span>
<a href="#l2.184"></a><span id="l2.184"> </span>
<a href="#l2.185"></a><span id="l2.185"> AC_DEFINE_UNQUOTED(MOZ_DISTRIBUTION_ID,&quot;$MOZ_DISTRIBUTION_ID&quot;)</span>
<a href="#l2.186"></a><span id="l2.186"> AC_SUBST(MOZ_DISTRIBUTION_ID)</span>
<a href="#l2.187"></a><span id="l2.187"> </span>
<a href="#l2.188"></a><span id="l2.188" class="difflineminus">-</span>
<a href="#l2.189"></a><span id="l2.189" class="difflineminus">-dnl ========================================================</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineminus">-dnl complex text support off by default</span>
<a href="#l2.191"></a><span id="l2.191" class="difflineminus">-dnl ========================================================</span>
<a href="#l2.192"></a><span id="l2.192" class="difflineminus">-MOZ_PANGO=1</span>
<a href="#l2.193"></a><span id="l2.193" class="difflineminus">-MOZ_ARG_DISABLE_BOOL(pango,</span>
<a href="#l2.194"></a><span id="l2.194" class="difflineminus">-[  --disable-pango Disable usage of Pango ],</span>
<a href="#l2.195"></a><span id="l2.195" class="difflineminus">-    MOZ_PANGO=,</span>
<a href="#l2.196"></a><span id="l2.196" class="difflineminus">-    MOZ_PANGO=1)</span>
<a href="#l2.197"></a><span id="l2.197" class="difflineminus">-</span>
<a href="#l2.198"></a><span id="l2.198" class="difflineminus">-</span>
<a href="#l2.199"></a><span id="l2.199"> dnl ========================================================</span>
<a href="#l2.200"></a><span id="l2.200"> dnl = Pango</span>
<a href="#l2.201"></a><span id="l2.201"> dnl ========================================================</span>
<a href="#l2.202"></a><span id="l2.202"> if test &quot;$MOZ_ENABLE_GTK2&quot;</span>
<a href="#l2.203"></a><span id="l2.203"> then</span>
<a href="#l2.204"></a><span id="l2.204" class="difflineminus">-    AC_SUBST(MOZ_PANGO)</span>
<a href="#l2.205"></a><span id="l2.205" class="difflineminus">-</span>
<a href="#l2.206"></a><span id="l2.206" class="difflineminus">-    PKG_CHECK_MODULES(_PANGOCHK, pango &gt;= $PANGO_VERSION)</span>
<a href="#l2.207"></a><span id="l2.207" class="difflineminus">-</span>
<a href="#l2.208"></a><span id="l2.208" class="difflineminus">-    if test &quot;$MOZ_PANGO&quot;</span>
<a href="#l2.209"></a><span id="l2.209" class="difflineminus">-    then</span>
<a href="#l2.210"></a><span id="l2.210" class="difflineminus">-        PKG_CHECK_MODULES(MOZ_PANGO, pango &gt;= $PANGO_VERSION pangoft2 &gt;= $PANGO_VERSION)</span>
<a href="#l2.211"></a><span id="l2.211" class="difflineminus">-        AC_SUBST(MOZ_PANGO_LIBS)</span>
<a href="#l2.212"></a><span id="l2.212" class="difflineminus">-        AC_DEFINE(MOZ_PANGO)</span>
<a href="#l2.213"></a><span id="l2.213" class="difflineminus">-    else</span>
<a href="#l2.214"></a><span id="l2.214" class="difflineminus">-        PKG_CHECK_MODULES(MOZ_PANGO, pango &gt;= $PANGO_VERSION pangoft2 &gt;= $PANGO_VERSION)</span>
<a href="#l2.215"></a><span id="l2.215" class="difflineminus">-        AC_SUBST(MOZ_PANGO_LIBS)</span>
<a href="#l2.216"></a><span id="l2.216" class="difflineminus">-    fi</span>
<a href="#l2.217"></a><span id="l2.217" class="difflineplus">+    PKG_CHECK_MODULES(MOZ_PANGO, pango &gt;= $PANGO_VERSION pangoft2 &gt;= $PANGO_VERSION)</span>
<a href="#l2.218"></a><span id="l2.218" class="difflineplus">+    AC_SUBST(MOZ_PANGO_LIBS)</span>
<a href="#l2.219"></a><span id="l2.219"> fi</span>
<a href="#l2.220"></a><span id="l2.220"> </span>
<a href="#l2.221"></a><span id="l2.221"> dnl ========================================================</span>
<a href="#l2.222"></a><span id="l2.222"> dnl = GnomeVFS support module</span>
<a href="#l2.223"></a><span id="l2.223"> dnl ========================================================</span>
<a href="#l2.224"></a><span id="l2.224"> </span>
<a href="#l2.225"></a><span id="l2.225"> if test &quot;$MOZ_X11&quot;</span>
<a href="#l2.226"></a><span id="l2.226"> then</span>
<a href="#l2.227"></a><span id="l2.227" class="difflineat">@@ -6981,174 +6911,50 @@ AC_SUBST(MOZ_INCOMPLETE_EXTERNAL_LINKAGE</span>
<a href="#l2.228"></a><span id="l2.228"> </span>
<a href="#l2.229"></a><span id="l2.229"> dnl ========================================================</span>
<a href="#l2.230"></a><span id="l2.230"> dnl =</span>
<a href="#l2.231"></a><span id="l2.231"> dnl = Standalone module options</span>
<a href="#l2.232"></a><span id="l2.232"> dnl = </span>
<a href="#l2.233"></a><span id="l2.233"> dnl ========================================================</span>
<a href="#l2.234"></a><span id="l2.234"> MOZ_ARG_HEADER(Standalone module options (Not for building Mozilla))</span>
<a href="#l2.235"></a><span id="l2.235"> </span>
<a href="#l2.236"></a><span id="l2.236" class="difflineminus">-dnl Check for GLib and libIDL.</span>
<a href="#l2.237"></a><span id="l2.237" class="difflineminus">-dnl ========================================================</span>
<a href="#l2.238"></a><span id="l2.238" class="difflineminus">-case &quot;$target_os&quot; in</span>
<a href="#l2.239"></a><span id="l2.239" class="difflineminus">-msvc*|mks*|cygwin*|mingw*|wince*)</span>
<a href="#l2.240"></a><span id="l2.240" class="difflineminus">-    SKIP_IDL_CHECK=&quot;yes&quot;</span>
<a href="#l2.241"></a><span id="l2.241" class="difflineminus">-    ;;</span>
<a href="#l2.242"></a><span id="l2.242" class="difflineminus">-*)</span>
<a href="#l2.243"></a><span id="l2.243" class="difflineminus">-    SKIP_IDL_CHECK=&quot;no&quot;</span>
<a href="#l2.244"></a><span id="l2.244" class="difflineminus">-    ;;</span>
<a href="#l2.245"></a><span id="l2.245" class="difflineminus">-esac</span>
<a href="#l2.246"></a><span id="l2.246" class="difflineminus">-</span>
<a href="#l2.247"></a><span id="l2.247" class="difflineminus">-if test -z &quot;$COMPILE_ENVIRONMENT&quot;; then</span>
<a href="#l2.248"></a><span id="l2.248" class="difflineminus">-    SKIP_IDL_CHECK=&quot;yes&quot;</span>
<a href="#l2.249"></a><span id="l2.249" class="difflineminus">-fi</span>
<a href="#l2.250"></a><span id="l2.250" class="difflineminus">-</span>
<a href="#l2.251"></a><span id="l2.251" class="difflineminus">-dnl = Allow users to disable libIDL checking for standalone modules</span>
<a href="#l2.252"></a><span id="l2.252" class="difflineminus">-MOZ_ARG_WITHOUT_BOOL(libIDL,</span>
<a href="#l2.253"></a><span id="l2.253" class="difflineminus">-[  --without-libIDL        Skip check for libIDL (standalone modules only)],</span>
<a href="#l2.254"></a><span id="l2.254" class="difflineminus">-	SKIP_IDL_CHECK=&quot;yes&quot;)</span>
<a href="#l2.255"></a><span id="l2.255" class="difflineminus">-</span>
<a href="#l2.256"></a><span id="l2.256" class="difflineminus">-if test &quot;$SKIP_IDL_CHECK&quot; = &quot;no&quot;</span>
<a href="#l2.257"></a><span id="l2.257" class="difflineminus">-then</span>
<a href="#l2.258"></a><span id="l2.258" class="difflineminus">-    _LIBIDL_FOUND=</span>
<a href="#l2.259"></a><span id="l2.259" class="difflineminus">-    if test &quot;$MACOS_SDK_DIR&quot;; then </span>
<a href="#l2.260"></a><span id="l2.260" class="difflineminus">-      dnl xpidl, and therefore libIDL, is only needed on the build host.</span>
<a href="#l2.261"></a><span id="l2.261" class="difflineminus">-      dnl Don't build it against the SDK, as that causes problems.</span>
<a href="#l2.262"></a><span id="l2.262" class="difflineminus">-      _MACSAVE_CFLAGS=&quot;$CFLAGS&quot;</span>
<a href="#l2.263"></a><span id="l2.263" class="difflineminus">-      _MACSAVE_LIBS=&quot;$LIBS&quot;</span>
<a href="#l2.264"></a><span id="l2.264" class="difflineminus">-      _MACSAVE_LDFLAGS=&quot;$LDFLAGS&quot;</span>
<a href="#l2.265"></a><span id="l2.265" class="difflineminus">-      _MACSAVE_NEXT_ROOT=&quot;$NEXT_ROOT&quot;</span>
<a href="#l2.266"></a><span id="l2.266" class="difflineminus">-      changequote(,)</span>
<a href="#l2.267"></a><span id="l2.267" class="difflineminus">-      CFLAGS=`echo $CFLAGS|sed -E -e &quot;s%((-I|-isystem )${MACOS_SDK_DIR}/usr/(include|lib/gcc)[^ ]*)|-F${MACOS_SDK_DIR}(/System)?/Library/Frameworks[^ ]*|-nostdinc[^ ]*|-isysroot ${MACOS_SDK_DIR}%%g&quot;`</span>
<a href="#l2.268"></a><span id="l2.268" class="difflineminus">-      LIBS=`echo $LIBS|sed -e &quot;s?-L${MACOS_SDK_DIR}/usr/lib[^ ]*??g&quot;`</span>
<a href="#l2.269"></a><span id="l2.269" class="difflineminus">-      LDFLAGS=`echo $LDFLAGS|sed -e &quot;s?-Wl,-syslibroot,${MACOS_SDK_DIR}??g&quot;`</span>
<a href="#l2.270"></a><span id="l2.270" class="difflineminus">-      changequote([,])</span>
<a href="#l2.271"></a><span id="l2.271" class="difflineminus">-      unset NEXT_ROOT</span>
<a href="#l2.272"></a><span id="l2.272" class="difflineminus">-    fi</span>
<a href="#l2.273"></a><span id="l2.273" class="difflineminus">-</span>
<a href="#l2.274"></a><span id="l2.274" class="difflineminus">-    if test &quot;$MOZ_ENABLE_GTK2&quot;; then</span>
<a href="#l2.275"></a><span id="l2.275" class="difflineminus">-        PKG_CHECK_MODULES(LIBIDL, libIDL-2.0 &gt;= 0.8.0 glib-2.0 gobject-2.0, _LIBIDL_FOUND=1,_LIBIDL_FOUND=)</span>
<a href="#l2.276"></a><span id="l2.276" class="difflineminus">-    fi</span>
<a href="#l2.277"></a><span id="l2.277" class="difflineminus">-    dnl if no gtk/libIDL1 or gtk2/libIDL2 combination was found, fall back</span>
<a href="#l2.278"></a><span id="l2.278" class="difflineminus">-    dnl to either libIDL1 or libIDL2.</span>
<a href="#l2.279"></a><span id="l2.279" class="difflineminus">-    if test -z &quot;$_LIBIDL_FOUND&quot;; then</span>
<a href="#l2.280"></a><span id="l2.280" class="difflineminus">-        AM_PATH_LIBIDL($LIBIDL_VERSION,_LIBIDL_FOUND=1)</span>
<a href="#l2.281"></a><span id="l2.281" class="difflineminus">-        if test -z &quot;$_LIBIDL_FOUND&quot;; then</span>
<a href="#l2.282"></a><span id="l2.282" class="difflineminus">-            PKG_CHECK_MODULES(LIBIDL, libIDL-2.0 &gt;= 0.8.0,_LIBIDL_FOUND=1)</span>
<a href="#l2.283"></a><span id="l2.283" class="difflineminus">-        fi</span>
<a href="#l2.284"></a><span id="l2.284" class="difflineminus">-    fi</span>
<a href="#l2.285"></a><span id="l2.285" class="difflineminus">-    dnl</span>
<a href="#l2.286"></a><span id="l2.286" class="difflineminus">-    dnl If we don't have a libIDL config program &amp; not cross-compiling, </span>
<a href="#l2.287"></a><span id="l2.287" class="difflineminus">-    dnl     look for orbit-config instead.</span>
<a href="#l2.288"></a><span id="l2.288" class="difflineminus">-    dnl</span>
<a href="#l2.289"></a><span id="l2.289" class="difflineminus">-    if test -z &quot;$_LIBIDL_FOUND&quot; &amp;&amp; test -z &quot;$CROSS_COMPILE&quot;; then</span>
<a href="#l2.290"></a><span id="l2.290" class="difflineminus">-        AC_PATH_PROGS(ORBIT_CONFIG, $ORBIT_CONFIG orbit-config)</span>
<a href="#l2.291"></a><span id="l2.291" class="difflineminus">-        if test -n &quot;$ORBIT_CONFIG&quot;; then</span>
<a href="#l2.292"></a><span id="l2.292" class="difflineminus">-            AC_MSG_CHECKING([for ORBit libIDL usability])</span>
<a href="#l2.293"></a><span id="l2.293" class="difflineminus">-        	_ORBIT_CFLAGS=`${ORBIT_CONFIG} client --cflags`</span>
<a href="#l2.294"></a><span id="l2.294" class="difflineminus">-    	    _ORBIT_LIBS=`${ORBIT_CONFIG} client --libs`</span>
<a href="#l2.295"></a><span id="l2.295" class="difflineminus">-            _ORBIT_INC_PATH=`${PERL} -e '{ for $f (@ARGV) { print &quot;$f &quot; if ($f =~ m/^-I/); } }' -- ${_ORBIT_CFLAGS}`</span>
<a href="#l2.296"></a><span id="l2.296" class="difflineminus">-            _ORBIT_LIB_PATH=`${PERL} -e '{ for $f (@ARGV) { print &quot;$f &quot; if ($f =~ m/^-L/); } }' -- ${_ORBIT_LIBS}`</span>
<a href="#l2.297"></a><span id="l2.297" class="difflineminus">-            LIBIDL_CFLAGS=&quot;$_ORBIT_INC_PATH&quot;</span>
<a href="#l2.298"></a><span id="l2.298" class="difflineminus">-            LIBIDL_LIBS=&quot;$_ORBIT_LIB_PATH -lIDL -lglib&quot;</span>
<a href="#l2.299"></a><span id="l2.299" class="difflineminus">-            LIBIDL_CONFIG=</span>
<a href="#l2.300"></a><span id="l2.300" class="difflineminus">-            _SAVE_CFLAGS=&quot;$CFLAGS&quot;</span>
<a href="#l2.301"></a><span id="l2.301" class="difflineminus">-            _SAVE_LIBS=&quot;$LIBS&quot;</span>
<a href="#l2.302"></a><span id="l2.302" class="difflineminus">-            CFLAGS=&quot;$LIBIDL_CFLAGS $CFLAGS&quot;</span>
<a href="#l2.303"></a><span id="l2.303" class="difflineminus">-            LIBS=&quot;$LIBIDL_LIBS $LIBS&quot;</span>
<a href="#l2.304"></a><span id="l2.304" class="difflineminus">-            AC_TRY_RUN([</span>
<a href="#l2.305"></a><span id="l2.305" class="difflineminus">-#include &lt;stdlib.h&gt;</span>
<a href="#l2.306"></a><span id="l2.306" class="difflineminus">-#include &lt;libIDL/IDL.h&gt;</span>
<a href="#l2.307"></a><span id="l2.307" class="difflineminus">-int main() {</span>
<a href="#l2.308"></a><span id="l2.308" class="difflineminus">-  char *s;</span>
<a href="#l2.309"></a><span id="l2.309" class="difflineminus">-  s=strdup(IDL_get_libver_string());</span>
<a href="#l2.310"></a><span id="l2.310" class="difflineminus">-  if(s==NULL) {</span>
<a href="#l2.311"></a><span id="l2.311" class="difflineminus">-    exit(1);</span>
<a href="#l2.312"></a><span id="l2.312" class="difflineminus">-  }</span>
<a href="#l2.313"></a><span id="l2.313" class="difflineminus">-  exit(0);</span>
<a href="#l2.314"></a><span id="l2.314" class="difflineminus">-}</span>
<a href="#l2.315"></a><span id="l2.315" class="difflineminus">-            ], [_LIBIDL_FOUND=1</span>
<a href="#l2.316"></a><span id="l2.316" class="difflineminus">-                result=&quot;yes&quot;],</span>
<a href="#l2.317"></a><span id="l2.317" class="difflineminus">-               [LIBIDL_CFLAGS=</span>
<a href="#l2.318"></a><span id="l2.318" class="difflineminus">-                LIBIDL_LIBS=</span>
<a href="#l2.319"></a><span id="l2.319" class="difflineminus">-                result=&quot;no&quot;],</span>
<a href="#l2.320"></a><span id="l2.320" class="difflineminus">-               [_LIBIDL_FOUND=1</span>
<a href="#l2.321"></a><span id="l2.321" class="difflineminus">-                result=&quot;maybe&quot;] )</span>
<a href="#l2.322"></a><span id="l2.322" class="difflineminus">-            AC_MSG_RESULT($result)</span>
<a href="#l2.323"></a><span id="l2.323" class="difflineminus">-            CFLAGS=&quot;$_SAVE_CFLAGS&quot;</span>
<a href="#l2.324"></a><span id="l2.324" class="difflineminus">-            LIBS=&quot;$_SAVE_LIBS&quot;</span>
<a href="#l2.325"></a><span id="l2.325" class="difflineminus">-        fi</span>
<a href="#l2.326"></a><span id="l2.326" class="difflineminus">-    fi</span>
<a href="#l2.327"></a><span id="l2.327" class="difflineminus">-    if test -z &quot;$_LIBIDL_FOUND&quot;; then</span>
<a href="#l2.328"></a><span id="l2.328" class="difflineminus">-        AC_MSG_ERROR([libIDL not found.</span>
<a href="#l2.329"></a><span id="l2.329" class="difflineminus">-        libIDL $LIBIDL_VERSION or higher is required.])</span>
<a href="#l2.330"></a><span id="l2.330" class="difflineminus">-    fi</span>
<a href="#l2.331"></a><span id="l2.331" class="difflineminus">-    if test &quot;$MACOS_SDK_DIR&quot;; then</span>
<a href="#l2.332"></a><span id="l2.332" class="difflineminus">-      CFLAGS=&quot;$_MACSAVE_CFLAGS&quot;</span>
<a href="#l2.333"></a><span id="l2.333" class="difflineminus">-      LIBS=&quot;$_MACSAVE_LIBS&quot;</span>
<a href="#l2.334"></a><span id="l2.334" class="difflineminus">-      LDFLAGS=&quot;$_MACSAVE_LDFLAGS&quot;</span>
<a href="#l2.335"></a><span id="l2.335" class="difflineminus">-      if test -n &quot;$_MACSAVE_NEXT_ROOT&quot; ; then</span>
<a href="#l2.336"></a><span id="l2.336" class="difflineminus">-        export NEXT_ROOT=&quot;$_MACSAVE_NEXT_ROOT&quot;</span>
<a href="#l2.337"></a><span id="l2.337" class="difflineminus">-      fi</span>
<a href="#l2.338"></a><span id="l2.338" class="difflineminus">-    fi</span>
<a href="#l2.339"></a><span id="l2.339" class="difflineminus">-fi</span>
<a href="#l2.340"></a><span id="l2.340" class="difflineminus">-</span>
<a href="#l2.341"></a><span id="l2.341" class="difflineminus">-if test -n &quot;$CROSS_COMPILE&quot;; then</span>
<a href="#l2.342"></a><span id="l2.342" class="difflineminus">-     if test -z &quot;$HOST_LIBIDL_CONFIG&quot;; then</span>
<a href="#l2.343"></a><span id="l2.343" class="difflineminus">-        HOST_LIBIDL_CONFIG=&quot;$LIBIDL_CONFIG&quot;</span>
<a href="#l2.344"></a><span id="l2.344" class="difflineminus">-    fi</span>
<a href="#l2.345"></a><span id="l2.345" class="difflineminus">-    if test -n &quot;$HOST_LIBIDL_CONFIG&quot; &amp;&amp; test &quot;$HOST_LIBIDL_CONFIG&quot; != &quot;no&quot;; then</span>
<a href="#l2.346"></a><span id="l2.346" class="difflineminus">-        HOST_LIBIDL_CFLAGS=`${HOST_LIBIDL_CONFIG} --cflags`</span>
<a href="#l2.347"></a><span id="l2.347" class="difflineminus">-        HOST_LIBIDL_LIBS=`${HOST_LIBIDL_CONFIG} --libs`</span>
<a href="#l2.348"></a><span id="l2.348" class="difflineminus">-    else</span>
<a href="#l2.349"></a><span id="l2.349" class="difflineminus">-        HOST_LIBIDL_CFLAGS=&quot;$LIBIDL_CFLAGS&quot;</span>
<a href="#l2.350"></a><span id="l2.350" class="difflineminus">-        HOST_LIBIDL_LIBS=&quot;$LIBIDL_LIBS&quot;</span>
<a href="#l2.351"></a><span id="l2.351" class="difflineminus">-    fi</span>
<a href="#l2.352"></a><span id="l2.352" class="difflineminus">-fi</span>
<a href="#l2.353"></a><span id="l2.353" class="difflineminus">-</span>
<a href="#l2.354"></a><span id="l2.354" class="difflineplus">+dnl Check for GLib.</span>
<a href="#l2.355"></a><span id="l2.355" class="difflineplus">+dnl ========================================================</span>
<a href="#l2.356"></a><span id="l2.356"> if test -z &quot;$SKIP_PATH_CHECKS&quot;; then</span>
<a href="#l2.357"></a><span id="l2.357"> if test -z &quot;${GLIB_CFLAGS}&quot; || test -z &quot;${GLIB_LIBS}&quot; ; then</span>
<a href="#l2.358"></a><span id="l2.358">     if test &quot;$MOZ_ENABLE_GTK2&quot; || test &quot;$USE_ELF_DYNSTR_GC&quot; ; then</span>
<a href="#l2.359"></a><span id="l2.359">         PKG_CHECK_MODULES(GLIB, glib-2.0 &gt;= 1.3.7 gobject-2.0)</span>
<a href="#l2.360"></a><span id="l2.360">     else</span>
<a href="#l2.361"></a><span id="l2.361">         AM_PATH_GLIB(${GLIB_VERSION})</span>
<a href="#l2.362"></a><span id="l2.362">     fi</span>
<a href="#l2.363"></a><span id="l2.363"> fi</span>
<a href="#l2.364"></a><span id="l2.364"> fi</span>
<a href="#l2.365"></a><span id="l2.365"> </span>
<a href="#l2.366"></a><span id="l2.366"> if test -z &quot;${GLIB_GMODULE_LIBS}&quot; -a -n &quot;${GLIB_CONFIG}&quot;; then</span>
<a href="#l2.367"></a><span id="l2.367">     GLIB_GMODULE_LIBS=`$GLIB_CONFIG gmodule --libs`</span>
<a href="#l2.368"></a><span id="l2.368"> fi</span>
<a href="#l2.369"></a><span id="l2.369"> </span>
<a href="#l2.370"></a><span id="l2.370" class="difflineminus">-AC_SUBST(LIBIDL_CFLAGS)</span>
<a href="#l2.371"></a><span id="l2.371" class="difflineminus">-AC_SUBST(LIBIDL_LIBS)</span>
<a href="#l2.372"></a><span id="l2.372" class="difflineminus">-AC_SUBST(STATIC_LIBIDL)</span>
<a href="#l2.373"></a><span id="l2.373"> AC_SUBST(GLIB_CFLAGS)</span>
<a href="#l2.374"></a><span id="l2.374"> AC_SUBST(GLIB_LIBS)</span>
<a href="#l2.375"></a><span id="l2.375"> AC_SUBST(GLIB_GMODULE_LIBS)</span>
<a href="#l2.376"></a><span id="l2.376" class="difflineminus">-AC_SUBST(HOST_LIBIDL_CONFIG)</span>
<a href="#l2.377"></a><span id="l2.377" class="difflineminus">-AC_SUBST(HOST_LIBIDL_CFLAGS)</span>
<a href="#l2.378"></a><span id="l2.378" class="difflineminus">-AC_SUBST(HOST_LIBIDL_LIBS)</span>
<a href="#l2.379"></a><span id="l2.379"> </span>
<a href="#l2.380"></a><span id="l2.380"> dnl ========================================================</span>
<a href="#l2.381"></a><span id="l2.381"> dnl Check for cairo</span>
<a href="#l2.382"></a><span id="l2.382"> dnl ========================================================</span>
<a href="#l2.383"></a><span id="l2.383"> </span>
<a href="#l2.384"></a><span id="l2.384"> MOZ_TREE_CAIRO=1</span>
<a href="#l2.385"></a><span id="l2.385"> MOZ_ARG_ENABLE_BOOL(system-cairo,</span>
<a href="#l2.386"></a><span id="l2.386"> [ --enable-system-cairo Use system cairo (located with pkgconfig)],</span>
<a href="#l2.387"></a><span id="l2.387"> MOZ_TREE_CAIRO=,</span>
<a href="#l2.388"></a><span id="l2.388"> MOZ_TREE_CAIRO=1 )</span>
<a href="#l2.389"></a><span id="l2.389"> </span>
<a href="#l2.390"></a><span id="l2.390"> # Check for headers defining standard int types.</span>
<a href="#l2.391"></a><span id="l2.391"> AC_CHECK_HEADERS(stdint.h inttypes.h sys/int_types.h)</span>
<a href="#l2.392"></a><span id="l2.392"> </span>
<a href="#l2.393"></a><span id="l2.393"> if test &quot;$MOZ_TREE_CAIRO&quot;; then</span>
<a href="#l2.394"></a><span id="l2.394" class="difflineminus">-    AC_DEFINE(MOZ_TREE_CAIRO)</span>
<a href="#l2.395"></a><span id="l2.395" class="difflineminus">-</span>
<a href="#l2.396"></a><span id="l2.396">     if test &quot;$MOZ_WIDGET_TOOLKIT&quot; = &quot;os2&quot;; then</span>
<a href="#l2.397"></a><span id="l2.397">         CAIRO_FT_LIBS=&quot;-L${MZFTCFGFT2}/lib -lmozft -lmzfntcfg&quot;</span>
<a href="#l2.398"></a><span id="l2.398">     fi</span>
<a href="#l2.399"></a><span id="l2.399">     if test &quot;$MOZ_WIDGET_TOOLKIT&quot; = &quot;beos&quot;; then</span>
<a href="#l2.400"></a><span id="l2.400">         PKG_CHECK_MODULES(CAIRO_FT, fontconfig freetype2)</span>
<a href="#l2.401"></a><span id="l2.401">     fi</span>
<a href="#l2.402"></a><span id="l2.402"> </span>
<a href="#l2.403"></a><span id="l2.403">     if test &quot;$_WIN32_MSVC&quot;; then</span>
<a href="#l2.404"></a><span id="l2.404" class="difflineat">@@ -7164,17 +6970,16 @@ else</span>
<a href="#l2.405"></a><span id="l2.405">    PKG_CHECK_MODULES(CAIRO, cairo &gt;= $CAIRO_VERSION freetype2 fontconfig)</span>
<a href="#l2.406"></a><span id="l2.406">    MOZ_CAIRO_LIBS=$CAIRO_LIBS</span>
<a href="#l2.407"></a><span id="l2.407">    if test &quot;$MOZ_X11&quot;; then</span>
<a href="#l2.408"></a><span id="l2.408">         PKG_CHECK_MODULES(CAIRO_XRENDER, cairo-xlib-xrender &gt;= $CAIRO_VERSION)</span>
<a href="#l2.409"></a><span id="l2.409">         MOZ_CAIRO_LIBS=&quot;$MOZ_CAIRO_LIBS $XLDFLAGS $CAIRO_XRENDER_LIBS&quot;</span>
<a href="#l2.410"></a><span id="l2.410">    fi</span>
<a href="#l2.411"></a><span id="l2.411"> fi</span>
<a href="#l2.412"></a><span id="l2.412"> </span>
<a href="#l2.413"></a><span id="l2.413" class="difflineminus">-AC_SUBST(MOZ_TREE_CAIRO)</span>
<a href="#l2.414"></a><span id="l2.414"> AC_SUBST(MOZ_CAIRO_LIBS)</span>
<a href="#l2.415"></a><span id="l2.415"> </span>
<a href="#l2.416"></a><span id="l2.416"> dnl qcms</span>
<a href="#l2.417"></a><span id="l2.417"> dnl ========================================================</span>
<a href="#l2.418"></a><span id="l2.418"> </span>
<a href="#l2.419"></a><span id="l2.419"> QCMS_LIBS='$(DEPTH)/mozilla/gfx/qcms/$(LIB_PREFIX)mozqcms.$(LIB_SUFFIX)'    </span>
<a href="#l2.420"></a><span id="l2.420"> AC_SUBST(QCMS_LIBS)</span>
<a href="#l2.421"></a><span id="l2.421"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

