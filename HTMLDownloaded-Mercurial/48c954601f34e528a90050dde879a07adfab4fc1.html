<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 15945:48c954601f34e528a90050dde879a07adfab4fc1</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 48c954601f34e528a90050dde879a07adfab4fc1" />
<meta property="og:url" content="/comm-central/rev/48c954601f34e528a90050dde879a07adfab4fc1" />
<meta property="og:description" content="Bug 988280 - Use node.remove(), especially instead of node.parentNode.removeChild(node). r=Fallen" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 48c954601f34e528a90050dde879a07adfab4fc1 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/48c954601f34e528a90050dde879a07adfab4fc1">shortlog</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/48c954601f34e528a90050dde879a07adfab4fc1">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1">files</a> |
changeset |
<a href="/comm-central/raw-rev/48c954601f34e528a90050dde879a07adfab4fc1">raw</a>  | <a href="/comm-central/archive/48c954601f34e528a90050dde879a07adfab4fc1.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=988280">Bug 988280</a> - Use node.remove(), especially instead of node.parentNode.removeChild(node). r=Fallen
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#83;&#101;&#98;&#97;&#115;&#116;&#105;&#97;&#110;&#32;&#72;&#101;&#110;&#103;&#115;&#116;&#32;&#60;&#97;&#114;&#99;&#104;&#97;&#101;&#111;&#112;&#116;&#101;&#114;&#121;&#120;&#64;&#99;&#111;&#111;&#108;&#101;&#45;&#102;&#105;&#108;&#101;&#115;&#46;&#100;&#101;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 09 Feb 2014 22:28:52 +0100</td></tr>

<tr>
 <td>changeset 15945</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/48c954601f34e528a90050dde879a07adfab4fc1">48c954601f34e528a90050dde879a07adfab4fc1</a></td>
</tr>



<tr>
<td>parent 15944</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/736e032e270ed0cd981842cd65661f7e1113ab2a">736e032e270ed0cd981842cd65661f7e1113ab2a</a>
</td>
</tr>

<tr>
<td>child 15946</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/d69fef57ca197b3fd7fa0d1639a5bc30d9c53fe7">d69fef57ca197b3fd7fa0d1639a5bc30d9c53fe7</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=48c954601f34e528a90050dde879a07adfab4fc1">9990</a></td></tr>
<tr><td>push user</td><td>ryanvm@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Wed, 26 Mar 2014 16:41:37 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@48c954601f34 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=48c954601f34e528a90050dde879a07adfab4fc1">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=48c954601f34e528a90050dde879a07adfab4fc1&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=48c954601f34e528a90050dde879a07adfab4fc1&newProject=comm-central&newRevision=0434372166021c79db19ca4198456aaebf1a45ab&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=48c954601f34e528a90050dde879a07adfab4fc1&newProject=comm-central&newRevision=0434372166021c79db19ca4198456aaebf1a45ab&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=48c954601f34e528a90050dde879a07adfab4fc1&newProject=comm-central&newRevision=0434372166021c79db19ca4198456aaebf1a45ab&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Fallen%29&revcount=50">Fallen</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=988280">988280</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=988280">Bug 988280</a> - Use node.remove(), especially instead of node.parentNode.removeChild(node). r=Fallen
CLOSED TREE</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/agenda-listbox.js">calendar/base/content/agenda-listbox.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/agenda-listbox.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/agenda-listbox.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/agenda-listbox.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/agenda-listbox.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/agenda-listbox.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-month-view.xml">calendar/base/content/calendar-month-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-month-view.xml">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-month-view.xml">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-month-view.xml">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-month-view.xml">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-month-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-multiday-view.xml">calendar/base/content/calendar-multiday-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-multiday-view.xml">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-multiday-view.xml">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-multiday-view.xml">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-multiday-view.xml">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-multiday-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-task-tree.js">calendar/base/content/calendar-task-tree.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-task-tree.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-task-tree.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-task-tree.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-task-tree.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-task-tree.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-ui-utils.js">calendar/base/content/calendar-ui-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-ui-utils.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-ui-utils.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-ui-utils.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-ui-utils.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/calendar-ui-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-alarm-dialog.js">calendar/base/content/dialogs/calendar-alarm-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-alarm-dialog.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-alarm-dialog.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-alarm-dialog.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-alarm-dialog.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-alarm-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">calendar/base/content/dialogs/calendar-event-dialog-reminder.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog-reminder.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog.js">calendar/base/content/dialogs/calendar-event-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-event-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-summary-dialog.js">calendar/base/content/dialogs/calendar-summary-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-summary-dialog.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-summary-dialog.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-summary-dialog.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-summary-dialog.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/dialogs/calendar-summary-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/preferences/categories.js">calendar/base/content/preferences/categories.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/preferences/categories.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/preferences/categories.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/preferences/categories.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/preferences/categories.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/preferences/categories.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/widgets/calendar-subscriptions-list.xml">calendar/base/content/widgets/calendar-subscriptions-list.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/widgets/calendar-subscriptions-list.xml">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/widgets/calendar-subscriptions-list.xml">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/widgets/calendar-subscriptions-list.xml">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/widgets/calendar-subscriptions-list.xml">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/content/widgets/calendar-subscriptions-list.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calAlarmUtils.jsm">calendar/base/modules/calAlarmUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calAlarmUtils.jsm">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calAlarmUtils.jsm">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calAlarmUtils.jsm">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calAlarmUtils.jsm">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calAlarmUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calUtils.jsm">calendar/base/modules/calUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calUtils.jsm">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calUtils.jsm">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calUtils.jsm">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calUtils.jsm">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/base/modules/calUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calHtmlExport.js">calendar/import-export/calHtmlExport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calHtmlExport.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calHtmlExport.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calHtmlExport.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calHtmlExport.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calHtmlExport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calMonthGridPrinter.js">calendar/import-export/calMonthGridPrinter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calMonthGridPrinter.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calMonthGridPrinter.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calMonthGridPrinter.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calMonthGridPrinter.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calMonthGridPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calWeekPrinter.js">calendar/import-export/calWeekPrinter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calWeekPrinter.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calWeekPrinter.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calWeekPrinter.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calWeekPrinter.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/import-export/calWeekPrinter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/lightning/content/lightning-utils.js">calendar/lightning/content/lightning-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/48c954601f34e528a90050dde879a07adfab4fc1/calendar/lightning/content/lightning-utils.js">file</a> |
<a href="/comm-central/annotate/48c954601f34e528a90050dde879a07adfab4fc1/calendar/lightning/content/lightning-utils.js">annotate</a> |
<a href="/comm-central/diff/48c954601f34e528a90050dde879a07adfab4fc1/calendar/lightning/content/lightning-utils.js">diff</a> |
<a href="/comm-central/comparison/48c954601f34e528a90050dde879a07adfab4fc1/calendar/lightning/content/lightning-utils.js">comparison</a> |
<a href="/comm-central/log/48c954601f34e528a90050dde879a07adfab4fc1/calendar/lightning/content/lightning-utils.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -84,17 +84,17 @@ function addPeriodListItem(aPeriod, aIte</span>
<a href="#l1.4"></a><span id="l1.4">  * Remove a period item from the agenda listbox.</span>
<a href="#l1.5"></a><span id="l1.5">  * @see agendaListbox::addPeriodListItem</span>
<a href="#l1.6"></a><span id="l1.6">  */</span>
<a href="#l1.7"></a><span id="l1.7"> agendaListbox.removePeriodListItem =</span>
<a href="#l1.8"></a><span id="l1.8"> function removePeriodListItem(aPeriod) {</span>
<a href="#l1.9"></a><span id="l1.9">     if (aPeriod.listItem) {</span>
<a href="#l1.10"></a><span id="l1.10">         aPeriod.listItem.getCheckbox().removeEventListener(&quot;CheckboxStateChange&quot;, this.onCheckboxChange, true);</span>
<a href="#l1.11"></a><span id="l1.11">         if (aPeriod.listItem) {</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-            this.agendaListboxControl.removeChild(aPeriod.listItem);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+            aPeriod.listItem.remove();</span>
<a href="#l1.14"></a><span id="l1.14">             aPeriod.listItem = null;</span>
<a href="#l1.15"></a><span id="l1.15">         }</span>
<a href="#l1.16"></a><span id="l1.16">     }</span>
<a href="#l1.17"></a><span id="l1.17"> }</span>
<a href="#l1.18"></a><span id="l1.18"> </span>
<a href="#l1.19"></a><span id="l1.19"> /**</span>
<a href="#l1.20"></a><span id="l1.20">  * Handler function called when changing the checkbox state on period items.</span>
<a href="#l1.21"></a><span id="l1.21">  *</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineat">@@ -116,17 +116,17 @@ function onCheckboxChange(event) {</span>
<a href="#l1.23"></a><span id="l1.23">     } else {</span>
<a href="#l1.24"></a><span id="l1.24">         listItem = listItem.nextSibling;</span>
<a href="#l1.25"></a><span id="l1.25">         do {</span>
<a href="#l1.26"></a><span id="l1.26">             var leaveloop = (listItem == null);</span>
<a href="#l1.27"></a><span id="l1.27">             if (!leaveloop) {</span>
<a href="#l1.28"></a><span id="l1.28">                 var nextItemSibling = listItem.nextSibling;</span>
<a href="#l1.29"></a><span id="l1.29">                 leaveloop = (!agendaListbox.isEventListItem(listItem));</span>
<a href="#l1.30"></a><span id="l1.30">                 if (!leaveloop) {</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-                    agendaListbox.agendaListboxControl.removeChild(listItem);</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+                    listItem.remove();</span>
<a href="#l1.33"></a><span id="l1.33">                     listItem = nextItemSibling;</span>
<a href="#l1.34"></a><span id="l1.34">                 }</span>
<a href="#l1.35"></a><span id="l1.35">             }</span>
<a href="#l1.36"></a><span id="l1.36">         } while (!leaveloop);</span>
<a href="#l1.37"></a><span id="l1.37">     }</span>
<a href="#l1.38"></a><span id="l1.38">     calendarController.onSelectionChanged({detail: []});    </span>
<a href="#l1.39"></a><span id="l1.39"> };</span>
<a href="#l1.40"></a><span id="l1.40"> </span>
<a href="#l1.41"></a><span id="l1.41" class="difflineat">@@ -481,34 +481,34 @@ function deleteItem(aItem, aMoveSelectio</span>
<a href="#l1.42"></a><span id="l1.42">             var listItem = listItems[i];</span>
<a href="#l1.43"></a><span id="l1.43">             var isSelected2 = listItem.selected;</span>
<a href="#l1.44"></a><span id="l1.44">             if (isSelected2 &amp;&amp; !isSelected) {</span>
<a href="#l1.45"></a><span id="l1.45">                 isSelected = true;</span>
<a href="#l1.46"></a><span id="l1.46">                 if (aMoveSelection) {</span>
<a href="#l1.47"></a><span id="l1.47">                     this.moveSelection();</span>
<a href="#l1.48"></a><span id="l1.48">                 }</span>
<a href="#l1.49"></a><span id="l1.49">             }</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineminus">-            this.agendaListboxControl.removeChild(listItem);</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineplus">+            listItem.remove();</span>
<a href="#l1.52"></a><span id="l1.52">         }</span>
<a href="#l1.53"></a><span id="l1.53">     }</span>
<a href="#l1.54"></a><span id="l1.54">     return isSelected;</span>
<a href="#l1.55"></a><span id="l1.55"> }</span>
<a href="#l1.56"></a><span id="l1.56"> </span>
<a href="#l1.57"></a><span id="l1.57"> /**</span>
<a href="#l1.58"></a><span id="l1.58">  * Remove all items belonging to the specified calendar.</span>
<a href="#l1.59"></a><span id="l1.59">  *</span>
<a href="#l1.60"></a><span id="l1.60">  * @param aCalendar         The item to compare.</span>
<a href="#l1.61"></a><span id="l1.61">  */</span>
<a href="#l1.62"></a><span id="l1.62"> agendaListbox.deleteItemsFromCalendar =</span>
<a href="#l1.63"></a><span id="l1.63"> function deleteItemsFromCalendar(aCalendar) {</span>
<a href="#l1.64"></a><span id="l1.64">     let childNodes = Array.slice(this.agendaListboxControl.childNodes);</span>
<a href="#l1.65"></a><span id="l1.65">     for each (let childNode in childNodes) {</span>
<a href="#l1.66"></a><span id="l1.66">         if (childNode &amp;&amp; childNode.occurrence</span>
<a href="#l1.67"></a><span id="l1.67">             &amp;&amp; childNode.occurrence.calendar.id == aCalendar.id) {</span>
<a href="#l1.68"></a><span id="l1.68" class="difflineminus">-            this.agendaListboxControl.removeChild(childNode);</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineplus">+            childNode.remove();</span>
<a href="#l1.70"></a><span id="l1.70">         }</span>
<a href="#l1.71"></a><span id="l1.71">     }</span>
<a href="#l1.72"></a><span id="l1.72"> }</span>
<a href="#l1.73"></a><span id="l1.73"> </span>
<a href="#l1.74"></a><span id="l1.74"> /**</span>
<a href="#l1.75"></a><span id="l1.75">  * Compares two items to see if they have the same id and their start date</span>
<a href="#l1.76"></a><span id="l1.76">  * matches</span>
<a href="#l1.77"></a><span id="l1.77">  *</span>
<a href="#l1.78"></a><span id="l1.78" class="difflineat">@@ -785,17 +785,17 @@ function removeListItems() {</span>
<a href="#l1.79"></a><span id="l1.79">             var newlistItem = null;</span>
<a href="#l1.80"></a><span id="l1.80">             if (listItem) {</span>
<a href="#l1.81"></a><span id="l1.81">                 newlistItem = listItem.previousSibling;</span>
<a href="#l1.82"></a><span id="l1.82">             } else {</span>
<a href="#l1.83"></a><span id="l1.83">                 leaveloop = true;</span>
<a href="#l1.84"></a><span id="l1.84">             }</span>
<a href="#l1.85"></a><span id="l1.85">             if (this.isEventListItem(listItem)) {</span>
<a href="#l1.86"></a><span id="l1.86">                 if (listItem != this.agendaListboxControl.firstChild) {</span>
<a href="#l1.87"></a><span id="l1.87" class="difflineminus">-                    this.agendaListboxControl.removeChild(listItem);</span>
<a href="#l1.88"></a><span id="l1.88" class="difflineplus">+                    listItem.remove();</span>
<a href="#l1.89"></a><span id="l1.89">                 } else {</span>
<a href="#l1.90"></a><span id="l1.90">                     leaveloop = true;</span>
<a href="#l1.91"></a><span id="l1.91">                 }</span>
<a href="#l1.92"></a><span id="l1.92">             }</span>
<a href="#l1.93"></a><span id="l1.93">             listItem = newlistItem;</span>
<a href="#l1.94"></a><span id="l1.94">         } while (!leaveloop)</span>
<a href="#l1.95"></a><span id="l1.95">     }</span>
<a href="#l1.96"></a><span id="l1.96"> }</span>
<a href="#l1.97"></a><span id="l1.97" class="difflineat">@@ -1039,17 +1039,17 @@ function setCurrentEvent() {</span>
<a href="#l1.98"></a><span id="l1.98">         } while (!leaveloop)</span>
<a href="#l1.99"></a><span id="l1.99">         if (msScheduleTime &gt; -1) {</span>
<a href="#l1.100"></a><span id="l1.100">             scheduleNextCurrentEventUpdate(setCurrentEvent, msScheduleTime * 1000);</span>
<a href="#l1.101"></a><span id="l1.101">         }</span>
<a href="#l1.102"></a><span id="l1.102">     }</span>
<a href="#l1.103"></a><span id="l1.103">     if (removelist) {</span>
<a href="#l1.104"></a><span id="l1.104">       if (removelist.length &gt; 0) {</span>
<a href="#l1.105"></a><span id="l1.105">           for (var i = 0;i &lt; removelist.length; i++) {</span>
<a href="#l1.106"></a><span id="l1.106" class="difflineminus">-              agendaListbox.agendaListboxControl.removeChild(removelist[i]);</span>
<a href="#l1.107"></a><span id="l1.107" class="difflineplus">+              removelist[i].remove();</span>
<a href="#l1.108"></a><span id="l1.108">           }</span>
<a href="#l1.109"></a><span id="l1.109">       }</span>
<a href="#l1.110"></a><span id="l1.110">     }</span>
<a href="#l1.111"></a><span id="l1.111"> }</span>
<a href="#l1.112"></a><span id="l1.112"> </span>
<a href="#l1.113"></a><span id="l1.113"> var gEventTimer;</span>
<a href="#l1.114"></a><span id="l1.114"> </span>
<a href="#l1.115"></a><span id="l1.115"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/calendar-month-view.xml</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/calendar-month-view.xml</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -293,17 +293,17 @@</span>
<a href="#l2.4"></a><span id="l2.4">         ]]&gt;&lt;/body&gt;</span>
<a href="#l2.5"></a><span id="l2.5">       &lt;/method&gt;</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7">       &lt;method name=&quot;deleteItem&quot;&gt;</span>
<a href="#l2.8"></a><span id="l2.8">         &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l2.9"></a><span id="l2.9">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.10"></a><span id="l2.10">           if (aItem.hashId in this.mItemHash) {</span>
<a href="#l2.11"></a><span id="l2.11">             let node =  this.mItemHash[aItem.hashId];</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-            node.parentNode.removeChild(node);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+            node.remove();</span>
<a href="#l2.14"></a><span id="l2.14">             delete this.mItemHash[aItem.hashId];</span>
<a href="#l2.15"></a><span id="l2.15">           }</span>
<a href="#l2.16"></a><span id="l2.16">         ]]&gt;&lt;/body&gt;</span>
<a href="#l2.17"></a><span id="l2.17">       &lt;/method&gt;</span>
<a href="#l2.18"></a><span id="l2.18"> </span>
<a href="#l2.19"></a><span id="l2.19">       &lt;method name=&quot;onDropItem&quot;&gt;</span>
<a href="#l2.20"></a><span id="l2.20">         &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l2.21"></a><span id="l2.21">         &lt;body&gt;&lt;![CDATA[</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -116,18 +116,18 @@</span>
<a href="#l3.4"></a><span id="l3.4">               label.setAttribute(&quot;value&quot;, timestr);</span>
<a href="#l3.5"></a><span id="l3.5">               label.setAttribute(&quot;align&quot;, &quot;center&quot;);</span>
<a href="#l3.6"></a><span id="l3.6"> </span>
<a href="#l3.7"></a><span id="l3.7">               box.appendChild(label);</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9">               return box;</span>
<a href="#l3.10"></a><span id="l3.10">           }</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-          while (topbox.lastChild)</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-              topbox.removeChild(topbox.lastChild);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+          while (topbox.hasChildNodes())</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+              topbox.lastChild.remove();</span>
<a href="#l3.16"></a><span id="l3.16"> </span>
<a href="#l3.17"></a><span id="l3.17">           var formatter = Components.classes[&quot;@mozilla.org/intl/scriptabledateformat;1&quot;].</span>
<a href="#l3.18"></a><span id="l3.18">                           getService(Components.interfaces.nsIScriptableDateFormat);</span>
<a href="#l3.19"></a><span id="l3.19">           var timeString;</span>
<a href="#l3.20"></a><span id="l3.20">           var theMin = this.mStartMin;</span>
<a href="#l3.21"></a><span id="l3.21">           var theHour = Math.floor(theMin / 60);</span>
<a href="#l3.22"></a><span id="l3.22">           var durLeft = this.mEndMin - this.mStartMin;</span>
<a href="#l3.23"></a><span id="l3.23"> </span>
<a href="#l3.24"></a><span id="l3.24" class="difflineat">@@ -613,20 +613,20 @@</span>
<a href="#l3.25"></a><span id="l3.25">            if (this.internalDeleteEvent(aOccurrence))</span>
<a href="#l3.26"></a><span id="l3.26">              this.relayout();</span>
<a href="#l3.27"></a><span id="l3.27">         ]]&gt;&lt;/body&gt;</span>
<a href="#l3.28"></a><span id="l3.28">       &lt;/method&gt;</span>
<a href="#l3.29"></a><span id="l3.29"> </span>
<a href="#l3.30"></a><span id="l3.30">       &lt;method name=&quot;clear&quot;&gt;</span>
<a href="#l3.31"></a><span id="l3.31">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l3.32"></a><span id="l3.32">           while (this.bgbox &amp;&amp; this.bgbox.hasChildNodes()) {</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-              this.bgbox.removeChild(this.bgbox.lastChild);</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+              this.bgbox.lastChild.remove();</span>
<a href="#l3.35"></a><span id="l3.35">           }</span>
<a href="#l3.36"></a><span id="l3.36">           while (this.topbox &amp;&amp; this.topbox.hasChildNodes()) {</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineminus">-              this.topbox.removeChild(this.topbox.lastChild);</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+              this.topbox.lastChild.remove();</span>
<a href="#l3.39"></a><span id="l3.39">           }</span>
<a href="#l3.40"></a><span id="l3.40">           for each (let handler in this.mHandlersToRemove) {</span>
<a href="#l3.41"></a><span id="l3.41">               this.calendarView.viewBroadcaster.removeEventListener(this.calendarView.getAttribute(&quot;type&quot;) + &quot;viewresized&quot;, handler, true);</span>
<a href="#l3.42"></a><span id="l3.42">           }</span>
<a href="#l3.43"></a><span id="l3.43">           this.mHandlersToRemove = [];</span>
<a href="#l3.44"></a><span id="l3.44">           this.mSelectedChunks = [];</span>
<a href="#l3.45"></a><span id="l3.45">         ]]&gt;&lt;/body&gt;</span>
<a href="#l3.46"></a><span id="l3.46">       &lt;/method&gt;</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineat">@@ -846,17 +846,17 @@</span>
<a href="#l3.48"></a><span id="l3.48">                   this.mCreatedNewEvent = false;</span>
<a href="#l3.49"></a><span id="l3.49">                   this.mEventToEdit = null;</span>
<a href="#l3.50"></a><span id="l3.50">                   boxToEdit.startEditing();</span>
<a href="#l3.51"></a><span id="l3.51">               }</span>
<a href="#l3.52"></a><span id="l3.52"> </span>
<a href="#l3.53"></a><span id="l3.53">               if (numBlocksInserted == 0) {</span>
<a href="#l3.54"></a><span id="l3.54">                   // if we didn't insert any blocks, then</span>
<a href="#l3.55"></a><span id="l3.55">                   // forget about this column</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-                  stack.removeChild(xulColumn);</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineplus">+                  xulColumn.remove();</span>
<a href="#l3.58"></a><span id="l3.58">               }</span>
<a href="#l3.59"></a><span id="l3.59">           }</span>
<a href="#l3.60"></a><span id="l3.60">         ]]&gt;&lt;/body&gt;</span>
<a href="#l3.61"></a><span id="l3.61">       &lt;/method&gt;</span>
<a href="#l3.62"></a><span id="l3.62"> </span>
<a href="#l3.63"></a><span id="l3.63">       &lt;method name=&quot;computeEventMap&quot;&gt;</span>
<a href="#l3.64"></a><span id="l3.64">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l3.65"></a><span id="l3.65">           /* We're going to create a series of 'blobs'.  A blob is a series of</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineat">@@ -2152,17 +2152,17 @@</span>
<a href="#l3.67"></a><span id="l3.67">         ]]&gt;&lt;/body&gt;</span>
<a href="#l3.68"></a><span id="l3.68">       &lt;/method&gt;</span>
<a href="#l3.69"></a><span id="l3.69"> </span>
<a href="#l3.70"></a><span id="l3.70">       &lt;method name=&quot;deleteEvent&quot;&gt;</span>
<a href="#l3.71"></a><span id="l3.71">         &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l3.72"></a><span id="l3.72">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l3.73"></a><span id="l3.73">           for (var i in this.mItemBoxes) {</span>
<a href="#l3.74"></a><span id="l3.74">             if (this.mItemBoxes[i].occurrence.hashId == aItem.hashId) {</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineminus">-              this.removeChild(this.mItemBoxes[i]);</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineplus">+              this.mItemBoxes[i].remove();</span>
<a href="#l3.77"></a><span id="l3.77">               this.mItemBoxes.splice(i, 1);</span>
<a href="#l3.78"></a><span id="l3.78">               break;</span>
<a href="#l3.79"></a><span id="l3.79">             }</span>
<a href="#l3.80"></a><span id="l3.80">           }</span>
<a href="#l3.81"></a><span id="l3.81">         ]]&gt;&lt;/body&gt;</span>
<a href="#l3.82"></a><span id="l3.82">       &lt;/method&gt;</span>
<a href="#l3.83"></a><span id="l3.83"> </span>
<a href="#l3.84"></a><span id="l3.84">       &lt;method name=&quot;onDropItem&quot;&gt;</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineat">@@ -3431,17 +3431,17 @@</span>
<a href="#l3.86"></a><span id="l3.86">               d2.makeImmutable();</span>
<a href="#l3.87"></a><span id="l3.87">               this.mDateColumns.push ( { date: d2, column: dayEventsBox, header: dayHeaderBox } );</span>
<a href="#l3.88"></a><span id="l3.88">               counter++;</span>
<a href="#l3.89"></a><span id="l3.89">           }</span>
<a href="#l3.90"></a><span id="l3.90"> </span>
<a href="#l3.91"></a><span id="l3.91">           // Remove any extra columns that may have been hanging around</span>
<a href="#l3.92"></a><span id="l3.92">           function removeExtraKids(elem) {</span>
<a href="#l3.93"></a><span id="l3.93">               while (counter &lt; elem.childNodes.length) {</span>
<a href="#l3.94"></a><span id="l3.94" class="difflineminus">-                  elem.removeChild(elem.childNodes[counter]);</span>
<a href="#l3.95"></a><span id="l3.95" class="difflineplus">+                  elem.childNodes[counter].remove();</span>
<a href="#l3.96"></a><span id="l3.96">               }</span>
<a href="#l3.97"></a><span id="l3.97">           }</span>
<a href="#l3.98"></a><span id="l3.98">           removeExtraKids(daybox);</span>
<a href="#l3.99"></a><span id="l3.99">           removeExtraKids(headerdaybox);</span>
<a href="#l3.100"></a><span id="l3.100">           removeExtraKids(this.labeldaybox);</span>
<a href="#l3.101"></a><span id="l3.101"> </span>
<a href="#l3.102"></a><span id="l3.102">           if (updateTimeIndicator) {</span>
<a href="#l3.103"></a><span id="l3.103">               this.updateTimeIndicatorPosition();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-task-tree.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-tree.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -10,17 +10,17 @@</span>
<a href="#l4.4"></a><span id="l4.4">  * functions (cal.removeChildren).</span>
<a href="#l4.5"></a><span id="l4.5">  *</span>
<a href="#l4.6"></a><span id="l4.6">  * @param aEvent    The popupshowing event of the opening menu</span>
<a href="#l4.7"></a><span id="l4.7">  */</span>
<a href="#l4.8"></a><span id="l4.8"> function addCalendarNames(aEvent) {</span>
<a href="#l4.9"></a><span id="l4.9">     var calendarMenuPopup = aEvent.target;</span>
<a href="#l4.10"></a><span id="l4.10">     var calendars = getCalendarManager().getCalendars({});</span>
<a href="#l4.11"></a><span id="l4.11">     while (calendarMenuPopup.hasChildNodes()) {</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-        calendarMenuPopup.removeChild(calendarMenuPopup.lastChild);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+        calendarMenuPopup.lastChild.remove();</span>
<a href="#l4.14"></a><span id="l4.14">     }</span>
<a href="#l4.15"></a><span id="l4.15">     var tasks = getSelectedTasks(aEvent);</span>
<a href="#l4.16"></a><span id="l4.16">     var tasksSelected = (tasks.length &gt; 0);</span>
<a href="#l4.17"></a><span id="l4.17">     if (tasksSelected) {</span>
<a href="#l4.18"></a><span id="l4.18">         var selIndex = appendCalendarItems(tasks[0], calendarMenuPopup, null, &quot;contextChangeTaskCalendar(event);&quot;);</span>
<a href="#l4.19"></a><span id="l4.19">         if (isPropertyValueSame(tasks, &quot;calendar&quot;) &amp;&amp; (selIndex &gt; -1)) {</span>
<a href="#l4.20"></a><span id="l4.20">             calendarMenuPopup.childNodes[selIndex].setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l4.21"></a><span id="l4.21">         }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -215,17 +215,17 @@ function uncheckChildNodes(aEvent) {</span>
<a href="#l5.4"></a><span id="l5.4">  * @param aElement  The Node (or its id) to remove children from</span>
<a href="#l5.5"></a><span id="l5.5">  */</span>
<a href="#l5.6"></a><span id="l5.6"> function removeChildren(aElement) {</span>
<a href="#l5.7"></a><span id="l5.7">     if (typeof(aElement) == &quot;string&quot;) {</span>
<a href="#l5.8"></a><span id="l5.8">         aElement = document.getElementById(aElement);</span>
<a href="#l5.9"></a><span id="l5.9">     }</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11">     while (aElement.firstChild) {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-        aElement.removeChild(aElement.lastChild);</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+        aElement.lastChild.remove();</span>
<a href="#l5.14"></a><span id="l5.14">     }</span>
<a href="#l5.15"></a><span id="l5.15"> }</span>
<a href="#l5.16"></a><span id="l5.16"> </span>
<a href="#l5.17"></a><span id="l5.17"> /**</span>
<a href="#l5.18"></a><span id="l5.18">  * Sorts a sorted array of calendars by pref |calendar.list.sortOrder|.</span>
<a href="#l5.19"></a><span id="l5.19">  * Repairs that pref if dangling entries exist.</span>
<a href="#l5.20"></a><span id="l5.20">  *</span>
<a href="#l5.21"></a><span id="l5.21">  * @param calendars     An array of calendars to sort.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -259,17 +259,17 @@ function removeWidgetFor(aItem, aAlarm) </span>
<a href="#l6.4"></a><span id="l6.4">                 widget.control.selectedItem = widget.previousSibling ||</span>
<a href="#l6.5"></a><span id="l6.5">                                               widget.nextSibling;</span>
<a href="#l6.6"></a><span id="l6.6">             }</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8">             widget.removeEventListener(&quot;snooze&quot;, onSnoozeAlarm, false);</span>
<a href="#l6.9"></a><span id="l6.9">             widget.removeEventListener(&quot;dismiss&quot;, onDismissAlarm, false);</span>
<a href="#l6.10"></a><span id="l6.10">             widget.removeEventListener(&quot;itemdetails&quot;, onItemDetails, false);</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-            alarmRichlist.removeChild(widget);</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+            widget.remove();</span>
<a href="#l6.14"></a><span id="l6.14">             closeIfEmpty();</span>
<a href="#l6.15"></a><span id="l6.15">             notfound = false;</span>
<a href="#l6.16"></a><span id="l6.16">         }</span>
<a href="#l6.17"></a><span id="l6.17">     }</span>
<a href="#l6.18"></a><span id="l6.18"> </span>
<a href="#l6.19"></a><span id="l6.19">     // Update the title</span>
<a href="#l6.20"></a><span id="l6.20">     setupTitle();</span>
<a href="#l6.21"></a><span id="l6.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -163,17 +163,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">               }</span>
<a href="#l7.5"></a><span id="l7.5">           }</span>
<a href="#l7.6"></a><span id="l7.6">           if (numRowsAdded == 0) {</span>
<a href="#l7.7"></a><span id="l7.7">               this.appendAttendee(null, listbox, template, false);</span>
<a href="#l7.8"></a><span id="l7.8">           }</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10">           // detach the template item from the listbox, but hold the reference.</span>
<a href="#l7.11"></a><span id="l7.11">           // until this function returns we add at least a single copy of this template back again.</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-          listbox.removeChild(template);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+          template.remove();</span>
<a href="#l7.14"></a><span id="l7.14"> </span>
<a href="#l7.15"></a><span id="l7.15">           this.setFocus(this.mMaxAttendees);</span>
<a href="#l7.16"></a><span id="l7.16">         ]]&gt;&lt;/body&gt;</span>
<a href="#l7.17"></a><span id="l7.17">       &lt;/method&gt;</span>
<a href="#l7.18"></a><span id="l7.18"> </span>
<a href="#l7.19"></a><span id="l7.19">       &lt;!-- appends a new row using an existing attendee structure --&gt;</span>
<a href="#l7.20"></a><span id="l7.20">       &lt;method name=&quot;appendAttendee&quot;&gt;</span>
<a href="#l7.21"></a><span id="l7.21">         &lt;parameter name=&quot;aAttendee&quot;/&gt;</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineat">@@ -839,17 +839,17 @@</span>
<a href="#l7.23"></a><span id="l7.23">                   this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l7.24"></a><span id="l7.24">           var listboxHeight = listbox.boxObject.height;</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26">           // remove rows to remove scrollbar</span>
<a href="#l7.27"></a><span id="l7.27">           var kids = listbox.childNodes;</span>
<a href="#l7.28"></a><span id="l7.28">           for (var i = kids.length - 1; this.mContentHeight &gt; listboxHeight &amp;&amp; i &gt;= 0; --i) {</span>
<a href="#l7.29"></a><span id="l7.29">               if (kids[i].hasAttribute(&quot;_isDummyRow&quot;)) {</span>
<a href="#l7.30"></a><span id="l7.30">                   this.mContentHeight -= this.mRowHeight;</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-                  listbox.removeChild(kids[i]);</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+                  kids[i].remove();</span>
<a href="#l7.33"></a><span id="l7.33">               }</span>
<a href="#l7.34"></a><span id="l7.34">           }</span>
<a href="#l7.35"></a><span id="l7.35"> </span>
<a href="#l7.36"></a><span id="l7.36">           // add rows to fill space</span>
<a href="#l7.37"></a><span id="l7.37">           if (this.mRowHeight) {</span>
<a href="#l7.38"></a><span id="l7.38">               while (this.mContentHeight + this.mRowHeight &lt; listboxHeight) {</span>
<a href="#l7.39"></a><span id="l7.39">                   this.createDummyItem(listbox);</span>
<a href="#l7.40"></a><span id="l7.40">                   this.mContentHeight += this.mRowHeight;</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineat">@@ -1122,18 +1122,17 @@</span>
<a href="#l7.42"></a><span id="l7.42">       &lt;/method&gt;</span>
<a href="#l7.43"></a><span id="l7.43"> </span>
<a href="#l7.44"></a><span id="l7.44">       &lt;method name=&quot;removeRow&quot;&gt;</span>
<a href="#l7.45"></a><span id="l7.45">         &lt;parameter name=&quot;aRow&quot;/&gt;</span>
<a href="#l7.46"></a><span id="l7.46">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l7.47"></a><span id="l7.47">           var listbox =</span>
<a href="#l7.48"></a><span id="l7.48">               document.getAnonymousElementByAttribute(</span>
<a href="#l7.49"></a><span id="l7.49">                   this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineminus">-          var nodeToRemove = this.getListItem(aRow);</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineminus">-          nodeToRemove.parentNode.removeChild(nodeToRemove);</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineplus">+          this.getListItem(aRow).remove();</span>
<a href="#l7.53"></a><span id="l7.53">           this.fitDummyRows();</span>
<a href="#l7.54"></a><span id="l7.54">           this.mMaxAttendees--;</span>
<a href="#l7.55"></a><span id="l7.55">         ]]&gt;&lt;/body&gt;</span>
<a href="#l7.56"></a><span id="l7.56">       &lt;/method&gt;</span>
<a href="#l7.57"></a><span id="l7.57">     &lt;/implementation&gt;</span>
<a href="#l7.58"></a><span id="l7.58"> </span>
<a href="#l7.59"></a><span id="l7.59">     &lt;handlers&gt;</span>
<a href="#l7.60"></a><span id="l7.60">       &lt;handler event=&quot;click&quot; button=&quot;0&quot;&gt;&lt;![CDATA[</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-freebusy.xml</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -259,17 +259,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">         &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l8.5"></a><span id="l8.5">           this.mZoomFactor = val;</span>
<a href="#l8.6"></a><span id="l8.6"> </span>
<a href="#l8.7"></a><span id="l8.7">           var template =</span>
<a href="#l8.8"></a><span id="l8.8">               document.getAnonymousElementByAttribute(</span>
<a href="#l8.9"></a><span id="l8.9">                   this, &quot;anonid&quot;, &quot;template&quot;);</span>
<a href="#l8.10"></a><span id="l8.10">           var parent = template.parentNode;</span>
<a href="#l8.11"></a><span id="l8.11">           while (parent.childNodes.length &gt; 1) {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-              parent.removeChild(parent.lastChild);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+              parent.lastChild.remove();</span>
<a href="#l8.14"></a><span id="l8.14">           }</span>
<a href="#l8.15"></a><span id="l8.15"> </span>
<a href="#l8.16"></a><span id="l8.16">           template.force24Hours = this.mForce24Hours;</span>
<a href="#l8.17"></a><span id="l8.17">           template.zoomFactor = this.mZoomFactor;</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19">           this.onLoad();</span>
<a href="#l8.20"></a><span id="l8.20"> </span>
<a href="#l8.21"></a><span id="l8.21">           return val;</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -285,17 +285,17 @@</span>
<a href="#l8.23"></a><span id="l8.23">           this.initTimeRange();</span>
<a href="#l8.24"></a><span id="l8.24"> </span>
<a href="#l8.25"></a><span id="l8.25">           var template =</span>
<a href="#l8.26"></a><span id="l8.26">               document.getAnonymousElementByAttribute(</span>
<a href="#l8.27"></a><span id="l8.27">                   this, &quot;anonid&quot;, &quot;template&quot;);</span>
<a href="#l8.28"></a><span id="l8.28"> </span>
<a href="#l8.29"></a><span id="l8.29">           var parent = template.parentNode;</span>
<a href="#l8.30"></a><span id="l8.30">           while (parent.childNodes.length &gt; 1) {</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-            parent.removeChild(parent.lastChild);</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+            parent.lastChild.remove();</span>
<a href="#l8.33"></a><span id="l8.33">           }</span>
<a href="#l8.34"></a><span id="l8.34"> </span>
<a href="#l8.35"></a><span id="l8.35">           template.force24Hours = this.mForce24Hours;</span>
<a href="#l8.36"></a><span id="l8.36">           template.zoomFactor = this.mZoomFactor;</span>
<a href="#l8.37"></a><span id="l8.37"> </span>
<a href="#l8.38"></a><span id="l8.38">           this.onLoad();</span>
<a href="#l8.39"></a><span id="l8.39"> </span>
<a href="#l8.40"></a><span id="l8.40">           return val;</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineat">@@ -1158,17 +1158,17 @@</span>
<a href="#l8.42"></a><span id="l8.42"> </span>
<a href="#l8.43"></a><span id="l8.43">           var listbox =</span>
<a href="#l8.44"></a><span id="l8.44">               document.getAnonymousElementByAttribute(</span>
<a href="#l8.45"></a><span id="l8.45">                   this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l8.46"></a><span id="l8.46">           var template =</span>
<a href="#l8.47"></a><span id="l8.47">               document.getAnonymousElementByAttribute(</span>
<a href="#l8.48"></a><span id="l8.48">                   this, &quot;anonid&quot;, &quot;item&quot;);</span>
<a href="#l8.49"></a><span id="l8.49">           this.appendNewRow(listbox, template, null);</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineminus">-          listbox.removeChild(template);</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+          template.remove();</span>
<a href="#l8.52"></a><span id="l8.52"> </span>
<a href="#l8.53"></a><span id="l8.53">           this.updateFreeBusy();</span>
<a href="#l8.54"></a><span id="l8.54">         ]]&gt;&lt;/body&gt;</span>
<a href="#l8.55"></a><span id="l8.55">       &lt;/method&gt;</span>
<a href="#l8.56"></a><span id="l8.56"> </span>
<a href="#l8.57"></a><span id="l8.57">       &lt;method name=&quot;onChangeCalendar&quot;&gt;</span>
<a href="#l8.58"></a><span id="l8.58">         &lt;parameter name=&quot;calendar&quot;/&gt;</span>
<a href="#l8.59"></a><span id="l8.59">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l8.60"></a><span id="l8.60" class="difflineat">@@ -1474,18 +1474,17 @@</span>
<a href="#l8.61"></a><span id="l8.61">       &lt;/method&gt;</span>
<a href="#l8.62"></a><span id="l8.62"> </span>
<a href="#l8.63"></a><span id="l8.63">       &lt;method name=&quot;removeRow&quot;&gt;</span>
<a href="#l8.64"></a><span id="l8.64">         &lt;parameter name=&quot;aRow&quot;/&gt;</span>
<a href="#l8.65"></a><span id="l8.65">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l8.66"></a><span id="l8.66">           var listbox =</span>
<a href="#l8.67"></a><span id="l8.67">               document.getAnonymousElementByAttribute(</span>
<a href="#l8.68"></a><span id="l8.68">                   this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l8.69"></a><span id="l8.69" class="difflineminus">-          var nodeToRemove = this.getListItem(aRow)</span>
<a href="#l8.70"></a><span id="l8.70" class="difflineminus">-          nodeToRemove.parentNode.removeChild(nodeToRemove);</span>
<a href="#l8.71"></a><span id="l8.71" class="difflineplus">+          this.getListItem(aRow).remove();</span>
<a href="#l8.72"></a><span id="l8.72">           this.fitDummyRows();</span>
<a href="#l8.73"></a><span id="l8.73">           this.mMaxFreeBusy--;</span>
<a href="#l8.74"></a><span id="l8.74">         ]]&gt;&lt;/body&gt;</span>
<a href="#l8.75"></a><span id="l8.75">       &lt;/method&gt;</span>
<a href="#l8.76"></a><span id="l8.76"> </span>
<a href="#l8.77"></a><span id="l8.77">       &lt;!-- gets the next row from the top down --&gt;</span>
<a href="#l8.78"></a><span id="l8.78">       &lt;method name=&quot;getNextDummyRow&quot;&gt;</span>
<a href="#l8.79"></a><span id="l8.79">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l8.80"></a><span id="l8.80" class="difflineat">@@ -1538,17 +1537,17 @@</span>
<a href="#l8.81"></a><span id="l8.81">                   this, &quot;anonid&quot;, &quot;listbox&quot;);</span>
<a href="#l8.82"></a><span id="l8.82">           var listboxHeight = listbox.boxObject.height;</span>
<a href="#l8.83"></a><span id="l8.83"> </span>
<a href="#l8.84"></a><span id="l8.84">           // Remove rows to remove scrollbar</span>
<a href="#l8.85"></a><span id="l8.85">           var kids = listbox.childNodes;</span>
<a href="#l8.86"></a><span id="l8.86">           for (var i = kids.length - 1; this.mContentHeight &gt; listboxHeight &amp;&amp; i &gt;= 0; --i) {</span>
<a href="#l8.87"></a><span id="l8.87">               if (kids[i].hasAttribute(&quot;_isDummyRow&quot;)) {</span>
<a href="#l8.88"></a><span id="l8.88">                   this.mContentHeight -= this.mRowHeight;</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineminus">-                  listbox.removeChild(kids[i]);</span>
<a href="#l8.90"></a><span id="l8.90" class="difflineplus">+                  kids[i].remove();</span>
<a href="#l8.91"></a><span id="l8.91">               }</span>
<a href="#l8.92"></a><span id="l8.92">           }</span>
<a href="#l8.93"></a><span id="l8.93"> </span>
<a href="#l8.94"></a><span id="l8.94">           // Add rows to fill space</span>
<a href="#l8.95"></a><span id="l8.95">           if (this.mRowHeight) {</span>
<a href="#l8.96"></a><span id="l8.96">               while (this.mContentHeight + this.mRowHeight &lt; listboxHeight) {</span>
<a href="#l8.97"></a><span id="l8.97">                   this.createDummyItem(listbox);</span>
<a href="#l8.98"></a><span id="l8.98">                   this.mContentHeight += this.mRowHeight;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-recurrence-preview.xml</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -108,44 +108,44 @@</span>
<a href="#l9.4"></a><span id="l9.4"> </span>
<a href="#l9.5"></a><span id="l9.5">           // Adjust rows</span>
<a href="#l9.6"></a><span id="l9.6">           while (numRows &lt; numVertical) {</span>
<a href="#l9.7"></a><span id="l9.7">               var newNode = row.cloneNode(true);</span>
<a href="#l9.8"></a><span id="l9.8">               rows.appendChild(newNode);</span>
<a href="#l9.9"></a><span id="l9.9">               numRows++;</span>
<a href="#l9.10"></a><span id="l9.10">           }</span>
<a href="#l9.11"></a><span id="l9.11">           while (numRows &gt; numVertical) {</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-              rows.removeChild(rows.firstChild);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+              rows.firstChild.remove();</span>
<a href="#l9.14"></a><span id="l9.14">               numRows--</span>
<a href="#l9.15"></a><span id="l9.15">           }</span>
<a href="#l9.16"></a><span id="l9.16"> </span>
<a href="#l9.17"></a><span id="l9.17">           // Adjust columns in the grid</span>
<a href="#l9.18"></a><span id="l9.18">           var column =</span>
<a href="#l9.19"></a><span id="l9.19">               document.getAnonymousElementByAttribute(</span>
<a href="#l9.20"></a><span id="l9.20">                   this, &quot;anonid&quot;, &quot;column&quot;);</span>
<a href="#l9.21"></a><span id="l9.21">           var columns = column.parentNode;</span>
<a href="#l9.22"></a><span id="l9.22">           while ((columns.childNodes.length - 1) &lt; numHorizontal) {</span>
<a href="#l9.23"></a><span id="l9.23">               var newColumn = column.cloneNode(false);</span>
<a href="#l9.24"></a><span id="l9.24">               columns.insertBefore(newColumn, column.nextSibling);</span>
<a href="#l9.25"></a><span id="l9.25">           }</span>
<a href="#l9.26"></a><span id="l9.26">           while ((columns.childNodes.length - 1) &gt; numHorizontal) {</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineminus">-              columns.removeChild(columns.firstChild);</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+              columns.firstChild.remove();</span>
<a href="#l9.29"></a><span id="l9.29">           }</span>
<a href="#l9.30"></a><span id="l9.30"> </span>
<a href="#l9.31"></a><span id="l9.31">           // Walk all rows and adjust column elements</span>
<a href="#l9.32"></a><span id="l9.32">           row = document.getAnonymousElementByAttribute(</span>
<a href="#l9.33"></a><span id="l9.33">                    this, &quot;anonid&quot;, &quot;row&quot;);</span>
<a href="#l9.34"></a><span id="l9.34">           while (row) {</span>
<a href="#l9.35"></a><span id="l9.35">               var firstChild = row.firstChild;</span>
<a href="#l9.36"></a><span id="l9.36">               while ((row.childNodes.length - 1) &lt; numHorizontal) {</span>
<a href="#l9.37"></a><span id="l9.37">                   var newNode = firstChild.cloneNode(true);</span>
<a href="#l9.38"></a><span id="l9.38">                   firstChild.parentNode.insertBefore(newNode, firstChild);</span>
<a href="#l9.39"></a><span id="l9.39">               }</span>
<a href="#l9.40"></a><span id="l9.40">               while ((row.childNodes.length - 1) &gt; numHorizontal) {</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineminus">-                  row.removeChild(row.firstChild);</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+                  row.firstChild.remove();</span>
<a href="#l9.43"></a><span id="l9.43">               }</span>
<a href="#l9.44"></a><span id="l9.44">               row = row.nextSibling;</span>
<a href="#l9.45"></a><span id="l9.45">           }</span>
<a href="#l9.46"></a><span id="l9.46"> </span>
<a href="#l9.47"></a><span id="l9.47">           this.updateContent();</span>
<a href="#l9.48"></a><span id="l9.48">           this.updatePreview(this.mRecurrenceInfo);</span>
<a href="#l9.49"></a><span id="l9.49">         ]]&gt;&lt;/body&gt;</span>
<a href="#l9.50"></a><span id="l9.50">       &lt;/method&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-reminder.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -401,17 +401,17 @@ function onNewReminder() {</span>
<a href="#l10.4"></a><span id="l10.4">  */</span>
<a href="#l10.5"></a><span id="l10.5"> function onRemoveReminder() {</span>
<a href="#l10.6"></a><span id="l10.6">     let listbox = document.getElementById(&quot;reminder-listbox&quot;);</span>
<a href="#l10.7"></a><span id="l10.7">     let listitem = listbox.selectedItem;</span>
<a href="#l10.8"></a><span id="l10.8">     let newSelection = (listitem ? listitem.nextSibling ||</span>
<a href="#l10.9"></a><span id="l10.9">                                    listitem.previousSibling : null);</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11">     listbox.clearSelection();</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-    listbox.removeChild(listitem);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+    listitem.remove();</span>
<a href="#l10.14"></a><span id="l10.14">     listbox.selectItem(newSelection);</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16">     setElementValue(&quot;reminder-remove-button&quot;,</span>
<a href="#l10.17"></a><span id="l10.17">                     listbox.childNodes.length &lt; 1 &amp;&amp; &quot;true&quot;,</span>
<a href="#l10.18"></a><span id="l10.18">                     &quot;disabled&quot;);</span>
<a href="#l10.19"></a><span id="l10.19">     setupMaxReminders();</span>
<a href="#l10.20"></a><span id="l10.20"> }</span>
<a href="#l10.21"></a><span id="l10.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1137,27 +1137,19 @@ function updateStyle() {</span>
<a href="#l11.4"></a><span id="l11.4">  * Handler function for showing the options menu</span>
<a href="#l11.5"></a><span id="l11.5">  *</span>
<a href="#l11.6"></a><span id="l11.6">  * XXX This function could go away with more general CSS rules?</span>
<a href="#l11.7"></a><span id="l11.7">  *</span>
<a href="#l11.8"></a><span id="l11.8">  * @param menuPopup   The menupopup node targeted by the event.</span>
<a href="#l11.9"></a><span id="l11.9">  */</span>
<a href="#l11.10"></a><span id="l11.10"> function onPopupShowing(menuPopup) {</span>
<a href="#l11.11"></a><span id="l11.11">     if (isToDo(window.calendarItem)) {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-        var nodes = menuPopup.childNodes;</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+        var nodes = menuPopup.parentNode.querySelectorAll(&quot;#options-menupopup &gt; .event-only&quot;);</span>
<a href="#l11.14"></a><span id="l11.14">         for (var i = nodes.length - 1; i &gt;= 0; --i) {</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-            var node = nodes[i];</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-            if (node.hasAttribute('class')) {</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-                if (node.getAttribute('class').split(' ').some(</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-                    function (element) {</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineminus">-                        return element.toLowerCase() == 'event-only';</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineminus">-                    })) {</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-                    menuPopup.removeChild(node);</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineminus">-                }</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineminus">-            }</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineplus">+            nodes.item(i).remove();</span>
<a href="#l11.25"></a><span id="l11.25">         }</span>
<a href="#l11.26"></a><span id="l11.26">     }</span>
<a href="#l11.27"></a><span id="l11.27"> }</span>
<a href="#l11.28"></a><span id="l11.28"> </span>
<a href="#l11.29"></a><span id="l11.29"> /**</span>
<a href="#l11.30"></a><span id="l11.30">  * Update the disabled status of the accept button. The button is enabled if all</span>
<a href="#l11.31"></a><span id="l11.31">  * parts of the dialog have options selected that make sense.</span>
<a href="#l11.32"></a><span id="l11.32">  * constraining factors like</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineat">@@ -2020,18 +2012,17 @@ function uploadCloudAttachment(attachmen</span>
<a href="#l11.34"></a><span id="l11.34">                 // not serialized if the user saves.</span>
<a href="#l11.35"></a><span id="l11.35">                 listItem.setAttribute(&quot;image&quot;, &quot;chrome://messenger/skin/icons/error.png&quot;);</span>
<a href="#l11.36"></a><span id="l11.36">                 delete gAttachMap[attachment.hashId];</span>
<a href="#l11.37"></a><span id="l11.37"> </span>
<a href="#l11.38"></a><span id="l11.38">                 // Keep the item for a while so the user can see something failed.</span>
<a href="#l11.39"></a><span id="l11.39">                 // When we have a nice notification bar, we can show more info</span>
<a href="#l11.40"></a><span id="l11.40">                 // about the failure.</span>
<a href="#l11.41"></a><span id="l11.41">                 setTimeout(function() {</span>
<a href="#l11.42"></a><span id="l11.42" class="difflineminus">-                    let documentLink = document.getElementById(&quot;attachment-link&quot;);</span>
<a href="#l11.43"></a><span id="l11.43" class="difflineminus">-                    documentLink.removeChild(listItem);</span>
<a href="#l11.44"></a><span id="l11.44" class="difflineplus">+                    listItem.remove();</span>
<a href="#l11.45"></a><span id="l11.45">                     updateAttachment();</span>
<a href="#l11.46"></a><span id="l11.46">                 }, 5000);</span>
<a href="#l11.47"></a><span id="l11.47">             }</span>
<a href="#l11.48"></a><span id="l11.48">         }</span>
<a href="#l11.49"></a><span id="l11.49">     });</span>
<a href="#l11.50"></a><span id="l11.50"> }</span>
<a href="#l11.51"></a><span id="l11.51"> </span>
<a href="#l11.52"></a><span id="l11.52"> /**</span>
<a href="#l11.53"></a><span id="l11.53" class="difflineat">@@ -2151,17 +2142,17 @@ function deleteAllAttachments() {</span>
<a href="#l11.54"></a><span id="l11.54">         let removeTitle = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;removeCalendarsTitle&quot;);</span>
<a href="#l11.55"></a><span id="l11.55">         ok = Services.prompt.confirm(window, removeTitle, removeText.replace(&quot;#1&quot;, itemCount), {});</span>
<a href="#l11.56"></a><span id="l11.56">     }</span>
<a href="#l11.57"></a><span id="l11.57"> </span>
<a href="#l11.58"></a><span id="l11.58">     if (ok) {</span>
<a href="#l11.59"></a><span id="l11.59">         let child;</span>
<a href="#l11.60"></a><span id="l11.60">         let documentLink = document.getElementById(&quot;attachment-link&quot;);</span>
<a href="#l11.61"></a><span id="l11.61">         while (documentLink.hasChildNodes()) {</span>
<a href="#l11.62"></a><span id="l11.62" class="difflineminus">-            child = documentLink.removeChild(documentLink.lastChild);</span>
<a href="#l11.63"></a><span id="l11.63" class="difflineplus">+            child = documentLink.lastChild.remove();</span>
<a href="#l11.64"></a><span id="l11.64">             child.attachment = null;</span>
<a href="#l11.65"></a><span id="l11.65">         }</span>
<a href="#l11.66"></a><span id="l11.66">         gAttachMap = {};</span>
<a href="#l11.67"></a><span id="l11.67">     }</span>
<a href="#l11.68"></a><span id="l11.68">     updateAttachment();</span>
<a href="#l11.69"></a><span id="l11.69"> }</span>
<a href="#l11.70"></a><span id="l11.70"> </span>
<a href="#l11.71"></a><span id="l11.71"> /**</span>
<a href="#l11.72"></a><span id="l11.72" class="difflineat">@@ -3049,17 +3040,17 @@ function showTimezonePopup(event, dateTi</span>
<a href="#l11.73"></a><span id="l11.73">     timezonePopup.dateTime = dateTime;</span>
<a href="#l11.74"></a><span id="l11.74"> </span>
<a href="#l11.75"></a><span id="l11.75">     // Set up the default timezone item</span>
<a href="#l11.76"></a><span id="l11.76">     timezoneDefaultItem.value = defaultTimezone.tzid;</span>
<a href="#l11.77"></a><span id="l11.77">     timezoneDefaultItem.label = defaultTimezone.displayName;</span>
<a href="#l11.78"></a><span id="l11.78"> </span>
<a href="#l11.79"></a><span id="l11.79">     // Clear out any old recent timezones</span>
<a href="#l11.80"></a><span id="l11.80">     while (timezoneDefaultItem.nextSibling != timezoneSeparator) {</span>
<a href="#l11.81"></a><span id="l11.81" class="difflineminus">-        timezonePopup.removeChild(timezoneDefaultItem.nextSibling);</span>
<a href="#l11.82"></a><span id="l11.82" class="difflineplus">+        timezoneDefaultItem.nextSibling.remove();</span>
<a href="#l11.83"></a><span id="l11.83">     }</span>
<a href="#l11.84"></a><span id="l11.84"> </span>
<a href="#l11.85"></a><span id="l11.85">     // Fill in the new recent timezones</span>
<a href="#l11.86"></a><span id="l11.86">     for each (let tz in recentTimezones) {</span>
<a href="#l11.87"></a><span id="l11.87">         let menuItem = createXULElement(&quot;menuitem&quot;);</span>
<a href="#l11.88"></a><span id="l11.88">         menuItem.setAttribute(&quot;value&quot;, tz.tzid);</span>
<a href="#l11.89"></a><span id="l11.89">         menuItem.setAttribute(&quot;label&quot;, tz.displayName);</span>
<a href="#l11.90"></a><span id="l11.90">         timezonePopup.insertBefore(menuItem, timezoneDefaultItem.nextSibling);</span>
<a href="#l11.91"></a><span id="l11.91" class="difflineat">@@ -3454,17 +3445,17 @@ function updateRepeatDetails() {</span>
<a href="#l11.92"></a><span id="l11.92">         if (!detailsString) {</span>
<a href="#l11.93"></a><span id="l11.93">             detailsString = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;ruleTooComplex&quot;);</span>
<a href="#l11.94"></a><span id="l11.94">         }</span>
<a href="#l11.95"></a><span id="l11.95"> </span>
<a href="#l11.96"></a><span id="l11.96">         // Now display the string...</span>
<a href="#l11.97"></a><span id="l11.97">         let lines = detailsString.split(&quot;\n&quot;);</span>
<a href="#l11.98"></a><span id="l11.98">         repeatDetails.removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l11.99"></a><span id="l11.99">         while (repeatDetails.childNodes.length &gt; lines.length) {</span>
<a href="#l11.100"></a><span id="l11.100" class="difflineminus">-            repeatDetails.removeChild(repeatDetails.lastChild);</span>
<a href="#l11.101"></a><span id="l11.101" class="difflineplus">+            repeatDetails.lastChild.remove();</span>
<a href="#l11.102"></a><span id="l11.102">         }</span>
<a href="#l11.103"></a><span id="l11.103">         let numChilds = repeatDetails.childNodes.length;</span>
<a href="#l11.104"></a><span id="l11.104">         for (let i = 0; i &lt; lines.length; i++) {</span>
<a href="#l11.105"></a><span id="l11.105">             if (i &gt;= numChilds) {</span>
<a href="#l11.106"></a><span id="l11.106">                 var newNode = repeatDetails.childNodes[0]</span>
<a href="#l11.107"></a><span id="l11.107">                                            .cloneNode(true);</span>
<a href="#l11.108"></a><span id="l11.108">                 repeatDetails.appendChild(newNode);</span>
<a href="#l11.109"></a><span id="l11.109">             }</span>
<a href="#l11.110"></a><span id="l11.110" class="difflineat">@@ -3524,17 +3515,17 @@ function showAttendeePopup(event) {</span>
<a href="#l11.111"></a><span id="l11.111">     var separator = document.getElementById(&quot;attendee-popup-separator&quot;);</span>
<a href="#l11.112"></a><span id="l11.112">     var template = separator.nextSibling;</span>
<a href="#l11.113"></a><span id="l11.113"> </span>
<a href="#l11.114"></a><span id="l11.114">     setup_node(template, attendees[0]);</span>
<a href="#l11.115"></a><span id="l11.115"> </span>
<a href="#l11.116"></a><span id="l11.116">     // Remove all remaining menu items after the separator and the template menu</span>
<a href="#l11.117"></a><span id="l11.117">     // item.</span>
<a href="#l11.118"></a><span id="l11.118">     while (template.nextSibling) {</span>
<a href="#l11.119"></a><span id="l11.119" class="difflineminus">-        popup.removeChild(template.nextSibling);</span>
<a href="#l11.120"></a><span id="l11.120" class="difflineplus">+        template.nextSibling.remove();</span>
<a href="#l11.121"></a><span id="l11.121">     }</span>
<a href="#l11.122"></a><span id="l11.122"> </span>
<a href="#l11.123"></a><span id="l11.123">     // Add the rest of the attendees.</span>
<a href="#l11.124"></a><span id="l11.124">     for (var i = 1; i &lt; attendees.length; i++) {</span>
<a href="#l11.125"></a><span id="l11.125">         var attendee = attendees[i];</span>
<a href="#l11.126"></a><span id="l11.126">         var newNode = template.cloneNode(true);</span>
<a href="#l11.127"></a><span id="l11.127">         setup_node(newNode, attendee);</span>
<a href="#l11.128"></a><span id="l11.128">         popup.appendChild(newNode);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-summary-dialog.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -274,22 +274,22 @@ function updateRepeatDetails() {</span>
<a href="#l12.4"></a><span id="l12.4">     if (!detailsString) {</span>
<a href="#l12.5"></a><span id="l12.5">         detailsString = cal.calGetString(&quot;calendar-event-dialog&quot;, &quot;ruleTooComplexSummary&quot;);</span>
<a href="#l12.6"></a><span id="l12.6">     }</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8">     // Now display the string...</span>
<a href="#l12.9"></a><span id="l12.9">     var lines = detailsString.split(&quot;\n&quot;);</span>
<a href="#l12.10"></a><span id="l12.10">     repeatDetails.removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l12.11"></a><span id="l12.11">     while (repeatDetails.childNodes.length &gt; lines.length) {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-        repeatDetails.removeChild(repeatDetails.lastChild);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+        repeatDetails.lastChild.remove();</span>
<a href="#l12.14"></a><span id="l12.14">     }</span>
<a href="#l12.15"></a><span id="l12.15">     var numChilds = repeatDetails.childNodes.length;</span>
<a href="#l12.16"></a><span id="l12.16">     for (var i = 0; i &lt; lines.length; i++) {</span>
<a href="#l12.17"></a><span id="l12.17">         if (i &gt;= numChilds) {</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineminus">-            var newNode = repeatDetails.childNodes[0]</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+            var newNode = repeatDetails.firstChild</span>
<a href="#l12.20"></a><span id="l12.20">                                        .cloneNode(true);</span>
<a href="#l12.21"></a><span id="l12.21">             repeatDetails.appendChild(newNode);</span>
<a href="#l12.22"></a><span id="l12.22">         }</span>
<a href="#l12.23"></a><span id="l12.23">         repeatDetails.childNodes[i].value = lines[i];</span>
<a href="#l12.24"></a><span id="l12.24">         repeatDetails.childNodes[i].setAttribute(&quot;tooltiptext&quot;, detailsString);</span>
<a href="#l12.25"></a><span id="l12.25">     }</span>
<a href="#l12.26"></a><span id="l12.26"> }</span>
<a href="#l12.27"></a><span id="l12.27"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/content/preferences/categories.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/content/preferences/categories.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -71,17 +71,17 @@ var gCategoriesPane = {</span>
<a href="#l13.4"></a><span id="l13.4">         this.updatePrefs();</span>
<a href="#l13.5"></a><span id="l13.5">         let listbox = document.getElementById(&quot;categorieslist&quot;);</span>
<a href="#l13.6"></a><span id="l13.6"> </span>
<a href="#l13.7"></a><span id="l13.7">         listbox.clearSelection();</span>
<a href="#l13.8"></a><span id="l13.8">         this.updateButtons();</span>
<a href="#l13.9"></a><span id="l13.9"> </span>
<a href="#l13.10"></a><span id="l13.10"> </span>
<a href="#l13.11"></a><span id="l13.11">         while (listbox.lastChild.id != &quot;categoryColumns&quot;)</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-            listbox.removeChild(listbox.lastChild);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+            listbox.lastChild.remove();</span>
<a href="#l13.14"></a><span id="l13.14"> </span>
<a href="#l13.15"></a><span id="l13.15">         for (var i=0; i &lt; gCategoryList.length; i++) {</span>
<a href="#l13.16"></a><span id="l13.16">             var newListItem = document.createElement(&quot;listitem&quot;);</span>
<a href="#l13.17"></a><span id="l13.17">             var categoryName = document.createElement(&quot;listcell&quot;);</span>
<a href="#l13.18"></a><span id="l13.18">             categoryName.setAttribute(&quot;id&quot;, gCategoryList[i]);</span>
<a href="#l13.19"></a><span id="l13.19">             categoryName.setAttribute(&quot;label&quot;, gCategoryList[i]);</span>
<a href="#l13.20"></a><span id="l13.20">             var categoryNameFix = formatStringForCSSRule(gCategoryList[i]);</span>
<a href="#l13.21"></a><span id="l13.21">             var categoryColor = document.createElement(&quot;listcell&quot;);</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -153,17 +153,17 @@ var gCategoriesPane = {</span>
<a href="#l13.23"></a><span id="l13.23">         let selectedItems = Array.slice(list.selectedItems).concat([]);</span>
<a href="#l13.24"></a><span id="l13.24">         for (let i = list.selectedCount - 1; i &gt;= 0; i--) {</span>
<a href="#l13.25"></a><span id="l13.25">             let item = selectedItems[i];</span>
<a href="#l13.26"></a><span id="l13.26">             if (item == newSelection) {</span>
<a href="#l13.27"></a><span id="l13.27">                 newSelection = newSelection.nextSibling ||</span>
<a href="#l13.28"></a><span id="l13.28">                                newSelection.previousSibling;</span>
<a href="#l13.29"></a><span id="l13.29">             }</span>
<a href="#l13.30"></a><span id="l13.30">             gCategoryList.splice(list.getIndexOfItem(item), 1);</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-            list.removeChild(item);</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+            item.remove();</span>
<a href="#l13.33"></a><span id="l13.33">         }</span>
<a href="#l13.34"></a><span id="l13.34">         list.selectedItem = newSelection;</span>
<a href="#l13.35"></a><span id="l13.35">         this.updateButtons();</span>
<a href="#l13.36"></a><span id="l13.36"> </span>
<a href="#l13.37"></a><span id="l13.37">         // Update the prefs from gCategoryList</span>
<a href="#l13.38"></a><span id="l13.38">         this.updatePrefs();</span>
<a href="#l13.39"></a><span id="l13.39">     },</span>
<a href="#l13.40"></a><span id="l13.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/content/widgets/calendar-subscriptions-list.xml</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-subscriptions-list.xml</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -28,18 +28,18 @@</span>
<a href="#l14.4"></a><span id="l14.4">           newNode.setAttribute(&quot;anonid&quot;, &quot;subscriptions-listitem&quot;);</span>
<a href="#l14.5"></a><span id="l14.5">           newNode.calendar = aCalendar;</span>
<a href="#l14.6"></a><span id="l14.6">           newNode.subscribed = bSubscribed;</span>
<a href="#l14.7"></a><span id="l14.7">         ]]&gt;&lt;/body&gt;</span>
<a href="#l14.8"></a><span id="l14.8">       &lt;/method&gt;</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10">       &lt;method name=&quot;clear&quot;&gt;</span>
<a href="#l14.11"></a><span id="l14.11">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-          while (this.lastChild) {</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-            this.removeChild(this.lastChild);</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+          while (this.hasChildNodes()) {</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+            this.lastChild.remove();</span>
<a href="#l14.16"></a><span id="l14.16">           }</span>
<a href="#l14.17"></a><span id="l14.17">         ]]&gt;&lt;/body&gt;</span>
<a href="#l14.18"></a><span id="l14.18">       &lt;/method&gt;</span>
<a href="#l14.19"></a><span id="l14.19"> </span>
<a href="#l14.20"></a><span id="l14.20">     &lt;/implementation&gt;</span>
<a href="#l14.21"></a><span id="l14.21">   &lt;/binding&gt;</span>
<a href="#l14.22"></a><span id="l14.22"> </span>
<a href="#l14.23"></a><span id="l14.23">   &lt;binding id=&quot;calendar-subscriptions-richlistitem&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/modules/calAlarmUtils.jsm</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/modules/calAlarmUtils.jsm</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -155,12 +155,12 @@ cal.alarms = {</span>
<a href="#l15.4"></a><span id="l15.4">             } else {</span>
<a href="#l15.5"></a><span id="l15.5">                 // There is already a node there, change its properties</span>
<a href="#l15.6"></a><span id="l15.6">                 setupActionImage(aElement.childNodes[i - offset], reminder);</span>
<a href="#l15.7"></a><span id="l15.7">             }</span>
<a href="#l15.8"></a><span id="l15.8">         }</span>
<a href="#l15.9"></a><span id="l15.9"> </span>
<a href="#l15.10"></a><span id="l15.10">         // Remove unused image nodes</span>
<a href="#l15.11"></a><span id="l15.11">         for (i -= offset; i &lt; countIconChildren; i++) {</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-            aElement.removeChild(aElement.childNodes[i]);</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+            aElement.childNodes[i].remove();</span>
<a href="#l15.14"></a><span id="l15.14">         }</span>
<a href="#l15.15"></a><span id="l15.15">     }</span>
<a href="#l15.16"></a><span id="l15.16"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/modules/calUtils.jsm</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/modules/calUtils.jsm</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -608,22 +608,22 @@ let cal = {</span>
<a href="#l16.4"></a><span id="l16.4">      * @param aAttribute    The name of the attribute</span>
<a href="#l16.5"></a><span id="l16.5">      * @param aAttribute    The value of the attribute</span>
<a href="#l16.6"></a><span id="l16.6">      */</span>
<a href="#l16.7"></a><span id="l16.7">     removeChildElementsByAttribute: function removeChildElementsByAttribute(aParentNode, aAttribute, aValue) {</span>
<a href="#l16.8"></a><span id="l16.8">         let childNode = aParentNode.lastChild;</span>
<a href="#l16.9"></a><span id="l16.9">         while (childNode) {</span>
<a href="#l16.10"></a><span id="l16.10">             let prevChildNode = childNode.previousSibling;</span>
<a href="#l16.11"></a><span id="l16.11">             if (!aAttribute || aAttribute === undefined) {</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-                aParentNode.removeChild(childNode);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+                childNode.remove();</span>
<a href="#l16.14"></a><span id="l16.14">              } else if (!aValue || aValue === undefined) {</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineminus">-                aParentNode.removeChild(childNode);</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+                childNode.remove();</span>
<a href="#l16.17"></a><span id="l16.17">             } else if (childNode &amp;&amp; childNode.hasAttribute(aAttribute)</span>
<a href="#l16.18"></a><span id="l16.18">                 &amp;&amp; childNode.getAttribute(aAttribute) == aValue) {</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineminus">-                aParentNode.removeChild(childNode);</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineplus">+                childNode.remove();</span>
<a href="#l16.21"></a><span id="l16.21">             }</span>
<a href="#l16.22"></a><span id="l16.22">             childNode = prevChildNode;</span>
<a href="#l16.23"></a><span id="l16.23">         };</span>
<a href="#l16.24"></a><span id="l16.24">     },</span>
<a href="#l16.25"></a><span id="l16.25"> </span>
<a href="#l16.26"></a><span id="l16.26">     /**</span>
<a href="#l16.27"></a><span id="l16.27">      * Returns the most recent calendar window in an application independent way</span>
<a href="#l16.28"></a><span id="l16.28">      */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/import-export/calHtmlExport.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/import-export/calHtmlExport.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -64,52 +64,52 @@ calHtmlExporter.prototype = {</span>
<a href="#l17.4"></a><span id="l17.4">             function setupTextRow(classKey, propValue, prefixKey) {</span>
<a href="#l17.5"></a><span id="l17.5">                 if (propValue) {</span>
<a href="#l17.6"></a><span id="l17.6">                     let prefix = cal.calGetString(&quot;calendar&quot;, prefixKey);</span>
<a href="#l17.7"></a><span id="l17.7">                     itemNode.querySelector(&quot;.&quot; + classKey + &quot;key&quot;).textContent = prefix;</span>
<a href="#l17.8"></a><span id="l17.8">                     itemNode.querySelector(&quot;.&quot; + classKey).textContent = propValue;</span>
<a href="#l17.9"></a><span id="l17.9">                 } else {</span>
<a href="#l17.10"></a><span id="l17.10">                     let row = itemNode.querySelector(&quot;.&quot; + classKey + &quot;row&quot;);</span>
<a href="#l17.11"></a><span id="l17.11">                     if (row.nextSibling instanceof Components.interfaces.nsIDOMText) {</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-                        row.parentNode.removeChild(row.nextSibling);</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+                        row.nextSibling.remove();</span>
<a href="#l17.14"></a><span id="l17.14">                     }</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineminus">-                    row.parentNode.removeChild(row);</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineplus">+                    row.remove();</span>
<a href="#l17.17"></a><span id="l17.17">                 }</span>
<a href="#l17.18"></a><span id="l17.18">             }</span>
<a href="#l17.19"></a><span id="l17.19"> </span>
<a href="#l17.20"></a><span id="l17.20">             let startDate = item[cal.calGetStartDateProp(item)];</span>
<a href="#l17.21"></a><span id="l17.21">             let endDate = item[cal.calGetEndDateProp(item)];</span>
<a href="#l17.22"></a><span id="l17.22">             if (startDate || endDate) {</span>
<a href="#l17.23"></a><span id="l17.23">                 // This is a task with a start or due date, format accordingly</span>
<a href="#l17.24"></a><span id="l17.24">                 let prefixWhen = cal.calGetString(&quot;calendar&quot;, &quot;htmlPrefixWhen&quot;);</span>
<a href="#l17.25"></a><span id="l17.25">                 itemNode.querySelector(&quot;.intervalkey&quot;).textContent = prefixWhen;</span>
<a href="#l17.26"></a><span id="l17.26"> </span>
<a href="#l17.27"></a><span id="l17.27">                 let startNode = itemNode.querySelector(&quot;.dtstart&quot;);</span>
<a href="#l17.28"></a><span id="l17.28">                 let dateString = cal.getDateFormatter().formatItemInterval(item);</span>
<a href="#l17.29"></a><span id="l17.29">                 startNode.setAttribute(&quot;title&quot;, (startDate ? startDate.icalString : &quot;none&quot;));</span>
<a href="#l17.30"></a><span id="l17.30">                 startNode.textContent = dateString;</span>
<a href="#l17.31"></a><span id="l17.31">             } else {</span>
<a href="#l17.32"></a><span id="l17.32">                 let row = itemNode.querySelector(&quot;.intervalrow&quot;);</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineminus">-                row.parentNode.removeChild(row);</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineplus">+                row.remove();</span>
<a href="#l17.35"></a><span id="l17.35">                 if (row.nextSibling instanceof Components.interfaces.nsIDOMText) {</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineminus">-                    row.parentNode.removeChild(row.nextSibling);</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineplus">+                    row.nextSibling.remove();</span>
<a href="#l17.38"></a><span id="l17.38">                 }</span>
<a href="#l17.39"></a><span id="l17.39">             }</span>
<a href="#l17.40"></a><span id="l17.40"> </span>
<a href="#l17.41"></a><span id="l17.41">             let itemTitle = (item.isCompleted ? cal.calGetString(&quot;calendar&quot;, &quot;htmlTaskCompleted&quot;, [item.title]) : item.title);</span>
<a href="#l17.42"></a><span id="l17.42">             setupTextRow(&quot;summary&quot;, itemTitle, &quot;htmlPrefixTitle&quot;);</span>
<a href="#l17.43"></a><span id="l17.43"> </span>
<a href="#l17.44"></a><span id="l17.44">             setupTextRow(&quot;location&quot;, item.getProperty(&quot;LOCATION&quot;), &quot;htmlPrefixLocation&quot;);</span>
<a href="#l17.45"></a><span id="l17.45">             setupTextRow(&quot;description&quot;, item.getProperty(&quot;DESCRIPTION&quot;), &quot;htmlPrefixDescription&quot;);</span>
<a href="#l17.46"></a><span id="l17.46"> </span>
<a href="#l17.47"></a><span id="l17.47">             itemContainer.appendChild(itemNode);</span>
<a href="#l17.48"></a><span id="l17.48">         }</span>
<a href="#l17.49"></a><span id="l17.49"> </span>
<a href="#l17.50"></a><span id="l17.50">         let templates = document.getElementById(&quot;templates&quot;);</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineminus">-        templates.parentNode.removeChild(templates);</span>
<a href="#l17.52"></a><span id="l17.52" class="difflineplus">+        templates.remove();</span>
<a href="#l17.53"></a><span id="l17.53"> </span>
<a href="#l17.54"></a><span id="l17.54">         // Convert the javascript string to an array of bytes, using the utf8 encoder</span>
<a href="#l17.55"></a><span id="l17.55">         let convStream = Components.classes[&quot;@mozilla.org/intl/converter-output-stream;1&quot;]</span>
<a href="#l17.56"></a><span id="l17.56">                                    .createInstance(Components.interfaces.nsIConverterOutputStream);</span>
<a href="#l17.57"></a><span id="l17.57">         convStream.init(aStream, 'UTF-8', 0, 0x0000);</span>
<a href="#l17.58"></a><span id="l17.58">         convStream.writeString(cal.xml.serializeDOM(document));</span>
<a href="#l17.59"></a><span id="l17.59">     }</span>
<a href="#l17.60"></a><span id="l17.60"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/import-export/calMonthGridPrinter.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -90,17 +90,17 @@ calMonthPrinter.prototype = {</span>
<a href="#l18.4"></a><span id="l18.4">                 } else {</span>
<a href="#l18.5"></a><span id="l18.5">                     addSingleItem(dayBoxes);</span>
<a href="#l18.6"></a><span id="l18.6">                 }</span>
<a href="#l18.7"></a><span id="l18.7">             }</span>
<a href="#l18.8"></a><span id="l18.8">         }</span>
<a href="#l18.9"></a><span id="l18.9"> </span>
<a href="#l18.10"></a><span id="l18.10">         // Remove templates from HTML, no longer needed</span>
<a href="#l18.11"></a><span id="l18.11">         let templates = document.getElementById(&quot;templates&quot;);</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-        templates.parentNode.removeChild(templates);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+        templates.remove();</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15">         // Stream out the resulting HTML</span>
<a href="#l18.16"></a><span id="l18.16">         let html = cal.xml.serializeDOM(document);</span>
<a href="#l18.17"></a><span id="l18.17">         let convStream = Components.classes[&quot;@mozilla.org/intl/converter-output-stream;1&quot;]</span>
<a href="#l18.18"></a><span id="l18.18">                                    .createInstance(Components.interfaces.nsIConverterOutputStream);</span>
<a href="#l18.19"></a><span id="l18.19">         convStream.init(aStream, 'UTF-8', 0, 0x0000);</span>
<a href="#l18.20"></a><span id="l18.20">         convStream.writeString(html);</span>
<a href="#l18.21"></a><span id="l18.21">     },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/import-export/calWeekPrinter.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/import-export/calWeekPrinter.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -77,17 +77,17 @@ calWeekPrinter.prototype = {</span>
<a href="#l19.4"></a><span id="l19.4">                 }</span>
<a href="#l19.5"></a><span id="l19.5"> </span>
<a href="#l19.6"></a><span id="l19.6">                 cal.print.addItemToDaybox(document, item, dayTable[boxDateKey]);</span>
<a href="#l19.7"></a><span id="l19.7">             }</span>
<a href="#l19.8"></a><span id="l19.8">         }</span>
<a href="#l19.9"></a><span id="l19.9"> </span>
<a href="#l19.10"></a><span id="l19.10">         // Remove templates from HTML, no longer needed</span>
<a href="#l19.11"></a><span id="l19.11">         let templates = document.getElementById(&quot;templates&quot;);</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-        templates.parentNode.removeChild(templates);</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+        templates.remove();</span>
<a href="#l19.14"></a><span id="l19.14"> </span>
<a href="#l19.15"></a><span id="l19.15">         // Stream out the resulting HTML</span>
<a href="#l19.16"></a><span id="l19.16">         let html = cal.xml.serializeDOM(document);</span>
<a href="#l19.17"></a><span id="l19.17">         let convStream = Components.classes[&quot;@mozilla.org/intl/converter-output-stream;1&quot;]</span>
<a href="#l19.18"></a><span id="l19.18">                                    .createInstance(Components.interfaces.nsIConverterOutputStream);</span>
<a href="#l19.19"></a><span id="l19.19">         convStream.init(aStream, 'UTF-8', 0, 0x0000);</span>
<a href="#l19.20"></a><span id="l19.20">         convStream.writeString(html);</span>
<a href="#l19.21"></a><span id="l19.21">     },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/lightning/content/lightning-utils.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-utils.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -38,18 +38,18 @@ function ltnInitMailIdentitiesRow() {</span>
<a href="#l20.4"></a><span id="l20.4">     // If there is no transport but also no organizer id, then the</span>
<a href="#l20.5"></a><span id="l20.5">     // provider has not statically configured an organizer id. This is</span>
<a href="#l20.6"></a><span id="l20.6">     // basically what happens when &quot;None&quot; is selected.</span>
<a href="#l20.7"></a><span id="l20.7">     var menuPopup = document.getElementById(&quot;email-identity-menupopup&quot;);</span>
<a href="#l20.8"></a><span id="l20.8"> </span>
<a href="#l20.9"></a><span id="l20.9">     // Remove all children from the email list to avoid duplicates if the list</span>
<a href="#l20.10"></a><span id="l20.10">     // has already been populated during a previous step in the calendar</span>
<a href="#l20.11"></a><span id="l20.11">     // creation wizard.</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-    while (menuPopup.lastChild) {</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-        menuPopup.removeChild(menuPopup.lastChild);</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+    while (menuPopup.hasChildNodes()) {</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+        menuPopup.lastChild.remove();</span>
<a href="#l20.16"></a><span id="l20.16">     }</span>
<a href="#l20.17"></a><span id="l20.17"> </span>
<a href="#l20.18"></a><span id="l20.18">     addMenuItem(menuPopup, ltnGetString(&quot;lightning&quot;, &quot;imipNoIdentity&quot;), &quot;none&quot;);</span>
<a href="#l20.19"></a><span id="l20.19">     let identities;</span>
<a href="#l20.20"></a><span id="l20.20">     if (gCalendar &amp;&amp; gCalendar.aclEntry &amp;&amp; gCalendar.aclEntry.hasAccessControl) {</span>
<a href="#l20.21"></a><span id="l20.21">         identities = gCalendar.aclEntry.getOwnerIdentities({});</span>
<a href="#l20.22"></a><span id="l20.22">     } else {</span>
<a href="#l20.23"></a><span id="l20.23">         identities = MailServices.accounts.allIdentities;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

