<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23962:bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d" />
<meta property="og:url" content="/comm-central/rev/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d" />
<meta property="og:description" content="Bug 1457713 - Port bug 1456035: Change XPCOMUtils.generateQI to ChromeUtils.generateQI in chat. r=aceman" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d">shortlog</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d">files</a> |
changeset |
<a href="/comm-central/raw-rev/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d">raw</a>  | <a href="/comm-central/archive/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1457713">Bug 1457713</a> - Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456035">bug 1456035</a>: Change XPCOMUtils.generateQI to ChromeUtils.generateQI in chat. r=aceman
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#74;&#111;&#114;&#103;&#32;&#75;&#32;&#60;&#106;&#111;&#114;&#103;&#107;&#64;&#106;&#111;&#114;&#103;&#107;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 21 May 2018 00:59:52 +0200</td></tr>

<tr>
 <td>changeset 23962</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d">bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d</a></td>
</tr>



<tr>
<td>parent 23961</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f378ff5bbc894ff9863dec27d27f99947726f096">f378ff5bbc894ff9863dec27d27f99947726f096</a>
</td>
</tr>

<tr>
<td>child 23963</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/148c2d27abc3daa72f3cb3c3e2f8404e2f018f48">148c2d27abc3daa72f3cb3c3e2f8404e2f018f48</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d">14449</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Sun, 20 May 2018 23:01:17 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@148c2d27abc3 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=148c2d27abc3daa72f3cb3c3e2f8404e2f018f48">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=148c2d27abc3daa72f3cb3c3e2f8404e2f018f48&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=148c2d27abc3daa72f3cb3c3e2f8404e2f018f48&newProject=comm-central&newRevision=f378ff5bbc894ff9863dec27d27f99947726f096&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=148c2d27abc3daa72f3cb3c3e2f8404e2f018f48&newProject=comm-central&newRevision=f378ff5bbc894ff9863dec27d27f99947726f096&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=148c2d27abc3daa72f3cb3c3e2f8404e2f018f48&newProject=comm-central&newRevision=f378ff5bbc894ff9863dec27d27f99947726f096&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28aceman%29&revcount=50">aceman</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1457713">1457713</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456035">1456035</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1457713">Bug 1457713</a> - Port <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1456035">bug 1456035</a>: Change XPCOMUtils.generateQI to ChromeUtils.generateQI in chat. r=aceman</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imAccounts.js">chat/components/src/imAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imAccounts.js">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imAccounts.js">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imAccounts.js">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imAccounts.js">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCommands.js">chat/components/src/imCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCommands.js">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCommands.js">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCommands.js">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCommands.js">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCommands.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imContacts.js">chat/components/src/imContacts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imContacts.js">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imContacts.js">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imContacts.js">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imContacts.js">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imContacts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imConversations.js">chat/components/src/imConversations.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imConversations.js">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imConversations.js">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imConversations.js">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imConversations.js">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imConversations.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCore.js">chat/components/src/imCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCore.js">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCore.js">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCore.js">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCore.js">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/imCore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/logger.js">chat/components/src/logger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/logger.js">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/logger.js">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/logger.js">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/logger.js">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/logger.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/smileProtocolHandler.js">chat/components/src/smileProtocolHandler.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/smileProtocolHandler.js">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/smileProtocolHandler.js">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/smileProtocolHandler.js">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/smileProtocolHandler.js">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/components/src/smileProtocolHandler.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/BigInteger.jsm">chat/modules/BigInteger.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/BigInteger.jsm">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/BigInteger.jsm">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/BigInteger.jsm">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/BigInteger.jsm">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/BigInteger.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/imXPCOMUtils.jsm">chat/modules/imXPCOMUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/imXPCOMUtils.jsm">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/imXPCOMUtils.jsm">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/imXPCOMUtils.jsm">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/imXPCOMUtils.jsm">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/imXPCOMUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/jsProtoHelper.jsm">chat/modules/jsProtoHelper.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/jsProtoHelper.jsm">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/jsProtoHelper.jsm">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/jsProtoHelper.jsm">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/jsProtoHelper.jsm">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/modules/jsProtoHelper.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/protocols/twitter/twitter.js">chat/protocols/twitter/twitter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/protocols/twitter/twitter.js">file</a> |
<a href="/comm-central/annotate/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/protocols/twitter/twitter.js">annotate</a> |
<a href="/comm-central/diff/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/protocols/twitter/twitter.js">diff</a> |
<a href="/comm-central/comparison/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/protocols/twitter/twitter.js">comparison</a> |
<a href="/comm-central/log/bf2c27b81cae41c86ad9a4b74e7e700f6c8beb7d/chat/protocols/twitter/twitter.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/chat/components/src/imAccounts.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/chat/components/src/imAccounts.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1060,15 +1060,15 @@ AccountsService.prototype = {</span>
<a href="#l1.4"></a><span id="l1.4">     Services.obs.notifyObservers(account, &quot;account-removed&quot;);</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6">     /* Update the account list pref. */</span>
<a href="#l1.7"></a><span id="l1.7">     let list = this._accountList;</span>
<a href="#l1.8"></a><span id="l1.8">     this._accountList =</span>
<a href="#l1.9"></a><span id="l1.9">       list.split(&quot;,&quot;).filter(k =&gt; k.trim() != aAccountId).join(&quot;,&quot;);</span>
<a href="#l1.10"></a><span id="l1.10">   },</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imIAccountsService]),</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imIAccountsService]),</span>
<a href="#l1.14"></a><span id="l1.14">   classDescription: &quot;Accounts&quot;,</span>
<a href="#l1.15"></a><span id="l1.15">   classID: Components.ID(&quot;{a94b5427-cd8d-40cf-b47e-b67671953e70}&quot;),</span>
<a href="#l1.16"></a><span id="l1.16">   contractID: &quot;@mozilla.org/chat/accounts-service;1&quot;</span>
<a href="#l1.17"></a><span id="l1.17"> };</span>
<a href="#l1.18"></a><span id="l1.18"> </span>
<a href="#l1.19"></a><span id="l1.19"> var NSGetFactory = XPCOMUtils.generateNSGetFactory([AccountsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/chat/components/src/imCommands.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/chat/components/src/imCommands.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -242,15 +242,15 @@ CommandsService.prototype = {</span>
<a href="#l2.4"></a><span id="l2.4">     // them in order until one succeeds.</span>
<a href="#l2.5"></a><span id="l2.5">     if (!cmdArray.some(aCmd =&gt; aCmd.run(args, aConversation, aReturnedConv))) {</span>
<a href="#l2.6"></a><span id="l2.6">       // If they all failed, print help message.</span>
<a href="#l2.7"></a><span id="l2.7">       this.executeCommand(&quot;/help &quot; + name, aConversation);</span>
<a href="#l2.8"></a><span id="l2.8">     }</span>
<a href="#l2.9"></a><span id="l2.9">     return true;</span>
<a href="#l2.10"></a><span id="l2.10">   },</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imICommandsService]),</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imICommandsService]),</span>
<a href="#l2.14"></a><span id="l2.14">   classDescription: &quot;Commands&quot;,</span>
<a href="#l2.15"></a><span id="l2.15">   classID: Components.ID(&quot;{7cb20c68-ccc8-4a79-b6f1-0b4771ed6c23}&quot;),</span>
<a href="#l2.16"></a><span id="l2.16">   contractID: &quot;@mozilla.org/chat/commands-service;1&quot;</span>
<a href="#l2.17"></a><span id="l2.17"> };</span>
<a href="#l2.18"></a><span id="l2.18"> </span>
<a href="#l2.19"></a><span id="l2.19"> var NSGetFactory = XPCOMUtils.generateNSGetFactory([CommandsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/chat/components/src/imContacts.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/chat/components/src/imContacts.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -175,17 +175,17 @@ TagsService.prototype = {</span>
<a href="#l3.4"></a><span id="l3.4">   isTagHidden: aTag =&gt; aTag.id in otherContactsTag._hiddenTags,</span>
<a href="#l3.5"></a><span id="l3.5">   hideTag: function(aTag) { otherContactsTag.hideTag(aTag); },</span>
<a href="#l3.6"></a><span id="l3.6">   showTag: function(aTag) { otherContactsTag.showTag(aTag); },</span>
<a href="#l3.7"></a><span id="l3.7">   get otherContactsTag() {</span>
<a href="#l3.8"></a><span id="l3.8">     otherContactsTag._initContacts();</span>
<a href="#l3.9"></a><span id="l3.9">     return otherContactsTag;</span>
<a href="#l3.10"></a><span id="l3.10">   },</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imITagsService]),</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imITagsService]),</span>
<a href="#l3.14"></a><span id="l3.14">   classDescription: &quot;Tags&quot;,</span>
<a href="#l3.15"></a><span id="l3.15">   classID: Components.ID(&quot;{1fa92237-4303-4384-b8ac-4e65b50810a5}&quot;),</span>
<a href="#l3.16"></a><span id="l3.16">   contractID: &quot;@mozilla.org/chat/tags-service;1&quot;</span>
<a href="#l3.17"></a><span id="l3.17"> };</span>
<a href="#l3.18"></a><span id="l3.18"> </span>
<a href="#l3.19"></a><span id="l3.19"> // TODO move into the tagsService</span>
<a href="#l3.20"></a><span id="l3.20"> var Tags = [];</span>
<a href="#l3.21"></a><span id="l3.21"> var TagsById = { };</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineat">@@ -243,17 +243,17 @@ Tag.prototype = {</span>
<a href="#l3.23"></a><span id="l3.23"> </span>
<a href="#l3.24"></a><span id="l3.24">   getInterfaces: function(countRef) {</span>
<a href="#l3.25"></a><span id="l3.25">     let interfaces = [Ci.nsIClassInfo, Ci.nsISupports, Ci.imITag];</span>
<a href="#l3.26"></a><span id="l3.26">     countRef.value = interfaces.length;</span>
<a href="#l3.27"></a><span id="l3.27">     return interfaces;</span>
<a href="#l3.28"></a><span id="l3.28">   },</span>
<a href="#l3.29"></a><span id="l3.29">   getHelperForLanguage: language =&gt; null,</span>
<a href="#l3.30"></a><span id="l3.30">   flags: 0,</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imITag, Ci.nsIClassInfo])</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imITag, Ci.nsIClassInfo])</span>
<a href="#l3.33"></a><span id="l3.33"> };</span>
<a href="#l3.34"></a><span id="l3.34"> </span>
<a href="#l3.35"></a><span id="l3.35"> </span>
<a href="#l3.36"></a><span id="l3.36"> var otherContactsTag = {</span>
<a href="#l3.37"></a><span id="l3.37">   hiddenTagsPref: &quot;messenger.buddies.hiddenTags&quot;,</span>
<a href="#l3.38"></a><span id="l3.38">   _hiddenTags: {},</span>
<a href="#l3.39"></a><span id="l3.39">   _contactsInitialized: false,</span>
<a href="#l3.40"></a><span id="l3.40">   _saveHiddenTagsPref: function() {</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineat">@@ -376,17 +376,17 @@ var otherContactsTag = {</span>
<a href="#l3.42"></a><span id="l3.42"> </span>
<a href="#l3.43"></a><span id="l3.43">   getInterfaces: function(countRef) {</span>
<a href="#l3.44"></a><span id="l3.44">     let interfaces = [Ci.nsIClassInfo, Ci.nsISupports, Ci.nsIObserver, Ci.imITag];</span>
<a href="#l3.45"></a><span id="l3.45">     countRef.value = interfaces.length;</span>
<a href="#l3.46"></a><span id="l3.46">     return interfaces;</span>
<a href="#l3.47"></a><span id="l3.47">   },</span>
<a href="#l3.48"></a><span id="l3.48">   getHelperForLanguage: language =&gt; null,</span>
<a href="#l3.49"></a><span id="l3.49">   flags: 0,</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imITag, Ci.nsIObserver, Ci.nsIClassInfo])</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imITag, Ci.nsIObserver, Ci.nsIClassInfo])</span>
<a href="#l3.52"></a><span id="l3.52"> };</span>
<a href="#l3.53"></a><span id="l3.53"> </span>
<a href="#l3.54"></a><span id="l3.54"> </span>
<a href="#l3.55"></a><span id="l3.55"> var ContactsById = { };</span>
<a href="#l3.56"></a><span id="l3.56"> var LastDummyContactId = 0;</span>
<a href="#l3.57"></a><span id="l3.57"> function Contact(aId, aAlias) {</span>
<a href="#l3.58"></a><span id="l3.58">   // Assign a negative id to dummy contacts that have a single buddy</span>
<a href="#l3.59"></a><span id="l3.59">   this._id = aId || --LastDummyContactId;</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineat">@@ -910,17 +910,17 @@ Contact.prototype = {</span>
<a href="#l3.61"></a><span id="l3.61"> </span>
<a href="#l3.62"></a><span id="l3.62">   getInterfaces: function(countRef) {</span>
<a href="#l3.63"></a><span id="l3.63">     let interfaces = [Ci.nsIClassInfo, Ci.nsISupports, Ci.imIContact];</span>
<a href="#l3.64"></a><span id="l3.64">     countRef.value = interfaces.length;</span>
<a href="#l3.65"></a><span id="l3.65">     return interfaces;</span>
<a href="#l3.66"></a><span id="l3.66">   },</span>
<a href="#l3.67"></a><span id="l3.67">   getHelperForLanguage: language =&gt; null,</span>
<a href="#l3.68"></a><span id="l3.68">   flags: 0,</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imIContact, Ci.nsIClassInfo])</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imIContact, Ci.nsIClassInfo])</span>
<a href="#l3.71"></a><span id="l3.71"> };</span>
<a href="#l3.72"></a><span id="l3.72"> </span>
<a href="#l3.73"></a><span id="l3.73"> var BuddiesById = { };</span>
<a href="#l3.74"></a><span id="l3.74"> function Buddy(aId, aKey, aName, aSrvAlias, aContactId) {</span>
<a href="#l3.75"></a><span id="l3.75">   this._id = aId;</span>
<a href="#l3.76"></a><span id="l3.76">   this._key = aKey;</span>
<a href="#l3.77"></a><span id="l3.77">   this._name = aName;</span>
<a href="#l3.78"></a><span id="l3.78">   if (aSrvAlias)</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineat">@@ -1226,17 +1226,17 @@ Buddy.prototype = {</span>
<a href="#l3.80"></a><span id="l3.80"> </span>
<a href="#l3.81"></a><span id="l3.81">   getInterfaces: function(countRef) {</span>
<a href="#l3.82"></a><span id="l3.82">     let interfaces = [Ci.nsIClassInfo, Ci.nsISupports, Ci.imIBuddy];</span>
<a href="#l3.83"></a><span id="l3.83">     countRef.value = interfaces.length;</span>
<a href="#l3.84"></a><span id="l3.84">     return interfaces;</span>
<a href="#l3.85"></a><span id="l3.85">   },</span>
<a href="#l3.86"></a><span id="l3.86">   getHelperForLanguage: language =&gt; null,</span>
<a href="#l3.87"></a><span id="l3.87">   flags: 0,</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imIBuddy, Ci.nsIClassInfo])</span>
<a href="#l3.89"></a><span id="l3.89" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imIBuddy, Ci.nsIClassInfo])</span>
<a href="#l3.90"></a><span id="l3.90"> };</span>
<a href="#l3.91"></a><span id="l3.91"> </span>
<a href="#l3.92"></a><span id="l3.92"> </span>
<a href="#l3.93"></a><span id="l3.93"> function ContactsService() { }</span>
<a href="#l3.94"></a><span id="l3.94"> ContactsService.prototype = {</span>
<a href="#l3.95"></a><span id="l3.95">   initContacts: function() {</span>
<a href="#l3.96"></a><span id="l3.96">     let statement = DBConn.createStatement(&quot;SELECT id, name FROM tags&quot;);</span>
<a href="#l3.97"></a><span id="l3.97">     try {</span>
<a href="#l3.98"></a><span id="l3.98" class="difflineat">@@ -1522,16 +1522,16 @@ ContactsService.prototype = {</span>
<a href="#l3.99"></a><span id="l3.99">     try {</span>
<a href="#l3.100"></a><span id="l3.100">       statement.params.accountId = aId;</span>
<a href="#l3.101"></a><span id="l3.101">       statement.execute();</span>
<a href="#l3.102"></a><span id="l3.102">     } finally {</span>
<a href="#l3.103"></a><span id="l3.103">       statement.finalize();</span>
<a href="#l3.104"></a><span id="l3.104">     }</span>
<a href="#l3.105"></a><span id="l3.105">   },</span>
<a href="#l3.106"></a><span id="l3.106"> </span>
<a href="#l3.107"></a><span id="l3.107" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imIContactsService]),</span>
<a href="#l3.108"></a><span id="l3.108" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imIContactsService]),</span>
<a href="#l3.109"></a><span id="l3.109">   classDescription: &quot;Contacts&quot;,</span>
<a href="#l3.110"></a><span id="l3.110">   classID: Components.ID(&quot;{8c3725dd-ee26-489d-8135-736015af8c7f}&quot;),</span>
<a href="#l3.111"></a><span id="l3.111">   contractID: &quot;@mozilla.org/chat/contacts-service;1&quot;</span>
<a href="#l3.112"></a><span id="l3.112"> };</span>
<a href="#l3.113"></a><span id="l3.113"> </span>
<a href="#l3.114"></a><span id="l3.114"> var NSGetFactory = XPCOMUtils.generateNSGetFactory([ContactsService,</span>
<a href="#l3.115"></a><span id="l3.115">                                                       TagsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/chat/components/src/imConversations.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/chat/components/src/imConversations.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -651,15 +651,15 @@ ConversationsService.prototype = {</span>
<a href="#l4.4"></a><span id="l4.4">       if (aAccount.normalize(conv.name) == normalizedName &amp;&amp;</span>
<a href="#l4.5"></a><span id="l4.5">           aAccount.numericId == aAccount.numericId &amp;&amp;</span>
<a href="#l4.6"></a><span id="l4.6">           conv.isChat == aIsChat)</span>
<a href="#l4.7"></a><span id="l4.7">         return conv;</span>
<a href="#l4.8"></a><span id="l4.8">     }</span>
<a href="#l4.9"></a><span id="l4.9">     return null;</span>
<a href="#l4.10"></a><span id="l4.10">   },</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imIConversationsService]),</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imIConversationsService]),</span>
<a href="#l4.14"></a><span id="l4.14">   classDescription: &quot;Conversations&quot;,</span>
<a href="#l4.15"></a><span id="l4.15">   classID: Components.ID(&quot;{b2397cd5-c76d-4618-8410-f344c7c6443a}&quot;),</span>
<a href="#l4.16"></a><span id="l4.16">   contractID: &quot;@mozilla.org/chat/conversations-service;1&quot;</span>
<a href="#l4.17"></a><span id="l4.17"> };</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19"> var NSGetFactory = XPCOMUtils.generateNSGetFactory([ConversationsService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/chat/components/src/imCore.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/chat/components/src/imCore.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -352,15 +352,15 @@ CoreService.prototype = {</span>
<a href="#l5.4"></a><span id="l5.4">       Cu.reportError(&quot;Could not initialize protocol &quot; + aPrplId + &quot;: &quot; + e);</span>
<a href="#l5.5"></a><span id="l5.5">       return null;</span>
<a href="#l5.6"></a><span id="l5.6">     }</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8">     this._protos[aPrplId] = proto;</span>
<a href="#l5.9"></a><span id="l5.9">     return proto;</span>
<a href="#l5.10"></a><span id="l5.10">   },</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.imICoreService]),</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.imICoreService]),</span>
<a href="#l5.14"></a><span id="l5.14">   classDescription: &quot;Core&quot;,</span>
<a href="#l5.15"></a><span id="l5.15">   classID: Components.ID(&quot;{073f5953-853c-4a38-bd81-255510c31c2e}&quot;),</span>
<a href="#l5.16"></a><span id="l5.16">   contractID: &quot;@mozilla.org/chat/core-service;1&quot;</span>
<a href="#l5.17"></a><span id="l5.17"> };</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19"> var NSGetFactory = XPCOMUtils.generateNSGetFactory([CoreService]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/chat/components/src/logger.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/chat/components/src/logger.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -465,17 +465,17 @@ LogConversation.prototype = {</span>
<a href="#l6.4"></a><span id="l6.4">     if (aMessageCount)</span>
<a href="#l6.5"></a><span id="l6.5">       aMessageCount.value = this._messages.length;</span>
<a href="#l6.6"></a><span id="l6.6">     let enumerator = {</span>
<a href="#l6.7"></a><span id="l6.7">       _index: 0,</span>
<a href="#l6.8"></a><span id="l6.8">       _conv: this,</span>
<a href="#l6.9"></a><span id="l6.9">       _messages: this._messages,</span>
<a href="#l6.10"></a><span id="l6.10">       hasMoreElements: function() { return this._index &lt; this._messages.length; },</span>
<a href="#l6.11"></a><span id="l6.11">       getNext: function() { return new LogMessage(this._messages[this._index++], this._conv); },</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-      QueryInterface: XPCOMUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+      QueryInterface: ChromeUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l6.14"></a><span id="l6.14">     };</span>
<a href="#l6.15"></a><span id="l6.15">     return enumerator;</span>
<a href="#l6.16"></a><span id="l6.16">   }</span>
<a href="#l6.17"></a><span id="l6.17"> };</span>
<a href="#l6.18"></a><span id="l6.18"> </span>
<a href="#l6.19"></a><span id="l6.19"> </span>
<a href="#l6.20"></a><span id="l6.20"> /**</span>
<a href="#l6.21"></a><span id="l6.21">  * A Log object represents one or more log files. The constructor expects one</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineat">@@ -666,33 +666,33 @@ DailyLogEnumerator.prototype = {</span>
<a href="#l6.23"></a><span id="l6.23">   _entries: {},</span>
<a href="#l6.24"></a><span id="l6.24">   _days: [],</span>
<a href="#l6.25"></a><span id="l6.25">   _index: 0,</span>
<a href="#l6.26"></a><span id="l6.26">   hasMoreElements: function() { return this._index &lt; this._days.length; },</span>
<a href="#l6.27"></a><span id="l6.27">   getNext: function() {</span>
<a href="#l6.28"></a><span id="l6.28">     let dayID = this._days[this._index++];</span>
<a href="#l6.29"></a><span id="l6.29">     return new Log(this._entries[dayID]);</span>
<a href="#l6.30"></a><span id="l6.30">   },</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l6.33"></a><span id="l6.33"> };</span>
<a href="#l6.34"></a><span id="l6.34"> </span>
<a href="#l6.35"></a><span id="l6.35"> function LogEnumerator(aEntries) {</span>
<a href="#l6.36"></a><span id="l6.36">   this._entries = aEntries;</span>
<a href="#l6.37"></a><span id="l6.37">   this._entries.sort((a, b) =&gt; a.name &gt; b.name);</span>
<a href="#l6.38"></a><span id="l6.38"> }</span>
<a href="#l6.39"></a><span id="l6.39"> LogEnumerator.prototype = {</span>
<a href="#l6.40"></a><span id="l6.40">   _entries: [],</span>
<a href="#l6.41"></a><span id="l6.41">   hasMoreElements: function() {</span>
<a href="#l6.42"></a><span id="l6.42">     return this._entries.length &gt; 0;</span>
<a href="#l6.43"></a><span id="l6.43">   },</span>
<a href="#l6.44"></a><span id="l6.44">   getNext: function() {</span>
<a href="#l6.45"></a><span id="l6.45">     // Create and return a log from the first entry.</span>
<a href="#l6.46"></a><span id="l6.46">     return new Log(this._entries.shift().path);</span>
<a href="#l6.47"></a><span id="l6.47">   },</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l6.50"></a><span id="l6.50"> };</span>
<a href="#l6.51"></a><span id="l6.51"> </span>
<a href="#l6.52"></a><span id="l6.52"> </span>
<a href="#l6.53"></a><span id="l6.53"> function Logger() { }</span>
<a href="#l6.54"></a><span id="l6.54"> Logger.prototype = {</span>
<a href="#l6.55"></a><span id="l6.55">   // Returned Promise resolves to an array of entries for the</span>
<a href="#l6.56"></a><span id="l6.56">   // log folder if it exists, otherwise null.</span>
<a href="#l6.57"></a><span id="l6.57">   _getLogArray: Task.async(function* (aAccount, aNormalizedName) {</span>
<a href="#l6.58"></a><span id="l6.58" class="difflineat">@@ -938,15 +938,15 @@ Logger.prototype = {</span>
<a href="#l6.59"></a><span id="l6.59">       let nameText = aSubject.displayName + &quot; (&quot; + aSubject.userName + &quot;)&quot;;</span>
<a href="#l6.60"></a><span id="l6.60">       getSystemLogWriter(aSubject.account).logEvent(nameText + &quot; is now &quot; + status);</span>
<a href="#l6.61"></a><span id="l6.61">       break;</span>
<a href="#l6.62"></a><span id="l6.62">     default:</span>
<a href="#l6.63"></a><span id="l6.63">       throw &quot;Unexpected notification &quot; + aTopic;</span>
<a href="#l6.64"></a><span id="l6.64">     }</span>
<a href="#l6.65"></a><span id="l6.65">   },</span>
<a href="#l6.66"></a><span id="l6.66"> </span>
<a href="#l6.67"></a><span id="l6.67" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsIObserver, Ci.imILogger]),</span>
<a href="#l6.68"></a><span id="l6.68" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.nsIObserver, Ci.imILogger]),</span>
<a href="#l6.69"></a><span id="l6.69">   classDescription: &quot;Logger&quot;,</span>
<a href="#l6.70"></a><span id="l6.70">   classID: Components.ID(&quot;{fb0dc220-2c7a-4216-9f19-6b8f3480eae9}&quot;),</span>
<a href="#l6.71"></a><span id="l6.71">   contractID: &quot;@mozilla.org/chat/logger;1&quot;</span>
<a href="#l6.72"></a><span id="l6.72"> };</span>
<a href="#l6.73"></a><span id="l6.73"> </span>
<a href="#l6.74"></a><span id="l6.74"> var NSGetFactory = XPCOMUtils.generateNSGetFactory([Logger]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/chat/components/src/smileProtocolHandler.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/chat/components/src/smileProtocolHandler.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -32,12 +32,12 @@ smileProtocolHandler.prototype = {</span>
<a href="#l7.4"></a><span id="l7.4">     channel.originalURI = aURI;</span>
<a href="#l7.5"></a><span id="l7.5">     return channel;</span>
<a href="#l7.6"></a><span id="l7.6">   },</span>
<a href="#l7.7"></a><span id="l7.7">   allowPort: function SPH_allowPort(aPort, aScheme) { return false; },</span>
<a href="#l7.8"></a><span id="l7.8"> </span>
<a href="#l7.9"></a><span id="l7.9">   classDescription: &quot;Smile Protocol Handler&quot;,</span>
<a href="#l7.10"></a><span id="l7.10">   classID: Components.ID(&quot;{04e58eae-dfbc-4c9e-8130-6d9ef19cbff4}&quot;),</span>
<a href="#l7.11"></a><span id="l7.11">   contractID: &quot;@mozilla.org/network/protocol;1?name=smile&quot;,</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsIProtocolHandler])</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.nsIProtocolHandler])</span>
<a href="#l7.14"></a><span id="l7.14"> };</span>
<a href="#l7.15"></a><span id="l7.15"> </span>
<a href="#l7.16"></a><span id="l7.16"> var NSGetFactory = XPCOMUtils.generateNSGetFactory([smileProtocolHandler]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/chat/modules/BigInteger.jsm</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/chat/modules/BigInteger.jsm</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,689 +1,689 @@</span>
<a href="#l8.4"></a><span id="l8.4" class="difflineminus">-/*</span>
<a href="#l8.5"></a><span id="l8.5" class="difflineminus">- * This is free and unencumbered software released into the public domain.</span>
<a href="#l8.6"></a><span id="l8.6" class="difflineminus">- *</span>
<a href="#l8.7"></a><span id="l8.7" class="difflineminus">- * Anyone is free to copy, modify, publish, use, compile, sell, or</span>
<a href="#l8.8"></a><span id="l8.8" class="difflineminus">- * distribute this software, either in source code form or as a compiled</span>
<a href="#l8.9"></a><span id="l8.9" class="difflineminus">- * binary, for any purpose, commercial or non-commercial, and by any</span>
<a href="#l8.10"></a><span id="l8.10" class="difflineminus">- * means.</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineminus">- *</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">- * In jurisdictions that recognize copyright laws, the author or authors</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">- * of this software dedicate any and all copyright interest in the</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">- * software to the public domain. We make this dedication for the benefit</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">- * of the public at large and to the detriment of our heirs and</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineminus">- * successors. We intend this dedication to be an overt act of</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">- * relinquishment in perpetuity of all present and future rights to this</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineminus">- * software under copyright law.</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineminus">- *</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineminus">- * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineminus">- * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineminus">- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineminus">- * IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR</span>
<a href="#l8.24"></a><span id="l8.24" class="difflineminus">- * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,</span>
<a href="#l8.25"></a><span id="l8.25" class="difflineminus">- * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span>
<a href="#l8.26"></a><span id="l8.26" class="difflineminus">- * OTHER DEALINGS IN THE SOFTWARE.</span>
<a href="#l8.27"></a><span id="l8.27" class="difflineminus">- *</span>
<a href="#l8.28"></a><span id="l8.28" class="difflineminus">- * For more information, please refer to &lt;http://unlicense.org&gt;</span>
<a href="#l8.29"></a><span id="l8.29" class="difflineminus">- */</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineminus">-</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-&quot;use strict&quot;;</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineminus">-</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineminus">-this.EXPORTED_SYMBOLS = [&quot;bigInt&quot;];</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineminus">-</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineminus">-var bigInt = (function () {</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-    var base = 10000000, logBase = 7;</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineminus">-    var sign = {</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineminus">-        positive: false,</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineminus">-        negative: true</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineminus">-    };</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineminus">-</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineminus">-    function BigInteger(value, sign) {</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineminus">-        this.value = value;</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineminus">-        this.sign = sign;</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineminus">-    }</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineminus">-</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineminus">-    function trim(value) {</span>
<a href="#l8.48"></a><span id="l8.48" class="difflineminus">-        var i = value.length - 1;</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineminus">-        while (value[i] === 0 &amp;&amp; i &gt; 0) i--;</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineminus">-        return value.slice(0, i + 1);</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineminus">-    }</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineminus">-</span>
<a href="#l8.53"></a><span id="l8.53" class="difflineminus">-    function fastAdd(a, b) {</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineminus">-        var sign = b &lt; 0;</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineminus">-        if (a.sign !== sign) {</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineminus">-            if(sign) return fastSubtract(a.abs(), -b);</span>
<a href="#l8.57"></a><span id="l8.57" class="difflineminus">-            return fastSubtract(a.abs(), b).negate();</span>
<a href="#l8.58"></a><span id="l8.58" class="difflineminus">-        }</span>
<a href="#l8.59"></a><span id="l8.59" class="difflineminus">-        if (sign) b = -b;</span>
<a href="#l8.60"></a><span id="l8.60" class="difflineminus">-        var value = a.value,</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineminus">-            result = [],</span>
<a href="#l8.62"></a><span id="l8.62" class="difflineminus">-            carry = 0;</span>
<a href="#l8.63"></a><span id="l8.63" class="difflineminus">-        for (var i = 0; i &lt; value.length || carry &gt; 0; i++) {</span>
<a href="#l8.64"></a><span id="l8.64" class="difflineminus">-            var sum = (value[i] || 0) + (i &gt; 0 ? 0 : b) + carry;</span>
<a href="#l8.65"></a><span id="l8.65" class="difflineminus">-            carry = sum &gt;= base ? 1 : 0;</span>
<a href="#l8.66"></a><span id="l8.66" class="difflineminus">-            result.push(sum % base);</span>
<a href="#l8.67"></a><span id="l8.67" class="difflineminus">-        }</span>
<a href="#l8.68"></a><span id="l8.68" class="difflineminus">-        return new BigInteger(result, a.sign);</span>
<a href="#l8.69"></a><span id="l8.69" class="difflineminus">-    }</span>
<a href="#l8.70"></a><span id="l8.70" class="difflineminus">-</span>
<a href="#l8.71"></a><span id="l8.71" class="difflineminus">-    function fastSubtract(a, b) {</span>
<a href="#l8.72"></a><span id="l8.72" class="difflineminus">-        if (a.sign !== (b &lt; 0)) return fastAdd(a, -b);</span>
<a href="#l8.73"></a><span id="l8.73" class="difflineminus">-        var sign = false;</span>
<a href="#l8.74"></a><span id="l8.74" class="difflineminus">-        if (a.sign) sign = true;</span>
<a href="#l8.75"></a><span id="l8.75" class="difflineminus">-        var value = a.value;</span>
<a href="#l8.76"></a><span id="l8.76" class="difflineminus">-        if (value.length === 1 &amp;&amp; value[0] &lt; b) return new BigInteger([b - value[0]], !sign);</span>
<a href="#l8.77"></a><span id="l8.77" class="difflineminus">-        if (sign) b = -b;</span>
<a href="#l8.78"></a><span id="l8.78" class="difflineminus">-        var result = [],</span>
<a href="#l8.79"></a><span id="l8.79" class="difflineminus">-            borrow = 0;</span>
<a href="#l8.80"></a><span id="l8.80" class="difflineminus">-        for (var i = 0; i &lt; value.length; i++) {</span>
<a href="#l8.81"></a><span id="l8.81" class="difflineminus">-            var tmp = value[i] - borrow - (i &gt; 0 ? 0 : b);</span>
<a href="#l8.82"></a><span id="l8.82" class="difflineminus">-            borrow = tmp &lt; 0 ? 1 : 0;</span>
<a href="#l8.83"></a><span id="l8.83" class="difflineminus">-            result.push((borrow * base) + tmp);</span>
<a href="#l8.84"></a><span id="l8.84" class="difflineminus">-        }</span>
<a href="#l8.85"></a><span id="l8.85" class="difflineminus">-</span>
<a href="#l8.86"></a><span id="l8.86" class="difflineminus">-        return new BigInteger(result, sign);</span>
<a href="#l8.87"></a><span id="l8.87" class="difflineminus">-    }</span>
<a href="#l8.88"></a><span id="l8.88" class="difflineminus">-</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineminus">-    function fastMultiply(a, b) {</span>
<a href="#l8.90"></a><span id="l8.90" class="difflineminus">-        var value = a.value,</span>
<a href="#l8.91"></a><span id="l8.91" class="difflineminus">-            sign = b &lt; 0,</span>
<a href="#l8.92"></a><span id="l8.92" class="difflineminus">-            result = [],</span>
<a href="#l8.93"></a><span id="l8.93" class="difflineminus">-            carry = 0;</span>
<a href="#l8.94"></a><span id="l8.94" class="difflineminus">-        if (sign) b = -b;</span>
<a href="#l8.95"></a><span id="l8.95" class="difflineminus">-        for (var i = 0; i &lt; value.length || carry &gt; 0; i++) {</span>
<a href="#l8.96"></a><span id="l8.96" class="difflineminus">-            var product = (value[i] || 0) * b + carry;</span>
<a href="#l8.97"></a><span id="l8.97" class="difflineminus">-            carry = (product / base) | 0;</span>
<a href="#l8.98"></a><span id="l8.98" class="difflineminus">-            result.push(product % base);</span>
<a href="#l8.99"></a><span id="l8.99" class="difflineminus">-        }</span>
<a href="#l8.100"></a><span id="l8.100" class="difflineminus">-        return new BigInteger(result, sign ? !a.sign : a.sign);</span>
<a href="#l8.101"></a><span id="l8.101" class="difflineminus">-    }</span>
<a href="#l8.102"></a><span id="l8.102" class="difflineminus">-</span>
<a href="#l8.103"></a><span id="l8.103" class="difflineminus">-    function fastDivMod(a, b) {</span>
<a href="#l8.104"></a><span id="l8.104" class="difflineminus">-        if (b === 0) throw new Error(&quot;Cannot divide by zero.&quot;);</span>
<a href="#l8.105"></a><span id="l8.105" class="difflineminus">-        var value = a.value,</span>
<a href="#l8.106"></a><span id="l8.106" class="difflineminus">-            sign = b &lt; 0,</span>
<a href="#l8.107"></a><span id="l8.107" class="difflineminus">-            result = [],</span>
<a href="#l8.108"></a><span id="l8.108" class="difflineminus">-            remainder = 0;</span>
<a href="#l8.109"></a><span id="l8.109" class="difflineminus">-        if (sign) b = -b;</span>
<a href="#l8.110"></a><span id="l8.110" class="difflineminus">-        for (var i = value.length - 1; i &gt;= 0; i--) {</span>
<a href="#l8.111"></a><span id="l8.111" class="difflineminus">-            var divisor = remainder * base + value[i];</span>
<a href="#l8.112"></a><span id="l8.112" class="difflineminus">-            remainder = divisor % b;</span>
<a href="#l8.113"></a><span id="l8.113" class="difflineminus">-            result.push(divisor / b | 0);</span>
<a href="#l8.114"></a><span id="l8.114" class="difflineminus">-        }</span>
<a href="#l8.115"></a><span id="l8.115" class="difflineminus">-        return {</span>
<a href="#l8.116"></a><span id="l8.116" class="difflineminus">-            quotient: new BigInteger(trim(result.reverse()), sign ? !a.sign : a.sign),</span>
<a href="#l8.117"></a><span id="l8.117" class="difflineminus">-            remainder: new BigInteger([remainder], a.sign)</span>
<a href="#l8.118"></a><span id="l8.118" class="difflineminus">-        };</span>
<a href="#l8.119"></a><span id="l8.119" class="difflineminus">-    }</span>
<a href="#l8.120"></a><span id="l8.120" class="difflineminus">-</span>
<a href="#l8.121"></a><span id="l8.121" class="difflineminus">-    function isSmall(n) {</span>
<a href="#l8.122"></a><span id="l8.122" class="difflineminus">-        return ((typeof n === &quot;number&quot; || typeof n === &quot;string&quot;) &amp;&amp; +n &lt;= base) ||</span>
<a href="#l8.123"></a><span id="l8.123" class="difflineminus">-            (n instanceof BigInteger &amp;&amp; n.value.length &lt;= 1);</span>
<a href="#l8.124"></a><span id="l8.124" class="difflineminus">-    }</span>
<a href="#l8.125"></a><span id="l8.125" class="difflineminus">-</span>
<a href="#l8.126"></a><span id="l8.126" class="difflineminus">-    BigInteger.prototype.negate = function () {</span>
<a href="#l8.127"></a><span id="l8.127" class="difflineminus">-        return new BigInteger(this.value, !this.sign);</span>
<a href="#l8.128"></a><span id="l8.128" class="difflineminus">-    };</span>
<a href="#l8.129"></a><span id="l8.129" class="difflineminus">-    BigInteger.prototype.abs = function () {</span>
<a href="#l8.130"></a><span id="l8.130" class="difflineminus">-        return new BigInteger(this.value, sign.positive);</span>
<a href="#l8.131"></a><span id="l8.131" class="difflineminus">-    };</span>
<a href="#l8.132"></a><span id="l8.132" class="difflineminus">-    BigInteger.prototype.add = function (n) {</span>
<a href="#l8.133"></a><span id="l8.133" class="difflineminus">-        if(isSmall(n)) return fastAdd(this, +n);</span>
<a href="#l8.134"></a><span id="l8.134" class="difflineminus">-        n = parseInput(n);</span>
<a href="#l8.135"></a><span id="l8.135" class="difflineminus">-        if (this.sign !== n.sign) {</span>
<a href="#l8.136"></a><span id="l8.136" class="difflineminus">-            if (this.sign === sign.positive) return this.abs().subtract(n.abs());</span>
<a href="#l8.137"></a><span id="l8.137" class="difflineminus">-            return n.abs().subtract(this.abs());</span>
<a href="#l8.138"></a><span id="l8.138" class="difflineminus">-        }</span>
<a href="#l8.139"></a><span id="l8.139" class="difflineminus">-        var a = this.value, b = n.value;</span>
<a href="#l8.140"></a><span id="l8.140" class="difflineminus">-        var result = [],</span>
<a href="#l8.141"></a><span id="l8.141" class="difflineminus">-            carry = 0,</span>
<a href="#l8.142"></a><span id="l8.142" class="difflineminus">-            length = Math.max(a.length, b.length);</span>
<a href="#l8.143"></a><span id="l8.143" class="difflineminus">-        for (var i = 0; i &lt; length || carry &gt; 0; i++) {</span>
<a href="#l8.144"></a><span id="l8.144" class="difflineminus">-            var sum = (a[i] || 0) + (b[i] || 0) + carry;</span>
<a href="#l8.145"></a><span id="l8.145" class="difflineminus">-            carry = sum &gt;= base ? 1 : 0;</span>
<a href="#l8.146"></a><span id="l8.146" class="difflineminus">-            result.push(sum % base);</span>
<a href="#l8.147"></a><span id="l8.147" class="difflineminus">-        }</span>
<a href="#l8.148"></a><span id="l8.148" class="difflineminus">-        return new BigInteger(trim(result), this.sign);</span>
<a href="#l8.149"></a><span id="l8.149" class="difflineminus">-    };</span>
<a href="#l8.150"></a><span id="l8.150" class="difflineminus">-    BigInteger.prototype.plus = function (n) {</span>
<a href="#l8.151"></a><span id="l8.151" class="difflineminus">-        return this.add(n);</span>
<a href="#l8.152"></a><span id="l8.152" class="difflineminus">-    };</span>
<a href="#l8.153"></a><span id="l8.153" class="difflineminus">-    BigInteger.prototype.subtract = function (n) {</span>
<a href="#l8.154"></a><span id="l8.154" class="difflineminus">-        if (isSmall(n)) return fastSubtract(this, +n);</span>
<a href="#l8.155"></a><span id="l8.155" class="difflineminus">-        n = parseInput(n);</span>
<a href="#l8.156"></a><span id="l8.156" class="difflineminus">-        if (this.sign !== n.sign) return this.add(n.negate());</span>
<a href="#l8.157"></a><span id="l8.157" class="difflineminus">-        if (this.sign === sign.negative) return n.negate().subtract(this.negate());</span>
<a href="#l8.158"></a><span id="l8.158" class="difflineminus">-        if (this.compare(n) &lt; 0) return n.subtract(this).negate();</span>
<a href="#l8.159"></a><span id="l8.159" class="difflineminus">-        var a = this.value, b = n.value;</span>
<a href="#l8.160"></a><span id="l8.160" class="difflineminus">-        var result = [],</span>
<a href="#l8.161"></a><span id="l8.161" class="difflineminus">-            borrow = 0,</span>
<a href="#l8.162"></a><span id="l8.162" class="difflineminus">-            length = Math.max(a.length, b.length);</span>
<a href="#l8.163"></a><span id="l8.163" class="difflineminus">-        for (var i = 0; i &lt; length; i++) {</span>
<a href="#l8.164"></a><span id="l8.164" class="difflineminus">-            var ai = a[i] || 0, bi = b[i] || 0;</span>
<a href="#l8.165"></a><span id="l8.165" class="difflineminus">-            var tmp = ai - borrow;</span>
<a href="#l8.166"></a><span id="l8.166" class="difflineminus">-            borrow = tmp &lt; bi ? 1 : 0;</span>
<a href="#l8.167"></a><span id="l8.167" class="difflineminus">-            result.push((borrow * base) + tmp - bi);</span>
<a href="#l8.168"></a><span id="l8.168" class="difflineminus">-        }</span>
<a href="#l8.169"></a><span id="l8.169" class="difflineminus">-        return new BigInteger(trim(result), sign.positive);</span>
<a href="#l8.170"></a><span id="l8.170" class="difflineminus">-    };</span>
<a href="#l8.171"></a><span id="l8.171" class="difflineminus">-    BigInteger.prototype.minus = function (n) {</span>
<a href="#l8.172"></a><span id="l8.172" class="difflineminus">-        return this.subtract(n);</span>
<a href="#l8.173"></a><span id="l8.173" class="difflineminus">-    };</span>
<a href="#l8.174"></a><span id="l8.174" class="difflineminus">-    BigInteger.prototype.multiply = function (n) {</span>
<a href="#l8.175"></a><span id="l8.175" class="difflineminus">-        if (isSmall(n)) return fastMultiply(this, +n);</span>
<a href="#l8.176"></a><span id="l8.176" class="difflineminus">-        n = parseInput(n);</span>
<a href="#l8.177"></a><span id="l8.177" class="difflineminus">-        var sign = this.sign !== n.sign;</span>
<a href="#l8.178"></a><span id="l8.178" class="difflineminus">-</span>
<a href="#l8.179"></a><span id="l8.179" class="difflineminus">-        var a = this.value, b = n.value;</span>
<a href="#l8.180"></a><span id="l8.180" class="difflineminus">-        var length = Math.max(a.length, b.length);</span>
<a href="#l8.181"></a><span id="l8.181" class="difflineminus">-        var resultSum = [];</span>
<a href="#l8.182"></a><span id="l8.182" class="difflineminus">-        for (var i = 0; i &lt; length; i++) {</span>
<a href="#l8.183"></a><span id="l8.183" class="difflineminus">-            resultSum[i] = [];</span>
<a href="#l8.184"></a><span id="l8.184" class="difflineminus">-            var j = i;</span>
<a href="#l8.185"></a><span id="l8.185" class="difflineminus">-            while (j--) {</span>
<a href="#l8.186"></a><span id="l8.186" class="difflineminus">-                resultSum[i].push(0);</span>
<a href="#l8.187"></a><span id="l8.187" class="difflineminus">-            }</span>
<a href="#l8.188"></a><span id="l8.188" class="difflineminus">-        }</span>
<a href="#l8.189"></a><span id="l8.189" class="difflineminus">-        var carry = 0;</span>
<a href="#l8.190"></a><span id="l8.190" class="difflineminus">-        for (var i = 0; i &lt; a.length; i++) {</span>
<a href="#l8.191"></a><span id="l8.191" class="difflineminus">-            var x = a[i];</span>
<a href="#l8.192"></a><span id="l8.192" class="difflineminus">-            for (var j = 0; j &lt; b.length || carry &gt; 0; j++) {</span>
<a href="#l8.193"></a><span id="l8.193" class="difflineminus">-                var y = b[j];</span>
<a href="#l8.194"></a><span id="l8.194" class="difflineminus">-                var product = y ? (x * y) + carry : carry;</span>
<a href="#l8.195"></a><span id="l8.195" class="difflineminus">-                carry = Math.floor(product / base);</span>
<a href="#l8.196"></a><span id="l8.196" class="difflineminus">-                resultSum[i].push(product % base);</span>
<a href="#l8.197"></a><span id="l8.197" class="difflineminus">-            }</span>
<a href="#l8.198"></a><span id="l8.198" class="difflineminus">-        }</span>
<a href="#l8.199"></a><span id="l8.199" class="difflineminus">-        var max = -1;</span>
<a href="#l8.200"></a><span id="l8.200" class="difflineminus">-        for (var i = 0; i &lt; resultSum.length; i++) {</span>
<a href="#l8.201"></a><span id="l8.201" class="difflineminus">-            var len = resultSum[i].length;</span>
<a href="#l8.202"></a><span id="l8.202" class="difflineminus">-            if (len &gt; max) max = len;</span>
<a href="#l8.203"></a><span id="l8.203" class="difflineminus">-        }</span>
<a href="#l8.204"></a><span id="l8.204" class="difflineminus">-        var result = [], carry = 0;</span>
<a href="#l8.205"></a><span id="l8.205" class="difflineminus">-        for (var i = 0; i &lt; max || carry &gt; 0; i++) {</span>
<a href="#l8.206"></a><span id="l8.206" class="difflineminus">-            var sum = carry;</span>
<a href="#l8.207"></a><span id="l8.207" class="difflineminus">-            for (var j = 0; j &lt; resultSum.length; j++) {</span>
<a href="#l8.208"></a><span id="l8.208" class="difflineminus">-                sum += resultSum[j][i] || 0;</span>
<a href="#l8.209"></a><span id="l8.209" class="difflineminus">-            }</span>
<a href="#l8.210"></a><span id="l8.210" class="difflineminus">-            carry = sum &gt; base ? Math.floor(sum / base) : 0;</span>
<a href="#l8.211"></a><span id="l8.211" class="difflineminus">-            sum -= carry * base;</span>
<a href="#l8.212"></a><span id="l8.212" class="difflineminus">-            result.push(sum);</span>
<a href="#l8.213"></a><span id="l8.213" class="difflineminus">-        }</span>
<a href="#l8.214"></a><span id="l8.214" class="difflineminus">-        return new BigInteger(trim(result), sign);</span>
<a href="#l8.215"></a><span id="l8.215" class="difflineminus">-    };</span>
<a href="#l8.216"></a><span id="l8.216" class="difflineminus">-    BigInteger.prototype.times = function (n) {</span>
<a href="#l8.217"></a><span id="l8.217" class="difflineminus">-        return this.multiply(n);</span>
<a href="#l8.218"></a><span id="l8.218" class="difflineminus">-    };</span>
<a href="#l8.219"></a><span id="l8.219" class="difflineminus">-    BigInteger.prototype.divmod = function (n) {</span>
<a href="#l8.220"></a><span id="l8.220" class="difflineminus">-        if (isSmall(n)) return fastDivMod(this, +n);</span>
<a href="#l8.221"></a><span id="l8.221" class="difflineminus">-        n = parseInput(n);</span>
<a href="#l8.222"></a><span id="l8.222" class="difflineminus">-        var quotientSign = this.sign !== n.sign;</span>
<a href="#l8.223"></a><span id="l8.223" class="difflineminus">-        if (this.equals(0)) return {</span>
<a href="#l8.224"></a><span id="l8.224" class="difflineminus">-            quotient: new BigInteger([0], sign.positive),</span>
<a href="#l8.225"></a><span id="l8.225" class="difflineminus">-            remainder: new BigInteger([0], sign.positive)</span>
<a href="#l8.226"></a><span id="l8.226" class="difflineminus">-        };</span>
<a href="#l8.227"></a><span id="l8.227" class="difflineminus">-        if (n.equals(0)) throw new Error(&quot;Cannot divide by zero&quot;);</span>
<a href="#l8.228"></a><span id="l8.228" class="difflineminus">-        var a = this.value, b = n.value;</span>
<a href="#l8.229"></a><span id="l8.229" class="difflineminus">-        var result = [], remainder = [];</span>
<a href="#l8.230"></a><span id="l8.230" class="difflineminus">-        for (var i = a.length - 1; i &gt;= 0; i--) {</span>
<a href="#l8.231"></a><span id="l8.231" class="difflineminus">-            var m = [a[i]].concat(remainder);</span>
<a href="#l8.232"></a><span id="l8.232" class="difflineminus">-            var quotient = goesInto(b, m);</span>
<a href="#l8.233"></a><span id="l8.233" class="difflineminus">-            result.push(quotient.result);</span>
<a href="#l8.234"></a><span id="l8.234" class="difflineminus">-            remainder = quotient.remainder;</span>
<a href="#l8.235"></a><span id="l8.235" class="difflineminus">-        }</span>
<a href="#l8.236"></a><span id="l8.236" class="difflineminus">-        result.reverse();</span>
<a href="#l8.237"></a><span id="l8.237" class="difflineminus">-        return {</span>
<a href="#l8.238"></a><span id="l8.238" class="difflineminus">-            quotient: new BigInteger(trim(result), quotientSign),</span>
<a href="#l8.239"></a><span id="l8.239" class="difflineminus">-            remainder: new BigInteger(trim(remainder), this.sign)</span>
<a href="#l8.240"></a><span id="l8.240" class="difflineminus">-        };</span>
<a href="#l8.241"></a><span id="l8.241" class="difflineminus">-    };</span>
<a href="#l8.242"></a><span id="l8.242" class="difflineminus">-    BigInteger.prototype.divide = function (n) {</span>
<a href="#l8.243"></a><span id="l8.243" class="difflineminus">-        return this.divmod(n).quotient;</span>
<a href="#l8.244"></a><span id="l8.244" class="difflineminus">-    };</span>
<a href="#l8.245"></a><span id="l8.245" class="difflineminus">-    BigInteger.prototype.over = function (n) {</span>
<a href="#l8.246"></a><span id="l8.246" class="difflineminus">-        return this.divide(n);</span>
<a href="#l8.247"></a><span id="l8.247" class="difflineminus">-    };</span>
<a href="#l8.248"></a><span id="l8.248" class="difflineminus">-    BigInteger.prototype.mod = function (n) {</span>
<a href="#l8.249"></a><span id="l8.249" class="difflineminus">-        return this.divmod(n).remainder;</span>
<a href="#l8.250"></a><span id="l8.250" class="difflineminus">-    };</span>
<a href="#l8.251"></a><span id="l8.251" class="difflineminus">-    BigInteger.prototype.remainder = function (n) {</span>
<a href="#l8.252"></a><span id="l8.252" class="difflineminus">-        return this.mod(n);</span>
<a href="#l8.253"></a><span id="l8.253" class="difflineminus">-    };</span>
<a href="#l8.254"></a><span id="l8.254" class="difflineminus">-    BigInteger.prototype.pow = function (n) {</span>
<a href="#l8.255"></a><span id="l8.255" class="difflineminus">-        n = parseInput(n);</span>
<a href="#l8.256"></a><span id="l8.256" class="difflineminus">-        var a = this, b = n, r = ONE;</span>
<a href="#l8.257"></a><span id="l8.257" class="difflineminus">-        if (b.equals(ZERO)) return r;</span>
<a href="#l8.258"></a><span id="l8.258" class="difflineminus">-        if (a.equals(ZERO) || b.lesser(ZERO)) return ZERO;</span>
<a href="#l8.259"></a><span id="l8.259" class="difflineminus">-        while (true) {</span>
<a href="#l8.260"></a><span id="l8.260" class="difflineminus">-            if (b.isOdd()) {</span>
<a href="#l8.261"></a><span id="l8.261" class="difflineminus">-                r = r.times(a);</span>
<a href="#l8.262"></a><span id="l8.262" class="difflineminus">-            }</span>
<a href="#l8.263"></a><span id="l8.263" class="difflineminus">-            b = b.divide(2);</span>
<a href="#l8.264"></a><span id="l8.264" class="difflineminus">-            if (b.equals(ZERO)) break;</span>
<a href="#l8.265"></a><span id="l8.265" class="difflineminus">-            a = a.times(a);</span>
<a href="#l8.266"></a><span id="l8.266" class="difflineminus">-        }</span>
<a href="#l8.267"></a><span id="l8.267" class="difflineminus">-        return r;</span>
<a href="#l8.268"></a><span id="l8.268" class="difflineminus">-    };</span>
<a href="#l8.269"></a><span id="l8.269" class="difflineminus">-    BigInteger.prototype.modPow = function (exp, mod) {</span>
<a href="#l8.270"></a><span id="l8.270" class="difflineminus">-        exp = parseInput(exp);</span>
<a href="#l8.271"></a><span id="l8.271" class="difflineminus">-        mod = parseInput(mod);</span>
<a href="#l8.272"></a><span id="l8.272" class="difflineminus">-        if (mod.equals(ZERO)) throw new Error(&quot;Cannot take modPow with modulus 0&quot;);</span>
<a href="#l8.273"></a><span id="l8.273" class="difflineminus">-        var r = ONE,</span>
<a href="#l8.274"></a><span id="l8.274" class="difflineminus">-            base = this.mod(mod);</span>
<a href="#l8.275"></a><span id="l8.275" class="difflineminus">-        if (base.equals(ZERO)) return ZERO;</span>
<a href="#l8.276"></a><span id="l8.276" class="difflineminus">-        while (exp.greater(0)) {</span>
<a href="#l8.277"></a><span id="l8.277" class="difflineminus">-            if (exp.isOdd()) r = r.multiply(base).mod(mod);</span>
<a href="#l8.278"></a><span id="l8.278" class="difflineminus">-            exp = exp.divide(2);</span>
<a href="#l8.279"></a><span id="l8.279" class="difflineminus">-            base = base.square().mod(mod);</span>
<a href="#l8.280"></a><span id="l8.280" class="difflineminus">-        }</span>
<a href="#l8.281"></a><span id="l8.281" class="difflineminus">-        return r;</span>
<a href="#l8.282"></a><span id="l8.282" class="difflineminus">-    };</span>
<a href="#l8.283"></a><span id="l8.283" class="difflineminus">-    BigInteger.prototype.square = function () {</span>
<a href="#l8.284"></a><span id="l8.284" class="difflineminus">-        return this.multiply(this);</span>
<a href="#l8.285"></a><span id="l8.285" class="difflineminus">-    };</span>
<a href="#l8.286"></a><span id="l8.286" class="difflineminus">-    function gcd(a, b) {</span>
<a href="#l8.287"></a><span id="l8.287" class="difflineminus">-        a = parseInput(a).abs();</span>
<a href="#l8.288"></a><span id="l8.288" class="difflineminus">-        b = parseInput(b).abs();</span>
<a href="#l8.289"></a><span id="l8.289" class="difflineminus">-        if (a.equals(b)) return a;</span>
<a href="#l8.290"></a><span id="l8.290" class="difflineminus">-        if (a.equals(ZERO)) return b;</span>
<a href="#l8.291"></a><span id="l8.291" class="difflineminus">-        if (b.equals(ZERO)) return a;</span>
<a href="#l8.292"></a><span id="l8.292" class="difflineminus">-        if (a.isEven()) {</span>
<a href="#l8.293"></a><span id="l8.293" class="difflineminus">-            if (b.isOdd()) {</span>
<a href="#l8.294"></a><span id="l8.294" class="difflineminus">-                return gcd(a.divide(2), b);</span>
<a href="#l8.295"></a><span id="l8.295" class="difflineminus">-            }</span>
<a href="#l8.296"></a><span id="l8.296" class="difflineminus">-            return gcd(a.divide(2), b.divide(2)).multiply(2);</span>
<a href="#l8.297"></a><span id="l8.297" class="difflineminus">-        }</span>
<a href="#l8.298"></a><span id="l8.298" class="difflineminus">-        if (b.isEven()) {</span>
<a href="#l8.299"></a><span id="l8.299" class="difflineminus">-            return gcd(a, b.divide(2));</span>
<a href="#l8.300"></a><span id="l8.300" class="difflineminus">-        }</span>
<a href="#l8.301"></a><span id="l8.301" class="difflineminus">-        if (a.greater(b)) {</span>
<a href="#l8.302"></a><span id="l8.302" class="difflineminus">-            return gcd(a.subtract(b).divide(2), b);</span>
<a href="#l8.303"></a><span id="l8.303" class="difflineminus">-        }</span>
<a href="#l8.304"></a><span id="l8.304" class="difflineminus">-        return gcd(b.subtract(a).divide(2), a);</span>
<a href="#l8.305"></a><span id="l8.305" class="difflineminus">-    }</span>
<a href="#l8.306"></a><span id="l8.306" class="difflineminus">-    function lcm(a, b) {</span>
<a href="#l8.307"></a><span id="l8.307" class="difflineminus">-        a = parseInput(a).abs();</span>
<a href="#l8.308"></a><span id="l8.308" class="difflineminus">-        b = parseInput(b).abs();</span>
<a href="#l8.309"></a><span id="l8.309" class="difflineminus">-        return a.multiply(b).divide(gcd(a, b));</span>
<a href="#l8.310"></a><span id="l8.310" class="difflineminus">-    }</span>
<a href="#l8.311"></a><span id="l8.311" class="difflineminus">-    BigInteger.prototype.next = function () {</span>
<a href="#l8.312"></a><span id="l8.312" class="difflineminus">-        return fastAdd(this, 1);</span>
<a href="#l8.313"></a><span id="l8.313" class="difflineminus">-    };</span>
<a href="#l8.314"></a><span id="l8.314" class="difflineminus">-    BigInteger.prototype.prev = function () {</span>
<a href="#l8.315"></a><span id="l8.315" class="difflineminus">-        return fastSubtract(this, 1);</span>
<a href="#l8.316"></a><span id="l8.316" class="difflineminus">-    };</span>
<a href="#l8.317"></a><span id="l8.317" class="difflineminus">-    BigInteger.prototype.compare = function (n) {</span>
<a href="#l8.318"></a><span id="l8.318" class="difflineminus">-        var first = this, second = parseInput(n);</span>
<a href="#l8.319"></a><span id="l8.319" class="difflineminus">-        if (first.value.length === 1 &amp;&amp; second.value.length === 1 &amp;&amp; first.value[0] === 0 &amp;&amp; second.value[0] === 0) return 0;</span>
<a href="#l8.320"></a><span id="l8.320" class="difflineminus">-        if (second.sign !== first.sign) return first.sign === sign.positive ? 1 : -1;</span>
<a href="#l8.321"></a><span id="l8.321" class="difflineminus">-        var multiplier = first.sign === sign.positive ? 1 : -1;</span>
<a href="#l8.322"></a><span id="l8.322" class="difflineminus">-        var a = first.value, b = second.value,</span>
<a href="#l8.323"></a><span id="l8.323" class="difflineminus">-            length = Math.max(a.length, b.length) - 1;</span>
<a href="#l8.324"></a><span id="l8.324" class="difflineminus">-        for (var i = length; i &gt;= 0; i--) {</span>
<a href="#l8.325"></a><span id="l8.325" class="difflineminus">-            var ai = (a[i] || 0), bi = (b[i] || 0);</span>
<a href="#l8.326"></a><span id="l8.326" class="difflineminus">-            if (ai &gt; bi) return 1 * multiplier;</span>
<a href="#l8.327"></a><span id="l8.327" class="difflineminus">-            if (bi &gt; ai) return -1 * multiplier;</span>
<a href="#l8.328"></a><span id="l8.328" class="difflineminus">-        }</span>
<a href="#l8.329"></a><span id="l8.329" class="difflineminus">-        return 0;</span>
<a href="#l8.330"></a><span id="l8.330" class="difflineminus">-    };</span>
<a href="#l8.331"></a><span id="l8.331" class="difflineminus">-    BigInteger.prototype.compareTo = function (n) {</span>
<a href="#l8.332"></a><span id="l8.332" class="difflineminus">-        return this.compare(n);</span>
<a href="#l8.333"></a><span id="l8.333" class="difflineminus">-    };</span>
<a href="#l8.334"></a><span id="l8.334" class="difflineminus">-    BigInteger.prototype.compareAbs = function (n) {</span>
<a href="#l8.335"></a><span id="l8.335" class="difflineminus">-        return this.abs().compare(n.abs());</span>
<a href="#l8.336"></a><span id="l8.336" class="difflineminus">-    };</span>
<a href="#l8.337"></a><span id="l8.337" class="difflineminus">-    BigInteger.prototype.equals = function (n) {</span>
<a href="#l8.338"></a><span id="l8.338" class="difflineminus">-        return this.compare(n) === 0;</span>
<a href="#l8.339"></a><span id="l8.339" class="difflineminus">-    };</span>
<a href="#l8.340"></a><span id="l8.340" class="difflineminus">-    BigInteger.prototype.notEquals = function (n) {</span>
<a href="#l8.341"></a><span id="l8.341" class="difflineminus">-        return !this.equals(n);</span>
<a href="#l8.342"></a><span id="l8.342" class="difflineminus">-    };</span>
<a href="#l8.343"></a><span id="l8.343" class="difflineminus">-    BigInteger.prototype.lesser = function (n) {</span>
<a href="#l8.344"></a><span id="l8.344" class="difflineminus">-        return this.compare(n) &lt; 0;</span>
<a href="#l8.345"></a><span id="l8.345" class="difflineminus">-    };</span>
<a href="#l8.346"></a><span id="l8.346" class="difflineminus">-    BigInteger.prototype.greater = function (n) {</span>
<a href="#l8.347"></a><span id="l8.347" class="difflineminus">-        return this.compare(n) &gt; 0;</span>
<a href="#l8.348"></a><span id="l8.348" class="difflineminus">-    };</span>
<a href="#l8.349"></a><span id="l8.349" class="difflineminus">-    BigInteger.prototype.greaterOrEquals = function (n) {</span>
<a href="#l8.350"></a><span id="l8.350" class="difflineminus">-        return this.compare(n) &gt;= 0;</span>
<a href="#l8.351"></a><span id="l8.351" class="difflineminus">-    };</span>
<a href="#l8.352"></a><span id="l8.352" class="difflineminus">-    BigInteger.prototype.lesserOrEquals = function (n) {</span>
<a href="#l8.353"></a><span id="l8.353" class="difflineminus">-        return this.compare(n) &lt;= 0;</span>
<a href="#l8.354"></a><span id="l8.354" class="difflineminus">-    };</span>
<a href="#l8.355"></a><span id="l8.355" class="difflineminus">-</span>
<a href="#l8.356"></a><span id="l8.356" class="difflineminus">-    BigInteger.prototype.lt = BigInteger.prototype.lesser;</span>
<a href="#l8.357"></a><span id="l8.357" class="difflineminus">-    BigInteger.prototype.leq = BigInteger.prototype.lesserOrEquals;</span>
<a href="#l8.358"></a><span id="l8.358" class="difflineminus">-    BigInteger.prototype.gt = BigInteger.prototype.greater;</span>
<a href="#l8.359"></a><span id="l8.359" class="difflineminus">-    BigInteger.prototype.geq = BigInteger.prototype.greaterOrEquals;</span>
<a href="#l8.360"></a><span id="l8.360" class="difflineminus">-    BigInteger.prototype.eq = BigInteger.prototype.equals;</span>
<a href="#l8.361"></a><span id="l8.361" class="difflineminus">-    BigInteger.prototype.neq = BigInteger.prototype.notEquals;</span>
<a href="#l8.362"></a><span id="l8.362" class="difflineminus">-</span>
<a href="#l8.363"></a><span id="l8.363" class="difflineminus">-    function max (a, b) {</span>
<a href="#l8.364"></a><span id="l8.364" class="difflineminus">-        a = parseInput(a);</span>
<a href="#l8.365"></a><span id="l8.365" class="difflineminus">-        b = parseInput(b);</span>
<a href="#l8.366"></a><span id="l8.366" class="difflineminus">-        return a.greater(b) ? a : b;</span>
<a href="#l8.367"></a><span id="l8.367" class="difflineminus">-    }</span>
<a href="#l8.368"></a><span id="l8.368" class="difflineminus">-    function min (a, b) {</span>
<a href="#l8.369"></a><span id="l8.369" class="difflineminus">-        a = parseInput(a);</span>
<a href="#l8.370"></a><span id="l8.370" class="difflineminus">-        b = parseInput(b);</span>
<a href="#l8.371"></a><span id="l8.371" class="difflineminus">-        return a.lesser(b) ? a : b;</span>
<a href="#l8.372"></a><span id="l8.372" class="difflineminus">-    }</span>
<a href="#l8.373"></a><span id="l8.373" class="difflineminus">-    BigInteger.prototype.isPositive = function () {</span>
<a href="#l8.374"></a><span id="l8.374" class="difflineminus">-        return this.sign === sign.positive;</span>
<a href="#l8.375"></a><span id="l8.375" class="difflineminus">-    };</span>
<a href="#l8.376"></a><span id="l8.376" class="difflineminus">-    BigInteger.prototype.isNegative = function () {</span>
<a href="#l8.377"></a><span id="l8.377" class="difflineminus">-        return this.sign === sign.negative;</span>
<a href="#l8.378"></a><span id="l8.378" class="difflineminus">-    };</span>
<a href="#l8.379"></a><span id="l8.379" class="difflineminus">-    BigInteger.prototype.isEven = function () {</span>
<a href="#l8.380"></a><span id="l8.380" class="difflineminus">-        return this.value[0] % 2 === 0;</span>
<a href="#l8.381"></a><span id="l8.381" class="difflineminus">-    };</span>
<a href="#l8.382"></a><span id="l8.382" class="difflineminus">-    BigInteger.prototype.isOdd = function () {</span>
<a href="#l8.383"></a><span id="l8.383" class="difflineminus">-        return this.value[0] % 2 === 1;</span>
<a href="#l8.384"></a><span id="l8.384" class="difflineminus">-    };</span>
<a href="#l8.385"></a><span id="l8.385" class="difflineminus">-    BigInteger.prototype.isUnit = function () {</span>
<a href="#l8.386"></a><span id="l8.386" class="difflineminus">-        return this.value.length === 1 &amp;&amp; this.value[0] === 1;</span>
<a href="#l8.387"></a><span id="l8.387" class="difflineminus">-    };</span>
<a href="#l8.388"></a><span id="l8.388" class="difflineminus">-    BigInteger.prototype.isDivisibleBy = function (n) {</span>
<a href="#l8.389"></a><span id="l8.389" class="difflineminus">-        return this.mod(n).equals(ZERO);</span>
<a href="#l8.390"></a><span id="l8.390" class="difflineminus">-    };</span>
<a href="#l8.391"></a><span id="l8.391" class="difflineminus">-    BigInteger.prototype.isPrime = function () {</span>
<a href="#l8.392"></a><span id="l8.392" class="difflineminus">-        var n = this.abs(),</span>
<a href="#l8.393"></a><span id="l8.393" class="difflineminus">-            nPrev = n.prev();</span>
<a href="#l8.394"></a><span id="l8.394" class="difflineminus">-        if (n.isUnit()) return false;</span>
<a href="#l8.395"></a><span id="l8.395" class="difflineminus">-        if (n.equals(2) || n.equals(3) || n.equals(5)) return true;</span>
<a href="#l8.396"></a><span id="l8.396" class="difflineminus">-        if (n.isEven() || n.isDivisibleBy(3) || n.isDivisibleBy(5)) return false;</span>
<a href="#l8.397"></a><span id="l8.397" class="difflineminus">-        if (n.lesser(25)) return true;</span>
<a href="#l8.398"></a><span id="l8.398" class="difflineminus">-        var a = [2, 3, 5, 7, 11, 13, 17, 19],</span>
<a href="#l8.399"></a><span id="l8.399" class="difflineminus">-            b = nPrev,</span>
<a href="#l8.400"></a><span id="l8.400" class="difflineminus">-            d, t, i, x;</span>
<a href="#l8.401"></a><span id="l8.401" class="difflineminus">-        while (b.isEven()) b = b.divide(2);</span>
<a href="#l8.402"></a><span id="l8.402" class="difflineminus">-        for (i = 0; i &lt; a.length; i++) {</span>
<a href="#l8.403"></a><span id="l8.403" class="difflineminus">-            x = bigInt(a[i]).modPow(b, n);</span>
<a href="#l8.404"></a><span id="l8.404" class="difflineminus">-            if (x.equals(ONE) || x.equals(nPrev)) continue;</span>
<a href="#l8.405"></a><span id="l8.405" class="difflineminus">-            for (t = true, d = b; t &amp;&amp; d.lesser(nPrev); d = d.multiply(2)) {</span>
<a href="#l8.406"></a><span id="l8.406" class="difflineminus">-                x = x.square().mod(n);</span>
<a href="#l8.407"></a><span id="l8.407" class="difflineminus">-                if (x.equals(nPrev)) t = false;</span>
<a href="#l8.408"></a><span id="l8.408" class="difflineminus">-            }</span>
<a href="#l8.409"></a><span id="l8.409" class="difflineminus">-            if (t) return false;</span>
<a href="#l8.410"></a><span id="l8.410" class="difflineminus">-        }</span>
<a href="#l8.411"></a><span id="l8.411" class="difflineminus">-        return true;</span>
<a href="#l8.412"></a><span id="l8.412" class="difflineminus">-    };</span>
<a href="#l8.413"></a><span id="l8.413" class="difflineminus">-    function randBetween (a, b) {</span>
<a href="#l8.414"></a><span id="l8.414" class="difflineminus">-        a = parseInput(a);</span>
<a href="#l8.415"></a><span id="l8.415" class="difflineminus">-        b = parseInput(b);</span>
<a href="#l8.416"></a><span id="l8.416" class="difflineminus">-        var low = min(a, b), high = max(a, b);</span>
<a href="#l8.417"></a><span id="l8.417" class="difflineminus">-        var range = high.subtract(low);</span>
<a href="#l8.418"></a><span id="l8.418" class="difflineminus">-        var length = range.value.length - 1;</span>
<a href="#l8.419"></a><span id="l8.419" class="difflineminus">-        var result = [], restricted = true;</span>
<a href="#l8.420"></a><span id="l8.420" class="difflineminus">-        for (var i = length; i &gt;= 0; i--) {</span>
<a href="#l8.421"></a><span id="l8.421" class="difflineminus">-            var top = restricted ? range.value[i] : base;</span>
<a href="#l8.422"></a><span id="l8.422" class="difflineminus">-            var digit = Math.floor(Math.random() * top);</span>
<a href="#l8.423"></a><span id="l8.423" class="difflineminus">-            result.unshift(digit);</span>
<a href="#l8.424"></a><span id="l8.424" class="difflineminus">-            if (digit &lt; top) restricted = false;</span>
<a href="#l8.425"></a><span id="l8.425" class="difflineminus">-        }</span>
<a href="#l8.426"></a><span id="l8.426" class="difflineminus">-        return low.add(new BigInteger(result, false));</span>
<a href="#l8.427"></a><span id="l8.427" class="difflineminus">-    }</span>
<a href="#l8.428"></a><span id="l8.428" class="difflineminus">-</span>
<a href="#l8.429"></a><span id="l8.429" class="difflineminus">-    var powersOfTwo = [1];</span>
<a href="#l8.430"></a><span id="l8.430" class="difflineminus">-    while (powersOfTwo[powersOfTwo.length - 1] &lt;= base) powersOfTwo.push(2 * powersOfTwo[powersOfTwo.length - 1]);</span>
<a href="#l8.431"></a><span id="l8.431" class="difflineminus">-    var powers2Length = powersOfTwo.length, highestPower2 = powersOfTwo[powers2Length - 1];</span>
<a href="#l8.432"></a><span id="l8.432" class="difflineminus">-</span>
<a href="#l8.433"></a><span id="l8.433" class="difflineminus">-    BigInteger.prototype.shiftLeft = function (n) {</span>
<a href="#l8.434"></a><span id="l8.434" class="difflineminus">-        if (!isSmall(n)) {</span>
<a href="#l8.435"></a><span id="l8.435" class="difflineminus">-            if (n.isNegative()) return this.shiftRight(n.abs());</span>
<a href="#l8.436"></a><span id="l8.436" class="difflineminus">-            return this.times(bigInt(2).pow(n));</span>
<a href="#l8.437"></a><span id="l8.437" class="difflineminus">-        }</span>
<a href="#l8.438"></a><span id="l8.438" class="difflineminus">-        n = +n;</span>
<a href="#l8.439"></a><span id="l8.439" class="difflineminus">-        if (n &lt; 0) return this.shiftRight(-n);</span>
<a href="#l8.440"></a><span id="l8.440" class="difflineminus">-        var result = this;</span>
<a href="#l8.441"></a><span id="l8.441" class="difflineminus">-        while (n &gt;= powers2Length) {</span>
<a href="#l8.442"></a><span id="l8.442" class="difflineminus">-            result = fastMultiply(result, highestPower2);</span>
<a href="#l8.443"></a><span id="l8.443" class="difflineminus">-            n -= powers2Length - 1;</span>
<a href="#l8.444"></a><span id="l8.444" class="difflineminus">-        }</span>
<a href="#l8.445"></a><span id="l8.445" class="difflineminus">-        return fastMultiply(result, powersOfTwo[n]);</span>
<a href="#l8.446"></a><span id="l8.446" class="difflineminus">-    };</span>
<a href="#l8.447"></a><span id="l8.447" class="difflineminus">-</span>
<a href="#l8.448"></a><span id="l8.448" class="difflineminus">-    BigInteger.prototype.shiftRight = function (n) {</span>
<a href="#l8.449"></a><span id="l8.449" class="difflineminus">-        if (!isSmall(n)) {</span>
<a href="#l8.450"></a><span id="l8.450" class="difflineminus">-            if (n.isNegative()) return this.shiftLeft(n.abs());</span>
<a href="#l8.451"></a><span id="l8.451" class="difflineminus">-            return this.over(bigInt(2).pow(n));</span>
<a href="#l8.452"></a><span id="l8.452" class="difflineminus">-        }</span>
<a href="#l8.453"></a><span id="l8.453" class="difflineminus">-        n = +n;</span>
<a href="#l8.454"></a><span id="l8.454" class="difflineminus">-        if (n &lt; 0) return this.shiftLeft(-n);</span>
<a href="#l8.455"></a><span id="l8.455" class="difflineminus">-        var result = this;</span>
<a href="#l8.456"></a><span id="l8.456" class="difflineminus">-        while (n &gt;= powers2Length) {</span>
<a href="#l8.457"></a><span id="l8.457" class="difflineminus">-            if (result.equals(ZERO)) return result;</span>
<a href="#l8.458"></a><span id="l8.458" class="difflineminus">-            result = fastDivMod(result, highestPower2).quotient;</span>
<a href="#l8.459"></a><span id="l8.459" class="difflineminus">-            n -= powers2Length - 1;</span>
<a href="#l8.460"></a><span id="l8.460" class="difflineminus">-        }</span>
<a href="#l8.461"></a><span id="l8.461" class="difflineminus">-        return fastDivMod(result, powersOfTwo[n]).quotient;</span>
<a href="#l8.462"></a><span id="l8.462" class="difflineminus">-    };</span>
<a href="#l8.463"></a><span id="l8.463" class="difflineminus">-</span>
<a href="#l8.464"></a><span id="l8.464" class="difflineminus">-    // Reference: http://en.wikipedia.org/wiki/Bitwise_operation#Mathematical_equivalents</span>
<a href="#l8.465"></a><span id="l8.465" class="difflineminus">-    function bitwise(x, y, fn) {</span>
<a href="#l8.466"></a><span id="l8.466" class="difflineminus">-        var sum = ZERO;</span>
<a href="#l8.467"></a><span id="l8.467" class="difflineminus">-        var limit = max(x.abs(), y.abs());</span>
<a href="#l8.468"></a><span id="l8.468" class="difflineminus">-        var n = 0, _2n = ONE;</span>
<a href="#l8.469"></a><span id="l8.469" class="difflineminus">-        while (_2n.lesserOrEquals(limit)) {</span>
<a href="#l8.470"></a><span id="l8.470" class="difflineminus">-            var xMod, yMod;</span>
<a href="#l8.471"></a><span id="l8.471" class="difflineminus">-            xMod = x.over(_2n).isEven() ? 0 : 1;</span>
<a href="#l8.472"></a><span id="l8.472" class="difflineminus">-            yMod = y.over(_2n).isEven() ? 0 : 1;</span>
<a href="#l8.473"></a><span id="l8.473" class="difflineminus">-</span>
<a href="#l8.474"></a><span id="l8.474" class="difflineminus">-            sum = sum.add(_2n.times(fn(xMod, yMod)));</span>
<a href="#l8.475"></a><span id="l8.475" class="difflineminus">-</span>
<a href="#l8.476"></a><span id="l8.476" class="difflineminus">-            _2n = fastMultiply(_2n, 2);</span>
<a href="#l8.477"></a><span id="l8.477" class="difflineminus">-        }</span>
<a href="#l8.478"></a><span id="l8.478" class="difflineminus">-        return sum;</span>
<a href="#l8.479"></a><span id="l8.479" class="difflineminus">-    }</span>
<a href="#l8.480"></a><span id="l8.480" class="difflineminus">-</span>
<a href="#l8.481"></a><span id="l8.481" class="difflineminus">-    BigInteger.prototype.not = function () {</span>
<a href="#l8.482"></a><span id="l8.482" class="difflineminus">-        var body = bitwise(this, this, function (xMod) { return (xMod + 1) % 2; });</span>
<a href="#l8.483"></a><span id="l8.483" class="difflineminus">-        return !this.sign ? body.negate() : body;</span>
<a href="#l8.484"></a><span id="l8.484" class="difflineminus">-    };</span>
<a href="#l8.485"></a><span id="l8.485" class="difflineminus">-</span>
<a href="#l8.486"></a><span id="l8.486" class="difflineminus">-    BigInteger.prototype.and = function (n) {</span>
<a href="#l8.487"></a><span id="l8.487" class="difflineminus">-        n = parseInput(n);</span>
<a href="#l8.488"></a><span id="l8.488" class="difflineminus">-        var body = bitwise(this, n, function (xMod, yMod) { return xMod * yMod; });</span>
<a href="#l8.489"></a><span id="l8.489" class="difflineminus">-        return this.sign &amp;&amp; n.sign ? body.negate() : body;</span>
<a href="#l8.490"></a><span id="l8.490" class="difflineminus">-    };</span>
<a href="#l8.491"></a><span id="l8.491" class="difflineminus">-</span>
<a href="#l8.492"></a><span id="l8.492" class="difflineminus">-    BigInteger.prototype.or = function (n) {</span>
<a href="#l8.493"></a><span id="l8.493" class="difflineminus">-        n = parseInput(n);</span>
<a href="#l8.494"></a><span id="l8.494" class="difflineminus">-        var body = bitwise(this, n, function (xMod, yMod) { return (xMod + yMod + xMod * yMod) % 2 });</span>
<a href="#l8.495"></a><span id="l8.495" class="difflineminus">-        return this.sign || n.sign ? body.negate() : body;</span>
<a href="#l8.496"></a><span id="l8.496" class="difflineminus">-    };</span>
<a href="#l8.497"></a><span id="l8.497" class="difflineminus">-</span>
<a href="#l8.498"></a><span id="l8.498" class="difflineminus">-    BigInteger.prototype.xor = function (n) {</span>
<a href="#l8.499"></a><span id="l8.499" class="difflineminus">-        n = parseInput(n);</span>
<a href="#l8.500"></a><span id="l8.500" class="difflineminus">-        var body = bitwise(this, n, function (xMod, yMod) { return (xMod + yMod) % 2; });</span>
<a href="#l8.501"></a><span id="l8.501" class="difflineminus">-        return this.sign ^ n.sign ? body.negate() : body;</span>
<a href="#l8.502"></a><span id="l8.502" class="difflineminus">-    };</span>
<a href="#l8.503"></a><span id="l8.503" class="difflineminus">-</span>
<a href="#l8.504"></a><span id="l8.504" class="difflineminus">-    BigInteger.prototype.toString = function (radix) {</span>
<a href="#l8.505"></a><span id="l8.505" class="difflineminus">-        if (radix === undefined) {</span>
<a href="#l8.506"></a><span id="l8.506" class="difflineminus">-            radix = 10;</span>
<a href="#l8.507"></a><span id="l8.507" class="difflineminus">-        }</span>
<a href="#l8.508"></a><span id="l8.508" class="difflineminus">-        if (radix !== 10) return toBase(this, radix);</span>
<a href="#l8.509"></a><span id="l8.509" class="difflineminus">-        var first = this;</span>
<a href="#l8.510"></a><span id="l8.510" class="difflineminus">-        var str = &quot;&quot;, len = first.value.length;</span>
<a href="#l8.511"></a><span id="l8.511" class="difflineminus">-        if (len === 0) {</span>
<a href="#l8.512"></a><span id="l8.512" class="difflineminus">-            return &quot;0&quot;;</span>
<a href="#l8.513"></a><span id="l8.513" class="difflineminus">-        }</span>
<a href="#l8.514"></a><span id="l8.514" class="difflineminus">-        while (len--) {</span>
<a href="#l8.515"></a><span id="l8.515" class="difflineminus">-            if (first.value[len].toString().length === 8) str += first.value[len];</span>
<a href="#l8.516"></a><span id="l8.516" class="difflineminus">-            else str += (base.toString() + first.value[len]).slice(-logBase);</span>
<a href="#l8.517"></a><span id="l8.517" class="difflineminus">-        }</span>
<a href="#l8.518"></a><span id="l8.518" class="difflineminus">-        while (str[0] === &quot;0&quot;) {</span>
<a href="#l8.519"></a><span id="l8.519" class="difflineminus">-            str = str.slice(1);</span>
<a href="#l8.520"></a><span id="l8.520" class="difflineminus">-        }</span>
<a href="#l8.521"></a><span id="l8.521" class="difflineminus">-        if (!str.length) str = &quot;0&quot;;</span>
<a href="#l8.522"></a><span id="l8.522" class="difflineminus">-        if (str === &quot;0&quot;) return str;</span>
<a href="#l8.523"></a><span id="l8.523" class="difflineminus">-        var s = first.sign === sign.positive ? &quot;&quot; : &quot;-&quot;;</span>
<a href="#l8.524"></a><span id="l8.524" class="difflineminus">-        return s + str;</span>
<a href="#l8.525"></a><span id="l8.525" class="difflineminus">-    };</span>
<a href="#l8.526"></a><span id="l8.526" class="difflineminus">-    BigInteger.prototype.toJSNumber = function () {</span>
<a href="#l8.527"></a><span id="l8.527" class="difflineminus">-        return this.valueOf();</span>
<a href="#l8.528"></a><span id="l8.528" class="difflineminus">-    };</span>
<a href="#l8.529"></a><span id="l8.529" class="difflineminus">-    BigInteger.prototype.valueOf = function () {</span>
<a href="#l8.530"></a><span id="l8.530" class="difflineminus">-        if (this.value.length === 1) return this.sign ? -this.value[0] : this.value[0];</span>
<a href="#l8.531"></a><span id="l8.531" class="difflineminus">-        return +this.toString();</span>
<a href="#l8.532"></a><span id="l8.532" class="difflineminus">-    };</span>
<a href="#l8.533"></a><span id="l8.533" class="difflineminus">-</span>
<a href="#l8.534"></a><span id="l8.534" class="difflineminus">-    var goesInto = function (a, b) {</span>
<a href="#l8.535"></a><span id="l8.535" class="difflineminus">-        var a = new BigInteger(a, sign.positive), b = new BigInteger(b, sign.positive);</span>
<a href="#l8.536"></a><span id="l8.536" class="difflineminus">-        if (a.equals(0)) throw new Error(&quot;Cannot divide by 0&quot;);</span>
<a href="#l8.537"></a><span id="l8.537" class="difflineminus">-        var n = 0;</span>
<a href="#l8.538"></a><span id="l8.538" class="difflineminus">-        do {</span>
<a href="#l8.539"></a><span id="l8.539" class="difflineminus">-            var inc = 1;</span>
<a href="#l8.540"></a><span id="l8.540" class="difflineminus">-            var c = a, t = c.times(10);</span>
<a href="#l8.541"></a><span id="l8.541" class="difflineminus">-            while (t.lesser(b)) {</span>
<a href="#l8.542"></a><span id="l8.542" class="difflineminus">-                c = t;</span>
<a href="#l8.543"></a><span id="l8.543" class="difflineminus">-                inc *= 10;</span>
<a href="#l8.544"></a><span id="l8.544" class="difflineminus">-                t = t.times(10);</span>
<a href="#l8.545"></a><span id="l8.545" class="difflineminus">-            }</span>
<a href="#l8.546"></a><span id="l8.546" class="difflineminus">-            while (c.lesserOrEquals(b)) {</span>
<a href="#l8.547"></a><span id="l8.547" class="difflineminus">-                b = b.minus(c);</span>
<a href="#l8.548"></a><span id="l8.548" class="difflineminus">-                n += inc;</span>
<a href="#l8.549"></a><span id="l8.549" class="difflineminus">-            }</span>
<a href="#l8.550"></a><span id="l8.550" class="difflineminus">-        } while (a.lesserOrEquals(b));</span>
<a href="#l8.551"></a><span id="l8.551" class="difflineminus">-</span>
<a href="#l8.552"></a><span id="l8.552" class="difflineminus">-        return {</span>
<a href="#l8.553"></a><span id="l8.553" class="difflineminus">-            remainder: b.value,</span>
<a href="#l8.554"></a><span id="l8.554" class="difflineminus">-            result: n</span>
<a href="#l8.555"></a><span id="l8.555" class="difflineminus">-        };</span>
<a href="#l8.556"></a><span id="l8.556" class="difflineminus">-    };</span>
<a href="#l8.557"></a><span id="l8.557" class="difflineminus">-</span>
<a href="#l8.558"></a><span id="l8.558" class="difflineminus">-    var ZERO = new BigInteger([0], sign.positive);</span>
<a href="#l8.559"></a><span id="l8.559" class="difflineminus">-    var ONE = new BigInteger([1], sign.positive);</span>
<a href="#l8.560"></a><span id="l8.560" class="difflineminus">-    var MINUS_ONE = new BigInteger([1], sign.negative);</span>
<a href="#l8.561"></a><span id="l8.561" class="difflineminus">-</span>
<a href="#l8.562"></a><span id="l8.562" class="difflineminus">-</span>
<a href="#l8.563"></a><span id="l8.563" class="difflineminus">-    function parseInput(text) {</span>
<a href="#l8.564"></a><span id="l8.564" class="difflineminus">-        if (text instanceof BigInteger) return text;</span>
<a href="#l8.565"></a><span id="l8.565" class="difflineminus">-        if (Math.abs(+text) &lt; base &amp;&amp; +text === (+text | 0)) {</span>
<a href="#l8.566"></a><span id="l8.566" class="difflineminus">-            var value = +text;</span>
<a href="#l8.567"></a><span id="l8.567" class="difflineminus">-            return new BigInteger([Math.abs(value)], (value &lt; 0 || (1 / value) === -Infinity));</span>
<a href="#l8.568"></a><span id="l8.568" class="difflineminus">-        }</span>
<a href="#l8.569"></a><span id="l8.569" class="difflineminus">-        text += &quot;&quot;;</span>
<a href="#l8.570"></a><span id="l8.570" class="difflineminus">-        var s = sign.positive, value = [];</span>
<a href="#l8.571"></a><span id="l8.571" class="difflineminus">-        if (text[0] === &quot;-&quot;) {</span>
<a href="#l8.572"></a><span id="l8.572" class="difflineminus">-            s = sign.negative;</span>
<a href="#l8.573"></a><span id="l8.573" class="difflineminus">-            text = text.slice(1);</span>
<a href="#l8.574"></a><span id="l8.574" class="difflineminus">-        }</span>
<a href="#l8.575"></a><span id="l8.575" class="difflineminus">-        var text = text.split(/e/i);</span>
<a href="#l8.576"></a><span id="l8.576" class="difflineminus">-        if (text.length &gt; 2) throw new Error(&quot;Invalid integer: &quot; + text.join(&quot;e&quot;));</span>
<a href="#l8.577"></a><span id="l8.577" class="difflineminus">-        if (text[1]) {</span>
<a href="#l8.578"></a><span id="l8.578" class="difflineminus">-            var exp = text[1];</span>
<a href="#l8.579"></a><span id="l8.579" class="difflineminus">-            if (exp[0] === &quot;+&quot;) exp = exp.slice(1);</span>
<a href="#l8.580"></a><span id="l8.580" class="difflineminus">-            exp = parseInput(exp);</span>
<a href="#l8.581"></a><span id="l8.581" class="difflineminus">-            if (exp.lesser(0)) throw new Error(&quot;Cannot include negative exponent part for integers&quot;);</span>
<a href="#l8.582"></a><span id="l8.582" class="difflineminus">-            while (exp.notEquals(0)) {</span>
<a href="#l8.583"></a><span id="l8.583" class="difflineminus">-                text[0] += &quot;0&quot;;</span>
<a href="#l8.584"></a><span id="l8.584" class="difflineminus">-                exp = exp.prev();</span>
<a href="#l8.585"></a><span id="l8.585" class="difflineminus">-            }</span>
<a href="#l8.586"></a><span id="l8.586" class="difflineminus">-        }</span>
<a href="#l8.587"></a><span id="l8.587" class="difflineminus">-        text = text[0];</span>
<a href="#l8.588"></a><span id="l8.588" class="difflineminus">-        if (text === &quot;-0&quot;) text = &quot;0&quot;;</span>
<a href="#l8.589"></a><span id="l8.589" class="difflineminus">-        var isValid = /^([0-9][0-9]*)$/.test(text);</span>
<a href="#l8.590"></a><span id="l8.590" class="difflineminus">-        if (!isValid) throw new Error(&quot;Invalid integer: &quot; + text);</span>
<a href="#l8.591"></a><span id="l8.591" class="difflineminus">-        while (text.length) {</span>
<a href="#l8.592"></a><span id="l8.592" class="difflineminus">-            var divider = text.length &gt; logBase ? text.length - logBase : 0;</span>
<a href="#l8.593"></a><span id="l8.593" class="difflineminus">-            value.push(+text.slice(divider));</span>
<a href="#l8.594"></a><span id="l8.594" class="difflineminus">-            text = text.slice(0, divider);</span>
<a href="#l8.595"></a><span id="l8.595" class="difflineminus">-        }</span>
<a href="#l8.596"></a><span id="l8.596" class="difflineminus">-        return new BigInteger(value, s);</span>
<a href="#l8.597"></a><span id="l8.597" class="difflineminus">-    }</span>
<a href="#l8.598"></a><span id="l8.598" class="difflineminus">-</span>
<a href="#l8.599"></a><span id="l8.599" class="difflineminus">-    var parseBase = function (text, base) {</span>
<a href="#l8.600"></a><span id="l8.600" class="difflineminus">-        base = parseInput(base);</span>
<a href="#l8.601"></a><span id="l8.601" class="difflineminus">-        var val = ZERO;</span>
<a href="#l8.602"></a><span id="l8.602" class="difflineminus">-        var digits = [];</span>
<a href="#l8.603"></a><span id="l8.603" class="difflineminus">-        var i;</span>
<a href="#l8.604"></a><span id="l8.604" class="difflineminus">-        var isNegative = false;</span>
<a href="#l8.605"></a><span id="l8.605" class="difflineminus">-        function parseToken(text) {</span>
<a href="#l8.606"></a><span id="l8.606" class="difflineminus">-            var c = text[i].toLowerCase();</span>
<a href="#l8.607"></a><span id="l8.607" class="difflineminus">-            if (i === 0 &amp;&amp; text[i] === &quot;-&quot;) {</span>
<a href="#l8.608"></a><span id="l8.608" class="difflineminus">-                isNegative = true;</span>
<a href="#l8.609"></a><span id="l8.609" class="difflineminus">-                return;</span>
<a href="#l8.610"></a><span id="l8.610" class="difflineminus">-            }</span>
<a href="#l8.611"></a><span id="l8.611" class="difflineminus">-            if (/[0-9]/.test(c)) digits.push(parseInput(c));</span>
<a href="#l8.612"></a><span id="l8.612" class="difflineminus">-            else if (/[a-z]/.test(c)) digits.push(parseInput(c.charCodeAt(0) - 87));</span>
<a href="#l8.613"></a><span id="l8.613" class="difflineminus">-            else if (c === &quot;&lt;&quot;) {</span>
<a href="#l8.614"></a><span id="l8.614" class="difflineminus">-                var start = i;</span>
<a href="#l8.615"></a><span id="l8.615" class="difflineminus">-                do { i++; } while (text[i] !== &quot;&gt;&quot;);</span>
<a href="#l8.616"></a><span id="l8.616" class="difflineminus">-                digits.push(parseInput(text.slice(start + 1, i)));</span>
<a href="#l8.617"></a><span id="l8.617" class="difflineminus">-            }</span>
<a href="#l8.618"></a><span id="l8.618" class="difflineminus">-            else throw new Error(c + &quot; is not a valid character&quot;);</span>
<a href="#l8.619"></a><span id="l8.619" class="difflineminus">-        }</span>
<a href="#l8.620"></a><span id="l8.620" class="difflineminus">-        for (i = 0; i &lt; text.length; i++) {</span>
<a href="#l8.621"></a><span id="l8.621" class="difflineminus">-            parseToken(text);</span>
<a href="#l8.622"></a><span id="l8.622" class="difflineminus">-        }</span>
<a href="#l8.623"></a><span id="l8.623" class="difflineminus">-        digits.reverse();</span>
<a href="#l8.624"></a><span id="l8.624" class="difflineminus">-        for (i = 0; i &lt; digits.length; i++) {</span>
<a href="#l8.625"></a><span id="l8.625" class="difflineminus">-            val = val.add(digits[i].times(base.pow(i)));</span>
<a href="#l8.626"></a><span id="l8.626" class="difflineminus">-        }</span>
<a href="#l8.627"></a><span id="l8.627" class="difflineminus">-        return isNegative ? val.negate() : val;</span>
<a href="#l8.628"></a><span id="l8.628" class="difflineminus">-    };</span>
<a href="#l8.629"></a><span id="l8.629" class="difflineminus">-</span>
<a href="#l8.630"></a><span id="l8.630" class="difflineminus">-    function stringify(digit) {</span>
<a href="#l8.631"></a><span id="l8.631" class="difflineminus">-        var v = digit.value;</span>
<a href="#l8.632"></a><span id="l8.632" class="difflineminus">-        if (v.length === 1 &amp;&amp; v[0] &lt;= 36) {</span>
<a href="#l8.633"></a><span id="l8.633" class="difflineminus">-            return &quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;.charAt(v[0]);</span>
<a href="#l8.634"></a><span id="l8.634" class="difflineminus">-        }</span>
<a href="#l8.635"></a><span id="l8.635" class="difflineminus">-        return &quot;&lt;&quot; + v + &quot;&gt;&quot;;</span>
<a href="#l8.636"></a><span id="l8.636" class="difflineminus">-    }</span>
<a href="#l8.637"></a><span id="l8.637" class="difflineminus">-</span>
<a href="#l8.638"></a><span id="l8.638" class="difflineminus">-    function toBase(n, base) {</span>
<a href="#l8.639"></a><span id="l8.639" class="difflineminus">-        base = bigInt(base);</span>
<a href="#l8.640"></a><span id="l8.640" class="difflineminus">-        if (base.equals(0)) {</span>
<a href="#l8.641"></a><span id="l8.641" class="difflineminus">-            if (n.equals(0)) return &quot;0&quot;;</span>
<a href="#l8.642"></a><span id="l8.642" class="difflineminus">-            throw new Error(&quot;Cannot convert nonzero numbers to base 0.&quot;);</span>
<a href="#l8.643"></a><span id="l8.643" class="difflineminus">-        }</span>
<a href="#l8.644"></a><span id="l8.644" class="difflineminus">-        if (base.equals(-1)) {</span>
<a href="#l8.645"></a><span id="l8.645" class="difflineminus">-            if (n.equals(0)) return &quot;0&quot;;</span>
<a href="#l8.646"></a><span id="l8.646" class="difflineminus">-            if (n.lesser(0)) return Array(1 - n).join(&quot;10&quot;);</span>
<a href="#l8.647"></a><span id="l8.647" class="difflineminus">-            return &quot;1&quot; + Array(+n).join(&quot;01&quot;);</span>
<a href="#l8.648"></a><span id="l8.648" class="difflineminus">-        }</span>
<a href="#l8.649"></a><span id="l8.649" class="difflineminus">-        var minusSign = &quot;&quot;;</span>
<a href="#l8.650"></a><span id="l8.650" class="difflineminus">-        if (n.isNegative() &amp;&amp; base.isPositive()) {</span>
<a href="#l8.651"></a><span id="l8.651" class="difflineminus">-            minusSign = &quot;-&quot;;</span>
<a href="#l8.652"></a><span id="l8.652" class="difflineminus">-            n = n.abs();</span>
<a href="#l8.653"></a><span id="l8.653" class="difflineminus">-        }</span>
<a href="#l8.654"></a><span id="l8.654" class="difflineminus">-        if (base.equals(1)) {</span>
<a href="#l8.655"></a><span id="l8.655" class="difflineminus">-            if (n.equals(0)) return &quot;0&quot;;</span>
<a href="#l8.656"></a><span id="l8.656" class="difflineminus">-            return minusSign + Array(+n + 1).join(1);</span>
<a href="#l8.657"></a><span id="l8.657" class="difflineminus">-        }</span>
<a href="#l8.658"></a><span id="l8.658" class="difflineminus">-        var out = [];</span>
<a href="#l8.659"></a><span id="l8.659" class="difflineminus">-        var left = n, divmod;</span>
<a href="#l8.660"></a><span id="l8.660" class="difflineminus">-        while (left.lesser(0) || left.compareAbs(base) &gt;= 0) {</span>
<a href="#l8.661"></a><span id="l8.661" class="difflineminus">-            divmod = left.divmod(base);</span>
<a href="#l8.662"></a><span id="l8.662" class="difflineminus">-            left = divmod.quotient;</span>
<a href="#l8.663"></a><span id="l8.663" class="difflineminus">-            var digit = divmod.remainder;</span>
<a href="#l8.664"></a><span id="l8.664" class="difflineminus">-            if (digit.lesser(0)) {</span>
<a href="#l8.665"></a><span id="l8.665" class="difflineminus">-                digit = base.minus(digit).abs();</span>
<a href="#l8.666"></a><span id="l8.666" class="difflineminus">-                left = left.next();</span>
<a href="#l8.667"></a><span id="l8.667" class="difflineminus">-            }</span>
<a href="#l8.668"></a><span id="l8.668" class="difflineminus">-            out.push(stringify(digit));</span>
<a href="#l8.669"></a><span id="l8.669" class="difflineminus">-        }</span>
<a href="#l8.670"></a><span id="l8.670" class="difflineminus">-        out.push(stringify(left));</span>
<a href="#l8.671"></a><span id="l8.671" class="difflineminus">-        return minusSign + out.reverse().join(&quot;&quot;);</span>
<a href="#l8.672"></a><span id="l8.672" class="difflineminus">-    }</span>
<a href="#l8.673"></a><span id="l8.673" class="difflineminus">-</span>
<a href="#l8.674"></a><span id="l8.674" class="difflineminus">-    var fnReturn = function (a, b) {</span>
<a href="#l8.675"></a><span id="l8.675" class="difflineminus">-        if (typeof a === &quot;undefined&quot;) return ZERO;</span>
<a href="#l8.676"></a><span id="l8.676" class="difflineminus">-        if (typeof b !== &quot;undefined&quot;) return parseBase(a, b);</span>
<a href="#l8.677"></a><span id="l8.677" class="difflineminus">-        return parseInput(a);</span>
<a href="#l8.678"></a><span id="l8.678" class="difflineminus">-    };</span>
<a href="#l8.679"></a><span id="l8.679" class="difflineminus">-    fnReturn.zero = ZERO;</span>
<a href="#l8.680"></a><span id="l8.680" class="difflineminus">-    fnReturn.one = ONE;</span>
<a href="#l8.681"></a><span id="l8.681" class="difflineminus">-    fnReturn.minusOne = MINUS_ONE;</span>
<a href="#l8.682"></a><span id="l8.682" class="difflineminus">-    fnReturn.randBetween = randBetween;</span>
<a href="#l8.683"></a><span id="l8.683" class="difflineminus">-    fnReturn.min = min;</span>
<a href="#l8.684"></a><span id="l8.684" class="difflineminus">-    fnReturn.max = max;</span>
<a href="#l8.685"></a><span id="l8.685" class="difflineminus">-    fnReturn.gcd = gcd;</span>
<a href="#l8.686"></a><span id="l8.686" class="difflineminus">-    fnReturn.lcm = lcm;</span>
<a href="#l8.687"></a><span id="l8.687" class="difflineminus">-    return fnReturn;</span>
<a href="#l8.688"></a><span id="l8.688" class="difflineminus">-})();</span>
<a href="#l8.689"></a><span id="l8.689" class="difflineminus">-</span>
<a href="#l8.690"></a><span id="l8.690" class="difflineminus">-if (typeof module !== &quot;undefined&quot;) {</span>
<a href="#l8.691"></a><span id="l8.691" class="difflineminus">-    module.exports = bigInt;</span>
<a href="#l8.692"></a><span id="l8.692" class="difflineminus">-}</span>
<a href="#l8.693"></a><span id="l8.693" class="difflineplus">+/*</span>
<a href="#l8.694"></a><span id="l8.694" class="difflineplus">+ * This is free and unencumbered software released into the public domain.</span>
<a href="#l8.695"></a><span id="l8.695" class="difflineplus">+ *</span>
<a href="#l8.696"></a><span id="l8.696" class="difflineplus">+ * Anyone is free to copy, modify, publish, use, compile, sell, or</span>
<a href="#l8.697"></a><span id="l8.697" class="difflineplus">+ * distribute this software, either in source code form or as a compiled</span>
<a href="#l8.698"></a><span id="l8.698" class="difflineplus">+ * binary, for any purpose, commercial or non-commercial, and by any</span>
<a href="#l8.699"></a><span id="l8.699" class="difflineplus">+ * means.</span>
<a href="#l8.700"></a><span id="l8.700" class="difflineplus">+ *</span>
<a href="#l8.701"></a><span id="l8.701" class="difflineplus">+ * In jurisdictions that recognize copyright laws, the author or authors</span>
<a href="#l8.702"></a><span id="l8.702" class="difflineplus">+ * of this software dedicate any and all copyright interest in the</span>
<a href="#l8.703"></a><span id="l8.703" class="difflineplus">+ * software to the public domain. We make this dedication for the benefit</span>
<a href="#l8.704"></a><span id="l8.704" class="difflineplus">+ * of the public at large and to the detriment of our heirs and</span>
<a href="#l8.705"></a><span id="l8.705" class="difflineplus">+ * successors. We intend this dedication to be an overt act of</span>
<a href="#l8.706"></a><span id="l8.706" class="difflineplus">+ * relinquishment in perpetuity of all present and future rights to this</span>
<a href="#l8.707"></a><span id="l8.707" class="difflineplus">+ * software under copyright law.</span>
<a href="#l8.708"></a><span id="l8.708" class="difflineplus">+ *</span>
<a href="#l8.709"></a><span id="l8.709" class="difflineplus">+ * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</span>
<a href="#l8.710"></a><span id="l8.710" class="difflineplus">+ * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<a href="#l8.711"></a><span id="l8.711" class="difflineplus">+ * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.</span>
<a href="#l8.712"></a><span id="l8.712" class="difflineplus">+ * IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR</span>
<a href="#l8.713"></a><span id="l8.713" class="difflineplus">+ * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,</span>
<a href="#l8.714"></a><span id="l8.714" class="difflineplus">+ * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span>
<a href="#l8.715"></a><span id="l8.715" class="difflineplus">+ * OTHER DEALINGS IN THE SOFTWARE.</span>
<a href="#l8.716"></a><span id="l8.716" class="difflineplus">+ *</span>
<a href="#l8.717"></a><span id="l8.717" class="difflineplus">+ * For more information, please refer to &lt;http://unlicense.org&gt;</span>
<a href="#l8.718"></a><span id="l8.718" class="difflineplus">+ */</span>
<a href="#l8.719"></a><span id="l8.719" class="difflineplus">+</span>
<a href="#l8.720"></a><span id="l8.720" class="difflineplus">+&quot;use strict&quot;;</span>
<a href="#l8.721"></a><span id="l8.721" class="difflineplus">+</span>
<a href="#l8.722"></a><span id="l8.722" class="difflineplus">+this.EXPORTED_SYMBOLS = [&quot;bigInt&quot;];</span>
<a href="#l8.723"></a><span id="l8.723" class="difflineplus">+</span>
<a href="#l8.724"></a><span id="l8.724" class="difflineplus">+var bigInt = (function () {</span>
<a href="#l8.725"></a><span id="l8.725" class="difflineplus">+    var base = 10000000, logBase = 7;</span>
<a href="#l8.726"></a><span id="l8.726" class="difflineplus">+    var sign = {</span>
<a href="#l8.727"></a><span id="l8.727" class="difflineplus">+        positive: false,</span>
<a href="#l8.728"></a><span id="l8.728" class="difflineplus">+        negative: true</span>
<a href="#l8.729"></a><span id="l8.729" class="difflineplus">+    };</span>
<a href="#l8.730"></a><span id="l8.730" class="difflineplus">+</span>
<a href="#l8.731"></a><span id="l8.731" class="difflineplus">+    function BigInteger(value, sign) {</span>
<a href="#l8.732"></a><span id="l8.732" class="difflineplus">+        this.value = value;</span>
<a href="#l8.733"></a><span id="l8.733" class="difflineplus">+        this.sign = sign;</span>
<a href="#l8.734"></a><span id="l8.734" class="difflineplus">+    }</span>
<a href="#l8.735"></a><span id="l8.735" class="difflineplus">+</span>
<a href="#l8.736"></a><span id="l8.736" class="difflineplus">+    function trim(value) {</span>
<a href="#l8.737"></a><span id="l8.737" class="difflineplus">+        var i = value.length - 1;</span>
<a href="#l8.738"></a><span id="l8.738" class="difflineplus">+        while (value[i] === 0 &amp;&amp; i &gt; 0) i--;</span>
<a href="#l8.739"></a><span id="l8.739" class="difflineplus">+        return value.slice(0, i + 1);</span>
<a href="#l8.740"></a><span id="l8.740" class="difflineplus">+    }</span>
<a href="#l8.741"></a><span id="l8.741" class="difflineplus">+</span>
<a href="#l8.742"></a><span id="l8.742" class="difflineplus">+    function fastAdd(a, b) {</span>
<a href="#l8.743"></a><span id="l8.743" class="difflineplus">+        var sign = b &lt; 0;</span>
<a href="#l8.744"></a><span id="l8.744" class="difflineplus">+        if (a.sign !== sign) {</span>
<a href="#l8.745"></a><span id="l8.745" class="difflineplus">+            if(sign) return fastSubtract(a.abs(), -b);</span>
<a href="#l8.746"></a><span id="l8.746" class="difflineplus">+            return fastSubtract(a.abs(), b).negate();</span>
<a href="#l8.747"></a><span id="l8.747" class="difflineplus">+        }</span>
<a href="#l8.748"></a><span id="l8.748" class="difflineplus">+        if (sign) b = -b;</span>
<a href="#l8.749"></a><span id="l8.749" class="difflineplus">+        var value = a.value,</span>
<a href="#l8.750"></a><span id="l8.750" class="difflineplus">+            result = [],</span>
<a href="#l8.751"></a><span id="l8.751" class="difflineplus">+            carry = 0;</span>
<a href="#l8.752"></a><span id="l8.752" class="difflineplus">+        for (var i = 0; i &lt; value.length || carry &gt; 0; i++) {</span>
<a href="#l8.753"></a><span id="l8.753" class="difflineplus">+            var sum = (value[i] || 0) + (i &gt; 0 ? 0 : b) + carry;</span>
<a href="#l8.754"></a><span id="l8.754" class="difflineplus">+            carry = sum &gt;= base ? 1 : 0;</span>
<a href="#l8.755"></a><span id="l8.755" class="difflineplus">+            result.push(sum % base);</span>
<a href="#l8.756"></a><span id="l8.756" class="difflineplus">+        }</span>
<a href="#l8.757"></a><span id="l8.757" class="difflineplus">+        return new BigInteger(result, a.sign);</span>
<a href="#l8.758"></a><span id="l8.758" class="difflineplus">+    }</span>
<a href="#l8.759"></a><span id="l8.759" class="difflineplus">+</span>
<a href="#l8.760"></a><span id="l8.760" class="difflineplus">+    function fastSubtract(a, b) {</span>
<a href="#l8.761"></a><span id="l8.761" class="difflineplus">+        if (a.sign !== (b &lt; 0)) return fastAdd(a, -b);</span>
<a href="#l8.762"></a><span id="l8.762" class="difflineplus">+        var sign = false;</span>
<a href="#l8.763"></a><span id="l8.763" class="difflineplus">+        if (a.sign) sign = true;</span>
<a href="#l8.764"></a><span id="l8.764" class="difflineplus">+        var value = a.value;</span>
<a href="#l8.765"></a><span id="l8.765" class="difflineplus">+        if (value.length === 1 &amp;&amp; value[0] &lt; b) return new BigInteger([b - value[0]], !sign);</span>
<a href="#l8.766"></a><span id="l8.766" class="difflineplus">+        if (sign) b = -b;</span>
<a href="#l8.767"></a><span id="l8.767" class="difflineplus">+        var result = [],</span>
<a href="#l8.768"></a><span id="l8.768" class="difflineplus">+            borrow = 0;</span>
<a href="#l8.769"></a><span id="l8.769" class="difflineplus">+        for (var i = 0; i &lt; value.length; i++) {</span>
<a href="#l8.770"></a><span id="l8.770" class="difflineplus">+            var tmp = value[i] - borrow - (i &gt; 0 ? 0 : b);</span>
<a href="#l8.771"></a><span id="l8.771" class="difflineplus">+            borrow = tmp &lt; 0 ? 1 : 0;</span>
<a href="#l8.772"></a><span id="l8.772" class="difflineplus">+            result.push((borrow * base) + tmp);</span>
<a href="#l8.773"></a><span id="l8.773" class="difflineplus">+        }</span>
<a href="#l8.774"></a><span id="l8.774" class="difflineplus">+</span>
<a href="#l8.775"></a><span id="l8.775" class="difflineplus">+        return new BigInteger(result, sign);</span>
<a href="#l8.776"></a><span id="l8.776" class="difflineplus">+    }</span>
<a href="#l8.777"></a><span id="l8.777" class="difflineplus">+</span>
<a href="#l8.778"></a><span id="l8.778" class="difflineplus">+    function fastMultiply(a, b) {</span>
<a href="#l8.779"></a><span id="l8.779" class="difflineplus">+        var value = a.value,</span>
<a href="#l8.780"></a><span id="l8.780" class="difflineplus">+            sign = b &lt; 0,</span>
<a href="#l8.781"></a><span id="l8.781" class="difflineplus">+            result = [],</span>
<a href="#l8.782"></a><span id="l8.782" class="difflineplus">+            carry = 0;</span>
<a href="#l8.783"></a><span id="l8.783" class="difflineplus">+        if (sign) b = -b;</span>
<a href="#l8.784"></a><span id="l8.784" class="difflineplus">+        for (var i = 0; i &lt; value.length || carry &gt; 0; i++) {</span>
<a href="#l8.785"></a><span id="l8.785" class="difflineplus">+            var product = (value[i] || 0) * b + carry;</span>
<a href="#l8.786"></a><span id="l8.786" class="difflineplus">+            carry = (product / base) | 0;</span>
<a href="#l8.787"></a><span id="l8.787" class="difflineplus">+            result.push(product % base);</span>
<a href="#l8.788"></a><span id="l8.788" class="difflineplus">+        }</span>
<a href="#l8.789"></a><span id="l8.789" class="difflineplus">+        return new BigInteger(result, sign ? !a.sign : a.sign);</span>
<a href="#l8.790"></a><span id="l8.790" class="difflineplus">+    }</span>
<a href="#l8.791"></a><span id="l8.791" class="difflineplus">+</span>
<a href="#l8.792"></a><span id="l8.792" class="difflineplus">+    function fastDivMod(a, b) {</span>
<a href="#l8.793"></a><span id="l8.793" class="difflineplus">+        if (b === 0) throw new Error(&quot;Cannot divide by zero.&quot;);</span>
<a href="#l8.794"></a><span id="l8.794" class="difflineplus">+        var value = a.value,</span>
<a href="#l8.795"></a><span id="l8.795" class="difflineplus">+            sign = b &lt; 0,</span>
<a href="#l8.796"></a><span id="l8.796" class="difflineplus">+            result = [],</span>
<a href="#l8.797"></a><span id="l8.797" class="difflineplus">+            remainder = 0;</span>
<a href="#l8.798"></a><span id="l8.798" class="difflineplus">+        if (sign) b = -b;</span>
<a href="#l8.799"></a><span id="l8.799" class="difflineplus">+        for (var i = value.length - 1; i &gt;= 0; i--) {</span>
<a href="#l8.800"></a><span id="l8.800" class="difflineplus">+            var divisor = remainder * base + value[i];</span>
<a href="#l8.801"></a><span id="l8.801" class="difflineplus">+            remainder = divisor % b;</span>
<a href="#l8.802"></a><span id="l8.802" class="difflineplus">+            result.push(divisor / b | 0);</span>
<a href="#l8.803"></a><span id="l8.803" class="difflineplus">+        }</span>
<a href="#l8.804"></a><span id="l8.804" class="difflineplus">+        return {</span>
<a href="#l8.805"></a><span id="l8.805" class="difflineplus">+            quotient: new BigInteger(trim(result.reverse()), sign ? !a.sign : a.sign),</span>
<a href="#l8.806"></a><span id="l8.806" class="difflineplus">+            remainder: new BigInteger([remainder], a.sign)</span>
<a href="#l8.807"></a><span id="l8.807" class="difflineplus">+        };</span>
<a href="#l8.808"></a><span id="l8.808" class="difflineplus">+    }</span>
<a href="#l8.809"></a><span id="l8.809" class="difflineplus">+</span>
<a href="#l8.810"></a><span id="l8.810" class="difflineplus">+    function isSmall(n) {</span>
<a href="#l8.811"></a><span id="l8.811" class="difflineplus">+        return ((typeof n === &quot;number&quot; || typeof n === &quot;string&quot;) &amp;&amp; +n &lt;= base) ||</span>
<a href="#l8.812"></a><span id="l8.812" class="difflineplus">+            (n instanceof BigInteger &amp;&amp; n.value.length &lt;= 1);</span>
<a href="#l8.813"></a><span id="l8.813" class="difflineplus">+    }</span>
<a href="#l8.814"></a><span id="l8.814" class="difflineplus">+</span>
<a href="#l8.815"></a><span id="l8.815" class="difflineplus">+    BigInteger.prototype.negate = function () {</span>
<a href="#l8.816"></a><span id="l8.816" class="difflineplus">+        return new BigInteger(this.value, !this.sign);</span>
<a href="#l8.817"></a><span id="l8.817" class="difflineplus">+    };</span>
<a href="#l8.818"></a><span id="l8.818" class="difflineplus">+    BigInteger.prototype.abs = function () {</span>
<a href="#l8.819"></a><span id="l8.819" class="difflineplus">+        return new BigInteger(this.value, sign.positive);</span>
<a href="#l8.820"></a><span id="l8.820" class="difflineplus">+    };</span>
<a href="#l8.821"></a><span id="l8.821" class="difflineplus">+    BigInteger.prototype.add = function (n) {</span>
<a href="#l8.822"></a><span id="l8.822" class="difflineplus">+        if(isSmall(n)) return fastAdd(this, +n);</span>
<a href="#l8.823"></a><span id="l8.823" class="difflineplus">+        n = parseInput(n);</span>
<a href="#l8.824"></a><span id="l8.824" class="difflineplus">+        if (this.sign !== n.sign) {</span>
<a href="#l8.825"></a><span id="l8.825" class="difflineplus">+            if (this.sign === sign.positive) return this.abs().subtract(n.abs());</span>
<a href="#l8.826"></a><span id="l8.826" class="difflineplus">+            return n.abs().subtract(this.abs());</span>
<a href="#l8.827"></a><span id="l8.827" class="difflineplus">+        }</span>
<a href="#l8.828"></a><span id="l8.828" class="difflineplus">+        var a = this.value, b = n.value;</span>
<a href="#l8.829"></a><span id="l8.829" class="difflineplus">+        var result = [],</span>
<a href="#l8.830"></a><span id="l8.830" class="difflineplus">+            carry = 0,</span>
<a href="#l8.831"></a><span id="l8.831" class="difflineplus">+            length = Math.max(a.length, b.length);</span>
<a href="#l8.832"></a><span id="l8.832" class="difflineplus">+        for (var i = 0; i &lt; length || carry &gt; 0; i++) {</span>
<a href="#l8.833"></a><span id="l8.833" class="difflineplus">+            var sum = (a[i] || 0) + (b[i] || 0) + carry;</span>
<a href="#l8.834"></a><span id="l8.834" class="difflineplus">+            carry = sum &gt;= base ? 1 : 0;</span>
<a href="#l8.835"></a><span id="l8.835" class="difflineplus">+            result.push(sum % base);</span>
<a href="#l8.836"></a><span id="l8.836" class="difflineplus">+        }</span>
<a href="#l8.837"></a><span id="l8.837" class="difflineplus">+        return new BigInteger(trim(result), this.sign);</span>
<a href="#l8.838"></a><span id="l8.838" class="difflineplus">+    };</span>
<a href="#l8.839"></a><span id="l8.839" class="difflineplus">+    BigInteger.prototype.plus = function (n) {</span>
<a href="#l8.840"></a><span id="l8.840" class="difflineplus">+        return this.add(n);</span>
<a href="#l8.841"></a><span id="l8.841" class="difflineplus">+    };</span>
<a href="#l8.842"></a><span id="l8.842" class="difflineplus">+    BigInteger.prototype.subtract = function (n) {</span>
<a href="#l8.843"></a><span id="l8.843" class="difflineplus">+        if (isSmall(n)) return fastSubtract(this, +n);</span>
<a href="#l8.844"></a><span id="l8.844" class="difflineplus">+        n = parseInput(n);</span>
<a href="#l8.845"></a><span id="l8.845" class="difflineplus">+        if (this.sign !== n.sign) return this.add(n.negate());</span>
<a href="#l8.846"></a><span id="l8.846" class="difflineplus">+        if (this.sign === sign.negative) return n.negate().subtract(this.negate());</span>
<a href="#l8.847"></a><span id="l8.847" class="difflineplus">+        if (this.compare(n) &lt; 0) return n.subtract(this).negate();</span>
<a href="#l8.848"></a><span id="l8.848" class="difflineplus">+        var a = this.value, b = n.value;</span>
<a href="#l8.849"></a><span id="l8.849" class="difflineplus">+        var result = [],</span>
<a href="#l8.850"></a><span id="l8.850" class="difflineplus">+            borrow = 0,</span>
<a href="#l8.851"></a><span id="l8.851" class="difflineplus">+            length = Math.max(a.length, b.length);</span>
<a href="#l8.852"></a><span id="l8.852" class="difflineplus">+        for (var i = 0; i &lt; length; i++) {</span>
<a href="#l8.853"></a><span id="l8.853" class="difflineplus">+            var ai = a[i] || 0, bi = b[i] || 0;</span>
<a href="#l8.854"></a><span id="l8.854" class="difflineplus">+            var tmp = ai - borrow;</span>
<a href="#l8.855"></a><span id="l8.855" class="difflineplus">+            borrow = tmp &lt; bi ? 1 : 0;</span>
<a href="#l8.856"></a><span id="l8.856" class="difflineplus">+            result.push((borrow * base) + tmp - bi);</span>
<a href="#l8.857"></a><span id="l8.857" class="difflineplus">+        }</span>
<a href="#l8.858"></a><span id="l8.858" class="difflineplus">+        return new BigInteger(trim(result), sign.positive);</span>
<a href="#l8.859"></a><span id="l8.859" class="difflineplus">+    };</span>
<a href="#l8.860"></a><span id="l8.860" class="difflineplus">+    BigInteger.prototype.minus = function (n) {</span>
<a href="#l8.861"></a><span id="l8.861" class="difflineplus">+        return this.subtract(n);</span>
<a href="#l8.862"></a><span id="l8.862" class="difflineplus">+    };</span>
<a href="#l8.863"></a><span id="l8.863" class="difflineplus">+    BigInteger.prototype.multiply = function (n) {</span>
<a href="#l8.864"></a><span id="l8.864" class="difflineplus">+        if (isSmall(n)) return fastMultiply(this, +n);</span>
<a href="#l8.865"></a><span id="l8.865" class="difflineplus">+        n = parseInput(n);</span>
<a href="#l8.866"></a><span id="l8.866" class="difflineplus">+        var sign = this.sign !== n.sign;</span>
<a href="#l8.867"></a><span id="l8.867" class="difflineplus">+</span>
<a href="#l8.868"></a><span id="l8.868" class="difflineplus">+        var a = this.value, b = n.value;</span>
<a href="#l8.869"></a><span id="l8.869" class="difflineplus">+        var length = Math.max(a.length, b.length);</span>
<a href="#l8.870"></a><span id="l8.870" class="difflineplus">+        var resultSum = [];</span>
<a href="#l8.871"></a><span id="l8.871" class="difflineplus">+        for (var i = 0; i &lt; length; i++) {</span>
<a href="#l8.872"></a><span id="l8.872" class="difflineplus">+            resultSum[i] = [];</span>
<a href="#l8.873"></a><span id="l8.873" class="difflineplus">+            var j = i;</span>
<a href="#l8.874"></a><span id="l8.874" class="difflineplus">+            while (j--) {</span>
<a href="#l8.875"></a><span id="l8.875" class="difflineplus">+                resultSum[i].push(0);</span>
<a href="#l8.876"></a><span id="l8.876" class="difflineplus">+            }</span>
<a href="#l8.877"></a><span id="l8.877" class="difflineplus">+        }</span>
<a href="#l8.878"></a><span id="l8.878" class="difflineplus">+        var carry = 0;</span>
<a href="#l8.879"></a><span id="l8.879" class="difflineplus">+        for (var i = 0; i &lt; a.length; i++) {</span>
<a href="#l8.880"></a><span id="l8.880" class="difflineplus">+            var x = a[i];</span>
<a href="#l8.881"></a><span id="l8.881" class="difflineplus">+            for (var j = 0; j &lt; b.length || carry &gt; 0; j++) {</span>
<a href="#l8.882"></a><span id="l8.882" class="difflineplus">+                var y = b[j];</span>
<a href="#l8.883"></a><span id="l8.883" class="difflineplus">+                var product = y ? (x * y) + carry : carry;</span>
<a href="#l8.884"></a><span id="l8.884" class="difflineplus">+                carry = Math.floor(product / base);</span>
<a href="#l8.885"></a><span id="l8.885" class="difflineplus">+                resultSum[i].push(product % base);</span>
<a href="#l8.886"></a><span id="l8.886" class="difflineplus">+            }</span>
<a href="#l8.887"></a><span id="l8.887" class="difflineplus">+        }</span>
<a href="#l8.888"></a><span id="l8.888" class="difflineplus">+        var max = -1;</span>
<a href="#l8.889"></a><span id="l8.889" class="difflineplus">+        for (var i = 0; i &lt; resultSum.length; i++) {</span>
<a href="#l8.890"></a><span id="l8.890" class="difflineplus">+            var len = resultSum[i].length;</span>
<a href="#l8.891"></a><span id="l8.891" class="difflineplus">+            if (len &gt; max) max = len;</span>
<a href="#l8.892"></a><span id="l8.892" class="difflineplus">+        }</span>
<a href="#l8.893"></a><span id="l8.893" class="difflineplus">+        var result = [], carry = 0;</span>
<a href="#l8.894"></a><span id="l8.894" class="difflineplus">+        for (var i = 0; i &lt; max || carry &gt; 0; i++) {</span>
<a href="#l8.895"></a><span id="l8.895" class="difflineplus">+            var sum = carry;</span>
<a href="#l8.896"></a><span id="l8.896" class="difflineplus">+            for (var j = 0; j &lt; resultSum.length; j++) {</span>
<a href="#l8.897"></a><span id="l8.897" class="difflineplus">+                sum += resultSum[j][i] || 0;</span>
<a href="#l8.898"></a><span id="l8.898" class="difflineplus">+            }</span>
<a href="#l8.899"></a><span id="l8.899" class="difflineplus">+            carry = sum &gt; base ? Math.floor(sum / base) : 0;</span>
<a href="#l8.900"></a><span id="l8.900" class="difflineplus">+            sum -= carry * base;</span>
<a href="#l8.901"></a><span id="l8.901" class="difflineplus">+            result.push(sum);</span>
<a href="#l8.902"></a><span id="l8.902" class="difflineplus">+        }</span>
<a href="#l8.903"></a><span id="l8.903" class="difflineplus">+        return new BigInteger(trim(result), sign);</span>
<a href="#l8.904"></a><span id="l8.904" class="difflineplus">+    };</span>
<a href="#l8.905"></a><span id="l8.905" class="difflineplus">+    BigInteger.prototype.times = function (n) {</span>
<a href="#l8.906"></a><span id="l8.906" class="difflineplus">+        return this.multiply(n);</span>
<a href="#l8.907"></a><span id="l8.907" class="difflineplus">+    };</span>
<a href="#l8.908"></a><span id="l8.908" class="difflineplus">+    BigInteger.prototype.divmod = function (n) {</span>
<a href="#l8.909"></a><span id="l8.909" class="difflineplus">+        if (isSmall(n)) return fastDivMod(this, +n);</span>
<a href="#l8.910"></a><span id="l8.910" class="difflineplus">+        n = parseInput(n);</span>
<a href="#l8.911"></a><span id="l8.911" class="difflineplus">+        var quotientSign = this.sign !== n.sign;</span>
<a href="#l8.912"></a><span id="l8.912" class="difflineplus">+        if (this.equals(0)) return {</span>
<a href="#l8.913"></a><span id="l8.913" class="difflineplus">+            quotient: new BigInteger([0], sign.positive),</span>
<a href="#l8.914"></a><span id="l8.914" class="difflineplus">+            remainder: new BigInteger([0], sign.positive)</span>
<a href="#l8.915"></a><span id="l8.915" class="difflineplus">+        };</span>
<a href="#l8.916"></a><span id="l8.916" class="difflineplus">+        if (n.equals(0)) throw new Error(&quot;Cannot divide by zero&quot;);</span>
<a href="#l8.917"></a><span id="l8.917" class="difflineplus">+        var a = this.value, b = n.value;</span>
<a href="#l8.918"></a><span id="l8.918" class="difflineplus">+        var result = [], remainder = [];</span>
<a href="#l8.919"></a><span id="l8.919" class="difflineplus">+        for (var i = a.length - 1; i &gt;= 0; i--) {</span>
<a href="#l8.920"></a><span id="l8.920" class="difflineplus">+            var m = [a[i]].concat(remainder);</span>
<a href="#l8.921"></a><span id="l8.921" class="difflineplus">+            var quotient = goesInto(b, m);</span>
<a href="#l8.922"></a><span id="l8.922" class="difflineplus">+            result.push(quotient.result);</span>
<a href="#l8.923"></a><span id="l8.923" class="difflineplus">+            remainder = quotient.remainder;</span>
<a href="#l8.924"></a><span id="l8.924" class="difflineplus">+        }</span>
<a href="#l8.925"></a><span id="l8.925" class="difflineplus">+        result.reverse();</span>
<a href="#l8.926"></a><span id="l8.926" class="difflineplus">+        return {</span>
<a href="#l8.927"></a><span id="l8.927" class="difflineplus">+            quotient: new BigInteger(trim(result), quotientSign),</span>
<a href="#l8.928"></a><span id="l8.928" class="difflineplus">+            remainder: new BigInteger(trim(remainder), this.sign)</span>
<a href="#l8.929"></a><span id="l8.929" class="difflineplus">+        };</span>
<a href="#l8.930"></a><span id="l8.930" class="difflineplus">+    };</span>
<a href="#l8.931"></a><span id="l8.931" class="difflineplus">+    BigInteger.prototype.divide = function (n) {</span>
<a href="#l8.932"></a><span id="l8.932" class="difflineplus">+        return this.divmod(n).quotient;</span>
<a href="#l8.933"></a><span id="l8.933" class="difflineplus">+    };</span>
<a href="#l8.934"></a><span id="l8.934" class="difflineplus">+    BigInteger.prototype.over = function (n) {</span>
<a href="#l8.935"></a><span id="l8.935" class="difflineplus">+        return this.divide(n);</span>
<a href="#l8.936"></a><span id="l8.936" class="difflineplus">+    };</span>
<a href="#l8.937"></a><span id="l8.937" class="difflineplus">+    BigInteger.prototype.mod = function (n) {</span>
<a href="#l8.938"></a><span id="l8.938" class="difflineplus">+        return this.divmod(n).remainder;</span>
<a href="#l8.939"></a><span id="l8.939" class="difflineplus">+    };</span>
<a href="#l8.940"></a><span id="l8.940" class="difflineplus">+    BigInteger.prototype.remainder = function (n) {</span>
<a href="#l8.941"></a><span id="l8.941" class="difflineplus">+        return this.mod(n);</span>
<a href="#l8.942"></a><span id="l8.942" class="difflineplus">+    };</span>
<a href="#l8.943"></a><span id="l8.943" class="difflineplus">+    BigInteger.prototype.pow = function (n) {</span>
<a href="#l8.944"></a><span id="l8.944" class="difflineplus">+        n = parseInput(n);</span>
<a href="#l8.945"></a><span id="l8.945" class="difflineplus">+        var a = this, b = n, r = ONE;</span>
<a href="#l8.946"></a><span id="l8.946" class="difflineplus">+        if (b.equals(ZERO)) return r;</span>
<a href="#l8.947"></a><span id="l8.947" class="difflineplus">+        if (a.equals(ZERO) || b.lesser(ZERO)) return ZERO;</span>
<a href="#l8.948"></a><span id="l8.948" class="difflineplus">+        while (true) {</span>
<a href="#l8.949"></a><span id="l8.949" class="difflineplus">+            if (b.isOdd()) {</span>
<a href="#l8.950"></a><span id="l8.950" class="difflineplus">+                r = r.times(a);</span>
<a href="#l8.951"></a><span id="l8.951" class="difflineplus">+            }</span>
<a href="#l8.952"></a><span id="l8.952" class="difflineplus">+            b = b.divide(2);</span>
<a href="#l8.953"></a><span id="l8.953" class="difflineplus">+            if (b.equals(ZERO)) break;</span>
<a href="#l8.954"></a><span id="l8.954" class="difflineplus">+            a = a.times(a);</span>
<a href="#l8.955"></a><span id="l8.955" class="difflineplus">+        }</span>
<a href="#l8.956"></a><span id="l8.956" class="difflineplus">+        return r;</span>
<a href="#l8.957"></a><span id="l8.957" class="difflineplus">+    };</span>
<a href="#l8.958"></a><span id="l8.958" class="difflineplus">+    BigInteger.prototype.modPow = function (exp, mod) {</span>
<a href="#l8.959"></a><span id="l8.959" class="difflineplus">+        exp = parseInput(exp);</span>
<a href="#l8.960"></a><span id="l8.960" class="difflineplus">+        mod = parseInput(mod);</span>
<a href="#l8.961"></a><span id="l8.961" class="difflineplus">+        if (mod.equals(ZERO)) throw new Error(&quot;Cannot take modPow with modulus 0&quot;);</span>
<a href="#l8.962"></a><span id="l8.962" class="difflineplus">+        var r = ONE,</span>
<a href="#l8.963"></a><span id="l8.963" class="difflineplus">+            base = this.mod(mod);</span>
<a href="#l8.964"></a><span id="l8.964" class="difflineplus">+        if (base.equals(ZERO)) return ZERO;</span>
<a href="#l8.965"></a><span id="l8.965" class="difflineplus">+        while (exp.greater(0)) {</span>
<a href="#l8.966"></a><span id="l8.966" class="difflineplus">+            if (exp.isOdd()) r = r.multiply(base).mod(mod);</span>
<a href="#l8.967"></a><span id="l8.967" class="difflineplus">+            exp = exp.divide(2);</span>
<a href="#l8.968"></a><span id="l8.968" class="difflineplus">+            base = base.square().mod(mod);</span>
<a href="#l8.969"></a><span id="l8.969" class="difflineplus">+        }</span>
<a href="#l8.970"></a><span id="l8.970" class="difflineplus">+        return r;</span>
<a href="#l8.971"></a><span id="l8.971" class="difflineplus">+    };</span>
<a href="#l8.972"></a><span id="l8.972" class="difflineplus">+    BigInteger.prototype.square = function () {</span>
<a href="#l8.973"></a><span id="l8.973" class="difflineplus">+        return this.multiply(this);</span>
<a href="#l8.974"></a><span id="l8.974" class="difflineplus">+    };</span>
<a href="#l8.975"></a><span id="l8.975" class="difflineplus">+    function gcd(a, b) {</span>
<a href="#l8.976"></a><span id="l8.976" class="difflineplus">+        a = parseInput(a).abs();</span>
<a href="#l8.977"></a><span id="l8.977" class="difflineplus">+        b = parseInput(b).abs();</span>
<a href="#l8.978"></a><span id="l8.978" class="difflineplus">+        if (a.equals(b)) return a;</span>
<a href="#l8.979"></a><span id="l8.979" class="difflineplus">+        if (a.equals(ZERO)) return b;</span>
<a href="#l8.980"></a><span id="l8.980" class="difflineplus">+        if (b.equals(ZERO)) return a;</span>
<a href="#l8.981"></a><span id="l8.981" class="difflineplus">+        if (a.isEven()) {</span>
<a href="#l8.982"></a><span id="l8.982" class="difflineplus">+            if (b.isOdd()) {</span>
<a href="#l8.983"></a><span id="l8.983" class="difflineplus">+                return gcd(a.divide(2), b);</span>
<a href="#l8.984"></a><span id="l8.984" class="difflineplus">+            }</span>
<a href="#l8.985"></a><span id="l8.985" class="difflineplus">+            return gcd(a.divide(2), b.divide(2)).multiply(2);</span>
<a href="#l8.986"></a><span id="l8.986" class="difflineplus">+        }</span>
<a href="#l8.987"></a><span id="l8.987" class="difflineplus">+        if (b.isEven()) {</span>
<a href="#l8.988"></a><span id="l8.988" class="difflineplus">+            return gcd(a, b.divide(2));</span>
<a href="#l8.989"></a><span id="l8.989" class="difflineplus">+        }</span>
<a href="#l8.990"></a><span id="l8.990" class="difflineplus">+        if (a.greater(b)) {</span>
<a href="#l8.991"></a><span id="l8.991" class="difflineplus">+            return gcd(a.subtract(b).divide(2), b);</span>
<a href="#l8.992"></a><span id="l8.992" class="difflineplus">+        }</span>
<a href="#l8.993"></a><span id="l8.993" class="difflineplus">+        return gcd(b.subtract(a).divide(2), a);</span>
<a href="#l8.994"></a><span id="l8.994" class="difflineplus">+    }</span>
<a href="#l8.995"></a><span id="l8.995" class="difflineplus">+    function lcm(a, b) {</span>
<a href="#l8.996"></a><span id="l8.996" class="difflineplus">+        a = parseInput(a).abs();</span>
<a href="#l8.997"></a><span id="l8.997" class="difflineplus">+        b = parseInput(b).abs();</span>
<a href="#l8.998"></a><span id="l8.998" class="difflineplus">+        return a.multiply(b).divide(gcd(a, b));</span>
<a href="#l8.999"></a><span id="l8.999" class="difflineplus">+    }</span>
<a href="#l8.1000"></a><span id="l8.1000" class="difflineplus">+    BigInteger.prototype.next = function () {</span>
<a href="#l8.1001"></a><span id="l8.1001" class="difflineplus">+        return fastAdd(this, 1);</span>
<a href="#l8.1002"></a><span id="l8.1002" class="difflineplus">+    };</span>
<a href="#l8.1003"></a><span id="l8.1003" class="difflineplus">+    BigInteger.prototype.prev = function () {</span>
<a href="#l8.1004"></a><span id="l8.1004" class="difflineplus">+        return fastSubtract(this, 1);</span>
<a href="#l8.1005"></a><span id="l8.1005" class="difflineplus">+    };</span>
<a href="#l8.1006"></a><span id="l8.1006" class="difflineplus">+    BigInteger.prototype.compare = function (n) {</span>
<a href="#l8.1007"></a><span id="l8.1007" class="difflineplus">+        var first = this, second = parseInput(n);</span>
<a href="#l8.1008"></a><span id="l8.1008" class="difflineplus">+        if (first.value.length === 1 &amp;&amp; second.value.length === 1 &amp;&amp; first.value[0] === 0 &amp;&amp; second.value[0] === 0) return 0;</span>
<a href="#l8.1009"></a><span id="l8.1009" class="difflineplus">+        if (second.sign !== first.sign) return first.sign === sign.positive ? 1 : -1;</span>
<a href="#l8.1010"></a><span id="l8.1010" class="difflineplus">+        var multiplier = first.sign === sign.positive ? 1 : -1;</span>
<a href="#l8.1011"></a><span id="l8.1011" class="difflineplus">+        var a = first.value, b = second.value,</span>
<a href="#l8.1012"></a><span id="l8.1012" class="difflineplus">+            length = Math.max(a.length, b.length) - 1;</span>
<a href="#l8.1013"></a><span id="l8.1013" class="difflineplus">+        for (var i = length; i &gt;= 0; i--) {</span>
<a href="#l8.1014"></a><span id="l8.1014" class="difflineplus">+            var ai = (a[i] || 0), bi = (b[i] || 0);</span>
<a href="#l8.1015"></a><span id="l8.1015" class="difflineplus">+            if (ai &gt; bi) return 1 * multiplier;</span>
<a href="#l8.1016"></a><span id="l8.1016" class="difflineplus">+            if (bi &gt; ai) return -1 * multiplier;</span>
<a href="#l8.1017"></a><span id="l8.1017" class="difflineplus">+        }</span>
<a href="#l8.1018"></a><span id="l8.1018" class="difflineplus">+        return 0;</span>
<a href="#l8.1019"></a><span id="l8.1019" class="difflineplus">+    };</span>
<a href="#l8.1020"></a><span id="l8.1020" class="difflineplus">+    BigInteger.prototype.compareTo = function (n) {</span>
<a href="#l8.1021"></a><span id="l8.1021" class="difflineplus">+        return this.compare(n);</span>
<a href="#l8.1022"></a><span id="l8.1022" class="difflineplus">+    };</span>
<a href="#l8.1023"></a><span id="l8.1023" class="difflineplus">+    BigInteger.prototype.compareAbs = function (n) {</span>
<a href="#l8.1024"></a><span id="l8.1024" class="difflineplus">+        return this.abs().compare(n.abs());</span>
<a href="#l8.1025"></a><span id="l8.1025" class="difflineplus">+    };</span>
<a href="#l8.1026"></a><span id="l8.1026" class="difflineplus">+    BigInteger.prototype.equals = function (n) {</span>
<a href="#l8.1027"></a><span id="l8.1027" class="difflineplus">+        return this.compare(n) === 0;</span>
<a href="#l8.1028"></a><span id="l8.1028" class="difflineplus">+    };</span>
<a href="#l8.1029"></a><span id="l8.1029" class="difflineplus">+    BigInteger.prototype.notEquals = function (n) {</span>
<a href="#l8.1030"></a><span id="l8.1030" class="difflineplus">+        return !this.equals(n);</span>
<a href="#l8.1031"></a><span id="l8.1031" class="difflineplus">+    };</span>
<a href="#l8.1032"></a><span id="l8.1032" class="difflineplus">+    BigInteger.prototype.lesser = function (n) {</span>
<a href="#l8.1033"></a><span id="l8.1033" class="difflineplus">+        return this.compare(n) &lt; 0;</span>
<a href="#l8.1034"></a><span id="l8.1034" class="difflineplus">+    };</span>
<a href="#l8.1035"></a><span id="l8.1035" class="difflineplus">+    BigInteger.prototype.greater = function (n) {</span>
<a href="#l8.1036"></a><span id="l8.1036" class="difflineplus">+        return this.compare(n) &gt; 0;</span>
<a href="#l8.1037"></a><span id="l8.1037" class="difflineplus">+    };</span>
<a href="#l8.1038"></a><span id="l8.1038" class="difflineplus">+    BigInteger.prototype.greaterOrEquals = function (n) {</span>
<a href="#l8.1039"></a><span id="l8.1039" class="difflineplus">+        return this.compare(n) &gt;= 0;</span>
<a href="#l8.1040"></a><span id="l8.1040" class="difflineplus">+    };</span>
<a href="#l8.1041"></a><span id="l8.1041" class="difflineplus">+    BigInteger.prototype.lesserOrEquals = function (n) {</span>
<a href="#l8.1042"></a><span id="l8.1042" class="difflineplus">+        return this.compare(n) &lt;= 0;</span>
<a href="#l8.1043"></a><span id="l8.1043" class="difflineplus">+    };</span>
<a href="#l8.1044"></a><span id="l8.1044" class="difflineplus">+</span>
<a href="#l8.1045"></a><span id="l8.1045" class="difflineplus">+    BigInteger.prototype.lt = BigInteger.prototype.lesser;</span>
<a href="#l8.1046"></a><span id="l8.1046" class="difflineplus">+    BigInteger.prototype.leq = BigInteger.prototype.lesserOrEquals;</span>
<a href="#l8.1047"></a><span id="l8.1047" class="difflineplus">+    BigInteger.prototype.gt = BigInteger.prototype.greater;</span>
<a href="#l8.1048"></a><span id="l8.1048" class="difflineplus">+    BigInteger.prototype.geq = BigInteger.prototype.greaterOrEquals;</span>
<a href="#l8.1049"></a><span id="l8.1049" class="difflineplus">+    BigInteger.prototype.eq = BigInteger.prototype.equals;</span>
<a href="#l8.1050"></a><span id="l8.1050" class="difflineplus">+    BigInteger.prototype.neq = BigInteger.prototype.notEquals;</span>
<a href="#l8.1051"></a><span id="l8.1051" class="difflineplus">+</span>
<a href="#l8.1052"></a><span id="l8.1052" class="difflineplus">+    function max (a, b) {</span>
<a href="#l8.1053"></a><span id="l8.1053" class="difflineplus">+        a = parseInput(a);</span>
<a href="#l8.1054"></a><span id="l8.1054" class="difflineplus">+        b = parseInput(b);</span>
<a href="#l8.1055"></a><span id="l8.1055" class="difflineplus">+        return a.greater(b) ? a : b;</span>
<a href="#l8.1056"></a><span id="l8.1056" class="difflineplus">+    }</span>
<a href="#l8.1057"></a><span id="l8.1057" class="difflineplus">+    function min (a, b) {</span>
<a href="#l8.1058"></a><span id="l8.1058" class="difflineplus">+        a = parseInput(a);</span>
<a href="#l8.1059"></a><span id="l8.1059" class="difflineplus">+        b = parseInput(b);</span>
<a href="#l8.1060"></a><span id="l8.1060" class="difflineplus">+        return a.lesser(b) ? a : b;</span>
<a href="#l8.1061"></a><span id="l8.1061" class="difflineplus">+    }</span>
<a href="#l8.1062"></a><span id="l8.1062" class="difflineplus">+    BigInteger.prototype.isPositive = function () {</span>
<a href="#l8.1063"></a><span id="l8.1063" class="difflineplus">+        return this.sign === sign.positive;</span>
<a href="#l8.1064"></a><span id="l8.1064" class="difflineplus">+    };</span>
<a href="#l8.1065"></a><span id="l8.1065" class="difflineplus">+    BigInteger.prototype.isNegative = function () {</span>
<a href="#l8.1066"></a><span id="l8.1066" class="difflineplus">+        return this.sign === sign.negative;</span>
<a href="#l8.1067"></a><span id="l8.1067" class="difflineplus">+    };</span>
<a href="#l8.1068"></a><span id="l8.1068" class="difflineplus">+    BigInteger.prototype.isEven = function () {</span>
<a href="#l8.1069"></a><span id="l8.1069" class="difflineplus">+        return this.value[0] % 2 === 0;</span>
<a href="#l8.1070"></a><span id="l8.1070" class="difflineplus">+    };</span>
<a href="#l8.1071"></a><span id="l8.1071" class="difflineplus">+    BigInteger.prototype.isOdd = function () {</span>
<a href="#l8.1072"></a><span id="l8.1072" class="difflineplus">+        return this.value[0] % 2 === 1;</span>
<a href="#l8.1073"></a><span id="l8.1073" class="difflineplus">+    };</span>
<a href="#l8.1074"></a><span id="l8.1074" class="difflineplus">+    BigInteger.prototype.isUnit = function () {</span>
<a href="#l8.1075"></a><span id="l8.1075" class="difflineplus">+        return this.value.length === 1 &amp;&amp; this.value[0] === 1;</span>
<a href="#l8.1076"></a><span id="l8.1076" class="difflineplus">+    };</span>
<a href="#l8.1077"></a><span id="l8.1077" class="difflineplus">+    BigInteger.prototype.isDivisibleBy = function (n) {</span>
<a href="#l8.1078"></a><span id="l8.1078" class="difflineplus">+        return this.mod(n).equals(ZERO);</span>
<a href="#l8.1079"></a><span id="l8.1079" class="difflineplus">+    };</span>
<a href="#l8.1080"></a><span id="l8.1080" class="difflineplus">+    BigInteger.prototype.isPrime = function () {</span>
<a href="#l8.1081"></a><span id="l8.1081" class="difflineplus">+        var n = this.abs(),</span>
<a href="#l8.1082"></a><span id="l8.1082" class="difflineplus">+            nPrev = n.prev();</span>
<a href="#l8.1083"></a><span id="l8.1083" class="difflineplus">+        if (n.isUnit()) return false;</span>
<a href="#l8.1084"></a><span id="l8.1084" class="difflineplus">+        if (n.equals(2) || n.equals(3) || n.equals(5)) return true;</span>
<a href="#l8.1085"></a><span id="l8.1085" class="difflineplus">+        if (n.isEven() || n.isDivisibleBy(3) || n.isDivisibleBy(5)) return false;</span>
<a href="#l8.1086"></a><span id="l8.1086" class="difflineplus">+        if (n.lesser(25)) return true;</span>
<a href="#l8.1087"></a><span id="l8.1087" class="difflineplus">+        var a = [2, 3, 5, 7, 11, 13, 17, 19],</span>
<a href="#l8.1088"></a><span id="l8.1088" class="difflineplus">+            b = nPrev,</span>
<a href="#l8.1089"></a><span id="l8.1089" class="difflineplus">+            d, t, i, x;</span>
<a href="#l8.1090"></a><span id="l8.1090" class="difflineplus">+        while (b.isEven()) b = b.divide(2);</span>
<a href="#l8.1091"></a><span id="l8.1091" class="difflineplus">+        for (i = 0; i &lt; a.length; i++) {</span>
<a href="#l8.1092"></a><span id="l8.1092" class="difflineplus">+            x = bigInt(a[i]).modPow(b, n);</span>
<a href="#l8.1093"></a><span id="l8.1093" class="difflineplus">+            if (x.equals(ONE) || x.equals(nPrev)) continue;</span>
<a href="#l8.1094"></a><span id="l8.1094" class="difflineplus">+            for (t = true, d = b; t &amp;&amp; d.lesser(nPrev); d = d.multiply(2)) {</span>
<a href="#l8.1095"></a><span id="l8.1095" class="difflineplus">+                x = x.square().mod(n);</span>
<a href="#l8.1096"></a><span id="l8.1096" class="difflineplus">+                if (x.equals(nPrev)) t = false;</span>
<a href="#l8.1097"></a><span id="l8.1097" class="difflineplus">+            }</span>
<a href="#l8.1098"></a><span id="l8.1098" class="difflineplus">+            if (t) return false;</span>
<a href="#l8.1099"></a><span id="l8.1099" class="difflineplus">+        }</span>
<a href="#l8.1100"></a><span id="l8.1100" class="difflineplus">+        return true;</span>
<a href="#l8.1101"></a><span id="l8.1101" class="difflineplus">+    };</span>
<a href="#l8.1102"></a><span id="l8.1102" class="difflineplus">+    function randBetween (a, b) {</span>
<a href="#l8.1103"></a><span id="l8.1103" class="difflineplus">+        a = parseInput(a);</span>
<a href="#l8.1104"></a><span id="l8.1104" class="difflineplus">+        b = parseInput(b);</span>
<a href="#l8.1105"></a><span id="l8.1105" class="difflineplus">+        var low = min(a, b), high = max(a, b);</span>
<a href="#l8.1106"></a><span id="l8.1106" class="difflineplus">+        var range = high.subtract(low);</span>
<a href="#l8.1107"></a><span id="l8.1107" class="difflineplus">+        var length = range.value.length - 1;</span>
<a href="#l8.1108"></a><span id="l8.1108" class="difflineplus">+        var result = [], restricted = true;</span>
<a href="#l8.1109"></a><span id="l8.1109" class="difflineplus">+        for (var i = length; i &gt;= 0; i--) {</span>
<a href="#l8.1110"></a><span id="l8.1110" class="difflineplus">+            var top = restricted ? range.value[i] : base;</span>
<a href="#l8.1111"></a><span id="l8.1111" class="difflineplus">+            var digit = Math.floor(Math.random() * top);</span>
<a href="#l8.1112"></a><span id="l8.1112" class="difflineplus">+            result.unshift(digit);</span>
<a href="#l8.1113"></a><span id="l8.1113" class="difflineplus">+            if (digit &lt; top) restricted = false;</span>
<a href="#l8.1114"></a><span id="l8.1114" class="difflineplus">+        }</span>
<a href="#l8.1115"></a><span id="l8.1115" class="difflineplus">+        return low.add(new BigInteger(result, false));</span>
<a href="#l8.1116"></a><span id="l8.1116" class="difflineplus">+    }</span>
<a href="#l8.1117"></a><span id="l8.1117" class="difflineplus">+</span>
<a href="#l8.1118"></a><span id="l8.1118" class="difflineplus">+    var powersOfTwo = [1];</span>
<a href="#l8.1119"></a><span id="l8.1119" class="difflineplus">+    while (powersOfTwo[powersOfTwo.length - 1] &lt;= base) powersOfTwo.push(2 * powersOfTwo[powersOfTwo.length - 1]);</span>
<a href="#l8.1120"></a><span id="l8.1120" class="difflineplus">+    var powers2Length = powersOfTwo.length, highestPower2 = powersOfTwo[powers2Length - 1];</span>
<a href="#l8.1121"></a><span id="l8.1121" class="difflineplus">+</span>
<a href="#l8.1122"></a><span id="l8.1122" class="difflineplus">+    BigInteger.prototype.shiftLeft = function (n) {</span>
<a href="#l8.1123"></a><span id="l8.1123" class="difflineplus">+        if (!isSmall(n)) {</span>
<a href="#l8.1124"></a><span id="l8.1124" class="difflineplus">+            if (n.isNegative()) return this.shiftRight(n.abs());</span>
<a href="#l8.1125"></a><span id="l8.1125" class="difflineplus">+            return this.times(bigInt(2).pow(n));</span>
<a href="#l8.1126"></a><span id="l8.1126" class="difflineplus">+        }</span>
<a href="#l8.1127"></a><span id="l8.1127" class="difflineplus">+        n = +n;</span>
<a href="#l8.1128"></a><span id="l8.1128" class="difflineplus">+        if (n &lt; 0) return this.shiftRight(-n);</span>
<a href="#l8.1129"></a><span id="l8.1129" class="difflineplus">+        var result = this;</span>
<a href="#l8.1130"></a><span id="l8.1130" class="difflineplus">+        while (n &gt;= powers2Length) {</span>
<a href="#l8.1131"></a><span id="l8.1131" class="difflineplus">+            result = fastMultiply(result, highestPower2);</span>
<a href="#l8.1132"></a><span id="l8.1132" class="difflineplus">+            n -= powers2Length - 1;</span>
<a href="#l8.1133"></a><span id="l8.1133" class="difflineplus">+        }</span>
<a href="#l8.1134"></a><span id="l8.1134" class="difflineplus">+        return fastMultiply(result, powersOfTwo[n]);</span>
<a href="#l8.1135"></a><span id="l8.1135" class="difflineplus">+    };</span>
<a href="#l8.1136"></a><span id="l8.1136" class="difflineplus">+</span>
<a href="#l8.1137"></a><span id="l8.1137" class="difflineplus">+    BigInteger.prototype.shiftRight = function (n) {</span>
<a href="#l8.1138"></a><span id="l8.1138" class="difflineplus">+        if (!isSmall(n)) {</span>
<a href="#l8.1139"></a><span id="l8.1139" class="difflineplus">+            if (n.isNegative()) return this.shiftLeft(n.abs());</span>
<a href="#l8.1140"></a><span id="l8.1140" class="difflineplus">+            return this.over(bigInt(2).pow(n));</span>
<a href="#l8.1141"></a><span id="l8.1141" class="difflineplus">+        }</span>
<a href="#l8.1142"></a><span id="l8.1142" class="difflineplus">+        n = +n;</span>
<a href="#l8.1143"></a><span id="l8.1143" class="difflineplus">+        if (n &lt; 0) return this.shiftLeft(-n);</span>
<a href="#l8.1144"></a><span id="l8.1144" class="difflineplus">+        var result = this;</span>
<a href="#l8.1145"></a><span id="l8.1145" class="difflineplus">+        while (n &gt;= powers2Length) {</span>
<a href="#l8.1146"></a><span id="l8.1146" class="difflineplus">+            if (result.equals(ZERO)) return result;</span>
<a href="#l8.1147"></a><span id="l8.1147" class="difflineplus">+            result = fastDivMod(result, highestPower2).quotient;</span>
<a href="#l8.1148"></a><span id="l8.1148" class="difflineplus">+            n -= powers2Length - 1;</span>
<a href="#l8.1149"></a><span id="l8.1149" class="difflineplus">+        }</span>
<a href="#l8.1150"></a><span id="l8.1150" class="difflineplus">+        return fastDivMod(result, powersOfTwo[n]).quotient;</span>
<a href="#l8.1151"></a><span id="l8.1151" class="difflineplus">+    };</span>
<a href="#l8.1152"></a><span id="l8.1152" class="difflineplus">+</span>
<a href="#l8.1153"></a><span id="l8.1153" class="difflineplus">+    // Reference: http://en.wikipedia.org/wiki/Bitwise_operation#Mathematical_equivalents</span>
<a href="#l8.1154"></a><span id="l8.1154" class="difflineplus">+    function bitwise(x, y, fn) {</span>
<a href="#l8.1155"></a><span id="l8.1155" class="difflineplus">+        var sum = ZERO;</span>
<a href="#l8.1156"></a><span id="l8.1156" class="difflineplus">+        var limit = max(x.abs(), y.abs());</span>
<a href="#l8.1157"></a><span id="l8.1157" class="difflineplus">+        var n = 0, _2n = ONE;</span>
<a href="#l8.1158"></a><span id="l8.1158" class="difflineplus">+        while (_2n.lesserOrEquals(limit)) {</span>
<a href="#l8.1159"></a><span id="l8.1159" class="difflineplus">+            var xMod, yMod;</span>
<a href="#l8.1160"></a><span id="l8.1160" class="difflineplus">+            xMod = x.over(_2n).isEven() ? 0 : 1;</span>
<a href="#l8.1161"></a><span id="l8.1161" class="difflineplus">+            yMod = y.over(_2n).isEven() ? 0 : 1;</span>
<a href="#l8.1162"></a><span id="l8.1162" class="difflineplus">+</span>
<a href="#l8.1163"></a><span id="l8.1163" class="difflineplus">+            sum = sum.add(_2n.times(fn(xMod, yMod)));</span>
<a href="#l8.1164"></a><span id="l8.1164" class="difflineplus">+</span>
<a href="#l8.1165"></a><span id="l8.1165" class="difflineplus">+            _2n = fastMultiply(_2n, 2);</span>
<a href="#l8.1166"></a><span id="l8.1166" class="difflineplus">+        }</span>
<a href="#l8.1167"></a><span id="l8.1167" class="difflineplus">+        return sum;</span>
<a href="#l8.1168"></a><span id="l8.1168" class="difflineplus">+    }</span>
<a href="#l8.1169"></a><span id="l8.1169" class="difflineplus">+</span>
<a href="#l8.1170"></a><span id="l8.1170" class="difflineplus">+    BigInteger.prototype.not = function () {</span>
<a href="#l8.1171"></a><span id="l8.1171" class="difflineplus">+        var body = bitwise(this, this, function (xMod) { return (xMod + 1) % 2; });</span>
<a href="#l8.1172"></a><span id="l8.1172" class="difflineplus">+        return !this.sign ? body.negate() : body;</span>
<a href="#l8.1173"></a><span id="l8.1173" class="difflineplus">+    };</span>
<a href="#l8.1174"></a><span id="l8.1174" class="difflineplus">+</span>
<a href="#l8.1175"></a><span id="l8.1175" class="difflineplus">+    BigInteger.prototype.and = function (n) {</span>
<a href="#l8.1176"></a><span id="l8.1176" class="difflineplus">+        n = parseInput(n);</span>
<a href="#l8.1177"></a><span id="l8.1177" class="difflineplus">+        var body = bitwise(this, n, function (xMod, yMod) { return xMod * yMod; });</span>
<a href="#l8.1178"></a><span id="l8.1178" class="difflineplus">+        return this.sign &amp;&amp; n.sign ? body.negate() : body;</span>
<a href="#l8.1179"></a><span id="l8.1179" class="difflineplus">+    };</span>
<a href="#l8.1180"></a><span id="l8.1180" class="difflineplus">+</span>
<a href="#l8.1181"></a><span id="l8.1181" class="difflineplus">+    BigInteger.prototype.or = function (n) {</span>
<a href="#l8.1182"></a><span id="l8.1182" class="difflineplus">+        n = parseInput(n);</span>
<a href="#l8.1183"></a><span id="l8.1183" class="difflineplus">+        var body = bitwise(this, n, function (xMod, yMod) { return (xMod + yMod + xMod * yMod) % 2 });</span>
<a href="#l8.1184"></a><span id="l8.1184" class="difflineplus">+        return this.sign || n.sign ? body.negate() : body;</span>
<a href="#l8.1185"></a><span id="l8.1185" class="difflineplus">+    };</span>
<a href="#l8.1186"></a><span id="l8.1186" class="difflineplus">+</span>
<a href="#l8.1187"></a><span id="l8.1187" class="difflineplus">+    BigInteger.prototype.xor = function (n) {</span>
<a href="#l8.1188"></a><span id="l8.1188" class="difflineplus">+        n = parseInput(n);</span>
<a href="#l8.1189"></a><span id="l8.1189" class="difflineplus">+        var body = bitwise(this, n, function (xMod, yMod) { return (xMod + yMod) % 2; });</span>
<a href="#l8.1190"></a><span id="l8.1190" class="difflineplus">+        return this.sign ^ n.sign ? body.negate() : body;</span>
<a href="#l8.1191"></a><span id="l8.1191" class="difflineplus">+    };</span>
<a href="#l8.1192"></a><span id="l8.1192" class="difflineplus">+</span>
<a href="#l8.1193"></a><span id="l8.1193" class="difflineplus">+    BigInteger.prototype.toString = function (radix) {</span>
<a href="#l8.1194"></a><span id="l8.1194" class="difflineplus">+        if (radix === undefined) {</span>
<a href="#l8.1195"></a><span id="l8.1195" class="difflineplus">+            radix = 10;</span>
<a href="#l8.1196"></a><span id="l8.1196" class="difflineplus">+        }</span>
<a href="#l8.1197"></a><span id="l8.1197" class="difflineplus">+        if (radix !== 10) return toBase(this, radix);</span>
<a href="#l8.1198"></a><span id="l8.1198" class="difflineplus">+        var first = this;</span>
<a href="#l8.1199"></a><span id="l8.1199" class="difflineplus">+        var str = &quot;&quot;, len = first.value.length;</span>
<a href="#l8.1200"></a><span id="l8.1200" class="difflineplus">+        if (len === 0) {</span>
<a href="#l8.1201"></a><span id="l8.1201" class="difflineplus">+            return &quot;0&quot;;</span>
<a href="#l8.1202"></a><span id="l8.1202" class="difflineplus">+        }</span>
<a href="#l8.1203"></a><span id="l8.1203" class="difflineplus">+        while (len--) {</span>
<a href="#l8.1204"></a><span id="l8.1204" class="difflineplus">+            if (first.value[len].toString().length === 8) str += first.value[len];</span>
<a href="#l8.1205"></a><span id="l8.1205" class="difflineplus">+            else str += (base.toString() + first.value[len]).slice(-logBase);</span>
<a href="#l8.1206"></a><span id="l8.1206" class="difflineplus">+        }</span>
<a href="#l8.1207"></a><span id="l8.1207" class="difflineplus">+        while (str[0] === &quot;0&quot;) {</span>
<a href="#l8.1208"></a><span id="l8.1208" class="difflineplus">+            str = str.slice(1);</span>
<a href="#l8.1209"></a><span id="l8.1209" class="difflineplus">+        }</span>
<a href="#l8.1210"></a><span id="l8.1210" class="difflineplus">+        if (!str.length) str = &quot;0&quot;;</span>
<a href="#l8.1211"></a><span id="l8.1211" class="difflineplus">+        if (str === &quot;0&quot;) return str;</span>
<a href="#l8.1212"></a><span id="l8.1212" class="difflineplus">+        var s = first.sign === sign.positive ? &quot;&quot; : &quot;-&quot;;</span>
<a href="#l8.1213"></a><span id="l8.1213" class="difflineplus">+        return s + str;</span>
<a href="#l8.1214"></a><span id="l8.1214" class="difflineplus">+    };</span>
<a href="#l8.1215"></a><span id="l8.1215" class="difflineplus">+    BigInteger.prototype.toJSNumber = function () {</span>
<a href="#l8.1216"></a><span id="l8.1216" class="difflineplus">+        return this.valueOf();</span>
<a href="#l8.1217"></a><span id="l8.1217" class="difflineplus">+    };</span>
<a href="#l8.1218"></a><span id="l8.1218" class="difflineplus">+    BigInteger.prototype.valueOf = function () {</span>
<a href="#l8.1219"></a><span id="l8.1219" class="difflineplus">+        if (this.value.length === 1) return this.sign ? -this.value[0] : this.value[0];</span>
<a href="#l8.1220"></a><span id="l8.1220" class="difflineplus">+        return +this.toString();</span>
<a href="#l8.1221"></a><span id="l8.1221" class="difflineplus">+    };</span>
<a href="#l8.1222"></a><span id="l8.1222" class="difflineplus">+</span>
<a href="#l8.1223"></a><span id="l8.1223" class="difflineplus">+    var goesInto = function (a, b) {</span>
<a href="#l8.1224"></a><span id="l8.1224" class="difflineplus">+        var a = new BigInteger(a, sign.positive), b = new BigInteger(b, sign.positive);</span>
<a href="#l8.1225"></a><span id="l8.1225" class="difflineplus">+        if (a.equals(0)) throw new Error(&quot;Cannot divide by 0&quot;);</span>
<a href="#l8.1226"></a><span id="l8.1226" class="difflineplus">+        var n = 0;</span>
<a href="#l8.1227"></a><span id="l8.1227" class="difflineplus">+        do {</span>
<a href="#l8.1228"></a><span id="l8.1228" class="difflineplus">+            var inc = 1;</span>
<a href="#l8.1229"></a><span id="l8.1229" class="difflineplus">+            var c = a, t = c.times(10);</span>
<a href="#l8.1230"></a><span id="l8.1230" class="difflineplus">+            while (t.lesser(b)) {</span>
<a href="#l8.1231"></a><span id="l8.1231" class="difflineplus">+                c = t;</span>
<a href="#l8.1232"></a><span id="l8.1232" class="difflineplus">+                inc *= 10;</span>
<a href="#l8.1233"></a><span id="l8.1233" class="difflineplus">+                t = t.times(10);</span>
<a href="#l8.1234"></a><span id="l8.1234" class="difflineplus">+            }</span>
<a href="#l8.1235"></a><span id="l8.1235" class="difflineplus">+            while (c.lesserOrEquals(b)) {</span>
<a href="#l8.1236"></a><span id="l8.1236" class="difflineplus">+                b = b.minus(c);</span>
<a href="#l8.1237"></a><span id="l8.1237" class="difflineplus">+                n += inc;</span>
<a href="#l8.1238"></a><span id="l8.1238" class="difflineplus">+            }</span>
<a href="#l8.1239"></a><span id="l8.1239" class="difflineplus">+        } while (a.lesserOrEquals(b));</span>
<a href="#l8.1240"></a><span id="l8.1240" class="difflineplus">+</span>
<a href="#l8.1241"></a><span id="l8.1241" class="difflineplus">+        return {</span>
<a href="#l8.1242"></a><span id="l8.1242" class="difflineplus">+            remainder: b.value,</span>
<a href="#l8.1243"></a><span id="l8.1243" class="difflineplus">+            result: n</span>
<a href="#l8.1244"></a><span id="l8.1244" class="difflineplus">+        };</span>
<a href="#l8.1245"></a><span id="l8.1245" class="difflineplus">+    };</span>
<a href="#l8.1246"></a><span id="l8.1246" class="difflineplus">+</span>
<a href="#l8.1247"></a><span id="l8.1247" class="difflineplus">+    var ZERO = new BigInteger([0], sign.positive);</span>
<a href="#l8.1248"></a><span id="l8.1248" class="difflineplus">+    var ONE = new BigInteger([1], sign.positive);</span>
<a href="#l8.1249"></a><span id="l8.1249" class="difflineplus">+    var MINUS_ONE = new BigInteger([1], sign.negative);</span>
<a href="#l8.1250"></a><span id="l8.1250" class="difflineplus">+</span>
<a href="#l8.1251"></a><span id="l8.1251" class="difflineplus">+</span>
<a href="#l8.1252"></a><span id="l8.1252" class="difflineplus">+    function parseInput(text) {</span>
<a href="#l8.1253"></a><span id="l8.1253" class="difflineplus">+        if (text instanceof BigInteger) return text;</span>
<a href="#l8.1254"></a><span id="l8.1254" class="difflineplus">+        if (Math.abs(+text) &lt; base &amp;&amp; +text === (+text | 0)) {</span>
<a href="#l8.1255"></a><span id="l8.1255" class="difflineplus">+            var value = +text;</span>
<a href="#l8.1256"></a><span id="l8.1256" class="difflineplus">+            return new BigInteger([Math.abs(value)], (value &lt; 0 || (1 / value) === -Infinity));</span>
<a href="#l8.1257"></a><span id="l8.1257" class="difflineplus">+        }</span>
<a href="#l8.1258"></a><span id="l8.1258" class="difflineplus">+        text += &quot;&quot;;</span>
<a href="#l8.1259"></a><span id="l8.1259" class="difflineplus">+        var s = sign.positive, value = [];</span>
<a href="#l8.1260"></a><span id="l8.1260" class="difflineplus">+        if (text[0] === &quot;-&quot;) {</span>
<a href="#l8.1261"></a><span id="l8.1261" class="difflineplus">+            s = sign.negative;</span>
<a href="#l8.1262"></a><span id="l8.1262" class="difflineplus">+            text = text.slice(1);</span>
<a href="#l8.1263"></a><span id="l8.1263" class="difflineplus">+        }</span>
<a href="#l8.1264"></a><span id="l8.1264" class="difflineplus">+        var text = text.split(/e/i);</span>
<a href="#l8.1265"></a><span id="l8.1265" class="difflineplus">+        if (text.length &gt; 2) throw new Error(&quot;Invalid integer: &quot; + text.join(&quot;e&quot;));</span>
<a href="#l8.1266"></a><span id="l8.1266" class="difflineplus">+        if (text[1]) {</span>
<a href="#l8.1267"></a><span id="l8.1267" class="difflineplus">+            var exp = text[1];</span>
<a href="#l8.1268"></a><span id="l8.1268" class="difflineplus">+            if (exp[0] === &quot;+&quot;) exp = exp.slice(1);</span>
<a href="#l8.1269"></a><span id="l8.1269" class="difflineplus">+            exp = parseInput(exp);</span>
<a href="#l8.1270"></a><span id="l8.1270" class="difflineplus">+            if (exp.lesser(0)) throw new Error(&quot;Cannot include negative exponent part for integers&quot;);</span>
<a href="#l8.1271"></a><span id="l8.1271" class="difflineplus">+            while (exp.notEquals(0)) {</span>
<a href="#l8.1272"></a><span id="l8.1272" class="difflineplus">+                text[0] += &quot;0&quot;;</span>
<a href="#l8.1273"></a><span id="l8.1273" class="difflineplus">+                exp = exp.prev();</span>
<a href="#l8.1274"></a><span id="l8.1274" class="difflineplus">+            }</span>
<a href="#l8.1275"></a><span id="l8.1275" class="difflineplus">+        }</span>
<a href="#l8.1276"></a><span id="l8.1276" class="difflineplus">+        text = text[0];</span>
<a href="#l8.1277"></a><span id="l8.1277" class="difflineplus">+        if (text === &quot;-0&quot;) text = &quot;0&quot;;</span>
<a href="#l8.1278"></a><span id="l8.1278" class="difflineplus">+        var isValid = /^([0-9][0-9]*)$/.test(text);</span>
<a href="#l8.1279"></a><span id="l8.1279" class="difflineplus">+        if (!isValid) throw new Error(&quot;Invalid integer: &quot; + text);</span>
<a href="#l8.1280"></a><span id="l8.1280" class="difflineplus">+        while (text.length) {</span>
<a href="#l8.1281"></a><span id="l8.1281" class="difflineplus">+            var divider = text.length &gt; logBase ? text.length - logBase : 0;</span>
<a href="#l8.1282"></a><span id="l8.1282" class="difflineplus">+            value.push(+text.slice(divider));</span>
<a href="#l8.1283"></a><span id="l8.1283" class="difflineplus">+            text = text.slice(0, divider);</span>
<a href="#l8.1284"></a><span id="l8.1284" class="difflineplus">+        }</span>
<a href="#l8.1285"></a><span id="l8.1285" class="difflineplus">+        return new BigInteger(value, s);</span>
<a href="#l8.1286"></a><span id="l8.1286" class="difflineplus">+    }</span>
<a href="#l8.1287"></a><span id="l8.1287" class="difflineplus">+</span>
<a href="#l8.1288"></a><span id="l8.1288" class="difflineplus">+    var parseBase = function (text, base) {</span>
<a href="#l8.1289"></a><span id="l8.1289" class="difflineplus">+        base = parseInput(base);</span>
<a href="#l8.1290"></a><span id="l8.1290" class="difflineplus">+        var val = ZERO;</span>
<a href="#l8.1291"></a><span id="l8.1291" class="difflineplus">+        var digits = [];</span>
<a href="#l8.1292"></a><span id="l8.1292" class="difflineplus">+        var i;</span>
<a href="#l8.1293"></a><span id="l8.1293" class="difflineplus">+        var isNegative = false;</span>
<a href="#l8.1294"></a><span id="l8.1294" class="difflineplus">+        function parseToken(text) {</span>
<a href="#l8.1295"></a><span id="l8.1295" class="difflineplus">+            var c = text[i].toLowerCase();</span>
<a href="#l8.1296"></a><span id="l8.1296" class="difflineplus">+            if (i === 0 &amp;&amp; text[i] === &quot;-&quot;) {</span>
<a href="#l8.1297"></a><span id="l8.1297" class="difflineplus">+                isNegative = true;</span>
<a href="#l8.1298"></a><span id="l8.1298" class="difflineplus">+                return;</span>
<a href="#l8.1299"></a><span id="l8.1299" class="difflineplus">+            }</span>
<a href="#l8.1300"></a><span id="l8.1300" class="difflineplus">+            if (/[0-9]/.test(c)) digits.push(parseInput(c));</span>
<a href="#l8.1301"></a><span id="l8.1301" class="difflineplus">+            else if (/[a-z]/.test(c)) digits.push(parseInput(c.charCodeAt(0) - 87));</span>
<a href="#l8.1302"></a><span id="l8.1302" class="difflineplus">+            else if (c === &quot;&lt;&quot;) {</span>
<a href="#l8.1303"></a><span id="l8.1303" class="difflineplus">+                var start = i;</span>
<a href="#l8.1304"></a><span id="l8.1304" class="difflineplus">+                do { i++; } while (text[i] !== &quot;&gt;&quot;);</span>
<a href="#l8.1305"></a><span id="l8.1305" class="difflineplus">+                digits.push(parseInput(text.slice(start + 1, i)));</span>
<a href="#l8.1306"></a><span id="l8.1306" class="difflineplus">+            }</span>
<a href="#l8.1307"></a><span id="l8.1307" class="difflineplus">+            else throw new Error(c + &quot; is not a valid character&quot;);</span>
<a href="#l8.1308"></a><span id="l8.1308" class="difflineplus">+        }</span>
<a href="#l8.1309"></a><span id="l8.1309" class="difflineplus">+        for (i = 0; i &lt; text.length; i++) {</span>
<a href="#l8.1310"></a><span id="l8.1310" class="difflineplus">+            parseToken(text);</span>
<a href="#l8.1311"></a><span id="l8.1311" class="difflineplus">+        }</span>
<a href="#l8.1312"></a><span id="l8.1312" class="difflineplus">+        digits.reverse();</span>
<a href="#l8.1313"></a><span id="l8.1313" class="difflineplus">+        for (i = 0; i &lt; digits.length; i++) {</span>
<a href="#l8.1314"></a><span id="l8.1314" class="difflineplus">+            val = val.add(digits[i].times(base.pow(i)));</span>
<a href="#l8.1315"></a><span id="l8.1315" class="difflineplus">+        }</span>
<a href="#l8.1316"></a><span id="l8.1316" class="difflineplus">+        return isNegative ? val.negate() : val;</span>
<a href="#l8.1317"></a><span id="l8.1317" class="difflineplus">+    };</span>
<a href="#l8.1318"></a><span id="l8.1318" class="difflineplus">+</span>
<a href="#l8.1319"></a><span id="l8.1319" class="difflineplus">+    function stringify(digit) {</span>
<a href="#l8.1320"></a><span id="l8.1320" class="difflineplus">+        var v = digit.value;</span>
<a href="#l8.1321"></a><span id="l8.1321" class="difflineplus">+        if (v.length === 1 &amp;&amp; v[0] &lt;= 36) {</span>
<a href="#l8.1322"></a><span id="l8.1322" class="difflineplus">+            return &quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;.charAt(v[0]);</span>
<a href="#l8.1323"></a><span id="l8.1323" class="difflineplus">+        }</span>
<a href="#l8.1324"></a><span id="l8.1324" class="difflineplus">+        return &quot;&lt;&quot; + v + &quot;&gt;&quot;;</span>
<a href="#l8.1325"></a><span id="l8.1325" class="difflineplus">+    }</span>
<a href="#l8.1326"></a><span id="l8.1326" class="difflineplus">+</span>
<a href="#l8.1327"></a><span id="l8.1327" class="difflineplus">+    function toBase(n, base) {</span>
<a href="#l8.1328"></a><span id="l8.1328" class="difflineplus">+        base = bigInt(base);</span>
<a href="#l8.1329"></a><span id="l8.1329" class="difflineplus">+        if (base.equals(0)) {</span>
<a href="#l8.1330"></a><span id="l8.1330" class="difflineplus">+            if (n.equals(0)) return &quot;0&quot;;</span>
<a href="#l8.1331"></a><span id="l8.1331" class="difflineplus">+            throw new Error(&quot;Cannot convert nonzero numbers to base 0.&quot;);</span>
<a href="#l8.1332"></a><span id="l8.1332" class="difflineplus">+        }</span>
<a href="#l8.1333"></a><span id="l8.1333" class="difflineplus">+        if (base.equals(-1)) {</span>
<a href="#l8.1334"></a><span id="l8.1334" class="difflineplus">+            if (n.equals(0)) return &quot;0&quot;;</span>
<a href="#l8.1335"></a><span id="l8.1335" class="difflineplus">+            if (n.lesser(0)) return Array(1 - n).join(&quot;10&quot;);</span>
<a href="#l8.1336"></a><span id="l8.1336" class="difflineplus">+            return &quot;1&quot; + Array(+n).join(&quot;01&quot;);</span>
<a href="#l8.1337"></a><span id="l8.1337" class="difflineplus">+        }</span>
<a href="#l8.1338"></a><span id="l8.1338" class="difflineplus">+        var minusSign = &quot;&quot;;</span>
<a href="#l8.1339"></a><span id="l8.1339" class="difflineplus">+        if (n.isNegative() &amp;&amp; base.isPositive()) {</span>
<a href="#l8.1340"></a><span id="l8.1340" class="difflineplus">+            minusSign = &quot;-&quot;;</span>
<a href="#l8.1341"></a><span id="l8.1341" class="difflineplus">+            n = n.abs();</span>
<a href="#l8.1342"></a><span id="l8.1342" class="difflineplus">+        }</span>
<a href="#l8.1343"></a><span id="l8.1343" class="difflineplus">+        if (base.equals(1)) {</span>
<a href="#l8.1344"></a><span id="l8.1344" class="difflineplus">+            if (n.equals(0)) return &quot;0&quot;;</span>
<a href="#l8.1345"></a><span id="l8.1345" class="difflineplus">+            return minusSign + Array(+n + 1).join(1);</span>
<a href="#l8.1346"></a><span id="l8.1346" class="difflineplus">+        }</span>
<a href="#l8.1347"></a><span id="l8.1347" class="difflineplus">+        var out = [];</span>
<a href="#l8.1348"></a><span id="l8.1348" class="difflineplus">+        var left = n, divmod;</span>
<a href="#l8.1349"></a><span id="l8.1349" class="difflineplus">+        while (left.lesser(0) || left.compareAbs(base) &gt;= 0) {</span>
<a href="#l8.1350"></a><span id="l8.1350" class="difflineplus">+            divmod = left.divmod(base);</span>
<a href="#l8.1351"></a><span id="l8.1351" class="difflineplus">+            left = divmod.quotient;</span>
<a href="#l8.1352"></a><span id="l8.1352" class="difflineplus">+            var digit = divmod.remainder;</span>
<a href="#l8.1353"></a><span id="l8.1353" class="difflineplus">+            if (digit.lesser(0)) {</span>
<a href="#l8.1354"></a><span id="l8.1354" class="difflineplus">+                digit = base.minus(digit).abs();</span>
<a href="#l8.1355"></a><span id="l8.1355" class="difflineplus">+                left = left.next();</span>
<a href="#l8.1356"></a><span id="l8.1356" class="difflineplus">+            }</span>
<a href="#l8.1357"></a><span id="l8.1357" class="difflineplus">+            out.push(stringify(digit));</span>
<a href="#l8.1358"></a><span id="l8.1358" class="difflineplus">+        }</span>
<a href="#l8.1359"></a><span id="l8.1359" class="difflineplus">+        out.push(stringify(left));</span>
<a href="#l8.1360"></a><span id="l8.1360" class="difflineplus">+        return minusSign + out.reverse().join(&quot;&quot;);</span>
<a href="#l8.1361"></a><span id="l8.1361" class="difflineplus">+    }</span>
<a href="#l8.1362"></a><span id="l8.1362" class="difflineplus">+</span>
<a href="#l8.1363"></a><span id="l8.1363" class="difflineplus">+    var fnReturn = function (a, b) {</span>
<a href="#l8.1364"></a><span id="l8.1364" class="difflineplus">+        if (typeof a === &quot;undefined&quot;) return ZERO;</span>
<a href="#l8.1365"></a><span id="l8.1365" class="difflineplus">+        if (typeof b !== &quot;undefined&quot;) return parseBase(a, b);</span>
<a href="#l8.1366"></a><span id="l8.1366" class="difflineplus">+        return parseInput(a);</span>
<a href="#l8.1367"></a><span id="l8.1367" class="difflineplus">+    };</span>
<a href="#l8.1368"></a><span id="l8.1368" class="difflineplus">+    fnReturn.zero = ZERO;</span>
<a href="#l8.1369"></a><span id="l8.1369" class="difflineplus">+    fnReturn.one = ONE;</span>
<a href="#l8.1370"></a><span id="l8.1370" class="difflineplus">+    fnReturn.minusOne = MINUS_ONE;</span>
<a href="#l8.1371"></a><span id="l8.1371" class="difflineplus">+    fnReturn.randBetween = randBetween;</span>
<a href="#l8.1372"></a><span id="l8.1372" class="difflineplus">+    fnReturn.min = min;</span>
<a href="#l8.1373"></a><span id="l8.1373" class="difflineplus">+    fnReturn.max = max;</span>
<a href="#l8.1374"></a><span id="l8.1374" class="difflineplus">+    fnReturn.gcd = gcd;</span>
<a href="#l8.1375"></a><span id="l8.1375" class="difflineplus">+    fnReturn.lcm = lcm;</span>
<a href="#l8.1376"></a><span id="l8.1376" class="difflineplus">+    return fnReturn;</span>
<a href="#l8.1377"></a><span id="l8.1377" class="difflineplus">+})();</span>
<a href="#l8.1378"></a><span id="l8.1378" class="difflineplus">+</span>
<a href="#l8.1379"></a><span id="l8.1379" class="difflineplus">+if (typeof module !== &quot;undefined&quot;) {</span>
<a href="#l8.1380"></a><span id="l8.1380" class="difflineplus">+    module.exports = bigInt;</span>
<a href="#l8.1381"></a><span id="l8.1381" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/chat/modules/imXPCOMUtils.jsm</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/chat/modules/imXPCOMUtils.jsm</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -231,16 +231,16 @@ function nsSimpleEnumerator(items)</span>
<a href="#l9.4"></a><span id="l9.4"> nsSimpleEnumerator.prototype = {</span>
<a href="#l9.5"></a><span id="l9.5">   hasMoreElements: function() { return this._nextIndex &lt; this._items.length; },</span>
<a href="#l9.6"></a><span id="l9.6">   getNext: function() {</span>
<a href="#l9.7"></a><span id="l9.7">     if (!this.hasMoreElements())</span>
<a href="#l9.8"></a><span id="l9.8">       throw Cr.NS_ERROR_NOT_AVAILABLE;</span>
<a href="#l9.9"></a><span id="l9.9"> </span>
<a href="#l9.10"></a><span id="l9.10">     return this._items[this._nextIndex++];</span>
<a href="#l9.11"></a><span id="l9.11">   },</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l9.14"></a><span id="l9.14"> };</span>
<a href="#l9.15"></a><span id="l9.15"> </span>
<a href="#l9.16"></a><span id="l9.16"> var EmptyEnumerator = {</span>
<a href="#l9.17"></a><span id="l9.17">   hasMoreElements: () =&gt; false,</span>
<a href="#l9.18"></a><span id="l9.18">   getNext: function() { throw Cr.NS_ERROR_NOT_AVAILABLE; },</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineminus">-  QueryInterface: XPCOMUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+  QueryInterface: ChromeUtils.generateQI([Ci.nsISimpleEnumerator])</span>
<a href="#l9.21"></a><span id="l9.21"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/chat/modules/jsProtoHelper.jsm</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/chat/modules/jsProtoHelper.jsm</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -148,17 +148,17 @@ var GenericAccountPrototype = {</span>
<a href="#l10.4"></a><span id="l10.4">       cancel: function() {</span>
<a href="#l10.5"></a><span id="l10.5">         Services.obs.notifyObservers(this,</span>
<a href="#l10.6"></a><span id="l10.6">                                      &quot;buddy-authorization-request-canceled&quot;);</span>
<a href="#l10.7"></a><span id="l10.7">         this._remove();</span>
<a href="#l10.8"></a><span id="l10.8">       },</span>
<a href="#l10.9"></a><span id="l10.9">       _remove: function() {</span>
<a href="#l10.10"></a><span id="l10.10">         this._account.removeBuddyRequest(this);</span>
<a href="#l10.11"></a><span id="l10.11">       },</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-      QueryInterface: XPCOMUtils.generateQI([Ci.prplIBuddyRequest])</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+      QueryInterface: ChromeUtils.generateQI([Ci.prplIBuddyRequest])</span>
<a href="#l10.14"></a><span id="l10.14">     };</span>
<a href="#l10.15"></a><span id="l10.15">     this._pendingBuddyRequests.push(buddyRequest);</span>
<a href="#l10.16"></a><span id="l10.16">     Services.obs.notifyObservers(buddyRequest, &quot;buddy-authorization-request&quot;);</span>
<a href="#l10.17"></a><span id="l10.17">   },</span>
<a href="#l10.18"></a><span id="l10.18">   removeBuddyRequest: function(aRequest) {</span>
<a href="#l10.19"></a><span id="l10.19">     if (!this._pendingBuddyRequests)</span>
<a href="#l10.20"></a><span id="l10.20">       return;</span>
<a href="#l10.21"></a><span id="l10.21"> </span>
<a href="#l10.22"></a><span id="l10.22" class="difflineat">@@ -882,17 +882,17 @@ var GenericProtocolPrototype = {</span>
<a href="#l10.23"></a><span id="l10.23">   registerCommands: function() {</span>
<a href="#l10.24"></a><span id="l10.24">     if (!this.commands)</span>
<a href="#l10.25"></a><span id="l10.25">       return;</span>
<a href="#l10.26"></a><span id="l10.26"> </span>
<a href="#l10.27"></a><span id="l10.27">     this.commands.forEach(function(command) {</span>
<a href="#l10.28"></a><span id="l10.28">       if (!command.hasOwnProperty(&quot;name&quot;) || !command.hasOwnProperty(&quot;run&quot;))</span>
<a href="#l10.29"></a><span id="l10.29">         throw &quot;Every command must have a name and a run function.&quot;;</span>
<a href="#l10.30"></a><span id="l10.30">       if (!(&quot;QueryInterface&quot; in command))</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-        command.QueryInterface = XPCOMUtils.generateQI([Ci.imICommand]);</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+        command.QueryInterface = ChromeUtils.generateQI([Ci.imICommand]);</span>
<a href="#l10.33"></a><span id="l10.33">       if (!command.hasOwnProperty(&quot;usageContext&quot;))</span>
<a href="#l10.34"></a><span id="l10.34">         command.usageContext = Ci.imICommand.CMD_CONTEXT_ALL;</span>
<a href="#l10.35"></a><span id="l10.35">       if (!command.hasOwnProperty(&quot;priority&quot;))</span>
<a href="#l10.36"></a><span id="l10.36">         command.priority = Ci.imICommand.CMD_PRIORITY_PRPL;</span>
<a href="#l10.37"></a><span id="l10.37">       Services.cmd.registerCommand(command, this.id);</span>
<a href="#l10.38"></a><span id="l10.38">     }, this);</span>
<a href="#l10.39"></a><span id="l10.39">   },</span>
<a href="#l10.40"></a><span id="l10.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/chat/protocols/twitter/twitter.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/chat/protocols/twitter/twitter.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -928,17 +928,17 @@ Account.prototype = {</span>
<a href="#l11.4"></a><span id="l11.4">             .gotDisconnected(Ci.prplIAccount.ERROR_AUTHENTICATION_FAILED,</span>
<a href="#l11.5"></a><span id="l11.5">                              _(&quot;connection.error.authCancelled&quot;));</span>
<a href="#l11.6"></a><span id="l11.6">       },</span>
<a href="#l11.7"></a><span id="l11.7">       loaded: function(aWindow, aWebProgress) {</span>
<a href="#l11.8"></a><span id="l11.8">         if (!this._active)</span>
<a href="#l11.9"></a><span id="l11.9">           return;</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11">         this._listener = {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-          QueryInterface: XPCOMUtils.generateQI([Ci.nsIWebProgressListener,</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+          QueryInterface: ChromeUtils.generateQI([Ci.nsIWebProgressListener,</span>
<a href="#l11.14"></a><span id="l11.14">                                                  Ci.nsISupportsWeakReference]),</span>
<a href="#l11.15"></a><span id="l11.15">           _cleanUp: function() {</span>
<a href="#l11.16"></a><span id="l11.16">             this.webProgress.removeProgressListener(this);</span>
<a href="#l11.17"></a><span id="l11.17">             this.window.close();</span>
<a href="#l11.18"></a><span id="l11.18">             delete this.window;</span>
<a href="#l11.19"></a><span id="l11.19">           },</span>
<a href="#l11.20"></a><span id="l11.20">           _checkForRedirect: function(aURL) {</span>
<a href="#l11.21"></a><span id="l11.21">             if (!aURL.startsWith(this._parent.completionURI))</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineat">@@ -961,17 +961,17 @@ Account.prototype = {</span>
<a href="#l11.23"></a><span id="l11.23"> </span>
<a href="#l11.24"></a><span id="l11.24">           window: aWindow,</span>
<a href="#l11.25"></a><span id="l11.25">           webProgress: aWebProgress,</span>
<a href="#l11.26"></a><span id="l11.26">           _parent: this.account</span>
<a href="#l11.27"></a><span id="l11.27">         };</span>
<a href="#l11.28"></a><span id="l11.28">         aWebProgress.addProgressListener(this._listener,</span>
<a href="#l11.29"></a><span id="l11.29">                                          Ci.nsIWebProgress.NOTIFY_ALL);</span>
<a href="#l11.30"></a><span id="l11.30">       },</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-      QueryInterface: XPCOMUtils.generateQI([Ci.prplIRequestBrowser])</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+      QueryInterface: ChromeUtils.generateQI([Ci.prplIRequestBrowser])</span>
<a href="#l11.33"></a><span id="l11.33">     };</span>
<a href="#l11.34"></a><span id="l11.34">     Services.obs.notifyObservers(this._browserRequest, &quot;browser-request&quot;);</span>
<a href="#l11.35"></a><span id="l11.35">   },</span>
<a href="#l11.36"></a><span id="l11.36">   finishAuthorizationRequest: function() {</span>
<a href="#l11.37"></a><span id="l11.37">     // Clean up the cookies, so that several twitter OAuth dialogs can work</span>
<a href="#l11.38"></a><span id="l11.38">     // during the same session (bug 954308).</span>
<a href="#l11.39"></a><span id="l11.39">     let cookies = Services.cookies.getCookiesFromHost(&quot;twitter.com&quot;, {});</span>
<a href="#l11.40"></a><span id="l11.40">     while (cookies.hasMoreElements()) {</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

