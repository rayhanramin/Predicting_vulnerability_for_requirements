<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 26110:34babfc74629df3f92a65b6817634e3b3a0fca2e</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 34babfc74629df3f92a65b6817634e3b3a0fca2e" />
<meta property="og:url" content="/comm-central/rev/34babfc74629df3f92a65b6817634e3b3a0fca2e" />
<meta property="og:description" content="Bug 1535582 - nuke now unused bindings xbl-menulist, menulist-popuponly, menulist-editable, panellist, datetextpicker, datetimepicker-base, and fix menulist.css inclusion. r=darktrojan" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 34babfc74629df3f92a65b6817634e3b3a0fca2e 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/34babfc74629df3f92a65b6817634e3b3a0fca2e">shortlog</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/34babfc74629df3f92a65b6817634e3b3a0fca2e">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e">files</a> |
changeset |
<a href="/comm-central/raw-rev/34babfc74629df3f92a65b6817634e3b3a0fca2e">raw</a>  | <a href="/comm-central/archive/34babfc74629df3f92a65b6817634e3b3a0fca2e.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1535582">Bug 1535582</a> - nuke now unused bindings xbl-menulist, menulist-popuponly, menulist-editable, panellist, datetextpicker, datetimepicker-base, and fix menulist.css inclusion. r=darktrojan
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#103;&#110;&#117;&#115;&#32;&#77;&#101;&#108;&#105;&#110;&#32;&#60;&#109;&#107;&#109;&#101;&#108;&#105;&#110;&#43;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#105;&#107;&#105;&#46;&#102;&#105;&#62;</td></tr>
<tr><td></td><td class="date age">Sat, 16 Mar 2019 23:38:10 +0200</td></tr>

<tr>
 <td>changeset 26110</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/34babfc74629df3f92a65b6817634e3b3a0fca2e">34babfc74629df3f92a65b6817634e3b3a0fca2e</a></td>
</tr>



<tr>
<td>parent 26109</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/86cdbc8a3ceffc6a511e263007756f78899ba910">86cdbc8a3ceffc6a511e263007756f78899ba910</a>
</td>
</tr>

<tr>
<td>child 26111</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/439caa176db6c7b38432ce55cc2b37505c27ca48">439caa176db6c7b38432ce55cc2b37505c27ca48</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=34babfc74629df3f92a65b6817634e3b3a0fca2e">15674</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Sat, 16 Mar 2019 22:12:32 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@34babfc74629 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=34babfc74629df3f92a65b6817634e3b3a0fca2e">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=34babfc74629df3f92a65b6817634e3b3a0fca2e&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=34babfc74629df3f92a65b6817634e3b3a0fca2e&newProject=comm-central&newRevision=ccdb9a2b3b7e3139b63cd9cc5a240caa2a529b87&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=34babfc74629df3f92a65b6817634e3b3a0fca2e&newProject=comm-central&newRevision=ccdb9a2b3b7e3139b63cd9cc5a240caa2a529b87&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=34babfc74629df3f92a65b6817634e3b3a0fca2e&newProject=comm-central&newRevision=ccdb9a2b3b7e3139b63cd9cc5a240caa2a529b87&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28darktrojan%29&revcount=50">darktrojan</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1535582">1535582</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1535582">Bug 1535582</a> - nuke now unused bindings xbl-menulist, menulist-popuponly, menulist-editable, panellist, datetextpicker, datetimepicker-base, and fix menulist.css inclusion. r=darktrojan</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-attendees.xul">calendar/base/content/dialogs/calendar-event-dialog-attendees.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-attendees.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-attendees.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-attendees.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-attendees.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-attendees.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul">calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul">calendar/base/content/dialogs/calendar-event-dialog-reminder.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-timezone.xul">calendar/base/content/dialogs/calendar-event-dialog-timezone.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-timezone.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-timezone.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-timezone.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-timezone.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog-timezone.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog.xul">calendar/base/content/dialogs/calendar-event-dialog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-event-dialog.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-print-dialog.xul">calendar/base/content/dialogs/calendar-print-dialog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-print-dialog.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-print-dialog.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-print-dialog.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-print-dialog.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-print-dialog.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-summary-dialog.xul">calendar/base/content/dialogs/calendar-summary-dialog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-summary-dialog.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-summary-dialog.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-summary-dialog.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-summary-dialog.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/base/content/dialogs/calendar-summary-dialog.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/lightning-item-iframe.xul">calendar/lightning/content/lightning-item-iframe.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/lightning-item-iframe.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/lightning-item-iframe.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/lightning-item-iframe.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/lightning-item-iframe.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/lightning-item-iframe.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/messenger-overlay-sidebar.xul">calendar/lightning/content/messenger-overlay-sidebar.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/messenger-overlay-sidebar.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/messenger-overlay-sidebar.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/messenger-overlay-sidebar.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/messenger-overlay-sidebar.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/content/messenger-overlay-sidebar.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/jar.mn">calendar/lightning/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/jar.mn">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/jar.mn">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/jar.mn">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/jar.mn">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/lightning/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/content/datetimepickers/datetimepickers.css">calendar/resources/content/datetimepickers/datetimepickers.css</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/content/datetimepickers/datetimepickers.css">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/content/datetimepickers/datetimepickers.css">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/content/datetimepickers/datetimepickers.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/content/datetimepickers/datetimepickers.xml">calendar/resources/content/datetimepickers/datetimepickers.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/content/datetimepickers/datetimepickers.xml">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/content/datetimepickers/datetimepickers.xml">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/content/datetimepickers/datetimepickers.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/skin/datetimepickers.css">calendar/resources/skin/datetimepickers.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/skin/datetimepickers.css">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/skin/datetimepickers.css">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/skin/datetimepickers.css">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/skin/datetimepickers.css">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/calendar/resources/skin/datetimepickers.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/common/bindings/menulist.css">common/bindings/menulist.css</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/common/bindings/menulist.css">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/common/bindings/menulist.css">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/common/bindings/menulist.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/common/bindings/menulist.xml">common/bindings/menulist.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/common/bindings/menulist.xml">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/common/bindings/menulist.xml">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/common/bindings/menulist.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdAdvancedEdit.xul">editor/ui/dialogs/content/EdAdvancedEdit.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdAdvancedEdit.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdAdvancedEdit.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdAdvancedEdit.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdAdvancedEdit.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdAdvancedEdit.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdFormProps.xul">editor/ui/dialogs/content/EdFormProps.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdFormProps.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdFormProps.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdFormProps.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdFormProps.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EdFormProps.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EditorPublish.xul">editor/ui/dialogs/content/EditorPublish.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EditorPublish.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EditorPublish.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EditorPublish.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EditorPublish.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/editor/ui/dialogs/content/EditorPublish.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/bindings.css">mail/base/content/bindings.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/bindings.css">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/bindings.css">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/bindings.css">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/bindings.css">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/bindings.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/menulist.css">mail/base/content/menulist.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/menulist.css">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/menulist.css">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/menulist.css">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/menulist.css">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/content/menulist.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/jar.mn">mail/base/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/jar.mn">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/jar.mn">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/jar.mn">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/jar.mn">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/test/browser/files/menulist.xul">mail/base/test/browser/files/menulist.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/test/browser/files/menulist.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/test/browser/files/menulist.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/test/browser/files/menulist.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/test/browser/files/menulist.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/base/test/browser/files/menulist.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/accountcreation/content/emailWizard.xul">mail/components/accountcreation/content/emailWizard.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/accountcreation/content/emailWizard.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/accountcreation/content/emailWizard.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/accountcreation/content/emailWizard.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/accountcreation/content/emailWizard.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/accountcreation/content/emailWizard.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/compose/content/messengercompose.xul">mail/components/compose/content/messengercompose.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/compose/content/messengercompose.xul">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/compose/content/messengercompose.xul">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/compose/content/messengercompose.xul">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/compose/content/messengercompose.xul">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/components/compose/content/messengercompose.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/linux/mail/menulist.css">mail/themes/linux/mail/menulist.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/linux/mail/menulist.css">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/linux/mail/menulist.css">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/linux/mail/menulist.css">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/linux/mail/menulist.css">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/linux/mail/menulist.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/osx/mail/menulist.css">mail/themes/osx/mail/menulist.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/osx/mail/menulist.css">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/osx/mail/menulist.css">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/osx/mail/menulist.css">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/osx/mail/menulist.css">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/osx/mail/menulist.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/windows/mail/menulist.css">mail/themes/windows/mail/menulist.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/windows/mail/menulist.css">file</a> |
<a href="/comm-central/annotate/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/windows/mail/menulist.css">annotate</a> |
<a href="/comm-central/diff/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/windows/mail/menulist.css">diff</a> |
<a href="/comm-central/comparison/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/windows/mail/menulist.css">comparison</a> |
<a href="/comm-central/log/34babfc74629df3f92a65b6817634e3b3a0fca2e/mail/themes/windows/mail/menulist.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.xul</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.xul</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -2,17 +2,16 @@</span>
<a href="#l1.4"></a><span id="l1.4"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.5"></a><span id="l1.5">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.6"></a><span id="l1.6">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l1.9"></a><span id="l1.9"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-attendees.css&quot;?&gt;</span>
<a href="#l1.10"></a><span id="l1.10"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/widgets/minimonth.css&quot;?&gt;</span>
<a href="#l1.11"></a><span id="l1.11"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot;?&gt;</span>
<a href="#l1.13"></a><span id="l1.13"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/widgets/calendar-widget-bindings.css&quot;?&gt;</span>
<a href="#l1.14"></a><span id="l1.14"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://lightning-common/skin/datetimepickers.css&quot;?&gt;</span>
<a href="#l1.15"></a><span id="l1.15"> </span>
<a href="#l1.16"></a><span id="l1.16"> &lt;!DOCTYPE dialog [</span>
<a href="#l1.17"></a><span id="l1.17">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd1;</span>
<a href="#l1.18"></a><span id="l1.18">   &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot; &gt; %dtd2;</span>
<a href="#l1.19"></a><span id="l1.19"> ]&gt;</span>
<a href="#l1.20"></a><span id="l1.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -6,19 +6,17 @@</span>
<a href="#l2.4"></a><span id="l2.4"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l2.5"></a><span id="l2.5"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/bindings.css&quot;?&gt;</span>
<a href="#l2.6"></a><span id="l2.6"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/messenger.css&quot;?&gt;</span>
<a href="#l2.7"></a><span id="l2.7"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/skin/calendar-daypicker.css&quot;?&gt;</span>
<a href="#l2.8"></a><span id="l2.8"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/widgets/minimonth.css&quot;?&gt;</span>
<a href="#l2.9"></a><span id="l2.9"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/skin/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l2.10"></a><span id="l2.10"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/widgets/calendar-widget-bindings.css&quot;?&gt;</span>
<a href="#l2.11"></a><span id="l2.11"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot;?&gt;</span>
<a href="#l2.13"></a><span id="l2.13"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://lightning-common/skin/datetimepickers.css&quot;?&gt;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/menulist.css&quot;?&gt;</span>
<a href="#l2.15"></a><span id="l2.15"> </span>
<a href="#l2.16"></a><span id="l2.16"> &lt;!DOCTYPE dialog [</span>
<a href="#l2.17"></a><span id="l2.17">   &lt;!ENTITY % dialogDTD SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot;&gt;</span>
<a href="#l2.18"></a><span id="l2.18">   %dialogDTD;</span>
<a href="#l2.19"></a><span id="l2.19"> ]&gt;</span>
<a href="#l2.20"></a><span id="l2.20"> </span>
<a href="#l2.21"></a><span id="l2.21"> &lt;dialog id=&quot;calendar-event-dialog-recurrence&quot;</span>
<a href="#l2.22"></a><span id="l2.22">         title=&quot;&amp;recurrence.title.label;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -3,17 +3,16 @@</span>
<a href="#l3.4"></a><span id="l3.4">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.5"></a><span id="l3.5">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l3.6"></a><span id="l3.6"> </span>
<a href="#l3.7"></a><span id="l3.7"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l3.8"></a><span id="l3.8"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/bindings.css&quot;?&gt;</span>
<a href="#l3.9"></a><span id="l3.9"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-alarms.css&quot;?&gt;</span>
<a href="#l3.10"></a><span id="l3.10"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/widgets/minimonth.css&quot;?&gt;</span>
<a href="#l3.11"></a><span id="l3.11"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/skin/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot;?&gt;</span>
<a href="#l3.13"></a><span id="l3.13"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/widgets/calendar-widget-bindings.css&quot;?&gt;</span>
<a href="#l3.14"></a><span id="l3.14"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://lightning-common/skin/datetimepickers.css&quot;?&gt;</span>
<a href="#l3.15"></a><span id="l3.15"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/calendar-bindings.css&quot;?&gt;</span>
<a href="#l3.16"></a><span id="l3.16"> </span>
<a href="#l3.17"></a><span id="l3.17"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://calendar/locale/dialogs/calendar-event-dialog-reminder.dtd&quot; &gt;</span>
<a href="#l3.18"></a><span id="l3.18"> </span>
<a href="#l3.19"></a><span id="l3.19"> &lt;dialog id=&quot;calendar-event-dialog-reminder&quot;</span>
<a href="#l3.20"></a><span id="l3.20">         title=&quot;&amp;reminderdialog.title;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-timezone.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-timezone.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,16 +1,15 @@</span>
<a href="#l4.4"></a><span id="l4.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l4.5"></a><span id="l4.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.6"></a><span id="l4.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.7"></a><span id="l4.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l4.10"></a><span id="l4.10"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/skin/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot;?&gt;</span>
<a href="#l4.12"></a><span id="l4.12"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-timezone-highlighter.css&quot;?&gt;</span>
<a href="#l4.13"></a><span id="l4.13"> </span>
<a href="#l4.14"></a><span id="l4.14"> &lt;!DOCTYPE dialog [</span>
<a href="#l4.15"></a><span id="l4.15">   &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l4.16"></a><span id="l4.16">   &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l4.17"></a><span id="l4.17">   &lt;!ENTITY % dtd3 SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot; &gt; %dtd3;</span>
<a href="#l4.18"></a><span id="l4.18">   &lt;!ENTITY % dtd4 SYSTEM &quot;chrome://calendar/locale/preferences/timezones.dtd&quot; &gt; %dtd4;</span>
<a href="#l4.19"></a><span id="l4.19"> ]&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -6,17 +6,16 @@</span>
<a href="#l5.4"></a><span id="l5.4"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l5.5"></a><span id="l5.5"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/bindings.css&quot;?&gt;</span>
<a href="#l5.6"></a><span id="l5.6"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-alarms.css&quot;?&gt;</span>
<a href="#l5.7"></a><span id="l5.7"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/widgets/minimonth.css&quot;?&gt;</span>
<a href="#l5.8"></a><span id="l5.8"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-attendees.css&quot;?&gt;</span>
<a href="#l5.9"></a><span id="l5.9"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/widgets/calendar-widget-bindings.css&quot;?&gt;</span>
<a href="#l5.10"></a><span id="l5.10"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/skin/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l5.11"></a><span id="l5.11"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot;?&gt;</span>
<a href="#l5.13"></a><span id="l5.13"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/primaryToolbar.css&quot;?&gt;</span>
<a href="#l5.14"></a><span id="l5.14"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/messenger.css&quot;?&gt;</span>
<a href="#l5.15"></a><span id="l5.15"> </span>
<a href="#l5.16"></a><span id="l5.16"> &lt;!DOCTYPE dialog [</span>
<a href="#l5.17"></a><span id="l5.17">     &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l5.18"></a><span id="l5.18">     &lt;!ENTITY % globalDTD SYSTEM &quot;chrome://calendar/locale/global.dtd&quot;&gt;</span>
<a href="#l5.19"></a><span id="l5.19">     &lt;!ENTITY % calendarDTD SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l5.20"></a><span id="l5.20">     &lt;!ENTITY % eventDialogDTD SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-print-dialog.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-print-dialog.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l6.4"></a><span id="l6.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l6.5"></a><span id="l6.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.6"></a><span id="l6.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.7"></a><span id="l6.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l6.8"></a><span id="l6.8"> </span>
<a href="#l6.9"></a><span id="l6.9"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l6.10"></a><span id="l6.10"> &lt;?xml-stylesheet href=&quot;chrome://calendar-common/skin/widgets/minimonth.css&quot;? type=&quot;text/css&quot; &gt;</span>
<a href="#l6.11"></a><span id="l6.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messenger.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l6.13"></a><span id="l6.13"> &lt;?xml-stylesheet href=&quot;chrome://calendar/content/widgets/calendar-widget-bindings.css&quot;  type=&quot;text/css&quot;?&gt;</span>
<a href="#l6.14"></a><span id="l6.14"> </span>
<a href="#l6.15"></a><span id="l6.15"> &lt;!DOCTYPE dialog [</span>
<a href="#l6.16"></a><span id="l6.16">     &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l6.17"></a><span id="l6.17">     &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l6.18"></a><span id="l6.18"> ]&gt;</span>
<a href="#l6.19"></a><span id="l6.19"> </span>
<a href="#l6.20"></a><span id="l6.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-summary-dialog.xul</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-summary-dialog.xul</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -5,17 +5,16 @@</span>
<a href="#l7.4"></a><span id="l7.4"> --&gt;</span>
<a href="#l7.5"></a><span id="l7.5"> </span>
<a href="#l7.6"></a><span id="l7.6"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l7.7"></a><span id="l7.7"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/bindings.css&quot;?&gt;</span>
<a href="#l7.8"></a><span id="l7.8"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-alarms.css&quot;?&gt;</span>
<a href="#l7.9"></a><span id="l7.9"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-attendees.css&quot;?&gt;</span>
<a href="#l7.10"></a><span id="l7.10"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/skin/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l7.11"></a><span id="l7.11"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/dialogs/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot;?&gt;</span>
<a href="#l7.13"></a><span id="l7.13"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/calendar-bindings.css&quot;?&gt;</span>
<a href="#l7.14"></a><span id="l7.14"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/primaryToolbar.css&quot;?&gt;</span>
<a href="#l7.15"></a><span id="l7.15"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/messenger.css&quot;?&gt;</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17"> &lt;!DOCTYPE dialog [</span>
<a href="#l7.18"></a><span id="l7.18">   &lt;!ENTITY % globalDTD SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt;</span>
<a href="#l7.19"></a><span id="l7.19">   &lt;!ENTITY % calendarDTD SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt;</span>
<a href="#l7.20"></a><span id="l7.20">   &lt;!ENTITY % dialogDTD SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot; &gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-iframe.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-iframe.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -8,22 +8,20 @@</span>
<a href="#l8.4"></a><span id="l8.4"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l8.5"></a><span id="l8.5"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/bindings.css&quot;?&gt;</span>
<a href="#l8.6"></a><span id="l8.6"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-alarms.css&quot;?&gt;</span>
<a href="#l8.7"></a><span id="l8.7"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/widgets/minimonth.css&quot;?&gt;</span>
<a href="#l8.8"></a><span id="l8.8"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/calendar-attendees.css&quot;?&gt;</span>
<a href="#l8.9"></a><span id="l8.9"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/widgets/calendar-widget-bindings.css&quot;?&gt;</span>
<a href="#l8.10"></a><span id="l8.10"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/skin/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l8.11"></a><span id="l8.11"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot;?&gt;</span>
<a href="#l8.13"></a><span id="l8.13"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://lightning-common/skin/datetimepickers.css&quot;?&gt;</span>
<a href="#l8.14"></a><span id="l8.14"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/primaryToolbar.css&quot;?&gt;</span>
<a href="#l8.15"></a><span id="l8.15"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/messenger.css&quot;?&gt;</span>
<a href="#l8.16"></a><span id="l8.16"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://calendar-common/skin/dialogs/calendar-event-dialog.css&quot;?&gt;</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/menulist.css&quot;?&gt;</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19"> &lt;!DOCTYPE window [</span>
<a href="#l8.20"></a><span id="l8.20">     &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l8.21"></a><span id="l8.21">     &lt;!ENTITY % globalDTD SYSTEM &quot;chrome://calendar/locale/global.dtd&quot;&gt;</span>
<a href="#l8.22"></a><span id="l8.22">     &lt;!ENTITY % calendarDTD SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l8.23"></a><span id="l8.23">     &lt;!ENTITY % eventDialogDTD SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot;&gt;</span>
<a href="#l8.24"></a><span id="l8.24">     %brandDTD;</span>
<a href="#l8.25"></a><span id="l8.25">     %globalDTD;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/lightning/content/messenger-overlay-sidebar.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/lightning/content/messenger-overlay-sidebar.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -12,17 +12,16 @@</span>
<a href="#l9.4"></a><span id="l9.4">   &lt;!ENTITY % dtd4 SYSTEM &quot;chrome://lightning/locale/lightning-toolbar.dtd&quot; &gt; %dtd4;</span>
<a href="#l9.5"></a><span id="l9.5">   &lt;!ENTITY % messengerDTD SYSTEM &quot;chrome://messenger/locale/messenger.dtd&quot; &gt; %messengerDTD;</span>
<a href="#l9.6"></a><span id="l9.6">   &lt;!ENTITY % eventDialogDTD SYSTEM &quot;chrome://calendar/locale/calendar-event-dialog.dtd&quot; &gt; %eventDialogDTD;</span>
<a href="#l9.7"></a><span id="l9.7"> ]&gt;</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9"> &lt;?xml-stylesheet href=&quot;chrome://lightning/skin/lightning.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> &lt;?xml-stylesheet href=&quot;chrome://calendar/content/calendar-view-bindings.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://calendar/content/datetimepickers/datetimepickers.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.13"></a><span id="l9.13"> </span>
<a href="#l9.14"></a><span id="l9.14"> &lt;?xml-stylesheet href=&quot;chrome://calendar/skin/calendar-event-dialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.15"></a><span id="l9.15"> &lt;?xml-stylesheet href=&quot;chrome://calendar/content/calendar-event-dialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.16"></a><span id="l9.16"> &lt;?xml-stylesheet href=&quot;chrome://calendar-common/skin/dialogs/calendar-event-dialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.17"></a><span id="l9.17"> </span>
<a href="#l9.18"></a><span id="l9.18"> &lt;?xul-overlay href=&quot;chrome://calendar/content/calendar-calendars-list.xul&quot;?&gt;</span>
<a href="#l9.19"></a><span id="l9.19"> &lt;?xul-overlay href=&quot;chrome://calendar/content/calendar-common-sets.xul&quot;?&gt;</span>
<a href="#l9.20"></a><span id="l9.20"> &lt;?xul-overlay href=&quot;chrome://calendar/content/calendar-views.xul&quot;?&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/lightning/jar.mn</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/lightning/jar.mn</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -100,18 +100,16 @@ lightning.jar:</span>
<a href="#l10.4"></a><span id="l10.4">     ../skin/windows/lightning/accountCentral.css              (themes/windows/accountCentral.css)</span>
<a href="#l10.5"></a><span id="l10.5">     ../skin/windows/lightning/imip.css                        (themes/windows/imip.css)</span>
<a href="#l10.6"></a><span id="l10.6">     ../skin/windows/lightning/lightning.css                   (themes/windows/lightning.css)</span>
<a href="#l10.7"></a><span id="l10.7">     ../skin/windows/lightning/lightning-toolbar.css           (themes/windows/lightning-toolbar.css)</span>
<a href="#l10.8"></a><span id="l10.8"> </span>
<a href="#l10.9"></a><span id="l10.9"> calendar.jar:</span>
<a href="#l10.10"></a><span id="l10.10">     content/calendar/calendarCreation.xul                  (../resources/content/calendarCreation.xul)</span>
<a href="#l10.11"></a><span id="l10.11">     content/calendar/calendarCreation.js                   (../resources/content/calendarCreation.js)</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-    content/calendar/datetimepickers/datetimepickers.css   (../resources/content/datetimepickers/datetimepickers.css)</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-    content/calendar/datetimepickers/datetimepickers.xml   (../resources/content/datetimepickers/datetimepickers.xml)</span>
<a href="#l10.14"></a><span id="l10.14">     content/calendar/datetimepickers/datetimepickers.js    (../resources/content/datetimepickers/datetimepickers.js)</span>
<a href="#l10.15"></a><span id="l10.15">     content/calendar/mouseoverPreviews.js                  (../resources/content/mouseoverPreviews.js)</span>
<a href="#l10.16"></a><span id="l10.16">     content/calendar/publish.js                            (../resources/content/publish.js)</span>
<a href="#l10.17"></a><span id="l10.17">     content/calendar/publishDialog.js                      (../resources/content/publishDialog.js)</span>
<a href="#l10.18"></a><span id="l10.18">     content/calendar/publishDialog.xul                     (../resources/content/publishDialog.xul)</span>
<a href="#l10.19"></a><span id="l10.19">     content/calendar/sound.wav                             (../resources/content/sound.wav)</span>
<a href="#l10.20"></a><span id="l10.20">     ../skin/lightning-common/datetimepickers.css           (../resources/skin/datetimepickers.css)</span>
<a href="#l10.21"></a><span id="l10.21">     ../skin/lightning-common/dialogOverlay.css             (../resources/skin/dialogOverlay.css)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1">deleted file mode 100644</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.css</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineplus">+++ /dev/null</span>
<a href="#l11.4"></a><span id="l11.4" class="difflineat">@@ -1,17 +0,0 @@</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineminus">-</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineminus">-@import url(&quot;chrome://messenger/content/menulist.css&quot;);</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineminus">-</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineminus">-menulist[type=&quot;panel&quot;] {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-  -moz-binding: url(&quot;chrome://calendar/content/datetimepickers/datetimepickers.xml#panellist&quot;);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineminus">-}</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineminus">-</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-datetextpicker {</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-  -moz-binding: url(&quot;chrome://calendar/content/datetimepickers/datetimepickers.xml#datetextpicker&quot;);</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-}</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineminus">-timepicker-grids {</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineminus">-  display: -moz-box;</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1">deleted file mode 100644</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineplus">+++ /dev/null</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineat">@@ -1,665 +0,0 @@</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l12.6"></a><span id="l12.6" class="difflineminus">-&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>
<a href="#l12.7"></a><span id="l12.7" class="difflineminus">-          &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
<a href="#l12.8"></a><span id="l12.8" class="difflineminus">-</span>
<a href="#l12.9"></a><span id="l12.9" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.10"></a><span id="l12.10" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.11"></a><span id="l12.11" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-&lt;!-- globals cal --&gt;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-&lt;!--</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-    This defines &lt;datepicker/&gt; &lt;timepicker/&gt; and &lt;datetimepicker/&gt;</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-    which all descend from datetimepicker-base to get date/time parsing</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineminus">-    and consistent behavior.</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineminus">-    It relies on &lt;minimonth/&gt; for the date picker's drop down.</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineminus">-    You can be notified of change event as follows:</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineminus">-      &lt;datepicker id=&quot;my-date-picker&quot; onchange=&quot;myDatePick(this);&quot;/&gt;</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineminus">-    May get/set value in javascript with</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineminus">-      document.getElementById(&quot;my-date-picker&quot;).value = new Date();</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineminus">-    May disable/enable in javascript with</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineminus">-      document.getElementById(&quot;my-date-picker&quot;).disabled = true;</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineminus">-    May also disable/enable a datetimepicker's component</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineminus">-      datepicker or timepicker individually with</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineminus">-      document.getElementById(&quot;my-datetimepicker&quot;).datepickerdisabled = true;</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineminus">-      document.getElementById(&quot;my-datetimepicker&quot;).timepickerdisabled = true;</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineminus">---&gt;</span>
<a href="#l12.31"></a><span id="l12.31" class="difflineminus">-&lt;bindings id=&quot;xulDatePicker&quot;</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineminus">-          xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineminus">-          xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l12.34"></a><span id="l12.34" class="difflineminus">-          xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l12.35"></a><span id="l12.35" class="difflineminus">-          xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineminus">-</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineminus">-  &lt;binding id=&quot;panellist&quot; extends=&quot;chrome://messenger/content/menulist.xml#menulist-editable&quot;&gt;</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineminus">-    &lt;content sizetopopup=&quot;pref&quot;&gt;</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineminus">-      &lt;xul:hbox class=&quot;menulist-editable-box textbox-input-box&quot; xbl:inherits=&quot;context,disabled,readonly,focused&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l12.40"></a><span id="l12.40" class="difflineminus">-        &lt;html:input class=&quot;menulist-editable-input&quot; flex=&quot;1&quot; anonid=&quot;input&quot; allowevents=&quot;true&quot;</span>
<a href="#l12.41"></a><span id="l12.41" class="difflineminus">-                    xbl:inherits=&quot;value=label,value,disabled,tabindex,readonly,placeholder&quot;/&gt;</span>
<a href="#l12.42"></a><span id="l12.42" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineminus">-      &lt;xul:dropmarker class=&quot;menulist-dropmarker&quot; type=&quot;menu&quot;</span>
<a href="#l12.44"></a><span id="l12.44" class="difflineminus">-                      xbl:inherits=&quot;open,disabled,parentfocused=focused&quot;/&gt;</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineminus">-      &lt;children includes=&quot;panel&quot;/&gt;</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineminus">-    &lt;/content&gt;</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineminus">-  &lt;/binding&gt;</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineminus">-</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineminus">-  &lt;binding id=&quot;datetextpicker&quot;</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineminus">-           extends=&quot;chrome://calendar/content/datetimepickers/datetimepickers.xml#datetimepicker-base&quot;&gt;</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineminus">-    &lt;content&gt;</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineminus">-      &lt;xul:hbox flex=&quot;1&quot;&gt;</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineminus">-        &lt;xul:textbox anonid=&quot;date-textbox&quot; flex=&quot;1&quot;</span>
<a href="#l12.54"></a><span id="l12.54" class="difflineminus">-                     onfocus=&quot;this.select();&quot;</span>
<a href="#l12.55"></a><span id="l12.55" class="difflineminus">-                     onkeypress=&quot;if (event.key == 'Enter') fireGoEvent();&quot;/&gt;</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineminus">-        &lt;xul:button anonid=&quot;date-go-button&quot; oncommand=&quot;fireGoEvent()&quot;/&gt;</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineminus">-    &lt;/content&gt;</span>
<a href="#l12.59"></a><span id="l12.59" class="difflineminus">-</span>
<a href="#l12.60"></a><span id="l12.60" class="difflineminus">-    &lt;implementation&gt;</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineminus">-      &lt;field name=&quot;mRelativeDates&quot;&gt;[]&lt;/field&gt;</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineminus">-      &lt;field name=&quot;mDayNames&quot;&gt;[]&lt;/field&gt;</span>
<a href="#l12.63"></a><span id="l12.63" class="difflineminus">-      &lt;field name=&quot;mRelationWords&quot;&gt;[]&lt;/field&gt;</span>
<a href="#l12.64"></a><span id="l12.64" class="difflineminus">-      &lt;field name=&quot;mMonthLongNames&quot;&gt;[]&lt;/field&gt;</span>
<a href="#l12.65"></a><span id="l12.65" class="difflineminus">-      &lt;field name=&quot;mMonthShortNames&quot;&gt;[]&lt;/field&gt;</span>
<a href="#l12.66"></a><span id="l12.66" class="difflineminus">-</span>
<a href="#l12.67"></a><span id="l12.67" class="difflineminus">-      &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l12.68"></a><span id="l12.68" class="difflineminus">-          const { cal } = ChromeUtils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l12.69"></a><span id="l12.69" class="difflineminus">-          let goButton = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;date-go-button&quot;);</span>
<a href="#l12.70"></a><span id="l12.70" class="difflineminus">-          goButton.setAttribute(&quot;label&quot;, cal.l10n.getCalString(&quot;go&quot;));</span>
<a href="#l12.71"></a><span id="l12.71" class="difflineminus">-          // Load the stuff we're going to use to parse written dates</span>
<a href="#l12.72"></a><span id="l12.72" class="difflineminus">-          this.mRelativeDates = [</span>
<a href="#l12.73"></a><span id="l12.73" class="difflineminus">-              { word: cal.l10n.getCalString(&quot;today&quot;).toLowerCase(), offset: 0 },</span>
<a href="#l12.74"></a><span id="l12.74" class="difflineminus">-              { word: cal.l10n.getCalString(&quot;yesterday&quot;).toLowerCase(), offset: -1 },</span>
<a href="#l12.75"></a><span id="l12.75" class="difflineminus">-              { word: cal.l10n.getCalString(&quot;tomorrow&quot;).toLowerCase(), offset: 1 }];</span>
<a href="#l12.76"></a><span id="l12.76" class="difflineminus">-          for (let i = 1; i &lt;= 7; i++) {</span>
<a href="#l12.77"></a><span id="l12.77" class="difflineminus">-              this.mDayNames.push(cal.l10n.getDateFmtString(`day.${i}.name`).toLowerCase());</span>
<a href="#l12.78"></a><span id="l12.78" class="difflineminus">-          }</span>
<a href="#l12.79"></a><span id="l12.79" class="difflineminus">-</span>
<a href="#l12.80"></a><span id="l12.80" class="difflineminus">-          for (let i = 1; i &lt;= 12; i++) {</span>
<a href="#l12.81"></a><span id="l12.81" class="difflineminus">-              this.mMonthLongNames.push(cal.l10n.getDateFmtString(`month.${i}.name`).toLowerCase());</span>
<a href="#l12.82"></a><span id="l12.82" class="difflineminus">-              this.mMonthShortNames.push(cal.l10n.getDateFmtString(`month.${i}.Mmm`).toLowerCase());</span>
<a href="#l12.83"></a><span id="l12.83" class="difflineminus">-          }</span>
<a href="#l12.84"></a><span id="l12.84" class="difflineminus">-</span>
<a href="#l12.85"></a><span id="l12.85" class="difflineminus">-          // note that some languages have different conjugations of</span>
<a href="#l12.86"></a><span id="l12.86" class="difflineminus">-          // next/last depending on the day</span>
<a href="#l12.87"></a><span id="l12.87" class="difflineminus">-          this.mRelationWords = [</span>
<a href="#l12.88"></a><span id="l12.88" class="difflineminus">-              { word: cal.l10n.getCalString(&quot;last1&quot;), offset: -1 },</span>
<a href="#l12.89"></a><span id="l12.89" class="difflineminus">-              { word: cal.l10n.getCalString(&quot;last2&quot;), offset: -1 },</span>
<a href="#l12.90"></a><span id="l12.90" class="difflineminus">-              { word: cal.l10n.getCalString(&quot;next1&quot;), offset: 0 },</span>
<a href="#l12.91"></a><span id="l12.91" class="difflineminus">-              { word: cal.l10n.getCalString(&quot;next2&quot;), offset: 0 }];</span>
<a href="#l12.92"></a><span id="l12.92" class="difflineminus">-</span>
<a href="#l12.93"></a><span id="l12.93" class="difflineminus">-          // Set the value to today</span>
<a href="#l12.94"></a><span id="l12.94" class="difflineminus">-          let text = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;date-textbox&quot;);</span>
<a href="#l12.95"></a><span id="l12.95" class="difflineminus">-          text.value = cal.l10n.getCalString(&quot;today&quot;);</span>
<a href="#l12.96"></a><span id="l12.96" class="difflineminus">-      ]]&gt;&lt;/constructor&gt;</span>
<a href="#l12.97"></a><span id="l12.97" class="difflineminus">-</span>
<a href="#l12.98"></a><span id="l12.98" class="difflineminus">-      &lt;property name=&quot;value&quot;&gt;</span>
<a href="#l12.99"></a><span id="l12.99" class="difflineminus">-        &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l12.100"></a><span id="l12.100" class="difflineminus">-            return this.mValue;</span>
<a href="#l12.101"></a><span id="l12.101" class="difflineminus">-        ]]&gt;&lt;/getter&gt;</span>
<a href="#l12.102"></a><span id="l12.102" class="difflineminus">-        &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l12.103"></a><span id="l12.103" class="difflineminus">-            let text = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;date-textbox&quot;);</span>
<a href="#l12.104"></a><span id="l12.104" class="difflineminus">-            try {</span>
<a href="#l12.105"></a><span id="l12.105" class="difflineminus">-                text.value = this.formatDate(val);</span>
<a href="#l12.106"></a><span id="l12.106" class="difflineminus">-            } catch (ex) {</span>
<a href="#l12.107"></a><span id="l12.107" class="difflineminus">-                // Don't fail if date formatting fails.</span>
<a href="#l12.108"></a><span id="l12.108" class="difflineminus">-            }</span>
<a href="#l12.109"></a><span id="l12.109" class="difflineminus">-            return val;</span>
<a href="#l12.110"></a><span id="l12.110" class="difflineminus">-        ]]&gt;&lt;/setter&gt;</span>
<a href="#l12.111"></a><span id="l12.111" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l12.112"></a><span id="l12.112" class="difflineminus">-</span>
<a href="#l12.113"></a><span id="l12.113" class="difflineminus">-      &lt;method name=&quot;fireGoEvent&quot;&gt;</span>
<a href="#l12.114"></a><span id="l12.114" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.115"></a><span id="l12.115" class="difflineminus">-            let text = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;date-textbox&quot;);</span>
<a href="#l12.116"></a><span id="l12.116" class="difflineminus">-            let date = this.parseLanguageDate(text.value);</span>
<a href="#l12.117"></a><span id="l12.117" class="difflineminus">-            if (!date) {</span>
<a href="#l12.118"></a><span id="l12.118" class="difflineminus">-                date = this.parseDateTime(text.value);</span>
<a href="#l12.119"></a><span id="l12.119" class="difflineminus">-            }</span>
<a href="#l12.120"></a><span id="l12.120" class="difflineminus">-            let prettyDate;</span>
<a href="#l12.121"></a><span id="l12.121" class="difflineminus">-            if (date) {</span>
<a href="#l12.122"></a><span id="l12.122" class="difflineminus">-                // format fails if year &lt;= 1600 on win2k, so try format first.</span>
<a href="#l12.123"></a><span id="l12.123" class="difflineminus">-                try {</span>
<a href="#l12.124"></a><span id="l12.124" class="difflineminus">-                    prettyDate = this.formatDate(date);</span>
<a href="#l12.125"></a><span id="l12.125" class="difflineminus">-                } catch (ex) {</span>
<a href="#l12.126"></a><span id="l12.126" class="difflineminus">-                    // Don't fail if date formatting fails.</span>
<a href="#l12.127"></a><span id="l12.127" class="difflineminus">-                }</span>
<a href="#l12.128"></a><span id="l12.128" class="difflineminus">-            }</span>
<a href="#l12.129"></a><span id="l12.129" class="difflineminus">-            if (date &amp;&amp; prettyDate) {</span>
<a href="#l12.130"></a><span id="l12.130" class="difflineminus">-                this.mValue = date;</span>
<a href="#l12.131"></a><span id="l12.131" class="difflineminus">-                text.value = prettyDate;</span>
<a href="#l12.132"></a><span id="l12.132" class="difflineminus">-                this.fireEvent(&quot;command&quot;, date);</span>
<a href="#l12.133"></a><span id="l12.133" class="difflineminus">-            }</span>
<a href="#l12.134"></a><span id="l12.134" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.135"></a><span id="l12.135" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.136"></a><span id="l12.136" class="difflineminus">-</span>
<a href="#l12.137"></a><span id="l12.137" class="difflineminus">-      &lt;!-- This function will take written (with words) dates and, if</span>
<a href="#l12.138"></a><span id="l12.138" class="difflineminus">-         - possible, return a Date() object described by the words.  Note</span>
<a href="#l12.139"></a><span id="l12.139" class="difflineminus">-         - that this function will not parse explicit dates, like 1/1/06,</span>
<a href="#l12.140"></a><span id="l12.140" class="difflineminus">-         - you should use parseDateTime for that.</span>
<a href="#l12.141"></a><span id="l12.141" class="difflineminus">-        --&gt;</span>
<a href="#l12.142"></a><span id="l12.142" class="difflineminus">-      &lt;method name=&quot;parseLanguageDate&quot;&gt;</span>
<a href="#l12.143"></a><span id="l12.143" class="difflineminus">-        &lt;parameter name=&quot;aValue&quot;/&gt;</span>
<a href="#l12.144"></a><span id="l12.144" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.145"></a><span id="l12.145" class="difflineminus">-            if (!aValue) {</span>
<a href="#l12.146"></a><span id="l12.146" class="difflineminus">-                return null;</span>
<a href="#l12.147"></a><span id="l12.147" class="difflineminus">-            }</span>
<a href="#l12.148"></a><span id="l12.148" class="difflineminus">-            let val = aValue.toLowerCase();</span>
<a href="#l12.149"></a><span id="l12.149" class="difflineminus">-            // Look for the easy ones like today, tomorrow, etc</span>
<a href="#l12.150"></a><span id="l12.150" class="difflineminus">-            for (let rel of this.mRelativeDates) {</span>
<a href="#l12.151"></a><span id="l12.151" class="difflineminus">-                if (val == rel.word) {</span>
<a href="#l12.152"></a><span id="l12.152" class="difflineminus">-                    let now = new Date();</span>
<a href="#l12.153"></a><span id="l12.153" class="difflineminus">-                    now.setDate(now.getDate() + rel.offset);</span>
<a href="#l12.154"></a><span id="l12.154" class="difflineminus">-                    return now;</span>
<a href="#l12.155"></a><span id="l12.155" class="difflineminus">-                }</span>
<a href="#l12.156"></a><span id="l12.156" class="difflineminus">-            }</span>
<a href="#l12.157"></a><span id="l12.157" class="difflineminus">-</span>
<a href="#l12.158"></a><span id="l12.158" class="difflineminus">-            let self = this;</span>
<a href="#l12.159"></a><span id="l12.159" class="difflineminus">-</span>
<a href="#l12.160"></a><span id="l12.160" class="difflineminus">-            // Takes a written day of the week and returns a js-date</span>
<a href="#l12.161"></a><span id="l12.161" class="difflineminus">-            // corresponding to the nearest day in the future that is</span>
<a href="#l12.162"></a><span id="l12.162" class="difflineminus">-            // that day of the week</span>
<a href="#l12.163"></a><span id="l12.163" class="difflineminus">-            function getDateForDay(aWord) {</span>
<a href="#l12.164"></a><span id="l12.164" class="difflineminus">-                for (let i in self.mDayNames) {</span>
<a href="#l12.165"></a><span id="l12.165" class="difflineminus">-                    if (aWord != self.mDayNames[i]) {</span>
<a href="#l12.166"></a><span id="l12.166" class="difflineminus">-                        continue;</span>
<a href="#l12.167"></a><span id="l12.167" class="difflineminus">-                    }</span>
<a href="#l12.168"></a><span id="l12.168" class="difflineminus">-                    // Figure out what day of the week today is.</span>
<a href="#l12.169"></a><span id="l12.169" class="difflineminus">-                    let today = cal.dtz.now();</span>
<a href="#l12.170"></a><span id="l12.170" class="difflineminus">-</span>
<a href="#l12.171"></a><span id="l12.171" class="difflineminus">-                    // i-weekday gets the offset. Add 7 to ensure that the %</span>
<a href="#l12.172"></a><span id="l12.172" class="difflineminus">-                    // operation stays positive.</span>
<a href="#l12.173"></a><span id="l12.173" class="difflineminus">-                    let offset = (i - today.weekday + 7) % 7;</span>
<a href="#l12.174"></a><span id="l12.174" class="difflineminus">-                    today.day = today.day + offset;</span>
<a href="#l12.175"></a><span id="l12.175" class="difflineminus">-                    return cal.dtz.dateTimeToJsDate(today);</span>
<a href="#l12.176"></a><span id="l12.176" class="difflineminus">-                }</span>
<a href="#l12.177"></a><span id="l12.177" class="difflineminus">-                return null;</span>
<a href="#l12.178"></a><span id="l12.178" class="difflineminus">-            }</span>
<a href="#l12.179"></a><span id="l12.179" class="difflineminus">-</span>
<a href="#l12.180"></a><span id="l12.180" class="difflineminus">-            // Remove commas</span>
<a href="#l12.181"></a><span id="l12.181" class="difflineminus">-            val = val.replace(&quot;,&quot;, &quot;&quot;);</span>
<a href="#l12.182"></a><span id="l12.182" class="difflineminus">-</span>
<a href="#l12.183"></a><span id="l12.183" class="difflineminus">-            if (!val.includes(&quot; &quot;)) {</span>
<a href="#l12.184"></a><span id="l12.184" class="difflineminus">-                // Just a single word, or a single date.</span>
<a href="#l12.185"></a><span id="l12.185" class="difflineminus">-                return getDateForDay(val);</span>
<a href="#l12.186"></a><span id="l12.186" class="difflineminus">-            }</span>
<a href="#l12.187"></a><span id="l12.187" class="difflineminus">-</span>
<a href="#l12.188"></a><span id="l12.188" class="difflineminus">-            // Replace month names with numbers</span>
<a href="#l12.189"></a><span id="l12.189" class="difflineminus">-            for (let i in this.mMonthLongNames) {</span>
<a href="#l12.190"></a><span id="l12.190" class="difflineminus">-                if (val.includes(this.mMonthLongNames[i])) {</span>
<a href="#l12.191"></a><span id="l12.191" class="difflineminus">-                    let newVal = val.replace(this.mMonthLongNames[i], Number(i) + 1);</span>
<a href="#l12.192"></a><span id="l12.192" class="difflineminus">-                    newVal = newVal.replace(&quot; &quot;, &quot;/&quot;);</span>
<a href="#l12.193"></a><span id="l12.193" class="difflineminus">-                    return this.parseDateTime(newVal);</span>
<a href="#l12.194"></a><span id="l12.194" class="difflineminus">-                }</span>
<a href="#l12.195"></a><span id="l12.195" class="difflineminus">-            }</span>
<a href="#l12.196"></a><span id="l12.196" class="difflineminus">-</span>
<a href="#l12.197"></a><span id="l12.197" class="difflineminus">-            // Same for short month names</span>
<a href="#l12.198"></a><span id="l12.198" class="difflineminus">-            for (let i in this.mMonthShortNames) {</span>
<a href="#l12.199"></a><span id="l12.199" class="difflineminus">-                if (val.includes(this.mMonthShortNames[i])) {</span>
<a href="#l12.200"></a><span id="l12.200" class="difflineminus">-                    let newVal = val.replace(this.mMonthShortNames[i], Number(i) + 1);</span>
<a href="#l12.201"></a><span id="l12.201" class="difflineminus">-                    newVal = newVal.replace(&quot; &quot;, &quot;/&quot;);</span>
<a href="#l12.202"></a><span id="l12.202" class="difflineminus">-                    return this.parseDateTime(newVal);</span>
<a href="#l12.203"></a><span id="l12.203" class="difflineminus">-                }</span>
<a href="#l12.204"></a><span id="l12.204" class="difflineminus">-            }</span>
<a href="#l12.205"></a><span id="l12.205" class="difflineminus">-</span>
<a href="#l12.206"></a><span id="l12.206" class="difflineminus">-            // Now for the cool 'next' and 'last'</span>
<a href="#l12.207"></a><span id="l12.207" class="difflineminus">-            let words = val.split(&quot; &quot;);</span>
<a href="#l12.208"></a><span id="l12.208" class="difflineminus">-            let offset, day;</span>
<a href="#l12.209"></a><span id="l12.209" class="difflineminus">-            for (let word of words) {</span>
<a href="#l12.210"></a><span id="l12.210" class="difflineminus">-                for (let rel of this.mRelationWords) {</span>
<a href="#l12.211"></a><span id="l12.211" class="difflineminus">-                    if (word == rel.word) {</span>
<a href="#l12.212"></a><span id="l12.212" class="difflineminus">-                        offset = rel.offset;</span>
<a href="#l12.213"></a><span id="l12.213" class="difflineminus">-                        break;</span>
<a href="#l12.214"></a><span id="l12.214" class="difflineminus">-                    }</span>
<a href="#l12.215"></a><span id="l12.215" class="difflineminus">-                }</span>
<a href="#l12.216"></a><span id="l12.216" class="difflineminus">-                for (let i in this.mDayNames) {</span>
<a href="#l12.217"></a><span id="l12.217" class="difflineminus">-                    if (word == this.mDayNames[i]) {</span>
<a href="#l12.218"></a><span id="l12.218" class="difflineminus">-                        day = getDateForDay(word);</span>
<a href="#l12.219"></a><span id="l12.219" class="difflineminus">-                        break;</span>
<a href="#l12.220"></a><span id="l12.220" class="difflineminus">-                    }</span>
<a href="#l12.221"></a><span id="l12.221" class="difflineminus">-                }</span>
<a href="#l12.222"></a><span id="l12.222" class="difflineminus">-            }</span>
<a href="#l12.223"></a><span id="l12.223" class="difflineminus">-</span>
<a href="#l12.224"></a><span id="l12.224" class="difflineminus">-            if (day &amp;&amp; offset != undefined) {</span>
<a href="#l12.225"></a><span id="l12.225" class="difflineminus">-                day.setDate(day.getDate() + (7 * offset));</span>
<a href="#l12.226"></a><span id="l12.226" class="difflineminus">-                return day;</span>
<a href="#l12.227"></a><span id="l12.227" class="difflineminus">-            }</span>
<a href="#l12.228"></a><span id="l12.228" class="difflineminus">-            return null;</span>
<a href="#l12.229"></a><span id="l12.229" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.230"></a><span id="l12.230" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.231"></a><span id="l12.231" class="difflineminus">-    &lt;/implementation&gt;</span>
<a href="#l12.232"></a><span id="l12.232" class="difflineminus">-  &lt;/binding&gt;</span>
<a href="#l12.233"></a><span id="l12.233" class="difflineminus">-</span>
<a href="#l12.234"></a><span id="l12.234" class="difflineminus">-  &lt;binding id=&quot;datetimepicker-base&quot; extends=&quot;chrome://global/content/bindings/general.xml#basecontrol&quot;</span>
<a href="#l12.235"></a><span id="l12.235" class="difflineminus">-           inherits=&quot;value,onchange&quot;&gt;</span>
<a href="#l12.236"></a><span id="l12.236" class="difflineminus">-    &lt;implementation&gt;</span>
<a href="#l12.237"></a><span id="l12.237" class="difflineminus">-      &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l12.238"></a><span id="l12.238" class="difflineminus">-          this.kTimeFormatObject = { timeStyle: &quot;short&quot; };</span>
<a href="#l12.239"></a><span id="l12.239" class="difflineminus">-          this.initDateFormat();</span>
<a href="#l12.240"></a><span id="l12.240" class="difflineminus">-          this.initTimeFormat();</span>
<a href="#l12.241"></a><span id="l12.241" class="difflineminus">-      ]]&gt;&lt;/constructor&gt;</span>
<a href="#l12.242"></a><span id="l12.242" class="difflineminus">-</span>
<a href="#l12.243"></a><span id="l12.243" class="difflineminus">-      &lt;property name=&quot;value&quot;</span>
<a href="#l12.244"></a><span id="l12.244" class="difflineminus">-                onget=&quot;return this.mValue&quot;</span>
<a href="#l12.245"></a><span id="l12.245" class="difflineminus">-                onset=&quot;this.update(val, false)&quot;/&gt;</span>
<a href="#l12.246"></a><span id="l12.246" class="difflineminus">-</span>
<a href="#l12.247"></a><span id="l12.247" class="difflineminus">-      &lt;property name=&quot;lastDateParseIncludedTime&quot;</span>
<a href="#l12.248"></a><span id="l12.248" class="difflineminus">-                onget=&quot;return this.mLastDateParseIncludedTime;&quot;</span>
<a href="#l12.249"></a><span id="l12.249" class="difflineminus">-                onset=&quot;this.mLastDateParseIncludedTime = val;&quot; /&gt;</span>
<a href="#l12.250"></a><span id="l12.250" class="difflineminus">-</span>
<a href="#l12.251"></a><span id="l12.251" class="difflineminus">-      &lt;method name=&quot;update&quot;&gt;</span>
<a href="#l12.252"></a><span id="l12.252" class="difflineminus">-        &lt;parameter name=&quot;aValue&quot;/&gt;</span>
<a href="#l12.253"></a><span id="l12.253" class="difflineminus">-        &lt;parameter name=&quot;aRefresh&quot;/&gt;</span>
<a href="#l12.254"></a><span id="l12.254" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.255"></a><span id="l12.255" class="difflineminus">-            if (aValue != null) {</span>
<a href="#l12.256"></a><span id="l12.256" class="difflineminus">-                this.mValue = aValue;</span>
<a href="#l12.257"></a><span id="l12.257" class="difflineminus">-            }</span>
<a href="#l12.258"></a><span id="l12.258" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.259"></a><span id="l12.259" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.260"></a><span id="l12.260" class="difflineminus">-</span>
<a href="#l12.261"></a><span id="l12.261" class="difflineminus">-      &lt;method name=&quot;fireEvent&quot;&gt;</span>
<a href="#l12.262"></a><span id="l12.262" class="difflineminus">-        &lt;parameter name=&quot;aEventName&quot;/&gt;</span>
<a href="#l12.263"></a><span id="l12.263" class="difflineminus">-        &lt;parameter name=&quot;aDetail&quot;/&gt;</span>
<a href="#l12.264"></a><span id="l12.264" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.265"></a><span id="l12.265" class="difflineminus">-            let event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l12.266"></a><span id="l12.266" class="difflineminus">-            event.initEvent(aEventName, true, true);</span>
<a href="#l12.267"></a><span id="l12.267" class="difflineminus">-            event.detail = aDetail;</span>
<a href="#l12.268"></a><span id="l12.268" class="difflineminus">-            this.dispatchEvent(event);</span>
<a href="#l12.269"></a><span id="l12.269" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.270"></a><span id="l12.270" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.271"></a><span id="l12.271" class="difflineminus">-</span>
<a href="#l12.272"></a><span id="l12.272" class="difflineminus">-      &lt;!-- Parameter aValue may be a date or a date time. Dates are</span>
<a href="#l12.273"></a><span id="l12.273" class="difflineminus">-           read according to locale/OS setting (d-m-y or m-d-y or ...).</span>
<a href="#l12.274"></a><span id="l12.274" class="difflineminus">-           (see initDateFormat). Uses parseTime() for times.</span>
<a href="#l12.275"></a><span id="l12.275" class="difflineminus">-      --&gt;</span>
<a href="#l12.276"></a><span id="l12.276" class="difflineminus">-      &lt;method name=&quot;parseDateTime&quot;&gt;</span>
<a href="#l12.277"></a><span id="l12.277" class="difflineminus">-        &lt;parameter name=&quot;aValue&quot;/&gt;</span>
<a href="#l12.278"></a><span id="l12.278" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.279"></a><span id="l12.279" class="difflineminus">-            this.mLastDateParseIncludedTime = false;</span>
<a href="#l12.280"></a><span id="l12.280" class="difflineminus">-            let tempDate = null;</span>
<a href="#l12.281"></a><span id="l12.281" class="difflineminus">-            if (!this.probeSucceeded) {</span>
<a href="#l12.282"></a><span id="l12.282" class="difflineminus">-                return null; // avoid errors accessing uninitialized data.</span>
<a href="#l12.283"></a><span id="l12.283" class="difflineminus">-            }</span>
<a href="#l12.284"></a><span id="l12.284" class="difflineminus">-</span>
<a href="#l12.285"></a><span id="l12.285" class="difflineminus">-            let year = Number.MIN_VALUE;</span>
<a href="#l12.286"></a><span id="l12.286" class="difflineminus">-            let month = -1;</span>
<a href="#l12.287"></a><span id="l12.287" class="difflineminus">-            let day = -1;</span>
<a href="#l12.288"></a><span id="l12.288" class="difflineminus">-            let timeString = null;</span>
<a href="#l12.289"></a><span id="l12.289" class="difflineminus">-</span>
<a href="#l12.290"></a><span id="l12.290" class="difflineminus">-            if (this.alphaMonths == null) {</span>
<a href="#l12.291"></a><span id="l12.291" class="difflineminus">-                // SHORT NUMERIC DATE, such as 2002-03-04, 4/3/2002, or CE2002Y03M04D.</span>
<a href="#l12.292"></a><span id="l12.292" class="difflineminus">-                // Made of digits &amp; nonDigits.  (Nondigits may be unicode letters</span>
<a href="#l12.293"></a><span id="l12.293" class="difflineminus">-                // which do not match \w, esp. in CJK locales.)</span>
<a href="#l12.294"></a><span id="l12.294" class="difflineminus">-                // (.*)? binds to null if no suffix.</span>
<a href="#l12.295"></a><span id="l12.295" class="difflineminus">-                let parseNumShortDateRegex = /^\D*(\d+)\D+(\d+)\D+(\d+)(.*)?$/;</span>
<a href="#l12.296"></a><span id="l12.296" class="difflineminus">-                let dateNumbersArray = parseNumShortDateRegex.exec(aValue);</span>
<a href="#l12.297"></a><span id="l12.297" class="difflineminus">-                if (dateNumbersArray != null) {</span>
<a href="#l12.298"></a><span id="l12.298" class="difflineminus">-                    year = Number(dateNumbersArray[this.yearIndex]);</span>
<a href="#l12.299"></a><span id="l12.299" class="difflineminus">-                    month = Number(dateNumbersArray[this.monthIndex]) - 1; // 0-based</span>
<a href="#l12.300"></a><span id="l12.300" class="difflineminus">-                    day = Number(dateNumbersArray[this.dayIndex]);</span>
<a href="#l12.301"></a><span id="l12.301" class="difflineminus">-                    timeString = dateNumbersArray[4];</span>
<a href="#l12.302"></a><span id="l12.302" class="difflineminus">-                }</span>
<a href="#l12.303"></a><span id="l12.303" class="difflineminus">-            } else {</span>
<a href="#l12.304"></a><span id="l12.304" class="difflineminus">-                // SHORT DATE WITH ALPHABETIC MONTH, such as &quot;dd MMM yy&quot; or &quot;MMMM dd, yyyy&quot;</span>
<a href="#l12.305"></a><span id="l12.305" class="difflineminus">-                // (\d+|[^\d\W]) is digits or letters, not both together.</span>
<a href="#l12.306"></a><span id="l12.306" class="difflineminus">-                // Allows 31dec1999 (no delimiters between parts) if OS does (w2k does not).</span>
<a href="#l12.307"></a><span id="l12.307" class="difflineminus">-                // Allows Dec 31, 1999 (comma and space between parts)</span>
<a href="#l12.308"></a><span id="l12.308" class="difflineminus">-                // (Only accepts ASCII month names; JavaScript RegExp does not have an</span>
<a href="#l12.309"></a><span id="l12.309" class="difflineminus">-                // easy way to describe unicode letters short of a HUGE character range</span>
<a href="#l12.310"></a><span id="l12.310" class="difflineminus">-                // regexp derived from the Alphabetic ranges in</span>
<a href="#l12.311"></a><span id="l12.311" class="difflineminus">-                // http://www.unicode.org/Public/UNIDATA/DerivedCoreProperties.txt)</span>
<a href="#l12.312"></a><span id="l12.312" class="difflineminus">-                // (.*)? binds to null if no suffix.</span>
<a href="#l12.313"></a><span id="l12.313" class="difflineminus">-                let parseAlphShortDateRegex = /^\s*(\d+|[^\d\W]+)\W{0,2}(\d+|[^\d\W]+)\W{0,2}(\d+|[^\d\W]+)(.*)?$/;</span>
<a href="#l12.314"></a><span id="l12.314" class="difflineminus">-                let datePartsArray = parseAlphShortDateRegex.exec(aValue);</span>
<a href="#l12.315"></a><span id="l12.315" class="difflineminus">-                if (datePartsArray != null) {</span>
<a href="#l12.316"></a><span id="l12.316" class="difflineminus">-                    year = Number(datePartsArray[this.yearIndex]);</span>
<a href="#l12.317"></a><span id="l12.317" class="difflineminus">-                    let monthString = datePartsArray[this.monthIndex].toUpperCase();</span>
<a href="#l12.318"></a><span id="l12.318" class="difflineminus">-                    for (let monthIdx = 0; monthIdx &lt; this.alphaMonths.length; monthIdx++) {</span>
<a href="#l12.319"></a><span id="l12.319" class="difflineminus">-                        if (monthString == this.alphaMonths[monthIdx]) {</span>
<a href="#l12.320"></a><span id="l12.320" class="difflineminus">-                            month = monthIdx;</span>
<a href="#l12.321"></a><span id="l12.321" class="difflineminus">-                            break;</span>
<a href="#l12.322"></a><span id="l12.322" class="difflineminus">-                        }</span>
<a href="#l12.323"></a><span id="l12.323" class="difflineminus">-                    }</span>
<a href="#l12.324"></a><span id="l12.324" class="difflineminus">-                    day = Number(datePartsArray[this.dayIndex]);</span>
<a href="#l12.325"></a><span id="l12.325" class="difflineminus">-                    timeString = datePartsArray[4];</span>
<a href="#l12.326"></a><span id="l12.326" class="difflineminus">-                }</span>
<a href="#l12.327"></a><span id="l12.327" class="difflineminus">-            }</span>
<a href="#l12.328"></a><span id="l12.328" class="difflineminus">-            if (year != Number.MIN_VALUE &amp;&amp; month != -1 &amp;&amp; day != -1) {</span>
<a href="#l12.329"></a><span id="l12.329" class="difflineminus">-                // year, month, day successfully parsed</span>
<a href="#l12.330"></a><span id="l12.330" class="difflineminus">-                if (year &gt;= 0 &amp;&amp; year &lt; 100) {</span>
<a href="#l12.331"></a><span id="l12.331" class="difflineminus">-                    // If 0 &lt;= year &lt; 100, treat as 2-digit year (like formatDate):</span>
<a href="#l12.332"></a><span id="l12.332" class="difflineminus">-                    //   parse year as up to 30 years in future or 69 years in past.</span>
<a href="#l12.333"></a><span id="l12.333" class="difflineminus">-                    //   (Covers 30-year mortgage and most working people's birthdate.)</span>
<a href="#l12.334"></a><span id="l12.334" class="difflineminus">-                    // otherwise will be treated as four digit year.</span>
<a href="#l12.335"></a><span id="l12.335" class="difflineminus">-                    let currentYear = new Date().getFullYear();</span>
<a href="#l12.336"></a><span id="l12.336" class="difflineminus">-                    let currentCentury = currentYear - currentYear % 100;</span>
<a href="#l12.337"></a><span id="l12.337" class="difflineminus">-                    year = currentCentury + year;</span>
<a href="#l12.338"></a><span id="l12.338" class="difflineminus">-                    if (year &lt; currentYear - 69) {</span>
<a href="#l12.339"></a><span id="l12.339" class="difflineminus">-                        year += 100;</span>
<a href="#l12.340"></a><span id="l12.340" class="difflineminus">-                    }</span>
<a href="#l12.341"></a><span id="l12.341" class="difflineminus">-                    if (year &gt; currentYear + 30) {</span>
<a href="#l12.342"></a><span id="l12.342" class="difflineminus">-                        year -= 100;</span>
<a href="#l12.343"></a><span id="l12.343" class="difflineminus">-                    }</span>
<a href="#l12.344"></a><span id="l12.344" class="difflineminus">-                }</span>
<a href="#l12.345"></a><span id="l12.345" class="difflineminus">-                // if time is also present, parse it</span>
<a href="#l12.346"></a><span id="l12.346" class="difflineminus">-                let hours = 0;</span>
<a href="#l12.347"></a><span id="l12.347" class="difflineminus">-                let minutes = 0;</span>
<a href="#l12.348"></a><span id="l12.348" class="difflineminus">-                let seconds = 0;</span>
<a href="#l12.349"></a><span id="l12.349" class="difflineminus">-                if (timeString != null) {</span>
<a href="#l12.350"></a><span id="l12.350" class="difflineminus">-                    let time = this.parseTime(timeString);</span>
<a href="#l12.351"></a><span id="l12.351" class="difflineminus">-                    if (time != null) {</span>
<a href="#l12.352"></a><span id="l12.352" class="difflineminus">-                        hours = time.getHours();</span>
<a href="#l12.353"></a><span id="l12.353" class="difflineminus">-                        minutes = time.getMinutes();</span>
<a href="#l12.354"></a><span id="l12.354" class="difflineminus">-                        seconds = time.getSeconds();</span>
<a href="#l12.355"></a><span id="l12.355" class="difflineminus">-                        this.mLastDateParseIncludedTime = true;</span>
<a href="#l12.356"></a><span id="l12.356" class="difflineminus">-                    }</span>
<a href="#l12.357"></a><span id="l12.357" class="difflineminus">-                }</span>
<a href="#l12.358"></a><span id="l12.358" class="difflineminus">-                tempDate = new Date(year, month, day, hours, minutes, seconds, 0);</span>
<a href="#l12.359"></a><span id="l12.359" class="difflineminus">-            } // else did not match regex, not a valid date</span>
<a href="#l12.360"></a><span id="l12.360" class="difflineminus">-            return tempDate;</span>
<a href="#l12.361"></a><span id="l12.361" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.362"></a><span id="l12.362" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.363"></a><span id="l12.363" class="difflineminus">-</span>
<a href="#l12.364"></a><span id="l12.364" class="difflineminus">-      &lt;!-- Parse a variety of time formats so that cut and paste is likely to work.</span>
<a href="#l12.365"></a><span id="l12.365" class="difflineminus">-           separator:            ':'         '.'        ' '        symbol        none</span>
<a href="#l12.366"></a><span id="l12.366" class="difflineminus">-                                 &quot;12:34:56&quot;  &quot;12.34.56&quot; &quot;12 34 56&quot; &quot;12h34m56s&quot;   &quot;123456&quot;</span>
<a href="#l12.367"></a><span id="l12.367" class="difflineminus">-           seconds optional:     &quot;02:34&quot;     &quot;02.34&quot;    &quot;02 34&quot;    &quot;02h34m&quot;      &quot;0234&quot;</span>
<a href="#l12.368"></a><span id="l12.368" class="difflineminus">-           minutes optional:     &quot;12&quot;        &quot;12&quot;       &quot;12&quot;       &quot;12h&quot;         &quot;12&quot;</span>
<a href="#l12.369"></a><span id="l12.369" class="difflineminus">-           1st hr digit optional:&quot;9:34&quot;      &quot; 9.34&quot;     &quot;9 34&quot;     &quot;9H34M&quot;       &quot;934am&quot;</span>
<a href="#l12.370"></a><span id="l12.370" class="difflineminus">-           skip nondigit prefix  &quot; 12:34&quot;    &quot;t12.34&quot;   &quot; 12 34&quot;   &quot;T12H34M&quot;     &quot;T0234&quot;</span>
<a href="#l12.371"></a><span id="l12.371" class="difflineminus">-           am/pm optional        &quot;02:34 a.m.&quot;&quot;02.34pm&quot;  &quot;02 34 A M&quot; &quot;02H34M P.M.&quot; &quot;0234pm&quot;</span>
<a href="#l12.372"></a><span id="l12.372" class="difflineminus">-           am/pm prefix          &quot;a.m. 02:34&quot;&quot;pm02.34&quot;  &quot;A M 02 34&quot; &quot;P.M. 02H34M&quot; &quot;pm0234&quot;</span>
<a href="#l12.373"></a><span id="l12.373" class="difflineminus">-           am/pm cyrillic        &quot;02:34\u0430.\u043c.&quot;  &quot;02 34 \u0420 \u041c&quot;</span>
<a href="#l12.374"></a><span id="l12.374" class="difflineminus">-           am/pm arabic          &quot;\u063502:34&quot; (RTL 02:34a) &quot;\u0645 02.34&quot; (RTL 02.34 p)</span>
<a href="#l12.375"></a><span id="l12.375" class="difflineminus">-           above/below noon      &quot;\u4e0a\u534802:34&quot;    &quot;\u4e0b\u5348 02 34&quot;</span>
<a href="#l12.376"></a><span id="l12.376" class="difflineminus">-           noon before/after     &quot;\u5348\u524d02:34&quot;    &quot;\u5348\u5f8c 02 34&quot;</span>
<a href="#l12.377"></a><span id="l12.377" class="difflineminus">-      --&gt;</span>
<a href="#l12.378"></a><span id="l12.378" class="difflineminus">-      &lt;method name=&quot;parseTime&quot;&gt;</span>
<a href="#l12.379"></a><span id="l12.379" class="difflineminus">-        &lt;parameter name=&quot;aValue&quot;/&gt;</span>
<a href="#l12.380"></a><span id="l12.380" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.381"></a><span id="l12.381" class="difflineminus">-            let now = new Date();</span>
<a href="#l12.382"></a><span id="l12.382" class="difflineminus">-</span>
<a href="#l12.383"></a><span id="l12.383" class="difflineminus">-            let noon = cal.l10n.getDateFmtString(&quot;noon&quot;);</span>
<a href="#l12.384"></a><span id="l12.384" class="difflineminus">-            if (aValue.toLowerCase() == noon.toLowerCase()) {</span>
<a href="#l12.385"></a><span id="l12.385" class="difflineminus">-                return new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12, 0, 0, 0);</span>
<a href="#l12.386"></a><span id="l12.386" class="difflineminus">-            }</span>
<a href="#l12.387"></a><span id="l12.387" class="difflineminus">-</span>
<a href="#l12.388"></a><span id="l12.388" class="difflineminus">-            let midnight = cal.l10n.getDateFmtString(&quot;midnight&quot;);</span>
<a href="#l12.389"></a><span id="l12.389" class="difflineminus">-            if (aValue.toLowerCase() == midnight.toLowerCase()) {</span>
<a href="#l12.390"></a><span id="l12.390" class="difflineminus">-                return new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0, 0);</span>
<a href="#l12.391"></a><span id="l12.391" class="difflineminus">-            }</span>
<a href="#l12.392"></a><span id="l12.392" class="difflineminus">-</span>
<a href="#l12.393"></a><span id="l12.393" class="difflineminus">-            let time = null;</span>
<a href="#l12.394"></a><span id="l12.394" class="difflineminus">-            let timePartsArray = this.parseTimeRegExp.exec(aValue);</span>
<a href="#l12.395"></a><span id="l12.395" class="difflineminus">-            const PRE_INDEX = 1, HR_INDEX = 2, MIN_INDEX = 4, SEC_INDEX = 6, POST_INDEX = 8;</span>
<a href="#l12.396"></a><span id="l12.396" class="difflineminus">-</span>
<a href="#l12.397"></a><span id="l12.397" class="difflineminus">-            if (timePartsArray != null) {</span>
<a href="#l12.398"></a><span id="l12.398" class="difflineminus">-                let hoursString = timePartsArray[HR_INDEX];</span>
<a href="#l12.399"></a><span id="l12.399" class="difflineminus">-                let hours = Number(hoursString);</span>
<a href="#l12.400"></a><span id="l12.400" class="difflineminus">-                if (!(hours &gt;= 0 &amp;&amp; hours &lt; 24)) {</span>
<a href="#l12.401"></a><span id="l12.401" class="difflineminus">-                    return null;</span>
<a href="#l12.402"></a><span id="l12.402" class="difflineminus">-                }</span>
<a href="#l12.403"></a><span id="l12.403" class="difflineminus">-</span>
<a href="#l12.404"></a><span id="l12.404" class="difflineminus">-                let minutesString = timePartsArray[MIN_INDEX];</span>
<a href="#l12.405"></a><span id="l12.405" class="difflineminus">-                let minutes = (minutesString == null ? 0 : Number(minutesString));</span>
<a href="#l12.406"></a><span id="l12.406" class="difflineminus">-                if (!(minutes &gt;= 0 &amp;&amp; minutes &lt; 60)) {</span>
<a href="#l12.407"></a><span id="l12.407" class="difflineminus">-                    return null;</span>
<a href="#l12.408"></a><span id="l12.408" class="difflineminus">-                }</span>
<a href="#l12.409"></a><span id="l12.409" class="difflineminus">-</span>
<a href="#l12.410"></a><span id="l12.410" class="difflineminus">-                let secondsString = timePartsArray[SEC_INDEX];</span>
<a href="#l12.411"></a><span id="l12.411" class="difflineminus">-                let seconds = (secondsString == null ? 0 : Number(secondsString));</span>
<a href="#l12.412"></a><span id="l12.412" class="difflineminus">-                if (!(seconds &gt;= 0 &amp;&amp; seconds &lt; 60)) {</span>
<a href="#l12.413"></a><span id="l12.413" class="difflineminus">-                    return null;</span>
<a href="#l12.414"></a><span id="l12.414" class="difflineminus">-                }</span>
<a href="#l12.415"></a><span id="l12.415" class="difflineminus">-</span>
<a href="#l12.416"></a><span id="l12.416" class="difflineminus">-                let ampmCode = null;</span>
<a href="#l12.417"></a><span id="l12.417" class="difflineminus">-                if (timePartsArray[PRE_INDEX] || timePartsArray[POST_INDEX]) {</span>
<a href="#l12.418"></a><span id="l12.418" class="difflineminus">-                    if (this.ampmIndex &amp;&amp; timePartsArray[this.ampmIndex]) {</span>
<a href="#l12.419"></a><span id="l12.419" class="difflineminus">-                        // try current format order first</span>
<a href="#l12.420"></a><span id="l12.420" class="difflineminus">-                        let ampmString = timePartsArray[this.ampmIndex];</span>
<a href="#l12.421"></a><span id="l12.421" class="difflineminus">-                        if (this.amRegExp.test(ampmString)) {</span>
<a href="#l12.422"></a><span id="l12.422" class="difflineminus">-                            ampmCode = &quot;AM&quot;;</span>
<a href="#l12.423"></a><span id="l12.423" class="difflineminus">-                        } else if (this.pmRegExp.test(ampmString)) {</span>
<a href="#l12.424"></a><span id="l12.424" class="difflineminus">-                            ampmCode = &quot;PM&quot;;</span>
<a href="#l12.425"></a><span id="l12.425" class="difflineminus">-                        }</span>
<a href="#l12.426"></a><span id="l12.426" class="difflineminus">-                    }</span>
<a href="#l12.427"></a><span id="l12.427" class="difflineminus">-                    if (ampmCode == null) { // not yet found</span>
<a href="#l12.428"></a><span id="l12.428" class="difflineminus">-                        // try any format order</span>
<a href="#l12.429"></a><span id="l12.429" class="difflineminus">-                        let preString = timePartsArray[PRE_INDEX];</span>
<a href="#l12.430"></a><span id="l12.430" class="difflineminus">-                        let postString = timePartsArray[POST_INDEX];</span>
<a href="#l12.431"></a><span id="l12.431" class="difflineminus">-                        if ((preString &amp;&amp; this.amRegExp.test(preString)) ||</span>
<a href="#l12.432"></a><span id="l12.432" class="difflineminus">-                            (postString &amp;&amp; this.amRegExp.test(postString))) {</span>
<a href="#l12.433"></a><span id="l12.433" class="difflineminus">-                            ampmCode = &quot;AM&quot;;</span>
<a href="#l12.434"></a><span id="l12.434" class="difflineminus">-                        } else if ((preString &amp;&amp; this.pmRegExp.test(preString)) ||</span>
<a href="#l12.435"></a><span id="l12.435" class="difflineminus">-                                   (postString &amp;&amp; this.pmRegExp.test(postString))) {</span>
<a href="#l12.436"></a><span id="l12.436" class="difflineminus">-                            ampmCode = &quot;PM&quot;;</span>
<a href="#l12.437"></a><span id="l12.437" class="difflineminus">-                        } // else no match, ignore and treat as 24hour time.</span>
<a href="#l12.438"></a><span id="l12.438" class="difflineminus">-                    }</span>
<a href="#l12.439"></a><span id="l12.439" class="difflineminus">-                }</span>
<a href="#l12.440"></a><span id="l12.440" class="difflineminus">-                if (ampmCode == &quot;AM&quot;) {</span>
<a href="#l12.441"></a><span id="l12.441" class="difflineminus">-                    if (hours == 12) {</span>
<a href="#l12.442"></a><span id="l12.442" class="difflineminus">-                        hours = 0;</span>
<a href="#l12.443"></a><span id="l12.443" class="difflineminus">-                    }</span>
<a href="#l12.444"></a><span id="l12.444" class="difflineminus">-                } else if (ampmCode == &quot;PM&quot;) {</span>
<a href="#l12.445"></a><span id="l12.445" class="difflineminus">-                    if (hours &lt; 12) {</span>
<a href="#l12.446"></a><span id="l12.446" class="difflineminus">-                        hours += 12;</span>
<a href="#l12.447"></a><span id="l12.447" class="difflineminus">-                    }</span>
<a href="#l12.448"></a><span id="l12.448" class="difflineminus">-                }</span>
<a href="#l12.449"></a><span id="l12.449" class="difflineminus">-                time = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes, seconds, 0);</span>
<a href="#l12.450"></a><span id="l12.450" class="difflineminus">-            }  // else did not match regex, not valid time</span>
<a href="#l12.451"></a><span id="l12.451" class="difflineminus">-            return time;</span>
<a href="#l12.452"></a><span id="l12.452" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.453"></a><span id="l12.453" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.454"></a><span id="l12.454" class="difflineminus">-</span>
<a href="#l12.455"></a><span id="l12.455" class="difflineminus">-      &lt;method name=&quot;initDateFormat&quot;&gt;</span>
<a href="#l12.456"></a><span id="l12.456" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.457"></a><span id="l12.457" class="difflineminus">-            // probe the dateformat</span>
<a href="#l12.458"></a><span id="l12.458" class="difflineminus">-            this.yearIndex = -1;</span>
<a href="#l12.459"></a><span id="l12.459" class="difflineminus">-            this.monthIndex = -1;</span>
<a href="#l12.460"></a><span id="l12.460" class="difflineminus">-            this.dayIndex = -1;</span>
<a href="#l12.461"></a><span id="l12.461" class="difflineminus">-            this.twoDigitYear = false;</span>
<a href="#l12.462"></a><span id="l12.462" class="difflineminus">-            this.alphaMonths = null;</span>
<a href="#l12.463"></a><span id="l12.463" class="difflineminus">-            this.probeSucceeded = false;</span>
<a href="#l12.464"></a><span id="l12.464" class="difflineminus">-            this.mLastDateParseIncludedTime = false;</span>
<a href="#l12.465"></a><span id="l12.465" class="difflineminus">-</span>
<a href="#l12.466"></a><span id="l12.466" class="difflineminus">-            // SHORT NUMERIC DATE, such as 2002-03-04, 4/3/2002, or CE2002Y03M04D.</span>
<a href="#l12.467"></a><span id="l12.467" class="difflineminus">-            // Made of digits &amp; nonDigits.  (Nondigits may be unicode letters</span>
<a href="#l12.468"></a><span id="l12.468" class="difflineminus">-            // which do not match \w, esp. in CJK locales.)</span>
<a href="#l12.469"></a><span id="l12.469" class="difflineminus">-            this.parseShortDateRegex = /^\D*(\d+)\D+(\d+)\D+(\d+)\D?$/;</span>
<a href="#l12.470"></a><span id="l12.470" class="difflineminus">-            // Make sure to use UTC date and timezone here to avoid the pattern</span>
<a href="#l12.471"></a><span id="l12.471" class="difflineminus">-            // detection to fail if the probe date output would have an timezone</span>
<a href="#l12.472"></a><span id="l12.472" class="difflineminus">-            // offset due to our lack of support of historic timezone definitions.</span>
<a href="#l12.473"></a><span id="l12.473" class="difflineminus">-            let probeDate = new Date(Date.UTC(2002, 3, 6)); // month is 0-based</span>
<a href="#l12.474"></a><span id="l12.474" class="difflineminus">-            let probeString = this.formatDate(probeDate, cal.dtz.UTC);</span>
<a href="#l12.475"></a><span id="l12.475" class="difflineminus">-            let probeArray = this.parseShortDateRegex.exec(probeString);</span>
<a href="#l12.476"></a><span id="l12.476" class="difflineminus">-            if (probeArray) {</span>
<a href="#l12.477"></a><span id="l12.477" class="difflineminus">-                // Numeric month format</span>
<a href="#l12.478"></a><span id="l12.478" class="difflineminus">-                for (let i = 1; i &lt;= 3; i++) {</span>
<a href="#l12.479"></a><span id="l12.479" class="difflineminus">-                    switch (Number(probeArray[i])) {</span>
<a href="#l12.480"></a><span id="l12.480" class="difflineminus">-                        case 2: this.twoDigitYear = true; // falls through</span>
<a href="#l12.481"></a><span id="l12.481" class="difflineminus">-                        case 2002: this.yearIndex = i; break;</span>
<a href="#l12.482"></a><span id="l12.482" class="difflineminus">-                        case 4: this.monthIndex = i; break;</span>
<a href="#l12.483"></a><span id="l12.483" class="difflineminus">-                        case 5: // falls through for OS timezones western to GMT</span>
<a href="#l12.484"></a><span id="l12.484" class="difflineminus">-                        case 6: this.dayIndex = i; break;</span>
<a href="#l12.485"></a><span id="l12.485" class="difflineminus">-                    }</span>
<a href="#l12.486"></a><span id="l12.486" class="difflineminus">-                }</span>
<a href="#l12.487"></a><span id="l12.487" class="difflineminus">-                // All three indexes are set (not -1) at this point.</span>
<a href="#l12.488"></a><span id="l12.488" class="difflineminus">-                this.probeSucceeded = true;</span>
<a href="#l12.489"></a><span id="l12.489" class="difflineminus">-            } else {</span>
<a href="#l12.490"></a><span id="l12.490" class="difflineminus">-                // SHORT DATE WITH ALPHABETIC MONTH, such as &quot;dd MMM yy&quot; or &quot;MMMM dd, yyyy&quot;</span>
<a href="#l12.491"></a><span id="l12.491" class="difflineminus">-                // (\d+|[^\d\W]) is digits or letters, not both together.</span>
<a href="#l12.492"></a><span id="l12.492" class="difflineminus">-                // Allows 31dec1999 (no delimiters between parts) if OS does (w2k does not).</span>
<a href="#l12.493"></a><span id="l12.493" class="difflineminus">-                // Allows Dec 31, 1999 (comma and space between parts)</span>
<a href="#l12.494"></a><span id="l12.494" class="difflineminus">-                // (Only accepts ASCII month names; JavaScript RegExp does not have an</span>
<a href="#l12.495"></a><span id="l12.495" class="difflineminus">-                // easy way to describe unicode letters short of a HUGE character range</span>
<a href="#l12.496"></a><span id="l12.496" class="difflineminus">-                // regexp derived from the Alphabetic ranges in</span>
<a href="#l12.497"></a><span id="l12.497" class="difflineminus">-                // http://www.unicode.org/Public/UNIDATA/DerivedCoreProperties.txt)</span>
<a href="#l12.498"></a><span id="l12.498" class="difflineminus">-                this.parseShortDateRegex = /^\s*(\d+|[^\d\W]+)\W{0,2}(\d+|[^\d\W]+)\W{0,2}(\d+|[^\d\W]+)\s*$/;</span>
<a href="#l12.499"></a><span id="l12.499" class="difflineminus">-                probeArray = this.parseShortDateRegex.exec(probeString);</span>
<a href="#l12.500"></a><span id="l12.500" class="difflineminus">-                if (probeArray != null) {</span>
<a href="#l12.501"></a><span id="l12.501" class="difflineminus">-                    for (let j = 1; j &lt;= 3; j++) {</span>
<a href="#l12.502"></a><span id="l12.502" class="difflineminus">-                        switch (Number(probeArray[j])) {</span>
<a href="#l12.503"></a><span id="l12.503" class="difflineminus">-                            case 2: this.twoDigitYear = true; // falls through</span>
<a href="#l12.504"></a><span id="l12.504" class="difflineminus">-                            case 2002: this.yearIndex = j; break;</span>
<a href="#l12.505"></a><span id="l12.505" class="difflineminus">-                            case 5: // falls through for OS timezones western to GMT</span>
<a href="#l12.506"></a><span id="l12.506" class="difflineminus">-                            case 6: this.dayIndex = j; break;</span>
<a href="#l12.507"></a><span id="l12.507" class="difflineminus">-                            default: this.monthIndex = j; break;</span>
<a href="#l12.508"></a><span id="l12.508" class="difflineminus">-                        }</span>
<a href="#l12.509"></a><span id="l12.509" class="difflineminus">-                    }</span>
<a href="#l12.510"></a><span id="l12.510" class="difflineminus">-                    if (this.yearIndex != -1 &amp;&amp; this.dayIndex != -1 &amp;&amp; this.monthIndex != -1) {</span>
<a href="#l12.511"></a><span id="l12.511" class="difflineminus">-                        this.probeSucceeded = true;</span>
<a href="#l12.512"></a><span id="l12.512" class="difflineminus">-                        // Fill this.alphaMonths with month names.</span>
<a href="#l12.513"></a><span id="l12.513" class="difflineminus">-                        this.alphaMonths = new Array(12);</span>
<a href="#l12.514"></a><span id="l12.514" class="difflineminus">-                        for (let monthIdx = 0; monthIdx &lt; 12; monthIdx++) {</span>
<a href="#l12.515"></a><span id="l12.515" class="difflineminus">-                            probeDate.setMonth(monthIdx);</span>
<a href="#l12.516"></a><span id="l12.516" class="difflineminus">-                            probeString = this.formatDate(probeDate);</span>
<a href="#l12.517"></a><span id="l12.517" class="difflineminus">-                            probeArray = this.parseShortDateRegex.exec(probeString);</span>
<a href="#l12.518"></a><span id="l12.518" class="difflineminus">-                            if (probeArray) {</span>
<a href="#l12.519"></a><span id="l12.519" class="difflineminus">-                                this.alphaMonths[monthIdx] = probeArray[this.monthIndex].toUpperCase();</span>
<a href="#l12.520"></a><span id="l12.520" class="difflineminus">-                            } else {</span>
<a href="#l12.521"></a><span id="l12.521" class="difflineminus">-                                this.probeSucceeded = false;</span>
<a href="#l12.522"></a><span id="l12.522" class="difflineminus">-                            }</span>
<a href="#l12.523"></a><span id="l12.523" class="difflineminus">-                        }</span>
<a href="#l12.524"></a><span id="l12.524" class="difflineminus">-                    }</span>
<a href="#l12.525"></a><span id="l12.525" class="difflineminus">-                }</span>
<a href="#l12.526"></a><span id="l12.526" class="difflineminus">-            }</span>
<a href="#l12.527"></a><span id="l12.527" class="difflineminus">-            if (!this.probeSucceeded) {</span>
<a href="#l12.528"></a><span id="l12.528" class="difflineminus">-                dump(&quot;\nOperating system short date format is not recognized: &quot; + probeString + &quot;\n&quot;);</span>
<a href="#l12.529"></a><span id="l12.529" class="difflineminus">-            }</span>
<a href="#l12.530"></a><span id="l12.530" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.531"></a><span id="l12.531" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.532"></a><span id="l12.532" class="difflineminus">-</span>
<a href="#l12.533"></a><span id="l12.533" class="difflineminus">-      &lt;!-- Time format in 24-hour format or 12-hour format with am/pm string.</span>
<a href="#l12.534"></a><span id="l12.534" class="difflineminus">-           Should match formats</span>
<a href="#l12.535"></a><span id="l12.535" class="difflineminus">-                HH:mm,       H:mm,       HH:mm:ss,       H:mm:ss</span>
<a href="#l12.536"></a><span id="l12.536" class="difflineminus">-                hh:mm tt,    h:mm tt,    hh:mm:ss tt,    h:mm:ss tt</span>
<a href="#l12.537"></a><span id="l12.537" class="difflineminus">-             tt hh:mm,    tt h:mm,    tt hh:mm:ss,    tt h:mm:ss</span>
<a href="#l12.538"></a><span id="l12.538" class="difflineminus">-           where</span>
<a href="#l12.539"></a><span id="l12.539" class="difflineminus">-           HH is 24 hour digits, with leading 0.  H is 24 hour digits, no leading 0.</span>
<a href="#l12.540"></a><span id="l12.540" class="difflineminus">-           hh is 12 hour digits, with leading 0.  h is 12 hour digits, no leading 0.</span>
<a href="#l12.541"></a><span id="l12.541" class="difflineminus">-           mm and ss are is minutes and seconds digits, with leading 0.</span>
<a href="#l12.542"></a><span id="l12.542" class="difflineminus">-           tt is localized AM or PM string.</span>
<a href="#l12.543"></a><span id="l12.543" class="difflineminus">-           ':' may be ':' or a units marker such as 'h', 'm', or 's' in  15h12m00s</span>
<a href="#l12.544"></a><span id="l12.544" class="difflineminus">-           or may be omitted as in 151200.</span>
<a href="#l12.545"></a><span id="l12.545" class="difflineminus">-      --&gt;</span>
<a href="#l12.546"></a><span id="l12.546" class="difflineminus">-      &lt;method name=&quot;initTimeFormat&quot;&gt;</span>
<a href="#l12.547"></a><span id="l12.547" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.548"></a><span id="l12.548" class="difflineminus">-            const { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l12.549"></a><span id="l12.549" class="difflineminus">-</span>
<a href="#l12.550"></a><span id="l12.550" class="difflineminus">-            // probe the Time format</span>
<a href="#l12.551"></a><span id="l12.551" class="difflineminus">-            this.ampmIndex = null;</span>
<a href="#l12.552"></a><span id="l12.552" class="difflineminus">-            // Digits         HR       sep      MIN     sep      SEC     sep</span>
<a href="#l12.553"></a><span id="l12.553" class="difflineminus">-            //   Index:       2        3        4       5        6       7</span>
<a href="#l12.554"></a><span id="l12.554" class="difflineminus">-            let digitsExpr = &quot;(\\d?\\d)(\\D)?(?:(\\d\\d)(\\D)?(?:(\\d\\d)(\\D)?)?)?&quot;;</span>
<a href="#l12.555"></a><span id="l12.555" class="difflineminus">-            // any letters or '.': non-digit alphanumeric, period (a.m.), or space (P M)</span>
<a href="#l12.556"></a><span id="l12.556" class="difflineminus">-            let anyAmPmExpr = &quot;(?:[^\\d\\W]|[. ])+&quot;;</span>
<a href="#l12.557"></a><span id="l12.557" class="difflineminus">-            // digitsExpr has 6 captures, so index of first ampmExpr is 1, of last is 8.</span>
<a href="#l12.558"></a><span id="l12.558" class="difflineminus">-            let probeTimeRegExp =</span>
<a href="#l12.559"></a><span id="l12.559" class="difflineminus">-                new RegExp(&quot;^(&quot; + anyAmPmExpr + &quot;)?\\s?&quot; + digitsExpr + &quot;(&quot; + anyAmPmExpr + &quot;)?\\s*$&quot;);</span>
<a href="#l12.560"></a><span id="l12.560" class="difflineminus">-            const PRE_INDEX = 1, HR_INDEX = 2, MIN_INDEX = 4, SEC_INDEX = 6, POST_INDEX = 8; // eslint-disable-line no-unused-vars</span>
<a href="#l12.561"></a><span id="l12.561" class="difflineminus">-            let amProbeTime = new Date(2000, 0, 1, 6, 12, 34);</span>
<a href="#l12.562"></a><span id="l12.562" class="difflineminus">-            let pmProbeTime = new Date(2000, 0, 1, 18, 12, 34);</span>
<a href="#l12.563"></a><span id="l12.563" class="difflineminus">-            let formatter = new Services.intl.DateTimeFormat(undefined, this.kTimeFormatObject);</span>
<a href="#l12.564"></a><span id="l12.564" class="difflineminus">-            let amProbeString = formatter.format(amProbeTime);</span>
<a href="#l12.565"></a><span id="l12.565" class="difflineminus">-            let pmProbeString = formatter.format(pmProbeTime);</span>
<a href="#l12.566"></a><span id="l12.566" class="difflineminus">-            let amFormatExpr = null, pmFormatExpr = null;</span>
<a href="#l12.567"></a><span id="l12.567" class="difflineminus">-            if (amProbeString != pmProbeString) {</span>
<a href="#l12.568"></a><span id="l12.568" class="difflineminus">-                let amProbeArray = probeTimeRegExp.exec(amProbeString);</span>
<a href="#l12.569"></a><span id="l12.569" class="difflineminus">-                let pmProbeArray = probeTimeRegExp.exec(pmProbeString);</span>
<a href="#l12.570"></a><span id="l12.570" class="difflineminus">-                if (amProbeArray != null &amp;&amp; pmProbeArray != null) {</span>
<a href="#l12.571"></a><span id="l12.571" class="difflineminus">-                    if (amProbeArray[PRE_INDEX] &amp;&amp; pmProbeArray[PRE_INDEX] &amp;&amp;</span>
<a href="#l12.572"></a><span id="l12.572" class="difflineminus">-                        amProbeArray[PRE_INDEX] != pmProbeArray[PRE_INDEX]) {</span>
<a href="#l12.573"></a><span id="l12.573" class="difflineminus">-                        this.ampmIndex = PRE_INDEX;</span>
<a href="#l12.574"></a><span id="l12.574" class="difflineminus">-                    } else if (amProbeArray[POST_INDEX] &amp;&amp; pmProbeArray[POST_INDEX]) {</span>
<a href="#l12.575"></a><span id="l12.575" class="difflineminus">-                        if (amProbeArray[POST_INDEX] == pmProbeArray[POST_INDEX]) {</span>
<a href="#l12.576"></a><span id="l12.576" class="difflineminus">-                            // check if need to append previous character,</span>
<a href="#l12.577"></a><span id="l12.577" class="difflineminus">-                            // captured by the optional separator pattern after seconds digits,</span>
<a href="#l12.578"></a><span id="l12.578" class="difflineminus">-                            // or after minutes if no seconds, or after hours if no minutes.</span>
<a href="#l12.579"></a><span id="l12.579" class="difflineminus">-                            for (let k = SEC_INDEX; k &gt;= HR_INDEX; k -= 2) {</span>
<a href="#l12.580"></a><span id="l12.580" class="difflineminus">-                                let nextSepI = k + 1;</span>
<a href="#l12.581"></a><span id="l12.581" class="difflineminus">-                                let nextDigitsI = k + 2;</span>
<a href="#l12.582"></a><span id="l12.582" class="difflineminus">-                                if ((k == SEC_INDEX ||</span>
<a href="#l12.583"></a><span id="l12.583" class="difflineminus">-                                     (!amProbeArray[nextDigitsI] &amp;&amp; !pmProbeArray[nextDigitsI])) &amp;&amp;</span>
<a href="#l12.584"></a><span id="l12.584" class="difflineminus">-                                    amProbeArray[nextSepI] &amp;&amp; pmProbeArray[nextSepI] &amp;&amp;</span>
<a href="#l12.585"></a><span id="l12.585" class="difflineminus">-                                    amProbeArray[nextSepI] != pmProbeArray[nextSepI]) {</span>
<a href="#l12.586"></a><span id="l12.586" class="difflineminus">-                                    amProbeArray[POST_INDEX] =</span>
<a href="#l12.587"></a><span id="l12.587" class="difflineminus">-                                      amProbeArray[nextSepI] + amProbeArray[POST_INDEX];</span>
<a href="#l12.588"></a><span id="l12.588" class="difflineminus">-                                    pmProbeArray[POST_INDEX] =</span>
<a href="#l12.589"></a><span id="l12.589" class="difflineminus">-                                      pmProbeArray[nextSepI] + pmProbeArray[POST_INDEX];</span>
<a href="#l12.590"></a><span id="l12.590" class="difflineminus">-                                    this.ampmIndex = POST_INDEX;</span>
<a href="#l12.591"></a><span id="l12.591" class="difflineminus">-                                    break;</span>
<a href="#l12.592"></a><span id="l12.592" class="difflineminus">-                                }</span>
<a href="#l12.593"></a><span id="l12.593" class="difflineminus">-                            }</span>
<a href="#l12.594"></a><span id="l12.594" class="difflineminus">-                        } else {</span>
<a href="#l12.595"></a><span id="l12.595" class="difflineminus">-                            this.ampmIndex = POST_INDEX;</span>
<a href="#l12.596"></a><span id="l12.596" class="difflineminus">-                        }</span>
<a href="#l12.597"></a><span id="l12.597" class="difflineminus">-                    }</span>
<a href="#l12.598"></a><span id="l12.598" class="difflineminus">-                    if (this.ampmIndex) {</span>
<a href="#l12.599"></a><span id="l12.599" class="difflineminus">-                        let makeFormatRegExp = function(string) {</span>
<a href="#l12.600"></a><span id="l12.600" class="difflineminus">-                            // make expr to accept either as provided, lowercased, or uppercased</span>
<a href="#l12.601"></a><span id="l12.601" class="difflineminus">-                            let regExp = string.replace(/(\W)/g, &quot;[$1]&quot;); // escape punctuation</span>
<a href="#l12.602"></a><span id="l12.602" class="difflineminus">-                            let lowercased = string.toLowerCase();</span>
<a href="#l12.603"></a><span id="l12.603" class="difflineminus">-                            if (string != lowercased) {</span>
<a href="#l12.604"></a><span id="l12.604" class="difflineminus">-                                regExp += &quot;|&quot; + lowercased;</span>
<a href="#l12.605"></a><span id="l12.605" class="difflineminus">-                            }</span>
<a href="#l12.606"></a><span id="l12.606" class="difflineminus">-                            let uppercased = string.toUpperCase();</span>
<a href="#l12.607"></a><span id="l12.607" class="difflineminus">-                            if (string != uppercased) {</span>
<a href="#l12.608"></a><span id="l12.608" class="difflineminus">-                                regExp += &quot;|&quot; + uppercased;</span>
<a href="#l12.609"></a><span id="l12.609" class="difflineminus">-                            }</span>
<a href="#l12.610"></a><span id="l12.610" class="difflineminus">-                            return regExp;</span>
<a href="#l12.611"></a><span id="l12.611" class="difflineminus">-                        };</span>
<a href="#l12.612"></a><span id="l12.612" class="difflineminus">-                        amFormatExpr = makeFormatRegExp(amProbeArray[this.ampmIndex]);</span>
<a href="#l12.613"></a><span id="l12.613" class="difflineminus">-                        pmFormatExpr = makeFormatRegExp(pmProbeArray[this.ampmIndex]);</span>
<a href="#l12.614"></a><span id="l12.614" class="difflineminus">-                    }</span>
<a href="#l12.615"></a><span id="l12.615" class="difflineminus">-                }</span>
<a href="#l12.616"></a><span id="l12.616" class="difflineminus">-            }</span>
<a href="#l12.617"></a><span id="l12.617" class="difflineminus">-            // International formats ([roman, cyrillic]|arabic|chinese/kanji characters)</span>
<a href="#l12.618"></a><span id="l12.618" class="difflineminus">-            // covering languages of U.N. (en,fr,sp,ru,ar,zh) and G8 (en,fr,de,it,ru,ja).</span>
<a href="#l12.619"></a><span id="l12.619" class="difflineminus">-            // See examples at parseTimeOfDay.</span>
<a href="#l12.620"></a><span id="l12.620" class="difflineminus">-            let amExpr =</span>
<a href="#l12.621"></a><span id="l12.621" class="difflineminus">-                &quot;[Aa\u0410\u0430][. ]?[Mm\u041c\u043c][. ]?|\u0635|\u4e0a\u5348|\u5348\u524d&quot;;</span>
<a href="#l12.622"></a><span id="l12.622" class="difflineminus">-            let pmExpr =</span>
<a href="#l12.623"></a><span id="l12.623" class="difflineminus">-                &quot;[Pp\u0420\u0440][. ]?[Mm\u041c\u043c][. ]?|\u0645|\u4e0b\u5348|\u5348\u5f8c&quot;;</span>
<a href="#l12.624"></a><span id="l12.624" class="difflineminus">-            if (this.ampmIndex) {</span>
<a href="#l12.625"></a><span id="l12.625" class="difflineminus">-                amExpr = amFormatExpr + &quot;|&quot; + amExpr;</span>
<a href="#l12.626"></a><span id="l12.626" class="difflineminus">-                pmExpr = pmFormatExpr + &quot;|&quot; + pmExpr;</span>
<a href="#l12.627"></a><span id="l12.627" class="difflineminus">-            }</span>
<a href="#l12.628"></a><span id="l12.628" class="difflineminus">-            let ampmExpr = amExpr + &quot;|&quot; + pmExpr;</span>
<a href="#l12.629"></a><span id="l12.629" class="difflineminus">-            // Must build am/pm formats into parse time regexp so that it can</span>
<a href="#l12.630"></a><span id="l12.630" class="difflineminus">-            // match them without mistaking the initial char for an optional divider.</span>
<a href="#l12.631"></a><span id="l12.631" class="difflineminus">-            // (For example, want to be able to parse both &quot;12:34pm&quot; and</span>
<a href="#l12.632"></a><span id="l12.632" class="difflineminus">-            // &quot;12H34M56Spm&quot; for any characters H,M,S and any language's &quot;pm&quot;.</span>
<a href="#l12.633"></a><span id="l12.633" class="difflineminus">-            // The character between the last digit and the &quot;pm&quot; is optional.</span>
<a href="#l12.634"></a><span id="l12.634" class="difflineminus">-            // Must recogize &quot;pm&quot; directly, otherwise in &quot;12:34pm&quot; the &quot;S&quot; pattern</span>
<a href="#l12.635"></a><span id="l12.635" class="difflineminus">-            // matches the &quot;p&quot; character so only &quot;m&quot; is matched as ampm suffix.)</span>
<a href="#l12.636"></a><span id="l12.636" class="difflineminus">-            //</span>
<a href="#l12.637"></a><span id="l12.637" class="difflineminus">-            // digitsExpr has 6 captures, so index of first ampmExpr is 1, of last is 8.</span>
<a href="#l12.638"></a><span id="l12.638" class="difflineminus">-            this.parseTimeRegExp =</span>
<a href="#l12.639"></a><span id="l12.639" class="difflineminus">-                new RegExp(&quot;(&quot; + ampmExpr + &quot;)?\\s?&quot; + digitsExpr + &quot;(&quot; + ampmExpr + &quot;)?\\s*$&quot;);</span>
<a href="#l12.640"></a><span id="l12.640" class="difflineminus">-            this.amRegExp = new RegExp(&quot;^(?:&quot; + amExpr + &quot;)$&quot;);</span>
<a href="#l12.641"></a><span id="l12.641" class="difflineminus">-            this.pmRegExp = new RegExp(&quot;^(?:&quot; + pmExpr + &quot;)$&quot;);</span>
<a href="#l12.642"></a><span id="l12.642" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.643"></a><span id="l12.643" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.644"></a><span id="l12.644" class="difflineminus">-</span>
<a href="#l12.645"></a><span id="l12.645" class="difflineminus">-      &lt;method name=&quot;formatDate&quot;&gt;</span>
<a href="#l12.646"></a><span id="l12.646" class="difflineminus">-        &lt;parameter name=&quot;aDate&quot;/&gt;</span>
<a href="#l12.647"></a><span id="l12.647" class="difflineminus">-        &lt;parameter name=&quot;aTimezone&quot;/&gt;</span>
<a href="#l12.648"></a><span id="l12.648" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.649"></a><span id="l12.649" class="difflineminus">-            // Usually, floating is ok here, so no need to pass aTimezone - we just need to pass</span>
<a href="#l12.650"></a><span id="l12.650" class="difflineminus">-            // it in if we need to make sure formatting happens without a timezone conversion.</span>
<a href="#l12.651"></a><span id="l12.651" class="difflineminus">-            let timezone = aTimezone || cal.dtz.floating;</span>
<a href="#l12.652"></a><span id="l12.652" class="difflineminus">-            return cal.getDateFormatter().formatDateShort(</span>
<a href="#l12.653"></a><span id="l12.653" class="difflineminus">-                cal.dtz.jsDateToDateTime(aDate, timezone)</span>
<a href="#l12.654"></a><span id="l12.654" class="difflineminus">-            );</span>
<a href="#l12.655"></a><span id="l12.655" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.656"></a><span id="l12.656" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.657"></a><span id="l12.657" class="difflineminus">-</span>
<a href="#l12.658"></a><span id="l12.658" class="difflineminus">-      &lt;method name=&quot;formatTime&quot;&gt;</span>
<a href="#l12.659"></a><span id="l12.659" class="difflineminus">-        &lt;parameter name=&quot;aValue&quot;/&gt;</span>
<a href="#l12.660"></a><span id="l12.660" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l12.661"></a><span id="l12.661" class="difflineminus">-            const { Services } = ChromeUtils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l12.662"></a><span id="l12.662" class="difflineminus">-</span>
<a href="#l12.663"></a><span id="l12.663" class="difflineminus">-            let formatter = new Services.intl.DateTimeFormat(undefined, this.kTimeFormatObject);</span>
<a href="#l12.664"></a><span id="l12.664" class="difflineminus">-            return formatter.format(aValue);</span>
<a href="#l12.665"></a><span id="l12.665" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l12.666"></a><span id="l12.666" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l12.667"></a><span id="l12.667" class="difflineminus">-    &lt;/implementation&gt;</span>
<a href="#l12.668"></a><span id="l12.668" class="difflineminus">-  &lt;/binding&gt;</span>
<a href="#l12.669"></a><span id="l12.669" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/resources/skin/datetimepickers.css</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/resources/skin/datetimepickers.css</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -1,16 +1,18 @@</span>
<a href="#l13.4"></a><span id="l13.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l13.5"></a><span id="l13.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l13.6"></a><span id="l13.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8"> /*--------------------------------------------------------------------</span>
<a href="#l13.9"></a><span id="l13.9">  *   Datepicker (text field with minimonth popup)</span>
<a href="#l13.10"></a><span id="l13.10">  *-------------------------------------------------------------------*/</span>
<a href="#l13.11"></a><span id="l13.11" class="difflineminus">- </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+@import url(&quot;chrome://messenger/skin/menulist.css&quot;);</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+</span>
<a href="#l13.15"></a><span id="l13.15"> /* menulist */</span>
<a href="#l13.16"></a><span id="l13.16"> datepicker &gt; menulist {</span>
<a href="#l13.17"></a><span id="l13.17">   width: 11em;</span>
<a href="#l13.18"></a><span id="l13.18"> }</span>
<a href="#l13.19"></a><span id="l13.19"> </span>
<a href="#l13.20"></a><span id="l13.20"> /*--------------------------------------------------------------------</span>
<a href="#l13.21"></a><span id="l13.21">  *   Datepicker-forever (style for the &quot;forever&quot; option)</span>
<a href="#l13.22"></a><span id="l13.22">  *-------------------------------------------------------------------*/</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">deleted file mode 100644</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineminus">--- a/common/bindings/menulist.css</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineplus">+++ /dev/null</span>
<a href="#l14.4"></a><span id="l14.4" class="difflineat">@@ -1,26 +0,0 @@</span>
<a href="#l14.5"></a><span id="l14.5" class="difflineminus">-/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l14.6"></a><span id="l14.6" class="difflineminus">- * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l14.7"></a><span id="l14.7" class="difflineminus">- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.8"></a><span id="l14.8" class="difflineminus">-</span>
<a href="#l14.9"></a><span id="l14.9" class="difflineminus">-@import url(&quot;chrome://messenger/skin/menulist.css&quot;);</span>
<a href="#l14.10"></a><span id="l14.10" class="difflineminus">-</span>
<a href="#l14.11"></a><span id="l14.11" class="difflineminus">-@namespace html url(&quot;http://www.w3.org/1999/xhtml&quot;); /* namespace for HTML elements */</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-menulist[is=&quot;menulist-editable&quot;]:not([editable=&quot;true&quot;]) .menulist-input,</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] .menulist-label-box {</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineminus">-  display: none;</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineminus">-}</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineminus">-</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineminus">-menulist &gt; textbox {</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineminus">-  margin: 0;</span>
<a href="#l14.20"></a><span id="l14.20" class="difflineminus">-}</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineminus">-</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineminus">-menulist html|*.textbox-input {</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineminus">-  -moz-appearance: none !important;</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineminus">-  background: transparent !important;</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineminus">-  -moz-box-flex: 1;</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineminus">-  margin: 0 !important;</span>
<a href="#l14.27"></a><span id="l14.27" class="difflineminus">-  border: none !important;</span>
<a href="#l14.28"></a><span id="l14.28" class="difflineminus">-  padding: 0 !important;</span>
<a href="#l14.29"></a><span id="l14.29" class="difflineminus">-  font: inherit;</span>
<a href="#l14.30"></a><span id="l14.30" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1">deleted file mode 100644</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineminus">--- a/common/bindings/menulist.xml</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineplus">+++ /dev/null</span>
<a href="#l15.4"></a><span id="l15.4" class="difflineat">@@ -1,541 +0,0 @@</span>
<a href="#l15.5"></a><span id="l15.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l15.6"></a><span id="l15.6" class="difflineminus">-</span>
<a href="#l15.7"></a><span id="l15.7" class="difflineminus">-&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.8"></a><span id="l15.8" class="difflineminus">-   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.9"></a><span id="l15.9" class="difflineminus">-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l15.10"></a><span id="l15.10" class="difflineminus">-</span>
<a href="#l15.11"></a><span id="l15.11" class="difflineminus">-&lt;bindings id=&quot;menulistBindings&quot;</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-   xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-   xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineminus">-   xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">-   xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineminus">-</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-  &lt;binding id=&quot;xbl-menulist&quot;</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-           extends=&quot;chrome://global/content/bindings/general.xml#basecontrol&quot;&gt;</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineminus">-    &lt;content&gt;</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineminus">-      &lt;xul:hbox class=&quot;menulist-label-box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineminus">-        &lt;xul:image class=&quot;menulist-icon&quot; xbl:inherits=&quot;src=image&quot;/&gt;</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineminus">-        &lt;xul:label class=&quot;menulist-label&quot; xbl:inherits=&quot;value=label,crop,accesskey,highlightable&quot; crop=&quot;right&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineminus">-        &lt;xul:label class=&quot;menulist-highlightable-label&quot; xbl:inherits=&quot;xbl:text=label,crop,accesskey,highlightable&quot; crop=&quot;right&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineminus">-      &lt;xul:dropmarker class=&quot;menulist-dropmarker&quot; type=&quot;menu&quot; xbl:inherits=&quot;disabled,open&quot;/&gt;</span>
<a href="#l15.26"></a><span id="l15.26" class="difflineminus">-      &lt;children includes=&quot;menupopup&quot;/&gt;</span>
<a href="#l15.27"></a><span id="l15.27" class="difflineminus">-    &lt;/content&gt;</span>
<a href="#l15.28"></a><span id="l15.28" class="difflineminus">-</span>
<a href="#l15.29"></a><span id="l15.29" class="difflineminus">-    &lt;handlers&gt;</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineminus">-      &lt;handler event=&quot;command&quot; phase=&quot;capturing&quot;</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-        action=&quot;if (event.target.parentNode.parentNode == this) this.selectedItem = event.target;&quot;/&gt;</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineminus">-</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineminus">-      &lt;handler event=&quot;popupshowing&quot;&gt;</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineminus">-        &lt;![CDATA[</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineminus">-          if (event.target.parentNode == this) {</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineminus">-            this.activeChild = null;</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineminus">-            if (this.selectedItem)</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineminus">-              // Not ready for auto-setting the active child in hierarchies yet.</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineminus">-              // For now, only do this when the outermost menupopup opens.</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineminus">-              this.activeChild = this.mSelectedInternal;</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineminus">-          }</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineminus">-        ]]&gt;</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineminus">-      &lt;/handler&gt;</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineminus">-</span>
<a href="#l15.45"></a><span id="l15.45" class="difflineminus">-      &lt;handler event=&quot;keypress&quot; modifiers=&quot;shift any&quot; group=&quot;system&quot;&gt;</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineminus">-        &lt;![CDATA[</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineminus">-          if (!event.defaultPrevented &amp;&amp;</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineminus">-              (event.keyCode == KeyEvent.DOM_VK_UP ||</span>
<a href="#l15.49"></a><span id="l15.49" class="difflineminus">-               event.keyCode == KeyEvent.DOM_VK_DOWN ||</span>
<a href="#l15.50"></a><span id="l15.50" class="difflineminus">-               event.keyCode == KeyEvent.DOM_VK_PAGE_UP ||</span>
<a href="#l15.51"></a><span id="l15.51" class="difflineminus">-               event.keyCode == KeyEvent.DOM_VK_PAGE_DOWN ||</span>
<a href="#l15.52"></a><span id="l15.52" class="difflineminus">-               event.keyCode == KeyEvent.DOM_VK_HOME ||</span>
<a href="#l15.53"></a><span id="l15.53" class="difflineminus">-               event.keyCode == KeyEvent.DOM_VK_END ||</span>
<a href="#l15.54"></a><span id="l15.54" class="difflineminus">-               event.keyCode == KeyEvent.DOM_VK_BACK_SPACE ||</span>
<a href="#l15.55"></a><span id="l15.55" class="difflineminus">-               event.charCode &gt; 0)) {</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineminus">-            // Moving relative to an item: start from the currently selected item</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineminus">-            this.activeChild = this.mSelectedInternal;</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineminus">-            if (this.handleKeyPress(event)) {</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineminus">-              this.activeChild.doCommand();</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineminus">-              event.preventDefault();</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineminus">-            }</span>
<a href="#l15.62"></a><span id="l15.62" class="difflineminus">-          }</span>
<a href="#l15.63"></a><span id="l15.63" class="difflineminus">-        ]]&gt;</span>
<a href="#l15.64"></a><span id="l15.64" class="difflineminus">-      &lt;/handler&gt;</span>
<a href="#l15.65"></a><span id="l15.65" class="difflineminus">-    &lt;/handlers&gt;</span>
<a href="#l15.66"></a><span id="l15.66" class="difflineminus">-</span>
<a href="#l15.67"></a><span id="l15.67" class="difflineminus">-    &lt;implementation implements=&quot;nsIDOMXULMenuListElement&quot;&gt;</span>
<a href="#l15.68"></a><span id="l15.68" class="difflineminus">-      &lt;constructor&gt;</span>
<a href="#l15.69"></a><span id="l15.69" class="difflineminus">-        this.mSelectedInternal = null;</span>
<a href="#l15.70"></a><span id="l15.70" class="difflineminus">-        this.mAttributeObserver = null;</span>
<a href="#l15.71"></a><span id="l15.71" class="difflineminus">-        this.setInitialSelection();</span>
<a href="#l15.72"></a><span id="l15.72" class="difflineminus">-      &lt;/constructor&gt;</span>
<a href="#l15.73"></a><span id="l15.73" class="difflineminus">-</span>
<a href="#l15.74"></a><span id="l15.74" class="difflineminus">-      &lt;method name=&quot;setInitialSelection&quot;&gt;</span>
<a href="#l15.75"></a><span id="l15.75" class="difflineminus">-        &lt;body&gt;</span>
<a href="#l15.76"></a><span id="l15.76" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.77"></a><span id="l15.77" class="difflineminus">-            var popup = this.menupopup;</span>
<a href="#l15.78"></a><span id="l15.78" class="difflineminus">-            if (popup) {</span>
<a href="#l15.79"></a><span id="l15.79" class="difflineminus">-              var arr = popup.getElementsByAttribute(&quot;selected&quot;, &quot;true&quot;);</span>
<a href="#l15.80"></a><span id="l15.80" class="difflineminus">-</span>
<a href="#l15.81"></a><span id="l15.81" class="difflineminus">-              var editable = this.editable;</span>
<a href="#l15.82"></a><span id="l15.82" class="difflineminus">-              var value = this.value;</span>
<a href="#l15.83"></a><span id="l15.83" class="difflineminus">-              if (!arr.item(0) &amp;&amp; value)</span>
<a href="#l15.84"></a><span id="l15.84" class="difflineminus">-                arr = popup.getElementsByAttribute(editable ? &quot;label&quot; : &quot;value&quot;, value);</span>
<a href="#l15.85"></a><span id="l15.85" class="difflineminus">-</span>
<a href="#l15.86"></a><span id="l15.86" class="difflineminus">-              if (arr.item(0))</span>
<a href="#l15.87"></a><span id="l15.87" class="difflineminus">-                this.selectedItem = arr[0];</span>
<a href="#l15.88"></a><span id="l15.88" class="difflineminus">-              else if (!editable)</span>
<a href="#l15.89"></a><span id="l15.89" class="difflineminus">-                this.selectedIndex = 0;</span>
<a href="#l15.90"></a><span id="l15.90" class="difflineminus">-            }</span>
<a href="#l15.91"></a><span id="l15.91" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.92"></a><span id="l15.92" class="difflineminus">-        &lt;/body&gt;</span>
<a href="#l15.93"></a><span id="l15.93" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.94"></a><span id="l15.94" class="difflineminus">-</span>
<a href="#l15.95"></a><span id="l15.95" class="difflineminus">-      &lt;property name=&quot;value&quot; onget=&quot;return this.getAttribute('value');&quot;&gt;</span>
<a href="#l15.96"></a><span id="l15.96" class="difflineminus">-        &lt;setter&gt;</span>
<a href="#l15.97"></a><span id="l15.97" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.98"></a><span id="l15.98" class="difflineminus">-            // if the new value is null, we still need to remove the old value</span>
<a href="#l15.99"></a><span id="l15.99" class="difflineminus">-            if (val == null)</span>
<a href="#l15.100"></a><span id="l15.100" class="difflineminus">-              return this.selectedItem = val;</span>
<a href="#l15.101"></a><span id="l15.101" class="difflineminus">-</span>
<a href="#l15.102"></a><span id="l15.102" class="difflineminus">-            var arr = null;</span>
<a href="#l15.103"></a><span id="l15.103" class="difflineminus">-            var popup = this.menupopup;</span>
<a href="#l15.104"></a><span id="l15.104" class="difflineminus">-            if (popup)</span>
<a href="#l15.105"></a><span id="l15.105" class="difflineminus">-              arr = popup.getElementsByAttribute(&quot;value&quot;, val);</span>
<a href="#l15.106"></a><span id="l15.106" class="difflineminus">-</span>
<a href="#l15.107"></a><span id="l15.107" class="difflineminus">-            if (arr &amp;&amp; arr.item(0)) {</span>
<a href="#l15.108"></a><span id="l15.108" class="difflineminus">-              this.selectedItem = arr[0];</span>
<a href="#l15.109"></a><span id="l15.109" class="difflineminus">-            } else {</span>
<a href="#l15.110"></a><span id="l15.110" class="difflineminus">-              this.selectedItem = null;</span>
<a href="#l15.111"></a><span id="l15.111" class="difflineminus">-              this.setAttribute(&quot;value&quot;, val);</span>
<a href="#l15.112"></a><span id="l15.112" class="difflineminus">-            }</span>
<a href="#l15.113"></a><span id="l15.113" class="difflineminus">-</span>
<a href="#l15.114"></a><span id="l15.114" class="difflineminus">-            return val;</span>
<a href="#l15.115"></a><span id="l15.115" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.116"></a><span id="l15.116" class="difflineminus">-        &lt;/setter&gt;</span>
<a href="#l15.117"></a><span id="l15.117" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.118"></a><span id="l15.118" class="difflineminus">-</span>
<a href="#l15.119"></a><span id="l15.119" class="difflineminus">-      &lt;property name=&quot;crop&quot; onset=&quot;this.setAttribute('crop',val); return val;&quot;</span>
<a href="#l15.120"></a><span id="l15.120" class="difflineminus">-                            onget=&quot;return this.getAttribute('crop');&quot;/&gt;</span>
<a href="#l15.121"></a><span id="l15.121" class="difflineminus">-      &lt;property name=&quot;image&quot;  onset=&quot;this.setAttribute('image',val); return val;&quot;</span>
<a href="#l15.122"></a><span id="l15.122" class="difflineminus">-                              onget=&quot;return this.getAttribute('image');&quot;/&gt;</span>
<a href="#l15.123"></a><span id="l15.123" class="difflineminus">-      &lt;property name=&quot;label&quot; readonly=&quot;true&quot; onget=&quot;return this.getAttribute('label');&quot;/&gt;</span>
<a href="#l15.124"></a><span id="l15.124" class="difflineminus">-      &lt;property name=&quot;description&quot; onset=&quot;this.setAttribute('description',val); return val;&quot;</span>
<a href="#l15.125"></a><span id="l15.125" class="difflineminus">-                                   onget=&quot;return this.getAttribute('description');&quot;/&gt;</span>
<a href="#l15.126"></a><span id="l15.126" class="difflineminus">-</span>
<a href="#l15.127"></a><span id="l15.127" class="difflineminus">-      &lt;property name=&quot;open&quot; onset=&quot;this.openMenu(val); return val;&quot;</span>
<a href="#l15.128"></a><span id="l15.128" class="difflineminus">-                            onget=&quot;return this.hasAttribute('open');&quot;/&gt;</span>
<a href="#l15.129"></a><span id="l15.129" class="difflineminus">-</span>
<a href="#l15.130"></a><span id="l15.130" class="difflineminus">-      &lt;property name=&quot;itemCount&quot; readonly=&quot;true&quot;</span>
<a href="#l15.131"></a><span id="l15.131" class="difflineminus">-                onget=&quot;return this.menupopup ? this.menupopup.children.length : 0&quot;/&gt;</span>
<a href="#l15.132"></a><span id="l15.132" class="difflineminus">-</span>
<a href="#l15.133"></a><span id="l15.133" class="difflineminus">-      &lt;property name=&quot;menupopup&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l15.134"></a><span id="l15.134" class="difflineminus">-        &lt;getter&gt;</span>
<a href="#l15.135"></a><span id="l15.135" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.136"></a><span id="l15.136" class="difflineminus">-            var popup = this.firstElementChild;</span>
<a href="#l15.137"></a><span id="l15.137" class="difflineminus">-            while (popup &amp;&amp; popup.localName != &quot;menupopup&quot;)</span>
<a href="#l15.138"></a><span id="l15.138" class="difflineminus">-              popup = popup.nextElementSibling;</span>
<a href="#l15.139"></a><span id="l15.139" class="difflineminus">-            return popup;</span>
<a href="#l15.140"></a><span id="l15.140" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.141"></a><span id="l15.141" class="difflineminus">-        &lt;/getter&gt;</span>
<a href="#l15.142"></a><span id="l15.142" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.143"></a><span id="l15.143" class="difflineminus">-</span>
<a href="#l15.144"></a><span id="l15.144" class="difflineminus">-      &lt;method name=&quot;contains&quot;&gt;</span>
<a href="#l15.145"></a><span id="l15.145" class="difflineminus">-        &lt;parameter name=&quot;item&quot;/&gt;</span>
<a href="#l15.146"></a><span id="l15.146" class="difflineminus">-        &lt;body&gt;</span>
<a href="#l15.147"></a><span id="l15.147" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.148"></a><span id="l15.148" class="difflineminus">-            if (!item)</span>
<a href="#l15.149"></a><span id="l15.149" class="difflineminus">-              return false;</span>
<a href="#l15.150"></a><span id="l15.150" class="difflineminus">-</span>
<a href="#l15.151"></a><span id="l15.151" class="difflineminus">-            var parent = item.parentNode;</span>
<a href="#l15.152"></a><span id="l15.152" class="difflineminus">-            return (parent &amp;&amp; parent.parentNode == this);</span>
<a href="#l15.153"></a><span id="l15.153" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.154"></a><span id="l15.154" class="difflineminus">-        &lt;/body&gt;</span>
<a href="#l15.155"></a><span id="l15.155" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.156"></a><span id="l15.156" class="difflineminus">-</span>
<a href="#l15.157"></a><span id="l15.157" class="difflineminus">-      &lt;property name=&quot;selectedIndex&quot;&gt;</span>
<a href="#l15.158"></a><span id="l15.158" class="difflineminus">-        &lt;getter&gt;</span>
<a href="#l15.159"></a><span id="l15.159" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.160"></a><span id="l15.160" class="difflineminus">-            // Quick and dirty. We won't deal with hierarchical menulists yet.</span>
<a href="#l15.161"></a><span id="l15.161" class="difflineminus">-            if (!this.selectedItem ||</span>
<a href="#l15.162"></a><span id="l15.162" class="difflineminus">-                !this.mSelectedInternal.parentNode ||</span>
<a href="#l15.163"></a><span id="l15.163" class="difflineminus">-                this.mSelectedInternal.parentNode.parentNode != this)</span>
<a href="#l15.164"></a><span id="l15.164" class="difflineminus">-              return -1;</span>
<a href="#l15.165"></a><span id="l15.165" class="difflineminus">-</span>
<a href="#l15.166"></a><span id="l15.166" class="difflineminus">-            var children = this.mSelectedInternal.parentNode.children;</span>
<a href="#l15.167"></a><span id="l15.167" class="difflineminus">-            var i = children.length;</span>
<a href="#l15.168"></a><span id="l15.168" class="difflineminus">-            while (i--)</span>
<a href="#l15.169"></a><span id="l15.169" class="difflineminus">-              if (children[i] == this.mSelectedInternal)</span>
<a href="#l15.170"></a><span id="l15.170" class="difflineminus">-                break;</span>
<a href="#l15.171"></a><span id="l15.171" class="difflineminus">-</span>
<a href="#l15.172"></a><span id="l15.172" class="difflineminus">-            return i;</span>
<a href="#l15.173"></a><span id="l15.173" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.174"></a><span id="l15.174" class="difflineminus">-        &lt;/getter&gt;</span>
<a href="#l15.175"></a><span id="l15.175" class="difflineminus">-        &lt;setter&gt;</span>
<a href="#l15.176"></a><span id="l15.176" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.177"></a><span id="l15.177" class="difflineminus">-            var popup = this.menupopup;</span>
<a href="#l15.178"></a><span id="l15.178" class="difflineminus">-            if (popup &amp;&amp; 0 &lt;= val) {</span>
<a href="#l15.179"></a><span id="l15.179" class="difflineminus">-              if (val &lt; popup.children.length)</span>
<a href="#l15.180"></a><span id="l15.180" class="difflineminus">-                this.selectedItem = popup.children[val];</span>
<a href="#l15.181"></a><span id="l15.181" class="difflineminus">-            } else {</span>
<a href="#l15.182"></a><span id="l15.182" class="difflineminus">-              this.selectedItem = null;</span>
<a href="#l15.183"></a><span id="l15.183" class="difflineminus">-            }</span>
<a href="#l15.184"></a><span id="l15.184" class="difflineminus">-            return val;</span>
<a href="#l15.185"></a><span id="l15.185" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.186"></a><span id="l15.186" class="difflineminus">-        &lt;/setter&gt;</span>
<a href="#l15.187"></a><span id="l15.187" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.188"></a><span id="l15.188" class="difflineminus">-</span>
<a href="#l15.189"></a><span id="l15.189" class="difflineminus">-      &lt;property name=&quot;selectedItem&quot;&gt;</span>
<a href="#l15.190"></a><span id="l15.190" class="difflineminus">-        &lt;getter&gt;</span>
<a href="#l15.191"></a><span id="l15.191" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.192"></a><span id="l15.192" class="difflineminus">-            return this.mSelectedInternal;</span>
<a href="#l15.193"></a><span id="l15.193" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.194"></a><span id="l15.194" class="difflineminus">-        &lt;/getter&gt;</span>
<a href="#l15.195"></a><span id="l15.195" class="difflineminus">-        &lt;setter&gt;</span>
<a href="#l15.196"></a><span id="l15.196" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.197"></a><span id="l15.197" class="difflineminus">-            var oldval = this.mSelectedInternal;</span>
<a href="#l15.198"></a><span id="l15.198" class="difflineminus">-            if (oldval == val)</span>
<a href="#l15.199"></a><span id="l15.199" class="difflineminus">-              return val;</span>
<a href="#l15.200"></a><span id="l15.200" class="difflineminus">-</span>
<a href="#l15.201"></a><span id="l15.201" class="difflineminus">-            if (val &amp;&amp; !this.contains(val))</span>
<a href="#l15.202"></a><span id="l15.202" class="difflineminus">-              return val;</span>
<a href="#l15.203"></a><span id="l15.203" class="difflineminus">-</span>
<a href="#l15.204"></a><span id="l15.204" class="difflineminus">-            if (oldval) {</span>
<a href="#l15.205"></a><span id="l15.205" class="difflineminus">-              oldval.removeAttribute(&quot;selected&quot;);</span>
<a href="#l15.206"></a><span id="l15.206" class="difflineminus">-              this.mAttributeObserver.disconnect();</span>
<a href="#l15.207"></a><span id="l15.207" class="difflineminus">-            }</span>
<a href="#l15.208"></a><span id="l15.208" class="difflineminus">-</span>
<a href="#l15.209"></a><span id="l15.209" class="difflineminus">-            this.mSelectedInternal = val;</span>
<a href="#l15.210"></a><span id="l15.210" class="difflineminus">-            let attributeFilter = [&quot;value&quot;, &quot;label&quot;, &quot;image&quot;, &quot;description&quot;];</span>
<a href="#l15.211"></a><span id="l15.211" class="difflineminus">-            if (val) {</span>
<a href="#l15.212"></a><span id="l15.212" class="difflineminus">-              val.setAttribute(&quot;selected&quot;, &quot;true&quot;);</span>
<a href="#l15.213"></a><span id="l15.213" class="difflineminus">-              for (let attr of attributeFilter) {</span>
<a href="#l15.214"></a><span id="l15.214" class="difflineminus">-                if (val.hasAttribute(attr)) {</span>
<a href="#l15.215"></a><span id="l15.215" class="difflineminus">-                  this.setAttribute(attr, val.getAttribute(attr));</span>
<a href="#l15.216"></a><span id="l15.216" class="difflineminus">-                } else {</span>
<a href="#l15.217"></a><span id="l15.217" class="difflineminus">-                  this.removeAttribute(attr);</span>
<a href="#l15.218"></a><span id="l15.218" class="difflineminus">-                }</span>
<a href="#l15.219"></a><span id="l15.219" class="difflineminus">-              }</span>
<a href="#l15.220"></a><span id="l15.220" class="difflineminus">-</span>
<a href="#l15.221"></a><span id="l15.221" class="difflineminus">-              this.mAttributeObserver = new MutationObserver(this.handleMutation.bind(this));</span>
<a href="#l15.222"></a><span id="l15.222" class="difflineminus">-              this.mAttributeObserver.observe(val, { attributeFilter });</span>
<a href="#l15.223"></a><span id="l15.223" class="difflineminus">-            } else {</span>
<a href="#l15.224"></a><span id="l15.224" class="difflineminus">-              for (let attr of attributeFilter) {</span>
<a href="#l15.225"></a><span id="l15.225" class="difflineminus">-                this.removeAttribute(attr);</span>
<a href="#l15.226"></a><span id="l15.226" class="difflineminus">-              }</span>
<a href="#l15.227"></a><span id="l15.227" class="difflineminus">-            }</span>
<a href="#l15.228"></a><span id="l15.228" class="difflineminus">-</span>
<a href="#l15.229"></a><span id="l15.229" class="difflineminus">-            var event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l15.230"></a><span id="l15.230" class="difflineminus">-            event.initEvent(&quot;select&quot;, true, true);</span>
<a href="#l15.231"></a><span id="l15.231" class="difflineminus">-            this.dispatchEvent(event);</span>
<a href="#l15.232"></a><span id="l15.232" class="difflineminus">-</span>
<a href="#l15.233"></a><span id="l15.233" class="difflineminus">-            event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l15.234"></a><span id="l15.234" class="difflineminus">-            event.initEvent(&quot;ValueChange&quot;, true, true);</span>
<a href="#l15.235"></a><span id="l15.235" class="difflineminus">-            this.dispatchEvent(event);</span>
<a href="#l15.236"></a><span id="l15.236" class="difflineminus">-</span>
<a href="#l15.237"></a><span id="l15.237" class="difflineminus">-            return val;</span>
<a href="#l15.238"></a><span id="l15.238" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.239"></a><span id="l15.239" class="difflineminus">-        &lt;/setter&gt;</span>
<a href="#l15.240"></a><span id="l15.240" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.241"></a><span id="l15.241" class="difflineminus">-</span>
<a href="#l15.242"></a><span id="l15.242" class="difflineminus">-      &lt;method name=&quot;handleMutation&quot;&gt;</span>
<a href="#l15.243"></a><span id="l15.243" class="difflineminus">-        &lt;parameter name=&quot;aRecords&quot;/&gt;</span>
<a href="#l15.244"></a><span id="l15.244" class="difflineminus">-        &lt;body&gt;</span>
<a href="#l15.245"></a><span id="l15.245" class="difflineminus">-          &lt;![CDATA[</span>
<a href="#l15.246"></a><span id="l15.246" class="difflineminus">-            for (let record of aRecords) {</span>
<a href="#l15.247"></a><span id="l15.247" class="difflineminus">-              let t = record.target;</span>
<a href="#l15.248"></a><span id="l15.248" class="difflineminus">-              if (t == this.mSelectedInternal) {</span>
<a href="#l15.249"></a><span id="l15.249" class="difflineminus">-                let attrName = record.attributeName;</span>
<a href="#l15.250"></a><span id="l15.250" class="difflineminus">-                switch (attrName) {</span>
<a href="#l15.251"></a><span id="l15.251" class="difflineminus">-                  case &quot;value&quot;:</span>
<a href="#l15.252"></a><span id="l15.252" class="difflineminus">-                  case &quot;label&quot;:</span>
<a href="#l15.253"></a><span id="l15.253" class="difflineminus">-                  case &quot;image&quot;:</span>
<a href="#l15.254"></a><span id="l15.254" class="difflineminus">-                  case &quot;description&quot;:</span>
<a href="#l15.255"></a><span id="l15.255" class="difflineminus">-                    if (t.hasAttribute(attrName)) {</span>
<a href="#l15.256"></a><span id="l15.256" class="difflineminus">-                      this.setAttribute(attrName, t.getAttribute(attrName));</span>
<a href="#l15.257"></a><span id="l15.257" class="difflineminus">-                    } else {</span>
<a href="#l15.258"></a><span id="l15.258" class="difflineminus">-                      this.removeAttribute(attrName);</span>
<a href="#l15.259"></a><span id="l15.259" class="difflineminus">-                    }</span>
<a href="#l15.260"></a><span id="l15.260" class="difflineminus">-                }</span>
<a href="#l15.261"></a><span id="l15.261" class="difflineminus">-              }</span>
<a href="#l15.262"></a><span id="l15.262" class="difflineminus">-            }</span>
<a href="#l15.263"></a><span id="l15.263" class="difflineminus">-          ]]&gt;</span>
<a href="#l15.264"></a><span id="l15.264" class="difflineminus">-        &lt;/body&gt;</span>
<a href="#l15.265"></a><span id="l15.265" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.266"></a><span id="l15.266" class="difflineminus">-</span>
<a href="#l15.267"></a><span id="l15.267" class="difflineminus">-      &lt;method name=&quot;getIndexOfItem&quot;&gt;</span>
<a href="#l15.268"></a><span id="l15.268" class="difflineminus">-        &lt;parameter name=&quot;item&quot;/&gt;</span>
<a href="#l15.269"></a><span id="l15.269" class="difflineminus">-        &lt;body&gt;</span>
<a href="#l15.270"></a><span id="l15.270" class="difflineminus">-        &lt;![CDATA[</span>
<a href="#l15.271"></a><span id="l15.271" class="difflineminus">-          var popup = this.menupopup;</span>
<a href="#l15.272"></a><span id="l15.272" class="difflineminus">-          if (popup) {</span>
<a href="#l15.273"></a><span id="l15.273" class="difflineminus">-            var children = popup.children;</span>
<a href="#l15.274"></a><span id="l15.274" class="difflineminus">-            var i = children.length;</span>
<a href="#l15.275"></a><span id="l15.275" class="difflineminus">-            while (i--)</span>
<a href="#l15.276"></a><span id="l15.276" class="difflineminus">-              if (children[i] == item)</span>
<a href="#l15.277"></a><span id="l15.277" class="difflineminus">-                return i;</span>
<a href="#l15.278"></a><span id="l15.278" class="difflineminus">-          }</span>
<a href="#l15.279"></a><span id="l15.279" class="difflineminus">-          return -1;</span>
<a href="#l15.280"></a><span id="l15.280" class="difflineminus">-        ]]&gt;</span>
<a href="#l15.281"></a><span id="l15.281" class="difflineminus">-        &lt;/body&gt;</span>
<a href="#l15.282"></a><span id="l15.282" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.283"></a><span id="l15.283" class="difflineminus">-</span>
<a href="#l15.284"></a><span id="l15.284" class="difflineminus">-      &lt;method name=&quot;getItemAtIndex&quot;&gt;</span>
<a href="#l15.285"></a><span id="l15.285" class="difflineminus">-        &lt;parameter name=&quot;index&quot;/&gt;</span>
<a href="#l15.286"></a><span id="l15.286" class="difflineminus">-        &lt;body&gt;</span>
<a href="#l15.287"></a><span id="l15.287" class="difflineminus">-        &lt;![CDATA[</span>
<a href="#l15.288"></a><span id="l15.288" class="difflineminus">-          var popup = this.menupopup;</span>
<a href="#l15.289"></a><span id="l15.289" class="difflineminus">-          if (popup) {</span>
<a href="#l15.290"></a><span id="l15.290" class="difflineminus">-            var children = popup.children;</span>
<a href="#l15.291"></a><span id="l15.291" class="difflineminus">-            if (index &gt;= 0 &amp;&amp; index &lt; children.length)</span>
<a href="#l15.292"></a><span id="l15.292" class="difflineminus">-              return children[index];</span>
<a href="#l15.293"></a><span id="l15.293" class="difflineminus">-          }</span>
<a href="#l15.294"></a><span id="l15.294" class="difflineminus">-          return null;</span>
<a href="#l15.295"></a><span id="l15.295" class="difflineminus">-        ]]&gt;</span>
<a href="#l15.296"></a><span id="l15.296" class="difflineminus">-        &lt;/body&gt;</span>
<a href="#l15.297"></a><span id="l15.297" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.298"></a><span id="l15.298" class="difflineminus">-</span>
<a href="#l15.299"></a><span id="l15.299" class="difflineminus">-      &lt;method name=&quot;appendItem&quot;&gt;</span>
<a href="#l15.300"></a><span id="l15.300" class="difflineminus">-        &lt;parameter name=&quot;label&quot;/&gt;</span>
<a href="#l15.301"></a><span id="l15.301" class="difflineminus">-        &lt;parameter name=&quot;value&quot;/&gt;</span>
<a href="#l15.302"></a><span id="l15.302" class="difflineminus">-        &lt;parameter name=&quot;description&quot;/&gt;</span>
<a href="#l15.303"></a><span id="l15.303" class="difflineminus">-        &lt;body&gt;</span>
<a href="#l15.304"></a><span id="l15.304" class="difflineminus">-        &lt;![CDATA[</span>
<a href="#l15.305"></a><span id="l15.305" class="difflineminus">-          var popup = this.menupopup ||</span>
<a href="#l15.306"></a><span id="l15.306" class="difflineminus">-                      this.appendChild(document.createXULElement(&quot;menupopup&quot;));</span>
<a href="#l15.307"></a><span id="l15.307" class="difflineminus">-          var item = document.createXULElement(&quot;menuitem&quot;);</span>
<a href="#l15.308"></a><span id="l15.308" class="difflineminus">-          item.setAttribute(&quot;label&quot;, label);</span>
<a href="#l15.309"></a><span id="l15.309" class="difflineminus">-          item.setAttribute(&quot;value&quot;, value);</span>
<a href="#l15.310"></a><span id="l15.310" class="difflineminus">-          if (description)</span>
<a href="#l15.311"></a><span id="l15.311" class="difflineminus">-            item.setAttribute(&quot;description&quot;, description);</span>
<a href="#l15.312"></a><span id="l15.312" class="difflineminus">-</span>
<a href="#l15.313"></a><span id="l15.313" class="difflineminus">-          popup.appendChild(item);</span>
<a href="#l15.314"></a><span id="l15.314" class="difflineminus">-          return item;</span>
<a href="#l15.315"></a><span id="l15.315" class="difflineminus">-        ]]&gt;</span>
<a href="#l15.316"></a><span id="l15.316" class="difflineminus">-        &lt;/body&gt;</span>
<a href="#l15.317"></a><span id="l15.317" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.318"></a><span id="l15.318" class="difflineminus">-</span>
<a href="#l15.319"></a><span id="l15.319" class="difflineminus">-      &lt;method name=&quot;removeAllItems&quot;&gt;</span>
<a href="#l15.320"></a><span id="l15.320" class="difflineminus">-        &lt;body&gt;</span>
<a href="#l15.321"></a><span id="l15.321" class="difflineminus">-        &lt;![CDATA[</span>
<a href="#l15.322"></a><span id="l15.322" class="difflineminus">-          this.selectedItem = null;</span>
<a href="#l15.323"></a><span id="l15.323" class="difflineminus">-          var popup = this.menupopup;</span>
<a href="#l15.324"></a><span id="l15.324" class="difflineminus">-          if (popup)</span>
<a href="#l15.325"></a><span id="l15.325" class="difflineminus">-            this.removeChild(popup);</span>
<a href="#l15.326"></a><span id="l15.326" class="difflineminus">-        ]]&gt;</span>
<a href="#l15.327"></a><span id="l15.327" class="difflineminus">-        &lt;/body&gt;</span>
<a href="#l15.328"></a><span id="l15.328" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.329"></a><span id="l15.329" class="difflineminus">-</span>
<a href="#l15.330"></a><span id="l15.330" class="difflineminus">-      &lt;destructor&gt;</span>
<a href="#l15.331"></a><span id="l15.331" class="difflineminus">-        &lt;![CDATA[</span>
<a href="#l15.332"></a><span id="l15.332" class="difflineminus">-          if (this.mAttributeObserver) {</span>
<a href="#l15.333"></a><span id="l15.333" class="difflineminus">-            this.mAttributeObserver.disconnect();</span>
<a href="#l15.334"></a><span id="l15.334" class="difflineminus">-          }</span>
<a href="#l15.335"></a><span id="l15.335" class="difflineminus">-        ]]&gt;</span>
<a href="#l15.336"></a><span id="l15.336" class="difflineminus">-      &lt;/destructor&gt;</span>
<a href="#l15.337"></a><span id="l15.337" class="difflineminus">-    &lt;/implementation&gt;</span>
<a href="#l15.338"></a><span id="l15.338" class="difflineminus">-  &lt;/binding&gt;</span>
<a href="#l15.339"></a><span id="l15.339" class="difflineminus">-</span>
<a href="#l15.340"></a><span id="l15.340" class="difflineminus">-  &lt;binding id=&quot;menulist-popuponly&quot;</span>
<a href="#l15.341"></a><span id="l15.341" class="difflineminus">-           extends=&quot;chrome://messenger/content/menulist.xml#xbl-menulist&quot;&gt;</span>
<a href="#l15.342"></a><span id="l15.342" class="difflineminus">-    &lt;content&gt;</span>
<a href="#l15.343"></a><span id="l15.343" class="difflineminus">-      &lt;children includes=&quot;menupopup&quot;/&gt;</span>
<a href="#l15.344"></a><span id="l15.344" class="difflineminus">-    &lt;/content&gt;</span>
<a href="#l15.345"></a><span id="l15.345" class="difflineminus">-  &lt;/binding&gt;</span>
<a href="#l15.346"></a><span id="l15.346" class="difflineminus">-</span>
<a href="#l15.347"></a><span id="l15.347" class="difflineminus">-  &lt;binding id=&quot;menulist-editable&quot; extends=&quot;chrome://messenger/content/menulist.xml#xbl-menulist&quot;&gt;</span>
<a href="#l15.348"></a><span id="l15.348" class="difflineminus">-    &lt;content sizetopopup=&quot;pref&quot;&gt;</span>
<a href="#l15.349"></a><span id="l15.349" class="difflineminus">-      &lt;xul:moz-input-box class=&quot;menulist-editable-box moz-input-box&quot; xbl:inherits=&quot;context,disabled,readonly,focused&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.350"></a><span id="l15.350" class="difflineminus">-        &lt;html:input class=&quot;menulist-editable-input&quot; anonid=&quot;input&quot; allowevents=&quot;true&quot;</span>
<a href="#l15.351"></a><span id="l15.351" class="difflineminus">-                    xbl:inherits=&quot;value=label,value,disabled,tabindex,readonly,placeholder&quot;/&gt;</span>
<a href="#l15.352"></a><span id="l15.352" class="difflineminus">-      &lt;/xul:moz-input-box&gt;</span>
<a href="#l15.353"></a><span id="l15.353" class="difflineminus">-      &lt;xul:dropmarker class=&quot;menulist-dropmarker&quot; type=&quot;menu&quot;</span>
<a href="#l15.354"></a><span id="l15.354" class="difflineminus">-                      xbl:inherits=&quot;open,disabled,parentfocused=focused&quot;/&gt;</span>
<a href="#l15.355"></a><span id="l15.355" class="difflineminus">-      &lt;children/&gt;</span>
<a href="#l15.356"></a><span id="l15.356" class="difflineminus">-    &lt;/content&gt;</span>
<a href="#l15.357"></a><span id="l15.357" class="difflineminus">-</span>
<a href="#l15.358"></a><span id="l15.358" class="difflineminus">-    &lt;implementation&gt;</span>
<a href="#l15.359"></a><span id="l15.359" class="difflineminus">-      &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l15.360"></a><span id="l15.360" class="difflineminus">-        // This block needs to be kept in sync with the parent constructor in</span>
<a href="#l15.361"></a><span id="l15.361" class="difflineminus">-        // toolkit/content/widgets/menulist.xml.</span>
<a href="#l15.362"></a><span id="l15.362" class="difflineminus">-        this.mSelectedInternal = null;</span>
<a href="#l15.363"></a><span id="l15.363" class="difflineminus">-        this.mAttributeObserver = null;</span>
<a href="#l15.364"></a><span id="l15.364" class="difflineminus">-        this.setInitialSelection();</span>
<a href="#l15.365"></a><span id="l15.365" class="difflineminus">-</span>
<a href="#l15.366"></a><span id="l15.366" class="difflineminus">-        this.dispatchEvent(new CustomEvent(&quot;bindingattached&quot;, { bubbles: false }));</span>
<a href="#l15.367"></a><span id="l15.367" class="difflineminus">-      ]]&gt;&lt;/constructor&gt;</span>
<a href="#l15.368"></a><span id="l15.368" class="difflineminus">-      &lt;method name=&quot;_selectInputFieldValueInList&quot;&gt;</span>
<a href="#l15.369"></a><span id="l15.369" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l15.370"></a><span id="l15.370" class="difflineminus">-            if (this.hasAttribute(&quot;disableautoselect&quot;))</span>
<a href="#l15.371"></a><span id="l15.371" class="difflineminus">-                return;</span>
<a href="#l15.372"></a><span id="l15.372" class="difflineminus">-</span>
<a href="#l15.373"></a><span id="l15.373" class="difflineminus">-            // Find and select the menuitem that matches inputField's &quot;value&quot;</span>
<a href="#l15.374"></a><span id="l15.374" class="difflineminus">-            var arr = null;</span>
<a href="#l15.375"></a><span id="l15.375" class="difflineminus">-            var popup = this.menupopup;</span>
<a href="#l15.376"></a><span id="l15.376" class="difflineminus">-</span>
<a href="#l15.377"></a><span id="l15.377" class="difflineminus">-            if (popup)</span>
<a href="#l15.378"></a><span id="l15.378" class="difflineminus">-                arr = popup.getElementsByAttribute(&quot;label&quot;, this.inputField.value);</span>
<a href="#l15.379"></a><span id="l15.379" class="difflineminus">-</span>
<a href="#l15.380"></a><span id="l15.380" class="difflineminus">-            this.setSelectionInternal(arr ? arr.item(0) : null);</span>
<a href="#l15.381"></a><span id="l15.381" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l15.382"></a><span id="l15.382" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.383"></a><span id="l15.383" class="difflineminus">-</span>
<a href="#l15.384"></a><span id="l15.384" class="difflineminus">-      &lt;method name=&quot;setSelectionInternal&quot;&gt;</span>
<a href="#l15.385"></a><span id="l15.385" class="difflineminus">-        &lt;parameter name=&quot;val&quot;/&gt;</span>
<a href="#l15.386"></a><span id="l15.386" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l15.387"></a><span id="l15.387" class="difflineminus">-            // This is called internally to set selected item</span>
<a href="#l15.388"></a><span id="l15.388" class="difflineminus">-            //  without triggering infinite loop</span>
<a href="#l15.389"></a><span id="l15.389" class="difflineminus">-            //  when using selectedItem's setter</span>
<a href="#l15.390"></a><span id="l15.390" class="difflineminus">-            if (this.mSelectedInternal == val)</span>
<a href="#l15.391"></a><span id="l15.391" class="difflineminus">-                return val;</span>
<a href="#l15.392"></a><span id="l15.392" class="difflineminus">-</span>
<a href="#l15.393"></a><span id="l15.393" class="difflineminus">-            if (this.mSelectedInternal)</span>
<a href="#l15.394"></a><span id="l15.394" class="difflineminus">-                this.mSelectedInternal.removeAttribute(&quot;selected&quot;);</span>
<a href="#l15.395"></a><span id="l15.395" class="difflineminus">-</span>
<a href="#l15.396"></a><span id="l15.396" class="difflineminus">-            this.mSelectedInternal = val;</span>
<a href="#l15.397"></a><span id="l15.397" class="difflineminus">-</span>
<a href="#l15.398"></a><span id="l15.398" class="difflineminus">-            if (val)</span>
<a href="#l15.399"></a><span id="l15.399" class="difflineminus">-                val.setAttribute(&quot;selected&quot;, &quot;true&quot;);</span>
<a href="#l15.400"></a><span id="l15.400" class="difflineminus">-</span>
<a href="#l15.401"></a><span id="l15.401" class="difflineminus">-            // Do NOT change the &quot;value&quot;, which is owned by inputField</span>
<a href="#l15.402"></a><span id="l15.402" class="difflineminus">-            return val;</span>
<a href="#l15.403"></a><span id="l15.403" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l15.404"></a><span id="l15.404" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.405"></a><span id="l15.405" class="difflineminus">-</span>
<a href="#l15.406"></a><span id="l15.406" class="difflineminus">-      &lt;property name=&quot;editable&quot; readonly=&quot;true&quot; onget=&quot;return true;&quot;/&gt;</span>
<a href="#l15.407"></a><span id="l15.407" class="difflineminus">-</span>
<a href="#l15.408"></a><span id="l15.408" class="difflineminus">-      &lt;property name=&quot;inputField&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l15.409"></a><span id="l15.409" class="difflineminus">-        &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l15.410"></a><span id="l15.410" class="difflineminus">-            if (!this.mInputField)</span>
<a href="#l15.411"></a><span id="l15.411" class="difflineminus">-                this.mInputField = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;input&quot;);</span>
<a href="#l15.412"></a><span id="l15.412" class="difflineminus">-            return this.mInputField;</span>
<a href="#l15.413"></a><span id="l15.413" class="difflineminus">-        ]]&gt;&lt;/getter&gt;</span>
<a href="#l15.414"></a><span id="l15.414" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.415"></a><span id="l15.415" class="difflineminus">-</span>
<a href="#l15.416"></a><span id="l15.416" class="difflineminus">-      &lt;property name=&quot;label&quot; onget=&quot;return this.inputField.value;&quot;</span>
<a href="#l15.417"></a><span id="l15.417" class="difflineminus">-                             onset=&quot;return this.inputField.value = val;&quot;/&gt;</span>
<a href="#l15.418"></a><span id="l15.418" class="difflineminus">-</span>
<a href="#l15.419"></a><span id="l15.419" class="difflineminus">-      &lt;property name=&quot;value&quot; onget=&quot;return this.inputField.value;&quot;&gt;</span>
<a href="#l15.420"></a><span id="l15.420" class="difflineminus">-        &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l15.421"></a><span id="l15.421" class="difflineminus">-            // Override menulist's value setter to refer to the inputField's value</span>
<a href="#l15.422"></a><span id="l15.422" class="difflineminus">-            // (Allows using &quot;menulist.value&quot; instead of &quot;menulist.inputField.value&quot;)</span>
<a href="#l15.423"></a><span id="l15.423" class="difflineminus">-            this.inputField.value = val;</span>
<a href="#l15.424"></a><span id="l15.424" class="difflineminus">-            this.setAttribute(&quot;value&quot;, val);</span>
<a href="#l15.425"></a><span id="l15.425" class="difflineminus">-            this.setAttribute(&quot;label&quot;, val);</span>
<a href="#l15.426"></a><span id="l15.426" class="difflineminus">-            this._selectInputFieldValueInList();</span>
<a href="#l15.427"></a><span id="l15.427" class="difflineminus">-            return val;</span>
<a href="#l15.428"></a><span id="l15.428" class="difflineminus">-        ]]&gt;&lt;/setter&gt;</span>
<a href="#l15.429"></a><span id="l15.429" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.430"></a><span id="l15.430" class="difflineminus">-</span>
<a href="#l15.431"></a><span id="l15.431" class="difflineminus">-      &lt;property name=&quot;selectedItem&quot;&gt;</span>
<a href="#l15.432"></a><span id="l15.432" class="difflineminus">-        &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l15.433"></a><span id="l15.433" class="difflineminus">-            // Make sure internally-selected item</span>
<a href="#l15.434"></a><span id="l15.434" class="difflineminus">-            //  is in sync with inputField.value</span>
<a href="#l15.435"></a><span id="l15.435" class="difflineminus">-            this._selectInputFieldValueInList();</span>
<a href="#l15.436"></a><span id="l15.436" class="difflineminus">-            return this.mSelectedInternal;</span>
<a href="#l15.437"></a><span id="l15.437" class="difflineminus">-        ]]&gt;&lt;/getter&gt;</span>
<a href="#l15.438"></a><span id="l15.438" class="difflineminus">-        &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l15.439"></a><span id="l15.439" class="difflineminus">-            var oldval = this.mSelectedInternal;</span>
<a href="#l15.440"></a><span id="l15.440" class="difflineminus">-            if (oldval == val)</span>
<a href="#l15.441"></a><span id="l15.441" class="difflineminus">-              return val;</span>
<a href="#l15.442"></a><span id="l15.442" class="difflineminus">-</span>
<a href="#l15.443"></a><span id="l15.443" class="difflineminus">-            if (val &amp;&amp; !this.contains(val))</span>
<a href="#l15.444"></a><span id="l15.444" class="difflineminus">-              return val;</span>
<a href="#l15.445"></a><span id="l15.445" class="difflineminus">-</span>
<a href="#l15.446"></a><span id="l15.446" class="difflineminus">-            // This doesn't touch inputField.value or &quot;value&quot; and &quot;label&quot; attributes</span>
<a href="#l15.447"></a><span id="l15.447" class="difflineminus">-            this.setSelectionInternal(val);</span>
<a href="#l15.448"></a><span id="l15.448" class="difflineminus">-            if (val) {</span>
<a href="#l15.449"></a><span id="l15.449" class="difflineminus">-              // Editable menulist uses &quot;label&quot; as its &quot;value&quot;</span>
<a href="#l15.450"></a><span id="l15.450" class="difflineminus">-              var label = val.getAttribute(&quot;label&quot;);</span>
<a href="#l15.451"></a><span id="l15.451" class="difflineminus">-              this.inputField.value = label;</span>
<a href="#l15.452"></a><span id="l15.452" class="difflineminus">-              this.setAttribute(&quot;value&quot;, label);</span>
<a href="#l15.453"></a><span id="l15.453" class="difflineminus">-              this.setAttribute(&quot;label&quot;, label);</span>
<a href="#l15.454"></a><span id="l15.454" class="difflineminus">-            } else {</span>
<a href="#l15.455"></a><span id="l15.455" class="difflineminus">-              this.inputField.value = &quot;&quot;;</span>
<a href="#l15.456"></a><span id="l15.456" class="difflineminus">-              this.removeAttribute(&quot;value&quot;);</span>
<a href="#l15.457"></a><span id="l15.457" class="difflineminus">-              this.removeAttribute(&quot;label&quot;);</span>
<a href="#l15.458"></a><span id="l15.458" class="difflineminus">-            }</span>
<a href="#l15.459"></a><span id="l15.459" class="difflineminus">-</span>
<a href="#l15.460"></a><span id="l15.460" class="difflineminus">-            var event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l15.461"></a><span id="l15.461" class="difflineminus">-            event.initEvent(&quot;select&quot;, true, true);</span>
<a href="#l15.462"></a><span id="l15.462" class="difflineminus">-            this.dispatchEvent(event);</span>
<a href="#l15.463"></a><span id="l15.463" class="difflineminus">-</span>
<a href="#l15.464"></a><span id="l15.464" class="difflineminus">-            event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l15.465"></a><span id="l15.465" class="difflineminus">-            event.initEvent(&quot;ValueChange&quot;, true, true);</span>
<a href="#l15.466"></a><span id="l15.466" class="difflineminus">-            this.dispatchEvent(event);</span>
<a href="#l15.467"></a><span id="l15.467" class="difflineminus">-</span>
<a href="#l15.468"></a><span id="l15.468" class="difflineminus">-            return val;</span>
<a href="#l15.469"></a><span id="l15.469" class="difflineminus">-        ]]&gt;&lt;/setter&gt;</span>
<a href="#l15.470"></a><span id="l15.470" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.471"></a><span id="l15.471" class="difflineminus">-      &lt;property name=&quot;disableautoselect&quot;</span>
<a href="#l15.472"></a><span id="l15.472" class="difflineminus">-                onget=&quot;return this.hasAttribute('disableautoselect');&quot;&gt;</span>
<a href="#l15.473"></a><span id="l15.473" class="difflineminus">-        &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l15.474"></a><span id="l15.474" class="difflineminus">-            if (val) {</span>
<a href="#l15.475"></a><span id="l15.475" class="difflineminus">-                this.setAttribute(&quot;disableautoselect&quot;, &quot;true&quot;);</span>
<a href="#l15.476"></a><span id="l15.476" class="difflineminus">-            } else {</span>
<a href="#l15.477"></a><span id="l15.477" class="difflineminus">-                this.removeAttribute(&quot;disableautoselect&quot;);</span>
<a href="#l15.478"></a><span id="l15.478" class="difflineminus">-            }</span>
<a href="#l15.479"></a><span id="l15.479" class="difflineminus">-            return val;</span>
<a href="#l15.480"></a><span id="l15.480" class="difflineminus">-        ]]&gt;&lt;/setter&gt;</span>
<a href="#l15.481"></a><span id="l15.481" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.482"></a><span id="l15.482" class="difflineminus">-</span>
<a href="#l15.483"></a><span id="l15.483" class="difflineminus">-      &lt;property name=&quot;editor&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l15.484"></a><span id="l15.484" class="difflineminus">-        &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l15.485"></a><span id="l15.485" class="difflineminus">-            return this.inputField.editor;</span>
<a href="#l15.486"></a><span id="l15.486" class="difflineminus">-        ]]&gt;&lt;/getter&gt;</span>
<a href="#l15.487"></a><span id="l15.487" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.488"></a><span id="l15.488" class="difflineminus">-</span>
<a href="#l15.489"></a><span id="l15.489" class="difflineminus">-      &lt;property name=&quot;readOnly&quot; onget=&quot;return this.inputField.readOnly;&quot;&gt;</span>
<a href="#l15.490"></a><span id="l15.490" class="difflineminus">-        &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l15.491"></a><span id="l15.491" class="difflineminus">-            this.inputField.readOnly = val;</span>
<a href="#l15.492"></a><span id="l15.492" class="difflineminus">-            if (val) {</span>
<a href="#l15.493"></a><span id="l15.493" class="difflineminus">-                this.setAttribute(&quot;readonly&quot;, &quot;true&quot;);</span>
<a href="#l15.494"></a><span id="l15.494" class="difflineminus">-            } else {</span>
<a href="#l15.495"></a><span id="l15.495" class="difflineminus">-                this.removeAttribute(&quot;readonly&quot;);</span>
<a href="#l15.496"></a><span id="l15.496" class="difflineminus">-            }</span>
<a href="#l15.497"></a><span id="l15.497" class="difflineminus">-            return val;</span>
<a href="#l15.498"></a><span id="l15.498" class="difflineminus">-        ]]&gt;&lt;/setter&gt;</span>
<a href="#l15.499"></a><span id="l15.499" class="difflineminus">-      &lt;/property&gt;</span>
<a href="#l15.500"></a><span id="l15.500" class="difflineminus">-</span>
<a href="#l15.501"></a><span id="l15.501" class="difflineminus">-      &lt;method name=&quot;select&quot;&gt;</span>
<a href="#l15.502"></a><span id="l15.502" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l15.503"></a><span id="l15.503" class="difflineminus">-            this.inputField.select();</span>
<a href="#l15.504"></a><span id="l15.504" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l15.505"></a><span id="l15.505" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l15.506"></a><span id="l15.506" class="difflineminus">-    &lt;/implementation&gt;</span>
<a href="#l15.507"></a><span id="l15.507" class="difflineminus">-</span>
<a href="#l15.508"></a><span id="l15.508" class="difflineminus">-    &lt;handlers&gt;</span>
<a href="#l15.509"></a><span id="l15.509" class="difflineminus">-      &lt;handler event=&quot;focus&quot; phase=&quot;capturing&quot;&gt;&lt;![CDATA[</span>
<a href="#l15.510"></a><span id="l15.510" class="difflineminus">-          this.setAttribute(&quot;focused&quot;, &quot;true&quot;);</span>
<a href="#l15.511"></a><span id="l15.511" class="difflineminus">-      ]]&gt;&lt;/handler&gt;</span>
<a href="#l15.512"></a><span id="l15.512" class="difflineminus">-</span>
<a href="#l15.513"></a><span id="l15.513" class="difflineminus">-      &lt;handler event=&quot;blur&quot; phase=&quot;capturing&quot;&gt;&lt;![CDATA[</span>
<a href="#l15.514"></a><span id="l15.514" class="difflineminus">-          this.removeAttribute(&quot;focused&quot;);</span>
<a href="#l15.515"></a><span id="l15.515" class="difflineminus">-      ]]&gt;&lt;/handler&gt;</span>
<a href="#l15.516"></a><span id="l15.516" class="difflineminus">-</span>
<a href="#l15.517"></a><span id="l15.517" class="difflineminus">-      &lt;handler event=&quot;popupshowing&quot;&gt;&lt;![CDATA[</span>
<a href="#l15.518"></a><span id="l15.518" class="difflineminus">-          // editable menulists elements aren't in the focus order,</span>
<a href="#l15.519"></a><span id="l15.519" class="difflineminus">-          // so when the popup opens we need to force the focus to the inputField</span>
<a href="#l15.520"></a><span id="l15.520" class="difflineminus">-          if (event.target.parentNode == this) {</span>
<a href="#l15.521"></a><span id="l15.521" class="difflineminus">-              if (document.commandDispatcher.focusedElement != this.inputField)</span>
<a href="#l15.522"></a><span id="l15.522" class="difflineminus">-                  this.inputField.focus();</span>
<a href="#l15.523"></a><span id="l15.523" class="difflineminus">-</span>
<a href="#l15.524"></a><span id="l15.524" class="difflineminus">-              this.activeChild = null;</span>
<a href="#l15.525"></a><span id="l15.525" class="difflineminus">-              if (this.selectedItem)</span>
<a href="#l15.526"></a><span id="l15.526" class="difflineminus">-                  // Not ready for auto-setting the active child in hierarchies yet.</span>
<a href="#l15.527"></a><span id="l15.527" class="difflineminus">-                  // For now, only do this when the outermost menupopup opens.</span>
<a href="#l15.528"></a><span id="l15.528" class="difflineminus">-                  this.activeChild = this.mSelectedInternal;</span>
<a href="#l15.529"></a><span id="l15.529" class="difflineminus">-          }</span>
<a href="#l15.530"></a><span id="l15.530" class="difflineminus">-      ]]&gt;&lt;/handler&gt;</span>
<a href="#l15.531"></a><span id="l15.531" class="difflineminus">-</span>
<a href="#l15.532"></a><span id="l15.532" class="difflineminus">-      &lt;handler event=&quot;keypress&quot;&gt;&lt;![CDATA[</span>
<a href="#l15.533"></a><span id="l15.533" class="difflineminus">-          // open popup if key is up arrow, down arrow, or F4</span>
<a href="#l15.534"></a><span id="l15.534" class="difflineminus">-          if (!event.ctrlKey &amp;&amp; !event.shiftKey) {</span>
<a href="#l15.535"></a><span id="l15.535" class="difflineminus">-              if (event.keyCode == KeyEvent.DOM_VK_UP ||</span>
<a href="#l15.536"></a><span id="l15.536" class="difflineminus">-                  event.keyCode == KeyEvent.DOM_VK_DOWN ||</span>
<a href="#l15.537"></a><span id="l15.537" class="difflineminus">-                  (event.keyCode == KeyEvent.DOM_VK_F4 &amp;&amp; !event.altKey)) {</span>
<a href="#l15.538"></a><span id="l15.538" class="difflineminus">-                  event.preventDefault();</span>
<a href="#l15.539"></a><span id="l15.539" class="difflineminus">-                  this.open = true;</span>
<a href="#l15.540"></a><span id="l15.540" class="difflineminus">-              }</span>
<a href="#l15.541"></a><span id="l15.541" class="difflineminus">-          }</span>
<a href="#l15.542"></a><span id="l15.542" class="difflineminus">-      ]]&gt;&lt;/handler&gt;</span>
<a href="#l15.543"></a><span id="l15.543" class="difflineminus">-    &lt;/handlers&gt;</span>
<a href="#l15.544"></a><span id="l15.544" class="difflineminus">-  &lt;/binding&gt;</span>
<a href="#l15.545"></a><span id="l15.545" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdAdvancedEdit.xul</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdAdvancedEdit.xul</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -3,17 +3,17 @@</span>
<a href="#l16.4"></a><span id="l16.4">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.5"></a><span id="l16.5">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l16.6"></a><span id="l16.6"> </span>
<a href="#l16.7"></a><span id="l16.7"> &lt;!-- first checkin of the year 2000!      --&gt;</span>
<a href="#l16.8"></a><span id="l16.8"> &lt;!-- Ben Goodger, 12:50AM, 01/00/00 NZST  --&gt;</span>
<a href="#l16.9"></a><span id="l16.9"> </span>
<a href="#l16.10"></a><span id="l16.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l16.11"></a><span id="l16.11"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/content/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l16.14"></a><span id="l16.14"> </span>
<a href="#l16.15"></a><span id="l16.15"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EdAdvancedEdit.dtd&quot;&gt;</span>
<a href="#l16.16"></a><span id="l16.16"> </span>
<a href="#l16.17"></a><span id="l16.17"> &lt;dialog xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l16.18"></a><span id="l16.18">     id=&quot;advancedEditDlg&quot;</span>
<a href="#l16.19"></a><span id="l16.19">     style=&quot;width: 40em;&quot;</span>
<a href="#l16.20"></a><span id="l16.20">     title=&quot;&amp;WindowTitle.label;&quot;</span>
<a href="#l16.21"></a><span id="l16.21">     onload=&quot;Startup()&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/editor/ui/dialogs/content/EdFormProps.xul</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EdFormProps.xul</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l17.4"></a><span id="l17.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l17.5"></a><span id="l17.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.6"></a><span id="l17.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.7"></a><span id="l17.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.10"></a><span id="l17.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/content/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l17.13"></a><span id="l17.13"> </span>
<a href="#l17.14"></a><span id="l17.14"> &lt;!DOCTYPE dialog [</span>
<a href="#l17.15"></a><span id="l17.15"> &lt;!ENTITY % edFormProperties SYSTEM &quot;chrome://editor/locale/EditorFormProperties.dtd&quot;&gt;</span>
<a href="#l17.16"></a><span id="l17.16"> %edFormProperties;</span>
<a href="#l17.17"></a><span id="l17.17"> &lt;!ENTITY % edDialogOverlay SYSTEM &quot;chrome://editor/locale/EdDialogOverlay.dtd&quot;&gt;</span>
<a href="#l17.18"></a><span id="l17.18"> %edDialogOverlay;</span>
<a href="#l17.19"></a><span id="l17.19"> ]&gt;</span>
<a href="#l17.20"></a><span id="l17.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/editor/ui/dialogs/content/EditorPublish.xul</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/editor/ui/dialogs/content/EditorPublish.xul</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l18.4"></a><span id="l18.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l18.5"></a><span id="l18.5"> </span>
<a href="#l18.6"></a><span id="l18.6"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l18.7"></a><span id="l18.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l18.8"></a><span id="l18.8">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l18.9"></a><span id="l18.9"> </span>
<a href="#l18.10"></a><span id="l18.10"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/editor.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l18.11"></a><span id="l18.11"> &lt;?xml-stylesheet href=&quot;chrome://editor/skin/EditorDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/content/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l18.14"></a><span id="l18.14"> </span>
<a href="#l18.15"></a><span id="l18.15"> &lt;?xul-overlay href=&quot;chrome://editor/content/EditorPublishOverlay.xul&quot;?&gt;</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://editor/locale/EditorPublish.dtd&quot;&gt;</span>
<a href="#l18.18"></a><span id="l18.18"> </span>
<a href="#l18.19"></a><span id="l18.19"> &lt;dialog title=&quot;&amp;windowTitle.label;&quot;</span>
<a href="#l18.20"></a><span id="l18.20">         id=&quot;publishDlg&quot;</span>
<a href="#l18.21"></a><span id="l18.21">         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/base/content/bindings.css</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/base/content/bindings.css</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l19.4"></a><span id="l19.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l19.5"></a><span id="l19.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l19.6"></a><span id="l19.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8"> @import url(&quot;chrome://global/skin/textbox.css&quot;);</span>
<a href="#l19.9"></a><span id="l19.9"> @import url(&quot;chrome://messenger/skin/numberbox.css&quot;);</span>
<a href="#l19.10"></a><span id="l19.10"> @import url(&quot;chrome://messenger/skin/xbl-notification.css&quot;);</span>
<a href="#l19.11"></a><span id="l19.11"> @import url(&quot;chrome://messenger/skin/spinbuttons.css&quot;);</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-@import url(&quot;chrome://messenger/content/menulist.css&quot;);</span>
<a href="#l19.13"></a><span id="l19.13"> </span>
<a href="#l19.14"></a><span id="l19.14"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l19.15"></a><span id="l19.15"> </span>
<a href="#l19.16"></a><span id="l19.16"> toolbox {</span>
<a href="#l19.17"></a><span id="l19.17">   -moz-binding: url(&quot;chrome://messenger/content/toolbar.xml#toolbox&quot;);</span>
<a href="#l19.18"></a><span id="l19.18"> }</span>
<a href="#l19.19"></a><span id="l19.19"> </span>
<a href="#l19.20"></a><span id="l19.20"> toolbar {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">new file mode 100644</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineminus">--- /dev/null</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineplus">+++ b/mail/base/content/menulist.css</span>
<a href="#l20.4"></a><span id="l20.4" class="difflineat">@@ -0,0 +1,25 @@</span>
<a href="#l20.5"></a><span id="l20.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l20.6"></a><span id="l20.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l20.7"></a><span id="l20.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l20.8"></a><span id="l20.8" class="difflineplus">+</span>
<a href="#l20.9"></a><span id="l20.9" class="difflineplus">+@namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l20.10"></a><span id="l20.10" class="difflineplus">+@namespace html url(&quot;http://www.w3.org/1999/xhtml&quot;);</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineplus">+</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+menulist[is=&quot;menulist-editable&quot;]:not([editable=&quot;true&quot;]) .menulist-input,</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] .menulist-label-box {</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+  display: none;</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+}</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineplus">+</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineplus">+menulist &gt; textbox {</span>
<a href="#l20.18"></a><span id="l20.18" class="difflineplus">+  margin: 0;</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineplus">+}</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineplus">+</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineplus">+menulist html|*.textbox-input {</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineplus">+  -moz-appearance: none !important;</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineplus">+  background: transparent !important;</span>
<a href="#l20.24"></a><span id="l20.24" class="difflineplus">+  -moz-box-flex: 1;</span>
<a href="#l20.25"></a><span id="l20.25" class="difflineplus">+  margin: 0 !important;</span>
<a href="#l20.26"></a><span id="l20.26" class="difflineplus">+  border: none !important;</span>
<a href="#l20.27"></a><span id="l20.27" class="difflineplus">+  padding: 0 !important;</span>
<a href="#l20.28"></a><span id="l20.28" class="difflineplus">+  font: inherit;</span>
<a href="#l20.29"></a><span id="l20.29" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mail/base/jar.mn</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mail/base/jar.mn</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -34,25 +34,24 @@ messenger.jar:</span>
<a href="#l21.4"></a><span id="l21.4">     content/messenger/customizeToolbar.js           (../../common/src/customizeToolbar.js)</span>
<a href="#l21.5"></a><span id="l21.5"> *   content/messenger/customizeToolbar.xul          (../../common/src/customizeToolbar.xul)</span>
<a href="#l21.6"></a><span id="l21.6">     content/messenger/viewSource.css                (../../common/src/viewSource.css)</span>
<a href="#l21.7"></a><span id="l21.7">     content/messenger/viewSource.js                 (../../common/src/viewSource.js)</span>
<a href="#l21.8"></a><span id="l21.8"> *   content/messenger/viewSource.xul                (../../common/src/viewSource.xul)</span>
<a href="#l21.9"></a><span id="l21.9">     content/messenger/generalBindings.xml           (../../common/bindings/generalBindings.xml)</span>
<a href="#l21.10"></a><span id="l21.10">     content/messenger/generalBindings.js            (../../common/bindings/generalBindings.js)</span>
<a href="#l21.11"></a><span id="l21.11">     content/messenger/menubutton.xml                (../../common/bindings/menubutton.xml)</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-    content/messenger/menulist.css                  (../../common/bindings/menulist.css)</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineminus">-    content/messenger/menulist.xml                  (../../common/bindings/menulist.xml)</span>
<a href="#l21.14"></a><span id="l21.14">     content/messenger/notificationbox.xml           (../../common/bindings/notificationbox.xml)</span>
<a href="#l21.15"></a><span id="l21.15">     content/messenger/numberbox.xml                 (../../common/bindings/numberbox.xml)</span>
<a href="#l21.16"></a><span id="l21.16">     content/messenger/richlistbox.xml               (../../common/bindings/richlistbox.xml)</span>
<a href="#l21.17"></a><span id="l21.17">     content/messenger/spinbuttons.xml               (../../common/bindings/spinbuttons.xml)</span>
<a href="#l21.18"></a><span id="l21.18"> *   content/messenger/textbox.xml                   (../../common/bindings/textbox.xml)</span>
<a href="#l21.19"></a><span id="l21.19"> *   content/messenger/toolbar.xml                   (../../common/bindings/toolbar.xml)</span>
<a href="#l21.20"></a><span id="l21.20">     content/messenger/attachmentList.css            (content/attachmentList.css)</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineplus">+    content/messenger/menulist.css                  (content/menulist.css)</span>
<a href="#l21.22"></a><span id="l21.22"> *   content/messenger/bindings.css                  (content/bindings.css)</span>
<a href="#l21.23"></a><span id="l21.23">     content/messenger/nsDragAndDrop.js              (content/nsDragAndDrop.js)</span>
<a href="#l21.24"></a><span id="l21.24">     content/messenger/editContactPanel.js           (content/editContactPanel.js)</span>
<a href="#l21.25"></a><span id="l21.25">     content/messenger/msgMail3PaneWindow.js         (content/msgMail3PaneWindow.js)</span>
<a href="#l21.26"></a><span id="l21.26">     content/messenger/mail3PaneWindowCommands.js    (content/mail3PaneWindowCommands.js)</span>
<a href="#l21.27"></a><span id="l21.27">     content/messenger/mailCommands.js               (content/mailCommands.js)</span>
<a href="#l21.28"></a><span id="l21.28">     content/messenger/mailCore.js                   (content/mailCore.js)</span>
<a href="#l21.29"></a><span id="l21.29">     content/messenger/mailTabs.js                   (content/mailTabs.js)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mail/base/test/browser/files/menulist.xul</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mail/base/test/browser/files/menulist.xul</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -1,12 +1,12 @@</span>
<a href="#l22.4"></a><span id="l22.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l22.5"></a><span id="l22.5"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://global/skin/global.css&quot;?&gt;</span>
<a href="#l22.6"></a><span id="l22.6"> &lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/bindings.css&quot;?&gt;</span>
<a href="#l22.7"></a><span id="l22.7" class="difflineminus">-&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/content/menulist.css&quot;?&gt;</span>
<a href="#l22.8"></a><span id="l22.8" class="difflineplus">+&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;chrome://messenger/skin/menulist.css&quot;?&gt;</span>
<a href="#l22.9"></a><span id="l22.9"> </span>
<a href="#l22.10"></a><span id="l22.10"> &lt;page align=&quot;start&quot; xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span>
<a href="#l22.11"></a><span id="l22.11">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/customElements.js&quot;/&gt;</span>
<a href="#l22.12"></a><span id="l22.12"> </span>
<a href="#l22.13"></a><span id="l22.13">   &lt;button id=&quot;before&quot; label=&quot;I'm just a button&quot; onclick=&quot;alert('I\'m a button!')&quot;/&gt;</span>
<a href="#l22.14"></a><span id="l22.14"> </span>
<a href="#l22.15"></a><span id="l22.15">   &lt;menulist&gt;</span>
<a href="#l22.16"></a><span id="l22.16">     &lt;menupopup&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mail/components/accountcreation/content/emailWizard.xul</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mail/components/accountcreation/content/emailWizard.xul</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -1,15 +1,15 @@</span>
<a href="#l23.4"></a><span id="l23.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l23.5"></a><span id="l23.5"> &lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l23.6"></a><span id="l23.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l23.7"></a><span id="l23.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l23.8"></a><span id="l23.8"> </span>
<a href="#l23.9"></a><span id="l23.9"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l23.10"></a><span id="l23.10" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/content/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l23.11"></a><span id="l23.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l23.12"></a><span id="l23.12"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountCreation.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l23.13"></a><span id="l23.13"> </span>
<a href="#l23.14"></a><span id="l23.14"> &lt;!DOCTYPE window [</span>
<a href="#l23.15"></a><span id="l23.15">   &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l23.16"></a><span id="l23.16">   %brandDTD;</span>
<a href="#l23.17"></a><span id="l23.17">   &lt;!ENTITY % acDTD SYSTEM &quot;chrome://messenger/locale/accountCreation.dtd&quot;&gt;</span>
<a href="#l23.18"></a><span id="l23.18">   %acDTD;</span>
<a href="#l23.19"></a><span id="l23.19"> ]&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mail/components/compose/content/messengercompose.xul</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mail/components/compose/content/messengercompose.xul</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -4,18 +4,17 @@</span>
<a href="#l24.4"></a><span id="l24.4"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l24.5"></a><span id="l24.5"> </span>
<a href="#l24.6"></a><span id="l24.6"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/bindings.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.7"></a><span id="l24.7"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/messengercompose/messengercompose.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.8"></a><span id="l24.8"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.9"></a><span id="l24.9"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/attachmentList.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.10"></a><span id="l24.10"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/smime/smime-compose.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.11"></a><span id="l24.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/compacttheme.css&quot; type=&quot;text/css&quot; alternate=&quot;yes&quot; title=&quot;Light/Dark&quot;?&gt;</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://messenger/content/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/menulist.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l24.15"></a><span id="l24.15"> </span>
<a href="#l24.16"></a><span id="l24.16"> &lt;!DOCTYPE window [</span>
<a href="#l24.17"></a><span id="l24.17">   &lt;!ENTITY % messengercomposeDTD SYSTEM &quot;chrome://messenger/locale/messengercompose/messengercompose.dtd&quot; &gt;</span>
<a href="#l24.18"></a><span id="l24.18">   %messengercomposeDTD;</span>
<a href="#l24.19"></a><span id="l24.19">   &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l24.20"></a><span id="l24.20">   %brandDTD;</span>
<a href="#l24.21"></a><span id="l24.21">   &lt;!ENTITY % charsetDTD SYSTEM &quot;chrome://global/locale/charsetMenu.dtd&quot; &gt;</span>
<a href="#l24.22"></a><span id="l24.22">   %charsetDTD;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mail/themes/linux/mail/menulist.css</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mail/themes/linux/mail/menulist.css</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l25.4"></a><span id="l25.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l25.5"></a><span id="l25.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l25.6"></a><span id="l25.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l25.7"></a><span id="l25.7"> </span>
<a href="#l25.8"></a><span id="l25.8" class="difflineplus">+@import url(&quot;chrome://messenger/content/menulist.css&quot;);</span>
<a href="#l25.9"></a><span id="l25.9" class="difflineplus">+</span>
<a href="#l25.10"></a><span id="l25.10"> menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] {</span>
<a href="#l25.11"></a><span id="l25.11">   -moz-appearance: none;</span>
<a href="#l25.12"></a><span id="l25.12"> }</span>
<a href="#l25.13"></a><span id="l25.13"> </span>
<a href="#l25.14"></a><span id="l25.14"> menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] .menulist-dropmarker {</span>
<a href="#l25.15"></a><span id="l25.15">   display: -moz-box;</span>
<a href="#l25.16"></a><span id="l25.16">   min-width: 2em;</span>
<a href="#l25.17"></a><span id="l25.17"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/themes/osx/mail/menulist.css</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/themes/osx/mail/menulist.css</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l26.4"></a><span id="l26.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l26.5"></a><span id="l26.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l26.6"></a><span id="l26.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l26.7"></a><span id="l26.7"> </span>
<a href="#l26.8"></a><span id="l26.8" class="difflineplus">+@import url(&quot;chrome://messenger/content/menulist.css&quot;);</span>
<a href="#l26.9"></a><span id="l26.9" class="difflineplus">+</span>
<a href="#l26.10"></a><span id="l26.10"> menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] {</span>
<a href="#l26.11"></a><span id="l26.11">   margin: 4px 2px;</span>
<a href="#l26.12"></a><span id="l26.12"> }</span>
<a href="#l26.13"></a><span id="l26.13"> </span>
<a href="#l26.14"></a><span id="l26.14"> menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] &gt; menupopup,</span>
<a href="#l26.15"></a><span id="l26.15"> menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] &gt; menupopup &gt; menuitem,</span>
<a href="#l26.16"></a><span id="l26.16"> menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] &gt; menupopup &gt; menucaption {</span>
<a href="#l26.17"></a><span id="l26.17">   -moz-appearance: none;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mail/themes/windows/mail/menulist.css</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mail/themes/windows/mail/menulist.css</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -1,12 +1,14 @@</span>
<a href="#l27.4"></a><span id="l27.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l27.5"></a><span id="l27.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l27.6"></a><span id="l27.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l27.7"></a><span id="l27.7"> </span>
<a href="#l27.8"></a><span id="l27.8" class="difflineplus">+@import url(&quot;chrome://messenger/content/menulist.css&quot;);</span>
<a href="#l27.9"></a><span id="l27.9" class="difflineplus">+</span>
<a href="#l27.10"></a><span id="l27.10"> menulist[is=&quot;menulist-editable&quot;][editable=&quot;true&quot;] {</span>
<a href="#l27.11"></a><span id="l27.11">   padding: 0;</span>
<a href="#l27.12"></a><span id="l27.12"> }</span>
<a href="#l27.13"></a><span id="l27.13"> </span>
<a href="#l27.14"></a><span id="l27.14"> .menulist-input {</span>
<a href="#l27.15"></a><span id="l27.15">   -moz-appearance: none;</span>
<a href="#l27.16"></a><span id="l27.16">   border-style: none;</span>
<a href="#l27.17"></a><span id="l27.17">   margin-top: -2px;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:32Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

