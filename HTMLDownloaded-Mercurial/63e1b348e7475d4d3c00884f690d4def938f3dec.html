<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 6888:63e1b348e7475d4d3c00884f690d4def938f3dec</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 63e1b348e7475d4d3c00884f690d4def938f3dec" />
<meta property="og:url" content="/comm-central/rev/63e1b348e7475d4d3c00884f690d4def938f3dec" />
<meta property="og:description" content="Bug 484968 Make SeaMonkey tab bar scrollable to cope with tab overflow. r=IanN sr=Neil; Additional theme fixes by Neil f=Ratty." />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 63e1b348e7475d4d3c00884f690d4def938f3dec 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/63e1b348e7475d4d3c00884f690d4def938f3dec">shortlog</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/63e1b348e7475d4d3c00884f690d4def938f3dec">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec">files</a> |
changeset |
<a href="/comm-central/raw-rev/63e1b348e7475d4d3c00884f690d4def938f3dec">raw</a>  | <a href="/comm-central/archive/63e1b348e7475d4d3c00884f690d4def938f3dec.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=484968">Bug 484968</a> Make SeaMonkey tab bar scrollable to cope with tab overflow. r=IanN sr=Neil; Additional theme fixes by Neil f=Ratty.
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#32;&#67;&#104;&#101;&#101;&#32;&#60;&#112;&#104;&#105;&#108;&#105;&#112;&#46;&#99;&#104;&#101;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 29 Dec 2010 00:04:50 +0800</td></tr>

<tr>
 <td>changeset 6888</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/63e1b348e7475d4d3c00884f690d4def938f3dec">63e1b348e7475d4d3c00884f690d4def938f3dec</a></td>
</tr>



<tr>
<td>parent 6887</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/07819e112e69dcf515deaf21b00acb7113ebd5d1">07819e112e69dcf515deaf21b00acb7113ebd5d1</a>
</td>
</tr>

<tr>
<td>child 6889</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/d76e964a7460cc8b8345a37aac070740fc5cd7dc">d76e964a7460cc8b8345a37aac070740fc5cd7dc</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=63e1b348e7475d4d3c00884f690d4def938f3dec">5279</a></td></tr>
<tr><td>push user</td><td>philip.chee@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Wed, 29 Dec 2010 03:02:40 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@63e1b348e747 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=63e1b348e7475d4d3c00884f690d4def938f3dec">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=63e1b348e7475d4d3c00884f690d4def938f3dec&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=63e1b348e7475d4d3c00884f690d4def938f3dec&newProject=comm-central&newRevision=63e1b348e7475d4d3c00884f690d4def938f3dec&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=63e1b348e7475d4d3c00884f690d4def938f3dec&newProject=comm-central&newRevision=63e1b348e7475d4d3c00884f690d4def938f3dec&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=63e1b348e7475d4d3c00884f690d4def938f3dec&newProject=comm-central&newRevision=63e1b348e7475d4d3c00884f690d4def938f3dec&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28IanN%29&revcount=50">IanN</a>, <a href="/comm-central/log?rev=reviewer%28Neil%29&revcount=50">Neil</a>, <a href="/comm-central/log?rev=reviewer%28Additional%29&revcount=50">Additional</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=484968">484968</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=484968">Bug 484968</a> Make SeaMonkey tab bar scrollable to cope with tab overflow. r=IanN sr=Neil; Additional theme fixes by Neil f=Ratty.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/navigator.css">suite/browser/navigator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/navigator.css">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/navigator.css">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/navigator.css">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/navigator.css">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/navigator.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/tabbrowser.xml">suite/browser/tabbrowser.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/tabbrowser.xml">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/tabbrowser.xml">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/tabbrowser.xml">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/tabbrowser.xml">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/browser/tabbrowser.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/locales/en-US/chrome/browser/tabbrowser.dtd">suite/locales/en-US/chrome/browser/tabbrowser.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/locales/en-US/chrome/browser/tabbrowser.dtd">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/locales/en-US/chrome/browser/tabbrowser.dtd">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/locales/en-US/chrome/browser/tabbrowser.dtd">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/locales/en-US/chrome/browser/tabbrowser.dtd">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/locales/en-US/chrome/browser/tabbrowser.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/jar.mn">suite/themes/classic/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/jar.mn">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/jar.mn">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/jar.mn">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/jar.mn">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/mac/navigator/tabbrowser.css">suite/themes/classic/mac/navigator/tabbrowser.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/mac/navigator/tabbrowser.css">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/mac/navigator/tabbrowser.css">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/mac/navigator/tabbrowser.css">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/mac/navigator/tabbrowser.css">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/mac/navigator/tabbrowser.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-left.gif">suite/themes/classic/navigator/icons/tab-arrow-left.gif</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-left.gif">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-left.gif">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-left.gif">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-left.gif">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-left.gif">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-right.gif">suite/themes/classic/navigator/icons/tab-arrow-right.gif</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-right.gif">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-right.gif">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-right.gif">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-right.gif">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/icons/tab-arrow-right.gif">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/navigator.css">suite/themes/classic/navigator/navigator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/navigator.css">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/navigator.css">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/navigator.css">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/navigator.css">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/navigator.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/tabbrowser.css">suite/themes/classic/navigator/tabbrowser.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/tabbrowser.css">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/tabbrowser.css">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/tabbrowser.css">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/tabbrowser.css">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/classic/navigator/tabbrowser.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/modern/navigator/tabbrowser.css">suite/themes/modern/navigator/tabbrowser.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/modern/navigator/tabbrowser.css">file</a> |
<a href="/comm-central/annotate/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/modern/navigator/tabbrowser.css">annotate</a> |
<a href="/comm-central/diff/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/modern/navigator/tabbrowser.css">diff</a> |
<a href="/comm-central/comparison/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/modern/navigator/tabbrowser.css">comparison</a> |
<a href="/comm-central/log/63e1b348e7475d4d3c00884f690d4def938f3dec/suite/themes/modern/navigator/tabbrowser.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/browser/navigator.css</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/browser/navigator.css</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -9,16 +9,24 @@</span>
<a href="#l1.4"></a><span id="l1.4"> tabbrowser {</span>
<a href="#l1.5"></a><span id="l1.5">   -moz-binding: url(&quot;chrome://navigator/content/tabbrowser.xml#tabbrowser&quot;);</span>
<a href="#l1.6"></a><span id="l1.6"> }</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> .tabbrowser-tabs {</span>
<a href="#l1.9"></a><span id="l1.9">   -moz-binding: url(&quot;chrome://navigator/content/tabbrowser.xml#tabbrowser-tabs&quot;);</span>
<a href="#l1.10"></a><span id="l1.10"> }</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+.tabbrowser-arrowscrollbox {</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+  -moz-binding: url(&quot;chrome://navigator/content/tabbrowser.xml#tabbrowser-arrowscrollbox&quot;);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+}</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+.tabs-alltabs-popup {</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+  -moz-binding: url(&quot;chrome://navigator/content/tabbrowser.xml#tabbrowser-alltabs-popup&quot;);</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+}</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+</span>
<a href="#l1.20"></a><span id="l1.20"> .tabs-closebutton-box &gt; .tabs-closebutton {</span>
<a href="#l1.21"></a><span id="l1.21">   -moz-binding: url(&quot;chrome://global/content/bindings/toolbarbutton.xml#toolbarbutton&quot;);</span>
<a href="#l1.22"></a><span id="l1.22"> }</span>
<a href="#l1.23"></a><span id="l1.23"> </span>
<a href="#l1.24"></a><span id="l1.24"> /* ::::: urlbar autocomplete ::::: */</span>
<a href="#l1.25"></a><span id="l1.25"> </span>
<a href="#l1.26"></a><span id="l1.26"> #urlbar {</span>
<a href="#l1.27"></a><span id="l1.27">   -moz-binding: url(&quot;chrome://navigator/content/urlbarBindings.xml#urlbar&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/browser/tabbrowser.xml</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/browser/tabbrowser.xml</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -19,16 +19,18 @@</span>
<a href="#l2.4"></a><span id="l2.4">    - Peter Annema.</span>
<a href="#l2.5"></a><span id="l2.5">    - Portions created by the Initial Developer are Copyright (C) 2001</span>
<a href="#l2.6"></a><span id="l2.6">    - the Initial Developer. All Rights Reserved.</span>
<a href="#l2.7"></a><span id="l2.7">    -</span>
<a href="#l2.8"></a><span id="l2.8">    - Contributor(s):</span>
<a href="#l2.9"></a><span id="l2.9">    -   David Hyatt &lt;hyatt@netscape.com&gt; (Original Author of &lt;tabbrowser&gt;)</span>
<a href="#l2.10"></a><span id="l2.10">    -   Mike Connor &lt;mconnor@steelgryphon.com&gt;</span>
<a href="#l2.11"></a><span id="l2.11">    -   Christopher Thomas &lt;cst@yecc.com&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+   -   Misak Khachatryan &lt;misak.bugzilla@gmail.com&gt;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+   -   Philip Chee &lt;philip.chee@gmail.com&gt;</span>
<a href="#l2.14"></a><span id="l2.14">    -</span>
<a href="#l2.15"></a><span id="l2.15">    - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l2.16"></a><span id="l2.16">    - either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l2.17"></a><span id="l2.17">    - or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l2.18"></a><span id="l2.18">    - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l2.19"></a><span id="l2.19">    - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l2.20"></a><span id="l2.20">    - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l2.21"></a><span id="l2.21">    - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineat">@@ -67,17 +69,17 @@</span>
<a href="#l2.23"></a><span id="l2.23">                   ondragover=&quot;nsDragAndDrop.dragOver(event, this.parentNode.parentNode); event.stopPropagation();&quot;</span>
<a href="#l2.24"></a><span id="l2.24">                   ondragdrop=&quot;nsDragAndDrop.drop(event, this.parentNode.parentNode); event.stopPropagation();&quot;</span>
<a href="#l2.25"></a><span id="l2.25">                   ondragexit=&quot;nsDragAndDrop.dragExit(event, this.parentNode.parentNode); event.stopPropagation();&quot;&gt;</span>
<a href="#l2.26"></a><span id="l2.26">           &lt;xul:tooltip onpopupshowing=&quot;event.stopPropagation(); return this.parentNode.parentNode.parentNode.doPreview(this);&quot;</span>
<a href="#l2.27"></a><span id="l2.27">                        onpopuphiding=&quot;this.parentNode.parentNode.parentNode.resetPreview(this);&quot; orient=&quot;vertical&quot;&gt;</span>
<a href="#l2.28"></a><span id="l2.28">             &lt;xul:label class=&quot;tooltip-label&quot; crop=&quot;right&quot;/&gt;</span>
<a href="#l2.29"></a><span id="l2.29">             &lt;xul:label class=&quot;tooltip-label&quot; hidden=&quot;true&quot;&gt;&lt;html:canvas class=&quot;tab-tooltip-canvas&quot;/&gt;&lt;/xul:label&gt;</span>
<a href="#l2.30"></a><span id="l2.30">           &lt;/xul:tooltip&gt;</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-          &lt;xul:menupopup anonid=&quot;tabContextMenu&quot; onpopupshowing=&quot;this.parentNode.parentNode.parentNode.updatePopupMenu(this);&quot;&gt;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+          &lt;xul:menupopup anonid=&quot;tabContextMenu&quot; onpopupshowing=&quot;return document.getBindingParent(this).updatePopupMenu(this);&quot;&gt;</span>
<a href="#l2.33"></a><span id="l2.33">             &lt;xul:menuitem label=&quot;&amp;closeTab.label;&quot; accesskey=&quot;&amp;closeTab.accesskey;&quot;</span>
<a href="#l2.34"></a><span id="l2.34">                           tbattr=&quot;tabbrowser-multiple&quot;</span>
<a href="#l2.35"></a><span id="l2.35">                           oncommand=&quot;var tabbrowser = this.parentNode.parentNode.parentNode.parentNode;</span>
<a href="#l2.36"></a><span id="l2.36">                                      tabbrowser.removeTab(tabbrowser.mContextTab);&quot;/&gt;</span>
<a href="#l2.37"></a><span id="l2.37">             &lt;xul:menuitem label=&quot;&amp;closeOtherTabs.label;&quot; accesskey=&quot;&amp;closeOtherTabs.accesskey;&quot;</span>
<a href="#l2.38"></a><span id="l2.38">                           tbattr=&quot;tabbrowser-multiple&quot;</span>
<a href="#l2.39"></a><span id="l2.39">                           oncommand=&quot;var tabbrowser = this.parentNode.parentNode.parentNode.parentNode;</span>
<a href="#l2.40"></a><span id="l2.40">                                      tabbrowser.removeAllTabsBut(tabbrowser.mContextTab);&quot;/&gt;</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineat">@@ -100,27 +102,28 @@</span>
<a href="#l2.42"></a><span id="l2.42">                           oncommand=&quot;var tabbrowser = this.parentNode.parentNode.parentNode.parentNode;</span>
<a href="#l2.43"></a><span id="l2.43">                                      tabbrowser.reloadAllTabs(tabbrowser.mContextTab);&quot;/&gt;</span>
<a href="#l2.44"></a><span id="l2.44">           &lt;/xul:menupopup&gt;</span>
<a href="#l2.45"></a><span id="l2.45"> </span>
<a href="#l2.46"></a><span id="l2.46">           &lt;xul:tabs class=&quot;tabbrowser-tabs&quot; closebutton=&quot;true&quot; flex=&quot;1&quot;</span>
<a href="#l2.47"></a><span id="l2.47">                     anonid=&quot;tabcontainer&quot;</span>
<a href="#l2.48"></a><span id="l2.48">                     tooltiptextnew=&quot;&amp;newTabButton.tooltip;&quot;</span>
<a href="#l2.49"></a><span id="l2.49">                     tooltiptextclose=&quot;&amp;closeTabButton.tooltip;&quot;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineplus">+                    tooltiptextalltabs=&quot;&amp;listAllTabs.tooltip;&quot;</span>
<a href="#l2.51"></a><span id="l2.51">                     setfocus=&quot;false&quot;</span>
<a href="#l2.52"></a><span id="l2.52">                     onclick=&quot;this.parentNode.parentNode.parentNode.onTabClick(event);&quot;</span>
<a href="#l2.53"></a><span id="l2.53">                     xbl:inherits=&quot;onnewtab,onnewtabclick&quot;</span>
<a href="#l2.54"></a><span id="l2.54">                     onclosetab=&quot;var node = this.parentNode;</span>
<a href="#l2.55"></a><span id="l2.55">                                 while (node.localName != 'tabbrowser')</span>
<a href="#l2.56"></a><span id="l2.56">                                   node = node.parentNode;</span>
<a href="#l2.57"></a><span id="l2.57">                                 node.removeCurrentTab();&quot;&gt;</span>
<a href="#l2.58"></a><span id="l2.58">             &lt;xul:tab selected=&quot;true&quot; validate=&quot;never&quot;</span>
<a href="#l2.59"></a><span id="l2.59">                      onerror=&quot;this.parentNode.parentNode.parentNode.parentNode.addToMissedIconCache(this.getAttribute('image'));</span>
<a href="#l2.60"></a><span id="l2.60">                               this.removeAttribute('image');&quot;</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-                     maxwidth=&quot;250&quot; width=&quot;0&quot; minwidth=&quot;30&quot; flex=&quot;100&quot;</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineplus">+                     width=&quot;0&quot; flex=&quot;100&quot;</span>
<a href="#l2.63"></a><span id="l2.63">                      class=&quot;tabbrowser-tab&quot; label=&quot;&amp;untitledTab;&quot; crop=&quot;end&quot;/&gt;</span>
<a href="#l2.64"></a><span id="l2.64">           &lt;/xul:tabs&gt;</span>
<a href="#l2.65"></a><span id="l2.65">         &lt;/xul:hbox&gt;</span>
<a href="#l2.66"></a><span id="l2.66">         &lt;xul:tabpanels flex=&quot;1&quot; class=&quot;plain&quot; selectedIndex=&quot;0&quot; anonid=&quot;panelcontainer&quot;&gt;</span>
<a href="#l2.67"></a><span id="l2.67">           &lt;xul:notificationbox class=&quot;browser-notificationbox&quot; xbl:inherits=&quot;popupnotification&quot;&gt;</span>
<a href="#l2.68"></a><span id="l2.68">             &lt;xul:browser flex=&quot;1&quot; type=&quot;content-primary&quot; xbl:inherits=&quot;tooltip=contenttooltip,contextmenu=contentcontextmenu,autocompletepopup&quot;/&gt;</span>
<a href="#l2.69"></a><span id="l2.69">           &lt;/xul:notificationbox&gt;</span>
<a href="#l2.70"></a><span id="l2.70">         &lt;/xul:tabpanels&gt;</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineat">@@ -930,16 +933,20 @@</span>
<a href="#l2.72"></a><span id="l2.72">         &lt;/body&gt;</span>
<a href="#l2.73"></a><span id="l2.73">       &lt;/method&gt;</span>
<a href="#l2.74"></a><span id="l2.74"> </span>
<a href="#l2.75"></a><span id="l2.75">       &lt;method name=&quot;updatePopupMenu&quot;&gt;</span>
<a href="#l2.76"></a><span id="l2.76">         &lt;parameter name=&quot;aPopupMenu&quot;/&gt;</span>
<a href="#l2.77"></a><span id="l2.77">         &lt;body&gt;</span>
<a href="#l2.78"></a><span id="l2.78">           &lt;![CDATA[</span>
<a href="#l2.79"></a><span id="l2.79">             this.mContextTab = document.popupNode;</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineplus">+            // The user might right-click on a non-tab area of the tab strip.</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineplus">+            if (this.mContextTab.localName != &quot;tab&quot;)</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineplus">+              return false;</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineplus">+</span>
<a href="#l2.84"></a><span id="l2.84">             var disabled = this.tabs.length == 1;</span>
<a href="#l2.85"></a><span id="l2.85">             var menuItems = aPopupMenu.getElementsByAttribute(&quot;tbattr&quot;, &quot;tabbrowser-multiple&quot;);</span>
<a href="#l2.86"></a><span id="l2.86">             for (var i = 0; i &lt; menuItems.length; i++)</span>
<a href="#l2.87"></a><span id="l2.87">               menuItems[i].setAttribute(&quot;disabled&quot;, disabled);</span>
<a href="#l2.88"></a><span id="l2.88"> </span>
<a href="#l2.89"></a><span id="l2.89">             var undoItem = document.getAnonymousElementByAttribute(this, &quot;tbattr&quot;, &quot;tabbrowser-undoclosetab&quot;);</span>
<a href="#l2.90"></a><span id="l2.90">             undoItem.setAttribute(&quot;disabled&quot;, this.mSessionStore.getClosedTabCount(window) == 0);</span>
<a href="#l2.91"></a><span id="l2.91">             undoItem.hidden = this.mPrefs.getIntPref(&quot;browser.tabs.max_tabs_undo&quot;) &lt;= 0 &amp;&amp; this.mPrefs.getIntPref(&quot;browser.sessionstore.max_tabs_undo&quot;) &lt;= 0;</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineat">@@ -1490,16 +1497,17 @@</span>
<a href="#l2.93"></a><span id="l2.93">             // than the current tab.</span>
<a href="#l2.94"></a><span id="l2.94">             if ((aRelatedToCurrent || aReferrerURI) &amp;&amp;</span>
<a href="#l2.95"></a><span id="l2.95">                 this.mPrefs.getBoolPref(&quot;browser.tabs.insertRelatedAfterCurrent&quot;)) {</span>
<a href="#l2.96"></a><span id="l2.96">               var lastRelatedIndex = this.mLastRelatedIndex ||</span>
<a href="#l2.97"></a><span id="l2.97">                                      this.tabContainer.selectedIndex;</span>
<a href="#l2.98"></a><span id="l2.98">               this.moveTabTo(t, ++lastRelatedIndex);</span>
<a href="#l2.99"></a><span id="l2.99">               this.mLastRelatedIndex = lastRelatedIndex;</span>
<a href="#l2.100"></a><span id="l2.100">             }</span>
<a href="#l2.101"></a><span id="l2.101" class="difflineplus">+            this.tabContainer._handleNewTab(t);</span>
<a href="#l2.102"></a><span id="l2.102"> </span>
<a href="#l2.103"></a><span id="l2.103">             return t;</span>
<a href="#l2.104"></a><span id="l2.104">           ]]&gt;</span>
<a href="#l2.105"></a><span id="l2.105">         &lt;/body&gt;</span>
<a href="#l2.106"></a><span id="l2.106">       &lt;/method&gt;</span>
<a href="#l2.107"></a><span id="l2.107"> </span>
<a href="#l2.108"></a><span id="l2.108">       &lt;method name=&quot;removeAllTabsBut&quot;&gt;</span>
<a href="#l2.109"></a><span id="l2.109">         &lt;parameter name=&quot;aTab&quot;/&gt;</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineat">@@ -2038,53 +2046,80 @@</span>
<a href="#l2.111"></a><span id="l2.111">       &lt;method name=&quot;onDragOver&quot;&gt;</span>
<a href="#l2.112"></a><span id="l2.112">         &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l2.113"></a><span id="l2.113">         &lt;parameter name=&quot;aFlavour&quot;/&gt;</span>
<a href="#l2.114"></a><span id="l2.114">         &lt;parameter name=&quot;aDragSession&quot;/&gt;</span>
<a href="#l2.115"></a><span id="l2.115">         &lt;body&gt;</span>
<a href="#l2.116"></a><span id="l2.116">           &lt;![CDATA[</span>
<a href="#l2.117"></a><span id="l2.117">             var ib = document.getAnonymousElementByAttribute(this, &quot;class&quot;, &quot;tab-drop-indicator-bar&quot;);</span>
<a href="#l2.118"></a><span id="l2.118"> </span>
<a href="#l2.119"></a><span id="l2.119" class="difflineplus">+            // autoscroll the tab strip if we drag over the scroll buttons,</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineplus">+            // even if we aren't dragging a tab</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineplus">+            var pixelsToScroll = 0;</span>
<a href="#l2.122"></a><span id="l2.122" class="difflineplus">+            var tabStrip = this.mTabContainer.mTabstrip;</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineplus">+            var ltr = window.getComputedStyle(this, null).direction == &quot;ltr&quot;;</span>
<a href="#l2.124"></a><span id="l2.124" class="difflineplus">+            if (this.mTabContainer.getAttribute(&quot;overflow&quot;) == &quot;true&quot;) {</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineplus">+              var targetAnonid = aEvent.originalTarget.getAttribute(&quot;anonid&quot;);</span>
<a href="#l2.126"></a><span id="l2.126" class="difflineplus">+              switch (targetAnonid) {</span>
<a href="#l2.127"></a><span id="l2.127" class="difflineplus">+                case &quot;scrollbutton-up&quot;:</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineplus">+                  pixelsToScroll = -tabStrip.scrollIncrement;</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineplus">+                  break;</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineplus">+                case &quot;scrollbutton-down&quot;:</span>
<a href="#l2.131"></a><span id="l2.131" class="difflineplus">+                case &quot;alltabs-button&quot;:</span>
<a href="#l2.132"></a><span id="l2.132" class="difflineplus">+                  pixelsToScroll = tabStrip.scrollIncrement;</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineplus">+                  break;</span>
<a href="#l2.134"></a><span id="l2.134" class="difflineplus">+              }</span>
<a href="#l2.135"></a><span id="l2.135" class="difflineplus">+              if (pixelsToScroll)</span>
<a href="#l2.136"></a><span id="l2.136" class="difflineplus">+                tabStrip.scrollByPixels((ltr ? 1 : -1) * pixelsToScroll);</span>
<a href="#l2.137"></a><span id="l2.137" class="difflineplus">+            }</span>
<a href="#l2.138"></a><span id="l2.138">             if (!aDragSession.canDrop) {</span>
<a href="#l2.139"></a><span id="l2.139">               ib.collapsed = true;</span>
<a href="#l2.140"></a><span id="l2.140">               return;</span>
<a href="#l2.141"></a><span id="l2.141">             }</span>
<a href="#l2.142"></a><span id="l2.142"> </span>
<a href="#l2.143"></a><span id="l2.143">             var ind = document.getAnonymousElementByAttribute(this, &quot;class&quot;, &quot;tab-drop-indicator&quot;);</span>
<a href="#l2.144"></a><span id="l2.144"> </span>
<a href="#l2.145"></a><span id="l2.145">             var newIndexOn = aDragSession.sourceNode &amp;&amp;</span>
<a href="#l2.146"></a><span id="l2.146">                              aDragSession.sourceNode.parentNode == this.tabContainer ?</span>
<a href="#l2.147"></a><span id="l2.147">                              -1 : this.getDropOnIndex(aEvent);</span>
<a href="#l2.148"></a><span id="l2.148"> </span>
<a href="#l2.149"></a><span id="l2.149">             var ltr = window.getComputedStyle(this, null).direction == &quot;ltr&quot;;</span>
<a href="#l2.150"></a><span id="l2.150">             var arrowX, tabBoxObject;</span>
<a href="#l2.151"></a><span id="l2.151">             if (newIndexOn != -1) {</span>
<a href="#l2.152"></a><span id="l2.152">               tabBoxObject = this.tabs[newIndexOn].boxObject;</span>
<a href="#l2.153"></a><span id="l2.153" class="difflineminus">-              arrowX = tabBoxObject.x + tabBoxObject.width / 2;</span>
<a href="#l2.154"></a><span id="l2.154" class="difflineplus">+              arrowX = tabBoxObject.screenX + tabBoxObject.width / 2;</span>
<a href="#l2.155"></a><span id="l2.155">             }</span>
<a href="#l2.156"></a><span id="l2.156">             else {</span>
<a href="#l2.157"></a><span id="l2.157">               var newIndexBetween = this.getDropIndex(aEvent);</span>
<a href="#l2.158"></a><span id="l2.158">               if (newIndexBetween == this.tabs.length) {</span>
<a href="#l2.159"></a><span id="l2.159">                 tabBoxObject = this.tabs[this.tabs.length - 1].boxObject;</span>
<a href="#l2.160"></a><span id="l2.160">                 arrowX = tabBoxObject.x;</span>
<a href="#l2.161"></a><span id="l2.161" class="difflineplus">+                arrowX = tabBoxObject.screenX;</span>
<a href="#l2.162"></a><span id="l2.162">                 if (ltr) // for LTR &quot;after&quot; is on the right-hand side of the tab</span>
<a href="#l2.163"></a><span id="l2.163">                   arrowX += tabBoxObject.width;</span>
<a href="#l2.164"></a><span id="l2.164">               }</span>
<a href="#l2.165"></a><span id="l2.165">               else {</span>
<a href="#l2.166"></a><span id="l2.166">                 tabBoxObject = this.tabs[newIndexBetween].boxObject;</span>
<a href="#l2.167"></a><span id="l2.167" class="difflineminus">-                arrowX = tabBoxObject.x;</span>
<a href="#l2.168"></a><span id="l2.168" class="difflineplus">+                arrowX = tabBoxObject.screenX;</span>
<a href="#l2.169"></a><span id="l2.169">                 if (!ltr) // for RTL &quot;before&quot; is on the right-hand side of the tab</span>
<a href="#l2.170"></a><span id="l2.170">                   arrowX += tabBoxObject.width;</span>
<a href="#l2.171"></a><span id="l2.171">               }</span>
<a href="#l2.172"></a><span id="l2.172">             }</span>
<a href="#l2.173"></a><span id="l2.173"> </span>
<a href="#l2.174"></a><span id="l2.174" class="difflineplus">+            var boxObject = tabStrip.scrollBoxObject;</span>
<a href="#l2.175"></a><span id="l2.175" class="difflineplus">+            // Check pixelsToScroll as well to prevent noticable judder.</span>
<a href="#l2.176"></a><span id="l2.176" class="difflineplus">+            if (pixelsToScroll &gt; 0 || arrowX &gt;= boxObject.screenX + boxObject.width)</span>
<a href="#l2.177"></a><span id="l2.177" class="difflineplus">+              arrowX = boxObject.screenX + boxObject.width;</span>
<a href="#l2.178"></a><span id="l2.178" class="difflineplus">+            else if (pixelsToScroll &lt; 0 || arrowX &lt; boxObject.screenX)</span>
<a href="#l2.179"></a><span id="l2.179" class="difflineplus">+              arrowX = boxObject.screenX;</span>
<a href="#l2.180"></a><span id="l2.180" class="difflineplus">+</span>
<a href="#l2.181"></a><span id="l2.181">             if (ltr)</span>
<a href="#l2.182"></a><span id="l2.182" class="difflineminus">-              ind.style.marginLeft = (arrowX - this.boxObject.x) + &quot;px&quot;;</span>
<a href="#l2.183"></a><span id="l2.183" class="difflineplus">+              ind.style.marginLeft = (arrowX - this.boxObject.screenX) + &quot;px&quot;;</span>
<a href="#l2.184"></a><span id="l2.184">             else</span>
<a href="#l2.185"></a><span id="l2.185" class="difflineminus">-              ind.style.marginRight = (this.boxObject.x + this.boxObject.width - arrowX) + &quot;px&quot;;</span>
<a href="#l2.186"></a><span id="l2.186" class="difflineplus">+              ind.style.marginRight = (this.boxObject.screenX + this.boxObject.width - arrowX) + &quot;px&quot;;</span>
<a href="#l2.187"></a><span id="l2.187"> </span>
<a href="#l2.188"></a><span id="l2.188">             ib.collapsed = false;</span>
<a href="#l2.189"></a><span id="l2.189">           ]]&gt;</span>
<a href="#l2.190"></a><span id="l2.190">         &lt;/body&gt;</span>
<a href="#l2.191"></a><span id="l2.191">       &lt;/method&gt;</span>
<a href="#l2.192"></a><span id="l2.192"> </span>
<a href="#l2.193"></a><span id="l2.193">       &lt;method name=&quot;onDrop&quot;&gt;</span>
<a href="#l2.194"></a><span id="l2.194">         &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l2.195"></a><span id="l2.195" class="difflineat">@@ -2111,16 +2146,18 @@</span>
<a href="#l2.196"></a><span id="l2.196">               if (!url || !url.length || url.indexOf(&quot; &quot;, 0) != -1 ||</span>
<a href="#l2.197"></a><span id="l2.197">                   /^\s*(javascript|data):/.test(url))</span>
<a href="#l2.198"></a><span id="l2.198">                 return;</span>
<a href="#l2.199"></a><span id="l2.199"> </span>
<a href="#l2.200"></a><span id="l2.200">               // Perform a security check before loading the URI</span>
<a href="#l2.201"></a><span id="l2.201">               nsDragAndDrop.dragDropSecurityCheck(aEvent, aDragSession, url);</span>
<a href="#l2.202"></a><span id="l2.202"> </span>
<a href="#l2.203"></a><span id="l2.203">               var bgLoad = this.mPrefs.getBoolPref(&quot;browser.tabs.loadInBackground&quot;);</span>
<a href="#l2.204"></a><span id="l2.204" class="difflineplus">+              if (aEvent.shiftKey)</span>
<a href="#l2.205"></a><span id="l2.205" class="difflineplus">+                bgLoad = !bgLoad;</span>
<a href="#l2.206"></a><span id="l2.206"> </span>
<a href="#l2.207"></a><span id="l2.207">               var tab = null;</span>
<a href="#l2.208"></a><span id="l2.208">               tabIndex = this.getDropOnIndex(aEvent);</span>
<a href="#l2.209"></a><span id="l2.209">               if (tabIndex != -1) {</span>
<a href="#l2.210"></a><span id="l2.210">                 // Load in an existing tab</span>
<a href="#l2.211"></a><span id="l2.211">                 tab = this.tabs[tabIndex];</span>
<a href="#l2.212"></a><span id="l2.212">                 tab.linkedBrowser.loadURI(getShortcutOrURI(url));</span>
<a href="#l2.213"></a><span id="l2.213">                 if (this.mCurrentTab != tab &amp;&amp; !bgLoad)</span>
<a href="#l2.214"></a><span id="l2.214" class="difflineat">@@ -2194,55 +2231,56 @@</span>
<a href="#l2.215"></a><span id="l2.215"> </span>
<a href="#l2.216"></a><span id="l2.216">             this.mCurrentTab._selected = false;</span>
<a href="#l2.217"></a><span id="l2.217"> </span>
<a href="#l2.218"></a><span id="l2.218">             if (aDestIndex &gt;= aSrcIndex)</span>
<a href="#l2.219"></a><span id="l2.219">               ++aDestIndex;</span>
<a href="#l2.220"></a><span id="l2.220">             var tab = this.tabContainer.insertBefore(this.tabs[aSrcIndex], this.tabs.item(aDestIndex));</span>
<a href="#l2.221"></a><span id="l2.221"> </span>
<a href="#l2.222"></a><span id="l2.222">             this.mCurrentTab._selected = true;</span>
<a href="#l2.223"></a><span id="l2.223" class="difflineplus">+            this.tabContainer.mTabstrip.ensureElementIsVisible(this.mCurrentTab, false);</span>
<a href="#l2.224"></a><span id="l2.224"> </span>
<a href="#l2.225"></a><span id="l2.225">             var evt = document.createEvent(&quot;UIEvents&quot;);</span>
<a href="#l2.226"></a><span id="l2.226">             evt.initUIEvent(&quot;TabMove&quot;, true, false, window, aSrcIndex);</span>
<a href="#l2.227"></a><span id="l2.227">             tab.dispatchEvent(evt);</span>
<a href="#l2.228"></a><span id="l2.228"> </span>
<a href="#l2.229"></a><span id="l2.229">             return tab;</span>
<a href="#l2.230"></a><span id="l2.230">           ]]&gt;</span>
<a href="#l2.231"></a><span id="l2.231">         &lt;/body&gt;</span>
<a href="#l2.232"></a><span id="l2.232">       &lt;/method&gt;</span>
<a href="#l2.233"></a><span id="l2.233"> </span>
<a href="#l2.234"></a><span id="l2.234">       &lt;method name=&quot;getDropIndex&quot;&gt;</span>
<a href="#l2.235"></a><span id="l2.235">         &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l2.236"></a><span id="l2.236">         &lt;body&gt;</span>
<a href="#l2.237"></a><span id="l2.237" class="difflineminus">-          &lt;![CDATA[     </span>
<a href="#l2.238"></a><span id="l2.238" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.239"></a><span id="l2.239">             for (var i = 0; i &lt; this.tabs.length; ++i) {</span>
<a href="#l2.240"></a><span id="l2.240" class="difflineminus">-              var coord = this.tabs[i].boxObject.x +</span>
<a href="#l2.241"></a><span id="l2.241" class="difflineplus">+              var coord = this.tabs[i].boxObject.screenX +</span>
<a href="#l2.242"></a><span id="l2.242">                           this.tabs[i].boxObject.width / 2;</span>
<a href="#l2.243"></a><span id="l2.243">               if (window.getComputedStyle(this, null).direction == &quot;ltr&quot;) {</span>
<a href="#l2.244"></a><span id="l2.244" class="difflineminus">-                if (aEvent.clientX &lt; coord) </span>
<a href="#l2.245"></a><span id="l2.245" class="difflineplus">+                if (aEvent.screenX &lt; coord)</span>
<a href="#l2.246"></a><span id="l2.246">                   return i;</span>
<a href="#l2.247"></a><span id="l2.247">               } else {</span>
<a href="#l2.248"></a><span id="l2.248" class="difflineminus">-                if (aEvent.clientX &gt; coord) </span>
<a href="#l2.249"></a><span id="l2.249" class="difflineplus">+                if (aEvent.screenX &gt; coord)</span>
<a href="#l2.250"></a><span id="l2.250">                   return i;</span>
<a href="#l2.251"></a><span id="l2.251">               }</span>
<a href="#l2.252"></a><span id="l2.252">             }</span>
<a href="#l2.253"></a><span id="l2.253"> </span>
<a href="#l2.254"></a><span id="l2.254">             return this.tabs.length;</span>
<a href="#l2.255"></a><span id="l2.255">           ]]&gt;</span>
<a href="#l2.256"></a><span id="l2.256">         &lt;/body&gt;</span>
<a href="#l2.257"></a><span id="l2.257">       &lt;/method&gt;</span>
<a href="#l2.258"></a><span id="l2.258"> </span>
<a href="#l2.259"></a><span id="l2.259">       &lt;method name=&quot;getDropOnIndex&quot;&gt;</span>
<a href="#l2.260"></a><span id="l2.260">         &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l2.261"></a><span id="l2.261">         &lt;body&gt;</span>
<a href="#l2.262"></a><span id="l2.262" class="difflineminus">-          &lt;![CDATA[     </span>
<a href="#l2.263"></a><span id="l2.263" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.264"></a><span id="l2.264">             for (var i = 0; i &lt; this.tabs.length; ++i) {</span>
<a href="#l2.265"></a><span id="l2.265">               var tabBoxObject = this.tabs[i].boxObject;</span>
<a href="#l2.266"></a><span id="l2.266" class="difflineminus">-              if (aEvent.clientX &gt; tabBoxObject.x + tabBoxObject.width * .25 &amp;&amp;</span>
<a href="#l2.267"></a><span id="l2.267" class="difflineminus">-                  aEvent.clientX &lt; tabBoxObject.x + tabBoxObject.width * .75)</span>
<a href="#l2.268"></a><span id="l2.268" class="difflineplus">+              if (aEvent.clientX &gt; tabBoxObject.screenX + tabBoxObject.width * .25 &amp;&amp;</span>
<a href="#l2.269"></a><span id="l2.269" class="difflineplus">+                  aEvent.clientX &lt; tabBoxObject.screenX + tabBoxObject.width * .75)</span>
<a href="#l2.270"></a><span id="l2.270">                 return i;</span>
<a href="#l2.271"></a><span id="l2.271">             }</span>
<a href="#l2.272"></a><span id="l2.272"> </span>
<a href="#l2.273"></a><span id="l2.273">             return -1;</span>
<a href="#l2.274"></a><span id="l2.274">           ]]&gt;</span>
<a href="#l2.275"></a><span id="l2.275">         &lt;/body&gt;</span>
<a href="#l2.276"></a><span id="l2.276">       &lt;/method&gt;</span>
<a href="#l2.277"></a><span id="l2.277"> </span>
<a href="#l2.278"></a><span id="l2.278" class="difflineat">@@ -2682,20 +2720,20 @@</span>
<a href="#l2.279"></a><span id="l2.279">               !this.mPrefs.getBoolPref(&quot;browser.tabs.forceHide&quot;) &amp;&amp;</span>
<a href="#l2.280"></a><span id="l2.280">               window.toolbar.visible)</span>
<a href="#l2.281"></a><span id="l2.281">             this.mStrip.collapsed = false;</span>
<a href="#l2.282"></a><span id="l2.282"> </span>
<a href="#l2.283"></a><span id="l2.283">           var t = document.createElementNS(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;, &quot;tab&quot;);</span>
<a href="#l2.284"></a><span id="l2.284">           t.setAttribute(&quot;label&quot;, this.mStringBundle.getString(&quot;tabs.untitled&quot;));</span>
<a href="#l2.285"></a><span id="l2.285">           t.setAttribute(&quot;crop&quot;, &quot;end&quot;);</span>
<a href="#l2.286"></a><span id="l2.286">           t.className = &quot;tabbrowser-tab&quot;;</span>
<a href="#l2.287"></a><span id="l2.287" class="difflineminus">-          t.setAttribute(&quot;maxwidth&quot;, 250);</span>
<a href="#l2.288"></a><span id="l2.288" class="difflineminus">-          t.setAttribute(&quot;minwidth&quot;, 30);</span>
<a href="#l2.289"></a><span id="l2.289" class="difflineminus">-          t.setAttribute(&quot;width&quot;, 0);</span>
<a href="#l2.290"></a><span id="l2.290" class="difflineminus">-          t.setAttribute(&quot;flex&quot;, 100);</span>
<a href="#l2.291"></a><span id="l2.291" class="difflineplus">+          t.style.maxWidth = this.mPrefs.getIntPref(&quot;browser.tabs.tabMaxWidth&quot;) + &quot;px&quot;;</span>
<a href="#l2.292"></a><span id="l2.292" class="difflineplus">+          t.style.minWidth = this.mPrefs.getIntPref(&quot;browser.tabs.tabMinWidth&quot;) + &quot;px&quot;;</span>
<a href="#l2.293"></a><span id="l2.293" class="difflineplus">+          t.width = 0;</span>
<a href="#l2.294"></a><span id="l2.294" class="difflineplus">+          t.flex = 100;</span>
<a href="#l2.295"></a><span id="l2.295">           t.setAttribute(&quot;validate&quot;, &quot;never&quot;);</span>
<a href="#l2.296"></a><span id="l2.296">           t.setAttribute(&quot;onerror&quot;, &quot;this.parentNode.parentNode.parentNode.parentNode.addToMissedIconCache(this.getAttribute('image')); this.removeAttribute('image');&quot;);</span>
<a href="#l2.297"></a><span id="l2.297">           this.referenceTab = t;</span>
<a href="#l2.298"></a><span id="l2.298"> </span>
<a href="#l2.299"></a><span id="l2.299">           var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l2.300"></a><span id="l2.300">                              .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l2.301"></a><span id="l2.301">           os.addObserver(this, &quot;browser:purge-session-history&quot;, false);</span>
<a href="#l2.302"></a><span id="l2.302">         ]]&gt;</span>
<a href="#l2.303"></a><span id="l2.303" class="difflineat">@@ -2776,43 +2814,416 @@</span>
<a href="#l2.304"></a><span id="l2.304">       &lt;handler event=&quot;keypress&quot; keycode=&quot;VK_RIGHT&quot; modifiers=&quot;accel&quot; action=&quot;if (event.target == this) { this.moveTabRight(); event.preventDefault(); }&quot;/&gt;</span>
<a href="#l2.305"></a><span id="l2.305">       &lt;handler event=&quot;keypress&quot; keycode=&quot;VK_UP&quot; modifiers=&quot;accel&quot; action=&quot;if (event.target == this) { this.moveTabBackward(); event.preventDefault(); }&quot;/&gt;</span>
<a href="#l2.306"></a><span id="l2.306">       &lt;handler event=&quot;keypress&quot; keycode=&quot;VK_DOWN&quot; modifiers=&quot;accel&quot; action=&quot;if (event.target == this) { this.moveTabForward(); event.preventDefault(); }&quot;/&gt;</span>
<a href="#l2.307"></a><span id="l2.307">       &lt;handler event=&quot;keypress&quot; keycode=&quot;VK_HOME&quot; modifiers=&quot;accel&quot; action=&quot;if (event.target == this) { this.moveTabToStart(); event.preventDefault(); }&quot;/&gt;</span>
<a href="#l2.308"></a><span id="l2.308">       &lt;handler event=&quot;keypress&quot; keycode=&quot;VK_END&quot; modifiers=&quot;accel&quot; action=&quot;if (event.target == this) { this.moveTabToEnd(); event.preventDefault(); }&quot;/&gt;</span>
<a href="#l2.309"></a><span id="l2.309">     &lt;/handlers&gt;</span>
<a href="#l2.310"></a><span id="l2.310">   &lt;/binding&gt;</span>
<a href="#l2.311"></a><span id="l2.311"> </span>
<a href="#l2.312"></a><span id="l2.312" class="difflineplus">+  &lt;binding id=&quot;tabbrowser-arrowscrollbox&quot;</span>
<a href="#l2.313"></a><span id="l2.313" class="difflineplus">+           extends=&quot;chrome://global/content/bindings/scrollbox.xml#arrowscrollbox-clicktoscroll&quot;&gt;</span>
<a href="#l2.314"></a><span id="l2.314" class="difflineplus">+    &lt;resources&gt;</span>
<a href="#l2.315"></a><span id="l2.315" class="difflineplus">+      &lt;stylesheet src=&quot;chrome://navigator/skin/tabbrowser.css&quot;/&gt;</span>
<a href="#l2.316"></a><span id="l2.316" class="difflineplus">+    &lt;/resources&gt;</span>
<a href="#l2.317"></a><span id="l2.317" class="difflineplus">+</span>
<a href="#l2.318"></a><span id="l2.318" class="difflineplus">+    &lt;implementation&gt;</span>
<a href="#l2.319"></a><span id="l2.319" class="difflineplus">+      &lt;!-- Override scrollbox.xml method, since our scrollbox's children are</span>
<a href="#l2.320"></a><span id="l2.320" class="difflineplus">+           inherited from the binding parent --&gt;</span>
<a href="#l2.321"></a><span id="l2.321" class="difflineplus">+      &lt;method name=&quot;_getScrollableElements&quot;&gt;</span>
<a href="#l2.322"></a><span id="l2.322" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.323"></a><span id="l2.323" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.324"></a><span id="l2.324" class="difflineplus">+            return Array.filter(document.getBindingParent(this).childNodes,</span>
<a href="#l2.325"></a><span id="l2.325" class="difflineplus">+                                this._canScrollToElement,</span>
<a href="#l2.326"></a><span id="l2.326" class="difflineplus">+                                this);</span>
<a href="#l2.327"></a><span id="l2.327" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.328"></a><span id="l2.328" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.329"></a><span id="l2.329" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.330"></a><span id="l2.330" class="difflineplus">+      &lt;method name=&quot;_canScrollToElement&quot;&gt;</span>
<a href="#l2.331"></a><span id="l2.331" class="difflineplus">+        &lt;parameter name=&quot;aTab&quot;/&gt;</span>
<a href="#l2.332"></a><span id="l2.332" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.333"></a><span id="l2.333" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.334"></a><span id="l2.334" class="difflineplus">+            return !aTab.pinned &amp;&amp; !aTab.hidden;</span>
<a href="#l2.335"></a><span id="l2.335" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.336"></a><span id="l2.336" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.337"></a><span id="l2.337" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.338"></a><span id="l2.338" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l2.339"></a><span id="l2.339" class="difflineplus">+</span>
<a href="#l2.340"></a><span id="l2.340" class="difflineplus">+    &lt;handlers&gt;</span>
<a href="#l2.341"></a><span id="l2.341" class="difflineplus">+      &lt;handler event=&quot;underflow&quot;&gt;</span>
<a href="#l2.342"></a><span id="l2.342" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l2.343"></a><span id="l2.343" class="difflineplus">+           if (event.detail == 0)</span>
<a href="#l2.344"></a><span id="l2.344" class="difflineplus">+             return; // Ignore vertical events</span>
<a href="#l2.345"></a><span id="l2.345" class="difflineplus">+</span>
<a href="#l2.346"></a><span id="l2.346" class="difflineplus">+           var tabs = document.getBindingParent(this);</span>
<a href="#l2.347"></a><span id="l2.347" class="difflineplus">+           tabs.removeAttribute(&quot;overflow&quot;);</span>
<a href="#l2.348"></a><span id="l2.348" class="difflineplus">+        ]]&gt;</span>
<a href="#l2.349"></a><span id="l2.349" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l2.350"></a><span id="l2.350" class="difflineplus">+      &lt;handler event=&quot;overflow&quot;&gt;</span>
<a href="#l2.351"></a><span id="l2.351" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l2.352"></a><span id="l2.352" class="difflineplus">+           if (event.detail == 0)</span>
<a href="#l2.353"></a><span id="l2.353" class="difflineplus">+             return; // Ignore vertical events</span>
<a href="#l2.354"></a><span id="l2.354" class="difflineplus">+</span>
<a href="#l2.355"></a><span id="l2.355" class="difflineplus">+           var tabs = document.getBindingParent(this);</span>
<a href="#l2.356"></a><span id="l2.356" class="difflineplus">+           tabs.setAttribute(&quot;overflow&quot;, true);</span>
<a href="#l2.357"></a><span id="l2.357" class="difflineplus">+           this.ensureElementIsVisible(tabs.selectedItem, false);</span>
<a href="#l2.358"></a><span id="l2.358" class="difflineplus">+        ]]&gt;</span>
<a href="#l2.359"></a><span id="l2.359" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l2.360"></a><span id="l2.360" class="difflineplus">+    &lt;/handlers&gt;</span>
<a href="#l2.361"></a><span id="l2.361" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l2.362"></a><span id="l2.362" class="difflineplus">+</span>
<a href="#l2.363"></a><span id="l2.363">   &lt;binding id=&quot;tabbrowser-tabs&quot;</span>
<a href="#l2.364"></a><span id="l2.364">            extends=&quot;chrome://global/content/bindings/tabbox.xml#tabs&quot;&gt;</span>
<a href="#l2.365"></a><span id="l2.365">     &lt;resources&gt;</span>
<a href="#l2.366"></a><span id="l2.366">       &lt;stylesheet src=&quot;chrome://navigator/skin/tabbrowser.css&quot;/&gt;</span>
<a href="#l2.367"></a><span id="l2.367">     &lt;/resources&gt;</span>
<a href="#l2.368"></a><span id="l2.368"> </span>
<a href="#l2.369"></a><span id="l2.369">     &lt;content&gt;</span>
<a href="#l2.370"></a><span id="l2.370">       &lt;xul:stack flex=&quot;1&quot; class=&quot;tabs-stack&quot;&gt;</span>
<a href="#l2.371"></a><span id="l2.371">         &lt;xul:vbox&gt;</span>
<a href="#l2.372"></a><span id="l2.372">           &lt;xul:spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l2.373"></a><span id="l2.373">           &lt;xul:hbox class=&quot;tabs-bottom&quot; align=&quot;center&quot;/&gt;</span>
<a href="#l2.374"></a><span id="l2.374">         &lt;/xul:vbox&gt;</span>
<a href="#l2.375"></a><span id="l2.375">         &lt;xul:vbox&gt;</span>
<a href="#l2.376"></a><span id="l2.376">           &lt;xul:hbox&gt;</span>
<a href="#l2.377"></a><span id="l2.377">             &lt;xul:stack&gt;</span>
<a href="#l2.378"></a><span id="l2.378">               &lt;xul:spacer class=&quot;tabs-left&quot;/&gt;</span>
<a href="#l2.379"></a><span id="l2.379" class="difflineminus">-              &lt;xul:toolbarbutton class=&quot;tabs-newbutton&quot; xbl:inherits=&quot;oncommand=onnewtab,onclick=onnewtabclick,tooltiptext=tooltiptextnew&quot;/&gt;</span>
<a href="#l2.380"></a><span id="l2.380" class="difflineplus">+              &lt;xul:toolbarbutton class=&quot;tabs-newbutton&quot;</span>
<a href="#l2.381"></a><span id="l2.381" class="difflineplus">+                                 anonid=&quot;tabstrip-newbutton&quot;</span>
<a href="#l2.382"></a><span id="l2.382" class="difflineplus">+                                 xbl:inherits=&quot;oncommand=onnewtab,onclick=onnewtabclick,tooltiptext=tooltiptextnew&quot;/&gt;</span>
<a href="#l2.383"></a><span id="l2.383">             &lt;/xul:stack&gt;</span>
<a href="#l2.384"></a><span id="l2.384" class="difflineminus">-            &lt;xul:hbox flex=&quot;1&quot; style=&quot;min-width: 1px; overflow: -moz-hidden-unscrollable;&quot;&gt;</span>
<a href="#l2.385"></a><span id="l2.385" class="difflineminus">-              &lt;children/&gt;</span>
<a href="#l2.386"></a><span id="l2.386" class="difflineplus">+            &lt;xul:arrowscrollbox anonid=&quot;arrowscrollbox&quot;</span>
<a href="#l2.387"></a><span id="l2.387" class="difflineplus">+                                class=&quot;tabbrowser-arrowscrollbox&quot;</span>
<a href="#l2.388"></a><span id="l2.388" class="difflineplus">+                                flex=&quot;1&quot;</span>
<a href="#l2.389"></a><span id="l2.389" class="difflineplus">+                                xbl:inherits=&quot;smoothscroll&quot;</span>
<a href="#l2.390"></a><span id="l2.390" class="difflineplus">+                                orient=&quot;horizontal&quot;</span>
<a href="#l2.391"></a><span id="l2.391" class="difflineplus">+                                style=&quot;min-width: 1px;&quot;&gt;</span>
<a href="#l2.392"></a><span id="l2.392" class="difflineplus">+              &lt;children includes=&quot;tab&quot;/&gt;</span>
<a href="#l2.393"></a><span id="l2.393">               &lt;xul:spacer class=&quot;tabs-right&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l2.394"></a><span id="l2.394" class="difflineminus">-            &lt;/xul:hbox&gt;</span>
<a href="#l2.395"></a><span id="l2.395" class="difflineplus">+            &lt;/xul:arrowscrollbox&gt;</span>
<a href="#l2.396"></a><span id="l2.396" class="difflineplus">+            &lt;children/&gt;</span>
<a href="#l2.397"></a><span id="l2.397">             &lt;xul:stack&gt;</span>
<a href="#l2.398"></a><span id="l2.398">               &lt;xul:spacer class=&quot;tabs-right&quot;/&gt;</span>
<a href="#l2.399"></a><span id="l2.399" class="difflineminus">-              &lt;xul:hbox class=&quot;tabs-closebutton-box&quot; align=&quot;center&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l2.400"></a><span id="l2.400" class="difflineminus">-                &lt;xul:toolbarbutton class=&quot;tabs-closebutton close-button&quot; xbl:inherits=&quot;disabled=disableclose,oncommand=onclosetab,tooltiptext=tooltiptextclose&quot;/&gt;</span>
<a href="#l2.401"></a><span id="l2.401" class="difflineplus">+              &lt;xul:hbox class=&quot;tabs-closebutton-box&quot; align=&quot;stretch&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l2.402"></a><span id="l2.402" class="difflineplus">+                &lt;xul:toolbarbutton class=&quot;tabs-alltabs-button&quot;</span>
<a href="#l2.403"></a><span id="l2.403" class="difflineplus">+                                   anonid=&quot;alltabs-button&quot;</span>
<a href="#l2.404"></a><span id="l2.404" class="difflineplus">+                                   type=&quot;menu&quot;</span>
<a href="#l2.405"></a><span id="l2.405" class="difflineplus">+                                   xbl:inherits=&quot;tooltiptext=tooltiptextalltabs&quot;&gt;</span>
<a href="#l2.406"></a><span id="l2.406" class="difflineplus">+                  &lt;xul:menupopup class=&quot;tabs-alltabs-popup&quot;</span>
<a href="#l2.407"></a><span id="l2.407" class="difflineplus">+                                 anonid=&quot;alltabs-popup&quot;</span>
<a href="#l2.408"></a><span id="l2.408" class="difflineplus">+                                 position=&quot;after_end&quot;/&gt;</span>
<a href="#l2.409"></a><span id="l2.409" class="difflineplus">+                &lt;/xul:toolbarbutton&gt;</span>
<a href="#l2.410"></a><span id="l2.410" class="difflineplus">+                &lt;xul:hbox align=&quot;center&quot;&gt;</span>
<a href="#l2.411"></a><span id="l2.411" class="difflineplus">+                  &lt;xul:toolbarbutton class=&quot;tabs-closebutton close-button&quot;</span>
<a href="#l2.412"></a><span id="l2.412" class="difflineplus">+                                     anonid=&quot;tabstrip-closebutton&quot;</span>
<a href="#l2.413"></a><span id="l2.413" class="difflineplus">+                                     xbl:inherits=&quot;disabled=disableclose,oncommand=onclosetab,tooltiptext=tooltiptextclose&quot;/&gt;</span>
<a href="#l2.414"></a><span id="l2.414" class="difflineplus">+                &lt;/xul:hbox&gt;</span>
<a href="#l2.415"></a><span id="l2.415">               &lt;/xul:hbox&gt;</span>
<a href="#l2.416"></a><span id="l2.416">             &lt;/xul:stack&gt;</span>
<a href="#l2.417"></a><span id="l2.417">           &lt;/xul:hbox&gt;</span>
<a href="#l2.418"></a><span id="l2.418">           &lt;xul:spacer class=&quot;tabs-bottom-spacer&quot;/&gt;</span>
<a href="#l2.419"></a><span id="l2.419">         &lt;/xul:vbox&gt;</span>
<a href="#l2.420"></a><span id="l2.420">       &lt;/xul:stack&gt;</span>
<a href="#l2.421"></a><span id="l2.421">     &lt;/content&gt;</span>
<a href="#l2.422"></a><span id="l2.422" class="difflineplus">+</span>
<a href="#l2.423"></a><span id="l2.423" class="difflineplus">+    &lt;implementation implements=&quot;nsIDOMEventListener&quot;&gt;</span>
<a href="#l2.424"></a><span id="l2.424" class="difflineplus">+      &lt;constructor&gt;</span>
<a href="#l2.425"></a><span id="l2.425" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l2.426"></a><span id="l2.426" class="difflineplus">+          var tab = this.firstChild;</span>
<a href="#l2.427"></a><span id="l2.427" class="difflineplus">+          tab.style.minWidth = this.mPrefs.getIntPref(&quot;browser.tabs.tabMinWidth&quot;) + &quot;px&quot;;</span>
<a href="#l2.428"></a><span id="l2.428" class="difflineplus">+          tab.style.maxWidth = this.mPrefs.getIntPref(&quot;browser.tabs.tabMaxWidth&quot;) + &quot;px&quot;;</span>
<a href="#l2.429"></a><span id="l2.429" class="difflineplus">+          window.addEventListener(&quot;resize&quot;, this, false);</span>
<a href="#l2.430"></a><span id="l2.430" class="difflineplus">+        ]]&gt;</span>
<a href="#l2.431"></a><span id="l2.431" class="difflineplus">+      &lt;/constructor&gt;</span>
<a href="#l2.432"></a><span id="l2.432" class="difflineplus">+</span>
<a href="#l2.433"></a><span id="l2.433" class="difflineplus">+      &lt;destructor&gt;</span>
<a href="#l2.434"></a><span id="l2.434" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l2.435"></a><span id="l2.435" class="difflineplus">+          document.removeEventListener(&quot;resize&quot;, this, false);</span>
<a href="#l2.436"></a><span id="l2.436" class="difflineplus">+        ]]&gt;</span>
<a href="#l2.437"></a><span id="l2.437" class="difflineplus">+      &lt;/destructor&gt;</span>
<a href="#l2.438"></a><span id="l2.438" class="difflineplus">+</span>
<a href="#l2.439"></a><span id="l2.439" class="difflineplus">+      &lt;field name=&quot;mPrefs&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l2.440"></a><span id="l2.440" class="difflineplus">+        Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l2.441"></a><span id="l2.441" class="difflineplus">+                  .getService(Components.interfaces.nsIPrefBranch2);</span>
<a href="#l2.442"></a><span id="l2.442" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l2.443"></a><span id="l2.443" class="difflineplus">+</span>
<a href="#l2.444"></a><span id="l2.444" class="difflineplus">+      &lt;field name=&quot;mTabstripWidth&quot;&gt;0&lt;/field&gt;</span>
<a href="#l2.445"></a><span id="l2.445" class="difflineplus">+</span>
<a href="#l2.446"></a><span id="l2.446" class="difflineplus">+      &lt;field name=&quot;mTabstrip&quot;&gt;</span>
<a href="#l2.447"></a><span id="l2.447" class="difflineplus">+        document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;arrowscrollbox&quot;);</span>
<a href="#l2.448"></a><span id="l2.448" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l2.449"></a><span id="l2.449" class="difflineplus">+</span>
<a href="#l2.450"></a><span id="l2.450" class="difflineplus">+      &lt;method name=&quot;_handleTabSelect&quot;&gt;</span>
<a href="#l2.451"></a><span id="l2.451" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.452"></a><span id="l2.452" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.453"></a><span id="l2.453" class="difflineplus">+            this.mTabstrip.ensureElementIsVisible(this.selectedItem);</span>
<a href="#l2.454"></a><span id="l2.454" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.455"></a><span id="l2.455" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.456"></a><span id="l2.456" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.457"></a><span id="l2.457" class="difflineplus">+</span>
<a href="#l2.458"></a><span id="l2.458" class="difflineplus">+      &lt;method name=&quot;handleEvent&quot;&gt;</span>
<a href="#l2.459"></a><span id="l2.459" class="difflineplus">+        &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l2.460"></a><span id="l2.460" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.461"></a><span id="l2.461" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.462"></a><span id="l2.462" class="difflineplus">+            switch (aEvent.type)</span>
<a href="#l2.463"></a><span id="l2.463" class="difflineplus">+            {</span>
<a href="#l2.464"></a><span id="l2.464" class="difflineplus">+              case &quot;resize&quot;:</span>
<a href="#l2.465"></a><span id="l2.465" class="difflineplus">+                if (aEvent.target != window)</span>
<a href="#l2.466"></a><span id="l2.466" class="difflineplus">+                  break;</span>
<a href="#l2.467"></a><span id="l2.467" class="difflineplus">+                var width = this.mTabstrip.boxObject.width;</span>
<a href="#l2.468"></a><span id="l2.468" class="difflineplus">+                if (width != this.mTabstripWidth)</span>
<a href="#l2.469"></a><span id="l2.469" class="difflineplus">+                {</span>
<a href="#l2.470"></a><span id="l2.470" class="difflineplus">+                  this._handleTabSelect();</span>
<a href="#l2.471"></a><span id="l2.471" class="difflineplus">+                  this.mTabstripWidth = width;</span>
<a href="#l2.472"></a><span id="l2.472" class="difflineplus">+                }</span>
<a href="#l2.473"></a><span id="l2.473" class="difflineplus">+                break;</span>
<a href="#l2.474"></a><span id="l2.474" class="difflineplus">+            }</span>
<a href="#l2.475"></a><span id="l2.475" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.476"></a><span id="l2.476" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.477"></a><span id="l2.477" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.478"></a><span id="l2.478" class="difflineplus">+</span>
<a href="#l2.479"></a><span id="l2.479" class="difflineplus">+      &lt;field name=&quot;mAllTabsPopup&quot;&gt;</span>
<a href="#l2.480"></a><span id="l2.480" class="difflineplus">+        document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;alltabs-popup&quot;);</span>
<a href="#l2.481"></a><span id="l2.481" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l2.482"></a><span id="l2.482" class="difflineplus">+</span>
<a href="#l2.483"></a><span id="l2.483" class="difflineplus">+      &lt;field name=&quot;_animateElement&quot;&gt;</span>
<a href="#l2.484"></a><span id="l2.484" class="difflineplus">+        this.mTabstrip._scrollButtonDown;</span>
<a href="#l2.485"></a><span id="l2.485" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l2.486"></a><span id="l2.486" class="difflineplus">+</span>
<a href="#l2.487"></a><span id="l2.487" class="difflineplus">+      &lt;method name=&quot;_notifyBackgroundTab&quot;&gt;</span>
<a href="#l2.488"></a><span id="l2.488" class="difflineplus">+        &lt;parameter name=&quot;aTab&quot;/&gt;</span>
<a href="#l2.489"></a><span id="l2.489" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.490"></a><span id="l2.490" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.491"></a><span id="l2.491" class="difflineplus">+            var scrollRect = this.mTabstrip.scrollClientRect;</span>
<a href="#l2.492"></a><span id="l2.492" class="difflineplus">+            var tab = aTab.getBoundingClientRect();</span>
<a href="#l2.493"></a><span id="l2.493" class="difflineplus">+</span>
<a href="#l2.494"></a><span id="l2.494" class="difflineplus">+            // Is the new tab already completely visible?</span>
<a href="#l2.495"></a><span id="l2.495" class="difflineplus">+            if (scrollRect.left &lt;= tab.left &amp;&amp; tab.right &lt;= scrollRect.right)</span>
<a href="#l2.496"></a><span id="l2.496" class="difflineplus">+              return;</span>
<a href="#l2.497"></a><span id="l2.497" class="difflineplus">+</span>
<a href="#l2.498"></a><span id="l2.498" class="difflineplus">+            if (this.mTabstrip.smoothScroll) {</span>
<a href="#l2.499"></a><span id="l2.499" class="difflineplus">+              let selected = this.selectedItem.getBoundingClientRect();</span>
<a href="#l2.500"></a><span id="l2.500" class="difflineplus">+</span>
<a href="#l2.501"></a><span id="l2.501" class="difflineplus">+              /* Can we make both the new tab and the selected tab completely</span>
<a href="#l2.502"></a><span id="l2.502" class="difflineplus">+                 visible? */</span>
<a href="#l2.503"></a><span id="l2.503" class="difflineplus">+              if (!selected ||</span>
<a href="#l2.504"></a><span id="l2.504" class="difflineplus">+                  Math.max(tab.right - selected.left, selected.right - tab.left) &lt;= scrollRect.width) {</span>
<a href="#l2.505"></a><span id="l2.505" class="difflineplus">+                this.mTabstrip.ensureElementIsVisible(aTab);</span>
<a href="#l2.506"></a><span id="l2.506" class="difflineplus">+                return;</span>
<a href="#l2.507"></a><span id="l2.507" class="difflineplus">+              }</span>
<a href="#l2.508"></a><span id="l2.508" class="difflineplus">+</span>
<a href="#l2.509"></a><span id="l2.509" class="difflineplus">+              this.mTabstrip._smoothScrollByPixels(this.mTabstrip._isRTLScrollbox ?</span>
<a href="#l2.510"></a><span id="l2.510" class="difflineplus">+                                                   selected.right - scrollRect.right :</span>
<a href="#l2.511"></a><span id="l2.511" class="difflineplus">+                                                   selected.left - scrollRect.left);</span>
<a href="#l2.512"></a><span id="l2.512" class="difflineplus">+            }</span>
<a href="#l2.513"></a><span id="l2.513" class="difflineplus">+</span>
<a href="#l2.514"></a><span id="l2.514" class="difflineplus">+            if (!this._animateElement.hasAttribute(&quot;notifybgtab&quot;)) {</span>
<a href="#l2.515"></a><span id="l2.515" class="difflineplus">+              this._animateElement.setAttribute(&quot;notifybgtab&quot;, &quot;true&quot;);</span>
<a href="#l2.516"></a><span id="l2.516" class="difflineplus">+              setTimeout(function(ele) {</span>
<a href="#l2.517"></a><span id="l2.517" class="difflineplus">+                ele.removeAttribute(&quot;notifybgtab&quot;);</span>
<a href="#l2.518"></a><span id="l2.518" class="difflineplus">+              }, 150, this._animateElement);</span>
<a href="#l2.519"></a><span id="l2.519" class="difflineplus">+            }</span>
<a href="#l2.520"></a><span id="l2.520" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.521"></a><span id="l2.521" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.522"></a><span id="l2.522" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.523"></a><span id="l2.523" class="difflineplus">+</span>
<a href="#l2.524"></a><span id="l2.524" class="difflineplus">+      &lt;method name=&quot;_handleNewTab&quot;&gt;</span>
<a href="#l2.525"></a><span id="l2.525" class="difflineplus">+        &lt;parameter name=&quot;aTab&quot;/&gt;</span>
<a href="#l2.526"></a><span id="l2.526" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.527"></a><span id="l2.527" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.528"></a><span id="l2.528" class="difflineplus">+            if (aTab.parentNode != this)</span>
<a href="#l2.529"></a><span id="l2.529" class="difflineplus">+              return;</span>
<a href="#l2.530"></a><span id="l2.530" class="difflineplus">+</span>
<a href="#l2.531"></a><span id="l2.531" class="difflineplus">+            if (aTab.getAttribute(&quot;selected&quot;) == &quot;true&quot;) {</span>
<a href="#l2.532"></a><span id="l2.532" class="difflineplus">+              this._handleTabSelect();</span>
<a href="#l2.533"></a><span id="l2.533" class="difflineplus">+            } else {</span>
<a href="#l2.534"></a><span id="l2.534" class="difflineplus">+              this._notifyBackgroundTab(aTab);</span>
<a href="#l2.535"></a><span id="l2.535" class="difflineplus">+            }</span>
<a href="#l2.536"></a><span id="l2.536" class="difflineplus">+</span>
<a href="#l2.537"></a><span id="l2.537" class="difflineplus">+            /* XXXmano: this is a temporary workaround for bug 345399</span>
<a href="#l2.538"></a><span id="l2.538" class="difflineplus">+             * We need to manually update the scroll buttons disabled state</span>
<a href="#l2.539"></a><span id="l2.539" class="difflineplus">+             * if a tab was inserted to the overflow area or removed from it</span>
<a href="#l2.540"></a><span id="l2.540" class="difflineplus">+             * without any scrolling and when the tabbar has already</span>
<a href="#l2.541"></a><span id="l2.541" class="difflineplus">+             * overflowed.</span>
<a href="#l2.542"></a><span id="l2.542" class="difflineplus">+             */</span>
<a href="#l2.543"></a><span id="l2.543" class="difflineplus">+            this.mTabstrip._updateScrollButtonsDisabledState();</span>
<a href="#l2.544"></a><span id="l2.544" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.545"></a><span id="l2.545" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.546"></a><span id="l2.546" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.547"></a><span id="l2.547" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l2.548"></a><span id="l2.548" class="difflineplus">+</span>
<a href="#l2.549"></a><span id="l2.549" class="difflineplus">+    &lt;handlers&gt;</span>
<a href="#l2.550"></a><span id="l2.550" class="difflineplus">+      &lt;handler event=&quot;TabSelect&quot; action=&quot;this._handleTabSelect();&quot;/&gt;</span>
<a href="#l2.551"></a><span id="l2.551" class="difflineplus">+</span>
<a href="#l2.552"></a><span id="l2.552" class="difflineplus">+      &lt;handler event=&quot;transitionend&quot;&gt;</span>
<a href="#l2.553"></a><span id="l2.553" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l2.554"></a><span id="l2.554" class="difflineplus">+          if (event.propertyName == &quot;max-width&quot;)</span>
<a href="#l2.555"></a><span id="l2.555" class="difflineplus">+            this._handleNewTab(event.target);</span>
<a href="#l2.556"></a><span id="l2.556" class="difflineplus">+        ]]&gt;</span>
<a href="#l2.557"></a><span id="l2.557" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l2.558"></a><span id="l2.558" class="difflineplus">+    &lt;/handlers&gt;</span>
<a href="#l2.559"></a><span id="l2.559" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l2.560"></a><span id="l2.560" class="difflineplus">+</span>
<a href="#l2.561"></a><span id="l2.561" class="difflineplus">+  &lt;binding id=&quot;tabbrowser-alltabs-popup&quot;</span>
<a href="#l2.562"></a><span id="l2.562" class="difflineplus">+           extends=&quot;chrome://global/content/bindings/popup.xml#popup&quot;&gt;</span>
<a href="#l2.563"></a><span id="l2.563" class="difflineplus">+    &lt;implementation implements=&quot;nsIDOMEventListener&quot;&gt;</span>
<a href="#l2.564"></a><span id="l2.564" class="difflineplus">+      &lt;method name=&quot;_tabOnTabClose&quot;&gt;</span>
<a href="#l2.565"></a><span id="l2.565" class="difflineplus">+        &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l2.566"></a><span id="l2.566" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.567"></a><span id="l2.567" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.568"></a><span id="l2.568" class="difflineplus">+            let menuItem = aEvent.target.mCorrespondingMenuitem;</span>
<a href="#l2.569"></a><span id="l2.569" class="difflineplus">+            if (menuItem)</span>
<a href="#l2.570"></a><span id="l2.570" class="difflineplus">+              this.removeChild(menuItem);</span>
<a href="#l2.571"></a><span id="l2.571" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.572"></a><span id="l2.572" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.573"></a><span id="l2.573" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.574"></a><span id="l2.574" class="difflineplus">+</span>
<a href="#l2.575"></a><span id="l2.575" class="difflineplus">+      &lt;method name=&quot;handleEvent&quot;&gt;</span>
<a href="#l2.576"></a><span id="l2.576" class="difflineplus">+        &lt;parameter name=&quot;aEvent&quot;/&gt;</span>
<a href="#l2.577"></a><span id="l2.577" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.578"></a><span id="l2.578" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.579"></a><span id="l2.579" class="difflineplus">+            switch (aEvent.type)</span>
<a href="#l2.580"></a><span id="l2.580" class="difflineplus">+            {</span>
<a href="#l2.581"></a><span id="l2.581" class="difflineplus">+              case &quot;TabClose&quot;:</span>
<a href="#l2.582"></a><span id="l2.582" class="difflineplus">+                this._tabOnTabClose(aEvent);</span>
<a href="#l2.583"></a><span id="l2.583" class="difflineplus">+                break;</span>
<a href="#l2.584"></a><span id="l2.584" class="difflineplus">+              case &quot;TabOpen&quot;:</span>
<a href="#l2.585"></a><span id="l2.585" class="difflineplus">+                this._createTabMenuItem(aEvent.originalTarget);</span>
<a href="#l2.586"></a><span id="l2.586" class="difflineplus">+                break;</span>
<a href="#l2.587"></a><span id="l2.587" class="difflineplus">+              case &quot;scroll&quot;:</span>
<a href="#l2.588"></a><span id="l2.588" class="difflineplus">+                this._updateTabsVisibilityStatus();</span>
<a href="#l2.589"></a><span id="l2.589" class="difflineplus">+                break;</span>
<a href="#l2.590"></a><span id="l2.590" class="difflineplus">+            }</span>
<a href="#l2.591"></a><span id="l2.591" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.592"></a><span id="l2.592" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.593"></a><span id="l2.593" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.594"></a><span id="l2.594" class="difflineplus">+</span>
<a href="#l2.595"></a><span id="l2.595" class="difflineplus">+      &lt;method name=&quot;_updateTabsVisibilityStatus&quot;&gt;</span>
<a href="#l2.596"></a><span id="l2.596" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.597"></a><span id="l2.597" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.598"></a><span id="l2.598" class="difflineplus">+            let tabContainer = document.getBindingParent(this);</span>
<a href="#l2.599"></a><span id="l2.599" class="difflineplus">+            // We don't want menu item decoration unless there is overflow.</span>
<a href="#l2.600"></a><span id="l2.600" class="difflineplus">+            if (tabContainer.getAttribute(&quot;overflow&quot;) != &quot;true&quot;)</span>
<a href="#l2.601"></a><span id="l2.601" class="difflineplus">+              return;</span>
<a href="#l2.602"></a><span id="l2.602" class="difflineplus">+</span>
<a href="#l2.603"></a><span id="l2.603" class="difflineplus">+            let tabstripBO = tabContainer.mTabstrip.scrollBoxObject;</span>
<a href="#l2.604"></a><span id="l2.604" class="difflineplus">+            for (let i = 0; i &lt; this.childNodes.length; i++)</span>
<a href="#l2.605"></a><span id="l2.605" class="difflineplus">+            {</span>
<a href="#l2.606"></a><span id="l2.606" class="difflineplus">+              let curTabBO = this.childNodes[i].tab.boxObject;</span>
<a href="#l2.607"></a><span id="l2.607" class="difflineplus">+              if (curTabBO.screenX &gt;= tabstripBO.screenX &amp;&amp;</span>
<a href="#l2.608"></a><span id="l2.608" class="difflineplus">+                  curTabBO.screenX + curTabBO.width &lt;= tabstripBO.screenX + tabstripBO.width)</span>
<a href="#l2.609"></a><span id="l2.609" class="difflineplus">+                this.childNodes[i].setAttribute(&quot;tabIsVisible&quot;, &quot;true&quot;);</span>
<a href="#l2.610"></a><span id="l2.610" class="difflineplus">+              else</span>
<a href="#l2.611"></a><span id="l2.611" class="difflineplus">+                this.childNodes[i].removeAttribute(&quot;tabIsVisible&quot;);</span>
<a href="#l2.612"></a><span id="l2.612" class="difflineplus">+            }</span>
<a href="#l2.613"></a><span id="l2.613" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.614"></a><span id="l2.614" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.615"></a><span id="l2.615" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.616"></a><span id="l2.616" class="difflineplus">+</span>
<a href="#l2.617"></a><span id="l2.617" class="difflineplus">+      &lt;method name=&quot;_createTabMenuItem&quot;&gt;</span>
<a href="#l2.618"></a><span id="l2.618" class="difflineplus">+        &lt;parameter name=&quot;aTabNode&quot;/&gt;</span>
<a href="#l2.619"></a><span id="l2.619" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l2.620"></a><span id="l2.620" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l2.621"></a><span id="l2.621" class="difflineplus">+            let menuItem = document.createElementNS(</span>
<a href="#l2.622"></a><span id="l2.622" class="difflineplus">+              &quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;,</span>
<a href="#l2.623"></a><span id="l2.623" class="difflineplus">+              &quot;menuitem&quot;);</span>
<a href="#l2.624"></a><span id="l2.624" class="difflineplus">+            menuItem.setAttribute(&quot;class&quot;, &quot;menuitem-iconic alltabs-item icon-holder&quot;);</span>
<a href="#l2.625"></a><span id="l2.625" class="difflineplus">+            menuItem.setAttribute(&quot;label&quot;, aTabNode.label);</span>
<a href="#l2.626"></a><span id="l2.626" class="difflineplus">+            menuItem.setAttribute(&quot;crop&quot;,  aTabNode.getAttribute(&quot;crop&quot;));</span>
<a href="#l2.627"></a><span id="l2.627" class="difflineplus">+</span>
<a href="#l2.628"></a><span id="l2.628" class="difflineplus">+            [&quot;busy&quot;, &quot;image&quot;, &quot;selected&quot;].forEach(</span>
<a href="#l2.629"></a><span id="l2.629" class="difflineplus">+              function(attribute)</span>
<a href="#l2.630"></a><span id="l2.630" class="difflineplus">+              {</span>
<a href="#l2.631"></a><span id="l2.631" class="difflineplus">+                if (aTabNode.hasAttribute(attribute))</span>
<a href="#l2.632"></a><span id="l2.632" class="difflineplus">+                {</span>
<a href="#l2.633"></a><span id="l2.633" class="difflineplus">+                  menuItem.setAttribute(attribute, aTabNode.getAttribute(attribute));</span>
<a href="#l2.634"></a><span id="l2.634" class="difflineplus">+                }</span>
<a href="#l2.635"></a><span id="l2.635" class="difflineplus">+              }</span>
<a href="#l2.636"></a><span id="l2.636" class="difflineplus">+            );</span>
<a href="#l2.637"></a><span id="l2.637" class="difflineplus">+</span>
<a href="#l2.638"></a><span id="l2.638" class="difflineplus">+            // Keep some attributes of the menuitem in sync with its</span>
<a href="#l2.639"></a><span id="l2.639" class="difflineplus">+            // corresponding tab (e.g. the tab label)</span>
<a href="#l2.640"></a><span id="l2.640" class="difflineplus">+            aTabNode.mCorrespondingMenuitem = menuItem;</span>
<a href="#l2.641"></a><span id="l2.641" class="difflineplus">+            document.addBroadcastListenerFor(aTabNode, menuItem, &quot;label&quot;);</span>
<a href="#l2.642"></a><span id="l2.642" class="difflineplus">+            document.addBroadcastListenerFor(aTabNode, menuItem, &quot;crop&quot;);</span>
<a href="#l2.643"></a><span id="l2.643" class="difflineplus">+            document.addBroadcastListenerFor(aTabNode, menuItem, &quot;image&quot;);</span>
<a href="#l2.644"></a><span id="l2.644" class="difflineplus">+            document.addBroadcastListenerFor(aTabNode, menuItem, &quot;busy&quot;);</span>
<a href="#l2.645"></a><span id="l2.645" class="difflineplus">+            document.addBroadcastListenerFor(aTabNode, menuItem, &quot;selected&quot;);</span>
<a href="#l2.646"></a><span id="l2.646" class="difflineplus">+            aTabNode.addEventListener(&quot;TabClose&quot;, this, false);</span>
<a href="#l2.647"></a><span id="l2.647" class="difflineplus">+            menuItem.tab = aTabNode;</span>
<a href="#l2.648"></a><span id="l2.648" class="difflineplus">+            this.appendChild(menuItem);</span>
<a href="#l2.649"></a><span id="l2.649" class="difflineplus">+            return menuItem;</span>
<a href="#l2.650"></a><span id="l2.650" class="difflineplus">+          ]]&gt;</span>
<a href="#l2.651"></a><span id="l2.651" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l2.652"></a><span id="l2.652" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l2.653"></a><span id="l2.653" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l2.654"></a><span id="l2.654" class="difflineplus">+</span>
<a href="#l2.655"></a><span id="l2.655" class="difflineplus">+    &lt;handlers&gt;</span>
<a href="#l2.656"></a><span id="l2.656" class="difflineplus">+      &lt;handler event=&quot;popupshowing&quot;&gt;</span>
<a href="#l2.657"></a><span id="l2.657" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l2.658"></a><span id="l2.658" class="difflineplus">+          // set up the menu popup</span>
<a href="#l2.659"></a><span id="l2.659" class="difflineplus">+          let tabcontainer = document.getBindingParent(this);</span>
<a href="#l2.660"></a><span id="l2.660" class="difflineplus">+          let tabs = tabcontainer.childNodes;</span>
<a href="#l2.661"></a><span id="l2.661" class="difflineplus">+</span>
<a href="#l2.662"></a><span id="l2.662" class="difflineplus">+          // Listen for changes in the tab bar.</span>
<a href="#l2.663"></a><span id="l2.663" class="difflineplus">+          let tabbrowser = document.getBindingParent(tabcontainer);</span>
<a href="#l2.664"></a><span id="l2.664" class="difflineplus">+          tabbrowser.addEventListener(&quot;TabOpen&quot;, this, false);</span>
<a href="#l2.665"></a><span id="l2.665" class="difflineplus">+          tabcontainer.mTabstrip.addEventListener(&quot;scroll&quot;, this, false);</span>
<a href="#l2.666"></a><span id="l2.666" class="difflineplus">+</span>
<a href="#l2.667"></a><span id="l2.667" class="difflineplus">+          for (let i = 0; i &lt; tabs.length; i++)</span>
<a href="#l2.668"></a><span id="l2.668" class="difflineplus">+            this._createTabMenuItem(tabs[i]);</span>
<a href="#l2.669"></a><span id="l2.669" class="difflineplus">+          this._updateTabsVisibilityStatus();</span>
<a href="#l2.670"></a><span id="l2.670" class="difflineplus">+        ]]&gt;</span>
<a href="#l2.671"></a><span id="l2.671" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l2.672"></a><span id="l2.672" class="difflineplus">+</span>
<a href="#l2.673"></a><span id="l2.673" class="difflineplus">+      &lt;handler event=&quot;popuphiding&quot;&gt;</span>
<a href="#l2.674"></a><span id="l2.674" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l2.675"></a><span id="l2.675" class="difflineplus">+          // clear out the menu popup and remove the listeners</span>
<a href="#l2.676"></a><span id="l2.676" class="difflineplus">+          while (this.hasChildNodes())</span>
<a href="#l2.677"></a><span id="l2.677" class="difflineplus">+          {</span>
<a href="#l2.678"></a><span id="l2.678" class="difflineplus">+            let menuItem = this.lastChild;</span>
<a href="#l2.679"></a><span id="l2.679" class="difflineplus">+            document.removeBroadcastListenerFor(menuItem.tab, menuItem, &quot;label&quot;);</span>
<a href="#l2.680"></a><span id="l2.680" class="difflineplus">+            document.removeBroadcastListenerFor(menuItem.tab, menuItem, &quot;crop&quot;);</span>
<a href="#l2.681"></a><span id="l2.681" class="difflineplus">+            document.removeBroadcastListenerFor(menuItem.tab, menuItem, &quot;image&quot;);</span>
<a href="#l2.682"></a><span id="l2.682" class="difflineplus">+            document.removeBroadcastListenerFor(menuItem.tab, menuItem, &quot;busy&quot;);</span>
<a href="#l2.683"></a><span id="l2.683" class="difflineplus">+            document.removeBroadcastListenerFor(menuItem.tab, menuItem, &quot;selected&quot;);</span>
<a href="#l2.684"></a><span id="l2.684" class="difflineplus">+            menuItem.removeEventListener(&quot;command&quot;, this, false);</span>
<a href="#l2.685"></a><span id="l2.685" class="difflineplus">+            menuItem.tab.removeEventListener(&quot;TabClose&quot;, this, false);</span>
<a href="#l2.686"></a><span id="l2.686" class="difflineplus">+            menuItem.tab.mCorrespondingMenuitem = null;</span>
<a href="#l2.687"></a><span id="l2.687" class="difflineplus">+            menuItem.tab = null;</span>
<a href="#l2.688"></a><span id="l2.688" class="difflineplus">+            this.removeChild(menuItem);</span>
<a href="#l2.689"></a><span id="l2.689" class="difflineplus">+          }</span>
<a href="#l2.690"></a><span id="l2.690" class="difflineplus">+          let tabcontainer = document.getBindingParent(this);</span>
<a href="#l2.691"></a><span id="l2.691" class="difflineplus">+          tabcontainer.mTabstrip.removeEventListener(&quot;scroll&quot;, this, false);</span>
<a href="#l2.692"></a><span id="l2.692" class="difflineplus">+          document.getBindingParent(tabcontainer).removeEventListener(&quot;TabOpen&quot;, this, false);</span>
<a href="#l2.693"></a><span id="l2.693" class="difflineplus">+        ]]&gt;</span>
<a href="#l2.694"></a><span id="l2.694" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l2.695"></a><span id="l2.695" class="difflineplus">+</span>
<a href="#l2.696"></a><span id="l2.696" class="difflineplus">+      &lt;handler event=&quot;command&quot;&gt;</span>
<a href="#l2.697"></a><span id="l2.697" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l2.698"></a><span id="l2.698" class="difflineplus">+          let tabcontainer = document.getBindingParent(this);</span>
<a href="#l2.699"></a><span id="l2.699" class="difflineplus">+          let tab = event.target.tab;</span>
<a href="#l2.700"></a><span id="l2.700" class="difflineplus">+          if (tabcontainer.selectedItem == tab)</span>
<a href="#l2.701"></a><span id="l2.701" class="difflineplus">+            tabcontainer._handleTabSelect();</span>
<a href="#l2.702"></a><span id="l2.702" class="difflineplus">+          else</span>
<a href="#l2.703"></a><span id="l2.703" class="difflineplus">+            tabcontainer.selectedItem = tab;</span>
<a href="#l2.704"></a><span id="l2.704" class="difflineplus">+        ]]&gt;</span>
<a href="#l2.705"></a><span id="l2.705" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l2.706"></a><span id="l2.706" class="difflineplus">+</span>
<a href="#l2.707"></a><span id="l2.707" class="difflineplus">+      &lt;handler event=&quot;DOMMenuItemActive&quot;&gt;</span>
<a href="#l2.708"></a><span id="l2.708" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l2.709"></a><span id="l2.709" class="difflineplus">+        var tab = event.target.tab;</span>
<a href="#l2.710"></a><span id="l2.710" class="difflineplus">+        if (tab) {</span>
<a href="#l2.711"></a><span id="l2.711" class="difflineplus">+          let overLink = tab.linkedBrowser.currentURI.spec;</span>
<a href="#l2.712"></a><span id="l2.712" class="difflineplus">+          if (overLink == &quot;about:blank&quot;)</span>
<a href="#l2.713"></a><span id="l2.713" class="difflineplus">+            overLink = &quot;&quot;;</span>
<a href="#l2.714"></a><span id="l2.714" class="difflineplus">+          XULBrowserWindow.setOverLink(overLink, null);</span>
<a href="#l2.715"></a><span id="l2.715" class="difflineplus">+        }</span>
<a href="#l2.716"></a><span id="l2.716" class="difflineplus">+      ]]&gt;&lt;/handler&gt;</span>
<a href="#l2.717"></a><span id="l2.717" class="difflineplus">+</span>
<a href="#l2.718"></a><span id="l2.718" class="difflineplus">+      &lt;handler event=&quot;DOMMenuItemInactive&quot;&gt;</span>
<a href="#l2.719"></a><span id="l2.719" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l2.720"></a><span id="l2.720" class="difflineplus">+        XULBrowserWindow.setOverLink(&quot;&quot;, null);</span>
<a href="#l2.721"></a><span id="l2.721" class="difflineplus">+      ]]&gt;&lt;/handler&gt;</span>
<a href="#l2.722"></a><span id="l2.722" class="difflineplus">+</span>
<a href="#l2.723"></a><span id="l2.723" class="difflineplus">+    &lt;/handlers&gt;</span>
<a href="#l2.724"></a><span id="l2.724">   &lt;/binding&gt;</span>
<a href="#l2.725"></a><span id="l2.725"> &lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/locales/en-US/chrome/browser/tabbrowser.dtd</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/browser/tabbrowser.dtd</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -8,10 +8,11 @@</span>
<a href="#l3.4"></a><span id="l3.4"> &lt;!ENTITY  reloadAllTabs.label    &quot;Reload All Tabs&quot;&gt;</span>
<a href="#l3.5"></a><span id="l3.5"> &lt;!ENTITY  reloadAllTabs.accesskey         &quot;A&quot;&gt;</span>
<a href="#l3.6"></a><span id="l3.6"> &lt;!ENTITY  reloadTab.label        &quot;Reload Tab&quot;&gt;</span>
<a href="#l3.7"></a><span id="l3.7"> &lt;!ENTITY  reloadTab.accesskey         &quot;R&quot;&gt;</span>
<a href="#l3.8"></a><span id="l3.8"> &lt;!ENTITY  bookmarkGroup.label    &quot;Bookmark This Group of Tabs&quot;&gt;</span>
<a href="#l3.9"></a><span id="l3.9"> &lt;!ENTITY  bookmarkGroup.accesskey  &quot;B&quot;&gt;</span>
<a href="#l3.10"></a><span id="l3.10"> &lt;!ENTITY  closeTabButton.tooltip   &quot;Close current tab&quot;&gt;</span>
<a href="#l3.11"></a><span id="l3.11"> &lt;!ENTITY  newTabButton.tooltip   &quot;Open a new tab&quot;&gt;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+&lt;!ENTITY  listAllTabs.tooltip    &quot;List all tabs&quot;&gt;</span>
<a href="#l3.13"></a><span id="l3.13"> &lt;!ENTITY  undoCloseTab.label    &quot;Undo Close Tab&quot;&gt;</span>
<a href="#l3.14"></a><span id="l3.14"> &lt;!ENTITY  undoCloseTab.accesskey  &quot;U&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/themes/classic/jar.mn</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/themes/classic/jar.mn</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -386,16 +386,18 @@ classic.jar:</span>
<a href="#l4.4"></a><span id="l4.4">   skin/classic/navigator/linkToolbar.css                                (navigator/linkToolbar.css)</span>
<a href="#l4.5"></a><span id="l4.5">   skin/classic/navigator/pageInfo.css                                   (navigator/pageInfo.css)</span>
<a href="#l4.6"></a><span id="l4.6">   skin/classic/navigator/tabbrowser.css                                 (navigator/tabbrowser.css)</span>
<a href="#l4.7"></a><span id="l4.7">   skin/classic/navigator/icons/close.gif                                (navigator/icons/close.gif)</span>
<a href="#l4.8"></a><span id="l4.8">   skin/classic/navigator/icons/minimize.gif                             (navigator/icons/minimize.gif)</span>
<a href="#l4.9"></a><span id="l4.9">   skin/classic/navigator/icons/navigatoricons.png                       (navigator/icons/navigatoricons.png)</span>
<a href="#l4.10"></a><span id="l4.10">   skin/classic/navigator/icons/navigatoricons-small.png                 (navigator/icons/navigatoricons-small.png)</span>
<a href="#l4.11"></a><span id="l4.11">   skin/classic/navigator/icons/restore.gif                              (navigator/icons/restore.gif)</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+  skin/classic/navigator/icons/tab-arrow-left.gif                       (navigator/icons/tab-arrow-left.gif)</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+  skin/classic/navigator/icons/tab-arrow-right.gif                      (navigator/icons/tab-arrow-right.gif)</span>
<a href="#l4.14"></a><span id="l4.14"> #endif</span>
<a href="#l4.15"></a><span id="l4.15">   skin/classic/navigator/btn1/feeds.png                                 (navigator/btn1/feeds.png)</span>
<a href="#l4.16"></a><span id="l4.16">   skin/classic/navigator/btn1/first.gif                                 (navigator/btn1/first.gif)</span>
<a href="#l4.17"></a><span id="l4.17">   skin/classic/navigator/btn1/first-disabled.gif                        (navigator/btn1/first-disabled.gif)</span>
<a href="#l4.18"></a><span id="l4.18">   skin/classic/navigator/btn1/first-hover.gif                           (navigator/btn1/first-hover.gif)</span>
<a href="#l4.19"></a><span id="l4.19">   skin/classic/navigator/btn1/last.gif                                  (navigator/btn1/last.gif)</span>
<a href="#l4.20"></a><span id="l4.20">   skin/classic/navigator/btn1/last-disabled.gif                         (navigator/btn1/last-disabled.gif)</span>
<a href="#l4.21"></a><span id="l4.21">   skin/classic/navigator/btn1/last-hover.gif                            (navigator/btn1/last-hover.gif)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/themes/classic/mac/navigator/tabbrowser.css</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/themes/classic/mac/navigator/tabbrowser.css</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -112,16 +112,75 @@ tabpanels {</span>
<a href="#l5.4"></a><span id="l5.4"> .tabbrowser-tab[beforeselected=&quot;true&quot;]:-moz-locale-dir(ltr) {</span>
<a href="#l5.5"></a><span id="l5.5">   -moz-border-right-colors: transparent transparent;</span>
<a href="#l5.6"></a><span id="l5.6"> }</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8"> .tabbrowser-tab[beforeselected=&quot;true&quot;]:-moz-locale-dir(rtl) {</span>
<a href="#l5.9"></a><span id="l5.9">   -moz-border-left-colors: transparent transparent;</span>
<a href="#l5.10"></a><span id="l5.10"> }</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+/* ::::: Tab scrollbox arrow ::::: */</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+.scrollbutton-up,</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+.scrollbutton-down {</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+  border: 0;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+  padding: 0 4px;</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+  margin: 0;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+}</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+.scrollbutton-up {</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+  border-right: 2px solid;</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineplus">+  -moz-border-right-colors: rgba(0, 0, 0, 0.19) transparent;</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/tab-arrow-left.png&quot;);</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineplus">+  -moz-image-region: rect(0, 7px, 11px, 0);</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineplus">+}</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineplus">+</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineplus">+.scrollbutton-up[disabled=&quot;true&quot;] {</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineplus">+  -moz-image-region: rect(0, 14px, 11px, 7px);</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineplus">+  -moz-border-right-colors: transparent transparent;</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineplus">+}</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+.scrollbutton-down {</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+  border-left: 2px solid;</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+  -moz-border-left-colors: rgba(0, 0, 0, 0.19) transparent;</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/tab-arrow-right.png&quot;);</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+  -moz-image-region: rect(0, 7px, 11px, 0);</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+  -moz-transition: box-shadow 1s ease-out;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+}</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+.scrollbutton-down[notifybgtab=&quot;true&quot;] {</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+  background-color: Highlight;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+  box-shadow: 0 0 9px 9px Highlight inset;</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+  -moz-transition: none;</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+}</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineplus">+</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+.scrollbutton-down[disabled=&quot;true&quot;] {</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+  -moz-image-region: rect(0, 14px, 11px, 7px);</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+  -moz-border-left-colors: transparent transparent;</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+}</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+.scrollbutton-up:hover:not([disabled=&quot;true&quot;]),</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+.scrollbutton-down:hover:not([disabled=&quot;true&quot;]) {</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+  background-color: rgba(0, 0, 0, 0.1);</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+}</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+.scrollbutton-up:hover:active:not([disabled=&quot;true&quot;]),</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+.scrollbutton-down:hover:active:not([disabled=&quot;true&quot;]) {</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+  background-color: rgba(0, 0, 0, 0.2);</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+}</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+/* All Tabs Menupopup */</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineplus">+.alltabs-item {</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.png&quot;);</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineplus">+}</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineplus">+.alltabs-item[busy] {</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/loading_16.png&quot;) !important;</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+}</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineplus">+</span>
<a href="#l5.71"></a><span id="l5.71"> /* ::::: close button ::::: */</span>
<a href="#l5.72"></a><span id="l5.72"> </span>
<a href="#l5.73"></a><span id="l5.73"> .tabs-closebutton {</span>
<a href="#l5.74"></a><span id="l5.74">   margin: 3px;</span>
<a href="#l5.75"></a><span id="l5.75">   padding: 1px;</span>
<a href="#l5.76"></a><span id="l5.76">   list-style-image: url(&quot;chrome://global/skin/icons/closetab.png&quot;);</span>
<a href="#l5.77"></a><span id="l5.77"> }</span>
<a href="#l5.78"></a><span id="l5.78"> </span>
<a href="#l5.79"></a><span id="l5.79" class="difflineat">@@ -142,17 +201,17 @@ tabpanels {</span>
<a href="#l5.80"></a><span id="l5.80">   margin: 0;</span>
<a href="#l5.81"></a><span id="l5.81">   padding: 1px;</span>
<a href="#l5.82"></a><span id="l5.82">   list-style-image: url(&quot;chrome://navigator/skin/icons/tab-new.gif&quot;);</span>
<a href="#l5.83"></a><span id="l5.83"> }</span>
<a href="#l5.84"></a><span id="l5.84"> </span>
<a href="#l5.85"></a><span id="l5.85"> .tab-drop-indicator-bar {</span>
<a href="#l5.86"></a><span id="l5.86">   height: 11px;</span>
<a href="#l5.87"></a><span id="l5.87">   margin-top: -11px;</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineminus">-  -moz-margin-start: -8px;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+  -moz-margin-start: -6px;</span>
<a href="#l5.90"></a><span id="l5.90">   position: relative;</span>
<a href="#l5.91"></a><span id="l5.91"> }</span>
<a href="#l5.92"></a><span id="l5.92">  </span>
<a href="#l5.93"></a><span id="l5.93"> .tab-drop-indicator {</span>
<a href="#l5.94"></a><span id="l5.94">   height: 11px;</span>
<a href="#l5.95"></a><span id="l5.95">   width: 11px;</span>
<a href="#l5.96"></a><span id="l5.96">   margin-bottom: -5px;</span>
<a href="#l5.97"></a><span id="l5.97">   position: relative;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">new file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..399e946afe73850edf6dbb4f73d16d251e1d74d9</span>
<a href="#l6.3"></a><span id="l6.3">GIT binary patch
literal 124
zc${&lt;hbhEHb6ky&lt;C*vtR|4Pe{=rW(Mk0|yQ?G&amp;KAN3jAmI52pTuSwNuplZBCiftNuC
zq!VNY1B&gt;Q{lb)+t7buk&amp;-aX-*c$1||_-F2lC9`tAdZmY7ntk;Q?~2d+`qY+OUZ})i
F4FJfmE;|4K</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">new file mode 100644</span>
<a href="#l7.2"></a><span id="l7.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..d51a11cee25d87d2b99ebd16d8634ce7c7a84be6</span>
<a href="#l7.3"></a><span id="l7.3">GIT binary patch
literal 125
zc${&lt;hbhEHb6ky&lt;C*vtR|4Pe{=rW(Mk0|yQ?G&amp;KAN3jAmI52pTuSwNuplZBCiftNuC
zq!VNY1B=#%lb)+t4k)D*E|U(g484)~w5)Ej=fnr!d&lt;wKLXY`y2&amp;wH;wtv7w6fT|#a
FH2~)-EXn`?</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/themes/classic/navigator/navigator.css</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/themes/classic/navigator/navigator.css</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -296,24 +296,16 @@ toolbar[mode=&quot;text&quot;] &gt; #window-controls </span>
<a href="#l8.4"></a><span id="l8.4">   </span>
<a href="#l8.5"></a><span id="l8.5"> /* ::::: nav-bar-inner ::::: */</span>
<a href="#l8.6"></a><span id="l8.6">   </span>
<a href="#l8.7"></a><span id="l8.7"> .nav-bar-class {</span>
<a href="#l8.8"></a><span id="l8.8">   -moz-box-align: center;</span>
<a href="#l8.9"></a><span id="l8.9">   min-width: 0px;</span>
<a href="#l8.10"></a><span id="l8.10"> }</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-.tabbrowser-tab:-moz-lwtheme:not([selected=&quot;true&quot;]) {</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-  opacity: .8;</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">-}</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineminus">-.tabbrowser-tab:-moz-lwtheme {</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-  text-shadow: none;</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineminus">-}</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineminus">-</span>
<a href="#l8.20"></a><span id="l8.20"> #urlbar {</span>
<a href="#l8.21"></a><span id="l8.21">   border: 3px solid;</span>
<a href="#l8.22"></a><span id="l8.22">   -moz-border-top-colors: transparent ThreeDShadow ThreeDDarkShadow;</span>
<a href="#l8.23"></a><span id="l8.23">   -moz-border-right-colors: transparent ThreeDHighlight ThreeDDarkShadow;</span>
<a href="#l8.24"></a><span id="l8.24">   -moz-border-bottom-colors: transparent ThreeDHighlight ThreeDDarkShadow;</span>
<a href="#l8.25"></a><span id="l8.25">   -moz-border-left-colors: transparent ThreeDShadow ThreeDDarkShadow;</span>
<a href="#l8.26"></a><span id="l8.26"> }</span>
<a href="#l8.27"></a><span id="l8.27"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/suite/themes/classic/navigator/tabbrowser.css</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/suite/themes/classic/navigator/tabbrowser.css</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -43,36 +43,138 @@ tabpanels {</span>
<a href="#l9.4"></a><span id="l9.4"> }</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6"> .tabbrowser-tab[selected=&quot;true&quot;] {</span>
<a href="#l9.7"></a><span id="l9.7">   margin-bottom: 0px;</span>
<a href="#l9.8"></a><span id="l9.8">   padding-top: 2px; /* compensates the top margin of background tabs */</span>
<a href="#l9.9"></a><span id="l9.9">   padding-bottom: 3px; /* compensates the bottom margin of background tabs */</span>
<a href="#l9.10"></a><span id="l9.10"> }</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+.tabbrowser-tab:-moz-lwtheme {</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+  text-shadow: none;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+}</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+.scrollbutton-up:-moz-lwtheme,</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+.scrollbutton-down:-moz-lwtheme:not([selected=&quot;true&quot;]),</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+.tabbrowser-tab:-moz-lwtheme:not([selected=&quot;true&quot;]) {</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+  opacity: .8;</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+}</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineplus">+</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+.toolbarbutton-text {</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+  display: none;</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineplus">+}</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineplus">+</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineplus">+.toolbarbutton-icon {</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+  margin: 0px !important; /* needs to override communicator.css */</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+}</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineplus">+</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineplus">+/* ::::: Tab scrollbox arrow, and all-tabs buttons ::::: */</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+.scrollbutton-up,</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+.scrollbutton-down {</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+  -moz-appearance: tab;</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+  margin: 2px 0px 1px;</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineplus">+  padding: 0px;</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineplus">+  border-top: 2px solid;</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineplus">+  border-right: 2px solid;</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineplus">+  border-left: 2px solid;</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineplus">+  border-bottom: 1px solid ThreeDHighlight;</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+  -moz-border-top-colors: ThreeDHighlight ThreeDLightShadow;</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+  -moz-border-right-colors: ThreeDDarkShadow ThreeDShadow;</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+  -moz-border-left-colors: ThreeDHighlight ThreeDLightShadow;</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+  border-radius: 2px 2px 0px 0px;</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+}</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineplus">+</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineplus">+@media all and (-moz-windows-theme: aero) {</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineplus">+  .scrollbutton-up,</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineplus">+  .scrollbutton-down {</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+    padding: 0px 2px;</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+  }</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+}</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+.scrollbutton-up:-moz-locale-dir(rtl),</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+.scrollbutton-down:-moz-locale-dir(ltr) {</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+  -moz-border-right-colors: ThreeDHighlight ThreeDShadow;</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+}</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineplus">+</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineplus">+.scrollbutton-up:-moz-locale-dir(ltr),</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineplus">+.scrollbutton-down:-moz-locale-dir(rtl) {</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineplus">+  -moz-border-left-colors: ThreeDHighlight ThreeDShadow;</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineplus">+}</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineplus">+</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineplus">+.scrollbutton-up,</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineplus">+.scrollbutton-down:-moz-locale-dir(rtl) {</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineplus">+  list-style-image: url(&quot;chrome://navigator/skin/icons/tab-arrow-left.gif&quot;);</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineplus">+}</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineplus">+</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineplus">+.scrollbutton-down,</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineplus">+.scrollbutton-up:-moz-locale-dir(rtl) {</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineplus">+  list-style-image: url(&quot;chrome://navigator/skin/icons/tab-arrow-right.gif&quot;);</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineplus">+}</span>
<a href="#l9.73"></a><span id="l9.73" class="difflineplus">+</span>
<a href="#l9.74"></a><span id="l9.74" class="difflineplus">+.scrollbutton-up,</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineplus">+.scrollbutton-down {</span>
<a href="#l9.76"></a><span id="l9.76" class="difflineplus">+  -moz-image-region: rect(0px, 8px, 12px, 0px);</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineplus">+}</span>
<a href="#l9.78"></a><span id="l9.78" class="difflineplus">+</span>
<a href="#l9.79"></a><span id="l9.79" class="difflineplus">+.scrollbutton-up[disabled=&quot;true&quot;],</span>
<a href="#l9.80"></a><span id="l9.80" class="difflineplus">+.scrollbutton-down[disabled=&quot;true&quot;] {</span>
<a href="#l9.81"></a><span id="l9.81" class="difflineplus">+  -moz-image-region: rect(0px, 16px, 12px, 8px);</span>
<a href="#l9.82"></a><span id="l9.82" class="difflineplus">+}</span>
<a href="#l9.83"></a><span id="l9.83" class="difflineplus">+</span>
<a href="#l9.84"></a><span id="l9.84" class="difflineplus">+.scrollbutton-down {</span>
<a href="#l9.85"></a><span id="l9.85" class="difflineplus">+  box-shadow: 0px 0px 0px 9px transparent inset;</span>
<a href="#l9.86"></a><span id="l9.86" class="difflineplus">+  -moz-transition: box-shadow 1s ease-out;</span>
<a href="#l9.87"></a><span id="l9.87" class="difflineplus">+}</span>
<a href="#l9.88"></a><span id="l9.88" class="difflineplus">+</span>
<a href="#l9.89"></a><span id="l9.89" class="difflineplus">+.scrollbutton-down:hover,</span>
<a href="#l9.90"></a><span id="l9.90" class="difflineplus">+.scrollbutton-down[notifybgtab=&quot;true&quot;],</span>
<a href="#l9.91"></a><span id="l9.91" class="difflineplus">+.scrollbutton-down[disabled=&quot;true&quot;] {</span>
<a href="#l9.92"></a><span id="l9.92" class="difflineplus">+  -moz-transition: none;</span>
<a href="#l9.93"></a><span id="l9.93" class="difflineplus">+}</span>
<a href="#l9.94"></a><span id="l9.94" class="difflineplus">+</span>
<a href="#l9.95"></a><span id="l9.95" class="difflineplus">+.scrollbutton-up:not([disabled=&quot;true&quot;]):hover:active,</span>
<a href="#l9.96"></a><span id="l9.96" class="difflineplus">+.scrollbutton-down:not([disabled=&quot;true&quot;]):hover:active,</span>
<a href="#l9.97"></a><span id="l9.97" class="difflineplus">+.scrollbutton-down[notifybgtab=&quot;true&quot;] {</span>
<a href="#l9.98"></a><span id="l9.98" class="difflineplus">+  box-shadow: 0px 0px 0px 9px ThreeDShadow inset;</span>
<a href="#l9.99"></a><span id="l9.99" class="difflineplus">+}</span>
<a href="#l9.100"></a><span id="l9.100" class="difflineplus">+</span>
<a href="#l9.101"></a><span id="l9.101" class="difflineplus">+.tabs-alltabs-button {</span>
<a href="#l9.102"></a><span id="l9.102" class="difflineplus">+  margin: 2px 0px 1px;</span>
<a href="#l9.103"></a><span id="l9.103" class="difflineplus">+}</span>
<a href="#l9.104"></a><span id="l9.104" class="difflineplus">+</span>
<a href="#l9.105"></a><span id="l9.105" class="difflineplus">+/* All tabs menupopup */</span>
<a href="#l9.106"></a><span id="l9.106" class="difflineplus">+.alltabs-item {</span>
<a href="#l9.107"></a><span id="l9.107" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.png&quot;);</span>
<a href="#l9.108"></a><span id="l9.108" class="difflineplus">+}</span>
<a href="#l9.109"></a><span id="l9.109" class="difflineplus">+</span>
<a href="#l9.110"></a><span id="l9.110" class="difflineplus">+.alltabs-item[selected=&quot;true&quot;] {</span>
<a href="#l9.111"></a><span id="l9.111" class="difflineplus">+  font-weight: bold;</span>
<a href="#l9.112"></a><span id="l9.112" class="difflineplus">+}</span>
<a href="#l9.113"></a><span id="l9.113" class="difflineplus">+</span>
<a href="#l9.114"></a><span id="l9.114" class="difflineplus">+.alltabs-item[busy] {</span>
<a href="#l9.115"></a><span id="l9.115" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/icons/loading.gif&quot;);</span>
<a href="#l9.116"></a><span id="l9.116" class="difflineplus">+}</span>
<a href="#l9.117"></a><span id="l9.117" class="difflineplus">+</span>
<a href="#l9.118"></a><span id="l9.118"> /* ::::: close button ::::: */</span>
<a href="#l9.119"></a><span id="l9.119"> </span>
<a href="#l9.120"></a><span id="l9.120"> .tabs-closebutton {</span>
<a href="#l9.121"></a><span id="l9.121">   margin: 3px;</span>
<a href="#l9.122"></a><span id="l9.122">   list-style-image: url(&quot;chrome://communicator/skin/icons/close-button.gif&quot;);</span>
<a href="#l9.123"></a><span id="l9.123"> }</span>
<a href="#l9.124"></a><span id="l9.124"> </span>
<a href="#l9.125"></a><span id="l9.125" class="difflineminus">-.tabs-closebutton &gt; .toolbarbutton-icon {</span>
<a href="#l9.126"></a><span id="l9.126" class="difflineminus">-  margin: 0px;</span>
<a href="#l9.127"></a><span id="l9.127" class="difflineminus">-}</span>
<a href="#l9.128"></a><span id="l9.128" class="difflineminus">-</span>
<a href="#l9.129"></a><span id="l9.129"> .tabs-newbutton {</span>
<a href="#l9.130"></a><span id="l9.130">   margin: 0px;</span>
<a href="#l9.131"></a><span id="l9.131">   list-style-image: url(&quot;chrome://navigator/skin/icons/tab-new.gif&quot;);</span>
<a href="#l9.132"></a><span id="l9.132"> }</span>
<a href="#l9.133"></a><span id="l9.133"> </span>
<a href="#l9.134"></a><span id="l9.134"> .tab-drop-indicator-bar {</span>
<a href="#l9.135"></a><span id="l9.135">     height: 11px;</span>
<a href="#l9.136"></a><span id="l9.136">     margin-top: -11px;</span>
<a href="#l9.137"></a><span id="l9.137" class="difflineminus">-    -moz-margin-start: -8px;</span>
<a href="#l9.138"></a><span id="l9.138" class="difflineplus">+    -moz-margin-start: -6px;</span>
<a href="#l9.139"></a><span id="l9.139">     position: relative;</span>
<a href="#l9.140"></a><span id="l9.140"> }</span>
<a href="#l9.141"></a><span id="l9.141"> </span>
<a href="#l9.142"></a><span id="l9.142"> .tab-drop-indicator {</span>
<a href="#l9.143"></a><span id="l9.143">     height: 11px;</span>
<a href="#l9.144"></a><span id="l9.144">     width: 11px;</span>
<a href="#l9.145"></a><span id="l9.145">     margin-bottom: -5px;</span>
<a href="#l9.146"></a><span id="l9.146">     position: relative;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/themes/modern/navigator/tabbrowser.css</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/themes/modern/navigator/tabbrowser.css</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -15,16 +15,18 @@</span>
<a href="#l10.4"></a><span id="l10.4">  *</span>
<a href="#l10.5"></a><span id="l10.5">  * The Initial Developer of the Original Code is</span>
<a href="#l10.6"></a><span id="l10.6">  * Netscape Communications Corporation.</span>
<a href="#l10.7"></a><span id="l10.7">  * Portions created by the Initial Developer are Copyright (C) 1998</span>
<a href="#l10.8"></a><span id="l10.8">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l10.9"></a><span id="l10.9">  *</span>
<a href="#l10.10"></a><span id="l10.10">  * Contributor(s):</span>
<a href="#l10.11"></a><span id="l10.11">  *   Joe Hewitt &lt;hewitt@netscape.com&gt;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+ *   Philip Chee &lt;philip.chee@gmail.com&gt;</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+ *   Akihiro Misaki &lt;spitfire.kuden@gmail.com&gt;</span>
<a href="#l10.14"></a><span id="l10.14">  *</span>
<a href="#l10.15"></a><span id="l10.15">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l10.16"></a><span id="l10.16">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l10.17"></a><span id="l10.17">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l10.18"></a><span id="l10.18">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l10.19"></a><span id="l10.19">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l10.20"></a><span id="l10.20">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l10.21"></a><span id="l10.21">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineat">@@ -50,29 +52,97 @@</span>
<a href="#l10.23"></a><span id="l10.23"> }</span>
<a href="#l10.24"></a><span id="l10.24"> </span>
<a href="#l10.25"></a><span id="l10.25"> .tabs-left {</span>
<a href="#l10.26"></a><span id="l10.26">   width: 3px;</span>
<a href="#l10.27"></a><span id="l10.27"> }</span>
<a href="#l10.28"></a><span id="l10.28"> </span>
<a href="#l10.29"></a><span id="l10.29"> tab {</span>
<a href="#l10.30"></a><span id="l10.30">   padding: 0px 3px;</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.gif&quot;); </span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.gif&quot;);</span>
<a href="#l10.33"></a><span id="l10.33"> }</span>
<a href="#l10.34"></a><span id="l10.34"> </span>
<a href="#l10.35"></a><span id="l10.35"> tab[busy] {</span>
<a href="#l10.36"></a><span id="l10.36">   list-style-image: url(&quot;chrome://communicator/skin/icons/loading.gif&quot;);</span>
<a href="#l10.37"></a><span id="l10.37"> }</span>
<a href="#l10.38"></a><span id="l10.38"> </span>
<a href="#l10.39"></a><span id="l10.39"> .tab-icon {</span>
<a href="#l10.40"></a><span id="l10.40">   -moz-margin-end: 3px;</span>
<a href="#l10.41"></a><span id="l10.41">   width: 16px;</span>
<a href="#l10.42"></a><span id="l10.42">   height: 16px;</span>
<a href="#l10.43"></a><span id="l10.43"> }</span>
<a href="#l10.44"></a><span id="l10.44"> </span>
<a href="#l10.45"></a><span id="l10.45" class="difflineplus">+.toolbarbutton-text {</span>
<a href="#l10.46"></a><span id="l10.46" class="difflineplus">+  display: none;</span>
<a href="#l10.47"></a><span id="l10.47" class="difflineplus">+}</span>
<a href="#l10.48"></a><span id="l10.48" class="difflineplus">+</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineplus">+.toolbarbutton-icon {</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineplus">+  margin: 0px;</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineplus">+}</span>
<a href="#l10.52"></a><span id="l10.52" class="difflineplus">+</span>
<a href="#l10.53"></a><span id="l10.53" class="difflineplus">+/* ::::: Tab scrollbox arrow, and all-tabs buttons ::::: */</span>
<a href="#l10.54"></a><span id="l10.54" class="difflineplus">+</span>
<a href="#l10.55"></a><span id="l10.55" class="difflineplus">+.scrollbutton-up,</span>
<a href="#l10.56"></a><span id="l10.56" class="difflineplus">+.scrollbutton-down,</span>
<a href="#l10.57"></a><span id="l10.57" class="difflineplus">+.tabs-alltabs-button {</span>
<a href="#l10.58"></a><span id="l10.58" class="difflineplus">+  margin: 0px;</span>
<a href="#l10.59"></a><span id="l10.59" class="difflineplus">+  border-bottom: 2px solid;</span>
<a href="#l10.60"></a><span id="l10.60" class="difflineplus">+  -moz-border-bottom-colors: #000000 transparent;</span>
<a href="#l10.61"></a><span id="l10.61" class="difflineplus">+}</span>
<a href="#l10.62"></a><span id="l10.62" class="difflineplus">+</span>
<a href="#l10.63"></a><span id="l10.63" class="difflineplus">+.scrollbutton-up:not([disabled=&quot;true&quot;]):-moz-locale-dir(ltr),</span>
<a href="#l10.64"></a><span id="l10.64" class="difflineplus">+.scrollbutton-down:not([disabled=&quot;true&quot;]):-moz-locale-dir(rtl) {</span>
<a href="#l10.65"></a><span id="l10.65" class="difflineplus">+  border-right: 2px solid;</span>
<a href="#l10.66"></a><span id="l10.66" class="difflineplus">+  -moz-border-right-colors: #000000 transparent;</span>
<a href="#l10.67"></a><span id="l10.67" class="difflineplus">+}</span>
<a href="#l10.68"></a><span id="l10.68" class="difflineplus">+</span>
<a href="#l10.69"></a><span id="l10.69" class="difflineplus">+.scrollbutton-up:not([disabled=&quot;true&quot;]):-moz-locale-dir(rtl),</span>
<a href="#l10.70"></a><span id="l10.70" class="difflineplus">+.scrollbutton-down:not([disabled=&quot;true&quot;]):-moz-locale-dir(ltr) {</span>
<a href="#l10.71"></a><span id="l10.71" class="difflineplus">+  border-left: 2px solid;</span>
<a href="#l10.72"></a><span id="l10.72" class="difflineplus">+  -moz-border-left-colors: #000000 transparent;</span>
<a href="#l10.73"></a><span id="l10.73" class="difflineplus">+}</span>
<a href="#l10.74"></a><span id="l10.74" class="difflineplus">+</span>
<a href="#l10.75"></a><span id="l10.75" class="difflineplus">+.scrollbutton-down {</span>
<a href="#l10.76"></a><span id="l10.76" class="difflineplus">+  -moz-transition: background-color 1s ease-out;</span>
<a href="#l10.77"></a><span id="l10.77" class="difflineplus">+}</span>
<a href="#l10.78"></a><span id="l10.78" class="difflineplus">+</span>
<a href="#l10.79"></a><span id="l10.79" class="difflineplus">+.scrollbutton-down:hover,</span>
<a href="#l10.80"></a><span id="l10.80" class="difflineplus">+.scrollbutton-down[notifybgtab=&quot;true&quot;],</span>
<a href="#l10.81"></a><span id="l10.81" class="difflineplus">+.scrollbutton-down[disabled=&quot;true&quot;] {</span>
<a href="#l10.82"></a><span id="l10.82" class="difflineplus">+  -moz-transition: none;</span>
<a href="#l10.83"></a><span id="l10.83" class="difflineplus">+}</span>
<a href="#l10.84"></a><span id="l10.84" class="difflineplus">+</span>
<a href="#l10.85"></a><span id="l10.85" class="difflineplus">+.scrollbutton-down[notifybgtab=&quot;true&quot;] {</span>
<a href="#l10.86"></a><span id="l10.86" class="difflineplus">+  background-color: #8C9AA8;</span>
<a href="#l10.87"></a><span id="l10.87" class="difflineplus">+}</span>
<a href="#l10.88"></a><span id="l10.88" class="difflineplus">+</span>
<a href="#l10.89"></a><span id="l10.89" class="difflineplus">+.scrollbutton-up:not([disabled=&quot;true&quot;]):hover,</span>
<a href="#l10.90"></a><span id="l10.90" class="difflineplus">+.scrollbutton-down:not([disabled=&quot;true&quot;]):hover {</span>
<a href="#l10.91"></a><span id="l10.91" class="difflineplus">+  border-color: #EEF0F3;</span>
<a href="#l10.92"></a><span id="l10.92" class="difflineplus">+}</span>
<a href="#l10.93"></a><span id="l10.93" class="difflineplus">+</span>
<a href="#l10.94"></a><span id="l10.94" class="difflineplus">+.scrollbutton-up:not([disabled=&quot;true&quot;]):hover:active,</span>
<a href="#l10.95"></a><span id="l10.95" class="difflineplus">+.scrollbutton-down:not([disabled=&quot;true&quot;]):hover:active {</span>
<a href="#l10.96"></a><span id="l10.96" class="difflineplus">+  border-color: #86929E;</span>
<a href="#l10.97"></a><span id="l10.97" class="difflineplus">+  background-color: #8C9AA8;</span>
<a href="#l10.98"></a><span id="l10.98" class="difflineplus">+}</span>
<a href="#l10.99"></a><span id="l10.99" class="difflineplus">+</span>
<a href="#l10.100"></a><span id="l10.100" class="difflineplus">+/* All tabs menupopup */</span>
<a href="#l10.101"></a><span id="l10.101" class="difflineplus">+.alltabs-item {</span>
<a href="#l10.102"></a><span id="l10.102" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/bookmarks/bookmark-item.gif&quot;);</span>
<a href="#l10.103"></a><span id="l10.103" class="difflineplus">+}</span>
<a href="#l10.104"></a><span id="l10.104" class="difflineplus">+</span>
<a href="#l10.105"></a><span id="l10.105" class="difflineplus">+.alltabs-item[selected=&quot;true&quot;] {</span>
<a href="#l10.106"></a><span id="l10.106" class="difflineplus">+  font-weight: bold;</span>
<a href="#l10.107"></a><span id="l10.107" class="difflineplus">+}</span>
<a href="#l10.108"></a><span id="l10.108" class="difflineplus">+</span>
<a href="#l10.109"></a><span id="l10.109" class="difflineplus">+.alltabs-item[busy] {</span>
<a href="#l10.110"></a><span id="l10.110" class="difflineplus">+  list-style-image: url(&quot;chrome://communicator/skin/icons/loading.gif&quot;);</span>
<a href="#l10.111"></a><span id="l10.111" class="difflineplus">+}</span>
<a href="#l10.112"></a><span id="l10.112" class="difflineplus">+</span>
<a href="#l10.113"></a><span id="l10.113"> /* ::::: close button ::::: */</span>
<a href="#l10.114"></a><span id="l10.114"> </span>
<a href="#l10.115"></a><span id="l10.115"> .tabs-closebutton {</span>
<a href="#l10.116"></a><span id="l10.116">   margin: 0px 4px;</span>
<a href="#l10.117"></a><span id="l10.117">   padding: 3px 2px;</span>
<a href="#l10.118"></a><span id="l10.118">   border: none;</span>
<a href="#l10.119"></a><span id="l10.119">   list-style-image: url(&quot;chrome://global/skin/icons/close.gif&quot;);</span>
<a href="#l10.120"></a><span id="l10.120"> }</span>
<a href="#l10.121"></a><span id="l10.121" class="difflineat">@@ -106,17 +176,17 @@ tab[busy] {</span>
<a href="#l10.122"></a><span id="l10.122"> </span>
<a href="#l10.123"></a><span id="l10.123"> .tabs-newbutton:hover:active {</span>
<a href="#l10.124"></a><span id="l10.124">   list-style-image: url(&quot;chrome://navigator/skin/icons/tab-new-act.gif&quot;);</span>
<a href="#l10.125"></a><span id="l10.125"> }</span>
<a href="#l10.126"></a><span id="l10.126"> </span>
<a href="#l10.127"></a><span id="l10.127"> .tab-drop-indicator-bar {</span>
<a href="#l10.128"></a><span id="l10.128">     height: 11px;</span>
<a href="#l10.129"></a><span id="l10.129">     margin-top: -11px;</span>
<a href="#l10.130"></a><span id="l10.130" class="difflineminus">-    -moz-margin-start: -8px;</span>
<a href="#l10.131"></a><span id="l10.131" class="difflineplus">+    -moz-margin-start: -6px;</span>
<a href="#l10.132"></a><span id="l10.132">     position: relative;</span>
<a href="#l10.133"></a><span id="l10.133"> }</span>
<a href="#l10.134"></a><span id="l10.134"> </span>
<a href="#l10.135"></a><span id="l10.135"> .tab-drop-indicator {</span>
<a href="#l10.136"></a><span id="l10.136">     height: 11px;</span>
<a href="#l10.137"></a><span id="l10.137">     width: 11px;</span>
<a href="#l10.138"></a><span id="l10.138">     margin-bottom: -5px;</span>
<a href="#l10.139"></a><span id="l10.139">     position: relative;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

