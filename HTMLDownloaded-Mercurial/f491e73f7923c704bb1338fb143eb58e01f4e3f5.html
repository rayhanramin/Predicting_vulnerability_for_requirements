<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 1752:f491e73f7923c704bb1338fb143eb58e01f4e3f5</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ f491e73f7923c704bb1338fb143eb58e01f4e3f5" />
<meta property="og:url" content="/comm-central/rev/f491e73f7923c704bb1338fb143eb58e01f4e3f5" />
<meta property="og:description" content="Bug 474361 -  remove and rename calendar-decorated panes;r=philipp" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / f491e73f7923c704bb1338fb143eb58e01f4e3f5 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/f491e73f7923c704bb1338fb143eb58e01f4e3f5">shortlog</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/f491e73f7923c704bb1338fb143eb58e01f4e3f5">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5">files</a> |
changeset |
<a href="/comm-central/raw-rev/f491e73f7923c704bb1338fb143eb58e01f4e3f5">raw</a>  | <a href="/comm-central/archive/f491e73f7923c704bb1338fb143eb58e01f4e3f5.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=474361">Bug 474361</a> -  remove and rename calendar-decorated panes;r=philipp
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#66;&#101;&#114;&#101;&#110;&#100;&#32;&#67;&#111;&#114;&#110;&#101;&#108;&#105;&#117;&#115;&#32;&#91;&#58;&#98;&#101;&#114;&#101;&#110;&#100;&#93;&#32;&#60;&#98;&#101;&#114;&#101;&#110;&#100;&#46;&#99;&#111;&#114;&#110;&#101;&#108;&#105;&#117;&#115;&#64;&#115;&#117;&#110;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 26 Jan 2009 11:10:01 +0100</td></tr>

<tr>
 <td>changeset 1752</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/f491e73f7923c704bb1338fb143eb58e01f4e3f5">f491e73f7923c704bb1338fb143eb58e01f4e3f5</a></td>
</tr>



<tr>
<td>parent 1751</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f2ec73c00ef5a5c4f40642aaacd0e5cc4d6babfd">f2ec73c00ef5a5c4f40642aaacd0e5cc4d6babfd</a>
</td>
</tr>

<tr>
<td>child 1753</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/848ca565d94e5834a37e77ee8717f742137513ab">848ca565d94e5834a37e77ee8717f742137513ab</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=f491e73f7923c704bb1338fb143eb58e01f4e3f5">1406</a></td></tr>
<tr><td>push user</td><td>Berend.Cornelius@sun.com</td></tr>
<tr><td>push date</td><td class="date age">Mon, 26 Jan 2009 10:10:21 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@f491e73f7923 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f491e73f7923c704bb1338fb143eb58e01f4e3f5">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f491e73f7923c704bb1338fb143eb58e01f4e3f5&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f491e73f7923c704bb1338fb143eb58e01f4e3f5&newProject=comm-central&newRevision=f491e73f7923c704bb1338fb143eb58e01f4e3f5&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f491e73f7923c704bb1338fb143eb58e01f4e3f5&newProject=comm-central&newRevision=f491e73f7923c704bb1338fb143eb58e01f4e3f5&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f491e73f7923c704bb1338fb143eb58e01f4e3f5&newProject=comm-central&newRevision=f491e73f7923c704bb1338fb143eb58e01f4e3f5&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28philipp%29&revcount=50">philipp</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=474361">474361</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=474361">Bug 474361</a> -  remove and rename calendar-decorated panes;r=philipp</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-bindings.css">calendar/base/content/calendar-bindings.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-bindings.css">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-bindings.css">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-bindings.css">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-bindings.css">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-bindings.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-base.xml">calendar/base/content/calendar-decorated-base.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-base.xml">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-base.xml">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-base.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-day-view.xml">calendar/base/content/calendar-decorated-day-view.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-day-view.xml">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-day-view.xml">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-day-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-month-view.xml">calendar/base/content/calendar-decorated-month-view.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-month-view.xml">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-month-view.xml">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-month-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-multiday-base-view.xml">calendar/base/content/calendar-decorated-multiday-base-view.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-multiday-base-view.xml">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-multiday-base-view.xml">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-multiday-base-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-multiweek-view.xml">calendar/base/content/calendar-decorated-multiweek-view.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-multiweek-view.xml">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-multiweek-view.xml">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-multiweek-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-week-view.xml">calendar/base/content/calendar-decorated-week-view.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-week-view.xml">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-week-view.xml">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-decorated-week-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-month-view.xml">calendar/base/content/calendar-month-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-month-view.xml">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-month-view.xml">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-month-view.xml">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-month-view.xml">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-month-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-multiday-view.xml">calendar/base/content/calendar-multiday-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-multiday-view.xml">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-multiday-view.xml">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-multiday-view.xml">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-multiday-view.xml">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-multiday-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-view-bindings.css">calendar/base/content/calendar-view-bindings.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-view-bindings.css">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-view-bindings.css">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-view-bindings.css">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-view-bindings.css">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-view-bindings.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-views.xul">calendar/base/content/calendar-views.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-views.xul">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-views.xul">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-views.xul">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-views.xul">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/content/calendar-views.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/jar.mn">calendar/base/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/jar.mn">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/jar.mn">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/jar.mn">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/jar.mn">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/public/calICalendarView.idl">calendar/base/public/calICalendarView.idl</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/public/calICalendarView.idl">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/public/calICalendarView.idl">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/public/calICalendarView.idl">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/public/calICalendarView.idl">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/public/calICalendarView.idl">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/pinstripe/calendar-views.css">calendar/base/themes/pinstripe/calendar-views.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/pinstripe/calendar-views.css">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/pinstripe/calendar-views.css">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/pinstripe/calendar-views.css">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/pinstripe/calendar-views.css">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/pinstripe/calendar-views.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/winstripe/calendar-views.css">calendar/base/themes/winstripe/calendar-views.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/winstripe/calendar-views.css">file</a> |
<a href="/comm-central/annotate/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/winstripe/calendar-views.css">annotate</a> |
<a href="/comm-central/diff/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/winstripe/calendar-views.css">diff</a> |
<a href="/comm-central/comparison/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/winstripe/calendar-views.css">comparison</a> |
<a href="/comm-central/log/f491e73f7923c704bb1338fb143eb58e01f4e3f5/calendar/base/themes/winstripe/calendar-views.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/calendar-bindings.css</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/calendar-bindings.css</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -32,38 +32,31 @@</span>
<a href="#l1.4"></a><span id="l1.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l1.5"></a><span id="l1.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l1.6"></a><span id="l1.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l1.7"></a><span id="l1.7">  *</span>
<a href="#l1.8"></a><span id="l1.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-calendar-decorated-multiday-base-view {</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-  -moz-binding: url(chrome://calendar/content/calendar-decorated-multiday-base-view.xml#calendar-decorated-multiday-base-view);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-}</span>
<a href="#l1.15"></a><span id="l1.15"> </span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-calendar-decorated-month-view-parent {</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-  -moz-binding: url(chrome://calendar/content/calendar-decorated-month-view.xml#calendar-decorated-month-view-parent);</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+calendar-day-view { </span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+  -moz-binding: url(chrome://calendar/content/calendar-views.xml#calendar-day-view);</span>
<a href="#l1.20"></a><span id="l1.20"> }</span>
<a href="#l1.21"></a><span id="l1.21"> </span>
<a href="#l1.22"></a><span id="l1.22" class="difflineminus">-calendar-decorated-month-view {</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineminus">-  -moz-binding: url(chrome://calendar/content/calendar-decorated-month-view.xml#calendar-decorated-month-view);</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+calendar-week-view { </span>
<a href="#l1.25"></a><span id="l1.25" class="difflineplus">+  -moz-binding: url(chrome://calendar/content/calendar-views.xml#calendar-week-view);</span>
<a href="#l1.26"></a><span id="l1.26"> }</span>
<a href="#l1.27"></a><span id="l1.27"> </span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">-calendar-decorated-day-view { </span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-  -moz-binding: url(chrome://calendar/content/calendar-decorated-day-view.xml#calendar-decorated-day-view);</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+calendar-multiweek-view { </span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+  -moz-binding: url(chrome://calendar/content/calendar-views.xml#calendar-multiweek-view);</span>
<a href="#l1.32"></a><span id="l1.32"> }</span>
<a href="#l1.33"></a><span id="l1.33"> </span>
<a href="#l1.34"></a><span id="l1.34" class="difflineminus">-calendar-decorated-week-view { </span>
<a href="#l1.35"></a><span id="l1.35" class="difflineminus">-  -moz-binding: url(chrome://calendar/content/calendar-decorated-week-view.xml#calendar-decorated-week-view);</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineminus">-}</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineminus">-</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineminus">-calendar-decorated-multiweek-view { </span>
<a href="#l1.39"></a><span id="l1.39" class="difflineminus">-  -moz-binding: url(chrome://calendar/content/calendar-decorated-multiweek-view.xml#calendar-decorated-multiweek-view);</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+calendar-month-view {</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineplus">+  -moz-binding: url(chrome://calendar/content/calendar-views.xml#calendar-month-view);</span>
<a href="#l1.42"></a><span id="l1.42"> }</span>
<a href="#l1.43"></a><span id="l1.43"> </span>
<a href="#l1.44"></a><span id="l1.44"> calendar-task-tree { </span>
<a href="#l1.45"></a><span id="l1.45">   -moz-binding: url(chrome://calendar/content/calendar-task-tree.xml#calendar-task-tree);</span>
<a href="#l1.46"></a><span id="l1.46"> }</span>
<a href="#l1.47"></a><span id="l1.47"> </span>
<a href="#l1.48"></a><span id="l1.48"> menupopup[type=&quot;task-progress&quot;] &gt; arrowscrollbox {</span>
<a href="#l1.49"></a><span id="l1.49">   -moz-binding: url(chrome://calendar/content/calendar-menus.xml#task-progress-menupopup);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">deleted file mode 100644</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineminus">--- a/calendar/base/content/calendar-decorated-base.xml</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineplus">+++ /dev/null</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineat">@@ -1,307 +0,0 @@</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l2.6"></a><span id="l2.6" class="difflineminus">-&lt;!--</span>
<a href="#l2.7"></a><span id="l2.7" class="difflineminus">-   - ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l2.8"></a><span id="l2.8" class="difflineminus">-   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineminus">-   -</span>
<a href="#l2.10"></a><span id="l2.10" class="difflineminus">-   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineminus">-   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-   - the License. You may obtain a copy of the License at</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-   - http://www.mozilla.org/MPL/</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-   -</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-   - for the specific language governing rights and limitations under the</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-   - License.</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-   -</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-   - The Original Code is Calendar view code.</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-   -</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-   -   Joey Minta &lt;jminta@gmail.com&gt;</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-   - the Initial Developer. All Rights Reserved.</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineminus">-   -</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineminus">-   - Contributor(s):</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-   -   Markus Adrario &lt;MarkusAdrario@web.de&gt;</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-   -   Philipp Kewisch &lt;mozilla@kewis.ch&gt;</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-   -   Berend Cornelius &lt;berend.cornelius@sun.com&gt;</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-   -</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-   - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-   - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineminus">-   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineminus">-   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineminus">-   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineminus">-   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineminus">-   -</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineminus">-   - ***** END LICENSE BLOCK *****</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineminus">---&gt;</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-&lt;!DOCTYPE bindings SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineminus">-&lt;bindings id=&quot;calendar-specific-view-bindings&quot;</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-    xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-    xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineminus">-    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineminus">-    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineminus">-</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineminus">-    &lt;binding id=&quot;calendar-decorated-base-view&quot;&gt;</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-        &lt;implementation implements=&quot;calIDecoratedView&quot;&gt;</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineminus">-          &lt;field name=&quot;mRelayoutHandler&quot;&gt;null&lt;/field&gt;;</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-          &lt;field name=&quot;mRangeStartDate&quot;&gt;null&lt;/field&gt;;</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-          &lt;field name=&quot;mRangeEndDate&quot;&gt;null&lt;/field&gt;;</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineminus">-          &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-            const kWorkdaysCommand = &quot;calendar_toggle_workdays_only_command&quot;;</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-            const kTasksInViewCommand = &quot;calendar_toggle_tasks_in_view_command&quot;;</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-            const kShowCompleted = &quot;calendar_toggle_show_completed_in_view_command&quot;;</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-            const kOrientation = &quot;calendar_toggle_orientation_command&quot;;</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineminus">-</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineminus">-            this.workdaysOnly = (document.getElementById(kWorkdaysCommand)</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineminus">-                                    .getAttribute(&quot;checked&quot;) == &quot;true&quot;);</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineminus">-            this.tasksInView = (document.getElementById(kTasksInViewCommand)</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineminus">-                                    .getAttribute(&quot;checked&quot;) == &quot;true&quot;);</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineminus">-            this.rotated = (document.getElementById(kOrientation)</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-                                    .getAttribute(&quot;checked&quot;) == &quot;true&quot;);</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineminus">-            this.showCompleted = (document.getElementById(kShowCompleted)</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineminus">-                                    .getAttribute(&quot;checked&quot;) == &quot;true&quot;);</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineminus">-            this.viewElem.setAttribute(&quot;type&quot;, this.type);</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineminus">-          ]]&gt;&lt;/constructor&gt;</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineminus">-            &lt;field name=&quot;mTasksInView&quot;&gt;false&lt;/field&gt;</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineminus">-            &lt;field name=&quot;mShowCompleted&quot;&gt;false&lt;/field&gt;</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineminus">-            &lt;field name=&quot;mWorkdaysOnly&quot;&gt;false&lt;/field&gt;</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineminus">-</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineminus">-            &lt;property name=&quot;workdaysOnly&quot;&gt;</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineminus">-                    return this.mWorkdaysOnly;</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-                &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineminus">-                    this.mWorkdaysOnly = val;</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineminus">-                    return val;</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineminus">-                ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.88"></a><span id="l2.88" class="difflineminus">-            &lt;property name=&quot;type&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineminus">-                    let typelist = this.id.split(&quot;-&quot;);</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineminus">-                    return typelist[0];</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineminus">-</span>
<a href="#l2.95"></a><span id="l2.95" class="difflineminus">-            &lt;property name=&quot;initialized&quot;&gt;</span>
<a href="#l2.96"></a><span id="l2.96" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.97"></a><span id="l2.97" class="difflineminus">-                    var retval;</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineminus">-</span>
<a href="#l2.99"></a><span id="l2.99" class="difflineminus">-                    // Some views throw when accessing an uninitialized startDay</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineminus">-                    try {</span>
<a href="#l2.101"></a><span id="l2.101" class="difflineminus">-                        retval = this.displayCalendar &amp;&amp; this.startDay</span>
<a href="#l2.102"></a><span id="l2.102" class="difflineminus">-                                 &amp;&amp; this.endDay;</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-                    } catch(ex) {</span>
<a href="#l2.104"></a><span id="l2.104" class="difflineminus">-                        return false;</span>
<a href="#l2.105"></a><span id="l2.105" class="difflineminus">-                    }</span>
<a href="#l2.106"></a><span id="l2.106" class="difflineminus">-                    return retval;</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.109"></a><span id="l2.109" class="difflineminus">-</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-            &lt;property name=&quot;viewElem&quot;&gt;</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineminus">-                    return document.getAnonymousElementByAttribute(</span>
<a href="#l2.113"></a><span id="l2.113" class="difflineminus">-                           this, &quot;anonid&quot;, &quot;view-element&quot;);</span>
<a href="#l2.114"></a><span id="l2.114" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.115"></a><span id="l2.115" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineminus">-</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineminus">-            &lt;method name=&quot;getSelectedItems&quot;&gt;</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineminus">-                &lt;parameter name=&quot;aCount&quot;/&gt;</span>
<a href="#l2.119"></a><span id="l2.119" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-                    var selectedItems = this.viewElem.getSelectedItems({});</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineminus">-                    aCount.value = selectedItems.length;</span>
<a href="#l2.122"></a><span id="l2.122" class="difflineminus">-                    return selectedItems;</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l2.124"></a><span id="l2.124" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineminus">-            &lt;method name=&quot;setSelectedItems&quot;&gt;</span>
<a href="#l2.126"></a><span id="l2.126" class="difflineminus">-                &lt;parameter name=&quot;aCount&quot;/&gt;</span>
<a href="#l2.127"></a><span id="l2.127" class="difflineminus">-                &lt;parameter name=&quot;aItems&quot;/&gt;</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineminus">-                &lt;parameter name=&quot;aSuppressEvent&quot;/&gt;</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineminus">-                    this.viewElem.setSelectedItems(aCount, aItems, aSuppressEvent);</span>
<a href="#l2.131"></a><span id="l2.131" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l2.132"></a><span id="l2.132" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineminus">-</span>
<a href="#l2.134"></a><span id="l2.134" class="difflineminus">-            &lt;method name=&quot;centerSelectedItems&quot;&gt;</span>
<a href="#l2.135"></a><span id="l2.135" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.136"></a><span id="l2.136" class="difflineminus">-                    this.viewElem.centerSelectedItems();</span>
<a href="#l2.137"></a><span id="l2.137" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l2.139"></a><span id="l2.139" class="difflineminus">-            &lt;method name=&quot;removeDropShadows&quot;&gt;</span>
<a href="#l2.140"></a><span id="l2.140" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.141"></a><span id="l2.141" class="difflineminus">-                    this.viewElem.removeDropShadows();</span>
<a href="#l2.142"></a><span id="l2.142" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l2.143"></a><span id="l2.143" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l2.144"></a><span id="l2.144" class="difflineminus">-</span>
<a href="#l2.145"></a><span id="l2.145" class="difflineminus">-            &lt;property name=&quot;selectedDay&quot;&gt;</span>
<a href="#l2.146"></a><span id="l2.146" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.147"></a><span id="l2.147" class="difflineminus">-                    return this.viewElem.selectedDay;</span>
<a href="#l2.148"></a><span id="l2.148" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.149"></a><span id="l2.149" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.150"></a><span id="l2.150" class="difflineminus">-</span>
<a href="#l2.151"></a><span id="l2.151" class="difflineminus">-            &lt;property name=&quot;rotated&quot;&gt;</span>
<a href="#l2.152"></a><span id="l2.152" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.153"></a><span id="l2.153" class="difflineminus">-                    return (this.viewElem.orient == 'horizontal');</span>
<a href="#l2.154"></a><span id="l2.154" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.155"></a><span id="l2.155" class="difflineminus">-                &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.156"></a><span id="l2.156" class="difflineminus">-                    this.viewElem.orient = (val ? 'horizontal' : 'vertical');</span>
<a href="#l2.157"></a><span id="l2.157" class="difflineminus">-                    return val;</span>
<a href="#l2.158"></a><span id="l2.158" class="difflineminus">-                ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.159"></a><span id="l2.159" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.160"></a><span id="l2.160" class="difflineminus">-</span>
<a href="#l2.161"></a><span id="l2.161" class="difflineminus">-            &lt;property name=&quot;tasksInView&quot;&gt;</span>
<a href="#l2.162"></a><span id="l2.162" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.163"></a><span id="l2.163" class="difflineminus">-                    return this.mTasksInView;</span>
<a href="#l2.164"></a><span id="l2.164" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.165"></a><span id="l2.165" class="difflineminus">-                &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.166"></a><span id="l2.166" class="difflineminus">-                    this.mTasksInView = val;</span>
<a href="#l2.167"></a><span id="l2.167" class="difflineminus">-                    return val;</span>
<a href="#l2.168"></a><span id="l2.168" class="difflineminus">-                ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.169"></a><span id="l2.169" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.170"></a><span id="l2.170" class="difflineminus">-</span>
<a href="#l2.171"></a><span id="l2.171" class="difflineminus">-            &lt;property name=&quot;showCompleted&quot;&gt;</span>
<a href="#l2.172"></a><span id="l2.172" class="difflineminus">-              &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.173"></a><span id="l2.173" class="difflineminus">-                return this.mShowCompleted;</span>
<a href="#l2.174"></a><span id="l2.174" class="difflineminus">-              ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.175"></a><span id="l2.175" class="difflineminus">-              &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.176"></a><span id="l2.176" class="difflineminus">-                this.mShowCompleted = val;</span>
<a href="#l2.177"></a><span id="l2.177" class="difflineminus">-                return val;</span>
<a href="#l2.178"></a><span id="l2.178" class="difflineminus">-              ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.179"></a><span id="l2.179" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.180"></a><span id="l2.180" class="difflineminus">-</span>
<a href="#l2.181"></a><span id="l2.181" class="difflineminus">-          &lt;property name=&quot;controller&quot;&gt;</span>
<a href="#l2.182"></a><span id="l2.182" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.183"></a><span id="l2.183" class="difflineminus">-                    return this.viewElem.controller;</span>
<a href="#l2.184"></a><span id="l2.184" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.185"></a><span id="l2.185" class="difflineminus">-                &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.186"></a><span id="l2.186" class="difflineminus">-                    this.viewElem.controller = val;</span>
<a href="#l2.187"></a><span id="l2.187" class="difflineminus">-                    return val;</span>
<a href="#l2.188"></a><span id="l2.188" class="difflineminus">-                ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.189"></a><span id="l2.189" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineminus">-</span>
<a href="#l2.191"></a><span id="l2.191" class="difflineminus">-            &lt;property name=&quot;displayCalendar&quot;&gt;</span>
<a href="#l2.192"></a><span id="l2.192" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.193"></a><span id="l2.193" class="difflineminus">-                    return this.viewElem.displayCalendar;</span>
<a href="#l2.194"></a><span id="l2.194" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.195"></a><span id="l2.195" class="difflineminus">-                &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.196"></a><span id="l2.196" class="difflineminus">-                    this.viewElem.displayCalendar = val;</span>
<a href="#l2.197"></a><span id="l2.197" class="difflineminus">-                    return val;</span>
<a href="#l2.198"></a><span id="l2.198" class="difflineminus">-                ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.199"></a><span id="l2.199" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.200"></a><span id="l2.200" class="difflineminus">-</span>
<a href="#l2.201"></a><span id="l2.201" class="difflineminus">-            &lt;property name=&quot;timezone&quot;&gt;</span>
<a href="#l2.202"></a><span id="l2.202" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.203"></a><span id="l2.203" class="difflineminus">-                    return this.viewElem.timezone;</span>
<a href="#l2.204"></a><span id="l2.204" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.205"></a><span id="l2.205" class="difflineminus">-                &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.206"></a><span id="l2.206" class="difflineminus">-                    this.viewElem.timezone = val;</span>
<a href="#l2.207"></a><span id="l2.207" class="difflineminus">-                    return val;</span>
<a href="#l2.208"></a><span id="l2.208" class="difflineminus">-                ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.209"></a><span id="l2.209" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.210"></a><span id="l2.210" class="difflineminus">-</span>
<a href="#l2.211"></a><span id="l2.211" class="difflineminus">-            &lt;property name=&quot;selectionObserver&quot;&gt;</span>
<a href="#l2.212"></a><span id="l2.212" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.213"></a><span id="l2.213" class="difflineminus">-                    return this.viewElem.mSelectionObserver;</span>
<a href="#l2.214"></a><span id="l2.214" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.215"></a><span id="l2.215" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.216"></a><span id="l2.216" class="difflineminus">-</span>
<a href="#l2.217"></a><span id="l2.217" class="difflineminus">-            &lt;property name=&quot;startDay&quot;&gt;</span>
<a href="#l2.218"></a><span id="l2.218" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.219"></a><span id="l2.219" class="difflineminus">-                    return this.viewElem.startDate;</span>
<a href="#l2.220"></a><span id="l2.220" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.221"></a><span id="l2.221" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.222"></a><span id="l2.222" class="difflineminus">-</span>
<a href="#l2.223"></a><span id="l2.223" class="difflineminus">-            &lt;property name=&quot;endDay&quot;&gt;</span>
<a href="#l2.224"></a><span id="l2.224" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.225"></a><span id="l2.225" class="difflineminus">-                    return this.viewElem.endDate;</span>
<a href="#l2.226"></a><span id="l2.226" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.227"></a><span id="l2.227" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.228"></a><span id="l2.228" class="difflineminus">-            &lt;property name=&quot;rangeStartDate&quot;&gt;</span>
<a href="#l2.229"></a><span id="l2.229" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.230"></a><span id="l2.230" class="difflineminus">-                    return this.mRangeStartDate;</span>
<a href="#l2.231"></a><span id="l2.231" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.232"></a><span id="l2.232" class="difflineminus">-              &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.233"></a><span id="l2.233" class="difflineminus">-                return (this.mRangeStartDate = val);</span>
<a href="#l2.234"></a><span id="l2.234" class="difflineminus">-              ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.235"></a><span id="l2.235" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.236"></a><span id="l2.236" class="difflineminus">-            &lt;property name=&quot;rangeEndDate&quot;&gt;</span>
<a href="#l2.237"></a><span id="l2.237" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.238"></a><span id="l2.238" class="difflineminus">-                    return this.mRangeEndDate;</span>
<a href="#l2.239"></a><span id="l2.239" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.240"></a><span id="l2.240" class="difflineminus">-              &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l2.241"></a><span id="l2.241" class="difflineminus">-                this.mRangeEndDate = val;</span>
<a href="#l2.242"></a><span id="l2.242" class="difflineminus">-                return val;</span>
<a href="#l2.243"></a><span id="l2.243" class="difflineminus">-              ]]&gt;&lt;/setter&gt;</span>
<a href="#l2.244"></a><span id="l2.244" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.245"></a><span id="l2.245" class="difflineminus">-</span>
<a href="#l2.246"></a><span id="l2.246" class="difflineminus">-            &lt;property name=&quot;observerID&quot;&gt;</span>
<a href="#l2.247"></a><span id="l2.247" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l2.248"></a><span id="l2.248" class="difflineminus">-                    return &quot;base-view-observer&quot;;</span>
<a href="#l2.249"></a><span id="l2.249" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l2.250"></a><span id="l2.250" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l2.251"></a><span id="l2.251" class="difflineminus">-</span>
<a href="#l2.252"></a><span id="l2.252" class="difflineminus">-            &lt;!--Public methods--&gt;</span>
<a href="#l2.253"></a><span id="l2.253" class="difflineminus">-            &lt;method name=&quot;goToDay&quot;&gt;</span>
<a href="#l2.254"></a><span id="l2.254" class="difflineminus">-                &lt;parameter name=&quot;aDate&quot;/&gt;</span>
<a href="#l2.255"></a><span id="l2.255" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.256"></a><span id="l2.256" class="difflineminus">-                    this.viewElem.showDate(aDate);</span>
<a href="#l2.257"></a><span id="l2.257" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l2.258"></a><span id="l2.258" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l2.259"></a><span id="l2.259" class="difflineminus">-            &lt;method name=&quot;moveView&quot;&gt;</span>
<a href="#l2.260"></a><span id="l2.260" class="difflineminus">-                &lt;parameter name=&quot;aNumber&quot;/&gt;</span>
<a href="#l2.261"></a><span id="l2.261" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.262"></a><span id="l2.262" class="difflineminus">-                    throw NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l2.263"></a><span id="l2.263" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l2.264"></a><span id="l2.264" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l2.265"></a><span id="l2.265" class="difflineminus">-            &lt;method name=&quot;setDateRange&quot;&gt;</span>
<a href="#l2.266"></a><span id="l2.266" class="difflineminus">-                &lt;parameter name=&quot;aStartDate&quot;/&gt;</span>
<a href="#l2.267"></a><span id="l2.267" class="difflineminus">-                &lt;parameter name=&quot;aEndDate&quot;/&gt;</span>
<a href="#l2.268"></a><span id="l2.268" class="difflineminus">-                &lt;parameter name=&quot;aToolTipTexts&quot;/&gt;</span>
<a href="#l2.269"></a><span id="l2.269" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.270"></a><span id="l2.270" class="difflineminus">-                    this.rangeStartDate = aStartDate;</span>
<a href="#l2.271"></a><span id="l2.271" class="difflineminus">-                    this.rangeEndDate = aEndDate;</span>
<a href="#l2.272"></a><span id="l2.272" class="difflineminus">-                    var viewElement = this.viewElem;</span>
<a href="#l2.273"></a><span id="l2.273" class="difflineminus">-                    viewElement.tasksInView = this.mTasksInView;</span>
<a href="#l2.274"></a><span id="l2.274" class="difflineminus">-                    viewElement.showCompleted = this.mShowCompleted;</span>
<a href="#l2.275"></a><span id="l2.275" class="difflineminus">-                    cal.navigationBar.setDateRange(this.rangeStartDate, this.rangeEndDate, aToolTipTexts);</span>
<a href="#l2.276"></a><span id="l2.276" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l2.277"></a><span id="l2.277" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l2.278"></a><span id="l2.278" class="difflineminus">-            &lt;method name=&quot;getRangeDescription&quot;&gt;</span>
<a href="#l2.279"></a><span id="l2.279" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l2.280"></a><span id="l2.280" class="difflineminus">-                    return getDateFormatter().formatInterval(this.rangeStartDate, this.rangeEndDate);</span>
<a href="#l2.281"></a><span id="l2.281" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l2.282"></a><span id="l2.282" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l2.283"></a><span id="l2.283" class="difflineminus">-        &lt;/implementation&gt;</span>
<a href="#l2.284"></a><span id="l2.284" class="difflineminus">-        &lt;handlers&gt;</span>
<a href="#l2.285"></a><span id="l2.285" class="difflineminus">-          &lt;handler event=&quot;move&quot;&gt;</span>
<a href="#l2.286"></a><span id="l2.286" class="difflineminus">-            &lt;![CDATA[</span>
<a href="#l2.287"></a><span id="l2.287" class="difflineminus">-              this.moveView(event.detail);</span>
<a href="#l2.288"></a><span id="l2.288" class="difflineminus">-            ]]&gt;</span>
<a href="#l2.289"></a><span id="l2.289" class="difflineminus">-          &lt;/handler&gt;</span>
<a href="#l2.290"></a><span id="l2.290" class="difflineminus">-          &lt;handler event=&quot;keypress&quot;&gt;&lt;![CDATA[</span>
<a href="#l2.291"></a><span id="l2.291" class="difflineminus">-            const kKE = Components.interfaces.nsIDOMKeyEvent;</span>
<a href="#l2.292"></a><span id="l2.292" class="difflineminus">-            switch (event.keyCode) {</span>
<a href="#l2.293"></a><span id="l2.293" class="difflineminus">-                case kKE.DOM_VK_PAGE_UP:</span>
<a href="#l2.294"></a><span id="l2.294" class="difflineminus">-                    this.moveView(-1);</span>
<a href="#l2.295"></a><span id="l2.295" class="difflineminus">-                    break;</span>
<a href="#l2.296"></a><span id="l2.296" class="difflineminus">-                case kKE.DOM_VK_PAGE_DOWN:</span>
<a href="#l2.297"></a><span id="l2.297" class="difflineminus">-                    this.moveView(1);</span>
<a href="#l2.298"></a><span id="l2.298" class="difflineminus">-                    break;</span>
<a href="#l2.299"></a><span id="l2.299" class="difflineminus">-            }</span>
<a href="#l2.300"></a><span id="l2.300" class="difflineminus">-          ]]&gt;&lt;/handler&gt;</span>
<a href="#l2.301"></a><span id="l2.301" class="difflineminus">-          &lt;handler event=&quot;DOMMouseScroll&quot;&gt;&lt;![CDATA[</span>
<a href="#l2.302"></a><span id="l2.302" class="difflineminus">-            if (event.shiftKey) {</span>
<a href="#l2.303"></a><span id="l2.303" class="difflineminus">-                this.moveView(event.detail &lt; 0 ? -1 : 1);</span>
<a href="#l2.304"></a><span id="l2.304" class="difflineminus">-            }</span>
<a href="#l2.305"></a><span id="l2.305" class="difflineminus">-</span>
<a href="#l2.306"></a><span id="l2.306" class="difflineminus">-            // Prevent default scroll handling</span>
<a href="#l2.307"></a><span id="l2.307" class="difflineminus">-            event.preventDefault();</span>
<a href="#l2.308"></a><span id="l2.308" class="difflineminus">-          ]]&gt;&lt;/handler&gt;</span>
<a href="#l2.309"></a><span id="l2.309" class="difflineminus">-        &lt;/handlers&gt;</span>
<a href="#l2.310"></a><span id="l2.310" class="difflineminus">-    &lt;/binding&gt;</span>
<a href="#l2.311"></a><span id="l2.311" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">deleted file mode 100644</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineminus">--- a/calendar/base/content/calendar-decorated-day-view.xml</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineplus">+++ /dev/null</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineat">@@ -1,85 +0,0 @@</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l3.6"></a><span id="l3.6" class="difflineminus">-&lt;!--</span>
<a href="#l3.7"></a><span id="l3.7" class="difflineminus">-   - ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l3.8"></a><span id="l3.8" class="difflineminus">-   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineminus">-   -</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineminus">-   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineminus">-   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-   - the License. You may obtain a copy of the License at</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-   - http://www.mozilla.org/MPL/</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-   -</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineminus">-   - for the specific language governing rights and limitations under the</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-   - License.</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">-   -</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-   - The Original Code is Calendar view code.</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-   -</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineminus">-   -   Joey Minta &lt;jminta@gmail.com&gt;</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineminus">-   - the Initial Developer. All Rights Reserved.</span>
<a href="#l3.26"></a><span id="l3.26" class="difflineminus">-   -</span>
<a href="#l3.27"></a><span id="l3.27" class="difflineminus">-   - Contributor(s):</span>
<a href="#l3.28"></a><span id="l3.28" class="difflineminus">-   -   Dan Mosedale &lt;dan.mosedale@oracle.com&gt;</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-   -   Berend Cornelius &lt;berend.cornelius@sun.com&gt;</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-   -</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-   - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-   - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineminus">-   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineminus">-   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineminus">-   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineminus">-   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineminus">-   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineminus">-   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineminus">-   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineminus">-   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineminus">-   -</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineminus">-   - ***** END LICENSE BLOCK *****</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineminus">---&gt;</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineminus">-</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineminus">-&lt;!-- Note that this file depends on helper functions in calUtils.js--&gt;</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineminus">-</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineminus">-&lt;bindings id=&quot;calendar-specific-view-bindings&quot;</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineminus">-    xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineminus">-    xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineminus">-    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l3.52"></a><span id="l3.52" class="difflineminus">-    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l3.53"></a><span id="l3.53" class="difflineminus">-</span>
<a href="#l3.54"></a><span id="l3.54" class="difflineminus">-    &lt;binding id=&quot;calendar-decorated-day-view&quot;</span>
<a href="#l3.55"></a><span id="l3.55" class="difflineminus">-             extends=&quot;chrome://calendar/content/calendar-decorated-multiday-base-view.xml#calendar-decorated-multiday-base-view&quot;&gt;</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-        &lt;implementation implements=&quot;calICalendarView&quot;&gt;</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineminus">-            &lt;property name=&quot;observerID&quot;&gt;</span>
<a href="#l3.58"></a><span id="l3.58" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineminus">-                    return &quot;day-view-observer&quot;;</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineminus">-</span>
<a href="#l3.63"></a><span id="l3.63" class="difflineminus">-            &lt;!--Public methods--&gt;</span>
<a href="#l3.64"></a><span id="l3.64" class="difflineminus">-            &lt;method name=&quot;goToDay&quot;&gt;</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineminus">-                &lt;parameter name=&quot;aDate&quot;/&gt;</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l3.67"></a><span id="l3.67" class="difflineminus">-                    aDate = aDate.getInTimezone(this.timezone);</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-                    this.setDateRange(aDate, aDate);</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-                    var toolTips = calGetStringArray(&quot;calendar&quot;,</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineminus">-                                                      [&quot;oneDayBack&quot;, &quot;gotoToday&quot;, &quot;oneDayForward&quot;]);</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineminus">-                    cal.navigationBar.setDateRange(aDate, aDate, toolTips);</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineminus">-                    this.selectedDay = aDate;</span>
<a href="#l3.73"></a><span id="l3.73" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l3.74"></a><span id="l3.74" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineminus">-            &lt;method name=&quot;moveView&quot;&gt;</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineminus">-                &lt;parameter name=&quot;aNumber&quot;/&gt;</span>
<a href="#l3.77"></a><span id="l3.77" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineminus">-                    if (!aNumber) {</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineminus">-                        this.goToDay(now());</span>
<a href="#l3.80"></a><span id="l3.80" class="difflineminus">-                    } else {</span>
<a href="#l3.81"></a><span id="l3.81" class="difflineminus">-                        var currentDay = this.startDay.clone();</span>
<a href="#l3.82"></a><span id="l3.82" class="difflineminus">-                        currentDay.day += aNumber;</span>
<a href="#l3.83"></a><span id="l3.83" class="difflineminus">-                        this.goToDay(currentDay);</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineminus">-                    }</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l3.86"></a><span id="l3.86" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l3.87"></a><span id="l3.87" class="difflineminus">-        &lt;/implementation&gt;</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineminus">-    &lt;/binding&gt;</span>
<a href="#l3.89"></a><span id="l3.89" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">deleted file mode 100644</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineminus">--- a/calendar/base/content/calendar-decorated-month-view.xml</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineplus">+++ /dev/null</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineat">@@ -1,189 +0,0 @@</span>
<a href="#l4.5"></a><span id="l4.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l4.6"></a><span id="l4.6" class="difflineminus">-&lt;!--</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineminus">-   - ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l4.8"></a><span id="l4.8" class="difflineminus">-   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l4.9"></a><span id="l4.9" class="difflineminus">-   -</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineminus">-   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineminus">-   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-   - the License. You may obtain a copy of the License at</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-   - http://www.mozilla.org/MPL/</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-   -</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineminus">-   - for the specific language governing rights and limitations under the</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineminus">-   - License.</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineminus">-   -</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineminus">-   - The Original Code is Calendar view code.</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineminus">-   -</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineminus">-   -   Joey Minta &lt;jminta@gmail.com&gt;</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l4.25"></a><span id="l4.25" class="difflineminus">-   - the Initial Developer. All Rights Reserved.</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineminus">-   -</span>
<a href="#l4.27"></a><span id="l4.27" class="difflineminus">-   - Contributor(s):</span>
<a href="#l4.28"></a><span id="l4.28" class="difflineminus">-   -   Philipp Kewisch &lt;mozilla@kewis.ch&gt;</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineminus">-   -   Berend Cornelius &lt;berend.cornelius@sun.com&gt;</span>
<a href="#l4.30"></a><span id="l4.30" class="difflineminus">-   -</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">-   - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-   - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineminus">-   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineminus">-   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineminus">-   -</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineminus">-   - ***** END LICENSE BLOCK *****</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineminus">---&gt;</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineminus">-</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineminus">-&lt;!-- Note that this file depends on helper functions in calUtils.js--&gt;</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineminus">-</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineminus">-&lt;bindings id=&quot;calendar-specific-view-bindings&quot;</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineminus">-    xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineminus">-    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineminus">-    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineminus">-</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineminus">-    &lt;binding id=&quot;calendar-decorated-month-view&quot; extends=&quot;chrome://calendar/content/calendar-decorated-month-view.xml#calendar-decorated-month-view-parent&quot;&gt;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineminus">-        &lt;implementation implements=&quot;calICalendarView&quot;&gt;</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineminus">-</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineminus">-            &lt;property name=&quot;observerID&quot;&gt;</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineminus">-                    return &quot;month-view-observer&quot;;</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineminus">-</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineminus">-            &lt;!--Public methods--&gt;</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-            &lt;method name=&quot;goToDay&quot;&gt;</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-                &lt;parameter name=&quot;aDate&quot;/&gt;</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineminus">-                    this.displayDaysOff = !this.mWorkdaysOnly;</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineminus">-</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineminus">-                    aDate = aDate.getInTimezone(this.timezone);</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineminus">-                    this.setDateRange(aDate.startOfMonth, aDate.endOfMonth);</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineminus">-                    let toolTips = calGetStringArray(&quot;calendar&quot;,</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineminus">-                                                      [&quot;oneMonthBack&quot;, &quot;gotoToday&quot;, &quot;oneMonthForward&quot;]);</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineminus">-                    cal.navigationBar.setDateRange(aDate.startOfMonth, aDate.endOfMonth, toolTips);</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineminus">-                    this.showDate(aDate);</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineminus">-                    this.selectedDay = aDate;</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineminus">-            &lt;method name=&quot;getRangeDescription&quot;&gt;</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-                    let monthName = calGetString(&quot;dateFormat&quot;, &quot;month.&quot; + (this.rangeStartDate.month + 1) + &quot;.name&quot;);</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineminus">-                    return calGetString(&quot;calendar&quot;, &quot;monthInYear&quot;, [monthName, this.rangeStartDate.year]);</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineminus">-                 ]]&gt;&lt;/body&gt;</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineminus">-             &lt;/method&gt;</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineminus">-            &lt;method name=&quot;moveView&quot;&gt;</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineminus">-                &lt;parameter name=&quot;aNumber&quot;/&gt;</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineminus">-                    let dates = this.getDateList({});</span>
<a href="#l4.87"></a><span id="l4.87" class="difflineminus">-                    this.displayDaysOff = !this.mWorkdaysOnly;</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineminus">-                    if (!aNumber) {</span>
<a href="#l4.90"></a><span id="l4.90" class="difflineminus">-                        let date = now();</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineminus">-                        this.goToDay(date);</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineminus">-                        this.selectedDay = date;</span>
<a href="#l4.93"></a><span id="l4.93" class="difflineminus">-                    } else {</span>
<a href="#l4.94"></a><span id="l4.94" class="difflineminus">-                        // The first few dates in this list are likely in the month</span>
<a href="#l4.95"></a><span id="l4.95" class="difflineminus">-                        // prior to the one actually being shown (since the month</span>
<a href="#l4.96"></a><span id="l4.96" class="difflineminus">-                        // probably doesn't start on a Sunday).  The 7th item must</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineminus">-                        // be in correct month though.</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineminus">-                        let date = dates[6].clone();</span>
<a href="#l4.99"></a><span id="l4.99" class="difflineminus">-</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineminus">-                        date.month += aNumber;</span>
<a href="#l4.101"></a><span id="l4.101" class="difflineminus">-                        // Need to store this before we move</span>
<a href="#l4.102"></a><span id="l4.102" class="difflineminus">-                        let oldSelectedDay = this.selectedDay;</span>
<a href="#l4.103"></a><span id="l4.103" class="difflineminus">-</span>
<a href="#l4.104"></a><span id="l4.104" class="difflineminus">-                        this.goToDay(date);</span>
<a href="#l4.105"></a><span id="l4.105" class="difflineminus">-</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineminus">-                        // Most of the time we want to select the date with the</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineminus">-                        // same day number in the next month</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineminus">-                        let newSelectedDay = oldSelectedDay.clone();</span>
<a href="#l4.109"></a><span id="l4.109" class="difflineminus">-                        newSelectedDay.month += aNumber;</span>
<a href="#l4.110"></a><span id="l4.110" class="difflineminus">-                        // correct for accidental rollover into the next month</span>
<a href="#l4.111"></a><span id="l4.111" class="difflineminus">-                        if ((newSelectedDay.month - aNumber + 12) % 12 != oldSelectedDay.month) {</span>
<a href="#l4.112"></a><span id="l4.112" class="difflineminus">-                            newSelectedDay.month -= 1;</span>
<a href="#l4.113"></a><span id="l4.113" class="difflineminus">-                            newSelectedDay.day = newSelectedDay.endOfMonth.day;</span>
<a href="#l4.114"></a><span id="l4.114" class="difflineminus">-                        }</span>
<a href="#l4.115"></a><span id="l4.115" class="difflineminus">-</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineminus">-                        this.selectedDay = newSelectedDay;</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineminus">-                    }</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l4.119"></a><span id="l4.119" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l4.120"></a><span id="l4.120" class="difflineminus">-        &lt;/implementation&gt;</span>
<a href="#l4.121"></a><span id="l4.121" class="difflineminus">-    &lt;/binding&gt;</span>
<a href="#l4.122"></a><span id="l4.122" class="difflineminus">-</span>
<a href="#l4.123"></a><span id="l4.123" class="difflineminus">-    &lt;binding id=&quot;calendar-decorated-month-view-parent&quot; extends=&quot;chrome://calendar/content/calendar-month-view.xml#calendar-month-view&quot;&gt;</span>
<a href="#l4.124"></a><span id="l4.124" class="difflineminus">-        &lt;implementation&gt;</span>
<a href="#l4.125"></a><span id="l4.125" class="difflineminus">-            &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l4.126"></a><span id="l4.126" class="difflineminus">-                // Set the preference for the default start of the week</span>
<a href="#l4.127"></a><span id="l4.127" class="difflineminus">-                this.weekStartOffset = getPrefSafe(&quot;calendar.week.start&quot;, 0);</span>
<a href="#l4.128"></a><span id="l4.128" class="difflineminus">-            ]]&gt;&lt;/constructor&gt;</span>
<a href="#l4.129"></a><span id="l4.129" class="difflineminus">-</span>
<a href="#l4.130"></a><span id="l4.130" class="difflineminus">-            &lt;method name=&quot;handlePreference&quot;&gt;</span>
<a href="#l4.131"></a><span id="l4.131" class="difflineminus">-                &lt;parameter name=&quot;aSubject&quot;/&gt;</span>
<a href="#l4.132"></a><span id="l4.132" class="difflineminus">-                &lt;parameter name=&quot;aTopic&quot;/&gt;</span>
<a href="#l4.133"></a><span id="l4.133" class="difflineminus">-                &lt;parameter name=&quot;aPreference&quot;/&gt;</span>
<a href="#l4.134"></a><span id="l4.134" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l4.135"></a><span id="l4.135" class="difflineminus">-                   aSubject.QueryInterface(Components.interfaces.nsIPrefBranch2);</span>
<a href="#l4.136"></a><span id="l4.136" class="difflineminus">-</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineminus">-                   switch (aPreference) {</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineminus">-                       case &quot;calendar.previousweeks.inview&quot;:</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineminus">-                           this.updateDaysOffPrefs();</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineminus">-                           this.refreshView();</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineminus">-                           break;</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineminus">-</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineminus">-                       case &quot;calendar.week.start&quot;:</span>
<a href="#l4.144"></a><span id="l4.144" class="difflineminus">-                           this.weekStartOffset = aSubject.getIntPref(aPreference);</span>
<a href="#l4.145"></a><span id="l4.145" class="difflineminus">-                           // Refresh the view so the settings take effect</span>
<a href="#l4.146"></a><span id="l4.146" class="difflineminus">-                           this.refreshView();</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineminus">-                           break;</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineminus">-</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineminus">-                       case &quot;calendar.weeks.inview&quot;:</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineminus">-                           this.weeksInView = aSubject.getIntPref(aPreference);</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineminus">-                           break;</span>
<a href="#l4.152"></a><span id="l4.152" class="difflineminus">-</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineminus">-                       case &quot;calendar.previousweeks.inview&quot;:</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineminus">-                           this.refreshView();</span>
<a href="#l4.155"></a><span id="l4.155" class="difflineminus">-                           break;</span>
<a href="#l4.156"></a><span id="l4.156" class="difflineminus">-</span>
<a href="#l4.157"></a><span id="l4.157" class="difflineminus">-                       default:</span>
<a href="#l4.158"></a><span id="l4.158" class="difflineminus">-                           this.handleCommonPreference(aSubject, aTopic, aPreference);</span>
<a href="#l4.159"></a><span id="l4.159" class="difflineminus">-                           break;</span>
<a href="#l4.160"></a><span id="l4.160" class="difflineminus">-                   }</span>
<a href="#l4.161"></a><span id="l4.161" class="difflineminus">-                   return;</span>
<a href="#l4.162"></a><span id="l4.162" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l4.163"></a><span id="l4.163" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l4.164"></a><span id="l4.164" class="difflineminus">-</span>
<a href="#l4.165"></a><span id="l4.165" class="difflineminus">-            &lt;!-- this property may be overridden by the</span>
<a href="#l4.166"></a><span id="l4.166" class="difflineminus">-                descendent classes if neeeded  --&gt;</span>
<a href="#l4.167"></a><span id="l4.167" class="difflineminus">-            &lt;property name=&quot;weeksInView&quot;&gt;</span>
<a href="#l4.168"></a><span id="l4.168" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l4.169"></a><span id="l4.169" class="difflineminus">-                    return 0;</span>
<a href="#l4.170"></a><span id="l4.170" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l4.171"></a><span id="l4.171" class="difflineminus">-                &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineminus">-                    return val;</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineminus">-                ]]&gt;&lt;/setter&gt;</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineminus">-</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineminus">-        &lt;/implementation&gt;</span>
<a href="#l4.177"></a><span id="l4.177" class="difflineminus">-</span>
<a href="#l4.178"></a><span id="l4.178" class="difflineminus">-        &lt;handlers&gt;</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineminus">-            &lt;handler event=&quot;DOMMouseScroll&quot;&gt;&lt;![CDATA[</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineminus">-              if (!event.ctrlKey &amp;&amp;</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineminus">-                  !event.shiftKey &amp;&amp;</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineminus">-                  !event.altKey &amp;&amp;</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineminus">-                  !event.metaKey) {</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineminus">-                  // In the month view, the only thing that can be scrolled</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineminus">-                  // is the month the user is in. decorated-base takes care</span>
<a href="#l4.186"></a><span id="l4.186" class="difflineminus">-                  // of the shift key, so only move the view when no modifier</span>
<a href="#l4.187"></a><span id="l4.187" class="difflineminus">-                  // is pressed.</span>
<a href="#l4.188"></a><span id="l4.188" class="difflineminus">-                  this.moveView(event.detail &lt; 0 ? -1 : 1);</span>
<a href="#l4.189"></a><span id="l4.189" class="difflineminus">-              }</span>
<a href="#l4.190"></a><span id="l4.190" class="difflineminus">-            ]]&gt;&lt;/handler&gt;</span>
<a href="#l4.191"></a><span id="l4.191" class="difflineminus">-        &lt;/handlers&gt;</span>
<a href="#l4.192"></a><span id="l4.192" class="difflineminus">-    &lt;/binding&gt;</span>
<a href="#l4.193"></a><span id="l4.193" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">deleted file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineminus">--- a/calendar/base/content/calendar-decorated-multiday-base-view.xml</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineplus">+++ /dev/null</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineat">@@ -1,101 +0,0 @@</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineminus">-&lt;!-- ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineminus">-   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineminus">-   -</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineminus">-   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineminus">-   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineminus">-   - the License. You may obtain a copy of the License at</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-   - http://www.mozilla.org/MPL/</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-   -</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">-   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineminus">-   - for the specific language governing rights and limitations under the</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-   - License.</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineminus">-   -</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineminus">-   - The Original Code is Calendar view code.</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineminus">-   -</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineminus">-   -   Joey Minta &lt;jminta@gmail.com&gt;</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 2007</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-   - the Initial Developer. All Rights Reserved.</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineminus">-   -</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineminus">-   - Contributor(s):</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineminus">-   -   Dan Mosedale &lt;dan.mosedale@oracle.com&gt;</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineminus">-   -   Philipp Kewisch &lt;mozilla@kewis.ch&gt;</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineminus">-   -   Berend Cornelius &lt;berend.cornelius@sun.com&gt;</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineminus">-   -</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineminus">-   - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineminus">-   - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineminus">-   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineminus">-   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineminus">-   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineminus">-   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineminus">-   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineminus">-   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-   -</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineminus">-   - ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineminus">-</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineminus">-&lt;bindings id=&quot;calendar-specific-view-bindings&quot;</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineminus">-    xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineminus">-    xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineminus">-    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineminus">-    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineminus">-</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineminus">-    &lt;binding id=&quot;calendar-decorated-multiday-base-view&quot;</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineminus">-             extends=&quot;chrome://calendar/content/calendar-multiday-view.xml#calendar-multiday-view&quot;&gt;</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineminus">-        &lt;implementation implements=&quot;calICalendarView&quot;&gt;</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineminus">-            &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineminus">-                // get day start/end hour from prefs and set on the view</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineminus">-                this.setDayStartEndMinutes(getPrefSafe(&quot;calendar.view.daystarthour&quot;, 8) * 60,</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineminus">-                                           getPrefSafe(&quot;calendar.view.dayendhour&quot;, 17) * 60);</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineminus">-</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineminus">-                // initially scroll to the day start hour in the view</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineminus">-                this.scrollToMinute(this.mDayStartMin);</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineminus">-</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineminus">-                // get visible hours from prefs and set on the view</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineminus">-                let visibleMinutes = getPrefSafe(&quot;calendar.view.visiblehours&quot;, 9) * 60;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineminus">-                this.setVisibleMinutes(visibleMinutes);</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineminus">-            ]]&gt;&lt;/constructor&gt;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineminus">-</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineminus">-            &lt;!-- A base implementation for the handling of common preferences.</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineminus">-                 Can be called in handlePreference from derived bindings. --&gt;</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineminus">-            &lt;method name=&quot;handlePreference&quot;&gt;</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineminus">-                &lt;parameter name=&quot;aSubject&quot;/&gt;</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineminus">-                &lt;parameter name=&quot;aTopic&quot;/&gt;</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineminus">-                &lt;parameter name=&quot;aPreference&quot;/&gt;</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineminus">-                    aSubject.QueryInterface(Components.interfaces.nsIPrefBranch2);</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineminus">-                    switch (aPreference) {</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineminus">-</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineminus">-                        case &quot;calendar.view.daystarthour&quot;:</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineminus">-                            this.setDayStartEndMinutes(aSubject.getIntPref(aPreference) * 60,</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineminus">-                                                       this.mDayEndMin);</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineminus">-</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineminus">-                            this.refreshView();</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineminus">-                            break;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineminus">-</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineminus">-                        case &quot;calendar.view.dayendhour&quot;:</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineminus">-                            this.setDayStartEndMinutes(this.mDayStartMin,</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineminus">-                                                       aSubject.getIntPref(aPreference) * 60);</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineminus">-                            this.refreshView();</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineminus">-                            break;</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineminus">-</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineminus">-                        case &quot;calendar.view.visiblehours&quot;:</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineminus">-                            this.setVisibleMinutes(aSubject.getIntPref(aPreference) * 60);</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineminus">-                            this.refreshView();</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineminus">-                            break;</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineminus">-</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineminus">-                        default:</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineminus">-                            this.handleCommonPreference(aSubject, aTopic, aPreference);</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineminus">-                            break;</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineminus">-                    }</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineminus">-                    return;</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineminus">-        &lt;/implementation&gt;</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineminus">-    &lt;/binding&gt;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">deleted file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineminus">--- a/calendar/base/content/calendar-decorated-multiweek-view.xml</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineplus">+++ /dev/null</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineat">@@ -1,122 +0,0 @@</span>
<a href="#l6.5"></a><span id="l6.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l6.6"></a><span id="l6.6" class="difflineminus">-&lt;!--</span>
<a href="#l6.7"></a><span id="l6.7" class="difflineminus">-   - ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l6.8"></a><span id="l6.8" class="difflineminus">-   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineminus">-   -</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineminus">-   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineminus">-   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-   - the License. You may obtain a copy of the License at</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-   - http://www.mozilla.org/MPL/</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-   -</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineminus">-   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-   - for the specific language governing rights and limitations under the</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineminus">-   - License.</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineminus">-   -</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineminus">-   - The Original Code is Calendar view code.</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineminus">-   -</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineminus">-   -   Joey Minta &lt;jminta@gmail.com&gt;</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineminus">-   - the Initial Developer. All Rights Reserved.</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineminus">-   -</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineminus">-   - Contributor(s):</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineminus">-   -   Philipp Kewisch &lt;mozilla@kewis.ch&gt;</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineminus">-   -   Berend Cornelius &lt;berend.cornelius@sun.com&gt;</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineminus">-   -</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-   - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-   - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineminus">-   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineminus">-   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineminus">-   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l6.38"></a><span id="l6.38" class="difflineminus">-   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l6.39"></a><span id="l6.39" class="difflineminus">-   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l6.40"></a><span id="l6.40" class="difflineminus">-   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l6.41"></a><span id="l6.41" class="difflineminus">-   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l6.42"></a><span id="l6.42" class="difflineminus">-   -</span>
<a href="#l6.43"></a><span id="l6.43" class="difflineminus">-   - ***** END LICENSE BLOCK *****</span>
<a href="#l6.44"></a><span id="l6.44" class="difflineminus">---&gt;</span>
<a href="#l6.45"></a><span id="l6.45" class="difflineminus">-</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineminus">-&lt;!-- Note that this file depends on helper functions in calUtils.js--&gt;</span>
<a href="#l6.47"></a><span id="l6.47" class="difflineminus">-</span>
<a href="#l6.48"></a><span id="l6.48" class="difflineminus">-&lt;bindings id=&quot;calendar-specific-view-bindings&quot;</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineminus">-    xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l6.50"></a><span id="l6.50" class="difflineminus">-    xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineminus">-    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l6.52"></a><span id="l6.52" class="difflineminus">-    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l6.53"></a><span id="l6.53" class="difflineminus">-</span>
<a href="#l6.54"></a><span id="l6.54" class="difflineminus">-    &lt;binding id=&quot;calendar-decorated-multiweek-view&quot; extends=&quot;chrome://calendar/content/calendar-decorated-month-view.xml#calendar-decorated-month-view-parent&quot;&gt;</span>
<a href="#l6.55"></a><span id="l6.55" class="difflineminus">-        &lt;implementation implements=&quot;calICalendarView&quot;&gt;</span>
<a href="#l6.56"></a><span id="l6.56" class="difflineminus">-	        &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineminus">-                this.mWeeksInView = getPrefSafe(&quot;calendar.weeks.inview&quot;, 4);</span>
<a href="#l6.58"></a><span id="l6.58" class="difflineminus">-            ]]&gt;&lt;/constructor&gt;</span>
<a href="#l6.59"></a><span id="l6.59" class="difflineminus">-</span>
<a href="#l6.60"></a><span id="l6.60" class="difflineminus">-            &lt;field name=&quot;mWeeksInView&quot;&gt;4&lt;/field&gt;</span>
<a href="#l6.61"></a><span id="l6.61" class="difflineminus">-</span>
<a href="#l6.62"></a><span id="l6.62" class="difflineminus">-            &lt;property name=&quot;weeksInView&quot;&gt;</span>
<a href="#l6.63"></a><span id="l6.63" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l6.64"></a><span id="l6.64" class="difflineminus">-                    return this.mWeeksInView;</span>
<a href="#l6.65"></a><span id="l6.65" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l6.66"></a><span id="l6.66" class="difflineminus">-                &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l6.67"></a><span id="l6.67" class="difflineminus">-                    this.mWeeksInView = val;</span>
<a href="#l6.68"></a><span id="l6.68" class="difflineminus">-                    setPref(&quot;calendar.weeks.inview&quot;, val);</span>
<a href="#l6.69"></a><span id="l6.69" class="difflineminus">-                    this.refreshView();</span>
<a href="#l6.70"></a><span id="l6.70" class="difflineminus">-                    return val;</span>
<a href="#l6.71"></a><span id="l6.71" class="difflineminus">-                ]]&gt;&lt;/setter&gt;</span>
<a href="#l6.72"></a><span id="l6.72" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l6.73"></a><span id="l6.73" class="difflineminus">-</span>
<a href="#l6.74"></a><span id="l6.74" class="difflineminus">-            &lt;property name=&quot;observerID&quot;&gt;</span>
<a href="#l6.75"></a><span id="l6.75" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l6.76"></a><span id="l6.76" class="difflineminus">-                    return &quot;multiweek-view-observer&quot;;</span>
<a href="#l6.77"></a><span id="l6.77" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l6.78"></a><span id="l6.78" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l6.79"></a><span id="l6.79" class="difflineminus">-</span>
<a href="#l6.80"></a><span id="l6.80" class="difflineminus">-            &lt;!--Public methods--&gt;</span>
<a href="#l6.81"></a><span id="l6.81" class="difflineminus">-            &lt;method name=&quot;goToDay&quot;&gt;</span>
<a href="#l6.82"></a><span id="l6.82" class="difflineminus">-                &lt;parameter name=&quot;aDate&quot;/&gt;</span>
<a href="#l6.83"></a><span id="l6.83" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l6.84"></a><span id="l6.84" class="difflineminus">-                    this.showFullMonth = false;</span>
<a href="#l6.85"></a><span id="l6.85" class="difflineminus">-                    this.displayDaysOff = !this.mWorkdaysOnly;</span>
<a href="#l6.86"></a><span id="l6.86" class="difflineminus">-</span>
<a href="#l6.87"></a><span id="l6.87" class="difflineminus">-                    aDate = aDate.getInTimezone(this.timezone);</span>
<a href="#l6.88"></a><span id="l6.88" class="difflineminus">-</span>
<a href="#l6.89"></a><span id="l6.89" class="difflineminus">-                    // Get the first date that should be shown.  This is the</span>
<a href="#l6.90"></a><span id="l6.90" class="difflineminus">-                    // start of the week of the day that we're centering around</span>
<a href="#l6.91"></a><span id="l6.91" class="difflineminus">-                    // adjusted for the day the week starts on and the number</span>
<a href="#l6.92"></a><span id="l6.92" class="difflineminus">-                    // of previous weeks we're supposed to display.</span>
<a href="#l6.93"></a><span id="l6.93" class="difflineminus">-                    let d1 = getWeekInfoService().getStartOfWeek(aDate);</span>
<a href="#l6.94"></a><span id="l6.94" class="difflineminus">-                    d1.day -= (7 * getPrefSafe(&quot;calendar.previousweeks.inview&quot;, 0));</span>
<a href="#l6.95"></a><span id="l6.95" class="difflineminus">-                    // The last day we're supposed to show</span>
<a href="#l6.96"></a><span id="l6.96" class="difflineminus">-                    let d2 = d1.clone();</span>
<a href="#l6.97"></a><span id="l6.97" class="difflineminus">-                    d2.day += ((7 * this.mWeeksInView) - 1);</span>
<a href="#l6.98"></a><span id="l6.98" class="difflineminus">-                    this.setDateRange(d1,d2);</span>
<a href="#l6.99"></a><span id="l6.99" class="difflineminus">-                    let toolTips = calGetStringArray(&quot;calendar&quot;,</span>
<a href="#l6.100"></a><span id="l6.100" class="difflineminus">-                                                     [&quot;oneWeekBack&quot;, &quot;gotoToday&quot;, &quot;oneWeekForward&quot;]);</span>
<a href="#l6.101"></a><span id="l6.101" class="difflineminus">-                    cal.navigationBar.setDateRange(d1,d2, toolTips);</span>
<a href="#l6.102"></a><span id="l6.102" class="difflineminus">-                    this.selectedDay = aDate;</span>
<a href="#l6.103"></a><span id="l6.103" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l6.104"></a><span id="l6.104" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l6.105"></a><span id="l6.105" class="difflineminus">-            &lt;method name=&quot;moveView&quot;&gt;</span>
<a href="#l6.106"></a><span id="l6.106" class="difflineminus">-                &lt;parameter name=&quot;aNumber&quot;/&gt;</span>
<a href="#l6.107"></a><span id="l6.107" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l6.108"></a><span id="l6.108" class="difflineminus">-                    if (!aNumber) {</span>
<a href="#l6.109"></a><span id="l6.109" class="difflineminus">-                        let date = now();</span>
<a href="#l6.110"></a><span id="l6.110" class="difflineminus">-                        this.goToDay(date);</span>
<a href="#l6.111"></a><span id="l6.111" class="difflineminus">-                        this.selectedDay = date;</span>
<a href="#l6.112"></a><span id="l6.112" class="difflineminus">-                    } else {</span>
<a href="#l6.113"></a><span id="l6.113" class="difflineminus">-                        let d1 = this.startDay.clone();</span>
<a href="#l6.114"></a><span id="l6.114" class="difflineminus">-                        let savedSelectedDay = this.selectedDay.clone();</span>
<a href="#l6.115"></a><span id="l6.115" class="difflineminus">-                        // aNumber only corresponds to the number of weeks to move</span>
<a href="#l6.116"></a><span id="l6.116" class="difflineminus">-                        // make sure to compensate for previous weeks in view too</span>
<a href="#l6.117"></a><span id="l6.117" class="difflineminus">-                        d1.day += 7 * (aNumber + getPrefSafe(&quot;calendar.previousweeks.inview&quot;, 4));</span>
<a href="#l6.118"></a><span id="l6.118" class="difflineminus">-                        this.goToDay(d1);</span>
<a href="#l6.119"></a><span id="l6.119" class="difflineminus">-                        savedSelectedDay.day += 7 * aNumber;</span>
<a href="#l6.120"></a><span id="l6.120" class="difflineminus">-                        this.selectedDay = savedSelectedDay;</span>
<a href="#l6.121"></a><span id="l6.121" class="difflineminus">-                    }</span>
<a href="#l6.122"></a><span id="l6.122" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l6.123"></a><span id="l6.123" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l6.124"></a><span id="l6.124" class="difflineminus">-        &lt;/implementation&gt;</span>
<a href="#l6.125"></a><span id="l6.125" class="difflineminus">-    &lt;/binding&gt;</span>
<a href="#l6.126"></a><span id="l6.126" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1">deleted file mode 100644</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineminus">--- a/calendar/base/content/calendar-decorated-week-view.xml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineplus">+++ /dev/null</span>
<a href="#l7.4"></a><span id="l7.4" class="difflineat">@@ -1,90 +0,0 @@</span>
<a href="#l7.5"></a><span id="l7.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l7.6"></a><span id="l7.6" class="difflineminus">-&lt;!--</span>
<a href="#l7.7"></a><span id="l7.7" class="difflineminus">-   - ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l7.8"></a><span id="l7.8" class="difflineminus">-   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l7.9"></a><span id="l7.9" class="difflineminus">-   -</span>
<a href="#l7.10"></a><span id="l7.10" class="difflineminus">-   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineminus">-   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-   - the License. You may obtain a copy of the License at</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-   - http://www.mozilla.org/MPL/</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-   -</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-   - for the specific language governing rights and limitations under the</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-   - License.</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-   -</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-   - The Original Code is Calendar view code.</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineminus">-   -</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineminus">-   -   Joey Minta &lt;jminta@gmail.com&gt;</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineminus">-   - the Initial Developer. All Rights Reserved.</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineminus">-   -</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineminus">-   - Contributor(s):</span>
<a href="#l7.28"></a><span id="l7.28" class="difflineminus">-   -   Dan Mosedale &lt;dan.mosedale@oracle.com&gt;</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineminus">-   -   Berend Cornelius &lt;berend.cornelius@sun.com&gt;</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineminus">-   -</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineminus">-   - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineminus">-   - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l7.34"></a><span id="l7.34" class="difflineminus">-   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineminus">-   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineminus">-   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineminus">-   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineminus">-   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineminus">-   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineminus">-   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineminus">-   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineminus">-   -</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineminus">-   - ***** END LICENSE BLOCK *****</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineminus">---&gt;</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineminus">-&lt;!-- Note that we depend on some helper functions in calUtils.js here--&gt;</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineminus">-</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineminus">-&lt;bindings id=&quot;calendar-specific-view-bindings&quot;</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineminus">-    xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineminus">-    xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineminus">-    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineminus">-    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;&gt;</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineminus">-</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineminus">-    &lt;binding id=&quot;calendar-decorated-week-view&quot;</span>
<a href="#l7.55"></a><span id="l7.55" class="difflineminus">-             extends=&quot;chrome://calendar/content/calendar-decorated-multiday-base-view.xml#calendar-decorated-multiday-base-view&quot;&gt;</span>
<a href="#l7.56"></a><span id="l7.56" class="difflineminus">-        &lt;implementation implements=&quot;calICalendarView&quot;&gt;</span>
<a href="#l7.57"></a><span id="l7.57" class="difflineminus">-            &lt;property name=&quot;observerID&quot;&gt;</span>
<a href="#l7.58"></a><span id="l7.58" class="difflineminus">-                &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l7.59"></a><span id="l7.59" class="difflineminus">-                    return &quot;week-view-observer&quot;;</span>
<a href="#l7.60"></a><span id="l7.60" class="difflineminus">-                ]]&gt;&lt;/getter&gt;</span>
<a href="#l7.61"></a><span id="l7.61" class="difflineminus">-            &lt;/property&gt;</span>
<a href="#l7.62"></a><span id="l7.62" class="difflineminus">-</span>
<a href="#l7.63"></a><span id="l7.63" class="difflineminus">-            &lt;!--Public methods--&gt;</span>
<a href="#l7.64"></a><span id="l7.64" class="difflineminus">-            &lt;method name=&quot;goToDay&quot;&gt;</span>
<a href="#l7.65"></a><span id="l7.65" class="difflineminus">-                &lt;parameter name=&quot;aDate&quot;/&gt;</span>
<a href="#l7.66"></a><span id="l7.66" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l7.67"></a><span id="l7.67" class="difflineminus">-                    this.displayDaysOff = !this.mWorkdaysOnly;</span>
<a href="#l7.68"></a><span id="l7.68" class="difflineminus">-</span>
<a href="#l7.69"></a><span id="l7.69" class="difflineminus">-                    aDate = aDate.getInTimezone(this.timezone);</span>
<a href="#l7.70"></a><span id="l7.70" class="difflineminus">-                    var d1 = getWeekInfoService().getStartOfWeek(aDate);</span>
<a href="#l7.71"></a><span id="l7.71" class="difflineminus">-                    var d2 = d1.clone();</span>
<a href="#l7.72"></a><span id="l7.72" class="difflineminus">-                    d2.day += 6;</span>
<a href="#l7.73"></a><span id="l7.73" class="difflineminus">-                    this.setDateRange(d1, d2);</span>
<a href="#l7.74"></a><span id="l7.74" class="difflineminus">-                    var toolTips = calGetStringArray(&quot;calendar&quot;,</span>
<a href="#l7.75"></a><span id="l7.75" class="difflineminus">-                                                     [&quot;oneWeekBack&quot;, &quot;gotoToday&quot;, &quot;oneWeekForward&quot;]);</span>
<a href="#l7.76"></a><span id="l7.76" class="difflineminus">-                    cal.navigationBar.setDateRange(d1, d2, toolTips);</span>
<a href="#l7.77"></a><span id="l7.77" class="difflineminus">-                    this.selectedDay = aDate;</span>
<a href="#l7.78"></a><span id="l7.78" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l7.79"></a><span id="l7.79" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l7.80"></a><span id="l7.80" class="difflineminus">-            &lt;method name=&quot;moveView&quot;&gt;</span>
<a href="#l7.81"></a><span id="l7.81" class="difflineminus">-                &lt;parameter name=&quot;aNumber&quot;/&gt;</span>
<a href="#l7.82"></a><span id="l7.82" class="difflineminus">-                &lt;body&gt;&lt;![CDATA[</span>
<a href="#l7.83"></a><span id="l7.83" class="difflineminus">-                    if (!aNumber) {</span>
<a href="#l7.84"></a><span id="l7.84" class="difflineminus">-                        this.goToDay(now());</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineminus">-                    } else {</span>
<a href="#l7.86"></a><span id="l7.86" class="difflineminus">-                        var d1 = this.selectedDay.clone();</span>
<a href="#l7.87"></a><span id="l7.87" class="difflineminus">-                        d1.day += 7 * aNumber;</span>
<a href="#l7.88"></a><span id="l7.88" class="difflineminus">-                        this.goToDay(d1);</span>
<a href="#l7.89"></a><span id="l7.89" class="difflineminus">-                    }</span>
<a href="#l7.90"></a><span id="l7.90" class="difflineminus">-                ]]&gt;&lt;/body&gt;</span>
<a href="#l7.91"></a><span id="l7.91" class="difflineminus">-            &lt;/method&gt;</span>
<a href="#l7.92"></a><span id="l7.92" class="difflineminus">-        &lt;/implementation&gt;</span>
<a href="#l7.93"></a><span id="l7.93" class="difflineminus">-    &lt;/binding&gt;</span>
<a href="#l7.94"></a><span id="l7.94" class="difflineminus">-&lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/calendar-month-view.xml</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/calendar-month-view.xml</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -421,17 +421,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">             if (this.dayitems.scrollHeight &gt; this.dayitems.clientHeight) {</span>
<a href="#l8.5"></a><span id="l8.5">                 event.stopPropagation();</span>
<a href="#l8.6"></a><span id="l8.6">             }</span>
<a href="#l8.7"></a><span id="l8.7">         }</span>
<a href="#l8.8"></a><span id="l8.8">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l8.9"></a><span id="l8.9">     &lt;/handlers&gt;</span>
<a href="#l8.10"></a><span id="l8.10">   &lt;/binding&gt;</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-  &lt;binding id=&quot;calendar-month-view&quot; extends=&quot;chrome://calendar/content/calendar-base-view.xml#calendar-base-view&quot;&gt;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+  &lt;binding id=&quot;calendar-month-base-view&quot; extends=&quot;chrome://calendar/content/calendar-base-view.xml#calendar-base-view&quot;&gt;</span>
<a href="#l8.14"></a><span id="l8.14">     &lt;content style=&quot;overflow: auto;&quot; flex=&quot;1&quot; xbl:inherits=&quot;context,item-context&quot;&gt;</span>
<a href="#l8.15"></a><span id="l8.15">       &lt;xul:vbox anonid=&quot;mainbox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l8.16"></a><span id="l8.16">         &lt;xul:hbox class=&quot;labeldaybox-container&quot; anonid=&quot;labeldaybox&quot; equalsize=&quot;always&quot;/&gt;</span>
<a href="#l8.17"></a><span id="l8.17"> </span>
<a href="#l8.18"></a><span id="l8.18">         &lt;xul:grid anonid=&quot;monthgrid&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l8.19"></a><span id="l8.19">           &lt;xul:columns anonid=&quot;monthgridcolumns&quot; equalsize=&quot;always&quot;&gt;</span>
<a href="#l8.20"></a><span id="l8.20">             &lt;xul:column flex=&quot;1&quot; class=&quot;calendar-month-view-grid-column&quot;/&gt;</span>
<a href="#l8.21"></a><span id="l8.21">             &lt;xul:column flex=&quot;1&quot; class=&quot;calendar-month-view-grid-column&quot;/&gt;</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -501,16 +501,19 @@</span>
<a href="#l8.23"></a><span id="l8.23">         &lt;/xul:grid&gt;</span>
<a href="#l8.24"></a><span id="l8.24">       &lt;/xul:vbox&gt;</span>
<a href="#l8.25"></a><span id="l8.25">     &lt;/content&gt;</span>
<a href="#l8.26"></a><span id="l8.26"> </span>
<a href="#l8.27"></a><span id="l8.27">     &lt;implementation implements=&quot;calICalendarView&quot;&gt;</span>
<a href="#l8.28"></a><span id="l8.28"> </span>
<a href="#l8.29"></a><span id="l8.29">       &lt;!-- constructor --&gt;</span>
<a href="#l8.30"></a><span id="l8.30">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineplus">+          // Set the preference for the default start of the week</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+          this.weekStartOffset = getPrefSafe(&quot;calendar.week.start&quot;, 0);</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineplus">+</span>
<a href="#l8.34"></a><span id="l8.34">           for (var i = 0; i &lt; 7; i++) {</span>
<a href="#l8.35"></a><span id="l8.35">               let hdr = createXULElement(&quot;calendar-day-label&quot;);</span>
<a href="#l8.36"></a><span id="l8.36">               this.labeldaybox.appendChild(hdr);</span>
<a href="#l8.37"></a><span id="l8.37">               hdr.weekDay = (i + this.mWeekStartOffset) % 7;</span>
<a href="#l8.38"></a><span id="l8.38">               hdr.shortWeekNames = false;</span>
<a href="#l8.39"></a><span id="l8.39">           }</span>
<a href="#l8.40"></a><span id="l8.40">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l8.41"></a><span id="l8.41"> </span>
<a href="#l8.42"></a><span id="l8.42" class="difflineat">@@ -558,23 +561,70 @@</span>
<a href="#l8.43"></a><span id="l8.43">           return this.mShowFullMonth;</span>
<a href="#l8.44"></a><span id="l8.44">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l8.45"></a><span id="l8.45">         &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l8.46"></a><span id="l8.46">           this.mShowFullMonth = val;</span>
<a href="#l8.47"></a><span id="l8.47">           return val;</span>
<a href="#l8.48"></a><span id="l8.48">         ]]&gt;&lt;/setter&gt;</span>
<a href="#l8.49"></a><span id="l8.49">       &lt;/property&gt;</span>
<a href="#l8.50"></a><span id="l8.50"> </span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+      &lt;!-- this property may be overridden by the</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineplus">+          descendent classes if neeeded  --&gt;</span>
<a href="#l8.53"></a><span id="l8.53" class="difflineplus">+      &lt;property name=&quot;weeksInView&quot;&gt;</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineplus">+        &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineplus">+            return 0;</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineplus">+        ]]&gt;&lt;/getter&gt;</span>
<a href="#l8.57"></a><span id="l8.57" class="difflineplus">+        &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l8.58"></a><span id="l8.58" class="difflineplus">+            return val;</span>
<a href="#l8.59"></a><span id="l8.59" class="difflineplus">+        ]]&gt;&lt;/setter&gt;</span>
<a href="#l8.60"></a><span id="l8.60" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineplus">+</span>
<a href="#l8.62"></a><span id="l8.62" class="difflineplus">+      &lt;method name=&quot;handlePreference&quot;&gt;</span>
<a href="#l8.63"></a><span id="l8.63" class="difflineplus">+        &lt;parameter name=&quot;aSubject&quot;/&gt;</span>
<a href="#l8.64"></a><span id="l8.64" class="difflineplus">+        &lt;parameter name=&quot;aTopic&quot;/&gt;</span>
<a href="#l8.65"></a><span id="l8.65" class="difflineplus">+        &lt;parameter name=&quot;aPreference&quot;/&gt;</span>
<a href="#l8.66"></a><span id="l8.66" class="difflineplus">+        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l8.67"></a><span id="l8.67" class="difflineplus">+           aSubject.QueryInterface(Components.interfaces.nsIPrefBranch2);</span>
<a href="#l8.68"></a><span id="l8.68" class="difflineplus">+</span>
<a href="#l8.69"></a><span id="l8.69" class="difflineplus">+           switch (aPreference) {</span>
<a href="#l8.70"></a><span id="l8.70" class="difflineplus">+               case &quot;calendar.previousweeks.inview&quot;:</span>
<a href="#l8.71"></a><span id="l8.71" class="difflineplus">+                   this.updateDaysOffPrefs();</span>
<a href="#l8.72"></a><span id="l8.72" class="difflineplus">+                   this.refreshView();</span>
<a href="#l8.73"></a><span id="l8.73" class="difflineplus">+                   break;</span>
<a href="#l8.74"></a><span id="l8.74" class="difflineplus">+</span>
<a href="#l8.75"></a><span id="l8.75" class="difflineplus">+               case &quot;calendar.week.start&quot;:</span>
<a href="#l8.76"></a><span id="l8.76" class="difflineplus">+                   this.weekStartOffset = aSubject.getIntPref(aPreference);</span>
<a href="#l8.77"></a><span id="l8.77" class="difflineplus">+                   // Refresh the view so the settings take effect</span>
<a href="#l8.78"></a><span id="l8.78" class="difflineplus">+                   this.refreshView();</span>
<a href="#l8.79"></a><span id="l8.79" class="difflineplus">+                   break;</span>
<a href="#l8.80"></a><span id="l8.80" class="difflineplus">+</span>
<a href="#l8.81"></a><span id="l8.81" class="difflineplus">+               case &quot;calendar.weeks.inview&quot;:</span>
<a href="#l8.82"></a><span id="l8.82" class="difflineplus">+                   this.weeksInView = aSubject.getIntPref(aPreference);</span>
<a href="#l8.83"></a><span id="l8.83" class="difflineplus">+                   break;</span>
<a href="#l8.84"></a><span id="l8.84" class="difflineplus">+</span>
<a href="#l8.85"></a><span id="l8.85" class="difflineplus">+               case &quot;calendar.previousweeks.inview&quot;:</span>
<a href="#l8.86"></a><span id="l8.86" class="difflineplus">+                   this.refreshView();</span>
<a href="#l8.87"></a><span id="l8.87" class="difflineplus">+                   break;</span>
<a href="#l8.88"></a><span id="l8.88" class="difflineplus">+</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineplus">+               default:</span>
<a href="#l8.90"></a><span id="l8.90" class="difflineplus">+                   this.handleCommonPreference(aSubject, aTopic, aPreference);</span>
<a href="#l8.91"></a><span id="l8.91" class="difflineplus">+                   break;</span>
<a href="#l8.92"></a><span id="l8.92" class="difflineplus">+           }</span>
<a href="#l8.93"></a><span id="l8.93" class="difflineplus">+           return;</span>
<a href="#l8.94"></a><span id="l8.94" class="difflineplus">+        ]]&gt;&lt;/body&gt;</span>
<a href="#l8.95"></a><span id="l8.95" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l8.96"></a><span id="l8.96" class="difflineplus">+</span>
<a href="#l8.97"></a><span id="l8.97">       &lt;method name=&quot;getSelectedItems&quot;&gt;</span>
<a href="#l8.98"></a><span id="l8.98">         &lt;parameter name=&quot;aCount&quot;/&gt;</span>
<a href="#l8.99"></a><span id="l8.99">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l8.100"></a><span id="l8.100">           aCount.value = this.mSelectedItems.length;</span>
<a href="#l8.101"></a><span id="l8.101">           return this.mSelectedItems;</span>
<a href="#l8.102"></a><span id="l8.102">         ]]&gt;&lt;/body&gt;</span>
<a href="#l8.103"></a><span id="l8.103">       &lt;/method&gt;</span>
<a href="#l8.104"></a><span id="l8.104" class="difflineplus">+</span>
<a href="#l8.105"></a><span id="l8.105">       &lt;method name=&quot;setSelectedItems&quot;&gt;</span>
<a href="#l8.106"></a><span id="l8.106">         &lt;parameter name=&quot;aCount&quot;/&gt;</span>
<a href="#l8.107"></a><span id="l8.107">         &lt;parameter name=&quot;aItems&quot;/&gt;</span>
<a href="#l8.108"></a><span id="l8.108">         &lt;parameter name=&quot;aSuppressEvent&quot;/&gt;</span>
<a href="#l8.109"></a><span id="l8.109">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l8.110"></a><span id="l8.110">           if (this.mSelectedItems.length) {</span>
<a href="#l8.111"></a><span id="l8.111">               for each (var item in this.mSelectedItems) {</span>
<a href="#l8.112"></a><span id="l8.112">                   let oldboxes = this.findDayBoxesForItem(item);</span>
<a href="#l8.113"></a><span id="l8.113" class="difflineat">@@ -999,10 +1049,26 @@</span>
<a href="#l8.114"></a><span id="l8.114">             setTimeout(function() { this_.flashAlarm(aAlarmItem, true) }, totaltime);</span>
<a href="#l8.115"></a><span id="l8.115">           } else {</span>
<a href="#l8.116"></a><span id="l8.116">             // We are done flashing, prevent newly created event boxes from flashing.</span>
<a href="#l8.117"></a><span id="l8.117">             delete this.mFlashingEvents[aAlarmItem.hashId];</span>
<a href="#l8.118"></a><span id="l8.118">           }</span>
<a href="#l8.119"></a><span id="l8.119">         ]]&gt;&lt;/body&gt;</span>
<a href="#l8.120"></a><span id="l8.120">       &lt;/method&gt;</span>
<a href="#l8.121"></a><span id="l8.121">     &lt;/implementation&gt;</span>
<a href="#l8.122"></a><span id="l8.122" class="difflineplus">+</span>
<a href="#l8.123"></a><span id="l8.123" class="difflineplus">+    &lt;handlers&gt;</span>
<a href="#l8.124"></a><span id="l8.124" class="difflineplus">+      &lt;handler event=&quot;DOMMouseScroll&quot;&gt;&lt;![CDATA[</span>
<a href="#l8.125"></a><span id="l8.125" class="difflineplus">+        if (!event.ctrlKey &amp;&amp;</span>
<a href="#l8.126"></a><span id="l8.126" class="difflineplus">+            !event.shiftKey &amp;&amp;</span>
<a href="#l8.127"></a><span id="l8.127" class="difflineplus">+            !event.altKey &amp;&amp;</span>
<a href="#l8.128"></a><span id="l8.128" class="difflineplus">+            !event.metaKey) {</span>
<a href="#l8.129"></a><span id="l8.129" class="difflineplus">+            // In the month view, the only thing that can be scrolled</span>
<a href="#l8.130"></a><span id="l8.130" class="difflineplus">+            // is the month the user is in. calendar-base-view takes care</span>
<a href="#l8.131"></a><span id="l8.131" class="difflineplus">+            // of the shift key, so only move the view when no modifier</span>
<a href="#l8.132"></a><span id="l8.132" class="difflineplus">+            // is pressed.</span>
<a href="#l8.133"></a><span id="l8.133" class="difflineplus">+            this.moveView(event.detail &lt; 0 ? -1 : 1);</span>
<a href="#l8.134"></a><span id="l8.134" class="difflineplus">+        }</span>
<a href="#l8.135"></a><span id="l8.135" class="difflineplus">+      ]]&gt;&lt;/handler&gt;</span>
<a href="#l8.136"></a><span id="l8.136" class="difflineplus">+    &lt;/handlers&gt;</span>
<a href="#l8.137"></a><span id="l8.137" class="difflineplus">+</span>
<a href="#l8.138"></a><span id="l8.138">   &lt;/binding&gt;</span>
<a href="#l8.139"></a><span id="l8.139"> &lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -2140,33 +2140,77 @@</span>
<a href="#l9.4"></a><span id="l9.4">           &lt;xul:box anonid=&quot;daybox&quot; class=&quot;calendar-day-box&quot; flex=&quot;1&quot;</span>
<a href="#l9.5"></a><span id="l9.5">                    equalsize=&quot;always&quot;/&gt;</span>
<a href="#l9.6"></a><span id="l9.6">         &lt;/xul:scrollbox&gt;</span>
<a href="#l9.7"></a><span id="l9.7">       &lt;/xul:box&gt;</span>
<a href="#l9.8"></a><span id="l9.8">     &lt;/content&gt;</span>
<a href="#l9.9"></a><span id="l9.9"> </span>
<a href="#l9.10"></a><span id="l9.10">     &lt;implementation implements=&quot;calICalendarView&quot;&gt;</span>
<a href="#l9.11"></a><span id="l9.11">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+        // get day start/end hour from prefs and set on the view</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+        this.setDayStartEndMinutes(getPrefSafe(&quot;calendar.view.daystarthour&quot;, 8) * 60,</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+                                   getPrefSafe(&quot;calendar.view.dayendhour&quot;, 17) * 60);</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+        // initially scroll to the day start hour in the view</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+        this.scrollToMinute(this.mDayStartMin);</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+        // get visible hours from prefs and set on the view</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+        let visibleMinutes = getPrefSafe(&quot;calendar.view.visiblehours&quot;, 9) * 60;</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineplus">+        this.setVisibleMinutes(visibleMinutes);</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+</span>
<a href="#l9.23"></a><span id="l9.23">         var self = this;</span>
<a href="#l9.24"></a><span id="l9.24">         // set the flex attribute at the scrollbox-innerbox</span>
<a href="#l9.25"></a><span id="l9.25">         // (this can be removed, after Bug 343555 is fixed)</span>
<a href="#l9.26"></a><span id="l9.26">         let scrollbox = document.getAnonymousElementByAttribute(</span>
<a href="#l9.27"></a><span id="l9.27">                        this, &quot;anonid&quot;, &quot;scrollbox&quot;);</span>
<a href="#l9.28"></a><span id="l9.28">         document.getAnonymousElementByAttribute(</span>
<a href="#l9.29"></a><span id="l9.29">             scrollbox, &quot;class&quot;, &quot;box-inherit scrollbox-innerbox&quot;).flex = &quot;1&quot;;</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineminus">-</span>
<a href="#l9.31"></a><span id="l9.31">         this.reorient();</span>
<a href="#l9.32"></a><span id="l9.32">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l9.33"></a><span id="l9.33"> </span>
<a href="#l9.34"></a><span id="l9.34">       &lt;property name=&quot;daysInView&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l9.35"></a><span id="l9.35">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l9.36"></a><span id="l9.36">           return this.labeldaybox.childNodes &amp;&amp; this.labeldaybox.childNodes.length;</span>
<a href="#l9.37"></a><span id="l9.37">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l9.38"></a><span id="l9.38">       &lt;/property&gt;</span>
<a href="#l9.39"></a><span id="l9.39"> </span>
<a href="#l9.40"></a><span id="l9.40" class="difflineplus">+      &lt;method name=&quot;handlePreference&quot;&gt;</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+        &lt;parameter name=&quot;aSubject&quot;/&gt;</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+        &lt;parameter name=&quot;aTopic&quot;/&gt;</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+        &lt;parameter name=&quot;aPreference&quot;/&gt;</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+            aSubject.QueryInterface(Components.interfaces.nsIPrefBranch2);</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineplus">+            switch (aPreference) {</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineplus">+</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineplus">+                case &quot;calendar.view.daystarthour&quot;:</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineplus">+                    this.setDayStartEndMinutes(aSubject.getIntPref(aPreference) * 60,</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+                                               this.mDayEndMin);</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+                    this.refreshView();</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+                    break;</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+                case &quot;calendar.view.dayendhour&quot;:</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+                    this.setDayStartEndMinutes(this.mDayStartMin,</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+                                               aSubject.getIntPref(aPreference) * 60);</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineplus">+                    this.refreshView();</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineplus">+                    break;</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineplus">+</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineplus">+                case &quot;calendar.view.visiblehours&quot;:</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineplus">+                    this.setVisibleMinutes(aSubject.getIntPref(aPreference) * 60);</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineplus">+                    this.refreshView();</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineplus">+                    break;</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineplus">+</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineplus">+                default:</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineplus">+                    this.handleCommonPreference(aSubject, aTopic, aPreference);</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineplus">+                    break;</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineplus">+            }</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineplus">+            return;</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineplus">+        ]]&gt;&lt;/body&gt;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l9.73"></a><span id="l9.73" class="difflineplus">+</span>
<a href="#l9.74"></a><span id="l9.74">       &lt;method name=&quot;onResize&quot;&gt;</span>
<a href="#l9.75"></a><span id="l9.75">         &lt;parameter name=&quot;aRealSelf&quot;/&gt;</span>
<a href="#l9.76"></a><span id="l9.76">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l9.77"></a><span id="l9.77">           var self = this;</span>
<a href="#l9.78"></a><span id="l9.78">           if (aRealSelf) {</span>
<a href="#l9.79"></a><span id="l9.79">             self = aRealSelf;</span>
<a href="#l9.80"></a><span id="l9.80">           }</span>
<a href="#l9.81"></a><span id="l9.81">           let scrollbox = document.getAnonymousElementByAttribute(self, &quot;anonid&quot;, &quot;scrollbox&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/calendar-view-bindings.css</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/calendar-view-bindings.css</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -72,18 +72,18 @@ calendar-base-view {</span>
<a href="#l10.4"></a><span id="l10.4">   -moz-binding: url(chrome://calendar/content/calendar-base-view.xml#calendar-base-view);</span>
<a href="#l10.5"></a><span id="l10.5"> }</span>
<a href="#l10.6"></a><span id="l10.6"> </span>
<a href="#l10.7"></a><span id="l10.7"> calendar-header-container { </span>
<a href="#l10.8"></a><span id="l10.8">   -moz-binding: url(chrome://calendar/content/calendar-multiday-view.xml#calendar-header-container);</span>
<a href="#l10.9"></a><span id="l10.9"> }</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11"> /* Month View */</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-calendar-month-view { </span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-  -moz-binding: url(chrome://calendar/content/calendar-month-view.xml#calendar-month-view);</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+calendar-month-base-view {</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+  -moz-binding: url(chrome://calendar/content/calendar-month-view.xml#calendar-month-base-view);</span>
<a href="#l10.16"></a><span id="l10.16"> }</span>
<a href="#l10.17"></a><span id="l10.17"> </span>
<a href="#l10.18"></a><span id="l10.18"> calendar-base-view {</span>
<a href="#l10.19"></a><span id="l10.19">   -moz-binding: url(chrome://calendar/content/calendar-base-view.xml#calendar-base-view);</span>
<a href="#l10.20"></a><span id="l10.20">   -moz-user-focus: normal;</span>
<a href="#l10.21"></a><span id="l10.21"> }</span>
<a href="#l10.22"></a><span id="l10.22"> </span>
<a href="#l10.23"></a><span id="l10.23"> calendar-month-day-box { </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/calendar-views.xul</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/calendar-views.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -106,26 +106,26 @@</span>
<a href="#l11.4"></a><span id="l11.4">          &lt;/vbox&gt;</span>
<a href="#l11.5"></a><span id="l11.5">        &lt;/hbox&gt;</span>
<a href="#l11.6"></a><span id="l11.6">        &lt;deck flex=&quot;1&quot;</span>
<a href="#l11.7"></a><span id="l11.7">             id=&quot;view-deck&quot;</span>
<a href="#l11.8"></a><span id="l11.8">             persist=&quot;selectedIndex&quot;</span>
<a href="#l11.9"></a><span id="l11.9">             ondraggesture=&quot;nsDragAndDrop.startDrag(event, calendarViewDNDObserver);&quot;</span>
<a href="#l11.10"></a><span id="l11.10">             ondragover=&quot;nsDragAndDrop.dragOver(event, calendarViewDNDObserver);&quot;</span>
<a href="#l11.11"></a><span id="l11.11">             ondragdrop=&quot;nsDragAndDrop.drop(event, calendarViewDNDObserver);&quot;&gt;</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-        &lt;!-- Note: the &quot;id&quot; attributes of the decorated panes **must** follow the</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+        &lt;!-- Note: the &quot;id&quot; attributes of the calendar panes **must** follow the</span>
<a href="#l11.14"></a><span id="l11.14">              notation 'type + &quot;-&quot; + &quot;view&quot;', where &quot;type&quot; should refer to the</span>
<a href="#l11.15"></a><span id="l11.15">              displayed time period as described in base/public/calICalendarView.idl --&gt;</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineminus">-        &lt;calendar-decorated-day-view id=&quot;day-view&quot; flex=&quot;1&quot;</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-                                     context=&quot;calendar-view-context-menu&quot;</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineminus">-                                     item-context=&quot;calendar-item-context-menu&quot;/&gt;</span>
<a href="#l11.19"></a><span id="l11.19" class="difflineminus">-        &lt;calendar-decorated-week-view id=&quot;week-view&quot; flex=&quot;1&quot;</span>
<a href="#l11.20"></a><span id="l11.20" class="difflineminus">-                                      context=&quot;calendar-view-context-menu&quot;</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineminus">-                                      item-context=&quot;calendar-item-context-menu&quot;/&gt;</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineminus">-        &lt;calendar-decorated-multiweek-view id=&quot;multiweek-view&quot; flex=&quot;1&quot;</span>
<a href="#l11.23"></a><span id="l11.23" class="difflineminus">-                                           context=&quot;calendar-view-context-menu&quot;</span>
<a href="#l11.24"></a><span id="l11.24" class="difflineminus">-                                           item-context=&quot;calendar-item-context-menu&quot;/&gt;</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineminus">-        &lt;calendar-decorated-month-view id=&quot;month-view&quot; flex=&quot;1&quot;</span>
<a href="#l11.26"></a><span id="l11.26" class="difflineminus">-                                       context=&quot;calendar-view-context-menu&quot;</span>
<a href="#l11.27"></a><span id="l11.27" class="difflineminus">-                                       item-context=&quot;calendar-item-context-menu&quot;/&gt;</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineplus">+        &lt;calendar-day-view id=&quot;day-view&quot; flex=&quot;1&quot;</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineplus">+                               context=&quot;calendar-view-context-menu&quot;</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineplus">+                               item-context=&quot;calendar-item-context-menu&quot;/&gt;</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineplus">+        &lt;calendar-week-view id=&quot;week-view&quot; flex=&quot;1&quot;</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+                                context=&quot;calendar-view-context-menu&quot;</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineplus">+                                item-context=&quot;calendar-item-context-menu&quot;/&gt;</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineplus">+        &lt;calendar-multiweek-view id=&quot;multiweek-view&quot; flex=&quot;1&quot;</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineplus">+                                 context=&quot;calendar-view-context-menu&quot;</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+                                 item-context=&quot;calendar-item-context-menu&quot;/&gt;</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+        &lt;calendar-month-view id=&quot;month-view&quot; flex=&quot;1&quot;</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineplus">+                             context=&quot;calendar-view-context-menu&quot;</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineplus">+                             item-context=&quot;calendar-item-context-menu&quot;/&gt;</span>
<a href="#l11.40"></a><span id="l11.40">       &lt;/deck&gt;</span>
<a href="#l11.41"></a><span id="l11.41">     &lt;/vbox&gt;</span>
<a href="#l11.42"></a><span id="l11.42"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/jar.mn</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/jar.mn</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -13,21 +13,17 @@ calendar.jar:</span>
<a href="#l12.4"></a><span id="l12.4">     content/calendar/calendar-bindings.css                 (content/calendar-bindings.css)</span>
<a href="#l12.5"></a><span id="l12.5">     content/calendar/calendar-calendars-list.xul           (content/calendar-calendars-list.xul)</span>
<a href="#l12.6"></a><span id="l12.6">     content/calendar/calendar-chrome-startup.js            (content/calendar-chrome-startup.js)</span>
<a href="#l12.7"></a><span id="l12.7">     content/calendar/calendar-clipboard.js                 (content/calendar-clipboard.js)</span>
<a href="#l12.8"></a><span id="l12.8"> *   content/calendar/calendar-common-sets.xul              (content/calendar-common-sets.xul)</span>
<a href="#l12.9"></a><span id="l12.9">     content/calendar/calendar-common-sets.js               (content/calendar-common-sets.js)</span>
<a href="#l12.10"></a><span id="l12.10">     content/calendar/calendar-creation.js                  (content/calendar-creation.js)</span>
<a href="#l12.11"></a><span id="l12.11">     content/calendar/calendar-daypicker.xml                (content/calendar-daypicker.xml)</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    content/calendar/calendar-decorated-multiday-base-view.xml  (content/calendar-decorated-multiday-base-view.xml)</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-    content/calendar/calendar-decorated-day-view.xml       (content/calendar-decorated-day-view.xml)</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-    content/calendar/calendar-decorated-week-view.xml      (content/calendar-decorated-week-view.xml)</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-    content/calendar/calendar-decorated-multiweek-view.xml (content/calendar-decorated-multiweek-view.xml)</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineminus">-    content/calendar/calendar-decorated-month-view.xml     (content/calendar-decorated-month-view.xml)</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineplus">+    content/calendar/calendar-views.xml                    (content/calendar-views.xml)</span>
<a href="#l12.18"></a><span id="l12.18">     content/calendar/calendar-dialog-utils.js              (content/calendar-dialog-utils.js)</span>
<a href="#l12.19"></a><span id="l12.19"> *   content/calendar/calendar-dnd-listener.js              (content/calendar-dnd-listener.js)</span>
<a href="#l12.20"></a><span id="l12.20">     content/calendar/calendar-invitations-manager.js       (content/calendar-invitations-manager.js)</span>
<a href="#l12.21"></a><span id="l12.21">     content/calendar/calendar-item-editing.js              (content/calendar-item-editing.js)</span>
<a href="#l12.22"></a><span id="l12.22">     content/calendar/calendar-item-bindings.xml            (content/calendar-item-bindings.xml)</span>
<a href="#l12.23"></a><span id="l12.23">     content/calendar/calendar-management.js                (content/calendar-management.js)</span>
<a href="#l12.24"></a><span id="l12.24">     content/calendar/calendar-menus.xml                    (content/calendar-menus.xml)</span>
<a href="#l12.25"></a><span id="l12.25">     content/calendar/calendar-views.xul                    (content/calendar-views.xul)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/public/calICalendarView.idl</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/public/calICalendarView.idl</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -46,17 +46,16 @@ interface calIDateTime;</span>
<a href="#l13.4"></a><span id="l13.4"> interface calICalendarViewController;</span>
<a href="#l13.5"></a><span id="l13.5"> interface calIItemBase;</span>
<a href="#l13.6"></a><span id="l13.6"> </span>
<a href="#l13.7"></a><span id="l13.7"> /**</span>
<a href="#l13.8"></a><span id="l13.8">  * An interface for view widgets containing calendaring data.</span>
<a href="#l13.9"></a><span id="l13.9">  *</span>
<a href="#l13.10"></a><span id="l13.10">  * @note Code that implements this interface is intended to be pure</span>
<a href="#l13.11"></a><span id="l13.11">  * widgetry and thus not have any preference dependencies.</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">- * Preferences and pref observers should live in the decorated views.</span>
<a href="#l13.13"></a><span id="l13.13">  */</span>
<a href="#l13.14"></a><span id="l13.14"> [scriptable, uuid(3e567ccb-2ecf-4f59-b7ca-bf42b0fbf24a)]</span>
<a href="#l13.15"></a><span id="l13.15"> interface calICalendarView : nsISupports</span>
<a href="#l13.16"></a><span id="l13.16"> {</span>
<a href="#l13.17"></a><span id="l13.17"> </span>
<a href="#l13.18"></a><span id="l13.18">   /**</span>
<a href="#l13.19"></a><span id="l13.19">    * Oftentimes other elements in the DOM in which a calIDecoratedView is</span>
<a href="#l13.20"></a><span id="l13.20">    * used want to be aware of whether or not the view is selected.  An element</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/themes/pinstripe/calendar-views.css</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/themes/pinstripe/calendar-views.css</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -313,17 +313,18 @@ calendar-day-label[orient=&quot;vertical&quot;] {</span>
<a href="#l14.4"></a><span id="l14.4">     text-align: center;</span>
<a href="#l14.5"></a><span id="l14.5"> }</span>
<a href="#l14.6"></a><span id="l14.6"> </span>
<a href="#l14.7"></a><span id="l14.7"> .calendar-day-label-name[selected=&quot;true&quot;] {</span>
<a href="#l14.8"></a><span id="l14.8">     font-weight: bold;</span>
<a href="#l14.9"></a><span id="l14.9"> }</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11"> /* Month View */</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-calendar-month-view {</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+calendar-month-view,</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+calendar-multiweek-view {</span>
<a href="#l14.15"></a><span id="l14.15">     background-color: #FFFFFF;</span>
<a href="#l14.16"></a><span id="l14.16">     padding: 0px 2px 2px 2px;</span>
<a href="#l14.17"></a><span id="l14.17"> }</span>
<a href="#l14.18"></a><span id="l14.18"> </span>
<a href="#l14.19"></a><span id="l14.19"> .calendar-month-view-grid-column {</span>
<a href="#l14.20"></a><span id="l14.20">     min-width: 1px;</span>
<a href="#l14.21"></a><span id="l14.21">     width: 1px;</span>
<a href="#l14.22"></a><span id="l14.22"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/themes/winstripe/calendar-views.css</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/themes/winstripe/calendar-views.css</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -313,17 +313,18 @@ calendar-day-label[orient=&quot;vertical&quot;] {</span>
<a href="#l15.4"></a><span id="l15.4">     text-align: center;</span>
<a href="#l15.5"></a><span id="l15.5"> }</span>
<a href="#l15.6"></a><span id="l15.6"> </span>
<a href="#l15.7"></a><span id="l15.7"> .calendar-day-label-name[selected=&quot;true&quot;] {</span>
<a href="#l15.8"></a><span id="l15.8">     font-weight: bold;</span>
<a href="#l15.9"></a><span id="l15.9"> }</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11"> /* Month View */</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-calendar-month-view {</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+calendar-month-view,</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+calendar-multiweek-view {</span>
<a href="#l15.15"></a><span id="l15.15">     background-color: #FFFFFF;</span>
<a href="#l15.16"></a><span id="l15.16">     padding: 0px 2px 2px 2px;</span>
<a href="#l15.17"></a><span id="l15.17"> }</span>
<a href="#l15.18"></a><span id="l15.18"> </span>
<a href="#l15.19"></a><span id="l15.19"> .calendar-month-view-grid-column {</span>
<a href="#l15.20"></a><span id="l15.20">     min-width: 1px;</span>
<a href="#l15.21"></a><span id="l15.21">     width: 1px;</span>
<a href="#l15.22"></a><span id="l15.22"> }</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

