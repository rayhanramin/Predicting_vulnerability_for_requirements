<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 11861:eb9aa93d401c684c2c5b7e229e563c6defe8711b</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ eb9aa93d401c684c2c5b7e229e563c6defe8711b" />
<meta property="og:url" content="/comm-central/rev/eb9aa93d401c684c2c5b7e229e563c6defe8711b" />
<meta property="og:description" content="Bug 477718 Implement Phishing Protection (a.k.a. Safe Browsing) support in SeaMonkey r=Neil." />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / eb9aa93d401c684c2c5b7e229e563c6defe8711b 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/eb9aa93d401c684c2c5b7e229e563c6defe8711b">shortlog</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/eb9aa93d401c684c2c5b7e229e563c6defe8711b">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b">files</a> |
changeset |
<a href="/comm-central/raw-rev/eb9aa93d401c684c2c5b7e229e563c6defe8711b">raw</a>  | <a href="/comm-central/archive/eb9aa93d401c684c2c5b7e229e563c6defe8711b.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=477718">Bug 477718</a> Implement Phishing Protection (a.k.a. Safe Browsing) support in SeaMonkey r=Neil.
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#32;&#67;&#104;&#101;&#101;&#32;&#60;&#112;&#104;&#105;&#108;&#105;&#112;&#46;&#99;&#104;&#101;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 31 Jan 2013 23:38:27 +0800</td></tr>

<tr>
 <td>changeset 11861</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/eb9aa93d401c684c2c5b7e229e563c6defe8711b">eb9aa93d401c684c2c5b7e229e563c6defe8711b</a></td>
</tr>



<tr>
<td>parent 11860</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/90fb92893b258e28262615d8e5019aaa0702e4c2">90fb92893b258e28262615d8e5019aaa0702e4c2</a>
</td>
</tr>

<tr>
<td>child 11862</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/45ffe028116902a163cdf5de7664e2b29a17edff">45ffe028116902a163cdf5de7664e2b29a17edff</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=eb9aa93d401c684c2c5b7e229e563c6defe8711b">8837</a></td></tr>
<tr><td>push user</td><td>philip.chee@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 31 Jan 2013 15:39:00 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@eb9aa93d401c [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=eb9aa93d401c684c2c5b7e229e563c6defe8711b">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=eb9aa93d401c684c2c5b7e229e563c6defe8711b&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=eb9aa93d401c684c2c5b7e229e563c6defe8711b&newProject=comm-central&newRevision=eb9aa93d401c684c2c5b7e229e563c6defe8711b&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=eb9aa93d401c684c2c5b7e229e563c6defe8711b&newProject=comm-central&newRevision=eb9aa93d401c684c2c5b7e229e563c6defe8711b&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=eb9aa93d401c684c2c5b7e229e563c6defe8711b&newProject=comm-central&newRevision=eb9aa93d401c684c2c5b7e229e563c6defe8711b&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Neil%29&revcount=50">Neil</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=477718">477718</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=477718">Bug 477718</a> Implement Phishing Protection (a.k.a. Safe Browsing) support in SeaMonkey r=Neil.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/browser-prefs.js">suite/browser/browser-prefs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/browser-prefs.js">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/browser-prefs.js">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/browser-prefs.js">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/browser-prefs.js">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/browser-prefs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/jar.mn">suite/browser/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/jar.mn">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/jar.mn">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/jar.mn">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/jar.mn">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.js">suite/browser/navigator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.js">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.js">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.js">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.js">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.xul">suite/browser/navigator.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.xul">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.xul">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.xul">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.xul">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/navigator.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.js">suite/browser/safeBrowsingOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.js">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.js">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.js">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.js">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.xul">suite/browser/safeBrowsingOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.xul">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.xul">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.xul">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.xul">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/safeBrowsingOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/tabbrowser.xml">suite/browser/tabbrowser.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/tabbrowser.xml">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/tabbrowser.xml">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/tabbrowser.xml">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/tabbrowser.xml">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/browser/tabbrowser.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/bindings/notification.xml">suite/common/bindings/notification.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/bindings/notification.xml">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/bindings/notification.xml">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/bindings/notification.xml">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/bindings/notification.xml">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/bindings/notification.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/blockedSite.xhtml">suite/common/blockedSite.xhtml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/blockedSite.xhtml">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/blockedSite.xhtml">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/blockedSite.xhtml">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/blockedSite.xhtml">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/blockedSite.xhtml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/jar.mn">suite/common/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/jar.mn">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/jar.mn">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/jar.mn">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/jar.mn">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/SuiteCommon.manifest">suite/common/src/SuiteCommon.manifest</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/SuiteCommon.manifest">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/SuiteCommon.manifest">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/SuiteCommon.manifest">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/SuiteCommon.manifest">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/SuiteCommon.manifest">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/nsAbout.js">suite/common/src/nsAbout.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/nsAbout.js">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/nsAbout.js">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/nsAbout.js">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/nsAbout.js">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/src/nsAbout.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/utilityOverlay.js">suite/common/utilityOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/utilityOverlay.js">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/utilityOverlay.js">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/utilityOverlay.js">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/utilityOverlay.js">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/common/utilityOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/notification.properties">suite/locales/en-US/chrome/common/notification.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/notification.properties">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/notification.properties">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/notification.properties">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/notification.properties">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/notification.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/safeBrowsing.dtd">suite/locales/en-US/chrome/common/safeBrowsing.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/safeBrowsing.dtd">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/safeBrowsing.dtd">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/safeBrowsing.dtd">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/safeBrowsing.dtd">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/en-US/chrome/common/safeBrowsing.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/jar.mn">suite/locales/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/jar.mn">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/jar.mn">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/jar.mn">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/jar.mn">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/locales/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/classic/communicator/communicator.css">suite/themes/classic/communicator/communicator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/classic/communicator/communicator.css">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/classic/communicator/communicator.css">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/classic/communicator/communicator.css">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/classic/communicator/communicator.css">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/classic/communicator/communicator.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/communicator/communicator.css">suite/themes/modern/communicator/communicator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/communicator/communicator.css">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/communicator/communicator.css">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/communicator/communicator.css">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/communicator/communicator.css">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/communicator/communicator.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_favicon.png">suite/themes/modern/global/icons/blacklist_favicon.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_favicon.png">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_favicon.png">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_favicon.png">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_favicon.png">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_favicon.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_large.png">suite/themes/modern/global/icons/blacklist_large.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_large.png">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_large.png">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_large.png">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_large.png">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/icons/blacklist_large.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/netError.css">suite/themes/modern/global/netError.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/netError.css">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/netError.css">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/netError.css">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/netError.css">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/global/netError.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/jar.mn">suite/themes/modern/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/jar.mn">file</a> |
<a href="/comm-central/annotate/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/jar.mn">annotate</a> |
<a href="/comm-central/diff/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/jar.mn">diff</a> |
<a href="/comm-central/comparison/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/jar.mn">comparison</a> |
<a href="/comm-central/log/eb9aa93d401c684c2c5b7e229e563c6defe8711b/suite/themes/modern/jar.mn">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/browser/browser-prefs.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/browser/browser-prefs.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -392,16 +392,54 @@ pref(&quot;browser.contentHandlers.types.4.ty</span>
<a href="#l1.4"></a><span id="l1.4"> pref(&quot;browser.contentHandlers.types.5.title&quot;, &quot;chrome://navigator-region/locale/region.properties&quot;);</span>
<a href="#l1.5"></a><span id="l1.5"> pref(&quot;browser.contentHandlers.types.5.uri&quot;, &quot;chrome://navigator-region/locale/region.properties&quot;);</span>
<a href="#l1.6"></a><span id="l1.6"> pref(&quot;browser.contentHandlers.types.5.type&quot;, &quot;application/vnd.mozilla.maybe.feed&quot;);</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> pref(&quot;browser.feeds.handler&quot;, &quot;ask&quot;);</span>
<a href="#l1.9"></a><span id="l1.9"> pref(&quot;browser.videoFeeds.handler&quot;, &quot;ask&quot;);</span>
<a href="#l1.10"></a><span id="l1.10"> pref(&quot;browser.audioFeeds.handler&quot;, &quot;ask&quot;);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+pref(&quot;browser.safebrowsing.enabled&quot;, true);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+pref(&quot;browser.safebrowsing.malware.enabled&quot;, true);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+pref(&quot;browser.safebrowsing.debug&quot;, true);</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+// Normally the &quot;client ID&quot; sent in updates is appinfo.name, but</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+// official Firefox releases from Mozilla use a special identifier.</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+// This is currently unused as we are using the apikey method.</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+pref(&quot;browser.safebrowsing.id&quot;, &quot;SeaMonkey&quot;);</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+pref(&quot;browser.safebrowsing.updateURL&quot;, &quot;http://safebrowsing.clients.google.com/safebrowsing/downloads?client=api&amp;apikey=ABQIAAAALT_LuARPWqUj7bX2mqWTJRQt2QEr-yGktcva5ZhZnWk7HItT7w&amp;appver=%VERSION%&amp;pver=2.2&quot;);</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+pref(&quot;browser.safebrowsing.keyURL&quot;, &quot;https://sb-ssl.google.com/safebrowsing/newkey?client=api&amp;apikey=ABQIAAAALT_LuARPWqUj7bX2mqWTJRQt2QEr-yGktcva5ZhZnWk7HItT7w&amp;appver=%VERSION%&amp;pver=2.2&quot;);</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineplus">+pref(&quot;browser.safebrowsing.gethashURL&quot;, &quot;http://safebrowsing.clients.google.com/safebrowsing/gethash?client=api&amp;apikey=ABQIAAAALT_LuARPWqUj7bX2mqWTJRQt2QEr-yGktcva5ZhZnWk7HItT7w&amp;appver=%VERSION%&amp;pver=2.2&quot;);</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+pref(&quot;browser.safebrowsing.reportURL&quot;, &quot;http://safebrowsing.clients.google.com/safebrowsing/report?&quot;);</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineplus">+pref(&quot;browser.safebrowsing.reportGenericURL&quot;, &quot;http://%LOCALE%.phish-generic.mozilla.com/?hl=%LOCALE%&quot;);</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineplus">+pref(&quot;browser.safebrowsing.reportErrorURL&quot;, &quot;http://%LOCALE%.phish-error.mozilla.com/?hl=%LOCALE%&quot;);</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineplus">+pref(&quot;browser.safebrowsing.reportPhishURL&quot;, &quot;http://%LOCALE%.phish-report.mozilla.com/?hl=%LOCALE%&quot;);</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineplus">+pref(&quot;browser.safebrowsing.reportMalwareURL&quot;, &quot;http://%LOCALE%.malware-report.mozilla.com/?hl=%LOCALE%&quot;);</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineplus">+pref(&quot;browser.safebrowsing.reportMalwareErrorURL&quot;, &quot;http://%LOCALE%.malware-error.mozilla.com/?hl=%LOCALE%&quot;);</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+pref(&quot;browser.safebrowsing.warning.infoURL&quot;, &quot;http://www.mozilla.org/%LOCALE%/firefox/phishing-protection/&quot;);</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+pref(&quot;browser.safebrowsing.malware.reportURL&quot;, &quot;http://safebrowsing.clients.google.com/safebrowsing/diagnostic?client=Firefox&amp;hl=%LOCALE%&amp;site=&quot;);</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineplus">+// Name of the about: page contributed by safebrowsing to handle display of error</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineplus">+// pages on phishing/malware hits.  (bug 399233)</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineplus">+pref(&quot;urlclassifier.alternate_error_page&quot;, &quot;blocked&quot;);</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineplus">+// The number of random entries to send with a gethash request.</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineplus">+pref(&quot;urlclassifier.gethashnoise&quot;, 4);</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineplus">+// The list of tables that use the gethash request to confirm partial results.</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineplus">+// pref(&quot;urlclassifier.gethashtables&quot;, &quot;goog-phish-shavar,goog-malware-shavar&quot;);</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineplus">+pref(&quot;urlclassifier.gethashtables&quot;, &quot;googpub-phish-shavar,goog-malware-shavar&quot;);</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineplus">+</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineplus">+// If an urlclassifier table has not been updated in this number of seconds,</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineplus">+// a gethash request will be forced to check that the result is still in</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineplus">+// the database.</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineplus">+pref(&quot;urlclassifier.max-complete-age&quot;, 2700);</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineplus">+</span>
<a href="#l1.50"></a><span id="l1.50"> pref(&quot;browser.sessionstore.resume_from_crash&quot;, true);</span>
<a href="#l1.51"></a><span id="l1.51"> pref(&quot;browser.sessionstore.resume_session_once&quot;, false);</span>
<a href="#l1.52"></a><span id="l1.52"> </span>
<a href="#l1.53"></a><span id="l1.53"> // minimal interval between two save operations in milliseconds</span>
<a href="#l1.54"></a><span id="l1.54"> pref(&quot;browser.sessionstore.interval&quot;, 15000);</span>
<a href="#l1.55"></a><span id="l1.55"> // maximum amount of POSTDATA to be saved in bytes per history entry (-1 = all of it)</span>
<a href="#l1.56"></a><span id="l1.56"> // (NB: POSTDATA will be saved either entirely or not at all)</span>
<a href="#l1.57"></a><span id="l1.57"> pref(&quot;browser.sessionstore.postdata&quot;, 0);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/browser/jar.mn</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/browser/jar.mn</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -20,16 +20,18 @@ comm.jar:</span>
<a href="#l2.4"></a><span id="l2.4">    content/navigator/navigator.css</span>
<a href="#l2.5"></a><span id="l2.5">    content/navigator/navigator.js</span>
<a href="#l2.6"></a><span id="l2.6">    content/navigator/navigator.xul</span>
<a href="#l2.7"></a><span id="l2.7">    content/navigator/navigatorDD.js</span>
<a href="#l2.8"></a><span id="l2.8">    content/navigator/navigatorOverlay.xul</span>
<a href="#l2.9"></a><span id="l2.9">    content/navigator/nsBrowserContentListener.js</span>
<a href="#l2.10"></a><span id="l2.10">    content/navigator/nsBrowserStatusHandler.js</span>
<a href="#l2.11"></a><span id="l2.11">    content/navigator/sessionHistoryUI.js</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+   content/navigator/safeBrowsingOverlay.js</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+   content/navigator/safeBrowsingOverlay.xul</span>
<a href="#l2.14"></a><span id="l2.14">    content/navigator/tabbrowser.xml</span>
<a href="#l2.15"></a><span id="l2.15">    content/navigator/urlbarBindings.xml</span>
<a href="#l2.16"></a><span id="l2.16"> #ifdef XP_MACOSX</span>
<a href="#l2.17"></a><span id="l2.17">    content/navigator/platformNavigationBindings.xul                 (mac/platformNavigationBindings.xul)</span>
<a href="#l2.18"></a><span id="l2.18">    content/navigator/platformMailOverlay.xul                        (mac/platformMailOverlay.xul)</span>
<a href="#l2.19"></a><span id="l2.19"> #else</span>
<a href="#l2.20"></a><span id="l2.20"> #ifdef XP_WIN32</span>
<a href="#l2.21"></a><span id="l2.21">    content/navigator/platformNavigationBindings.xul                 (win/platformNavigationBindings.xul)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/browser/navigator.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/browser/navigator.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -10,16 +10,19 @@ Components.utils.import(&quot;resource:///mod</span>
<a href="#l3.4"></a><span id="l3.4">   Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l3.5"></a><span id="l3.5">   return this.PluralForm;</span>
<a href="#l3.6"></a><span id="l3.6"> });</span>
<a href="#l3.7"></a><span id="l3.7"> __defineSetter__(&quot;PluralForm&quot;, function (val) {</span>
<a href="#l3.8"></a><span id="l3.8">   delete this.PluralForm;</span>
<a href="#l3.9"></a><span id="l3.9">   return this.PluralForm = val;</span>
<a href="#l3.10"></a><span id="l3.10"> });</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+XPCOMUtils.defineLazyModuleGetter(this, &quot;SafeBrowsing&quot;,</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+  &quot;resource://gre/modules/SafeBrowsing.jsm&quot;);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+</span>
<a href="#l3.15"></a><span id="l3.15"> const REMOTESERVICE_CONTRACTID = &quot;@mozilla.org/toolkit/remote-service;1&quot;;</span>
<a href="#l3.16"></a><span id="l3.16"> const XUL_NAMESPACE = &quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;;</span>
<a href="#l3.17"></a><span id="l3.17"> var gURLBar = null;</span>
<a href="#l3.18"></a><span id="l3.18"> var gProxyButton = null;</span>
<a href="#l3.19"></a><span id="l3.19"> var gProxyFavIcon = null;</span>
<a href="#l3.20"></a><span id="l3.20"> var gProxyDeck = null;</span>
<a href="#l3.21"></a><span id="l3.21"> var gNavigatorBundle;</span>
<a href="#l3.22"></a><span id="l3.22"> var gBrandBundle;</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineat">@@ -659,16 +662,19 @@ function Startup()</span>
<a href="#l3.24"></a><span id="l3.24"> </span>
<a href="#l3.25"></a><span id="l3.25">   DownloadTaskbarIntegration.onBrowserWindowLoad(window);</span>
<a href="#l3.26"></a><span id="l3.26"> </span>
<a href="#l3.27"></a><span id="l3.27">   // initialize the sync UI</span>
<a href="#l3.28"></a><span id="l3.28">   gSyncUI.init();</span>
<a href="#l3.29"></a><span id="l3.29"> </span>
<a href="#l3.30"></a><span id="l3.30">   // initialize the session-restore service</span>
<a href="#l3.31"></a><span id="l3.31">   setTimeout(InitSessionStoreCallback, 0);</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+  // Bug 778855 - Perf regression if we do this here. To be addressed in bug 779008.</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+  setTimeout(function() { SafeBrowsing.init(); }, 2000);</span>
<a href="#l3.35"></a><span id="l3.35"> }</span>
<a href="#l3.36"></a><span id="l3.36"> </span>
<a href="#l3.37"></a><span id="l3.37"> function UpdateNavBar()</span>
<a href="#l3.38"></a><span id="l3.38"> {</span>
<a href="#l3.39"></a><span id="l3.39">   var elements = getNavToolbox().getElementsByClassName(&quot;nav-bar-class&quot;);</span>
<a href="#l3.40"></a><span id="l3.40">   for (var i = 0; i &lt; elements.length; i++) {</span>
<a href="#l3.41"></a><span id="l3.41">     var element = elements[i];</span>
<a href="#l3.42"></a><span id="l3.42">     element.classList.remove(&quot;nav-bar-last&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/browser/navigator.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/browser/navigator.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -7,17 +7,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5"> &lt;?xml-stylesheet href=&quot;chrome://navigator/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.6"></a><span id="l4.6"> &lt;?xml-stylesheet href=&quot;chrome://communicator/content/places/places.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> &lt;?xul-overlay href=&quot;chrome://navigator/content/navigatorOverlay.xul&quot;?&gt;</span>
<a href="#l4.9"></a><span id="l4.9"> &lt;?xul-overlay href=&quot;chrome://navigator/content/linkToolbarOverlay.xul&quot;?&gt;</span>
<a href="#l4.10"></a><span id="l4.10"> &lt;?xul-overlay href=&quot;chrome://communicator/content/contentAreaContextOverlay.xul&quot;?&gt;</span>
<a href="#l4.11"></a><span id="l4.11"> &lt;?xul-overlay href=&quot;chrome://communicator/content/sidebar/sidebarOverlay.xul&quot;?&gt;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+&lt;?xul-overlay href=&quot;chrome://navigator/content/safeBrowsingOverlay.xul&quot;?&gt;</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15"> &lt;!DOCTYPE window [</span>
<a href="#l4.16"></a><span id="l4.16"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l4.17"></a><span id="l4.17"> %brandDTD;</span>
<a href="#l4.18"></a><span id="l4.18"> &lt;!ENTITY % navigatorDTD SYSTEM &quot;chrome://navigator/locale/navigator.dtd&quot; &gt;</span>
<a href="#l4.19"></a><span id="l4.19"> %navigatorDTD;</span>
<a href="#l4.20"></a><span id="l4.20"> ]&gt;</span>
<a href="#l4.21"></a><span id="l4.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">new file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineminus">--- /dev/null</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineplus">+++ b/suite/browser/safeBrowsingOverlay.js</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineat">@@ -0,0 +1,46 @@</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineplus">+/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineplus">+</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineplus">+var gSafeBrowsing = {</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+  initMenuItems: function initMenuItems() {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+    // A phishing page will have a specific about:blocked content documentURI.</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+    var docURI = content.document.documentURI;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+    var isPhishingPage = docURI.startsWith(&quot;about:blocked?e=phishingBlocked&quot;);</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+    var isMalwarePage = docURI.startsWith(&quot;about:blocked?e=malwareBlocked&quot;);</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+    // Show/hide the appropriate menu item.</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+    document.getElementById(&quot;reportPhishing&quot;).hidden = isPhishingPage || isMalwarePage;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+    document.getElementById(&quot;reportPhishingError&quot;).hidden = !isPhishingPage;</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+    var broadcaster = document.getElementById(&quot;safeBrowsingBroadcaster&quot;);</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+    var uri = getBrowser().currentURI;</span>
<a href="#l5.23"></a><span id="l5.23" class="difflineplus">+    if (uri &amp;&amp; (uri.schemeIs(&quot;http&quot;) || uri.schemeIs(&quot;https&quot;)))</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineplus">+      broadcaster.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineplus">+    else</span>
<a href="#l5.26"></a><span id="l5.26" class="difflineplus">+      broadcaster.setAttribute(&quot;disabled&quot;, true);</span>
<a href="#l5.27"></a><span id="l5.27" class="difflineplus">+  },</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineplus">+</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineplus">+  /**</span>
<a href="#l5.30"></a><span id="l5.30" class="difflineplus">+   * Used to report a phishing page or a false positive</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineplus">+   * @param   aName</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+   *          A String One of &quot;Phish&quot;, &quot;Error&quot;, &quot;Malware&quot; or &quot;MalwareError&quot;.</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+   * @returns A String containing the report phishing URL.</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+   */</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+  getReportURL: function getReportURL(aName) {</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+    var reportUrl = SafeBrowsing.getReportURL(aName);</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+    var pageUrl = getBrowser().currentURI.asciiSpec;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+    reportUrl += &quot;&amp;url=&quot; + encodeURIComponent(pageUrl);</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+    return reportUrl;</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+  },</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+  initOverlay: function initOverlay(aEvent) {</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+    var popup = document.getElementById(&quot;helpPopup&quot;);</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineplus">+    popup.addEventListener(&quot;popupshowing&quot;, gSafeBrowsing.initMenuItems, false);</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+  }</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+}</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+window.addEventListener(&quot;load&quot;, gSafeBrowsing.initOverlay, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1">new file mode 100644</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineminus">--- /dev/null</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineplus">+++ b/suite/browser/safeBrowsingOverlay.xul</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineat">@@ -0,0 +1,33 @@</span>
<a href="#l6.5"></a><span id="l6.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l6.6"></a><span id="l6.6" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.7"></a><span id="l6.7" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.8"></a><span id="l6.8" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l6.9"></a><span id="l6.9" class="difflineplus">+</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineplus">+&lt;!DOCTYPE overlay SYSTEM &quot;chrome://communicator/locale/safeBrowsing.dtd&quot;&gt;</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineplus">+</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+&lt;overlay id=&quot;safeBrowsingOverlay&quot;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+         xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+          src=&quot;chrome://navigator/content/safeBrowsingOverlay.js&quot;/&gt;</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+  &lt;broadcasterset id=&quot;navBroadcasters&quot;&gt;</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineplus">+    &lt;broadcaster id=&quot;safeBrowsingBroadcaster&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineplus">+  &lt;/broadcasterset&gt;</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineplus">+</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineplus">+  &lt;menupopup id=&quot;helpPopup&quot;&gt;</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineplus">+    &lt;menuitem id=&quot;reportPhishing&quot;</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineplus">+              label=&quot;&amp;reportPhishSite.label;&quot;</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineplus">+              accesskey=&quot;&amp;reportPhishSite.accesskey;&quot;</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineplus">+              insertbefore=&quot;menu_HelpAboutSeparator&quot;</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineplus">+              observes=&quot;safeBrowsingBroadcaster&quot;</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineplus">+              oncommand=&quot;openUILink(gSafeBrowsing.getReportURL('Phish'), event);&quot;</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineplus">+              onclick=&quot;checkForMiddleClick(this, event);&quot;/&gt;</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineplus">+    &lt;menuitem id=&quot;reportPhishingError&quot;</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineplus">+              label=&quot;&amp;notAForgery.label;&quot;</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineplus">+              accesskey=&quot;&amp;notAForgery.accesskey;&quot;</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineplus">+              insertbefore=&quot;menu_HelpAboutSeparator&quot;</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineplus">+              observes=&quot;safeBrowsingBroadcaster&quot;</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+              oncommand=&quot;openUILinkIn(gSafeBrowsing.getReportURL('Error'), 'tabfocused');&quot;/&gt;</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineplus">+  &lt;/menupopup&gt;</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineplus">+&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/browser/tabbrowser.xml</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/browser/tabbrowser.xml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1085,24 +1085,22 @@</span>
<a href="#l7.4"></a><span id="l7.4">               const nsIScriptSecurityManager =</span>
<a href="#l7.5"></a><span id="l7.5">                 Components.interfaces.nsIScriptSecurityManager;</span>
<a href="#l7.6"></a><span id="l7.6"> </span>
<a href="#l7.7"></a><span id="l7.7">               const targetDoc = event.target.ownerDocument;</span>
<a href="#l7.8"></a><span id="l7.8">               // Make a URI out of our href.</span>
<a href="#l7.9"></a><span id="l7.9">               var uri = this.mIOService.newURI(href, targetDoc.characterSet, null);</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11">               // Verify that the load of this icon is legal.</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-              // error pages can load their favicon, to be on the safe side,</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-              // only allow chrome:// favicons</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-              const aboutNeterr = /^about:neterror\?/;</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-              const aboutCerterr = /^about:certerror\?/;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-              if (!(aboutNeterr.test(targetDoc.documentURI) ||</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-                    aboutCerterr.test(targetDoc.documentURI)) ||</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-                  !uri.schemeIs(&quot;chrome&quot;)) {</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineplus">+              // Some error or special pages can load their favicon.</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineplus">+              // To be on the safe side, only allow chrome:// favicons.</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineplus">+              const re = /^about:(neterror|certerror|blocked)\?/;</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineplus">+              var isAllowedPage = re.test(targetDoc.documentURI);</span>
<a href="#l7.24"></a><span id="l7.24" class="difflineplus">+</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineplus">+              if (!isAllowedPage || !uri.schemeIs(&quot;chrome&quot;)) {</span>
<a href="#l7.26"></a><span id="l7.26">                 const secMan =</span>
<a href="#l7.27"></a><span id="l7.27">                   Components.classes[&quot;@mozilla.org/scriptsecuritymanager;1&quot;]</span>
<a href="#l7.28"></a><span id="l7.28">                             .getService(nsIScriptSecurityManager);</span>
<a href="#l7.29"></a><span id="l7.29"> </span>
<a href="#l7.30"></a><span id="l7.30">                 try {</span>
<a href="#l7.31"></a><span id="l7.31">                   secMan.checkLoadURIWithPrincipal(event.target.nodePrincipal,</span>
<a href="#l7.32"></a><span id="l7.32">                                  uri, nsIScriptSecurityManager.DISALLOW_SCRIPT);</span>
<a href="#l7.33"></a><span id="l7.33">                 } catch(e) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/common/bindings/notification.xml</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/common/bindings/notification.xml</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -991,17 +991,17 @@</span>
<a href="#l8.4"></a><span id="l8.4">               if (uri.asciiHost == host)</span>
<a href="#l8.5"></a><span id="l8.5">                 usage += cacheService.getActiveCache(aGroup).usage;</span>
<a href="#l8.6"></a><span id="l8.6">             });</span>
<a href="#l8.7"></a><span id="l8.7">             var warnQuota = this._prefs.getIntPref(&quot;offline-apps.quota.warn&quot;);</span>
<a href="#l8.8"></a><span id="l8.8">             if (usage &lt; warnQuota * 1024)</span>
<a href="#l8.9"></a><span id="l8.9">               return;</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11">             var message = this._stringBundle.formatStringFromName(&quot;offlineApps.quota&quot;, [host, warnQuota / 1024], 2);</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-              var priority = this.PRIORITY_WARNING_MEDIUM;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+            var priority = this.PRIORITY_WARNING_MEDIUM;</span>
<a href="#l8.14"></a><span id="l8.14">             this.appendNotification(message, &quot;offline-app-usage&quot;, null,</span>
<a href="#l8.15"></a><span id="l8.15">                                     priority, null);</span>
<a href="#l8.16"></a><span id="l8.16">             pm.add(aURI, &quot;offline-app&quot;,</span>
<a href="#l8.17"></a><span id="l8.17">                    Components.interfaces.nsIOfflineCacheUpdateService.ALLOW_NO_WARN);</span>
<a href="#l8.18"></a><span id="l8.18">           ]]&gt;</span>
<a href="#l8.19"></a><span id="l8.19">         &lt;/body&gt;</span>
<a href="#l8.20"></a><span id="l8.20">       &lt;/method&gt;</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -1644,16 +1644,79 @@</span>
<a href="#l8.23"></a><span id="l8.23">             box.installInfo = installInfo;</span>
<a href="#l8.24"></a><span id="l8.24">             installInfo.installs.forEach(function(aInstall) {</span>
<a href="#l8.25"></a><span id="l8.25">               aInstall.addListener(box);</span>
<a href="#l8.26"></a><span id="l8.26">             });</span>
<a href="#l8.27"></a><span id="l8.27">           ]]&gt;</span>
<a href="#l8.28"></a><span id="l8.28">         &lt;/body&gt;</span>
<a href="#l8.29"></a><span id="l8.29">       &lt;/method&gt;</span>
<a href="#l8.30"></a><span id="l8.30"> </span>
<a href="#l8.31"></a><span id="l8.31" class="difflineplus">+      &lt;method name=&quot;ignoreSafeBrowsingWarning&quot;&gt;</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+        &lt;parameter name=&quot;aIsMalware&quot;/&gt;</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineplus">+            var uri = this.activeBrowser.currentURI;</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineplus">+            var asciiSpec = uri.asciiSpec;</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineplus">+            var flag = Components.interfaces.nsIWebNavigation.LOAD_FLAGS_BYPASS_CLASSIFIER;</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineplus">+            this.activeBrowser.loadURIWithFlags(asciiSpec, flag,</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineplus">+                                                null, null, null);</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineplus">+</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineplus">+            const nsIPermissionManager = Components.interfaces.nsIPermissionManager;</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineplus">+            var pm = Components.classes[&quot;@mozilla.org/permissionmanager;1&quot;]</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineplus">+                               .getService(nsIPermissionManager);</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineplus">+            pm.add(uri, &quot;safe-browsing&quot;, nsIPermissionManager.ALLOW_ACTION,</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineplus">+                                         nsIPermissionManager.EXPIRE_SESSION);</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineplus">+</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineplus">+            var title, label, accessKey, reportName;</span>
<a href="#l8.48"></a><span id="l8.48" class="difflineplus">+            if (aIsMalware) {</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineplus">+              title = &quot;safebrowsing.reportedAttackSite&quot;;</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineplus">+              label = &quot;safebrowsing.notAnAttackButton.label&quot;;</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+              accessKey = &quot;safebrowsing.notAnAttackButton.accessKey&quot;;</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineplus">+              reportName = &quot;MalwareError&quot;;</span>
<a href="#l8.53"></a><span id="l8.53" class="difflineplus">+            }</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineplus">+            else {</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineplus">+              title = &quot;safebrowsing.reportedWebForgery&quot;;</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineplus">+              label = &quot;safebrowsing.notAForgeryButton.label&quot;;</span>
<a href="#l8.57"></a><span id="l8.57" class="difflineplus">+              accessKey = &quot;safebrowsing.notAForgeryButton.accessKey&quot;;</span>
<a href="#l8.58"></a><span id="l8.58" class="difflineplus">+              reportName = &quot;Error&quot;;</span>
<a href="#l8.59"></a><span id="l8.59" class="difflineplus">+            }</span>
<a href="#l8.60"></a><span id="l8.60" class="difflineplus">+            title = this._stringBundle.GetStringFromName(title);</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineplus">+</span>
<a href="#l8.62"></a><span id="l8.62" class="difflineplus">+            var tmp = {};</span>
<a href="#l8.63"></a><span id="l8.63" class="difflineplus">+            Components.utils.import(&quot;resource://gre/modules/SafeBrowsing.jsm&quot;, tmp);</span>
<a href="#l8.64"></a><span id="l8.64" class="difflineplus">+            var reportUrl = tmp.SafeBrowsing.getReportURL(reportName);</span>
<a href="#l8.65"></a><span id="l8.65" class="difflineplus">+            reportUrl += &quot;&amp;url=&quot; + encodeURIComponent(asciiSpec);</span>
<a href="#l8.66"></a><span id="l8.66" class="difflineplus">+</span>
<a href="#l8.67"></a><span id="l8.67" class="difflineplus">+            var buttons = [{</span>
<a href="#l8.68"></a><span id="l8.68" class="difflineplus">+              label: this._stringBundle.GetStringFromName(&quot;safebrowsing.getMeOutOfHereButton.label&quot;),</span>
<a href="#l8.69"></a><span id="l8.69" class="difflineplus">+              accessKey: this._stringBundle.GetStringFromName(&quot;safebrowsing.getMeOutOfHereButton.accessKey&quot;),</span>
<a href="#l8.70"></a><span id="l8.70" class="difflineplus">+              callback: getMeOutOfHere</span>
<a href="#l8.71"></a><span id="l8.71" class="difflineplus">+            }, {</span>
<a href="#l8.72"></a><span id="l8.72" class="difflineplus">+              label: this._stringBundle.GetStringFromName(label),</span>
<a href="#l8.73"></a><span id="l8.73" class="difflineplus">+              accessKey: this._stringBundle.GetStringFromName(accessKey),</span>
<a href="#l8.74"></a><span id="l8.74" class="difflineplus">+              callback: function () { openUILinkIn(reportUrl, &quot;tabfocused&quot;); }</span>
<a href="#l8.75"></a><span id="l8.75" class="difflineplus">+            }];</span>
<a href="#l8.76"></a><span id="l8.76" class="difflineplus">+</span>
<a href="#l8.77"></a><span id="l8.77" class="difflineplus">+            var type = &quot;blocked-badware-page&quot;;</span>
<a href="#l8.78"></a><span id="l8.78" class="difflineplus">+            var notification = this.getNotificationWithValue(type);</span>
<a href="#l8.79"></a><span id="l8.79" class="difflineplus">+            if (notification)</span>
<a href="#l8.80"></a><span id="l8.80" class="difflineplus">+              this.removeNotification(notification);</span>
<a href="#l8.81"></a><span id="l8.81" class="difflineplus">+</span>
<a href="#l8.82"></a><span id="l8.82" class="difflineplus">+            var box = this.appendNotification(title, type, null,</span>
<a href="#l8.83"></a><span id="l8.83" class="difflineplus">+                                              this.PRIORITY_CRITICAL_HIGH,</span>
<a href="#l8.84"></a><span id="l8.84" class="difflineplus">+                                              buttons);</span>
<a href="#l8.85"></a><span id="l8.85" class="difflineplus">+</span>
<a href="#l8.86"></a><span id="l8.86" class="difflineplus">+            // Persist the notification until the user removes so it</span>
<a href="#l8.87"></a><span id="l8.87" class="difflineplus">+            // doesn't get removed on redirects.</span>
<a href="#l8.88"></a><span id="l8.88" class="difflineplus">+            box.persistence = -1;</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineplus">+</span>
<a href="#l8.90"></a><span id="l8.90" class="difflineplus">+          ]]&gt;</span>
<a href="#l8.91"></a><span id="l8.91" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l8.92"></a><span id="l8.92" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l8.93"></a><span id="l8.93" class="difflineplus">+</span>
<a href="#l8.94"></a><span id="l8.94">       &lt;constructor&gt;</span>
<a href="#l8.95"></a><span id="l8.95">         &lt;![CDATA[</span>
<a href="#l8.96"></a><span id="l8.96">           var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l8.97"></a><span id="l8.97">                              .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l8.98"></a><span id="l8.98">           os.addObserver(this, &quot;indexedDB-permissions-prompt&quot;, false);</span>
<a href="#l8.99"></a><span id="l8.99">           os.addObserver(this, &quot;indexedDB-quota-prompt&quot;, false);</span>
<a href="#l8.100"></a><span id="l8.100">           os.addObserver(this, &quot;indexedDB-quota-cancel&quot;, false);</span>
<a href="#l8.101"></a><span id="l8.101">           os.addObserver(this, &quot;addon-install-blocked&quot;, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">new file mode 100644</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineminus">--- /dev/null</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineplus">+++ b/suite/common/blockedSite.xhtml</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineat">@@ -0,0 +1,184 @@</span>
<a href="#l9.5"></a><span id="l9.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l9.6"></a><span id="l9.6" class="difflineplus">+</span>
<a href="#l9.7"></a><span id="l9.7" class="difflineplus">+&lt;!DOCTYPE html [</span>
<a href="#l9.8"></a><span id="l9.8" class="difflineplus">+  &lt;!ENTITY % htmlDTD PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;DTD/xhtml1-strict.dtd&quot;&gt;</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineplus">+  %htmlDTD;</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineplus">+  &lt;!ENTITY % globalDTD SYSTEM &quot;chrome://global/locale/global.dtd&quot;&gt;</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+  %globalDTD;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+  &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+  %brandDTD;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+  &lt;!ENTITY % blockedSiteDTD SYSTEM &quot;chrome://communicator/locale/safeBrowsing.dtd&quot;&gt;</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+  %blockedSiteDTD;</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+]&gt;</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineplus">+</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; class=&quot;blacklist&quot;&gt;</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+  &lt;head&gt;</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineplus">+    &lt;link rel=&quot;stylesheet&quot; href=&quot;chrome://communicator/content/certError.css&quot; type=&quot;text/css&quot; media=&quot;all&quot; /&gt;</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineplus">+    &lt;link rel=&quot;stylesheet&quot; href=&quot;chrome://global/skin/netError.css&quot; type=&quot;text/css&quot; media=&quot;all&quot; /&gt;</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineplus">+    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; id=&quot;favicon&quot; href=&quot;chrome://global/skin/icons/blacklist_favicon.png&quot;/&gt;</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+    &lt;script type=&quot;application/javascript&quot;&gt;&lt;![CDATA[</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineplus">+      // Error url MUST be formatted like this:</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineplus">+      //   about:blocked?e=error_code&amp;u=url</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+      // Note that this file uses document.documentURI to get</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+      // the URL (with the format from above). This is because</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+      // document.location.href gets the current URI off the docshell,</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+      // which is the URL displayed in the location bar, i.e.</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineplus">+      // the URI that the user attempted to load.</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineplus">+</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineplus">+      function getErrorCode()</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineplus">+      {</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineplus">+        var url = document.documentURI;</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+        var error = url.indexOf(&quot;e=&quot;);</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+        var duffUrl = url.indexOf(&quot;&amp;u=&quot;);</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+        return url.slice(error + 2, duffUrl);</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+      }</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineplus">+      function getURL()</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineplus">+      {</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineplus">+        var url = document.documentURI;</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineplus">+        var match = url.match(/&amp;u=([^&amp;]+)&amp;/);</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+        // match == null if not found; if so, return an empty string</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+        // instead of what would turn out to be portions of the URI</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+        if (!match)</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+          return &quot;&quot;;</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+</span>
<a href="#l9.56"></a><span id="l9.56" class="difflineplus">+        url = decodeURIComponent(match[1]);</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineplus">+</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineplus">+        // If this is a view-source page, then get then real URI of the page</span>
<a href="#l9.59"></a><span id="l9.59" class="difflineplus">+        if (url.startsWith(&quot;view-source:&quot;))</span>
<a href="#l9.60"></a><span id="l9.60" class="difflineplus">+          url = url.slice(12);</span>
<a href="#l9.61"></a><span id="l9.61" class="difflineplus">+        return url;</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineplus">+      }</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineplus">+</span>
<a href="#l9.64"></a><span id="l9.64" class="difflineplus">+      /**</span>
<a href="#l9.65"></a><span id="l9.65" class="difflineplus">+       * Attempt to get the hostname via document.location.  Fail back</span>
<a href="#l9.66"></a><span id="l9.66" class="difflineplus">+       * to getURL so that we always return something meaningful.</span>
<a href="#l9.67"></a><span id="l9.67" class="difflineplus">+       */</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineplus">+      function getHostString()</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineplus">+      {</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineplus">+        try {</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineplus">+          return document.location.hostname;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineplus">+        } catch (e) {</span>
<a href="#l9.73"></a><span id="l9.73" class="difflineplus">+          return getURL();</span>
<a href="#l9.74"></a><span id="l9.74" class="difflineplus">+        }</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineplus">+      }</span>
<a href="#l9.76"></a><span id="l9.76" class="difflineplus">+</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineplus">+      function initPage()</span>
<a href="#l9.78"></a><span id="l9.78" class="difflineplus">+      {</span>
<a href="#l9.79"></a><span id="l9.79" class="difflineplus">+        // Handoff to the appropriate initializer, based on error code</span>
<a href="#l9.80"></a><span id="l9.80" class="difflineplus">+        switch (getErrorCode()) {</span>
<a href="#l9.81"></a><span id="l9.81" class="difflineplus">+          case &quot;malwareBlocked&quot; :</span>
<a href="#l9.82"></a><span id="l9.82" class="difflineplus">+            initPage_malware();</span>
<a href="#l9.83"></a><span id="l9.83" class="difflineplus">+            break;</span>
<a href="#l9.84"></a><span id="l9.84" class="difflineplus">+          case &quot;phishingBlocked&quot; :</span>
<a href="#l9.85"></a><span id="l9.85" class="difflineplus">+            initPage_phishing();</span>
<a href="#l9.86"></a><span id="l9.86" class="difflineplus">+            break;</span>
<a href="#l9.87"></a><span id="l9.87" class="difflineplus">+        }</span>
<a href="#l9.88"></a><span id="l9.88" class="difflineplus">+      }</span>
<a href="#l9.89"></a><span id="l9.89" class="difflineplus">+</span>
<a href="#l9.90"></a><span id="l9.90" class="difflineplus">+      /**</span>
<a href="#l9.91"></a><span id="l9.91" class="difflineplus">+       * Initialize custom strings and functionality for blocked malware case</span>
<a href="#l9.92"></a><span id="l9.92" class="difflineplus">+       */</span>
<a href="#l9.93"></a><span id="l9.93" class="difflineplus">+      function initPage_malware()</span>
<a href="#l9.94"></a><span id="l9.94" class="difflineplus">+      {</span>
<a href="#l9.95"></a><span id="l9.95" class="difflineplus">+        // Remove phishing strings</span>
<a href="#l9.96"></a><span id="l9.96" class="difflineplus">+        var el = document.getElementById(&quot;errorTitleText_phishing&quot;);</span>
<a href="#l9.97"></a><span id="l9.97" class="difflineplus">+        el.parentNode.removeChild(el);</span>
<a href="#l9.98"></a><span id="l9.98" class="difflineplus">+</span>
<a href="#l9.99"></a><span id="l9.99" class="difflineplus">+        el = document.getElementById(&quot;errorShortDescText_phishing&quot;);</span>
<a href="#l9.100"></a><span id="l9.100" class="difflineplus">+        el.parentNode.removeChild(el);</span>
<a href="#l9.101"></a><span id="l9.101" class="difflineplus">+</span>
<a href="#l9.102"></a><span id="l9.102" class="difflineplus">+        el = document.getElementById(&quot;errorLongDescText_phishing&quot;);</span>
<a href="#l9.103"></a><span id="l9.103" class="difflineplus">+        el.parentNode.removeChild(el);</span>
<a href="#l9.104"></a><span id="l9.104" class="difflineplus">+</span>
<a href="#l9.105"></a><span id="l9.105" class="difflineplus">+        // Set sitename</span>
<a href="#l9.106"></a><span id="l9.106" class="difflineplus">+        document.getElementById(&quot;malware_sitename&quot;).textContent = getHostString();</span>
<a href="#l9.107"></a><span id="l9.107" class="difflineplus">+        document.title = document.getElementById(&quot;errorTitleText_malware&quot;)</span>
<a href="#l9.108"></a><span id="l9.108" class="difflineplus">+                                 .textContent;</span>
<a href="#l9.109"></a><span id="l9.109" class="difflineplus">+      }</span>
<a href="#l9.110"></a><span id="l9.110" class="difflineplus">+</span>
<a href="#l9.111"></a><span id="l9.111" class="difflineplus">+      /**</span>
<a href="#l9.112"></a><span id="l9.112" class="difflineplus">+       * Initialize custom strings and functionality for blocked phishing case</span>
<a href="#l9.113"></a><span id="l9.113" class="difflineplus">+       */</span>
<a href="#l9.114"></a><span id="l9.114" class="difflineplus">+      function initPage_phishing()</span>
<a href="#l9.115"></a><span id="l9.115" class="difflineplus">+      {</span>
<a href="#l9.116"></a><span id="l9.116" class="difflineplus">+        // Remove malware strings</span>
<a href="#l9.117"></a><span id="l9.117" class="difflineplus">+        var el = document.getElementById(&quot;errorTitleText_malware&quot;);</span>
<a href="#l9.118"></a><span id="l9.118" class="difflineplus">+        el.parentNode.removeChild(el);</span>
<a href="#l9.119"></a><span id="l9.119" class="difflineplus">+</span>
<a href="#l9.120"></a><span id="l9.120" class="difflineplus">+        el = document.getElementById(&quot;errorShortDescText_malware&quot;);</span>
<a href="#l9.121"></a><span id="l9.121" class="difflineplus">+        el.parentNode.removeChild(el);</span>
<a href="#l9.122"></a><span id="l9.122" class="difflineplus">+</span>
<a href="#l9.123"></a><span id="l9.123" class="difflineplus">+        el = document.getElementById(&quot;errorLongDescText_malware&quot;);</span>
<a href="#l9.124"></a><span id="l9.124" class="difflineplus">+        el.parentNode.removeChild(el);</span>
<a href="#l9.125"></a><span id="l9.125" class="difflineplus">+</span>
<a href="#l9.126"></a><span id="l9.126" class="difflineplus">+        // Set sitename</span>
<a href="#l9.127"></a><span id="l9.127" class="difflineplus">+        document.getElementById(&quot;phishing_sitename&quot;).textContent = getHostString();</span>
<a href="#l9.128"></a><span id="l9.128" class="difflineplus">+        document.title = document.getElementById(&quot;errorTitleText_phishing&quot;)</span>
<a href="#l9.129"></a><span id="l9.129" class="difflineplus">+                                 .textContent;</span>
<a href="#l9.130"></a><span id="l9.130" class="difflineplus">+      }</span>
<a href="#l9.131"></a><span id="l9.131" class="difflineplus">+    ]]&gt;&lt;/script&gt;</span>
<a href="#l9.132"></a><span id="l9.132" class="difflineplus">+    &lt;style type=&quot;text/css&quot;&gt;</span>
<a href="#l9.133"></a><span id="l9.133" class="difflineplus">+      #buttons &gt; span {</span>
<a href="#l9.134"></a><span id="l9.134" class="difflineplus">+        float: left;</span>
<a href="#l9.135"></a><span id="l9.135" class="difflineplus">+      }</span>
<a href="#l9.136"></a><span id="l9.136" class="difflineplus">+</span>
<a href="#l9.137"></a><span id="l9.137" class="difflineplus">+      #buttons &gt; #ignoreWarningButton {</span>
<a href="#l9.138"></a><span id="l9.138" class="difflineplus">+        float: right;</span>
<a href="#l9.139"></a><span id="l9.139" class="difflineplus">+        font-size: smaller;</span>
<a href="#l9.140"></a><span id="l9.140" class="difflineplus">+      }</span>
<a href="#l9.141"></a><span id="l9.141" class="difflineplus">+</span>
<a href="#l9.142"></a><span id="l9.142" class="difflineplus">+      #malware_sitename,</span>
<a href="#l9.143"></a><span id="l9.143" class="difflineplus">+      #phishing_sitename {</span>
<a href="#l9.144"></a><span id="l9.144" class="difflineplus">+        word-wrap: break-word;</span>
<a href="#l9.145"></a><span id="l9.145" class="difflineplus">+      }</span>
<a href="#l9.146"></a><span id="l9.146" class="difflineplus">+    &lt;/style&gt;</span>
<a href="#l9.147"></a><span id="l9.147" class="difflineplus">+  &lt;/head&gt;</span>
<a href="#l9.148"></a><span id="l9.148" class="difflineplus">+</span>
<a href="#l9.149"></a><span id="l9.149" class="difflineplus">+  &lt;body dir=&quot;&amp;locale.dir;&quot;&gt;</span>
<a href="#l9.150"></a><span id="l9.150" class="difflineplus">+    &lt;div id=&quot;errorPageContainer&quot;&gt;</span>
<a href="#l9.151"></a><span id="l9.151" class="difflineplus">+</span>
<a href="#l9.152"></a><span id="l9.152" class="difflineplus">+      &lt;!-- Error Title --&gt;</span>
<a href="#l9.153"></a><span id="l9.153" class="difflineplus">+      &lt;div id=&quot;errorTitle&quot;&gt;</span>
<a href="#l9.154"></a><span id="l9.154" class="difflineplus">+        &lt;h1 id=&quot;errorTitleText_phishing&quot;&gt;&amp;safeb.blocked.phishingPage.title;&lt;/h1&gt;</span>
<a href="#l9.155"></a><span id="l9.155" class="difflineplus">+        &lt;h1 id=&quot;errorTitleText_malware&quot;&gt;&amp;safeb.blocked.malwarePage.title;&lt;/h1&gt;</span>
<a href="#l9.156"></a><span id="l9.156" class="difflineplus">+      &lt;/div&gt;</span>
<a href="#l9.157"></a><span id="l9.157" class="difflineplus">+</span>
<a href="#l9.158"></a><span id="l9.158" class="difflineplus">+      &lt;div id=&quot;errorLongContent&quot;&gt;</span>
<a href="#l9.159"></a><span id="l9.159" class="difflineplus">+</span>
<a href="#l9.160"></a><span id="l9.160" class="difflineplus">+        &lt;!-- Short Description --&gt;</span>
<a href="#l9.161"></a><span id="l9.161" class="difflineplus">+        &lt;div id=&quot;errorShortDesc&quot;&gt;</span>
<a href="#l9.162"></a><span id="l9.162" class="difflineplus">+          &lt;p id=&quot;errorShortDescText_phishing&quot;&gt;&amp;safeb.blocked.phishingPage.shortDesc;&lt;/p&gt;</span>
<a href="#l9.163"></a><span id="l9.163" class="difflineplus">+          &lt;p id=&quot;errorShortDescText_malware&quot;&gt;&amp;safeb.blocked.malwarePage.shortDesc;&lt;/p&gt;</span>
<a href="#l9.164"></a><span id="l9.164" class="difflineplus">+        &lt;/div&gt;</span>
<a href="#l9.165"></a><span id="l9.165" class="difflineplus">+</span>
<a href="#l9.166"></a><span id="l9.166" class="difflineplus">+        &lt;!-- Long Description --&gt;</span>
<a href="#l9.167"></a><span id="l9.167" class="difflineplus">+        &lt;div id=&quot;errorLongDesc&quot;&gt;</span>
<a href="#l9.168"></a><span id="l9.168" class="difflineplus">+          &lt;p id=&quot;errorLongDescText_phishing&quot;&gt;&amp;safeb.blocked.phishingPage.longDesc;&lt;/p&gt;</span>
<a href="#l9.169"></a><span id="l9.169" class="difflineplus">+          &lt;p id=&quot;errorLongDescText_malware&quot;&gt;&amp;safeb.blocked.malwarePage.longDesc;&lt;/p&gt;</span>
<a href="#l9.170"></a><span id="l9.170" class="difflineplus">+        &lt;/div&gt;</span>
<a href="#l9.171"></a><span id="l9.171" class="difflineplus">+</span>
<a href="#l9.172"></a><span id="l9.172" class="difflineplus">+        &lt;!-- Action buttons --&gt;</span>
<a href="#l9.173"></a><span id="l9.173" class="difflineplus">+        &lt;div id=&quot;buttons&quot;&gt;</span>
<a href="#l9.174"></a><span id="l9.174" class="difflineplus">+          &lt;!-- Commands handled in utilityOverlay.js --&gt;</span>
<a href="#l9.175"></a><span id="l9.175" class="difflineplus">+          &lt;span id=&quot;getMeOutOfHereButton&quot; label=&quot;&amp;safeb.palm.accept.label;&quot;/&gt;</span>
<a href="#l9.176"></a><span id="l9.176" class="difflineplus">+          &lt;span id=&quot;reportButton&quot; label=&quot;&amp;safeb.palm.reportPage.label;&quot;/&gt;</span>
<a href="#l9.177"></a><span id="l9.177" class="difflineplus">+          &lt;span id=&quot;ignoreWarningButton&quot; label=&quot;&amp;safeb.palm.decline.label;&quot;/&gt;</span>
<a href="#l9.178"></a><span id="l9.178" class="difflineplus">+        &lt;/div&gt;</span>
<a href="#l9.179"></a><span id="l9.179" class="difflineplus">+      &lt;/div&gt;</span>
<a href="#l9.180"></a><span id="l9.180" class="difflineplus">+    &lt;/div&gt;</span>
<a href="#l9.181"></a><span id="l9.181" class="difflineplus">+    &lt;!--</span>
<a href="#l9.182"></a><span id="l9.182" class="difflineplus">+    - Note: It is important to run the script this way, instead of using</span>
<a href="#l9.183"></a><span id="l9.183" class="difflineplus">+    - an onload handler. This is because error pages are loaded as</span>
<a href="#l9.184"></a><span id="l9.184" class="difflineplus">+    - LOAD_BACKGROUND, which means that onload handlers will not be executed.</span>
<a href="#l9.185"></a><span id="l9.185" class="difflineplus">+    --&gt;</span>
<a href="#l9.186"></a><span id="l9.186" class="difflineplus">+    &lt;script type=&quot;application/javascript&quot;&gt;initPage();&lt;/script&gt;</span>
<a href="#l9.187"></a><span id="l9.187" class="difflineplus">+  &lt;/body&gt;</span>
<a href="#l9.188"></a><span id="l9.188" class="difflineplus">+&lt;/html&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/common/jar.mn</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/common/jar.mn</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -47,16 +47,17 @@ comm.jar:</span>
<a href="#l10.4"></a><span id="l10.4"> % content communicator-platform %content/communicator-platform/ platform</span>
<a href="#l10.5"></a><span id="l10.5"> % content communicator-region %content/communicator-region/</span>
<a href="#l10.6"></a><span id="l10.6">    content/communicator/about.xhtml</span>
<a href="#l10.7"></a><span id="l10.7">    content/communicator/aboutLife.xhtml</span>
<a href="#l10.8"></a><span id="l10.8">    content/communicator/aboutSessionRestore.js</span>
<a href="#l10.9"></a><span id="l10.9">    content/communicator/aboutSessionRestore.xhtml</span>
<a href="#l10.10"></a><span id="l10.10">    content/communicator/askViewZoom.xul</span>
<a href="#l10.11"></a><span id="l10.11">    content/communicator/askViewZoom.js</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+   content/communicator/blockedSite.xhtml</span>
<a href="#l10.13"></a><span id="l10.13">    content/communicator/certError.css</span>
<a href="#l10.14"></a><span id="l10.14">    content/communicator/certError.xhtml</span>
<a href="#l10.15"></a><span id="l10.15">    content/communicator/certError.xml</span>
<a href="#l10.16"></a><span id="l10.16">    content/communicator/communicator.css</span>
<a href="#l10.17"></a><span id="l10.17">    content/communicator/consoleOverlay.xul</span>
<a href="#l10.18"></a><span id="l10.18">    content/communicator/contentAreaClick.js</span>
<a href="#l10.19"></a><span id="l10.19">    content/communicator/contentAreaContextOverlay.xul</span>
<a href="#l10.20"></a><span id="l10.20">    content/communicator/defaultClientDialog.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/suite/common/src/SuiteCommon.manifest</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/suite/common/src/SuiteCommon.manifest</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1,12 +1,13 @@</span>
<a href="#l11.4"></a><span id="l11.4"> component {08bbb4af-7bff-4b16-8ff7-d62f3ec5aa0c} nsSuiteDownloadManagerUI.js</span>
<a href="#l11.5"></a><span id="l11.5"> contract @mozilla.org/download-manager-ui;1 {08bbb4af-7bff-4b16-8ff7-d62f3ec5aa0c}</span>
<a href="#l11.6"></a><span id="l11.6"> component {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f} nsAbout.js</span>
<a href="#l11.7"></a><span id="l11.7"> contract @mozilla.org/network/protocol/about;1?what= {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineplus">+contract @mozilla.org/network/protocol/about;1?what=blocked {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.9"></a><span id="l11.9"> contract @mozilla.org/network/protocol/about;1?what=certerror {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.10"></a><span id="l11.10"> contract @mozilla.org/network/protocol/about;1?what=data {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.11"></a><span id="l11.11"> contract @mozilla.org/network/protocol/about;1?what=feeds {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.12"></a><span id="l11.12"> contract @mozilla.org/network/protocol/about;1?what=life {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.13"></a><span id="l11.13"> contract @mozilla.org/network/protocol/about;1?what=rights {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.14"></a><span id="l11.14"> contract @mozilla.org/network/protocol/about;1?what=sessionrestore {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.15"></a><span id="l11.15"> contract @mozilla.org/network/protocol/about;1?what=sync-tabs {d54f2c89-8fd6-4eeb-a7a4-51d4dcdf460f}</span>
<a href="#l11.16"></a><span id="l11.16"> component {4e6c1112-57b6-44ba-adf9-99fb573b0a30} nsSessionStartup.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/suite/common/src/nsAbout.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/suite/common/src/nsAbout.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -8,16 +8,18 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l12.4"></a><span id="l12.4"> const SCRIPT = Components.interfaces.nsIAboutModule.ALLOW_SCRIPT;</span>
<a href="#l12.5"></a><span id="l12.5"> const UNTRUSTED = Components.interfaces.nsIAboutModule.URI_SAFE_FOR_UNTRUSTED_CONTENT;</span>
<a href="#l12.6"></a><span id="l12.6"> const HIDE = Components.interfaces.nsIAboutModule.HIDE_FROM_ABOUTABOUT;</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8"> function About() { }</span>
<a href="#l12.9"></a><span id="l12.9"> About.prototype = {</span>
<a href="#l12.10"></a><span id="l12.10">   Flags: SCRIPT,</span>
<a href="#l12.11"></a><span id="l12.11">   URI: &quot;chrome://communicator/content/about.xhtml&quot;,</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+  blockedFlags: SCRIPT | UNTRUSTED | HIDE,</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+  blockedURI: &quot;chrome://communicator/content/blockedSite.xhtml&quot;,</span>
<a href="#l12.14"></a><span id="l12.14">   certerrorFlags: SCRIPT | UNTRUSTED | HIDE,</span>
<a href="#l12.15"></a><span id="l12.15">   certerrorURI: &quot;chrome://communicator/content/certError.xhtml&quot;,</span>
<a href="#l12.16"></a><span id="l12.16">   dataFlags: SCRIPT,</span>
<a href="#l12.17"></a><span id="l12.17">   dataURI: &quot;chrome://communicator/content/dataman/dataman.xul&quot;,</span>
<a href="#l12.18"></a><span id="l12.18">   feedsFlags: SCRIPT | UNTRUSTED | HIDE,</span>
<a href="#l12.19"></a><span id="l12.19">   feedsURI: &quot;chrome://communicator/content/feeds/subscribe.xhtml&quot;,</span>
<a href="#l12.20"></a><span id="l12.20">   lifeFlags: SCRIPT | HIDE,</span>
<a href="#l12.21"></a><span id="l12.21">   lifeURI: &quot;chrome://communicator/content/aboutLife.xhtml&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/suite/common/utilityOverlay.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/suite/common/utilityOverlay.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -1087,22 +1087,23 @@ function openNewTabWindowOrExistingWith(</span>
<a href="#l13.4"></a><span id="l13.4"> function BrowserOnCommand(event)</span>
<a href="#l13.5"></a><span id="l13.5"> {</span>
<a href="#l13.6"></a><span id="l13.6">   // Don't trust synthetic events</span>
<a href="#l13.7"></a><span id="l13.7">   if (!event.isTrusted)</span>
<a href="#l13.8"></a><span id="l13.8">     return;</span>
<a href="#l13.9"></a><span id="l13.9"> </span>
<a href="#l13.10"></a><span id="l13.10">   const ot = event.originalTarget;</span>
<a href="#l13.11"></a><span id="l13.11">   const ownerDoc = ot.ownerDocument;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+  const docURI = ownerDoc.documentURI;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+  const buttonID = ot.getAttribute(&quot;anonid&quot;);</span>
<a href="#l13.14"></a><span id="l13.14"> </span>
<a href="#l13.15"></a><span id="l13.15">   // If the event came from an ssl error page, it is probably either the &quot;Add</span>
<a href="#l13.16"></a><span id="l13.16">   // Exception&quot; or &quot;Get Me Out Of Here&quot; button</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineminus">-  if (/^about:neterror\?e=nssBadCert/.test(ownerDoc.documentURI) ||</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineminus">-      /^about:certerror\?/.test(ownerDoc.documentURI)) {</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineminus">-    if (ot.getAttribute('anonid') == 'exceptionDialogButton') {</span>
<a href="#l13.20"></a><span id="l13.20" class="difflineplus">+  if (docURI.startsWith(&quot;about:certerror?&quot;)) {</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineplus">+    if (buttonID == &quot;exceptionDialogButton&quot;) {</span>
<a href="#l13.22"></a><span id="l13.22">       var params = { exceptionAdded : false };</span>
<a href="#l13.23"></a><span id="l13.23"> </span>
<a href="#l13.24"></a><span id="l13.24">       switch (GetIntPref(&quot;browser.ssl_override_behavior&quot;, 2)) {</span>
<a href="#l13.25"></a><span id="l13.25">         case 2 : // Pre-fetch &amp; pre-populate.</span>
<a href="#l13.26"></a><span id="l13.26">           params.prefetchCert = true;</span>
<a href="#l13.27"></a><span id="l13.27">           // Fall through.</span>
<a href="#l13.28"></a><span id="l13.28">         case 1 : // Pre-populate.</span>
<a href="#l13.29"></a><span id="l13.29">           params.location = ownerDoc.location.href;</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineat">@@ -1110,22 +1111,80 @@ function BrowserOnCommand(event)</span>
<a href="#l13.31"></a><span id="l13.31"> </span>
<a href="#l13.32"></a><span id="l13.32">       window.openDialog('chrome://pippki/content/exceptionDialog.xul',</span>
<a href="#l13.33"></a><span id="l13.33">                         '', 'chrome,centerscreen,modal', params);</span>
<a href="#l13.34"></a><span id="l13.34"> </span>
<a href="#l13.35"></a><span id="l13.35">       // If the user added the exception cert, attempt to reload the page</span>
<a href="#l13.36"></a><span id="l13.36">       if (params.exceptionAdded)</span>
<a href="#l13.37"></a><span id="l13.37">         ownerDoc.location.reload();</span>
<a href="#l13.38"></a><span id="l13.38">     }</span>
<a href="#l13.39"></a><span id="l13.39" class="difflineminus">-    else if (ot.getAttribute('anonid') == 'getMeOutOfHereButton') {</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineplus">+    else if (buttonID == &quot;getMeOutOfHereButton&quot;) {</span>
<a href="#l13.41"></a><span id="l13.41">       // Redirect them to a known-functioning page, default start page</span>
<a href="#l13.42"></a><span id="l13.42" class="difflineminus">-      content.location = GetLocalizedStringPref(&quot;browser.startup.homepage&quot;,</span>
<a href="#l13.43"></a><span id="l13.43" class="difflineminus">-                                                &quot;about:blank&quot;);</span>
<a href="#l13.44"></a><span id="l13.44" class="difflineplus">+      getMeOutOfHere();</span>
<a href="#l13.45"></a><span id="l13.45">     }</span>
<a href="#l13.46"></a><span id="l13.46">   }</span>
<a href="#l13.47"></a><span id="l13.47" class="difflineplus">+  else if (docURI.startsWith(&quot;about:blocked&quot;)) {</span>
<a href="#l13.48"></a><span id="l13.48" class="difflineplus">+    // The event came from a button on a malware/phishing block page</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineplus">+    // First check whether it's malware or phishing, so that we can</span>
<a href="#l13.50"></a><span id="l13.50" class="difflineplus">+    // use the right strings/links</span>
<a href="#l13.51"></a><span id="l13.51" class="difflineplus">+    let isMalware = /e=malwareBlocked/.test(docURI);</span>
<a href="#l13.52"></a><span id="l13.52" class="difflineplus">+</span>
<a href="#l13.53"></a><span id="l13.53" class="difflineplus">+    switch (buttonID) {</span>
<a href="#l13.54"></a><span id="l13.54" class="difflineplus">+      case &quot;getMeOutOfHereButton&quot;:</span>
<a href="#l13.55"></a><span id="l13.55" class="difflineplus">+        getMeOutOfHere();</span>
<a href="#l13.56"></a><span id="l13.56" class="difflineplus">+        break;</span>
<a href="#l13.57"></a><span id="l13.57" class="difflineplus">+</span>
<a href="#l13.58"></a><span id="l13.58" class="difflineplus">+      case &quot;reportButton&quot;:</span>
<a href="#l13.59"></a><span id="l13.59" class="difflineplus">+        // This is the &quot;Why is this site blocked&quot; button.  For malware,</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineplus">+        // we can fetch a site-specific report, for phishing, we redirect</span>
<a href="#l13.61"></a><span id="l13.61" class="difflineplus">+        // to the generic page describing phishing protection.</span>
<a href="#l13.62"></a><span id="l13.62" class="difflineplus">+</span>
<a href="#l13.63"></a><span id="l13.63" class="difflineplus">+        if (isMalware) {</span>
<a href="#l13.64"></a><span id="l13.64" class="difflineplus">+          // Get the stop badware &quot;why is this blocked&quot; report url,</span>
<a href="#l13.65"></a><span id="l13.65" class="difflineplus">+          // append the current url, and go there.</span>
<a href="#l13.66"></a><span id="l13.66" class="difflineplus">+          try {</span>
<a href="#l13.67"></a><span id="l13.67" class="difflineplus">+            let reportURL = Services.urlFormatter.formatURLPref(&quot;browser.safebrowsing.malware.reportURL&quot;);</span>
<a href="#l13.68"></a><span id="l13.68" class="difflineplus">+            reportURL += ownerDoc.location.href;</span>
<a href="#l13.69"></a><span id="l13.69" class="difflineplus">+            loadURI(reportURL);</span>
<a href="#l13.70"></a><span id="l13.70" class="difflineplus">+          } catch (e) {</span>
<a href="#l13.71"></a><span id="l13.71" class="difflineplus">+            Components.utils.reportError(&quot;Couldn't get malware report URL: &quot; + e);</span>
<a href="#l13.72"></a><span id="l13.72" class="difflineplus">+          }</span>
<a href="#l13.73"></a><span id="l13.73" class="difflineplus">+        }</span>
<a href="#l13.74"></a><span id="l13.74" class="difflineplus">+        else { // It's a phishing site, not malware</span>
<a href="#l13.75"></a><span id="l13.75" class="difflineplus">+          try {</span>
<a href="#l13.76"></a><span id="l13.76" class="difflineplus">+            loadURI(Services.urlFormatter.formatURLPref(&quot;browser.safebrowsing.warning.infoURL&quot;));</span>
<a href="#l13.77"></a><span id="l13.77" class="difflineplus">+          } catch (e) {</span>
<a href="#l13.78"></a><span id="l13.78" class="difflineplus">+            Components.utils.reportError(&quot;Couldn't get phishing info URL: &quot; + e);</span>
<a href="#l13.79"></a><span id="l13.79" class="difflineplus">+          }</span>
<a href="#l13.80"></a><span id="l13.80" class="difflineplus">+        }</span>
<a href="#l13.81"></a><span id="l13.81" class="difflineplus">+        break;</span>
<a href="#l13.82"></a><span id="l13.82" class="difflineplus">+</span>
<a href="#l13.83"></a><span id="l13.83" class="difflineplus">+      case &quot;ignoreWarningButton&quot;:</span>
<a href="#l13.84"></a><span id="l13.84" class="difflineplus">+        getBrowser().getNotificationBox().ignoreSafeBrowsingWarning(isMalware);</span>
<a href="#l13.85"></a><span id="l13.85" class="difflineplus">+        break;</span>
<a href="#l13.86"></a><span id="l13.86" class="difflineplus">+    }</span>
<a href="#l13.87"></a><span id="l13.87" class="difflineplus">+  }</span>
<a href="#l13.88"></a><span id="l13.88" class="difflineplus">+}</span>
<a href="#l13.89"></a><span id="l13.89" class="difflineplus">+</span>
<a href="#l13.90"></a><span id="l13.90" class="difflineplus">+/**</span>
<a href="#l13.91"></a><span id="l13.91" class="difflineplus">+ * Re-direct the browser to a known-safe page.  This function is</span>
<a href="#l13.92"></a><span id="l13.92" class="difflineplus">+ * used when, for example, the user browses to a known malware page</span>
<a href="#l13.93"></a><span id="l13.93" class="difflineplus">+ * and is presented with about:blocked.  The &quot;Get me out of here!&quot;</span>
<a href="#l13.94"></a><span id="l13.94" class="difflineplus">+ * button should take the user to the default start page so that even</span>
<a href="#l13.95"></a><span id="l13.95" class="difflineplus">+ * when their own homepage is infected, we can get them somewhere safe.</span>
<a href="#l13.96"></a><span id="l13.96" class="difflineplus">+ */</span>
<a href="#l13.97"></a><span id="l13.97" class="difflineplus">+function getMeOutOfHere() {</span>
<a href="#l13.98"></a><span id="l13.98" class="difflineplus">+  // Get the start page from the *default* pref branch, not the user's</span>
<a href="#l13.99"></a><span id="l13.99" class="difflineplus">+  var prefs = Services.prefs.getDefaultBranch(null);</span>
<a href="#l13.100"></a><span id="l13.100" class="difflineplus">+  var url = &quot;about:blank&quot;;</span>
<a href="#l13.101"></a><span id="l13.101" class="difflineplus">+  try {</span>
<a href="#l13.102"></a><span id="l13.102" class="difflineplus">+    url = prefs.getComplexValue(&quot;browser.startup.homepage&quot;,</span>
<a href="#l13.103"></a><span id="l13.103" class="difflineplus">+                                Components.interfaces.nsIPrefLocalizedString).data;</span>
<a href="#l13.104"></a><span id="l13.104" class="difflineplus">+  } catch(e) {}</span>
<a href="#l13.105"></a><span id="l13.105" class="difflineplus">+  loadURI(url);</span>
<a href="#l13.106"></a><span id="l13.106"> }</span>
<a href="#l13.107"></a><span id="l13.107"> </span>
<a href="#l13.108"></a><span id="l13.108"> function popupNotificationMenuShowing(event)</span>
<a href="#l13.109"></a><span id="l13.109"> {</span>
<a href="#l13.110"></a><span id="l13.110">   var notificationbox = document.popupNode.parentNode.control;</span>
<a href="#l13.111"></a><span id="l13.111">   var uri = notificationbox.activeBrowser.currentURI;</span>
<a href="#l13.112"></a><span id="l13.112">   var allowPopupsForSite = document.getElementById(&quot;allowPopupsForSite&quot;);</span>
<a href="#l13.113"></a><span id="l13.113">   allowPopupsForSite.notificationbox = notificationbox;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/notification.properties</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/notification.properties</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -158,8 +158,21 @@ SecurityTitle=Security Warning</span>
<a href="#l14.4"></a><span id="l14.4"> MixedContentMessage=You have requested an encrypted page that contains some unencrypted information. Information that you see or enter on this page could easily be read by a third party.</span>
<a href="#l14.5"></a><span id="l14.5"> EnterInsecureMessage=You have left an encrypted page. Information you send or receive from now on could easily be read by a third party.</span>
<a href="#l14.6"></a><span id="l14.6"> EnterSecureMessage=You have requested an encrypted page. The website has identified itself correctly, and information you see or enter on this page can't easily be read by a third party.</span>
<a href="#l14.7"></a><span id="l14.7"> SecurityPreferences.label=Preferences</span>
<a href="#l14.8"></a><span id="l14.8"> SecurityPreferences.accesskey=P</span>
<a href="#l14.9"></a><span id="l14.9"> PostToInsecureFromInsecureMessage=The information you have entered is to be sent over an unencrypted connection and could easily be read by a third party.\nAre you sure you want to continue sending this information?</span>
<a href="#l14.10"></a><span id="l14.10"> PostToInsecureFromInsecureShowAgain=Alert me whenever I submit information that's not encrypted.</span>
<a href="#l14.11"></a><span id="l14.11"> PostToInsecureContinue=Continue</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+# Phishing/Malware Notification Bar.</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+# LOCALIZATION NOTE (notAForgery, notAnAttack)</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+# The two button strings will never be shown at the same time, so</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+# it's okay for them to have the same access key.</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineplus">+safebrowsing.getMeOutOfHereButton.label=Get me out of here!</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineplus">+safebrowsing.getMeOutOfHereButton.accessKey=G</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineplus">+safebrowsing.reportedWebForgery=Reported Web Forgery!</span>
<a href="#l14.20"></a><span id="l14.20" class="difflineplus">+safebrowsing.notAForgeryButton.label=This isn't a web forgery…</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineplus">+safebrowsing.notAForgeryButton.accessKey=s</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineplus">+safebrowsing.reportedAttackSite=Reported Attack Site!</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineplus">+safebrowsing.notAnAttackButton.label=This isn't an attack site…</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineplus">+safebrowsing.notAnAttackButton.accessKey=a</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1">new file mode 100644</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineminus">--- /dev/null</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/safeBrowsing.dtd</span>
<a href="#l15.4"></a><span id="l15.4" class="difflineat">@@ -0,0 +1,22 @@</span>
<a href="#l15.5"></a><span id="l15.5" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l15.6"></a><span id="l15.6" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l15.7"></a><span id="l15.7" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l15.8"></a><span id="l15.8" class="difflineplus">+</span>
<a href="#l15.9"></a><span id="l15.9" class="difflineplus">+&lt;!ENTITY safeb.palm.accept.label &quot;Get me out of here!&quot;&gt;</span>
<a href="#l15.10"></a><span id="l15.10" class="difflineplus">+&lt;!ENTITY safeb.palm.decline.label &quot;Ignore this warning&quot;&gt;</span>
<a href="#l15.11"></a><span id="l15.11" class="difflineplus">+&lt;!ENTITY safeb.palm.reportPage.label &quot;Why was this page blocked?&quot;&gt;</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+&lt;!ENTITY safeb.blocked.malwarePage.title &quot;Reported Attack Page!&quot;&gt;</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+&lt;!-- Localization note (safeb.blocked.malware.shortDesc) - Please don't translate the contents of the &lt;span id=&quot;malware_sitename&quot;/&gt; tag.  It will be replaced at runtime with a domain name (e.g. www.badsite.com) --&gt;</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+&lt;!ENTITY safeb.blocked.malwarePage.shortDesc &quot;This web page at &lt;span id='malware_sitename'/&gt; has been reported as an attack page and has been blocked based on your security preferences.&quot;&gt;</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineplus">+&lt;!ENTITY safeb.blocked.malwarePage.longDesc &quot;&lt;p&gt;Attack pages try to install programs that steal private information, use your computer to attack others, or damage your system.&lt;/p&gt;&lt;p&gt;Some attack pages intentionally distribute harmful software, but many are compromised without the knowledge or permission of their owners.&lt;/p&gt;&quot;&gt;</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineplus">+</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineplus">+&lt;!ENTITY safeb.blocked.phishingPage.title &quot;Reported Web Forgery!&quot;&gt;</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+&lt;!-- Localization note (safeb.blocked.phishing.shortDesc) - Please don't translate the contents of the &lt;span id=&quot;phishing_sitename&quot;/&gt; tag. It will be replaced at runtime with a domain name (e.g. www.badsite.com) --&gt;</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineplus">+&lt;!ENTITY safeb.blocked.phishingPage.shortDesc &quot;This web page at &lt;span id='phishing_sitename'/&gt; has been reported as a web forgery and has been blocked based on your security preferences.&quot;&gt;</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineplus">+&lt;!ENTITY safeb.blocked.phishingPage.longDesc &quot;&lt;p&gt;Web forgeries are designed to trick you into revealing personal or financial information by imitating sources you may trust.&lt;/p&gt;&lt;p&gt;Entering any information on this web page may result in identity theft or other fraud.&lt;/p&gt;&quot;&gt;</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineplus">+</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineplus">+&lt;!ENTITY reportPhishSite.label         &quot;Report Web Forgery…&quot;&gt;</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineplus">+&lt;!ENTITY reportPhishSite.accesskey     &quot;F&quot;&gt;</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineplus">+&lt;!ENTITY notAForgery.label             &quot;This isn't a web forgery…&quot;&gt;</span>
<a href="#l15.26"></a><span id="l15.26" class="difflineplus">+&lt;!ENTITY notAForgery.accesskey         &quot;f&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/suite/locales/jar.mn</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/suite/locales/jar.mn</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -32,16 +32,17 @@</span>
<a href="#l16.4"></a><span id="l16.4">   locale/@AB_CD@/communicator/defaultClientDialog.dtd                       (%chrome/common/defaultClientDialog.dtd)</span>
<a href="#l16.5"></a><span id="l16.5">   locale/@AB_CD@/communicator/feeds/subscribe.dtd                           (%chrome/common/feeds/subscribe.dtd)</span>
<a href="#l16.6"></a><span id="l16.6">   locale/@AB_CD@/communicator/feeds/subscribe.properties                    (%chrome/common/feeds/subscribe.properties)</span>
<a href="#l16.7"></a><span id="l16.7">   locale/@AB_CD@/communicator/notification.properties                       (%chrome/common/notification.properties)</span>
<a href="#l16.8"></a><span id="l16.8">   locale/@AB_CD@/communicator/openLocation.dtd                              (%chrome/common/openLocation.dtd)</span>
<a href="#l16.9"></a><span id="l16.9">   locale/@AB_CD@/communicator/openLocation.properties                       (%chrome/common/openLocation.properties)</span>
<a href="#l16.10"></a><span id="l16.10">   locale/@AB_CD@/communicator/passwordManager.dtd                           (%chrome/common/passwordManager.dtd)</span>
<a href="#l16.11"></a><span id="l16.11">   locale/@AB_CD@/communicator/printPreview.dtd                              (%chrome/common/printPreview.dtd)</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+  locale/@AB_CD@/communicator/safeBrowsing.dtd                              (%chrome/common/safeBrowsing.dtd)</span>
<a href="#l16.13"></a><span id="l16.13">   locale/@AB_CD@/communicator/quitDialog.properties                         (%chrome/common/quitDialog.properties)</span>
<a href="#l16.14"></a><span id="l16.14">   locale/@AB_CD@/communicator/shellservice.properties                       (%chrome/common/shellservice.properties)</span>
<a href="#l16.15"></a><span id="l16.15">   locale/@AB_CD@/communicator/sanitize.dtd                                  (%chrome/common/sanitize.dtd)</span>
<a href="#l16.16"></a><span id="l16.16">   locale/@AB_CD@/communicator/setDesktopBackground.dtd                      (%chrome/common/setDesktopBackground.dtd)</span>
<a href="#l16.17"></a><span id="l16.17">   locale/@AB_CD@/communicator/tasksOverlay.dtd                              (%chrome/common/tasksOverlay.dtd)</span>
<a href="#l16.18"></a><span id="l16.18">   locale/@AB_CD@/communicator/typeaheadfind.properties                      (%chrome/common/typeaheadfind.properties)</span>
<a href="#l16.19"></a><span id="l16.19">   locale/@AB_CD@/communicator/utilityOverlay.dtd                            (%chrome/common/utilityOverlay.dtd)</span>
<a href="#l16.20"></a><span id="l16.20">   locale/@AB_CD@/communicator/utilityOverlay.properties                     (%chrome/common/utilityOverlay.properties)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/suite/themes/classic/communicator/communicator.css</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/suite/themes/classic/communicator/communicator.css</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -157,8 +157,12 @@ treecols:-moz-lwtheme {</span>
<a href="#l17.4"></a><span id="l17.4"> .messageImage[value=&quot;lwtheme-install-request&quot;],</span>
<a href="#l17.5"></a><span id="l17.5"> .messageImage[value=&quot;lwtheme-install-notification&quot;] {</span>
<a href="#l17.6"></a><span id="l17.6">   list-style-image: url(&quot;chrome://mozapps/skin/extensions/extensionGeneric-16.png&quot;);</span>
<a href="#l17.7"></a><span id="l17.7"> }</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9"> .messageImage[value=&quot;popup-blocked&quot;] {</span>
<a href="#l17.10"></a><span id="l17.10">   list-style-image: url(&quot;chrome://navigator/skin/icons/popup-blocked.png&quot;);</span>
<a href="#l17.11"></a><span id="l17.11"> }</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+.messageImage[value=&quot;blocked-badware-page&quot;] {</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/blacklist_favicon.png&quot;);</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/suite/themes/modern/communicator/communicator.css</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/suite/themes/modern/communicator/communicator.css</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -124,8 +124,12 @@ toolbar[iconsize=&quot;small&quot;] &gt; #print-butto</span>
<a href="#l18.4"></a><span id="l18.4"> .messageImage[value=&quot;lwtheme-install-request&quot;],</span>
<a href="#l18.5"></a><span id="l18.5"> .messageImage[value=&quot;lwtheme-install-notification&quot;] {</span>
<a href="#l18.6"></a><span id="l18.6">   list-style-image: url(&quot;chrome://mozapps/skin/extensions/extensionGeneric-16.png&quot;);</span>
<a href="#l18.7"></a><span id="l18.7"> }</span>
<a href="#l18.8"></a><span id="l18.8"> </span>
<a href="#l18.9"></a><span id="l18.9"> .messageImage[value=&quot;popup-blocked&quot;] {</span>
<a href="#l18.10"></a><span id="l18.10">   list-style-image: url(&quot;chrome://navigator/skin/icons/popup-blocked.png&quot;);</span>
<a href="#l18.11"></a><span id="l18.11"> }</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+.messageImage[value=&quot;blocked-badware-page&quot;] {</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+  list-style-image: url(&quot;chrome://global/skin/icons/blacklist_favicon.png&quot;);</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1">new file mode 100644</span>
<a href="#l19.2"></a><span id="l19.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..c347fb36aae9618bf74073f72aa63450c413c089</span>
<a href="#l19.3"></a><span id="l19.3">GIT binary patch
literal 591
zc$@)G0&lt;iswP)&lt;h;3K|Lk000e1NJLTq000mG000mO1^@s6AM^iV0006ONkl&lt;Zc-pO!
z%}bPF6vcn{d1rLq8OJnjqZ2a~6hk0Ui&lt;X8#gh*}LMPMJBw)F?J$VE_pKv0Vek`}q?
zKj&gt;pCT1@I9lSo{Il}z(G@8@${jPs6&amp;xv2|h^&gt;EHT=bi`taRgwYTt&lt;Mb2w500B9p**
zpbW%7O&lt;~3)$&amp;1hV9`9lGG@)^LGdoRYr&lt;%gu2=1X;+_h*_U^J_GLy_Bw$b9?3Y!gwq
z6RAE5REwc1yAi0eC7dmW{_8=%c`6a&lt;2!yI91J$Wem1qxg8$LoIXqGOneVH~&amp;5okpS
zRd1o{HX98RYY}bv()N*doXmB*IkvemGVIl_0*^BQv9%YzT8kMUr*NRRMbkD%Q56Ib
z1KGtTx@t8J*MD6}1^g%~HTwFw{(PFeli9bnwb@rJO-|wlel?8{i1=Mm*jry(#taU2
z8Ws@M)C{WBS6A^7LSu5NfNxB#x7i$fH!*&gt;6oP8Z6L4a{xHr&amp;E`$ARigQ5{py&gt;umeW
zWPnD#z_-4Ex1AcToe5OuLJ=Zkh#Y56#72m%WnriiHo9|9Q-Mg;i&amp;Ss=B5O$;6WWB(
zT7qqa))FT%NgVNMsLb+k&lt;$lK6`80x{B*=%4l@phWUj50?_w_T`I6|})$Qr|zTVSPh
zbZce!$OA&gt;DjM_9(&gt;r1NgyHK28tQ&lt;c#Q2KH0;O5WE-GN`V#^k(w&amp;-zCHq4&amp;+4`^&gt;S)
dT$}t~&lt;_|6wA&lt;&lt;5}_woP$002ovPDHLkV1j`h5W)Ze</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">new file mode 100644</span>
<a href="#l20.2"></a><span id="l20.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..96ff341c0abaa7fc265ea712bd80252e6f49a498</span>
<a href="#l20.3"></a><span id="l20.3">GIT binary patch
literal 3587
zc$@(P4*c&lt;nP)&lt;h;3K|Lk000e1NJLTq002M$002M;1^@s6s%dfF0000PbVXQnQ*UN;
zcVTj606}DLVr3vnZDD6+Qe|Oed2z{QJOBU&lt;rAb6VRCwCuTW4%s#TGvIZt&lt;?Y&gt;l8N&lt;
zI|-0L0-*!~0)EgQMIb~Cy(4%a5D1WvKmsHXO`=zUK=dYx03kp$JwzuG?ZJbDG$+9=
zj%)1odhNY;-gjna_KnwD?(TXW-g_gB*L&amp;N{Idjf;zH{cTMMgW_w&amp;``(_4)mNUpO4b
zhu^Yo+oJ#CmP{teaU2nk#~p4s&lt;Om^Leco?eYopiS9thkw%eK#r;98&amp;Sl4WI=f2y=n
zN$m&gt;xN6&lt;L&gt;kl#-|w*Bhoj&amp;nU^&gt;SEnM5kf1#I@z`x4)FUwUK9@R)iQT3MQ6_@pU*cf
zldZH8c;N?oduek=$629xe6JB9PFN{K8%~XB1^D;z`R-o`;TJDiLXnypvY@r(&amp;=867
z@o5*rn&amp;SId$ofcxLW&gt;uZvwHQ?zs2KsuS_QY4oh(O9Q%0{%&gt;L|VtUL?v#9}nMc{4fj
z_+Ltpa-Zc3g{ZN%mg*9T75I7`dR!_1U{_TGb7!-66A2nwzn&amp;a`hnV8YZ4ZT*_W}vY
z0&lt;Hy9xE5jKkP1Na`*6^L5)vI95;;X4pPKHlFjZp;mhnGdgKQMq1uP)}6Nm}FcZDd7
zuBL`9Ygz&gt;&lt;Re55vaaev*g3C{shXc?P#SS1uQP*!T&lt;%x;oTN8KypWu}jlQlJ&amp;T&lt;o(?
zsv}~!^X8=h=FdOLw|X@Ne)@_0=mlF{9W^}vJavG4(dej**Tg)&lt;@6Y1Mn5(O}3!ev~
z2ah&lt;SXyu8?N|&gt;mCELxh-+{Q*4JMK6dKjs*UG&amp;E3MG&gt;W-IsH&amp;=p=zs$#0RSE9?xxtQ
zuabD{Ewb@{&amp;W5&lt;W&lt;+|%={&lt;F_g9m10&lt;Nt&amp;8$0m1nEze=&gt;coC=^E8k!*dIp&gt;gd^wBh@
zzMksQZC*X2RaaM2^^QA|d;Rs)g^(J5&gt;@l*oY{@+&lt;SWM@ww^H=cM=6Bom154tx`j|y
zUbF@9%1hzr%%NGcX5}4(6*KpO3#fBofJW}WKfgPD_#yqiXwkHRW2S6&amp;w$;z&lt;(%)hB
zyy}I7H(S#smyqwk1M@z+-0qfmUsek+ADRhz?DO?SnyC#|Sqrf0{qDQm7vY(6-*|&amp;M
z8RWn}h~3KcZT_D-;{u=4ZpR&gt;4ekAaQ0WQ!!3c%}o=ppKT@Ig-l)m?K9)n9upRqww)
z_2jw;;Mx4tQ{;nN?Fkkd3&lt;k*z%c;R#`Q0)SGX}x$OAL`BOP){=131(%+K+e$k-Bwt
zbx{(%5&amp;oU^o^Y625CQDncB3fxxfEWlHVep{#L_FSLZGEBp@?~Swg6Ee3UH{4l{j$L
zdk`|)uDXhRaFf0rcA)up+(D6j_f4%fgyt0&amp;N*UZ;xQDcY910K~^M_3N&gt;|7RLb_*oO
z3s`1TVq)F8&gt;_CN8b+&gt;M%@r@g4+mAm|&gt;z7|rY-A)ghT;TiKEMiLt5B{n{QdVOfurli
z0&lt;vlo@tR3a1AN*!&gt;nv&amp;BUfYP8Y=OEJjkdPRF=}8D!UR6X0L=mw01kffMah&lt;!69Xti
zOA{KXEi*hOIXl2yxqE3Y&gt;I$3HWb*&lt;Q1WdmFJ`EgsB+Wkl_|$5fR-hvQTI`o!s0+X;
zJPK?T0C`V5fECaWdh5DwQ5x@i&lt;rNw-6p+_sdwOWgjW&lt;#o#&amp;O^Z(%&amp;JpP-!|&gt;ruw0z
z)*Ei1L}zE&amp;{2_N3WU83Su`!7Rxc#4?w+q1VytMwe-=?1Do|`aOp&gt;XA(3bh$Z82IQT
zYC7p83NY!yTwEke1D}3Mz3;t8V@0@Mwsbf*1}MMF8U^?qIQ;-PJAvNL1H)sIlgsRT
zUw&amp;B%Ki1afIb%yJp|6kn-+4#&amp;sV&lt;cXFFYV$j1^Eq-+lK{?CY&lt;o4*nY1Z$GL*=#st(
zBp&gt;&lt;V2io@e=hEyaC@*tGkP7?u*n{ka3n_T+xg`lRVlY7qBub!=Lpch#p3`AbARX3i
z6x6m|(c2}65S#_BfysJlex%L8Q%|MP^5qnPiDLssCRkqE7#5-Rw%cf!IRXoYu&gt;)6J
zL4lbwDbDzTMIeJP6=J$2DZp%N)~umr%a+OLk&lt;UaeE@H4&gt;BdeSRcG!qW!WC#+Q(Qf1
zc0&lt;hqIT~&lt;&amp;z`_Osl-#zBHb3wHb-wswy2cke|9q-~H7;1NfW~2s8}GV{;vavU)$+{E
zlH$UkA%uU=J&gt;{p{-cHF?t0YC9F=Ix4r9qe=vdJ*&amp;2~7y4^&gt;Bdz1ZN&gt;-xKr`oGO9t6
z`SF+#obkzpdAB|B1hqf&amp;OnR)~i6&gt;G3N=&gt;Ke=+&gt;22(r&gt;JQsiwjf_&lt;Gf8r&amp;0BpXUg)q
z02=qc@PelT1(&amp;aQr5fhXr$*j!f}k?Asg-us793ZFY?JOPi{NkF@4idzPd`l#$dW9&lt;
zA%_T_aRxOsH&amp;X*LRiU0SbLrB&amp;i;*`B&lt;|~K&lt;_THPSPdI_*K!^qgF_&gt;{Pvcz7sd6H{T
z-!8jQ)p_U9Y~05yWh+zHoL&gt;v5%|EShLlJS%&lt;qa_HQ56Dhj2}iG5#4!bNy;qsEPiGH
z&gt;2)y*uyfS|%q~|JW*)_0br{@Mt5wapJh%b383!Fi0xN4i$A({q5i+B@?wS%_xq}S3
zOsbT&gt;Ye6+0SlT7&lt;ISzu&lt;imFm&lt;?b_7Dku`=cyNp6`#d*k5bqXy&gt;no(EuLV`RqK~@5%
zwiZChugup{0Hrrjm%a27MNc_}1bkL14cTK5v^IM1!PE&gt;ht&gt;XI&gt;u#F=L&gt;H@J!D#j;_
zUFb9g#`WVEZ^J$JPzM;LP%cq*_SqCdX|AQEg{rw2tHDzXZ*UneO0aYBfXqJr&gt;#wxs
z@yBUs!v;B^&amp;eb(*48j`rMtEwx`f9RaDOC_YeAH3WKWkA;k!G(}xBG(+X#KtSQZII)
zr2p%QD{Igd;@(d_p)DXpuG*;zAcR)I4cY8x152dx6sk)XQ29c6R5*t}Gx!W*)qa9M
zF1h(;YCP&lt;)loAZWQ;mr&amp;MMb#%&amp;_ihurdfwo;)!aXW+D5&amp;`ife?D0%;}8=Sswr=7^B
zpQDs%WA(d1hyS?c78+GmWk0Z_`tr+Z7Tl^{JyU0i{A^c|APJ^L)B}p&lt;0nGS*0RXjJ
zcp)vk=pwoDI$vOy2*3q)Jme6&lt;8yOV9F`uEN5%}&gt;M6h2}QUJ@!OHJx{;Fv#EIs6Vtm
z{4k9mH()_*2wVf&lt;qu4)a29^Y%T%o~~tpoqt8h;EIusjeUPX&amp;?8f&amp;z2=4R_v2Ki_nd
z+(&lt;Q(CRgR}At=Jf6IF3Oft6ebFzfr~n@N*MlOEoi?C+;_ci&amp;BY-+r4K6X(LGpDt^Q
z?DrvTak~mYrRg(w;Nl7&amp;Q&amp;=+PASiNFbh&lt;%3JK)FKd^I&gt;)I)%kGHiP2W7;Sv=Nos%d
z&amp;8!n)CCTfd%#BQTUVmNU0ACXVfvN`KX=-Ys2xxD*O04iA9Zt0s8W!Ld3xcK8;kN?O
zxotv$Gl@*loQ$nZx(j*yChP;cYU6d%N~npq0qr+}&gt;?D!?^7$aBZ3O9ey&amp;^lLilrJ*
zb?9U(uoN&amp;CvH;4ZfC*bi1-ff=-F^cw{`2&lt;RDb8fYNJRQquB26n4x&gt;=iq!m&amp;3^Tdb$
z_=DCWG9(c9`KS-(9=-HZnhCNqN0A-V&lt;h63i&gt;^V41J{KrE8Pbj4D`2iZ^z+ZO^Tij_
z450Q9KyUpckI*m*qgl7dm9&gt;m)+C*#M_c4H;JPtpPAa96(?6hF@Id6~xDy(4PWvFCp
z;P9s@wW89ZKm?f5Y;X{Tk5x!M&lt;UN?c0BQw4qGwXuTuBmVc&amp;h=ZZNLZJqAONV&lt;k({+
zd*oDGJ{s&lt;0E9$KIgie&amp;w!mDIT6sQMKDY-zdHUQrq$QF0KY+Ylu+OaLxfl`;gIs~#)
zqd&gt;2YlP(qOrEprQdZ$R`5n2h_5=54&lt;g_qsoa$KO4t?JlkpHa_iuSxfj2^SKknehAB
zs1!9Yzc8W+spvvRK4BROG0&amp;Hj4VJ5bQrZBgw}XQznZWC7;rG$qcbB&lt;CKqWaQR;1q+
zF*Z%)svAn$t_mpD3X)2ANd&amp;&lt;adcpp919oj5_sM*BaRo4h{oj16q-+JaQ(TSp{N_e1
zR`h*8pa!^{_Y^fdG&amp;n+0yTkcFu$=8@tMZylyNSkyzZ3@KQ{Ezg;8Z9ejRRaqWJQ#!
zfP7)FQZG3!M|r#~`Pu)~&gt;T7mb(R8&gt;H;HZU|lpN_#vsS1#PMP&lt;su8Sf&lt;yF!6&lt;xMV6^
zDJw85!%`@wx~eRm7D}hODj!HwVXYKJi&gt;bi;ORfl2+6rvN&gt;@=IxoL+yoGE!e#&lt;ppLc
zo_^)Gi0$#B-W08b6*!#ws{G!{SV7J794)*~o%LplX&amp;vTgNy$(~%A2`8UI{Ds{qV!-
zcdu?T1!I&lt;u0Xg&gt;BJWZ}b$}4Ak+|5*g3&gt;_Jjlqs9sUr2e`Sgt&gt;XGp^v$=D4cEO;&lt;8B
z-OA$%mZQ3UoU{N`cHLowmOi}w!8&lt;&gt;CcV@axw9?8;a&gt;*S%kvb=L{_K&lt;oh-8oJzTJun
z?&gt;6;ALsv1XVqaW#iORaK5@Wjh$CHQ&gt;{aD&lt;sLh%0iC&lt;h_Gx+d|p&lt;J=ZZB$g(U$z5xC
zKc8!FI`ouEaHjb_%EA5|wdw;&lt;K%3*Ve&amp;IL|;V@TW#w`O2W;78kKG5g8xz4hV38-IK
zSrwdYrIn|hfURQ;3g{N%A744n!~OWF1`c(i51ZF&gt;38ogE_qurVjb8)vZ3ow`1XM@}
zP^;dn`Y&lt;1}GL*-b5JC?th5WB5fRqCG^^y_wDUse1LeT$n`!{Z1YXrNk;U)k8002ov
JPDHLkV1mbq#H9cL</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/suite/themes/modern/global/netError.css</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/suite/themes/modern/global/netError.css</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -57,17 +57,17 @@ ul {</span>
<a href="#l21.4"></a><span id="l21.4">   background: url(&quot;chrome://global/skin/icons/alert-exclam.gif&quot;) left 0 no-repeat #C7D0D9;</span>
<a href="#l21.5"></a><span id="l21.5">   background-origin: content-box;</span>
<a href="#l21.6"></a><span id="l21.6"> }</span>
<a href="#l21.7"></a><span id="l21.7"> </span>
<a href="#l21.8"></a><span id="l21.8"> #errorPageContainer.certerror {</span>
<a href="#l21.9"></a><span id="l21.9">   background-image: url(&quot;chrome://global/skin/icons/alert-security.gif&quot;);</span>
<a href="#l21.10"></a><span id="l21.10"> }</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-body[dir=&quot;rtl&quot;] #errorPageContainer {</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+#errorPageContainer:-moz-dir(rtl) {</span>
<a href="#l21.14"></a><span id="l21.14">   background-position: right 0;</span>
<a href="#l21.15"></a><span id="l21.15"> }</span>
<a href="#l21.16"></a><span id="l21.16"> </span>
<a href="#l21.17"></a><span id="l21.17"> #errorTitle {</span>
<a href="#l21.18"></a><span id="l21.18">   -moz-margin-start: 80px;</span>
<a href="#l21.19"></a><span id="l21.19"> }</span>
<a href="#l21.20"></a><span id="l21.20"> </span>
<a href="#l21.21"></a><span id="l21.21"> #errorLongContent {</span>
<a href="#l21.22"></a><span id="l21.22" class="difflineat">@@ -95,17 +95,17 @@ body[dir=&quot;rtl&quot;] #errorPageContainer {</span>
<a href="#l21.23"></a><span id="l21.23"> #brand {</span>
<a href="#l21.24"></a><span id="l21.24">   position: absolute;</span>
<a href="#l21.25"></a><span id="l21.25">   right: 0;</span>
<a href="#l21.26"></a><span id="l21.26">   bottom: -1.5em;</span>
<a href="#l21.27"></a><span id="l21.27">   -moz-margin-end: 10px;</span>
<a href="#l21.28"></a><span id="l21.28">   opacity: .6;</span>
<a href="#l21.29"></a><span id="l21.29"> }</span>
<a href="#l21.30"></a><span id="l21.30"> </span>
<a href="#l21.31"></a><span id="l21.31" class="difflineminus">-body[dir=&quot;rtl&quot;] #brand {</span>
<a href="#l21.32"></a><span id="l21.32" class="difflineplus">+#brand:-moz-dir(rtl) {</span>
<a href="#l21.33"></a><span id="l21.33">   right: auto;</span>
<a href="#l21.34"></a><span id="l21.34">   left: 0;</span>
<a href="#l21.35"></a><span id="l21.35"> }</span>
<a href="#l21.36"></a><span id="l21.36"> </span>
<a href="#l21.37"></a><span id="l21.37"> #brand &gt; p {</span>
<a href="#l21.38"></a><span id="l21.38">   margin: 0;</span>
<a href="#l21.39"></a><span id="l21.39"> }</span>
<a href="#l21.40"></a><span id="l21.40"> </span>
<a href="#l21.41"></a><span id="l21.41" class="difflineat">@@ -118,8 +118,19 @@ body[dir=&quot;rtl&quot;] #brand {</span>
<a href="#l21.42"></a><span id="l21.42"> }</span>
<a href="#l21.43"></a><span id="l21.43"> </span>
<a href="#l21.44"></a><span id="l21.44"> #securityOverrideContent {</span>
<a href="#l21.45"></a><span id="l21.45">   background-color: #FFFFE7;</span>
<a href="#l21.46"></a><span id="l21.46">   color: #000000;</span>
<a href="#l21.47"></a><span id="l21.47">   padding: 10px;</span>
<a href="#l21.48"></a><span id="l21.48">   border-radius: 10px;</span>
<a href="#l21.49"></a><span id="l21.49"> }</span>
<a href="#l21.50"></a><span id="l21.50" class="difflineplus">+</span>
<a href="#l21.51"></a><span id="l21.51" class="difflineplus">+/* Custom styling for 'blacklist' error class */</span>
<a href="#l21.52"></a><span id="l21.52" class="difflineplus">+:root.blacklist #errorPageContainer {</span>
<a href="#l21.53"></a><span id="l21.53" class="difflineplus">+  background-image: url(&quot;chrome://global/skin/icons/blacklist_large.png&quot;);</span>
<a href="#l21.54"></a><span id="l21.54" class="difflineplus">+  background-color: #772222;</span>
<a href="#l21.55"></a><span id="l21.55" class="difflineplus">+  color: #FFFFFF;</span>
<a href="#l21.56"></a><span id="l21.56" class="difflineplus">+}</span>
<a href="#l21.57"></a><span id="l21.57" class="difflineplus">+</span>
<a href="#l21.58"></a><span id="l21.58" class="difflineplus">+:root.blacklist {</span>
<a href="#l21.59"></a><span id="l21.59" class="difflineplus">+  background: #333333;</span>
<a href="#l21.60"></a><span id="l21.60" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/suite/themes/modern/jar.mn</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/suite/themes/modern/jar.mn</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -265,16 +265,18 @@ modern.jar:</span>
<a href="#l22.4"></a><span id="l22.4">   skin/modern/global/filepicker/folder-home.gif                    (global/filepicker/folder-home.gif)</span>
<a href="#l22.5"></a><span id="l22.5">   skin/modern/global/filepicker/folder-new.gif                     (global/filepicker/folder-new.gif)</span>
<a href="#l22.6"></a><span id="l22.6">   skin/modern/global/icons/alert-error.gif                         (global/icons/alert-error.gif)</span>
<a href="#l22.7"></a><span id="l22.7">   skin/modern/global/icons/alert-exclam.gif                        (global/icons/alert-exclam.gif)</span>
<a href="#l22.8"></a><span id="l22.8">   skin/modern/global/icons/alert-message.gif                       (global/icons/alert-message.gif)</span>
<a href="#l22.9"></a><span id="l22.9">   skin/modern/global/icons/alert-question.gif                      (global/icons/alert-question.gif)</span>
<a href="#l22.10"></a><span id="l22.10">   skin/modern/global/icons/alert-security.gif                      (global/icons/alert-security.gif)</span>
<a href="#l22.11"></a><span id="l22.11">   skin/modern/global/icons/autoscroll.png                          (/mozilla/toolkit/themes/winstripe/global/icons/autoscroll.png)</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineplus">+  skin/modern/global/icons/blacklist_favicon.png                   (global/icons/blacklist_favicon.png)</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+  skin/modern/global/icons/blacklist_large.png                     (global/icons/blacklist_large.png)</span>
<a href="#l22.14"></a><span id="l22.14">   skin/modern/global/icons/close-act.gif                           (global/icons/close-act.gif)</span>
<a href="#l22.15"></a><span id="l22.15">   skin/modern/global/icons/close-dis.gif                           (global/icons/close-dis.gif)</span>
<a href="#l22.16"></a><span id="l22.16">   skin/modern/global/icons/close-hov.gif                           (global/icons/close-hov.gif)</span>
<a href="#l22.17"></a><span id="l22.17">   skin/modern/global/icons/close.gif                               (global/icons/close.gif)</span>
<a href="#l22.18"></a><span id="l22.18">   skin/modern/global/icons/closebox.gif                            (global/icons/closebox.gif)</span>
<a href="#l22.19"></a><span id="l22.19">   skin/modern/global/icons/Error.png                               (global/icons/Error.png)</span>
<a href="#l22.20"></a><span id="l22.20">   skin/modern/global/icons/error-16.png                            (global/icons/error-16.png)</span>
<a href="#l22.21"></a><span id="l22.21">   skin/modern/global/icons/find.png                                (global/icons/find.png)</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

