<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 7899:0155789c1e3c908ae603d128cc957c06bd4247c8</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 0155789c1e3c908ae603d128cc957c06bd4247c8" />
<meta property="og:url" content="/comm-central/rev/0155789c1e3c908ae603d128cc957c06bd4247c8" />
<meta property="og:description" content="Bug 659277 - Remove microsummaries support from SeaMonkey. r=Callek sr=Neil" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 0155789c1e3c908ae603d128cc957c06bd4247c8 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/0155789c1e3c908ae603d128cc957c06bd4247c8">shortlog</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/0155789c1e3c908ae603d128cc957c06bd4247c8">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8">files</a> |
changeset |
<a href="/comm-central/raw-rev/0155789c1e3c908ae603d128cc957c06bd4247c8">raw</a>  | <a href="/comm-central/archive/0155789c1e3c908ae603d128cc957c06bd4247c8.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=659277">Bug 659277</a> - Remove microsummaries support from SeaMonkey. r=Callek sr=Neil
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#74;&#101;&#110;&#115;&#32;&#72;&#97;&#116;&#108;&#97;&#107;&#32;&#60;&#106;&#104;&#64;&#106;&#117;&#110;&#101;&#116;&#122;&#46;&#100;&#101;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 07 Jun 2011 18:04:04 +0200</td></tr>

<tr>
 <td>changeset 7899</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/0155789c1e3c908ae603d128cc957c06bd4247c8">0155789c1e3c908ae603d128cc957c06bd4247c8</a></td>
</tr>



<tr>
<td>parent 7898</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/8d78eb1a21728c213cbe6cc250c6cd6947a75487">8d78eb1a21728c213cbe6cc250c6cd6947a75487</a>
</td>
</tr>

<tr>
<td>child 7900</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/07e73a5d9fff5025440ccab3c9261caf79a6d0d5">07e73a5d9fff5025440ccab3c9261caf79a6d0d5</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=0155789c1e3c908ae603d128cc957c06bd4247c8">6068</a></td></tr>
<tr><td>push user</td><td>jh@junetz.de</td></tr>
<tr><td>push date</td><td class="date age">Tue, 07 Jun 2011 16:07:17 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@0155789c1e3c [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0155789c1e3c908ae603d128cc957c06bd4247c8">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0155789c1e3c908ae603d128cc957c06bd4247c8&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0155789c1e3c908ae603d128cc957c06bd4247c8&newProject=comm-central&newRevision=0155789c1e3c908ae603d128cc957c06bd4247c8&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0155789c1e3c908ae603d128cc957c06bd4247c8&newProject=comm-central&newRevision=0155789c1e3c908ae603d128cc957c06bd4247c8&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0155789c1e3c908ae603d128cc957c06bd4247c8&newProject=comm-central&newRevision=0155789c1e3c908ae603d128cc957c06bd4247c8&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Callek%29&revcount=50">Callek</a>, <a href="/comm-central/log?rev=reviewer%28Neil%29&revcount=50">Neil</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=659277">659277</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=659277">Bug 659277</a> - Remove microsummaries support from SeaMonkey. r=Callek sr=Neil</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/browser/browser-prefs.js">suite/browser/browser-prefs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/browser/browser-prefs.js">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/browser/browser-prefs.js">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/browser/browser-prefs.js">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/browser/browser-prefs.js">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/browser/browser-prefs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/editBookmarkOverlay.js">suite/common/bookmarks/editBookmarkOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/editBookmarkOverlay.js">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/editBookmarkOverlay.js">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/editBookmarkOverlay.js">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/editBookmarkOverlay.js">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/editBookmarkOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/placesOverlay.xul">suite/common/bookmarks/placesOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/placesOverlay.xul">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/placesOverlay.xul">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/placesOverlay.xul">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/placesOverlay.xul">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/bookmarks/placesOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/controller.js">suite/common/places/controller.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/controller.js">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/controller.js">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/controller.js">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/controller.js">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/controller.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/bookmarks.preplaces.html">suite/common/places/tests/unit/bookmarks.preplaces.html</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/bookmarks.preplaces.html">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/bookmarks.preplaces.html">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/bookmarks.preplaces.html">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/bookmarks.preplaces.html">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/bookmarks.preplaces.html">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_384370.js">suite/common/places/tests/unit/test_384370.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_384370.js">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_384370.js">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_384370.js">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_384370.js">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_384370.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_bookmarks_html.js">suite/common/places/tests/unit/test_bookmarks_html.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_bookmarks_html.js">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_bookmarks_html.js">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_bookmarks_html.js">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_bookmarks_html.js">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_bookmarks_html.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_placesTxn.js">suite/common/places/tests/unit/test_placesTxn.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_placesTxn.js">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_placesTxn.js">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_placesTxn.js">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_placesTxn.js">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/places/tests/unit/test_placesTxn.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/src/PlacesUIUtils.jsm">suite/common/src/PlacesUIUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/src/PlacesUIUtils.jsm">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/src/PlacesUIUtils.jsm">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/src/PlacesUIUtils.jsm">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/src/PlacesUIUtils.jsm">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/common/src/PlacesUIUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/package-manifest.in">suite/installer/package-manifest.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/package-manifest.in">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/package-manifest.in">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/package-manifest.in">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/package-manifest.in">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/package-manifest.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/removed-files.in">suite/installer/removed-files.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/removed-files.in">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/removed-files.in">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/removed-files.in">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/removed-files.in">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/installer/removed-files.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd">suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/places.dtd">suite/locales/en-US/chrome/common/bookmarks/places.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/places.dtd">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/places.dtd">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/places.dtd">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/places.dtd">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/locales/en-US/chrome/common/bookmarks/places.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css">suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css">suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css">suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css">file</a> |
<a href="/comm-central/annotate/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css">annotate</a> |
<a href="/comm-central/diff/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css">diff</a> |
<a href="/comm-central/comparison/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css">comparison</a> |
<a href="/comm-central/log/0155789c1e3c908ae603d128cc957c06bd4247c8/suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/browser/browser-prefs.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/browser/browser-prefs.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -184,20 +184,16 @@ pref(&quot;browser.urlbar.search.timeout&quot;, 10</span>
<a href="#l1.4"></a><span id="l1.4"> pref(&quot;browser.urlbar.restrict.history&quot;, &quot;^&quot;);</span>
<a href="#l1.5"></a><span id="l1.5"> pref(&quot;browser.urlbar.restrict.bookmark&quot;, &quot;*&quot;);</span>
<a href="#l1.6"></a><span id="l1.6"> pref(&quot;browser.urlbar.restrict.tag&quot;, &quot;+&quot;);</span>
<a href="#l1.7"></a><span id="l1.7"> pref(&quot;browser.urlbar.restrict.openpage&quot;, &quot;%&quot;);</span>
<a href="#l1.8"></a><span id="l1.8"> pref(&quot;browser.urlbar.restrict.typed&quot;, &quot;~&quot;);</span>
<a href="#l1.9"></a><span id="l1.9"> pref(&quot;browser.urlbar.match.title&quot;, &quot;#&quot;);</span>
<a href="#l1.10"></a><span id="l1.10"> pref(&quot;browser.urlbar.match.url&quot;, &quot;@&quot;);</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-// Whether or not microsummary and generator updates are enabled.</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-pref(&quot;browser.microsummary.enabled&quot;, true);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-pref(&quot;browser.microsummary.updateGenerators&quot;, true);</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-</span>
<a href="#l1.16"></a><span id="l1.16"> pref(&quot;browser.history.grouping&quot;, &quot;day&quot;);</span>
<a href="#l1.17"></a><span id="l1.17"> pref(&quot;browser.sessionhistory.max_entries&quot;, 50);</span>
<a href="#l1.18"></a><span id="l1.18"> </span>
<a href="#l1.19"></a><span id="l1.19"> // Whether history is enabled or not.</span>
<a href="#l1.20"></a><span id="l1.20"> pref(&quot;places.history.enabled&quot;, true);</span>
<a href="#l1.21"></a><span id="l1.21"> </span>
<a href="#l1.22"></a><span id="l1.22"> // The percentage of system memory that the Places database can use.  Out of the</span>
<a href="#l1.23"></a><span id="l1.23"> // allowed cache size it will at most use the size of the database file.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/common/bookmarks/editBookmarkOverlay.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/common/bookmarks/editBookmarkOverlay.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -31,30 +31,28 @@</span>
<a href="#l2.4"></a><span id="l2.4">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l2.5"></a><span id="l2.5">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l2.6"></a><span id="l2.6">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l2.7"></a><span id="l2.7">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l2.8"></a><span id="l2.8">  *</span>
<a href="#l2.9"></a><span id="l2.9">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11"> const LAST_USED_ANNO = &quot;bookmarkPropertiesDialog/folderLastUsed&quot;;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-const STATIC_TITLE_ANNO = &quot;bookmarks/staticTitle&quot;;</span>
<a href="#l2.13"></a><span id="l2.13"> const MAX_FOLDER_ITEM_IN_MENU_LIST = 5;</span>
<a href="#l2.14"></a><span id="l2.14"> </span>
<a href="#l2.15"></a><span id="l2.15"> var gEditItemOverlay = {</span>
<a href="#l2.16"></a><span id="l2.16">   _uri: null,</span>
<a href="#l2.17"></a><span id="l2.17">   _itemId: -1,</span>
<a href="#l2.18"></a><span id="l2.18">   _itemIds: [],</span>
<a href="#l2.19"></a><span id="l2.19">   _uris: [],</span>
<a href="#l2.20"></a><span id="l2.20">   _tags: [],</span>
<a href="#l2.21"></a><span id="l2.21">   _allTags: [],</span>
<a href="#l2.22"></a><span id="l2.22">   _multiEdit: false,</span>
<a href="#l2.23"></a><span id="l2.23">   _itemType: -1,</span>
<a href="#l2.24"></a><span id="l2.24">   _readOnly: false,</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-  _microsummaries: null,</span>
<a href="#l2.26"></a><span id="l2.26">   _hiddenRows: [],</span>
<a href="#l2.27"></a><span id="l2.27">   _observersAdded: false,</span>
<a href="#l2.28"></a><span id="l2.28">   _staticFoldersListBuilt: false,</span>
<a href="#l2.29"></a><span id="l2.29">   _initialized: false,</span>
<a href="#l2.30"></a><span id="l2.30"> </span>
<a href="#l2.31"></a><span id="l2.31">   // the first field which was edited after this panel was initialized for</span>
<a href="#l2.32"></a><span id="l2.32">   // a certain item</span>
<a href="#l2.33"></a><span id="l2.33">   _firstEditedField: &quot;&quot;,</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineat">@@ -362,173 +360,47 @@ var gEditItemOverlay = {</span>
<a href="#l2.35"></a><span id="l2.35">                                       this._folderMenuList.selectedIndex);</span>
<a href="#l2.36"></a><span id="l2.36"> </span>
<a href="#l2.37"></a><span id="l2.37">     // Hide the folders-separator if no folder is annotated as recently-used</span>
<a href="#l2.38"></a><span id="l2.38">     this._element(&quot;foldersSeparator&quot;).hidden = (menupopup.childNodes.length &lt;= 6);</span>
<a href="#l2.39"></a><span id="l2.39">     this._folderMenuList.disabled = this._readOnly;</span>
<a href="#l2.40"></a><span id="l2.40">   },</span>
<a href="#l2.41"></a><span id="l2.41"> </span>
<a href="#l2.42"></a><span id="l2.42">   QueryInterface: function EIO_QueryInterface(aIID) {</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineminus">-    if (aIID.equals(Components.interfaces.nsIMicrosummaryObserver) ||</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineminus">-        aIID.equals(Components.interfaces.nsIDOMEventListener) ||</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineplus">+    if (aIID.equals(Components.interfaces.nsIDOMEventListener) ||</span>
<a href="#l2.46"></a><span id="l2.46">         aIID.equals(Components.interfaces.nsINavBookmarkObserver) ||</span>
<a href="#l2.47"></a><span id="l2.47">         aIID.equals(Components.interfaces.nsISupports))</span>
<a href="#l2.48"></a><span id="l2.48">       return this;</span>
<a href="#l2.49"></a><span id="l2.49"> </span>
<a href="#l2.50"></a><span id="l2.50">     throw Components.results.NS_ERROR_NO_INTERFACE;</span>
<a href="#l2.51"></a><span id="l2.51">   },</span>
<a href="#l2.52"></a><span id="l2.52"> </span>
<a href="#l2.53"></a><span id="l2.53">   _element: function EIO__element(aID) {</span>
<a href="#l2.54"></a><span id="l2.54">     return document.getElementById(&quot;editBMPanel_&quot; + aID);</span>
<a href="#l2.55"></a><span id="l2.55">   },</span>
<a href="#l2.56"></a><span id="l2.56"> </span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-  _createMicrosummaryMenuItem:</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-  function EIO__createMicrosummaryMenuItem(aMicrosummary) {</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineminus">-    var menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-    // Store a reference to the microsummary in the menu item, so we know</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-    // which microsummary this menu item represents when it's time to</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-    // save changes or load its content.</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineminus">-    menuItem.microsummary = aMicrosummary;</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineminus">-</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineminus">-    // Content may have to be generated asynchronously; we don't necessarily</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineminus">-    // have it now.  If we do, great; otherwise, fall back to the generator</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineminus">-    // name, then the URI, and we trigger a microsummary content update. Once</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineminus">-    // the update completes, the microsummary will notify our observer to</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-    // update the corresponding menu-item.</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineminus">-    // XXX Instead of just showing the generator name or (heaven forbid)</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineminus">-    // its URI when we don't have content, we should tell the user that</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineminus">-    // we're loading the microsummary, perhaps with some throbbing to let</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineminus">-    // her know it is in progress.</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineminus">-    if (aMicrosummary.content)</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineminus">-      menuItem.setAttribute(&quot;label&quot;, aMicrosummary.content);</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineminus">-    else {</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineminus">-      menuItem.setAttribute(&quot;label&quot;, aMicrosummary.generator.name ||</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineminus">-                                     aMicrosummary.generator.uri.spec);</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineminus">-      aMicrosummary.update();</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineminus">-    }</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineminus">-</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-    return menuItem;</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineminus">-  },</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineminus">-</span>
<a href="#l2.86"></a><span id="l2.86">   _getItemStaticTitle: function EIO__getItemStaticTitle() {</span>
<a href="#l2.87"></a><span id="l2.87">     if (this._itemId == -1)</span>
<a href="#l2.88"></a><span id="l2.88">       return PlacesUtils.history.getPageTitle(this._uri);</span>
<a href="#l2.89"></a><span id="l2.89"> </span>
<a href="#l2.90"></a><span id="l2.90" class="difflineminus">-    const annos = PlacesUtils.annotations;</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineminus">-    if (annos.itemHasAnnotation(this._itemId, STATIC_TITLE_ANNO))</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineminus">-      return annos.getItemAnnotation(this._itemId, STATIC_TITLE_ANNO);</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineminus">-</span>
<a href="#l2.94"></a><span id="l2.94">     return PlacesUtils.bookmarks.getItemTitle(this._itemId);</span>
<a href="#l2.95"></a><span id="l2.95">   },</span>
<a href="#l2.96"></a><span id="l2.96"> </span>
<a href="#l2.97"></a><span id="l2.97">   _initNamePicker: function EIO_initNamePicker() {</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineminus">-    var userEnteredNameField = this._element(&quot;userEnteredName&quot;);</span>
<a href="#l2.99"></a><span id="l2.99">     var namePicker = this._element(&quot;namePicker&quot;);</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineminus">-    var droppable = false;</span>
<a href="#l2.101"></a><span id="l2.101" class="difflineminus">-</span>
<a href="#l2.102"></a><span id="l2.102" class="difflineminus">-    userEnteredNameField.label = this._getItemStaticTitle();</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-</span>
<a href="#l2.104"></a><span id="l2.104" class="difflineminus">-    // clean up old entries</span>
<a href="#l2.105"></a><span id="l2.105" class="difflineminus">-    var menupopup = namePicker.menupopup;</span>
<a href="#l2.106"></a><span id="l2.106" class="difflineminus">-    while (menupopup.childNodes.length &gt; 2)</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineminus">-      menupopup.removeChild(menupopup.lastChild);</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineminus">-</span>
<a href="#l2.109"></a><span id="l2.109" class="difflineminus">-    if (this._microsummaries) {</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-      this._microsummaries.removeObserver(this);</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-      this._microsummaries = null;</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineminus">-    }</span>
<a href="#l2.113"></a><span id="l2.113"> </span>
<a href="#l2.114"></a><span id="l2.114" class="difflineminus">-    var itemToSelect = userEnteredNameField;</span>
<a href="#l2.115"></a><span id="l2.115" class="difflineminus">-    try {</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineminus">-      if (this._itemId != -1 &amp;&amp;</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineminus">-          this._itemType == Components.interfaces.nsINavBookmarksService.TYPE_BOOKMARK &amp;&amp;</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineminus">-          !this._readOnly)</span>
<a href="#l2.119"></a><span id="l2.119" class="difflineminus">-        this._microsummaries = PlacesUtils.microsummaries</span>
<a href="#l2.120"></a><span id="l2.120" class="difflineminus">-                                          .getMicrosummaries(this._uri, -1);</span>
<a href="#l2.121"></a><span id="l2.121" class="difflineminus">-    }</span>
<a href="#l2.122"></a><span id="l2.122" class="difflineminus">-    catch(ex) {</span>
<a href="#l2.123"></a><span id="l2.123" class="difflineminus">-      // getMicrosummaries will throw an exception in at least two cases:</span>
<a href="#l2.124"></a><span id="l2.124" class="difflineminus">-      // 1. the bookmarked URI contains a scheme that the service won't</span>
<a href="#l2.125"></a><span id="l2.125" class="difflineminus">-      //    download for security reasons (currently it only handles http,</span>
<a href="#l2.126"></a><span id="l2.126" class="difflineminus">-      //    https, and file);</span>
<a href="#l2.127"></a><span id="l2.127" class="difflineminus">-      // 2. the page to which the URI refers isn't HTML or XML (the only two</span>
<a href="#l2.128"></a><span id="l2.128" class="difflineminus">-      //    content types the service knows how to summarize).</span>
<a href="#l2.129"></a><span id="l2.129" class="difflineminus">-      this._microsummaries = null;</span>
<a href="#l2.130"></a><span id="l2.130" class="difflineminus">-    }</span>
<a href="#l2.131"></a><span id="l2.131" class="difflineminus">-</span>
<a href="#l2.132"></a><span id="l2.132" class="difflineminus">-    if (this._microsummaries) {</span>
<a href="#l2.133"></a><span id="l2.133" class="difflineminus">-      var enumerator = this._microsummaries.Enumerate();</span>
<a href="#l2.134"></a><span id="l2.134" class="difflineminus">-</span>
<a href="#l2.135"></a><span id="l2.135" class="difflineminus">-      if (enumerator.hasMoreElements()) {</span>
<a href="#l2.136"></a><span id="l2.136" class="difflineminus">-        // Show the drop marker if there are microsummaries</span>
<a href="#l2.137"></a><span id="l2.137" class="difflineminus">-        droppable = true;</span>
<a href="#l2.138"></a><span id="l2.138" class="difflineminus">-        while (enumerator.hasMoreElements()) {</span>
<a href="#l2.139"></a><span id="l2.139" class="difflineminus">-          var microsummary = enumerator.getNext()</span>
<a href="#l2.140"></a><span id="l2.140" class="difflineminus">-                                       .QueryInterface(Components.interfaces.nsIMicrosummary);</span>
<a href="#l2.141"></a><span id="l2.141" class="difflineminus">-          var menuItem = this._createMicrosummaryMenuItem(microsummary);</span>
<a href="#l2.142"></a><span id="l2.142" class="difflineminus">-          if (PlacesUtils.microsummaries</span>
<a href="#l2.143"></a><span id="l2.143" class="difflineminus">-                         .isMicrosummary(this._itemId, microsummary))</span>
<a href="#l2.144"></a><span id="l2.144" class="difflineminus">-            itemToSelect = menuItem;</span>
<a href="#l2.145"></a><span id="l2.145" class="difflineminus">-</span>
<a href="#l2.146"></a><span id="l2.146" class="difflineminus">-          menupopup.appendChild(menuItem);</span>
<a href="#l2.147"></a><span id="l2.147" class="difflineminus">-        }</span>
<a href="#l2.148"></a><span id="l2.148" class="difflineminus">-      }</span>
<a href="#l2.149"></a><span id="l2.149" class="difflineminus">-</span>
<a href="#l2.150"></a><span id="l2.150" class="difflineminus">-      this._microsummaries.addObserver(this);</span>
<a href="#l2.151"></a><span id="l2.151" class="difflineminus">-    }</span>
<a href="#l2.152"></a><span id="l2.152" class="difflineminus">-</span>
<a href="#l2.153"></a><span id="l2.153" class="difflineminus">-    if (namePicker.selectedItem == itemToSelect)</span>
<a href="#l2.154"></a><span id="l2.154" class="difflineminus">-      namePicker.value = itemToSelect.label;</span>
<a href="#l2.155"></a><span id="l2.155" class="difflineminus">-    else</span>
<a href="#l2.156"></a><span id="l2.156" class="difflineminus">-      namePicker.selectedItem = itemToSelect;</span>
<a href="#l2.157"></a><span id="l2.157" class="difflineminus">-</span>
<a href="#l2.158"></a><span id="l2.158" class="difflineminus">-    namePicker.setAttribute(&quot;droppable&quot;, droppable);</span>
<a href="#l2.159"></a><span id="l2.159" class="difflineplus">+    namePicker.value = this._getItemStaticTitle();</span>
<a href="#l2.160"></a><span id="l2.160">     namePicker.readOnly = this._readOnly;</span>
<a href="#l2.161"></a><span id="l2.161"> </span>
<a href="#l2.162"></a><span id="l2.162">     // clear the undo stack</span>
<a href="#l2.163"></a><span id="l2.163">     var editor = namePicker.editor;</span>
<a href="#l2.164"></a><span id="l2.164">     if (editor)</span>
<a href="#l2.165"></a><span id="l2.165">       editor.transactionManager.clear();</span>
<a href="#l2.166"></a><span id="l2.166">   },</span>
<a href="#l2.167"></a><span id="l2.167"> </span>
<a href="#l2.168"></a><span id="l2.168" class="difflineminus">-  // nsIMicrosummaryObserver</span>
<a href="#l2.169"></a><span id="l2.169" class="difflineminus">-  onContentLoaded: function EIO_onContentLoaded(aMicrosummary) {</span>
<a href="#l2.170"></a><span id="l2.170" class="difflineminus">-    var namePicker = this._element(&quot;namePicker&quot;);</span>
<a href="#l2.171"></a><span id="l2.171" class="difflineminus">-    var childNodes = namePicker.menupopup.childNodes;</span>
<a href="#l2.172"></a><span id="l2.172" class="difflineminus">-</span>
<a href="#l2.173"></a><span id="l2.173" class="difflineminus">-    // 0: user-entered item; 1: separator</span>
<a href="#l2.174"></a><span id="l2.174" class="difflineminus">-    for (var i = 2; i &lt; childNodes.length; i++) {</span>
<a href="#l2.175"></a><span id="l2.175" class="difflineminus">-      if (childNodes[i].microsummary == aMicrosummary) {</span>
<a href="#l2.176"></a><span id="l2.176" class="difflineminus">-        var newLabel = aMicrosummary.content;</span>
<a href="#l2.177"></a><span id="l2.177" class="difflineminus">-        // XXXmano: non-editable menulist would do this for us, see bug 360220</span>
<a href="#l2.178"></a><span id="l2.178" class="difflineminus">-        // We should fix editable-menulists to set the DOMAttrModified handler</span>
<a href="#l2.179"></a><span id="l2.179" class="difflineminus">-        // as well.</span>
<a href="#l2.180"></a><span id="l2.180" class="difflineminus">-        //</span>
<a href="#l2.181"></a><span id="l2.181" class="difflineminus">-        // Also note the order importance: if the label of the menu-item is</span>
<a href="#l2.182"></a><span id="l2.182" class="difflineminus">-        // set to something different than the menulist's current value,</span>
<a href="#l2.183"></a><span id="l2.183" class="difflineminus">-        // the menulist no longer has selectedItem set</span>
<a href="#l2.184"></a><span id="l2.184" class="difflineminus">-        if (namePicker.selectedItem == childNodes[i])</span>
<a href="#l2.185"></a><span id="l2.185" class="difflineminus">-          namePicker.value = newLabel;</span>
<a href="#l2.186"></a><span id="l2.186" class="difflineminus">-</span>
<a href="#l2.187"></a><span id="l2.187" class="difflineminus">-        childNodes[i].label = newLabel;</span>
<a href="#l2.188"></a><span id="l2.188" class="difflineminus">-        return;</span>
<a href="#l2.189"></a><span id="l2.189" class="difflineminus">-      }</span>
<a href="#l2.190"></a><span id="l2.190" class="difflineminus">-    }</span>
<a href="#l2.191"></a><span id="l2.191" class="difflineminus">-  },</span>
<a href="#l2.192"></a><span id="l2.192" class="difflineminus">-</span>
<a href="#l2.193"></a><span id="l2.193" class="difflineminus">-  onElementAppended: function EIO_onElementAppended(aMicrosummary) {</span>
<a href="#l2.194"></a><span id="l2.194" class="difflineminus">-    var namePicker = this._element(&quot;namePicker&quot;);</span>
<a href="#l2.195"></a><span id="l2.195" class="difflineminus">-    namePicker.menupopup</span>
<a href="#l2.196"></a><span id="l2.196" class="difflineminus">-              .appendChild(this._createMicrosummaryMenuItem(aMicrosummary));</span>
<a href="#l2.197"></a><span id="l2.197" class="difflineminus">-</span>
<a href="#l2.198"></a><span id="l2.198" class="difflineminus">-    // Make sure the drop-marker is shown</span>
<a href="#l2.199"></a><span id="l2.199" class="difflineminus">-    namePicker.setAttribute(&quot;droppable&quot;, &quot;true&quot;);</span>
<a href="#l2.200"></a><span id="l2.200" class="difflineminus">-  },</span>
<a href="#l2.201"></a><span id="l2.201" class="difflineminus">-</span>
<a href="#l2.202"></a><span id="l2.202">   uninitPanel: function EIO_uninitPanel(aHideCollapsibleElements) {</span>
<a href="#l2.203"></a><span id="l2.203">     if (aHideCollapsibleElements) {</span>
<a href="#l2.204"></a><span id="l2.204">       // hide the folder tree if it was previously visible</span>
<a href="#l2.205"></a><span id="l2.205">       var folderTreeRow = this._element(&quot;folderTreeRow&quot;);</span>
<a href="#l2.206"></a><span id="l2.206">       if (!folderTreeRow.collapsed)</span>
<a href="#l2.207"></a><span id="l2.207">         this.toggleFolderTreeVisibility();</span>
<a href="#l2.208"></a><span id="l2.208"> </span>
<a href="#l2.209"></a><span id="l2.209">       // hide the tag selector if it was previously visible</span>
<a href="#l2.210"></a><span id="l2.210" class="difflineat">@@ -538,20 +410,17 @@ var gEditItemOverlay = {</span>
<a href="#l2.211"></a><span id="l2.211">     }</span>
<a href="#l2.212"></a><span id="l2.212"> </span>
<a href="#l2.213"></a><span id="l2.213">     if (this._observersAdded) {</span>
<a href="#l2.214"></a><span id="l2.214">       if (this._itemId != -1 || this._uri || this._multiEdit)</span>
<a href="#l2.215"></a><span id="l2.215">         PlacesUtils.bookmarks.removeObserver(this);</span>
<a href="#l2.216"></a><span id="l2.216"> </span>
<a href="#l2.217"></a><span id="l2.217">       this._observersAdded = false;</span>
<a href="#l2.218"></a><span id="l2.218">     }</span>
<a href="#l2.219"></a><span id="l2.219" class="difflineminus">-    if (this._microsummaries) {</span>
<a href="#l2.220"></a><span id="l2.220" class="difflineminus">-      this._microsummaries.removeObserver(this);</span>
<a href="#l2.221"></a><span id="l2.221" class="difflineminus">-      this._microsummaries = null;</span>
<a href="#l2.222"></a><span id="l2.222" class="difflineminus">-    }</span>
<a href="#l2.223"></a><span id="l2.223" class="difflineplus">+</span>
<a href="#l2.224"></a><span id="l2.224">     this._itemId = -1;</span>
<a href="#l2.225"></a><span id="l2.225">     this._uri = null;</span>
<a href="#l2.226"></a><span id="l2.226">     this._uris = [];</span>
<a href="#l2.227"></a><span id="l2.227">     this._tags = [];</span>
<a href="#l2.228"></a><span id="l2.228">     this._allTags = [];</span>
<a href="#l2.229"></a><span id="l2.229">     this._itemIds = [];</span>
<a href="#l2.230"></a><span id="l2.230">     this._multiEdit = false;</span>
<a href="#l2.231"></a><span id="l2.231">     this._firstEditedField = &quot;&quot;;</span>
<a href="#l2.232"></a><span id="l2.232" class="difflineat">@@ -668,64 +537,34 @@ var gEditItemOverlay = {</span>
<a href="#l2.233"></a><span id="l2.233">         // Ensure the tagsField is in sync, clean it up from empty tags</span>
<a href="#l2.234"></a><span id="l2.234">         this._initTextField(&quot;tagsField&quot;, tags, false);</span>
<a href="#l2.235"></a><span id="l2.235">         return true;</span>
<a href="#l2.236"></a><span id="l2.236">       }</span>
<a href="#l2.237"></a><span id="l2.237">     }</span>
<a href="#l2.238"></a><span id="l2.238">     return false;</span>
<a href="#l2.239"></a><span id="l2.239">   },</span>
<a href="#l2.240"></a><span id="l2.240"> </span>
<a href="#l2.241"></a><span id="l2.241" class="difflineminus">-  onNamePickerInput: function EIO_onNamePickerInput() {</span>
<a href="#l2.242"></a><span id="l2.242" class="difflineminus">-    var title = this._element(&quot;namePicker&quot;).value;</span>
<a href="#l2.243"></a><span id="l2.243" class="difflineminus">-    this._element(&quot;userEnteredName&quot;).label = title;</span>
<a href="#l2.244"></a><span id="l2.244" class="difflineminus">-  },</span>
<a href="#l2.245"></a><span id="l2.245" class="difflineminus">-</span>
<a href="#l2.246"></a><span id="l2.246">   onNamePickerChange: function EIO_onNamePickerChange() {</span>
<a href="#l2.247"></a><span id="l2.247">     if (this._itemId == -1)</span>
<a href="#l2.248"></a><span id="l2.248">       return;</span>
<a href="#l2.249"></a><span id="l2.249"> </span>
<a href="#l2.250"></a><span id="l2.250">     var namePicker = this._element(&quot;namePicker&quot;)</span>
<a href="#l2.251"></a><span id="l2.251">     var txns = [];</span>
<a href="#l2.252"></a><span id="l2.252">     const ptm = PlacesUIUtils.ptm;</span>
<a href="#l2.253"></a><span id="l2.253"> </span>
<a href="#l2.254"></a><span id="l2.254">     // Here we update either the item title or its cached static title</span>
<a href="#l2.255"></a><span id="l2.255" class="difflineminus">-    var newTitle = this._element(&quot;userEnteredName&quot;).label;</span>
<a href="#l2.256"></a><span id="l2.256" class="difflineplus">+    var newTitle = namePicker.value;</span>
<a href="#l2.257"></a><span id="l2.257">     if (!newTitle &amp;&amp;</span>
<a href="#l2.258"></a><span id="l2.258">         PlacesUtils.bookmarks.getFolderIdForItem(this._itemId) == PlacesUtils.tagsFolderId) {</span>
<a href="#l2.259"></a><span id="l2.259">       // We don't allow setting an empty title for a tag, restore the old one.</span>
<a href="#l2.260"></a><span id="l2.260">       this._initNamePicker();</span>
<a href="#l2.261"></a><span id="l2.261">     }</span>
<a href="#l2.262"></a><span id="l2.262">     else if (this._getItemStaticTitle() != newTitle) {</span>
<a href="#l2.263"></a><span id="l2.263">       this._mayUpdateFirstEditField(&quot;namePicker&quot;);</span>
<a href="#l2.264"></a><span id="l2.264" class="difflineminus">-      if (PlacesUtils.microsummaries.hasMicrosummary(this._itemId)) {</span>
<a href="#l2.265"></a><span id="l2.265" class="difflineminus">-        // Note: this implicitly also takes care of the microsummary-&gt;static</span>
<a href="#l2.266"></a><span id="l2.266" class="difflineminus">-        // title case, the removeMicorosummary method in the service will set</span>
<a href="#l2.267"></a><span id="l2.267" class="difflineminus">-        // the item-title to the value of this annotation.</span>
<a href="#l2.268"></a><span id="l2.268" class="difflineminus">-        //</span>
<a href="#l2.269"></a><span id="l2.269" class="difflineminus">-        // XXXmano: use a transaction</span>
<a href="#l2.270"></a><span id="l2.270" class="difflineminus">-        PlacesUtils.setAnnotationsForItem(this._itemId,</span>
<a href="#l2.271"></a><span id="l2.271" class="difflineminus">-                                          [{name: STATIC_TITLE_ANNO,</span>
<a href="#l2.272"></a><span id="l2.272" class="difflineminus">-                                            value: newTitle}]);</span>
<a href="#l2.273"></a><span id="l2.273" class="difflineminus">-      }</span>
<a href="#l2.274"></a><span id="l2.274" class="difflineminus">-      else</span>
<a href="#l2.275"></a><span id="l2.275" class="difflineminus">-        txns.push(ptm.editItemTitle(this._itemId, newTitle));</span>
<a href="#l2.276"></a><span id="l2.276" class="difflineminus">-    }</span>
<a href="#l2.277"></a><span id="l2.277" class="difflineminus">-</span>
<a href="#l2.278"></a><span id="l2.278" class="difflineminus">-    var newMicrosummary = namePicker.selectedItem.microsummary;</span>
<a href="#l2.279"></a><span id="l2.279" class="difflineminus">-</span>
<a href="#l2.280"></a><span id="l2.280" class="difflineminus">-    // Only add a microsummary update to the transaction if the microsummary</span>
<a href="#l2.281"></a><span id="l2.281" class="difflineminus">-    // has actually changed, i.e. the user selected no microsummary, but the</span>
<a href="#l2.282"></a><span id="l2.282" class="difflineminus">-    // bookmark previously had one, or the user selected a microsummary which</span>
<a href="#l2.283"></a><span id="l2.283" class="difflineminus">-    // is not the one the bookmark previously had</span>
<a href="#l2.284"></a><span id="l2.284" class="difflineminus">-    if ((newMicrosummary == null &amp;&amp;</span>
<a href="#l2.285"></a><span id="l2.285" class="difflineminus">-         PlacesUtils.microsummaries.hasMicrosummary(this._itemId)) ||</span>
<a href="#l2.286"></a><span id="l2.286" class="difflineminus">-        (newMicrosummary != null &amp;&amp;</span>
<a href="#l2.287"></a><span id="l2.287" class="difflineminus">-         !PlacesUtils.microsummaries</span>
<a href="#l2.288"></a><span id="l2.288" class="difflineminus">-                     .isMicrosummary(this._itemId, newMicrosummary))) {</span>
<a href="#l2.289"></a><span id="l2.289" class="difflineminus">-      txns.push(ptm.editBookmarkMicrosummary(this._itemId, newMicrosummary));</span>
<a href="#l2.290"></a><span id="l2.290" class="difflineplus">+      txns.push(ptm.editItemTitle(this._itemId, newTitle));</span>
<a href="#l2.291"></a><span id="l2.291">     }</span>
<a href="#l2.292"></a><span id="l2.292"> </span>
<a href="#l2.293"></a><span id="l2.293">     var aggregate = ptm.aggregateTransactions(&quot;Edit Item Title&quot;, txns);</span>
<a href="#l2.294"></a><span id="l2.294">     ptm.doTransaction(aggregate);</span>
<a href="#l2.295"></a><span id="l2.295">   },</span>
<a href="#l2.296"></a><span id="l2.296"> </span>
<a href="#l2.297"></a><span id="l2.297">   onDescriptionFieldBlur: function EIO_onDescriptionFieldBlur() {</span>
<a href="#l2.298"></a><span id="l2.298">     var description = this._element(&quot;descriptionField&quot;).value;</span>
<a href="#l2.299"></a><span id="l2.299" class="difflineat">@@ -1115,40 +954,31 @@ var gEditItemOverlay = {</span>
<a href="#l2.300"></a><span id="l2.300">         }</span>
<a href="#l2.301"></a><span id="l2.301">       }</span>
<a href="#l2.302"></a><span id="l2.302"> </span>
<a href="#l2.303"></a><span id="l2.303">       return;</span>
<a href="#l2.304"></a><span id="l2.304">     }</span>
<a href="#l2.305"></a><span id="l2.305"> </span>
<a href="#l2.306"></a><span id="l2.306">     switch (aProperty) {</span>
<a href="#l2.307"></a><span id="l2.307">     case &quot;title&quot;:</span>
<a href="#l2.308"></a><span id="l2.308" class="difflineminus">-      if (PlacesUtils.annotations.itemHasAnnotation(this._itemId,</span>
<a href="#l2.309"></a><span id="l2.309" class="difflineminus">-                                                    STATIC_TITLE_ANNO))</span>
<a href="#l2.310"></a><span id="l2.310" class="difflineminus">-        return;  // onContentLoaded updates microsummary-items</span>
<a href="#l2.311"></a><span id="l2.311" class="difflineminus">-</span>
<a href="#l2.312"></a><span id="l2.312" class="difflineminus">-      var userEnteredNameField = this._element(&quot;userEnteredName&quot;);</span>
<a href="#l2.313"></a><span id="l2.313" class="difflineminus">-      if (userEnteredNameField.value != aValue) {</span>
<a href="#l2.314"></a><span id="l2.314" class="difflineminus">-        userEnteredNameField.value = aValue;</span>
<a href="#l2.315"></a><span id="l2.315" class="difflineminus">-        var namePicker = this._element(&quot;namePicker&quot;);</span>
<a href="#l2.316"></a><span id="l2.316" class="difflineminus">-        if (namePicker.selectedItem == userEnteredNameField) {</span>
<a href="#l2.317"></a><span id="l2.317" class="difflineminus">-          namePicker.label = aValue;</span>
<a href="#l2.318"></a><span id="l2.318" class="difflineminus">-</span>
<a href="#l2.319"></a><span id="l2.319" class="difflineminus">-          // clear undo stack</span>
<a href="#l2.320"></a><span id="l2.320" class="difflineminus">-          namePicker.editor.transactionManager.clear();</span>
<a href="#l2.321"></a><span id="l2.321" class="difflineminus">-        }</span>
<a href="#l2.322"></a><span id="l2.322" class="difflineplus">+      var namePicker = this._element(&quot;namePicker&quot;);</span>
<a href="#l2.323"></a><span id="l2.323" class="difflineplus">+      if (namePicker.value != aValue) {</span>
<a href="#l2.324"></a><span id="l2.324" class="difflineplus">+        namePicker.value = aValue;</span>
<a href="#l2.325"></a><span id="l2.325" class="difflineplus">+        // clear undo stack</span>
<a href="#l2.326"></a><span id="l2.326" class="difflineplus">+        namePicker.editor.transactionManager.clear();</span>
<a href="#l2.327"></a><span id="l2.327">       }</span>
<a href="#l2.328"></a><span id="l2.328">       break;</span>
<a href="#l2.329"></a><span id="l2.329">     case &quot;uri&quot;:</span>
<a href="#l2.330"></a><span id="l2.330">       var locationField = this._element(&quot;locationField&quot;);</span>
<a href="#l2.331"></a><span id="l2.331">       if (locationField.value != aValue) {</span>
<a href="#l2.332"></a><span id="l2.332">         this._uri = Components.classes[&quot;@mozilla.org/network/io-service;1&quot;]</span>
<a href="#l2.333"></a><span id="l2.333">                               .getService(Components.interfaces.nsIIOService)</span>
<a href="#l2.334"></a><span id="l2.334">                               .newURI(aValue, null, null);</span>
<a href="#l2.335"></a><span id="l2.335">         this._initTextField(&quot;locationField&quot;, this._uri.spec);</span>
<a href="#l2.336"></a><span id="l2.336" class="difflineminus">-        this._initNamePicker(); // for microsummaries</span>
<a href="#l2.337"></a><span id="l2.337" class="difflineplus">+        this._initNamePicker();</span>
<a href="#l2.338"></a><span id="l2.338">         this._initTextField(&quot;tagsField&quot;,</span>
<a href="#l2.339"></a><span id="l2.339">                              PlacesUtils.tagging</span>
<a href="#l2.340"></a><span id="l2.340">                                         .getTagsForURI(this._uri).join(&quot;, &quot;),</span>
<a href="#l2.341"></a><span id="l2.341">                             false);</span>
<a href="#l2.342"></a><span id="l2.342">         this._rebuildTagsSelectorList();</span>
<a href="#l2.343"></a><span id="l2.343">       }</span>
<a href="#l2.344"></a><span id="l2.344">       break;</span>
<a href="#l2.345"></a><span id="l2.345">     case &quot;keyword&quot;:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/common/bookmarks/placesOverlay.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/common/bookmarks/placesOverlay.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -88,18 +88,16 @@</span>
<a href="#l3.4"></a><span id="l3.4">              oncommand=&quot;goDoPlacesCommand('placesCmd_new:separator');&quot;/&gt;</span>
<a href="#l3.5"></a><span id="l3.5">     &lt;command id=&quot;placesCmd_show:info&quot;</span>
<a href="#l3.6"></a><span id="l3.6">              oncommand=&quot;goDoPlacesCommand('placesCmd_show:info');&quot;/&gt;</span>
<a href="#l3.7"></a><span id="l3.7">     &lt;command id=&quot;placesCmd_rename&quot;</span>
<a href="#l3.8"></a><span id="l3.8">              oncommand=&quot;goDoPlacesCommand('placesCmd_show:info');&quot;</span>
<a href="#l3.9"></a><span id="l3.9">              observes=&quot;placesCmd_show:info&quot;/&gt;</span>
<a href="#l3.10"></a><span id="l3.10">     &lt;command id=&quot;placesCmd_reload&quot;</span>
<a href="#l3.11"></a><span id="l3.11">              oncommand=&quot;goDoPlacesCommand('placesCmd_reload');&quot;/&gt;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-    &lt;command id=&quot;placesCmd_reloadMicrosummary&quot;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-             oncommand=&quot;goDoPlacesCommand('placesCmd_reloadMicrosummary');&quot;/&gt;</span>
<a href="#l3.14"></a><span id="l3.14">     &lt;command id=&quot;placesCmd_sortBy:name&quot;</span>
<a href="#l3.15"></a><span id="l3.15">              oncommand=&quot;goDoPlacesCommand('placesCmd_sortBy:name');&quot;/&gt;</span>
<a href="#l3.16"></a><span id="l3.16">     &lt;command id=&quot;placesCmd_moveBookmarks&quot;</span>
<a href="#l3.17"></a><span id="l3.17">              oncommand=&quot;goDoPlacesCommand('placesCmd_moveBookmarks');&quot;/&gt;</span>
<a href="#l3.18"></a><span id="l3.18">     &lt;command id=&quot;placesCmd_deleteDataHost&quot;</span>
<a href="#l3.19"></a><span id="l3.19">              oncommand=&quot;goDoPlacesCommand('placesCmd_deleteDataHost');&quot;/&gt;</span>
<a href="#l3.20"></a><span id="l3.20">     &lt;command id=&quot;placesCmd_createBookmark&quot;</span>
<a href="#l3.21"></a><span id="l3.21">              oncommand=&quot;goDoPlacesCommand('placesCmd_createBookmark');&quot;/&gt;</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineat">@@ -257,22 +255,16 @@</span>
<a href="#l3.23"></a><span id="l3.23">               forcehideselection=&quot;bookmark&quot;/&gt;</span>
<a href="#l3.24"></a><span id="l3.24">     &lt;menuseparator id=&quot;placesContext_deleteSeparator&quot;/&gt;</span>
<a href="#l3.25"></a><span id="l3.25">     &lt;menuitem id=&quot;placesContext_reload&quot;</span>
<a href="#l3.26"></a><span id="l3.26">               command=&quot;placesCmd_reload&quot;</span>
<a href="#l3.27"></a><span id="l3.27">               label=&quot;&amp;cmd.reloadLivebookmark.label;&quot;</span>
<a href="#l3.28"></a><span id="l3.28">               accesskey=&quot;&amp;cmd.reloadLivebookmark.accesskey;&quot;</span>
<a href="#l3.29"></a><span id="l3.29">               closemenu=&quot;single&quot;</span>
<a href="#l3.30"></a><span id="l3.30">               selection=&quot;livemark/feedURI&quot;/&gt;</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-    &lt;menuitem id=&quot;placesContext_reloadMicrosummary&quot;</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-              command=&quot;placesCmd_reloadMicrosummary&quot;</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-              label=&quot;&amp;cmd.reloadMicrosummary.label;&quot;</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineminus">-              accesskey=&quot;&amp;cmd.reloadMicrosummary.accesskey;&quot;</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineminus">-              closemenu=&quot;single&quot;</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineminus">-              selection=&quot;microsummary&quot;/&gt;</span>
<a href="#l3.37"></a><span id="l3.37">     &lt;menuitem id=&quot;placesContext_sortBy:name&quot;</span>
<a href="#l3.38"></a><span id="l3.38">               command=&quot;placesCmd_sortBy:name&quot;</span>
<a href="#l3.39"></a><span id="l3.39">               label=&quot;&amp;cmd.sortby_name.label;&quot;</span>
<a href="#l3.40"></a><span id="l3.40">               accesskey=&quot;&amp;cmd.sortby_name.accesskey;&quot;</span>
<a href="#l3.41"></a><span id="l3.41">               closemenu=&quot;single&quot;</span>
<a href="#l3.42"></a><span id="l3.42">               selection=&quot;folder&quot;/&gt;</span>
<a href="#l3.43"></a><span id="l3.43">     &lt;menuseparator id=&quot;placesContext_sortSeparator&quot;/&gt;</span>
<a href="#l3.44"></a><span id="l3.44">     &lt;menuitem id=&quot;placesContext_show:info&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/common/places/controller.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/common/places/controller.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -200,20 +200,16 @@ PlacesController.prototype = {</span>
<a href="#l4.4"></a><span id="l4.4">                  Components.interfaces.nsINavHistoryQueryOptions.SORT_BY_NONE;</span>
<a href="#l4.5"></a><span id="l4.5">     case &quot;placesCmd_show:info&quot;:</span>
<a href="#l4.6"></a><span id="l4.6">       var selectedNode = this._view.selectedNode;</span>
<a href="#l4.7"></a><span id="l4.7">       if (selectedNode &amp;&amp;</span>
<a href="#l4.8"></a><span id="l4.8">           PlacesUtils.getConcreteItemId(selectedNode) != -1  &amp;&amp;</span>
<a href="#l4.9"></a><span id="l4.9">           !PlacesUtils.nodeIsLivemarkItem(selectedNode))</span>
<a href="#l4.10"></a><span id="l4.10">         return true;</span>
<a href="#l4.11"></a><span id="l4.11">       return false;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    case &quot;placesCmd_reloadMicrosummary&quot;:</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-      var selectedNode = this._view.selectedNode;</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-      return selectedNode &amp;&amp; PlacesUtils.nodeIsBookmark(selectedNode) &amp;&amp;</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-             PlacesUtils.microsummaries.hasMicrosummary(selectedNode.itemId);</span>
<a href="#l4.16"></a><span id="l4.16">     case &quot;placesCmd_reload&quot;:</span>
<a href="#l4.17"></a><span id="l4.17">       // Livemark containers</span>
<a href="#l4.18"></a><span id="l4.18">       var selectedNode = this._view.selectedNode;</span>
<a href="#l4.19"></a><span id="l4.19">       return selectedNode &amp;&amp; PlacesUtils.nodeIsLivemarkContainer(selectedNode);</span>
<a href="#l4.20"></a><span id="l4.20">     case &quot;placesCmd_sortBy:name&quot;:</span>
<a href="#l4.21"></a><span id="l4.21">       var selectedNode = this._view.selectedNode;</span>
<a href="#l4.22"></a><span id="l4.22">       return selectedNode &amp;&amp;</span>
<a href="#l4.23"></a><span id="l4.23">              PlacesUtils.nodeIsFolder(selectedNode) &amp;&amp;</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineat">@@ -289,19 +285,16 @@ PlacesController.prototype = {</span>
<a href="#l4.25"></a><span id="l4.25">       this.showBookmarkPropertiesForSelection();</span>
<a href="#l4.26"></a><span id="l4.26">       break;</span>
<a href="#l4.27"></a><span id="l4.27">     case &quot;placesCmd_moveBookmarks&quot;:</span>
<a href="#l4.28"></a><span id="l4.28">       this.moveSelectedBookmarks();</span>
<a href="#l4.29"></a><span id="l4.29">       break;</span>
<a href="#l4.30"></a><span id="l4.30">     case &quot;placesCmd_reload&quot;:</span>
<a href="#l4.31"></a><span id="l4.31">       this.reloadSelectedLivemark();</span>
<a href="#l4.32"></a><span id="l4.32">       break;</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-    case &quot;placesCmd_reloadMicrosummary&quot;:</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-      this.reloadSelectedMicrosummary();</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-      break;</span>
<a href="#l4.36"></a><span id="l4.36">     case &quot;placesCmd_sortBy:name&quot;:</span>
<a href="#l4.37"></a><span id="l4.37">       this.sortFolderByName();</span>
<a href="#l4.38"></a><span id="l4.38">       break;</span>
<a href="#l4.39"></a><span id="l4.39">     case &quot;placesCmd_createBookmark&quot;:</span>
<a href="#l4.40"></a><span id="l4.40">       var node = this._view.selectedNode;</span>
<a href="#l4.41"></a><span id="l4.41">       PlacesUIUtils.showMinimalAddBookmarkUI(PlacesUtils._uri(node.uri), node.title);</span>
<a href="#l4.42"></a><span id="l4.42">       break;</span>
<a href="#l4.43"></a><span id="l4.43">     }</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineat">@@ -492,19 +485,16 @@ PlacesController.prototype = {</span>
<a href="#l4.45"></a><span id="l4.45">         case Components.interfaces.nsINavHistoryResultNode.RESULT_TYPE_URI:</span>
<a href="#l4.46"></a><span id="l4.46">         case Components.interfaces.nsINavHistoryResultNode.RESULT_TYPE_VISIT:</span>
<a href="#l4.47"></a><span id="l4.47">         case Components.interfaces.nsINavHistoryResultNode.RESULT_TYPE_FULL_VISIT:</span>
<a href="#l4.48"></a><span id="l4.48">           nodeData[&quot;link&quot;] = true;</span>
<a href="#l4.49"></a><span id="l4.49">           uri = PlacesUtils._uri(node.uri);</span>
<a href="#l4.50"></a><span id="l4.50">           if (PlacesUtils.nodeIsBookmark(node)) {</span>
<a href="#l4.51"></a><span id="l4.51">             nodeData[&quot;bookmark&quot;] = true;</span>
<a href="#l4.52"></a><span id="l4.52">             PlacesUtils.nodeIsTagQuery(node.parent)</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineminus">-            var mss = PlacesUtils.microsummaries;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineminus">-            if (mss.hasMicrosummary(node.itemId))</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineminus">-              nodeData[&quot;microsummary&quot;] = true;</span>
<a href="#l4.56"></a><span id="l4.56"> </span>
<a href="#l4.57"></a><span id="l4.57">             var parentNode = node.parent;</span>
<a href="#l4.58"></a><span id="l4.58">             if (parentNode) {</span>
<a href="#l4.59"></a><span id="l4.59">               if (PlacesUtils.nodeIsTagQuery(parentNode))</span>
<a href="#l4.60"></a><span id="l4.60">                 nodeData[&quot;tagChild&quot;] = true;</span>
<a href="#l4.61"></a><span id="l4.61">               else if (PlacesUtils.nodeIsLivemarkContainer(parentNode))</span>
<a href="#l4.62"></a><span id="l4.62">                 nodeData[&quot;livemarkChild&quot;] = true;</span>
<a href="#l4.63"></a><span id="l4.63">             }</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineat">@@ -722,26 +712,16 @@ PlacesController.prototype = {</span>
<a href="#l4.65"></a><span id="l4.65">    */</span>
<a href="#l4.66"></a><span id="l4.66">   reloadSelectedLivemark: function PC_reloadSelectedLivemark() {</span>
<a href="#l4.67"></a><span id="l4.67">     var selectedNode = this._view.selectedNode;</span>
<a href="#l4.68"></a><span id="l4.68">     if (selectedNode &amp;&amp; PlacesUtils.nodeIsLivemarkContainer(selectedNode))</span>
<a href="#l4.69"></a><span id="l4.69">       PlacesUtils.livemarks.reloadLivemarkFolder(selectedNode.itemId);</span>
<a href="#l4.70"></a><span id="l4.70">   },</span>
<a href="#l4.71"></a><span id="l4.71"> </span>
<a href="#l4.72"></a><span id="l4.72">   /**</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineminus">-   * Reload the microsummary associated with the selection</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineminus">-   */</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineminus">-  reloadSelectedMicrosummary: function PC_reloadSelectedMicrosummary() {</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineminus">-    var selectedNode = this._view.selectedNode;</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineminus">-    var mss = PlacesUtils.microsummaries;</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineminus">-    if (mss.hasMicrosummary(selectedNode.itemId))</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-      mss.refreshMicrosummary(selectedNode.itemId);</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineminus">-  },</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineminus">-</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineminus">-  /**</span>
<a href="#l4.83"></a><span id="l4.83">    * Gives the user a chance to cancel loading lots of tabs at once</span>
<a href="#l4.84"></a><span id="l4.84">    */</span>
<a href="#l4.85"></a><span id="l4.85">   _confirmOpenTabs: function(numTabsToOpen) {</span>
<a href="#l4.86"></a><span id="l4.86">     var pref = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l4.87"></a><span id="l4.87">                          .getService(Components.interfaces.nsIPrefBranch);</span>
<a href="#l4.88"></a><span id="l4.88"> </span>
<a href="#l4.89"></a><span id="l4.89">     const kWarnOnOpenPref = &quot;browser.tabs.warnOnOpen&quot;;</span>
<a href="#l4.90"></a><span id="l4.90">     var reallyOpen = true;</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineat">@@ -1613,17 +1593,16 @@ function goUpdatePlacesCommands() {</span>
<a href="#l4.92"></a><span id="l4.92">   updatePlacesCommand(&quot;placesCmd_open:tab&quot;);</span>
<a href="#l4.93"></a><span id="l4.93">   updatePlacesCommand(&quot;placesCmd_new:folder&quot;);</span>
<a href="#l4.94"></a><span id="l4.94">   updatePlacesCommand(&quot;placesCmd_new:bookmark&quot;);</span>
<a href="#l4.95"></a><span id="l4.95">   updatePlacesCommand(&quot;placesCmd_new:livemark&quot;);</span>
<a href="#l4.96"></a><span id="l4.96">   updatePlacesCommand(&quot;placesCmd_new:separator&quot;);</span>
<a href="#l4.97"></a><span id="l4.97">   updatePlacesCommand(&quot;placesCmd_show:info&quot;);</span>
<a href="#l4.98"></a><span id="l4.98">   updatePlacesCommand(&quot;placesCmd_moveBookmarks&quot;);</span>
<a href="#l4.99"></a><span id="l4.99">   updatePlacesCommand(&quot;placesCmd_reload&quot;);</span>
<a href="#l4.100"></a><span id="l4.100" class="difflineminus">-  updatePlacesCommand(&quot;placesCmd_reloadMicrosummary&quot;);</span>
<a href="#l4.101"></a><span id="l4.101">   updatePlacesCommand(&quot;placesCmd_sortBy:name&quot;);</span>
<a href="#l4.102"></a><span id="l4.102">   updatePlacesCommand(&quot;placesCmd_cut&quot;);</span>
<a href="#l4.103"></a><span id="l4.103">   updatePlacesCommand(&quot;placesCmd_copy&quot;);</span>
<a href="#l4.104"></a><span id="l4.104">   updatePlacesCommand(&quot;placesCmd_paste&quot;);</span>
<a href="#l4.105"></a><span id="l4.105">   updatePlacesCommand(&quot;placesCmd_delete&quot;);</span>
<a href="#l4.106"></a><span id="l4.106"> }</span>
<a href="#l4.107"></a><span id="l4.107"> </span>
<a href="#l4.108"></a><span id="l4.108"> function doGetPlacesControllerForCommand(aCommand)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/common/places/tests/unit/bookmarks.preplaces.html</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/common/places/tests/unit/bookmarks.preplaces.html</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -52,14 +52,10 @@</span>
<a href="#l5.4"></a><span id="l5.4">         &lt;DT&gt;&lt;A HREF=&quot;http://news.google.com/&quot; ID=&quot;rdf:#$O2rCs3&quot;&gt;Google News&lt;/A&gt;</span>
<a href="#l5.5"></a><span id="l5.5">     &lt;/DL&gt;&lt;p&gt;</span>
<a href="#l5.6"></a><span id="l5.6">     &lt;HR&gt;</span>
<a href="#l5.7"></a><span id="l5.7">     &lt;DT&gt;&lt;H3 ADD_DATE=&quot;1177541020&quot; LAST_MODIFIED=&quot;1177541050&quot; ID=&quot;rdf:#$74Gpx2&quot;&gt;test&lt;/H3&gt;</span>
<a href="#l5.8"></a><span id="l5.8"> &lt;DD&gt;folder test comment</span>
<a href="#l5.9"></a><span id="l5.9">     &lt;DL&gt;&lt;p&gt;</span>
<a href="#l5.10"></a><span id="l5.10">         &lt;DT&gt;&lt;A HREF=&quot;http://test/post&quot; ADD_DATE=&quot;1177375336&quot; LAST_MODIFIED=&quot;1177375423&quot; SHORTCUTURL=&quot;test&quot; WEB_PANEL=&quot;true&quot; POST_DATA=&quot;hidden1%3Dbar&amp;amp;text1%3D%25s&quot; LAST_CHARSET=&quot;ISO-8859-1&quot; ID=&quot;rdf:#$pYFe7&quot;&gt;test post keyword&lt;/A&gt;</span>
<a href="#l5.11"></a><span id="l5.11"> &lt;DD&gt;item description</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-&lt;!-- XXX Bug 380468</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-        &lt;DT&gt;&lt;A HREF=&quot;http://test/micsum&quot; ADD_DATE=&quot;1177375377&quot; LAST_MODIFIED=&quot;1177541023&quot; LAST_CHARSET=&quot;ISO-8859-1&quot; MICSUM_GEN_URI=&quot;urn:source:http://dietrich.ganx4.com/mozilla/test-microsummary.xml&quot; MICSUM_EXPIRATION=&quot;1177542823620&quot; GENERATED_TITLE=&quot;id:462fd9a2e5b66&quot; ID=&quot;rdf:#$qYFe7&quot;&gt;test microsummary&lt;/A&gt;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-&lt;DD&gt;test microsummary</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineminus">---&gt;</span>
<a href="#l5.16"></a><span id="l5.16">     &lt;/DL&gt;</span>
<a href="#l5.17"></a><span id="l5.17"> &lt;/DL&gt;&lt;p&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_384370.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_384370.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -218,34 +218,16 @@ function testCanonicalBookmarks() {</span>
<a href="#l6.4"></a><span id="l6.4"> </span>
<a href="#l6.5"></a><span id="l6.5">   // description </span>
<a href="#l6.6"></a><span id="l6.6">   do_check_true(PlacesUtils.annotations.itemHasAnnotation(testBookmark1.itemId,</span>
<a href="#l6.7"></a><span id="l6.7">                                                           DESCRIPTION_ANNO));</span>
<a href="#l6.8"></a><span id="l6.8">   do_check_eq(&quot;item description&quot;,</span>
<a href="#l6.9"></a><span id="l6.9">               PlacesUtils.annotations.getItemAnnotation(testBookmark1.itemId,</span>
<a href="#l6.10"></a><span id="l6.10">                                                         DESCRIPTION_ANNO));</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-  /*</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-  // XXX Bug 380468</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-  // test bookmark 2</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineminus">-  var testBookmark2 = testFolder.getChild(1);</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineminus">-  // url</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineminus">-  do_check_eq(&quot;http://test/micsum&quot;, testBookmark2.uri);</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineminus">-  // title</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineminus">-  do_check_eq(&quot;test microsummary&quot;, testBookmark2.title);</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineminus">-  // check that it's a microsummary</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineminus">-  var micsum = mssvc.getMicrosummary(testBookmark2.itemId);</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-  if (!micsum)</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineminus">-    do_throw(&quot;Could not import microsummary&quot;);</span>
<a href="#l6.24"></a><span id="l6.24" class="difflineminus">-  // check generator uri</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineminus">-  var generator = micsum.generator;</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineminus">-  do_check_eq(&quot;urn:source:http://dietrich.ganx4.com/mozilla/test-microsummary.xml&quot;, generator.uri.spec);</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineminus">-  // expiration and generated title can change, so don't test them</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineminus">-  */</span>
<a href="#l6.29"></a><span id="l6.29" class="difflineminus">-</span>
<a href="#l6.30"></a><span id="l6.30">   // clean up</span>
<a href="#l6.31"></a><span id="l6.31">   testFolder.containerOpen = false;</span>
<a href="#l6.32"></a><span id="l6.32">   rootNode.containerOpen = false;</span>
<a href="#l6.33"></a><span id="l6.33"> }</span>
<a href="#l6.34"></a><span id="l6.34"> </span>
<a href="#l6.35"></a><span id="l6.35"> function testToolbarFolder() {</span>
<a href="#l6.36"></a><span id="l6.36">   var query = PlacesUtils.history.getNewQuery();</span>
<a href="#l6.37"></a><span id="l6.37">   query.setFolders([PlacesUtils.bookmarks.toolbarFolder], 1);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_bookmarks_html.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_bookmarks_html.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -66,23 +66,16 @@ try {</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5"> // Get favicon service</span>
<a href="#l7.6"></a><span id="l7.6"> try {</span>
<a href="#l7.7"></a><span id="l7.7">   var iconsvc = Cc[&quot;@mozilla.org/browser/favicon-service;1&quot;].getService(Ci.nsIFaviconService);</span>
<a href="#l7.8"></a><span id="l7.8"> } catch(ex) {</span>
<a href="#l7.9"></a><span id="l7.9">   do_throw(&quot;Could not get favicon service\n&quot;);</span>
<a href="#l7.10"></a><span id="l7.10"> } </span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-// Get microsummary service</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-try {</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-  var mssvc = Cc[&quot;@mozilla.org/microsummary/service;1&quot;].getService(Ci.nsIMicrosummaryService);</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-} catch(ex) {</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-  do_throw(&quot;Could not get microsummary service\n&quot;);</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-}</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-</span>
<a href="#l7.19"></a><span id="l7.19"> // Get io service</span>
<a href="#l7.20"></a><span id="l7.20"> try {</span>
<a href="#l7.21"></a><span id="l7.21">   var iosvc = Cc[&quot;@mozilla.org/network/io-service;1&quot;].getService(Ci.nsIIOService);</span>
<a href="#l7.22"></a><span id="l7.22"> } catch (ex) {</span>
<a href="#l7.23"></a><span id="l7.23">   do_throw(&quot;Could not get io service\n&quot;);</span>
<a href="#l7.24"></a><span id="l7.24"> }</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26"> const DESCRIPTION_ANNO = &quot;bookmarkProperties/description&quot;;</span>
<a href="#l7.27"></a><span id="l7.27" class="difflineat">@@ -261,34 +254,17 @@ function testCanonicalBookmarks(aFolder)</span>
<a href="#l7.28"></a><span id="l7.28"> </span>
<a href="#l7.29"></a><span id="l7.29">   // description</span>
<a href="#l7.30"></a><span id="l7.30">   do_check_true(annosvc.itemHasAnnotation(testBookmark1.itemId,</span>
<a href="#l7.31"></a><span id="l7.31">                                           DESCRIPTION_ANNO));</span>
<a href="#l7.32"></a><span id="l7.32">   do_check_eq(&quot;item description&quot;,</span>
<a href="#l7.33"></a><span id="l7.33">               annosvc.getItemAnnotation(testBookmark1.itemId,</span>
<a href="#l7.34"></a><span id="l7.34">                                         DESCRIPTION_ANNO));</span>
<a href="#l7.35"></a><span id="l7.35"> </span>
<a href="#l7.36"></a><span id="l7.36" class="difflineminus">-  /*</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineminus">-  // XXX Bug 380468</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineminus">-  // test bookmark 2</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineminus">-  var testBookmark2 = testFolder.getChild(1);</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineminus">-  // url</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineminus">-  do_check_eq(&quot;http://test/micsum&quot;, testBookmark2.uri);</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineminus">-  // title</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineminus">-  do_check_eq(&quot;test microsummary&quot;, testBookmark2.title);</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineminus">-  // check that it's a microsummary</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-  var micsum = mssvc.getMicrosummary(testBookmark2.itemId);</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineminus">-  if (!micsum)</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineminus">-    do_throw(&quot;Could not import microsummary&quot;);</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineminus">-  // check generator uri</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineminus">-  var generator = micsum.generator;</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineminus">-  do_check_eq(&quot;urn:source:http://dietrich.ganx4.com/mozilla/test-microsummary.xml&quot;, generator.uri.spec);</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineminus">-  // expiration and generated title can change, so don't test them</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineminus">-  */</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineminus">-  // clean up</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineplus">+ // clean up</span>
<a href="#l7.55"></a><span id="l7.55">   testFolder.containerOpen = false;</span>
<a href="#l7.56"></a><span id="l7.56">   rootNode.containerOpen = false;</span>
<a href="#l7.57"></a><span id="l7.57"> </span>
<a href="#l7.58"></a><span id="l7.58">   query.setFolders([bmsvc.toolbarFolder], 1);</span>
<a href="#l7.59"></a><span id="l7.59">   result = histsvc.executeQuery(query, histsvc.getNewQueryOptions());</span>
<a href="#l7.60"></a><span id="l7.60">   // bookmarks toolbar</span>
<a href="#l7.61"></a><span id="l7.61">   var toolbar = result.root;</span>
<a href="#l7.62"></a><span id="l7.62">   toolbar.containerOpen = true;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_placesTxn.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_placesTxn.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -35,17 +35,16 @@</span>
<a href="#l8.4"></a><span id="l8.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l8.5"></a><span id="l8.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l8.6"></a><span id="l8.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l8.7"></a><span id="l8.7">  *</span>
<a href="#l8.8"></a><span id="l8.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l8.9"></a><span id="l8.9"> </span>
<a href="#l8.10"></a><span id="l8.10"> var bmsvc = PlacesUtils.bookmarks;</span>
<a href="#l8.11"></a><span id="l8.11"> var lmsvc = PlacesUtils.livemarks;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-var mss = PlacesUtils.microsummaries;</span>
<a href="#l8.13"></a><span id="l8.13"> var ptSvc = PlacesUIUtils.ptm;</span>
<a href="#l8.14"></a><span id="l8.14"> var tagssvc = PlacesUtils.tagging;</span>
<a href="#l8.15"></a><span id="l8.15"> var annosvc = PlacesUtils.annotations;</span>
<a href="#l8.16"></a><span id="l8.16"> </span>
<a href="#l8.17"></a><span id="l8.17"> // create and add bookmarks observer</span>
<a href="#l8.18"></a><span id="l8.18"> var observer = {</span>
<a href="#l8.19"></a><span id="l8.19">   onBeginUpdateBatch: function() {</span>
<a href="#l8.20"></a><span id="l8.20">     this._beginUpdateBatch = true;</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineat">@@ -575,32 +574,16 @@ function run_test() {</span>
<a href="#l8.22"></a><span id="l8.22">   do_check_eq(2, bmsvc.getItemIndex(b1));</span>
<a href="#l8.23"></a><span id="l8.23">   do_check_eq(1, bmsvc.getItemIndex(b2));</span>
<a href="#l8.24"></a><span id="l8.24">   do_check_eq(0, bmsvc.getItemIndex(b3));</span>
<a href="#l8.25"></a><span id="l8.25">   txn17.undoTransaction();</span>
<a href="#l8.26"></a><span id="l8.26">   do_check_eq(0, bmsvc.getItemIndex(b1));</span>
<a href="#l8.27"></a><span id="l8.27">   do_check_eq(1, bmsvc.getItemIndex(b2));</span>
<a href="#l8.28"></a><span id="l8.28">   do_check_eq(2, bmsvc.getItemIndex(b3));</span>
<a href="#l8.29"></a><span id="l8.29"> </span>
<a href="#l8.30"></a><span id="l8.30" class="difflineminus">-  // editBookmarkMicrosummary</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-  var tmpMs = mss.createMicrosummary(uri(&quot;http://testmicro.com&quot;), </span>
<a href="#l8.32"></a><span id="l8.32" class="difflineminus">-                                     uri(&quot;http://dietrich.ganx4.com/mozilla/test-microsummary.xml&quot;));</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineminus">-  ptSvc.doTransaction(</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineminus">-  ptSvc.createItem(uri(&quot;http://dietrich.ganx4.com/mozilla/test-microsummary-content.php&quot;),</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineminus">-                   root, -1, &quot;micro test&quot;, null, null, null));</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-  var bId = (bmsvc.getBookmarkIdsForURI(uri(&quot;http://dietrich.ganx4.com/mozilla/test-microsummary-content.php&quot;)))[0];</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineminus">-  do_check_true(!mss.hasMicrosummary(bId));</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineminus">-  var txn18 = ptSvc.editBookmarkMicrosummary(bId, tmpMs);</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineminus">-  txn18.doTransaction();</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineminus">-  do_check_eq(observer._itemChangedId, bId);</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineminus">-  do_check_true(mss.hasMicrosummary(bId));</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineminus">-  txn18.undoTransaction();</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineminus">-  do_check_eq(observer._itemChangedId, bId);</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineminus">-  do_check_true(!mss.hasMicrosummary(bId));</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineminus">-</span>
<a href="#l8.46"></a><span id="l8.46">   // Testing edit Post Data</span>
<a href="#l8.47"></a><span id="l8.47">   const POST_DATA_ANNO = &quot;bookmarkProperties/POSTData&quot;;</span>
<a href="#l8.48"></a><span id="l8.48">   var postData = &quot;foo&quot;;</span>
<a href="#l8.49"></a><span id="l8.49">   var postDataURI = uri(&quot;http://foo.com&quot;);</span>
<a href="#l8.50"></a><span id="l8.50">   ptSvc.doTransaction(</span>
<a href="#l8.51"></a><span id="l8.51">     ptSvc.createItem(postDataURI, root, -1, &quot;postdata test&quot;, null, null, null));</span>
<a href="#l8.52"></a><span id="l8.52">   var postDataId = (bmsvc.getBookmarkIdsForURI(postDataURI))[0];</span>
<a href="#l8.53"></a><span id="l8.53">   var postDataTxn = ptSvc.editBookmarkPostData(postDataId, postData);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/suite/common/src/PlacesUIUtils.jsm</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/suite/common/src/PlacesUIUtils.jsm</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1322,19 +1322,16 @@ XPCOMUtils.defineLazyGetter(PlacesUIUtil</span>
<a href="#l9.4"></a><span id="l9.4">       new PlacesEditBookmarkPostDataTransaction(aItemId, aPostData),</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6">     editLivemarkSiteURI: function(aLivemarkId, aSiteURI)</span>
<a href="#l9.7"></a><span id="l9.7">       new PlacesEditLivemarkSiteURITransaction(aLivemarkId, aSiteURI),</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9">     editLivemarkFeedURI: function(aLivemarkId, aFeedURI)</span>
<a href="#l9.10"></a><span id="l9.10">       new PlacesEditLivemarkFeedURITransaction(aLivemarkId, aFeedURI),</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-    editBookmarkMicrosummary: function(aItemId, aNewMicrosummary)</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-      new PlacesEditBookmarkMicrosummaryTransaction(aItemId, aNewMicrosummary),</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-</span>
<a href="#l9.15"></a><span id="l9.15">     editItemDateAdded: function(aItemId, aNewDateAdded)</span>
<a href="#l9.16"></a><span id="l9.16">       new PlacesEditItemDateAddedTransaction(aItemId, aNewDateAdded),</span>
<a href="#l9.17"></a><span id="l9.17"> </span>
<a href="#l9.18"></a><span id="l9.18">     editItemLastModified: function(aItemId, aNewLastModified)</span>
<a href="#l9.19"></a><span id="l9.19">       new PlacesEditItemLastModifiedTransaction(aItemId, aNewLastModified),</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21">     sortFolderByName: function(aFolderId)</span>
<a href="#l9.22"></a><span id="l9.22">       new PlacesSortFolderByNameTransaction(aFolderId),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/installer/package-manifest.in</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/installer/package-manifest.in</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -359,17 +359,16 @@</span>
<a href="#l10.4"></a><span id="l10.4"> @BINPATH@/components/nsHelperAppDlg.manifest</span>
<a href="#l10.5"></a><span id="l10.5"> @BINPATH@/components/nsINIProcessor.js</span>
<a href="#l10.6"></a><span id="l10.6"> @BINPATH@/components/nsINIProcessor.manifest</span>
<a href="#l10.7"></a><span id="l10.7"> @BINPATH@/components/nsInputListAutoComplete.js</span>
<a href="#l10.8"></a><span id="l10.8"> @BINPATH@/components/nsLivemarkService.js</span>
<a href="#l10.9"></a><span id="l10.9"> @BINPATH@/components/nsLoginInfo.js</span>
<a href="#l10.10"></a><span id="l10.10"> @BINPATH@/components/nsLoginManager.js</span>
<a href="#l10.11"></a><span id="l10.11"> @BINPATH@/components/nsLoginManagerPrompter.js</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-@BINPATH@/components/nsMicrosummaryService.js</span>
<a href="#l10.13"></a><span id="l10.13"> @BINPATH@/components/nsPlacesAutoComplete.js</span>
<a href="#l10.14"></a><span id="l10.14"> @BINPATH@/components/nsPlacesAutoComplete.manifest</span>
<a href="#l10.15"></a><span id="l10.15"> @BINPATH@/components/nsPlacesExpiration.js</span>
<a href="#l10.16"></a><span id="l10.16"> @BINPATH@/components/nsPrompter.js</span>
<a href="#l10.17"></a><span id="l10.17"> @BINPATH@/components/nsPrompter.manifest</span>
<a href="#l10.18"></a><span id="l10.18"> @BINPATH@/components/nsProxyAutoConfig.js</span>
<a href="#l10.19"></a><span id="l10.19"> @BINPATH@/components/nsProxyAutoConfig.manifest</span>
<a href="#l10.20"></a><span id="l10.20"> @BINPATH@/components/nsSearchService.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/suite/installer/removed-files.in</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/suite/installer/removed-files.in</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -109,16 +109,17 @@ components/@DLL_PREFIX@mozfind@DLL_SUFFI</span>
<a href="#l11.4"></a><span id="l11.4"> components/@DLL_PREFIX@myspell@DLL_SUFFIX@</span>
<a href="#l11.5"></a><span id="l11.5"> components/nsCloseAllWindows.js</span>
<a href="#l11.6"></a><span id="l11.6"> components/nsDictionary.js</span>
<a href="#l11.7"></a><span id="l11.7"> components/nsDownloadProgressListener.js</span>
<a href="#l11.8"></a><span id="l11.8"> components/nsExtensionManager.js</span>
<a href="#l11.9"></a><span id="l11.9"> components/nsInterfaceInfoToIDL.js</span>
<a href="#l11.10"></a><span id="l11.10"> components/nsKillAll.js</span>
<a href="#l11.11"></a><span id="l11.11"> components/nsLDAPPrefsService.js</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+components/nsMicrosummaryService.js</span>
<a href="#l11.13"></a><span id="l11.13"> components/nsPlacesDBFlush.js</span>
<a href="#l11.14"></a><span id="l11.14"> #ifdef XP_WIN</span>
<a href="#l11.15"></a><span id="l11.15"> components/nsPostUpdateWin.js</span>
<a href="#l11.16"></a><span id="l11.16"> #endif</span>
<a href="#l11.17"></a><span id="l11.17"> components/nsProgressDialog.js</span>
<a href="#l11.18"></a><span id="l11.18"> components/nsResetPref.js</span>
<a href="#l11.19"></a><span id="l11.19"> components/nsScriptableIO.js</span>
<a href="#l11.20"></a><span id="l11.20"> components/nsSetDefaultBrowser.js</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineat">@@ -580,17 +581,16 @@ xpicleanup@BIN_SUFFIX@</span>
<a href="#l11.22"></a><span id="l11.22">   components/nsHandlerService.js</span>
<a href="#l11.23"></a><span id="l11.23">   components/nsHelperAppDlg.js</span>
<a href="#l11.24"></a><span id="l11.24">   components/nsINIProcessor.js</span>
<a href="#l11.25"></a><span id="l11.25">   components/nsInputListAutoComplete.js</span>
<a href="#l11.26"></a><span id="l11.26">   components/nsLivemarkService.js</span>
<a href="#l11.27"></a><span id="l11.27">   components/nsLoginInfo.js</span>
<a href="#l11.28"></a><span id="l11.28">   components/nsLoginManager.js</span>
<a href="#l11.29"></a><span id="l11.29">   components/nsLoginManagerPrompter.js</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineminus">-  components/nsMicrosummaryService.js</span>
<a href="#l11.31"></a><span id="l11.31">   components/nsPlacesAutoComplete.js</span>
<a href="#l11.32"></a><span id="l11.32">   components/nsPlacesDBFlush.js</span>
<a href="#l11.33"></a><span id="l11.33">   components/nsPlacesExpiration.js</span>
<a href="#l11.34"></a><span id="l11.34">   components/nsPrompter.js</span>
<a href="#l11.35"></a><span id="l11.35">   components/nsProxyAutoConfig.js</span>
<a href="#l11.36"></a><span id="l11.36">   components/nsSearchService.js</span>
<a href="#l11.37"></a><span id="l11.37">   components/nsSearchSuggestions.js</span>
<a href="#l11.38"></a><span id="l11.38">   components/nsSessionStartup.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/bookmarks/editBookmarkOverlay.dtd</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1,17 +1,16 @@</span>
<a href="#l12.4"></a><span id="l12.4"> &lt;!ENTITY editBookmarkOverlay.name.label                      &quot;Name:&quot;&gt;</span>
<a href="#l12.5"></a><span id="l12.5"> &lt;!ENTITY editBookmarkOverlay.name.accesskey                  &quot;N&quot;&gt;</span>
<a href="#l12.6"></a><span id="l12.6"> &lt;!ENTITY editBookmarkOverlay.location.label                  &quot;Location:&quot;&gt;</span>
<a href="#l12.7"></a><span id="l12.7"> &lt;!ENTITY editBookmarkOverlay.location.accesskey              &quot;L&quot;&gt;</span>
<a href="#l12.8"></a><span id="l12.8"> &lt;!ENTITY editBookmarkOverlay.feedLocation.label              &quot;Feed Location:&quot;&gt;</span>
<a href="#l12.9"></a><span id="l12.9"> &lt;!ENTITY editBookmarkOverlay.feedLocation.accesskey          &quot;F&quot;&gt;</span>
<a href="#l12.10"></a><span id="l12.10"> &lt;!ENTITY editBookmarkOverlay.siteLocation.label              &quot;Site Location:&quot;&gt;</span>
<a href="#l12.11"></a><span id="l12.11"> &lt;!ENTITY editBookmarkOverlay.siteLocation.accesskey          &quot;S&quot;&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-&lt;!ENTITY editBookmarkOverlay.liveTitlesSeparator.label       &quot;Live Titles&quot;&gt;</span>
<a href="#l12.13"></a><span id="l12.13"> &lt;!ENTITY editBookmarkOverlay.folder.label                    &quot;Folder:&quot;&gt;</span>
<a href="#l12.14"></a><span id="l12.14"> &lt;!ENTITY editBookmarkOverlay.foldersExpanderDown.tooltip     &quot;Show all the bookmarks folders&quot;&gt;</span>
<a href="#l12.15"></a><span id="l12.15"> &lt;!ENTITY editBookmarkOverlay.expanderUp.tooltip              &quot;Hide&quot;&gt;</span>
<a href="#l12.16"></a><span id="l12.16"> &lt;!ENTITY editBookmarkOverlay.tags.label                      &quot;Tags:&quot;&gt;</span>
<a href="#l12.17"></a><span id="l12.17"> &lt;!ENTITY editBookmarkOverlay.tags.accesskey                  &quot;a&quot;&gt;</span>
<a href="#l12.18"></a><span id="l12.18"> &lt;!ENTITY editBookmarkOverlay.tagsEmptyDesc.label             &quot;Separate tags with commas&quot;&gt;</span>
<a href="#l12.19"></a><span id="l12.19"> &lt;!ENTITY editBookmarkOverlay.description.label               &quot;Description:&quot;&gt;</span>
<a href="#l12.20"></a><span id="l12.20"> &lt;!ENTITY editBookmarkOverlay.description.accesskey           &quot;D&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/suite/locales/en-US/chrome/common/bookmarks/places.dtd</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/common/bookmarks/places.dtd</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -62,18 +62,16 @@</span>
<a href="#l13.4"></a><span id="l13.4"> &lt;!ENTITY cmd.new_folder.label              &quot;New Folder&quot;&gt;</span>
<a href="#l13.5"></a><span id="l13.5"> &lt;!ENTITY cmd.new_folder.accesskey          &quot;o&quot;&gt;</span>
<a href="#l13.6"></a><span id="l13.6"> &lt;!ENTITY cmd.context_new_folder.accesskey  &quot;F&quot;&gt;</span>
<a href="#l13.7"></a><span id="l13.7"> &lt;!ENTITY cmd.new_separator.label           &quot;New Separator&quot;&gt;</span>
<a href="#l13.8"></a><span id="l13.8"> &lt;!ENTITY cmd.new_separator.accesskey       &quot;S&quot;&gt;</span>
<a href="#l13.9"></a><span id="l13.9"> </span>
<a href="#l13.10"></a><span id="l13.10"> &lt;!ENTITY cmd.reloadLivebookmark.label      &quot;Reload Live Bookmark&quot;&gt;</span>
<a href="#l13.11"></a><span id="l13.11"> &lt;!ENTITY cmd.reloadLivebookmark.accesskey  &quot;R&quot;&gt;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-&lt;!ENTITY cmd.reloadMicrosummary.label      &quot;Reload Live Title&quot;&gt;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-&lt;!ENTITY cmd.reloadMicrosummary.accesskey  &quot;R&quot;&gt;</span>
<a href="#l13.14"></a><span id="l13.14"> </span>
<a href="#l13.15"></a><span id="l13.15"> &lt;!ENTITY cmd.moveBookmarks.label                  &quot;Move&quot;&gt;</span>
<a href="#l13.16"></a><span id="l13.16"> &lt;!ENTITY cmd.moveBookmarks.accesskey              &quot;M&quot;&gt;</span>
<a href="#l13.17"></a><span id="l13.17"> </span>
<a href="#l13.18"></a><span id="l13.18"> &lt;!ENTITY col.title.label         &quot;Name&quot;&gt;</span>
<a href="#l13.19"></a><span id="l13.19"> &lt;!ENTITY col.tags.label          &quot;Tags&quot;&gt;</span>
<a href="#l13.20"></a><span id="l13.20"> &lt;!ENTITY col.url.label           &quot;Location&quot;&gt;</span>
<a href="#l13.21"></a><span id="l13.21"> &lt;!ENTITY col.lastvisit.label     &quot;Visit Date&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/suite/themes/classic/communicator/bookmarks/editBookmarkOverlay.css</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -81,47 +81,16 @@</span>
<a href="#l14.4"></a><span id="l14.4">   width: 32em;</span>
<a href="#l14.5"></a><span id="l14.5"> }</span>
<a href="#l14.6"></a><span id="l14.6"> </span>
<a href="#l14.7"></a><span id="l14.7"> #editBMPanel_folderTree {</span>
<a href="#l14.8"></a><span id="l14.8">   margin-top: 2px;</span>
<a href="#l14.9"></a><span id="l14.9">   margin-bottom: 2px;</span>
<a href="#l14.10"></a><span id="l14.10"> }</span>
<a href="#l14.11"></a><span id="l14.11"> </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-/**** name picker ****/</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineminus">-</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineminus">-/* Make the microsummary picker look like a regular textbox instead of</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineminus">- * an editable menulist when no microsummaries are available.</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineminus">- */</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] {</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineminus">-  /* These rules come from the textbox element in textbox.css. */</span>
<a href="#l14.20"></a><span id="l14.20" class="difflineminus">-  -moz-appearance: textfield; /* Normal editable menulists set this to &quot;menulist&quot;. */</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineminus">-  cursor: text;</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineminus">-  border: 2px solid;</span>
<a href="#l14.23"></a><span id="l14.23" class="difflineminus">-  -moz-border-top-colors: ThreeDShadow ThreeDDarkShadow;</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineminus">-  -moz-border-right-colors: ThreeDHighlight ThreeDLightShadow;</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineminus">-  -moz-border-bottom-colors: ThreeDHighlight ThreeDLightShadow;</span>
<a href="#l14.26"></a><span id="l14.26" class="difflineminus">-  -moz-border-left-colors: ThreeDShadow ThreeDDarkShadow;</span>
<a href="#l14.27"></a><span id="l14.27" class="difflineminus">-  padding: 2px 2px 3px;</span>
<a href="#l14.28"></a><span id="l14.28" class="difflineminus">-  -moz-padding-start: 4px;</span>
<a href="#l14.29"></a><span id="l14.29" class="difflineminus">-  background-color: -moz-Field;</span>
<a href="#l14.30"></a><span id="l14.30" class="difflineminus">-  color: -moz-FieldText;</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineminus">-}</span>
<a href="#l14.32"></a><span id="l14.32" class="difflineminus">-</span>
<a href="#l14.33"></a><span id="l14.33" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; .menulist-editable-box {</span>
<a href="#l14.34"></a><span id="l14.34" class="difflineminus">-  -moz-appearance: none; /* Normal editable menulists set this to &quot;menulist-textfield&quot;. */</span>
<a href="#l14.35"></a><span id="l14.35" class="difflineminus">-  padding: 0;</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineminus">-}</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineminus">-</span>
<a href="#l14.38"></a><span id="l14.38" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; .menulist-dropmarker,</span>
<a href="#l14.39"></a><span id="l14.39" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; menupopup {</span>
<a href="#l14.40"></a><span id="l14.40" class="difflineminus">-  display: none;</span>
<a href="#l14.41"></a><span id="l14.41" class="difflineminus">-}</span>
<a href="#l14.42"></a><span id="l14.42" class="difflineminus">-</span>
<a href="#l14.43"></a><span id="l14.43"> /* Hide the value column of the tag autocomplete popup</span>
<a href="#l14.44"></a><span id="l14.44">  * leaving only the comment column visible. This is</span>
<a href="#l14.45"></a><span id="l14.45">  * so that only the tag being edited is shown in the</span>
<a href="#l14.46"></a><span id="l14.46">  * popup.</span>
<a href="#l14.47"></a><span id="l14.47">  */</span>
<a href="#l14.48"></a><span id="l14.48"> #editBMPanel_tagsField #treecolAutoCompleteValue {</span>
<a href="#l14.49"></a><span id="l14.49">   visibility: collapse;</span>
<a href="#l14.50"></a><span id="l14.50"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/suite/themes/classic/mac/communicator/bookmarks/editBookmarkOverlay.css</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -85,80 +85,16 @@</span>
<a href="#l15.4"></a><span id="l15.4"> #editBookmarkPanelContent {</span>
<a href="#l15.5"></a><span id="l15.5">   min-width: 23em;</span>
<a href="#l15.6"></a><span id="l15.6"> }</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8"> #editBMPanel_folderTree {</span>
<a href="#l15.9"></a><span id="l15.9">   margin: 6px 4px 0 4px;</span>
<a href="#l15.10"></a><span id="l15.10"> }</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-/**** name picker ****/</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineminus">-</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineminus">-/* Make the microsummary picker look like a regular textbox instead of</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineminus">- * an editable menulist when no microsummaries are available.</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineminus">- */</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] {</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-  -moz-appearance: none;</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineminus">-  margin: 0;</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineminus">-  border: none;</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineminus">-  padding: 0;</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineminus">-  height: auto !important;</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineminus">-}</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineminus">-</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; .menulist-dropmarker {</span>
<a href="#l15.26"></a><span id="l15.26" class="difflineminus">-  display: none;</span>
<a href="#l15.27"></a><span id="l15.27" class="difflineminus">-}</span>
<a href="#l15.28"></a><span id="l15.28" class="difflineminus">-</span>
<a href="#l15.29"></a><span id="l15.29" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; .menulist-editable-box {</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineminus">-  /* These rules are duplicates of the rules for the textbox element</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-   * in textbox.css and should track changes in that file.</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineminus">-   */</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineminus">-  -moz-appearance: textfield;</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineminus">-  cursor: text;</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineminus">-  margin: 4px 4px;</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineminus">-  border: 3px solid;</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineminus">-  -moz-border-top-colors: transparent #888888 #000000;</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineminus">-  -moz-border-right-colors: transparent #FFFFFF #000000;</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineminus">-  -moz-border-bottom-colors: transparent #FFFFFF #000000;</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineminus">-  -moz-border-left-colors: transparent #888888 #000000;</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineminus">-  border-top-right-radius: 2px;</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineminus">-  border-bottom-left-radius: 2px;</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineminus">-  padding: 0;</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineminus">-  background-color: -moz-Field;</span>
<a href="#l15.45"></a><span id="l15.45" class="difflineminus">-  color: -moz-FieldText;</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineminus">-}</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineminus">-</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;][disabled=&quot;true&quot;] &gt; .menulist-editable-box {</span>
<a href="#l15.49"></a><span id="l15.49" class="difflineminus">-  cursor: default;</span>
<a href="#l15.50"></a><span id="l15.50" class="difflineminus">-  -moz-border-top-colors: transparent ThreeDShadow -moz-Dialog;</span>
<a href="#l15.51"></a><span id="l15.51" class="difflineminus">-  -moz-border-right-colors: transparent ThreeDShadow -moz-Dialog;</span>
<a href="#l15.52"></a><span id="l15.52" class="difflineminus">-  -moz-border-bottom-colors: transparent ThreeDShadow -moz-Dialog;</span>
<a href="#l15.53"></a><span id="l15.53" class="difflineminus">-  -moz-border-left-colors: transparent ThreeDShadow -moz-Dialog;</span>
<a href="#l15.54"></a><span id="l15.54" class="difflineminus">-  color: GrayText;</span>
<a href="#l15.55"></a><span id="l15.55" class="difflineminus">-}</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineminus">-</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; .menulist-editable-box &gt; html|*.textbox-input {</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineminus">-  margin: 0 !important;</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineminus">-  border: none !important;</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineminus">-  padding: 0 !important;</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineminus">-  background-color: inherit;</span>
<a href="#l15.62"></a><span id="l15.62" class="difflineminus">-  color: inherit;</span>
<a href="#l15.63"></a><span id="l15.63" class="difflineminus">-  font: inherit;</span>
<a href="#l15.64"></a><span id="l15.64" class="difflineminus">-}</span>
<a href="#l15.65"></a><span id="l15.65" class="difflineminus">-</span>
<a href="#l15.66"></a><span id="l15.66" class="difflineminus">-/* Hide the drop marker and the popup. */</span>
<a href="#l15.67"></a><span id="l15.67" class="difflineminus">-</span>
<a href="#l15.68"></a><span id="l15.68" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; .menulist-dropmarker {</span>
<a href="#l15.69"></a><span id="l15.69" class="difflineminus">-  display: none;</span>
<a href="#l15.70"></a><span id="l15.70" class="difflineminus">-}</span>
<a href="#l15.71"></a><span id="l15.71" class="difflineminus">-</span>
<a href="#l15.72"></a><span id="l15.72" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; menupopup {</span>
<a href="#l15.73"></a><span id="l15.73" class="difflineminus">-  display: none;</span>
<a href="#l15.74"></a><span id="l15.74" class="difflineminus">-}</span>
<a href="#l15.75"></a><span id="l15.75" class="difflineminus">-</span>
<a href="#l15.76"></a><span id="l15.76"> /* Hide the value column of the tag autocomplete popup</span>
<a href="#l15.77"></a><span id="l15.77">  * leaving only the comment column visible. This is</span>
<a href="#l15.78"></a><span id="l15.78">  * so that only the tag being edited is shown in the</span>
<a href="#l15.79"></a><span id="l15.79">  * popup.</span>
<a href="#l15.80"></a><span id="l15.80">  */</span>
<a href="#l15.81"></a><span id="l15.81"> #editBMPanel_tagsField #treecolAutoCompleteValue {</span>
<a href="#l15.82"></a><span id="l15.82">   visibility: collapse;</span>
<a href="#l15.83"></a><span id="l15.83"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/suite/themes/modern/communicator/bookmarks/editBookmarkOverlay.css</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -72,48 +72,16 @@</span>
<a href="#l16.4"></a><span id="l16.4">   width: 32em;</span>
<a href="#l16.5"></a><span id="l16.5"> }</span>
<a href="#l16.6"></a><span id="l16.6"> </span>
<a href="#l16.7"></a><span id="l16.7"> #editBMPanel_folderTree {</span>
<a href="#l16.8"></a><span id="l16.8">   margin-top: 2px;</span>
<a href="#l16.9"></a><span id="l16.9">   margin-bottom: 2px;</span>
<a href="#l16.10"></a><span id="l16.10"> }</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-/**** name picker ****/</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineminus">-</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineminus">-/* Make the microsummary picker look like a regular textbox instead of</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineminus">- * an editable menulist when no microsummaries are available.</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineminus">- */</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] {</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineminus">-  /* These rules come from the textbox element in textbox.css. */</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineminus">-  cursor: text;</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineminus">-  border: 2px solid;</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineminus">-  -moz-border-top-colors: #BEC3D3 #5D616E;</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineminus">-  -moz-border-right-colors: #F8FAFE #5D616E;</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineminus">-  -moz-border-bottom-colors: #F8FAFE #5D616E;</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineminus">-  -moz-border-left-colors: #BEC3D3 #5D616E;</span>
<a href="#l16.26"></a><span id="l16.26" class="difflineminus">-  padding-top: 1px;</span>
<a href="#l16.27"></a><span id="l16.27" class="difflineminus">-  padding-bottom: 1px;</span>
<a href="#l16.28"></a><span id="l16.28" class="difflineminus">-  -moz-padding-start: 2px;</span>
<a href="#l16.29"></a><span id="l16.29" class="difflineminus">-  -moz-padding-end: 0px;</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineminus">-  background-color: #FFFFFF;</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineminus">-  color: #000000;</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineminus">-}</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineminus">-</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; .menulist-editable-box {</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineminus">-  padding: 0;</span>
<a href="#l16.36"></a><span id="l16.36" class="difflineminus">-  border: none;</span>
<a href="#l16.37"></a><span id="l16.37" class="difflineminus">-}</span>
<a href="#l16.38"></a><span id="l16.38" class="difflineminus">-</span>
<a href="#l16.39"></a><span id="l16.39" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; .menulist-dropmarker,</span>
<a href="#l16.40"></a><span id="l16.40" class="difflineminus">-#editBMPanel_namePicker[droppable=&quot;false&quot;] &gt; menupopup {</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineminus">-  display: none;</span>
<a href="#l16.42"></a><span id="l16.42" class="difflineminus">-}</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineminus">-</span>
<a href="#l16.44"></a><span id="l16.44"> /* Hide the value column of the tag autocomplete popup</span>
<a href="#l16.45"></a><span id="l16.45">  * leaving only the comment column visible. This is</span>
<a href="#l16.46"></a><span id="l16.46">  * so that only the tag being edited is shown in the</span>
<a href="#l16.47"></a><span id="l16.47">  * popup.</span>
<a href="#l16.48"></a><span id="l16.48">  */</span>
<a href="#l16.49"></a><span id="l16.49"> #editBMPanel_tagsField #treecolAutoCompleteValue {</span>
<a href="#l16.50"></a><span id="l16.50">   visibility: collapse;</span>
<a href="#l16.51"></a><span id="l16.51"> }</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

