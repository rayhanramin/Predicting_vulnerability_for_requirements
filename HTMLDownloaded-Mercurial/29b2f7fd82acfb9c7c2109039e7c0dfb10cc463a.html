<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 17412:29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a" />
<meta property="og:url" content="/comm-central/rev/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a" />
<meta property="og:description" content="Fix bug 1117541 - Fix and run xpcshell tests for the provider. r=redDragon" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a">shortlog</a> |
<a href="/comm-central/log/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a">files</a> |
changeset |
<a href="/comm-central/raw-rev/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a">raw</a>  | <a href="/comm-central/archive/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
Fix <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1117541">bug 1117541</a> - Fix and run xpcshell tests for the provider. r=redDragon
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#112;&#32;&#75;&#101;&#119;&#105;&#115;&#99;&#104;&#32;&#60;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 21 Jan 2015 12:25:14 +0100</td></tr>

<tr>
 <td>changeset 17412</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a">29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a</a></td>
</tr>



<tr>
<td>parent 17411</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/c785d6f3f52a0c2b8506617ae30b41879d3139fa">c785d6f3f52a0c2b8506617ae30b41879d3139fa</a>
</td>
</tr>

<tr>
<td>child 17413</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/37e26b255c40b3d2fed15d2309f7aa398786cd0c">37e26b255c40b3d2fed15d2309f7aa398786cd0c</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a">10729</a></td></tr>
<tr><td>push user</td><td>mozilla@kewis.ch</td></tr>
<tr><td>push date</td><td class="date age">Wed, 28 Jan 2015 00:14:30 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@2e1f5057f6c5 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=2e1f5057f6c5ddd43505a4c14b2cefff468cd516">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=2e1f5057f6c5ddd43505a4c14b2cefff468cd516&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=2e1f5057f6c5ddd43505a4c14b2cefff468cd516&newProject=comm-central&newRevision=84fa89be523262699e6783fc2ec79df1da0c5bbc&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=2e1f5057f6c5ddd43505a4c14b2cefff468cd516&newProject=comm-central&newRevision=84fa89be523262699e6783fc2ec79df1da0c5bbc&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=2e1f5057f6c5ddd43505a4c14b2cefff468cd516&newProject=comm-central&newRevision=84fa89be523262699e6783fc2ec79df1da0c5bbc&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28redDragon%29&revcount=50">redDragon</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1117541">1117541</a></td></tr>




</table></div>

<div class="page_body description">Fix <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1117541">bug 1117541</a> - Fix and run xpcshell tests for the provider. r=redDragon</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/base/modules/calUtils.jsm">calendar/base/modules/calUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/base/modules/calUtils.jsm">file</a> |
<a href="/comm-central/annotate/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/base/modules/calUtils.jsm">annotate</a> |
<a href="/comm-central/diff/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/base/modules/calUtils.jsm">diff</a> |
<a href="/comm-central/comparison/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/base/modules/calUtils.jsm">comparison</a> |
<a href="/comm-central/log/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/base/modules/calUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/providers/gdata/modules/gdataUtils.jsm">calendar/providers/gdata/modules/gdataUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/providers/gdata/modules/gdataUtils.jsm">file</a> |
<a href="/comm-central/annotate/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/providers/gdata/modules/gdataUtils.jsm">annotate</a> |
<a href="/comm-central/diff/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/providers/gdata/modules/gdataUtils.jsm">diff</a> |
<a href="/comm-central/comparison/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/providers/gdata/modules/gdataUtils.jsm">comparison</a> |
<a href="/comm-central/log/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/providers/gdata/modules/gdataUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/test_gdata_provider.js">calendar/test/unit/test_gdata_provider.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/test_gdata_provider.js">file</a> |
<a href="/comm-central/annotate/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/test_gdata_provider.js">annotate</a> |
<a href="/comm-central/diff/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/test_gdata_provider.js">diff</a> |
<a href="/comm-central/comparison/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/test_gdata_provider.js">comparison</a> |
<a href="/comm-central/log/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/test_gdata_provider.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/xpcshell-shared.ini">calendar/test/unit/xpcshell-shared.ini</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/xpcshell-shared.ini">file</a> |
<a href="/comm-central/annotate/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/xpcshell-shared.ini">annotate</a> |
<a href="/comm-central/diff/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/xpcshell-shared.ini">diff</a> |
<a href="/comm-central/comparison/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/xpcshell-shared.ini">comparison</a> |
<a href="/comm-central/log/29b2f7fd82acfb9c7c2109039e7c0dfb10cc463a/calendar/test/unit/xpcshell-shared.ini">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/modules/calUtils.jsm</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/modules/calUtils.jsm</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -78,44 +78,45 @@ let cal = {</span>
<a href="#l1.4"></a><span id="l1.4">             func();</span>
<a href="#l1.5"></a><span id="l1.5">         }</span>
<a href="#l1.6"></a><span id="l1.6">     },</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8">     /**</span>
<a href="#l1.9"></a><span id="l1.9">      * Create an adapter for the given interface. If passed, methods will be</span>
<a href="#l1.10"></a><span id="l1.10">      * added to the template object, otherwise a new object will be returned.</span>
<a href="#l1.11"></a><span id="l1.11">      *</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-     * @param iface     The interface to adapt (Components.interfaces...)</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+     * @param iface     The interface to adapt, either using</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+     *                    Components.interfaces or the name as a string.</span>
<a href="#l1.15"></a><span id="l1.15">      * @param template  (optional) A template object to extend</span>
<a href="#l1.16"></a><span id="l1.16">      * @return          If passed the adapted template object, otherwise a</span>
<a href="#l1.17"></a><span id="l1.17">      *                    clean adapter.</span>
<a href="#l1.18"></a><span id="l1.18">      *</span>
<a href="#l1.19"></a><span id="l1.19">      * Currently supported interfaces are:</span>
<a href="#l1.20"></a><span id="l1.20">      *  - calIObserver</span>
<a href="#l1.21"></a><span id="l1.21">      *  - calICalendarManagerObserver</span>
<a href="#l1.22"></a><span id="l1.22">      *  - calIOperationListener</span>
<a href="#l1.23"></a><span id="l1.23">      *  - calICompositeObserver</span>
<a href="#l1.24"></a><span id="l1.24">      */</span>
<a href="#l1.25"></a><span id="l1.25">     createAdapter: function createAdapter(iface, template) {</span>
<a href="#l1.26"></a><span id="l1.26">         let methods;</span>
<a href="#l1.27"></a><span id="l1.27">         let adapter = template || {};</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">-        switch (iface) {</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-            case Components.interfaces.calIObserver:</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+        switch (iface.name || iface) {</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+            case &quot;calIObserver&quot;:</span>
<a href="#l1.32"></a><span id="l1.32">                 methods = [&quot;onStartBatch&quot;, &quot;onEndBatch&quot;, &quot;onLoad&quot;, &quot;onAddItem&quot;,</span>
<a href="#l1.33"></a><span id="l1.33">                            &quot;onModifyItem&quot;, &quot;onDeleteItem&quot;, &quot;onError&quot;,</span>
<a href="#l1.34"></a><span id="l1.34">                            &quot;onPropertyChanged&quot;, &quot;onPropertyDeleting&quot;];</span>
<a href="#l1.35"></a><span id="l1.35">                 break;</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineminus">-            case Components.interfaces.calICalendarManagerObserver:</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+            case &quot;calICalendarManagerObserver&quot;:</span>
<a href="#l1.38"></a><span id="l1.38">                 methods = [&quot;onCalendarRegistered&quot;, &quot;onCalendarUnregistering&quot;,</span>
<a href="#l1.39"></a><span id="l1.39">                            &quot;onCalendarDeleting&quot;];</span>
<a href="#l1.40"></a><span id="l1.40">                 break;</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineminus">-            case Components.interfaces.calIOperationListener:</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineplus">+            case &quot;calIOperationListener&quot;:</span>
<a href="#l1.43"></a><span id="l1.43">                 methods = [&quot;onGetResult&quot;, &quot;onOperationComplete&quot;];</span>
<a href="#l1.44"></a><span id="l1.44">                 break;</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineminus">-            case Components.interfaces.calICompositeObserver:</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineplus">+            case &quot;calICompositeObserver&quot;:</span>
<a href="#l1.47"></a><span id="l1.47">                 methods = [&quot;onCalendarAdded&quot;, &quot;onCalendarRemoved&quot;,</span>
<a href="#l1.48"></a><span id="l1.48">                            &quot;onDefaultCalendarChanged&quot;];</span>
<a href="#l1.49"></a><span id="l1.49">                 break;</span>
<a href="#l1.50"></a><span id="l1.50">             default:</span>
<a href="#l1.51"></a><span id="l1.51">                 methods = [];</span>
<a href="#l1.52"></a><span id="l1.52">                 break;</span>
<a href="#l1.53"></a><span id="l1.53">         }</span>
<a href="#l1.54"></a><span id="l1.54"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/providers/gdata/modules/gdataUtils.jsm</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/providers/gdata/modules/gdataUtils.jsm</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -840,20 +840,20 @@ function JSONToTask(aEntry, aCalendar, a</span>
<a href="#l2.4"></a><span id="l2.4">  * @param aMetadata         (optional,out) Item metadata that should be set.</span>
<a href="#l2.5"></a><span id="l2.5">  * @return                  The specialized calIItemBase with the item data.</span>
<a href="#l2.6"></a><span id="l2.6">  */</span>
<a href="#l2.7"></a><span id="l2.7"> function JSONToItem(aEntry, aCalendar, aTimezone, aDefaultReminders, aReferenceItem, aMetadata) {</span>
<a href="#l2.8"></a><span id="l2.8">     aDefaultReminders = aDefaultReminders || [];</span>
<a href="#l2.9"></a><span id="l2.9">     aMetadata = aMetadata || {};</span>
<a href="#l2.10"></a><span id="l2.10">     if (aEntry.kind == &quot;tasks#task&quot;) {</span>
<a href="#l2.11"></a><span id="l2.11">         return JSONToTask.apply(null, arguments);</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-    } else if (aEntry.kind = &quot;calendar#event&quot;) {</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+    } else if (aEntry.kind == &quot;calendar#event&quot;) {</span>
<a href="#l2.14"></a><span id="l2.14">         return JSONToEvent.apply(null, arguments);</span>
<a href="#l2.15"></a><span id="l2.15">     } else {</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-        cal.ERROR(&quot;[calGoogleCalendar] Invalid item type: &quot; + aData.kind);</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+        cal.ERROR(&quot;[calGoogleCalendar] Invalid item type: &quot; + (aEntry ? aEntry.kind : &quot;&lt;no entry&gt;&quot;));</span>
<a href="#l2.18"></a><span id="l2.18">         return null;</span>
<a href="#l2.19"></a><span id="l2.19">     }</span>
<a href="#l2.20"></a><span id="l2.20"> }</span>
<a href="#l2.21"></a><span id="l2.21"> </span>
<a href="#l2.22"></a><span id="l2.22"> /**</span>
<a href="#l2.23"></a><span id="l2.23">  * Save items spread over multiple pages to the calendar's offline storage.</span>
<a href="#l2.24"></a><span id="l2.24">  *</span>
<a href="#l2.25"></a><span id="l2.25">  * @param aCalendar     The calendar the events belong to.</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineat">@@ -1231,27 +1231,27 @@ function monkeyPatch(obj, x, func) {</span>
<a href="#l2.27"></a><span id="l2.27">     }</span>
<a href="#l2.28"></a><span id="l2.28"> }</span>
<a href="#l2.29"></a><span id="l2.29"> </span>
<a href="#l2.30"></a><span id="l2.30"> /**</span>
<a href="#l2.31"></a><span id="l2.31">  * Returns a promise that resolves after pending events have been processed.</span>
<a href="#l2.32"></a><span id="l2.32">  */</span>
<a href="#l2.33"></a><span id="l2.33"> </span>
<a href="#l2.34"></a><span id="l2.34"> function spinEventLoop() {</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-    let diff = (new Date()).getTime() - spinEventLoop.lastSpin;</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+    let diff = new Date() - spinEventLoop.lastSpin;</span>
<a href="#l2.37"></a><span id="l2.37">     if (diff &lt; Preferences.get(&quot;calendar.threading.latency&quot;, 250)) {</span>
<a href="#l2.38"></a><span id="l2.38">         return Promise.resolve(false);</span>
<a href="#l2.39"></a><span id="l2.39">     }</span>
<a href="#l2.40"></a><span id="l2.40">     spinEventLoop.lastSpin = new Date();</span>
<a href="#l2.41"></a><span id="l2.41"> </span>
<a href="#l2.42"></a><span id="l2.42">     let deferred = PromiseUtils.defer();</span>
<a href="#l2.43"></a><span id="l2.43">     Services.tm.currentThread.dispatch({ run: function() deferred.resolve(true) }, 0);</span>
<a href="#l2.44"></a><span id="l2.44">     return deferred.promise;</span>
<a href="#l2.45"></a><span id="l2.45"> }</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-spinEventLoop.lastSpin = new Date().getTime();</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineplus">+spinEventLoop.lastSpin = new Date();</span>
<a href="#l2.48"></a><span id="l2.48"> </span>
<a href="#l2.49"></a><span id="l2.49"> /**</span>
<a href="#l2.50"></a><span id="l2.50">  * Shim for Promise.all needed for Gecko 24</span>
<a href="#l2.51"></a><span id="l2.51">  */</span>
<a href="#l2.52"></a><span id="l2.52"> PromiseAll = function (aValues) {</span>
<a href="#l2.53"></a><span id="l2.53">   function checkForCompletion(aValue, aIndex) {</span>
<a href="#l2.54"></a><span id="l2.54">     resolutionValues[aIndex] = aValue;</span>
<a href="#l2.55"></a><span id="l2.55">     if (--countdown === 0) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -21,16 +21,18 @@ Components.utils.import(&quot;resource://test</span>
<a href="#l3.4"></a><span id="l3.4"> Components.utils.import(&quot;resource://gre/modules/NetUtil.jsm&quot;);</span>
<a href="#l3.5"></a><span id="l3.5"> Components.utils.import(&quot;resource://gre/modules/Preferences.jsm&quot;);</span>
<a href="#l3.6"></a><span id="l3.6"> </span>
<a href="#l3.7"></a><span id="l3.7"> Components.utils.import(&quot;resource://gdata-provider/modules/gdataSession.jsm&quot;);</span>
<a href="#l3.8"></a><span id="l3.8"> Components.utils.import(&quot;resource://gdata-provider/modules/gdataUtils.jsm&quot;);</span>
<a href="#l3.9"></a><span id="l3.9"> Components.utils.import(&quot;resource://calendar/modules/calAsyncUtils.jsm&quot;);</span>
<a href="#l3.10"></a><span id="l3.10"> Components.utils.import(&quot;resource://calendar/modules/calProviderUtils.jsm&quot;);</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+var gServer;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+</span>
<a href="#l3.14"></a><span id="l3.14"> var MockConflictPrompt = {</span>
<a href="#l3.15"></a><span id="l3.15">     _origFunc: null,</span>
<a href="#l3.16"></a><span id="l3.16">     overwrite: false,</span>
<a href="#l3.17"></a><span id="l3.17">     register: function() {</span>
<a href="#l3.18"></a><span id="l3.18">         if (!this._origFunc) {</span>
<a href="#l3.19"></a><span id="l3.19">             this._origFunc = cal.promptOverwrite;</span>
<a href="#l3.20"></a><span id="l3.20">             cal.promptOverwrite = (aMode, aItem) =&gt; {</span>
<a href="#l3.21"></a><span id="l3.21">                 return this.overwrite;</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineat">@@ -165,16 +167,17 @@ GDataServer.prototype = {</span>
<a href="#l3.23"></a><span id="l3.23">         let uri = &quot;googleapi://xpcshell/&quot; +</span>
<a href="#l3.24"></a><span id="l3.24">                   &quot;?testport=&quot; + this.server.identity.primaryPort +</span>
<a href="#l3.25"></a><span id="l3.25">                   (this.calendarId ? &quot;&amp;calendar=&quot; + encodeURIComponent(this.calendarId) : &quot;&quot;) +</span>
<a href="#l3.26"></a><span id="l3.26">                   (this.tasksId ? &quot;&amp;tasks=&quot; + encodeURIComponent(this.tasksId) : &quot;&quot;);</span>
<a href="#l3.27"></a><span id="l3.27">         let calmgr = cal.getCalendarManager();</span>
<a href="#l3.28"></a><span id="l3.28">         let client = calmgr.createCalendar(&quot;gdata&quot;, Services.io.newURI(uri, null, null));</span>
<a href="#l3.29"></a><span id="l3.29">         client.name = &quot;xpcshell&quot;;</span>
<a href="#l3.30"></a><span id="l3.30">         calmgr.registerCalendar(client);</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineplus">+        client.wrappedJSObject.mThrottleLimits = {};</span>
<a href="#l3.32"></a><span id="l3.32">         MockConflictPrompt.register();</span>
<a href="#l3.33"></a><span id="l3.33"> </span>
<a href="#l3.34"></a><span id="l3.34">         let cachedCalendar = calmgr.getCalendarById(client.id);</span>
<a href="#l3.35"></a><span id="l3.35">         return this.waitForLoad(cachedCalendar);</span>
<a href="#l3.36"></a><span id="l3.36">     },</span>
<a href="#l3.37"></a><span id="l3.37"> </span>
<a href="#l3.38"></a><span id="l3.38">     router: function(nextHandler, request, response) {</span>
<a href="#l3.39"></a><span id="l3.39">         try {</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineat">@@ -475,17 +478,17 @@ add_task(function* test_organizerCN() {</span>
<a href="#l3.41"></a><span id="l3.41">        &quot;updated&quot;: &quot;2006-06-08T21:05:49.138Z&quot;,</span>
<a href="#l3.42"></a><span id="l3.42">        &quot;summary&quot;: &quot;New Event&quot;,</span>
<a href="#l3.43"></a><span id="l3.43">        &quot;creator&quot;: gServer.creator,</span>
<a href="#l3.44"></a><span id="l3.44">        &quot;organizer&quot;: gServer.creator,</span>
<a href="#l3.45"></a><span id="l3.45">        &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l3.46"></a><span id="l3.46">        &quot;end&quot;: {&quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l3.47"></a><span id="l3.47">        &quot;iCalUID&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo@google.com&quot;</span>
<a href="#l3.48"></a><span id="l3.48">     }];</span>
<a href="#l3.49"></a><span id="l3.49" class="difflineminus">-    let client = yield gServer.getClient();</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineplus">+    client = yield gServer.getClient();</span>
<a href="#l3.51"></a><span id="l3.51">     do_check_eq(client.getProperty(&quot;organizerCN&quot;), gServer.creator.displayName);</span>
<a href="#l3.52"></a><span id="l3.52">     gServer.resetClient(client);</span>
<a href="#l3.53"></a><span id="l3.53"> });</span>
<a href="#l3.54"></a><span id="l3.54"> </span>
<a href="#l3.55"></a><span id="l3.55"> add_task(function* test_always_readOnly() {</span>
<a href="#l3.56"></a><span id="l3.56">     gServer.events = [{</span>
<a href="#l3.57"></a><span id="l3.57">        &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l3.58"></a><span id="l3.58">        &quot;etag&quot;: &quot;\&quot;2299601498276000\&quot;&quot;,</span>
<a href="#l3.59"></a><span id="l3.59" class="difflineat">@@ -507,17 +510,17 @@ add_task(function* test_always_readOnly(</span>
<a href="#l3.60"></a><span id="l3.60">     do_check_true(client.readOnly)</span>
<a href="#l3.61"></a><span id="l3.61"> </span>
<a href="#l3.62"></a><span id="l3.62">     let items = yield pclient.getAllItems();</span>
<a href="#l3.63"></a><span id="l3.63">     do_check_eq(items.length, 1);</span>
<a href="#l3.64"></a><span id="l3.64">     do_check_neq(items[0].title, &quot;New Event&quot;);</span>
<a href="#l3.65"></a><span id="l3.65">     gServer.resetClient(client);</span>
<a href="#l3.66"></a><span id="l3.66"> </span>
<a href="#l3.67"></a><span id="l3.67">     gServer.calendarListData.accessRole = &quot;reader&quot;;</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-    let client = yield gServer.getClient();</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineplus">+    client = yield gServer.getClient();</span>
<a href="#l3.70"></a><span id="l3.70">     do_check_true(client.readOnly)</span>
<a href="#l3.71"></a><span id="l3.71">     client.readOnly = false;</span>
<a href="#l3.72"></a><span id="l3.72">     do_check_true(client.readOnly)</span>
<a href="#l3.73"></a><span id="l3.73">     gServer.resetClient(client);</span>
<a href="#l3.74"></a><span id="l3.74"> });</span>
<a href="#l3.75"></a><span id="l3.75"> </span>
<a href="#l3.76"></a><span id="l3.76"> add_task(function* test_reset_sync() {</span>
<a href="#l3.77"></a><span id="l3.77">     gServer.tasks = [</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineat">@@ -572,17 +575,17 @@ add_task(function* test_reset_sync() {</span>
<a href="#l3.79"></a><span id="l3.79"> </span>
<a href="#l3.80"></a><span id="l3.80">     let items = yield pclient.getAllItems();</span>
<a href="#l3.81"></a><span id="l3.81">     do_check_eq(items.length, 4);</span>
<a href="#l3.82"></a><span id="l3.82"> </span>
<a href="#l3.83"></a><span id="l3.83">     do_check_neq(client.getProperty(&quot;syncToken.events&quot;), &quot;&quot;);</span>
<a href="#l3.84"></a><span id="l3.84">     do_check_neq(client.getProperty(&quot;lastUpdated.tasks&quot;), &quot;&quot;);</span>
<a href="#l3.85"></a><span id="l3.85"> </span>
<a href="#l3.86"></a><span id="l3.86">     yield uncached.resetSync();</span>
<a href="#l3.87"></a><span id="l3.87" class="difflineminus">-    let items = yield pclient.getAllItems();</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineplus">+    items = yield pclient.getAllItems();</span>
<a href="#l3.89"></a><span id="l3.89">     do_check_eq(items.length, 0);</span>
<a href="#l3.90"></a><span id="l3.90"> </span>
<a href="#l3.91"></a><span id="l3.91">     do_check_eq(client.getProperty(&quot;syncToken.events&quot;), &quot;&quot;);</span>
<a href="#l3.92"></a><span id="l3.92">     do_check_eq(client.getProperty(&quot;lastUpdated.tasks&quot;), &quot;&quot;);</span>
<a href="#l3.93"></a><span id="l3.93"> </span>
<a href="#l3.94"></a><span id="l3.94">     gServer.resetClient(client);</span>
<a href="#l3.95"></a><span id="l3.95"> });</span>
<a href="#l3.96"></a><span id="l3.96"> </span>
<a href="#l3.97"></a><span id="l3.97" class="difflineat">@@ -756,17 +759,17 @@ add_task(function* test_addModifyDeleteI</span>
<a href="#l3.98"></a><span id="l3.98">     ].join(&quot;\r\n&quot;));</span>
<a href="#l3.99"></a><span id="l3.99"> </span>
<a href="#l3.100"></a><span id="l3.100">     let task = cal.createTodo([</span>
<a href="#l3.101"></a><span id="l3.101">         &quot;BEGIN:VTODO&quot;,</span>
<a href="#l3.102"></a><span id="l3.102">         &quot;SUMMARY:New Task&quot;,</span>
<a href="#l3.103"></a><span id="l3.103">         &quot;DESCRIPTION:description&quot;,</span>
<a href="#l3.104"></a><span id="l3.104">         &quot;X-SORTKEY:00000000000000130998&quot;,</span>
<a href="#l3.105"></a><span id="l3.105">         &quot;STATUS:COMPLETED&quot;,</span>
<a href="#l3.106"></a><span id="l3.106" class="difflineminus">-        &quot;DUE:20140904&quot;,</span>
<a href="#l3.107"></a><span id="l3.107" class="difflineplus">+        &quot;DUE;VALUE=DATE:20140904&quot;,</span>
<a href="#l3.108"></a><span id="l3.108">         &quot;COMPLETED:20140901T170000Z&quot;,</span>
<a href="#l3.109"></a><span id="l3.109">         &quot;RELATED-TO;RELTYPE=PARENT:MTEyMDE2MDE5NzE0NjYzMDk4ODI6MDo4MDIzOTU2NDc&quot;,</span>
<a href="#l3.110"></a><span id="l3.110">         &quot;ATTACH;FILENAME=\&quot;link description\&quot;;X-GOOGLE-TYPE=email:mailto:something@example.com&quot;,</span>
<a href="#l3.111"></a><span id="l3.111">         &quot;END:VTODO&quot;</span>
<a href="#l3.112"></a><span id="l3.112">     ].join(&quot;\r\n&quot;));</span>
<a href="#l3.113"></a><span id="l3.113"> </span>
<a href="#l3.114"></a><span id="l3.114">     // Add an event</span>
<a href="#l3.115"></a><span id="l3.115">     let addedEvent = yield pclient.adoptItem(event);</span>
<a href="#l3.116"></a><span id="l3.116" class="difflineat">@@ -780,17 +783,17 @@ add_task(function* test_addModifyDeleteI</span>
<a href="#l3.117"></a><span id="l3.117"> </span>
<a href="#l3.118"></a><span id="l3.118">     do_check_eq(gServer.events.length, 1)</span>
<a href="#l3.119"></a><span id="l3.119">     do_check_eq(gServer.tasks.length, 0);</span>
<a href="#l3.120"></a><span id="l3.120"> </span>
<a href="#l3.121"></a><span id="l3.121">     // Add a task</span>
<a href="#l3.122"></a><span id="l3.122">     let addedTask = yield pclient.adoptItem(task);</span>
<a href="#l3.123"></a><span id="l3.123">     do_check_neq(addedTask.id, null);</span>
<a href="#l3.124"></a><span id="l3.124"> </span>
<a href="#l3.125"></a><span id="l3.125" class="difflineminus">-    let items = yield pclient.getAllItems();</span>
<a href="#l3.126"></a><span id="l3.126" class="difflineplus">+    items = yield pclient.getAllItems();</span>
<a href="#l3.127"></a><span id="l3.127">     do_check_eq(items.length, 2);</span>
<a href="#l3.128"></a><span id="l3.128">     do_check_eq(items[1].id, addedTask.id);</span>
<a href="#l3.129"></a><span id="l3.129"> </span>
<a href="#l3.130"></a><span id="l3.130">     do_check_eq(gServer.events.length, 1)</span>
<a href="#l3.131"></a><span id="l3.131">     do_check_eq(gServer.tasks.length, 1);</span>
<a href="#l3.132"></a><span id="l3.132"> </span>
<a href="#l3.133"></a><span id="l3.133">     // Modify an event</span>
<a href="#l3.134"></a><span id="l3.134">     let newEvent = items[0].clone();</span>
<a href="#l3.135"></a><span id="l3.135" class="difflineat">@@ -1128,17 +1131,17 @@ add_task(function* test_metadata_recurri</span>
<a href="#l3.136"></a><span id="l3.136">         &quot;summary&quot;: &quot;New Event changed&quot;,</span>
<a href="#l3.137"></a><span id="l3.137">         &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; },</span>
<a href="#l3.138"></a><span id="l3.138">         &quot;end&quot;: {&quot;dateTime&quot;: &quot;2006-06-10T20:00:00+02:00&quot; },</span>
<a href="#l3.139"></a><span id="l3.139">         &quot;recurringEventId&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l3.140"></a><span id="l3.140">         &quot;originalStartTime&quot;: { &quot;dateTime&quot;: &quot;2006-06-10T18:00:00+02:00&quot; }</span>
<a href="#l3.141"></a><span id="l3.141">     },{</span>
<a href="#l3.142"></a><span id="l3.142">         &quot;kind&quot;: &quot;calendar#event&quot;,</span>
<a href="#l3.143"></a><span id="l3.143">         &quot;etag&quot;: &quot;\&quot;3\&quot;&quot;,</span>
<a href="#l3.144"></a><span id="l3.144" class="difflineminus">-        &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo_20060610T160000Z&quot;,</span>
<a href="#l3.145"></a><span id="l3.145" class="difflineplus">+        &quot;id&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo_20060617T160000Z&quot;,</span>
<a href="#l3.146"></a><span id="l3.146">         &quot;summary&quot;: &quot;New Event next week&quot;,</span>
<a href="#l3.147"></a><span id="l3.147">         &quot;start&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; },</span>
<a href="#l3.148"></a><span id="l3.148">         &quot;end&quot;: {&quot;dateTime&quot;: &quot;2006-06-17T20:00:00+02:00&quot; },</span>
<a href="#l3.149"></a><span id="l3.149">         &quot;recurringEventId&quot;: &quot;go6ijb0b46hlpbu4eeu92njevo&quot;,</span>
<a href="#l3.150"></a><span id="l3.150">         &quot;originalStartTime&quot;: { &quot;dateTime&quot;: &quot;2006-06-17T18:00:00+02:00&quot; }</span>
<a href="#l3.151"></a><span id="l3.151">     }];</span>
<a href="#l3.152"></a><span id="l3.152"> </span>
<a href="#l3.153"></a><span id="l3.153">     let client = yield gServer.getClient();</span>
<a href="#l3.154"></a><span id="l3.154" class="difflineat">@@ -1156,31 +1159,31 @@ add_task(function* test_metadata_recurri</span>
<a href="#l3.155"></a><span id="l3.155">     let ex = items[0].recurrenceInfo.getExceptionFor(exIds[0]);</span>
<a href="#l3.156"></a><span id="l3.156">     do_check_eq(meta.get(ex.hashId), ['&quot;2&quot;', &quot;go6ijb0b46hlpbu4eeu92njevo_20060610T160000Z&quot;, false].join(&quot;\u001A&quot;));</span>
<a href="#l3.157"></a><span id="l3.157"> </span>
<a href="#l3.158"></a><span id="l3.158">     // Changing an exception should retain the metadata entries</span>
<a href="#l3.159"></a><span id="l3.159">     let newEx = ex.clone();</span>
<a href="#l3.160"></a><span id="l3.160">     newEx.title = &quot;New Event changed again&quot;;</span>
<a href="#l3.161"></a><span id="l3.161">     gServer.nextEtag = '&quot;4&quot;';</span>
<a href="#l3.162"></a><span id="l3.162">     yield pclient.modifyItem(newEx, ex);</span>
<a href="#l3.163"></a><span id="l3.163" class="difflineminus">-    let meta = getAllMeta(offline);</span>
<a href="#l3.164"></a><span id="l3.164" class="difflineplus">+    meta = getAllMeta(offline);</span>
<a href="#l3.165"></a><span id="l3.165">     do_check_eq(meta.size, 3);</span>
<a href="#l3.166"></a><span id="l3.166">     do_check_eq(meta.get(newEx.hashId), ['&quot;4&quot;', &quot;go6ijb0b46hlpbu4eeu92njevo_20060610T160000Z&quot;, false].join(&quot;\u001A&quot;));</span>
<a href="#l3.167"></a><span id="l3.167"> </span>
<a href="#l3.168"></a><span id="l3.168">     // Deleting an exception should delete the metadata, as it turns into an EXDATE</span>
<a href="#l3.169"></a><span id="l3.169">     let newItem = items[0].clone();</span>
<a href="#l3.170"></a><span id="l3.170">     newItem.recurrenceInfo.removeOccurrenceAt(exIds[0]);</span>
<a href="#l3.171"></a><span id="l3.171">     yield pclient.modifyItem(newItem, items[0]);</span>
<a href="#l3.172"></a><span id="l3.172"> </span>
<a href="#l3.173"></a><span id="l3.173" class="difflineminus">-    let meta = getAllMeta(offline);</span>
<a href="#l3.174"></a><span id="l3.174" class="difflineplus">+    meta = getAllMeta(offline);</span>
<a href="#l3.175"></a><span id="l3.175">     do_check_eq(meta.size, 2);</span>
<a href="#l3.176"></a><span id="l3.176"> </span>
<a href="#l3.177"></a><span id="l3.177">     // Deleting the master item should remove all metadata entries</span>
<a href="#l3.178"></a><span id="l3.178">     yield pclient.deleteItem(items[0]);</span>
<a href="#l3.179"></a><span id="l3.179" class="difflineminus">-    let meta = getAllMeta(offline);</span>
<a href="#l3.180"></a><span id="l3.180" class="difflineplus">+    meta = getAllMeta(offline);</span>
<a href="#l3.181"></a><span id="l3.181">     do_check_eq(meta.size, 0);</span>
<a href="#l3.182"></a><span id="l3.182"> </span>
<a href="#l3.183"></a><span id="l3.183">     gServer.resetClient(client);</span>
<a href="#l3.184"></a><span id="l3.184"> });</span>
<a href="#l3.185"></a><span id="l3.185"> </span>
<a href="#l3.186"></a><span id="l3.186"> add_task(function* test_conflict_modify() {</span>
<a href="#l3.187"></a><span id="l3.187">     // TODO task/event conflicts are handled in the same way so I'm going to</span>
<a href="#l3.188"></a><span id="l3.188">     // skip adding tests for tasks here, but it probably wouldn't hurt to</span>
<a href="#l3.189"></a><span id="l3.189" class="difflineat">@@ -1412,17 +1415,17 @@ add_task(function* test_default_alarms()</span>
<a href="#l3.190"></a><span id="l3.190">         &quot;END:VEVENT&quot;</span>
<a href="#l3.191"></a><span id="l3.191">     ].join(&quot;\r\n&quot;));</span>
<a href="#l3.192"></a><span id="l3.192"> </span>
<a href="#l3.193"></a><span id="l3.193">     yield pclient.addItem(event);</span>
<a href="#l3.194"></a><span id="l3.194">     do_check_true(gServer.events[1].reminders.useDefault);</span>
<a href="#l3.195"></a><span id="l3.195">     do_check_eq(gServer.events[1].reminders.overrides.length, 0);</span>
<a href="#l3.196"></a><span id="l3.196"> </span>
<a href="#l3.197"></a><span id="l3.197">     // Case #3: Mixed default/non-default alarms. Not sure this will happen</span>
<a href="#l3.198"></a><span id="l3.198" class="difflineminus">-    let event = cal.createEvent([</span>
<a href="#l3.199"></a><span id="l3.199" class="difflineplus">+    event = cal.createEvent([</span>
<a href="#l3.200"></a><span id="l3.200">         &quot;BEGIN:VEVENT&quot;,</span>
<a href="#l3.201"></a><span id="l3.201">         &quot;SUMMARY:Default Alarms&quot;,</span>
<a href="#l3.202"></a><span id="l3.202">         &quot;DTSTART:20060610T180000Z&quot;,</span>
<a href="#l3.203"></a><span id="l3.203">         &quot;DTEND:20060610T200000Z&quot;,</span>
<a href="#l3.204"></a><span id="l3.204">         &quot;BEGIN:VALARM&quot;,</span>
<a href="#l3.205"></a><span id="l3.205">         &quot;ACTION:DISPLAY&quot;,</span>
<a href="#l3.206"></a><span id="l3.206">         &quot;X-DEFAULT-ALARM:TRUE&quot;,</span>
<a href="#l3.207"></a><span id="l3.207">         &quot;TRIGGER;VALUE=DURATION:-PT1M&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/test/unit/xpcshell-shared.ini</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/test/unit/xpcshell-shared.ini</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -8,34 +8,32 @@</span>
<a href="#l4.4"></a><span id="l4.4"> [test_bug356207.js]</span>
<a href="#l4.5"></a><span id="l4.5"> [test_bug485571.js]</span>
<a href="#l4.6"></a><span id="l4.6"> [test_bug486186.js]</span>
<a href="#l4.7"></a><span id="l4.7"> [test_bug494140.js]</span>
<a href="#l4.8"></a><span id="l4.8"> [test_bug523860.js]</span>
<a href="#l4.9"></a><span id="l4.9"> [test_bug653924.js]</span>
<a href="#l4.10"></a><span id="l4.10"> [test_bug668222.js]</span>
<a href="#l4.11"></a><span id="l4.11"> [test_bug759324.js]</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+[test_calmgr.js]</span>
<a href="#l4.13"></a><span id="l4.13"> [test_datetime.js]</span>
<a href="#l4.14"></a><span id="l4.14"> [test_datetime_before_1970.js]</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+[test_deleted_items.js]</span>
<a href="#l4.16"></a><span id="l4.16"> [test_duration.js]</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+[test_extract.js]</span>
<a href="#l4.18"></a><span id="l4.18"> [test_freebusy.js]</span>
<a href="#l4.19"></a><span id="l4.19"> [test_freebusy_service.js]</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+[test_gdata_provider.js]</span>
<a href="#l4.21"></a><span id="l4.21"> [test_hashedarray.js]</span>
<a href="#l4.22"></a><span id="l4.22"> [test_ics.js]</span>
<a href="#l4.23"></a><span id="l4.23"> [test_ics_parser.js]</span>
<a href="#l4.24"></a><span id="l4.24"> [test_ics_service.js]</span>
<a href="#l4.25"></a><span id="l4.25"> [test_items.js]</span>
<a href="#l4.26"></a><span id="l4.26"> [test_providers.js]</span>
<a href="#l4.27"></a><span id="l4.27"> [test_recur.js]</span>
<a href="#l4.28"></a><span id="l4.28"> [test_relation.js]</span>
<a href="#l4.29"></a><span id="l4.29"> [test_rfc3339_parser.js]</span>
<a href="#l4.30"></a><span id="l4.30"> [test_search_service.js]</span>
<a href="#l4.31"></a><span id="l4.31"> [test_startup_service.js]</span>
<a href="#l4.32"></a><span id="l4.32"> [test_storage.js]</span>
<a href="#l4.33"></a><span id="l4.33"> [test_utils.js]</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-[test_calmgr.js]</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-[test_deleted_items.js]</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineminus">-[test_extract.js]</span>
<a href="#l4.37"></a><span id="l4.37"> [test_view_utils.js]</span>
<a href="#l4.38"></a><span id="l4.38"> [test_webcal.js]</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-[test_gdata_provider.js]</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-skip-if = true</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

