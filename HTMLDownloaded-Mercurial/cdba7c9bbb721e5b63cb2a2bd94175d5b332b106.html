<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 3232:cdba7c9bbb721e5b63cb2a2bd94175d5b332b106</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ cdba7c9bbb721e5b63cb2a2bd94175d5b332b106" />
<meta property="og:url" content="/comm-central/rev/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106" />
<meta property="og:description" content="Bug 490097 - &quot;Clean up autoconfig strings and move them from content to locales&quot; [r=bienvenu,ui-review=clarkbw]" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / cdba7c9bbb721e5b63cb2a2bd94175d5b332b106 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106">shortlog</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106">files</a> |
changeset |
<a href="/comm-central/raw-rev/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106">raw</a>  | <a href="/comm-central/archive/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=490097">Bug 490097</a> - &quot;Clean up autoconfig strings and move them from content to locales&quot; [r=bienvenu,ui-review=clarkbw]
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#66;&#108;&#97;&#107;&#101;&#32;&#87;&#105;&#110;&#116;&#111;&#110;&#32;&#60;&#98;&#119;&#105;&#110;&#116;&#111;&#110;&#64;&#108;&#97;&#116;&#116;&#101;&#46;&#99;&#97;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 04 Aug 2009 17:49:22 +0100</td></tr>

<tr>
 <td>changeset 3232</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106">cdba7c9bbb721e5b63cb2a2bd94175d5b332b106</a></td>
</tr>



<tr>
<td>parent 3231</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/8662b1b4e546ed7cc6872d1562004aca553e7e04">8662b1b4e546ed7cc6872d1562004aca553e7e04</a>
</td>
</tr>

<tr>
<td>child 3233</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/eaf4d5eb5fa1a448e402802fb6b69ad84a1ca71d">eaf4d5eb5fa1a448e402802fb6b69ad84a1ca71d</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=cdba7c9bbb721e5b63cb2a2bd94175d5b332b106">2634</a></td></tr>
<tr><td>push user</td><td>bugzilla@standard8.plus.com</td></tr>
<tr><td>push date</td><td class="date age">Tue, 04 Aug 2009 16:53:46 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@eaf4d5eb5fa1 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=eaf4d5eb5fa1a448e402802fb6b69ad84a1ca71d">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=eaf4d5eb5fa1a448e402802fb6b69ad84a1ca71d&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=eaf4d5eb5fa1a448e402802fb6b69ad84a1ca71d&newProject=comm-central&newRevision=cdba7c9bbb721e5b63cb2a2bd94175d5b332b106&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=eaf4d5eb5fa1a448e402802fb6b69ad84a1ca71d&newProject=comm-central&newRevision=cdba7c9bbb721e5b63cb2a2bd94175d5b332b106&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=eaf4d5eb5fa1a448e402802fb6b69ad84a1ca71d&newProject=comm-central&newRevision=cdba7c9bbb721e5b63cb2a2bd94175d5b332b106&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28bienvenu%29&revcount=50">bienvenu</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=490097">490097</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=490097">Bug 490097</a> - &quot;Clean up autoconfig strings and move them from content to locales&quot; [r=bienvenu,ui-review=clarkbw]</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreation.dtd">mail/base/content/accountCreation.dtd</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreation.dtd">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreation.dtd">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreation.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreation.properties">mail/base/content/accountCreation.properties</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreation.properties">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreation.properties">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreation.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreationModel.properties">mail/base/content/accountCreationModel.properties</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreationModel.properties">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreationModel.properties">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreationModel.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreationUtil.properties">mail/base/content/accountCreationUtil.properties</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreationUtil.properties">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreationUtil.properties">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/content/accountCreationUtil.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/jar.mn">mail/base/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/jar.mn">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/jar.mn">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/jar.mn">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/jar.mn">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/base/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.dtd">mail/locales/en-US/chrome/messenger/accountCreation.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.dtd">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.dtd">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.dtd">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.dtd">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.properties">mail/locales/en-US/chrome/messenger/accountCreation.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.properties">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.properties">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.properties">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.properties">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreation.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationModel.properties">mail/locales/en-US/chrome/messenger/accountCreationModel.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationModel.properties">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationModel.properties">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationModel.properties">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationModel.properties">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationModel.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationUtil.properties">mail/locales/en-US/chrome/messenger/accountCreationUtil.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationUtil.properties">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationUtil.properties">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationUtil.properties">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationUtil.properties">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/en-US/chrome/messenger/accountCreationUtil.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/jar.mn">mail/locales/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/jar.mn">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/jar.mn">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/jar.mn">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/jar.mn">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mail/locales/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/accountConfig.js">mailnews/base/prefs/content/accountcreation/accountConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/accountConfig.js">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/accountConfig.js">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/accountConfig.js">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/accountConfig.js">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/accountConfig.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.js">mailnews/base/prefs/content/accountcreation/emailWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.js">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.js">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.js">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.js">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.xul">mailnews/base/prefs/content/accountcreation/emailWizard.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.xul">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.xul">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.xul">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.xul">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/emailWizard.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/fetchhttp.js">mailnews/base/prefs/content/accountcreation/fetchhttp.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/fetchhttp.js">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/fetchhttp.js">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/fetchhttp.js">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/fetchhttp.js">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/fetchhttp.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/guessConfig.js">mailnews/base/prefs/content/accountcreation/guessConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/guessConfig.js">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/guessConfig.js">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/guessConfig.js">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/guessConfig.js">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/guessConfig.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/readFromXML.js">mailnews/base/prefs/content/accountcreation/readFromXML.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/readFromXML.js">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/readFromXML.js">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/readFromXML.js">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/readFromXML.js">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/readFromXML.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js">mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/verifyConfig.js">mailnews/base/prefs/content/accountcreation/verifyConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/verifyConfig.js">file</a> |
<a href="/comm-central/annotate/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/verifyConfig.js">annotate</a> |
<a href="/comm-central/diff/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/verifyConfig.js">diff</a> |
<a href="/comm-central/comparison/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/verifyConfig.js">comparison</a> |
<a href="/comm-central/log/cdba7c9bbb721e5b63cb2a2bd94175d5b332b106/mailnews/base/prefs/content/accountcreation/verifyConfig.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/base/jar.mn</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/base/jar.mn</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -5,20 +5,16 @@ messenger.jar:</span>
<a href="#l1.4"></a><span id="l1.4"> % overlay chrome://global/content/viewSource.xul chrome://messenger/content/viewSourceOverlay.xul</span>
<a href="#l1.5"></a><span id="l1.5"> % overlay chrome://global/content/config.xul chrome://messenger/content/configEditorOverlay.xul</span>
<a href="#l1.6"></a><span id="l1.6"> % style chrome://global/content/customizeToolbar.xul chrome://messenger/content/messenger.css</span>
<a href="#l1.7"></a><span id="l1.7"> % style chrome://global/content/customizeToolbar.xul chrome://messenger/skin/</span>
<a href="#l1.8"></a><span id="l1.8"> % style chrome://global/content/customizeToolbar.xul chrome://messenger/skin/addressbook/addressbook.css</span>
<a href="#l1.9"></a><span id="l1.9"> % style chrome://global/content/customizeToolbar.xul chrome://messenger/skin/messengercompose/messengercompose.css</span>
<a href="#l1.10"></a><span id="l1.10"> % style chrome://global/content/customizeToolbar.xul chrome://messenger/skin/smime/msgCompSMIMEOverlay.css</span>
<a href="#l1.11"></a><span id="l1.11"> % style chrome://global/content/customizeToolbar.xul chrome://messenger/skin/primaryToolbar.css</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    content/messenger/accountCreation.dtd           (content/accountCreation.dtd)</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-    content/messenger/accountCreation.properties    (content/accountCreation.properties)</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-    content/messenger/accountCreationModel.properties (content/accountCreationModel.properties)</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-    content/messenger/accountCreationUtil.properties  (content/accountCreationUtil.properties)</span>
<a href="#l1.16"></a><span id="l1.16">     content/messenger/mailWindow.js                 (content/mailWindow.js)</span>
<a href="#l1.17"></a><span id="l1.17">     content/messenger/messageDisplay.js             (content/messageDisplay.js)</span>
<a href="#l1.18"></a><span id="l1.18">     content/messenger/folderDisplay.js              (content/folderDisplay.js)</span>
<a href="#l1.19"></a><span id="l1.19">     content/messenger/mailWindowOverlay.js          (content/mailWindowOverlay.js)</span>
<a href="#l1.20"></a><span id="l1.20"> *   content/messenger/mailWindowOverlay.xul         (content/mailWindowOverlay.xul)</span>
<a href="#l1.21"></a><span id="l1.21">     content/messenger/extraCustomizeItems.xul       (content/extraCustomizeItems.xul)</span>
<a href="#l1.22"></a><span id="l1.22"> *   content/messenger/mailOverlay.xul               (content/mailOverlay.xul)</span>
<a href="#l1.23"></a><span id="l1.23"> *   content/messenger/messageWindow.xul             (content/messageWindow.xul)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">rename from mail/base/content/accountCreation.dtd</span>
<a href="#l2.2"></a><span id="l2.2">rename to mail/locales/en-US/chrome/messenger/accountCreation.dtd</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineminus">--- a/mail/base/content/accountCreation.dtd</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/accountCreation.dtd</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineat">@@ -1,72 +1,74 @@</span>
<a href="#l2.6"></a><span id="l2.6"> &lt;!ENTITY welcome.description             &quot;Quick Account Setup&quot;&gt;</span>
<a href="#l2.7"></a><span id="l2.7"> &lt;!ENTITY autoconfigWizard.style          &quot;width: 640px; height: 480px;&quot;&gt;</span>
<a href="#l2.8"></a><span id="l2.8"> &lt;!ENTITY name.description                &quot;Your name&quot;&gt;</span>
<a href="#l2.9"></a><span id="l2.9"> &lt;!ENTITY email.description               &quot;Email&quot;&gt;</span>
<a href="#l2.10"></a><span id="l2.10"> &lt;!ENTITY password.description            &quot;Password&quot;&gt;</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12"> &lt;!ENTITY next.label                      &quot;Next &amp;#187;&quot;&gt;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+&lt;!ENTITY next.accesskey                  &quot;N&quot;&gt;</span>
<a href="#l2.14"></a><span id="l2.14"> &lt;!ENTITY back.label                      &quot;&amp;#171; Back&quot;&gt;</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+&lt;!ENTITY back.accesskey                  &quot;B&quot;&gt;</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> &lt;!ENTITY accountInformation.label        &quot;Account Information&quot;&gt;</span>
<a href="#l2.18"></a><span id="l2.18"> &lt;!ENTITY username.label                  &quot;username&quot;&gt;</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-&lt;!ENTITY receivingserver.label           &quot;receiving&quot;&gt;</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-&lt;!ENTITY sendingserver.label             &quot;sending&quot;&gt;</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-&lt;!ENTITY noencryption.label              &quot;None&quot;&gt;</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineplus">+&lt;!ENTITY receivingServer.label           &quot;receiving&quot;&gt;</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineplus">+&lt;!ENTITY sendingServer.label             &quot;sending&quot;&gt;</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+&lt;!ENTITY noEncryption.label              &quot;None&quot;&gt;</span>
<a href="#l2.25"></a><span id="l2.25"> &lt;!ENTITY starttls.label                  &quot;STARTTLS&quot;&gt;</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineminus">-&lt;!ENTITY ssltls2.label                   &quot;SSL/TLS&quot;&gt;</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineplus">+&lt;!ENTITY sslTls.label                    &quot;SSL/TLS&quot;&gt;</span>
<a href="#l2.28"></a><span id="l2.28"> </span>
<a href="#l2.29"></a><span id="l2.29"> &lt;!ENTITY imap.label                      &quot;IMAP&quot;&gt;</span>
<a href="#l2.30"></a><span id="l2.30"> &lt;!ENTITY pop.label                       &quot;POP&quot;&gt;</span>
<a href="#l2.31"></a><span id="l2.31"> &lt;!ENTITY smtp.label                      &quot;SMTP&quot;&gt;</span>
<a href="#l2.32"></a><span id="l2.32"> </span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-&lt;!-- LOCALIZATION NOTE (gotoadvanced2.label): This label is a link which</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-     will create the account and take the user to the account configuration</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-     screen. --&gt;</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-&lt;!ENTITY gotoadvanced2.label             &quot;Create in Advanced Editor&quot;&gt;</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (createAndEditSettings.label): This label is a link</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineplus">+     which will create the account and take the user to the account</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineplus">+     configuration screen. --&gt;</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineplus">+&lt;!ENTITY createAndEditSettings.label     &quot;Create and Edit Account Settings&quot;&gt;</span>
<a href="#l2.41"></a><span id="l2.41"> &lt;!ENTITY cancel.label                    &quot;Cancel&quot;&gt;</span>
<a href="#l2.42"></a><span id="l2.42"> &lt;!ENTITY stop.label                      &quot;Stop&quot;&gt;</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineplus">+&lt;!ENTITY stop.accesskey                  &quot;S&quot;&gt;</span>
<a href="#l2.44"></a><span id="l2.44"> &lt;!-- LOCALIZATION NOTE (retest.label): This is the text that is</span>
<a href="#l2.45"></a><span id="l2.45">      displayed on the button which will re-guess the account configuration,</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-     taking into account the settings the user has changed.</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-     --&gt;</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineplus">+     taking into account the settings the user has changed. --&gt;</span>
<a href="#l2.49"></a><span id="l2.49"> &lt;!ENTITY retest.label                    &quot;Re-test Configuration&quot;&gt;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineplus">+&lt;!ENTITY retest.accesskey                &quot;R&quot;&gt;</span>
<a href="#l2.51"></a><span id="l2.51"> &lt;!ENTITY edit.label                      &quot;Edit&quot;&gt;</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineminus">-&lt;!ENTITY createaccount.label             &quot;Create Account&quot;&gt;</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineplus">+&lt;!ENTITY edit.accesskey                  &quot;E&quot;&gt;</span>
<a href="#l2.54"></a><span id="l2.54"> </span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-&lt;!ENTITY rememberpassword.label          &quot;Remember password&quot;&gt;</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineplus">+&lt;!ENTITY rememberPassword.label          &quot;Remember password&quot;&gt;</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineplus">+&lt;!ENTITY rememberPassword.accesskey      &quot;m&quot;&gt;</span>
<a href="#l2.58"></a><span id="l2.58"> </span>
<a href="#l2.59"></a><span id="l2.59"> &lt;!ENTITY warning.label                   &quot;Warning!&quot;&gt;</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-&lt;!ENTITY incoming_settings.label         &quot;Incoming settings:&quot;&gt;</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-&lt;!ENTITY outgoing_settings.label         &quot;Outgoing settings:&quot;&gt;</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-&lt;!ENTITY technicaldetails.label          &quot;Technical Details&quot;&gt;</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-&lt;!-- LOCALIZATION NOTE (incoming_is_checked2.label): If there is a security</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineplus">+&lt;!ENTITY incomingSettings.label          &quot;Incoming settings:&quot;&gt;</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineplus">+&lt;!ENTITY outgoingSettings.label          &quot;Outgoing settings:&quot;&gt;</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (confirmIncomingWarning.label): If there is a security</span>
<a href="#l2.67"></a><span id="l2.67">      warning on the incoming server, then the user will need to check a</span>
<a href="#l2.68"></a><span id="l2.68">      checkbox beside this text before continuing. --&gt;</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineminus">-&lt;!ENTITY incoming_is_checked2.label      &quot;I understand the risks.&quot;&gt;</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-&lt;!-- LOCALIZATION NOTE (outgoing_is_checked2.label): If there is a security</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineplus">+&lt;!ENTITY confirmIncomingWarning.label    &quot;I understand the risks.&quot;&gt;</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineplus">+&lt;!ENTITY confirmIncomingWarning.accesskey &quot;u&quot;&gt;</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (confirmOutgoingWarning.label): If there is a security</span>
<a href="#l2.74"></a><span id="l2.74">      warning on the outgoing server, then the user will need to check a</span>
<a href="#l2.75"></a><span id="l2.75">      checkbox beside this text before continuing. --&gt;</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineminus">-&lt;!ENTITY outgoing_is_checked2.label      &quot;I understand the risks.&quot;&gt;</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineminus">-&lt;!-- LOCALIZATION NOTE (understood2.label): If there is a security warning</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineplus">+&lt;!ENTITY confirmOutgoingWarning.label    &quot;I understand the risks.&quot;&gt;</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineplus">+&lt;!ENTITY confirmOutgoingWarning.accesskey &quot;d&quot;&gt;</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (createAccount.label): If there is a security warning</span>
<a href="#l2.81"></a><span id="l2.81">      on the incoming or outgoing servers, then the page that pops up will</span>
<a href="#l2.82"></a><span id="l2.82">      have this text in a button to continue by creating the account. --&gt;</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-&lt;!ENTITY understood2.label               &quot;Create Account&quot;&gt;</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineminus">-&lt;!-- LOCALIZATION NOTE (getmeout2.label): If there is a security warning on</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineplus">+&lt;!ENTITY createAccount.label             &quot;Create Account&quot;&gt;</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineplus">+&lt;!ENTITY createAccount.accesskey         &quot;C&quot;&gt;</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (changeSettings.label): If there is a security warning on</span>
<a href="#l2.88"></a><span id="l2.88">      the incoming or outgoing servers, then the page that pops up will have</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineminus">-     this text in a button to take you back to the previous page. --&gt;</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineminus">-&lt;!ENTITY getmeout2.label                 &quot;Get me out of here!&quot;&gt;</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineplus">+     this text in a button to take you back to the previous page to change</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineplus">+     the settings and try again. --&gt;</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineplus">+&lt;!ENTITY changeSettings.label            &quot;Change Settings&quot;&gt;</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineplus">+&lt;!ENTITY changeSettings.accesskey        &quot;S&quot;&gt;</span>
<a href="#l2.95"></a><span id="l2.95"> </span>
<a href="#l2.96"></a><span id="l2.96" class="difflineminus">-&lt;!ENTITY lectureYourProvider2.description &quot;&amp;brandShortName; can allow you to get to your mail using the provided configurations. However, you should contact your administrator or email provider regarding these improper connections. See the Thunderbird FAQ for more information.&quot;&gt;</span>
<a href="#l2.97"></a><span id="l2.97" class="difflineplus">+&lt;!ENTITY contactYourProvider.description &quot;&amp;brandShortName; can allow you to get to your mail using the provided configurations. However, you should contact your administrator or email provider regarding these improper connections. See the Thunderbird FAQ for more information.&quot;&gt;</span>
<a href="#l2.98"></a><span id="l2.98"> </span>
<a href="#l2.99"></a><span id="l2.99"> &lt;!ENTITY insecureServer.tooltip.title    &quot;Warning! This is an insecure server.&quot;&gt;</span>
<a href="#l2.100"></a><span id="l2.100"> &lt;!ENTITY insecureServer.tooltip.details  &quot;Click circle for more details.&quot;&gt;</span>
<a href="#l2.101"></a><span id="l2.101"> </span>
<a href="#l2.102"></a><span id="l2.102" class="difflineminus">-&lt;!ENTITY insecureCleartext.description   &quot;Email is sent in clear-text, so your email could be read by attackers, etc. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a secure connection.&quot;&gt;</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-&lt;!ENTITY insecureSelfsigned.description  &quot;The server uses a certificate that we can't trust, so we can't be sure that someone isn't intercepting the traffic between &amp;brandShortName; and your server. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a trusted certificate.&quot;&gt;</span>
<a href="#l2.104"></a><span id="l2.104" class="difflineplus">+&lt;!ENTITY insecureClearText.description   &quot;Email is sent in clear-text, so your email could be read by attackers, etc. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a secure connection.&quot;&gt;</span>
<a href="#l2.105"></a><span id="l2.105" class="difflineplus">+&lt;!ENTITY insecureSelfSigned.description  &quot;The server uses a certificate that we can't trust, so we can't be sure that someone isn't intercepting the traffic between &amp;brandShortName; and your server. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a trusted certificate.&quot;&gt;</span>
<a href="#l2.106"></a><span id="l2.106"> &lt;!ENTITY secureServer.description        &quot;Congratulations! This is a secure server.&quot;&gt;</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineminus">-</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineminus">-&lt;!ENTITY customfields-header.label       &quot;Additional information&quot;&gt;</span>
<a href="#l2.109"></a><span id="l2.109" class="difflineminus">-&lt;!ENTITY customfields-intro1.descr       &quot;For your mail provider, there is additional information needed to configure your account.&quot;&gt;</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-&lt;!ENTITY customfields-intro2.descr       &quot;Please look up the information in the paper or email with your account details that the provider sent you, usually when you signed up there, and enter it below.&quot;&gt;</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-&lt;!ENTITY customfields-cancel.label       &quot;Back&quot;&gt;</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineminus">-&lt;!ENTITY customfields-ok.label           &quot;OK&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">rename from mail/base/content/accountCreation.properties</span>
<a href="#l3.2"></a><span id="l3.2">rename to mail/locales/en-US/chrome/messenger/accountCreation.properties</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineminus">--- a/mail/base/content/accountCreation.properties</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/accountCreation.properties</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineat">@@ -1,56 +1,52 @@</span>
<a href="#l3.6"></a><span id="l3.6"> # accountCreation.properties</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> # LOCALIZATION NOTE: %1$S will be the name of the app (i.e. ThunderBird), %2$S will be the hostname of the server the user was trying to connect to.</span>
<a href="#l3.9"></a><span id="l3.9" class="difflineminus">-cleartext_incoming2=You've setup %1$S to connect to the incoming mail server %2$S, which is an insecure server.</span>
<a href="#l3.10"></a><span id="l3.10" class="difflineminus">-selfsigned_incoming2=You've setup %1$S to connect securely to the incoming mail server %2$S, but we can't confirm that your connection is secure.</span>
<a href="#l3.11"></a><span id="l3.11" class="difflineminus">-cleartext_outgoing2=You've setup %1$S to connect to the outgoing mail server %2$S, which is an insecure server.</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-selfsigned_outgoing2=You've setup %1$S to connect securely to the outgoing mail server %2$S, but we can't confirm that your connection is secure.</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+incoming_cleartext_warning=You've setup %1$S to connect to the incoming mail server %2$S, which is an insecure server.</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+incoming_selfsigned_warning=You've setup %1$S to connect securely to the incoming mail server %2$S, but we can't confirm that your connection is secure.</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+outgoing_cleartext_warning=You've setup %1$S to connect to the outgoing mail server %2$S, which is an insecure server.</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+outgoing_selfsigned_warning=You've setup %1$S to connect securely to the outgoing mail server %2$S, but we can't confirm that your connection is secure.</span>
<a href="#l3.17"></a><span id="l3.17"> selfsigned_details=Normally, a secure mail server will present a trusted certificate to prove that it is really the server it claims to be. The connection to the mail server will be encrypted but cannot be validated as being the correct server.</span>
<a href="#l3.18"></a><span id="l3.18"> cleartext_details=Insecure mail servers do not use encrypted connections to protect your passwords and private information. By connecting to this server you could expose your password and private information.</span>
<a href="#l3.19"></a><span id="l3.19"> </span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-# LOCALIZATION NOTE(defaultServerTag): Used to indicate the default smtp server in the server dropdown list.</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-defaultServerTag= (default)</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineplus">+# LOCALIZATION NOTE(default_server_tag): Used to indicate the default smtp server in the server dropdown list.</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineplus">+default_server_tag= (default)</span>
<a href="#l3.24"></a><span id="l3.24"> </span>
<a href="#l3.25"></a><span id="l3.25"> # config titles</span>
<a href="#l3.26"></a><span id="l3.26"> searching_for_configs=Searching…</span>
<a href="#l3.27"></a><span id="l3.27"> manually_edit_config=Editing Config</span>
<a href="#l3.28"></a><span id="l3.28"> finished_with_success=Finished</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineminus">-finished_with_errors2=Error</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+finished_with_error=Error</span>
<a href="#l3.31"></a><span id="l3.31"> </span>
<a href="#l3.32"></a><span id="l3.32"> # config subtitles</span>
<a href="#l3.33"></a><span id="l3.33"> check_preconfig=checking for pre-configuration…</span>
<a href="#l3.34"></a><span id="l3.34"> found_preconfig=found pre-configuration</span>
<a href="#l3.35"></a><span id="l3.35"> checking_config=checking configuration…</span>
<a href="#l3.36"></a><span id="l3.36"> found_config=Found configuration of your account</span>
<a href="#l3.37"></a><span id="l3.37"> checking_mozilla_config=checking Mozilla Community configurations…</span>
<a href="#l3.38"></a><span id="l3.38"> found_isp_config=found a configuration</span>
<a href="#l3.39"></a><span id="l3.39"> probing_config=probing configuration…</span>
<a href="#l3.40"></a><span id="l3.40"> guessing_from_email=guessing configuration…</span>
<a href="#l3.41"></a><span id="l3.41"> config_details_found=Your configuration details have been found!</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineminus">-config_not_verified2=Configuration could not be verified — is the username or password wrong?</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineplus">+config_unverifiable=Configuration could not be verified — is the username or password wrong?</span>
<a href="#l3.44"></a><span id="l3.44"> incoming_found_specify_outgoing=Your incoming server configuration details have been found, please specify the sending hostname.</span>
<a href="#l3.45"></a><span id="l3.45"> outgoing_found_specify_incoming=Your outgoing server configuration details have been found, please specify the receiving hostname.</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineminus">-enter_missing_hostnames2=Could not guess settings — please enter missing hostnames</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineplus">+please_enter_missing_hostnames=Could not guess settings — please enter missing hostnames.</span>
<a href="#l3.48"></a><span id="l3.48"> incoming_failed_trying_outgoing=Could not automatically configure incoming server, still trying for outgoing server.</span>
<a href="#l3.49"></a><span id="l3.49"> outgoing_failed_trying_incoming=Could not automatically configure outgoing server, still trying for incoming server.</span>
<a href="#l3.50"></a><span id="l3.50"> checking_password=Checking password…</span>
<a href="#l3.51"></a><span id="l3.51"> password_ok=Password ok!</span>
<a href="#l3.52"></a><span id="l3.52"> user_pass_invalid=Username or password invalid</span>
<a href="#l3.53"></a><span id="l3.53"> check_server_details=Checking server details</span>
<a href="#l3.54"></a><span id="l3.54"> check_in_server_details=Checking incoming server details</span>
<a href="#l3.55"></a><span id="l3.55"> check_out_server_details=Checking outgoing server details</span>
<a href="#l3.56"></a><span id="l3.56"> </span>
<a href="#l3.57"></a><span id="l3.57"> error_creating_account=Error Creating Account</span>
<a href="#l3.58"></a><span id="l3.58"> incoming_server_exists=Incoming server already exists.</span>
<a href="#l3.59"></a><span id="l3.59"> </span>
<a href="#l3.60"></a><span id="l3.60"> no_encryption=No encryption</span>
<a href="#l3.61"></a><span id="l3.61" class="difflineminus">-ssltls2=SSL/TLS</span>
<a href="#l3.62"></a><span id="l3.62" class="difflineplus">+ssl_tls=SSL/TLS</span>
<a href="#l3.63"></a><span id="l3.63"> starttls=STARTTLS</span>
<a href="#l3.64"></a><span id="l3.64"> </span>
<a href="#l3.65"></a><span id="l3.65"> name.error=Please enter your name, as it should be shown to your correspondents.</span>
<a href="#l3.66"></a><span id="l3.66"> email.error=Double check this email address!</span>
<a href="#l3.67"></a><span id="l3.67"> password.error=Login did not succeed. Please double-check username and password.</span>
<a href="#l3.68"></a><span id="l3.68" class="difflineminus">-</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-customfields_example.label=Example:</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineminus">-customfields_empty.error=You need to fill out these fields, with the information given to you by your provider</span>
<a href="#l3.71"></a><span id="l3.71" class="difflineminus">-customfields_tooMany.error=Too many input fields in config XML file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1">rename from mail/base/content/accountCreationModel.properties</span>
<a href="#l4.2"></a><span id="l4.2">rename to mail/locales/en-US/chrome/messenger/accountCreationModel.properties</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">rename from mail/base/content/accountCreationUtil.properties</span>
<a href="#l5.2"></a><span id="l5.2">rename to mail/locales/en-US/chrome/messenger/accountCreationUtil.properties</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineminus">--- a/mail/base/content/accountCreationUtil.properties</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/accountCreationUtil.properties</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineat">@@ -1,16 +1,16 @@</span>
<a href="#l5.6"></a><span id="l5.6"> # This file has the strings, mostly error strings, for the logic / JS backend / model</span>
<a href="#l5.7"></a><span id="l5.7"> # files: sanitizeDatatypes.js, fetchhttp.js, util.js</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9"> </span>
<a href="#l5.10"></a><span id="l5.10"> # sanitizeDatatypes.js</span>
<a href="#l5.11"></a><span id="l5.11"> hostname_syntax.error=Hostname is empty or contains forbidden characters. Only letters, numbers, - and . are allowed.</span>
<a href="#l5.12"></a><span id="l5.12"> alphanumdash.error=String contains unsupported characters. Only letters, numbers, - and _ are allowed.</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-enum_value2.error=Supplied value not in allowed list</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+allowed_value.error=Supplied value not in allowed list</span>
<a href="#l5.15"></a><span id="l5.15"> url_scheme.error=URL scheme not allowed</span>
<a href="#l5.16"></a><span id="l5.16"> url_parsing.error=URL not recognized</span>
<a href="#l5.17"></a><span id="l5.17"> string_empty.error=You must supply a value for this string</span>
<a href="#l5.18"></a><span id="l5.18"> boolean.error=Not a boolean</span>
<a href="#l5.19"></a><span id="l5.19"> no_number.error=Not a number</span>
<a href="#l5.20"></a><span id="l5.20"> number_too_large.error=Number too large</span>
<a href="#l5.21"></a><span id="l5.21"> number_too_small.error=Number too small</span>
<a href="#l5.22"></a><span id="l5.22"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/locales/jar.mn</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/locales/jar.mn</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -4,16 +4,20 @@</span>
<a href="#l6.4"></a><span id="l6.4"> @AB_CD@.jar:</span>
<a href="#l6.5"></a><span id="l6.5"> % locale messenger @AB_CD@ %locale/@AB_CD@/messenger/</span>
<a href="#l6.6"></a><span id="l6.6"> % override chrome://mozapps/locale/downloads/settingsChange.dtd chrome://messenger/locale/downloads/settingsChange.dtd</span>
<a href="#l6.7"></a><span id="l6.7"> % override chrome://global/locale/netError.dtd chrome://messenger/locale/netError.dtd</span>
<a href="#l6.8"></a><span id="l6.8">   locale/@AB_CD@/messenger/credits.dtd                                  (%chrome/messenger/credits.dtd)</span>
<a href="#l6.9"></a><span id="l6.9">   locale/@AB_CD@/messenger/aboutDialog.dtd                              (%chrome/messenger/aboutDialog.dtd)</span>
<a href="#l6.10"></a><span id="l6.10">   locale/@AB_CD@/messenger/aboutRights.dtd                              (%chrome/messenger/aboutRights.dtd)</span>
<a href="#l6.11"></a><span id="l6.11">   locale/@AB_CD@/messenger/aboutRights.properties                       (%chrome/messenger/aboutRights.properties)</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+  locale/@AB_CD@/messenger/accountCreation.dtd                          (%chrome/messenger/accountCreation.dtd)</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+  locale/@AB_CD@/messenger/accountCreation.properties                   (%chrome/messenger/accountCreation.properties)</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+  locale/@AB_CD@/messenger/accountCreationModel.properties              (%chrome/messenger/accountCreationModel.properties)</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+  locale/@AB_CD@/messenger/accountCreationUtil.properties               (%chrome/messenger/accountCreationUtil.properties)</span>
<a href="#l6.16"></a><span id="l6.16">   locale/@AB_CD@/messenger/systemIntegrationDialog.dtd                  (%chrome/messenger/systemIntegrationDialog.dtd)  </span>
<a href="#l6.17"></a><span id="l6.17">   locale/@AB_CD@/messenger/virtualFolderProperties.dtd                  (%chrome/messenger/virtualFolderProperties.dtd)</span>
<a href="#l6.18"></a><span id="l6.18">   locale/@AB_CD@/messenger/virtualFolderListDialog.dtd                  (%chrome/messenger/virtualFolderListDialog.dtd)</span>
<a href="#l6.19"></a><span id="l6.19">   locale/@AB_CD@/messenger/multimessageview.properties                  (%chrome/messenger/multimessageview.properties)</span>
<a href="#l6.20"></a><span id="l6.20">   locale/@AB_CD@/messenger/multimessageview.dtd                         (%chrome/messenger/multimessageview.dtd)</span>
<a href="#l6.21"></a><span id="l6.21">   locale/@AB_CD@/messenger/mailOverlay.dtd                              (%chrome/messenger/mailOverlay.dtd)</span>
<a href="#l6.22"></a><span id="l6.22">   locale/@AB_CD@/messenger/messenger.dtd                                (%chrome/messenger/messenger.dtd)</span>
<a href="#l6.23"></a><span id="l6.23">   locale/@AB_CD@/messenger/baseMenuOverlay.dtd                          (%chrome/messenger/baseMenuOverlay.dtd)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/accountConfig.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/accountConfig.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -160,35 +160,29 @@ AccountConfig.kSourceGuess = 3; // guess</span>
<a href="#l7.4"></a><span id="l7.4">  * Full email address of this account, e.g. &quot;joe@example.com&quot;.</span>
<a href="#l7.5"></a><span id="l7.5">  * Empty of incomplete email addresses will/may be rejected.</span>
<a href="#l7.6"></a><span id="l7.6">  *</span>
<a href="#l7.7"></a><span id="l7.7">  * @param realname {String}</span>
<a href="#l7.8"></a><span id="l7.8">  * Real name of user, as will appear in From of outgoing messages</span>
<a href="#l7.9"></a><span id="l7.9">  *</span>
<a href="#l7.10"></a><span id="l7.10">  * @param password {String}</span>
<a href="#l7.11"></a><span id="l7.11">  * The password for the incoming server and (if necessary) the outgoing server</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">- *</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">- * @param otherVariables {Object}</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">- * Associative array of variable name</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">- * (without %) and value, e.g. var name &quot;username&quot; with value &quot;fred&quot;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">- * would be passed as JS object { username: &quot;fred&quot; } .</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">- * The var names must exactly match account.inputFields (all vars supplied,</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">- * no other vars). If account.inputFields is empty or null, pass {} .</span>
<a href="#l7.19"></a><span id="l7.19">  */</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineminus">-function replaceVariables(account, realname, emailfull, password, otherVariables)</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineplus">+function replaceVariables(account, realname, emailfull, password)</span>
<a href="#l7.22"></a><span id="l7.22"> {</span>
<a href="#l7.23"></a><span id="l7.23">   sanitize.nonemptystring(emailfull);</span>
<a href="#l7.24"></a><span id="l7.24">   let emailsplit = emailfull.split(&quot;@&quot;);</span>
<a href="#l7.25"></a><span id="l7.25">   assert(emailsplit.length == 2,</span>
<a href="#l7.26"></a><span id="l7.26">          &quot;email address not in expected format: must contain exactly one @&quot;);</span>
<a href="#l7.27"></a><span id="l7.27">   let emaillocal = sanitize.nonemptystring(emailsplit[0]);</span>
<a href="#l7.28"></a><span id="l7.28">   let emaildomain = sanitize.hostname(emailsplit[1]);</span>
<a href="#l7.29"></a><span id="l7.29">   sanitize.label(realname);</span>
<a href="#l7.30"></a><span id="l7.30">   sanitize.nonemptystring(realname);</span>
<a href="#l7.31"></a><span id="l7.31"> </span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+  let otherVariables = {};</span>
<a href="#l7.33"></a><span id="l7.33">   otherVariables.EMAILADDRESS = emailfull;</span>
<a href="#l7.34"></a><span id="l7.34">   otherVariables.EMAILLOCALPART = emaillocal;</span>
<a href="#l7.35"></a><span id="l7.35">   otherVariables.EMAILDOMAIN = emaildomain;</span>
<a href="#l7.36"></a><span id="l7.36">   otherVariables.REALNAME = realname;</span>
<a href="#l7.37"></a><span id="l7.37"> </span>
<a href="#l7.38"></a><span id="l7.38">   account.incoming.password = password;</span>
<a href="#l7.39"></a><span id="l7.39">   account.outgoing.password = password; // set member only if auth required?</span>
<a href="#l7.40"></a><span id="l7.40">   account.incoming.username = _replaceVariable(account.incoming.username,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/emailWizard.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/emailWizard.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -120,17 +120,16 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.4"></a><span id="l8.4">     this._userChangedIncomingPort = false;</span>
<a href="#l8.5"></a><span id="l8.5">     this._userChangedIncomingSocketType = false;</span>
<a href="#l8.6"></a><span id="l8.6">     this._userChangedOutgoingPort = false;</span>
<a href="#l8.7"></a><span id="l8.7">     this._userChangedOutgoingSocketType = false;</span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9">     this._incomingWarning = 'cleartext';</span>
<a href="#l8.10"></a><span id="l8.10">     this._outgoingWarning = 'cleartext';</span>
<a href="#l8.11"></a><span id="l8.11">     this._userPickedOutgoingServer = false;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    this._customFields = {}; // map of: field ID from config file {String} -&gt; field value entered by user {String}</span>
<a href="#l8.13"></a><span id="l8.13"> </span>
<a href="#l8.14"></a><span id="l8.14">     if (window.arguments &amp;&amp; window.arguments[0] &amp;&amp;</span>
<a href="#l8.15"></a><span id="l8.15">         window.arguments[0].msgWindow)</span>
<a href="#l8.16"></a><span id="l8.16">       this._parentMsgWindow = window.arguments[0].msgWindow;</span>
<a href="#l8.17"></a><span id="l8.17"> </span>
<a href="#l8.18"></a><span id="l8.18">     gStringsBundle = getElementById(&quot;strings&quot;);</span>
<a href="#l8.19"></a><span id="l8.19">     gBrandBundle = document.getElementById(&quot;bundle_brand&quot;);</span>
<a href="#l8.20"></a><span id="l8.20"> </span>
<a href="#l8.21"></a><span id="l8.21" class="difflineat">@@ -141,17 +140,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.22"></a><span id="l8.22">     this._smtpServers = gSmtpManager.smtpServers;</span>
<a href="#l8.23"></a><span id="l8.23">     var menupopup = getElementById(&quot;smtp_menupopup&quot;);</span>
<a href="#l8.24"></a><span id="l8.24">     while (this._smtpServers.hasMoreElements())</span>
<a href="#l8.25"></a><span id="l8.25">     {</span>
<a href="#l8.26"></a><span id="l8.26">       var server = this._smtpServers.getNext().QueryInterface(Ci.nsISmtpServer);</span>
<a href="#l8.27"></a><span id="l8.27">       var menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l8.28"></a><span id="l8.28">       var label = server.displayname;</span>
<a href="#l8.29"></a><span id="l8.29">       if (server.key == gSmtpManager.defaultServer.key)</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineminus">-        label += &quot; &quot; + gStringsBundle.getString(&quot;defaultServerTag&quot;);</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineplus">+        label += &quot; &quot; + gStringsBundle.getString(&quot;default_server_tag&quot;);</span>
<a href="#l8.32"></a><span id="l8.32"> </span>
<a href="#l8.33"></a><span id="l8.33">       menuitem.setAttribute(&quot;label&quot;, label);</span>
<a href="#l8.34"></a><span id="l8.34">       menuitem.setAttribute(&quot;value&quot;, server.key);</span>
<a href="#l8.35"></a><span id="l8.35">       menuitem.hostname = server.hostname;</span>
<a href="#l8.36"></a><span id="l8.36">       menupopup.appendChild(menuitem);</span>
<a href="#l8.37"></a><span id="l8.37">     }</span>
<a href="#l8.38"></a><span id="l8.38">     var menulist = getElementById(&quot;outgoing_server&quot;);</span>
<a href="#l8.39"></a><span id="l8.39">     menulist.addEventListener(&quot;command&quot;,</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineat">@@ -446,18 +445,18 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.41"></a><span id="l8.41">                 me._incomingState != 'probing')</span>
<a href="#l8.42"></a><span id="l8.42">               me._probeAbortable = null;</span>
<a href="#l8.43"></a><span id="l8.43"> </span>
<a href="#l8.44"></a><span id="l8.44">           },</span>
<a href="#l8.45"></a><span id="l8.45">           function(e, config) // guessconfig failed</span>
<a href="#l8.46"></a><span id="l8.46">           {</span>
<a href="#l8.47"></a><span id="l8.47">             gEmailWizardLogger.info(&quot;guessConfig failed: &quot; + e);</span>
<a href="#l8.48"></a><span id="l8.48">             me.updateConfig(config);</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineminus">-            me.stopSpinner(&quot;finished_with_errors2&quot;);</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineminus">-            me.setSpinnerStatus(&quot;enter_missing_hostnames2&quot;);</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+            me.stopSpinner(&quot;finished_with_error&quot;);</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineplus">+            me.setSpinnerStatus(&quot;please_enter_missing_hostnames&quot;);</span>
<a href="#l8.53"></a><span id="l8.53">             me._probeAbortable = null;</span>
<a href="#l8.54"></a><span id="l8.54">             me.editConfigDetails();</span>
<a href="#l8.55"></a><span id="l8.55">           },</span>
<a href="#l8.56"></a><span id="l8.56">           function(e, config) // guessconfig failed for incoming</span>
<a href="#l8.57"></a><span id="l8.57">           {</span>
<a href="#l8.58"></a><span id="l8.58">             gEmailWizardLogger.info(&quot;guessConfig failed for incoming: &quot; + e);</span>
<a href="#l8.59"></a><span id="l8.59">             me.setSpinnerStatus(&quot;incoming_failed_trying_outgoing&quot;);</span>
<a href="#l8.60"></a><span id="l8.60">             config.incoming.hostname = -1;</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineat">@@ -492,17 +491,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.62"></a><span id="l8.62">     return this._foundConfig2(config);</span>
<a href="#l8.63"></a><span id="l8.63">   },</span>
<a href="#l8.64"></a><span id="l8.64">   // Continuation of foundConfig2() after custom fields.</span>
<a href="#l8.65"></a><span id="l8.65">   _foundConfig2 : function(config)</span>
<a href="#l8.66"></a><span id="l8.66">   {</span>
<a href="#l8.67"></a><span id="l8.67">     this._currentConfigFilledIn = config.copy();</span>
<a href="#l8.68"></a><span id="l8.68">     _show(&quot;advanced_settings&quot;);</span>
<a href="#l8.69"></a><span id="l8.69">     replaceVariables(this._currentConfigFilledIn, this._realname, this._email,</span>
<a href="#l8.70"></a><span id="l8.70" class="difflineminus">-                     this._password, this._customFields);</span>
<a href="#l8.71"></a><span id="l8.71" class="difflineplus">+                     this._password);</span>
<a href="#l8.72"></a><span id="l8.72"> </span>
<a href="#l8.73"></a><span id="l8.73">     this.updateConfig(this._currentConfigFilledIn);</span>
<a href="#l8.74"></a><span id="l8.74"> </span>
<a href="#l8.75"></a><span id="l8.75">     getElementById('create_button').disabled = false;</span>
<a href="#l8.76"></a><span id="l8.76">     getElementById('create_button').hidden = false;</span>
<a href="#l8.77"></a><span id="l8.77"> </span>
<a href="#l8.78"></a><span id="l8.78">   },</span>
<a href="#l8.79"></a><span id="l8.79"> </span>
<a href="#l8.80"></a><span id="l8.80" class="difflineat">@@ -581,67 +580,67 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.81"></a><span id="l8.81">         _hide('mastervbox');</span>
<a href="#l8.82"></a><span id="l8.82">         _show('warningbox');</span>
<a href="#l8.83"></a><span id="l8.83"> </span>
<a href="#l8.84"></a><span id="l8.84">         let incomingwarningstring;</span>
<a href="#l8.85"></a><span id="l8.85">         let outgoingwarningstring;</span>
<a href="#l8.86"></a><span id="l8.86">         let incoming_details;</span>
<a href="#l8.87"></a><span id="l8.87">         let outgoing_details;</span>
<a href="#l8.88"></a><span id="l8.88">         let incoming = this._currentConfigFilledIn.incoming;</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineminus">-        let incoming_settings = incoming.hostname + ':' + incoming.port +</span>
<a href="#l8.90"></a><span id="l8.90" class="difflineplus">+        let incomingSettings = incoming.hostname + ':' + incoming.port +</span>
<a href="#l8.91"></a><span id="l8.91">                                 ' (' + sslLabel(incoming.socketType) + ')';</span>
<a href="#l8.92"></a><span id="l8.92">         let outgoing = this._currentConfigFilledIn.outgoing;</span>
<a href="#l8.93"></a><span id="l8.93" class="difflineminus">-        let outgoing_settings = outgoing.hostname + ':' + outgoing.port +</span>
<a href="#l8.94"></a><span id="l8.94" class="difflineplus">+        let outgoingSettings = outgoing.hostname + ':' + outgoing.port +</span>
<a href="#l8.95"></a><span id="l8.95">                                 ' (' + sslLabel(outgoing.socketType) + ')';</span>
<a href="#l8.96"></a><span id="l8.96">         var brandShortName = gBrandBundle.getString(&quot;brandShortName&quot;);</span>
<a href="#l8.97"></a><span id="l8.97">         switch (this._incomingWarning)</span>
<a href="#l8.98"></a><span id="l8.98">         {</span>
<a href="#l8.99"></a><span id="l8.99">           case 'cleartext':</span>
<a href="#l8.100"></a><span id="l8.100">             incomingwarningstring = gStringsBundle.getFormattedString(</span>
<a href="#l8.101"></a><span id="l8.101" class="difflineminus">-              &quot;cleartext_incoming2&quot;, [brandShortName, incoming.hostname]);</span>
<a href="#l8.102"></a><span id="l8.102" class="difflineplus">+              &quot;incoming_cleartext_warning&quot;, [brandShortName, incoming.hostname]);</span>
<a href="#l8.103"></a><span id="l8.103">             incoming_details = gStringsBundle.getString(&quot;cleartext_details&quot;);</span>
<a href="#l8.104"></a><span id="l8.104">             setText('warning_incoming', incomingwarningstring);</span>
<a href="#l8.105"></a><span id="l8.105">             setText('incoming_details', incoming_details);</span>
<a href="#l8.106"></a><span id="l8.106" class="difflineminus">-            setText('incoming_settings', incoming_settings);</span>
<a href="#l8.107"></a><span id="l8.107" class="difflineplus">+            setText('incomingSettings', incomingSettings);</span>
<a href="#l8.108"></a><span id="l8.108">             _show('incoming_box');</span>
<a href="#l8.109"></a><span id="l8.109">             _show('acknowledge_incoming');</span>
<a href="#l8.110"></a><span id="l8.110">             break;</span>
<a href="#l8.111"></a><span id="l8.111">           case 'selfsigned':</span>
<a href="#l8.112"></a><span id="l8.112">             incomingwarningstring = gStringsBundle.getFormattedString(</span>
<a href="#l8.113"></a><span id="l8.113" class="difflineminus">-              &quot;selfsigned_incoming2&quot;, [brandShortName, incoming.hostname]);</span>
<a href="#l8.114"></a><span id="l8.114" class="difflineplus">+              &quot;incoming_selfsigned_warning&quot;, [brandShortName, incoming.hostname]);</span>
<a href="#l8.115"></a><span id="l8.115">             incoming_details = gStringsBundle.getString(&quot;selfsigned_details&quot;);</span>
<a href="#l8.116"></a><span id="l8.116">             setText('warning_incoming', incomingwarningstring);</span>
<a href="#l8.117"></a><span id="l8.117">             setText('incoming_details', incoming_details);</span>
<a href="#l8.118"></a><span id="l8.118" class="difflineminus">-            setText('incoming_settings', incoming_settings);</span>
<a href="#l8.119"></a><span id="l8.119" class="difflineplus">+            setText('incomingSettings', incomingSettings);</span>
<a href="#l8.120"></a><span id="l8.120">             _show('incoming_box');</span>
<a href="#l8.121"></a><span id="l8.121">             _show('acknowledge_incoming');</span>
<a href="#l8.122"></a><span id="l8.122">             break;</span>
<a href="#l8.123"></a><span id="l8.123">           case '':</span>
<a href="#l8.124"></a><span id="l8.124">             _hide('incoming_box');</span>
<a href="#l8.125"></a><span id="l8.125">             _hide('acknowledge_incoming');</span>
<a href="#l8.126"></a><span id="l8.126">         }</span>
<a href="#l8.127"></a><span id="l8.127">         switch (this._outgoingWarning)</span>
<a href="#l8.128"></a><span id="l8.128">         {</span>
<a href="#l8.129"></a><span id="l8.129">           case 'cleartext':</span>
<a href="#l8.130"></a><span id="l8.130">             outgoingwarningstring = gStringsBundle.getFormattedString(</span>
<a href="#l8.131"></a><span id="l8.131" class="difflineminus">-              &quot;cleartext_outgoing2&quot;, [brandShortName, outgoing.hostname]);</span>
<a href="#l8.132"></a><span id="l8.132" class="difflineminus">-            outgoingdetailsstring = gStringsBundle.getString(&quot;cleartext_details&quot;);</span>
<a href="#l8.133"></a><span id="l8.133" class="difflineplus">+              &quot;outgoing_cleartext_warning&quot;, [brandShortName, outgoing.hostname]);</span>
<a href="#l8.134"></a><span id="l8.134" class="difflineplus">+            outgoing_details = gStringsBundle.getString(&quot;cleartext_details&quot;);</span>
<a href="#l8.135"></a><span id="l8.135">             setText('warning_outgoing', outgoingwarningstring);</span>
<a href="#l8.136"></a><span id="l8.136">             setText('outgoing_details', outgoing_details);</span>
<a href="#l8.137"></a><span id="l8.137" class="difflineminus">-            setText('outgoing_settings', outgoing_settings);</span>
<a href="#l8.138"></a><span id="l8.138" class="difflineplus">+            setText('outgoingSettings', outgoingSettings);</span>
<a href="#l8.139"></a><span id="l8.139">             _show('outgoing_box');</span>
<a href="#l8.140"></a><span id="l8.140">             _show('acknowledge_outgoing');</span>
<a href="#l8.141"></a><span id="l8.141">             break;</span>
<a href="#l8.142"></a><span id="l8.142">           case 'selfsigned':</span>
<a href="#l8.143"></a><span id="l8.143">             outgoingwarningstring = gStringsBundle.getFormattedString(</span>
<a href="#l8.144"></a><span id="l8.144" class="difflineminus">-              &quot;selfsigned_outgoing2&quot;, [brandShortName, outgoing.hostname]);</span>
<a href="#l8.145"></a><span id="l8.145" class="difflineplus">+              &quot;outgoing_selfsigned_warning&quot;, [brandShortName, outgoing.hostname]);</span>
<a href="#l8.146"></a><span id="l8.146">             outgoing_details = gStringsBundle.getString(&quot;selfsigned_details&quot;);</span>
<a href="#l8.147"></a><span id="l8.147">             setText('warning_outgoing', outgoingwarningstring);</span>
<a href="#l8.148"></a><span id="l8.148">             setText('outgoing_details', outgoing_details);</span>
<a href="#l8.149"></a><span id="l8.149" class="difflineminus">-            setText('outgoing_settings', outgoing_settings);</span>
<a href="#l8.150"></a><span id="l8.150" class="difflineplus">+            setText('outgoingSettings', outgoingSettings);</span>
<a href="#l8.151"></a><span id="l8.151">             _show('outgoing_box');</span>
<a href="#l8.152"></a><span id="l8.152">             _show('acknowledge_outgoing');</span>
<a href="#l8.153"></a><span id="l8.153">             break;</span>
<a href="#l8.154"></a><span id="l8.154">           case '':</span>
<a href="#l8.155"></a><span id="l8.155">             _hide('outgoing_box');</span>
<a href="#l8.156"></a><span id="l8.156">             _hide('acknowledge_outgoing');</span>
<a href="#l8.157"></a><span id="l8.157">         }</span>
<a href="#l8.158"></a><span id="l8.158">       }</span>
<a href="#l8.159"></a><span id="l8.159" class="difflineat">@@ -714,20 +713,20 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.160"></a><span id="l8.160">       {</span>
<a href="#l8.161"></a><span id="l8.161">         me._verifiedConfig = true;</span>
<a href="#l8.162"></a><span id="l8.162">         me.stopSpinner(&quot;password_ok&quot;);</span>
<a href="#l8.163"></a><span id="l8.163">         if (successCallback)</span>
<a href="#l8.164"></a><span id="l8.164">           successCallback();</span>
<a href="#l8.165"></a><span id="l8.165">       },</span>
<a href="#l8.166"></a><span id="l8.166">       function(e) // failed</span>
<a href="#l8.167"></a><span id="l8.167">       {</span>
<a href="#l8.168"></a><span id="l8.168" class="difflineminus">-        me.stopSpinner(&quot;config_not_verified2&quot;);</span>
<a href="#l8.169"></a><span id="l8.169" class="difflineplus">+        me.stopSpinner(&quot;config_unverifiable&quot;);</span>
<a href="#l8.170"></a><span id="l8.170">         me.setError('passworderror', 'user_pass_invalid');</span>
<a href="#l8.171"></a><span id="l8.171">         alertPrompt(gStringsBundle.getString(&quot;error_creating_account&quot;),</span>
<a href="#l8.172"></a><span id="l8.172" class="difflineminus">-                    gStringsBundle.getString(&quot;config_not_verified2&quot;));</span>
<a href="#l8.173"></a><span id="l8.173" class="difflineplus">+                    gStringsBundle.getString(&quot;config_unverifiable&quot;));</span>
<a href="#l8.174"></a><span id="l8.174">         if (errorCallback)</span>
<a href="#l8.175"></a><span id="l8.175">           errorCallback(e);</span>
<a href="#l8.176"></a><span id="l8.176">       });</span>
<a href="#l8.177"></a><span id="l8.177">   },</span>
<a href="#l8.178"></a><span id="l8.178"> </span>
<a href="#l8.179"></a><span id="l8.179">   finish : function()</span>
<a href="#l8.180"></a><span id="l8.180">   {</span>
<a href="#l8.181"></a><span id="l8.181">     gEmailWizardLogger.info(&quot;creating account in backend&quot;);</span>
<a href="#l8.182"></a><span id="l8.182" class="difflineat">@@ -738,17 +737,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.183"></a><span id="l8.183">   },</span>
<a href="#l8.184"></a><span id="l8.184"> </span>
<a href="#l8.185"></a><span id="l8.185">   advancedSettings : function()</span>
<a href="#l8.186"></a><span id="l8.186">   {</span>
<a href="#l8.187"></a><span id="l8.187">     let config = this._currentConfigFilledIn ? this._currentConfigFilledIn.copy()</span>
<a href="#l8.188"></a><span id="l8.188">                                              : this.getUserConfig();</span>
<a href="#l8.189"></a><span id="l8.189">     // call this to set the password</span>
<a href="#l8.190"></a><span id="l8.190">     replaceVariables(config, this._realname, this._email,</span>
<a href="#l8.191"></a><span id="l8.191" class="difflineminus">-                     this._password, this._customFields);</span>
<a href="#l8.192"></a><span id="l8.192" class="difflineplus">+                     this._password);</span>
<a href="#l8.193"></a><span id="l8.193"> </span>
<a href="#l8.194"></a><span id="l8.194">     gEmailWizardLogger.info(&quot;creating account in backend&quot;);</span>
<a href="#l8.195"></a><span id="l8.195">     config.rememberPassword =</span>
<a href="#l8.196"></a><span id="l8.196">       getElementById(&quot;remember_password&quot;).checked;</span>
<a href="#l8.197"></a><span id="l8.197">     var newAccount = createAccountInBackend(config);</span>
<a href="#l8.198"></a><span id="l8.198">     var windowManager =</span>
<a href="#l8.199"></a><span id="l8.199">       Components.classes['@mozilla.org/appshell/window-mediator;1']</span>
<a href="#l8.200"></a><span id="l8.200">                 .getService(Components.interfaces.nsIWindowMediator);</span>
<a href="#l8.201"></a><span id="l8.201" class="difflineat">@@ -1054,17 +1053,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.202"></a><span id="l8.202">             case 2: // SSL / TLS</span>
<a href="#l8.203"></a><span id="l8.203">             case 3: // STARTTLS</span>
<a href="#l8.204"></a><span id="l8.204">               if (config.outgoing.badCert)</span>
<a href="#l8.205"></a><span id="l8.205">                 this._setOutgoingStatus('weak', 'selfsigned');</span>
<a href="#l8.206"></a><span id="l8.206">               else</span>
<a href="#l8.207"></a><span id="l8.207">                 this._setOutgoingStatus('strong');</span>
<a href="#l8.208"></a><span id="l8.208">               break;</span>
<a href="#l8.209"></a><span id="l8.209">             case 1: // plain</span>
<a href="#l8.210"></a><span id="l8.210" class="difflineminus">-              this._setOutgoingStatus('weak');</span>
<a href="#l8.211"></a><span id="l8.211" class="difflineplus">+              this._setOutgoingStatus('weak', 'cleartext');</span>
<a href="#l8.212"></a><span id="l8.212">               break;</span>
<a href="#l8.213"></a><span id="l8.213">             default:</span>
<a href="#l8.214"></a><span id="l8.214">               throw new NotReached(&quot;sslType &quot; + config.incoming.socketType + &quot; unknown&quot;);</span>
<a href="#l8.215"></a><span id="l8.215">           }</span>
<a href="#l8.216"></a><span id="l8.216">         }</span>
<a href="#l8.217"></a><span id="l8.217">       }</span>
<a href="#l8.218"></a><span id="l8.218">       else</span>
<a href="#l8.219"></a><span id="l8.219">       {</span>
<a href="#l8.220"></a><span id="l8.220" class="difflineat">@@ -1273,22 +1272,32 @@ EmailConfigWizard.prototype =</span>
<a href="#l8.221"></a><span id="l8.221">       _show(which);</span>
<a href="#l8.222"></a><span id="l8.222">       getElementById(which).textContent = gStringsBundle.getString(msg_name);</span>
<a href="#l8.223"></a><span id="l8.223">     }</span>
<a href="#l8.224"></a><span id="l8.224">     catch(ex) {</span>
<a href="#l8.225"></a><span id="l8.225">       alertPrompt(&quot;missing error string&quot;, msg_name);</span>
<a href="#l8.226"></a><span id="l8.226">     }</span>
<a href="#l8.227"></a><span id="l8.227">   },</span>
<a href="#l8.228"></a><span id="l8.228"> </span>
<a href="#l8.229"></a><span id="l8.229" class="difflineminus">-  onKeyDown : function (key)</span>
<a href="#l8.230"></a><span id="l8.230" class="difflineplus">+  onKeyDown : function (event)</span>
<a href="#l8.231"></a><span id="l8.231">   {</span>
<a href="#l8.232"></a><span id="l8.232" class="difflineminus">-    if (key == 27)</span>
<a href="#l8.233"></a><span id="l8.233" class="difflineplus">+    let key = event.keyCode;</span>
<a href="#l8.234"></a><span id="l8.234" class="difflineplus">+    if (key == 27) {</span>
<a href="#l8.235"></a><span id="l8.235">       this.onCancel();</span>
<a href="#l8.236"></a><span id="l8.236" class="difflineminus">-    else if (key == 13 &amp;&amp; !getElementById('create_button').disabled)</span>
<a href="#l8.237"></a><span id="l8.237" class="difflineplus">+      return true;</span>
<a href="#l8.238"></a><span id="l8.238" class="difflineplus">+    }</span>
<a href="#l8.239"></a><span id="l8.239" class="difflineplus">+    if (key == 13 &amp;&amp; !getElementById('create_button').hidden) {</span>
<a href="#l8.240"></a><span id="l8.240">       this.onOK();</span>
<a href="#l8.241"></a><span id="l8.241" class="difflineplus">+      return true;</span>
<a href="#l8.242"></a><span id="l8.242" class="difflineplus">+    }</span>
<a href="#l8.243"></a><span id="l8.243" class="difflineplus">+    if (key == 13 &amp;&amp; !getElementById('next_button').hidden) {</span>
<a href="#l8.244"></a><span id="l8.244" class="difflineplus">+      this.onNext();</span>
<a href="#l8.245"></a><span id="l8.245" class="difflineplus">+      return true;</span>
<a href="#l8.246"></a><span id="l8.246" class="difflineplus">+    }</span>
<a href="#l8.247"></a><span id="l8.247" class="difflineplus">+    return false;</span>
<a href="#l8.248"></a><span id="l8.248">   },</span>
<a href="#l8.249"></a><span id="l8.249"> </span>
<a href="#l8.250"></a><span id="l8.250">   onWizardShutdown: function EmailConfigWizard_onWizardshutdown() {</span>
<a href="#l8.251"></a><span id="l8.251">     if (this._probeAbortable)</span>
<a href="#l8.252"></a><span id="l8.252">       this._probeAbortable.cancel();</span>
<a href="#l8.253"></a><span id="l8.253"> </span>
<a href="#l8.254"></a><span id="l8.254">     gEmailWizardLogger.info(&quot;Shutting down email config dialog&quot;);</span>
<a href="#l8.255"></a><span id="l8.255">   }</span>
<a href="#l8.256"></a><span id="l8.256" class="difflineat">@@ -1299,17 +1308,17 @@ gEmailWizardLogger.info(&quot;email account s</span>
<a href="#l8.257"></a><span id="l8.257"> </span>
<a href="#l8.258"></a><span id="l8.258"> function sslLabel(val)</span>
<a href="#l8.259"></a><span id="l8.259"> {</span>
<a href="#l8.260"></a><span id="l8.260">   switch (val)</span>
<a href="#l8.261"></a><span id="l8.261">   {</span>
<a href="#l8.262"></a><span id="l8.262">     case 1:</span>
<a href="#l8.263"></a><span id="l8.263">       return gStringsBundle.getString(&quot;no_encryption&quot;);</span>
<a href="#l8.264"></a><span id="l8.264">     case 2:</span>
<a href="#l8.265"></a><span id="l8.265" class="difflineminus">-      return gStringsBundle.getString(&quot;ssltls2&quot;);</span>
<a href="#l8.266"></a><span id="l8.266" class="difflineplus">+      return gStringsBundle.getString(&quot;ssl_tls&quot;);</span>
<a href="#l8.267"></a><span id="l8.267">     case 3:</span>
<a href="#l8.268"></a><span id="l8.268">       return gStringsBundle.getString(&quot;starttls&quot;);;</span>
<a href="#l8.269"></a><span id="l8.269">     default:</span>
<a href="#l8.270"></a><span id="l8.270">       throw new NotReached(&quot;Unknown SSL type&quot;);</span>
<a href="#l8.271"></a><span id="l8.271">   }</span>
<a href="#l8.272"></a><span id="l8.272"> }</span>
<a href="#l8.273"></a><span id="l8.273"> </span>
<a href="#l8.274"></a><span id="l8.274"> </span>
<a href="#l8.275"></a><span id="l8.275" class="difflineat">@@ -1321,159 +1330,8 @@ function setText(id, value)</span>
<a href="#l8.276"></a><span id="l8.276"> </span>
<a href="#l8.277"></a><span id="l8.277">   if (element.localName == &quot;textbox&quot; || element.localName == &quot;label&quot;)</span>
<a href="#l8.278"></a><span id="l8.278">     element.value = value;</span>
<a href="#l8.279"></a><span id="l8.279">   else if (element.localName == &quot;description&quot;)</span>
<a href="#l8.280"></a><span id="l8.280">     element.textContent = value;</span>
<a href="#l8.281"></a><span id="l8.281">   else</span>
<a href="#l8.282"></a><span id="l8.282">     throw new NotReached(&quot;XUL element type not supported&quot;);</span>
<a href="#l8.283"></a><span id="l8.283"> }</span>
<a href="#l8.284"></a><span id="l8.284" class="difflineminus">-</span>
<a href="#l8.285"></a><span id="l8.285" class="difflineminus">-</span>
<a href="#l8.286"></a><span id="l8.286" class="difflineminus">-/**</span>
<a href="#l8.287"></a><span id="l8.287" class="difflineminus">-* Called by dialog logic, if there are custom fields needed</span>
<a href="#l8.288"></a><span id="l8.288" class="difflineminus">-* The dialog just shows all these descriptions, and a textfield next to each,</span>
<a href="#l8.289"></a><span id="l8.289" class="difflineminus">-* and returns the values the user entered.</span>
<a href="#l8.290"></a><span id="l8.290" class="difflineminus">-*</span>
<a href="#l8.291"></a><span id="l8.291" class="difflineminus">-* @param inputFields {Array}   @see AccountConfig.inputFields</span>
<a href="#l8.292"></a><span id="l8.292" class="difflineminus">-* @param defaults {Object}</span>
<a href="#l8.293"></a><span id="l8.293" class="difflineminus">-* Associative array / map of</span>
<a href="#l8.294"></a><span id="l8.294" class="difflineminus">-* field ID (from config file) -&gt; default value in text field</span>
<a href="#l8.295"></a><span id="l8.295" class="difflineminus">-* The default values can come from a previous invokation of the dialog.</span>
<a href="#l8.296"></a><span id="l8.296" class="difflineminus">-* May be null.</span>
<a href="#l8.297"></a><span id="l8.297" class="difflineminus">-*/</span>
<a href="#l8.298"></a><span id="l8.298" class="difflineminus">-function CustomFieldsDialog(inputFields, defaults)</span>
<a href="#l8.299"></a><span id="l8.299" class="difflineminus">-{</span>
<a href="#l8.300"></a><span id="l8.300" class="difflineminus">-  if (!defaults)</span>
<a href="#l8.301"></a><span id="l8.301" class="difflineminus">-    defaults = {};</span>
<a href="#l8.302"></a><span id="l8.302" class="difflineminus">-</span>
<a href="#l8.303"></a><span id="l8.303" class="difflineminus">-  this._inputFields = inputFields;</span>
<a href="#l8.304"></a><span id="l8.304" class="difflineminus">-  this._defaults = defaults;</span>
<a href="#l8.305"></a><span id="l8.305" class="difflineminus">-}</span>
<a href="#l8.306"></a><span id="l8.306" class="difflineminus">-CustomFieldsDialog.prototype =</span>
<a href="#l8.307"></a><span id="l8.307" class="difflineminus">-{</span>
<a href="#l8.308"></a><span id="l8.308" class="difflineminus">-  /**</span>
<a href="#l8.309"></a><span id="l8.309" class="difflineminus">-   * Open dialog, unless the needed data is already in |defaults|.</span>
<a href="#l8.310"></a><span id="l8.310" class="difflineminus">-   * @param successCallback, cancelCallback @see open()</span>
<a href="#l8.311"></a><span id="l8.311" class="difflineminus">-   */</span>
<a href="#l8.312"></a><span id="l8.312" class="difflineminus">-  openIfNeeded : function(successCallback, cancelCallback)</span>
<a href="#l8.313"></a><span id="l8.313" class="difflineminus">-  {</span>
<a href="#l8.314"></a><span id="l8.314" class="difflineminus">-    var needInput = false;</span>
<a href="#l8.315"></a><span id="l8.315" class="difflineminus">-    for (var i = 0; i &lt; this._inputFields.length; i++)</span>
<a href="#l8.316"></a><span id="l8.316" class="difflineminus">-    {</span>
<a href="#l8.317"></a><span id="l8.317" class="difflineminus">-      let fieldid = this._inputFields[i].varname;</span>
<a href="#l8.318"></a><span id="l8.318" class="difflineminus">-      if (!this._defaults[fieldid])</span>
<a href="#l8.319"></a><span id="l8.319" class="difflineminus">-        needInput = true;</span>
<a href="#l8.320"></a><span id="l8.320" class="difflineminus">-    }</span>
<a href="#l8.321"></a><span id="l8.321" class="difflineminus">-    if (!needInput)</span>
<a href="#l8.322"></a><span id="l8.322" class="difflineminus">-    {</span>
<a href="#l8.323"></a><span id="l8.323" class="difflineminus">-      successCallback(this._defaults);</span>
<a href="#l8.324"></a><span id="l8.324" class="difflineminus">-      return;</span>
<a href="#l8.325"></a><span id="l8.325" class="difflineminus">-    }</span>
<a href="#l8.326"></a><span id="l8.326" class="difflineminus">-</span>
<a href="#l8.327"></a><span id="l8.327" class="difflineminus">-    this.open(successCallback, cancelCallback);</span>
<a href="#l8.328"></a><span id="l8.328" class="difflineminus">-  },</span>
<a href="#l8.329"></a><span id="l8.329" class="difflineminus">-</span>
<a href="#l8.330"></a><span id="l8.330" class="difflineminus">-  /**</span>
<a href="#l8.331"></a><span id="l8.331" class="difflineminus">-   * @param successCallback {Function({Object})}</span>
<a href="#l8.332"></a><span id="l8.332" class="difflineminus">-   * Will be called when the user entered all values and clicked OK.</span>
<a href="#l8.333"></a><span id="l8.333" class="difflineminus">-   * The first parameter contains the values that the user entered,</span>
<a href="#l8.334"></a><span id="l8.334" class="difflineminus">-   * in form Map of: field ID -&gt; user value</span>
<a href="#l8.335"></a><span id="l8.335" class="difflineminus">-   *</span>
<a href="#l8.336"></a><span id="l8.336" class="difflineminus">-   * @param cancelCallback {Function()}</span>
<a href="#l8.337"></a><span id="l8.337" class="difflineminus">-   * The user cancelled the dialog.</span>
<a href="#l8.338"></a><span id="l8.338" class="difflineminus">-   */</span>
<a href="#l8.339"></a><span id="l8.339" class="difflineminus">-  open : function(successCallback, cancelCallback)</span>
<a href="#l8.340"></a><span id="l8.340" class="difflineminus">-  {</span>
<a href="#l8.341"></a><span id="l8.341" class="difflineminus">-    this._successCallback = successCallback;</span>
<a href="#l8.342"></a><span id="l8.342" class="difflineminus">-    this._cancelCallback = cancelCallback;</span>
<a href="#l8.343"></a><span id="l8.343" class="difflineminus">-</span>
<a href="#l8.344"></a><span id="l8.344" class="difflineminus">-    var rows = getElementById(&quot;customfields-rows&quot;);</span>
<a href="#l8.345"></a><span id="l8.345" class="difflineminus">-</span>
<a href="#l8.346"></a><span id="l8.346" class="difflineminus">-    // first, clear dialog from any possible previous use</span>
<a href="#l8.347"></a><span id="l8.347" class="difflineminus">-    while (rows.hasChildNodes())</span>
<a href="#l8.348"></a><span id="l8.348" class="difflineminus">-      rows.removeChild(rows.firstChild);</span>
<a href="#l8.349"></a><span id="l8.349" class="difflineminus">-</span>
<a href="#l8.350"></a><span id="l8.350" class="difflineminus">-    for (var i = 0; i &lt; this._inputFields.length; i++)</span>
<a href="#l8.351"></a><span id="l8.351" class="difflineminus">-    {</span>
<a href="#l8.352"></a><span id="l8.352" class="difflineminus">-      let fieldid = this._inputFields[i].varname;</span>
<a href="#l8.353"></a><span id="l8.353" class="difflineminus">-      let displayName = this._inputFields[i].displayName;</span>
<a href="#l8.354"></a><span id="l8.354" class="difflineminus">-      let exampleValue = this._inputFields[i].exampleValue;</span>
<a href="#l8.355"></a><span id="l8.355" class="difflineminus">-</span>
<a href="#l8.356"></a><span id="l8.356" class="difflineminus">-      // only 5 fields allowed per spec, to cut down on dialog size and preserve sanity</span>
<a href="#l8.357"></a><span id="l8.357" class="difflineminus">-      if (i &gt;= 5)</span>
<a href="#l8.358"></a><span id="l8.358" class="difflineminus">-        throw new Exception(gStringsBundle.getString(&quot;customfields_tooMany.error&quot;));</span>
<a href="#l8.359"></a><span id="l8.359" class="difflineminus">-</span>
<a href="#l8.360"></a><span id="l8.360" class="difflineminus">-      // Create UI widgets</span>
<a href="#l8.361"></a><span id="l8.361" class="difflineminus">-      let row = document.createElement(&quot;row&quot;);</span>
<a href="#l8.362"></a><span id="l8.362" class="difflineminus">-      let descr = document.createElement(&quot;description&quot;);</span>
<a href="#l8.363"></a><span id="l8.363" class="difflineminus">-      let textfield = document.createElement(&quot;textbox&quot;);</span>
<a href="#l8.364"></a><span id="l8.364" class="difflineminus">-      let exHBox = document.createElement(&quot;hbox&quot;);</span>
<a href="#l8.365"></a><span id="l8.365" class="difflineminus">-      let exLabel = document.createElement(&quot;label&quot;);</span>
<a href="#l8.366"></a><span id="l8.366" class="difflineminus">-      let example = document.createElement(&quot;label&quot;);</span>
<a href="#l8.367"></a><span id="l8.367" class="difflineminus">-      exHBox.appendChild(exLabel);</span>
<a href="#l8.368"></a><span id="l8.368" class="difflineminus">-      exHBox.appendChild(example);</span>
<a href="#l8.369"></a><span id="l8.369" class="difflineminus">-      row.appendChild(descr);</span>
<a href="#l8.370"></a><span id="l8.370" class="difflineminus">-      row.appendChild(textfield);</span>
<a href="#l8.371"></a><span id="l8.371" class="difflineminus">-      row.appendChild(exHBox);</span>
<a href="#l8.372"></a><span id="l8.372" class="difflineminus">-      rows.appendChild(row);</span>
<a href="#l8.373"></a><span id="l8.373" class="difflineminus">-      descr.setAttribute(&quot;class&quot;, &quot;customfield-label&quot;);</span>
<a href="#l8.374"></a><span id="l8.374" class="difflineminus">-      textfield.setAttribute(&quot;class&quot;, &quot;customfield-value&quot;);</span>
<a href="#l8.375"></a><span id="l8.375" class="difflineminus">-      example.setAttribute(&quot;class&quot;, &quot;customfield-example&quot;);</span>
<a href="#l8.376"></a><span id="l8.376" class="difflineminus">-      // fieldid was already sanitized in readFrom XML.js as alphanumdash and uppercase</span>
<a href="#l8.377"></a><span id="l8.377" class="difflineminus">-      textfield.id = &quot;customfield-value-&quot; + fieldid;</span>
<a href="#l8.378"></a><span id="l8.378" class="difflineminus">-      exLabel.setAttribute(&quot;value&quot;, gStringsBundle.getString(&quot;customfields_example.label&quot;));</span>
<a href="#l8.379"></a><span id="l8.379" class="difflineminus">-</span>
<a href="#l8.380"></a><span id="l8.380" class="difflineminus">-      // Set labels and values</span>
<a href="#l8.381"></a><span id="l8.381" class="difflineminus">-      descr.textContent = displayName;</span>
<a href="#l8.382"></a><span id="l8.382" class="difflineminus">-      example.setAttribute(&quot;value&quot;, exampleValue);</span>
<a href="#l8.383"></a><span id="l8.383" class="difflineminus">-      if (this._defaults &amp;&amp; this._defaults[fieldid])</span>
<a href="#l8.384"></a><span id="l8.384" class="difflineminus">-        textfield.setAttribute(&quot;value&quot;, this._defaults[fieldid]);</span>
<a href="#l8.385"></a><span id="l8.385" class="difflineminus">-    }</span>
<a href="#l8.386"></a><span id="l8.386" class="difflineminus">-</span>
<a href="#l8.387"></a><span id="l8.387" class="difflineminus">-    _hide(&quot;mastervbox&quot;);</span>
<a href="#l8.388"></a><span id="l8.388" class="difflineminus">-    _show(&quot;customfields-box&quot;);</span>
<a href="#l8.389"></a><span id="l8.389" class="difflineminus">-  },</span>
<a href="#l8.390"></a><span id="l8.390" class="difflineminus">-</span>
<a href="#l8.391"></a><span id="l8.391" class="difflineminus">-  // UI button pressed</span>
<a href="#l8.392"></a><span id="l8.392" class="difflineminus">-  onCancel : function()</span>
<a href="#l8.393"></a><span id="l8.393" class="difflineminus">-  {</span>
<a href="#l8.394"></a><span id="l8.394" class="difflineminus">-    _show(&quot;mastervbox&quot;);</span>
<a href="#l8.395"></a><span id="l8.395" class="difflineminus">-    _hide(&quot;customfields-box&quot;);</span>
<a href="#l8.396"></a><span id="l8.396" class="difflineminus">-    gCustomFieldsDialog = null;</span>
<a href="#l8.397"></a><span id="l8.397" class="difflineminus">-    try {</span>
<a href="#l8.398"></a><span id="l8.398" class="difflineminus">-      this._cancelCallback();</span>
<a href="#l8.399"></a><span id="l8.399" class="difflineminus">-    } catch (e) {</span>
<a href="#l8.400"></a><span id="l8.400" class="difflineminus">-      // XXX TODO FIXME</span>
<a href="#l8.401"></a><span id="l8.401" class="difflineminus">-      alert(e.message); throw e;</span>
<a href="#l8.402"></a><span id="l8.402" class="difflineminus">-    }</span>
<a href="#l8.403"></a><span id="l8.403" class="difflineminus">-  },</span>
<a href="#l8.404"></a><span id="l8.404" class="difflineminus">-</span>
<a href="#l8.405"></a><span id="l8.405" class="difflineminus">-  // UI button pressed</span>
<a href="#l8.406"></a><span id="l8.406" class="difflineminus">-  onOK : function()</span>
<a href="#l8.407"></a><span id="l8.407" class="difflineminus">-  {</span>
<a href="#l8.408"></a><span id="l8.408" class="difflineminus">-    try {</span>
<a href="#l8.409"></a><span id="l8.409" class="difflineminus">-      var result = {};</span>
<a href="#l8.410"></a><span id="l8.410" class="difflineminus">-      for (var i = 0; i &lt; this._inputFields.length; i++)</span>
<a href="#l8.411"></a><span id="l8.411" class="difflineminus">-      {</span>
<a href="#l8.412"></a><span id="l8.412" class="difflineminus">-        let fieldid = this._inputFields[i].varname;</span>
<a href="#l8.413"></a><span id="l8.413" class="difflineminus">-        result[fieldid] = getElementById(&quot;customfield-value-&quot; + fieldid).value;</span>
<a href="#l8.414"></a><span id="l8.414" class="difflineminus">-</span>
<a href="#l8.415"></a><span id="l8.415" class="difflineminus">-        gEmailWizardLogger.info(&quot;User value for &quot; + fieldid + &quot; is &quot; + result[fieldid]);</span>
<a href="#l8.416"></a><span id="l8.416" class="difflineminus">-        if (!result[fieldid])</span>
<a href="#l8.417"></a><span id="l8.417" class="difflineminus">-        {</span>
<a href="#l8.418"></a><span id="l8.418" class="difflineminus">-          getElementById(&quot;customfields-error&quot;).textContent =</span>
<a href="#l8.419"></a><span id="l8.419" class="difflineminus">-            gStringsBundle.getString(&quot;customfields_empty.error&quot;);</span>
<a href="#l8.420"></a><span id="l8.420" class="difflineminus">-          return;</span>
<a href="#l8.421"></a><span id="l8.421" class="difflineminus">-        }</span>
<a href="#l8.422"></a><span id="l8.422" class="difflineminus">-      }</span>
<a href="#l8.423"></a><span id="l8.423" class="difflineminus">-</span>
<a href="#l8.424"></a><span id="l8.424" class="difflineminus">-      _show(&quot;mastervbox&quot;);</span>
<a href="#l8.425"></a><span id="l8.425" class="difflineminus">-      _hide(&quot;customfields-box&quot;);</span>
<a href="#l8.426"></a><span id="l8.426" class="difflineminus">-      gCustomFieldsDialog = null;</span>
<a href="#l8.427"></a><span id="l8.427" class="difflineminus">-</span>
<a href="#l8.428"></a><span id="l8.428" class="difflineminus">-      this._successCallback(result);</span>
<a href="#l8.429"></a><span id="l8.429" class="difflineminus">-</span>
<a href="#l8.430"></a><span id="l8.430" class="difflineminus">-    } catch (e) { alert(e.message); throw e; } // TODO alertPrompt()</span>
<a href="#l8.431"></a><span id="l8.431" class="difflineminus">-  }</span>
<a href="#l8.432"></a><span id="l8.432" class="difflineminus">-}</span>
<a href="#l8.433"></a><span id="l8.433" class="difflineminus">-</span>
<a href="#l8.434"></a><span id="l8.434" class="difflineminus">-var gCustomFieldsDialog = null;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/emailWizard.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/emailWizard.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -36,35 +36,35 @@</span>
<a href="#l9.4"></a><span id="l9.4">    - ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.7"></a><span id="l9.7"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/accountCreation.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9"> &lt;!DOCTYPE window [</span>
<a href="#l9.10"></a><span id="l9.10">   &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l9.11"></a><span id="l9.11">   %brandDTD;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-  &lt;!ENTITY % acDTD SYSTEM &quot;chrome://messenger/content/accountCreation.dtd&quot;&gt;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+  &lt;!ENTITY % acDTD SYSTEM &quot;chrome://messenger/locale/accountCreation.dtd&quot;&gt;</span>
<a href="#l9.14"></a><span id="l9.14">   %acDTD;</span>
<a href="#l9.15"></a><span id="l9.15"> ]&gt;</span>
<a href="#l9.16"></a><span id="l9.16"> </span>
<a href="#l9.17"></a><span id="l9.17"> &lt;window xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l9.18"></a><span id="l9.18">         id=&quot;autoconfigWizard&quot;</span>
<a href="#l9.19"></a><span id="l9.19">         windowtype=&quot;mail:autoconfig&quot;</span>
<a href="#l9.20"></a><span id="l9.20">         title=&quot;&amp;welcome.description;&quot;</span>
<a href="#l9.21"></a><span id="l9.21">         style=&quot;&amp;autoconfigWizard.style;&quot;</span>
<a href="#l9.22"></a><span id="l9.22">         onload=&quot;gEmailConfigWizard.onLoad();&quot;</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineminus">-        onkeydown=&quot;gEmailConfigWizard.onKeyDown()&quot;</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineplus">+        onkeypress=&quot;gEmailConfigWizard.onKeyDown(event)&quot;</span>
<a href="#l9.25"></a><span id="l9.25">         onclose=&quot;gEmailConfigWizard.onWizardShutdown();&quot;</span>
<a href="#l9.26"></a><span id="l9.26">         onunload=&quot;gEmailConfigWizard.onWizardShutdown();&quot;</span>
<a href="#l9.27"></a><span id="l9.27">         &gt;</span>
<a href="#l9.28"></a><span id="l9.28"> </span>
<a href="#l9.29"></a><span id="l9.29">   &lt;stringbundleset&gt;</span>
<a href="#l9.30"></a><span id="l9.30">     &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineminus">-    &lt;stringbundle id=&quot;strings&quot; src=&quot;chrome://messenger/content/accountCreation.properties&quot;/&gt;</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineminus">-    &lt;stringbundle id=&quot;utilstrings&quot; src=&quot;chrome://messenger/content/accountCreationUtil.properties&quot;/&gt;</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+    &lt;stringbundle id=&quot;strings&quot; src=&quot;chrome://messenger/locale/accountCreation.properties&quot;/&gt;</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+    &lt;stringbundle id=&quot;utilstrings&quot; src=&quot;chrome://messenger/locale/accountCreationUtil.properties&quot;/&gt;</span>
<a href="#l9.35"></a><span id="l9.35">   &lt;/stringbundleset&gt;</span>
<a href="#l9.36"></a><span id="l9.36">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l9.37"></a><span id="l9.37">           src=&quot;chrome://messenger/content/accountcreation/util.js&quot;/&gt;</span>
<a href="#l9.38"></a><span id="l9.38">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l9.39"></a><span id="l9.39">           src=&quot;chrome://messenger/content/accountcreation/accountConfig.js&quot;/&gt;</span>
<a href="#l9.40"></a><span id="l9.40">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l9.41"></a><span id="l9.41">           src=&quot;chrome://messenger/content/accountcreation/emailWizard.js&quot;/&gt;</span>
<a href="#l9.42"></a><span id="l9.42">   &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineat">@@ -88,26 +88,26 @@</span>
<a href="#l9.44"></a><span id="l9.44">     &lt;key keycode=&quot;VK_ESCAPE&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l9.45"></a><span id="l9.45">   &lt;/keyset&gt;</span>
<a href="#l9.46"></a><span id="l9.46"> </span>
<a href="#l9.47"></a><span id="l9.47">   &lt;panel id=&quot;insecureserver-cleartext-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l9.48"></a><span id="l9.48">     &lt;hbox&gt;</span>
<a href="#l9.49"></a><span id="l9.49">       &lt;image class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l9.50"></a><span id="l9.50">       &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l9.51"></a><span id="l9.51">         &lt;description class=&quot;title&quot;&gt;&amp;insecureServer.tooltip.title;&lt;/description&gt;</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineminus">-        &lt;description class=&quot;details&quot;&gt;&amp;insecureCleartext.description;&lt;/description&gt;</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+        &lt;description class=&quot;details&quot;&gt;&amp;insecureClearText.description;&lt;/description&gt;</span>
<a href="#l9.54"></a><span id="l9.54">       &lt;/vbox&gt;</span>
<a href="#l9.55"></a><span id="l9.55">     &lt;/hbox&gt;</span>
<a href="#l9.56"></a><span id="l9.56">   &lt;/panel&gt;</span>
<a href="#l9.57"></a><span id="l9.57">   &lt;panel id=&quot;insecureserver-selfsigned-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l9.58"></a><span id="l9.58">     &lt;hbox&gt;</span>
<a href="#l9.59"></a><span id="l9.59">       &lt;image class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l9.60"></a><span id="l9.60">       &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l9.61"></a><span id="l9.61">         &lt;description class=&quot;title&quot;&gt;&amp;insecureServer.tooltip.title;&lt;/description&gt;</span>
<a href="#l9.62"></a><span id="l9.62" class="difflineminus">-        &lt;description class=&quot;details&quot;&gt;&amp;insecureSelfsigned.description;&lt;/description&gt;</span>
<a href="#l9.63"></a><span id="l9.63" class="difflineplus">+        &lt;description class=&quot;details&quot;&gt;&amp;insecureSelfSigned.description;&lt;/description&gt;</span>
<a href="#l9.64"></a><span id="l9.64">       &lt;/vbox&gt;</span>
<a href="#l9.65"></a><span id="l9.65">     &lt;/hbox&gt;</span>
<a href="#l9.66"></a><span id="l9.66">   &lt;/panel&gt;</span>
<a href="#l9.67"></a><span id="l9.67">   &lt;panel id=&quot;secureserver-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l9.68"></a><span id="l9.68">     &lt;hbox&gt;</span>
<a href="#l9.69"></a><span id="l9.69">       &lt;image class=&quot;secureLarry&quot;/&gt;</span>
<a href="#l9.70"></a><span id="l9.70">       &lt;description class=&quot;title&quot;&gt;&amp;secureServer.description;&lt;/description&gt;</span>
<a href="#l9.71"></a><span id="l9.71">     &lt;/hbox&gt;</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineat">@@ -191,49 +191,56 @@</span>
<a href="#l9.73"></a><span id="l9.73">                 &lt;textbox id=&quot;password&quot;</span>
<a href="#l9.74"></a><span id="l9.74">                          class=&quot;padded&quot;</span>
<a href="#l9.75"></a><span id="l9.75">                          emptytext=&quot;&amp;password.description;&quot;</span>
<a href="#l9.76"></a><span id="l9.76">                          type=&quot;text&quot;</span>
<a href="#l9.77"></a><span id="l9.77">                          onfocus=&quot;this.type='password';&quot;</span>
<a href="#l9.78"></a><span id="l9.78">                          onblur=&quot;gEmailConfigWizard.onblurPassword();&quot;/&gt;</span>
<a href="#l9.79"></a><span id="l9.79">               &lt;/row&gt;</span>
<a href="#l9.80"></a><span id="l9.80">               &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.81"></a><span id="l9.81" class="difflineminus">-                &lt;checkbox id=&quot;remember_password&quot; label=&quot;&amp;rememberpassword.label;&quot; checked=&quot;true&quot;/&gt;</span>
<a href="#l9.82"></a><span id="l9.82" class="difflineplus">+                &lt;checkbox id=&quot;remember_password&quot;</span>
<a href="#l9.83"></a><span id="l9.83" class="difflineplus">+                          accesskey=&quot;&amp;rememberPassword.accesskey;&quot;</span>
<a href="#l9.84"></a><span id="l9.84" class="difflineplus">+                          label=&quot;&amp;rememberPassword.label;&quot; checked=&quot;true&quot;/&gt;</span>
<a href="#l9.85"></a><span id="l9.85">               &lt;/row&gt;</span>
<a href="#l9.86"></a><span id="l9.86">               &lt;row&gt;</span>
<a href="#l9.87"></a><span id="l9.87">                 &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l9.88"></a><span id="l9.88">                   &lt;button id=&quot;next_button&quot;</span>
<a href="#l9.89"></a><span id="l9.89">                           hidden=&quot;true&quot;</span>
<a href="#l9.90"></a><span id="l9.90">                           oncommand=&quot;gEmailConfigWizard.onNext();&quot;</span>
<a href="#l9.91"></a><span id="l9.91" class="difflineplus">+                          accesskey=&quot;&amp;next.accesskey;&quot;</span>
<a href="#l9.92"></a><span id="l9.92">                           label=&quot;&amp;next.label;&quot; class=&quot;larger-button&quot;/&gt;</span>
<a href="#l9.93"></a><span id="l9.93">                   &lt;button id=&quot;back_button&quot; class=&quot;smaller-button&quot;</span>
<a href="#l9.94"></a><span id="l9.94">                           oncommand=&quot;gEmailConfigWizard.onBack();&quot;</span>
<a href="#l9.95"></a><span id="l9.95" class="difflineplus">+                          accesskey=&quot;&amp;back.accesskey;&quot;</span>
<a href="#l9.96"></a><span id="l9.96">                           label=&quot;&amp;back.label;&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l9.97"></a><span id="l9.97">                 &lt;/hbox&gt;</span>
<a href="#l9.98"></a><span id="l9.98">               &lt;/row&gt;</span>
<a href="#l9.99"></a><span id="l9.99">             &lt;/rows&gt;</span>
<a href="#l9.100"></a><span id="l9.100">           &lt;/grid&gt;</span>
<a href="#l9.101"></a><span id="l9.101">           &lt;vbox&gt;</span>
<a href="#l9.102"></a><span id="l9.102">             &lt;groupbox id=&quot;settingsbox&quot; class=&quot;settings&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l9.103"></a><span id="l9.103">               &lt;vbox&gt;</span>
<a href="#l9.104"></a><span id="l9.104">                 &lt;vbox id=&quot;configarea&quot;&gt;</span>
<a href="#l9.105"></a><span id="l9.105">                   &lt;hbox&gt;</span>
<a href="#l9.106"></a><span id="l9.106">                     &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l9.107"></a><span id="l9.107">                       &lt;description id=&quot;config_status_title&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l9.108"></a><span id="l9.108">                     &lt;/hbox&gt;</span>
<a href="#l9.109"></a><span id="l9.109">                     &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l9.110"></a><span id="l9.110">                       &lt;button id=&quot;stop_button&quot;</span>
<a href="#l9.111"></a><span id="l9.111">                               oncommand=&quot;gEmailConfigWizard.onStop();&quot;</span>
<a href="#l9.112"></a><span id="l9.112" class="difflineplus">+                              accesskey=&quot;&amp;stop.accesskey;&quot;</span>
<a href="#l9.113"></a><span id="l9.113">                               label=&quot;&amp;stop.label;&quot; class=&quot;smaller-button&quot;/&gt;</span>
<a href="#l9.114"></a><span id="l9.114">                       &lt;button id=&quot;edit_button&quot;</span>
<a href="#l9.115"></a><span id="l9.115">                               oncommand=&quot;gEmailConfigWizard.onEdit();&quot;</span>
<a href="#l9.116"></a><span id="l9.116" class="difflineplus">+                              accesskey=&quot;&amp;edit.accesskey;&quot;</span>
<a href="#l9.117"></a><span id="l9.117">                               label=&quot;&amp;edit.label;&quot; class=&quot;smaller-button&quot;</span>
<a href="#l9.118"></a><span id="l9.118">                               hidden=&quot;true&quot;/&gt;</span>
<a href="#l9.119"></a><span id="l9.119">                       &lt;button id=&quot;go_button&quot;</span>
<a href="#l9.120"></a><span id="l9.120">                               oncommand=&quot;gEmailConfigWizard.onGo();&quot;</span>
<a href="#l9.121"></a><span id="l9.121" class="difflineplus">+                              accesskey=&quot;&amp;retest.accesskey;&quot;</span>
<a href="#l9.122"></a><span id="l9.122">                               label=&quot;&amp;retest.label;&quot; class=&quot;smaller-button&quot;</span>
<a href="#l9.123"></a><span id="l9.123">                               hidden=&quot;true&quot;/&gt;</span>
<a href="#l9.124"></a><span id="l9.124">                     &lt;/hbox&gt;</span>
<a href="#l9.125"></a><span id="l9.125">                   &lt;/hbox&gt;</span>
<a href="#l9.126"></a><span id="l9.126">                   &lt;hbox&gt;</span>
<a href="#l9.127"></a><span id="l9.127">                     &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l9.128"></a><span id="l9.128">                         &lt;description id=&quot;config_status_subtitle&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l9.129"></a><span id="l9.129">                     &lt;/hbox&gt;</span>
<a href="#l9.130"></a><span id="l9.130" class="difflineat">@@ -253,17 +260,17 @@</span>
<a href="#l9.131"></a><span id="l9.131">                     &lt;vbox class=&quot;statusimage&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l9.132"></a><span id="l9.132">                       &lt;textbox id=&quot;username&quot;</span>
<a href="#l9.133"></a><span id="l9.133">                                value=&quot;&quot;</span>
<a href="#l9.134"></a><span id="l9.134">                                disabled=&quot;true&quot;</span>
<a href="#l9.135"></a><span id="l9.135">                                class=&quot;username&quot;/&gt;</span>
<a href="#l9.136"></a><span id="l9.136">                   &lt;/hbox&gt;</span>
<a href="#l9.137"></a><span id="l9.137">                 &lt;/vbox&gt;</span>
<a href="#l9.138"></a><span id="l9.138">                 &lt;vbox id=&quot;incomingarea&quot;&gt;</span>
<a href="#l9.139"></a><span id="l9.139" class="difflineminus">-                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;receivingserver.label;&quot;</span>
<a href="#l9.140"></a><span id="l9.140" class="difflineplus">+                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;receivingServer.label;&quot;</span>
<a href="#l9.141"></a><span id="l9.141">                           control=&quot;incoming_server&quot;/&gt;</span>
<a href="#l9.142"></a><span id="l9.142">                   &lt;hbox&gt;</span>
<a href="#l9.143"></a><span id="l9.143">                     &lt;vbox id=&quot;incoming_status&quot; class=&quot;icon&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l9.144"></a><span id="l9.144">                     &lt;hbox&gt;</span>
<a href="#l9.145"></a><span id="l9.145">                       &lt;textbox id=&quot;incoming_server&quot;</span>
<a href="#l9.146"></a><span id="l9.146">                                value=&quot;&quot;</span>
<a href="#l9.147"></a><span id="l9.147">                                disabled=&quot;true&quot;</span>
<a href="#l9.148"></a><span id="l9.148">                                class=&quot;host uri-element&quot;/&gt;</span>
<a href="#l9.149"></a><span id="l9.149" class="difflineat">@@ -290,26 +297,26 @@</span>
<a href="#l9.150"></a><span id="l9.150">                                class=&quot;port&quot;/&gt;</span>
<a href="#l9.151"></a><span id="l9.151">                     &lt;/hbox&gt;</span>
<a href="#l9.152"></a><span id="l9.152">                     &lt;hbox&gt;</span>
<a href="#l9.153"></a><span id="l9.153">                       &lt;menulist id=&quot;incoming_security&quot;</span>
<a href="#l9.154"></a><span id="l9.154">                                 value=&quot;&quot;</span>
<a href="#l9.155"></a><span id="l9.155">                                 disabled=&quot;true&quot;</span>
<a href="#l9.156"></a><span id="l9.156">                                 class=&quot;security&quot;&gt;</span>
<a href="#l9.157"></a><span id="l9.157">                         &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('incoming_security')&quot;&gt;</span>
<a href="#l9.158"></a><span id="l9.158" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;noencryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l9.159"></a><span id="l9.159" class="difflineplus">+                          &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l9.160"></a><span id="l9.160">                           &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l9.161"></a><span id="l9.161" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;ssltls2.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l9.162"></a><span id="l9.162" class="difflineplus">+                          &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l9.163"></a><span id="l9.163">                         &lt;/menupopup&gt;</span>
<a href="#l9.164"></a><span id="l9.164">                       &lt;/menulist&gt;</span>
<a href="#l9.165"></a><span id="l9.165">                     &lt;/hbox&gt;</span>
<a href="#l9.166"></a><span id="l9.166">                   &lt;/hbox&gt;</span>
<a href="#l9.167"></a><span id="l9.167">                 &lt;/vbox&gt;</span>
<a href="#l9.168"></a><span id="l9.168">                 &lt;vbox id=&quot;outgoingarea&quot;&gt;</span>
<a href="#l9.169"></a><span id="l9.169" class="difflineminus">-                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;sendingserver.label;&quot;</span>
<a href="#l9.170"></a><span id="l9.170" class="difflineplus">+                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;sendingServer.label;&quot;</span>
<a href="#l9.171"></a><span id="l9.171">                           control=&quot;outgoing_server&quot;/&gt;</span>
<a href="#l9.172"></a><span id="l9.172">                   &lt;hbox&gt;</span>
<a href="#l9.173"></a><span id="l9.173">                     &lt;vbox id=&quot;outgoing_status&quot; class=&quot;icon&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l9.174"></a><span id="l9.174">                     &lt;hbox&gt;</span>
<a href="#l9.175"></a><span id="l9.175">                       &lt;menulist id=&quot;outgoing_server&quot;</span>
<a href="#l9.176"></a><span id="l9.176">                                 class=&quot;host uri-element&quot;</span>
<a href="#l9.177"></a><span id="l9.177">                                 disabled=&quot;false&quot;</span>
<a href="#l9.178"></a><span id="l9.178">                                 editable=&quot;true&quot; &gt;</span>
<a href="#l9.179"></a><span id="l9.179" class="difflineat">@@ -332,42 +339,43 @@</span>
<a href="#l9.180"></a><span id="l9.180">                                class=&quot;port&quot;/&gt;</span>
<a href="#l9.181"></a><span id="l9.181">                     &lt;/hbox&gt;</span>
<a href="#l9.182"></a><span id="l9.182">                     &lt;hbox&gt;</span>
<a href="#l9.183"></a><span id="l9.183">                       &lt;menulist id=&quot;outgoing_security&quot;</span>
<a href="#l9.184"></a><span id="l9.184">                                 value=&quot;&quot;</span>
<a href="#l9.185"></a><span id="l9.185">                                 disabled=&quot;true&quot;</span>
<a href="#l9.186"></a><span id="l9.186">                                 class=&quot;security&quot;&gt;</span>
<a href="#l9.187"></a><span id="l9.187">                         &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('outgoing_security')&quot;&gt;</span>
<a href="#l9.188"></a><span id="l9.188" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;noencryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l9.189"></a><span id="l9.189" class="difflineplus">+                          &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l9.190"></a><span id="l9.190">                           &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l9.191"></a><span id="l9.191" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;ssltls2.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l9.192"></a><span id="l9.192" class="difflineplus">+                          &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l9.193"></a><span id="l9.193">                         &lt;/menupopup&gt;</span>
<a href="#l9.194"></a><span id="l9.194">                       &lt;/menulist&gt;</span>
<a href="#l9.195"></a><span id="l9.195">                     &lt;/hbox&gt;</span>
<a href="#l9.196"></a><span id="l9.196">                   &lt;/hbox&gt;</span>
<a href="#l9.197"></a><span id="l9.197">                 &lt;/vbox&gt;</span>
<a href="#l9.198"></a><span id="l9.198">               &lt;/vbox&gt;</span>
<a href="#l9.199"></a><span id="l9.199">             &lt;/groupbox&gt;</span>
<a href="#l9.200"></a><span id="l9.200">           &lt;/vbox&gt;</span>
<a href="#l9.201"></a><span id="l9.201">         &lt;/row&gt;</span>
<a href="#l9.202"></a><span id="l9.202">       &lt;/rows&gt;</span>
<a href="#l9.203"></a><span id="l9.203">     &lt;/grid&gt;</span>
<a href="#l9.204"></a><span id="l9.204">     &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.205"></a><span id="l9.205">     &lt;hbox&gt;</span>
<a href="#l9.206"></a><span id="l9.206">       &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l9.207"></a><span id="l9.207">         &lt;button id=&quot;cancel_button&quot; label=&quot;&amp;cancel.label;&quot;</span>
<a href="#l9.208"></a><span id="l9.208">                 onmousedown=&quot;gEmailConfigWizard.onCancel();&quot;/&gt;</span>
<a href="#l9.209"></a><span id="l9.209" class="difflineminus">-        &lt;label id=&quot;advanced_settings&quot; value=&quot;&amp;gotoadvanced2.label;&quot;</span>
<a href="#l9.210"></a><span id="l9.210" class="difflineplus">+        &lt;label id=&quot;advanced_settings&quot; value=&quot;&amp;createAndEditSettings.label;&quot;</span>
<a href="#l9.211"></a><span id="l9.211">                onmousedown=&quot;gEmailConfigWizard.advancedSettings()&quot;</span>
<a href="#l9.212"></a><span id="l9.212">                hidden=&quot;true&quot; class=&quot;clickable_label&quot;/&gt;</span>
<a href="#l9.213"></a><span id="l9.213">       &lt;/hbox&gt;</span>
<a href="#l9.214"></a><span id="l9.214">       &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.215"></a><span id="l9.215">       &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l9.216"></a><span id="l9.216" class="difflineminus">-        &lt;button id=&quot;create_button&quot; label=&quot;&amp;createaccount.label;&quot;</span>
<a href="#l9.217"></a><span id="l9.217" class="difflineplus">+        &lt;button id=&quot;create_button&quot; label=&quot;&amp;createAccount.label;&quot;</span>
<a href="#l9.218"></a><span id="l9.218" class="difflineplus">+                accesskey=&quot;&amp;createAccount.accesskey;&quot;</span>
<a href="#l9.219"></a><span id="l9.219">                 onmousedown=&quot;gEmailConfigWizard.onOK();&quot;</span>
<a href="#l9.220"></a><span id="l9.220">                 hidden=&quot;true&quot; class=&quot;larger-button&quot;/&gt;</span>
<a href="#l9.221"></a><span id="l9.221">       &lt;/hbox&gt;</span>
<a href="#l9.222"></a><span id="l9.222">     &lt;/hbox&gt;</span>
<a href="#l9.223"></a><span id="l9.223">   &lt;/vbox&gt;</span>
<a href="#l9.224"></a><span id="l9.224"> </span>
<a href="#l9.225"></a><span id="l9.225"> </span>
<a href="#l9.226"></a><span id="l9.226">   &lt;vbox id=&quot;warningbox&quot; class=&quot;warningbox&quot; hidden=&quot;true&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l9.227"></a><span id="l9.227" class="difflineat">@@ -379,74 +387,48 @@</span>
<a href="#l9.228"></a><span id="l9.228">         &lt;vbox class=&quot;warning_text&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l9.229"></a><span id="l9.229">           &lt;label class=&quot;warning-heading&quot;&gt;&amp;warning.label;&lt;/label&gt;</span>
<a href="#l9.230"></a><span id="l9.230">           &lt;description id=&quot;warning_description&quot;/&gt;</span>
<a href="#l9.231"></a><span id="l9.231">           &lt;vbox id=&quot;incoming_box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l9.232"></a><span id="l9.232">             &lt;description id=&quot;warning_incoming&quot;/&gt;</span>
<a href="#l9.233"></a><span id="l9.233">             &lt;vbox class=&quot;settings&quot;&gt;</span>
<a href="#l9.234"></a><span id="l9.234">               &lt;description id=&quot;incoming_details&quot;/&gt;</span>
<a href="#l9.235"></a><span id="l9.235">               &lt;hbox&gt;</span>
<a href="#l9.236"></a><span id="l9.236" class="difflineminus">-                &lt;label value=&quot;&amp;incoming_settings.label;&quot;/&gt;&lt;label id=&quot;incoming_settings&quot;/&gt;</span>
<a href="#l9.237"></a><span id="l9.237" class="difflineplus">+                &lt;label value=&quot;&amp;incomingSettings.label;&quot;/&gt;&lt;label id=&quot;incomingSettings&quot;/&gt;</span>
<a href="#l9.238"></a><span id="l9.238">               &lt;/hbox&gt;</span>
<a href="#l9.239"></a><span id="l9.239">               &lt;checkbox id=&quot;acknowledge_incoming&quot;</span>
<a href="#l9.240"></a><span id="l9.240">                         class=&quot;acknowledge_checkbox&quot;</span>
<a href="#l9.241"></a><span id="l9.241" class="difflineminus">-                        label=&quot;&amp;incoming_is_checked2.label;&quot;</span>
<a href="#l9.242"></a><span id="l9.242" class="difflineplus">+                        label=&quot;&amp;confirmIncomingWarning.label;&quot;</span>
<a href="#l9.243"></a><span id="l9.243" class="difflineplus">+                        accesskey=&quot;&amp;confirmIncomingWarning.accesskey;&quot;</span>
<a href="#l9.244"></a><span id="l9.244">                         oncommand=&quot;gEmailConfigWizard.toggleAcknowledgeIncoming()&quot;/&gt;</span>
<a href="#l9.245"></a><span id="l9.245">             &lt;/vbox&gt;</span>
<a href="#l9.246"></a><span id="l9.246">           &lt;/vbox&gt;</span>
<a href="#l9.247"></a><span id="l9.247">           &lt;vbox id=&quot;outgoing_box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l9.248"></a><span id="l9.248">             &lt;description id=&quot;warning_outgoing&quot;/&gt;</span>
<a href="#l9.249"></a><span id="l9.249">             &lt;vbox class=&quot;settings&quot;&gt;</span>
<a href="#l9.250"></a><span id="l9.250">               &lt;description id=&quot;outgoing_details&quot;/&gt;</span>
<a href="#l9.251"></a><span id="l9.251">               &lt;hbox&gt;</span>
<a href="#l9.252"></a><span id="l9.252" class="difflineminus">-                &lt;label value=&quot;&amp;outgoing_settings.label;&quot;/&gt;&lt;label id=&quot;outgoing_settings&quot;/&gt;</span>
<a href="#l9.253"></a><span id="l9.253" class="difflineplus">+                &lt;label value=&quot;&amp;outgoingSettings.label;&quot;/&gt;&lt;label id=&quot;outgoingSettings&quot;/&gt;</span>
<a href="#l9.254"></a><span id="l9.254">               &lt;/hbox&gt;</span>
<a href="#l9.255"></a><span id="l9.255">               &lt;checkbox id=&quot;acknowledge_outgoing&quot;</span>
<a href="#l9.256"></a><span id="l9.256">                         class=&quot;acknowledge_checkbox&quot;</span>
<a href="#l9.257"></a><span id="l9.257" class="difflineminus">-                        label=&quot;&amp;outgoing_is_checked2.label;&quot;</span>
<a href="#l9.258"></a><span id="l9.258" class="difflineplus">+                        label=&quot;&amp;confirmOutgoingWarning.label;&quot;</span>
<a href="#l9.259"></a><span id="l9.259" class="difflineplus">+                        accesskey=&quot;&amp;confirmOutgoingWarning.accesskey;&quot;</span>
<a href="#l9.260"></a><span id="l9.260">                         oncommand=&quot;gEmailConfigWizard.toggleAcknowledgeOutgoing()&quot;/&gt;</span>
<a href="#l9.261"></a><span id="l9.261">             &lt;/vbox&gt;</span>
<a href="#l9.262"></a><span id="l9.262">           &lt;/vbox&gt;</span>
<a href="#l9.263"></a><span id="l9.263">           &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.264"></a><span id="l9.264" class="difflineminus">-          &lt;description id=&quot;findoutmore&quot;&gt;&amp;lectureYourProvider2.description;&lt;/description&gt;</span>
<a href="#l9.265"></a><span id="l9.265" class="difflineplus">+          &lt;description id=&quot;findoutmore&quot;&gt;&amp;contactYourProvider.description;&lt;/description&gt;</span>
<a href="#l9.266"></a><span id="l9.266">         &lt;/vbox&gt;</span>
<a href="#l9.267"></a><span id="l9.267">         &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.268"></a><span id="l9.268">         &lt;hbox&gt;</span>
<a href="#l9.269"></a><span id="l9.269" class="difflineminus">-          &lt;button id=&quot;getmeoutofhere&quot; label=&quot;&amp;getmeout2.label;&quot; oncommand=&quot;gEmailConfigWizard.getMeOutOfHere()&quot;/&gt;</span>
<a href="#l9.270"></a><span id="l9.270" class="difflineplus">+          &lt;button id=&quot;getmeoutofhere&quot; label=&quot;&amp;changeSettings.label;&quot;</span>
<a href="#l9.271"></a><span id="l9.271" class="difflineplus">+                  accesskey=&quot;&amp;changeSettings.accesskey;&quot;</span>
<a href="#l9.272"></a><span id="l9.272" class="difflineplus">+                  oncommand=&quot;gEmailConfigWizard.getMeOutOfHere()&quot;/&gt;</span>
<a href="#l9.273"></a><span id="l9.273">           &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.274"></a><span id="l9.274" class="difflineminus">-          &lt;button id=&quot;iknow&quot; label=&quot;&amp;understood2.label;&quot; disabled=&quot;true&quot; oncommand=&quot;gEmailConfigWizard.validateAndFinish()&quot;/&gt;</span>
<a href="#l9.275"></a><span id="l9.275" class="difflineplus">+          &lt;button id=&quot;iknow&quot; label=&quot;&amp;createAccount.label;&quot; disabled=&quot;true&quot;</span>
<a href="#l9.276"></a><span id="l9.276" class="difflineplus">+                  accesskey=&quot;&amp;createAccount.accesskey;&quot;</span>
<a href="#l9.277"></a><span id="l9.277" class="difflineplus">+                  oncommand=&quot;gEmailConfigWizard.validateAndFinish()&quot;/&gt;</span>
<a href="#l9.278"></a><span id="l9.278">         &lt;/hbox&gt;</span>
<a href="#l9.279"></a><span id="l9.279">       &lt;/vbox&gt;</span>
<a href="#l9.280"></a><span id="l9.280">     &lt;/hbox&gt;</span>
<a href="#l9.281"></a><span id="l9.281">   &lt;/vbox&gt;</span>
<a href="#l9.282"></a><span id="l9.282" class="difflineminus">-</span>
<a href="#l9.283"></a><span id="l9.283" class="difflineminus">-</span>
<a href="#l9.284"></a><span id="l9.284" class="difflineminus">-  &lt;vbox id=&quot;customfields-box&quot; hidden=&quot;true&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l9.285"></a><span id="l9.285" class="difflineminus">-    &lt;description class=&quot;header&quot;&gt;&amp;customfields-header.label;&lt;/description&gt;</span>
<a href="#l9.286"></a><span id="l9.286" class="difflineminus">-    &lt;description class=&quot;intro&quot;&gt;&amp;customfields-intro1.descr;&lt;/description&gt;</span>
<a href="#l9.287"></a><span id="l9.287" class="difflineminus">-    &lt;description class=&quot;intro&quot;&gt;&amp;customfields-intro2.descr;&lt;/description&gt;</span>
<a href="#l9.288"></a><span id="l9.288" class="difflineminus">-    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.289"></a><span id="l9.289" class="difflineminus">-    &lt;grid&gt;</span>
<a href="#l9.290"></a><span id="l9.290" class="difflineminus">-      &lt;columns&gt;</span>
<a href="#l9.291"></a><span id="l9.291" class="difflineminus">-        &lt;column/&gt;</span>
<a href="#l9.292"></a><span id="l9.292" class="difflineminus">-        &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l9.293"></a><span id="l9.293" class="difflineminus">-        &lt;column/&gt;</span>
<a href="#l9.294"></a><span id="l9.294" class="difflineminus">-      &lt;/columns&gt;</span>
<a href="#l9.295"></a><span id="l9.295" class="difflineminus">-      &lt;rows id=&quot;customfields-rows&quot;&gt;</span>
<a href="#l9.296"></a><span id="l9.296" class="difflineminus">-        &lt;!-- Generated N times by JS via DOM:</span>
<a href="#l9.297"></a><span id="l9.297" class="difflineminus">-        &lt;row align=&quot;top&quot;&gt;</span>
<a href="#l9.298"></a><span id="l9.298" class="difflineminus">-          &lt;description class=&quot;customfield-label&quot;&gt;Text from config file&lt;/description&gt;</span>
<a href="#l9.299"></a><span id="l9.299" class="difflineminus">-          &lt;textfield id=&quot;customfields-value-FIELDID&quot; class=&quot;customfield-value&quot; value=&quot;Default from config file&quot;/&gt;</span>
<a href="#l9.300"></a><span id="l9.300" class="difflineminus">-          &lt;label class=&quot;customfield-example&quot; value=&quot;Example value from config file&quot;/&gt;</span>
<a href="#l9.301"></a><span id="l9.301" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l9.302"></a><span id="l9.302" class="difflineminus">-        --&gt;</span>
<a href="#l9.303"></a><span id="l9.303" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l9.304"></a><span id="l9.304" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l9.305"></a><span id="l9.305" class="difflineminus">-    &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.306"></a><span id="l9.306" class="difflineminus">-    &lt;description id=&quot;customfields-error&quot; class=&quot;errordescription&quot;/&gt;</span>
<a href="#l9.307"></a><span id="l9.307" class="difflineminus">-    &lt;spacer/&gt;</span>
<a href="#l9.308"></a><span id="l9.308" class="difflineminus">-    &lt;hbox&gt;</span>
<a href="#l9.309"></a><span id="l9.309" class="difflineminus">-        &lt;button label=&quot;&amp;customfields-cancel.label;&quot; oncommand=&quot;gCustomFieldsDialog.onCancel();&quot;/&gt;</span>
<a href="#l9.310"></a><span id="l9.310" class="difflineminus">-        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l9.311"></a><span id="l9.311" class="difflineminus">-        &lt;button label=&quot;&amp;customfields-ok.label;&quot; oncommand=&quot;gCustomFieldsDialog.onOK();&quot;/&gt;</span>
<a href="#l9.312"></a><span id="l9.312" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l9.313"></a><span id="l9.313" class="difflineminus">-  &lt;/vbox&gt;</span>
<a href="#l9.314"></a><span id="l9.314"> &lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/fetchhttp.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/fetchhttp.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -178,32 +178,32 @@ FetchHTTP.prototype =</span>
<a href="#l10.4"></a><span id="l10.4">           //ddump(&quot;mimetype: &quot; + mimetype + &quot; only supported as text&quot;);</span>
<a href="#l10.5"></a><span id="l10.5">           this.result = this._request.responseText;</span>
<a href="#l10.6"></a><span id="l10.6">         }</span>
<a href="#l10.7"></a><span id="l10.7">         //ddump(&quot;result:\n&quot; + this.result);</span>
<a href="#l10.8"></a><span id="l10.8">       }</span>
<a href="#l10.9"></a><span id="l10.9">       catch (e)</span>
<a href="#l10.10"></a><span id="l10.10">       {</span>
<a href="#l10.11"></a><span id="l10.11">         success = false;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-        let stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationUtil.properties&quot;);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+        let stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationUtil.properties&quot;);</span>
<a href="#l10.14"></a><span id="l10.14">         errorStr = stringBundle.GetStringFromName(&quot;bad_response_content.error&quot;);</span>
<a href="#l10.15"></a><span id="l10.15">         errorCode = -4;</span>
<a href="#l10.16"></a><span id="l10.16">       }</span>
<a href="#l10.17"></a><span id="l10.17">     }</span>
<a href="#l10.18"></a><span id="l10.18">     else</span>
<a href="#l10.19"></a><span id="l10.19">     {</span>
<a href="#l10.20"></a><span id="l10.20">       success = false;</span>
<a href="#l10.21"></a><span id="l10.21">       try</span>
<a href="#l10.22"></a><span id="l10.22">       {</span>
<a href="#l10.23"></a><span id="l10.23">         errorCode = this._request.status;</span>
<a href="#l10.24"></a><span id="l10.24">         errorStr = this._request.statusText;</span>
<a href="#l10.25"></a><span id="l10.25">       } catch (e) {</span>
<a href="#l10.26"></a><span id="l10.26">         // If we can't resolve the hostname in DNS etc., .statusText throws</span>
<a href="#l10.27"></a><span id="l10.27">         errorCode = -2;</span>
<a href="#l10.28"></a><span id="l10.28" class="difflineminus">-        let stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationUtil.properties&quot;)</span>
<a href="#l10.29"></a><span id="l10.29" class="difflineplus">+        let stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationUtil.properties&quot;)</span>
<a href="#l10.30"></a><span id="l10.30">         errorStr = stringBundle.GetStringFromName(&quot;cannot_contact_server.error&quot;);</span>
<a href="#l10.31"></a><span id="l10.31">         ddump(errorStr);</span>
<a href="#l10.32"></a><span id="l10.32">       }</span>
<a href="#l10.33"></a><span id="l10.33">     }</span>
<a href="#l10.34"></a><span id="l10.34"> </span>
<a href="#l10.35"></a><span id="l10.35">     // Callbacks</span>
<a href="#l10.36"></a><span id="l10.36">     if (success)</span>
<a href="#l10.37"></a><span id="l10.37">       this._successCallback(this.result);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/guessConfig.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/guessConfig.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -387,17 +387,17 @@ HostDetector.prototype =</span>
<a href="#l11.4"></a><span id="l11.4">   {</span>
<a href="#l11.5"></a><span id="l11.5">     if (this._cancel)</span>
<a href="#l11.6"></a><span id="l11.6">       return;</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8">     if (this._hostIndex &gt;= this._hostsToTry.length)</span>
<a href="#l11.9"></a><span id="l11.9">     {</span>
<a href="#l11.10"></a><span id="l11.10">       // Ran out of options.</span>
<a href="#l11.11"></a><span id="l11.11">       this._log.info(&quot;ran out of hosts&quot;);</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-      var stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationModel.properties&quot;);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+      var stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationModel.properties&quot;);</span>
<a href="#l11.14"></a><span id="l11.14">       var errorMsg = stringBundle.GetStringFromName(&quot;cannot_find_server.error&quot;);</span>
<a href="#l11.15"></a><span id="l11.15">       this.mErrorCallback(new Exception(errorMsg));</span>
<a href="#l11.16"></a><span id="l11.16">       return;</span>
<a href="#l11.17"></a><span id="l11.17">     }</span>
<a href="#l11.18"></a><span id="l11.18">     this._host = this._hostsToTry[this._hostIndex++];</span>
<a href="#l11.19"></a><span id="l11.19">     this._log.info(&quot;hostname: &quot; + this._host);</span>
<a href="#l11.20"></a><span id="l11.20">     this._tryHost();</span>
<a href="#l11.21"></a><span id="l11.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/readFromXML.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/readFromXML.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -48,17 +48,17 @@</span>
<a href="#l12.4"></a><span id="l12.4">  *</span>
<a href="#l12.5"></a><span id="l12.5">  * @param clientConfigXML {E4X}  The &lt;clientConfig&gt; node.</span>
<a href="#l12.6"></a><span id="l12.6">  * @return AccountConfig   object filled with the data from XML</span>
<a href="#l12.7"></a><span id="l12.7">  */</span>
<a href="#l12.8"></a><span id="l12.8"> function readFromXML(clientConfigXML)</span>
<a href="#l12.9"></a><span id="l12.9"> {</span>
<a href="#l12.10"></a><span id="l12.10">   if (!&quot;emailProvider&quot; in clientConfigXML)</span>
<a href="#l12.11"></a><span id="l12.11">   {</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    var stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationModel.properties&quot;);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+    var stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationModel.properties&quot;);</span>
<a href="#l12.14"></a><span id="l12.14">     throw stringBundle.GetStringFromName(&quot;no_emailProvider.error&quot;);</span>
<a href="#l12.15"></a><span id="l12.15">   }</span>
<a href="#l12.16"></a><span id="l12.16">   var xml = clientConfigXML.emailProvider;</span>
<a href="#l12.17"></a><span id="l12.17"> </span>
<a href="#l12.18"></a><span id="l12.18">   var d = new AccountConfig();</span>
<a href="#l12.19"></a><span id="l12.19">   d.source = AccountConfig.kSourceXML;</span>
<a href="#l12.20"></a><span id="l12.20"> </span>
<a href="#l12.21"></a><span id="l12.21">   d.id = sanitize.alphanumdash(xml.id);</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineat">@@ -84,17 +84,17 @@ function readFromXML(clientConfigXML)</span>
<a href="#l12.23"></a><span id="l12.23">       iO.daysToLeaveMessagesOnServer = iX.pop3.daysToLeaveMessagesOnServer;</span>
<a href="#l12.24"></a><span id="l12.24">   }</span>
<a href="#l12.25"></a><span id="l12.25"> </span>
<a href="#l12.26"></a><span id="l12.26">   // outgoing server</span>
<a href="#l12.27"></a><span id="l12.27">   var oX = xml.outgoingServer; // input (XML)</span>
<a href="#l12.28"></a><span id="l12.28">   var oO = d.outgoing; // output (object)</span>
<a href="#l12.29"></a><span id="l12.29">   if (!(oX.@type == &quot;smtp&quot;))</span>
<a href="#l12.30"></a><span id="l12.30">   {</span>
<a href="#l12.31"></a><span id="l12.31" class="difflineminus">-    var stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationModel.properties&quot;);</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineplus">+    var stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationModel.properties&quot;);</span>
<a href="#l12.33"></a><span id="l12.33">     throw stringBundle.GetStringFromName(&quot;outgoing_not_smtp.error&quot;);</span>
<a href="#l12.34"></a><span id="l12.34">   }</span>
<a href="#l12.35"></a><span id="l12.35">   oO.hostname = sanitize.hostname(oX.hostname);</span>
<a href="#l12.36"></a><span id="l12.36">   oO.port = sanitize.integerRange(oX.port, 1, 65535);</span>
<a href="#l12.37"></a><span id="l12.37">   if (&quot;username&quot; in oX)</span>
<a href="#l12.38"></a><span id="l12.38">     oO.username = sanitize.string(oX.username);</span>
<a href="#l12.39"></a><span id="l12.39"> </span>
<a href="#l12.40"></a><span id="l12.40">   oO.socketType = sanitize.translate(oX.socketType,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/sanitizeDatatypes.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -164,17 +164,17 @@ var sanitize =</span>
<a href="#l13.4"></a><span id="l13.4"> </span>
<a href="#l13.5"></a><span id="l13.5">   enum : function(unchecked, allowedValues)</span>
<a href="#l13.6"></a><span id="l13.6">   {</span>
<a href="#l13.7"></a><span id="l13.7">     for each (var allowedValue in allowedValues)</span>
<a href="#l13.8"></a><span id="l13.8">     {</span>
<a href="#l13.9"></a><span id="l13.9">       if (allowedValue == unchecked)</span>
<a href="#l13.10"></a><span id="l13.10">         return allowedValue;</span>
<a href="#l13.11"></a><span id="l13.11">     }</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-    throw new MalformedException(&quot;enum_value2.error&quot;, unchecked);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+    throw new MalformedException(&quot;allowed_value.error&quot;, unchecked);</span>
<a href="#l13.14"></a><span id="l13.14">   },</span>
<a href="#l13.15"></a><span id="l13.15"> </span>
<a href="#l13.16"></a><span id="l13.16">   /**</span>
<a href="#l13.17"></a><span id="l13.17">    * Like enum, allows only certain (string) values as input, but allows the</span>
<a href="#l13.18"></a><span id="l13.18">    * caller to specify another value to return instead of the input value. E.g.,</span>
<a href="#l13.19"></a><span id="l13.19">    * if unchecked == &quot;foo&quot;, return 1, if unchecked == &quot;bar&quot;, return 2,</span>
<a href="#l13.20"></a><span id="l13.20">    * otherwise throw. This allows to translate string enums into integer enums.</span>
<a href="#l13.21"></a><span id="l13.21">    *</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -185,20 +185,20 @@ var sanitize =</span>
<a href="#l13.23"></a><span id="l13.23">    */</span>
<a href="#l13.24"></a><span id="l13.24">   translate : function(unchecked, mapping)</span>
<a href="#l13.25"></a><span id="l13.25">   {</span>
<a href="#l13.26"></a><span id="l13.26">     for (var inputValue in mapping)</span>
<a href="#l13.27"></a><span id="l13.27">     {</span>
<a href="#l13.28"></a><span id="l13.28">       if (inputValue == unchecked)</span>
<a href="#l13.29"></a><span id="l13.29">         return mapping[inputValue];</span>
<a href="#l13.30"></a><span id="l13.30">     }</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-    throw new MalformedException(&quot;enum_value2.error&quot;, unchecked);</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+    throw new MalformedException(&quot;allowed_value.error&quot;, unchecked);</span>
<a href="#l13.33"></a><span id="l13.33">   }</span>
<a href="#l13.34"></a><span id="l13.34"> };</span>
<a href="#l13.35"></a><span id="l13.35"> </span>
<a href="#l13.36"></a><span id="l13.36"> function MalformedException(msgID, uncheckedBadValue)</span>
<a href="#l13.37"></a><span id="l13.37"> {</span>
<a href="#l13.38"></a><span id="l13.38" class="difflineminus">-  var stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationUtil.properties&quot;);</span>
<a href="#l13.39"></a><span id="l13.39" class="difflineplus">+  var stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationUtil.properties&quot;);</span>
<a href="#l13.40"></a><span id="l13.40">   this._message = stringBundle.GetStringFromName(msgID);</span>
<a href="#l13.41"></a><span id="l13.41">   if (kDebug)</span>
<a href="#l13.42"></a><span id="l13.42">     this._message += &quot; (bad value: &quot; + new String(uncheckedBadValue) + &quot;)&quot;;</span>
<a href="#l13.43"></a><span id="l13.43"> }</span>
<a href="#l13.44"></a><span id="l13.44"> extend(MalformedException, Exception);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/verifyConfig.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/verifyConfig.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -156,17 +156,17 @@ urlListener.prototype =</span>
<a href="#l14.4"></a><span id="l14.4">     {</span>
<a href="#l14.5"></a><span id="l14.5">       this._cleanup();</span>
<a href="#l14.6"></a><span id="l14.6">       this.mSuccessCallback();</span>
<a href="#l14.7"></a><span id="l14.7">     }</span>
<a href="#l14.8"></a><span id="l14.8">     // Logon failed, and we aren't supposed to try other variations.</span>
<a href="#l14.9"></a><span id="l14.9">     else if (!this.mAlter)</span>
<a href="#l14.10"></a><span id="l14.10">     {</span>
<a href="#l14.11"></a><span id="l14.11">       this._cleanup();</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-      var stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationModel.properties&quot;);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+      var stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationModel.properties&quot;);</span>
<a href="#l14.14"></a><span id="l14.14">       var errorMsg = stringBundle.GetStringFromName(&quot;cannot_login.error&quot;);</span>
<a href="#l14.15"></a><span id="l14.15">       this.mErrorCallback(new Exception(errorMsg));</span>
<a href="#l14.16"></a><span id="l14.16">     }</span>
<a href="#l14.17"></a><span id="l14.17">     // Try other variations, unless there's a cert error, in which</span>
<a href="#l14.18"></a><span id="l14.18">     // case we'll see what the user chooses.</span>
<a href="#l14.19"></a><span id="l14.19">     else if (!this.mCertError)</span>
<a href="#l14.20"></a><span id="l14.20">     {</span>
<a href="#l14.21"></a><span id="l14.21">       ddump(&quot;trying next logon\n&quot;);</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineat">@@ -197,17 +197,17 @@ urlListener.prototype =</span>
<a href="#l14.23"></a><span id="l14.23">       this.mServer.password = this.mConfig.incoming.password;</span>
<a href="#l14.24"></a><span id="l14.24">       verifyLogon(this.mConfig, this.mServer, this.mAlter, this.mMsgWindow,</span>
<a href="#l14.25"></a><span id="l14.25">                   this.mSuccessCallback, this.mErrorCallback);</span>
<a href="#l14.26"></a><span id="l14.26">     }</span>
<a href="#l14.27"></a><span id="l14.27">     else</span>
<a href="#l14.28"></a><span id="l14.28">     {</span>
<a href="#l14.29"></a><span id="l14.29">       // Tried all variations we can. Give up.</span>
<a href="#l14.30"></a><span id="l14.30">       this._cleanup();</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineminus">-      let stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationModel.properties&quot;);</span>
<a href="#l14.32"></a><span id="l14.32" class="difflineplus">+      let stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationModel.properties&quot;);</span>
<a href="#l14.33"></a><span id="l14.33">       let errorMsg = stringBundle.GetStringFromName(&quot;cannot_login.error&quot;);</span>
<a href="#l14.34"></a><span id="l14.34">       this.mErrorCallback(new Exception(errorMsg));</span>
<a href="#l14.35"></a><span id="l14.35">     }</span>
<a href="#l14.36"></a><span id="l14.36">   },</span>
<a href="#l14.37"></a><span id="l14.37"> </span>
<a href="#l14.38"></a><span id="l14.38">   _cleanup : function()</span>
<a href="#l14.39"></a><span id="l14.39">   {</span>
<a href="#l14.40"></a><span id="l14.40">     // Avoid pref pollution, clear out server prefs.</span>
<a href="#l14.41"></a><span id="l14.41" class="difflineat">@@ -234,17 +234,17 @@ urlListener.prototype =</span>
<a href="#l14.42"></a><span id="l14.42">     params.prefetchCert = true;</span>
<a href="#l14.43"></a><span id="l14.43">     params.location = targetSite;</span>
<a href="#l14.44"></a><span id="l14.44">     window.openDialog(&quot;chrome://pippki/content/exceptionDialog.xul&quot;,</span>
<a href="#l14.45"></a><span id="l14.45">                       &quot;&quot;,&quot;chrome,centerscreen,modal&quot;, params);</span>
<a href="#l14.46"></a><span id="l14.46">     ddump(&quot;after exception dialog\n&quot;);</span>
<a href="#l14.47"></a><span id="l14.47">     ddump(&quot;exceptionAdded = &quot; + params.exceptionAdded + &quot;\n&quot;);</span>
<a href="#l14.48"></a><span id="l14.48">     if (!params.exceptionAdded) {</span>
<a href="#l14.49"></a><span id="l14.49">       self._cleanup();</span>
<a href="#l14.50"></a><span id="l14.50" class="difflineminus">-      let stringBundle = getStringBundle(&quot;chrome://messenger/content/accountCreationModel.properties&quot;);</span>
<a href="#l14.51"></a><span id="l14.51" class="difflineplus">+      let stringBundle = getStringBundle(&quot;chrome://messenger/locale/accountCreationModel.properties&quot;);</span>
<a href="#l14.52"></a><span id="l14.52">       let errorMsg = stringBundle.GetStringFromName(&quot;cannot_login.error&quot;);</span>
<a href="#l14.53"></a><span id="l14.53">       self.mErrorCallback(new Exception(errorMsg));</span>
<a href="#l14.54"></a><span id="l14.54">     }</span>
<a href="#l14.55"></a><span id="l14.55">     else {</span>
<a href="#l14.56"></a><span id="l14.56">       // Retry the logon now that we've added the cert exception.</span>
<a href="#l14.57"></a><span id="l14.57">       verifyLogon(self.mConfig, self.mServer, self.mAlter, self.mMsgWindow,</span>
<a href="#l14.58"></a><span id="l14.58">                   self.mSuccessCallback, self.mErrorCallback);</span>
<a href="#l14.59"></a><span id="l14.59">     }</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

