<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 28635:16c59c865c4511b5946dc4e9ea0a006ee7bdc818</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 16c59c865c4511b5946dc4e9ea0a006ee7bdc818" />
<meta property="og:url" content="/comm-central/rev/16c59c865c4511b5946dc4e9ea0a006ee7bdc818" />
<meta property="og:description" content="Bug 1574409 - Use Firefox's mozconfig.cache for Thunderbird. r=darktrojan" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 16c59c865c4511b5946dc4e9ea0a006ee7bdc818 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/16c59c865c4511b5946dc4e9ea0a006ee7bdc818">shortlog</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/16c59c865c4511b5946dc4e9ea0a006ee7bdc818">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818">files</a> |
changeset |
<a href="/comm-central/raw-rev/16c59c865c4511b5946dc4e9ea0a006ee7bdc818">raw</a>  | <a href="/comm-central/archive/16c59c865c4511b5946dc4e9ea0a006ee7bdc818.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1574409">Bug 1574409</a> - Use Firefox's mozconfig.cache for Thunderbird. r=darktrojan
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#111;&#98;&#32;&#76;&#101;&#109;&#108;&#101;&#121;&#32;&#60;&#114;&#111;&#98;&#64;&#116;&#104;&#117;&#110;&#100;&#101;&#114;&#98;&#105;&#114;&#100;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 16 Aug 2019 03:15:46 -0400</td></tr>

<tr>
 <td>changeset 28635</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/16c59c865c4511b5946dc4e9ea0a006ee7bdc818">16c59c865c4511b5946dc4e9ea0a006ee7bdc818</a></td>
</tr>



<tr>
<td>parent 28634</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f201f7fc40eab87573031adcf72824f4dca45d7f">f201f7fc40eab87573031adcf72824f4dca45d7f</a>
</td>
</tr>

<tr>
<td>child 28636</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f66abf60532e01c159c5c35e257b93e24e54e89f">f66abf60532e01c159c5c35e257b93e24e54e89f</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=16c59c865c4511b5946dc4e9ea0a006ee7bdc818">16973</a></td></tr>
<tr><td>push user</td><td>geoff@darktrojan.net</td></tr>
<tr><td>push date</td><td class="date age">Sun, 02 Feb 2020 22:02:12 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@f1815f2e593f [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f1815f2e593f40fedabbf45da7dbab12c9373254">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f1815f2e593f40fedabbf45da7dbab12c9373254&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f1815f2e593f40fedabbf45da7dbab12c9373254&newProject=comm-central&newRevision=16c59c865c4511b5946dc4e9ea0a006ee7bdc818&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f1815f2e593f40fedabbf45da7dbab12c9373254&newProject=comm-central&newRevision=16c59c865c4511b5946dc4e9ea0a006ee7bdc818&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f1815f2e593f40fedabbf45da7dbab12c9373254&newProject=comm-central&newRevision=16c59c865c4511b5946dc4e9ea0a006ee7bdc818&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28darktrojan%29&revcount=50">darktrojan</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1574409">1574409</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1574409">Bug 1574409</a> - Use Firefox's mozconfig.cache for Thunderbird. r=darktrojan

This goes with a change to Firefox's build/mozconfig.cache to use a prefix
variable when setting up Sccache buckets on AWS. This will eliminate code
duplication which has caused broken builds in the past.
Thunderbird builds only run on AWS currently so GCP configuration is not
needed.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.comm-sccache">build/mozconfig.comm-sccache</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.comm-sccache">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.comm-sccache">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.comm-sccache">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.comm-sccache">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.comm-sccache">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.sccache">build/mozconfig.sccache</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.sccache">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.sccache">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/build/mozconfig.sccache">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/debug">mail/config/mozconfigs/linux32/debug</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/debug">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/debug">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/debug">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/debug">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/debug">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/nightly">mail/config/mozconfigs/linux32/nightly</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/nightly">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/nightly">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/nightly">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/nightly">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux32/nightly">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/debug">mail/config/mozconfigs/linux64/debug</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/debug">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/debug">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/debug">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/debug">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/debug">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/nightly">mail/config/mozconfigs/linux64/nightly</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/nightly">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/nightly">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/nightly">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/nightly">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/linux64/nightly">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/debug">mail/config/mozconfigs/macosx64/debug</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/debug">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/debug">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/debug">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/debug">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/debug">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/nightly">mail/config/mozconfigs/macosx64/nightly</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/nightly">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/nightly">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/nightly">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/nightly">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/macosx64/nightly">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/debug">mail/config/mozconfigs/win32/debug</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/debug">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/debug">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/debug">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/debug">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/debug">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/nightly">mail/config/mozconfigs/win32/nightly</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/nightly">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/nightly">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/nightly">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/nightly">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win32/nightly">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/debug">mail/config/mozconfigs/win64/debug</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/debug">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/debug">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/debug">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/debug">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/debug">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/nightly">mail/config/mozconfigs/win64/nightly</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/nightly">file</a> |
<a href="/comm-central/annotate/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/nightly">annotate</a> |
<a href="/comm-central/diff/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/nightly">diff</a> |
<a href="/comm-central/comparison/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/nightly">comparison</a> |
<a href="/comm-central/log/16c59c865c4511b5946dc4e9ea0a006ee7bdc818/mail/config/mozconfigs/win64/nightly">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1">new file mode 100644</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineminus">--- /dev/null</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineplus">+++ b/build/mozconfig.comm-sccache</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineat">@@ -0,0 +1,8 @@</span>
<a href="#l1.5"></a><span id="l1.5" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.7"></a><span id="l1.7" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l1.8"></a><span id="l1.8" class="difflineplus">+</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineplus">+# Must be included before M-C:build/mozconfig.cache</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineplus">+if test -z &quot;$aws_prefix&quot; -a -z &quot;$bucket&quot; -a -z &quot;$SCCACHE_DISABLE&quot;; then</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineplus">+  aws_prefix=&quot;comm-central&quot;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+fi</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">deleted file mode 100644</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineminus">--- a/build/mozconfig.sccache</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineplus">+++ /dev/null</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineat">@@ -1,59 +0,0 @@</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineminus">-# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l2.6"></a><span id="l2.6" class="difflineminus">-# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l2.7"></a><span id="l2.7" class="difflineminus">-# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l2.8"></a><span id="l2.8" class="difflineminus">-</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineminus">-# Used in mail/config/mozconfigs by various mozconfigs.</span>
<a href="#l2.10"></a><span id="l2.10" class="difflineminus">-</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineminus">-# Setup for build cache</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-# Avoid duplication if the file happens to be included twice.</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-if test -z &quot;$NO_CACHE&quot; -a -z &quot;$SCCACHE_DISABLE&quot;; then</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-# ${region} is set by m-c's build/mozconfig.cache</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-if test -n &quot;$region&quot;; then</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-    # set S3 bucket according to tree (level)</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-    case &quot;${COMM_HEAD_REPOSITORY}&quot; in</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-    *hg.mozilla.org/try-comm-central*)</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-	bucket=comm-central-level-1-sccache-${region}</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineminus">-	;;</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-    *hg.mozilla.org/comm-central*)</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-	bucket=comm-central-level-3-sccache-${region}</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-	;;</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineminus">-    esac</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineminus">-fi</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-if test -n &quot;$bucket&quot;; then</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-    mk_add_options &quot;export SCCACHE_BUCKET=$bucket&quot;</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-    mk_add_options &quot;export SCCACHE_NAMESERVER=169.254.169.253&quot;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-    case &quot;${SYSTEMROOT}&quot; in</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-    *Windows)</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-        platform=win</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-	;;</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-    *)</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-        mk_add_options &quot;export AWS_IAM_CREDENTIALS_URL=http://taskcluster/auth/v1/aws/s3/read-write/${bucket}/?format=iam-role-compat&quot;</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-	;;</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineminus">-    esac</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineminus">-</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineminus">-    export CCACHE=&quot;$MOZ_FETCHES_DIR/sccache/sccache${suffix}&quot;</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineminus">-    export SCCACHE_VERBOSE_STATS=1</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineminus">-    mk_add_options &quot;MOZBUILD_MANAGE_SCCACHE_DAEMON=$MOZ_FETCHES_DIR/sccache/sccache&quot;</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineminus">-    mk_add_options &quot;UPLOAD_EXTRA_FILES+=sccache.log.gz&quot;</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineminus">-</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-    case &quot;$platform&quot; in</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-    win)</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineminus">-        # sccache supports a special flag to create depfiles.</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-        #TODO: bug 1318370 - move this all into toolchain.configure</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-        export _DEPEND_CFLAGS='-deps$(MDDEPDIR)/$(@F).pp'</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineminus">-        # Windows builds have a default wrapper that needs to be overridden</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineminus">-        mk_add_options &quot;export CC_WRAPPER=&quot;</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineminus">-        mk_add_options &quot;export CXX_WRAPPER=&quot;</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineminus">-        # For now, sccache doesn't support separate PDBs so force debug info to be</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-        # in object files.</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineminus">-        mk_add_options &quot;export COMPILE_PDB_FLAG=&quot;</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-        mk_add_options &quot;export HOST_PDB_FLAG=&quot;</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-        mk_add_options &quot;export MOZ_DEBUG_FLAGS=-Z7&quot;</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineminus">-        ;;</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-    esac</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-fi</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-fi # NO_CACHE &amp;&amp; SCCACHE_DISABLE</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/config/mozconfigs/linux32/debug</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/config/mozconfigs/linux32/debug</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,10 +1,11 @@</span>
<a href="#l3.4"></a><span id="l3.4"> MOZ_AUTOMATION_L10N_CHECK=0</span>
<a href="#l3.5"></a><span id="l3.5"> </span>
<a href="#l3.6"></a><span id="l3.6" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l3.7"></a><span id="l3.7"> . &quot;$topsrcdir/build/unix/mozconfig.linux32&quot;</span>
<a href="#l3.8"></a><span id="l3.8"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l3.9"></a><span id="l3.9"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11"> ac_add_options --enable-debug</span>
<a href="#l3.12"></a><span id="l3.12"> </span>
<a href="#l3.13"></a><span id="l3.13"> # Needed to enable breakpad in application.ini</span>
<a href="#l3.14"></a><span id="l3.14"> export MOZILLA_OFFICIAL=1</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineat">@@ -12,10 +13,8 @@ export MOZILLA_OFFICIAL=1</span>
<a href="#l3.16"></a><span id="l3.16"> # For NSS symbols</span>
<a href="#l3.17"></a><span id="l3.17"> export MOZ_DEBUG_SYMBOLS=1</span>
<a href="#l3.18"></a><span id="l3.18"> </span>
<a href="#l3.19"></a><span id="l3.19"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l3.20"></a><span id="l3.20"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l3.21"></a><span id="l3.21"> </span>
<a href="#l3.22"></a><span id="l3.22"> # Package js shell</span>
<a href="#l3.23"></a><span id="l3.23"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineminus">-</span>
<a href="#l3.25"></a><span id="l3.25" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/config/mozconfigs/linux32/nightly</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/config/mozconfigs/linux32/nightly</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,8 +1,9 @@</span>
<a href="#l4.4"></a><span id="l4.4" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l4.5"></a><span id="l4.5"> . &quot;$topsrcdir/build/unix/mozconfig.linux32&quot;</span>
<a href="#l4.6"></a><span id="l4.6"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l4.7"></a><span id="l4.7"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> ac_add_options --enable-update-channel=&quot;${MOZ_UPDATE_CHANNEL}&quot;</span>
<a href="#l4.10"></a><span id="l4.10"> ac_add_options --enable-profiling</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12"> # Needed to enable breakpad in application.ini</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineat">@@ -15,10 +16,8 @@ export MOZ_DEBUG_SYMBOLS=1</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l4.16"></a><span id="l4.16"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18"> # Package js shell</span>
<a href="#l4.19"></a><span id="l4.19"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21"> mk_add_options &quot;export SOCORRO_SYMBOL_UPLOAD_TOKEN_FILE=/builds/crash-stats-api.token&quot;</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineminus">-</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/config/mozconfigs/linux64/debug</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/config/mozconfigs/linux64/debug</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,10 +1,11 @@</span>
<a href="#l5.4"></a><span id="l5.4"> MOZ_AUTOMATION_L10N_CHECK=0</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l5.7"></a><span id="l5.7"> . &quot;$topsrcdir/build/unix/mozconfig.linux&quot;</span>
<a href="#l5.8"></a><span id="l5.8"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l5.9"></a><span id="l5.9"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11"> ac_add_options --enable-debug</span>
<a href="#l5.12"></a><span id="l5.12"> </span>
<a href="#l5.13"></a><span id="l5.13"> # Needed to enable breakpad in application.ini</span>
<a href="#l5.14"></a><span id="l5.14"> export MOZILLA_OFFICIAL=1</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineat">@@ -12,10 +13,8 @@ export MOZILLA_OFFICIAL=1</span>
<a href="#l5.16"></a><span id="l5.16"> # For NSS symbols</span>
<a href="#l5.17"></a><span id="l5.17"> export MOZ_DEBUG_SYMBOLS=1</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l5.20"></a><span id="l5.20"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l5.21"></a><span id="l5.21"> </span>
<a href="#l5.22"></a><span id="l5.22"> # Package js shell</span>
<a href="#l5.23"></a><span id="l5.23"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/config/mozconfigs/linux64/nightly</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/config/mozconfigs/linux64/nightly</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,8 +1,9 @@</span>
<a href="#l6.4"></a><span id="l6.4" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l6.5"></a><span id="l6.5"> . &quot;$topsrcdir/build/unix/mozconfig.linux&quot;</span>
<a href="#l6.6"></a><span id="l6.6"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l6.7"></a><span id="l6.7"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l6.8"></a><span id="l6.8"> </span>
<a href="#l6.9"></a><span id="l6.9"> ac_add_options --enable-update-channel=&quot;${MOZ_UPDATE_CHANNEL}&quot;</span>
<a href="#l6.10"></a><span id="l6.10"> ac_add_options --enable-profiling</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12"> # Needed to enable breakpad in application.ini</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineat">@@ -15,10 +16,8 @@ export MOZ_DEBUG_SYMBOLS=1</span>
<a href="#l6.14"></a><span id="l6.14"> </span>
<a href="#l6.15"></a><span id="l6.15"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l6.16"></a><span id="l6.16"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l6.17"></a><span id="l6.17"> </span>
<a href="#l6.18"></a><span id="l6.18"> # Package js shell</span>
<a href="#l6.19"></a><span id="l6.19"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l6.20"></a><span id="l6.20"> </span>
<a href="#l6.21"></a><span id="l6.21"> mk_add_options &quot;export SOCORRO_SYMBOL_UPLOAD_TOKEN_FILE=/builds/crash-stats-api.token&quot;</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-</span>
<a href="#l6.23"></a><span id="l6.23" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/config/mozconfigs/macosx64/debug</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/config/mozconfigs/macosx64/debug</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1,8 +1,9 @@</span>
<a href="#l7.4"></a><span id="l7.4" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l7.5"></a><span id="l7.5"> . &quot;$topsrcdir/build/macosx/mozconfig.common&quot;</span>
<a href="#l7.6"></a><span id="l7.6"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l7.7"></a><span id="l7.7"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l7.8"></a><span id="l7.8"> </span>
<a href="#l7.9"></a><span id="l7.9"> ac_add_options --enable-debug</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11"> # Needed to enable breakpad in application.ini</span>
<a href="#l7.12"></a><span id="l7.12"> export MOZILLA_OFFICIAL=1</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineat">@@ -10,10 +11,8 @@ export MOZILLA_OFFICIAL=1</span>
<a href="#l7.14"></a><span id="l7.14"> # For NSS symbols</span>
<a href="#l7.15"></a><span id="l7.15"> export MOZ_DEBUG_SYMBOLS=1</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l7.18"></a><span id="l7.18"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l7.19"></a><span id="l7.19"> </span>
<a href="#l7.20"></a><span id="l7.20"> # Package js shell</span>
<a href="#l7.21"></a><span id="l7.21"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineminus">-</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/config/mozconfigs/macosx64/nightly</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/config/mozconfigs/macosx64/nightly</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,8 +1,9 @@</span>
<a href="#l8.4"></a><span id="l8.4" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l8.5"></a><span id="l8.5"> . &quot;$topsrcdir/build/macosx/mozconfig.common&quot;</span>
<a href="#l8.6"></a><span id="l8.6"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l8.7"></a><span id="l8.7"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9"> ac_add_options --enable-update-channel=&quot;${MOZ_UPDATE_CHANNEL}&quot;</span>
<a href="#l8.10"></a><span id="l8.10"> ac_add_options --disable-install-strip</span>
<a href="#l8.11"></a><span id="l8.11"> ac_add_options --enable-profiling</span>
<a href="#l8.12"></a><span id="l8.12"> </span>
<a href="#l8.13"></a><span id="l8.13" class="difflineat">@@ -15,11 +16,9 @@ export MOZILLA_OFFICIAL=1</span>
<a href="#l8.14"></a><span id="l8.14"> export MOZ_TELEMETRY_REPORTING=1</span>
<a href="#l8.15"></a><span id="l8.15"> </span>
<a href="#l8.16"></a><span id="l8.16"> # Package js shell</span>
<a href="#l8.17"></a><span id="l8.17"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l8.20"></a><span id="l8.20"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span>
<a href="#l8.23"></a><span id="l8.23" class="difflineminus">-</span>
<a href="#l8.24"></a><span id="l8.24"> mk_add_options &quot;export SOCORRO_SYMBOL_UPLOAD_TOKEN_FILE=/builds/crash-stats-api.token&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/config/mozconfigs/win32/debug</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/config/mozconfigs/win32/debug</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1,10 +1,11 @@</span>
<a href="#l9.4"></a><span id="l9.4"> MOZ_AUTOMATION_L10N_CHECK=0</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l9.7"></a><span id="l9.7"> . &quot;$topsrcdir/build/mozconfig.win-common&quot;</span>
<a href="#l9.8"></a><span id="l9.8"> . &quot;$topsrcdir/build/mozconfig.common&quot;</span>
<a href="#l9.9"></a><span id="l9.9"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l9.10"></a><span id="l9.10"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12"> ac_add_options --enable-debug</span>
<a href="#l9.13"></a><span id="l9.13"> </span>
<a href="#l9.14"></a><span id="l9.14"> # Needed to enable breakpad in application.ini</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineat">@@ -14,14 +15,12 @@ export MOZILLA_OFFICIAL=1</span>
<a href="#l9.16"></a><span id="l9.16"> export MOZ_DEBUG_SYMBOLS=1</span>
<a href="#l9.17"></a><span id="l9.17"> </span>
<a href="#l9.18"></a><span id="l9.18"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l9.19"></a><span id="l9.19"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21"> # Package js shell</span>
<a href="#l9.22"></a><span id="l9.22"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l9.23"></a><span id="l9.23"> </span>
<a href="#l9.24"></a><span id="l9.24" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineminus">-</span>
<a href="#l9.26"></a><span id="l9.26"> . $topsrcdir/build/win32/mozconfig.vs-latest</span>
<a href="#l9.27"></a><span id="l9.27"> </span>
<a href="#l9.28"></a><span id="l9.28"> # Set up mapi includes (must be done after visual studio setup)</span>
<a href="#l9.29"></a><span id="l9.29"> export INCLUDE=$INCLUDE:$(cd &quot;$TOOLTOOL_DIR&quot; &amp;&amp; pwd)/mapiheader</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/config/mozconfigs/win32/nightly</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/config/mozconfigs/win32/nightly</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,8 +1,9 @@</span>
<a href="#l10.4"></a><span id="l10.4" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l10.5"></a><span id="l10.5"> . &quot;$topsrcdir/build/mozconfig.win-common&quot;</span>
<a href="#l10.6"></a><span id="l10.6"> . &quot;$topsrcdir/build/mozconfig.common&quot;</span>
<a href="#l10.7"></a><span id="l10.7"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l10.8"></a><span id="l10.8"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10"> ac_add_options --enable-update-channel=&quot;${MOZ_UPDATE_CHANNEL}&quot;</span>
<a href="#l10.11"></a><span id="l10.11"> ac_add_options --enable-jemalloc</span>
<a href="#l10.12"></a><span id="l10.12"> ac_add_options --enable-profiling</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineat">@@ -16,16 +17,14 @@ export MOZ_TELEMETRY_REPORTING=1</span>
<a href="#l10.14"></a><span id="l10.14"> export MOZILLA_OFFICIAL=1</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l10.17"></a><span id="l10.17"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l10.18"></a><span id="l10.18"> </span>
<a href="#l10.19"></a><span id="l10.19"> # Package js shell</span>
<a href="#l10.20"></a><span id="l10.20"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l10.21"></a><span id="l10.21"> </span>
<a href="#l10.22"></a><span id="l10.22" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span>
<a href="#l10.23"></a><span id="l10.23" class="difflineminus">-</span>
<a href="#l10.24"></a><span id="l10.24"> . $topsrcdir/build/win32/mozconfig.vs-latest</span>
<a href="#l10.25"></a><span id="l10.25"> </span>
<a href="#l10.26"></a><span id="l10.26"> # Set up mapi includes (must be done after visual studio setup)</span>
<a href="#l10.27"></a><span id="l10.27"> export INCLUDE=$INCLUDE:$(cd &quot;$TOOLTOOL_DIR&quot; &amp;&amp; pwd)/mapiheader</span>
<a href="#l10.28"></a><span id="l10.28"> </span>
<a href="#l10.29"></a><span id="l10.29"> mk_add_options &quot;export SOCORRO_SYMBOL_UPLOAD_TOKEN_FILE=c:/builds/crash-stats-api.token&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/config/mozconfigs/win64/debug</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/config/mozconfigs/win64/debug</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1,10 +1,11 @@</span>
<a href="#l11.4"></a><span id="l11.4"> MOZ_AUTOMATION_L10N_CHECK=0</span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l11.7"></a><span id="l11.7"> . &quot;$topsrcdir/build/mozconfig.win-common&quot;</span>
<a href="#l11.8"></a><span id="l11.8"> . &quot;$topsrcdir/build/mozconfig.common&quot;</span>
<a href="#l11.9"></a><span id="l11.9"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l11.10"></a><span id="l11.10"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l11.11"></a><span id="l11.11"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/win64/common-win64&quot;</span>
<a href="#l11.12"></a><span id="l11.12"> </span>
<a href="#l11.13"></a><span id="l11.13"> ac_add_options --enable-debug</span>
<a href="#l11.14"></a><span id="l11.14"> if test -n &quot;$USE_ARTIFACT&quot;; then</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineat">@@ -15,16 +16,14 @@ fi</span>
<a href="#l11.16"></a><span id="l11.16"> export MOZILLA_OFFICIAL=1</span>
<a href="#l11.17"></a><span id="l11.17"> </span>
<a href="#l11.18"></a><span id="l11.18"> # Package js shell</span>
<a href="#l11.19"></a><span id="l11.19"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l11.22"></a><span id="l11.22"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l11.23"></a><span id="l11.23"> </span>
<a href="#l11.24"></a><span id="l11.24" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span>
<a href="#l11.25"></a><span id="l11.25" class="difflineminus">-</span>
<a href="#l11.26"></a><span id="l11.26"> if test -z &quot;$USE_ARTIFACT&quot;; then</span>
<a href="#l11.27"></a><span id="l11.27"> . $topsrcdir/build/win64/mozconfig.vs-latest</span>
<a href="#l11.28"></a><span id="l11.28"> </span>
<a href="#l11.29"></a><span id="l11.29"> # Set up mapi includes (must be done after visual studio setup)</span>
<a href="#l11.30"></a><span id="l11.30"> export INCLUDE=$INCLUDE:$(cd &quot;$TOOLTOOL_DIR&quot; &amp;&amp; pwd)/mapiheader</span>
<a href="#l11.31"></a><span id="l11.31"> fi</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/config/mozconfigs/win64/nightly</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/config/mozconfigs/win64/nightly</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1,8 +1,9 @@</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineplus">+. &quot;$topsrcdir/comm/build/mozconfig.comm-sccache&quot;</span>
<a href="#l12.5"></a><span id="l12.5"> . &quot;$topsrcdir/build/mozconfig.win-common&quot;</span>
<a href="#l12.6"></a><span id="l12.6"> . &quot;$topsrcdir/build/mozconfig.common&quot;</span>
<a href="#l12.7"></a><span id="l12.7"> . &quot;$topsrcdir/build/mozconfig.stylo&quot;</span>
<a href="#l12.8"></a><span id="l12.8"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/common&quot;</span>
<a href="#l12.9"></a><span id="l12.9"> . &quot;$topsrcdir/comm/mail/config/mozconfigs/win64/common-win64&quot;</span>
<a href="#l12.10"></a><span id="l12.10"> </span>
<a href="#l12.11"></a><span id="l12.11"> ac_add_options --enable-update-channel=&quot;${MOZ_UPDATE_CHANNEL}&quot;</span>
<a href="#l12.12"></a><span id="l12.12"> ac_add_options --enable-profiling</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineat">@@ -19,18 +20,16 @@ export MOZILLA_OFFICIAL=1</span>
<a href="#l12.14"></a><span id="l12.14"> export MOZ_TELEMETRY_REPORTING=1</span>
<a href="#l12.15"></a><span id="l12.15"> </span>
<a href="#l12.16"></a><span id="l12.16"> # Disable enforcing that add-ons are signed by the trusted root</span>
<a href="#l12.17"></a><span id="l12.17"> MOZ_REQUIRE_ADDON_SIGNING=0</span>
<a href="#l12.18"></a><span id="l12.18"> </span>
<a href="#l12.19"></a><span id="l12.19"> # Package js shell</span>
<a href="#l12.20"></a><span id="l12.20"> export MOZ_PACKAGE_JSSHELL=1</span>
<a href="#l12.21"></a><span id="l12.21"> </span>
<a href="#l12.22"></a><span id="l12.22" class="difflineminus">-. &quot;$topsrcdir/comm/build/mozconfig.sccache&quot;</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineminus">-</span>
<a href="#l12.24"></a><span id="l12.24"> if test -z &quot;$USE_ARTIFACT&quot;; then</span>
<a href="#l12.25"></a><span id="l12.25"> . $topsrcdir/build/win64/mozconfig.vs-latest</span>
<a href="#l12.26"></a><span id="l12.26"> </span>
<a href="#l12.27"></a><span id="l12.27"> # Set up mapi includes (must be done after visual studio setup)</span>
<a href="#l12.28"></a><span id="l12.28"> export INCLUDE=$INCLUDE:$(cd &quot;$TOOLTOOL_DIR&quot; &amp;&amp; pwd)/mapiheader</span>
<a href="#l12.29"></a><span id="l12.29"> </span>
<a href="#l12.30"></a><span id="l12.30"> mk_add_options &quot;export SOCORRO_SYMBOL_UPLOAD_TOKEN_FILE=c:/builds/crash-stats-api.token&quot;</span>
<a href="#l12.31"></a><span id="l12.31"> fi</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

