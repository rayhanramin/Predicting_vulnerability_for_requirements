<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 22577:9992e10b341b3c91de991878055e0222e2c27f6f</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 9992e10b341b3c91de991878055e0222e2c27f6f" />
<meta property="og:url" content="/comm-central/rev/9992e10b341b3c91de991878055e0222e2c27f6f" />
<meta property="og:description" content="Bug 1356569 - Remove addObserver's last parameter when it is false, rs=Fallen." />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 9992e10b341b3c91de991878055e0222e2c27f6f 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/9992e10b341b3c91de991878055e0222e2c27f6f">shortlog</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/9992e10b341b3c91de991878055e0222e2c27f6f">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f">files</a> |
changeset |
<a href="/comm-central/raw-rev/9992e10b341b3c91de991878055e0222e2c27f6f">raw</a>  | <a href="/comm-central/archive/9992e10b341b3c91de991878055e0222e2c27f6f.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1356569">Bug 1356569</a> - Remove addObserver's last parameter when it is false, rs=Fallen.
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#70;&#108;&#111;&#114;&#105;&#97;&#110;&#32;&#81;&#117;&#232;&#122;&#101;&#32;&#60;&#102;&#108;&#111;&#114;&#105;&#97;&#110;&#64;&#113;&#117;&#101;&#122;&#101;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 19 Nov 2017 10:54:56 +0100</td></tr>

<tr>
 <td>changeset 22577</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/9992e10b341b3c91de991878055e0222e2c27f6f">9992e10b341b3c91de991878055e0222e2c27f6f</a></td>
</tr>



<tr>
<td>parent 22576</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/21f2508f16a2268aa2c53400705c9bf3dc0b7f9d">21f2508f16a2268aa2c53400705c9bf3dc0b7f9d</a>
</td>
</tr>

<tr>
<td>child 22578</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/53145b875f09aa860f1593b9260b0bb79344b66d">53145b875f09aa860f1593b9260b0bb79344b66d</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=9992e10b341b3c91de991878055e0222e2c27f6f">13769</a></td></tr>
<tr><td>push user</td><td>florian@queze.net</td></tr>
<tr><td>push date</td><td class="date age">Sun, 19 Nov 2017 09:55:16 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@6ad50e5e75fa [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=6ad50e5e75facb08fd07cbe12454de596233dfbc">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=6ad50e5e75facb08fd07cbe12454de596233dfbc&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=6ad50e5e75facb08fd07cbe12454de596233dfbc&newProject=comm-central&newRevision=21f2508f16a2268aa2c53400705c9bf3dc0b7f9d&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=6ad50e5e75facb08fd07cbe12454de596233dfbc&newProject=comm-central&newRevision=21f2508f16a2268aa2c53400705c9bf3dc0b7f9d&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=6ad50e5e75facb08fd07cbe12454de596233dfbc&newProject=comm-central&newRevision=21f2508f16a2268aa2c53400705c9bf3dc0b7f9d&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Fallen%29&revcount=50">Fallen</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1356569">1356569</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1356569">Bug 1356569</a> - Remove addObserver's last parameter when it is false, rs=Fallen.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imAccounts.js">chat/components/src/imAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imAccounts.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imAccounts.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imAccounts.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imAccounts.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imContacts.js">chat/components/src/imContacts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imContacts.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imContacts.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imContacts.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imContacts.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imContacts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imConversations.js">chat/components/src/imConversations.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imConversations.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imConversations.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imConversations.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imConversations.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imConversations.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imCore.js">chat/components/src/imCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imCore.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imCore.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imCore.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imCore.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/imCore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/logger.js">chat/components/src/logger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/logger.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/logger.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/logger.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/logger.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/components/src/logger.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/convbrowser.xml">chat/content/convbrowser.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/convbrowser.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/convbrowser.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/convbrowser.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/convbrowser.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/convbrowser.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/imtooltip.xml">chat/content/imtooltip.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/imtooltip.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/imtooltip.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/imtooltip.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/imtooltip.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/content/imtooltip.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imContentSink.jsm">chat/modules/imContentSink.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imContentSink.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imContentSink.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imContentSink.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imContentSink.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imContentSink.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imSmileys.jsm">chat/modules/imSmileys.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imSmileys.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imSmileys.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imSmileys.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imSmileys.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imSmileys.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imTextboxUtils.jsm">chat/modules/imTextboxUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imTextboxUtils.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imTextboxUtils.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imTextboxUtils.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imTextboxUtils.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/imTextboxUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/socket.jsm">chat/modules/socket.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/socket.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/socket.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/socket.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/socket.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/modules/socket.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/irc/irc.js">chat/protocols/irc/irc.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/irc/irc.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/irc/irc.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/irc/irc.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/irc/irc.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/irc/irc.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/twitter/twitter.js">chat/protocols/twitter/twitter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/twitter/twitter.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/twitter/twitter.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/twitter/twitter.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/twitter/twitter.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/chat/protocols/twitter/twitter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editingOverlay.js">editor/ui/composer/content/editingOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editingOverlay.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editingOverlay.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editingOverlay.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editingOverlay.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editingOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editor.js">editor/ui/composer/content/editor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editor.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editor.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editor.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editor.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/editor.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/pref-editing.js">editor/ui/composer/content/pref-editing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/pref-editing.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/pref-editing.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/pref-editing.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/pref-editing.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/editor/ui/composer/content/pref-editing.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibConvStatsService.js">im/components/ibConvStatsService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibConvStatsService.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibConvStatsService.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibConvStatsService.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibConvStatsService.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibConvStatsService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibDockBadge.js">im/components/ibDockBadge.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibDockBadge.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibDockBadge.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibDockBadge.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibDockBadge.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/ibDockBadge.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/mintrayr/content/mintrayr.js">im/components/mintrayr/content/mintrayr.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/mintrayr/content/mintrayr.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/mintrayr/content/mintrayr.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/mintrayr/content/mintrayr.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/mintrayr/content/mintrayr.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/components/mintrayr/content/mintrayr.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/account.js">im/content/account.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/account.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/account.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/account.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/account.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/account.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accountWizard.js">im/content/accountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accountWizard.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accountWizard.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accountWizard.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accountWizard.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accounts.js">im/content/accounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accounts.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accounts.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accounts.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accounts.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/accounts.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/blist.js">im/content/blist.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/blist.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/blist.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/blist.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/blist.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/blist.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/convZoom.js">im/content/convZoom.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/convZoom.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/convZoom.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/convZoom.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/convZoom.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/convZoom.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/conversation.xml">im/content/conversation.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/conversation.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/conversation.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/conversation.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/conversation.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/conversation.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/engineManager.js">im/content/engineManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/engineManager.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/engineManager.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/engineManager.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/engineManager.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/engineManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/extensions.js">im/content/extensions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/extensions.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/extensions.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/extensions.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/extensions.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/extensions.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/advanced.js">im/content/preferences/advanced.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/advanced.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/advanced.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/advanced.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/advanced.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/advanced.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/messagestyle.js">im/content/preferences/messagestyle.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/messagestyle.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/messagestyle.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/messagestyle.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/messagestyle.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/preferences/messagestyle.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/tabbrowser.xml">im/content/tabbrowser.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/tabbrowser.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/tabbrowser.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/tabbrowser.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/tabbrowser.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/tabbrowser.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/viewlog.js">im/content/viewlog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/viewlog.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/viewlog.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/viewlog.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/viewlog.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/content/viewlog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibCore.jsm">im/modules/ibCore.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibCore.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibCore.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibCore.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibCore.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibCore.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibNotifications.jsm">im/modules/ibNotifications.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibNotifications.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibNotifications.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibNotifications.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibNotifications.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibNotifications.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibSounds.jsm">im/modules/ibSounds.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibSounds.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibSounds.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibSounds.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibSounds.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/ibSounds.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/imWindows.jsm">im/modules/imWindows.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/imWindows.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/imWindows.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/imWindows.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/imWindows.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/im/modules/imWindows.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/FilterListDialog.js">mail/base/content/FilterListDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/FilterListDialog.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/FilterListDialog.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/FilterListDialog.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/FilterListDialog.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/FilterListDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/aboutDialog-appUpdater.js">mail/base/content/aboutDialog-appUpdater.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/aboutDialog-appUpdater.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/aboutDialog-appUpdater.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/aboutDialog-appUpdater.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/aboutDialog-appUpdater.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/aboutDialog-appUpdater.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mail-offline.js">mail/base/content/mail-offline.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mail-offline.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mail-offline.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mail-offline.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mail-offline.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mail-offline.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mailCore.js">mail/base/content/mailCore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mailCore.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mailCore.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mailCore.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mailCore.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/mailCore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgHdrViewOverlay.js">mail/base/content/msgHdrViewOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgHdrViewOverlay.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgHdrViewOverlay.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgHdrViewOverlay.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgHdrViewOverlay.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgHdrViewOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgMail3PaneWindow.js">mail/base/content/msgMail3PaneWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgMail3PaneWindow.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgMail3PaneWindow.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgMail3PaneWindow.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgMail3PaneWindow.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/msgMail3PaneWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/search.xml">mail/base/content/search.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/search.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/search.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/search.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/search.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/search.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/specialTabs.js">mail/base/content/specialTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/specialTabs.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/specialTabs.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/specialTabs.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/specialTabs.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/specialTabs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/tabmail.xml">mail/base/content/tabmail.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/tabmail.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/tabmail.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/tabmail.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/tabmail.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/tabmail.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/toolbarIconColor.js">mail/base/content/toolbarIconColor.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/toolbarIconColor.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/toolbarIconColor.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/toolbarIconColor.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/toolbarIconColor.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/content/toolbarIconColor.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/mailInstrumentation.js">mail/base/modules/mailInstrumentation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/mailInstrumentation.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/mailInstrumentation.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/mailInstrumentation.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/mailInstrumentation.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/mailInstrumentation.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/sessionStoreManager.js">mail/base/modules/sessionStoreManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/sessionStoreManager.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/sessionStoreManager.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/sessionStoreManager.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/sessionStoreManager.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/base/modules/sessionStoreManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/compose/content/MsgComposeCommands.js">mail/components/compose/content/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/compose/content/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/compose/content/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/compose/content/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/compose/content/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/compose/content/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/chat-messenger-overlay.js">mail/components/im/content/chat-messenger-overlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/chat-messenger-overlay.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/chat-messenger-overlay.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/chat-messenger-overlay.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/chat-messenger-overlay.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/chat-messenger-overlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccountWizard.js">mail/components/im/content/imAccountWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccountWizard.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccountWizard.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccountWizard.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccountWizard.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccountWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccounts.js">mail/components/im/content/imAccounts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccounts.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccounts.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccounts.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccounts.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imAccounts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imStatusSelector.js">mail/components/im/content/imStatusSelector.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imStatusSelector.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imStatusSelector.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imStatusSelector.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imStatusSelector.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imStatusSelector.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imconversation.xml">mail/components/im/content/imconversation.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imconversation.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imconversation.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imconversation.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imconversation.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/content/imconversation.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatHandler.jsm">mail/components/im/modules/chatHandler.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatHandler.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatHandler.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatHandler.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatHandler.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatHandler.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatNotifications.jsm">mail/components/im/modules/chatNotifications.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatNotifications.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatNotifications.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatNotifications.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatNotifications.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/chatNotifications.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/index_im.js">mail/components/im/modules/index_im.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/index_im.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/index_im.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/index_im.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/index_im.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/im/modules/index_im.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/mailGlue.js">mail/components/mailGlue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/mailGlue.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/mailGlue.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/mailGlue.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/mailGlue.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/mailGlue.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/migration/content/migration.js">mail/components/migration/content/migration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/migration/content/migration.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/migration/content/migration.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/migration/content/migration.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/migration/content/migration.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/migration/content/migration.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/newmailaccount/content/accountProvisionerTab.js">mail/components/newmailaccount/content/accountProvisionerTab.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/newmailaccount/content/accountProvisionerTab.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/newmailaccount/content/accountProvisionerTab.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/newmailaccount/content/accountProvisionerTab.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/newmailaccount/content/accountProvisionerTab.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/newmailaccount/content/accountProvisionerTab.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/applications.js">mail/components/preferences/applications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/applications.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/applications.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/applications.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/applications.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/applications.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/compose.js">mail/components/preferences/compose.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/compose.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/compose.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/compose.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/compose.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/compose.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/cookies.js">mail/components/preferences/cookies.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/cookies.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/cookies.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/cookies.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/cookies.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/cookies.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/messagestyle.js">mail/components/preferences/messagestyle.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/messagestyle.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/messagestyle.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/messagestyle.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/messagestyle.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/messagestyle.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/permissions.js">mail/components/preferences/permissions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/permissions.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/permissions.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/permissions.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/permissions.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/preferences/permissions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/search/content/searchCommon.js">mail/components/search/content/searchCommon.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/search/content/searchCommon.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/search/content/searchCommon.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/search/content/searchCommon.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/search/content/searchCommon.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/components/search/content/searchCommon.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/content-tabs/test-plugin-crashing.js">mail/test/mozmill/content-tabs/test-plugin-crashing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/content-tabs/test-plugin-crashing.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/content-tabs/test-plugin-crashing.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/content-tabs/test-plugin-crashing.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/content-tabs/test-plugin-crashing.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/content-tabs/test-plugin-crashing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/folder-display/test-columns.js">mail/test/mozmill/folder-display/test-columns.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/folder-display/test-columns.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/folder-display/test-columns.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/folder-display/test-columns.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/folder-display/test-columns.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/folder-display/test-columns.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">mail/test/mozmill/shared-modules/test-content-tab-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-content-tab-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-window-helpers.js">mail/test/mozmill/shared-modules/test-window-helpers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-window-helpers.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-window-helpers.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-window-helpers.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-window-helpers.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/shared-modules/test-window-helpers.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/content/dx.js">mail/test/resources/mozmill/mozmill/extension/content/dx.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/content/dx.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/content/dx.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/content/dx.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/content/dx.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/content/dx.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/prefs/content/pref-directory-add.js">mailnews/addrbook/prefs/content/pref-directory-add.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/prefs/content/pref-directory-add.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/prefs/content/pref-directory-add.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/prefs/content/pref-directory-add.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/prefs/content/pref-directory-add.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/prefs/content/pref-directory-add.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/src/newMailNotificationService.js">mailnews/base/src/newMailNotificationService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/src/newMailNotificationService.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/src/newMailNotificationService.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/src/newMailNotificationService.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/src/newMailNotificationService.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/src/newMailNotificationService.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/util/msgDBCacheManager.js">mailnews/base/util/msgDBCacheManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/util/msgDBCacheManager.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/util/msgDBCacheManager.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/util/msgDBCacheManager.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/util/msgDBCacheManager.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/base/util/msgDBCacheManager.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/compose/test/unit/test_sendObserver.js">mailnews/compose/test/unit/test_sendObserver.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/compose/test/unit/test_sendObserver.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/compose/test/unit/test_sendObserver.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/compose/test/unit/test_sendObserver.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/compose/test/unit/test_sendObserver.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/compose/test/unit/test_sendObserver.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/datastore.js">mailnews/db/gloda/modules/datastore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/datastore.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/datastore.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/datastore.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/datastore.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/datastore.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/indexer.js">mailnews/db/gloda/modules/indexer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/indexer.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/indexer.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/indexer.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/indexer.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/indexer.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/mimemsg.js">mailnews/db/gloda/modules/mimemsg.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/mimemsg.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/mimemsg.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/mimemsg.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/mimemsg.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/db/gloda/modules/mimemsg.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/extensions/offline-startup/js/offlineStartup.js">mailnews/extensions/offline-startup/js/offlineStartup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/extensions/offline-startup/js/offlineStartup.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/extensions/offline-startup/js/offlineStartup.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/extensions/offline-startup/js/offlineStartup.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/extensions/offline-startup/js/offlineStartup.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/extensions/offline-startup/js/offlineStartup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/src/jsmime.jsm">mailnews/mime/src/jsmime.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/src/jsmime.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/src/jsmime.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/src/jsmime.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/src/jsmime.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/src/jsmime.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/test/unit/test_structured_headers.js">mailnews/mime/test/unit/test_structured_headers.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/test/unit/test_structured_headers.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/test/unit/test_structured_headers.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/test/unit/test_structured_headers.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/test/unit/test_structured_headers.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/mime/test/unit/test_structured_headers.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/test/resources/logHelper.js">mailnews/test/resources/logHelper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/test/resources/logHelper.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/test/resources/logHelper.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/test/resources/logHelper.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/test/resources/logHelper.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/mailnews/test/resources/logHelper.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/navigator.js">suite/browser/navigator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/navigator.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/navigator.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/navigator.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/navigator.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/navigator.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/pageInfo.js">suite/browser/pageinfo/pageInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/pageInfo.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/pageInfo.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/pageInfo.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/pageInfo.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/pageInfo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/permissions.js">suite/browser/pageinfo/permissions.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/permissions.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/permissions.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/permissions.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/permissions.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/pageinfo/permissions.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/tabbrowser.xml">suite/browser/tabbrowser.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/tabbrowser.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/tabbrowser.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/tabbrowser.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/tabbrowser.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/tabbrowser.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_bug561636.js">suite/browser/test/browser/browser_bug561636.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_bug561636.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_bug561636.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_bug561636.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_bug561636.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_bug561636.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pageInfo.js">suite/browser/test/browser/browser_pageInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pageInfo.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pageInfo.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pageInfo.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pageInfo.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pageInfo.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginCrashCommentAndURL.js">suite/browser/test/browser/browser_pluginCrashCommentAndURL.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginCrashCommentAndURL.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginCrashCommentAndURL.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginCrashCommentAndURL.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginCrashCommentAndURL.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginCrashCommentAndURL.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginnotification.js">suite/browser/test/browser/browser_pluginnotification.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginnotification.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginnotification.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginnotification.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginnotification.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_pluginnotification.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_popupNotification.js">suite/browser/test/browser/browser_popupNotification.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_popupNotification.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_popupNotification.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_popupNotification.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_popupNotification.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/browser_popupNotification.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/head.js">suite/browser/test/browser/head.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/head.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/head.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/head.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/head.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/test/browser/head.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/urlbarBindings.xml">suite/browser/urlbarBindings.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/urlbarBindings.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/urlbarBindings.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/urlbarBindings.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/urlbarBindings.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/urlbarBindings.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/webDeveloperOverlay.js">suite/browser/webDeveloperOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/webDeveloperOverlay.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/webDeveloperOverlay.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/webDeveloperOverlay.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/webDeveloperOverlay.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/browser/webDeveloperOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/findbar.xml">suite/common/bindings/findbar.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/findbar.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/findbar.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/findbar.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/findbar.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/findbar.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/notification.xml">suite/common/bindings/notification.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/notification.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/notification.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/notification.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/notification.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/notification.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/toolbar.xml">suite/common/bindings/toolbar.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/toolbar.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/toolbar.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/toolbar.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/toolbar.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bindings/toolbar.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bookmarks/editBookmarkOverlay.js">suite/common/bookmarks/editBookmarkOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bookmarks/editBookmarkOverlay.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bookmarks/editBookmarkOverlay.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bookmarks/editBookmarkOverlay.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bookmarks/editBookmarkOverlay.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/bookmarks/editBookmarkOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/dataman.js">suite/common/dataman/dataman.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/dataman.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/dataman.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/dataman.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/dataman.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/dataman.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_basics.js">suite/common/dataman/tests/browser_dataman_basics.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_basics.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_basics.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_basics.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_basics.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_basics.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_callviews.js">suite/common/dataman/tests/browser_dataman_callviews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_callviews.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_callviews.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_callviews.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_callviews.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/dataman/tests/browser_dataman_callviews.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js">suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul">suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_basic_functionality.xul">suite/common/downloads/tests/chrome/test_basic_functionality.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_basic_functionality.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_basic_functionality.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_basic_functionality.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_basic_functionality.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_basic_functionality.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_cleanup_search.xul">suite/common/downloads/tests/chrome/test_cleanup_search.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_cleanup_search.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_cleanup_search.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_cleanup_search.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_cleanup_search.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_cleanup_search.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_clear_button_disabled.xul">suite/common/downloads/tests/chrome/test_clear_button_disabled.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_clear_button_disabled.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_clear_button_disabled.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_clear_button_disabled.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_clear_button_disabled.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_clear_button_disabled.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_close_download_manager.xul">suite/common/downloads/tests/chrome/test_close_download_manager.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_close_download_manager.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_close_download_manager.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_close_download_manager.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_close_download_manager.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_close_download_manager.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_cancels.xul">suite/common/downloads/tests/chrome/test_delete_key_cancels.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_cancels.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_cancels.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_cancels.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_cancels.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_cancels.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_removes.xul">suite/common/downloads/tests/chrome/test_delete_key_removes.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_removes.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_removes.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_removes.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_removes.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_delete_key_removes.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_drag.xul">suite/common/downloads/tests/chrome/test_drag.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_drag.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_drag.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_drag.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_drag.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_drag.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul">suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multi_select.xul">suite/common/downloads/tests/chrome/test_multi_select.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multi_select.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multi_select.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multi_select.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multi_select.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multi_select.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multiword_search.xul">suite/common/downloads/tests/chrome/test_multiword_search.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multiword_search.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multiword_search.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multiword_search.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multiword_search.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_multiword_search.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_open_properties.xul">suite/common/downloads/tests/chrome/test_open_properties.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_open_properties.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_open_properties.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_open_properties.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_open_properties.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_open_properties.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul">suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_clearlist.xul">suite/common/downloads/tests/chrome/test_search_clearlist.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_clearlist.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_clearlist.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_clearlist.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_clearlist.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_clearlist.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_keys.xul">suite/common/downloads/tests/chrome/test_search_keys.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_keys.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_keys.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_keys.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_keys.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_search_keys.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_select_all.xul">suite/common/downloads/tests/chrome/test_select_all.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_select_all.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_select_all.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_select_all.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_select_all.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_select_all.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul">suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_retries.xul">suite/common/downloads/tests/chrome/test_space_key_retries.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_retries.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_retries.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_retries.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_retries.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_space_key_retries.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul">suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/history/tree.xml">suite/common/history/tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/history/tree.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/history/tree.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/history/tree.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/history/tree.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/history/tree.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/permissions/cookieViewer.js">suite/common/permissions/cookieViewer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/permissions/cookieViewer.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/permissions/cookieViewer.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/permissions/cookieViewer.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/permissions/cookieViewer.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/permissions/cookieViewer.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/browserPlacesViews.js">suite/common/places/browserPlacesViews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/browserPlacesViews.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/browserPlacesViews.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/browserPlacesViews.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/browserPlacesViews.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/browserPlacesViews.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/nsPlacesAutoComplete.js">suite/common/places/nsPlacesAutoComplete.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/nsPlacesAutoComplete.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/nsPlacesAutoComplete.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/nsPlacesAutoComplete.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/nsPlacesAutoComplete.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/nsPlacesAutoComplete.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/browser_library_views_liveupdate.js">suite/common/places/tests/browser/browser_library_views_liveupdate.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/browser_library_views_liveupdate.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/browser_library_views_liveupdate.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/browser_library_views_liveupdate.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/browser_library_views_liveupdate.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/browser_library_views_liveupdate.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/head.js">suite/common/places/tests/browser/head.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/head.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/head.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/head.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/head.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/browser/head.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_bug549491.xul">suite/common/places/tests/chrome/test_bug549491.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_bug549491.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_bug549491.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_bug549491.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_bug549491.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_bug549491.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_treeview_date.xul">suite/common/places/tests/chrome/test_treeview_date.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_treeview_date.xul">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_treeview_date.xul">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_treeview_date.xul">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_treeview_date.xul">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/chrome/test_treeview_date.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/head_common.js">suite/common/places/tests/head_common.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/head_common.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/head_common.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/head_common.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/head_common.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/head_common.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_PUIU_makeTransaction.js">suite/common/places/tests/unit/test_PUIU_makeTransaction.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_PUIU_makeTransaction.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_PUIU_makeTransaction.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_PUIU_makeTransaction.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_PUIU_makeTransaction.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_PUIU_makeTransaction.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt.js">suite/common/places/tests/unit/test_browserGlue_corrupt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js">suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js">suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_migrate.js">suite/common/places/tests/unit/test_browserGlue_migrate.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_migrate.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_migrate.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_migrate.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_migrate.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_migrate.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_prefs.js">suite/common/places/tests/unit/test_browserGlue_prefs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_prefs.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_prefs.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_prefs.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_prefs.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_prefs.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_restore.js">suite/common/places/tests/unit/test_browserGlue_restore.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_restore.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_restore.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_restore.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_restore.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_restore.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js">suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_clearHistory_shutdown.js">suite/common/places/tests/unit/test_clearHistory_shutdown.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_clearHistory_shutdown.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_clearHistory_shutdown.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_clearHistory_shutdown.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_clearHistory_shutdown.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tests/unit/test_clearHistory_shutdown.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tree.xml">suite/common/places/tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tree.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tree.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tree.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tree.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/places/tree.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-applications.js">suite/common/pref/pref-applications.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-applications.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-applications.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-applications.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-applications.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-applications.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-offlineapps.js">suite/common/pref/pref-offlineapps.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-offlineapps.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-offlineapps.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-offlineapps.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-offlineapps.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-offlineapps.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-search.js">suite/common/pref/pref-search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-search.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-search.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-search.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-search.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-search.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-sync.js">suite/common/pref/pref-sync.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-sync.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-sync.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-sync.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-sync.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/pref/pref-sync.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/engineManager.js">suite/common/search/engineManager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/engineManager.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/engineManager.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/engineManager.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/engineManager.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/engineManager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/search.xml">suite/common/search/search.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/search.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/search.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/search.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/search.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/search/search.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/sync/aboutSyncTabs.js">suite/common/sync/aboutSyncTabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/sync/aboutSyncTabs.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/sync/aboutSyncTabs.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/sync/aboutSyncTabs.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/sync/aboutSyncTabs.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/sync/aboutSyncTabs.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_354894.js">suite/common/tests/browser/browser_354894.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_354894.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_354894.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_354894.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_354894.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_354894.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_448741.js">suite/common/tests/browser/browser_448741.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_448741.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_448741.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_448741.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_448741.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_448741.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_526613.js">suite/common/tests/browser/browser_526613.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_526613.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_526613.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_526613.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_526613.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_526613.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_637020.js">suite/common/tests/browser/browser_637020.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_637020.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_637020.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_637020.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_637020.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_637020.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_markPageAsFollowedLink.js">suite/common/tests/browser/browser_markPageAsFollowedLink.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_markPageAsFollowedLink.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_markPageAsFollowedLink.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_markPageAsFollowedLink.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_markPageAsFollowedLink.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/browser_markPageAsFollowedLink.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/head.js">suite/common/tests/browser/head.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/head.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/head.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/head.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/head.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/browser/head.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/preferences/browser_bug410900.js">suite/common/tests/preferences/browser_bug410900.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/preferences/browser_bug410900.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/preferences/browser_bug410900.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/preferences/browser_bug410900.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/preferences/browser_bug410900.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/tests/preferences/browser_bug410900.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/utilityOverlay.js">suite/common/utilityOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/utilityOverlay.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/utilityOverlay.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/utilityOverlay.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/utilityOverlay.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/common/utilityOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/FeedWriter.js">suite/feeds/src/FeedWriter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/FeedWriter.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/FeedWriter.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/FeedWriter.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/FeedWriter.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/FeedWriter.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/WebContentConverter.js">suite/feeds/src/WebContentConverter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/WebContentConverter.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/WebContentConverter.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/WebContentConverter.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/WebContentConverter.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/feeds/src/WebContentConverter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/commandglue.js">suite/mailnews/commandglue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/commandglue.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/commandglue.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/commandglue.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/commandglue.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/commandglue.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/compose/MsgComposeCommands.js">suite/mailnews/compose/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/compose/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/compose/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/compose/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/compose/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/compose/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/mailTasksOverlay.js">suite/mailnews/mailTasksOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/mailTasksOverlay.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/mailTasksOverlay.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/mailTasksOverlay.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/mailTasksOverlay.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/mailTasksOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgHdrViewOverlay.js">suite/mailnews/msgHdrViewOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgHdrViewOverlay.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgHdrViewOverlay.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgHdrViewOverlay.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgHdrViewOverlay.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgHdrViewOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgMail3PaneWindow.js">suite/mailnews/msgMail3PaneWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgMail3PaneWindow.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgMail3PaneWindow.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgMail3PaneWindow.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgMail3PaneWindow.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/msgMail3PaneWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/search/FilterListDialog.js">suite/mailnews/search/FilterListDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/search/FilterListDialog.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/search/FilterListDialog.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/search/FilterListDialog.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/search/FilterListDialog.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/search/FilterListDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/tabmail.xml">suite/mailnews/tabmail.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/tabmail.xml">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/tabmail.xml">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/tabmail.xml">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/tabmail.xml">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/mailnews/tabmail.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/modules/DownloadTaskbarProgress.jsm">suite/modules/DownloadTaskbarProgress.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/modules/DownloadTaskbarProgress.jsm">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/modules/DownloadTaskbarProgress.jsm">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/modules/DownloadTaskbarProgress.jsm">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/modules/DownloadTaskbarProgress.jsm">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/modules/DownloadTaskbarProgress.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/profile/migration.js">suite/profile/migration.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/profile/migration.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/profile/migration.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/profile/migration.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/profile/migration.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/profile/migration.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/smile/test/browser_ApplicationQuitting.js">suite/smile/test/browser_ApplicationQuitting.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9992e10b341b3c91de991878055e0222e2c27f6f/suite/smile/test/browser_ApplicationQuitting.js">file</a> |
<a href="/comm-central/annotate/9992e10b341b3c91de991878055e0222e2c27f6f/suite/smile/test/browser_ApplicationQuitting.js">annotate</a> |
<a href="/comm-central/diff/9992e10b341b3c91de991878055e0222e2c27f6f/suite/smile/test/browser_ApplicationQuitting.js">diff</a> |
<a href="/comm-central/comparison/9992e10b341b3c91de991878055e0222e2c27f6f/suite/smile/test/browser_ApplicationQuitting.js">comparison</a> |
<a href="/comm-central/log/9992e10b341b3c91de991878055e0222e2c27f6f/suite/smile/test/browser_ApplicationQuitting.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/chat/components/src/imAccounts.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/chat/components/src/imAccounts.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -840,17 +840,17 @@ AccountsService.prototype = {</span>
<a href="#l1.4"></a><span id="l1.4">     }</span>
<a href="#l1.5"></a><span id="l1.5">     // If the user has canceled a master password prompt, we haven't</span>
<a href="#l1.6"></a><span id="l1.6">     // been able to save any password, so the old password conversion</span>
<a href="#l1.7"></a><span id="l1.7">     // still needs to happen.</span>
<a href="#l1.8"></a><span id="l1.8">     if (gConvertingOldPasswords &amp;&amp; !gUserCanceledMasterPasswordPrompt)</span>
<a href="#l1.9"></a><span id="l1.9">       Services.prefs.setBoolPref(kPrefConvertOldPasswords, false);</span>
<a href="#l1.10"></a><span id="l1.10"> </span>
<a href="#l1.11"></a><span id="l1.11">     this._prefObserver = this.observe.bind(this);</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    Services.prefs.addObserver(kPrefMessengerAccounts, this._prefObserver, false);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    Services.prefs.addObserver(kPrefMessengerAccounts, this._prefObserver);</span>
<a href="#l1.14"></a><span id="l1.14">   },</span>
<a href="#l1.15"></a><span id="l1.15"> </span>
<a href="#l1.16"></a><span id="l1.16">   _observingAccountListChange: true,</span>
<a href="#l1.17"></a><span id="l1.17">   _prefObserver: null,</span>
<a href="#l1.18"></a><span id="l1.18">   observe: function(aSubject, aTopic, aData) {</span>
<a href="#l1.19"></a><span id="l1.19">     if (aTopic != &quot;nsPref:changed&quot; || aData != kPrefMessengerAccounts ||</span>
<a href="#l1.20"></a><span id="l1.20">        !this._observingAccountListChange)</span>
<a href="#l1.21"></a><span id="l1.21">       return;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/chat/components/src/imContacts.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/chat/components/src/imContacts.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -103,17 +103,17 @@ this.__defineGetter__(&quot;DBConn&quot;, function</span>
<a href="#l2.4"></a><span id="l2.4">   if (!gDBConnection) {</span>
<a href="#l2.5"></a><span id="l2.5">     gDBConnection = getDBConnection();</span>
<a href="#l2.6"></a><span id="l2.6">     Services.obs.addObserver(function dbClose(aSubject, aTopic, aData) {</span>
<a href="#l2.7"></a><span id="l2.7">       Services.obs.removeObserver(dbClose, aTopic);</span>
<a href="#l2.8"></a><span id="l2.8">       if (gDBConnection) {</span>
<a href="#l2.9"></a><span id="l2.9">         gDBConnection.asyncClose();</span>
<a href="#l2.10"></a><span id="l2.10">         gDBConnection = null;</span>
<a href="#l2.11"></a><span id="l2.11">       }</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-    }, &quot;profile-before-change&quot;, false);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+    }, &quot;profile-before-change&quot;);</span>
<a href="#l2.14"></a><span id="l2.14">   }</span>
<a href="#l2.15"></a><span id="l2.15">   gDBConnWithPendingTransaction = gDBConnection;</span>
<a href="#l2.16"></a><span id="l2.16">   gDBConnection.beginTransaction();</span>
<a href="#l2.17"></a><span id="l2.17">   executeSoon(function() {</span>
<a href="#l2.18"></a><span id="l2.18">     gDBConnWithPendingTransaction.commitTransaction();</span>
<a href="#l2.19"></a><span id="l2.19">     gDBConnWithPendingTransaction = null;</span>
<a href="#l2.20"></a><span id="l2.20">   });</span>
<a href="#l2.21"></a><span id="l2.21">   return gDBConnection;</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineat">@@ -322,20 +322,20 @@ var otherContactsTag = {</span>
<a href="#l2.23"></a><span id="l2.23">       }</span>
<a href="#l2.24"></a><span id="l2.24">     };</span>
<a href="#l2.25"></a><span id="l2.25">     this._contacts = {};</span>
<a href="#l2.26"></a><span id="l2.26">     this._contactsInitialized = true;</span>
<a href="#l2.27"></a><span id="l2.27">     for (let id in this._hiddenTags) {</span>
<a href="#l2.28"></a><span id="l2.28">       let tag = this._hiddenTags[id];</span>
<a href="#l2.29"></a><span id="l2.29">       this._hideTag(tag);</span>
<a href="#l2.30"></a><span id="l2.30">     }</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-    Services.obs.addObserver(this, &quot;contact-tag-added&quot;, false);</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-    Services.obs.addObserver(this, &quot;contact-tag-removed&quot;, false);</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-    Services.obs.addObserver(this, &quot;contact-added&quot;, false);</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-    Services.obs.addObserver(this, &quot;contact-removed&quot;, false);</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineplus">+    Services.obs.addObserver(this, &quot;contact-tag-added&quot;);</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+    Services.obs.addObserver(this, &quot;contact-tag-removed&quot;);</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineplus">+    Services.obs.addObserver(this, &quot;contact-added&quot;);</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineplus">+    Services.obs.addObserver(this, &quot;contact-removed&quot;);</span>
<a href="#l2.39"></a><span id="l2.39">   },</span>
<a href="#l2.40"></a><span id="l2.40"> </span>
<a href="#l2.41"></a><span id="l2.41">   // imITag implementation</span>
<a href="#l2.42"></a><span id="l2.42">   get id() { return -1; },</span>
<a href="#l2.43"></a><span id="l2.43">   get name() { return &quot;__others__&quot;; },</span>
<a href="#l2.44"></a><span id="l2.44">   set name(aNewName) { throw Cr.NS_ERROR_NOT_AVAILABLE; },</span>
<a href="#l2.45"></a><span id="l2.45">   getContacts: function(aContactCount) {</span>
<a href="#l2.46"></a><span id="l2.46">     let contacts = Object.keys(this._contacts).map(id =&gt; this._contacts[id]);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/chat/components/src/imConversations.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/chat/components/src/imConversations.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -473,20 +473,20 @@ var gConversationsService;</span>
<a href="#l3.4"></a><span id="l3.4"> function ConversationsService() { gConversationsService = this; }</span>
<a href="#l3.5"></a><span id="l3.5"> ConversationsService.prototype = {</span>
<a href="#l3.6"></a><span id="l3.6">   get wrappedJSObject() { return this; },</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8">   initConversations: function() {</span>
<a href="#l3.9"></a><span id="l3.9">     this._uiConv = {};</span>
<a href="#l3.10"></a><span id="l3.10">     this._uiConvByContactId = {};</span>
<a href="#l3.11"></a><span id="l3.11">     this._prplConversations = [];</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;account-disconnecting&quot;, false);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-    Services.obs.addObserver(this, &quot;account-connected&quot;, false);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-    Services.obs.addObserver(this, &quot;account-buddy-added&quot;, false);</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-    Services.obs.addObserver(this, &quot;account-buddy-removed&quot;, false);</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+    Services.obs.addObserver(this, &quot;account-disconnecting&quot;);</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+    Services.obs.addObserver(this, &quot;account-connected&quot;);</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+    Services.obs.addObserver(this, &quot;account-buddy-added&quot;);</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+    Services.obs.addObserver(this, &quot;account-buddy-removed&quot;);</span>
<a href="#l3.20"></a><span id="l3.20">   },</span>
<a href="#l3.21"></a><span id="l3.21"> </span>
<a href="#l3.22"></a><span id="l3.22">   unInitConversations: function() {</span>
<a href="#l3.23"></a><span id="l3.23">     let UIConvs = this.getUIConversations();</span>
<a href="#l3.24"></a><span id="l3.24">     for (let UIConv of UIConvs)</span>
<a href="#l3.25"></a><span id="l3.25">       UIConv.unInit();</span>
<a href="#l3.26"></a><span id="l3.26">     delete this._uiConv;</span>
<a href="#l3.27"></a><span id="l3.27">     delete this._uiConvByContactId;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/chat/components/src/imCore.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/chat/components/src/imCore.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -24,22 +24,22 @@ var NS_IOSERVICE_GOING_OFFLINE_TOPIC = &quot;</span>
<a href="#l4.4"></a><span id="l4.4"> var NS_IOSERVICE_OFFLINE_STATUS_TOPIC = &quot;network:offline-status-changed&quot;;</span>
<a href="#l4.5"></a><span id="l4.5"> </span>
<a href="#l4.6"></a><span id="l4.6"> function UserStatus()</span>
<a href="#l4.7"></a><span id="l4.7"> {</span>
<a href="#l4.8"></a><span id="l4.8">   this._observers = [];</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10">   if (Services.prefs.getBoolPref(kPrefReportIdle))</span>
<a href="#l4.11"></a><span id="l4.11">     this._addIdleObserver();</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-  Services.prefs.addObserver(kPrefReportIdle, this, false);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+  Services.prefs.addObserver(kPrefReportIdle, this);</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15">   if (Services.io.offline)</span>
<a href="#l4.16"></a><span id="l4.16">     this._offlineStatusType = Ci.imIStatusInfo.STATUS_OFFLINE;</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineminus">-  Services.obs.addObserver(this, NS_IOSERVICE_GOING_OFFLINE_TOPIC, false);</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineminus">-  Services.obs.addObserver(this, NS_IOSERVICE_OFFLINE_STATUS_TOPIC, false);</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+  Services.obs.addObserver(this, NS_IOSERVICE_GOING_OFFLINE_TOPIC);</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineplus">+  Services.obs.addObserver(this, NS_IOSERVICE_OFFLINE_STATUS_TOPIC);</span>
<a href="#l4.21"></a><span id="l4.21"> }</span>
<a href="#l4.22"></a><span id="l4.22"> UserStatus.prototype = {</span>
<a href="#l4.23"></a><span id="l4.23">   __proto__: ClassInfo(&quot;imIUserStatusInfo&quot;, &quot;User status info&quot;),</span>
<a href="#l4.24"></a><span id="l4.24"> </span>
<a href="#l4.25"></a><span id="l4.25">   unInit: function() {</span>
<a href="#l4.26"></a><span id="l4.26">     this._observers = [];</span>
<a href="#l4.27"></a><span id="l4.27">     Services.prefs.removeObserver(kPrefReportIdle, this);</span>
<a href="#l4.28"></a><span id="l4.28">     if (this._observingIdleness)</span>
<a href="#l4.29"></a><span id="l4.29" class="difflineat">@@ -47,22 +47,22 @@ UserStatus.prototype = {</span>
<a href="#l4.30"></a><span id="l4.30">     Services.obs.removeObserver(this, NS_IOSERVICE_GOING_OFFLINE_TOPIC);</span>
<a href="#l4.31"></a><span id="l4.31">     Services.obs.removeObserver(this, NS_IOSERVICE_OFFLINE_STATUS_TOPIC);</span>
<a href="#l4.32"></a><span id="l4.32">   },</span>
<a href="#l4.33"></a><span id="l4.33">   _observingIdleness: false,</span>
<a href="#l4.34"></a><span id="l4.34">   _addIdleObserver: function() {</span>
<a href="#l4.35"></a><span id="l4.35">     this._observingIdleness = true;</span>
<a href="#l4.36"></a><span id="l4.36">     this._idleService =</span>
<a href="#l4.37"></a><span id="l4.37">       Cc[&quot;@mozilla.org/widget/idleservice;1&quot;].getService(Ci.nsIIdleService);</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-    Services.obs.addObserver(this, &quot;im-sent&quot;, false);</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineplus">+    Services.obs.addObserver(this, &quot;im-sent&quot;);</span>
<a href="#l4.40"></a><span id="l4.40"> </span>
<a href="#l4.41"></a><span id="l4.41">     this._timeBeforeIdle = Services.prefs.getIntPref(kPrefTimeBeforeIdle);</span>
<a href="#l4.42"></a><span id="l4.42">     if (this._timeBeforeIdle &lt; 0)</span>
<a href="#l4.43"></a><span id="l4.43">       this._timeBeforeIdle = 0;</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineminus">-    Services.prefs.addObserver(kPrefTimeBeforeIdle, this, false);</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineplus">+    Services.prefs.addObserver(kPrefTimeBeforeIdle, this);</span>
<a href="#l4.46"></a><span id="l4.46">     if (this._timeBeforeIdle)</span>
<a href="#l4.47"></a><span id="l4.47">       this._idleService.addIdleObserver(this, this._timeBeforeIdle);</span>
<a href="#l4.48"></a><span id="l4.48">   },</span>
<a href="#l4.49"></a><span id="l4.49">   _removeIdleObserver: function() {</span>
<a href="#l4.50"></a><span id="l4.50">     if (this._timeBeforeIdle)</span>
<a href="#l4.51"></a><span id="l4.51">       this._idleService.removeIdleObserver(this, this._timeBeforeIdle);</span>
<a href="#l4.52"></a><span id="l4.52"> </span>
<a href="#l4.53"></a><span id="l4.53">     Services.prefs.removeObserver(kPrefTimeBeforeIdle, this);</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineat">@@ -242,17 +242,17 @@ CoreService.prototype = {</span>
<a href="#l4.55"></a><span id="l4.55">   _initialized: false,</span>
<a href="#l4.56"></a><span id="l4.56">   get initialized() { return this._initialized; },</span>
<a href="#l4.57"></a><span id="l4.57">   init: function() {</span>
<a href="#l4.58"></a><span id="l4.58">     if (this._initialized)</span>
<a href="#l4.59"></a><span id="l4.59">       return;</span>
<a href="#l4.60"></a><span id="l4.60"> </span>
<a href="#l4.61"></a><span id="l4.61">     initLogModule(&quot;core&quot;, this);</span>
<a href="#l4.62"></a><span id="l4.62"> </span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-    Services.obs.addObserver(this, kQuitApplicationGranted, false);</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineplus">+    Services.obs.addObserver(this, kQuitApplicationGranted);</span>
<a href="#l4.65"></a><span id="l4.65">     this._initialized = true;</span>
<a href="#l4.66"></a><span id="l4.66"> </span>
<a href="#l4.67"></a><span id="l4.67">     Services.cmd.initCommands();</span>
<a href="#l4.68"></a><span id="l4.68">     this._protos = {};</span>
<a href="#l4.69"></a><span id="l4.69"> </span>
<a href="#l4.70"></a><span id="l4.70">     this.globalUserStatus = new UserStatus();</span>
<a href="#l4.71"></a><span id="l4.71">     this.globalUserStatus.addObserver({</span>
<a href="#l4.72"></a><span id="l4.72">       observe: function(aSubject, aTopic, aData) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/chat/components/src/logger.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/chat/components/src/logger.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -884,24 +884,24 @@ Logger.prototype = {</span>
<a href="#l5.4"></a><span id="l5.4">         iterator.close();</span>
<a href="#l5.5"></a><span id="l5.5">       }</span>
<a href="#l5.6"></a><span id="l5.6">     }</span>
<a href="#l5.7"></a><span id="l5.7">   }),</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9">   observe: function logger_observe(aSubject, aTopic, aData) {</span>
<a href="#l5.10"></a><span id="l5.10">     switch (aTopic) {</span>
<a href="#l5.11"></a><span id="l5.11">     case &quot;profile-after-change&quot;:</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-      Services.obs.addObserver(this, &quot;final-ui-startup&quot;, false);</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+      Services.obs.addObserver(this, &quot;final-ui-startup&quot;);</span>
<a href="#l5.14"></a><span id="l5.14">       break;</span>
<a href="#l5.15"></a><span id="l5.15">     case &quot;final-ui-startup&quot;:</span>
<a href="#l5.16"></a><span id="l5.16">       Services.obs.removeObserver(this, &quot;final-ui-startup&quot;);</span>
<a href="#l5.17"></a><span id="l5.17">       [&quot;new-text&quot;, &quot;conversation-closed&quot;, &quot;conversation-left-chat&quot;,</span>
<a href="#l5.18"></a><span id="l5.18">        &quot;account-connected&quot;, &quot;account-disconnected&quot;,</span>
<a href="#l5.19"></a><span id="l5.19">        &quot;account-buddy-status-changed&quot;].forEach(function(aEvent) {</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineminus">-        Services.obs.addObserver(this, aEvent, false);</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+        Services.obs.addObserver(this, aEvent);</span>
<a href="#l5.22"></a><span id="l5.22">       }, this);</span>
<a href="#l5.23"></a><span id="l5.23">       break;</span>
<a href="#l5.24"></a><span id="l5.24">     case &quot;new-text&quot;:</span>
<a href="#l5.25"></a><span id="l5.25">       if (!aSubject.noLog) {</span>
<a href="#l5.26"></a><span id="l5.26">         let log = getLogWriter(aSubject.conversation);</span>
<a href="#l5.27"></a><span id="l5.27">         log.logMessage(aSubject);</span>
<a href="#l5.28"></a><span id="l5.28">       }</span>
<a href="#l5.29"></a><span id="l5.29">       break;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/chat/content/convbrowser.xml</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/chat/content/convbrowser.xml</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -227,17 +227,17 @@</span>
<a href="#l6.4"></a><span id="l6.4">                 readonly=&quot;true&quot;/&gt;</span>
<a href="#l6.5"></a><span id="l6.5">       &lt;field name=&quot;magicCopyInitialized&quot;&gt;false&lt;/field&gt;</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7">       &lt;method name=&quot;initMagicCopy&quot;&gt;</span>
<a href="#l6.8"></a><span id="l6.8">         &lt;body&gt;</span>
<a href="#l6.9"></a><span id="l6.9">           &lt;![CDATA[</span>
<a href="#l6.10"></a><span id="l6.10">           if (this.magicCopyInitialized)</span>
<a href="#l6.11"></a><span id="l6.11">             return;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-          Services.prefs.addObserver(this.magicCopyPref, this, false);</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+          Services.prefs.addObserver(this.magicCopyPref, this);</span>
<a href="#l6.14"></a><span id="l6.14">           this.magicCopyInitialized = true;</span>
<a href="#l6.15"></a><span id="l6.15">           if (this.magicCopyEnabled)</span>
<a href="#l6.16"></a><span id="l6.16">             this.enableMagicCopy();</span>
<a href="#l6.17"></a><span id="l6.17">           ]]&gt;</span>
<a href="#l6.18"></a><span id="l6.18">         &lt;/body&gt;</span>
<a href="#l6.19"></a><span id="l6.19">       &lt;/method&gt;</span>
<a href="#l6.20"></a><span id="l6.20"> </span>
<a href="#l6.21"></a><span id="l6.21">       &lt;method name=&quot;uninitMagicCopy&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/chat/content/imtooltip.xml</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/chat/content/imtooltip.xml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -207,17 +207,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">          // requestBuddyInfo that is suitable for displaying inside a</span>
<a href="#l7.5"></a><span id="l7.5">          // tooltip (e.g. too many objects, or &lt;img&gt; and &lt;a&gt; tags),</span>
<a href="#l7.6"></a><span id="l7.6">          // so we only use it for JS prpls.</span>
<a href="#l7.7"></a><span id="l7.7">          // This is a terrible, terrible hack to work around the fact that</span>
<a href="#l7.8"></a><span id="l7.8">          // ClassInfo.implementationLanguage has gone.</span>
<a href="#l7.9"></a><span id="l7.9">          if (!aAccount.prplAccount.wrappedJSObject)</span>
<a href="#l7.10"></a><span id="l7.10">            return;</span>
<a href="#l7.11"></a><span id="l7.11">          this.observedUserInfo = aObservedName;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-         Services.obs.addObserver(this, &quot;user-info-received&quot;, false);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+         Services.obs.addObserver(this, &quot;user-info-received&quot;);</span>
<a href="#l7.14"></a><span id="l7.14">          aAccount.requestBuddyInfo(aObservedName);</span>
<a href="#l7.15"></a><span id="l7.15">        ]]&gt;</span>
<a href="#l7.16"></a><span id="l7.16">        &lt;/body&gt;</span>
<a href="#l7.17"></a><span id="l7.17">      &lt;/method&gt;</span>
<a href="#l7.18"></a><span id="l7.18"> </span>
<a href="#l7.19"></a><span id="l7.19">      &lt;method name=&quot;updateTooltipFromBuddy&quot;&gt;</span>
<a href="#l7.20"></a><span id="l7.20">        &lt;parameter name=&quot;aBuddy&quot;/&gt;</span>
<a href="#l7.21"></a><span id="l7.21">        &lt;body&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/chat/modules/imContentSink.jsm</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/chat/modules/imContentSink.jsm</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -165,17 +165,17 @@ var kModePref = &quot;messenger.options.filte</span>
<a href="#l8.4"></a><span id="l8.4"> var kModes = [kStrictMode, kStandardMode, kPermissiveMode];</span>
<a href="#l8.5"></a><span id="l8.5"> </span>
<a href="#l8.6"></a><span id="l8.6"> var gGlobalRuleset = null;</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> function initGlobalRuleset()</span>
<a href="#l8.9"></a><span id="l8.9"> {</span>
<a href="#l8.10"></a><span id="l8.10">   gGlobalRuleset = newRuleset();</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-  Services.prefs.addObserver(kModePref, styleObserver, false);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+  Services.prefs.addObserver(kModePref, styleObserver);</span>
<a href="#l8.14"></a><span id="l8.14"> }</span>
<a href="#l8.15"></a><span id="l8.15"> </span>
<a href="#l8.16"></a><span id="l8.16"> var styleObserver = {</span>
<a href="#l8.17"></a><span id="l8.17">   observe: function so_observe(aObject, aTopic, aMsg) {</span>
<a href="#l8.18"></a><span id="l8.18">     if (aTopic != &quot;nsPref:changed&quot; || aMsg != kModePref)</span>
<a href="#l8.19"></a><span id="l8.19">       throw &quot;bad notification&quot;;</span>
<a href="#l8.20"></a><span id="l8.20"> </span>
<a href="#l8.21"></a><span id="l8.21">     if (!gGlobalRuleset)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/chat/modules/imSmileys.jsm</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/chat/modules/imSmileys.jsm</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -26,17 +26,17 @@ var kThemeFile = &quot;theme.js&quot;;</span>
<a href="#l9.4"></a><span id="l9.4"> this.__defineGetter__(&quot;gTheme&quot;, function() {</span>
<a href="#l9.5"></a><span id="l9.5">   delete this.gTheme;</span>
<a href="#l9.6"></a><span id="l9.6">   gPrefObserver.init();</span>
<a href="#l9.7"></a><span id="l9.7">   return this.gTheme = getTheme();</span>
<a href="#l9.8"></a><span id="l9.8"> });</span>
<a href="#l9.9"></a><span id="l9.9"> </span>
<a href="#l9.10"></a><span id="l9.10"> var gPrefObserver = {</span>
<a href="#l9.11"></a><span id="l9.11">   init: function po_init() {</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-    Services.prefs.addObserver(kEmoticonsThemePref, gPrefObserver, false);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+    Services.prefs.addObserver(kEmoticonsThemePref, gPrefObserver);</span>
<a href="#l9.14"></a><span id="l9.14">   },</span>
<a href="#l9.15"></a><span id="l9.15"> </span>
<a href="#l9.16"></a><span id="l9.16">   observe: function so_observe(aObject, aTopic, aMsg) {</span>
<a href="#l9.17"></a><span id="l9.17">     if (aTopic != &quot;nsPref:changed&quot; || aMsg != kEmoticonsThemePref)</span>
<a href="#l9.18"></a><span id="l9.18">       throw &quot;bad notification&quot;;</span>
<a href="#l9.19"></a><span id="l9.19"> </span>
<a href="#l9.20"></a><span id="l9.20">     gTheme = getTheme();</span>
<a href="#l9.21"></a><span id="l9.21">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/chat/modules/imTextboxUtils.jsm</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/chat/modules/imTextboxUtils.jsm</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -43,17 +43,17 @@ var MessageFormat = {</span>
<a href="#l10.4"></a><span id="l10.4">       &quot;font.language.group&quot;,</span>
<a href="#l10.5"></a><span id="l10.5">       &quot;font.default.&quot; + langGroup,</span>
<a href="#l10.6"></a><span id="l10.6">       &quot;font.name.&quot; + fontGroup + &quot;.&quot; + langGroup,</span>
<a href="#l10.7"></a><span id="l10.7">       &quot;font.size.variable.&quot; + langGroup,</span>
<a href="#l10.8"></a><span id="l10.8">       &quot;browser.display.foreground_color&quot;,</span>
<a href="#l10.9"></a><span id="l10.9">       &quot;browser.display.use_system_colors&quot;</span>
<a href="#l10.10"></a><span id="l10.10">     ];</span>
<a href="#l10.11"></a><span id="l10.11">     for (let name of this._observedPrefs)</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-      Services.prefs.addObserver(name, this, false);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+      Services.prefs.addObserver(name, this);</span>
<a href="#l10.14"></a><span id="l10.14">   },</span>
<a href="#l10.15"></a><span id="l10.15">   unregisterObservers: function mf_unregisterObservers() {</span>
<a href="#l10.16"></a><span id="l10.16">     for (let name of this._observedPrefs)</span>
<a href="#l10.17"></a><span id="l10.17">       Services.prefs.removeObserver(name, this);</span>
<a href="#l10.18"></a><span id="l10.18">     this._observedPrefs = [];</span>
<a href="#l10.19"></a><span id="l10.19">   },</span>
<a href="#l10.20"></a><span id="l10.20">   observe: function(aSubject, aTopic, aMsg) {</span>
<a href="#l10.21"></a><span id="l10.21">     this.getValues();</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineat">@@ -106,17 +106,17 @@ var MessageFormat = {</span>
<a href="#l10.23"></a><span id="l10.23">       this.unregisterObservers();</span>
<a href="#l10.24"></a><span id="l10.24">   }</span>
<a href="#l10.25"></a><span id="l10.25"> };</span>
<a href="#l10.26"></a><span id="l10.26"> </span>
<a href="#l10.27"></a><span id="l10.27"> var TextboxSize = {</span>
<a href="#l10.28"></a><span id="l10.28">   _textboxAutoResizePrefName: &quot;messenger.conversations.textbox.autoResize&quot;,</span>
<a href="#l10.29"></a><span id="l10.29">   get autoResize() {</span>
<a href="#l10.30"></a><span id="l10.30">     delete this.autoResize;</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-    Services.prefs.addObserver(this._textboxAutoResizePrefName, this, false);</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+    Services.prefs.addObserver(this._textboxAutoResizePrefName, this);</span>
<a href="#l10.33"></a><span id="l10.33">     return this.autoResize =</span>
<a href="#l10.34"></a><span id="l10.34">       Services.prefs.getBoolPref(this._textboxAutoResizePrefName);</span>
<a href="#l10.35"></a><span id="l10.35">   },</span>
<a href="#l10.36"></a><span id="l10.36">   observe: function(aSubject, aTopic, aMsg) {</span>
<a href="#l10.37"></a><span id="l10.37">     if (aTopic == &quot;nsPref:changed&quot; &amp;&amp; aMsg == this._textboxAutoResizePrefName)</span>
<a href="#l10.38"></a><span id="l10.38">       this.autoResize = Services.prefs.getBoolPref(aMsg);</span>
<a href="#l10.39"></a><span id="l10.39">   }</span>
<a href="#l10.40"></a><span id="l10.40"> };</span>
<a href="#l10.41"></a><span id="l10.41" class="difflineat">@@ -143,17 +143,17 @@ var TextboxSpellChecker = {</span>
<a href="#l10.42"></a><span id="l10.42">   },</span>
<a href="#l10.43"></a><span id="l10.43"> </span>
<a href="#l10.44"></a><span id="l10.44">   _textboxes: [],</span>
<a href="#l10.45"></a><span id="l10.45">   registerTextbox: function tsc_registerTextbox(aTextbox) {</span>
<a href="#l10.46"></a><span id="l10.46">     if (!this._textboxes.includes(aTextbox))</span>
<a href="#l10.47"></a><span id="l10.47">       this._textboxes.push(aTextbox);</span>
<a href="#l10.48"></a><span id="l10.48"> </span>
<a href="#l10.49"></a><span id="l10.49">     if (this._textboxes.length == 1) {</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineminus">-      Services.prefs.addObserver(this._spellCheckPrefName, this, false);</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineplus">+      Services.prefs.addObserver(this._spellCheckPrefName, this);</span>
<a href="#l10.52"></a><span id="l10.52">       this.getValue();</span>
<a href="#l10.53"></a><span id="l10.53">     }</span>
<a href="#l10.54"></a><span id="l10.54"> </span>
<a href="#l10.55"></a><span id="l10.55">     this.applyValue(aTextbox);</span>
<a href="#l10.56"></a><span id="l10.56">   },</span>
<a href="#l10.57"></a><span id="l10.57">   unregisterTextbox: function tsc_unregisterTextbox(aTextbox) {</span>
<a href="#l10.58"></a><span id="l10.58">     let index = this._textboxes.indexOf(aTextbox);</span>
<a href="#l10.59"></a><span id="l10.59">     if (index != -1)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/chat/modules/socket.jsm</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/chat/modules/socket.jsm</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -144,17 +144,17 @@ var Socket = {</span>
<a href="#l11.4"></a><span id="l11.4">   // checking the certificate for them (see nsIRoutedSocketTransportService</span>
<a href="#l11.5"></a><span id="l11.5">   // in nsISocketTransportService.idl).</span>
<a href="#l11.6"></a><span id="l11.6">   connect: function(aOriginHost, aOriginPort, aSecurity, aProxy,</span>
<a href="#l11.7"></a><span id="l11.7">                     aHost = aOriginHost, aPort = aOriginPort) {</span>
<a href="#l11.8"></a><span id="l11.8">     if (Services.io.offline)</span>
<a href="#l11.9"></a><span id="l11.9">       throw Cr.NS_ERROR_FAILURE;</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11">     // This won't work for Linux due to bug 758848.</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;wake_notification&quot;, false);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;wake_notification&quot;);</span>
<a href="#l11.14"></a><span id="l11.14"> </span>
<a href="#l11.15"></a><span id="l11.15">     this.LOG(&quot;Connecting to: &quot; + aHost + &quot;:&quot; + aPort);</span>
<a href="#l11.16"></a><span id="l11.16">     this.originHost = aOriginHost;</span>
<a href="#l11.17"></a><span id="l11.17">     this.originPort = aOriginPort;</span>
<a href="#l11.18"></a><span id="l11.18">     this.host = aHost;</span>
<a href="#l11.19"></a><span id="l11.19">     this.port = aPort;</span>
<a href="#l11.20"></a><span id="l11.20">     this.disconnected = false;</span>
<a href="#l11.21"></a><span id="l11.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/chat/protocols/irc/irc.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/chat/protocols/irc/irc.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -270,17 +270,17 @@ var GenericIRCConversation = {</span>
<a href="#l12.4"></a><span id="l12.4">     let longestLineLength =</span>
<a href="#l12.5"></a><span id="l12.5">       Math.max.apply(null, aString.split(&quot;\n&quot;).map(this._account.countBytes,</span>
<a href="#l12.6"></a><span id="l12.6">                                                    this._account));</span>
<a href="#l12.7"></a><span id="l12.7">     return this.getMaxMessageLength() - longestLineLength;</span>
<a href="#l12.8"></a><span id="l12.8">   },</span>
<a href="#l12.9"></a><span id="l12.9"> </span>
<a href="#l12.10"></a><span id="l12.10">   requestCurrentWhois: function(aNick) {</span>
<a href="#l12.11"></a><span id="l12.11">     if (!this._observedNicks.length)</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-      Services.obs.addObserver(this, &quot;user-info-received&quot;, false);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+      Services.obs.addObserver(this, &quot;user-info-received&quot;);</span>
<a href="#l12.14"></a><span id="l12.14">     this._observedNicks.push(this.normalizeNick(aNick));</span>
<a href="#l12.15"></a><span id="l12.15">     this._account.requestCurrentWhois(aNick);</span>
<a href="#l12.16"></a><span id="l12.16">   },</span>
<a href="#l12.17"></a><span id="l12.17"> </span>
<a href="#l12.18"></a><span id="l12.18">   observe: function(aSubject, aTopic, aData) {</span>
<a href="#l12.19"></a><span id="l12.19">     if (aTopic != &quot;user-info-received&quot;)</span>
<a href="#l12.20"></a><span id="l12.20">       return;</span>
<a href="#l12.21"></a><span id="l12.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/chat/protocols/twitter/twitter.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/chat/protocols/twitter/twitter.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -789,17 +789,17 @@ Account.prototype = {</span>
<a href="#l13.4"></a><span id="l13.4">     let track = this.getString(&quot;track&quot;);</span>
<a href="#l13.5"></a><span id="l13.5">     this._streamingRequest =</span>
<a href="#l13.6"></a><span id="l13.6">       this.signAndSend(&quot;https://userstream.twitter.com/1.1/user.json&quot;, null,</span>
<a href="#l13.7"></a><span id="l13.7">                        track ? [[&quot;track&quot;, track]] : [], this.openStream,</span>
<a href="#l13.8"></a><span id="l13.8">                        this.onStreamError, this);</span>
<a href="#l13.9"></a><span id="l13.9">     this._streamingRequest.responseType = &quot;moz-chunked-text&quot;;</span>
<a href="#l13.10"></a><span id="l13.10">     this._streamingRequest.onprogress = this.onDataAvailable.bind(this);</span>
<a href="#l13.11"></a><span id="l13.11">     this.resetStreamTimeout();</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-    this.prefs.addObserver(&quot;track&quot;, this, false);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+    this.prefs.addObserver(&quot;track&quot;, this);</span>
<a href="#l13.14"></a><span id="l13.14">   },</span>
<a href="#l13.15"></a><span id="l13.15">   _streamTimeout: null,</span>
<a href="#l13.16"></a><span id="l13.16">   resetStreamTimeout: function() {</span>
<a href="#l13.17"></a><span id="l13.17">     if (this._streamTimeout)</span>
<a href="#l13.18"></a><span id="l13.18">       clearTimeout(this._streamTimeout);</span>
<a href="#l13.19"></a><span id="l13.19">     // The twitter Streaming API sends a keep-alive newline every 30 seconds</span>
<a href="#l13.20"></a><span id="l13.20">     // so if we haven't received anything for 90s, we should disconnect and try</span>
<a href="#l13.21"></a><span id="l13.21">     // to reconnect.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/editor/ui/composer/content/editingOverlay.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/editor/ui/composer/content/editingOverlay.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -179,17 +179,17 @@ function EditorStartup(aUrl, aCharset)</span>
<a href="#l14.4"></a><span id="l14.4">   //  such as file-related commands, HTML Source editing, Edit Modes...</span>
<a href="#l14.5"></a><span id="l14.5">   SetupComposerWindowCommands();</span>
<a href="#l14.6"></a><span id="l14.6"> </span>
<a href="#l14.7"></a><span id="l14.7">   ShowHideToolbarButtons();</span>
<a href="#l14.8"></a><span id="l14.8">   gEditorToolbarPrefListener = new nsPrefListener(kEditorToolbarPrefs);</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10">   gCSSPrefListener = new nsPrefListener(kUseCssPref);</span>
<a href="#l14.11"></a><span id="l14.11">   gReturnInParagraphPrefListener = new nsPrefListener(kCRInParagraphsPref);</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-  Services.obs.addObserver(EditorCanClose, &quot;quit-application-requested&quot;, false);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+  Services.obs.addObserver(EditorCanClose, &quot;quit-application-requested&quot;);</span>
<a href="#l14.14"></a><span id="l14.14"> </span>
<a href="#l14.15"></a><span id="l14.15">   // Get url for editor content and load it. The editor gets instantiated by</span>
<a href="#l14.16"></a><span id="l14.16">   // the editingSession when the URL has finished loading.</span>
<a href="#l14.17"></a><span id="l14.17">   try {</span>
<a href="#l14.18"></a><span id="l14.18">     var contentViewer = GetCurrentEditorElement().markupDocumentViewer;</span>
<a href="#l14.19"></a><span id="l14.19">     contentViewer.forceCharacterSet = aCharset;</span>
<a href="#l14.20"></a><span id="l14.20">   } catch (e) {}</span>
<a href="#l14.21"></a><span id="l14.21">   EditorLoadUrl(aUrl);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/editor/ui/composer/content/editor.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/editor/ui/composer/content/editor.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -106,17 +106,17 @@ function nsPrefListener(prefName)</span>
<a href="#l15.4"></a><span id="l15.4"> // implements nsIObserver</span>
<a href="#l15.5"></a><span id="l15.5"> nsPrefListener.prototype =</span>
<a href="#l15.6"></a><span id="l15.6"> {</span>
<a href="#l15.7"></a><span id="l15.7">   domain: &quot;&quot;,</span>
<a href="#l15.8"></a><span id="l15.8">   startup: function(prefName)</span>
<a href="#l15.9"></a><span id="l15.9">   {</span>
<a href="#l15.10"></a><span id="l15.10">     this.domain = prefName;</span>
<a href="#l15.11"></a><span id="l15.11">     try {</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-      Services.prefs.addObserver(this.domain, this, false);</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+      Services.prefs.addObserver(this.domain, this);</span>
<a href="#l15.14"></a><span id="l15.14">     } catch(ex) {</span>
<a href="#l15.15"></a><span id="l15.15">       dump(&quot;Failed to observe prefs: &quot; + ex + &quot;\n&quot;);</span>
<a href="#l15.16"></a><span id="l15.16">     }</span>
<a href="#l15.17"></a><span id="l15.17">   },</span>
<a href="#l15.18"></a><span id="l15.18">   shutdown: function()</span>
<a href="#l15.19"></a><span id="l15.19">   {</span>
<a href="#l15.20"></a><span id="l15.20">     try {</span>
<a href="#l15.21"></a><span id="l15.21">       Services.prefs.removeObserver(this.domain, this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/editor/ui/composer/content/pref-editing.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/editor/ui/composer/content/pref-editing.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -24,22 +24,22 @@ const browserPrefsObserver =</span>
<a href="#l16.4"></a><span id="l16.4">         SetBgAndFgColors(Services.prefs.getBoolPref(&quot;browser.display.use_system_colors&quot;))</span>
<a href="#l16.5"></a><span id="l16.5">     }</span>
<a href="#l16.6"></a><span id="l16.6">   }</span>
<a href="#l16.7"></a><span id="l16.7"> };</span>
<a href="#l16.8"></a><span id="l16.8"> </span>
<a href="#l16.9"></a><span id="l16.9"> function Startup()</span>
<a href="#l16.10"></a><span id="l16.10"> {</span>
<a href="#l16.11"></a><span id="l16.11">   // Add browser prefs observers</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-  Services.prefs.addObserver(&quot;browser.display.use_system_colors&quot;, browserPrefsObserver, false);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-  Services.prefs.addObserver(&quot;browser.display.foreground_color&quot;, browserPrefsObserver, false);</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineminus">-  Services.prefs.addObserver(&quot;browser.display.background_color&quot;, browserPrefsObserver, false);</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineminus">-  Services.prefs.addObserver(&quot;browser.anchor_color&quot;, browserPrefsObserver, false);</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineminus">-  Services.prefs.addObserver(&quot;browser.active_color&quot;, browserPrefsObserver, false);</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineminus">-  Services.prefs.addObserver(&quot;browser.visited_color&quot;, browserPrefsObserver, false);</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineplus">+  Services.prefs.addObserver(&quot;browser.display.use_system_colors&quot;, browserPrefsObserver);</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineplus">+  Services.prefs.addObserver(&quot;browser.display.foreground_color&quot;, browserPrefsObserver);</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineplus">+  Services.prefs.addObserver(&quot;browser.display.background_color&quot;, browserPrefsObserver);</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineplus">+  Services.prefs.addObserver(&quot;browser.anchor_color&quot;, browserPrefsObserver);</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineplus">+  Services.prefs.addObserver(&quot;browser.active_color&quot;, browserPrefsObserver);</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+  Services.prefs.addObserver(&quot;browser.visited_color&quot;, browserPrefsObserver);</span>
<a href="#l16.24"></a><span id="l16.24"> </span>
<a href="#l16.25"></a><span id="l16.25">   // Add event listener so we can remove our observers</span>
<a href="#l16.26"></a><span id="l16.26">   window.addEventListener(&quot;unload&quot;, WindowOnUnload, {capture: false, once: true});</span>
<a href="#l16.27"></a><span id="l16.27">   UpdateDependent(document.getElementById(&quot;editor.use_custom_colors&quot;).value);</span>
<a href="#l16.28"></a><span id="l16.28"> }</span>
<a href="#l16.29"></a><span id="l16.29"> </span>
<a href="#l16.30"></a><span id="l16.30"> function GetColorAndUpdatePref(aType, aButtonID)</span>
<a href="#l16.31"></a><span id="l16.31"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/im/components/ibConvStatsService.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/im/components/ibConvStatsService.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -141,17 +141,17 @@ ConvStatsService.prototype = {</span>
<a href="#l17.4"></a><span id="l17.4">   _statsCacheUpdateTimer: null,</span>
<a href="#l17.5"></a><span id="l17.5">   _statsCacheFilePath: null,</span>
<a href="#l17.6"></a><span id="l17.6"> </span>
<a href="#l17.7"></a><span id="l17.7">   _init: function() {</span>
<a href="#l17.8"></a><span id="l17.8">     let contacts = Services.contacts.getContacts();</span>
<a href="#l17.9"></a><span id="l17.9">     for (let contact of contacts)</span>
<a href="#l17.10"></a><span id="l17.10">       this._addContact(contact);</span>
<a href="#l17.11"></a><span id="l17.11">     for (let notification of kNotificationsToObserve)</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-      Services.obs.addObserver(this, notification, false);</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+      Services.obs.addObserver(this, notification);</span>
<a href="#l17.14"></a><span id="l17.14"> </span>
<a href="#l17.15"></a><span id="l17.15">     // Read all our conversation stats from the cache.</span>
<a href="#l17.16"></a><span id="l17.16">     this._statsCacheFilePath =</span>
<a href="#l17.17"></a><span id="l17.17">       OS.Path.join(OS.Constants.Path.profileDir, &quot;statsservicecache.json&quot;);</span>
<a href="#l17.18"></a><span id="l17.18">     OS.File.read(this._statsCacheFilePath).then((aArray) =&gt; {</span>
<a href="#l17.19"></a><span id="l17.19">       try {</span>
<a href="#l17.20"></a><span id="l17.20">         let {version: version, stats: allStats} =</span>
<a href="#l17.21"></a><span id="l17.21">           JSON.parse((new TextDecoder()).decode(aArray));</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineat">@@ -440,17 +440,17 @@ ConvStatsService.prototype = {</span>
<a href="#l17.23"></a><span id="l17.23">   // Maps prplConversation ids to their ConversationStats objects.</span>
<a href="#l17.24"></a><span id="l17.24">   _statsByPrplConvId: new Map(),</span>
<a href="#l17.25"></a><span id="l17.25">   // Maps prplConversation ids to the corresponding PossibleConversations.</span>
<a href="#l17.26"></a><span id="l17.26">   _convsByPrplConvId: new Map(),</span>
<a href="#l17.27"></a><span id="l17.27">   // These will be repositioned to reflect their new scores when a newtab is opened.</span>
<a href="#l17.28"></a><span id="l17.28">   _convsWithUpdatedStats: new Set(),</span>
<a href="#l17.29"></a><span id="l17.29">   observe: function(aSubject, aTopic, aData) {</span>
<a href="#l17.30"></a><span id="l17.30">     if (aTopic == &quot;profile-after-change&quot;)</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-      Services.obs.addObserver(this, &quot;prpl-init&quot;, false);</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+      Services.obs.addObserver(this, &quot;prpl-init&quot;);</span>
<a href="#l17.33"></a><span id="l17.33">     else if (aTopic == &quot;prpl-init&quot;) {</span>
<a href="#l17.34"></a><span id="l17.34">       executeSoon(() =&gt; this._init());</span>
<a href="#l17.35"></a><span id="l17.35">       Services.obs.removeObserver(this, &quot;prpl-init&quot;);</span>
<a href="#l17.36"></a><span id="l17.36">     }</span>
<a href="#l17.37"></a><span id="l17.37">     else if (aTopic == &quot;prpl-quit&quot;) {</span>
<a href="#l17.38"></a><span id="l17.38">       // Update the stats cache only if there was already an update scheduled.</span>
<a href="#l17.39"></a><span id="l17.39">       if (this._statsCacheUpdateTimer)</span>
<a href="#l17.40"></a><span id="l17.40">         this._cacheAllStats();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/im/components/ibDockBadge.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/im/components/ibDockBadge.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -38,18 +38,18 @@ DockBadge.prototype = {</span>
<a href="#l18.4"></a><span id="l18.4">     if (this._badgeTimer)</span>
<a href="#l18.5"></a><span id="l18.5">       this._badgeTimer.cancel();</span>
<a href="#l18.6"></a><span id="l18.6">     MacDock.badgeText = &quot;&quot;;</span>
<a href="#l18.7"></a><span id="l18.7">   },</span>
<a href="#l18.8"></a><span id="l18.8"> </span>
<a href="#l18.9"></a><span id="l18.9">   observe: function(aSubject, aTopic, aData) {</span>
<a href="#l18.10"></a><span id="l18.10">     switch (aTopic) {</span>
<a href="#l18.11"></a><span id="l18.11">     case &quot;profile-after-change&quot;:</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-      Services.obs.addObserver(this, &quot;unread-im-count-changed&quot;, false);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineminus">-      Services.prefs.addObserver(this._showDockBadgePrefName, this, false);</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+      Services.obs.addObserver(this, &quot;unread-im-count-changed&quot;);</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+      Services.prefs.addObserver(this._showDockBadgePrefName, this);</span>
<a href="#l18.16"></a><span id="l18.16">       break;</span>
<a href="#l18.17"></a><span id="l18.17">     case &quot;nsPref:changed&quot;:</span>
<a href="#l18.18"></a><span id="l18.18">       if (aData == this._showDockBadgePrefName) {</span>
<a href="#l18.19"></a><span id="l18.19">         if (Services.prefs.getBoolPref(aData))</span>
<a href="#l18.20"></a><span id="l18.20">           this._showUnreadCount();</span>
<a href="#l18.21"></a><span id="l18.21">         else</span>
<a href="#l18.22"></a><span id="l18.22">           this._hideUnreadCountDockBadge();</span>
<a href="#l18.23"></a><span id="l18.23">       }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/im/components/mintrayr/content/mintrayr.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/im/components/mintrayr/content/mintrayr.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -36,17 +36,17 @@ var gMinTrayR = {</span>
<a href="#l19.4"></a><span id="l19.4"> </span>
<a href="#l19.5"></a><span id="l19.5">     this.trayService =</span>
<a href="#l19.6"></a><span id="l19.6">       Components.classes['@tn123.ath.cx/trayservice;1']</span>
<a href="#l19.7"></a><span id="l19.7">                 .getService(Components.interfaces.trayITrayService);</span>
<a href="#l19.8"></a><span id="l19.8">     this.trayService.watchMinimize(window);</span>
<a href="#l19.9"></a><span id="l19.9"> </span>
<a href="#l19.10"></a><span id="l19.10">     this._prefs = Services.prefs.getBranch(&quot;extensions.mintrayr.&quot;)</span>
<a href="#l19.11"></a><span id="l19.11">                                 .QueryInterface(Components.interfaces.nsIPrefBranch);</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-    this._prefs.addObserver(&quot;alwaysShowTrayIcon&quot;, this, false);</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+    this._prefs.addObserver(&quot;alwaysShowTrayIcon&quot;, this);</span>
<a href="#l19.14"></a><span id="l19.14"> </span>
<a href="#l19.15"></a><span id="l19.15">     // Add a listener to minimize the window on startup once it has been</span>
<a href="#l19.16"></a><span id="l19.16">     // fully created if the corresponding pref is set.</span>
<a href="#l19.17"></a><span id="l19.17">     if (this._prefs.getBoolPref(&quot;startMinimized&quot;)) {</span>
<a href="#l19.18"></a><span id="l19.18">       window.addEventListener(&quot;focus&quot;, () =&gt; {</span>
<a href="#l19.19"></a><span id="l19.19">         if (gMinTrayR._prefs.getIntPref(&quot;minimizeon&quot;))</span>
<a href="#l19.20"></a><span id="l19.20">           gMinTrayR.minimize();</span>
<a href="#l19.21"></a><span id="l19.21">         else</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/im/content/account.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/im/content/account.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -55,17 +55,17 @@ var account = {</span>
<a href="#l20.4"></a><span id="l20.4">     let proxyVisible = this.proto.usePurpleProxy;</span>
<a href="#l20.5"></a><span id="l20.5">     if (proxyVisible) {</span>
<a href="#l20.6"></a><span id="l20.6">       this.proxy = this.account.proxyInfo;</span>
<a href="#l20.7"></a><span id="l20.7">       this.displayProxyDescription();</span>
<a href="#l20.8"></a><span id="l20.8">     }</span>
<a href="#l20.9"></a><span id="l20.9">     document.getElementById(&quot;proxyBox&quot;).hidden = !proxyVisible;</span>
<a href="#l20.10"></a><span id="l20.10">     document.getElementById(&quot;proxySeparator&quot;).hidden = !proxyVisible;</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;prpl-quit&quot;, false);</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;prpl-quit&quot;);</span>
<a href="#l20.14"></a><span id="l20.14">     window.addEventListener(&quot;unload&quot;, this.unload);</span>
<a href="#l20.15"></a><span id="l20.15">   },</span>
<a href="#l20.16"></a><span id="l20.16">   unload: function account_unload() {</span>
<a href="#l20.17"></a><span id="l20.17">     Services.obs.removeObserver(account, &quot;prpl-quit&quot;);</span>
<a href="#l20.18"></a><span id="l20.18">   },</span>
<a href="#l20.19"></a><span id="l20.19">   observe: function account_observe(aObject, aTopic, aData) {</span>
<a href="#l20.20"></a><span id="l20.20">     if (aTopic == &quot;prpl-quit&quot;) {</span>
<a href="#l20.21"></a><span id="l20.21">       // libpurple is being uninitialized. Close this dialog.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/im/content/accountWizard.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/im/content/accountWizard.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -32,17 +32,17 @@ var accountWizard = {</span>
<a href="#l21.4"></a><span id="l21.4">       item.build(proto, desc);</span>
<a href="#l21.5"></a><span id="l21.5">     }</span>
<a href="#l21.6"></a><span id="l21.6"> </span>
<a href="#l21.7"></a><span id="l21.7">     if (topProtoList.itemCount &lt; 2)</span>
<a href="#l21.8"></a><span id="l21.8">       document.getElementById(&quot;accountWizard&quot;).currentPage = &quot;accountprotocol&quot;;</span>
<a href="#l21.9"></a><span id="l21.9"> </span>
<a href="#l21.10"></a><span id="l21.10">     topProtoList.selectedIndex = -1;</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;prpl-quit&quot;, false);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;prpl-quit&quot;);</span>
<a href="#l21.14"></a><span id="l21.14">     window.addEventListener(&quot;unload&quot;, this.unload);</span>
<a href="#l21.15"></a><span id="l21.15">   },</span>
<a href="#l21.16"></a><span id="l21.16">   unload: function aw_unload() {</span>
<a href="#l21.17"></a><span id="l21.17">     Services.obs.removeObserver(accountWizard, &quot;prpl-quit&quot;);</span>
<a href="#l21.18"></a><span id="l21.18">   },</span>
<a href="#l21.19"></a><span id="l21.19">   observe: function am_observe(aObject, aTopic, aData) {</span>
<a href="#l21.20"></a><span id="l21.20">     if (aTopic == &quot;prpl-quit&quot;) {</span>
<a href="#l21.21"></a><span id="l21.21">       // libpurple is being uninitialized. We can't create any new</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/im/content/accounts.js</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/im/content/accounts.js</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -38,17 +38,17 @@ var gAccountManager = {</span>
<a href="#l22.4"></a><span id="l22.4">       for (let acc of this.getAccounts()) {</span>
<a href="#l22.5"></a><span id="l22.5">         var elt = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l22.6"></a><span id="l22.6">         this.accountList.appendChild(elt);</span>
<a href="#l22.7"></a><span id="l22.7">         elt.build(acc);</span>
<a href="#l22.8"></a><span id="l22.8">         if (!defaultID &amp;&amp; acc.firstConnectionState == acc.FIRST_CONNECTION_CRASHED)</span>
<a href="#l22.9"></a><span id="l22.9">           defaultID = acc.id;</span>
<a href="#l22.10"></a><span id="l22.10">       }</span>
<a href="#l22.11"></a><span id="l22.11">       for (let event of events)</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-        Services.obs.addObserver(this, event, false);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+        Services.obs.addObserver(this, event);</span>
<a href="#l22.14"></a><span id="l22.14">       if (!this.accountList.getRowCount())</span>
<a href="#l22.15"></a><span id="l22.15">         // This is horrible, but it works. Otherwise (at least on mac)</span>
<a href="#l22.16"></a><span id="l22.16">         // the wizard is not centered relatively to the account manager</span>
<a href="#l22.17"></a><span id="l22.17">         setTimeout(function() { gAccountManager.new(); }, 0);</span>
<a href="#l22.18"></a><span id="l22.18">       else {</span>
<a href="#l22.19"></a><span id="l22.19">         // we have accounts, show the list</span>
<a href="#l22.20"></a><span id="l22.20">         document.getElementById(&quot;accountsDesk&quot;).selectedIndex = 1;</span>
<a href="#l22.21"></a><span id="l22.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/im/content/blist.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/im/content/blist.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -868,19 +868,19 @@ var buddyList = {</span>
<a href="#l23.4"></a><span id="l23.4">           convElt.build(conv);</span>
<a href="#l23.5"></a><span id="l23.5">         }</span>
<a href="#l23.6"></a><span id="l23.6">       }</span>
<a href="#l23.7"></a><span id="l23.7">       buddyList.convBox._updateListConvCount();</span>
<a href="#l23.8"></a><span id="l23.8">     }</span>
<a href="#l23.9"></a><span id="l23.9">     new MutationObserver(buddyList.convBox._updateListConvCount)</span>
<a href="#l23.10"></a><span id="l23.10">       .observe(buddyList.convBox, {childList: true});</span>
<a href="#l23.11"></a><span id="l23.11"> </span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-    prefBranch.addObserver(showOfflineBuddiesPref, buddyList, false);</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+    prefBranch.addObserver(showOfflineBuddiesPref, buddyList);</span>
<a href="#l23.14"></a><span id="l23.14">     for (let event of events)</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineminus">-      Services.obs.addObserver(buddyList, event, false);</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineplus">+      Services.obs.addObserver(buddyList, event);</span>
<a href="#l23.17"></a><span id="l23.17"> </span>
<a href="#l23.18"></a><span id="l23.18">     this.addEventListener(&quot;unload&quot;, buddyList.unload);</span>
<a href="#l23.19"></a><span id="l23.19">   },</span>
<a href="#l23.20"></a><span id="l23.20">   _displayedGroups: [],</span>
<a href="#l23.21"></a><span id="l23.21">   _getGroupIndex: function(aName) {</span>
<a href="#l23.22"></a><span id="l23.22">     let start = 0;</span>
<a href="#l23.23"></a><span id="l23.23">     let end = this._displayedGroups.length;</span>
<a href="#l23.24"></a><span id="l23.24">     let name = aName.toLowerCase();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/im/content/convZoom.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/im/content/convZoom.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -11,17 +11,17 @@ var FullZoom = {</span>
<a href="#l24.4"></a><span id="l24.4">     window.addEventListener(&quot;DOMMouseScroll&quot;, FullZoom.handleMouseScrolled);</span>
<a href="#l24.5"></a><span id="l24.5">     window.addEventListener(&quot;unload&quot;, FullZoom.destroy);</span>
<a href="#l24.6"></a><span id="l24.6">     let conversations = document.getElementById(&quot;conversations&quot;);</span>
<a href="#l24.7"></a><span id="l24.7">     if (conversations) {</span>
<a href="#l24.8"></a><span id="l24.8">       conversations.tabContainer</span>
<a href="#l24.9"></a><span id="l24.9">                    .addEventListener(&quot;select&quot;, FullZoom.applyPrefValue);</span>
<a href="#l24.10"></a><span id="l24.10">     }</span>
<a href="#l24.11"></a><span id="l24.11"> </span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-    Services.prefs.addObserver(FullZoom.prefName, FullZoom, false);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+    Services.prefs.addObserver(FullZoom.prefName, FullZoom);</span>
<a href="#l24.14"></a><span id="l24.14">     FullZoom.applyPrefValue();</span>
<a href="#l24.15"></a><span id="l24.15">   },</span>
<a href="#l24.16"></a><span id="l24.16"> </span>
<a href="#l24.17"></a><span id="l24.17">   destroy: function FullZoom_destroy() {</span>
<a href="#l24.18"></a><span id="l24.18">     Services.prefs.removeObserver(FullZoom.prefName, FullZoom);</span>
<a href="#l24.19"></a><span id="l24.19">     window.removeEventListener(&quot;DOMMouseScroll&quot;, FullZoom.handleMouseScrolled);</span>
<a href="#l24.20"></a><span id="l24.20">   },</span>
<a href="#l24.21"></a><span id="l24.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/im/content/conversation.xml</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/im/content/conversation.xml</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -90,17 +90,17 @@</span>
<a href="#l25.4"></a><span id="l25.4">             }</span>
<a href="#l25.5"></a><span id="l25.5">           }.bind(this)).observe(this.getElt(&quot;splitter&quot;),</span>
<a href="#l25.6"></a><span id="l25.6">                                 {attributes: true, attributeOldValue: true,</span>
<a href="#l25.7"></a><span id="l25.7">                                  attributeFilter: [&quot;state&quot;]});</span>
<a href="#l25.8"></a><span id="l25.8"> </span>
<a href="#l25.9"></a><span id="l25.9">           var browser = this.browser;</span>
<a href="#l25.10"></a><span id="l25.10">           browser.addEventListener(&quot;keypress&quot;, this.browserKeyPress);</span>
<a href="#l25.11"></a><span id="l25.11">           browser.addEventListener(&quot;dblclick&quot;, this.browserDblClick.bind(this));</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-          Services.obs.addObserver(this, &quot;conversation-loaded&quot;, false);</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+          Services.obs.addObserver(this, &quot;conversation-loaded&quot;);</span>
<a href="#l25.14"></a><span id="l25.14">         ]]&gt;</span>
<a href="#l25.15"></a><span id="l25.15">       &lt;/constructor&gt;</span>
<a href="#l25.16"></a><span id="l25.16"> </span>
<a href="#l25.17"></a><span id="l25.17">       &lt;destructor&gt;</span>
<a href="#l25.18"></a><span id="l25.18">         &lt;![CDATA[</span>
<a href="#l25.19"></a><span id="l25.19">           this.destroy();</span>
<a href="#l25.20"></a><span id="l25.20">         ]]&gt;</span>
<a href="#l25.21"></a><span id="l25.21">       &lt;/destructor&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/im/content/engineManager.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/im/content/engineManager.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -13,17 +13,17 @@ var gEngineManagerDialog = {</span>
<a href="#l26.4"></a><span id="l26.4">   init: function engineManager_init() {</span>
<a href="#l26.5"></a><span id="l26.5">     gEngineView = new EngineView(new EngineStore());</span>
<a href="#l26.6"></a><span id="l26.6"> </span>
<a href="#l26.7"></a><span id="l26.7">     var tree = document.getElementById(&quot;engineList&quot;);</span>
<a href="#l26.8"></a><span id="l26.8">     tree.view = gEngineView;</span>
<a href="#l26.9"></a><span id="l26.9"> </span>
<a href="#l26.10"></a><span id="l26.10">     var os = Cc[&quot;@mozilla.org/observer-service;1&quot;].</span>
<a href="#l26.11"></a><span id="l26.11">              getService(Ci.nsIObserverService);</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-    os.addObserver(this, &quot;browser-search-engine-modified&quot;, false);</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+    os.addObserver(this, &quot;browser-search-engine-modified&quot;);</span>
<a href="#l26.14"></a><span id="l26.14">   },</span>
<a href="#l26.15"></a><span id="l26.15"> </span>
<a href="#l26.16"></a><span id="l26.16">   observe: function engineManager_observe(aEngine, aTopic, aVerb) {</span>
<a href="#l26.17"></a><span id="l26.17">     if (aTopic == &quot;browser-search-engine-modified&quot;) {</span>
<a href="#l26.18"></a><span id="l26.18">       aEngine.QueryInterface(Ci.nsISearchEngine)</span>
<a href="#l26.19"></a><span id="l26.19">       switch (aVerb) {</span>
<a href="#l26.20"></a><span id="l26.20">       case &quot;engine-added&quot;:</span>
<a href="#l26.21"></a><span id="l26.21">         gEngineView._engineStore.addEngine(aEngine);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/im/content/extensions.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/im/content/extensions.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -5,20 +5,20 @@</span>
<a href="#l27.4"></a><span id="l27.4"> var {classes: Cc, interfaces: Ci, utils: Cu} = Components;</span>
<a href="#l27.5"></a><span id="l27.5"> </span>
<a href="#l27.6"></a><span id="l27.6"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l27.7"></a><span id="l27.7"> Cu.import(&quot;resource://gre/modules/AddonManager.jsm&quot;);</span>
<a href="#l27.8"></a><span id="l27.8"> Cu.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10"> var addonsRegister = {</span>
<a href="#l27.11"></a><span id="l27.11">   onload: function () {</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-    Services.obs.addObserver(addonsRegister, &quot;addon-install-disabled&quot;, false);</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineminus">-    Services.obs.addObserver(addonsRegister, &quot;addon-install-blocked&quot;, false);</span>
<a href="#l27.14"></a><span id="l27.14" class="difflineminus">-    Services.obs.addObserver(addonsRegister, &quot;addon-install-failed&quot;, false);</span>
<a href="#l27.15"></a><span id="l27.15" class="difflineminus">-    Services.obs.addObserver(addonsRegister, &quot;addon-install-complete&quot;, false);</span>
<a href="#l27.16"></a><span id="l27.16" class="difflineplus">+    Services.obs.addObserver(addonsRegister, &quot;addon-install-disabled&quot;);</span>
<a href="#l27.17"></a><span id="l27.17" class="difflineplus">+    Services.obs.addObserver(addonsRegister, &quot;addon-install-blocked&quot;);</span>
<a href="#l27.18"></a><span id="l27.18" class="difflineplus">+    Services.obs.addObserver(addonsRegister, &quot;addon-install-failed&quot;);</span>
<a href="#l27.19"></a><span id="l27.19" class="difflineplus">+    Services.obs.addObserver(addonsRegister, &quot;addon-install-complete&quot;);</span>
<a href="#l27.20"></a><span id="l27.20"> </span>
<a href="#l27.21"></a><span id="l27.21">     window.addEventListener(&quot;unload&quot;, addonsRegister.onunload, {once: true});</span>
<a href="#l27.22"></a><span id="l27.22"> </span>
<a href="#l27.23"></a><span id="l27.23">     let win = document.getElementById(&quot;dummychromebrowser&quot;).contentWindow;</span>
<a href="#l27.24"></a><span id="l27.24">     let open = win.open;</span>
<a href="#l27.25"></a><span id="l27.25">     win.open = function(aUrl) {</span>
<a href="#l27.26"></a><span id="l27.26">       let uri = Services.io.newURI(aUrl);</span>
<a href="#l27.27"></a><span id="l27.27"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/im/content/preferences/advanced.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/im/content/preferences/advanced.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -32,17 +32,17 @@ var gAdvancedPane = {</span>
<a href="#l28.4"></a><span id="l28.4"> </span>
<a href="#l28.5"></a><span id="l28.5">     this.updateConnectionGroupbox();</span>
<a href="#l28.6"></a><span id="l28.6"> #ifdef MOZ_UPDATER</span>
<a href="#l28.7"></a><span id="l28.7">     let onUnload = function () {</span>
<a href="#l28.8"></a><span id="l28.8">       window.removeEventListener(&quot;unload&quot;, onUnload);</span>
<a href="#l28.9"></a><span id="l28.9">       Services.prefs.removeObserver(&quot;app.update.&quot;, this);</span>
<a href="#l28.10"></a><span id="l28.10">     }.bind(this);</span>
<a href="#l28.11"></a><span id="l28.11">     window.addEventListener(&quot;unload&quot;, onUnload);</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-    Services.prefs.addObserver(&quot;app.update.&quot;, this, false);</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+    Services.prefs.addObserver(&quot;app.update.&quot;, this);</span>
<a href="#l28.14"></a><span id="l28.14">     this.updateReadPrefs();</span>
<a href="#l28.15"></a><span id="l28.15"> #endif</span>
<a href="#l28.16"></a><span id="l28.16"> </span>
<a href="#l28.17"></a><span id="l28.17">     let bundlePrefs = document.getElementById(&quot;bundlePreferences&quot;);</span>
<a href="#l28.18"></a><span id="l28.18"> </span>
<a href="#l28.19"></a><span id="l28.19">     // Notify observers that the UI is now ready</span>
<a href="#l28.20"></a><span id="l28.20">     Services.obs.notifyObservers(window, &quot;advanced-pane-loaded&quot;, null);</span>
<a href="#l28.21"></a><span id="l28.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/im/content/preferences/messagestyle.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/im/content/preferences/messagestyle.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -159,17 +159,17 @@ var previewObserver = {</span>
<a href="#l29.4"></a><span id="l29.4"> </span>
<a href="#l29.5"></a><span id="l29.5">     this.reloadPreview();</span>
<a href="#l29.6"></a><span id="l29.6">     document.getElementById(&quot;previewDeck&quot;).selectedIndex = 1;</span>
<a href="#l29.7"></a><span id="l29.7">   },</span>
<a href="#l29.8"></a><span id="l29.8"> </span>
<a href="#l29.9"></a><span id="l29.9">   reloadPreview: function() {</span>
<a href="#l29.10"></a><span id="l29.10">     this.browser.init(this.conv);</span>
<a href="#l29.11"></a><span id="l29.11">     this.browser._theme = this.theme;</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;conversation-loaded&quot;, false);</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;conversation-loaded&quot;);</span>
<a href="#l29.14"></a><span id="l29.14">   },</span>
<a href="#l29.15"></a><span id="l29.15"> </span>
<a href="#l29.16"></a><span id="l29.16">   observe: function(aSubject, aTopic, aData) {</span>
<a href="#l29.17"></a><span id="l29.17">     if (aTopic != &quot;conversation-loaded&quot; || aSubject != this.browser)</span>
<a href="#l29.18"></a><span id="l29.18">       return;</span>
<a href="#l29.19"></a><span id="l29.19"> </span>
<a href="#l29.20"></a><span id="l29.20">     // We want to avoid the convbrowser trying to scroll to the last</span>
<a href="#l29.21"></a><span id="l29.21">     // added message, as that causes the entire pref pane to jump up</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/im/content/tabbrowser.xml</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/im/content/tabbrowser.xml</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -1483,18 +1483,18 @@</span>
<a href="#l30.4"></a><span id="l30.4">           window.addEventListener(&quot;deactivate&quot;, this._windowDeactivateHandler);</span>
<a href="#l30.5"></a><span id="l30.5">           window.addEventListener(&quot;activate&quot;, this._windowActivateHandler);</span>
<a href="#l30.6"></a><span id="l30.6"> </span>
<a href="#l30.7"></a><span id="l30.7">           var uniqueId = &quot;panel&quot; + Date.now();</span>
<a href="#l30.8"></a><span id="l30.8">           this.mCurrentTab.linkedTabPanel.id = uniqueId;</span>
<a href="#l30.9"></a><span id="l30.9">           this.mCurrentTab.linkedPanel = uniqueId;</span>
<a href="#l30.10"></a><span id="l30.10">           this.mCurrentTab._tPos = 0;</span>
<a href="#l30.11"></a><span id="l30.11"> </span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-          Services.prefs.addObserver(&quot;browser.tabs.autoHide&quot;, this._prefObserver, false);</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-          Services.prefs.addObserver(&quot;messenger.conversations.useSeparateWindowsForMUCs&quot;, this._prefObserver, false);</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineplus">+          Services.prefs.addObserver(&quot;browser.tabs.autoHide&quot;, this._prefObserver);</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineplus">+          Services.prefs.addObserver(&quot;messenger.conversations.useSeparateWindowsForMUCs&quot;, this._prefObserver);</span>
<a href="#l30.16"></a><span id="l30.16">         ]]&gt;</span>
<a href="#l30.17"></a><span id="l30.17">       &lt;/constructor&gt;</span>
<a href="#l30.18"></a><span id="l30.18"> </span>
<a href="#l30.19"></a><span id="l30.19">       &lt;destructor&gt;</span>
<a href="#l30.20"></a><span id="l30.20">         &lt;![CDATA[</span>
<a href="#l30.21"></a><span id="l30.21">           document.removeEventListener(&quot;keypress&quot;, this._keyEventHandler);</span>
<a href="#l30.22"></a><span id="l30.22">           window.removeEventListener(&quot;sizemodechange&quot;, this);</span>
<a href="#l30.23"></a><span id="l30.23">           window.removeEventListener(&quot;deactivate&quot;, this._windowDeactivateHandler);</span>
<a href="#l30.24"></a><span id="l30.24" class="difflineat">@@ -1708,17 +1708,17 @@</span>
<a href="#l30.25"></a><span id="l30.25">           } catch (e) {</span>
<a href="#l30.26"></a><span id="l30.26">           }</span>
<a href="#l30.27"></a><span id="l30.27">           try {</span>
<a href="#l30.28"></a><span id="l30.28">             this.mCloseButtons = pb2.getIntPref(&quot;browser.tabs.closeButtons&quot;);</span>
<a href="#l30.29"></a><span id="l30.29">           } catch (e) {</span>
<a href="#l30.30"></a><span id="l30.30">           }</span>
<a href="#l30.31"></a><span id="l30.31"> </span>
<a href="#l30.32"></a><span id="l30.32">           pb2.addObserver(&quot;browser.tabs.closeButtons&quot;,</span>
<a href="#l30.33"></a><span id="l30.33" class="difflineminus">-                          this._prefObserver, false);</span>
<a href="#l30.34"></a><span id="l30.34" class="difflineplus">+                          this._prefObserver);</span>
<a href="#l30.35"></a><span id="l30.35"> </span>
<a href="#l30.36"></a><span id="l30.36">           window.addEventListener(&quot;resize&quot;, this);</span>
<a href="#l30.37"></a><span id="l30.37"> #ifdef XP_MACOSX</span>
<a href="#l30.38"></a><span id="l30.38"> </span>
<a href="#l30.39"></a><span id="l30.39">           if (!(&quot;WindowDraggingElement&quot; in window))</span>
<a href="#l30.40"></a><span id="l30.40">             Components.utils.import(&quot;resource://gre/modules/WindowDraggingUtils.jsm&quot;);</span>
<a href="#l30.41"></a><span id="l30.41">           let draghandle = new WindowDraggingElement(this.mTabstrip, window);</span>
<a href="#l30.42"></a><span id="l30.42">           draghandle.mouseDownCheck =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/im/content/viewlog.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/im/content/viewlog.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -89,17 +89,17 @@ var logWindow = {</span>
<a href="#l31.4"></a><span id="l31.4">         findbar.browser = browser;</span>
<a href="#l31.5"></a><span id="l31.5">         FullZoom.applyPrefValue();</span>
<a href="#l31.6"></a><span id="l31.6">         if (this.pendingLoad) {</span>
<a href="#l31.7"></a><span id="l31.7">           browser._conv = aConv;</span>
<a href="#l31.8"></a><span id="l31.8">           return;</span>
<a href="#l31.9"></a><span id="l31.9">         }</span>
<a href="#l31.10"></a><span id="l31.10">         browser.init(aConv);</span>
<a href="#l31.11"></a><span id="l31.11">         this.pendingLoad = true;</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-        Services.obs.addObserver(this, &quot;conversation-loaded&quot;, false);</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineplus">+        Services.obs.addObserver(this, &quot;conversation-loaded&quot;);</span>
<a href="#l31.14"></a><span id="l31.14">       });</span>
<a href="#l31.15"></a><span id="l31.15">     }</span>
<a href="#l31.16"></a><span id="l31.16">     else {</span>
<a href="#l31.17"></a><span id="l31.17">       // Legacy text log.</span>
<a href="#l31.18"></a><span id="l31.18">       deck.selectedIndex = 0;</span>
<a href="#l31.19"></a><span id="l31.19">       let browser = document.getElementById(&quot;text-browser&quot;);</span>
<a href="#l31.20"></a><span id="l31.20">       findbar.browser = browser;</span>
<a href="#l31.21"></a><span id="l31.21">       FullZoom.applyPrefValue();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/im/modules/ibCore.jsm</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/im/modules/ibCore.jsm</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -87,17 +87,17 @@ var Core = {</span>
<a href="#l32.4"></a><span id="l32.4">         Cc[WINTASKBAR_CONTRACTID].getService(Ci.nsIWinTaskbar).available) {</span>
<a href="#l32.5"></a><span id="l32.5">       let temp = {};</span>
<a href="#l32.6"></a><span id="l32.6">       Cu.import(&quot;resource:///modules/ibWinJumpList.jsm&quot;, temp);</span>
<a href="#l32.7"></a><span id="l32.7">       temp.WinJumpList.init();</span>
<a href="#l32.8"></a><span id="l32.8">     }</span>
<a href="#l32.9"></a><span id="l32.9"> #endif</span>
<a href="#l32.10"></a><span id="l32.10"> </span>
<a href="#l32.11"></a><span id="l32.11">     this._events.forEach(function (aTopic) {</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-      Services.obs.addObserver(Core, aTopic, false);</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineplus">+      Services.obs.addObserver(Core, aTopic);</span>
<a href="#l32.14"></a><span id="l32.14">     });</span>
<a href="#l32.15"></a><span id="l32.15"> </span>
<a href="#l32.16"></a><span id="l32.16">     let self = this;</span>
<a href="#l32.17"></a><span id="l32.17">     Services.cmd.registerCommand({</span>
<a href="#l32.18"></a><span id="l32.18">       name: &quot;about&quot;,</span>
<a href="#l32.19"></a><span id="l32.19">       get helpString() { return self.bundle(&quot;aboutCommand.help&quot;); },</span>
<a href="#l32.20"></a><span id="l32.20">       usageContext: Ci.imICommand.CMD_CONTEXT_ALL,</span>
<a href="#l32.21"></a><span id="l32.21">       priority: Ci.imICommand.CMD_PRIORITY_DEFAULT,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/im/modules/ibNotifications.jsm</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/im/modules/ibNotifications.jsm</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -66,17 +66,17 @@ var Notifications = {</span>
<a href="#l33.4"></a><span id="l33.4"> </span>
<a href="#l33.5"></a><span id="l33.5">     // Finally show the notification!</span>
<a href="#l33.6"></a><span id="l33.6">     Components.classes[&quot;@mozilla.org/alerts-service;1&quot;]</span>
<a href="#l33.7"></a><span id="l33.7">               .getService(Components.interfaces.nsIAlertsService)</span>
<a href="#l33.8"></a><span id="l33.8">               .showAlertNotification(icon, name, messageText, true, &quot;&quot;, observer);</span>
<a href="#l33.9"></a><span id="l33.9">   },</span>
<a href="#l33.10"></a><span id="l33.10"> </span>
<a href="#l33.11"></a><span id="l33.11">   init: function() {</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-    Services.obs.addObserver(Notifications, &quot;new-text&quot;, false);</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+    Services.obs.addObserver(Notifications, &quot;new-text&quot;);</span>
<a href="#l33.14"></a><span id="l33.14">   },</span>
<a href="#l33.15"></a><span id="l33.15"> </span>
<a href="#l33.16"></a><span id="l33.16">   _notificationPrefName: &quot;messenger.options.notifyOfNewMessages&quot;,</span>
<a href="#l33.17"></a><span id="l33.17">   observe: function(aSubject, aTopic, aData) {</span>
<a href="#l33.18"></a><span id="l33.18">     if (aTopic != &quot;new-text&quot;)</span>
<a href="#l33.19"></a><span id="l33.19">       return;</span>
<a href="#l33.20"></a><span id="l33.20"> </span>
<a href="#l33.21"></a><span id="l33.21">     if (!aSubject.incoming || aSubject.system ||</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/im/modules/ibSounds.jsm</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/im/modules/ibSounds.jsm</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -53,11 +53,11 @@ var Sounds = {</span>
<a href="#l34.4"></a><span id="l34.4"> </span>
<a href="#l34.5"></a><span id="l34.5">     default:</span>
<a href="#l34.6"></a><span id="l34.6">       throw &quot;bad notification&quot;;</span>
<a href="#l34.7"></a><span id="l34.7">     }</span>
<a href="#l34.8"></a><span id="l34.8">   },</span>
<a href="#l34.9"></a><span id="l34.9"> </span>
<a href="#l34.10"></a><span id="l34.10">   init: function() {</span>
<a href="#l34.11"></a><span id="l34.11">     for (let topic of this.soundEvents)</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-      Services.obs.addObserver(this, topic, false);</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+      Services.obs.addObserver(this, topic);</span>
<a href="#l34.14"></a><span id="l34.14">   }</span>
<a href="#l34.15"></a><span id="l34.15"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/im/modules/imWindows.jsm</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/im/modules/imWindows.jsm</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -100,17 +100,17 @@ var Conversations = {</span>
<a href="#l35.4"></a><span id="l35.4">     }</span>
<a href="#l35.5"></a><span id="l35.5">     this.unreadCount = 0;</span>
<a href="#l35.6"></a><span id="l35.6">   },</span>
<a href="#l35.7"></a><span id="l35.7"> </span>
<a href="#l35.8"></a><span id="l35.8">   init: function() {</span>
<a href="#l35.9"></a><span id="l35.9">     let os = Services.obs;</span>
<a href="#l35.10"></a><span id="l35.10">     [&quot;new-text&quot;,</span>
<a href="#l35.11"></a><span id="l35.11">      &quot;new-ui-conversation&quot;].forEach(function (aTopic) {</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-      os.addObserver(this, aTopic, false);</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineplus">+      os.addObserver(this, aTopic);</span>
<a href="#l35.14"></a><span id="l35.14">     }, this);</span>
<a href="#l35.15"></a><span id="l35.15">   },</span>
<a href="#l35.16"></a><span id="l35.16"> </span>
<a href="#l35.17"></a><span id="l35.17">   _pendingConversations: null,</span>
<a href="#l35.18"></a><span id="l35.18">   observe: function(aSubject, aTopic, aMsg) {</span>
<a href="#l35.19"></a><span id="l35.19">     if (aTopic == &quot;new-text&quot;) {</span>
<a href="#l35.20"></a><span id="l35.20">       if (aSubject.incoming &amp;&amp; !aSubject.system &amp;&amp;</span>
<a href="#l35.21"></a><span id="l35.21">           (!aSubject.conversation.isChat || aSubject.containsNick)) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mail/base/content/FilterListDialog.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mail/base/content/FilterListDialog.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -113,17 +113,17 @@ function onLoad()</span>
<a href="#l36.4"></a><span id="l36.4">     gRunFiltersButton = document.getElementById(&quot;runFiltersButton&quot;);</span>
<a href="#l36.5"></a><span id="l36.5">     gFilterBundle     = document.getElementById(&quot;bundle_filter&quot;);</span>
<a href="#l36.6"></a><span id="l36.6"> </span>
<a href="#l36.7"></a><span id="l36.7">     updateButtons();</span>
<a href="#l36.8"></a><span id="l36.8"> </span>
<a href="#l36.9"></a><span id="l36.9">     processWindowArguments(window.arguments[0]);</span>
<a href="#l36.10"></a><span id="l36.10"> </span>
<a href="#l36.11"></a><span id="l36.11">     Services.obs.addObserver(filterEditorQuitObserver,</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-                             &quot;quit-application-requested&quot;, false);</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineplus">+                             &quot;quit-application-requested&quot;);</span>
<a href="#l36.14"></a><span id="l36.14"> }</span>
<a href="#l36.15"></a><span id="l36.15"> </span>
<a href="#l36.16"></a><span id="l36.16"> /**</span>
<a href="#l36.17"></a><span id="l36.17">  * Processes arguments sent to this dialog when opened or refreshed.</span>
<a href="#l36.18"></a><span id="l36.18">  *</span>
<a href="#l36.19"></a><span id="l36.19">  * @param aArguments  An object having members representing the arguments.</span>
<a href="#l36.20"></a><span id="l36.20">  *                    { arg1: value1, arg2: value2, ... }</span>
<a href="#l36.21"></a><span id="l36.21">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mail/base/content/aboutDialog-appUpdater.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mail/base/content/aboutDialog-appUpdater.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -389,17 +389,17 @@ appUpdater.prototype =</span>
<a href="#l37.4"></a><span id="l37.4">           } else if (status == &quot;downloading&quot;) {</span>
<a href="#l37.5"></a><span id="l37.5">             // We've fallen back to downloading the full update because the</span>
<a href="#l37.6"></a><span id="l37.6">             // partial update failed to get staged in the background.</span>
<a href="#l37.7"></a><span id="l37.7">             // Therefore we need to keep our observer.</span>
<a href="#l37.8"></a><span id="l37.8">             self.setupDownloadingUI();</span>
<a href="#l37.9"></a><span id="l37.9">             return;</span>
<a href="#l37.10"></a><span id="l37.10">           }</span>
<a href="#l37.11"></a><span id="l37.11">           Services.obs.removeObserver(selectPanelOnUpdate, &quot;update-staged&quot;);</span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-        }, &quot;update-staged&quot;, false);</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+        }, &quot;update-staged&quot;);</span>
<a href="#l37.14"></a><span id="l37.14">       } else {</span>
<a href="#l37.15"></a><span id="l37.15">         this.selectPanel(&quot;apply&quot;);</span>
<a href="#l37.16"></a><span id="l37.16">       }</span>
<a href="#l37.17"></a><span id="l37.17">       break;</span>
<a href="#l37.18"></a><span id="l37.18">     default:</span>
<a href="#l37.19"></a><span id="l37.19">       this.removeDownloadListener();</span>
<a href="#l37.20"></a><span id="l37.20">       this.selectPanel(&quot;downloadFailed&quot;);</span>
<a href="#l37.21"></a><span id="l37.21">       break;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mail/base/content/mail-offline.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mail/base/content/mail-offline.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -6,17 +6,17 @@</span>
<a href="#l38.4"></a><span id="l38.4"> Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l38.5"></a><span id="l38.5"> </span>
<a href="#l38.6"></a><span id="l38.6"> var MailOfflineMgr = {</span>
<a href="#l38.7"></a><span id="l38.7">   offlineManager: null,</span>
<a href="#l38.8"></a><span id="l38.8">   offlineBundle: null,</span>
<a href="#l38.9"></a><span id="l38.9"> </span>
<a href="#l38.10"></a><span id="l38.10">   init: function()</span>
<a href="#l38.11"></a><span id="l38.11">   {</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;network:offline-status-changed&quot;, false);</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;network:offline-status-changed&quot;);</span>
<a href="#l38.14"></a><span id="l38.14"> </span>
<a href="#l38.15"></a><span id="l38.15">     this.offlineManager = Components.classes[&quot;@mozilla.org/messenger/offline-manager;1&quot;]</span>
<a href="#l38.16"></a><span id="l38.16">                         .getService(Components.interfaces.nsIMsgOfflineManager);</span>
<a href="#l38.17"></a><span id="l38.17">     this.offlineBundle = document.getElementById(&quot;bundle_offlinePrompts&quot;);</span>
<a href="#l38.18"></a><span id="l38.18"> </span>
<a href="#l38.19"></a><span id="l38.19">     // initialize our offline state UI</span>
<a href="#l38.20"></a><span id="l38.20">     this.updateOfflineUI(!this.isOnline());</span>
<a href="#l38.21"></a><span id="l38.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mail/base/content/mailCore.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mail/base/content/mailCore.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -443,17 +443,17 @@ function openAddonsMgr(aView)</span>
<a href="#l39.4"></a><span id="l39.4">         .rootTreeItem</span>
<a href="#l39.5"></a><span id="l39.5">         .QueryInterface(Components.interfaces.nsIInterfaceRequestor)</span>
<a href="#l39.6"></a><span id="l39.6">         .getInterface(Components.interfaces.nsIDOMWindow);</span>
<a href="#l39.7"></a><span id="l39.7">       if (!emWindow || browserWin == window /* favor the current window */) {</span>
<a href="#l39.8"></a><span id="l39.8">         emWindow = aSubject;</span>
<a href="#l39.9"></a><span id="l39.9">         browserWindow = browserWin;</span>
<a href="#l39.10"></a><span id="l39.10">       }</span>
<a href="#l39.11"></a><span id="l39.11">     }</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-    Services.obs.addObserver(receivePong, &quot;EM-pong&quot;, false);</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+    Services.obs.addObserver(receivePong, &quot;EM-pong&quot;);</span>
<a href="#l39.14"></a><span id="l39.14">     Services.obs.notifyObservers(null, &quot;EM-ping&quot;, &quot;&quot;);</span>
<a href="#l39.15"></a><span id="l39.15">     Services.obs.removeObserver(receivePong, &quot;EM-pong&quot;);</span>
<a href="#l39.16"></a><span id="l39.16"> </span>
<a href="#l39.17"></a><span id="l39.17">     if (emWindow) {</span>
<a href="#l39.18"></a><span id="l39.18">       emWindow.loadView(aView);</span>
<a href="#l39.19"></a><span id="l39.19">       let tabmail = browserWindow.document.getElementById(&quot;tabmail&quot;);</span>
<a href="#l39.20"></a><span id="l39.20">       tabmail.switchToTab(tabmail.getBrowserForDocument(emWindow));</span>
<a href="#l39.21"></a><span id="l39.21">       emWindow.focus();</span>
<a href="#l39.22"></a><span id="l39.22" class="difflineat">@@ -465,17 +465,17 @@ function openAddonsMgr(aView)</span>
<a href="#l39.23"></a><span id="l39.23"> </span>
<a href="#l39.24"></a><span id="l39.24"> </span>
<a href="#l39.25"></a><span id="l39.25">   if (aView) {</span>
<a href="#l39.26"></a><span id="l39.26">     // This must be a new load, else the ping/pong would have</span>
<a href="#l39.27"></a><span id="l39.27">     // found the window above.</span>
<a href="#l39.28"></a><span id="l39.28">     Services.obs.addObserver(function loadViewOnLoad(aSubject, aTopic, aData) {</span>
<a href="#l39.29"></a><span id="l39.29">       Services.obs.removeObserver(loadViewOnLoad, aTopic);</span>
<a href="#l39.30"></a><span id="l39.30">       aSubject.loadView(aView);</span>
<a href="#l39.31"></a><span id="l39.31" class="difflineminus">-    }, &quot;EM-loaded&quot;, false);</span>
<a href="#l39.32"></a><span id="l39.32" class="difflineplus">+    }, &quot;EM-loaded&quot;);</span>
<a href="#l39.33"></a><span id="l39.33">   }</span>
<a href="#l39.34"></a><span id="l39.34"> }</span>
<a href="#l39.35"></a><span id="l39.35"> </span>
<a href="#l39.36"></a><span id="l39.36"> function openActivityMgr()</span>
<a href="#l39.37"></a><span id="l39.37"> {</span>
<a href="#l39.38"></a><span id="l39.38">   Components.classes['@mozilla.org/activity-manager-ui;1'].</span>
<a href="#l39.39"></a><span id="l39.39">     getService(Components.interfaces.nsIActivityManagerUI).show(window);</span>
<a href="#l39.40"></a><span id="l39.40"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mail/base/content/msgHdrViewOverlay.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mail/base/content/msgHdrViewOverlay.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -218,18 +218,18 @@ function OnLoadMsgHeaderPane()</span>
<a href="#l40.4"></a><span id="l40.4"> </span>
<a href="#l40.5"></a><span id="l40.5">   // Load any preferences that at are global with regards to</span>
<a href="#l40.6"></a><span id="l40.6">   // displaying a message...</span>
<a href="#l40.7"></a><span id="l40.7">   gMinNumberOfHeaders = Services.prefs.getIntPref(&quot;mailnews.headers.minNumHeaders&quot;);</span>
<a href="#l40.8"></a><span id="l40.8">   gShowCondensedEmailAddresses = Services.prefs.getBoolPref(&quot;mail.showCondensedAddresses&quot;);</span>
<a href="#l40.9"></a><span id="l40.9">   gHeadersShowReferences = Services.prefs.getBoolPref(&quot;mailnews.headers.showReferences&quot;);</span>
<a href="#l40.10"></a><span id="l40.10"> </span>
<a href="#l40.11"></a><span id="l40.11">   // listen to the</span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-  Services.prefs.addObserver(&quot;mail.showCondensedAddresses&quot;, MsgHdrViewObserver, false);</span>
<a href="#l40.13"></a><span id="l40.13" class="difflineminus">-  Services.prefs.addObserver(&quot;mailnews.headers.showReferences&quot;, MsgHdrViewObserver, false);</span>
<a href="#l40.14"></a><span id="l40.14" class="difflineplus">+  Services.prefs.addObserver(&quot;mail.showCondensedAddresses&quot;, MsgHdrViewObserver);</span>
<a href="#l40.15"></a><span id="l40.15" class="difflineplus">+  Services.prefs.addObserver(&quot;mailnews.headers.showReferences&quot;, MsgHdrViewObserver);</span>
<a href="#l40.16"></a><span id="l40.16"> </span>
<a href="#l40.17"></a><span id="l40.17">   initializeHeaderViewTables();</span>
<a href="#l40.18"></a><span id="l40.18"> </span>
<a href="#l40.19"></a><span id="l40.19">   // Add an address book listener so we can update the header view when things</span>
<a href="#l40.20"></a><span id="l40.20">   // change.</span>
<a href="#l40.21"></a><span id="l40.21">   MailServices.ab.addAddressBookListener(AddressBookListener,</span>
<a href="#l40.22"></a><span id="l40.22">                                          Components.interfaces.nsIAbListener.all);</span>
<a href="#l40.23"></a><span id="l40.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -370,19 +370,18 @@ function OnLoadMessenger()</span>
<a href="#l41.4"></a><span id="l41.4"> </span>
<a href="#l41.5"></a><span id="l41.5">     document.documentElement.setAttribute(&quot;width&quot;, defaultWidth);</span>
<a href="#l41.6"></a><span id="l41.6">     document.documentElement.setAttribute(&quot;height&quot;, defaultHeight);</span>
<a href="#l41.7"></a><span id="l41.7">     // Make sure we're safe at the left/top edge of screen</span>
<a href="#l41.8"></a><span id="l41.8">     document.documentElement.setAttribute(&quot;screenX&quot;, screen.availLeft);</span>
<a href="#l41.9"></a><span id="l41.9">     document.documentElement.setAttribute(&quot;screenY&quot;, screen.availTop);</span>
<a href="#l41.10"></a><span id="l41.10">   }</span>
<a href="#l41.11"></a><span id="l41.11"> </span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-  Services.prefs.addObserver(&quot;mail.pane_config.dynamic&quot;, MailPrefObserver, false);</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineminus">-  Services.prefs.addObserver(&quot;mail.showCondensedAddresses&quot;, MailPrefObserver,</span>
<a href="#l41.14"></a><span id="l41.14" class="difflineminus">-                             false);</span>
<a href="#l41.15"></a><span id="l41.15" class="difflineplus">+  Services.prefs.addObserver(&quot;mail.pane_config.dynamic&quot;, MailPrefObserver);</span>
<a href="#l41.16"></a><span id="l41.16" class="difflineplus">+  Services.prefs.addObserver(&quot;mail.showCondensedAddresses&quot;, MailPrefObserver);</span>
<a href="#l41.17"></a><span id="l41.17"> </span>
<a href="#l41.18"></a><span id="l41.18">   MailOfflineMgr.init();</span>
<a href="#l41.19"></a><span id="l41.19">   CreateMailWindowGlobals();</span>
<a href="#l41.20"></a><span id="l41.20">   GetMessagePaneWrapper().collapsed = true;</span>
<a href="#l41.21"></a><span id="l41.21">   msgDBCacheManager.init();</span>
<a href="#l41.22"></a><span id="l41.22">   Services.search.init();</span>
<a href="#l41.23"></a><span id="l41.23"> </span>
<a href="#l41.24"></a><span id="l41.24">   // This needs to be before we throw up the account wizard on first run.</span>
<a href="#l41.25"></a><span id="l41.25" class="difflineat">@@ -415,17 +414,17 @@ function OnLoadMessenger()</span>
<a href="#l41.26"></a><span id="l41.26">     panelcontainer.addEventListener(&quot;InstallBrowserTheme&quot;,</span>
<a href="#l41.27"></a><span id="l41.27">                                     LightWeightThemeWebInstaller, false, true);</span>
<a href="#l41.28"></a><span id="l41.28">     panelcontainer.addEventListener(&quot;PreviewBrowserTheme&quot;,</span>
<a href="#l41.29"></a><span id="l41.29">                                     LightWeightThemeWebInstaller, false, true);</span>
<a href="#l41.30"></a><span id="l41.30">     panelcontainer.addEventListener(&quot;ResetBrowserThemePreview&quot;,</span>
<a href="#l41.31"></a><span id="l41.31">                                     LightWeightThemeWebInstaller, false, true);</span>
<a href="#l41.32"></a><span id="l41.32">   }</span>
<a href="#l41.33"></a><span id="l41.33"> </span>
<a href="#l41.34"></a><span id="l41.34" class="difflineminus">-  Services.obs.addObserver(gPluginHandler.pluginCrashed, &quot;plugin-crashed&quot;, false);</span>
<a href="#l41.35"></a><span id="l41.35" class="difflineplus">+  Services.obs.addObserver(gPluginHandler.pluginCrashed, &quot;plugin-crashed&quot;);</span>
<a href="#l41.36"></a><span id="l41.36"> </span>
<a href="#l41.37"></a><span id="l41.37">   // This also registers the contentTabType (&quot;contentTab&quot;)</span>
<a href="#l41.38"></a><span id="l41.38">   specialTabs.openSpecialTabsOnStartup();</span>
<a href="#l41.39"></a><span id="l41.39">   preferencesTabType.initialize();</span>
<a href="#l41.40"></a><span id="l41.40">   // accountProvisionerTabType is defined in accountProvisionerTab.js</span>
<a href="#l41.41"></a><span id="l41.41">   tabmail.registerTabType(accountProvisionerTabType);</span>
<a href="#l41.42"></a><span id="l41.42"> </span>
<a href="#l41.43"></a><span id="l41.43">   // verifyAccounts returns true if the callback won't be called</span>
<a href="#l41.44"></a><span id="l41.44" class="difflineat">@@ -1646,18 +1645,18 @@ function InitPageMenu(menuPopup, event) </span>
<a href="#l41.45"></a><span id="l41.45"> }</span>
<a href="#l41.46"></a><span id="l41.46"> </span>
<a href="#l41.47"></a><span id="l41.47"> var TabsInTitlebar = {</span>
<a href="#l41.48"></a><span id="l41.48">   init() {</span>
<a href="#l41.49"></a><span id="l41.49">     if (AppConstants.CAN_DRAW_IN_TITLEBAR) {</span>
<a href="#l41.50"></a><span id="l41.50">       // Don't trust the initial value of the sizemode attribute; wait for the</span>
<a href="#l41.51"></a><span id="l41.51">       // resize event.</span>
<a href="#l41.52"></a><span id="l41.52">       this._readPref();</span>
<a href="#l41.53"></a><span id="l41.53" class="difflineminus">-      Services.prefs.addObserver(this._drawInTitlePref, this, false);</span>
<a href="#l41.54"></a><span id="l41.54" class="difflineminus">-      Services.prefs.addObserver(this._autoHidePref, this, false);</span>
<a href="#l41.55"></a><span id="l41.55" class="difflineplus">+      Services.prefs.addObserver(this._drawInTitlePref, this);</span>
<a href="#l41.56"></a><span id="l41.56" class="difflineplus">+      Services.prefs.addObserver(this._autoHidePref, this);</span>
<a href="#l41.57"></a><span id="l41.57"> </span>
<a href="#l41.58"></a><span id="l41.58">       this.allowedBy(&quot;sizemode&quot;, false);</span>
<a href="#l41.59"></a><span id="l41.59">       window.addEventListener(&quot;resize&quot;, function (event) {</span>
<a href="#l41.60"></a><span id="l41.60">         if (event.target != window)</span>
<a href="#l41.61"></a><span id="l41.61">           return;</span>
<a href="#l41.62"></a><span id="l41.62">         TabsInTitlebar.allowedBy(&quot;sizemode&quot;, true);</span>
<a href="#l41.63"></a><span id="l41.63">       });</span>
<a href="#l41.64"></a><span id="l41.64"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mail/base/content/search.xml</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mail/base/content/search.xml</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -62,23 +62,23 @@</span>
<a href="#l42.4"></a><span id="l42.4">           this.setAttribute(</span>
<a href="#l42.5"></a><span id="l42.5">             &quot;placeholder&quot;,</span>
<a href="#l42.6"></a><span id="l42.6">             this.getAttribute(&quot;emptytextbase&quot;)</span>
<a href="#l42.7"></a><span id="l42.7">                 .replace(&quot;#1&quot;, this.getAttribute(</span>
<a href="#l42.8"></a><span id="l42.8">                                  (AppConstants.platform == &quot;macosx&quot;) ?</span>
<a href="#l42.9"></a><span id="l42.9">                                   &quot;keyLabelMac&quot; : &quot;keyLabelNonMac&quot;)));</span>
<a href="#l42.10"></a><span id="l42.10"> </span>
<a href="#l42.11"></a><span id="l42.11">           Services.prefs.addObserver(&quot;mailnews.database.global.indexer.enabled&quot;,</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-                                     this._prefObserver, false);</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+                                     this._prefObserver);</span>
<a href="#l42.14"></a><span id="l42.14"> </span>
<a href="#l42.15"></a><span id="l42.15">           this.glodaCompleter =</span>
<a href="#l42.16"></a><span id="l42.16">             Components.classes[&quot;@mozilla.org/autocomplete/search;1?name=gloda&quot;]</span>
<a href="#l42.17"></a><span id="l42.17">                       .getService()</span>
<a href="#l42.18"></a><span id="l42.18">                       .wrappedJSObject;</span>
<a href="#l42.19"></a><span id="l42.19" class="difflineminus">-          Services.obs.addObserver(this, &quot;autocomplete-did-enter-text&quot;, false);</span>
<a href="#l42.20"></a><span id="l42.20" class="difflineplus">+          Services.obs.addObserver(this, &quot;autocomplete-did-enter-text&quot;);</span>
<a href="#l42.21"></a><span id="l42.21"> </span>
<a href="#l42.22"></a><span id="l42.22">           this.glodaEnabled =</span>
<a href="#l42.23"></a><span id="l42.23">             Services.prefs.getBoolPref(&quot;mailnews.database.global.indexer.enabled&quot;);</span>
<a href="#l42.24"></a><span id="l42.24">           this.collapsed = !this.glodaEnabled;</span>
<a href="#l42.25"></a><span id="l42.25"> </span>
<a href="#l42.26"></a><span id="l42.26">           // make sure we set our emptytext here from the get-go</span>
<a href="#l42.27"></a><span id="l42.27">         if (this.hasAttribute(&quot;placeholder&quot;))</span>
<a href="#l42.28"></a><span id="l42.28">           this.placeholder = this.getAttribute(&quot;placeholder&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mail/base/content/specialTabs.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mail/base/content/specialTabs.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -568,30 +568,30 @@ var specialTabs = {</span>
<a href="#l43.4"></a><span id="l43.4">     // Manually hook up session and global history for the first browser</span>
<a href="#l43.5"></a><span id="l43.5">     // so that we don't have to load global history before bringing up a</span>
<a href="#l43.6"></a><span id="l43.6">     // window.</span>
<a href="#l43.7"></a><span id="l43.7">     // Wire up session and global history before any possible</span>
<a href="#l43.8"></a><span id="l43.8">     // progress notifications for back/forward button updating</span>
<a href="#l43.9"></a><span id="l43.9">     browser.webNavigation.sessionHistory =</span>
<a href="#l43.10"></a><span id="l43.10">       Components.classes[&quot;@mozilla.org/browser/shistory;1&quot;]</span>
<a href="#l43.11"></a><span id="l43.11">                 .createInstance(Components.interfaces.nsISHistory);</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-    Services.obs.addObserver(browser, &quot;browser:purge-session-history&quot;, false);</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+    Services.obs.addObserver(browser, &quot;browser:purge-session-history&quot;);</span>
<a href="#l43.14"></a><span id="l43.14"> </span>
<a href="#l43.15"></a><span id="l43.15">     // remove the disablehistory attribute so the browser cleans up, as</span>
<a href="#l43.16"></a><span id="l43.16">     // though it had done this work itself</span>
<a href="#l43.17"></a><span id="l43.17">     browser.removeAttribute(&quot;disablehistory&quot;);</span>
<a href="#l43.18"></a><span id="l43.18"> </span>
<a href="#l43.19"></a><span id="l43.19">     // enable global history</span>
<a href="#l43.20"></a><span id="l43.20">     try {</span>
<a href="#l43.21"></a><span id="l43.21">       browser.docShell.useGlobalHistory = true;</span>
<a href="#l43.22"></a><span id="l43.22">     } catch(ex) {</span>
<a href="#l43.23"></a><span id="l43.23">       Components.utils.reportError(&quot;Places database may be locked: &quot; + ex);</span>
<a href="#l43.24"></a><span id="l43.24">     }</span>
<a href="#l43.25"></a><span id="l43.25"> </span>
<a href="#l43.26"></a><span id="l43.26" class="difflineminus">-    Services.obs.addObserver(specialTabs, &quot;mail-startup-done&quot;, false);</span>
<a href="#l43.27"></a><span id="l43.27" class="difflineplus">+    Services.obs.addObserver(specialTabs, &quot;mail-startup-done&quot;);</span>
<a href="#l43.28"></a><span id="l43.28"> </span>
<a href="#l43.29"></a><span id="l43.29">     let tabmail = document.getElementById('tabmail');</span>
<a href="#l43.30"></a><span id="l43.30"> </span>
<a href="#l43.31"></a><span id="l43.31">     tabmail.registerTabType(this.contentTabType);</span>
<a href="#l43.32"></a><span id="l43.32">     tabmail.registerTabType(this.chromeTabType);</span>
<a href="#l43.33"></a><span id="l43.33"> </span>
<a href="#l43.34"></a><span id="l43.34">     // If we've upgraded (note: always get these values so that we set</span>
<a href="#l43.35"></a><span id="l43.35">     // the mstone preference for the new version):</span>
<a href="#l43.36"></a><span id="l43.36" class="difflineat">@@ -1302,24 +1302,20 @@ var specialTabs = {</span>
<a href="#l43.37"></a><span id="l43.37">     }</span>
<a href="#l43.38"></a><span id="l43.38">   },</span>
<a href="#l43.39"></a><span id="l43.39"> </span>
<a href="#l43.40"></a><span id="l43.40">   observe: function (aSubject, aTopic, aData) {</span>
<a href="#l43.41"></a><span id="l43.41">     if (aTopic != &quot;mail-startup-done&quot;)</span>
<a href="#l43.42"></a><span id="l43.42">       return;</span>
<a href="#l43.43"></a><span id="l43.43"> </span>
<a href="#l43.44"></a><span id="l43.44">     Services.obs.removeObserver(specialTabs, &quot;mail-startup-done&quot;);</span>
<a href="#l43.45"></a><span id="l43.45" class="difflineminus">-    Services.obs.addObserver(this.xpInstallObserver, &quot;addon-install-disabled&quot;,</span>
<a href="#l43.46"></a><span id="l43.46" class="difflineminus">-                             false);</span>
<a href="#l43.47"></a><span id="l43.47" class="difflineminus">-    Services.obs.addObserver(this.xpInstallObserver, &quot;addon-install-blocked&quot;,</span>
<a href="#l43.48"></a><span id="l43.48" class="difflineminus">-                             false);</span>
<a href="#l43.49"></a><span id="l43.49" class="difflineminus">-    Services.obs.addObserver(this.xpInstallObserver, &quot;addon-install-failed&quot;,</span>
<a href="#l43.50"></a><span id="l43.50" class="difflineminus">-                             false);</span>
<a href="#l43.51"></a><span id="l43.51" class="difflineminus">-    Services.obs.addObserver(this.xpInstallObserver, &quot;addon-install-complete&quot;,</span>
<a href="#l43.52"></a><span id="l43.52" class="difflineminus">-                             false);</span>
<a href="#l43.53"></a><span id="l43.53" class="difflineplus">+    Services.obs.addObserver(this.xpInstallObserver, &quot;addon-install-disabled&quot;);</span>
<a href="#l43.54"></a><span id="l43.54" class="difflineplus">+    Services.obs.addObserver(this.xpInstallObserver, &quot;addon-install-blocked&quot;);</span>
<a href="#l43.55"></a><span id="l43.55" class="difflineplus">+    Services.obs.addObserver(this.xpInstallObserver, &quot;addon-install-failed&quot;);</span>
<a href="#l43.56"></a><span id="l43.56" class="difflineplus">+    Services.obs.addObserver(this.xpInstallObserver, &quot;addon-install-complete&quot;);</span>
<a href="#l43.57"></a><span id="l43.57">   },</span>
<a href="#l43.58"></a><span id="l43.58"> </span>
<a href="#l43.59"></a><span id="l43.59">   onunload: function () {</span>
<a href="#l43.60"></a><span id="l43.60">     window.removeEventListener(&quot;unload&quot;, specialTabs.onunload);</span>
<a href="#l43.61"></a><span id="l43.61"> </span>
<a href="#l43.62"></a><span id="l43.62">     Services.obs.removeObserver(specialTabs.xpInstallObserver,</span>
<a href="#l43.63"></a><span id="l43.63">                                 &quot;addon-install-disabled&quot;);</span>
<a href="#l43.64"></a><span id="l43.64">     Services.obs.removeObserver(specialTabs.xpInstallObserver,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mail/base/content/tabmail.xml</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mail/base/content/tabmail.xml</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -1746,17 +1746,17 @@</span>
<a href="#l44.4"></a><span id="l44.4"> </span>
<a href="#l44.5"></a><span id="l44.5">           if (this.mAutoHide)</span>
<a href="#l44.6"></a><span id="l44.6">             this.mCollapseToolbar.collapsed = true;</span>
<a href="#l44.7"></a><span id="l44.7"> </span>
<a href="#l44.8"></a><span id="l44.8">           this.firstChild.minWidth = this.mTabMinWidth;</span>
<a href="#l44.9"></a><span id="l44.9">           this.firstChild.maxWidth = this.mTabMaxWidth;</span>
<a href="#l44.10"></a><span id="l44.10">           this.adjustTabstrip();</span>
<a href="#l44.11"></a><span id="l44.11"> </span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-          Services.prefs.addObserver(&quot;mail.tabs.&quot;, this._prefObserver, false);</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineplus">+          Services.prefs.addObserver(&quot;mail.tabs.&quot;, this._prefObserver);</span>
<a href="#l44.14"></a><span id="l44.14"> </span>
<a href="#l44.15"></a><span id="l44.15">           window.addEventListener(&quot;resize&quot;, this);</span>
<a href="#l44.16"></a><span id="l44.16"> </span>
<a href="#l44.17"></a><span id="l44.17">           // Listen to overflow/underflow events on the tabstrip,</span>
<a href="#l44.18"></a><span id="l44.18">           // we cannot put these as xbl handlers on the entire binding because</span>
<a href="#l44.19"></a><span id="l44.19">           // they would also get called for the all-tabs popup scrollbox.</span>
<a href="#l44.20"></a><span id="l44.20">           // Also, we can't rely on event.target becuase these are all</span>
<a href="#l44.21"></a><span id="l44.21">           // anonymous nodes.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mail/base/content/toolbarIconColor.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mail/base/content/toolbarIconColor.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -4,17 +4,17 @@</span>
<a href="#l45.4"></a><span id="l45.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l45.5"></a><span id="l45.5"> </span>
<a href="#l45.6"></a><span id="l45.6"> var ToolbarIconColor = {</span>
<a href="#l45.7"></a><span id="l45.7">   init: function () {</span>
<a href="#l45.8"></a><span id="l45.8">     this._initialized = true;</span>
<a href="#l45.9"></a><span id="l45.9"> </span>
<a href="#l45.10"></a><span id="l45.10">     window.addEventListener(&quot;activate&quot;, this);</span>
<a href="#l45.11"></a><span id="l45.11">     window.addEventListener(&quot;deactivate&quot;, this);</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;lightweight-theme-styling-update&quot;, false);</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;lightweight-theme-styling-update&quot;);</span>
<a href="#l45.14"></a><span id="l45.14"> </span>
<a href="#l45.15"></a><span id="l45.15">     // If the window isn't active now, we assume that it has never been active</span>
<a href="#l45.16"></a><span id="l45.16">     // before and will soon become active such that inferFromText will be</span>
<a href="#l45.17"></a><span id="l45.17">     // called from the initial activate event.</span>
<a href="#l45.18"></a><span id="l45.18">     if (Services.focus.activeWindow == window)</span>
<a href="#l45.19"></a><span id="l45.19">       this.inferFromText();</span>
<a href="#l45.20"></a><span id="l45.20">   },</span>
<a href="#l45.21"></a><span id="l45.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/mail/base/modules/mailInstrumentation.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/mail/base/modules/mailInstrumentation.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -177,17 +177,17 @@ var mailInstrumentationManager =</span>
<a href="#l46.4"></a><span id="l46.4">   _onLoad: function minst_onLoad() {</span>
<a href="#l46.5"></a><span id="l46.5">     Services.prefs.setCharPref(&quot;mail.instrumentation.lastNotificationSent&quot;,</span>
<a href="#l46.6"></a><span id="l46.6">                                this._lastStateString);</span>
<a href="#l46.7"></a><span id="l46.7">   },</span>
<a href="#l46.8"></a><span id="l46.8">   // keeps track of whether or not we've removed the observer for a given</span>
<a href="#l46.9"></a><span id="l46.9">   // pref name.</span>
<a href="#l46.10"></a><span id="l46.10">   _prefsObserved : new Map(),</span>
<a href="#l46.11"></a><span id="l46.11">   _addObserver : function(pref, observer) {</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-    Services.prefs.addObserver(pref, observer, false);</span>
<a href="#l46.13"></a><span id="l46.13" class="difflineplus">+    Services.prefs.addObserver(pref, observer);</span>
<a href="#l46.14"></a><span id="l46.14">     this._prefsObserved.set(pref, true);</span>
<a href="#l46.15"></a><span id="l46.15">   },</span>
<a href="#l46.16"></a><span id="l46.16">   _removeObserver : function(pref, observer) {</span>
<a href="#l46.17"></a><span id="l46.17">     if (this._prefsObserved.has(pref)) {</span>
<a href="#l46.18"></a><span id="l46.18">       Services.prefs.removeObserver(pref, observer);</span>
<a href="#l46.19"></a><span id="l46.19">       this._prefsObserved.set(pref, false);</span>
<a href="#l46.20"></a><span id="l46.20">     }</span>
<a href="#l46.21"></a><span id="l46.21">   },</span>
<a href="#l46.22"></a><span id="l46.22" class="difflineat">@@ -199,23 +199,23 @@ var mailInstrumentationManager =</span>
<a href="#l46.23"></a><span id="l46.23">     // If we're done with instrumentation, or this is not a first run,</span>
<a href="#l46.24"></a><span id="l46.24">     // we should just return immediately.</span>
<a href="#l46.25"></a><span id="l46.25">     if (!Services.prefs.getBoolPref(&quot;mail.instrumentation.askUser&quot;))</span>
<a href="#l46.26"></a><span id="l46.26">       return;</span>
<a href="#l46.27"></a><span id="l46.27">     if (MailServices.accounts.accounts.length &gt; 0)</span>
<a href="#l46.28"></a><span id="l46.28">       return;</span>
<a href="#l46.29"></a><span id="l46.29"> </span>
<a href="#l46.30"></a><span id="l46.30">     this._loadState();</span>
<a href="#l46.31"></a><span id="l46.31" class="difflineminus">-    Services.obs.addObserver(this, &quot;mail:composeSendSucceeded&quot;, false);</span>
<a href="#l46.32"></a><span id="l46.32" class="difflineminus">-    Services.obs.addObserver(this, &quot;mail:setAsDefault&quot;, false);</span>
<a href="#l46.33"></a><span id="l46.33" class="difflineplus">+    Services.obs.addObserver(this, &quot;mail:composeSendSucceeded&quot;);</span>
<a href="#l46.34"></a><span id="l46.34" class="difflineplus">+    Services.obs.addObserver(this, &quot;mail:setAsDefault&quot;);</span>
<a href="#l46.35"></a><span id="l46.35">     Services.prefs.addObserver(&quot;mail.accountmanager.accounts&quot;,</span>
<a href="#l46.36"></a><span id="l46.36" class="difflineminus">-                               this._accountsChanged, false);</span>
<a href="#l46.37"></a><span id="l46.37" class="difflineplus">+                               this._accountsChanged);</span>
<a href="#l46.38"></a><span id="l46.38">     Services.prefs.addObserver(&quot;mail.instrumentation.userOptedIn&quot;,</span>
<a href="#l46.39"></a><span id="l46.39" class="difflineminus">-                               this._userOptedIn, false);</span>
<a href="#l46.40"></a><span id="l46.40" class="difflineminus">-    Services.prefs.addObserver(&quot;mail.smtpservers&quot;, this._smtpServerAdded, false);</span>
<a href="#l46.41"></a><span id="l46.41" class="difflineplus">+                               this._userOptedIn);</span>
<a href="#l46.42"></a><span id="l46.42" class="difflineplus">+    Services.prefs.addObserver(&quot;mail.smtpservers&quot;, this._smtpServerAdded);</span>
<a href="#l46.43"></a><span id="l46.43">     MailServices.mfn.addListener(this, nsIMFNService.msgAdded);</span>
<a href="#l46.44"></a><span id="l46.44">     this._observersRegistered = true;</span>
<a href="#l46.45"></a><span id="l46.45">     this._mfnListener = true;</span>
<a href="#l46.46"></a><span id="l46.46">   },</span>
<a href="#l46.47"></a><span id="l46.47">   uninit: function() {</span>
<a href="#l46.48"></a><span id="l46.48">     if (!this._observersRegistered)</span>
<a href="#l46.49"></a><span id="l46.49">       return;</span>
<a href="#l46.50"></a><span id="l46.50">     Services.obs.removeObserver(this, &quot;mail:composeSendSucceeded&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/mail/base/modules/sessionStoreManager.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/mail/base/modules/sessionStoreManager.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -83,17 +83,17 @@ var sessionStoreManager =</span>
<a href="#l47.4"></a><span id="l47.4">    */</span>
<a href="#l47.5"></a><span id="l47.5">   async _init()</span>
<a href="#l47.6"></a><span id="l47.6">   {</span>
<a href="#l47.7"></a><span id="l47.7">     await this._loadSessionFile();</span>
<a href="#l47.8"></a><span id="l47.8"> </span>
<a href="#l47.9"></a><span id="l47.9">     // we listen for &quot;quit-application-granted&quot; instead of</span>
<a href="#l47.10"></a><span id="l47.10">     // &quot;quit-application-requested&quot; because other observers of the</span>
<a href="#l47.11"></a><span id="l47.11">     // latter can cancel the shutdown.</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;quit-application-granted&quot;, false);</span>
<a href="#l47.13"></a><span id="l47.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;quit-application-granted&quot;);</span>
<a href="#l47.14"></a><span id="l47.14"> </span>
<a href="#l47.15"></a><span id="l47.15">     this.startPeriodicSave();</span>
<a href="#l47.16"></a><span id="l47.16"> </span>
<a href="#l47.17"></a><span id="l47.17">     this._initialized = true;</span>
<a href="#l47.18"></a><span id="l47.18">   },</span>
<a href="#l47.19"></a><span id="l47.19"> </span>
<a href="#l47.20"></a><span id="l47.20">   /**</span>
<a href="#l47.21"></a><span id="l47.21">    * Loads the session file into _initialState. This should only be called by</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -1895,19 +1895,19 @@ var messageComposeOfflineQuitObserver =</span>
<a href="#l48.4"></a><span id="l48.4">         &amp;&amp; !aSubject.data)</span>
<a href="#l48.5"></a><span id="l48.5">       aSubject.data = !ComposeCanClose();</span>
<a href="#l48.6"></a><span id="l48.6">   }</span>
<a href="#l48.7"></a><span id="l48.7"> }</span>
<a href="#l48.8"></a><span id="l48.8"> </span>
<a href="#l48.9"></a><span id="l48.9"> function AddMessageComposeOfflineQuitObserver()</span>
<a href="#l48.10"></a><span id="l48.10"> {</span>
<a href="#l48.11"></a><span id="l48.11">   Services.obs.addObserver(messageComposeOfflineQuitObserver,</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-                           &quot;network:offline-status-changed&quot;, false);</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+                           &quot;network:offline-status-changed&quot;);</span>
<a href="#l48.14"></a><span id="l48.14">   Services.obs.addObserver(messageComposeOfflineQuitObserver,</span>
<a href="#l48.15"></a><span id="l48.15" class="difflineminus">-                           &quot;quit-application-requested&quot;, false);</span>
<a href="#l48.16"></a><span id="l48.16" class="difflineplus">+                           &quot;quit-application-requested&quot;);</span>
<a href="#l48.17"></a><span id="l48.17"> </span>
<a href="#l48.18"></a><span id="l48.18">   // set the initial state of the send button</span>
<a href="#l48.19"></a><span id="l48.19">   MessageComposeOfflineStateChanged(Services.io.offline);</span>
<a href="#l48.20"></a><span id="l48.20"> }</span>
<a href="#l48.21"></a><span id="l48.21"> </span>
<a href="#l48.22"></a><span id="l48.22"> function RemoveMessageComposeOfflineQuitObserver()</span>
<a href="#l48.23"></a><span id="l48.23"> {</span>
<a href="#l48.24"></a><span id="l48.24">   Services.obs.removeObserver(messageComposeOfflineQuitObserver,</span>
<a href="#l48.25"></a><span id="l48.25" class="difflineat">@@ -2403,17 +2403,17 @@ var dictionaryRemovalObserver =</span>
<a href="#l48.26"></a><span id="l48.26">       Services.prefs.setCharPref(&quot;spellchecker.dictionary&quot;, language);</span>
<a href="#l48.27"></a><span id="l48.27">     }</span>
<a href="#l48.28"></a><span id="l48.28">     document.documentElement.setAttribute(&quot;lang&quot;, language);</span>
<a href="#l48.29"></a><span id="l48.29">   },</span>
<a href="#l48.30"></a><span id="l48.30"> </span>
<a href="#l48.31"></a><span id="l48.31">   isAdded: false,</span>
<a href="#l48.32"></a><span id="l48.32"> </span>
<a href="#l48.33"></a><span id="l48.33">   addObserver: function() {</span>
<a href="#l48.34"></a><span id="l48.34" class="difflineminus">-    Services.obs.addObserver(this, &quot;spellcheck-dictionary-remove&quot;, false);</span>
<a href="#l48.35"></a><span id="l48.35" class="difflineplus">+    Services.obs.addObserver(this, &quot;spellcheck-dictionary-remove&quot;);</span>
<a href="#l48.36"></a><span id="l48.36">     this.isAdded = true;</span>
<a href="#l48.37"></a><span id="l48.37">   },</span>
<a href="#l48.38"></a><span id="l48.38"> </span>
<a href="#l48.39"></a><span id="l48.39">   removeObserver: function() {</span>
<a href="#l48.40"></a><span id="l48.40">     if (this.isAdded) {</span>
<a href="#l48.41"></a><span id="l48.41">       Services.obs.removeObserver(this, &quot;spellcheck-dictionary-remove&quot;);</span>
<a href="#l48.42"></a><span id="l48.42">       this.isAdded = false;</span>
<a href="#l48.43"></a><span id="l48.43">     }</span>
<a href="#l48.44"></a><span id="l48.44" class="difflineat">@@ -3785,17 +3785,17 @@ var spellCheckReadyObserver =</span>
<a href="#l48.45"></a><span id="l48.45">   },</span>
<a href="#l48.46"></a><span id="l48.46"> </span>
<a href="#l48.47"></a><span id="l48.47">   _isAdded: false,</span>
<a href="#l48.48"></a><span id="l48.48"> </span>
<a href="#l48.49"></a><span id="l48.49">   addObserver: function() {</span>
<a href="#l48.50"></a><span id="l48.50">     if (this._isAdded)</span>
<a href="#l48.51"></a><span id="l48.51">       return;</span>
<a href="#l48.52"></a><span id="l48.52"> </span>
<a href="#l48.53"></a><span id="l48.53" class="difflineminus">-    Services.obs.addObserver(this, this._topic, false);</span>
<a href="#l48.54"></a><span id="l48.54" class="difflineplus">+    Services.obs.addObserver(this, this._topic);</span>
<a href="#l48.55"></a><span id="l48.55">     this._isAdded = true;</span>
<a href="#l48.56"></a><span id="l48.56">   },</span>
<a href="#l48.57"></a><span id="l48.57"> </span>
<a href="#l48.58"></a><span id="l48.58">   removeObserver: function() {</span>
<a href="#l48.59"></a><span id="l48.59">     if (!this._isAdded)</span>
<a href="#l48.60"></a><span id="l48.60">       return;</span>
<a href="#l48.61"></a><span id="l48.61"> </span>
<a href="#l48.62"></a><span id="l48.62">     Services.obs.removeObserver(this, this._topic);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/mail/components/im/content/chat-messenger-overlay.js</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/mail/components/im/content/chat-messenger-overlay.js</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -407,17 +407,17 @@ var chatHandler = {</span>
<a href="#l49.4"></a><span id="l49.4">     if (this._pendingLogBrowserLoad) {</span>
<a href="#l49.5"></a><span id="l49.5">       browser._conv = aConversation;</span>
<a href="#l49.6"></a><span id="l49.6">       return;</span>
<a href="#l49.7"></a><span id="l49.7">     }</span>
<a href="#l49.8"></a><span id="l49.8">     browser.init(aConversation);</span>
<a href="#l49.9"></a><span id="l49.9">     this._pendingLogBrowserLoad = true;</span>
<a href="#l49.10"></a><span id="l49.10">     if (aSearchTerm)</span>
<a href="#l49.11"></a><span id="l49.11">       this._pendingSearchTerm = aSearchTerm;</span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;conversation-loaded&quot;, false);</span>
<a href="#l49.13"></a><span id="l49.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;conversation-loaded&quot;);</span>
<a href="#l49.14"></a><span id="l49.14"> </span>
<a href="#l49.15"></a><span id="l49.15">     // Conversation title may not be set yet if this is a search result.</span>
<a href="#l49.16"></a><span id="l49.16">     let cti = document.getElementById(&quot;conv-top-info&quot;);</span>
<a href="#l49.17"></a><span id="l49.17">     cti.setAttribute(&quot;displayName&quot;, aConversation.title);</span>
<a href="#l49.18"></a><span id="l49.18"> </span>
<a href="#l49.19"></a><span id="l49.19">     // Find and display the contact for this log.</span>
<a href="#l49.20"></a><span id="l49.20">     let accounts = imServices.accounts.getAccounts();</span>
<a href="#l49.21"></a><span id="l49.21">     while (accounts.hasMoreElements()) {</span>
<a href="#l49.22"></a><span id="l49.22" class="difflineat">@@ -1073,17 +1073,17 @@ var chatHandler = {</span>
<a href="#l49.23"></a><span id="l49.23">      &quot;account-added&quot;,&quot;account-removed&quot;</span>
<a href="#l49.24"></a><span id="l49.24">     ].forEach(chatHandler._addObserver);</span>
<a href="#l49.25"></a><span id="l49.25"> </span>
<a href="#l49.26"></a><span id="l49.26">     chatHandler._updateNoConvPlaceHolder();</span>
<a href="#l49.27"></a><span id="l49.27">     statusSelector.init();</span>
<a href="#l49.28"></a><span id="l49.28">   },</span>
<a href="#l49.29"></a><span id="l49.29">   _observedTopics: [],</span>
<a href="#l49.30"></a><span id="l49.30">   _addObserver: function(aTopic) {</span>
<a href="#l49.31"></a><span id="l49.31" class="difflineminus">-    imServices.obs.addObserver(chatHandler, aTopic, false);</span>
<a href="#l49.32"></a><span id="l49.32" class="difflineplus">+    imServices.obs.addObserver(chatHandler, aTopic);</span>
<a href="#l49.33"></a><span id="l49.33">     chatHandler._observedTopics.push(aTopic);</span>
<a href="#l49.34"></a><span id="l49.34">   },</span>
<a href="#l49.35"></a><span id="l49.35">   _removeObservers: function() {</span>
<a href="#l49.36"></a><span id="l49.36">     for (let topic of this._observedTopics)</span>
<a href="#l49.37"></a><span id="l49.37">       imServices.obs.removeObserver(this, topic);</span>
<a href="#l49.38"></a><span id="l49.38">   },</span>
<a href="#l49.39"></a><span id="l49.39">   init: function() {</span>
<a href="#l49.40"></a><span id="l49.40">     Notifications.init();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/mail/components/im/content/imAccountWizard.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/mail/components/im/content/imAccountWizard.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -27,17 +27,17 @@ var accountWizard = {</span>
<a href="#l50.4"></a><span id="l50.4">       item.setAttribute(&quot;class&quot;, &quot;listitem-iconic&quot;);</span>
<a href="#l50.5"></a><span id="l50.5">     });</span>
<a href="#l50.6"></a><span id="l50.6"> </span>
<a href="#l50.7"></a><span id="l50.7">     // there is a strange selection bug without this timeout</span>
<a href="#l50.8"></a><span id="l50.8">     setTimeout(function() {</span>
<a href="#l50.9"></a><span id="l50.9">       protoList.selectedIndex = 0;</span>
<a href="#l50.10"></a><span id="l50.10">     }, 0);</span>
<a href="#l50.11"></a><span id="l50.11"> </span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;prpl-quit&quot;, false);</span>
<a href="#l50.13"></a><span id="l50.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;prpl-quit&quot;);</span>
<a href="#l50.14"></a><span id="l50.14">     window.addEventListener(&quot;unload&quot;, this.unload);</span>
<a href="#l50.15"></a><span id="l50.15">   },</span>
<a href="#l50.16"></a><span id="l50.16">   unload: function aw_unload() {</span>
<a href="#l50.17"></a><span id="l50.17">     Services.obs.removeObserver(accountWizard, &quot;prpl-quit&quot;);</span>
<a href="#l50.18"></a><span id="l50.18">   },</span>
<a href="#l50.19"></a><span id="l50.19">   observe: function am_observe(aObject, aTopic, aData) {</span>
<a href="#l50.20"></a><span id="l50.20">     if (aTopic == &quot;prpl-quit&quot;) {</span>
<a href="#l50.21"></a><span id="l50.21">       // libpurple is being uninitialized. We can't create any new</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/mail/components/im/content/imAccounts.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/mail/components/im/content/imAccounts.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -41,17 +41,17 @@ var gAccountManager = {</span>
<a href="#l51.4"></a><span id="l51.4">       for (let acc of this.getAccounts()) {</span>
<a href="#l51.5"></a><span id="l51.5">         var elt = document.createElement(&quot;richlistitem&quot;);</span>
<a href="#l51.6"></a><span id="l51.6">         this.accountList.appendChild(elt);</span>
<a href="#l51.7"></a><span id="l51.7">         elt.build(acc);</span>
<a href="#l51.8"></a><span id="l51.8">         if (!defaultID &amp;&amp; acc.firstConnectionState == acc.FIRST_CONNECTION_CRASHED)</span>
<a href="#l51.9"></a><span id="l51.9">           defaultID = acc.id;</span>
<a href="#l51.10"></a><span id="l51.10">       }</span>
<a href="#l51.11"></a><span id="l51.11">       for (let event of events)</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineminus">-        Services.obs.addObserver(this, event, false);</span>
<a href="#l51.13"></a><span id="l51.13" class="difflineplus">+        Services.obs.addObserver(this, event);</span>
<a href="#l51.14"></a><span id="l51.14">       if (!this.accountList.getRowCount())</span>
<a href="#l51.15"></a><span id="l51.15">         // This is horrible, but it works. Otherwise (at least on mac)</span>
<a href="#l51.16"></a><span id="l51.16">         // the wizard is not centered relatively to the account manager</span>
<a href="#l51.17"></a><span id="l51.17">         setTimeout(function() { gAccountManager.new(); }, 0);</span>
<a href="#l51.18"></a><span id="l51.18">       else {</span>
<a href="#l51.19"></a><span id="l51.19">         // we have accounts, show the list</span>
<a href="#l51.20"></a><span id="l51.20">         document.getElementById(&quot;accountsDesk&quot;).selectedIndex = 1;</span>
<a href="#l51.21"></a><span id="l51.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/mail/components/im/content/imStatusSelector.js</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/mail/components/im/content/imStatusSelector.js</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -273,17 +273,17 @@ var statusSelector = {</span>
<a href="#l52.4"></a><span id="l52.4">       statusSelector.displayUserIcon();</span>
<a href="#l52.5"></a><span id="l52.5">     }</span>
<a href="#l52.6"></a><span id="l52.6"> </span>
<a href="#l52.7"></a><span id="l52.7">     let statusMessage = document.getElementById(&quot;statusMessage&quot;);</span>
<a href="#l52.8"></a><span id="l52.8">     if (statusMessage)</span>
<a href="#l52.9"></a><span id="l52.9">       statusMessage.addEventListener(&quot;keypress&quot;, this.statusMessageKeyPress);</span>
<a href="#l52.10"></a><span id="l52.10"> </span>
<a href="#l52.11"></a><span id="l52.11">     for (let event of events)</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-      Services.obs.addObserver(statusSelector, event, false);</span>
<a href="#l52.13"></a><span id="l52.13" class="difflineplus">+      Services.obs.addObserver(statusSelector, event);</span>
<a href="#l52.14"></a><span id="l52.14">     statusSelector._events = events;</span>
<a href="#l52.15"></a><span id="l52.15"> </span>
<a href="#l52.16"></a><span id="l52.16">     window.addEventListener(&quot;unload&quot;, statusSelector.unload);</span>
<a href="#l52.17"></a><span id="l52.17">   },</span>
<a href="#l52.18"></a><span id="l52.18"> </span>
<a href="#l52.19"></a><span id="l52.19">   unload: function ss_unload() {</span>
<a href="#l52.20"></a><span id="l52.20">     for (let event of statusSelector._events)</span>
<a href="#l52.21"></a><span id="l52.21">       Services.obs.removeObserver(statusSelector, event);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/mail/components/im/content/imconversation.xml</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/mail/components/im/content/imconversation.xml</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -55,17 +55,17 @@</span>
<a href="#l53.4"></a><span id="l53.4">          }</span>
<a href="#l53.5"></a><span id="l53.5">        }.bind(this)).observe(this.getElt(&quot;splitter-bottom&quot;),</span>
<a href="#l53.6"></a><span id="l53.6">                              {attributes: true, attributeOldValue: true,</span>
<a href="#l53.7"></a><span id="l53.7">                               attributeFilter: [&quot;state&quot;]});</span>
<a href="#l53.8"></a><span id="l53.8"> </span>
<a href="#l53.9"></a><span id="l53.9">        var browser = this.browser;</span>
<a href="#l53.10"></a><span id="l53.10">        browser.addEventListener(&quot;keypress&quot;, this.browserKeyPress);</span>
<a href="#l53.11"></a><span id="l53.11">        browser.addEventListener(&quot;dblclick&quot;, this.browserDblClick.bind(this));</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-       Services.obs.addObserver(this, &quot;conversation-loaded&quot;, false);</span>
<a href="#l53.13"></a><span id="l53.13" class="difflineplus">+       Services.obs.addObserver(this, &quot;conversation-loaded&quot;);</span>
<a href="#l53.14"></a><span id="l53.14">       ]]&gt;</span>
<a href="#l53.15"></a><span id="l53.15">      &lt;/constructor&gt;</span>
<a href="#l53.16"></a><span id="l53.16"> </span>
<a href="#l53.17"></a><span id="l53.17">      &lt;destructor&gt;</span>
<a href="#l53.18"></a><span id="l53.18">       &lt;![CDATA[</span>
<a href="#l53.19"></a><span id="l53.19">         this.destroy();</span>
<a href="#l53.20"></a><span id="l53.20">       ]]&gt;</span>
<a href="#l53.21"></a><span id="l53.21">      &lt;/destructor&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/mail/components/im/modules/chatHandler.jsm</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/mail/components/im/modules/chatHandler.jsm</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -16,21 +16,21 @@ var ChatCore = {</span>
<a href="#l54.4"></a><span id="l54.4">   _initializing: false,</span>
<a href="#l54.5"></a><span id="l54.5">   init: function() {</span>
<a href="#l54.6"></a><span id="l54.6">     if (this._initializing)</span>
<a href="#l54.7"></a><span id="l54.7">       return;</span>
<a href="#l54.8"></a><span id="l54.8">     this._initializing = true;</span>
<a href="#l54.9"></a><span id="l54.9"> </span>
<a href="#l54.10"></a><span id="l54.10">     Components.utils.import(&quot;resource:///modules/index_im.js&quot;);</span>
<a href="#l54.11"></a><span id="l54.11"> </span>
<a href="#l54.12"></a><span id="l54.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;browser-request&quot;, false);</span>
<a href="#l54.13"></a><span id="l54.13" class="difflineminus">-    Services.obs.addObserver(this, &quot;contact-signed-on&quot;, false);</span>
<a href="#l54.14"></a><span id="l54.14" class="difflineminus">-    Services.obs.addObserver(this, &quot;contact-signed-off&quot;, false);</span>
<a href="#l54.15"></a><span id="l54.15" class="difflineminus">-    Services.obs.addObserver(this, &quot;contact-added&quot;, false);</span>
<a href="#l54.16"></a><span id="l54.16" class="difflineminus">-    Services.obs.addObserver(this, &quot;contact-removed&quot;, false);</span>
<a href="#l54.17"></a><span id="l54.17" class="difflineplus">+    Services.obs.addObserver(this, &quot;browser-request&quot;);</span>
<a href="#l54.18"></a><span id="l54.18" class="difflineplus">+    Services.obs.addObserver(this, &quot;contact-signed-on&quot;);</span>
<a href="#l54.19"></a><span id="l54.19" class="difflineplus">+    Services.obs.addObserver(this, &quot;contact-signed-off&quot;);</span>
<a href="#l54.20"></a><span id="l54.20" class="difflineplus">+    Services.obs.addObserver(this, &quot;contact-added&quot;);</span>
<a href="#l54.21"></a><span id="l54.21" class="difflineplus">+    Services.obs.addObserver(this, &quot;contact-removed&quot;);</span>
<a href="#l54.22"></a><span id="l54.22"> </span>
<a href="#l54.23"></a><span id="l54.23">     // The initialization of the im core may trigger a master password prompt,</span>
<a href="#l54.24"></a><span id="l54.24">     // so wrap it with the async prompter service. Note this service already</span>
<a href="#l54.25"></a><span id="l54.25">     // waits for the asynchronous initialization of the password service.</span>
<a href="#l54.26"></a><span id="l54.26">     Components.classes[&quot;@mozilla.org/messenger/msgAsyncPrompter;1&quot;]</span>
<a href="#l54.27"></a><span id="l54.27">               .getService(Components.interfaces.nsIMsgAsyncPrompter)</span>
<a href="#l54.28"></a><span id="l54.28">               .queueAsyncAuthPrompt(&quot;im&quot;, false, {</span>
<a href="#l54.29"></a><span id="l54.29">       onPromptStart: function() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/mail/components/im/modules/chatNotifications.jsm</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/mail/components/im/modules/chatNotifications.jsm</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -113,18 +113,18 @@ var Notifications = {</span>
<a href="#l55.4"></a><span id="l55.4">     Cc[&quot;@mozilla.org/alerts-service;1&quot;].getService(Ci.nsIAlertsService)</span>
<a href="#l55.5"></a><span id="l55.5">       .showAlertNotification(icon, name, messageText, true, &quot;&quot;, this);</span>
<a href="#l55.6"></a><span id="l55.6"> </span>
<a href="#l55.7"></a><span id="l55.7">     this._heldMessage = null;</span>
<a href="#l55.8"></a><span id="l55.8">     this._msgCounter = 0;</span>
<a href="#l55.9"></a><span id="l55.9">   },</span>
<a href="#l55.10"></a><span id="l55.10"> </span>
<a href="#l55.11"></a><span id="l55.11">   init: function() {</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-    Services.obs.addObserver(Notifications, &quot;new-directed-incoming-message&quot;, false);</span>
<a href="#l55.13"></a><span id="l55.13" class="difflineminus">-    Services.obs.addObserver(Notifications, &quot;alertclickcallback&quot;, false);</span>
<a href="#l55.14"></a><span id="l55.14" class="difflineplus">+    Services.obs.addObserver(Notifications, &quot;new-directed-incoming-message&quot;);</span>
<a href="#l55.15"></a><span id="l55.15" class="difflineplus">+    Services.obs.addObserver(Notifications, &quot;alertclickcallback&quot;);</span>
<a href="#l55.16"></a><span id="l55.16">   },</span>
<a href="#l55.17"></a><span id="l55.17"> </span>
<a href="#l55.18"></a><span id="l55.18">   _notificationPrefName: &quot;mail.chat.show_desktop_notifications&quot;,</span>
<a href="#l55.19"></a><span id="l55.19">   observe: function(aSubject, aTopic, aData) {</span>
<a href="#l55.20"></a><span id="l55.20">     if (aTopic == &quot;new-directed-incoming-message&quot; &amp;&amp;</span>
<a href="#l55.21"></a><span id="l55.21">         Services.prefs.getBoolPref(this._notificationPrefName)) {</span>
<a href="#l55.22"></a><span id="l55.22">       // If this is the first message, we show the notification and</span>
<a href="#l55.23"></a><span id="l55.23">       // store the sender's name.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/mail/components/im/modules/index_im.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/mail/components/im/modules/index_im.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -234,19 +234,19 @@ Gloda.defineAttribute({</span>
<a href="#l56.4"></a><span id="l56.4">   },</span>
<a href="#l56.5"></a><span id="l56.5">   canQuery: true</span>
<a href="#l56.6"></a><span id="l56.6"> });</span>
<a href="#l56.7"></a><span id="l56.7"> </span>
<a href="#l56.8"></a><span id="l56.8"> var GlodaIMIndexer = {</span>
<a href="#l56.9"></a><span id="l56.9">   name: &quot;index_im&quot;,</span>
<a href="#l56.10"></a><span id="l56.10">   cacheVersion: 1,</span>
<a href="#l56.11"></a><span id="l56.11">   enable: function() {</span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;conversation-closed&quot;, false);</span>
<a href="#l56.13"></a><span id="l56.13" class="difflineminus">-    Services.obs.addObserver(this, &quot;new-ui-conversation&quot;, false);</span>
<a href="#l56.14"></a><span id="l56.14" class="difflineminus">-    Services.obs.addObserver(this, &quot;ui-conversation-closed&quot;, false);</span>
<a href="#l56.15"></a><span id="l56.15" class="difflineplus">+    Services.obs.addObserver(this, &quot;conversation-closed&quot;);</span>
<a href="#l56.16"></a><span id="l56.16" class="difflineplus">+    Services.obs.addObserver(this, &quot;new-ui-conversation&quot;);</span>
<a href="#l56.17"></a><span id="l56.17" class="difflineplus">+    Services.obs.addObserver(this, &quot;ui-conversation-closed&quot;);</span>
<a href="#l56.18"></a><span id="l56.18"> </span>
<a href="#l56.19"></a><span id="l56.19">     // The shutdown blocker ensures pending saves happen even if the app</span>
<a href="#l56.20"></a><span id="l56.20">     // gets shut down before the timer fires.</span>
<a href="#l56.21"></a><span id="l56.21">     if (this._shutdownBlockerAdded)</span>
<a href="#l56.22"></a><span id="l56.22">       return;</span>
<a href="#l56.23"></a><span id="l56.23">     this._shutdownBlockerAdded = true;</span>
<a href="#l56.24"></a><span id="l56.24">     AsyncShutdown.profileBeforeChange.addBlocker(&quot;GlodaIMIndexer cache save&quot;,</span>
<a href="#l56.25"></a><span id="l56.25">       () =&gt; {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/mail/components/mailGlue.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/mail/components/mailGlue.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -28,21 +28,21 @@ function MailGlue() {</span>
<a href="#l57.4"></a><span id="l57.4">     });</span>
<a href="#l57.5"></a><span id="l57.5"> </span>
<a href="#l57.6"></a><span id="l57.6">   this._init();</span>
<a href="#l57.7"></a><span id="l57.7"> }</span>
<a href="#l57.8"></a><span id="l57.8"> </span>
<a href="#l57.9"></a><span id="l57.9"> MailGlue.prototype = {</span>
<a href="#l57.10"></a><span id="l57.10">   // init (called at app startup)</span>
<a href="#l57.11"></a><span id="l57.11">   _init: function MailGlue__init() {</span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;xpcom-shutdown&quot;, false);</span>
<a href="#l57.13"></a><span id="l57.13" class="difflineminus">-    Services.obs.addObserver(this, &quot;final-ui-startup&quot;, false);</span>
<a href="#l57.14"></a><span id="l57.14" class="difflineminus">-    Services.obs.addObserver(this, &quot;mail-startup-done&quot;, false);</span>
<a href="#l57.15"></a><span id="l57.15" class="difflineminus">-    Services.obs.addObserver(this, &quot;handle-xul-text-link&quot;, false);</span>
<a href="#l57.16"></a><span id="l57.16" class="difflineminus">-    Services.obs.addObserver(this, &quot;profile-after-change&quot;, false);</span>
<a href="#l57.17"></a><span id="l57.17" class="difflineplus">+    Services.obs.addObserver(this, &quot;xpcom-shutdown&quot;);</span>
<a href="#l57.18"></a><span id="l57.18" class="difflineplus">+    Services.obs.addObserver(this, &quot;final-ui-startup&quot;);</span>
<a href="#l57.19"></a><span id="l57.19" class="difflineplus">+    Services.obs.addObserver(this, &quot;mail-startup-done&quot;);</span>
<a href="#l57.20"></a><span id="l57.20" class="difflineplus">+    Services.obs.addObserver(this, &quot;handle-xul-text-link&quot;);</span>
<a href="#l57.21"></a><span id="l57.21" class="difflineplus">+    Services.obs.addObserver(this, &quot;profile-after-change&quot;);</span>
<a href="#l57.22"></a><span id="l57.22">   },</span>
<a href="#l57.23"></a><span id="l57.23"> </span>
<a href="#l57.24"></a><span id="l57.24">   // cleanup (called at shutdown)</span>
<a href="#l57.25"></a><span id="l57.25">   _dispose: function MailGlue__dispose() {</span>
<a href="#l57.26"></a><span id="l57.26">     Services.obs.removeObserver(this, &quot;xpcom-shutdown&quot;);</span>
<a href="#l57.27"></a><span id="l57.27">     Services.obs.removeObserver(this, &quot;final-ui-startup&quot;);</span>
<a href="#l57.28"></a><span id="l57.28">     Services.obs.removeObserver(this, &quot;mail-startup-done&quot;);</span>
<a href="#l57.29"></a><span id="l57.29">     Services.obs.removeObserver(this, &quot;handle-xul-text-link&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/mail/components/migration/content/migration.js</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/mail/components/migration/content/migration.js</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -14,21 +14,21 @@ var MigrationWizard = {</span>
<a href="#l58.4"></a><span id="l58.4">   _itemsFlags: kIMig.ALL,       // Selected Import Data Sources (16-bit bitfield)</span>
<a href="#l58.5"></a><span id="l58.5">   _selectedProfile: null,       // Selected Profile name to import from</span>
<a href="#l58.6"></a><span id="l58.6">   _wiz: null,</span>
<a href="#l58.7"></a><span id="l58.7">   _migrator: null,</span>
<a href="#l58.8"></a><span id="l58.8">   _autoMigrate: null,</span>
<a href="#l58.9"></a><span id="l58.9"> </span>
<a href="#l58.10"></a><span id="l58.10">   init: function ()</span>
<a href="#l58.11"></a><span id="l58.11">   {</span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;Migration:Started&quot;, false);</span>
<a href="#l58.13"></a><span id="l58.13" class="difflineminus">-    Services.obs.addObserver(this, &quot;Migration:ItemBeforeMigrate&quot;, false);</span>
<a href="#l58.14"></a><span id="l58.14" class="difflineminus">-    Services.obs.addObserver(this, &quot;Migration:ItemAfterMigrate&quot;, false);</span>
<a href="#l58.15"></a><span id="l58.15" class="difflineminus">-    Services.obs.addObserver(this, &quot;Migration:Ended&quot;, false);</span>
<a href="#l58.16"></a><span id="l58.16" class="difflineminus">-    Services.obs.addObserver(this, &quot;Migration:Progress&quot;, false);</span>
<a href="#l58.17"></a><span id="l58.17" class="difflineplus">+    Services.obs.addObserver(this, &quot;Migration:Started&quot;);</span>
<a href="#l58.18"></a><span id="l58.18" class="difflineplus">+    Services.obs.addObserver(this, &quot;Migration:ItemBeforeMigrate&quot;);</span>
<a href="#l58.19"></a><span id="l58.19" class="difflineplus">+    Services.obs.addObserver(this, &quot;Migration:ItemAfterMigrate&quot;);</span>
<a href="#l58.20"></a><span id="l58.20" class="difflineplus">+    Services.obs.addObserver(this, &quot;Migration:Ended&quot;);</span>
<a href="#l58.21"></a><span id="l58.21" class="difflineplus">+    Services.obs.addObserver(this, &quot;Migration:Progress&quot;);</span>
<a href="#l58.22"></a><span id="l58.22"> </span>
<a href="#l58.23"></a><span id="l58.23">     this._wiz = document.documentElement;</span>
<a href="#l58.24"></a><span id="l58.24"> </span>
<a href="#l58.25"></a><span id="l58.25">     if ((&quot;arguments&quot; in window) &amp;&amp; !window.arguments[3]) {</span>
<a href="#l58.26"></a><span id="l58.26">       this._source = window.arguments[0];</span>
<a href="#l58.27"></a><span id="l58.27">       this._migrator = window.arguments[1] ? window.arguments[1].QueryInterface(kIMig) : null;</span>
<a href="#l58.28"></a><span id="l58.28">       this._autoMigrate = window.arguments[2].QueryInterface(kIPStartup);</span>
<a href="#l58.29"></a><span id="l58.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/mail/components/newmailaccount/content/accountProvisionerTab.js</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/mail/components/newmailaccount/content/accountProvisionerTab.js</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -101,20 +101,19 @@ accountProvisionerTabType._setMonitoring</span>
<a href="#l59.4"></a><span id="l59.4">   // text/xml.</span>
<a href="#l59.5"></a><span id="l59.5">   this._observer = new mail3Pane.httpRequestObserver(aBrowser, {</span>
<a href="#l59.6"></a><span id="l59.6">     realName: aRealName,</span>
<a href="#l59.7"></a><span id="l59.7">     email: aEmail,</span>
<a href="#l59.8"></a><span id="l59.8">     searchEngine: aSearchEngine,</span>
<a href="#l59.9"></a><span id="l59.9">   });</span>
<a href="#l59.10"></a><span id="l59.10"> </span>
<a href="#l59.11"></a><span id="l59.11">   // Register our observer</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-  Services.obs.addObserver(this._observer, &quot;http-on-examine-response&quot;, false);</span>
<a href="#l59.13"></a><span id="l59.13" class="difflineminus">-  Services.obs.addObserver(this._observer, &quot;http-on-examine-cached-response&quot;,</span>
<a href="#l59.14"></a><span id="l59.14" class="difflineminus">-                           false);</span>
<a href="#l59.15"></a><span id="l59.15" class="difflineminus">-  Services.obs.addObserver(this.quitObserver, &quot;mail-unloading-messenger&quot;, false);</span>
<a href="#l59.16"></a><span id="l59.16" class="difflineplus">+  Services.obs.addObserver(this._observer, &quot;http-on-examine-response&quot;);</span>
<a href="#l59.17"></a><span id="l59.17" class="difflineplus">+  Services.obs.addObserver(this._observer, &quot;http-on-examine-cached-response&quot;);</span>
<a href="#l59.18"></a><span id="l59.18" class="difflineplus">+  Services.obs.addObserver(this.quitObserver, &quot;mail-unloading-messenger&quot;);</span>
<a href="#l59.19"></a><span id="l59.19"> </span>
<a href="#l59.20"></a><span id="l59.20">   this._log.info(&quot;httpRequestObserver wired up.&quot;);</span>
<a href="#l59.21"></a><span id="l59.21"> }</span>
<a href="#l59.22"></a><span id="l59.22"> </span>
<a href="#l59.23"></a><span id="l59.23"> /**</span>
<a href="#l59.24"></a><span id="l59.24">  * Click handler for the Account Provisioner tab that allows all links</span>
<a href="#l59.25"></a><span id="l59.25">  * to open within the current content tab, except for those which have</span>
<a href="#l59.26"></a><span id="l59.26">  * their targets set to _blank - these links open in the default browser.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/mail/components/preferences/applications.js</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/mail/components/preferences/applications.js</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -867,18 +867,18 @@ var gApplicationsPane = {</span>
<a href="#l60.4"></a><span id="l60.4">     this._brandShortName =</span>
<a href="#l60.5"></a><span id="l60.5">       document.getElementById(&quot;bundleBrand&quot;).getString(&quot;brandShortName&quot;);</span>
<a href="#l60.6"></a><span id="l60.6">     this._prefsBundle = document.getElementById(&quot;bundlePreferences&quot;);</span>
<a href="#l60.7"></a><span id="l60.7">     this._list = document.getElementById(&quot;handlersView&quot;);</span>
<a href="#l60.8"></a><span id="l60.8">     this._filter = document.getElementById(&quot;filter&quot;);</span>
<a href="#l60.9"></a><span id="l60.9"> </span>
<a href="#l60.10"></a><span id="l60.10">     // Observe preferences that influence what we display so we can rebuild</span>
<a href="#l60.11"></a><span id="l60.11">     // the view when they change.</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineminus">-    Services.prefs.addObserver(PREF_SHOW_PLUGINS_IN_LIST, this, false);</span>
<a href="#l60.13"></a><span id="l60.13" class="difflineminus">-    Services.prefs.addObserver(PREF_HIDE_PLUGINS_WITHOUT_EXTENSIONS, this, false);</span>
<a href="#l60.14"></a><span id="l60.14" class="difflineplus">+    Services.prefs.addObserver(PREF_SHOW_PLUGINS_IN_LIST, this);</span>
<a href="#l60.15"></a><span id="l60.15" class="difflineplus">+    Services.prefs.addObserver(PREF_HIDE_PLUGINS_WITHOUT_EXTENSIONS, this);</span>
<a href="#l60.16"></a><span id="l60.16"> </span>
<a href="#l60.17"></a><span id="l60.17">     // Listen for window unload so we can remove our preference observers.</span>
<a href="#l60.18"></a><span id="l60.18">     window.addEventListener(&quot;unload&quot;, this, {capture: false, once: true});</span>
<a href="#l60.19"></a><span id="l60.19"> </span>
<a href="#l60.20"></a><span id="l60.20">     // Figure out how we should be sorting the list.  We persist sort settings</span>
<a href="#l60.21"></a><span id="l60.21">     // across sessions, so we can't assume the default sort column/direction.</span>
<a href="#l60.22"></a><span id="l60.22">     // XXX should we be using the XUL sort service instead?</span>
<a href="#l60.23"></a><span id="l60.23">     this._sortColumn = document.getElementById(&quot;typeColumn&quot;)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/mail/components/preferences/compose.js</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/mail/components/preferences/compose.js</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -238,17 +238,17 @@ var gComposePane = {</span>
<a href="#l61.4"></a><span id="l61.4">         return;</span>
<a href="#l61.5"></a><span id="l61.5"> </span>
<a href="#l61.6"></a><span id="l61.6">       // If the default startup directory prefs have changed,</span>
<a href="#l61.7"></a><span id="l61.7">       // reinitialize the default startup dir picker to show the new value.</span>
<a href="#l61.8"></a><span id="l61.8">       gComposePane.initAbDefaultStartupDir();</span>
<a href="#l61.9"></a><span id="l61.9">     },</span>
<a href="#l61.10"></a><span id="l61.10">     load: function() {</span>
<a href="#l61.11"></a><span id="l61.11">       // Observe changes of our prefs.</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-      Services.prefs.addObserver(this.domain, this, false);</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineplus">+      Services.prefs.addObserver(this.domain, this);</span>
<a href="#l61.14"></a><span id="l61.14">       // Unload the pref observer when preferences window is closed.</span>
<a href="#l61.15"></a><span id="l61.15">       window.addEventListener(&quot;unload&quot;, this.unload, true);</span>
<a href="#l61.16"></a><span id="l61.16">       this.inited = true;</span>
<a href="#l61.17"></a><span id="l61.17">     },</span>
<a href="#l61.18"></a><span id="l61.18"> </span>
<a href="#l61.19"></a><span id="l61.19">     unload: function(event) {</span>
<a href="#l61.20"></a><span id="l61.20">       Services.prefs.removeObserver(gComposePane.startupDirListener.domain,</span>
<a href="#l61.21"></a><span id="l61.21">                                     gComposePane.startupDirListener);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/mail/components/preferences/cookies.js</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/mail/components/preferences/cookies.js</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -11,18 +11,18 @@ var nsICookie = Components.interfaces.ns</span>
<a href="#l62.4"></a><span id="l62.4"> var gCookiesWindow = {</span>
<a href="#l62.5"></a><span id="l62.5">   _hosts            : {},</span>
<a href="#l62.6"></a><span id="l62.6">   _hostOrder        : [],</span>
<a href="#l62.7"></a><span id="l62.7">   _tree             : null,</span>
<a href="#l62.8"></a><span id="l62.8">   _bundle           : null,</span>
<a href="#l62.9"></a><span id="l62.9"> </span>
<a href="#l62.10"></a><span id="l62.10">   init: function ()</span>
<a href="#l62.11"></a><span id="l62.11">   {</span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;cookie-changed&quot;, false);</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineminus">-    Services.obs.addObserver(this, &quot;perm-changed&quot;, false);</span>
<a href="#l62.14"></a><span id="l62.14" class="difflineplus">+    Services.obs.addObserver(this, &quot;cookie-changed&quot;);</span>
<a href="#l62.15"></a><span id="l62.15" class="difflineplus">+    Services.obs.addObserver(this, &quot;perm-changed&quot;);</span>
<a href="#l62.16"></a><span id="l62.16"> </span>
<a href="#l62.17"></a><span id="l62.17">     this._bundle = document.getElementById(&quot;bundlePreferences&quot;);</span>
<a href="#l62.18"></a><span id="l62.18">     this._tree = document.getElementById(&quot;cookiesList&quot;);</span>
<a href="#l62.19"></a><span id="l62.19"> </span>
<a href="#l62.20"></a><span id="l62.20">     this._populateList(true);</span>
<a href="#l62.21"></a><span id="l62.21"> </span>
<a href="#l62.22"></a><span id="l62.22">     document.getElementById(&quot;filter&quot;).focus();</span>
<a href="#l62.23"></a><span id="l62.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l63.1"></a><span id="l63.1" class="difflineminus">--- a/mail/components/preferences/messagestyle.js</span>
<a href="#l63.2"></a><span id="l63.2" class="difflineplus">+++ b/mail/components/preferences/messagestyle.js</span>
<a href="#l63.3"></a><span id="l63.3" class="difflineat">@@ -158,17 +158,17 @@ var previewObserver = {</span>
<a href="#l63.4"></a><span id="l63.4"> </span>
<a href="#l63.5"></a><span id="l63.5">     this.reloadPreview();</span>
<a href="#l63.6"></a><span id="l63.6">     document.getElementById(&quot;previewDeck&quot;).selectedIndex = 1;</span>
<a href="#l63.7"></a><span id="l63.7">   },</span>
<a href="#l63.8"></a><span id="l63.8"> </span>
<a href="#l63.9"></a><span id="l63.9">   reloadPreview: function() {</span>
<a href="#l63.10"></a><span id="l63.10">     this.browser.init(this.conv);</span>
<a href="#l63.11"></a><span id="l63.11">     this.browser._theme = this.theme;</span>
<a href="#l63.12"></a><span id="l63.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;conversation-loaded&quot;, false);</span>
<a href="#l63.13"></a><span id="l63.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;conversation-loaded&quot;);</span>
<a href="#l63.14"></a><span id="l63.14">   },</span>
<a href="#l63.15"></a><span id="l63.15"> </span>
<a href="#l63.16"></a><span id="l63.16">   observe: function(aSubject, aTopic, aData) {</span>
<a href="#l63.17"></a><span id="l63.17">     if (aTopic != &quot;conversation-loaded&quot; || aSubject != this.browser)</span>
<a href="#l63.18"></a><span id="l63.18">       return;</span>
<a href="#l63.19"></a><span id="l63.19"> </span>
<a href="#l63.20"></a><span id="l63.20">     // We want to avoid the convbrowser trying to scroll to the last</span>
<a href="#l63.21"></a><span id="l63.21">     // added message, as that causes the entire pref pane to jump up</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l64.1"></a><span id="l64.1" class="difflineminus">--- a/mail/components/preferences/permissions.js</span>
<a href="#l64.2"></a><span id="l64.2" class="difflineplus">+++ b/mail/components/preferences/permissions.js</span>
<a href="#l64.3"></a><span id="l64.3" class="difflineat">@@ -269,17 +269,17 @@ var gPermissionManager = {</span>
<a href="#l64.4"></a><span id="l64.4">       if (!sortField) {</span>
<a href="#l64.5"></a><span id="l64.5">         return;</span>
<a href="#l64.6"></a><span id="l64.6">       }</span>
<a href="#l64.7"></a><span id="l64.7"> </span>
<a href="#l64.8"></a><span id="l64.8">       gPermissionManager.onPermissionSort(sortField);</span>
<a href="#l64.9"></a><span id="l64.9">     });</span>
<a href="#l64.10"></a><span id="l64.10"> </span>
<a href="#l64.11"></a><span id="l64.11">     Services.obs.notifyObservers(null, NOTIFICATION_FLUSH_PERMISSIONS, this._type);</span>
<a href="#l64.12"></a><span id="l64.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;perm-changed&quot;, false);</span>
<a href="#l64.13"></a><span id="l64.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;perm-changed&quot;);</span>
<a href="#l64.14"></a><span id="l64.14"> </span>
<a href="#l64.15"></a><span id="l64.15">     this._loadPermissions();</span>
<a href="#l64.16"></a><span id="l64.16"> </span>
<a href="#l64.17"></a><span id="l64.17">     urlField.focus();</span>
<a href="#l64.18"></a><span id="l64.18">   },</span>
<a href="#l64.19"></a><span id="l64.19"> </span>
<a href="#l64.20"></a><span id="l64.20">   uninit: function ()</span>
<a href="#l64.21"></a><span id="l64.21">   {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l65.1"></a><span id="l65.1" class="difflineminus">--- a/mail/components/search/content/searchCommon.js</span>
<a href="#l65.2"></a><span id="l65.2" class="difflineplus">+++ b/mail/components/search/content/searchCommon.js</span>
<a href="#l65.3"></a><span id="l65.3" class="difflineat">@@ -207,17 +207,17 @@ var SearchSupport =</span>
<a href="#l65.4"></a><span id="l65.4">         MailServices.mfn.msgsDeleted |</span>
<a href="#l65.5"></a><span id="l65.5">         MailServices.mfn.msgsMoveCopyCompleted |</span>
<a href="#l65.6"></a><span id="l65.6">         // this code pre-dates msgsClassified</span>
<a href="#l65.7"></a><span id="l65.7">         // folderAdded intentionally omitted</span>
<a href="#l65.8"></a><span id="l65.8">         MailServices.mfn.folderDeleted |</span>
<a href="#l65.9"></a><span id="l65.9">         MailServices.mfn.folderMoveCopyCompleted |</span>
<a href="#l65.10"></a><span id="l65.10">         MailServices.mfn.folderRenamed);</span>
<a href="#l65.11"></a><span id="l65.11">         // itemEvent intentionally omitted</span>
<a href="#l65.12"></a><span id="l65.12" class="difflineminus">-      Services.obs.addObserver(this, &quot;MsgMsgDisplayed&quot;, false);</span>
<a href="#l65.13"></a><span id="l65.13" class="difflineplus">+      Services.obs.addObserver(this, &quot;MsgMsgDisplayed&quot;);</span>
<a href="#l65.14"></a><span id="l65.14">       let idleService = Cc[&quot;@mozilla.org/widget/idleservice;1&quot;]</span>
<a href="#l65.15"></a><span id="l65.15">                           .getService(Ci.nsIIdleService);</span>
<a href="#l65.16"></a><span id="l65.16">       idleService.addIdleObserver(this, this._idleThresholdSecs);</span>
<a href="#l65.17"></a><span id="l65.17">     }</span>
<a href="#l65.18"></a><span id="l65.18">     else</span>
<a href="#l65.19"></a><span id="l65.19">       // We want to observe moves, deletes and renames in case we're disabled</span>
<a href="#l65.20"></a><span id="l65.20">       // If we don't, we'll have no idea the support files exist later</span>
<a href="#l65.21"></a><span id="l65.21">       MailServices.mfn.addListener(this._msgFolderListener,</span>
<a href="#l65.22"></a><span id="l65.22" class="difflineat">@@ -263,17 +263,17 @@ var SearchSupport =</span>
<a href="#l65.23"></a><span id="l65.23">    */</span>
<a href="#l65.24"></a><span id="l65.24">   _initSupport: function search_init_support(enabled)</span>
<a href="#l65.25"></a><span id="l65.25">   {</span>
<a href="#l65.26"></a><span id="l65.26">     this._log.info(&quot;Search integration running in &quot; +</span>
<a href="#l65.27"></a><span id="l65.27">                    (enabled ? &quot;active&quot; : &quot;backoff&quot;) + &quot; mode&quot;);</span>
<a href="#l65.28"></a><span id="l65.28">     this.enabled = enabled;</span>
<a href="#l65.29"></a><span id="l65.29"> </span>
<a href="#l65.30"></a><span id="l65.30">     // Set up a pref observer</span>
<a href="#l65.31"></a><span id="l65.31" class="difflineminus">-    this._prefBranch.addObserver(&quot;enable&quot;, this, false);</span>
<a href="#l65.32"></a><span id="l65.32" class="difflineplus">+    this._prefBranch.addObserver(&quot;enable&quot;, this);</span>
<a href="#l65.33"></a><span id="l65.33">   },</span>
<a href="#l65.34"></a><span id="l65.34"> </span>
<a href="#l65.35"></a><span id="l65.35">   /**</span>
<a href="#l65.36"></a><span id="l65.36">    * Current folder being indexed</span>
<a href="#l65.37"></a><span id="l65.37">    */</span>
<a href="#l65.38"></a><span id="l65.38">   _currentFolderToIndex: null,</span>
<a href="#l65.39"></a><span id="l65.39"> </span>
<a href="#l65.40"></a><span id="l65.40">   /**</span>
<a href="#l65.41"></a><span id="l65.41" class="difflineat">@@ -584,17 +584,17 @@ var SearchSupport =</span>
<a href="#l65.42"></a><span id="l65.42"> </span>
<a href="#l65.43"></a><span id="l65.43">   /// Handle failure to register or deregister</span>
<a href="#l65.44"></a><span id="l65.44">   _handleRegisterFailure: function search_handle_register_failure(enabled)</span>
<a href="#l65.45"></a><span id="l65.45">   {</span>
<a href="#l65.46"></a><span id="l65.46">     // Remove ourselves from the observer list, flip the pref,</span>
<a href="#l65.47"></a><span id="l65.47">     // and add ourselves back</span>
<a href="#l65.48"></a><span id="l65.48">     this._prefBranch.removeObserver(&quot;enable&quot;, this);</span>
<a href="#l65.49"></a><span id="l65.49">     this.prefEnabled = enabled;</span>
<a href="#l65.50"></a><span id="l65.50" class="difflineminus">-    this._prefBranch.addObserver(&quot;enable&quot;, this, false);</span>
<a href="#l65.51"></a><span id="l65.51" class="difflineplus">+    this._prefBranch.addObserver(&quot;enable&quot;, this);</span>
<a href="#l65.52"></a><span id="l65.52">   },</span>
<a href="#l65.53"></a><span id="l65.53"> </span>
<a href="#l65.54"></a><span id="l65.54">   /**</span>
<a href="#l65.55"></a><span id="l65.55">    * This object gets notifications for new/moved/copied/deleted messages/folders</span>
<a href="#l65.56"></a><span id="l65.56">    */</span>
<a href="#l65.57"></a><span id="l65.57">   _msgFolderListener: {</span>
<a href="#l65.58"></a><span id="l65.58">     msgAdded: function(aMsg)</span>
<a href="#l65.59"></a><span id="l65.59">     {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l66.1"></a><span id="l66.1" class="difflineminus">--- a/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js</span>
<a href="#l66.2"></a><span id="l66.2" class="difflineplus">+++ b/mail/test/mozmill/cloudfile/test-cloudfile-backend-hightail.js</span>
<a href="#l66.3"></a><span id="l66.3" class="difflineat">@@ -59,17 +59,17 @@ function test_simple_case() {</span>
<a href="#l66.4"></a><span id="l66.4">   const kTopics = [kUploadFile, kGetFileURL];</span>
<a href="#l66.5"></a><span id="l66.5"> </span>
<a href="#l66.6"></a><span id="l66.6">   gServer.planForUploadFile(&quot;testFile1&quot;);</span>
<a href="#l66.7"></a><span id="l66.7">   gServer.planForGetFileURL(&quot;testFile1&quot;, {url: kExpectedUrl});</span>
<a href="#l66.8"></a><span id="l66.8"> </span>
<a href="#l66.9"></a><span id="l66.9">   let obs = new ObservationRecorder();</span>
<a href="#l66.10"></a><span id="l66.10">   for (let topic of kTopics) {</span>
<a href="#l66.11"></a><span id="l66.11">     obs.planFor(topic);</span>
<a href="#l66.12"></a><span id="l66.12" class="difflineminus">-    Services.obs.addObserver(obs, topic, false);</span>
<a href="#l66.13"></a><span id="l66.13" class="difflineplus">+    Services.obs.addObserver(obs, topic);</span>
<a href="#l66.14"></a><span id="l66.14">   }</span>
<a href="#l66.15"></a><span id="l66.15"> </span>
<a href="#l66.16"></a><span id="l66.16">   let requestObserver = gObsManager.create(&quot;test_simple_case - Upload 1&quot;);</span>
<a href="#l66.17"></a><span id="l66.17">   let file = getFile(&quot;./data/testFile1&quot;, __file__);</span>
<a href="#l66.18"></a><span id="l66.18">   let provider = gServer.getPreparedBackend(&quot;someAccountKey&quot;);</span>
<a href="#l66.19"></a><span id="l66.19">   provider.uploadFile(file, requestObserver);</span>
<a href="#l66.20"></a><span id="l66.20"> </span>
<a href="#l66.21"></a><span id="l66.21">   mc.waitFor( () =&gt; requestObserver.success);</span>
<a href="#l66.22"></a><span id="l66.22" class="difflineat">@@ -104,17 +104,17 @@ function test_chained_uploads() {</span>
<a href="#l66.23"></a><span id="l66.23">     let expectedUrl = kExpectedUrlRoot + filename;</span>
<a href="#l66.24"></a><span id="l66.24">     gServer.planForUploadFile(filename);</span>
<a href="#l66.25"></a><span id="l66.25">     gServer.planForGetFileURL(filename, {url: expectedUrl});</span>
<a href="#l66.26"></a><span id="l66.26">   }</span>
<a href="#l66.27"></a><span id="l66.27"> </span>
<a href="#l66.28"></a><span id="l66.28">   let obs = new ObservationRecorder();</span>
<a href="#l66.29"></a><span id="l66.29">   for (let topic of kTopics) {</span>
<a href="#l66.30"></a><span id="l66.30">     obs.planFor(topic);</span>
<a href="#l66.31"></a><span id="l66.31" class="difflineminus">-    Services.obs.addObserver(obs, topic, false);</span>
<a href="#l66.32"></a><span id="l66.32" class="difflineplus">+    Services.obs.addObserver(obs, topic);</span>
<a href="#l66.33"></a><span id="l66.33">   }</span>
<a href="#l66.34"></a><span id="l66.34"> </span>
<a href="#l66.35"></a><span id="l66.35">   let provider = gServer.getPreparedBackend(&quot;someAccountKey&quot;);</span>
<a href="#l66.36"></a><span id="l66.36"> </span>
<a href="#l66.37"></a><span id="l66.37">   let files = [];</span>
<a href="#l66.38"></a><span id="l66.38"> </span>
<a href="#l66.39"></a><span id="l66.39">   let observers = kFilenames.map(function(aFilename) {</span>
<a href="#l66.40"></a><span id="l66.40">     let requestObserver = gObsManager.create(&quot;test_chained_uploads for filename &quot; + aFilename);</span>
<a href="#l66.41"></a><span id="l66.41" class="difflineat">@@ -154,17 +154,17 @@ function test_deleting_uploads() {</span>
<a href="#l66.42"></a><span id="l66.42">   gServer.planForUploadFile(kFilename);</span>
<a href="#l66.43"></a><span id="l66.43">   let requestObserver = gObsManager.create(&quot;test_deleting_uploads - upload 1&quot;);</span>
<a href="#l66.44"></a><span id="l66.44">   provider.uploadFile(file, requestObserver);</span>
<a href="#l66.45"></a><span id="l66.45">   mc.waitFor(() =&gt; requestObserver.success);</span>
<a href="#l66.46"></a><span id="l66.46"> </span>
<a href="#l66.47"></a><span id="l66.47">   // Try deleting a file</span>
<a href="#l66.48"></a><span id="l66.48">   let obs = new ObservationRecorder();</span>
<a href="#l66.49"></a><span id="l66.49">   obs.planFor(kDeleteFile)</span>
<a href="#l66.50"></a><span id="l66.50" class="difflineminus">-  Services.obs.addObserver(obs, kDeleteFile, false);</span>
<a href="#l66.51"></a><span id="l66.51" class="difflineplus">+  Services.obs.addObserver(obs, kDeleteFile);</span>
<a href="#l66.52"></a><span id="l66.52"> </span>
<a href="#l66.53"></a><span id="l66.53">   gServer.planForDeleteFile(kFilename);</span>
<a href="#l66.54"></a><span id="l66.54">   let deleteObserver = gObsManager.create(&quot;test_deleting_uploads - delete 1&quot;);</span>
<a href="#l66.55"></a><span id="l66.55">   provider.deleteFile(file, deleteObserver);</span>
<a href="#l66.56"></a><span id="l66.56">   mc.waitFor(() =&gt; deleteObserver.success);</span>
<a href="#l66.57"></a><span id="l66.57"> </span>
<a href="#l66.58"></a><span id="l66.58">   // Check to make sure the file was deleted on the server</span>
<a href="#l66.59"></a><span id="l66.59">   assert_equals(1, obs.numSightings(kDeleteFile));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l67.1"></a><span id="l67.1" class="difflineminus">--- a/mail/test/mozmill/content-tabs/test-plugin-crashing.js</span>
<a href="#l67.2"></a><span id="l67.2" class="difflineplus">+++ b/mail/test/mozmill/content-tabs/test-plugin-crashing.js</span>
<a href="#l67.3"></a><span id="l67.3" class="difflineat">@@ -117,17 +117,17 @@ function teardownTest() {</span>
<a href="#l67.4"></a><span id="l67.4">  * IMPORTANT:  Calls to planForCrash must be followed by waitForCrash in</span>
<a href="#l67.5"></a><span id="l67.5">  * order to remove PluginCrashObserver from the nsIObserverService.</span>
<a href="#l67.6"></a><span id="l67.6">  */</span>
<a href="#l67.7"></a><span id="l67.7"> var PluginCrashObserver = {</span>
<a href="#l67.8"></a><span id="l67.8">   _sawCrash: false,</span>
<a href="#l67.9"></a><span id="l67.9"> </span>
<a href="#l67.10"></a><span id="l67.10">   planForCrash: function(aController) {</span>
<a href="#l67.11"></a><span id="l67.11">     this._sawCrash = false;</span>
<a href="#l67.12"></a><span id="l67.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;plugin-crashed&quot;, false);</span>
<a href="#l67.13"></a><span id="l67.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;plugin-crashed&quot;);</span>
<a href="#l67.14"></a><span id="l67.14">   },</span>
<a href="#l67.15"></a><span id="l67.15"> </span>
<a href="#l67.16"></a><span id="l67.16">   waitForCrash: function(aController) {</span>
<a href="#l67.17"></a><span id="l67.17">     if (!this._sawCrash)</span>
<a href="#l67.18"></a><span id="l67.18">       aController.waitFor(() =&gt; this._sawCrash, &quot;Timeout waiting for crash&quot;,</span>
<a href="#l67.19"></a><span id="l67.19">                           5000, 100);</span>
<a href="#l67.20"></a><span id="l67.20"> </span>
<a href="#l67.21"></a><span id="l67.21">     Services.obs.removeObserver(this, &quot;plugin-crashed&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l68.1"></a><span id="l68.1" class="difflineminus">--- a/mail/test/mozmill/folder-display/test-columns.js</span>
<a href="#l68.2"></a><span id="l68.2" class="difflineplus">+++ b/mail/test/mozmill/folder-display/test-columns.js</span>
<a href="#l68.3"></a><span id="l68.3" class="difflineat">@@ -565,17 +565,17 @@ function plan_for_columns_state_update()</span>
<a href="#l68.4"></a><span id="l68.4">   gColumnStateUpdated = false;</span>
<a href="#l68.5"></a><span id="l68.5"> }</span>
<a href="#l68.6"></a><span id="l68.6"> </span>
<a href="#l68.7"></a><span id="l68.7"> function wait_for_columns_state_updated() {</span>
<a href="#l68.8"></a><span id="l68.8">   const STATE_PREF = &quot;mailnews.database.global.views.global&quot;;</span>
<a href="#l68.9"></a><span id="l68.9">   let columns_state_updated = function() {</span>
<a href="#l68.10"></a><span id="l68.10">     gColumnStateUpdated = true;</span>
<a href="#l68.11"></a><span id="l68.11">   }</span>
<a href="#l68.12"></a><span id="l68.12" class="difflineminus">-  Services.prefs.addObserver(STATE_PREF, columns_state_updated, false);</span>
<a href="#l68.13"></a><span id="l68.13" class="difflineplus">+  Services.prefs.addObserver(STATE_PREF, columns_state_updated);</span>
<a href="#l68.14"></a><span id="l68.14">   mc.waitFor(() =&gt; gColumnStateUpdated, &quot;Timeout waiting for columns state updated.&quot;);</span>
<a href="#l68.15"></a><span id="l68.15">   Services.prefs.removeObserver(STATE_PREF, columns_state_updated);</span>
<a href="#l68.16"></a><span id="l68.16"> }</span>
<a href="#l68.17"></a><span id="l68.17"> </span>
<a href="#l68.18"></a><span id="l68.18"> function test_column_defaults_gloda_collection() {</span>
<a href="#l68.19"></a><span id="l68.19">   let fakeCollection = new FakeCollection();</span>
<a href="#l68.20"></a><span id="l68.20">   mc.tabmail.openTab(&quot;glodaList&quot;, { collection: fakeCollection });</span>
<a href="#l68.21"></a><span id="l68.21">   wait_for_all_messages_to_load();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l69.1"></a><span id="l69.1" class="difflineminus">--- a/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js</span>
<a href="#l69.2"></a><span id="l69.2" class="difflineplus">+++ b/mail/test/mozmill/override-main-menu-collapse/test-override-mainmenu-collapse.js</span>
<a href="#l69.3"></a><span id="l69.3" class="difflineat">@@ -26,17 +26,17 @@ function test_main_menu_not_collapsed() </span>
<a href="#l69.4"></a><span id="l69.4">   let done = false;</span>
<a href="#l69.5"></a><span id="l69.5">   let observer = {</span>
<a href="#l69.6"></a><span id="l69.6">     observe: function(aSubject, aTopic, aData) {</span>
<a href="#l69.7"></a><span id="l69.7">       if (aTopic == &quot;mail-startup-done&quot;) {</span>
<a href="#l69.8"></a><span id="l69.8">         done = true;</span>
<a href="#l69.9"></a><span id="l69.9">       }</span>
<a href="#l69.10"></a><span id="l69.10">     }</span>
<a href="#l69.11"></a><span id="l69.11">   };</span>
<a href="#l69.12"></a><span id="l69.12" class="difflineminus">-  Services.obs.addObserver(observer, &quot;mail-startup-done&quot;, false);</span>
<a href="#l69.13"></a><span id="l69.13" class="difflineplus">+  Services.obs.addObserver(observer, &quot;mail-startup-done&quot;);</span>
<a href="#l69.14"></a><span id="l69.14"> </span>
<a href="#l69.15"></a><span id="l69.15">   // Since no accounts were set up, and the account provisoner was disabled</span>
<a href="#l69.16"></a><span id="l69.16">   // in prefs.js, the wizard will show up. Find it, and close it. This will</span>
<a href="#l69.17"></a><span id="l69.17">   // cause mail-startup-done to eventually be fired.</span>
<a href="#l69.18"></a><span id="l69.18">   let wizard = wait_for_existing_window(&quot;mail:autoconfig&quot;);</span>
<a href="#l69.19"></a><span id="l69.19">   close_window(wizard);</span>
<a href="#l69.20"></a><span id="l69.20"> </span>
<a href="#l69.21"></a><span id="l69.21">   // Spin the event loop until mail-startup-done is fired.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l70.1"></a><span id="l70.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-content-tab-helpers.js</span>
<a href="#l70.2"></a><span id="l70.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-content-tab-helpers.js</span>
<a href="#l70.3"></a><span id="l70.3" class="difflineat">@@ -463,17 +463,17 @@ function plugins_run_in_separate_process</span>
<a href="#l70.4"></a><span id="l70.4"> </span>
<a href="#l70.5"></a><span id="l70.5"> function updateBlocklist(aController, aCallback) {</span>
<a href="#l70.6"></a><span id="l70.6">   let blocklistNotifier = Cc[&quot;@mozilla.org/extensions/blocklist;1&quot;]</span>
<a href="#l70.7"></a><span id="l70.7">                             .getService(Ci.nsITimerCallback);</span>
<a href="#l70.8"></a><span id="l70.8">   let observer = function() {</span>
<a href="#l70.9"></a><span id="l70.9">     Services.obs.removeObserver(observer, &quot;blocklist-updated&quot;);</span>
<a href="#l70.10"></a><span id="l70.10">     aController.window.setTimeout(aCallback, 0);</span>
<a href="#l70.11"></a><span id="l70.11">   };</span>
<a href="#l70.12"></a><span id="l70.12" class="difflineminus">-  Services.obs.addObserver(observer, &quot;blocklist-updated&quot;, false);</span>
<a href="#l70.13"></a><span id="l70.13" class="difflineplus">+  Services.obs.addObserver(observer, &quot;blocklist-updated&quot;);</span>
<a href="#l70.14"></a><span id="l70.14">   blocklistNotifier.notify(null);</span>
<a href="#l70.15"></a><span id="l70.15"> }</span>
<a href="#l70.16"></a><span id="l70.16"> </span>
<a href="#l70.17"></a><span id="l70.17"> function setAndUpdateBlocklist(aController, aURL, aCallback) {</span>
<a href="#l70.18"></a><span id="l70.18">   if (!_originalBlocklistURL) {</span>
<a href="#l70.19"></a><span id="l70.19">     _originalBlocklistURL = Services.prefs.getCharPref(&quot;extensions.blocklist.url&quot;);</span>
<a href="#l70.20"></a><span id="l70.20">   }</span>
<a href="#l70.21"></a><span id="l70.21">   Services.prefs.setCharPref(&quot;extensions.blocklist.url&quot;, aURL);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l71.1"></a><span id="l71.1" class="difflineminus">--- a/mail/test/mozmill/shared-modules/test-window-helpers.js</span>
<a href="#l71.2"></a><span id="l71.2" class="difflineplus">+++ b/mail/test/mozmill/shared-modules/test-window-helpers.js</span>
<a href="#l71.3"></a><span id="l71.3" class="difflineat">@@ -782,17 +782,17 @@ function plan_for_observable_event(aTopi</span>
<a href="#l71.4"></a><span id="l71.4">   mark_action(&quot;fdh&quot;, &quot;plan_for_observable_event&quot;, [aTopic]);</span>
<a href="#l71.5"></a><span id="l71.5">   observationSaw[aTopic] = false;</span>
<a href="#l71.6"></a><span id="l71.6">   let waiter = observationWaitFuncs[aTopic] = {</span>
<a href="#l71.7"></a><span id="l71.7">     observe: function() {</span>
<a href="#l71.8"></a><span id="l71.8">       mark_action(&quot;winhelp&quot;, &quot;observed event&quot;, [aTopic]);</span>
<a href="#l71.9"></a><span id="l71.9">       observationSaw[aTopic] = true;</span>
<a href="#l71.10"></a><span id="l71.10">     }</span>
<a href="#l71.11"></a><span id="l71.11">   };</span>
<a href="#l71.12"></a><span id="l71.12" class="difflineminus">-  Services.obs.addObserver(waiter, aTopic, false);</span>
<a href="#l71.13"></a><span id="l71.13" class="difflineplus">+  Services.obs.addObserver(waiter, aTopic);</span>
<a href="#l71.14"></a><span id="l71.14"> }</span>
<a href="#l71.15"></a><span id="l71.15"> </span>
<a href="#l71.16"></a><span id="l71.16"> /**</span>
<a href="#l71.17"></a><span id="l71.17">  * Wait for a notification (previously planned for via</span>
<a href="#l71.18"></a><span id="l71.18">  *  |plan_for_observable_event|) to fire.</span>
<a href="#l71.19"></a><span id="l71.19">  *</span>
<a href="#l71.20"></a><span id="l71.20">  * @param aTopic The topic sent via the observer service.</span>
<a href="#l71.21"></a><span id="l71.21">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l72.1"></a><span id="l72.1" class="difflineminus">--- a/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js</span>
<a href="#l72.2"></a><span id="l72.2" class="difflineplus">+++ b/mail/test/mozmill/startup-firstrun/test-menubar-collapsed.js</span>
<a href="#l72.3"></a><span id="l72.3" class="difflineat">@@ -23,17 +23,17 @@ function test_main_menu_collapsed() {</span>
<a href="#l72.4"></a><span id="l72.4">   let done = false;</span>
<a href="#l72.5"></a><span id="l72.5">   let observer = {</span>
<a href="#l72.6"></a><span id="l72.6">     observe: function(aSubject, aTopic, aData) {</span>
<a href="#l72.7"></a><span id="l72.7">       if (aTopic == &quot;mail-startup-done&quot;) {</span>
<a href="#l72.8"></a><span id="l72.8">         done = true;</span>
<a href="#l72.9"></a><span id="l72.9">       }</span>
<a href="#l72.10"></a><span id="l72.10">     }</span>
<a href="#l72.11"></a><span id="l72.11">   };</span>
<a href="#l72.12"></a><span id="l72.12" class="difflineminus">-  Services.obs.addObserver(observer, &quot;mail-startup-done&quot;, false);</span>
<a href="#l72.13"></a><span id="l72.13" class="difflineplus">+  Services.obs.addObserver(observer, &quot;mail-startup-done&quot;);</span>
<a href="#l72.14"></a><span id="l72.14"> </span>
<a href="#l72.15"></a><span id="l72.15">   // Since no accounts were set up, and the account provisoner was disabled</span>
<a href="#l72.16"></a><span id="l72.16">   // in prefs.js, the wizard will show up. Find it, and close it. This will</span>
<a href="#l72.17"></a><span id="l72.17">   // cause mail-startup-done to eventually be fired.</span>
<a href="#l72.18"></a><span id="l72.18">   let wizard = wait_for_existing_window(&quot;mail:autoconfig&quot;);</span>
<a href="#l72.19"></a><span id="l72.19">   close_window(wizard);</span>
<a href="#l72.20"></a><span id="l72.20"> </span>
<a href="#l72.21"></a><span id="l72.21">   // Spin the event loop until mail-startup-done is fired.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l73.1"></a><span id="l73.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/content/dx.js</span>
<a href="#l73.2"></a><span id="l73.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/content/dx.js</span>
<a href="#l73.3"></a><span id="l73.3" class="difflineat">@@ -116,17 +116,17 @@ DomInspectorConnector.prototype.dxOn = f</span>
<a href="#l73.4"></a><span id="l73.4">       this.dxRecursiveBind(win, clickMethod);</span>
<a href="#l73.5"></a><span id="l73.5">     }</span>
<a href="#l73.6"></a><span id="l73.6">   }</span>
<a href="#l73.7"></a><span id="l73.7"> </span>
<a href="#l73.8"></a><span id="l73.8">   var observerService =</span>
<a href="#l73.9"></a><span id="l73.9">     Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l73.10"></a><span id="l73.10">       .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l73.11"></a><span id="l73.11"> </span>
<a href="#l73.12"></a><span id="l73.12" class="difflineminus">-  observerService.addObserver(this.observer, &quot;toplevel-window-ready&quot;, false);</span>
<a href="#l73.13"></a><span id="l73.13" class="difflineplus">+  observerService.addObserver(this.observer, &quot;toplevel-window-ready&quot;);</span>
<a href="#l73.14"></a><span id="l73.14"> };</span>
<a href="#l73.15"></a><span id="l73.15"> </span>
<a href="#l73.16"></a><span id="l73.16"> //when a new dom window gets opened</span>
<a href="#l73.17"></a><span id="l73.17"> DomInspectorConnector.prototype.observer = {</span>
<a href="#l73.18"></a><span id="l73.18">   observe: function(subject,topic,data){</span>
<a href="#l73.19"></a><span id="l73.19">     var clickMethod = &quot;dblclick&quot;;</span>
<a href="#l73.20"></a><span id="l73.20">     if ($('inspectSingle').selected){</span>
<a href="#l73.21"></a><span id="l73.21">       clickMethod = 'click';</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l74.1"></a><span id="l74.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js</span>
<a href="#l74.2"></a><span id="l74.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/resource/modules/frame.js</span>
<a href="#l74.3"></a><span id="l74.3" class="difflineat">@@ -496,17 +496,17 @@ function AppQuitObserver() {</span>
<a href="#l74.4"></a><span id="l74.4"> }</span>
<a href="#l74.5"></a><span id="l74.5"> AppQuitObserver.prototype = {</span>
<a href="#l74.6"></a><span id="l74.6">   observe: function(subject, topic, data) {</span>
<a href="#l74.7"></a><span id="l74.7">     events.appQuit = true;</span>
<a href="#l74.8"></a><span id="l74.8">   },</span>
<a href="#l74.9"></a><span id="l74.9">   register: function() {</span>
<a href="#l74.10"></a><span id="l74.10">     var obsService = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l74.11"></a><span id="l74.11">                      .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l74.12"></a><span id="l74.12" class="difflineminus">-    obsService.addObserver(this, &quot;quit-application&quot;, false);</span>
<a href="#l74.13"></a><span id="l74.13" class="difflineplus">+    obsService.addObserver(this, &quot;quit-application&quot;);</span>
<a href="#l74.14"></a><span id="l74.14">   },</span>
<a href="#l74.15"></a><span id="l74.15">   unregister: function() {</span>
<a href="#l74.16"></a><span id="l74.16">     var obsService = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l74.17"></a><span id="l74.17">                      .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l74.18"></a><span id="l74.18">     obsService.removeObserver(this, &quot;quit-application&quot;);</span>
<a href="#l74.19"></a><span id="l74.19">   }</span>
<a href="#l74.20"></a><span id="l74.20"> }</span>
<a href="#l74.21"></a><span id="l74.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l75.1"></a><span id="l75.1" class="difflineminus">--- a/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</span>
<a href="#l75.2"></a><span id="l75.2" class="difflineplus">+++ b/mail/test/resources/mozmill/mozmill/extension/resource/modules/init.js</span>
<a href="#l75.3"></a><span id="l75.3" class="difflineat">@@ -122,18 +122,18 @@ function attachEventListeners(aWindow) {</span>
<a href="#l75.4"></a><span id="l75.4"> </span>
<a href="#l75.5"></a><span id="l75.5"> /**</span>
<a href="#l75.6"></a><span id="l75.6">  * Initialize Mozmill</span>
<a href="#l75.7"></a><span id="l75.7">  */</span>
<a href="#l75.8"></a><span id="l75.8"> function initialize() {</span>
<a href="#l75.9"></a><span id="l75.9">   // Activate observer for new top level windows</span>
<a href="#l75.10"></a><span id="l75.10">   var observerService = Cc[&quot;@mozilla.org/observer-service;1&quot;].</span>
<a href="#l75.11"></a><span id="l75.11">                         getService(Ci.nsIObserverService);</span>
<a href="#l75.12"></a><span id="l75.12" class="difflineminus">-  observerService.addObserver(windowReadyObserver, &quot;toplevel-window-ready&quot;, false);</span>
<a href="#l75.13"></a><span id="l75.13" class="difflineminus">-  observerService.addObserver(windowCloseObserver, &quot;outer-window-destroyed&quot;, false);</span>
<a href="#l75.14"></a><span id="l75.14" class="difflineplus">+  observerService.addObserver(windowReadyObserver, &quot;toplevel-window-ready&quot;);</span>
<a href="#l75.15"></a><span id="l75.15" class="difflineplus">+  observerService.addObserver(windowCloseObserver, &quot;outer-window-destroyed&quot;);</span>
<a href="#l75.16"></a><span id="l75.16"> </span>
<a href="#l75.17"></a><span id="l75.17">   // Attach event listeners to all open windows</span>
<a href="#l75.18"></a><span id="l75.18">   var enumerator = Cc[&quot;@mozilla.org/appshell/window-mediator;1&quot;].</span>
<a href="#l75.19"></a><span id="l75.19">                    getService(Ci.nsIWindowMediator).getEnumerator(&quot;&quot;);</span>
<a href="#l75.20"></a><span id="l75.20">   while (enumerator.hasMoreElements()) {</span>
<a href="#l75.21"></a><span id="l75.21">     var win = enumerator.getNext();</span>
<a href="#l75.22"></a><span id="l75.22">     attachEventListeners(win);</span>
<a href="#l75.23"></a><span id="l75.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l76.1"></a><span id="l76.1" class="difflineminus">--- a/mailnews/addrbook/prefs/content/pref-directory-add.js</span>
<a href="#l76.2"></a><span id="l76.2" class="difflineplus">+++ b/mailnews/addrbook/prefs/content/pref-directory-add.js</span>
<a href="#l76.3"></a><span id="l76.3" class="difflineat">@@ -55,17 +55,17 @@ function Startup()</span>
<a href="#l76.4"></a><span id="l76.4">     document.title = gReplicationBundle.getFormattedString(&quot;directoryTitleEdit&quot;, [oldListName]);</span>
<a href="#l76.5"></a><span id="l76.5"> </span>
<a href="#l76.6"></a><span id="l76.6">     // Only set up the download button for online/offline status toggling</span>
<a href="#l76.7"></a><span id="l76.7">     // if the pref isn't locked to disable the button.</span>
<a href="#l76.8"></a><span id="l76.8">     if (!Services.prefs.prefIsLocked(gCurrentDirectory.dirPrefId +</span>
<a href="#l76.9"></a><span id="l76.9">                                      &quot;.disable_button_download&quot;)) {</span>
<a href="#l76.10"></a><span id="l76.10">       // Now connect to the offline/online observer</span>
<a href="#l76.11"></a><span id="l76.11">       Services.obs.addObserver(ldapOfflineObserver,</span>
<a href="#l76.12"></a><span id="l76.12" class="difflineminus">-                               &quot;network:offline-status-changed&quot;, false);</span>
<a href="#l76.13"></a><span id="l76.13" class="difflineplus">+                               &quot;network:offline-status-changed&quot;);</span>
<a href="#l76.14"></a><span id="l76.14"> </span>
<a href="#l76.15"></a><span id="l76.15">       // Now set the initial offline/online state and update the state</span>
<a href="#l76.16"></a><span id="l76.16">       setDownloadOfflineOnlineState(Services.io.offline);</span>
<a href="#l76.17"></a><span id="l76.17">     }</span>
<a href="#l76.18"></a><span id="l76.18">   } else {</span>
<a href="#l76.19"></a><span id="l76.19">     document.title = gReplicationBundle.getString(&quot;directoryTitleNew&quot;);</span>
<a href="#l76.20"></a><span id="l76.20">     fillDefaultSettings();</span>
<a href="#l76.21"></a><span id="l76.21">     // Don't add observer here as it doesn't make any sense.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l77.1"></a><span id="l77.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js</span>
<a href="#l77.2"></a><span id="l77.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbLDAPAutoCompleteSearch.js</span>
<a href="#l77.3"></a><span id="l77.3" class="difflineat">@@ -73,17 +73,17 @@ nsAbLDAPAutoCompleteResult.prototype = {</span>
<a href="#l77.4"></a><span id="l77.4">   },</span>
<a href="#l77.5"></a><span id="l77.5"> </span>
<a href="#l77.6"></a><span id="l77.6">   // nsISupports</span>
<a href="#l77.7"></a><span id="l77.7"> </span>
<a href="#l77.8"></a><span id="l77.8">   QueryInterface: XPCOMUtils.generateQI([ACR, nsIAbAutoCompleteResult])</span>
<a href="#l77.9"></a><span id="l77.9"> }</span>
<a href="#l77.10"></a><span id="l77.10"> </span>
<a href="#l77.11"></a><span id="l77.11"> function nsAbLDAPAutoCompleteSearch() {</span>
<a href="#l77.12"></a><span id="l77.12" class="difflineminus">-  Services.obs.addObserver(this, &quot;quit-application&quot;, false);</span>
<a href="#l77.13"></a><span id="l77.13" class="difflineplus">+  Services.obs.addObserver(this, &quot;quit-application&quot;);</span>
<a href="#l77.14"></a><span id="l77.14">   this._timer = Components.classes[&quot;@mozilla.org/timer;1&quot;]</span>
<a href="#l77.15"></a><span id="l77.15">                           .createInstance(Components.interfaces.nsITimer);</span>
<a href="#l77.16"></a><span id="l77.16"> }</span>
<a href="#l77.17"></a><span id="l77.17"> </span>
<a href="#l77.18"></a><span id="l77.18"> nsAbLDAPAutoCompleteSearch.prototype = {</span>
<a href="#l77.19"></a><span id="l77.19">   // For component registration</span>
<a href="#l77.20"></a><span id="l77.20">   classID: Components.ID(&quot;227e6482-fe9f-441f-9b7d-7b60375e7449&quot;),</span>
<a href="#l77.21"></a><span id="l77.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l78.1"></a><span id="l78.1" class="difflineminus">--- a/mailnews/base/src/newMailNotificationService.js</span>
<a href="#l78.2"></a><span id="l78.2" class="difflineplus">+++ b/mailnews/base/src/newMailNotificationService.js</span>
<a href="#l78.3"></a><span id="l78.3" class="difflineat">@@ -49,17 +49,17 @@ function NewMailNotificationService() {</span>
<a href="#l78.4"></a><span id="l78.4">   this.wrappedJSObject = this;</span>
<a href="#l78.5"></a><span id="l78.5"> </span>
<a href="#l78.6"></a><span id="l78.6">   this._log = Log4Moz.getConfiguredLogger(&quot;mail.notification&quot;,</span>
<a href="#l78.7"></a><span id="l78.7">                                           Log4Moz.Level.Warn,</span>
<a href="#l78.8"></a><span id="l78.8">                                           Log4Moz.Level.Warn,</span>
<a href="#l78.9"></a><span id="l78.9">                                           Log4Moz.Level.Warn);</span>
<a href="#l78.10"></a><span id="l78.10"> </span>
<a href="#l78.11"></a><span id="l78.11">   // Listen for mail-startup-done to do the rest of our setup after folders are initialized</span>
<a href="#l78.12"></a><span id="l78.12" class="difflineminus">-  Services.obs.addObserver(this, &quot;mail-startup-done&quot;, false);</span>
<a href="#l78.13"></a><span id="l78.13" class="difflineplus">+  Services.obs.addObserver(this, &quot;mail-startup-done&quot;);</span>
<a href="#l78.14"></a><span id="l78.14"> }</span>
<a href="#l78.15"></a><span id="l78.15"> </span>
<a href="#l78.16"></a><span id="l78.16"> NewMailNotificationService.prototype = {</span>
<a href="#l78.17"></a><span id="l78.17">   classDescription: &quot;Maintain counts of new and unread messages&quot;,</span>
<a href="#l78.18"></a><span id="l78.18">   classID:              Components.ID(&quot;{740880E6-E299-4165-B82F-DF1DCAB3AE22}&quot;),</span>
<a href="#l78.19"></a><span id="l78.19">   contractID:           &quot;@mozilla.org/newMailNotificationService;1&quot;,</span>
<a href="#l78.20"></a><span id="l78.20">   QueryInterface:       XPCOMUtils.generateQI([Ci.nsIObserver, Ci.nsIFolderListener, Ci.mozINewMailNotificationService]),</span>
<a href="#l78.21"></a><span id="l78.21">   _xpcom_factory: XPCOMUtils.generateSingletonFactory(NewMailNotificationService),</span>
<a href="#l78.22"></a><span id="l78.22" class="difflineat">@@ -80,17 +80,17 @@ NewMailNotificationService.prototype = {</span>
<a href="#l78.23"></a><span id="l78.23">     try {</span>
<a href="#l78.24"></a><span id="l78.24">       if (aTopic == &quot;mail-startup-done&quot;) {</span>
<a href="#l78.25"></a><span id="l78.25">         try {</span>
<a href="#l78.26"></a><span id="l78.26">           Services.obs.removeObserver(this, &quot;mail-startup-done&quot;);</span>
<a href="#l78.27"></a><span id="l78.27">         }</span>
<a href="#l78.28"></a><span id="l78.28">         catch (e) {</span>
<a href="#l78.29"></a><span id="l78.29">           this._log.error(&quot;NMNS_Observe: unable to deregister mail-startup-done listener: &quot; + e);</span>
<a href="#l78.30"></a><span id="l78.30">         }</span>
<a href="#l78.31"></a><span id="l78.31" class="difflineminus">-        Services.obs.addObserver(this, &quot;profile-before-change&quot;, false);</span>
<a href="#l78.32"></a><span id="l78.32" class="difflineplus">+        Services.obs.addObserver(this, &quot;profile-before-change&quot;);</span>
<a href="#l78.33"></a><span id="l78.33">         MailServices.mailSession.AddFolderListener(this, Ci.nsIFolderListener.intPropertyChanged |</span>
<a href="#l78.34"></a><span id="l78.34">                                                          Ci.nsIFolderListener.added |</span>
<a href="#l78.35"></a><span id="l78.35">                                                          Ci.nsIFolderListener.removed |</span>
<a href="#l78.36"></a><span id="l78.36">                                                          Ci.nsIFolderListener.propertyFlagChanged);</span>
<a href="#l78.37"></a><span id="l78.37">         this._initUnreadCount();</span>
<a href="#l78.38"></a><span id="l78.38">       }</span>
<a href="#l78.39"></a><span id="l78.39">       else if (aTopic == &quot;profile-before-change&quot;) {</span>
<a href="#l78.40"></a><span id="l78.40">         try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l79.1"></a><span id="l79.1" class="difflineminus">--- a/mailnews/base/util/msgDBCacheManager.js</span>
<a href="#l79.2"></a><span id="l79.2" class="difflineplus">+++ b/mailnews/base/util/msgDBCacheManager.js</span>
<a href="#l79.3"></a><span id="l79.3" class="difflineat">@@ -44,17 +44,17 @@ var msgDBCacheManager =</span>
<a href="#l79.4"></a><span id="l79.4">       return;</span>
<a href="#l79.5"></a><span id="l79.5"> </span>
<a href="#l79.6"></a><span id="l79.6">     this._dbService = Cc[&quot;@mozilla.org/msgDatabase/msgDBService;1&quot;]</span>
<a href="#l79.7"></a><span id="l79.7">                         .getService(Ci.nsIMsgDBService);</span>
<a href="#l79.8"></a><span id="l79.8"> </span>
<a href="#l79.9"></a><span id="l79.9">     // we listen for &quot;quit-application-granted&quot; instead of</span>
<a href="#l79.10"></a><span id="l79.10">     // &quot;quit-application-requested&quot; because other observers of the</span>
<a href="#l79.11"></a><span id="l79.11">     // latter can cancel the shutdown.</span>
<a href="#l79.12"></a><span id="l79.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;quit-application-granted&quot;, false);</span>
<a href="#l79.13"></a><span id="l79.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;quit-application-granted&quot;);</span>
<a href="#l79.14"></a><span id="l79.14"> </span>
<a href="#l79.15"></a><span id="l79.15">     this.startPeriodicCheck();</span>
<a href="#l79.16"></a><span id="l79.16"> </span>
<a href="#l79.17"></a><span id="l79.17">     this._initialized = true;</span>
<a href="#l79.18"></a><span id="l79.18">   },</span>
<a href="#l79.19"></a><span id="l79.19"> </span>
<a href="#l79.20"></a><span id="l79.20"> /* ........ Timer Callback ................*/</span>
<a href="#l79.21"></a><span id="l79.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l80.1"></a><span id="l80.1" class="difflineminus">--- a/mailnews/compose/test/unit/test_sendObserver.js</span>
<a href="#l80.2"></a><span id="l80.2" class="difflineplus">+++ b/mailnews/compose/test/unit/test_sendObserver.js</span>
<a href="#l80.3"></a><span id="l80.3" class="difflineat">@@ -42,11 +42,11 @@ add_task(function* testObserver() {</span>
<a href="#l80.4"></a><span id="l80.4">   // observer data should have:</span>
<a href="#l80.5"></a><span id="l80.5">   // (local account key), Ci.nsIMsgSend.nsMsgSaveAsDraft, identity.key</span>
<a href="#l80.6"></a><span id="l80.6">   Assert.equal(gData, &quot;account1,4,id1&quot;);</span>
<a href="#l80.7"></a><span id="l80.7"> });</span>
<a href="#l80.8"></a><span id="l80.8"> </span>
<a href="#l80.9"></a><span id="l80.9"> function run_test() {</span>
<a href="#l80.10"></a><span id="l80.10">   // Ensure we have at least one mail account</span>
<a href="#l80.11"></a><span id="l80.11">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l80.12"></a><span id="l80.12" class="difflineminus">-  Services.obs.addObserver(observer, &quot;mail-set-sender&quot;, false);</span>
<a href="#l80.13"></a><span id="l80.13" class="difflineplus">+  Services.obs.addObserver(observer, &quot;mail-set-sender&quot;);</span>
<a href="#l80.14"></a><span id="l80.14">   run_next_test();</span>
<a href="#l80.15"></a><span id="l80.15"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l81.1"></a><span id="l81.1" class="difflineminus">--- a/mailnews/db/gloda/modules/datastore.js</span>
<a href="#l81.2"></a><span id="l81.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/datastore.js</span>
<a href="#l81.3"></a><span id="l81.3" class="difflineat">@@ -491,17 +491,17 @@ ExplainedStatementWrapper.prototype = {</span>
<a href="#l81.4"></a><span id="l81.4"> };</span>
<a href="#l81.5"></a><span id="l81.5"> </span>
<a href="#l81.6"></a><span id="l81.6"> /**</span>
<a href="#l81.7"></a><span id="l81.7">  * Writes a single JSON document to the provide file path in a streaming</span>
<a href="#l81.8"></a><span id="l81.8">  *  fashion.  At startup we open an array to place the queries in and at</span>
<a href="#l81.9"></a><span id="l81.9">  *  shutdown we close it.</span>
<a href="#l81.10"></a><span id="l81.10">  */</span>
<a href="#l81.11"></a><span id="l81.11"> function ExplainedStatementProcessor(aDumpPath) {</span>
<a href="#l81.12"></a><span id="l81.12" class="difflineminus">-  Services.obs.addObserver(this, &quot;quit-application&quot;, false);</span>
<a href="#l81.13"></a><span id="l81.13" class="difflineplus">+  Services.obs.addObserver(this, &quot;quit-application&quot;);</span>
<a href="#l81.14"></a><span id="l81.14"> </span>
<a href="#l81.15"></a><span id="l81.15">   this._sqlStack = [];</span>
<a href="#l81.16"></a><span id="l81.16">   this._curOps = [];</span>
<a href="#l81.17"></a><span id="l81.17">   this._objsWritten = 0;</span>
<a href="#l81.18"></a><span id="l81.18"> </span>
<a href="#l81.19"></a><span id="l81.19">   let filePath = Cc[&quot;@mozilla.org/file/local;1&quot;]</span>
<a href="#l81.20"></a><span id="l81.20">                    .createInstance(Ci.nsIFile);</span>
<a href="#l81.21"></a><span id="l81.21">   filePath.initWithPath(aDumpPath);</span>
<a href="#l81.22"></a><span id="l81.22" class="difflineat">@@ -1003,17 +1003,17 @@ var GlodaDatastore = {</span>
<a href="#l81.23"></a><span id="l81.23"> </span>
<a href="#l81.24"></a><span id="l81.24">     this._nounIDToDef = aNounIDToDef;</span>
<a href="#l81.25"></a><span id="l81.25"> </span>
<a href="#l81.26"></a><span id="l81.26">     let branch = Services.prefs.getBranch(&quot;mailnews.database.global.datastore.&quot;);</span>
<a href="#l81.27"></a><span id="l81.27">     this._prefBranch = branch;</span>
<a href="#l81.28"></a><span id="l81.28"> </span>
<a href="#l81.29"></a><span id="l81.29">     // Not sure the weak reference really makes a difference given that we are a</span>
<a href="#l81.30"></a><span id="l81.30">     // GC root.</span>
<a href="#l81.31"></a><span id="l81.31" class="difflineminus">-    branch.addObserver(&quot;&quot;, this, false);</span>
<a href="#l81.32"></a><span id="l81.32" class="difflineplus">+    branch.addObserver(&quot;&quot;, this);</span>
<a href="#l81.33"></a><span id="l81.33">     // claim the pref changed so we can centralize our logic there.</span>
<a href="#l81.34"></a><span id="l81.34">     this.observe(null, &quot;nsPref:changed&quot;, &quot;explainToPath&quot;);</span>
<a href="#l81.35"></a><span id="l81.35"> </span>
<a href="#l81.36"></a><span id="l81.36">     // Get the path to our global database</span>
<a href="#l81.37"></a><span id="l81.37">     var dbFile = Services.dirsvc.get(&quot;ProfD&quot;, Ci.nsIFile);</span>
<a href="#l81.38"></a><span id="l81.38">     dbFile.append(&quot;global-messages-db.sqlite&quot;);</span>
<a href="#l81.39"></a><span id="l81.39"> </span>
<a href="#l81.40"></a><span id="l81.40">     var dbConnection;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l82.1"></a><span id="l82.1" class="difflineminus">--- a/mailnews/db/gloda/modules/indexer.js</span>
<a href="#l82.2"></a><span id="l82.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/indexer.js</span>
<a href="#l82.3"></a><span id="l82.3" class="difflineat">@@ -327,17 +327,17 @@ var GlodaIndexer = {</span>
<a href="#l82.4"></a><span id="l82.4">       this._perfPauseStopwatch = Cc[&quot;@mozilla.org/stopwatch;1&quot;]</span>
<a href="#l82.5"></a><span id="l82.5">                                    .createInstance(Ci.nsIStopwatch);</span>
<a href="#l82.6"></a><span id="l82.6"> </span>
<a href="#l82.7"></a><span id="l82.7">     } catch (ex) {</span>
<a href="#l82.8"></a><span id="l82.8">       this._log.error(&quot;problem creating stopwatch!: &quot; + ex);</span>
<a href="#l82.9"></a><span id="l82.9">     }</span>
<a href="#l82.10"></a><span id="l82.10"> </span>
<a href="#l82.11"></a><span id="l82.11">     // register for shutdown notifications</span>
<a href="#l82.12"></a><span id="l82.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;quit-application&quot;, false);</span>
<a href="#l82.13"></a><span id="l82.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;quit-application&quot;);</span>
<a href="#l82.14"></a><span id="l82.14"> </span>
<a href="#l82.15"></a><span id="l82.15">     // figure out if event-driven indexing should be enabled...</span>
<a href="#l82.16"></a><span id="l82.16">     let branch = Services.prefs.getBranch(&quot;mailnews.database.global.indexer.&quot;);</span>
<a href="#l82.17"></a><span id="l82.17">     let eventDrivenEnabled = false; // default</span>
<a href="#l82.18"></a><span id="l82.18">     let performInitialSweep = true; // default</span>
<a href="#l82.19"></a><span id="l82.19">     try {</span>
<a href="#l82.20"></a><span id="l82.20">       eventDrivenEnabled = branch.getBoolPref(&quot;enabled&quot;);</span>
<a href="#l82.21"></a><span id="l82.21">     } catch (ex) {</span>
<a href="#l82.22"></a><span id="l82.22" class="difflineat">@@ -483,17 +483,17 @@ var GlodaIndexer = {</span>
<a href="#l82.23"></a><span id="l82.23">   /**</span>
<a href="#l82.24"></a><span id="l82.24">    * Are we enabled, read: are we processing change events?</span>
<a href="#l82.25"></a><span id="l82.25">    */</span>
<a href="#l82.26"></a><span id="l82.26">   _enabled: false,</span>
<a href="#l82.27"></a><span id="l82.27">   get enabled() { return this._enabled; },</span>
<a href="#l82.28"></a><span id="l82.28">   set enabled(aEnable) {</span>
<a href="#l82.29"></a><span id="l82.29">     if (!this._enabled &amp;&amp; aEnable) {</span>
<a href="#l82.30"></a><span id="l82.30">       // register for offline notifications</span>
<a href="#l82.31"></a><span id="l82.31" class="difflineminus">-      Services.obs.addObserver(this, &quot;network:offline-status-changed&quot;, false);</span>
<a href="#l82.32"></a><span id="l82.32" class="difflineplus">+      Services.obs.addObserver(this, &quot;network:offline-status-changed&quot;);</span>
<a href="#l82.33"></a><span id="l82.33"> </span>
<a href="#l82.34"></a><span id="l82.34">       // register for idle notification</span>
<a href="#l82.35"></a><span id="l82.35">       this._idleService.addIdleObserver(this, this._indexIdleThresholdSecs);</span>
<a href="#l82.36"></a><span id="l82.36"> </span>
<a href="#l82.37"></a><span id="l82.37">       this._enabled = true;</span>
<a href="#l82.38"></a><span id="l82.38"> </span>
<a href="#l82.39"></a><span id="l82.39">       for (let indexer of this._indexers) {</span>
<a href="#l82.40"></a><span id="l82.40">         try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l83.1"></a><span id="l83.1" class="difflineminus">--- a/mailnews/db/gloda/modules/mimemsg.js</span>
<a href="#l83.2"></a><span id="l83.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/mimemsg.js</span>
<a href="#l83.3"></a><span id="l83.3" class="difflineat">@@ -37,17 +37,17 @@ var dumbUrlListener = {</span>
<a href="#l83.4"></a><span id="l83.4"> var activeStreamListeners = {};</span>
<a href="#l83.5"></a><span id="l83.5"> </span>
<a href="#l83.6"></a><span id="l83.6"> var shutdownCleanupObserver = {</span>
<a href="#l83.7"></a><span id="l83.7">   _initialized: false,</span>
<a href="#l83.8"></a><span id="l83.8">   ensureInitialized: function mimemsg_shutdownCleanupObserver_init() {</span>
<a href="#l83.9"></a><span id="l83.9">     if (this._initialized)</span>
<a href="#l83.10"></a><span id="l83.10">       return;</span>
<a href="#l83.11"></a><span id="l83.11"> </span>
<a href="#l83.12"></a><span id="l83.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;quit-application&quot;, false);</span>
<a href="#l83.13"></a><span id="l83.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;quit-application&quot;);</span>
<a href="#l83.14"></a><span id="l83.14"> </span>
<a href="#l83.15"></a><span id="l83.15">     this._initialized = true;</span>
<a href="#l83.16"></a><span id="l83.16">   },</span>
<a href="#l83.17"></a><span id="l83.17"> </span>
<a href="#l83.18"></a><span id="l83.18">   observe: function mimemsg_shutdownCleanupObserver_observe(</span>
<a href="#l83.19"></a><span id="l83.19">       aSubject, aTopic, aData) {</span>
<a href="#l83.20"></a><span id="l83.20">     if (aTopic == &quot;quit-application&quot;) {</span>
<a href="#l83.21"></a><span id="l83.21">       Services.obs.removeObserver(this, &quot;quit-application&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l84.1"></a><span id="l84.1" class="difflineminus">--- a/mailnews/extensions/offline-startup/js/offlineStartup.js</span>
<a href="#l84.2"></a><span id="l84.2" class="difflineplus">+++ b/mailnews/extensions/offline-startup/js/offlineStartup.js</span>
<a href="#l84.3"></a><span id="l84.3" class="difflineat">@@ -116,18 +116,18 @@ var nsOfflineStartup =</span>
<a href="#l84.4"></a><span id="l84.4"> </span>
<a href="#l84.5"></a><span id="l84.5">     if (aTopic == &quot;profile-change-net-teardown&quot;)</span>
<a href="#l84.6"></a><span id="l84.6">     {</span>
<a href="#l84.7"></a><span id="l84.7">       gDebugLog(&quot;remembering offline state&quot;);</span>
<a href="#l84.8"></a><span id="l84.8">       Services.prefs.setBoolPref(&quot;network.online&quot;, !Services.io.offline);</span>
<a href="#l84.9"></a><span id="l84.9">     }</span>
<a href="#l84.10"></a><span id="l84.10">     else if (aTopic == &quot;app-startup&quot;)</span>
<a href="#l84.11"></a><span id="l84.11">     {</span>
<a href="#l84.12"></a><span id="l84.12" class="difflineminus">-      Services.obs.addObserver(this, &quot;profile-after-change&quot;, false);</span>
<a href="#l84.13"></a><span id="l84.13" class="difflineminus">-      Services.obs.addObserver(this, &quot;profile-change-net-teardown&quot;, false);</span>
<a href="#l84.14"></a><span id="l84.14" class="difflineplus">+      Services.obs.addObserver(this, &quot;profile-after-change&quot;);</span>
<a href="#l84.15"></a><span id="l84.15" class="difflineplus">+      Services.obs.addObserver(this, &quot;profile-change-net-teardown&quot;);</span>
<a href="#l84.16"></a><span id="l84.16">     }</span>
<a href="#l84.17"></a><span id="l84.17">     else if (aTopic == &quot;profile-after-change&quot;)</span>
<a href="#l84.18"></a><span id="l84.18">     {</span>
<a href="#l84.19"></a><span id="l84.19">       this.onProfileStartup();</span>
<a href="#l84.20"></a><span id="l84.20">     }</span>
<a href="#l84.21"></a><span id="l84.21">   },</span>
<a href="#l84.22"></a><span id="l84.22"> </span>
<a href="#l84.23"></a><span id="l84.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l85.1"></a><span id="l85.1" class="difflineminus">--- a/mailnews/mime/src/jsmime.jsm</span>
<a href="#l85.2"></a><span id="l85.2" class="difflineplus">+++ b/mailnews/mime/src/jsmime.jsm</span>
<a href="#l85.3"></a><span id="l85.3" class="difflineat">@@ -70,17 +70,17 @@ TextDecoder = FallbackTextDecoder;</span>
<a href="#l85.4"></a><span id="l85.4"> var CATEGORY_NAME = &quot;custom-mime-encoder&quot;;</span>
<a href="#l85.5"></a><span id="l85.5"> Services.obs.addObserver(function (subject, topic, data) {</span>
<a href="#l85.6"></a><span id="l85.6">   subject = subject.QueryInterface(Components.interfaces.nsISupportsCString)</span>
<a href="#l85.7"></a><span id="l85.7">                    .data;</span>
<a href="#l85.8"></a><span id="l85.8">   if (data == CATEGORY_NAME) {</span>
<a href="#l85.9"></a><span id="l85.9">     let url = catman.getCategoryEntry(CATEGORY_NAME, subject);</span>
<a href="#l85.10"></a><span id="l85.10">     Services.scriptloader.loadSubScript(url, {}, &quot;UTF-8&quot;);</span>
<a href="#l85.11"></a><span id="l85.11">   }</span>
<a href="#l85.12"></a><span id="l85.12" class="difflineminus">-}, &quot;xpcom-category-entry-added&quot;, false);</span>
<a href="#l85.13"></a><span id="l85.13" class="difflineplus">+}, &quot;xpcom-category-entry-added&quot;);</span>
<a href="#l85.14"></a><span id="l85.14"> </span>
<a href="#l85.15"></a><span id="l85.15"> var catman = Components.classes[&quot;@mozilla.org/categorymanager;1&quot;]</span>
<a href="#l85.16"></a><span id="l85.16">                        .getService(Components.interfaces.nsICategoryManager);</span>
<a href="#l85.17"></a><span id="l85.17"> </span>
<a href="#l85.18"></a><span id="l85.18"> var entries = catman.enumerateCategory(CATEGORY_NAME);</span>
<a href="#l85.19"></a><span id="l85.19"> while (entries.hasMoreElements()) {</span>
<a href="#l85.20"></a><span id="l85.20">   let string = entries.getNext()</span>
<a href="#l85.21"></a><span id="l85.21">                       .QueryInterface(Components.interfaces.nsISupportsCString)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l86.1"></a><span id="l86.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_structured_headers.js</span>
<a href="#l86.2"></a><span id="l86.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_structured_headers.js</span>
<a href="#l86.3"></a><span id="l86.3" class="difflineat">@@ -49,17 +49,17 @@ add_task(function* check_custom_header()</span>
<a href="#l86.4"></a><span id="l86.4">   let url = Services.io.newFileURI(do_get_file(&quot;custom_header.js&quot;)).spec;</span>
<a href="#l86.5"></a><span id="l86.5">   let promise = new Promise((resolve, reject) =&gt; {</span>
<a href="#l86.6"></a><span id="l86.6">     function observer(subject, topic, data) {</span>
<a href="#l86.7"></a><span id="l86.7">       do_check_eq(topic, &quot;xpcom-category-entry-added&quot;);</span>
<a href="#l86.8"></a><span id="l86.8">       do_check_eq(data, &quot;custom-mime-encoder&quot;);</span>
<a href="#l86.9"></a><span id="l86.9">       resolve();</span>
<a href="#l86.10"></a><span id="l86.10">       Services.obs.removeObserver(observer, &quot;xpcom-category-entry-added&quot;);</span>
<a href="#l86.11"></a><span id="l86.11">     }</span>
<a href="#l86.12"></a><span id="l86.12" class="difflineminus">-    Services.obs.addObserver(observer, &quot;xpcom-category-entry-added&quot;, false);</span>
<a href="#l86.13"></a><span id="l86.13" class="difflineplus">+    Services.obs.addObserver(observer, &quot;xpcom-category-entry-added&quot;);</span>
<a href="#l86.14"></a><span id="l86.14">   });</span>
<a href="#l86.15"></a><span id="l86.15">   Cc[&quot;@mozilla.org/categorymanager;1&quot;]</span>
<a href="#l86.16"></a><span id="l86.16">     .getService(Ci.nsICategoryManager)</span>
<a href="#l86.17"></a><span id="l86.17">     .addCategoryEntry(&quot;custom-mime-encoder&quot;, &quot;X-Unusual&quot;, url, false, true);</span>
<a href="#l86.18"></a><span id="l86.18">   // The category manager doesn't fire until a later timestep.</span>
<a href="#l86.19"></a><span id="l86.19">   yield promise;</span>
<a href="#l86.20"></a><span id="l86.20">   let headers = new StructuredHeaders();</span>
<a href="#l86.21"></a><span id="l86.21">   headers.setRawHeader(&quot;X-Unusual&quot;, &quot;10&quot;, null);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l87.1"></a><span id="l87.1" class="difflineminus">--- a/mailnews/test/resources/logHelper.js</span>
<a href="#l87.2"></a><span id="l87.2" class="difflineplus">+++ b/mailnews/test/resources/logHelper.js</span>
<a href="#l87.3"></a><span id="l87.3" class="difflineat">@@ -41,17 +41,17 @@ function logHelperHasInterestedListeners</span>
<a href="#l87.4"></a><span id="l87.4">  *</span>
<a href="#l87.5"></a><span id="l87.5">  * This is based on my (asuth') exmmad extension.</span>
<a href="#l87.6"></a><span id="l87.6">  */</span>
<a href="#l87.7"></a><span id="l87.7"> var _errorConsoleTunnel = {</span>
<a href="#l87.8"></a><span id="l87.8">   initialize: function () {</span>
<a href="#l87.9"></a><span id="l87.9">     Services.console.registerListener(this);</span>
<a href="#l87.10"></a><span id="l87.10"> </span>
<a href="#l87.11"></a><span id="l87.11">     // we need to unregister our listener at shutdown if we don't want explosions</span>
<a href="#l87.12"></a><span id="l87.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;quit-application&quot;, false);</span>
<a href="#l87.13"></a><span id="l87.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;quit-application&quot;);</span>
<a href="#l87.14"></a><span id="l87.14">   },</span>
<a href="#l87.15"></a><span id="l87.15"> </span>
<a href="#l87.16"></a><span id="l87.16">   shutdown: function () {</span>
<a href="#l87.17"></a><span id="l87.17">     Services.console.unregisterListener(this);</span>
<a href="#l87.18"></a><span id="l87.18">     Services.obs.removeObserver(this, &quot;quit-application&quot;);</span>
<a href="#l87.19"></a><span id="l87.19">   },</span>
<a href="#l87.20"></a><span id="l87.20"> </span>
<a href="#l87.21"></a><span id="l87.21">   observe: function (aMessage, aTopic, aData) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l88.1"></a><span id="l88.1" class="difflineminus">--- a/suite/browser/navigator.js</span>
<a href="#l88.2"></a><span id="l88.2" class="difflineplus">+++ b/suite/browser/navigator.js</span>
<a href="#l88.3"></a><span id="l88.3" class="difflineat">@@ -197,45 +197,45 @@ const gFormSubmitObserver = {</span>
<a href="#l88.4"></a><span id="l88.4"> /**</span>
<a href="#l88.5"></a><span id="l88.5"> * Pref listener handler functions.</span>
<a href="#l88.6"></a><span id="l88.6"> * Both functions assume that observer.domain is set to</span>
<a href="#l88.7"></a><span id="l88.7"> * the pref domain we want to start/stop listening to.</span>
<a href="#l88.8"></a><span id="l88.8"> */</span>
<a href="#l88.9"></a><span id="l88.9"> function addPrefListener(observer)</span>
<a href="#l88.10"></a><span id="l88.10"> {</span>
<a href="#l88.11"></a><span id="l88.11">   try {</span>
<a href="#l88.12"></a><span id="l88.12" class="difflineminus">-    Services.prefs.addObserver(observer.domain, observer, false);</span>
<a href="#l88.13"></a><span id="l88.13" class="difflineplus">+    Services.prefs.addObserver(observer.domain, observer);</span>
<a href="#l88.14"></a><span id="l88.14">   } catch(ex) {</span>
<a href="#l88.15"></a><span id="l88.15">     dump(&quot;Failed to observe prefs: &quot; + ex + &quot;\n&quot;);</span>
<a href="#l88.16"></a><span id="l88.16">   }</span>
<a href="#l88.17"></a><span id="l88.17"> }</span>
<a href="#l88.18"></a><span id="l88.18"> </span>
<a href="#l88.19"></a><span id="l88.19"> function removePrefListener(observer)</span>
<a href="#l88.20"></a><span id="l88.20"> {</span>
<a href="#l88.21"></a><span id="l88.21">   try {</span>
<a href="#l88.22"></a><span id="l88.22">     Services.prefs.removeObserver(observer.domain, observer);</span>
<a href="#l88.23"></a><span id="l88.23">   } catch(ex) {</span>
<a href="#l88.24"></a><span id="l88.24">     dump(&quot;Failed to remove pref observer: &quot; + ex + &quot;\n&quot;);</span>
<a href="#l88.25"></a><span id="l88.25">   }</span>
<a href="#l88.26"></a><span id="l88.26"> }</span>
<a href="#l88.27"></a><span id="l88.27"> </span>
<a href="#l88.28"></a><span id="l88.28"> function addPopupPermListener(observer)</span>
<a href="#l88.29"></a><span id="l88.29"> {</span>
<a href="#l88.30"></a><span id="l88.30" class="difflineminus">-  Services.obs.addObserver(observer, &quot;popup-perm-close&quot;, false);</span>
<a href="#l88.31"></a><span id="l88.31" class="difflineplus">+  Services.obs.addObserver(observer, &quot;popup-perm-close&quot;);</span>
<a href="#l88.32"></a><span id="l88.32"> }</span>
<a href="#l88.33"></a><span id="l88.33"> </span>
<a href="#l88.34"></a><span id="l88.34"> function removePopupPermListener(observer)</span>
<a href="#l88.35"></a><span id="l88.35"> {</span>
<a href="#l88.36"></a><span id="l88.36">   Services.obs.removeObserver(observer, &quot;popup-perm-close&quot;);</span>
<a href="#l88.37"></a><span id="l88.37"> }</span>
<a href="#l88.38"></a><span id="l88.38"> </span>
<a href="#l88.39"></a><span id="l88.39"> function addFormSubmitObserver(observer)</span>
<a href="#l88.40"></a><span id="l88.40"> {</span>
<a href="#l88.41"></a><span id="l88.41">   observer.init();</span>
<a href="#l88.42"></a><span id="l88.42" class="difflineminus">-  Services.obs.addObserver(observer, &quot;invalidformsubmit&quot;, false);</span>
<a href="#l88.43"></a><span id="l88.43" class="difflineplus">+  Services.obs.addObserver(observer, &quot;invalidformsubmit&quot;);</span>
<a href="#l88.44"></a><span id="l88.44"> }</span>
<a href="#l88.45"></a><span id="l88.45"> </span>
<a href="#l88.46"></a><span id="l88.46"> function removeFormSubmitObserver(observer)</span>
<a href="#l88.47"></a><span id="l88.47"> {</span>
<a href="#l88.48"></a><span id="l88.48">   Services.obs.removeObserver(observer, &quot;invalidformsubmit&quot;);</span>
<a href="#l88.49"></a><span id="l88.49"> }</span>
<a href="#l88.50"></a><span id="l88.50"> </span>
<a href="#l88.51"></a><span id="l88.51"> /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l89.1"></a><span id="l89.1" class="difflineminus">--- a/suite/browser/pageinfo/pageInfo.js</span>
<a href="#l89.2"></a><span id="l89.2" class="difflineplus">+++ b/suite/browser/pageinfo/pageInfo.js</span>
<a href="#l89.3"></a><span id="l89.3" class="difflineat">@@ -602,17 +602,17 @@ function onCacheEntryAvailable(cacheEntr</span>
<a href="#l89.4"></a><span id="l89.4">       sizeText = gBundle.getFormattedString(&quot;mediaFileSize&quot;, [formatNumber(kbSize)]);</span>
<a href="#l89.5"></a><span id="l89.5">     }</span>
<a href="#l89.6"></a><span id="l89.6">     else</span>
<a href="#l89.7"></a><span id="l89.7">       sizeText = gStrings.unknown;</span>
<a href="#l89.8"></a><span id="l89.8">     gImageView.addRow([url, type, sizeText, alt, 1, elem, isBg, pageSize, persistent, mimeType]);</span>
<a href="#l89.9"></a><span id="l89.9"> </span>
<a href="#l89.10"></a><span id="l89.10">     // Add the observer, only once.</span>
<a href="#l89.11"></a><span id="l89.11">     if (gImageView.data.length == 1) {</span>
<a href="#l89.12"></a><span id="l89.12" class="difflineminus">-      Services.obs.addObserver(imagePermissionObserver, &quot;perm-changed&quot;, false);</span>
<a href="#l89.13"></a><span id="l89.13" class="difflineplus">+      Services.obs.addObserver(imagePermissionObserver, &quot;perm-changed&quot;);</span>
<a href="#l89.14"></a><span id="l89.14">     }</span>
<a href="#l89.15"></a><span id="l89.15">   }</span>
<a href="#l89.16"></a><span id="l89.16">   else {</span>
<a href="#l89.17"></a><span id="l89.17">     var i = gImageHash[url][type][alt];</span>
<a href="#l89.18"></a><span id="l89.18">     gImageView.data[i][COL_IMAGE_COUNT]++;</span>
<a href="#l89.19"></a><span id="l89.19">   }</span>
<a href="#l89.20"></a><span id="l89.20"> };</span>
<a href="#l89.21"></a><span id="l89.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l90.1"></a><span id="l90.1" class="difflineminus">--- a/suite/browser/pageinfo/permissions.js</span>
<a href="#l90.2"></a><span id="l90.2" class="difflineplus">+++ b/suite/browser/pageinfo/permissions.js</span>
<a href="#l90.3"></a><span id="l90.3" class="difflineat">@@ -72,17 +72,17 @@ function initPermission()</span>
<a href="#l90.4"></a><span id="l90.4"> }</span>
<a href="#l90.5"></a><span id="l90.5"> </span>
<a href="#l90.6"></a><span id="l90.6"> function onLoadPermission()</span>
<a href="#l90.7"></a><span id="l90.7"> {</span>
<a href="#l90.8"></a><span id="l90.8">   gPermPrincipal = gDocument.nodePrincipal;</span>
<a href="#l90.9"></a><span id="l90.9">   if (!gPermPrincipal.isSystemPrincipal) {</span>
<a href="#l90.10"></a><span id="l90.10">     var hostText = document.getElementById(&quot;hostText&quot;);</span>
<a href="#l90.11"></a><span id="l90.11">     hostText.value = gPermPrincipal.origin;</span>
<a href="#l90.12"></a><span id="l90.12" class="difflineminus">-    Services.obs.addObserver(permissionObserver, &quot;perm-changed&quot;, false);</span>
<a href="#l90.13"></a><span id="l90.13" class="difflineplus">+    Services.obs.addObserver(permissionObserver, &quot;perm-changed&quot;);</span>
<a href="#l90.14"></a><span id="l90.14">   }</span>
<a href="#l90.15"></a><span id="l90.15">   for (var i in gPermObj)</span>
<a href="#l90.16"></a><span id="l90.16">     initRow(i);</span>
<a href="#l90.17"></a><span id="l90.17"> }</span>
<a href="#l90.18"></a><span id="l90.18"> </span>
<a href="#l90.19"></a><span id="l90.19"> function onUnloadPermission()</span>
<a href="#l90.20"></a><span id="l90.20"> {</span>
<a href="#l90.21"></a><span id="l90.21">   if (!gPermPrincipal.isSystemPrincipal) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l91.1"></a><span id="l91.1" class="difflineminus">--- a/suite/browser/tabbrowser.xml</span>
<a href="#l91.2"></a><span id="l91.2" class="difflineplus">+++ b/suite/browser/tabbrowser.xml</span>
<a href="#l91.3"></a><span id="l91.3" class="difflineat">@@ -3122,18 +3122,18 @@</span>
<a href="#l91.4"></a><span id="l91.4">           t.width = 0;</span>
<a href="#l91.5"></a><span id="l91.5">           t.flex = 100;</span>
<a href="#l91.6"></a><span id="l91.6">           t.setAttribute(&quot;validate&quot;, &quot;never&quot;);</span>
<a href="#l91.7"></a><span id="l91.7">           t.setAttribute(&quot;onerror&quot;, &quot;this.parentNode.parentNode.parentNode.parentNode.addToMissedIconCache(this.getAttribute('image')); this.removeAttribute('image');&quot;);</span>
<a href="#l91.8"></a><span id="l91.8">           this.referenceTab = t;</span>
<a href="#l91.9"></a><span id="l91.9"> </span>
<a href="#l91.10"></a><span id="l91.10">           var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l91.11"></a><span id="l91.11">                              .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l91.12"></a><span id="l91.12" class="difflineminus">-          os.addObserver(this, &quot;browser:purge-session-history&quot;, false);</span>
<a href="#l91.13"></a><span id="l91.13" class="difflineminus">-          this.mPrefs.addObserver(&quot;browser.tabs.max_tabs_undo&quot;, this, false);</span>
<a href="#l91.14"></a><span id="l91.14" class="difflineplus">+          os.addObserver(this, &quot;browser:purge-session-history&quot;);</span>
<a href="#l91.15"></a><span id="l91.15" class="difflineplus">+          this.mPrefs.addObserver(&quot;browser.tabs.max_tabs_undo&quot;, this);</span>
<a href="#l91.16"></a><span id="l91.16"> </span>
<a href="#l91.17"></a><span id="l91.17">           var onclick = this.getAttribute(&quot;oncontentclick&quot;);</span>
<a href="#l91.18"></a><span id="l91.18">           if (onclick)</span>
<a href="#l91.19"></a><span id="l91.19">             this.onContentClick = new Function(&quot;event&quot;, onclick);</span>
<a href="#l91.20"></a><span id="l91.20">         ]]&gt;</span>
<a href="#l91.21"></a><span id="l91.21">       &lt;/constructor&gt;</span>
<a href="#l91.22"></a><span id="l91.22"> </span>
<a href="#l91.23"></a><span id="l91.23">       &lt;destructor&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l92.1"></a><span id="l92.1" class="difflineminus">--- a/suite/browser/test/browser/browser_bug561636.js</span>
<a href="#l92.2"></a><span id="l92.2" class="difflineplus">+++ b/suite/browser/test/browser/browser_bug561636.js</span>
<a href="#l92.3"></a><span id="l92.3" class="difflineat">@@ -356,17 +356,17 @@ function test8()</span>
<a href="#l92.4"></a><span id="l92.4">       gObserver.notifyInvalidSubmit = function () {};</span>
<a href="#l92.5"></a><span id="l92.5">       gBrowser.removeTab(tab);</span>
<a href="#l92.6"></a><span id="l92.6"> </span>
<a href="#l92.7"></a><span id="l92.7">       // Next test</span>
<a href="#l92.8"></a><span id="l92.8">       executeSoon(test9);</span>
<a href="#l92.9"></a><span id="l92.9">     });</span>
<a href="#l92.10"></a><span id="l92.10">   };</span>
<a href="#l92.11"></a><span id="l92.11"> </span>
<a href="#l92.12"></a><span id="l92.12" class="difflineminus">-  Services.obs.addObserver(gObserver, &quot;invalidformsubmit&quot;, false);</span>
<a href="#l92.13"></a><span id="l92.13" class="difflineplus">+  Services.obs.addObserver(gObserver, &quot;invalidformsubmit&quot;);</span>
<a href="#l92.14"></a><span id="l92.14"> </span>
<a href="#l92.15"></a><span id="l92.15">   tab.linkedBrowser.addEventListener(&quot;load&quot;, function test8TabLBLoad(aEvent) {</span>
<a href="#l92.16"></a><span id="l92.16">     tab.linkedBrowser.removeEventListener(&quot;load&quot;, test8TabLBLoad, true);</span>
<a href="#l92.17"></a><span id="l92.17"> </span>
<a href="#l92.18"></a><span id="l92.18">     isnot(gBrowser.selectedTab, tab,</span>
<a href="#l92.19"></a><span id="l92.19">           &quot;This tab should have been loaded in background&quot;);</span>
<a href="#l92.20"></a><span id="l92.20"> </span>
<a href="#l92.21"></a><span id="l92.21">     tab.linkedBrowser.contentDocument.getElementById('s').click();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l93.1"></a><span id="l93.1" class="difflineminus">--- a/suite/browser/test/browser/browser_pageInfo.js</span>
<a href="#l93.2"></a><span id="l93.2" class="difflineplus">+++ b/suite/browser/test/browser/browser_pageInfo.js</span>
<a href="#l93.3"></a><span id="l93.3" class="difflineat">@@ -2,17 +2,17 @@ function test() {</span>
<a href="#l93.4"></a><span id="l93.4">   waitForExplicitFinish();</span>
<a href="#l93.5"></a><span id="l93.5"> </span>
<a href="#l93.6"></a><span id="l93.6">   var pageInfo;</span>
<a href="#l93.7"></a><span id="l93.7"> </span>
<a href="#l93.8"></a><span id="l93.8">   gBrowser.selectedTab = gBrowser.addTab();</span>
<a href="#l93.9"></a><span id="l93.9">   gBrowser.selectedBrowser.addEventListener(&quot;load&quot;, function loadListener() {</span>
<a href="#l93.10"></a><span id="l93.10">     gBrowser.selectedBrowser.removeEventListener(&quot;load&quot;, loadListener, true);</span>
<a href="#l93.11"></a><span id="l93.11"> </span>
<a href="#l93.12"></a><span id="l93.12" class="difflineminus">-    Services.obs.addObserver(observer, &quot;page-info-dialog-loaded&quot;, false);</span>
<a href="#l93.13"></a><span id="l93.13" class="difflineplus">+    Services.obs.addObserver(observer, &quot;page-info-dialog-loaded&quot;);</span>
<a href="#l93.14"></a><span id="l93.14">     pageInfo = BrowserPageInfo();</span>
<a href="#l93.15"></a><span id="l93.15">   }, true);</span>
<a href="#l93.16"></a><span id="l93.16">   content.location =</span>
<a href="#l93.17"></a><span id="l93.17">     &quot;https://example.com/browser/suite/browser/test/browser/feed_tab.html&quot;;</span>
<a href="#l93.18"></a><span id="l93.18"> </span>
<a href="#l93.19"></a><span id="l93.19">   function observer(win, topic, data) {</span>
<a href="#l93.20"></a><span id="l93.20">     Services.obs.removeObserver(observer, &quot;page-info-dialog-loaded&quot;);</span>
<a href="#l93.21"></a><span id="l93.21">     handlePageInfo();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l94.1"></a><span id="l94.1" class="difflineminus">--- a/suite/browser/test/browser/browser_pluginCrashCommentAndURL.js</span>
<a href="#l94.2"></a><span id="l94.2" class="difflineplus">+++ b/suite/browser/test/browser/browser_pluginCrashCommentAndURL.js</span>
<a href="#l94.3"></a><span id="l94.3" class="difflineat">@@ -23,17 +23,17 @@ function test() {</span>
<a href="#l94.4"></a><span id="l94.4">   let noReport = env.get(&quot;MOZ_CRASHREPORTER_NO_REPORT&quot;);</span>
<a href="#l94.5"></a><span id="l94.5">   let serverURL = env.get(&quot;MOZ_CRASHREPORTER_URL&quot;);</span>
<a href="#l94.6"></a><span id="l94.6">   env.set(&quot;MOZ_CRASHREPORTER_NO_REPORT&quot;, &quot;&quot;);</span>
<a href="#l94.7"></a><span id="l94.7">   env.set(&quot;MOZ_CRASHREPORTER_URL&quot;, SERVER_URL);</span>
<a href="#l94.8"></a><span id="l94.8"> </span>
<a href="#l94.9"></a><span id="l94.9">   let tab = gBrowser.loadOneTab(&quot;about:blank&quot;, { inBackground: false });</span>
<a href="#l94.10"></a><span id="l94.10">   let browser = tab.linkedBrowser;</span>
<a href="#l94.11"></a><span id="l94.11">   browser.addEventListener(&quot;PluginCrashed&quot;, onCrash);</span>
<a href="#l94.12"></a><span id="l94.12" class="difflineminus">-  Services.obs.addObserver(onSubmitStatus, &quot;crash-report-status&quot;, false);</span>
<a href="#l94.13"></a><span id="l94.13" class="difflineplus">+  Services.obs.addObserver(onSubmitStatus, &quot;crash-report-status&quot;);</span>
<a href="#l94.14"></a><span id="l94.14"> </span>
<a href="#l94.15"></a><span id="l94.15">   registerCleanupFunction(function cleanUp() {</span>
<a href="#l94.16"></a><span id="l94.16">     env.set(&quot;MOZ_CRASHREPORTER_NO_REPORT&quot;, noReport);</span>
<a href="#l94.17"></a><span id="l94.17">     env.set(&quot;MOZ_CRASHREPORTER_URL&quot;, serverURL);</span>
<a href="#l94.18"></a><span id="l94.18">     gBrowser.selectedBrowser.removeEventListener(&quot;PluginCrashed&quot;, onCrash);</span>
<a href="#l94.19"></a><span id="l94.19">     Services.obs.removeObserver(onSubmitStatus, &quot;crash-report-status&quot;);</span>
<a href="#l94.20"></a><span id="l94.20">     gBrowser.removeCurrentTab();</span>
<a href="#l94.21"></a><span id="l94.21">   });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l95.1"></a><span id="l95.1" class="difflineminus">--- a/suite/browser/test/browser/browser_pluginnotification.js</span>
<a href="#l95.2"></a><span id="l95.2" class="difflineplus">+++ b/suite/browser/test/browser/browser_pluginnotification.js</span>
<a href="#l95.3"></a><span id="l95.3" class="difflineat">@@ -356,17 +356,17 @@ function test11a() {</span>
<a href="#l95.4"></a><span id="l95.4">   prepareTest(test11b, &quot;about:blank&quot;);</span>
<a href="#l95.5"></a><span id="l95.5"> }</span>
<a href="#l95.6"></a><span id="l95.6"> </span>
<a href="#l95.7"></a><span id="l95.7"> // Tests that the going back will reshow the notification for click-to-play plugins (part 2/4)</span>
<a href="#l95.8"></a><span id="l95.8"> function test11b() {</span>
<a href="#l95.9"></a><span id="l95.9">   var popupNotification = PopupNotifications.getNotification(&quot;click-to-play-plugins&quot;, gTestBrowser);</span>
<a href="#l95.10"></a><span id="l95.10">   ok(!popupNotification, &quot;Test 11b, Should not have a click-to-play notification&quot;);</span>
<a href="#l95.11"></a><span id="l95.11"> </span>
<a href="#l95.12"></a><span id="l95.12" class="difflineminus">-  Services.obs.addObserver(test11c, &quot;PopupNotifications-updateNotShowing&quot;, false);</span>
<a href="#l95.13"></a><span id="l95.13" class="difflineplus">+  Services.obs.addObserver(test11c, &quot;PopupNotifications-updateNotShowing&quot;);</span>
<a href="#l95.14"></a><span id="l95.14">   gTestBrowser.contentWindow.history.back();</span>
<a href="#l95.15"></a><span id="l95.15"> }</span>
<a href="#l95.16"></a><span id="l95.16"> </span>
<a href="#l95.17"></a><span id="l95.17"> // Tests that the going back will reshow the notification for click-to-play plugins (part 3/4)</span>
<a href="#l95.18"></a><span id="l95.18"> function test11c() {</span>
<a href="#l95.19"></a><span id="l95.19">   Services.obs.removeObserver(test11c, &quot;PopupNotifications-updateNotShowing&quot;, false);</span>
<a href="#l95.20"></a><span id="l95.20">   var condition = () =&gt; PopupNotifications.getNotification(&quot;click-to-play-plugins&quot;, gTestBrowser);</span>
<a href="#l95.21"></a><span id="l95.21">   waitForCondition(condition, test11d, &quot;Test 11c, waited too long for click-to-play-plugin notification&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l96.1"></a><span id="l96.1" class="difflineminus">--- a/suite/browser/test/browser/browser_popupNotification.js</span>
<a href="#l96.2"></a><span id="l96.2" class="difflineplus">+++ b/suite/browser/test/browser/browser_popupNotification.js</span>
<a href="#l96.3"></a><span id="l96.3" class="difflineat">@@ -38,17 +38,17 @@ function runNextTest() {</span>
<a href="#l96.4"></a><span id="l96.4">     function observer() {</span>
<a href="#l96.5"></a><span id="l96.5">       Services.obs.removeObserver(observer, &quot;PopupNotifications-&quot; + topic);</span>
<a href="#l96.6"></a><span id="l96.6">       delete gActiveObservers[&quot;PopupNotifications-&quot; + topic];</span>
<a href="#l96.7"></a><span id="l96.7"> </span>
<a href="#l96.8"></a><span id="l96.8">       info(&quot;[Test #&quot; + gTestIndex + &quot;] observer for &quot; + topic + &quot; called&quot;);</span>
<a href="#l96.9"></a><span id="l96.9">       nextTest[topic]();</span>
<a href="#l96.10"></a><span id="l96.10">       goNext();</span>
<a href="#l96.11"></a><span id="l96.11">     }</span>
<a href="#l96.12"></a><span id="l96.12" class="difflineminus">-    Services.obs.addObserver(observer, &quot;PopupNotifications-&quot; + topic, false);</span>
<a href="#l96.13"></a><span id="l96.13" class="difflineplus">+    Services.obs.addObserver(observer, &quot;PopupNotifications-&quot; + topic);</span>
<a href="#l96.14"></a><span id="l96.14">     gActiveObservers[&quot;PopupNotifications-&quot; + topic] = observer;</span>
<a href="#l96.15"></a><span id="l96.15">   }</span>
<a href="#l96.16"></a><span id="l96.16"> </span>
<a href="#l96.17"></a><span id="l96.17">   if (nextTest.backgroundShow) {</span>
<a href="#l96.18"></a><span id="l96.18">     addObserver(&quot;backgroundShow&quot;);</span>
<a href="#l96.19"></a><span id="l96.19">   } else if (nextTest.updateNotShowing) {</span>
<a href="#l96.20"></a><span id="l96.20">     addObserver(&quot;updateNotShowing&quot;);</span>
<a href="#l96.21"></a><span id="l96.21">   } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l97.1"></a><span id="l97.1" class="difflineminus">--- a/suite/browser/test/browser/head.js</span>
<a href="#l97.2"></a><span id="l97.2" class="difflineplus">+++ b/suite/browser/test/browser/head.js</span>
<a href="#l97.3"></a><span id="l97.3" class="difflineat">@@ -57,17 +57,17 @@ function whenNewWindowLoaded(aOptions, a</span>
<a href="#l97.4"></a><span id="l97.4"> </span>
<a href="#l97.5"></a><span id="l97.5"> function updateBlocklist(aCallback) {</span>
<a href="#l97.6"></a><span id="l97.6">   var blocklistNotifier = Components.classes[&quot;@mozilla.org/extensions/blocklist;1&quot;]</span>
<a href="#l97.7"></a><span id="l97.7">                                     .getService(Components.interfaces.nsITimerCallback);</span>
<a href="#l97.8"></a><span id="l97.8">   var observer = function() {</span>
<a href="#l97.9"></a><span id="l97.9">     Services.obs.removeObserver(observer, &quot;blocklist-updated&quot;);</span>
<a href="#l97.10"></a><span id="l97.10">     SimpleTest.executeSoon(aCallback);</span>
<a href="#l97.11"></a><span id="l97.11">   };</span>
<a href="#l97.12"></a><span id="l97.12" class="difflineminus">-  Services.obs.addObserver(observer, &quot;blocklist-updated&quot;, false);</span>
<a href="#l97.13"></a><span id="l97.13" class="difflineplus">+  Services.obs.addObserver(observer, &quot;blocklist-updated&quot;);</span>
<a href="#l97.14"></a><span id="l97.14">   blocklistNotifier.notify(null);</span>
<a href="#l97.15"></a><span id="l97.15"> }</span>
<a href="#l97.16"></a><span id="l97.16"> </span>
<a href="#l97.17"></a><span id="l97.17"> var _originalTestBlocklistURL = null;</span>
<a href="#l97.18"></a><span id="l97.18"> function setAndUpdateBlocklist(aURL, aCallback) {</span>
<a href="#l97.19"></a><span id="l97.19">   if (!_originalTestBlocklistURL)</span>
<a href="#l97.20"></a><span id="l97.20">     _originalTestBlocklistURL = Services.prefs.getCharPref(&quot;extensions.blocklist.url&quot;);</span>
<a href="#l97.21"></a><span id="l97.21">   Services.prefs.setCharPref(&quot;extensions.blocklist.url&quot;, aURL);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l98.1"></a><span id="l98.1" class="difflineminus">--- a/suite/browser/urlbarBindings.xml</span>
<a href="#l98.2"></a><span id="l98.2" class="difflineplus">+++ b/suite/browser/urlbarBindings.xml</span>
<a href="#l98.3"></a><span id="l98.3" class="difflineat">@@ -46,17 +46,17 @@</span>
<a href="#l98.4"></a><span id="l98.4">                    xbl:inherits=&quot;for=id,nomatch&quot;/&gt;</span>
<a href="#l98.5"></a><span id="l98.5">       &lt;/xul:popupset&gt;</span>
<a href="#l98.6"></a><span id="l98.6"> </span>
<a href="#l98.7"></a><span id="l98.7">       &lt;children includes=&quot;menupopup&quot;/&gt;</span>
<a href="#l98.8"></a><span id="l98.8">     &lt;/content&gt;</span>
<a href="#l98.9"></a><span id="l98.9"> </span>
<a href="#l98.10"></a><span id="l98.10">     &lt;implementation implements=&quot;nsIDOMEventListener&quot;&gt;</span>
<a href="#l98.11"></a><span id="l98.11">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l98.12"></a><span id="l98.12" class="difflineminus">-        this.mPrefs.addObserver(&quot;browser.urlbar&quot;, this.mPrefObserver, false);</span>
<a href="#l98.13"></a><span id="l98.13" class="difflineplus">+        this.mPrefs.addObserver(&quot;browser.urlbar&quot;, this.mPrefObserver);</span>
<a href="#l98.14"></a><span id="l98.14"> </span>
<a href="#l98.15"></a><span id="l98.15">         this.updatePref(&quot;browser.urlbar.showPopup&quot;);</span>
<a href="#l98.16"></a><span id="l98.16">         this.updatePref(&quot;browser.urlbar.autoFill&quot;);</span>
<a href="#l98.17"></a><span id="l98.17">         this.updatePref(&quot;browser.urlbar.showSearch&quot;);</span>
<a href="#l98.18"></a><span id="l98.18">         this.updatePref(&quot;browser.urlbar.formatting.enabled&quot;);</span>
<a href="#l98.19"></a><span id="l98.19">         this.inputField.controllers.insertControllerAt(0, this._editItemsController);</span>
<a href="#l98.20"></a><span id="l98.20">         this.inputField.addEventListener(&quot;overflow&quot;, this);</span>
<a href="#l98.21"></a><span id="l98.21">         this.inputField.addEventListener(&quot;underflow&quot;, this);</span>
<a href="#l98.22"></a><span id="l98.22" class="difflineat">@@ -345,20 +345,20 @@</span>
<a href="#l98.23"></a><span id="l98.23">         &lt;xul:treechildren anonid=&quot;treebody&quot; class=&quot;autocomplete-treebody&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l98.24"></a><span id="l98.24">       &lt;/xul:tree&gt;</span>
<a href="#l98.25"></a><span id="l98.25">       &lt;xul:box role=&quot;search-box&quot; class=&quot;autocomplete-search-box&quot;/&gt;</span>
<a href="#l98.26"></a><span id="l98.26">     &lt;/content&gt;</span>
<a href="#l98.27"></a><span id="l98.27"> </span>
<a href="#l98.28"></a><span id="l98.28">     &lt;implementation&gt;</span>
<a href="#l98.29"></a><span id="l98.29">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l98.30"></a><span id="l98.30">         // listen for changes to default search engine</span>
<a href="#l98.31"></a><span id="l98.31" class="difflineminus">-        this.mPrefs.addObserver(&quot;browser.search&quot;, this.mObserver, false);</span>
<a href="#l98.32"></a><span id="l98.32" class="difflineminus">-        this.mPrefs.addObserver(&quot;browser.urlbar&quot;, this.mObserver, false);</span>
<a href="#l98.33"></a><span id="l98.33" class="difflineplus">+        this.mPrefs.addObserver(&quot;browser.search&quot;, this.mObserver);</span>
<a href="#l98.34"></a><span id="l98.34" class="difflineplus">+        this.mPrefs.addObserver(&quot;browser.urlbar&quot;, this.mObserver);</span>
<a href="#l98.35"></a><span id="l98.35">         this.mObSvc.addObserver(this.mObserver,</span>
<a href="#l98.36"></a><span id="l98.36" class="difflineminus">-                                &quot;browser-search-engine-modified&quot;, false);</span>
<a href="#l98.37"></a><span id="l98.37" class="difflineplus">+                                &quot;browser-search-engine-modified&quot;);</span>
<a href="#l98.38"></a><span id="l98.38">         this.updateEngines();</span>
<a href="#l98.39"></a><span id="l98.39">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l98.40"></a><span id="l98.40"> </span>
<a href="#l98.41"></a><span id="l98.41">       &lt;destructor&gt;&lt;![CDATA[</span>
<a href="#l98.42"></a><span id="l98.42">         this.mPrefs.removeObserver(&quot;browser.search&quot;, this.mObserver);</span>
<a href="#l98.43"></a><span id="l98.43">         this.mPrefs.removeObserver(&quot;browser.urlbar&quot;, this.mObserver);</span>
<a href="#l98.44"></a><span id="l98.44">         this.mObSvc.removeObserver(this.mObserver,</span>
<a href="#l98.45"></a><span id="l98.45">                                    &quot;browser-search-engine-modified&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l99.1"></a><span id="l99.1" class="difflineminus">--- a/suite/browser/webDeveloperOverlay.js</span>
<a href="#l99.2"></a><span id="l99.2" class="difflineplus">+++ b/suite/browser/webDeveloperOverlay.js</span>
<a href="#l99.3"></a><span id="l99.3" class="difflineat">@@ -94,17 +94,17 @@ var gWebDeveloper = {</span>
<a href="#l99.4"></a><span id="l99.4">         // Don't use gDevToolsBrowser.updateCommandAvailability() at the moment</span>
<a href="#l99.5"></a><span id="l99.5">         // because some tools aren't working.</span>
<a href="#l99.6"></a><span id="l99.6">         if (!gDevToolsBrowser._old_updateCommandAvailability) {</span>
<a href="#l99.7"></a><span id="l99.7">           gDevToolsBrowser._old_updateCommandAvailability = gDevToolsBrowser.updateCommandAvailability;</span>
<a href="#l99.8"></a><span id="l99.8">           gDevToolsBrowser.updateCommandAvailability = this.updateCommandAvailability;</span>
<a href="#l99.9"></a><span id="l99.9">         }</span>
<a href="#l99.10"></a><span id="l99.10">         // Add Devtools menuitems, observers, and listeners</span>
<a href="#l99.11"></a><span id="l99.11">         gDevToolsBrowser.registerBrowserWindow(window);</span>
<a href="#l99.12"></a><span id="l99.12" class="difflineminus">-        Services.prefs.addObserver(this.devtoolsThemePref, this, false);</span>
<a href="#l99.13"></a><span id="l99.13" class="difflineplus">+        Services.prefs.addObserver(this.devtoolsThemePref, this);</span>
<a href="#l99.14"></a><span id="l99.14">         this.updateDevtoolsThemeAttribute();</span>
<a href="#l99.15"></a><span id="l99.15">         break;</span>
<a href="#l99.16"></a><span id="l99.16"> </span>
<a href="#l99.17"></a><span id="l99.17">       case &quot;unload&quot;:</span>
<a href="#l99.18"></a><span id="l99.18">         window.removeEventListener(&quot;unload&quot;, gWebDeveloper);</span>
<a href="#l99.19"></a><span id="l99.19">         gDevToolsBrowser.forgetBrowserWindow(window);</span>
<a href="#l99.20"></a><span id="l99.20">         Services.prefs.removeObserver(this.devtoolsThemePref, this);</span>
<a href="#l99.21"></a><span id="l99.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l100.1"></a><span id="l100.1" class="difflineminus">--- a/suite/common/bindings/findbar.xml</span>
<a href="#l100.2"></a><span id="l100.2" class="difflineplus">+++ b/suite/common/bindings/findbar.xml</span>
<a href="#l100.3"></a><span id="l100.3" class="difflineat">@@ -28,19 +28,19 @@</span>
<a href="#l100.4"></a><span id="l100.4">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l100.5"></a><span id="l100.5">         var prefsvc =</span>
<a href="#l100.6"></a><span id="l100.6">           Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l100.7"></a><span id="l100.7">                     .getService(Components.interfaces.nsIPrefBranch);</span>
<a href="#l100.8"></a><span id="l100.8"> </span>
<a href="#l100.9"></a><span id="l100.9">         prefsvc.removeObserver(&quot;accessibility.typeaheadfind&quot;,</span>
<a href="#l100.10"></a><span id="l100.10">                                this._observer);</span>
<a href="#l100.11"></a><span id="l100.11">         prefsvc.addObserver(&quot;accessibility.typeaheadfind.autostart&quot;,</span>
<a href="#l100.12"></a><span id="l100.12" class="difflineminus">-                            this._suiteObserver, false);</span>
<a href="#l100.13"></a><span id="l100.13" class="difflineplus">+                            this._suiteObserver);</span>
<a href="#l100.14"></a><span id="l100.14">         prefsvc.addObserver(&quot;accessibility.typeaheadfind.usefindbar&quot;,</span>
<a href="#l100.15"></a><span id="l100.15" class="difflineminus">-                            this._suiteObserver, false);</span>
<a href="#l100.16"></a><span id="l100.16" class="difflineplus">+                            this._suiteObserver);</span>
<a href="#l100.17"></a><span id="l100.17"> </span>
<a href="#l100.18"></a><span id="l100.18">         this._findAsYouType =</span>
<a href="#l100.19"></a><span id="l100.19">           prefsvc.getBoolPref(&quot;accessibility.typeaheadfind.autostart&quot;);</span>
<a href="#l100.20"></a><span id="l100.20">         this._useFindbar =</span>
<a href="#l100.21"></a><span id="l100.21">           prefsvc.getBoolPref(&quot;accessibility.typeaheadfind.usefindbar&quot;);</span>
<a href="#l100.22"></a><span id="l100.22">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l100.23"></a><span id="l100.23"> </span>
<a href="#l100.24"></a><span id="l100.24">       &lt;field name=&quot;_suiteObserver&quot;&gt;&lt;![CDATA[({</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l101.1"></a><span id="l101.1" class="difflineminus">--- a/suite/common/bindings/notification.xml</span>
<a href="#l101.2"></a><span id="l101.2" class="difflineplus">+++ b/suite/common/bindings/notification.xml</span>
<a href="#l101.3"></a><span id="l101.3" class="difflineat">@@ -1992,33 +1992,33 @@</span>
<a href="#l101.4"></a><span id="l101.4">       &lt;/method&gt;</span>
<a href="#l101.5"></a><span id="l101.5">       &lt;constructor&gt;</span>
<a href="#l101.6"></a><span id="l101.6">         &lt;![CDATA[</span>
<a href="#l101.7"></a><span id="l101.7">           Components.utils.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l101.8"></a><span id="l101.8">           Components.utils.import(&quot;resource://gre/modules/BrowserUtils.jsm&quot;);</span>
<a href="#l101.9"></a><span id="l101.9"> </span>
<a href="#l101.10"></a><span id="l101.10">           var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l101.11"></a><span id="l101.11">                              .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l101.12"></a><span id="l101.12" class="difflineminus">-          os.addObserver(this, &quot;indexedDB-permissions-prompt&quot;, false);</span>
<a href="#l101.13"></a><span id="l101.13" class="difflineminus">-          os.addObserver(this, &quot;indexedDB-quota-prompt&quot;, false);</span>
<a href="#l101.14"></a><span id="l101.14" class="difflineminus">-          os.addObserver(this, &quot;indexedDB-quota-cancel&quot;, false);</span>
<a href="#l101.15"></a><span id="l101.15" class="difflineminus">-          os.addObserver(this, &quot;addon-install-blocked&quot;, false);</span>
<a href="#l101.16"></a><span id="l101.16" class="difflineminus">-          os.addObserver(this, &quot;addon-install-complete&quot;, false);</span>
<a href="#l101.17"></a><span id="l101.17" class="difflineminus">-          os.addObserver(this, &quot;addon-install-disabled&quot;, false);</span>
<a href="#l101.18"></a><span id="l101.18" class="difflineminus">-          os.addObserver(this, &quot;addon-install-failed&quot;, false);</span>
<a href="#l101.19"></a><span id="l101.19" class="difflineminus">-          os.addObserver(this, &quot;addon-install-started&quot;, false);</span>
<a href="#l101.20"></a><span id="l101.20" class="difflineminus">-          os.addObserver(this, &quot;offline-cache-update-completed&quot;, false);</span>
<a href="#l101.21"></a><span id="l101.21" class="difflineminus">-          os.addObserver(this, &quot;perm-changed&quot;, false);</span>
<a href="#l101.22"></a><span id="l101.22" class="difflineminus">-          os.addObserver(this, &quot;formsubmit&quot;, false);</span>
<a href="#l101.23"></a><span id="l101.23" class="difflineminus">-</span>
<a href="#l101.24"></a><span id="l101.24" class="difflineminus">-          this._prefs.addObserver(&quot;plugins.hide_infobar_for_outdated_plugin&quot;, this, false);</span>
<a href="#l101.25"></a><span id="l101.25" class="difflineminus">-          this._prefs.addObserver(&quot;plugins.hide_infobar_for_carbon_failure_plugin&quot;, this, false);</span>
<a href="#l101.26"></a><span id="l101.26" class="difflineminus">-          this._prefs.addObserver(&quot;plugins.hide_infobar_for_missing_plugin&quot;, this, false);</span>
<a href="#l101.27"></a><span id="l101.27" class="difflineminus">-          this._prefs.addObserver(&quot;privacy.popups.showBrowserMessage&quot;, this, false);</span>
<a href="#l101.28"></a><span id="l101.28" class="difflineminus">-          this._prefs.addObserver(&quot;dom.disable_open_during_load&quot;, this, false);</span>
<a href="#l101.29"></a><span id="l101.29" class="difflineplus">+          os.addObserver(this, &quot;indexedDB-permissions-prompt&quot;);</span>
<a href="#l101.30"></a><span id="l101.30" class="difflineplus">+          os.addObserver(this, &quot;indexedDB-quota-prompt&quot;);</span>
<a href="#l101.31"></a><span id="l101.31" class="difflineplus">+          os.addObserver(this, &quot;indexedDB-quota-cancel&quot;);</span>
<a href="#l101.32"></a><span id="l101.32" class="difflineplus">+          os.addObserver(this, &quot;addon-install-blocked&quot;);</span>
<a href="#l101.33"></a><span id="l101.33" class="difflineplus">+          os.addObserver(this, &quot;addon-install-complete&quot;);</span>
<a href="#l101.34"></a><span id="l101.34" class="difflineplus">+          os.addObserver(this, &quot;addon-install-disabled&quot;);</span>
<a href="#l101.35"></a><span id="l101.35" class="difflineplus">+          os.addObserver(this, &quot;addon-install-failed&quot;);</span>
<a href="#l101.36"></a><span id="l101.36" class="difflineplus">+          os.addObserver(this, &quot;addon-install-started&quot;);</span>
<a href="#l101.37"></a><span id="l101.37" class="difflineplus">+          os.addObserver(this, &quot;offline-cache-update-completed&quot;);</span>
<a href="#l101.38"></a><span id="l101.38" class="difflineplus">+          os.addObserver(this, &quot;perm-changed&quot;);</span>
<a href="#l101.39"></a><span id="l101.39" class="difflineplus">+          os.addObserver(this, &quot;formsubmit&quot;);</span>
<a href="#l101.40"></a><span id="l101.40" class="difflineplus">+</span>
<a href="#l101.41"></a><span id="l101.41" class="difflineplus">+          this._prefs.addObserver(&quot;plugins.hide_infobar_for_outdated_plugin&quot;, this);</span>
<a href="#l101.42"></a><span id="l101.42" class="difflineplus">+          this._prefs.addObserver(&quot;plugins.hide_infobar_for_carbon_failure_plugin&quot;, this);</span>
<a href="#l101.43"></a><span id="l101.43" class="difflineplus">+          this._prefs.addObserver(&quot;plugins.hide_infobar_for_missing_plugin&quot;, this);</span>
<a href="#l101.44"></a><span id="l101.44" class="difflineplus">+          this._prefs.addObserver(&quot;privacy.popups.showBrowserMessage&quot;, this);</span>
<a href="#l101.45"></a><span id="l101.45" class="difflineplus">+          this._prefs.addObserver(&quot;dom.disable_open_during_load&quot;, this);</span>
<a href="#l101.46"></a><span id="l101.46"> </span>
<a href="#l101.47"></a><span id="l101.47">           this.addProgressListener();</span>
<a href="#l101.48"></a><span id="l101.48"> </span>
<a href="#l101.49"></a><span id="l101.49">           if (&quot;nsICrashReporter&quot; in Components.interfaces)</span>
<a href="#l101.50"></a><span id="l101.50">             Components.utils.import(&quot;resource://gre/modules/CrashSubmit.jsm&quot;, this);</span>
<a href="#l101.51"></a><span id="l101.51">         ]]&gt;</span>
<a href="#l101.52"></a><span id="l101.52">       &lt;/constructor&gt;</span>
<a href="#l101.53"></a><span id="l101.53"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l102.1"></a><span id="l102.1" class="difflineminus">--- a/suite/common/bindings/toolbar.xml</span>
<a href="#l102.2"></a><span id="l102.2" class="difflineplus">+++ b/suite/common/bindings/toolbar.xml</span>
<a href="#l102.3"></a><span id="l102.3" class="difflineat">@@ -170,17 +170,17 @@</span>
<a href="#l102.4"></a><span id="l102.4">       &lt;/constructor&gt;</span>
<a href="#l102.5"></a><span id="l102.5">     &lt;/implementation&gt;</span>
<a href="#l102.6"></a><span id="l102.6">   &lt;/binding&gt;</span>
<a href="#l102.7"></a><span id="l102.7"> </span>
<a href="#l102.8"></a><span id="l102.8">   &lt;binding id=&quot;grippytoolbar-primary&quot; extends=&quot;chrome://communicator/content/bindings/toolbar.xml#grippytoolbar&quot;&gt;</span>
<a href="#l102.9"></a><span id="l102.9">     &lt;implementation implements=&quot;nsIObserver&quot;&gt;</span>
<a href="#l102.10"></a><span id="l102.10">       &lt;constructor&gt;</span>
<a href="#l102.11"></a><span id="l102.11">         &lt;![CDATA[</span>
<a href="#l102.12"></a><span id="l102.12" class="difflineminus">-          this.prefs.addObserver(this.domain, this, false);</span>
<a href="#l102.13"></a><span id="l102.13" class="difflineplus">+          this.prefs.addObserver(this.domain, this);</span>
<a href="#l102.14"></a><span id="l102.14">           if (this.prefs.getIntPref(this.domain) != 2)</span>
<a href="#l102.15"></a><span id="l102.15">             this.observe(this.prefs, &quot;nsPref:changed&quot;, this.domain);</span>
<a href="#l102.16"></a><span id="l102.16">         ]]&gt;</span>
<a href="#l102.17"></a><span id="l102.17">       &lt;/constructor&gt;</span>
<a href="#l102.18"></a><span id="l102.18"> </span>
<a href="#l102.19"></a><span id="l102.19">       &lt;destructor&gt;</span>
<a href="#l102.20"></a><span id="l102.20">         this.prefs.removeObserver(this.domain, this);</span>
<a href="#l102.21"></a><span id="l102.21">       &lt;/destructor&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l103.1"></a><span id="l103.1" class="difflineminus">--- a/suite/common/bookmarks/editBookmarkOverlay.js</span>
<a href="#l103.2"></a><span id="l103.2" class="difflineplus">+++ b/suite/common/bookmarks/editBookmarkOverlay.js</span>
<a href="#l103.3"></a><span id="l103.3" class="difflineat">@@ -201,17 +201,17 @@ var gEditItemOverlay = {</span>
<a href="#l103.4"></a><span id="l103.4"> </span>
<a href="#l103.5"></a><span id="l103.5">     this._showHideRows();</span>
<a href="#l103.6"></a><span id="l103.6"> </span>
<a href="#l103.7"></a><span id="l103.7">     // observe changes</span>
<a href="#l103.8"></a><span id="l103.8">     if (!this._observersAdded) {</span>
<a href="#l103.9"></a><span id="l103.9">       // Single bookmarks observe any change.  History entries and multiEdit</span>
<a href="#l103.10"></a><span id="l103.10">       // observe only tags changes, through bookmarks.</span>
<a href="#l103.11"></a><span id="l103.11">       if (this._itemId != -1 || this._uri || this._multiEdit)</span>
<a href="#l103.12"></a><span id="l103.12" class="difflineminus">-        PlacesUtils.bookmarks.addObserver(this, false);</span>
<a href="#l103.13"></a><span id="l103.13" class="difflineplus">+        PlacesUtils.bookmarks.addObserver(this);</span>
<a href="#l103.14"></a><span id="l103.14">       window.addEventListener(&quot;unload&quot;, this);</span>
<a href="#l103.15"></a><span id="l103.15">       this._observersAdded = true;</span>
<a href="#l103.16"></a><span id="l103.16">     }</span>
<a href="#l103.17"></a><span id="l103.17"> </span>
<a href="#l103.18"></a><span id="l103.18">     this._initialized = true;</span>
<a href="#l103.19"></a><span id="l103.19">   },</span>
<a href="#l103.20"></a><span id="l103.20"> </span>
<a href="#l103.21"></a><span id="l103.21">   /**</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l104.1"></a><span id="l104.1" class="difflineminus">--- a/suite/common/dataman/dataman.js</span>
<a href="#l104.2"></a><span id="l104.2" class="difflineplus">+++ b/suite/common/dataman/dataman.js</span>
<a href="#l104.3"></a><span id="l104.3" class="difflineat">@@ -47,23 +47,23 @@ var gDataman = {</span>
<a href="#l104.4"></a><span id="l104.4"> </span>
<a href="#l104.5"></a><span id="l104.5">   initialize: function dataman_initialize() {</span>
<a href="#l104.6"></a><span id="l104.6">     try {</span>
<a href="#l104.7"></a><span id="l104.7">       this.debug = Services.prefs.getBoolPref(&quot;data_manager.debug&quot;);</span>
<a href="#l104.8"></a><span id="l104.8">     }</span>
<a href="#l104.9"></a><span id="l104.9">     catch (e) {}</span>
<a href="#l104.10"></a><span id="l104.10">     this.bundle = document.getElementById(&quot;datamanBundle&quot;);</span>
<a href="#l104.11"></a><span id="l104.11"> </span>
<a href="#l104.12"></a><span id="l104.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;cookie-changed&quot;, false);</span>
<a href="#l104.13"></a><span id="l104.13" class="difflineminus">-    Services.obs.addObserver(this, &quot;perm-changed&quot;, false);</span>
<a href="#l104.14"></a><span id="l104.14" class="difflineminus">-    Services.obs.addObserver(this, &quot;passwordmgr-storage-changed&quot;, false);</span>
<a href="#l104.15"></a><span id="l104.15" class="difflineplus">+    Services.obs.addObserver(this, &quot;cookie-changed&quot;);</span>
<a href="#l104.16"></a><span id="l104.16" class="difflineplus">+    Services.obs.addObserver(this, &quot;perm-changed&quot;);</span>
<a href="#l104.17"></a><span id="l104.17" class="difflineplus">+    Services.obs.addObserver(this, &quot;passwordmgr-storage-changed&quot;);</span>
<a href="#l104.18"></a><span id="l104.18">     // Services.contentPrefs.addObserver(null, this);</span>
<a href="#l104.19"></a><span id="l104.19" class="difflineminus">-    Services.obs.addObserver(this, &quot;satchel-storage-changed&quot;, false);</span>
<a href="#l104.20"></a><span id="l104.20" class="difflineminus">-    Services.obs.addObserver(this, &quot;dom-storage-changed&quot;, false);</span>
<a href="#l104.21"></a><span id="l104.21" class="difflineminus">-    Services.obs.addObserver(this, &quot;dom-storage2-changed&quot;, false);</span>
<a href="#l104.22"></a><span id="l104.22" class="difflineplus">+    Services.obs.addObserver(this, &quot;satchel-storage-changed&quot;);</span>
<a href="#l104.23"></a><span id="l104.23" class="difflineplus">+    Services.obs.addObserver(this, &quot;dom-storage-changed&quot;);</span>
<a href="#l104.24"></a><span id="l104.24" class="difflineplus">+    Services.obs.addObserver(this, &quot;dom-storage2-changed&quot;);</span>
<a href="#l104.25"></a><span id="l104.25"> </span>
<a href="#l104.26"></a><span id="l104.26">     this.timer = Components.classes[&quot;@mozilla.org/timer;1&quot;]</span>
<a href="#l104.27"></a><span id="l104.27">                            .createInstance(Components.interfaces.nsITimer);</span>
<a href="#l104.28"></a><span id="l104.28"> </span>
<a href="#l104.29"></a><span id="l104.29">     gTabs.initialize();</span>
<a href="#l104.30"></a><span id="l104.30">     gDomains.initialize();</span>
<a href="#l104.31"></a><span id="l104.31"> </span>
<a href="#l104.32"></a><span id="l104.32">     if (&quot;arguments&quot; in window &amp;&amp;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l105.1"></a><span id="l105.1" class="difflineminus">--- a/suite/common/dataman/tests/browser_dataman_basics.js</span>
<a href="#l105.2"></a><span id="l105.2" class="difflineplus">+++ b/suite/common/dataman/tests/browser_dataman_basics.js</span>
<a href="#l105.3"></a><span id="l105.3" class="difflineat">@@ -89,17 +89,17 @@ function test() {</span>
<a href="#l105.4"></a><span id="l105.4"> </span>
<a href="#l105.5"></a><span id="l105.5">   let testObs = {</span>
<a href="#l105.6"></a><span id="l105.6">     observe: function(aSubject, aTopic, aData) {</span>
<a href="#l105.7"></a><span id="l105.7">       if (aTopic == DATAMAN_LOADED) {</span>
<a href="#l105.8"></a><span id="l105.8">         Services.obs.removeObserver(testObs, DATAMAN_LOADED);</span>
<a href="#l105.9"></a><span id="l105.9">         ok(true, &quot;Data Manager is loaded&quot;);</span>
<a href="#l105.10"></a><span id="l105.10"> </span>
<a href="#l105.11"></a><span id="l105.11">         win = content.wrappedJSObject;</span>
<a href="#l105.12"></a><span id="l105.12" class="difflineminus">-        Services.obs.addObserver(testObs, TEST_DONE, false);</span>
<a href="#l105.13"></a><span id="l105.13" class="difflineplus">+        Services.obs.addObserver(testObs, TEST_DONE);</span>
<a href="#l105.14"></a><span id="l105.14">         // Trigger the first test now!</span>
<a href="#l105.15"></a><span id="l105.15">         Services.obs.notifyObservers(window, TEST_DONE, null);</span>
<a href="#l105.16"></a><span id="l105.16">       }</span>
<a href="#l105.17"></a><span id="l105.17">       else {</span>
<a href="#l105.18"></a><span id="l105.18">         // TEST_DONE triggered, run next test</span>
<a href="#l105.19"></a><span id="l105.19">         info(&quot;run test #&quot; + (testIndex + 1) + &quot; of &quot; + testFuncs.length +</span>
<a href="#l105.20"></a><span id="l105.20">              &quot; (&quot; + testFuncs[testIndex].name + &quot;)&quot;);</span>
<a href="#l105.21"></a><span id="l105.21">         setTimeout(testFuncs[testIndex++], 0, win);</span>
<a href="#l105.22"></a><span id="l105.22" class="difflineat">@@ -110,17 +110,17 @@ function test() {</span>
<a href="#l105.23"></a><span id="l105.23">           Services.cookies.removeAll();</span>
<a href="#l105.24"></a><span id="l105.24">           gLocSvc.fhist.removeAllEntries();</span>
<a href="#l105.25"></a><span id="l105.25">           setTimeout(finish, 0);</span>
<a href="#l105.26"></a><span id="l105.26">         }</span>
<a href="#l105.27"></a><span id="l105.27">       }</span>
<a href="#l105.28"></a><span id="l105.28">     }</span>
<a href="#l105.29"></a><span id="l105.29">   };</span>
<a href="#l105.30"></a><span id="l105.30">   waitForExplicitFinish();</span>
<a href="#l105.31"></a><span id="l105.31" class="difflineminus">-  Services.obs.addObserver(testObs, DATAMAN_LOADED, false);</span>
<a href="#l105.32"></a><span id="l105.32" class="difflineplus">+  Services.obs.addObserver(testObs, DATAMAN_LOADED);</span>
<a href="#l105.33"></a><span id="l105.33"> }</span>
<a href="#l105.34"></a><span id="l105.34"> </span>
<a href="#l105.35"></a><span id="l105.35"> var testFuncs = [</span>
<a href="#l105.36"></a><span id="l105.36"> function test_open_state(aWin) {</span>
<a href="#l105.37"></a><span id="l105.37">   is(aWin.document.documentElement.id, &quot;dataman-page&quot;,</span>
<a href="#l105.38"></a><span id="l105.38">      &quot;The active tab is the Data Manager&quot;);</span>
<a href="#l105.39"></a><span id="l105.39">   is(aWin.gDomains.tree.view.rowCount, kPreexistingDomains + 6,</span>
<a href="#l105.40"></a><span id="l105.40">      &quot;The correct number of domains is listed&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l106.1"></a><span id="l106.1" class="difflineminus">--- a/suite/common/dataman/tests/browser_dataman_callviews.js</span>
<a href="#l106.2"></a><span id="l106.2" class="difflineplus">+++ b/suite/common/dataman/tests/browser_dataman_callviews.js</span>
<a href="#l106.3"></a><span id="l106.3" class="difflineat">@@ -43,17 +43,17 @@ function test() {</span>
<a href="#l106.4"></a><span id="l106.4">           Services.cookies.remove(&quot;getpersonas.com&quot;, &quot;name0&quot;, &quot;value0&quot;, false);</span>
<a href="#l106.5"></a><span id="l106.5">           Services.cookies.remove(&quot;drumbeat.org&quot;, &quot;name1&quot;, &quot;value1&quot;, false);</span>
<a href="#l106.6"></a><span id="l106.6">           finish();</span>
<a href="#l106.7"></a><span id="l106.7">         }</span>
<a href="#l106.8"></a><span id="l106.8">       }</span>
<a href="#l106.9"></a><span id="l106.9">     }</span>
<a href="#l106.10"></a><span id="l106.10">   };</span>
<a href="#l106.11"></a><span id="l106.11">   waitForExplicitFinish();</span>
<a href="#l106.12"></a><span id="l106.12" class="difflineminus">-  Services.obs.addObserver(testObs, DATAMAN_LOADED, false);</span>
<a href="#l106.13"></a><span id="l106.13" class="difflineplus">+  Services.obs.addObserver(testObs, DATAMAN_LOADED);</span>
<a href="#l106.14"></a><span id="l106.14"> }</span>
<a href="#l106.15"></a><span id="l106.15"> </span>
<a href="#l106.16"></a><span id="l106.16"> var testFuncs = [</span>
<a href="#l106.17"></a><span id="l106.17"> function test_load_basic(aWin) {</span>
<a href="#l106.18"></a><span id="l106.18">   is(aWin.gDomains.tree.view.selection.count, 1,</span>
<a href="#l106.19"></a><span id="l106.19">     &quot;Step &quot; + testIndex + &quot;: One domain is selected&quot;);</span>
<a href="#l106.20"></a><span id="l106.20">   is(aWin.gDomains.selectedDomain.title, &quot;example.org&quot;,</span>
<a href="#l106.21"></a><span id="l106.21">     &quot;Step &quot; + testIndex + &quot;: The correct domain is selected&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l107.1"></a><span id="l107.1" class="difflineminus">--- a/suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js</span>
<a href="#l107.2"></a><span id="l107.2" class="difflineplus">+++ b/suite/common/downloads/tests/browser/browser_nsISuiteDownloadManagerUI.js</span>
<a href="#l107.3"></a><span id="l107.3" class="difflineat">@@ -62,10 +62,10 @@ function test()</span>
<a href="#l107.4"></a><span id="l107.4">       for (let t of testFuncs)</span>
<a href="#l107.5"></a><span id="l107.5">         t(win);</span>
<a href="#l107.6"></a><span id="l107.6"> </span>
<a href="#l107.7"></a><span id="l107.7">       // finish will be called by the last test that also hides the DM UI</span>
<a href="#l107.8"></a><span id="l107.8">     }</span>
<a href="#l107.9"></a><span id="l107.9">   };</span>
<a href="#l107.10"></a><span id="l107.10"> </span>
<a href="#l107.11"></a><span id="l107.11">   waitForExplicitFinish();</span>
<a href="#l107.12"></a><span id="l107.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l107.13"></a><span id="l107.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l107.14"></a><span id="l107.14"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l108.1"></a><span id="l108.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul</span>
<a href="#l108.2"></a><span id="l108.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_action_keys_respect_focus.xul</span>
<a href="#l108.3"></a><span id="l108.3" class="difflineat">@@ -361,17 +361,17 @@ function test()</span>
<a href="#l108.4"></a><span id="l108.4">           obs.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l108.5"></a><span id="l108.5">           win.close();</span>
<a href="#l108.6"></a><span id="l108.6">           SimpleTest.finish();</span>
<a href="#l108.7"></a><span id="l108.7"> </span>
<a href="#l108.8"></a><span id="l108.8">           break;</span>
<a href="#l108.9"></a><span id="l108.9">       }</span>
<a href="#l108.10"></a><span id="l108.10">   }</span>
<a href="#l108.11"></a><span id="l108.11"> </span>
<a href="#l108.12"></a><span id="l108.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l108.13"></a><span id="l108.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l108.14"></a><span id="l108.14"> </span>
<a href="#l108.15"></a><span id="l108.15">   // Show the Download Manager UI</span>
<a href="#l108.16"></a><span id="l108.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l108.17"></a><span id="l108.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l108.18"></a><span id="l108.18">             .showManager();</span>
<a href="#l108.19"></a><span id="l108.19"> </span>
<a href="#l108.20"></a><span id="l108.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l108.21"></a><span id="l108.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l109.1"></a><span id="l109.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_basic_functionality.xul</span>
<a href="#l109.2"></a><span id="l109.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_basic_functionality.xul</span>
<a href="#l109.3"></a><span id="l109.3" class="difflineat">@@ -265,17 +265,17 @@ function test()</span>
<a href="#l109.4"></a><span id="l109.4">       win.close();</span>
<a href="#l109.5"></a><span id="l109.5">       dmFile.remove(false);</span>
<a href="#l109.6"></a><span id="l109.6">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l109.7"></a><span id="l109.7">       SimpleTest.finish();</span>
<a href="#l109.8"></a><span id="l109.8">     }</span>
<a href="#l109.9"></a><span id="l109.9">   };</span>
<a href="#l109.10"></a><span id="l109.10"> </span>
<a href="#l109.11"></a><span id="l109.11">   // Register with the observer service</span>
<a href="#l109.12"></a><span id="l109.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l109.13"></a><span id="l109.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l109.14"></a><span id="l109.14"> </span>
<a href="#l109.15"></a><span id="l109.15">   // Show the Download Manager UI</span>
<a href="#l109.16"></a><span id="l109.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l109.17"></a><span id="l109.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l109.18"></a><span id="l109.18">             .showManager();</span>
<a href="#l109.19"></a><span id="l109.19"> </span>
<a href="#l109.20"></a><span id="l109.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l109.21"></a><span id="l109.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l110.1"></a><span id="l110.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_cleanup_search.xul</span>
<a href="#l110.2"></a><span id="l110.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_cleanup_search.xul</span>
<a href="#l110.3"></a><span id="l110.3" class="difflineat">@@ -152,17 +152,17 @@ function test()</span>
<a href="#l110.4"></a><span id="l110.4">           win.close();</span>
<a href="#l110.5"></a><span id="l110.5">           obs.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l110.6"></a><span id="l110.6">           SimpleTest.finish();</span>
<a href="#l110.7"></a><span id="l110.7"> </span>
<a href="#l110.8"></a><span id="l110.8">           break;</span>
<a href="#l110.9"></a><span id="l110.9">       }</span>
<a href="#l110.10"></a><span id="l110.10">     }</span>
<a href="#l110.11"></a><span id="l110.11">   };</span>
<a href="#l110.12"></a><span id="l110.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l110.13"></a><span id="l110.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l110.14"></a><span id="l110.14"> </span>
<a href="#l110.15"></a><span id="l110.15">   // Show the Download Manager UI</span>
<a href="#l110.16"></a><span id="l110.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l110.17"></a><span id="l110.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l110.18"></a><span id="l110.18">             .showManager();</span>
<a href="#l110.19"></a><span id="l110.19"> </span>
<a href="#l110.20"></a><span id="l110.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l110.21"></a><span id="l110.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l111.1"></a><span id="l111.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_clear_button_disabled.xul</span>
<a href="#l111.2"></a><span id="l111.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_clear_button_disabled.xul</span>
<a href="#l111.3"></a><span id="l111.3" class="difflineat">@@ -183,17 +183,17 @@ function runTest()</span>
<a href="#l111.4"></a><span id="l111.4">           db.executeSimpleSQL(&quot;DELETE FROM moz_downloads&quot;);</span>
<a href="#l111.5"></a><span id="l111.5">           SimpleTest.finish();</span>
<a href="#l111.6"></a><span id="l111.6"> </span>
<a href="#l111.7"></a><span id="l111.7">           break;</span>
<a href="#l111.8"></a><span id="l111.8">       }</span>
<a href="#l111.9"></a><span id="l111.9">     }</span>
<a href="#l111.10"></a><span id="l111.10">   };</span>
<a href="#l111.11"></a><span id="l111.11"> </span>
<a href="#l111.12"></a><span id="l111.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l111.13"></a><span id="l111.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l111.14"></a><span id="l111.14"> </span>
<a href="#l111.15"></a><span id="l111.15">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l111.16"></a><span id="l111.16">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l111.17"></a><span id="l111.17">             .showManager();</span>
<a href="#l111.18"></a><span id="l111.18"> </span>
<a href="#l111.19"></a><span id="l111.19">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l111.20"></a><span id="l111.20"> }</span>
<a href="#l111.21"></a><span id="l111.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l112.1"></a><span id="l112.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_close_download_manager.xul</span>
<a href="#l112.2"></a><span id="l112.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_close_download_manager.xul</span>
<a href="#l112.3"></a><span id="l112.3" class="difflineat">@@ -96,17 +96,17 @@ function runTest()</span>
<a href="#l112.4"></a><span id="l112.4">       // if we add more ways to close DM with keys, add more cases here</span>
<a href="#l112.5"></a><span id="l112.5">       switch(testPhase++) {</span>
<a href="#l112.6"></a><span id="l112.6">         case 0:</span>
<a href="#l112.7"></a><span id="l112.7">           obs.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l112.8"></a><span id="l112.8">           testCloseDMWithAccelKey(win);</span>
<a href="#l112.9"></a><span id="l112.9">       }</span>
<a href="#l112.10"></a><span id="l112.10">   }</span>
<a href="#l112.11"></a><span id="l112.11"> </span>
<a href="#l112.12"></a><span id="l112.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l112.13"></a><span id="l112.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l112.14"></a><span id="l112.14"> </span>
<a href="#l112.15"></a><span id="l112.15">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l112.16"></a><span id="l112.16">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l112.17"></a><span id="l112.17">             .showManager();</span>
<a href="#l112.18"></a><span id="l112.18"> </span>
<a href="#l112.19"></a><span id="l112.19">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l112.20"></a><span id="l112.20"> }</span>
<a href="#l112.21"></a><span id="l112.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l113.1"></a><span id="l113.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_delete_key_cancels.xul</span>
<a href="#l113.2"></a><span id="l113.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_delete_key_cancels.xul</span>
<a href="#l113.3"></a><span id="l113.3" class="difflineat">@@ -183,17 +183,17 @@ function test()</span>
<a href="#l113.4"></a><span id="l113.4"> </span>
<a href="#l113.5"></a><span id="l113.5">       addDownload();</span>
<a href="#l113.6"></a><span id="l113.6">       // we need to focus the download as well</span>
<a href="#l113.7"></a><span id="l113.7">       doc.getElementById(&quot;downloadTree&quot;).view.selection.select(0);</span>
<a href="#l113.8"></a><span id="l113.8">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l113.9"></a><span id="l113.9">   }</span>
<a href="#l113.10"></a><span id="l113.10"> </span>
<a href="#l113.11"></a><span id="l113.11">   // Register with the observer service</span>
<a href="#l113.12"></a><span id="l113.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l113.13"></a><span id="l113.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l113.14"></a><span id="l113.14"> </span>
<a href="#l113.15"></a><span id="l113.15">   // Show the Download Manager UI</span>
<a href="#l113.16"></a><span id="l113.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l113.17"></a><span id="l113.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l113.18"></a><span id="l113.18">             .showManager();</span>
<a href="#l113.19"></a><span id="l113.19"> </span>
<a href="#l113.20"></a><span id="l113.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l113.21"></a><span id="l113.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l114.1"></a><span id="l114.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_delete_key_removes.xul</span>
<a href="#l114.2"></a><span id="l114.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_delete_key_removes.xul</span>
<a href="#l114.3"></a><span id="l114.3" class="difflineat">@@ -181,17 +181,17 @@ function test()</span>
<a href="#l114.4"></a><span id="l114.4"> </span>
<a href="#l114.5"></a><span id="l114.5">       win.close();</span>
<a href="#l114.6"></a><span id="l114.6">       dmFile.remove(false);</span>
<a href="#l114.7"></a><span id="l114.7">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l114.8"></a><span id="l114.8">       SimpleTest.finish();</span>
<a href="#l114.9"></a><span id="l114.9">   }</span>
<a href="#l114.10"></a><span id="l114.10"> </span>
<a href="#l114.11"></a><span id="l114.11">   // Register with the observer service</span>
<a href="#l114.12"></a><span id="l114.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l114.13"></a><span id="l114.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l114.14"></a><span id="l114.14"> </span>
<a href="#l114.15"></a><span id="l114.15">   // Show the Download Manager UI</span>
<a href="#l114.16"></a><span id="l114.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l114.17"></a><span id="l114.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l114.18"></a><span id="l114.18">             .showManager();</span>
<a href="#l114.19"></a><span id="l114.19"> </span>
<a href="#l114.20"></a><span id="l114.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l114.21"></a><span id="l114.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l115.1"></a><span id="l115.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_drag.xul</span>
<a href="#l115.2"></a><span id="l115.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_drag.xul</span>
<a href="#l115.3"></a><span id="l115.3" class="difflineat">@@ -185,17 +185,17 @@ function test()</span>
<a href="#l115.4"></a><span id="l115.4">       win.close();</span>
<a href="#l115.5"></a><span id="l115.5">       realFile.remove(false);</span>
<a href="#l115.6"></a><span id="l115.6">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l115.7"></a><span id="l115.7">       SimpleTest.finish();</span>
<a href="#l115.8"></a><span id="l115.8">     }</span>
<a href="#l115.9"></a><span id="l115.9">   };</span>
<a href="#l115.10"></a><span id="l115.10"> </span>
<a href="#l115.11"></a><span id="l115.11">   // Register with the observer service</span>
<a href="#l115.12"></a><span id="l115.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l115.13"></a><span id="l115.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l115.14"></a><span id="l115.14"> </span>
<a href="#l115.15"></a><span id="l115.15">   // Show the Download Manager UI</span>
<a href="#l115.16"></a><span id="l115.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l115.17"></a><span id="l115.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l115.18"></a><span id="l115.18">             .showManager();</span>
<a href="#l115.19"></a><span id="l115.19"> </span>
<a href="#l115.20"></a><span id="l115.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l115.21"></a><span id="l115.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l116.1"></a><span id="l116.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul</span>
<a href="#l116.2"></a><span id="l116.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_enter_dblclick_opens.xul</span>
<a href="#l116.3"></a><span id="l116.3" class="difflineat">@@ -228,17 +228,17 @@ function test()</span>
<a href="#l116.4"></a><span id="l116.4"> </span>
<a href="#l116.5"></a><span id="l116.5">       // add second download: FINISHED state, actually created</span>
<a href="#l116.6"></a><span id="l116.6">       // (checked by cmd_open)</span>
<a href="#l116.7"></a><span id="l116.7">       addDownload();</span>
<a href="#l116.8"></a><span id="l116.8"> </span>
<a href="#l116.9"></a><span id="l116.9">       obs.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l116.10"></a><span id="l116.10">   }</span>
<a href="#l116.11"></a><span id="l116.11"> </span>
<a href="#l116.12"></a><span id="l116.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l116.13"></a><span id="l116.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l116.14"></a><span id="l116.14"> </span>
<a href="#l116.15"></a><span id="l116.15">   // Show the Download Manager UI</span>
<a href="#l116.16"></a><span id="l116.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l116.17"></a><span id="l116.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l116.18"></a><span id="l116.18">             .showManager();</span>
<a href="#l116.19"></a><span id="l116.19"> </span>
<a href="#l116.20"></a><span id="l116.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l116.21"></a><span id="l116.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l117.1"></a><span id="l117.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_multi_select.xul</span>
<a href="#l117.2"></a><span id="l117.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_multi_select.xul</span>
<a href="#l117.3"></a><span id="l117.3" class="difflineat">@@ -185,17 +185,17 @@ function test()</span>
<a href="#l117.4"></a><span id="l117.4">       }</span>
<a href="#l117.5"></a><span id="l117.5">     }</span>
<a href="#l117.6"></a><span id="l117.6"> </span>
<a href="#l117.7"></a><span id="l117.7">     // We're done!</span>
<a href="#l117.8"></a><span id="l117.8">     win.close();</span>
<a href="#l117.9"></a><span id="l117.9">     obs.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l117.10"></a><span id="l117.10">     SimpleTest.finish();</span>
<a href="#l117.11"></a><span id="l117.11">   }</span>
<a href="#l117.12"></a><span id="l117.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l117.13"></a><span id="l117.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l117.14"></a><span id="l117.14"> </span>
<a href="#l117.15"></a><span id="l117.15">   // Show the Download Manager UI</span>
<a href="#l117.16"></a><span id="l117.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l117.17"></a><span id="l117.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l117.18"></a><span id="l117.18">             .showManager();</span>
<a href="#l117.19"></a><span id="l117.19"> </span>
<a href="#l117.20"></a><span id="l117.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l117.21"></a><span id="l117.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l118.1"></a><span id="l118.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_multiword_search.xul</span>
<a href="#l118.2"></a><span id="l118.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_multiword_search.xul</span>
<a href="#l118.3"></a><span id="l118.3" class="difflineat">@@ -153,17 +153,17 @@ function test()</span>
<a href="#l118.4"></a><span id="l118.4">           win.close();</span>
<a href="#l118.5"></a><span id="l118.5">           obs.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l118.6"></a><span id="l118.6">           SimpleTest.finish();</span>
<a href="#l118.7"></a><span id="l118.7"> </span>
<a href="#l118.8"></a><span id="l118.8">           break;</span>
<a href="#l118.9"></a><span id="l118.9">       }</span>
<a href="#l118.10"></a><span id="l118.10">     }</span>
<a href="#l118.11"></a><span id="l118.11">   };</span>
<a href="#l118.12"></a><span id="l118.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l118.13"></a><span id="l118.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l118.14"></a><span id="l118.14"> </span>
<a href="#l118.15"></a><span id="l118.15">   // Show the Download Manager UI</span>
<a href="#l118.16"></a><span id="l118.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l118.17"></a><span id="l118.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l118.18"></a><span id="l118.18">             .showManager();</span>
<a href="#l118.19"></a><span id="l118.19"> </span>
<a href="#l118.20"></a><span id="l118.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l118.21"></a><span id="l118.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l119.1"></a><span id="l119.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_open_properties.xul</span>
<a href="#l119.2"></a><span id="l119.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_open_properties.xul</span>
<a href="#l119.3"></a><span id="l119.3" class="difflineat">@@ -179,17 +179,17 @@ function runTest()</span>
<a href="#l119.4"></a><span id="l119.4">           db.executeSimpleSQL(&quot;DELETE FROM moz_downloads&quot;);</span>
<a href="#l119.5"></a><span id="l119.5">           SimpleTest.finish();</span>
<a href="#l119.6"></a><span id="l119.6"> </span>
<a href="#l119.7"></a><span id="l119.7">           break;</span>
<a href="#l119.8"></a><span id="l119.8">       }</span>
<a href="#l119.9"></a><span id="l119.9">     }</span>
<a href="#l119.10"></a><span id="l119.10">   };</span>
<a href="#l119.11"></a><span id="l119.11"> </span>
<a href="#l119.12"></a><span id="l119.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l119.13"></a><span id="l119.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l119.14"></a><span id="l119.14"> </span>
<a href="#l119.15"></a><span id="l119.15">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l119.16"></a><span id="l119.16">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l119.17"></a><span id="l119.17">             .showManager();</span>
<a href="#l119.18"></a><span id="l119.18"> </span>
<a href="#l119.19"></a><span id="l119.19">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l119.20"></a><span id="l119.20"> }</span>
<a href="#l119.21"></a><span id="l119.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l120.1"></a><span id="l120.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul</span>
<a href="#l120.2"></a><span id="l120.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_removeDownload_updates_ui.xul</span>
<a href="#l120.3"></a><span id="l120.3" class="difflineat">@@ -132,17 +132,17 @@ function test()</span>
<a href="#l120.4"></a><span id="l120.4">       win.close();</span>
<a href="#l120.5"></a><span id="l120.5">       dmFile.remove(false);</span>
<a href="#l120.6"></a><span id="l120.6">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l120.7"></a><span id="l120.7">       SimpleTest.finish();</span>
<a href="#l120.8"></a><span id="l120.8">     }</span>
<a href="#l120.9"></a><span id="l120.9">   }</span>
<a href="#l120.10"></a><span id="l120.10"> </span>
<a href="#l120.11"></a><span id="l120.11">   // Register with the observer service</span>
<a href="#l120.12"></a><span id="l120.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l120.13"></a><span id="l120.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l120.14"></a><span id="l120.14"> </span>
<a href="#l120.15"></a><span id="l120.15">   // Show the Download Manager UI</span>
<a href="#l120.16"></a><span id="l120.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l120.17"></a><span id="l120.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l120.18"></a><span id="l120.18">             .showManager();</span>
<a href="#l120.19"></a><span id="l120.19"> </span>
<a href="#l120.20"></a><span id="l120.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l120.21"></a><span id="l120.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l121.1"></a><span id="l121.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_search_clearlist.xul</span>
<a href="#l121.2"></a><span id="l121.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_search_clearlist.xul</span>
<a href="#l121.3"></a><span id="l121.3" class="difflineat">@@ -148,17 +148,17 @@ function test()</span>
<a href="#l121.4"></a><span id="l121.4">           win.close();</span>
<a href="#l121.5"></a><span id="l121.5">           obs.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l121.6"></a><span id="l121.6">           SimpleTest.finish();</span>
<a href="#l121.7"></a><span id="l121.7"> </span>
<a href="#l121.8"></a><span id="l121.8">           break;</span>
<a href="#l121.9"></a><span id="l121.9">       }</span>
<a href="#l121.10"></a><span id="l121.10">     }</span>
<a href="#l121.11"></a><span id="l121.11">   };</span>
<a href="#l121.12"></a><span id="l121.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l121.13"></a><span id="l121.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l121.14"></a><span id="l121.14"> </span>
<a href="#l121.15"></a><span id="l121.15">   // Show the Download Manager UI</span>
<a href="#l121.16"></a><span id="l121.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l121.17"></a><span id="l121.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l121.18"></a><span id="l121.18">             .showManager();</span>
<a href="#l121.19"></a><span id="l121.19"> </span>
<a href="#l121.20"></a><span id="l121.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l121.21"></a><span id="l121.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l122.1"></a><span id="l122.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_search_keys.xul</span>
<a href="#l122.2"></a><span id="l122.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_search_keys.xul</span>
<a href="#l122.3"></a><span id="l122.3" class="difflineat">@@ -107,17 +107,17 @@ function test()</span>
<a href="#l122.4"></a><span id="l122.4">         t(win);</span>
<a href="#l122.5"></a><span id="l122.5"> </span>
<a href="#l122.6"></a><span id="l122.6">       win.close();</span>
<a href="#l122.7"></a><span id="l122.7">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l122.8"></a><span id="l122.8">       SimpleTest.finish();</span>
<a href="#l122.9"></a><span id="l122.9">   }</span>
<a href="#l122.10"></a><span id="l122.10"> </span>
<a href="#l122.11"></a><span id="l122.11">   // Register with the observer service</span>
<a href="#l122.12"></a><span id="l122.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l122.13"></a><span id="l122.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l122.14"></a><span id="l122.14"> </span>
<a href="#l122.15"></a><span id="l122.15">   // Show the Download Manager UI</span>
<a href="#l122.16"></a><span id="l122.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l122.17"></a><span id="l122.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l122.18"></a><span id="l122.18">             .showManager();</span>
<a href="#l122.19"></a><span id="l122.19"> </span>
<a href="#l122.20"></a><span id="l122.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l122.21"></a><span id="l122.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l123.1"></a><span id="l123.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_select_all.xul</span>
<a href="#l123.2"></a><span id="l123.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_select_all.xul</span>
<a href="#l123.3"></a><span id="l123.3" class="difflineat">@@ -126,17 +126,17 @@ function test()</span>
<a href="#l123.4"></a><span id="l123.4">       is(downloadView.rowCount, 0, &quot;All downloads removed&quot;);</span>
<a href="#l123.5"></a><span id="l123.5"> </span>
<a href="#l123.6"></a><span id="l123.6">       // We're done!</span>
<a href="#l123.7"></a><span id="l123.7">       win.close();</span>
<a href="#l123.8"></a><span id="l123.8">       obs.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l123.9"></a><span id="l123.9">       SimpleTest.finish();</span>
<a href="#l123.10"></a><span id="l123.10">   }</span>
<a href="#l123.11"></a><span id="l123.11"> </span>
<a href="#l123.12"></a><span id="l123.12" class="difflineminus">-  obs.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l123.13"></a><span id="l123.13" class="difflineplus">+  obs.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l123.14"></a><span id="l123.14"> </span>
<a href="#l123.15"></a><span id="l123.15">   // Show the Download Manager UI</span>
<a href="#l123.16"></a><span id="l123.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l123.17"></a><span id="l123.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l123.18"></a><span id="l123.18">             .showManager();</span>
<a href="#l123.19"></a><span id="l123.19"> </span>
<a href="#l123.20"></a><span id="l123.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l123.21"></a><span id="l123.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l124.1"></a><span id="l124.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul</span>
<a href="#l124.2"></a><span id="l124.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_space_key_pauses_resumes.xul</span>
<a href="#l124.3"></a><span id="l124.3" class="difflineat">@@ -204,17 +204,17 @@ function test()</span>
<a href="#l124.4"></a><span id="l124.4"> </span>
<a href="#l124.5"></a><span id="l124.5">       addDownload();</span>
<a href="#l124.6"></a><span id="l124.6">       // we need to focus the download as well</span>
<a href="#l124.7"></a><span id="l124.7">       doc.getElementById(&quot;downloadTree&quot;).view.selection.select(0);</span>
<a href="#l124.8"></a><span id="l124.8">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l124.9"></a><span id="l124.9">   }</span>
<a href="#l124.10"></a><span id="l124.10"> </span>
<a href="#l124.11"></a><span id="l124.11">   // Register with the observer service</span>
<a href="#l124.12"></a><span id="l124.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l124.13"></a><span id="l124.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l124.14"></a><span id="l124.14"> </span>
<a href="#l124.15"></a><span id="l124.15">   // Show the Download Manager UI</span>
<a href="#l124.16"></a><span id="l124.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l124.17"></a><span id="l124.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l124.18"></a><span id="l124.18">             .showManager();</span>
<a href="#l124.19"></a><span id="l124.19"> </span>
<a href="#l124.20"></a><span id="l124.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l124.21"></a><span id="l124.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l125.1"></a><span id="l125.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_space_key_retries.xul</span>
<a href="#l125.2"></a><span id="l125.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_space_key_retries.xul</span>
<a href="#l125.3"></a><span id="l125.3" class="difflineat">@@ -181,17 +181,17 @@ function test()</span>
<a href="#l125.4"></a><span id="l125.4"> </span>
<a href="#l125.5"></a><span id="l125.5">       addDownload();</span>
<a href="#l125.6"></a><span id="l125.6">       // we need to focus the download as well</span>
<a href="#l125.7"></a><span id="l125.7">       doc.getElementById(&quot;downloadTree&quot;).view.selection.select(0);</span>
<a href="#l125.8"></a><span id="l125.8">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l125.9"></a><span id="l125.9">   }</span>
<a href="#l125.10"></a><span id="l125.10"> </span>
<a href="#l125.11"></a><span id="l125.11">   // Register with the observer service</span>
<a href="#l125.12"></a><span id="l125.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l125.13"></a><span id="l125.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l125.14"></a><span id="l125.14"> </span>
<a href="#l125.15"></a><span id="l125.15">   // Show the Download Manager UI</span>
<a href="#l125.16"></a><span id="l125.16">   Components.classes[&quot;@mozilla.org/download-manager-ui;1&quot;]</span>
<a href="#l125.17"></a><span id="l125.17">             .getService(Components.interfaces.nsISuiteDownloadManagerUI)</span>
<a href="#l125.18"></a><span id="l125.18">             .showManager();</span>
<a href="#l125.19"></a><span id="l125.19"> </span>
<a href="#l125.20"></a><span id="l125.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l125.21"></a><span id="l125.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l126.1"></a><span id="l126.1" class="difflineminus">--- a/suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul</span>
<a href="#l126.2"></a><span id="l126.2" class="difflineplus">+++ b/suite/common/downloads/tests/chrome/test_ui_stays_open_on_alert_clickback.xul</span>
<a href="#l126.3"></a><span id="l126.3" class="difflineat">@@ -93,17 +93,17 @@ function test()</span>
<a href="#l126.4"></a><span id="l126.4">       win.close();</span>
<a href="#l126.5"></a><span id="l126.5">       setClose(false);</span>
<a href="#l126.6"></a><span id="l126.6">       os.removeObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l126.7"></a><span id="l126.7">       SimpleTest.finish();</span>
<a href="#l126.8"></a><span id="l126.8">     }</span>
<a href="#l126.9"></a><span id="l126.9">   };</span>
<a href="#l126.10"></a><span id="l126.10"> </span>
<a href="#l126.11"></a><span id="l126.11">   // Register with the observer service</span>
<a href="#l126.12"></a><span id="l126.12" class="difflineminus">-  os.addObserver(testObs, DLMGR_UI_DONE, false);</span>
<a href="#l126.13"></a><span id="l126.13" class="difflineplus">+  os.addObserver(testObs, DLMGR_UI_DONE);</span>
<a href="#l126.14"></a><span id="l126.14"> </span>
<a href="#l126.15"></a><span id="l126.15">   // Simulate an alert click with pref set to true</span>
<a href="#l126.16"></a><span id="l126.16">   setClose(true);</span>
<a href="#l126.17"></a><span id="l126.17">   dm.QueryInterface(Components.interfaces.nsIObserver)</span>
<a href="#l126.18"></a><span id="l126.18">     .observe(null, &quot;alertclickcallback&quot;, null);</span>
<a href="#l126.19"></a><span id="l126.19"> </span>
<a href="#l126.20"></a><span id="l126.20">   SimpleTest.waitForExplicitFinish();</span>
<a href="#l126.21"></a><span id="l126.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l127.1"></a><span id="l127.1" class="difflineminus">--- a/suite/common/history/tree.xml</span>
<a href="#l127.2"></a><span id="l127.2" class="difflineplus">+++ b/suite/common/history/tree.xml</span>
<a href="#l127.3"></a><span id="l127.3" class="difflineat">@@ -99,17 +99,17 @@</span>
<a href="#l127.4"></a><span id="l127.4">           var result = PlacesUtils.history.executeQueries(queries, queries.length,</span>
<a href="#l127.5"></a><span id="l127.5">                                                           options);</span>
<a href="#l127.6"></a><span id="l127.6"> </span>
<a href="#l127.7"></a><span id="l127.7">           var treeView = new PlacesTreeView();</span>
<a href="#l127.8"></a><span id="l127.8"> </span>
<a href="#l127.9"></a><span id="l127.9">           // Observer removal is done within the view itself. When the tree</span>
<a href="#l127.10"></a><span id="l127.10">           // goes away, treeboxobject calls view.setTree(null), which then</span>
<a href="#l127.11"></a><span id="l127.11">           // calls removeObserver.</span>
<a href="#l127.12"></a><span id="l127.12" class="difflineminus">-          result.addObserver(treeView, false);</span>
<a href="#l127.13"></a><span id="l127.13" class="difflineplus">+          result.addObserver(treeView);</span>
<a href="#l127.14"></a><span id="l127.14">           this.view = treeView;</span>
<a href="#l127.15"></a><span id="l127.15">           if (!this._controller) {</span>
<a href="#l127.16"></a><span id="l127.16">             this._controller = new PlacesController(this);</span>
<a href="#l127.17"></a><span id="l127.17">             this.controllers.appendController(this._controller);</span>
<a href="#l127.18"></a><span id="l127.18">           }</span>
<a href="#l127.19"></a><span id="l127.19">         ]]&gt;&lt;/body&gt;</span>
<a href="#l127.20"></a><span id="l127.20">       &lt;/method&gt;</span>
<a href="#l127.21"></a><span id="l127.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l128.1"></a><span id="l128.1" class="difflineminus">--- a/suite/common/permissions/cookieViewer.js</span>
<a href="#l128.2"></a><span id="l128.2" class="difflineplus">+++ b/suite/common/permissions/cookieViewer.js</span>
<a href="#l128.3"></a><span id="l128.3" class="difflineat">@@ -46,18 +46,18 @@ function Startup() {</span>
<a href="#l128.4"></a><span id="l128.4">   // load in the cookies and permissions</span>
<a href="#l128.5"></a><span id="l128.5">   cookiesTree = document.getElementById(&quot;cookiesTree&quot;);</span>
<a href="#l128.6"></a><span id="l128.6">   permissionsTree = document.getElementById(&quot;permissionsTree&quot;);</span>
<a href="#l128.7"></a><span id="l128.7">   loadCookies();</span>
<a href="#l128.8"></a><span id="l128.8">   loadPermissions();</span>
<a href="#l128.9"></a><span id="l128.9"> </span>
<a href="#l128.10"></a><span id="l128.10">   // be prepared to reload the display if anything changes</span>
<a href="#l128.11"></a><span id="l128.11">   kObserverService = Components.classes[&quot;@mozilla.org/observer-service;1&quot;].getService(Components.interfaces.nsIObserverService);</span>
<a href="#l128.12"></a><span id="l128.12" class="difflineminus">-  kObserverService.addObserver(cookieReloadDisplay, &quot;cookie-changed&quot;, false);</span>
<a href="#l128.13"></a><span id="l128.13" class="difflineminus">-  kObserverService.addObserver(cookieReloadDisplay, &quot;perm-changed&quot;, false);</span>
<a href="#l128.14"></a><span id="l128.14" class="difflineplus">+  kObserverService.addObserver(cookieReloadDisplay, &quot;cookie-changed&quot;);</span>
<a href="#l128.15"></a><span id="l128.15" class="difflineplus">+  kObserverService.addObserver(cookieReloadDisplay, &quot;perm-changed&quot;);</span>
<a href="#l128.16"></a><span id="l128.16"> </span>
<a href="#l128.17"></a><span id="l128.17">   // filter the table if requested by caller</span>
<a href="#l128.18"></a><span id="l128.18">   if (window.arguments &amp;&amp;</span>
<a href="#l128.19"></a><span id="l128.19">       window.arguments[0] &amp;&amp;</span>
<a href="#l128.20"></a><span id="l128.20">       window.arguments[0].filterString)</span>
<a href="#l128.21"></a><span id="l128.21">     setFilter(window.arguments[0].filterString);</span>
<a href="#l128.22"></a><span id="l128.22"> </span>
<a href="#l128.23"></a><span id="l128.23">   document.getElementById(&quot;filter&quot;).focus();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l129.1"></a><span id="l129.1" class="difflineminus">--- a/suite/common/places/browserPlacesViews.js</span>
<a href="#l129.2"></a><span id="l129.2" class="difflineplus">+++ b/suite/common/places/browserPlacesViews.js</span>
<a href="#l129.3"></a><span id="l129.3" class="difflineat">@@ -47,17 +47,17 @@ PlacesViewBase.prototype = {</span>
<a href="#l129.4"></a><span id="l129.4">     let history = PlacesUtils.history;</span>
<a href="#l129.5"></a><span id="l129.5">     let queries = { }, options = { };</span>
<a href="#l129.6"></a><span id="l129.6">     history.queryStringToQueries(val, queries, { }, options);</span>
<a href="#l129.7"></a><span id="l129.7">     if (!queries.value.length)</span>
<a href="#l129.8"></a><span id="l129.8">       queries.value = [history.getNewQuery()];</span>
<a href="#l129.9"></a><span id="l129.9"> </span>
<a href="#l129.10"></a><span id="l129.10">     let result = history.executeQueries(queries.value, queries.value.length,</span>
<a href="#l129.11"></a><span id="l129.11">                                         options.value);</span>
<a href="#l129.12"></a><span id="l129.12" class="difflineminus">-    result.addObserver(this, false);</span>
<a href="#l129.13"></a><span id="l129.13" class="difflineplus">+    result.addObserver(this);</span>
<a href="#l129.14"></a><span id="l129.14">     return val;</span>
<a href="#l129.15"></a><span id="l129.15">   },</span>
<a href="#l129.16"></a><span id="l129.16"> </span>
<a href="#l129.17"></a><span id="l129.17">   _result: null,</span>
<a href="#l129.18"></a><span id="l129.18">   get result() {</span>
<a href="#l129.19"></a><span id="l129.19">     return this._result;</span>
<a href="#l129.20"></a><span id="l129.20">   },</span>
<a href="#l129.21"></a><span id="l129.21">   set result(val) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l130.1"></a><span id="l130.1" class="difflineminus">--- a/suite/common/places/nsPlacesAutoComplete.js</span>
<a href="#l130.2"></a><span id="l130.2" class="difflineplus">+++ b/suite/common/places/nsPlacesAutoComplete.js</span>
<a href="#l130.3"></a><span id="l130.3" class="difflineat">@@ -463,17 +463,17 @@ function nsPlacesAutoComplete()</span>
<a href="#l130.4"></a><span id="l130.4">                 getService(Ci.nsIPrefService).</span>
<a href="#l130.5"></a><span id="l130.5">                 getBranch(kBrowserUrlbarBranch);</span>
<a href="#l130.6"></a><span id="l130.6">   this._syncEnabledPref();</span>
<a href="#l130.7"></a><span id="l130.7">   this._loadPrefs(true);</span>
<a href="#l130.8"></a><span id="l130.8"> </span>
<a href="#l130.9"></a><span id="l130.9">   // register observers</span>
<a href="#l130.10"></a><span id="l130.10">   this._os = Cc[&quot;@mozilla.org/observer-service;1&quot;].</span>
<a href="#l130.11"></a><span id="l130.11">               getService(Ci.nsIObserverService);</span>
<a href="#l130.12"></a><span id="l130.12" class="difflineminus">-  this._os.addObserver(this, kTopicShutdown, false);</span>
<a href="#l130.13"></a><span id="l130.13" class="difflineplus">+  this._os.addObserver(this, kTopicShutdown);</span>
<a href="#l130.14"></a><span id="l130.14"> </span>
<a href="#l130.15"></a><span id="l130.15"> }</span>
<a href="#l130.16"></a><span id="l130.16"> </span>
<a href="#l130.17"></a><span id="l130.17"> nsPlacesAutoComplete.prototype = {</span>
<a href="#l130.18"></a><span id="l130.18">   //////////////////////////////////////////////////////////////////////////////</span>
<a href="#l130.19"></a><span id="l130.19">   //// nsIAutoCompleteSearch</span>
<a href="#l130.20"></a><span id="l130.20"> </span>
<a href="#l130.21"></a><span id="l130.21">   startSearch: function PAC_startSearch(aSearchString, aSearchParam,</span>
<a href="#l130.22"></a><span id="l130.22" class="difflineat">@@ -915,17 +915,17 @@ nsPlacesAutoComplete.prototype = {</span>
<a href="#l130.23"></a><span id="l130.23">     // Validate matchBehavior; default to MATCH_BOUNDARY_ANYWHERE.</span>
<a href="#l130.24"></a><span id="l130.24">     if (this._matchBehavior != MATCH_ANYWHERE &amp;&amp;</span>
<a href="#l130.25"></a><span id="l130.25">         this._matchBehavior != MATCH_BOUNDARY &amp;&amp;</span>
<a href="#l130.26"></a><span id="l130.26">         this._matchBehavior != MATCH_BEGINNING) {</span>
<a href="#l130.27"></a><span id="l130.27">       this._matchBehavior = MATCH_BOUNDARY_ANYWHERE;</span>
<a href="#l130.28"></a><span id="l130.28">     }</span>
<a href="#l130.29"></a><span id="l130.29">     // register observer</span>
<a href="#l130.30"></a><span id="l130.30">     if (aRegisterObserver) {</span>
<a href="#l130.31"></a><span id="l130.31" class="difflineminus">-      this._prefs.addObserver(&quot;&quot;, this, false);</span>
<a href="#l130.32"></a><span id="l130.32" class="difflineplus">+      this._prefs.addObserver(&quot;&quot;, this);</span>
<a href="#l130.33"></a><span id="l130.33">     }</span>
<a href="#l130.34"></a><span id="l130.34">   },</span>
<a href="#l130.35"></a><span id="l130.35"> </span>
<a href="#l130.36"></a><span id="l130.36">   /**</span>
<a href="#l130.37"></a><span id="l130.37">    * Given an array of tokens, this function determines which query should be</span>
<a href="#l130.38"></a><span id="l130.38">    * ran.  It also removes any special search tokens.</span>
<a href="#l130.39"></a><span id="l130.39">    *</span>
<a href="#l130.40"></a><span id="l130.40">    * @param aTokens</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l131.1"></a><span id="l131.1" class="difflineminus">--- a/suite/common/places/tests/browser/browser_library_views_liveupdate.js</span>
<a href="#l131.2"></a><span id="l131.2" class="difflineplus">+++ b/suite/common/places/tests/browser/browser_library_views_liveupdate.js</span>
<a href="#l131.3"></a><span id="l131.3" class="difflineat">@@ -30,18 +30,18 @@ function test() {</span>
<a href="#l131.4"></a><span id="l131.4"> }</span>
<a href="#l131.5"></a><span id="l131.5"> </span>
<a href="#l131.6"></a><span id="l131.6"> /**</span>
<a href="#l131.7"></a><span id="l131.7">  * Adds bookmarks observer, and executes a bunch of bookmarks operations.</span>
<a href="#l131.8"></a><span id="l131.8">  */</span>
<a href="#l131.9"></a><span id="l131.9"> function startTest() {</span>
<a href="#l131.10"></a><span id="l131.10">   var bs = PlacesUtils.bookmarks;</span>
<a href="#l131.11"></a><span id="l131.11">   // Add observers.</span>
<a href="#l131.12"></a><span id="l131.12" class="difflineminus">-  bs.addObserver(bookmarksObserver, false);</span>
<a href="#l131.13"></a><span id="l131.13" class="difflineminus">-  PlacesUtils.annotations.addObserver(bookmarksObserver, false);</span>
<a href="#l131.14"></a><span id="l131.14" class="difflineplus">+  bs.addObserver(bookmarksObserver);</span>
<a href="#l131.15"></a><span id="l131.15" class="difflineplus">+  PlacesUtils.annotations.addObserver(bookmarksObserver);</span>
<a href="#l131.16"></a><span id="l131.16">   var addedBookmarks = [];</span>
<a href="#l131.17"></a><span id="l131.17"> </span>
<a href="#l131.18"></a><span id="l131.18">   // MENU</span>
<a href="#l131.19"></a><span id="l131.19">   ok(true, &quot;*** Acting on menu bookmarks&quot;);</span>
<a href="#l131.20"></a><span id="l131.20">   var id = bs.insertBookmark(bs.bookmarksMenuFolder,</span>
<a href="#l131.21"></a><span id="l131.21">                              PlacesUtils._uri(&quot;http://bm1.mozilla.org/&quot;),</span>
<a href="#l131.22"></a><span id="l131.22">                              bs.DEFAULT_INDEX,</span>
<a href="#l131.23"></a><span id="l131.23">                              &quot;bm1&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l132.1"></a><span id="l132.1" class="difflineminus">--- a/suite/common/places/tests/browser/head.js</span>
<a href="#l132.2"></a><span id="l132.2" class="difflineplus">+++ b/suite/common/places/tests/browser/head.js</span>
<a href="#l132.3"></a><span id="l132.3" class="difflineat">@@ -28,17 +28,17 @@ function openLibrary(callback) {</span>
<a href="#l132.4"></a><span id="l132.4">  *</span>
<a href="#l132.5"></a><span id="l132.5">  * @param aCallback</span>
<a href="#l132.6"></a><span id="l132.6">  *        Function to be called when done.</span>
<a href="#l132.7"></a><span id="l132.7">  */</span>
<a href="#l132.8"></a><span id="l132.8"> function waitForClearHistory(aCallback) {</span>
<a href="#l132.9"></a><span id="l132.9">   Services.obs.addObserver(function observeCH(aSubject, aTopic, aData) {</span>
<a href="#l132.10"></a><span id="l132.10">     Services.obs.removeObserver(observeCH, PlacesUtils.TOPIC_EXPIRATION_FINISHED);</span>
<a href="#l132.11"></a><span id="l132.11">     aCallback();</span>
<a href="#l132.12"></a><span id="l132.12" class="difflineminus">-  }, PlacesUtils.TOPIC_EXPIRATION_FINISHED, false);</span>
<a href="#l132.13"></a><span id="l132.13" class="difflineplus">+  }, PlacesUtils.TOPIC_EXPIRATION_FINISHED);</span>
<a href="#l132.14"></a><span id="l132.14">   PlacesUtils.bhistory.removeAllPages();</span>
<a href="#l132.15"></a><span id="l132.15"> }</span>
<a href="#l132.16"></a><span id="l132.16"> </span>
<a href="#l132.17"></a><span id="l132.17"> /**</span>
<a href="#l132.18"></a><span id="l132.18">  * Asynchronously adds visits to a page, invoking a callback function when done.</span>
<a href="#l132.19"></a><span id="l132.19">  *</span>
<a href="#l132.20"></a><span id="l132.20">  * @param aPlaceInfo</span>
<a href="#l132.21"></a><span id="l132.21">  *        Can be an nsIURI, in such a case a single LINK visit will be added.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l133.1"></a><span id="l133.1" class="difflineminus">--- a/suite/common/places/tests/chrome/test_bug549491.xul</span>
<a href="#l133.2"></a><span id="l133.2" class="difflineplus">+++ b/suite/common/places/tests/chrome/test_bug549491.xul</span>
<a href="#l133.3"></a><span id="l133.3" class="difflineat">@@ -88,16 +88,16 @@</span>
<a href="#l133.4"></a><span id="l133.4">     function waitForClearHistory(aCallback) {</span>
<a href="#l133.5"></a><span id="l133.5">       const TOPIC_EXPIRATION_FINISHED = &quot;places-expiration-finished&quot;;</span>
<a href="#l133.6"></a><span id="l133.6">       let observer = {</span>
<a href="#l133.7"></a><span id="l133.7">         observe: function(aSubject, aTopic, aData) {</span>
<a href="#l133.8"></a><span id="l133.8">           Services.obs.removeObserver(this, TOPIC_EXPIRATION_FINISHED);</span>
<a href="#l133.9"></a><span id="l133.9">           aCallback();</span>
<a href="#l133.10"></a><span id="l133.10">         }</span>
<a href="#l133.11"></a><span id="l133.11">       };</span>
<a href="#l133.12"></a><span id="l133.12" class="difflineminus">-      Services.obs.addObserver(observer, TOPIC_EXPIRATION_FINISHED, false);</span>
<a href="#l133.13"></a><span id="l133.13" class="difflineplus">+      Services.obs.addObserver(observer, TOPIC_EXPIRATION_FINISHED);</span>
<a href="#l133.14"></a><span id="l133.14">       let hs = Cc[&quot;@mozilla.org/browser/nav-history-service;1&quot;].</span>
<a href="#l133.15"></a><span id="l133.15">                getService(Ci.nsINavHistoryService);</span>
<a href="#l133.16"></a><span id="l133.16">       hs.QueryInterface(Ci.nsIBrowserHistory).removeAllPages();</span>
<a href="#l133.17"></a><span id="l133.17">    }</span>
<a href="#l133.18"></a><span id="l133.18"> </span>
<a href="#l133.19"></a><span id="l133.19">   ]]&gt;&lt;/script&gt;</span>
<a href="#l133.20"></a><span id="l133.20"> &lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l134.1"></a><span id="l134.1" class="difflineminus">--- a/suite/common/places/tests/chrome/test_treeview_date.xul</span>
<a href="#l134.2"></a><span id="l134.2" class="difflineplus">+++ b/suite/common/places/tests/chrome/test_treeview_date.xul</span>
<a href="#l134.3"></a><span id="l134.3" class="difflineat">@@ -169,17 +169,17 @@</span>
<a href="#l134.4"></a><span id="l134.4">     function waitForClearHistory(aCallback) {</span>
<a href="#l134.5"></a><span id="l134.5">       const TOPIC_EXPIRATION_FINISHED = &quot;places-expiration-finished&quot;;</span>
<a href="#l134.6"></a><span id="l134.6">       let observer = {</span>
<a href="#l134.7"></a><span id="l134.7">         observe: function(aSubject, aTopic, aData) {</span>
<a href="#l134.8"></a><span id="l134.8">           Services.obs.removeObserver(this, TOPIC_EXPIRATION_FINISHED);</span>
<a href="#l134.9"></a><span id="l134.9">           aCallback();</span>
<a href="#l134.10"></a><span id="l134.10">         }</span>
<a href="#l134.11"></a><span id="l134.11">       };</span>
<a href="#l134.12"></a><span id="l134.12" class="difflineminus">-      Services.obs.addObserver(observer, TOPIC_EXPIRATION_FINISHED, false);</span>
<a href="#l134.13"></a><span id="l134.13" class="difflineplus">+      Services.obs.addObserver(observer, TOPIC_EXPIRATION_FINISHED);</span>
<a href="#l134.14"></a><span id="l134.14">       let hs = Cc[&quot;@mozilla.org/browser/nav-history-service;1&quot;].</span>
<a href="#l134.15"></a><span id="l134.15">                getService(Ci.nsINavHistoryService);</span>
<a href="#l134.16"></a><span id="l134.16">       hs.QueryInterface(Ci.nsIBrowserHistory).removeAllPages();</span>
<a href="#l134.17"></a><span id="l134.17">    }</span>
<a href="#l134.18"></a><span id="l134.18"> </span>
<a href="#l134.19"></a><span id="l134.19">   ]]&gt;</span>
<a href="#l134.20"></a><span id="l134.20">   &lt;/script&gt;</span>
<a href="#l134.21"></a><span id="l134.21"> &lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l135.1"></a><span id="l135.1" class="difflineminus">--- a/suite/common/places/tests/head_common.js</span>
<a href="#l135.2"></a><span id="l135.2" class="difflineplus">+++ b/suite/common/places/tests/head_common.js</span>
<a href="#l135.3"></a><span id="l135.3" class="difflineat">@@ -366,27 +366,27 @@ function check_no_bookmarks() {</span>
<a href="#l135.4"></a><span id="l135.4">  * @rejects Never.</span>
<a href="#l135.5"></a><span id="l135.5">  */</span>
<a href="#l135.6"></a><span id="l135.6"> function promiseTopicObserved(aTopic)</span>
<a href="#l135.7"></a><span id="l135.7"> {</span>
<a href="#l135.8"></a><span id="l135.8">   return new Promise(resolve =&gt; {</span>
<a href="#l135.9"></a><span id="l135.9">     Services.obs.addObserver(function observe(aSubject, aTopic, aData) {</span>
<a href="#l135.10"></a><span id="l135.10">       Services.obs.removeObserver(observe, aTopic);</span>
<a href="#l135.11"></a><span id="l135.11">       resolve([aSubject, aData]);</span>
<a href="#l135.12"></a><span id="l135.12" class="difflineminus">-    }, aTopic, false);</span>
<a href="#l135.13"></a><span id="l135.13" class="difflineplus">+    }, aTopic);</span>
<a href="#l135.14"></a><span id="l135.14">   });</span>
<a href="#l135.15"></a><span id="l135.15"> }</span>
<a href="#l135.16"></a><span id="l135.16"> </span>
<a href="#l135.17"></a><span id="l135.17"> /**</span>
<a href="#l135.18"></a><span id="l135.18">  * Simulates a Places shutdown.</span>
<a href="#l135.19"></a><span id="l135.19">  */</span>
<a href="#l135.20"></a><span id="l135.20"> var shutdownPlaces = function() {</span>
<a href="#l135.21"></a><span id="l135.21">   do_print(&quot;shutdownPlaces: starting&quot;);</span>
<a href="#l135.22"></a><span id="l135.22">   let promise = new Promise(resolve =&gt; {</span>
<a href="#l135.23"></a><span id="l135.23" class="difflineminus">-    Services.obs.addObserver(resolve, &quot;places-connection-closed&quot;, false);</span>
<a href="#l135.24"></a><span id="l135.24" class="difflineplus">+    Services.obs.addObserver(resolve, &quot;places-connection-closed&quot;);</span>
<a href="#l135.25"></a><span id="l135.25">   });</span>
<a href="#l135.26"></a><span id="l135.26">   let hs = PlacesUtils.history.QueryInterface(Ci.nsIObserver);</span>
<a href="#l135.27"></a><span id="l135.27">   hs.observe(null, &quot;profile-change-teardown&quot;, null);</span>
<a href="#l135.28"></a><span id="l135.28">   do_print(&quot;shutdownPlaces: sent profile-change-teardown&quot;);</span>
<a href="#l135.29"></a><span id="l135.29">   hs.observe(null, &quot;test-simulate-places-shutdown&quot;, null);</span>
<a href="#l135.30"></a><span id="l135.30">   do_print(&quot;shutdownPlaces: sent test-simulate-places-shutdown&quot;);</span>
<a href="#l135.31"></a><span id="l135.31">   return promise.then(() =&gt; {</span>
<a href="#l135.32"></a><span id="l135.32">     do_print(&quot;shutdownPlaces: complete&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l136.1"></a><span id="l136.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_PUIU_makeTransaction.js</span>
<a href="#l136.2"></a><span id="l136.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_PUIU_makeTransaction.js</span>
<a href="#l136.3"></a><span id="l136.3" class="difflineat">@@ -52,17 +52,17 @@ function waitForBookmarkNotification(aNo</span>
<a href="#l136.4"></a><span id="l136.4">     },</span>
<a href="#l136.5"></a><span id="l136.5">     onItemMoved: function onItemMoved(aItemId, aOldParentId, aOldIndex,</span>
<a href="#l136.6"></a><span id="l136.6">                                       aNewParentId, aNewIndex, aItemType)</span>
<a href="#l136.7"></a><span id="l136.7">     {</span>
<a href="#l136.8"></a><span id="l136.8">       this.validate(arguments.callee.name, { id: aItemId,</span>
<a href="#l136.9"></a><span id="l136.9">                                              index: aNewIndex,</span>
<a href="#l136.10"></a><span id="l136.10">                                              type: aItemType });</span>
<a href="#l136.11"></a><span id="l136.11">     }</span>
<a href="#l136.12"></a><span id="l136.12" class="difflineminus">-  }, false);</span>
<a href="#l136.13"></a><span id="l136.13" class="difflineplus">+  });</span>
<a href="#l136.14"></a><span id="l136.14"> }</span>
<a href="#l136.15"></a><span id="l136.15"> </span>
<a href="#l136.16"></a><span id="l136.16"> function wrapNodeByIdAndParent(aItemId, aParentId)</span>
<a href="#l136.17"></a><span id="l136.17"> {</span>
<a href="#l136.18"></a><span id="l136.18">   let wrappedNode;</span>
<a href="#l136.19"></a><span id="l136.19">   let root = PlacesUtils.getFolderContents(aParentId, false, false).root;</span>
<a href="#l136.20"></a><span id="l136.20">   for (let i = 0; i &lt; root.childCount; ++i) {</span>
<a href="#l136.21"></a><span id="l136.21">     let node = root.getChild(i);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l137.1"></a><span id="l137.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_browserGlue_corrupt.js</span>
<a href="#l137.2"></a><span id="l137.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_browserGlue_corrupt.js</span>
<a href="#l137.3"></a><span id="l137.3" class="difflineat">@@ -64,17 +64,17 @@ function run_test() {</span>
<a href="#l137.4"></a><span id="l137.4">   let hs = Cc[&quot;@mozilla.org/browser/nav-history-service;1&quot;].</span>
<a href="#l137.5"></a><span id="l137.5">            getService(Ci.nsINavHistoryService);</span>
<a href="#l137.6"></a><span id="l137.6">   // Check the database was corrupt.</span>
<a href="#l137.7"></a><span id="l137.7">   // nsSuiteGlue uses databaseStatus to manage initialization.</span>
<a href="#l137.8"></a><span id="l137.8">   do_check_eq(hs.databaseStatus, hs.DATABASE_STATUS_CORRUPT);</span>
<a href="#l137.9"></a><span id="l137.9"> </span>
<a href="#l137.10"></a><span id="l137.10">   // The test will continue once restore has finished and smart bookmarks</span>
<a href="#l137.11"></a><span id="l137.11">   // have been created.</span>
<a href="#l137.12"></a><span id="l137.12" class="difflineminus">-  bs.addObserver(bookmarksObserver, false);</span>
<a href="#l137.13"></a><span id="l137.13" class="difflineplus">+  bs.addObserver(bookmarksObserver);</span>
<a href="#l137.14"></a><span id="l137.14"> }</span>
<a href="#l137.15"></a><span id="l137.15"> </span>
<a href="#l137.16"></a><span id="l137.16"> function continue_test() {</span>
<a href="#l137.17"></a><span id="l137.17">   // Check that JSON backup has been restored.</span>
<a href="#l137.18"></a><span id="l137.18">   // Notice restore from JSON notification is fired before smart bookmarks creation.</span>
<a href="#l137.19"></a><span id="l137.19">   let itemId = bs.getIdForItemAt(bs.toolbarFolder, SMART_BOOKMARKS_ON_TOOLBAR);</span>
<a href="#l137.20"></a><span id="l137.20">   do_check_eq(bs.getItemTitle(itemId), &quot;examplejson&quot;);</span>
<a href="#l137.21"></a><span id="l137.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l138.1"></a><span id="l138.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js</span>
<a href="#l138.2"></a><span id="l138.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup.js</span>
<a href="#l138.3"></a><span id="l138.3" class="difflineat">@@ -62,17 +62,17 @@ function run_test() {</span>
<a href="#l138.4"></a><span id="l138.4">   let hs = Cc[&quot;@mozilla.org/browser/nav-history-service;1&quot;].</span>
<a href="#l138.5"></a><span id="l138.5">            getService(Ci.nsINavHistoryService);</span>
<a href="#l138.6"></a><span id="l138.6">   // Check the database was corrupt.</span>
<a href="#l138.7"></a><span id="l138.7">   // nsSuiteGlue uses databaseStatus to manage initialization.</span>
<a href="#l138.8"></a><span id="l138.8">   do_check_eq(hs.databaseStatus, hs.DATABASE_STATUS_CORRUPT);</span>
<a href="#l138.9"></a><span id="l138.9"> </span>
<a href="#l138.10"></a><span id="l138.10">   // The test will continue once import has finished and smart bookmarks</span>
<a href="#l138.11"></a><span id="l138.11">   // have been created.</span>
<a href="#l138.12"></a><span id="l138.12" class="difflineminus">-  bs.addObserver(bookmarksObserver, false);</span>
<a href="#l138.13"></a><span id="l138.13" class="difflineplus">+  bs.addObserver(bookmarksObserver);</span>
<a href="#l138.14"></a><span id="l138.14"> }</span>
<a href="#l138.15"></a><span id="l138.15"> </span>
<a href="#l138.16"></a><span id="l138.16"> function continue_test() {</span>
<a href="#l138.17"></a><span id="l138.17">   // Check that bookmarks html has been restored.</span>
<a href="#l138.18"></a><span id="l138.18">   let itemId = bs.getIdForItemAt(bs.toolbarFolder, SMART_BOOKMARKS_ON_TOOLBAR);</span>
<a href="#l138.19"></a><span id="l138.19">   do_check_eq(bs.getItemTitle(itemId), &quot;example&quot;);</span>
<a href="#l138.20"></a><span id="l138.20"> </span>
<a href="#l138.21"></a><span id="l138.21">   remove_bookmarks_html();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l139.1"></a><span id="l139.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js</span>
<a href="#l139.2"></a><span id="l139.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_browserGlue_corrupt_nobackup_default.js</span>
<a href="#l139.3"></a><span id="l139.3" class="difflineat">@@ -62,17 +62,17 @@ function run_test() {</span>
<a href="#l139.4"></a><span id="l139.4">   let hs = Cc[&quot;@mozilla.org/browser/nav-history-service;1&quot;].</span>
<a href="#l139.5"></a><span id="l139.5">            getService(Ci.nsINavHistoryService);</span>
<a href="#l139.6"></a><span id="l139.6">   // Check the database was corrupt.</span>
<a href="#l139.7"></a><span id="l139.7">   // nsSuiteGlue uses databaseStatus to manage initialization.</span>
<a href="#l139.8"></a><span id="l139.8">   do_check_eq(hs.databaseStatus, hs.DATABASE_STATUS_CORRUPT);</span>
<a href="#l139.9"></a><span id="l139.9"> </span>
<a href="#l139.10"></a><span id="l139.10">   // The test will continue once import has finished and smart bookmarks</span>
<a href="#l139.11"></a><span id="l139.11">   // have been created.</span>
<a href="#l139.12"></a><span id="l139.12" class="difflineminus">-  bs.addObserver(bookmarksObserver, false);</span>
<a href="#l139.13"></a><span id="l139.13" class="difflineplus">+  bs.addObserver(bookmarksObserver);</span>
<a href="#l139.14"></a><span id="l139.14"> }</span>
<a href="#l139.15"></a><span id="l139.15"> </span>
<a href="#l139.16"></a><span id="l139.16"> function continue_test() {</span>
<a href="#l139.17"></a><span id="l139.17">   // Check that default bookmarks have been restored.</span>
<a href="#l139.18"></a><span id="l139.18">   let itemId = bs.getIdForItemAt(bs.toolbarFolder, SMART_BOOKMARKS_ON_TOOLBAR);</span>
<a href="#l139.19"></a><span id="l139.19">   do_check_true(itemId &gt; 0);</span>
<a href="#l139.20"></a><span id="l139.20">   do_check_eq(bs.getItemTitle(itemId), &quot;SeaMonkey&quot;);</span>
<a href="#l139.21"></a><span id="l139.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l140.1"></a><span id="l140.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_browserGlue_migrate.js</span>
<a href="#l140.2"></a><span id="l140.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_browserGlue_migrate.js</span>
<a href="#l140.3"></a><span id="l140.3" class="difflineat">@@ -66,17 +66,17 @@ function run_test() {</span>
<a href="#l140.4"></a><span id="l140.4"> </span>
<a href="#l140.5"></a><span id="l140.5">   // Initialize nsSuiteGlue.</span>
<a href="#l140.6"></a><span id="l140.6">   let bg = Cc[&quot;@mozilla.org/suite/suiteglue;1&quot;].</span>
<a href="#l140.7"></a><span id="l140.7">            getService(Ci.nsIObserver);</span>
<a href="#l140.8"></a><span id="l140.8">   bg.observe(null, &quot;initial-migration&quot;, null)</span>
<a href="#l140.9"></a><span id="l140.9"> </span>
<a href="#l140.10"></a><span id="l140.10">   // The test will continue once import has finished and smart bookmarks</span>
<a href="#l140.11"></a><span id="l140.11">   // have been created.</span>
<a href="#l140.12"></a><span id="l140.12" class="difflineminus">-  bs.addObserver(bookmarksObserver, false);</span>
<a href="#l140.13"></a><span id="l140.13" class="difflineplus">+  bs.addObserver(bookmarksObserver);</span>
<a href="#l140.14"></a><span id="l140.14"> }</span>
<a href="#l140.15"></a><span id="l140.15"> </span>
<a href="#l140.16"></a><span id="l140.16"> function continue_test() {</span>
<a href="#l140.17"></a><span id="l140.17">   // Check the created bookmarks still exist.</span>
<a href="#l140.18"></a><span id="l140.18">   let itemId = bs.getIdForItemAt(bs.bookmarksMenuFolder, SMART_BOOKMARKS_ON_MENU);</span>
<a href="#l140.19"></a><span id="l140.19">   do_check_eq(bs.getItemTitle(itemId), &quot;migrated&quot;);</span>
<a href="#l140.20"></a><span id="l140.20"> </span>
<a href="#l140.21"></a><span id="l140.21">   // Check that we have not imported any new bookmark.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l141.1"></a><span id="l141.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_browserGlue_prefs.js</span>
<a href="#l141.2"></a><span id="l141.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_browserGlue_prefs.js</span>
<a href="#l141.3"></a><span id="l141.3" class="difflineat">@@ -32,17 +32,17 @@ const PREF_AUTO_EXPORT_HTML = &quot;browser.b</span>
<a href="#l141.4"></a><span id="l141.4"> </span>
<a href="#l141.5"></a><span id="l141.5"> function waitForImportAndSmartBookmarks(aCallback) {</span>
<a href="#l141.6"></a><span id="l141.6">   Services.obs.addObserver(function waitImport() {</span>
<a href="#l141.7"></a><span id="l141.7">     Services.obs.removeObserver(waitImport, &quot;bookmarks-restore-success&quot;);</span>
<a href="#l141.8"></a><span id="l141.8">     // Delay to test eventual smart bookmarks creation.</span>
<a href="#l141.9"></a><span id="l141.9">     do_execute_soon(function () {</span>
<a href="#l141.10"></a><span id="l141.10">       promiseAsyncUpdates().then(aCallback);</span>
<a href="#l141.11"></a><span id="l141.11">     });</span>
<a href="#l141.12"></a><span id="l141.12" class="difflineminus">-  }, &quot;bookmarks-restore-success&quot;, false);</span>
<a href="#l141.13"></a><span id="l141.13" class="difflineplus">+  }, &quot;bookmarks-restore-success&quot;);</span>
<a href="#l141.14"></a><span id="l141.14"> }</span>
<a href="#l141.15"></a><span id="l141.15"> </span>
<a href="#l141.16"></a><span id="l141.16"> var tests = [];</span>
<a href="#l141.17"></a><span id="l141.17"> //------------------------------------------------------------------------------</span>
<a href="#l141.18"></a><span id="l141.18"> </span>
<a href="#l141.19"></a><span id="l141.19"> tests.push({</span>
<a href="#l141.20"></a><span id="l141.20">   description: &quot;Import from bookmarks.html if importBookmarksHTML is true.&quot;,</span>
<a href="#l141.21"></a><span id="l141.21">   exec: function() {</span>
<a href="#l141.22"></a><span id="l141.22" class="difflineat">@@ -230,19 +230,19 @@ function finish_test() {</span>
<a href="#l141.23"></a><span id="l141.23"> }</span>
<a href="#l141.24"></a><span id="l141.24"> var testIndex = 0;</span>
<a href="#l141.25"></a><span id="l141.25"> function next_test() {</span>
<a href="#l141.26"></a><span id="l141.26">   // Clean up database from all bookmarks.</span>
<a href="#l141.27"></a><span id="l141.27">   remove_all_bookmarks();</span>
<a href="#l141.28"></a><span id="l141.28">   // nsSuiteGlue stops observing topics after first notification,</span>
<a href="#l141.29"></a><span id="l141.29">   // so we add back the observer to test additional runs.</span>
<a href="#l141.30"></a><span id="l141.30">   os.addObserver(bg.QueryInterface(Ci.nsIObserver),</span>
<a href="#l141.31"></a><span id="l141.31" class="difflineminus">-                 PlacesUtils.TOPIC_INIT_COMPLETE, false);</span>
<a href="#l141.32"></a><span id="l141.32" class="difflineplus">+                 PlacesUtils.TOPIC_INIT_COMPLETE);</span>
<a href="#l141.33"></a><span id="l141.33">   os.addObserver(bg.QueryInterface(Ci.nsIObserver),</span>
<a href="#l141.34"></a><span id="l141.34" class="difflineminus">-                 PlacesUtils.TOPIC_DATABASE_LOCKED, false);</span>
<a href="#l141.35"></a><span id="l141.35" class="difflineplus">+                 PlacesUtils.TOPIC_DATABASE_LOCKED);</span>
<a href="#l141.36"></a><span id="l141.36">   // Execute next test.</span>
<a href="#l141.37"></a><span id="l141.37">   let test = tests.shift();</span>
<a href="#l141.38"></a><span id="l141.38">   print(&quot;\nTEST &quot; + (++testIndex) + &quot;: &quot; + test.description);</span>
<a href="#l141.39"></a><span id="l141.39">   test.exec();</span>
<a href="#l141.40"></a><span id="l141.40"> }</span>
<a href="#l141.41"></a><span id="l141.41"> function run_test() {</span>
<a href="#l141.42"></a><span id="l141.42">   // Bug 539067: disabled due to random failures and timeouts.</span>
<a href="#l141.43"></a><span id="l141.43">   return;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l142.1"></a><span id="l142.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_browserGlue_restore.js</span>
<a href="#l142.2"></a><span id="l142.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_browserGlue_restore.js</span>
<a href="#l142.3"></a><span id="l142.3" class="difflineat">@@ -60,17 +60,17 @@ function run_test() {</span>
<a href="#l142.4"></a><span id="l142.4">   let hs = Cc[&quot;@mozilla.org/browser/nav-history-service;1&quot;].</span>
<a href="#l142.5"></a><span id="l142.5">            getService(Ci.nsINavHistoryService);</span>
<a href="#l142.6"></a><span id="l142.6">   // Check a new database has been created.</span>
<a href="#l142.7"></a><span id="l142.7">   // nsSuiteGlue uses databaseStatus to manage initialization.</span>
<a href="#l142.8"></a><span id="l142.8">   do_check_eq(hs.databaseStatus, hs.DATABASE_STATUS_CREATE);</span>
<a href="#l142.9"></a><span id="l142.9"> </span>
<a href="#l142.10"></a><span id="l142.10">   // The test will continue once restore has finished and smart bookmarks</span>
<a href="#l142.11"></a><span id="l142.11">   // have been created.</span>
<a href="#l142.12"></a><span id="l142.12" class="difflineminus">-  bs.addObserver(bookmarksObserver, false);</span>
<a href="#l142.13"></a><span id="l142.13" class="difflineplus">+  bs.addObserver(bookmarksObserver);</span>
<a href="#l142.14"></a><span id="l142.14"> }</span>
<a href="#l142.15"></a><span id="l142.15"> </span>
<a href="#l142.16"></a><span id="l142.16"> function continue_test() {</span>
<a href="#l142.17"></a><span id="l142.17">   // Check that JSON backup has been restored.</span>
<a href="#l142.18"></a><span id="l142.18">   // Notice restore from JSON notification is fired before smart bookmarks creation.</span>
<a href="#l142.19"></a><span id="l142.19">   let itemId = bs.getIdForItemAt(bs.toolbarFolder, SMART_BOOKMARKS_ON_TOOLBAR);</span>
<a href="#l142.20"></a><span id="l142.20">   do_check_eq(bs.getItemTitle(itemId), &quot;examplejson&quot;);</span>
<a href="#l142.21"></a><span id="l142.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l143.1"></a><span id="l143.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js</span>
<a href="#l143.2"></a><span id="l143.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_browserGlue_smartBookmarks.js</span>
<a href="#l143.3"></a><span id="l143.3" class="difflineat">@@ -342,10 +342,10 @@ function run_test() {</span>
<a href="#l143.4"></a><span id="l143.4"> </span>
<a href="#l143.5"></a><span id="l143.5"> function waitForImportAndSmartBookmarks(aCallback) {</span>
<a href="#l143.6"></a><span id="l143.6">   Services.obs.addObserver(function waitImport() {</span>
<a href="#l143.7"></a><span id="l143.7">     Services.obs.removeObserver(waitImport, &quot;bookmarks-restore-success&quot;);</span>
<a href="#l143.8"></a><span id="l143.8">     // Delay to test eventual smart bookmarks creation.</span>
<a href="#l143.9"></a><span id="l143.9">     do_execute_soon(function () {</span>
<a href="#l143.10"></a><span id="l143.10">       promiseAsyncUpdates().then(aCallback);</span>
<a href="#l143.11"></a><span id="l143.11">     });</span>
<a href="#l143.12"></a><span id="l143.12" class="difflineminus">-  }, &quot;bookmarks-restore-success&quot;, false);</span>
<a href="#l143.13"></a><span id="l143.13" class="difflineplus">+  }, &quot;bookmarks-restore-success&quot;);</span>
<a href="#l143.14"></a><span id="l143.14"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l144.1"></a><span id="l144.1" class="difflineminus">--- a/suite/common/places/tests/unit/test_clearHistory_shutdown.js</span>
<a href="#l144.2"></a><span id="l144.2" class="difflineplus">+++ b/suite/common/places/tests/unit/test_clearHistory_shutdown.js</span>
<a href="#l144.3"></a><span id="l144.3" class="difflineat">@@ -108,17 +108,17 @@ add_task(async function test_execute() {</span>
<a href="#l144.4"></a><span id="l144.4">   storeCache(URL, &quot;testData&quot;);</span>
<a href="#l144.5"></a><span id="l144.5"> });</span>
<a href="#l144.6"></a><span id="l144.6"> </span>
<a href="#l144.7"></a><span id="l144.7"> function run_test_continue()</span>
<a href="#l144.8"></a><span id="l144.8"> {</span>
<a href="#l144.9"></a><span id="l144.9">   print(&quot;Simulate and wait shutdown.&quot;);</span>
<a href="#l144.10"></a><span id="l144.10">   getDistinctNotifications().forEach(</span>
<a href="#l144.11"></a><span id="l144.11">     topic =&gt;</span>
<a href="#l144.12"></a><span id="l144.12" class="difflineminus">-      Services.obs.addObserver(notificationsObserver, topic, false)</span>
<a href="#l144.13"></a><span id="l144.13" class="difflineplus">+      Services.obs.addObserver(notificationsObserver, topic)</span>
<a href="#l144.14"></a><span id="l144.14">   );</span>
<a href="#l144.15"></a><span id="l144.15"> </span>
<a href="#l144.16"></a><span id="l144.16">   // Simulate an exit so that Sanitizer's init method checkSettings() is called.</span>
<a href="#l144.17"></a><span id="l144.17">   print(&quot;Simulate 'quit-application-granted' too for SeaMonkey.&quot;);</span>
<a href="#l144.18"></a><span id="l144.18">   Services.obs.notifyObservers(null, &quot;quit-application-granted&quot;, null);</span>
<a href="#l144.19"></a><span id="l144.19"> </span>
<a href="#l144.20"></a><span id="l144.20">   shutdownPlaces();</span>
<a href="#l144.21"></a><span id="l144.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l145.1"></a><span id="l145.1" class="difflineminus">--- a/suite/common/places/tree.xml</span>
<a href="#l145.2"></a><span id="l145.2" class="difflineplus">+++ b/suite/common/places/tree.xml</span>
<a href="#l145.3"></a><span id="l145.3" class="difflineat">@@ -97,17 +97,17 @@</span>
<a href="#l145.4"></a><span id="l145.4">             this.controllers.appendController(this._controller);</span>
<a href="#l145.5"></a><span id="l145.5">           }</span>
<a href="#l145.6"></a><span id="l145.6"> </span>
<a href="#l145.7"></a><span id="l145.7">           let treeView = new PlacesTreeView(this.flatList, callback, this._controller);</span>
<a href="#l145.8"></a><span id="l145.8"> </span>
<a href="#l145.9"></a><span id="l145.9">           // Observer removal is done within the view itself.  When the tree</span>
<a href="#l145.10"></a><span id="l145.10">           // goes away, treeboxobject calls view.setTree(null), which then</span>
<a href="#l145.11"></a><span id="l145.11">           // calls removeObserver.</span>
<a href="#l145.12"></a><span id="l145.12" class="difflineminus">-          result.addObserver(treeView, false);</span>
<a href="#l145.13"></a><span id="l145.13" class="difflineplus">+          result.addObserver(treeView);</span>
<a href="#l145.14"></a><span id="l145.14">           this.view = treeView;</span>
<a href="#l145.15"></a><span id="l145.15">           this._cachedInsertionPoint = undefined;</span>
<a href="#l145.16"></a><span id="l145.16">         ]]&gt;&lt;/body&gt;</span>
<a href="#l145.17"></a><span id="l145.17">       &lt;/method&gt;</span>
<a href="#l145.18"></a><span id="l145.18"> </span>
<a href="#l145.19"></a><span id="l145.19">       &lt;property name=&quot;flatList&quot;&gt;</span>
<a href="#l145.20"></a><span id="l145.20">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l145.21"></a><span id="l145.21">           return this.getAttribute(&quot;flatList&quot;) == &quot;true&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l146.1"></a><span id="l146.1" class="difflineminus">--- a/suite/common/pref/pref-applications.js</span>
<a href="#l146.2"></a><span id="l146.2" class="difflineplus">+++ b/suite/common/pref/pref-applications.js</span>
<a href="#l146.3"></a><span id="l146.3" class="difflineat">@@ -821,29 +821,29 @@ var gApplicationsPane = {</span>
<a href="#l146.4"></a><span id="l146.4">     this._brandShortName =</span>
<a href="#l146.5"></a><span id="l146.5">       document.getElementById(&quot;bundleBrand&quot;).getString(&quot;brandShortName&quot;);</span>
<a href="#l146.6"></a><span id="l146.6">     this._prefsBundle = document.getElementById(&quot;bundlePrefApplications&quot;);</span>
<a href="#l146.7"></a><span id="l146.7">     this._list = document.getElementById(&quot;handlersView&quot;);</span>
<a href="#l146.8"></a><span id="l146.8">     this._filter = document.getElementById(&quot;filter&quot;);</span>
<a href="#l146.9"></a><span id="l146.9"> </span>
<a href="#l146.10"></a><span id="l146.10">     // Observe preferences that influence what we display so we can rebuild</span>
<a href="#l146.11"></a><span id="l146.11">     // the view when they change.</span>
<a href="#l146.12"></a><span id="l146.12" class="difflineminus">-    Services.prefs.addObserver(PREF_SHOW_PLUGINS_IN_LIST, this, false);</span>
<a href="#l146.13"></a><span id="l146.13" class="difflineminus">-    Services.prefs.addObserver(PREF_HIDE_PLUGINS_WITHOUT_EXTENSIONS, this, false);</span>
<a href="#l146.14"></a><span id="l146.14" class="difflineminus">-    Services.prefs.addObserver(PREF_FEED_SELECTED_APP, this, false);</span>
<a href="#l146.15"></a><span id="l146.15" class="difflineminus">-    Services.prefs.addObserver(PREF_FEED_SELECTED_WEB, this, false);</span>
<a href="#l146.16"></a><span id="l146.16" class="difflineminus">-    Services.prefs.addObserver(PREF_FEED_SELECTED_ACTION, this, false);</span>
<a href="#l146.17"></a><span id="l146.17" class="difflineplus">+    Services.prefs.addObserver(PREF_SHOW_PLUGINS_IN_LIST, this);</span>
<a href="#l146.18"></a><span id="l146.18" class="difflineplus">+    Services.prefs.addObserver(PREF_HIDE_PLUGINS_WITHOUT_EXTENSIONS, this);</span>
<a href="#l146.19"></a><span id="l146.19" class="difflineplus">+    Services.prefs.addObserver(PREF_FEED_SELECTED_APP, this);</span>
<a href="#l146.20"></a><span id="l146.20" class="difflineplus">+    Services.prefs.addObserver(PREF_FEED_SELECTED_WEB, this);</span>
<a href="#l146.21"></a><span id="l146.21" class="difflineplus">+    Services.prefs.addObserver(PREF_FEED_SELECTED_ACTION, this);</span>
<a href="#l146.22"></a><span id="l146.22"> </span>
<a href="#l146.23"></a><span id="l146.23" class="difflineminus">-    Services.prefs.addObserver(PREF_VIDEO_FEED_SELECTED_APP, this, false);</span>
<a href="#l146.24"></a><span id="l146.24" class="difflineminus">-    Services.prefs.addObserver(PREF_VIDEO_FEED_SELECTED_WEB, this, false);</span>
<a href="#l146.25"></a><span id="l146.25" class="difflineminus">-    Services.prefs.addObserver(PREF_VIDEO_FEED_SELECTED_ACTION, this, false);</span>
<a href="#l146.26"></a><span id="l146.26" class="difflineplus">+    Services.prefs.addObserver(PREF_VIDEO_FEED_SELECTED_APP, this);</span>
<a href="#l146.27"></a><span id="l146.27" class="difflineplus">+    Services.prefs.addObserver(PREF_VIDEO_FEED_SELECTED_WEB, this);</span>
<a href="#l146.28"></a><span id="l146.28" class="difflineplus">+    Services.prefs.addObserver(PREF_VIDEO_FEED_SELECTED_ACTION, this);</span>
<a href="#l146.29"></a><span id="l146.29"> </span>
<a href="#l146.30"></a><span id="l146.30" class="difflineminus">-    Services.prefs.addObserver(PREF_AUDIO_FEED_SELECTED_APP, this, false);</span>
<a href="#l146.31"></a><span id="l146.31" class="difflineminus">-    Services.prefs.addObserver(PREF_AUDIO_FEED_SELECTED_WEB, this, false);</span>
<a href="#l146.32"></a><span id="l146.32" class="difflineminus">-    Services.prefs.addObserver(PREF_AUDIO_FEED_SELECTED_ACTION, this, false);</span>
<a href="#l146.33"></a><span id="l146.33" class="difflineplus">+    Services.prefs.addObserver(PREF_AUDIO_FEED_SELECTED_APP, this);</span>
<a href="#l146.34"></a><span id="l146.34" class="difflineplus">+    Services.prefs.addObserver(PREF_AUDIO_FEED_SELECTED_WEB, this);</span>
<a href="#l146.35"></a><span id="l146.35" class="difflineplus">+    Services.prefs.addObserver(PREF_AUDIO_FEED_SELECTED_ACTION, this);</span>
<a href="#l146.36"></a><span id="l146.36"> </span>
<a href="#l146.37"></a><span id="l146.37">     // Listen for window unload so we can remove our preference observers.</span>
<a href="#l146.38"></a><span id="l146.38">     window.addEventListener(&quot;unload&quot;, this);</span>
<a href="#l146.39"></a><span id="l146.39"> </span>
<a href="#l146.40"></a><span id="l146.40">     // Listen for user events on the listbox and its children</span>
<a href="#l146.41"></a><span id="l146.41">     this._list.addEventListener(&quot;select&quot;, this);</span>
<a href="#l146.42"></a><span id="l146.42">     this._list.addEventListener(&quot;command&quot;, this);</span>
<a href="#l146.43"></a><span id="l146.43"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l147.1"></a><span id="l147.1" class="difflineminus">--- a/suite/common/pref/pref-offlineapps.js</span>
<a href="#l147.2"></a><span id="l147.2" class="difflineplus">+++ b/suite/common/pref/pref-offlineapps.js</span>
<a href="#l147.3"></a><span id="l147.3" class="difflineat">@@ -12,17 +12,17 @@ function Startup()</span>
<a href="#l147.4"></a><span id="l147.4">   let always = document.getElementById(&quot;offline-apps.allow_by_default&quot;).value;</span>
<a href="#l147.5"></a><span id="l147.5">   UpdateNotifyBox(always);</span>
<a href="#l147.6"></a><span id="l147.6"> }</span>
<a href="#l147.7"></a><span id="l147.7"> </span>
<a href="#l147.8"></a><span id="l147.8"> var OfflineAppsObserver = {</span>
<a href="#l147.9"></a><span id="l147.9"> </span>
<a href="#l147.10"></a><span id="l147.10">   init: function offlineAppsInit() {</span>
<a href="#l147.11"></a><span id="l147.11">     this.update();</span>
<a href="#l147.12"></a><span id="l147.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;perm-changed&quot;, false);</span>
<a href="#l147.13"></a><span id="l147.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;perm-changed&quot;);</span>
<a href="#l147.14"></a><span id="l147.14">     window.addEventListener(&quot;unload&quot;, this);</span>
<a href="#l147.15"></a><span id="l147.15">   },</span>
<a href="#l147.16"></a><span id="l147.16"> </span>
<a href="#l147.17"></a><span id="l147.17">   update: function offlineAppsUpdate() {</span>
<a href="#l147.18"></a><span id="l147.18">     UpdateActualCacheSize();</span>
<a href="#l147.19"></a><span id="l147.19">     UpdateOfflineApps();</span>
<a href="#l147.20"></a><span id="l147.20">   },</span>
<a href="#l147.21"></a><span id="l147.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l148.1"></a><span id="l148.1" class="difflineminus">--- a/suite/common/pref/pref-search.js</span>
<a href="#l148.2"></a><span id="l148.2" class="difflineplus">+++ b/suite/common/pref/pref-search.js</span>
<a href="#l148.3"></a><span id="l148.3" class="difflineat">@@ -6,17 +6,17 @@ Components.utils.import(&quot;resource://gre/</span>
<a href="#l148.4"></a><span id="l148.4"> </span>
<a href="#l148.5"></a><span id="l148.5"> function Startup() {</span>
<a href="#l148.6"></a><span id="l148.6">   MakeList();</span>
<a href="#l148.7"></a><span id="l148.7">   SearchObserver.init();</span>
<a href="#l148.8"></a><span id="l148.8"> }</span>
<a href="#l148.9"></a><span id="l148.9"> </span>
<a href="#l148.10"></a><span id="l148.10"> var SearchObserver = {</span>
<a href="#l148.11"></a><span id="l148.11">   init: function searchEngineListObserver_init() {</span>
<a href="#l148.12"></a><span id="l148.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;browser-search-engine-modified&quot;, false);</span>
<a href="#l148.13"></a><span id="l148.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;browser-search-engine-modified&quot;);</span>
<a href="#l148.14"></a><span id="l148.14">     window.addEventListener(&quot;unload&quot;, this);</span>
<a href="#l148.15"></a><span id="l148.15">   },</span>
<a href="#l148.16"></a><span id="l148.16"> </span>
<a href="#l148.17"></a><span id="l148.17">   observe: function searchEngineListObj_observe(aEngine, aTopic, aVerb) {</span>
<a href="#l148.18"></a><span id="l148.18">     if (aTopic != &quot;browser-search-engine-modified&quot;)</span>
<a href="#l148.19"></a><span id="l148.19">       return;</span>
<a href="#l148.20"></a><span id="l148.20">     MakeList();</span>
<a href="#l148.21"></a><span id="l148.21">   },</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l149.1"></a><span id="l149.1" class="difflineminus">--- a/suite/common/pref/pref-sync.js</span>
<a href="#l149.2"></a><span id="l149.2" class="difflineplus">+++ b/suite/common/pref/pref-sync.js</span>
<a href="#l149.3"></a><span id="l149.3" class="difflineat">@@ -32,17 +32,17 @@ var gSyncPane = {</span>
<a href="#l149.4"></a><span id="l149.4">             &quot;weave:service:login:error&quot;,</span>
<a href="#l149.5"></a><span id="l149.5">             &quot;weave:service:login:finish&quot;,</span>
<a href="#l149.6"></a><span id="l149.6">             &quot;weave:service:start-over&quot;,</span>
<a href="#l149.7"></a><span id="l149.7">             &quot;weave:service:setup-complete&quot;,</span>
<a href="#l149.8"></a><span id="l149.8">             &quot;weave:service:logout:finish&quot;],</span>
<a href="#l149.9"></a><span id="l149.9"> </span>
<a href="#l149.10"></a><span id="l149.10">   init: function () {</span>
<a href="#l149.11"></a><span id="l149.11">     for (var topic of this.topics)</span>
<a href="#l149.12"></a><span id="l149.12" class="difflineminus">-      Services.obs.addObserver(this, topic, false);</span>
<a href="#l149.13"></a><span id="l149.13" class="difflineplus">+      Services.obs.addObserver(this, topic);</span>
<a href="#l149.14"></a><span id="l149.14"> </span>
<a href="#l149.15"></a><span id="l149.15">     window.addEventListener(&quot;unload&quot;, this);</span>
<a href="#l149.16"></a><span id="l149.16"> </span>
<a href="#l149.17"></a><span id="l149.17">     var xps = Components.classes[&quot;@mozilla.org/weave/service;1&quot;]</span>
<a href="#l149.18"></a><span id="l149.18">                         .getService().wrappedJSObject;</span>
<a href="#l149.19"></a><span id="l149.19">     if (xps.ready)</span>
<a href="#l149.20"></a><span id="l149.20">       this.observe(null, &quot;weave:service:ready&quot;, null);</span>
<a href="#l149.21"></a><span id="l149.21">     else</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l150.1"></a><span id="l150.1" class="difflineminus">--- a/suite/common/search/engineManager.js</span>
<a href="#l150.2"></a><span id="l150.2" class="difflineplus">+++ b/suite/common/search/engineManager.js</span>
<a href="#l150.3"></a><span id="l150.3" class="difflineat">@@ -22,17 +22,17 @@ var gEngineManagerDialog = {</span>
<a href="#l150.4"></a><span id="l150.4">     gEngineView = new EngineView(new EngineStore());</span>
<a href="#l150.5"></a><span id="l150.5"> </span>
<a href="#l150.6"></a><span id="l150.6">     var suggestEnabled = Services.prefs.getBoolPref(BROWSER_SUGGEST_PREF);</span>
<a href="#l150.7"></a><span id="l150.7">     document.getElementById(&quot;enableSuggest&quot;).checked = suggestEnabled;</span>
<a href="#l150.8"></a><span id="l150.8"> </span>
<a href="#l150.9"></a><span id="l150.9">     var tree = document.getElementById(&quot;engineList&quot;);</span>
<a href="#l150.10"></a><span id="l150.10">     tree.view = gEngineView;</span>
<a href="#l150.11"></a><span id="l150.11"> </span>
<a href="#l150.12"></a><span id="l150.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;browser-search-engine-modified&quot;, false);</span>
<a href="#l150.13"></a><span id="l150.13" class="difflineplus">+    Services.obs.addObserver(this, &quot;browser-search-engine-modified&quot;);</span>
<a href="#l150.14"></a><span id="l150.14">   },</span>
<a href="#l150.15"></a><span id="l150.15"> </span>
<a href="#l150.16"></a><span id="l150.16">   destroy: function engineManager_destroy() {</span>
<a href="#l150.17"></a><span id="l150.17">     // Remove the observer</span>
<a href="#l150.18"></a><span id="l150.18">     Services.obs.removeObserver(this, &quot;browser-search-engine-modified&quot;);</span>
<a href="#l150.19"></a><span id="l150.19">   },</span>
<a href="#l150.20"></a><span id="l150.20"> </span>
<a href="#l150.21"></a><span id="l150.21">   observe: function engineManager_observe(aEngine, aTopic, aVerb) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l151.1"></a><span id="l151.1" class="difflineminus">--- a/suite/common/search/search.xml</span>
<a href="#l151.2"></a><span id="l151.2" class="difflineplus">+++ b/suite/common/search/search.xml</span>
<a href="#l151.3"></a><span id="l151.3" class="difflineat">@@ -76,17 +76,17 @@</span>
<a href="#l151.4"></a><span id="l151.4">           return;</span>
<a href="#l151.5"></a><span id="l151.5"> </span>
<a href="#l151.6"></a><span id="l151.6">         if (this.usePrivateBrowsing)</span>
<a href="#l151.7"></a><span id="l151.7">           this._textbox.searchParam += &quot;|private&quot;;</span>
<a href="#l151.8"></a><span id="l151.8"> </span>
<a href="#l151.9"></a><span id="l151.9">         this.searchService.init(this);</span>
<a href="#l151.10"></a><span id="l151.10">         var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l151.11"></a><span id="l151.11">                            .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l151.12"></a><span id="l151.12" class="difflineminus">-        os.addObserver(this, &quot;browser-search-engine-modified&quot;, false);</span>
<a href="#l151.13"></a><span id="l151.13" class="difflineplus">+        os.addObserver(this, &quot;browser-search-engine-modified&quot;);</span>
<a href="#l151.14"></a><span id="l151.14">         this._addedObserver = true;</span>
<a href="#l151.15"></a><span id="l151.15">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l151.16"></a><span id="l151.16"> </span>
<a href="#l151.17"></a><span id="l151.17">       &lt;destructor&gt;&lt;![CDATA[</span>
<a href="#l151.18"></a><span id="l151.18">         if (this._addedObserver) {</span>
<a href="#l151.19"></a><span id="l151.19">           var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l151.20"></a><span id="l151.20">                              .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l151.21"></a><span id="l151.21">           os.removeObserver(this, &quot;browser-search-engine-modified&quot;);</span>
<a href="#l151.22"></a><span id="l151.22" class="difflineat">@@ -525,17 +525,17 @@</span>
<a href="#l151.23"></a><span id="l151.23"> </span>
<a href="#l151.24"></a><span id="l151.24">         if (this._prefBranch.getBoolPref(&quot;browser.urlbar.clickSelectsAll&quot;))</span>
<a href="#l151.25"></a><span id="l151.25">           this.setAttribute(&quot;clickSelectsAll&quot;, true);</span>
<a href="#l151.26"></a><span id="l151.26"> </span>
<a href="#l151.27"></a><span id="l151.27">         // Add items to context menu and attach controller to handle them</span>
<a href="#l151.28"></a><span id="l151.28">         this.controllers.appendController(this.searchbarController);</span>
<a href="#l151.29"></a><span id="l151.29"> </span>
<a href="#l151.30"></a><span id="l151.30">         // Add observer for suggest preference</span>
<a href="#l151.31"></a><span id="l151.31" class="difflineminus">-        this._prefBranch.addObserver(&quot;browser.search.suggest.enabled&quot;, this, false);</span>
<a href="#l151.32"></a><span id="l151.32" class="difflineplus">+        this._prefBranch.addObserver(&quot;browser.search.suggest.enabled&quot;, this);</span>
<a href="#l151.33"></a><span id="l151.33"> </span>
<a href="#l151.34"></a><span id="l151.34">         this._inputBox.setAttribute(&quot;suggestchecked&quot;, this._suggestEnabled);</span>
<a href="#l151.35"></a><span id="l151.35"> </span>
<a href="#l151.36"></a><span id="l151.36">         Components.utils.import(&quot;resource://gre/modules/FormHistory.jsm&quot;, this);</span>
<a href="#l151.37"></a><span id="l151.37">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l151.38"></a><span id="l151.38"> </span>
<a href="#l151.39"></a><span id="l151.39">       &lt;destructor&gt;&lt;![CDATA[</span>
<a href="#l151.40"></a><span id="l151.40">           this._prefBranch.removeObserver(&quot;browser.search.suggest.enabled&quot;, this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l152.1"></a><span id="l152.1" class="difflineminus">--- a/suite/common/sync/aboutSyncTabs.js</span>
<a href="#l152.2"></a><span id="l152.2" class="difflineplus">+++ b/suite/common/sync/aboutSyncTabs.js</span>
<a href="#l152.3"></a><span id="l152.3" class="difflineat">@@ -8,18 +8,18 @@ Cu.import(&quot;resource://services-sync/main</span>
<a href="#l152.4"></a><span id="l152.4"> Cu.import(&quot;resource:///modules/PlacesUIUtils.jsm&quot;);</span>
<a href="#l152.5"></a><span id="l152.5"> Cu.import(&quot;resource://gre/modules/PlacesUtils.jsm&quot;);</span>
<a href="#l152.6"></a><span id="l152.6"> Cu.import(&quot;resource://gre/modules/Services.jsm&quot;);</span>
<a href="#l152.7"></a><span id="l152.7"> </span>
<a href="#l152.8"></a><span id="l152.8"> var RemoteTabViewer = {</span>
<a href="#l152.9"></a><span id="l152.9">   _tabsList: null,</span>
<a href="#l152.10"></a><span id="l152.10"> </span>
<a href="#l152.11"></a><span id="l152.11">   init: function () {</span>
<a href="#l152.12"></a><span id="l152.12" class="difflineminus">-    Services.obs.addObserver(this, &quot;weave:service:login:finish&quot;, false);</span>
<a href="#l152.13"></a><span id="l152.13" class="difflineminus">-    Services.obs.addObserver(this, &quot;weave:engine:sync:finish&quot;, false);</span>
<a href="#l152.14"></a><span id="l152.14" class="difflineplus">+    Services.obs.addObserver(this, &quot;weave:service:login:finish&quot;);</span>
<a href="#l152.15"></a><span id="l152.15" class="difflineplus">+    Services.obs.addObserver(this, &quot;weave:engine:sync:finish&quot;);</span>
<a href="#l152.16"></a><span id="l152.16"> </span>
<a href="#l152.17"></a><span id="l152.17">     this._tabsList = document.getElementById(&quot;tabsList&quot;);</span>
<a href="#l152.18"></a><span id="l152.18"> </span>
<a href="#l152.19"></a><span id="l152.19">     this.buildList(true);</span>
<a href="#l152.20"></a><span id="l152.20">   },</span>
<a href="#l152.21"></a><span id="l152.21"> </span>
<a href="#l152.22"></a><span id="l152.22">   uninit: function () {</span>
<a href="#l152.23"></a><span id="l152.23">     Services.obs.removeObserver(this, &quot;weave:service:login:finish&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l153.1"></a><span id="l153.1" class="difflineminus">--- a/suite/common/tests/browser/browser_354894.js</span>
<a href="#l153.2"></a><span id="l153.2" class="difflineplus">+++ b/suite/common/tests/browser/browser_354894.js</span>
<a href="#l153.3"></a><span id="l153.3" class="difflineat">@@ -145,17 +145,17 @@ function test() {</span>
<a href="#l153.4"></a><span id="l153.4">   }</span>
<a href="#l153.5"></a><span id="l153.5"> </span>
<a href="#l153.6"></a><span id="l153.6">   /**</span>
<a href="#l153.7"></a><span id="l153.7">    * Helper: Sets up this testsuite</span>
<a href="#l153.8"></a><span id="l153.8">    */</span>
<a href="#l153.9"></a><span id="l153.9">   function setupTestsuite(testFn) {</span>
<a href="#l153.10"></a><span id="l153.10">     // Register our observers</span>
<a href="#l153.11"></a><span id="l153.11">     for (let o in observing)</span>
<a href="#l153.12"></a><span id="l153.12" class="difflineminus">-      Services.obs.addObserver(observer, o, false);</span>
<a href="#l153.13"></a><span id="l153.13" class="difflineplus">+      Services.obs.addObserver(observer, o);</span>
<a href="#l153.14"></a><span id="l153.14"> </span>
<a href="#l153.15"></a><span id="l153.15">     // Make the main test window not count as a browser window any longer</span>
<a href="#l153.16"></a><span id="l153.16">     oldWinType = document.documentElement.getAttribute(&quot;windowtype&quot;);</span>
<a href="#l153.17"></a><span id="l153.17">     document.documentElement.setAttribute(&quot;windowtype&quot;, &quot;navigator:testrunner&quot;);</span>
<a href="#l153.18"></a><span id="l153.18">   }</span>
<a href="#l153.19"></a><span id="l153.19"> </span>
<a href="#l153.20"></a><span id="l153.20">   /**</span>
<a href="#l153.21"></a><span id="l153.21">    * Helper: Cleans up behind the testsuite</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l154.1"></a><span id="l154.1" class="difflineminus">--- a/suite/common/tests/browser/browser_448741.js</span>
<a href="#l154.2"></a><span id="l154.2" class="difflineplus">+++ b/suite/common/tests/browser/browser_448741.js</span>
<a href="#l154.3"></a><span id="l154.3" class="difflineat">@@ -49,14 +49,14 @@ function test() {</span>
<a href="#l154.4"></a><span id="l154.4">     getBrowser().removeTab(tab);</span>
<a href="#l154.5"></a><span id="l154.5">     Services.obs.removeObserver(checkingObserver, aTopic, false);</span>
<a href="#l154.6"></a><span id="l154.6">     if (Services.prefs.prefHasUserValue(&quot;browser.sessionstore.interval&quot;))</span>
<a href="#l154.7"></a><span id="l154.7">       Services.prefs.clearUserPref(&quot;browser.sessionstore.interval&quot;);</span>
<a href="#l154.8"></a><span id="l154.8">     finish();</span>
<a href="#l154.9"></a><span id="l154.9">   }</span>
<a href="#l154.10"></a><span id="l154.10"> </span>
<a href="#l154.11"></a><span id="l154.11">   // last added observers are invoked first</span>
<a href="#l154.12"></a><span id="l154.12" class="difflineminus">-  Services.obs.addObserver(checkingObserver, &quot;sessionstore-state-write&quot;, false);</span>
<a href="#l154.13"></a><span id="l154.13" class="difflineminus">-  Services.obs.addObserver(cleaningObserver, &quot;sessionstore-state-write&quot;, false);</span>
<a href="#l154.14"></a><span id="l154.14" class="difflineplus">+  Services.obs.addObserver(checkingObserver, &quot;sessionstore-state-write&quot;);</span>
<a href="#l154.15"></a><span id="l154.15" class="difflineplus">+  Services.obs.addObserver(cleaningObserver, &quot;sessionstore-state-write&quot;);</span>
<a href="#l154.16"></a><span id="l154.16"> </span>
<a href="#l154.17"></a><span id="l154.17">   // trigger an immediate save operation</span>
<a href="#l154.18"></a><span id="l154.18">   Services.prefs.setIntPref(&quot;browser.sessionstore.interval&quot;, 0);</span>
<a href="#l154.19"></a><span id="l154.19"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l155.1"></a><span id="l155.1" class="difflineminus">--- a/suite/common/tests/browser/browser_526613.js</span>
<a href="#l155.2"></a><span id="l155.2" class="difflineplus">+++ b/suite/common/tests/browser/browser_526613.js</span>
<a href="#l155.3"></a><span id="l155.3" class="difflineat">@@ -59,13 +59,13 @@ function test() {</span>
<a href="#l155.4"></a><span id="l155.4">     }</span>
<a href="#l155.5"></a><span id="l155.5">     else {</span>
<a href="#l155.6"></a><span id="l155.6">       browserWindowsCount(1);</span>
<a href="#l155.7"></a><span id="l155.7">       ok(!window.closed, &quot;Restoring the old state should have left this window open&quot;);</span>
<a href="#l155.8"></a><span id="l155.8">       Services.obs.removeObserver(observer, &quot;sessionstore-browser-state-restored&quot;);</span>
<a href="#l155.9"></a><span id="l155.9">       finish();</span>
<a href="#l155.10"></a><span id="l155.10">     }</span>
<a href="#l155.11"></a><span id="l155.11">   }</span>
<a href="#l155.12"></a><span id="l155.12" class="difflineminus">-  Services.obs.addObserver(observer, &quot;sessionstore-browser-state-restored&quot;, false);</span>
<a href="#l155.13"></a><span id="l155.13" class="difflineplus">+  Services.obs.addObserver(observer, &quot;sessionstore-browser-state-restored&quot;);</span>
<a href="#l155.14"></a><span id="l155.14"> </span>
<a href="#l155.15"></a><span id="l155.15">   // set browser to test state</span>
<a href="#l155.16"></a><span id="l155.16">   ss.setBrowserState(JSON.stringify(testState));</span>
<a href="#l155.17"></a><span id="l155.17"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l156.1"></a><span id="l156.1" class="difflineminus">--- a/suite/common/tests/browser/browser_637020.js</span>
<a href="#l156.2"></a><span id="l156.2" class="difflineplus">+++ b/suite/common/tests/browser/browser_637020.js</span>
<a href="#l156.3"></a><span id="l156.3" class="difflineat">@@ -35,17 +35,17 @@ function test() {</span>
<a href="#l156.4"></a><span id="l156.4"> async function runTests() {</span>
<a href="#l156.5"></a><span id="l156.5">   let win;</span>
<a href="#l156.6"></a><span id="l156.6"> </span>
<a href="#l156.7"></a><span id="l156.7">   // Wait until the new window has been opened.</span>
<a href="#l156.8"></a><span id="l156.8">   Services.obs.addObserver(function onOpened(subject) {</span>
<a href="#l156.9"></a><span id="l156.9">     Services.obs.removeObserver(onOpened, &quot;domwindowopened&quot;);</span>
<a href="#l156.10"></a><span id="l156.10">     win = subject;</span>
<a href="#l156.11"></a><span id="l156.11">     executeSoon(next);</span>
<a href="#l156.12"></a><span id="l156.12" class="difflineminus">-  }, &quot;domwindowopened&quot;, false);</span>
<a href="#l156.13"></a><span id="l156.13" class="difflineplus">+  }, &quot;domwindowopened&quot;);</span>
<a href="#l156.14"></a><span id="l156.14"> </span>
<a href="#l156.15"></a><span id="l156.15">   // Set the new browser state that will</span>
<a href="#l156.16"></a><span id="l156.16">   // restore a window with two slowly loading tabs.</span>
<a href="#l156.17"></a><span id="l156.17">   await SessionStore.setBrowserState(JSON.stringify(TEST_STATE));</span>
<a href="#l156.18"></a><span id="l156.18"> </span>
<a href="#l156.19"></a><span id="l156.19">   // The window has now been opened. Check the state that is returned,</span>
<a href="#l156.20"></a><span id="l156.20">   // this should come from the cache while the window isn't restored, yet.</span>
<a href="#l156.21"></a><span id="l156.21">   info(&quot;the window has been opened&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l157.1"></a><span id="l157.1" class="difflineminus">--- a/suite/common/tests/browser/browser_markPageAsFollowedLink.js</span>
<a href="#l157.2"></a><span id="l157.2" class="difflineplus">+++ b/suite/common/tests/browser/browser_markPageAsFollowedLink.js</span>
<a href="#l157.3"></a><span id="l157.3" class="difflineat">@@ -30,17 +30,17 @@ var observer = {</span>
<a href="#l157.4"></a><span id="l157.4">     else if (url == RIGHT_URL ) {</span>
<a href="#l157.5"></a><span id="l157.5">       is(getTransitionForUrl(url), PlacesUtils.history.TRANSITION_FRAMED_LINK,</span>
<a href="#l157.6"></a><span id="l157.6">          &quot;User activated visits should get a FRAMED_LINK transition.&quot;);</span>
<a href="#l157.7"></a><span id="l157.7">       finish();</span>
<a href="#l157.8"></a><span id="l157.8">     }</span>
<a href="#l157.9"></a><span id="l157.9">   },</span>
<a href="#l157.10"></a><span id="l157.10">   QueryInterface: XPCOMUtils.generateQI([Ci.nsIObserver])</span>
<a href="#l157.11"></a><span id="l157.11"> };</span>
<a href="#l157.12"></a><span id="l157.12" class="difflineminus">-Services.obs.addObserver(observer, &quot;uri-visit-saved&quot;, false);</span>
<a href="#l157.13"></a><span id="l157.13" class="difflineplus">+Services.obs.addObserver(observer, &quot;uri-visit-saved&quot;);</span>
<a href="#l157.14"></a><span id="l157.14"> </span>
<a href="#l157.15"></a><span id="l157.15"> function test()</span>
<a href="#l157.16"></a><span id="l157.16"> {</span>
<a href="#l157.17"></a><span id="l157.17">   waitForExplicitFinish();</span>
<a href="#l157.18"></a><span id="l157.18">   gBrowser.selectedTab = gBrowser.addTab(PAGE_URL);</span>
<a href="#l157.19"></a><span id="l157.19">   let frameCount = 0;</span>
<a href="#l157.20"></a><span id="l157.20">   gBrowser.selectedTab.linkedBrowser.addEventListener(&quot;DOMContentLoaded&quot;,</span>
<a href="#l157.21"></a><span id="l157.21">     function gBrowserDOMContentLoaded(event)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l158.1"></a><span id="l158.1" class="difflineminus">--- a/suite/common/tests/browser/head.js</span>
<a href="#l158.2"></a><span id="l158.2" class="difflineplus">+++ b/suite/common/tests/browser/head.js</span>
<a href="#l158.3"></a><span id="l158.3" class="difflineat">@@ -128,17 +128,17 @@ function waitForSaveState(aSaveStateCall</span>
<a href="#l158.4"></a><span id="l158.4">   registerCleanupFunction(function() {</span>
<a href="#l158.5"></a><span id="l158.5">     removeObserver();</span>
<a href="#l158.6"></a><span id="l158.6">     if (timeout) {</span>
<a href="#l158.7"></a><span id="l158.7">       clearTimeout(timeout);</span>
<a href="#l158.8"></a><span id="l158.8">     }</span>
<a href="#l158.9"></a><span id="l158.9">   });</span>
<a href="#l158.10"></a><span id="l158.10"> </span>
<a href="#l158.11"></a><span id="l158.11">   observing = true;</span>
<a href="#l158.12"></a><span id="l158.12" class="difflineminus">-  Services.obs.addObserver(observer, topic, false);</span>
<a href="#l158.13"></a><span id="l158.13" class="difflineplus">+  Services.obs.addObserver(observer, topic);</span>
<a href="#l158.14"></a><span id="l158.14"> };</span>
<a href="#l158.15"></a><span id="l158.15"> </span>
<a href="#l158.16"></a><span id="l158.16"> function whenWindowLoaded(aWindow, aCallback) {</span>
<a href="#l158.17"></a><span id="l158.17">   aWindow.addEventListener(&quot;load&quot;, function windowLoadListener() {</span>
<a href="#l158.18"></a><span id="l158.18">     aWindow.removeEventListener(&quot;load&quot;, windowLoadListener);</span>
<a href="#l158.19"></a><span id="l158.19">     executeSoon(function executeWhenWindowLoaded() {</span>
<a href="#l158.20"></a><span id="l158.20">       aCallback(aWindow);</span>
<a href="#l158.21"></a><span id="l158.21">     });</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l159.1"></a><span id="l159.1" class="difflineminus">--- a/suite/common/tests/preferences/browser_bug410900.js</span>
<a href="#l159.2"></a><span id="l159.2" class="difflineplus">+++ b/suite/common/tests/preferences/browser_bug410900.js</span>
<a href="#l159.3"></a><span id="l159.3" class="difflineat">@@ -21,17 +21,17 @@ function test() {</span>
<a href="#l159.4"></a><span id="l159.4"> </span>
<a href="#l159.5"></a><span id="l159.5">   function observer(win, topic, data) {</span>
<a href="#l159.6"></a><span id="l159.6">     if (topic != &quot;app-handler-pane-loaded&quot;)</span>
<a href="#l159.7"></a><span id="l159.7">       return;</span>
<a href="#l159.8"></a><span id="l159.8"> </span>
<a href="#l159.9"></a><span id="l159.9">     obs.removeObserver(observer, &quot;app-handler-pane-loaded&quot;);</span>
<a href="#l159.10"></a><span id="l159.10">     runTest(win);</span>
<a href="#l159.11"></a><span id="l159.11">   }</span>
<a href="#l159.12"></a><span id="l159.12" class="difflineminus">-  obs.addObserver(observer, &quot;app-handler-pane-loaded&quot;, false);</span>
<a href="#l159.13"></a><span id="l159.13" class="difflineplus">+  obs.addObserver(observer, &quot;app-handler-pane-loaded&quot;);</span>
<a href="#l159.14"></a><span id="l159.14"> </span>
<a href="#l159.15"></a><span id="l159.15">   openDialog(&quot;chrome://communicator/content/pref/preferences.xul&quot;,</span>
<a href="#l159.16"></a><span id="l159.16">              &quot;PrefWindow&quot;, &quot;chrome,titlebar,dialog=no,resizable&quot;,</span>
<a href="#l159.17"></a><span id="l159.17">              &quot;applications_pane&quot;);</span>
<a href="#l159.18"></a><span id="l159.18"> }</span>
<a href="#l159.19"></a><span id="l159.19"> </span>
<a href="#l159.20"></a><span id="l159.20"> function runTest(win) {</span>
<a href="#l159.21"></a><span id="l159.21">   var sel = win.document.documentElement.getAttribute(&quot;lastSelected&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l160.1"></a><span id="l160.1" class="difflineminus">--- a/suite/common/utilityOverlay.js</span>
<a href="#l160.2"></a><span id="l160.2" class="difflineplus">+++ b/suite/common/utilityOverlay.js</span>
<a href="#l160.3"></a><span id="l160.3" class="difflineat">@@ -882,19 +882,19 @@ var proxyTypeObserver = {</span>
<a href="#l160.4"></a><span id="l160.4"> </span>
<a href="#l160.5"></a><span id="l160.5"> function utilityOnLoad(aEvent)</span>
<a href="#l160.6"></a><span id="l160.6"> {</span>
<a href="#l160.7"></a><span id="l160.7">   gUtilityBundle = document.getElementById(&quot;bundle_utilityOverlay&quot;);</span>
<a href="#l160.8"></a><span id="l160.8"> </span>
<a href="#l160.9"></a><span id="l160.9">   var broadcaster = document.getElementById(&quot;Communicator:WorkMode&quot;);</span>
<a href="#l160.10"></a><span id="l160.10">   if (!broadcaster) return;</span>
<a href="#l160.11"></a><span id="l160.11"> </span>
<a href="#l160.12"></a><span id="l160.12" class="difflineminus">-  Services.obs.addObserver(offlineObserver, &quot;network:offline-status-changed&quot;, false);</span>
<a href="#l160.13"></a><span id="l160.13" class="difflineplus">+  Services.obs.addObserver(offlineObserver, &quot;network:offline-status-changed&quot;);</span>
<a href="#l160.14"></a><span id="l160.14">   // make sure we remove this observer later</span>
<a href="#l160.15"></a><span id="l160.15" class="difflineminus">-  Services.prefs.addObserver(&quot;network.proxy.type&quot;, proxyTypeObserver, false);</span>
<a href="#l160.16"></a><span id="l160.16" class="difflineplus">+  Services.prefs.addObserver(&quot;network.proxy.type&quot;, proxyTypeObserver);</span>
<a href="#l160.17"></a><span id="l160.17"> </span>
<a href="#l160.18"></a><span id="l160.18">   addEventListener(&quot;unload&quot;, utilityOnUnload, false);</span>
<a href="#l160.19"></a><span id="l160.19"> </span>
<a href="#l160.20"></a><span id="l160.20">   // set the initial state</span>
<a href="#l160.21"></a><span id="l160.21">   setOfflineUI(Services.io.offline);</span>
<a href="#l160.22"></a><span id="l160.22"> </span>
<a href="#l160.23"></a><span id="l160.23">   // Check for system proxy settings class and show menuitem if present</span>
<a href="#l160.24"></a><span id="l160.24">   if (&quot;@mozilla.org/system-proxy-settings;1&quot; in Components.classes &amp;&amp;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l161.1"></a><span id="l161.1" class="difflineminus">--- a/suite/feeds/src/FeedWriter.js</span>
<a href="#l161.2"></a><span id="l161.2" class="difflineplus">+++ b/suite/feeds/src/FeedWriter.js</span>
<a href="#l161.3"></a><span id="l161.3" class="difflineat">@@ -1014,29 +1014,29 @@ FeedWriter.prototype = {</span>
<a href="#l161.4"></a><span id="l161.4"> </span>
<a href="#l161.5"></a><span id="l161.5">     this._feedPrincipal = Services.scriptSecurityManager</span>
<a href="#l161.6"></a><span id="l161.6">                                   .createCodebasePrincipal(this._feedURI, {});</span>
<a href="#l161.7"></a><span id="l161.7"> </span>
<a href="#l161.8"></a><span id="l161.8">     LOG(&quot;Subscribe Preview: feed uri = &quot; + this._window.location.href);</span>
<a href="#l161.9"></a><span id="l161.9"> </span>
<a href="#l161.10"></a><span id="l161.10">     // Set up the subscription UI</span>
<a href="#l161.11"></a><span id="l161.11">     this._initSubscriptionUI();</span>
<a href="#l161.12"></a><span id="l161.12" class="difflineminus">-    Services.prefs.addObserver(PREF_SELECTED_ACTION, this, false);</span>
<a href="#l161.13"></a><span id="l161.13" class="difflineminus">-    Services.prefs.addObserver(PREF_SELECTED_READER, this, false);</span>
<a href="#l161.14"></a><span id="l161.14" class="difflineminus">-    Services.prefs.addObserver(PREF_SELECTED_WEB, this, false);</span>
<a href="#l161.15"></a><span id="l161.15" class="difflineminus">-    Services.prefs.addObserver(PREF_SELECTED_APP, this, false);</span>
<a href="#l161.16"></a><span id="l161.16" class="difflineminus">-    Services.prefs.addObserver(PREF_VIDEO_SELECTED_ACTION, this, false);</span>
<a href="#l161.17"></a><span id="l161.17" class="difflineminus">-    Services.prefs.addObserver(PREF_VIDEO_SELECTED_READER, this, false);</span>
<a href="#l161.18"></a><span id="l161.18" class="difflineminus">-    Services.prefs.addObserver(PREF_VIDEO_SELECTED_WEB, this, false);</span>
<a href="#l161.19"></a><span id="l161.19" class="difflineminus">-    Services.prefs.addObserver(PREF_VIDEO_SELECTED_APP, this, false);</span>
<a href="#l161.20"></a><span id="l161.20" class="difflineplus">+    Services.prefs.addObserver(PREF_SELECTED_ACTION, this);</span>
<a href="#l161.21"></a><span id="l161.21" class="difflineplus">+    Services.prefs.addObserver(PREF_SELECTED_READER, this);</span>
<a href="#l161.22"></a><span id="l161.22" class="difflineplus">+    Services.prefs.addObserver(PREF_SELECTED_WEB, this);</span>
<a href="#l161.23"></a><span id="l161.23" class="difflineplus">+    Services.prefs.addObserver(PREF_SELECTED_APP, this);</span>
<a href="#l161.24"></a><span id="l161.24" class="difflineplus">+    Services.prefs.addObserver(PREF_VIDEO_SELECTED_ACTION, this);</span>
<a href="#l161.25"></a><span id="l161.25" class="difflineplus">+    Services.prefs.addObserver(PREF_VIDEO_SELECTED_READER, this);</span>
<a href="#l161.26"></a><span id="l161.26" class="difflineplus">+    Services.prefs.addObserver(PREF_VIDEO_SELECTED_WEB, this);</span>
<a href="#l161.27"></a><span id="l161.27" class="difflineplus">+    Services.prefs.addObserver(PREF_VIDEO_SELECTED_APP, this);</span>
<a href="#l161.28"></a><span id="l161.28"> </span>
<a href="#l161.29"></a><span id="l161.29" class="difflineminus">-    Services.prefs.addObserver(PREF_AUDIO_SELECTED_ACTION, this, false);</span>
<a href="#l161.30"></a><span id="l161.30" class="difflineminus">-    Services.prefs.addObserver(PREF_AUDIO_SELECTED_READER, this, false);</span>
<a href="#l161.31"></a><span id="l161.31" class="difflineminus">-    Services.prefs.addObserver(PREF_AUDIO_SELECTED_WEB, this, false);</span>
<a href="#l161.32"></a><span id="l161.32" class="difflineminus">-    Services.prefs.addObserver(PREF_AUDIO_SELECTED_APP, this, false);</span>
<a href="#l161.33"></a><span id="l161.33" class="difflineplus">+    Services.prefs.addObserver(PREF_AUDIO_SELECTED_ACTION, this);</span>
<a href="#l161.34"></a><span id="l161.34" class="difflineplus">+    Services.prefs.addObserver(PREF_AUDIO_SELECTED_READER, this);</span>
<a href="#l161.35"></a><span id="l161.35" class="difflineplus">+    Services.prefs.addObserver(PREF_AUDIO_SELECTED_WEB, this);</span>
<a href="#l161.36"></a><span id="l161.36" class="difflineplus">+    Services.prefs.addObserver(PREF_AUDIO_SELECTED_APP, this);</span>
<a href="#l161.37"></a><span id="l161.37"> </span>
<a href="#l161.38"></a><span id="l161.38">     this._window.addEventListener(&quot;load&quot;, this);</span>
<a href="#l161.39"></a><span id="l161.39">     this._window.addEventListener(&quot;unload&quot;, this);</span>
<a href="#l161.40"></a><span id="l161.40">   },</span>
<a href="#l161.41"></a><span id="l161.41"> </span>
<a href="#l161.42"></a><span id="l161.42">   _writeContent: function writeContent() {</span>
<a href="#l161.43"></a><span id="l161.43">     if (!this._window)</span>
<a href="#l161.44"></a><span id="l161.44">       return;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l162.1"></a><span id="l162.1" class="difflineminus">--- a/suite/feeds/src/WebContentConverter.js</span>
<a href="#l162.2"></a><span id="l162.2" class="difflineplus">+++ b/suite/feeds/src/WebContentConverter.js</span>
<a href="#l162.3"></a><span id="l162.3" class="difflineat">@@ -771,17 +771,17 @@ WebContentConverterRegistrar.prototype =</span>
<a href="#l162.4"></a><span id="l162.4">   },</span>
<a href="#l162.5"></a><span id="l162.5"> </span>
<a href="#l162.6"></a><span id="l162.6">   /**</span>
<a href="#l162.7"></a><span id="l162.7">    * See nsIObserver</span>
<a href="#l162.8"></a><span id="l162.8">    */</span>
<a href="#l162.9"></a><span id="l162.9">   observe: function observe(subject, topic, data) {</span>
<a href="#l162.10"></a><span id="l162.10">     switch (topic) {</span>
<a href="#l162.11"></a><span id="l162.11">     case &quot;app-startup&quot;:</span>
<a href="#l162.12"></a><span id="l162.12" class="difflineminus">-      Services.obs.addObserver(this, &quot;final-ui-startup&quot;, false);</span>
<a href="#l162.13"></a><span id="l162.13" class="difflineplus">+      Services.obs.addObserver(this, &quot;final-ui-startup&quot;);</span>
<a href="#l162.14"></a><span id="l162.14">       break;</span>
<a href="#l162.15"></a><span id="l162.15">     case &quot;final-ui-startup&quot;:</span>
<a href="#l162.16"></a><span id="l162.16">       Services.obs.removeObserver(this, &quot;final-ui-startup&quot;);</span>
<a href="#l162.17"></a><span id="l162.17">       this._init();</span>
<a href="#l162.18"></a><span id="l162.18">       break;</span>
<a href="#l162.19"></a><span id="l162.19">     }</span>
<a href="#l162.20"></a><span id="l162.20">   },</span>
<a href="#l162.21"></a><span id="l162.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l163.1"></a><span id="l163.1" class="difflineminus">--- a/suite/mailnews/commandglue.js</span>
<a href="#l163.2"></a><span id="l163.2" class="difflineplus">+++ b/suite/mailnews/commandglue.js</span>
<a href="#l163.3"></a><span id="l163.3" class="difflineat">@@ -860,17 +860,17 @@ var mailOfflineObserver = {</span>
<a href="#l163.4"></a><span id="l163.4">     // sanity checks</span>
<a href="#l163.5"></a><span id="l163.5">     if (topic != &quot;network:offline-status-changed&quot;) return;</span>
<a href="#l163.6"></a><span id="l163.6">     MailOfflineStateChanged(state == &quot;offline&quot;);</span>
<a href="#l163.7"></a><span id="l163.7">   }</span>
<a href="#l163.8"></a><span id="l163.8"> }</span>
<a href="#l163.9"></a><span id="l163.9"> </span>
<a href="#l163.10"></a><span id="l163.10"> function AddMailOfflineObserver()</span>
<a href="#l163.11"></a><span id="l163.11"> {</span>
<a href="#l163.12"></a><span id="l163.12" class="difflineminus">-  Services.obs.addObserver(mailOfflineObserver, &quot;network:offline-status-changed&quot;, false);</span>
<a href="#l163.13"></a><span id="l163.13" class="difflineplus">+  Services.obs.addObserver(mailOfflineObserver, &quot;network:offline-status-changed&quot;);</span>
<a href="#l163.14"></a><span id="l163.14"> }</span>
<a href="#l163.15"></a><span id="l163.15"> </span>
<a href="#l163.16"></a><span id="l163.16"> function RemoveMailOfflineObserver()</span>
<a href="#l163.17"></a><span id="l163.17"> {</span>
<a href="#l163.18"></a><span id="l163.18">   Services.obs.removeObserver(mailOfflineObserver, &quot;network:offline-status-changed&quot;);</span>
<a href="#l163.19"></a><span id="l163.19"> }</span>
<a href="#l163.20"></a><span id="l163.20"> </span>
<a href="#l163.21"></a><span id="l163.21"> function getSearchTermString(searchTerms)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l164.1"></a><span id="l164.1" class="difflineminus">--- a/suite/mailnews/compose/MsgComposeCommands.js</span>
<a href="#l164.2"></a><span id="l164.2" class="difflineplus">+++ b/suite/mailnews/compose/MsgComposeCommands.js</span>
<a href="#l164.3"></a><span id="l164.3" class="difflineat">@@ -756,19 +756,19 @@ var messageComposeOfflineQuitObserver = </span>
<a href="#l164.4"></a><span id="l164.4">              !aSubject.data)</span>
<a href="#l164.5"></a><span id="l164.5">       aSubject.data = !ComposeCanClose();</span>
<a href="#l164.6"></a><span id="l164.6">   }</span>
<a href="#l164.7"></a><span id="l164.7"> }</span>
<a href="#l164.8"></a><span id="l164.8"> </span>
<a href="#l164.9"></a><span id="l164.9"> function AddMessageComposeOfflineQuitObserver()</span>
<a href="#l164.10"></a><span id="l164.10"> {</span>
<a href="#l164.11"></a><span id="l164.11">   Services.obs.addObserver(messageComposeOfflineQuitObserver,</span>
<a href="#l164.12"></a><span id="l164.12" class="difflineminus">-                           &quot;network:offline-status-changed&quot;, false);</span>
<a href="#l164.13"></a><span id="l164.13" class="difflineplus">+                           &quot;network:offline-status-changed&quot;);</span>
<a href="#l164.14"></a><span id="l164.14">   Services.obs.addObserver(messageComposeOfflineQuitObserver,</span>
<a href="#l164.15"></a><span id="l164.15" class="difflineminus">-                           &quot;quit-application-requested&quot;, false);</span>
<a href="#l164.16"></a><span id="l164.16" class="difflineplus">+                           &quot;quit-application-requested&quot;);</span>
<a href="#l164.17"></a><span id="l164.17"> </span>
<a href="#l164.18"></a><span id="l164.18">   // set the initial state of the send button</span>
<a href="#l164.19"></a><span id="l164.19">   MessageComposeOfflineStateChanged(Services.io.offline);</span>
<a href="#l164.20"></a><span id="l164.20"> }</span>
<a href="#l164.21"></a><span id="l164.21"> </span>
<a href="#l164.22"></a><span id="l164.22"> function RemoveMessageComposeOfflineQuitObserver()</span>
<a href="#l164.23"></a><span id="l164.23"> {</span>
<a href="#l164.24"></a><span id="l164.24">   Services.obs.removeObserver(messageComposeOfflineQuitObserver,</span>
<a href="#l164.25"></a><span id="l164.25" class="difflineat">@@ -2035,17 +2035,17 @@ function addRecipientsToIgnoreList(aAddr</span>
<a href="#l164.26"></a><span id="l164.26">     {</span>
<a href="#l164.27"></a><span id="l164.27">       // spellchecker is enabled, but we must wait for its init to complete</span>
<a href="#l164.28"></a><span id="l164.28">       Services.obs.addObserver(function observe(subject, topic, data) {</span>
<a href="#l164.29"></a><span id="l164.29">         if (subject == gMsgCompose.editor)</span>
<a href="#l164.30"></a><span id="l164.30">         {</span>
<a href="#l164.31"></a><span id="l164.31">           Services.obs.removeObserver(observe, topic);</span>
<a href="#l164.32"></a><span id="l164.32">           InlineSpellCheckerUI.mInlineSpellChecker.ignoreWords(tokenizedNames, tokenizedNames.length);</span>
<a href="#l164.33"></a><span id="l164.33">         }</span>
<a href="#l164.34"></a><span id="l164.34" class="difflineminus">-      }, &quot;inlineSpellChecker-spellCheck-ended&quot;, false);</span>
<a href="#l164.35"></a><span id="l164.35" class="difflineplus">+      }, &quot;inlineSpellChecker-spellCheck-ended&quot;);</span>
<a href="#l164.36"></a><span id="l164.36">     }</span>
<a href="#l164.37"></a><span id="l164.37">     else</span>
<a href="#l164.38"></a><span id="l164.38">     {</span>
<a href="#l164.39"></a><span id="l164.39">       InlineSpellCheckerUI.mInlineSpellChecker.ignoreWords(tokenizedNames, tokenizedNames.length);</span>
<a href="#l164.40"></a><span id="l164.40">     }</span>
<a href="#l164.41"></a><span id="l164.41">   }</span>
<a href="#l164.42"></a><span id="l164.42"> }</span>
<a href="#l164.43"></a><span id="l164.43"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l165.1"></a><span id="l165.1" class="difflineminus">--- a/suite/mailnews/mailTasksOverlay.js</span>
<a href="#l165.2"></a><span id="l165.2" class="difflineplus">+++ b/suite/mailnews/mailTasksOverlay.js</span>
<a href="#l165.3"></a><span id="l165.3" class="difflineat">@@ -163,17 +163,17 @@ function MailTasksOnLoad(aEvent)</span>
<a href="#l165.4"></a><span id="l165.4">   // Without the mini-mail icon to show the biff state, there's no need to</span>
<a href="#l165.5"></a><span id="l165.5">   // initialize this here. We won't start with the hidden window alone,</span>
<a href="#l165.6"></a><span id="l165.6">   // so this early return doesn't break anything.</span>
<a href="#l165.7"></a><span id="l165.7">   var miniMail = document.getElementById(&quot;mini-mail&quot;);</span>
<a href="#l165.8"></a><span id="l165.8">   if (!miniMail)</span>
<a href="#l165.9"></a><span id="l165.9">     return;</span>
<a href="#l165.10"></a><span id="l165.10"> </span>
<a href="#l165.11"></a><span id="l165.11">   // initialize biff state</span>
<a href="#l165.12"></a><span id="l165.12" class="difflineminus">-  Services.obs.addObserver(biffObserver, BIFF_TOPIC, false);</span>
<a href="#l165.13"></a><span id="l165.13" class="difflineplus">+  Services.obs.addObserver(biffObserver, BIFF_TOPIC);</span>
<a href="#l165.14"></a><span id="l165.14">   biffObserver.observe(null, BIFF_TOPIC, null); // init mini-mail icon</span>
<a href="#l165.15"></a><span id="l165.15">   addEventListener(&quot;unload&quot;, MailTasksOnUnload, false);</span>
<a href="#l165.16"></a><span id="l165.16"> </span>
<a href="#l165.17"></a><span id="l165.17">   // don't try to biff if offline, but do so silently</span>
<a href="#l165.18"></a><span id="l165.18">   if (Services.io.offline)</span>
<a href="#l165.19"></a><span id="l165.19">     return;</span>
<a href="#l165.20"></a><span id="l165.20"> </span>
<a href="#l165.21"></a><span id="l165.21">   // Performing biff here will mean performing it for all new windows opened!</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l166.1"></a><span id="l166.1" class="difflineminus">--- a/suite/mailnews/msgHdrViewOverlay.js</span>
<a href="#l166.2"></a><span id="l166.2" class="difflineplus">+++ b/suite/mailnews/msgHdrViewOverlay.js</span>
<a href="#l166.3"></a><span id="l166.3" class="difflineat">@@ -230,17 +230,17 @@ function OnLoadMsgHeaderPane()</span>
<a href="#l166.4"></a><span id="l166.4">   gCollectOutgoing = Services.prefs.getBoolPref(&quot;mail.collect_email_address_outgoing&quot;);</span>
<a href="#l166.5"></a><span id="l166.5">   gShowCondensedEmailAddresses = Services.prefs.getBoolPref(&quot;mail.showCondensedAddresses&quot;);</span>
<a href="#l166.6"></a><span id="l166.6">   gShowUserAgent = Services.prefs.getBoolPref(&quot;mailnews.headers.showUserAgent&quot;);</span>
<a href="#l166.7"></a><span id="l166.7">   gShowOrganization = Services.prefs.getBoolPref(&quot;mailnews.headers.showOrganization&quot;);</span>
<a href="#l166.8"></a><span id="l166.8">   gShowReferences = Services.prefs.getBoolPref(&quot;mailnews.headers.showReferences&quot;);</span>
<a href="#l166.9"></a><span id="l166.9">   gShowMessageId = Services.prefs.getBoolPref(&quot;mailnews.headers.showMessageId&quot;);</span>
<a href="#l166.10"></a><span id="l166.10">   gExtraExpandedHeaders = Services.prefs.getCharPref(&quot;mailnews.headers.extraExpandedHeaders&quot;);</span>
<a href="#l166.11"></a><span id="l166.11"> </span>
<a href="#l166.12"></a><span id="l166.12" class="difflineminus">-  Services.prefs.addObserver(&quot;mail.showCondensedAddresses&quot;, MsgHdrViewObserver, false);</span>
<a href="#l166.13"></a><span id="l166.13" class="difflineplus">+  Services.prefs.addObserver(&quot;mail.showCondensedAddresses&quot;, MsgHdrViewObserver);</span>
<a href="#l166.14"></a><span id="l166.14"> </span>
<a href="#l166.15"></a><span id="l166.15">   initializeHeaderViewTables();</span>
<a href="#l166.16"></a><span id="l166.16"> </span>
<a href="#l166.17"></a><span id="l166.17">   // Add an address book listener so we can update the header view when things</span>
<a href="#l166.18"></a><span id="l166.18">   // change.</span>
<a href="#l166.19"></a><span id="l166.19">   Components.classes[&quot;@mozilla.org/abmanager;1&quot;]</span>
<a href="#l166.20"></a><span id="l166.20">             .getService(Components.interfaces.nsIAbManager)</span>
<a href="#l166.21"></a><span id="l166.21">             .addAddressBookListener(AddressBookListener, nsIAbListener.all);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l167.1"></a><span id="l167.1" class="difflineminus">--- a/suite/mailnews/msgMail3PaneWindow.js</span>
<a href="#l167.2"></a><span id="l167.2" class="difflineplus">+++ b/suite/mailnews/msgMail3PaneWindow.js</span>
<a href="#l167.3"></a><span id="l167.3" class="difflineat">@@ -662,18 +662,18 @@ const MailPrefObserver = {</span>
<a href="#l167.4"></a><span id="l167.4">   }</span>
<a href="#l167.5"></a><span id="l167.5"> };</span>
<a href="#l167.6"></a><span id="l167.6"> </span>
<a href="#l167.7"></a><span id="l167.7"> /* Functions related to startup */</span>
<a href="#l167.8"></a><span id="l167.8"> function OnLoadMessenger()</span>
<a href="#l167.9"></a><span id="l167.9"> {</span>
<a href="#l167.10"></a><span id="l167.10">   AddMailOfflineObserver();</span>
<a href="#l167.11"></a><span id="l167.11">   CreateMailWindowGlobals();</span>
<a href="#l167.12"></a><span id="l167.12" class="difflineminus">-  Services.prefs.addObserver(&quot;mail.pane_config.dynamic&quot;, MailPrefObserver, false);</span>
<a href="#l167.13"></a><span id="l167.13" class="difflineminus">-  Services.prefs.addObserver(&quot;mail.showCondensedAddresses&quot;, MailPrefObserver, false);</span>
<a href="#l167.14"></a><span id="l167.14" class="difflineplus">+  Services.prefs.addObserver(&quot;mail.pane_config.dynamic&quot;, MailPrefObserver);</span>
<a href="#l167.15"></a><span id="l167.15" class="difflineplus">+  Services.prefs.addObserver(&quot;mail.showCondensedAddresses&quot;, MailPrefObserver);</span>
<a href="#l167.16"></a><span id="l167.16">   UpdateMailPaneConfig();</span>
<a href="#l167.17"></a><span id="l167.17">   Create3PaneGlobals();</span>
<a href="#l167.18"></a><span id="l167.18">   verifyAccounts(null, false);</span>
<a href="#l167.19"></a><span id="l167.19">   msgDBCacheManager.init();</span>
<a href="#l167.20"></a><span id="l167.20"> </span>
<a href="#l167.21"></a><span id="l167.21">   // set the messenger default window size relative to the screen size</span>
<a href="#l167.22"></a><span id="l167.22">   // initial default dimensions are 2/3 and 1/2 of the screen dimensions</span>
<a href="#l167.23"></a><span id="l167.23">   if (!document.documentElement.hasAttribute(&quot;width&quot;)) {</span>
<a href="#l167.24"></a><span id="l167.24" class="difflineat">@@ -696,17 +696,17 @@ function OnLoadMessenger()</span>
<a href="#l167.25"></a><span id="l167.25">     document.documentElement.setAttribute(&quot;width&quot;,  defaultWidth  - 24);</span>
<a href="#l167.26"></a><span id="l167.26">   }</span>
<a href="#l167.27"></a><span id="l167.27"> </span>
<a href="#l167.28"></a><span id="l167.28">   // initialize tabmail system - see tabmail.js and tabmail.xml for details</span>
<a href="#l167.29"></a><span id="l167.29">   let tabmail = GetTabMail();</span>
<a href="#l167.30"></a><span id="l167.30">   tabmail.registerTabType(gMailNewsTabsType);</span>
<a href="#l167.31"></a><span id="l167.31">   tabmail.openFirstTab();</span>
<a href="#l167.32"></a><span id="l167.32">   Services.obs.addObserver(MailWindowIsClosing,</span>
<a href="#l167.33"></a><span id="l167.33" class="difflineminus">-                           &quot;quit-application-requested&quot;, false);</span>
<a href="#l167.34"></a><span id="l167.34" class="difflineplus">+                           &quot;quit-application-requested&quot;);</span>
<a href="#l167.35"></a><span id="l167.35"> </span>
<a href="#l167.36"></a><span id="l167.36">   InitMsgWindow();</span>
<a href="#l167.37"></a><span id="l167.37">   messenger.setWindow(window, msgWindow);</span>
<a href="#l167.38"></a><span id="l167.38"> </span>
<a href="#l167.39"></a><span id="l167.39">   InitializeDataSources();</span>
<a href="#l167.40"></a><span id="l167.40">   InitPanes();</span>
<a href="#l167.41"></a><span id="l167.41"> </span>
<a href="#l167.42"></a><span id="l167.42">   MigrateJunkMailSettings();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l168.1"></a><span id="l168.1" class="difflineminus">--- a/suite/mailnews/search/FilterListDialog.js</span>
<a href="#l168.2"></a><span id="l168.2" class="difflineplus">+++ b/suite/mailnews/search/FilterListDialog.js</span>
<a href="#l168.3"></a><span id="l168.3" class="difflineat">@@ -163,17 +163,17 @@ function onLoad()</span>
<a href="#l168.4"></a><span id="l168.4">       selectFolder(firstItem);</span>
<a href="#l168.5"></a><span id="l168.5">     else</span>
<a href="#l168.6"></a><span id="l168.6">       updateButtons();</span>
<a href="#l168.7"></a><span id="l168.7"> </span>
<a href="#l168.8"></a><span id="l168.8">     // Focus the list.</span>
<a href="#l168.9"></a><span id="l168.9">     gFilterTree.focus();</span>
<a href="#l168.10"></a><span id="l168.10"> </span>
<a href="#l168.11"></a><span id="l168.11">     Services.obs.addObserver(onFilterClose,</span>
<a href="#l168.12"></a><span id="l168.12" class="difflineminus">-                             &quot;quit-application-requested&quot;, false);</span>
<a href="#l168.13"></a><span id="l168.13" class="difflineplus">+                             &quot;quit-application-requested&quot;);</span>
<a href="#l168.14"></a><span id="l168.14"> </span>
<a href="#l168.15"></a><span id="l168.15">     top.controllers.insertControllerAt(0, gFilterController);</span>
<a href="#l168.16"></a><span id="l168.16"> }</span>
<a href="#l168.17"></a><span id="l168.17"> </span>
<a href="#l168.18"></a><span id="l168.18"> /**</span>
<a href="#l168.19"></a><span id="l168.19">  * Called when a user selects a folder in the list, so we can update the</span>
<a href="#l168.20"></a><span id="l168.20">  * filters that are displayed</span>
<a href="#l168.21"></a><span id="l168.21">  *</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l169.1"></a><span id="l169.1" class="difflineminus">--- a/suite/mailnews/tabmail.xml</span>
<a href="#l169.2"></a><span id="l169.2" class="difflineplus">+++ b/suite/mailnews/tabmail.xml</span>
<a href="#l169.3"></a><span id="l169.3" class="difflineat">@@ -210,17 +210,17 @@</span>
<a href="#l169.4"></a><span id="l169.4">     &lt;/content&gt;</span>
<a href="#l169.5"></a><span id="l169.5"> </span>
<a href="#l169.6"></a><span id="l169.6">     &lt;implementation implements=&quot;nsIController, nsIObserver&quot;&gt;</span>
<a href="#l169.7"></a><span id="l169.7">       &lt;constructor&gt;</span>
<a href="#l169.8"></a><span id="l169.8">         &lt;![CDATA[</span>
<a href="#l169.9"></a><span id="l169.9">           window.controllers.insertControllerAt(0, this);</span>
<a href="#l169.10"></a><span id="l169.10">           const kAutoHide = &quot;browser.tabs.autoHide&quot;;</span>
<a href="#l169.11"></a><span id="l169.11">           this.mAutoHide = this.mPrefs.getBoolPref(kAutoHide);</span>
<a href="#l169.12"></a><span id="l169.12" class="difflineminus">-          this.mPrefs.addObserver(kAutoHide, this, false);</span>
<a href="#l169.13"></a><span id="l169.13" class="difflineplus">+          this.mPrefs.addObserver(kAutoHide, this);</span>
<a href="#l169.14"></a><span id="l169.14">         ]]&gt;</span>
<a href="#l169.15"></a><span id="l169.15">       &lt;/constructor&gt;</span>
<a href="#l169.16"></a><span id="l169.16"> </span>
<a href="#l169.17"></a><span id="l169.17">       &lt;destructor&gt;</span>
<a href="#l169.18"></a><span id="l169.18">         &lt;![CDATA[</span>
<a href="#l169.19"></a><span id="l169.19">           this.mPrefs.removeObserver(&quot;browser.tabs.autoHide&quot;, this);</span>
<a href="#l169.20"></a><span id="l169.20">           window.controllers.removeController(this);</span>
<a href="#l169.21"></a><span id="l169.21">         ]]&gt;</span>
<a href="#l169.22"></a><span id="l169.22" class="difflineat">@@ -1047,17 +1047,17 @@</span>
<a href="#l169.23"></a><span id="l169.23">         &lt;![CDATA[</span>
<a href="#l169.24"></a><span id="l169.24">           this.mTabMinWidth  = this.mPrefs.getIntPref (&quot;browser.tabs.tabMinWidth&quot;);</span>
<a href="#l169.25"></a><span id="l169.25">           this.mTabMaxWidth  = this.mPrefs.getIntPref (&quot;browser.tabs.tabMaxWidth&quot;);</span>
<a href="#l169.26"></a><span id="l169.26">           this.mTabClipWidth = this.mPrefs.getIntPref (&quot;browser.tabs.tabClipWidth&quot;);</span>
<a href="#l169.27"></a><span id="l169.27">           this.mCloseButtons = this.mPrefs.getIntPref (&quot;browser.tabs.closeButtons&quot;);</span>
<a href="#l169.28"></a><span id="l169.28">           this.firstChild.minWidth = this.mTabMinWidth;</span>
<a href="#l169.29"></a><span id="l169.29">           this.firstChild.maxWidth = this.mTabMaxWidth;</span>
<a href="#l169.30"></a><span id="l169.30">           this.adjustTabstrip();</span>
<a href="#l169.31"></a><span id="l169.31" class="difflineminus">-          this.mPrefs.addObserver(&quot;browser.tabs.&quot;, this, false);</span>
<a href="#l169.32"></a><span id="l169.32" class="difflineplus">+          this.mPrefs.addObserver(&quot;browser.tabs.&quot;, this);</span>
<a href="#l169.33"></a><span id="l169.33">           window.addEventListener(&quot;resize&quot;, this);</span>
<a href="#l169.34"></a><span id="l169.34"> </span>
<a href="#l169.35"></a><span id="l169.35">           // Listen to overflow/underflow events on the tabstrip,</span>
<a href="#l169.36"></a><span id="l169.36">           // we cannot put these as xbl handlers on the entire binding because</span>
<a href="#l169.37"></a><span id="l169.37">           // they would also get called for the all-tabs popup scrollbox.</span>
<a href="#l169.38"></a><span id="l169.38">           // Also, we can't rely on event.target because these are all</span>
<a href="#l169.39"></a><span id="l169.39">           // anonymous nodes.</span>
<a href="#l169.40"></a><span id="l169.40">           this.mTabstrip.addEventListener(&quot;overflow&quot;,  this);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l170.1"></a><span id="l170.1" class="difflineminus">--- a/suite/modules/DownloadTaskbarProgress.jsm</span>
<a href="#l170.2"></a><span id="l170.2" class="difflineplus">+++ b/suite/modules/DownloadTaskbarProgress.jsm</span>
<a href="#l170.3"></a><span id="l170.3" class="difflineat">@@ -126,17 +126,17 @@ var DownloadTaskbarProgressUpdater =</span>
<a href="#l170.4"></a><span id="l170.4">       DownloadTaskbarProgressUpdater = null;</span>
<a href="#l170.5"></a><span id="l170.5">       return;</span>
<a href="#l170.6"></a><span id="l170.6">     }</span>
<a href="#l170.7"></a><span id="l170.7"> </span>
<a href="#l170.8"></a><span id="l170.8">     this._taskbarState = Ci.nsITaskbarProgress.STATE_NO_PROGRESS;</span>
<a href="#l170.9"></a><span id="l170.9"> </span>
<a href="#l170.10"></a><span id="l170.10">     this._os = Cc[&quot;@mozilla.org/observer-service;1&quot;].</span>
<a href="#l170.11"></a><span id="l170.11">                getService(Ci.nsIObserverService);</span>
<a href="#l170.12"></a><span id="l170.12" class="difflineminus">-    this._os.addObserver(this, &quot;quit-application-granted&quot;, false);</span>
<a href="#l170.13"></a><span id="l170.13" class="difflineplus">+    this._os.addObserver(this, &quot;quit-application-granted&quot;);</span>
<a href="#l170.14"></a><span id="l170.14"> </span>
<a href="#l170.15"></a><span id="l170.15">     this._updateStatus();</span>
<a href="#l170.16"></a><span id="l170.16">     // onBrowserWindowLoad/onDownloadWindowLoad are going to set the active</span>
<a href="#l170.17"></a><span id="l170.17">     // window, so don't do it here.</span>
<a href="#l170.18"></a><span id="l170.18">   },</span>
<a href="#l170.19"></a><span id="l170.19"> </span>
<a href="#l170.20"></a><span id="l170.20">   /**</span>
<a href="#l170.21"></a><span id="l170.21">    * Unregisters ourselves as a download progress listener.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l171.1"></a><span id="l171.1" class="difflineminus">--- a/suite/profile/migration.js</span>
<a href="#l171.2"></a><span id="l171.2" class="difflineplus">+++ b/suite/profile/migration.js</span>
<a href="#l171.3"></a><span id="l171.3" class="difflineat">@@ -19,21 +19,21 @@ var MigrationWizard = {</span>
<a href="#l171.4"></a><span id="l171.4">   _autoMigrate: null,           // Whether or not we are actually migrating.</span>
<a href="#l171.5"></a><span id="l171.5">   _singleItem: false,           // Are we choosing just to import a single</span>
<a href="#l171.6"></a><span id="l171.6">                                 // item into the current profile?</span>
<a href="#l171.7"></a><span id="l171.7">   _newHomePage: null,           // Are we setting a new home page - what to?</span>
<a href="#l171.8"></a><span id="l171.8"> </span>
<a href="#l171.9"></a><span id="l171.9">   init: function() {</span>
<a href="#l171.10"></a><span id="l171.10">     var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l171.11"></a><span id="l171.11">                        .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l171.12"></a><span id="l171.12" class="difflineminus">-    os.addObserver(this, &quot;Migration:Started&quot;, false);</span>
<a href="#l171.13"></a><span id="l171.13" class="difflineminus">-    os.addObserver(this, &quot;Migration:ItemBeforeMigrate&quot;, false);</span>
<a href="#l171.14"></a><span id="l171.14" class="difflineminus">-    os.addObserver(this, &quot;Migration:ItemAfterMigrate&quot;, false);</span>
<a href="#l171.15"></a><span id="l171.15" class="difflineminus">-    os.addObserver(this, &quot;Migration:Ended&quot;, false);</span>
<a href="#l171.16"></a><span id="l171.16" class="difflineminus">-    os.addObserver(this, &quot;Migration:Progress&quot;, false);</span>
<a href="#l171.17"></a><span id="l171.17" class="difflineplus">+    os.addObserver(this, &quot;Migration:Started&quot;);</span>
<a href="#l171.18"></a><span id="l171.18" class="difflineplus">+    os.addObserver(this, &quot;Migration:ItemBeforeMigrate&quot;);</span>
<a href="#l171.19"></a><span id="l171.19" class="difflineplus">+    os.addObserver(this, &quot;Migration:ItemAfterMigrate&quot;);</span>
<a href="#l171.20"></a><span id="l171.20" class="difflineplus">+    os.addObserver(this, &quot;Migration:Ended&quot;);</span>
<a href="#l171.21"></a><span id="l171.21" class="difflineplus">+    os.addObserver(this, &quot;Migration:Progress&quot;);</span>
<a href="#l171.22"></a><span id="l171.22"> </span>
<a href="#l171.23"></a><span id="l171.23">     this._wiz = document.documentElement;</span>
<a href="#l171.24"></a><span id="l171.24">     this._wiz.canRewind = false;</span>
<a href="#l171.25"></a><span id="l171.25"> </span>
<a href="#l171.26"></a><span id="l171.26">     if (&quot;arguments&quot; in window) {</span>
<a href="#l171.27"></a><span id="l171.27">       if (&quot;arguments&quot; in window &amp;&amp; window.arguments[0] == &quot;bookmarks&quot;) {</span>
<a href="#l171.28"></a><span id="l171.28">         this._singleItem = true;</span>
<a href="#l171.29"></a><span id="l171.29">         this._itemsFlags = nsISuiteProfileMigrator.BOOKMARKS;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l172.1"></a><span id="l172.1" class="difflineminus">--- a/suite/smile/test/browser_ApplicationQuitting.js</span>
<a href="#l172.2"></a><span id="l172.2" class="difflineplus">+++ b/suite/smile/test/browser_ApplicationQuitting.js</span>
<a href="#l172.3"></a><span id="l172.3" class="difflineat">@@ -2,16 +2,16 @@ function test() {</span>
<a href="#l172.4"></a><span id="l172.4">   function quitRequestObserver(aSubject, aTopic, aData) {</span>
<a href="#l172.5"></a><span id="l172.5">     ok(aTopic == &quot;quit-application-requested&quot; &amp;&amp;</span>
<a href="#l172.6"></a><span id="l172.6">        aSubject instanceof Components.interfaces.nsISupportsPRBool,</span>
<a href="#l172.7"></a><span id="l172.7">        &quot;Received a quit request we're going to deny&quot;);</span>
<a href="#l172.8"></a><span id="l172.8">     aSubject.data = true;</span>
<a href="#l172.9"></a><span id="l172.9">   }</span>
<a href="#l172.10"></a><span id="l172.10"> </span>
<a href="#l172.11"></a><span id="l172.11">   // ensure that we don't accidentally quit</span>
<a href="#l172.12"></a><span id="l172.12" class="difflineminus">-  Services.obs.addObserver(quitRequestObserver, &quot;quit-application-requested&quot;, false);</span>
<a href="#l172.13"></a><span id="l172.13" class="difflineplus">+  Services.obs.addObserver(quitRequestObserver, &quot;quit-application-requested&quot;);</span>
<a href="#l172.14"></a><span id="l172.14"> </span>
<a href="#l172.15"></a><span id="l172.15">   ok(!Application.quit(),    &quot;Tried to quit - and didn't succeed&quot;);</span>
<a href="#l172.16"></a><span id="l172.16">   ok(!Application.restart(), &quot;Tried to restart - and didn't succeed&quot;);</span>
<a href="#l172.17"></a><span id="l172.17"> </span>
<a href="#l172.18"></a><span id="l172.18">   // clean up</span>
<a href="#l172.19"></a><span id="l172.19">   Services.obs.removeObserver(quitRequestObserver, &quot;quit-application-requested&quot;, false);</span>
<a href="#l172.20"></a><span id="l172.20"> }</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

