<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 3603:977abd1818d291dadc44973002f38b3118480822</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 977abd1818d291dadc44973002f38b3118480822" />
<meta property="og:url" content="/comm-central/rev/977abd1818d291dadc44973002f38b3118480822" />
<meta property="og:description" content="Bug 506290 - &quot;[autoconfig] Layout changes to quick account setup.&quot; [r=philringnalda sr=bienvenu ui-r=clarkbw a=blocking-thunderbird3]" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 977abd1818d291dadc44973002f38b3118480822 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/977abd1818d291dadc44973002f38b3118480822">shortlog</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/977abd1818d291dadc44973002f38b3118480822">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822">files</a> |
changeset |
<a href="/comm-central/raw-rev/977abd1818d291dadc44973002f38b3118480822">raw</a>  | <a href="/comm-central/archive/977abd1818d291dadc44973002f38b3118480822.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=506290">Bug 506290</a> - &quot;[autoconfig] Layout changes to quick account setup.&quot; [r=philringnalda sr=bienvenu ui-r=clarkbw a=blocking-thunderbird3]
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#66;&#108;&#97;&#107;&#101;&#32;&#87;&#105;&#110;&#116;&#111;&#110;&#32;&#60;&#98;&#119;&#105;&#110;&#116;&#111;&#110;&#64;&#108;&#97;&#116;&#116;&#101;&#46;&#99;&#97;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 09 Sep 2009 16:31:13 +0100</td></tr>

<tr>
 <td>changeset 3603</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/977abd1818d291dadc44973002f38b3118480822">977abd1818d291dadc44973002f38b3118480822</a></td>
</tr>



<tr>
<td>parent 3602</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/806cadd87cb3a40807de722125b62aa5db1da915">806cadd87cb3a40807de722125b62aa5db1da915</a>
</td>
</tr>

<tr>
<td>child 3604</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/e48b83b92332585113407272558d328b8a0c09f1">e48b83b92332585113407272558d328b8a0c09f1</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=977abd1818d291dadc44973002f38b3118480822">2919</a></td></tr>
<tr><td>push user</td><td>bugzilla@standard8.plus.com</td></tr>
<tr><td>push date</td><td class="date age">Wed, 09 Sep 2009 15:46:24 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@05a96c1d5a0a [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=05a96c1d5a0adf0cddf0131bcddcc46b62dbca3e">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=05a96c1d5a0adf0cddf0131bcddcc46b62dbca3e&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=05a96c1d5a0adf0cddf0131bcddcc46b62dbca3e&newProject=comm-central&newRevision=977abd1818d291dadc44973002f38b3118480822&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=05a96c1d5a0adf0cddf0131bcddcc46b62dbca3e&newProject=comm-central&newRevision=977abd1818d291dadc44973002f38b3118480822&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=05a96c1d5a0adf0cddf0131bcddcc46b62dbca3e&newProject=comm-central&newRevision=977abd1818d291dadc44973002f38b3118480822&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28philringnalda%29&revcount=50">philringnalda</a>, <a href="/comm-central/log?rev=reviewer%28bienvenu%29&revcount=50">bienvenu</a>, <a href="/comm-central/log?rev=reviewer%28clarkbw%29&revcount=50">clarkbw</a>, <a href="/comm-central/log?rev=reviewer%28blocking-thunderbird3%29&revcount=50">blocking-thunderbird3</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=506290">506290</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=506290">Bug 506290</a> - &quot;[autoconfig] Layout changes to quick account setup.&quot; [r=philringnalda sr=bienvenu ui-r=clarkbw a=blocking-thunderbird3]</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.dtd">mail/locales/en-US/chrome/messenger/accountCreation.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.dtd">file</a> |
<a href="/comm-central/annotate/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.dtd">annotate</a> |
<a href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.dtd">diff</a> |
<a href="/comm-central/comparison/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.dtd">comparison</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.properties">mail/locales/en-US/chrome/messenger/accountCreation.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.properties">file</a> |
<a href="/comm-central/annotate/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.properties">annotate</a> |
<a href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.properties">diff</a> |
<a href="/comm-central/comparison/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.properties">comparison</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822/mail/locales/en-US/chrome/messenger/accountCreation.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/themes/gnomestripe/mail/accountCreation.css">mail/themes/gnomestripe/mail/accountCreation.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822/mail/themes/gnomestripe/mail/accountCreation.css">file</a> |
<a href="/comm-central/annotate/977abd1818d291dadc44973002f38b3118480822/mail/themes/gnomestripe/mail/accountCreation.css">annotate</a> |
<a href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/themes/gnomestripe/mail/accountCreation.css">diff</a> |
<a href="/comm-central/comparison/977abd1818d291dadc44973002f38b3118480822/mail/themes/gnomestripe/mail/accountCreation.css">comparison</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822/mail/themes/gnomestripe/mail/accountCreation.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/themes/pinstripe/mail/accountCreation.css">mail/themes/pinstripe/mail/accountCreation.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822/mail/themes/pinstripe/mail/accountCreation.css">file</a> |
<a href="/comm-central/annotate/977abd1818d291dadc44973002f38b3118480822/mail/themes/pinstripe/mail/accountCreation.css">annotate</a> |
<a href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/themes/pinstripe/mail/accountCreation.css">diff</a> |
<a href="/comm-central/comparison/977abd1818d291dadc44973002f38b3118480822/mail/themes/pinstripe/mail/accountCreation.css">comparison</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822/mail/themes/pinstripe/mail/accountCreation.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/themes/qute/mail/accountCreation.css">mail/themes/qute/mail/accountCreation.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822/mail/themes/qute/mail/accountCreation.css">file</a> |
<a href="/comm-central/annotate/977abd1818d291dadc44973002f38b3118480822/mail/themes/qute/mail/accountCreation.css">annotate</a> |
<a href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mail/themes/qute/mail/accountCreation.css">diff</a> |
<a href="/comm-central/comparison/977abd1818d291dadc44973002f38b3118480822/mail/themes/qute/mail/accountCreation.css">comparison</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822/mail/themes/qute/mail/accountCreation.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.js">mailnews/base/prefs/content/accountcreation/emailWizard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.js">file</a> |
<a href="/comm-central/annotate/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.js">annotate</a> |
<a href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.js">diff</a> |
<a href="/comm-central/comparison/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.js">comparison</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.xul">mailnews/base/prefs/content/accountcreation/emailWizard.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.xul">file</a> |
<a href="/comm-central/annotate/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.xul">annotate</a> |
<a href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.xul">diff</a> |
<a href="/comm-central/comparison/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.xul">comparison</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/emailWizard.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/verifyConfig.js">mailnews/base/prefs/content/accountcreation/verifyConfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/verifyConfig.js">file</a> |
<a href="/comm-central/annotate/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/verifyConfig.js">annotate</a> |
<a href="/comm-central/diff/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/verifyConfig.js">diff</a> |
<a href="/comm-central/comparison/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/verifyConfig.js">comparison</a> |
<a href="/comm-central/log/977abd1818d291dadc44973002f38b3118480822/mailnews/base/prefs/content/accountcreation/verifyConfig.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/accountCreation.dtd</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/accountCreation.dtd</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,36 +1,41 @@</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineminus">-&lt;!ENTITY welcome.description             &quot;Quick Account Setup&quot;&gt;</span>
<a href="#l1.5"></a><span id="l1.5" class="difflineminus">-&lt;!ENTITY autoconfigWizard.style          &quot;width: 640px; height: 480px;&quot;&gt;</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineminus">-&lt;!ENTITY name.description                &quot;Your name&quot;&gt;</span>
<a href="#l1.7"></a><span id="l1.7" class="difflineminus">-&lt;!ENTITY email.description               &quot;Email&quot;&gt;</span>
<a href="#l1.8"></a><span id="l1.8" class="difflineminus">-&lt;!ENTITY password.description            &quot;Password&quot;&gt;</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineminus">-</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">-&lt;!ENTITY next.label                      &quot;Next &amp;#187;&quot;&gt;</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineminus">-&lt;!ENTITY next.accesskey                  &quot;N&quot;&gt;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-&lt;!ENTITY back.label                      &quot;&amp;#171; Back&quot;&gt;</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-&lt;!ENTITY back.accesskey                  &quot;B&quot;&gt;</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+&lt;!ENTITY autoconfigWizard.title          &quot;Mail Account Setup&quot;&gt;</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+&lt;!ENTITY name.label                      &quot;Your name:&quot;&gt;</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+&lt;!ENTITY name.accesskey                  &quot;n&quot;&gt;</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+&lt;!ENTITY name.emptytext                  &quot;First Last&quot;&gt;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+&lt;!ENTITY name.text                       &quot;Your name, as shown to others&quot;&gt;</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+&lt;!ENTITY email.label                     &quot;Email address:&quot;&gt;</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+&lt;!ENTITY email.accesskey                 &quot;l&quot;&gt;</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+&lt;!ENTITY email.emptytext                 &quot;email@example.com&quot;&gt;</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+&lt;!ENTITY password.label                  &quot;Password:&quot;&gt;</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineplus">+&lt;!ENTITY password.accesskey              &quot;P&quot;&gt;</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+&lt;!ENTITY password.emptytext              &quot;Password&quot;&gt;</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineplus">+&lt;!ENTITY password.text                   &quot;Optional, will only be used to validate the username&quot;&gt;</span>
<a href="#l1.26"></a><span id="l1.26"> </span>
<a href="#l1.27"></a><span id="l1.27"> &lt;!ENTITY accountInformation.label        &quot;Account Information&quot;&gt;</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">-&lt;!ENTITY username.label                  &quot;username&quot;&gt;</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-&lt;!ENTITY receivingServer.label           &quot;receiving&quot;&gt;</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineminus">-&lt;!ENTITY sendingServer.label             &quot;sending&quot;&gt;</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+&lt;!ENTITY username2.label                 &quot;Username:&quot;&gt;</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+&lt;!ENTITY incoming.label                  &quot;Incoming:&quot;&gt;</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+&lt;!ENTITY outgoing.label                  &quot;Outgoing:&quot;&gt;</span>
<a href="#l1.34"></a><span id="l1.34"> &lt;!ENTITY noEncryption.label              &quot;None&quot;&gt;</span>
<a href="#l1.35"></a><span id="l1.35"> &lt;!ENTITY starttls.label                  &quot;STARTTLS&quot;&gt;</span>
<a href="#l1.36"></a><span id="l1.36"> &lt;!ENTITY sslTls.label                    &quot;SSL/TLS&quot;&gt;</span>
<a href="#l1.37"></a><span id="l1.37"> </span>
<a href="#l1.38"></a><span id="l1.38"> &lt;!ENTITY imap.label                      &quot;IMAP&quot;&gt;</span>
<a href="#l1.39"></a><span id="l1.39"> &lt;!ENTITY pop.label                       &quot;POP&quot;&gt;</span>
<a href="#l1.40"></a><span id="l1.40"> &lt;!ENTITY smtp.label                      &quot;SMTP&quot;&gt;</span>
<a href="#l1.41"></a><span id="l1.41"> </span>
<a href="#l1.42"></a><span id="l1.42" class="difflineminus">-&lt;!-- LOCALIZATION NOTE (createAndEditSettings.label): This label is a link</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineminus">-     which will create the account and take the user to the account</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineminus">-     configuration screen. --&gt;</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineminus">-&lt;!ENTITY createAndEditSettings.label     &quot;Create and Edit Account Settings&quot;&gt;</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineplus">+&lt;!ENTITY manualSetup.label               &quot;Manual Setup…&quot;&gt;</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineplus">+&lt;!ENTITY manualSetup.accesskey           &quot;S&quot;&gt;</span>
<a href="#l1.48"></a><span id="l1.48"> &lt;!ENTITY cancel.label                    &quot;Cancel&quot;&gt;</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineplus">+&lt;!ENTITY cancel.accesskey                &quot;a&quot;&gt;</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineplus">+&lt;!ENTITY continue.label                  &quot;Continue&quot;&gt;</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineplus">+&lt;!ENTITY continue.accesskey              &quot;C&quot;&gt;</span>
<a href="#l1.52"></a><span id="l1.52" class="difflineplus">+&lt;!ENTITY startOver.label                 &quot;Start over&quot;&gt;</span>
<a href="#l1.53"></a><span id="l1.53" class="difflineplus">+&lt;!ENTITY startOver.accesskey             &quot;o&quot;&gt;</span>
<a href="#l1.54"></a><span id="l1.54"> &lt;!ENTITY stop.label                      &quot;Stop&quot;&gt;</span>
<a href="#l1.55"></a><span id="l1.55"> &lt;!ENTITY stop.accesskey                  &quot;S&quot;&gt;</span>
<a href="#l1.56"></a><span id="l1.56"> &lt;!-- LOCALIZATION NOTE (retest.label): This is the text that is</span>
<a href="#l1.57"></a><span id="l1.57">      displayed on the button which will re-guess the account configuration,</span>
<a href="#l1.58"></a><span id="l1.58">      taking into account the settings the user has changed. --&gt;</span>
<a href="#l1.59"></a><span id="l1.59"> &lt;!ENTITY retest.label                    &quot;Re-test Configuration&quot;&gt;</span>
<a href="#l1.60"></a><span id="l1.60"> &lt;!ENTITY retest.accesskey                &quot;R&quot;&gt;</span>
<a href="#l1.61"></a><span id="l1.61"> &lt;!ENTITY edit.label                      &quot;Edit&quot;&gt;</span>
<a href="#l1.62"></a><span id="l1.62" class="difflineat">@@ -60,11 +65,11 @@</span>
<a href="#l1.63"></a><span id="l1.63"> &lt;!ENTITY changeSettings.label            &quot;Change Settings&quot;&gt;</span>
<a href="#l1.64"></a><span id="l1.64"> &lt;!ENTITY changeSettings.accesskey        &quot;S&quot;&gt;</span>
<a href="#l1.65"></a><span id="l1.65"> </span>
<a href="#l1.66"></a><span id="l1.66"> &lt;!ENTITY contactYourProvider.description &quot;&amp;brandShortName; can allow you to get to your mail using the provided configurations. However, you should contact your administrator or email provider regarding these improper connections. See the Thunderbird FAQ for more information.&quot;&gt;</span>
<a href="#l1.67"></a><span id="l1.67"> </span>
<a href="#l1.68"></a><span id="l1.68"> &lt;!ENTITY insecureServer.tooltip.title    &quot;Warning! This is an insecure server.&quot;&gt;</span>
<a href="#l1.69"></a><span id="l1.69"> &lt;!ENTITY insecureServer.tooltip.details  &quot;Click circle for more details.&quot;&gt;</span>
<a href="#l1.70"></a><span id="l1.70"> </span>
<a href="#l1.71"></a><span id="l1.71" class="difflineminus">-&lt;!ENTITY insecureClearText.description   &quot;Email is sent in clear-text, so your email could be read by attackers, etc. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a secure connection.&quot;&gt;</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineplus">+&lt;!ENTITY insecureCleartext.description   &quot;Email is sent in clear-text, so your email could be read by other people on the internet. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a secure connection.&quot;&gt;</span>
<a href="#l1.73"></a><span id="l1.73"> &lt;!ENTITY insecureSelfSigned.description  &quot;The server uses a certificate that we can't trust, so we can't be sure that someone isn't intercepting the traffic between &amp;brandShortName; and your server. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a trusted certificate.&quot;&gt;</span>
<a href="#l1.74"></a><span id="l1.74"> &lt;!ENTITY secureServer.description        &quot;Congratulations! This is a secure server.&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/accountCreation.properties</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/accountCreation.properties</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,24 +1,28 @@</span>
<a href="#l2.4"></a><span id="l2.4"> # accountCreation.properties</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6" class="difflineminus">-# LOCALIZATION NOTE: %1$S will be the hostname of the server the user was trying to connect to.</span>
<a href="#l2.7"></a><span id="l2.7" class="difflineplus">+# LOCALIZATION NOTE(cleartext_warning): %1$S will be the hostname of the server the user was trying to connect to.</span>
<a href="#l2.8"></a><span id="l2.8"> cleartext_warning=%1$S does not use encryption.</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineplus">+# LOCALIZATION NOTE(selfsigned_warning): %1$S will be the hostname of the server the user was trying to connect to.</span>
<a href="#l2.10"></a><span id="l2.10"> selfsigned_warning=%1$S does not use a trusted certificate.</span>
<a href="#l2.11"></a><span id="l2.11"> selfsigned_details=Normally, a secure mail server will present a trusted certificate to prove that it is really the server it claims to be. The connection to the mail server will be encrypted but cannot be validated as being the correct server.</span>
<a href="#l2.12"></a><span id="l2.12"> cleartext_details=Insecure mail servers do not use encrypted connections to protect your passwords and private information. By connecting to this server you could expose your password and private information.</span>
<a href="#l2.13"></a><span id="l2.13"> </span>
<a href="#l2.14"></a><span id="l2.14"> # LOCALIZATION NOTE(default_server_tag): Used to indicate the default smtp server in the server dropdown list.</span>
<a href="#l2.15"></a><span id="l2.15"> default_server_tag= (default)</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> # config titles</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-searching_for_configs=Searching…</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+# LOCALIZATION NOTE(looking_up_settings): %1$S will be the brandShortName.</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineplus">+looking_up_settings=%1$S is looking up the settings for your email account.</span>
<a href="#l2.21"></a><span id="l2.21"> manually_edit_config=Editing Config</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineminus">-finished_with_success=Finished</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-finished_with_error=Error</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineplus">+# LOCALIZATION NOTE(found_settings): %1$S will be the brandShortName.</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineplus">+found_settings=%1$S has found the settings for your email account.</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineplus">+# LOCALIZATION NOTE(failed_to_find_settings): %1$S will be the brandShortName.</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineplus">+failed_to_find_settings=%1$S failed to find the settings for your email account.</span>
<a href="#l2.28"></a><span id="l2.28"> </span>
<a href="#l2.29"></a><span id="l2.29"> # config subtitles</span>
<a href="#l2.30"></a><span id="l2.30"> check_preconfig=checking for pre-configuration…</span>
<a href="#l2.31"></a><span id="l2.31"> found_preconfig=found pre-configuration</span>
<a href="#l2.32"></a><span id="l2.32"> checking_config=checking configuration…</span>
<a href="#l2.33"></a><span id="l2.33"> found_config=Found configuration of your account</span>
<a href="#l2.34"></a><span id="l2.34"> checking_mozilla_config=checking Mozilla Community configurations…</span>
<a href="#l2.35"></a><span id="l2.35"> found_isp_config=found a configuration</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineat">@@ -40,11 +44,10 @@ check_out_server_details=Checking outgoi</span>
<a href="#l2.37"></a><span id="l2.37"> </span>
<a href="#l2.38"></a><span id="l2.38"> error_creating_account=Error Creating Account</span>
<a href="#l2.39"></a><span id="l2.39"> incoming_server_exists=Incoming server already exists.</span>
<a href="#l2.40"></a><span id="l2.40"> </span>
<a href="#l2.41"></a><span id="l2.41"> no_encryption=No encryption</span>
<a href="#l2.42"></a><span id="l2.42"> ssl_tls=SSL/TLS</span>
<a href="#l2.43"></a><span id="l2.43"> starttls=STARTTLS</span>
<a href="#l2.44"></a><span id="l2.44"> </span>
<a href="#l2.45"></a><span id="l2.45" class="difflineminus">-name.error=Please enter your name, as it should be shown to your correspondents.</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-email.error=Double check this email address!</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-password.error=Login did not succeed. Please double-check username and password.</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineplus">+please_enter_name=Please enter your name.</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineplus">+double_check_email=Double check this email address!</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/accountCreation.css</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/accountCreation.css</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -3,16 +3,25 @@</span>
<a href="#l3.4"></a><span id="l3.4"> .larger-button {</span>
<a href="#l3.5"></a><span id="l3.5">   font-size: 1.1em;</span>
<a href="#l3.6"></a><span id="l3.6"> }</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> .smaller-button {</span>
<a href="#l3.9"></a><span id="l3.9">   font-size: 0.85em;</span>
<a href="#l3.10"></a><span id="l3.10"> }</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+#back_button {</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+  border: none;</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+  color: -moz-nativehyperlinktext;</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+  text-decoration: underline;</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+  background-color: inherit;</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+  cursor: pointer;</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+}</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineplus">+</span>
<a href="#l3.21"></a><span id="l3.21"> .clickable_label:hover {</span>
<a href="#l3.22"></a><span id="l3.22">   text-decoration: underline;</span>
<a href="#l3.23"></a><span id="l3.23">   cursor: pointer;</span>
<a href="#l3.24"></a><span id="l3.24"> }</span>
<a href="#l3.25"></a><span id="l3.25"> </span>
<a href="#l3.26"></a><span id="l3.26"> .clickable_label {</span>
<a href="#l3.27"></a><span id="l3.27">   color: blue;</span>
<a href="#l3.28"></a><span id="l3.28">   width: 120px;</span>
<a href="#l3.29"></a><span id="l3.29" class="difflineat">@@ -35,20 +44,25 @@</span>
<a href="#l3.30"></a><span id="l3.30">   width: 60px;</span>
<a href="#l3.31"></a><span id="l3.31">   padding-top: 6px;</span>
<a href="#l3.32"></a><span id="l3.32">   -moz-padding-start: 2px;</span>
<a href="#l3.33"></a><span id="l3.33">   padding-bottom: 5px;</span>
<a href="#l3.34"></a><span id="l3.34">   overflow: auto;</span>
<a href="#l3.35"></a><span id="l3.35"> }</span>
<a href="#l3.36"></a><span id="l3.36"> </span>
<a href="#l3.37"></a><span id="l3.37"> .errordescription {</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineminus">-  padding: 2px 1ex;</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineminus">-  color: InfoText;</span>
<a href="#l3.40"></a><span id="l3.40">   background-color: InfoBackground;</span>
<a href="#l3.41"></a><span id="l3.41">   -moz-border-radius: 4px;</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineplus">+  margin-top: 3px;</span>
<a href="#l3.43"></a><span id="l3.43" class="difflineplus">+  -moz-padding-start: 3px;</span>
<a href="#l3.44"></a><span id="l3.44" class="difflineplus">+}</span>
<a href="#l3.45"></a><span id="l3.45" class="difflineplus">+</span>
<a href="#l3.46"></a><span id="l3.46" class="difflineplus">+.initialDesc {</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineplus">+  margin-top: 2px;</span>
<a href="#l3.48"></a><span id="l3.48" class="difflineplus">+  color: GrayText;</span>
<a href="#l3.49"></a><span id="l3.49"> }</span>
<a href="#l3.50"></a><span id="l3.50"> </span>
<a href="#l3.51"></a><span id="l3.51"> .edited_label {</span>
<a href="#l3.52"></a><span id="l3.52">   width: 123px;</span>
<a href="#l3.53"></a><span id="l3.53">   overflow: auto;</span>
<a href="#l3.54"></a><span id="l3.54"> }</span>
<a href="#l3.55"></a><span id="l3.55"> </span>
<a href="#l3.56"></a><span id="l3.56"> .short_edited_label {</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineat">@@ -104,30 +118,25 @@ description.error_notice {</span>
<a href="#l3.58"></a><span id="l3.58">  */</span>
<a href="#l3.59"></a><span id="l3.59"> </span>
<a href="#l3.60"></a><span id="l3.60"> description.explanation {</span>
<a href="#l3.61"></a><span id="l3.61">   padding-top: 1em;</span>
<a href="#l3.62"></a><span id="l3.62">   padding-bottom: 1em;</span>
<a href="#l3.63"></a><span id="l3.63"> }</span>
<a href="#l3.64"></a><span id="l3.64"> </span>
<a href="#l3.65"></a><span id="l3.65"> #config_status_title {</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineminus">-  font-size: larger;</span>
<a href="#l3.67"></a><span id="l3.67">   font-weight: bold;</span>
<a href="#l3.68"></a><span id="l3.68"> }</span>
<a href="#l3.69"></a><span id="l3.69"> </span>
<a href="#l3.70"></a><span id="l3.70"> #config_status_subtitle {</span>
<a href="#l3.71"></a><span id="l3.71">   font-size: smaller;</span>
<a href="#l3.72"></a><span id="l3.72">   color: GrayText;</span>
<a href="#l3.73"></a><span id="l3.73">   font-style: italic;</span>
<a href="#l3.74"></a><span id="l3.74"> }</span>
<a href="#l3.75"></a><span id="l3.75"> </span>
<a href="#l3.76"></a><span id="l3.76" class="difflineminus">-vbox.statusimage {</span>
<a href="#l3.77"></a><span id="l3.77" class="difflineminus">-  padding-top: 6px;</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineminus">-}</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineminus">-</span>
<a href="#l3.80"></a><span id="l3.80"> /* Missing:</span>
<a href="#l3.81"></a><span id="l3.81">  * label.bignumber</span>
<a href="#l3.82"></a><span id="l3.82">  * hbox.stepheading</span>
<a href="#l3.83"></a><span id="l3.83">  */</span>
<a href="#l3.84"></a><span id="l3.84"> </span>
<a href="#l3.85"></a><span id="l3.85"> window {</span>
<a href="#l3.86"></a><span id="l3.86">   -moz-appearance: none;</span>
<a href="#l3.87"></a><span id="l3.87">   background-color: #fff;</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineat">@@ -171,28 +180,29 @@ vbox.icon {</span>
<a href="#l3.89"></a><span id="l3.89">   height: 22px;</span>
<a href="#l3.90"></a><span id="l3.90">   background-repeat: no-repeat;</span>
<a href="#l3.91"></a><span id="l3.91"> }</span>
<a href="#l3.92"></a><span id="l3.92"> </span>
<a href="#l3.93"></a><span id="l3.93"> image.insecureLarry {</span>
<a href="#l3.94"></a><span id="l3.94">   height: 64px;</span>
<a href="#l3.95"></a><span id="l3.95">   width: 64px;</span>
<a href="#l3.96"></a><span id="l3.96">   padding: 0;</span>
<a href="#l3.97"></a><span id="l3.97" class="difflineminus">-  list-style-image: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;);</span>
<a href="#l3.98"></a><span id="l3.98" class="difflineplus">+  background: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;) no-repeat;</span>
<a href="#l3.99"></a><span id="l3.99"> }</span>
<a href="#l3.100"></a><span id="l3.100"> </span>
<a href="#l3.101"></a><span id="l3.101"> image.secureLarry {</span>
<a href="#l3.102"></a><span id="l3.102">   height: 64px;</span>
<a href="#l3.103"></a><span id="l3.103">   width: 64px;</span>
<a href="#l3.104"></a><span id="l3.104">   padding: 0;</span>
<a href="#l3.105"></a><span id="l3.105" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/identity.png&quot;);</span>
<a href="#l3.106"></a><span id="l3.106" class="difflineplus">+  background: url(&quot;chrome://messenger/skin/icons/identity.png&quot;) no-repeat;</span>
<a href="#l3.107"></a><span id="l3.107"> }</span>
<a href="#l3.108"></a><span id="l3.108"> </span>
<a href="#l3.109"></a><span id="l3.109"> vbox.mastervbox {</span>
<a href="#l3.110"></a><span id="l3.110">   padding: 14px;</span>
<a href="#l3.111"></a><span id="l3.111" class="difflineplus">+  background: #F4F4F4;</span>
<a href="#l3.112"></a><span id="l3.112"> }</span>
<a href="#l3.113"></a><span id="l3.113"> </span>
<a href="#l3.114"></a><span id="l3.114"> vbox.icon[state='strong'] {</span>
<a href="#l3.115"></a><span id="l3.115">   background-image: url(&quot;chrome://messenger/skin/icons/secure.png&quot;);</span>
<a href="#l3.116"></a><span id="l3.116"> }</span>
<a href="#l3.117"></a><span id="l3.117"> </span>
<a href="#l3.118"></a><span id="l3.118"> vbox.icon[state='failed'] {</span>
<a href="#l3.119"></a><span id="l3.119">   background-image: url(&quot;chrome://messenger/skin/icons/failed.png&quot;);</span>
<a href="#l3.120"></a><span id="l3.120" class="difflineat">@@ -201,20 +211,21 @@ vbox.icon[state='failed'] {</span>
<a href="#l3.121"></a><span id="l3.121"> vbox.icon[state='probing'] {</span>
<a href="#l3.122"></a><span id="l3.122">   background-image: url(&quot;chrome://messenger/skin/icons/probing.png&quot;);</span>
<a href="#l3.123"></a><span id="l3.123"> }</span>
<a href="#l3.124"></a><span id="l3.124"> </span>
<a href="#l3.125"></a><span id="l3.125"> vbox.icon[state='weak'] {</span>
<a href="#l3.126"></a><span id="l3.126">   background-image: url(&quot;chrome://messenger/skin/icons/insecure.png&quot;);</span>
<a href="#l3.127"></a><span id="l3.127"> }</span>
<a href="#l3.128"></a><span id="l3.128"> </span>
<a href="#l3.129"></a><span id="l3.129" class="difflineminus">-.warningbox {</span>
<a href="#l3.130"></a><span id="l3.130" class="difflineplus">+#warningbox {</span>
<a href="#l3.131"></a><span id="l3.131" class="difflineplus">+  width: 800px;</span>
<a href="#l3.132"></a><span id="l3.132" class="difflineplus">+  height: 485px;</span>
<a href="#l3.133"></a><span id="l3.133">   background: #333333 none repeat scroll 0% 0%;</span>
<a href="#l3.134"></a><span id="l3.134">   padding: 1em;</span>
<a href="#l3.135"></a><span id="l3.135" class="difflineminus">-  overflow: auto;</span>
<a href="#l3.136"></a><span id="l3.136"> }</span>
<a href="#l3.137"></a><span id="l3.137"> </span>
<a href="#l3.138"></a><span id="l3.138"> .warning {</span>
<a href="#l3.139"></a><span id="l3.139">   padding: 2em;</span>
<a href="#l3.140"></a><span id="l3.140">   -moz-border-radius: 10px;</span>
<a href="#l3.141"></a><span id="l3.141">   background-color: #772222;</span>
<a href="#l3.142"></a><span id="l3.142">   border: 1px solid threedshadow;</span>
<a href="#l3.143"></a><span id="l3.143"> }</span>
<a href="#l3.144"></a><span id="l3.144" class="difflineat">@@ -263,17 +274,16 @@ checkbox.acknowledge_checkbox {</span>
<a href="#l3.145"></a><span id="l3.145">   padding-top: .5em;</span>
<a href="#l3.146"></a><span id="l3.146"> }</span>
<a href="#l3.147"></a><span id="l3.147"> </span>
<a href="#l3.148"></a><span id="l3.148"> vbox.settings {</span>
<a href="#l3.149"></a><span id="l3.149">   padding: 1em;</span>
<a href="#l3.150"></a><span id="l3.150"> }</span>
<a href="#l3.151"></a><span id="l3.151"> </span>
<a href="#l3.152"></a><span id="l3.152"> .title {</span>
<a href="#l3.153"></a><span id="l3.153" class="difflineminus">-  font-weight: bold;</span>
<a href="#l3.154"></a><span id="l3.154">   padding: 0px 3px;</span>
<a href="#l3.155"></a><span id="l3.155"> }</span>
<a href="#l3.156"></a><span id="l3.156"> </span>
<a href="#l3.157"></a><span id="l3.157"> .details {</span>
<a href="#l3.158"></a><span id="l3.158">   font-style: italic;</span>
<a href="#l3.159"></a><span id="l3.159">   padding: 3px;</span>
<a href="#l3.160"></a><span id="l3.160"> }</span>
<a href="#l3.161"></a><span id="l3.161"> </span>
<a href="#l3.162"></a><span id="l3.162" class="difflineat">@@ -284,23 +294,36 @@ vbox.settings {</span>
<a href="#l3.163"></a><span id="l3.163"> }</span>
<a href="#l3.164"></a><span id="l3.164"> </span>
<a href="#l3.165"></a><span id="l3.165"> label.textbox-label {</span>
<a href="#l3.166"></a><span id="l3.166">   color: GrayText;</span>
<a href="#l3.167"></a><span id="l3.167">   font-size: smaller;</span>
<a href="#l3.168"></a><span id="l3.168">   border-bottom: 1px dotted InactiveBorder;</span>
<a href="#l3.169"></a><span id="l3.169"> }</span>
<a href="#l3.170"></a><span id="l3.170"> </span>
<a href="#l3.171"></a><span id="l3.171" class="difflineminus">-.protocol,</span>
<a href="#l3.172"></a><span id="l3.172" class="difflineminus">-textbox.security {</span>
<a href="#l3.173"></a><span id="l3.173" class="difflineplus">+.protocol {</span>
<a href="#l3.174"></a><span id="l3.174">   width: 8em;</span>
<a href="#l3.175"></a><span id="l3.175"> }</span>
<a href="#l3.176"></a><span id="l3.176"> </span>
<a href="#l3.177"></a><span id="l3.177" class="difflineplus">+.protocol &gt; label {</span>
<a href="#l3.178"></a><span id="l3.178" class="difflineplus">+  -moz-padding-start: 6px;</span>
<a href="#l3.179"></a><span id="l3.179" class="difflineplus">+}</span>
<a href="#l3.180"></a><span id="l3.180" class="difflineplus">+</span>
<a href="#l3.181"></a><span id="l3.181" class="difflineplus">+.security {</span>
<a href="#l3.182"></a><span id="l3.182" class="difflineplus">+  width: 10em;</span>
<a href="#l3.183"></a><span id="l3.183" class="difflineplus">+}</span>
<a href="#l3.184"></a><span id="l3.184" class="difflineplus">+</span>
<a href="#l3.185"></a><span id="l3.185"> textbox.port {</span>
<a href="#l3.186"></a><span id="l3.186" class="difflineminus">-  width: 5em;</span>
<a href="#l3.187"></a><span id="l3.187" class="difflineplus">+  width: 4em;</span>
<a href="#l3.188"></a><span id="l3.188" class="difflineplus">+}</span>
<a href="#l3.189"></a><span id="l3.189" class="difflineplus">+</span>
<a href="#l3.190"></a><span id="l3.190" class="difflineplus">+textbox.username {</span>
<a href="#l3.191"></a><span id="l3.191" class="difflineplus">+  width: 12em;</span>
<a href="#l3.192"></a><span id="l3.192" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l3.193"></a><span id="l3.193" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l3.194"></a><span id="l3.194"> }</span>
<a href="#l3.195"></a><span id="l3.195"> </span>
<a href="#l3.196"></a><span id="l3.196"> textbox.host {</span>
<a href="#l3.197"></a><span id="l3.197">   width: 12em;</span>
<a href="#l3.198"></a><span id="l3.198">   margin-bottom: 4px !important;</span>
<a href="#l3.199"></a><span id="l3.199">   margin-top: 4px !important;</span>
<a href="#l3.200"></a><span id="l3.200"> }</span>
<a href="#l3.201"></a><span id="l3.201"> </span>
<a href="#l3.202"></a><span id="l3.202" class="difflineat">@@ -350,8 +373,22 @@ row.heading {</span>
<a href="#l3.203"></a><span id="l3.203">   margin: 0px;</span>
<a href="#l3.204"></a><span id="l3.204">   padding-left: 20px;</span>
<a href="#l3.205"></a><span id="l3.205">   background: url(&quot;chrome://messenger/skin/section_collapsed.png&quot;) left 0 no-repeat;</span>
<a href="#l3.206"></a><span id="l3.206"> }</span>
<a href="#l3.207"></a><span id="l3.207"> </span>
<a href="#l3.208"></a><span id="l3.208"> .technical_details[expanded] {</span>
<a href="#l3.209"></a><span id="l3.209">   background-image: url(&quot;chrome://messenger/skin/section_expanded.png&quot;);</span>
<a href="#l3.210"></a><span id="l3.210"> }</span>
<a href="#l3.211"></a><span id="l3.211" class="difflineplus">+</span>
<a href="#l3.212"></a><span id="l3.212" class="difflineplus">+label.autoconfigLabel {</span>
<a href="#l3.213"></a><span id="l3.213" class="difflineplus">+  width: 100px;</span>
<a href="#l3.214"></a><span id="l3.214" class="difflineplus">+  text-align: right;</span>
<a href="#l3.215"></a><span id="l3.215" class="difflineplus">+}</span>
<a href="#l3.216"></a><span id="l3.216" class="difflineplus">+</span>
<a href="#l3.217"></a><span id="l3.217" class="difflineplus">+label.textbox-label {</span>
<a href="#l3.218"></a><span id="l3.218" class="difflineplus">+  width: 58px;</span>
<a href="#l3.219"></a><span id="l3.219" class="difflineplus">+  text-align: right;</span>
<a href="#l3.220"></a><span id="l3.220" class="difflineplus">+}</span>
<a href="#l3.221"></a><span id="l3.221" class="difflineplus">+</span>
<a href="#l3.222"></a><span id="l3.222" class="difflineplus">+vbox.initialSettings textbox {</span>
<a href="#l3.223"></a><span id="l3.223" class="difflineplus">+  width: 280px;</span>
<a href="#l3.224"></a><span id="l3.224" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/themes/pinstripe/mail/accountCreation.css</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/themes/pinstripe/mail/accountCreation.css</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,13 +1,22 @@</span>
<a href="#l4.4"></a><span id="l4.4"> /* Missing:</span>
<a href="#l4.5"></a><span id="l4.5">  * .larger-button</span>
<a href="#l4.6"></a><span id="l4.6">  * .smaller-button</span>
<a href="#l4.7"></a><span id="l4.7">  */</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9" class="difflineplus">+#back_button {</span>
<a href="#l4.10"></a><span id="l4.10" class="difflineplus">+  border: none;</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+  color: -moz-nativehyperlinktext;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+  text-decoration: underline;</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+  background-color: inherit;</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+  cursor: pointer;</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+}</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+</span>
<a href="#l4.18"></a><span id="l4.18"> .clickable_label:hover {</span>
<a href="#l4.19"></a><span id="l4.19">   text-decoration: underline;</span>
<a href="#l4.20"></a><span id="l4.20">   cursor: pointer;</span>
<a href="#l4.21"></a><span id="l4.21"> }</span>
<a href="#l4.22"></a><span id="l4.22"> </span>
<a href="#l4.23"></a><span id="l4.23"> .clickable_label {</span>
<a href="#l4.24"></a><span id="l4.24">   color: blue;</span>
<a href="#l4.25"></a><span id="l4.25">   width: 120px;</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineat">@@ -30,19 +39,23 @@</span>
<a href="#l4.27"></a><span id="l4.27">   width: 60px;</span>
<a href="#l4.28"></a><span id="l4.28">   padding-top: 6px;</span>
<a href="#l4.29"></a><span id="l4.29">   -moz-padding-start: 2px;</span>
<a href="#l4.30"></a><span id="l4.30">   padding-bottom: 5px;</span>
<a href="#l4.31"></a><span id="l4.31">   overflow: auto;</span>
<a href="#l4.32"></a><span id="l4.32"> }</span>
<a href="#l4.33"></a><span id="l4.33"> </span>
<a href="#l4.34"></a><span id="l4.34"> .errordescription {</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-  -moz-padding-start: 4px;</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineminus">-  padding-top: 4px;</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineminus">-  color: rgb(244,50,50);</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineplus">+  -moz-padding-start: 3px;</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineplus">+  margin-top: 3px;</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineplus">+}</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+.initialDesc {</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+  margin-top: 2px;</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+  color: GrayText;</span>
<a href="#l4.45"></a><span id="l4.45"> }</span>
<a href="#l4.46"></a><span id="l4.46"> </span>
<a href="#l4.47"></a><span id="l4.47"> .edited_label {</span>
<a href="#l4.48"></a><span id="l4.48">   width: 123px;</span>
<a href="#l4.49"></a><span id="l4.49">   overflow: auto;</span>
<a href="#l4.50"></a><span id="l4.50"> }</span>
<a href="#l4.51"></a><span id="l4.51"> </span>
<a href="#l4.52"></a><span id="l4.52"> .short_edited_label {</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineat">@@ -87,20 +100,16 @@ description.explanation {</span>
<a href="#l4.54"></a><span id="l4.54">   padding-bottom: 1em;</span>
<a href="#l4.55"></a><span id="l4.55"> }</span>
<a href="#l4.56"></a><span id="l4.56"> </span>
<a href="#l4.57"></a><span id="l4.57"> /* Missing:</span>
<a href="#l4.58"></a><span id="l4.58">  * #config_status_title</span>
<a href="#l4.59"></a><span id="l4.59">  * #config_status_subtitle</span>
<a href="#l4.60"></a><span id="l4.60">  */</span>
<a href="#l4.61"></a><span id="l4.61"> </span>
<a href="#l4.62"></a><span id="l4.62" class="difflineminus">-vbox.statusimage {</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-  padding-top: 6px;</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-}</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-</span>
<a href="#l4.66"></a><span id="l4.66"> label.bignumber {</span>
<a href="#l4.67"></a><span id="l4.67">   font-size: larger;</span>
<a href="#l4.68"></a><span id="l4.68">   font-weight: bolder;</span>
<a href="#l4.69"></a><span id="l4.69">   color: white;</span>
<a href="#l4.70"></a><span id="l4.70">   background-color: rgb(140,140,140);</span>
<a href="#l4.71"></a><span id="l4.71">   -moz-border-radius: 8px;</span>
<a href="#l4.72"></a><span id="l4.72">   padding: 8px;</span>
<a href="#l4.73"></a><span id="l4.73"> }</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineat">@@ -151,28 +160,29 @@ vbox.icon {</span>
<a href="#l4.75"></a><span id="l4.75">   height: 22px;</span>
<a href="#l4.76"></a><span id="l4.76">   background-repeat: no-repeat;</span>
<a href="#l4.77"></a><span id="l4.77"> }</span>
<a href="#l4.78"></a><span id="l4.78"> </span>
<a href="#l4.79"></a><span id="l4.79"> image.insecureLarry {</span>
<a href="#l4.80"></a><span id="l4.80">   height: 64px;</span>
<a href="#l4.81"></a><span id="l4.81">   width: 64px;</span>
<a href="#l4.82"></a><span id="l4.82">   padding: 0;</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineminus">-  list-style-image: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;);</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineplus">+  background: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;) no-repeat;</span>
<a href="#l4.85"></a><span id="l4.85"> }</span>
<a href="#l4.86"></a><span id="l4.86"> </span>
<a href="#l4.87"></a><span id="l4.87"> image.secureLarry {</span>
<a href="#l4.88"></a><span id="l4.88">   height: 64px;</span>
<a href="#l4.89"></a><span id="l4.89">   width: 64px;</span>
<a href="#l4.90"></a><span id="l4.90">   padding: 0;</span>
<a href="#l4.91"></a><span id="l4.91" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/identity.png&quot;);</span>
<a href="#l4.92"></a><span id="l4.92" class="difflineplus">+  background: url(&quot;chrome://messenger/skin/icons/identity.png&quot;) no-repeat;</span>
<a href="#l4.93"></a><span id="l4.93"> }</span>
<a href="#l4.94"></a><span id="l4.94"> </span>
<a href="#l4.95"></a><span id="l4.95"> vbox.mastervbox {</span>
<a href="#l4.96"></a><span id="l4.96">   padding: 14px;</span>
<a href="#l4.97"></a><span id="l4.97" class="difflineplus">+  background: #F4F4F4;</span>
<a href="#l4.98"></a><span id="l4.98"> }</span>
<a href="#l4.99"></a><span id="l4.99"> </span>
<a href="#l4.100"></a><span id="l4.100"> vbox.icon[state='strong'] {</span>
<a href="#l4.101"></a><span id="l4.101">   background-image: url(&quot;chrome://messenger/skin/icons/secure.png&quot;);</span>
<a href="#l4.102"></a><span id="l4.102"> }</span>
<a href="#l4.103"></a><span id="l4.103"> </span>
<a href="#l4.104"></a><span id="l4.104"> vbox.icon[state='failed'] {</span>
<a href="#l4.105"></a><span id="l4.105">   background-image: url(&quot;chrome://messenger/skin/icons/failed.png&quot;);</span>
<a href="#l4.106"></a><span id="l4.106" class="difflineat">@@ -181,17 +191,19 @@ vbox.icon[state='failed'] {</span>
<a href="#l4.107"></a><span id="l4.107"> vbox.icon[state='probing'] {</span>
<a href="#l4.108"></a><span id="l4.108">   background-image: url(&quot;chrome://messenger/skin/icons/probing.png&quot;);</span>
<a href="#l4.109"></a><span id="l4.109"> }</span>
<a href="#l4.110"></a><span id="l4.110"> </span>
<a href="#l4.111"></a><span id="l4.111"> vbox.icon[state='weak'] {</span>
<a href="#l4.112"></a><span id="l4.112">   background-image: url(&quot;chrome://messenger/skin/icons/insecure.png&quot;);</span>
<a href="#l4.113"></a><span id="l4.113"> }</span>
<a href="#l4.114"></a><span id="l4.114"> </span>
<a href="#l4.115"></a><span id="l4.115" class="difflineminus">-.warningbox {</span>
<a href="#l4.116"></a><span id="l4.116" class="difflineplus">+#warningbox {</span>
<a href="#l4.117"></a><span id="l4.117" class="difflineplus">+  width: 650px;</span>
<a href="#l4.118"></a><span id="l4.118" class="difflineplus">+  height: 400px;</span>
<a href="#l4.119"></a><span id="l4.119">   background: #333333 none repeat scroll 0% 0%;</span>
<a href="#l4.120"></a><span id="l4.120">   padding: 1em;</span>
<a href="#l4.121"></a><span id="l4.121">   overflow: auto;</span>
<a href="#l4.122"></a><span id="l4.122"> }</span>
<a href="#l4.123"></a><span id="l4.123"> </span>
<a href="#l4.124"></a><span id="l4.124"> .warning {</span>
<a href="#l4.125"></a><span id="l4.125">   padding: 2em;</span>
<a href="#l4.126"></a><span id="l4.126">   -moz-border-radius: 10px;</span>
<a href="#l4.127"></a><span id="l4.127" class="difflineat">@@ -266,22 +278,32 @@ vbox.settings {</span>
<a href="#l4.128"></a><span id="l4.128"> /* Missing:</span>
<a href="#l4.129"></a><span id="l4.129">  * label.textbox-label</span>
<a href="#l4.130"></a><span id="l4.130">  */</span>
<a href="#l4.131"></a><span id="l4.131"> </span>
<a href="#l4.132"></a><span id="l4.132"> .protocol {</span>
<a href="#l4.133"></a><span id="l4.133">   width: 8em;</span>
<a href="#l4.134"></a><span id="l4.134"> }</span>
<a href="#l4.135"></a><span id="l4.135"> </span>
<a href="#l4.136"></a><span id="l4.136" class="difflineminus">-textbox.security {</span>
<a href="#l4.137"></a><span id="l4.137" class="difflineminus">-  width: 8em;</span>
<a href="#l4.138"></a><span id="l4.138" class="difflineplus">+.protocol &gt; label {</span>
<a href="#l4.139"></a><span id="l4.139" class="difflineplus">+  -moz-padding-start: 6px;</span>
<a href="#l4.140"></a><span id="l4.140" class="difflineplus">+}</span>
<a href="#l4.141"></a><span id="l4.141" class="difflineplus">+</span>
<a href="#l4.142"></a><span id="l4.142" class="difflineplus">+.security {</span>
<a href="#l4.143"></a><span id="l4.143" class="difflineplus">+  width: 10em;</span>
<a href="#l4.144"></a><span id="l4.144"> }</span>
<a href="#l4.145"></a><span id="l4.145"> </span>
<a href="#l4.146"></a><span id="l4.146"> textbox.port {</span>
<a href="#l4.147"></a><span id="l4.147" class="difflineminus">-  width: 5em;</span>
<a href="#l4.148"></a><span id="l4.148" class="difflineplus">+  width: 4em;</span>
<a href="#l4.149"></a><span id="l4.149" class="difflineplus">+}</span>
<a href="#l4.150"></a><span id="l4.150" class="difflineplus">+</span>
<a href="#l4.151"></a><span id="l4.151" class="difflineplus">+textbox.username {</span>
<a href="#l4.152"></a><span id="l4.152" class="difflineplus">+  width: 14em;</span>
<a href="#l4.153"></a><span id="l4.153" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l4.154"></a><span id="l4.154" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l4.155"></a><span id="l4.155"> }</span>
<a href="#l4.156"></a><span id="l4.156"> </span>
<a href="#l4.157"></a><span id="l4.157"> textbox.host {</span>
<a href="#l4.158"></a><span id="l4.158">   width: 14em;</span>
<a href="#l4.159"></a><span id="l4.159">   margin-bottom: 4px !important;</span>
<a href="#l4.160"></a><span id="l4.160">   margin-top: 4px !important;</span>
<a href="#l4.161"></a><span id="l4.161"> }</span>
<a href="#l4.162"></a><span id="l4.162"> </span>
<a href="#l4.163"></a><span id="l4.163" class="difflineat">@@ -370,8 +392,22 @@ menulist[editable=&quot;true&quot;].clickable &gt; .m</span>
<a href="#l4.164"></a><span id="l4.164">   margin: 0px;</span>
<a href="#l4.165"></a><span id="l4.165">   padding-left: 20px;</span>
<a href="#l4.166"></a><span id="l4.166">   background: url(&quot;chrome://messenger/skin/section_collapsed.png&quot;) left 0 no-repeat;</span>
<a href="#l4.167"></a><span id="l4.167"> }</span>
<a href="#l4.168"></a><span id="l4.168"> </span>
<a href="#l4.169"></a><span id="l4.169"> .technical_details[expanded] {</span>
<a href="#l4.170"></a><span id="l4.170">   background-image: url(&quot;chrome://messenger/skin/section_expanded.png&quot;);</span>
<a href="#l4.171"></a><span id="l4.171"> }</span>
<a href="#l4.172"></a><span id="l4.172" class="difflineplus">+</span>
<a href="#l4.173"></a><span id="l4.173" class="difflineplus">+label.autoconfigLabel {</span>
<a href="#l4.174"></a><span id="l4.174" class="difflineplus">+  width: 80px;</span>
<a href="#l4.175"></a><span id="l4.175" class="difflineplus">+  text-align: right;</span>
<a href="#l4.176"></a><span id="l4.176" class="difflineplus">+}</span>
<a href="#l4.177"></a><span id="l4.177" class="difflineplus">+</span>
<a href="#l4.178"></a><span id="l4.178" class="difflineplus">+label.textbox-label {</span>
<a href="#l4.179"></a><span id="l4.179" class="difflineplus">+  width: 58px;</span>
<a href="#l4.180"></a><span id="l4.180" class="difflineplus">+  text-align: right;</span>
<a href="#l4.181"></a><span id="l4.181" class="difflineplus">+}</span>
<a href="#l4.182"></a><span id="l4.182" class="difflineplus">+</span>
<a href="#l4.183"></a><span id="l4.183" class="difflineplus">+vbox.initialSettings textbox {</span>
<a href="#l4.184"></a><span id="l4.184" class="difflineplus">+  width: 280px;</span>
<a href="#l4.185"></a><span id="l4.185" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/themes/qute/mail/accountCreation.css</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/themes/qute/mail/accountCreation.css</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -3,16 +3,25 @@</span>
<a href="#l5.4"></a><span id="l5.4"> .larger-button {</span>
<a href="#l5.5"></a><span id="l5.5">   font-size: 1.1em;</span>
<a href="#l5.6"></a><span id="l5.6"> }</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8"> .smaller-button {</span>
<a href="#l5.9"></a><span id="l5.9">   font-size: 0.85em;</span>
<a href="#l5.10"></a><span id="l5.10"> }</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+#back_button {</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+  border: none;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+  color: -moz-nativehyperlinktext;</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+  text-decoration: underline;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+  background-color: inherit;</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+  cursor: pointer;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+}</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+</span>
<a href="#l5.21"></a><span id="l5.21"> .clickable_label:hover {</span>
<a href="#l5.22"></a><span id="l5.22">   text-decoration: underline;</span>
<a href="#l5.23"></a><span id="l5.23">   cursor: pointer;</span>
<a href="#l5.24"></a><span id="l5.24"> }</span>
<a href="#l5.25"></a><span id="l5.25"> </span>
<a href="#l5.26"></a><span id="l5.26"> .clickable_label {</span>
<a href="#l5.27"></a><span id="l5.27">   color: blue;</span>
<a href="#l5.28"></a><span id="l5.28">   width: 120px;</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineat">@@ -23,19 +32,23 @@</span>
<a href="#l5.30"></a><span id="l5.30"> }</span>
<a href="#l5.31"></a><span id="l5.31"> </span>
<a href="#l5.32"></a><span id="l5.32"> /* Missing:</span>
<a href="#l5.33"></a><span id="l5.33">  * .short_clickable_label</span>
<a href="#l5.34"></a><span id="l5.34">  * .short_not_clickable_label</span>
<a href="#l5.35"></a><span id="l5.35">  */</span>
<a href="#l5.36"></a><span id="l5.36"> </span>
<a href="#l5.37"></a><span id="l5.37"> .errordescription {</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineminus">-  -moz-padding-start: 4px;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineminus">-  padding-top: 4px;</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-  color: rgb(244,50,50);</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+  -moz-padding-start: 3px;</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+  margin-top: 3px;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+}</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+.initialDesc {</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineplus">+  margin-top: 2px;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+  color: GrayText;</span>
<a href="#l5.48"></a><span id="l5.48"> }</span>
<a href="#l5.49"></a><span id="l5.49"> </span>
<a href="#l5.50"></a><span id="l5.50"> .edited_label {</span>
<a href="#l5.51"></a><span id="l5.51">   width: 123px;</span>
<a href="#l5.52"></a><span id="l5.52">   overflow: auto;</span>
<a href="#l5.53"></a><span id="l5.53"> }</span>
<a href="#l5.54"></a><span id="l5.54"> </span>
<a href="#l5.55"></a><span id="l5.55"> /* Missing:</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineat">@@ -63,19 +76,18 @@ menulist[disabled=&quot;true&quot;] {</span>
<a href="#l5.57"></a><span id="l5.57"> menulist[disabled=&quot;true&quot;] &gt; .menulist-editable-box,</span>
<a href="#l5.58"></a><span id="l5.58"> menulist[disabled=&quot;true&quot;] &gt; .menulist-editable-box &gt; .menulist-editable-input,</span>
<a href="#l5.59"></a><span id="l5.59"> menulist[disabled=&quot;true&quot;] &gt; .menulist-dropmarker {</span>
<a href="#l5.60"></a><span id="l5.60">   -moz-appearance: none;</span>
<a href="#l5.61"></a><span id="l5.61">   color: -moz-DialogText;</span>
<a href="#l5.62"></a><span id="l5.62"> }</span>
<a href="#l5.63"></a><span id="l5.63"> </span>
<a href="#l5.64"></a><span id="l5.64"> #outgoing_protocol {</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-  width: 73px;</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+  width: 63px;</span>
<a href="#l5.67"></a><span id="l5.67">   padding-top: 5px;</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineminus">-  -moz-padding-start: 6px;</span>
<a href="#l5.69"></a><span id="l5.69"> }</span>
<a href="#l5.70"></a><span id="l5.70"> </span>
<a href="#l5.71"></a><span id="l5.71"> #outgoing_config {</span>
<a href="#l5.72"></a><span id="l5.72">   width: 73px;</span>
<a href="#l5.73"></a><span id="l5.73">   padding-top: 5px;</span>
<a href="#l5.74"></a><span id="l5.74">   -moz-padding-start: 6px;</span>
<a href="#l5.75"></a><span id="l5.75"> }</span>
<a href="#l5.76"></a><span id="l5.76"> </span>
<a href="#l5.77"></a><span id="l5.77" class="difflineat">@@ -97,30 +109,25 @@ description.heading {</span>
<a href="#l5.78"></a><span id="l5.78"> }</span>
<a href="#l5.79"></a><span id="l5.79"> </span>
<a href="#l5.80"></a><span id="l5.80"> description.explanation {</span>
<a href="#l5.81"></a><span id="l5.81">   padding-top: 1em;</span>
<a href="#l5.82"></a><span id="l5.82">   padding-bottom: 1em;</span>
<a href="#l5.83"></a><span id="l5.83"> }</span>
<a href="#l5.84"></a><span id="l5.84"> </span>
<a href="#l5.85"></a><span id="l5.85"> #config_status_title {</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineminus">-  font-size: larger;</span>
<a href="#l5.87"></a><span id="l5.87">   font-weight: bold;</span>
<a href="#l5.88"></a><span id="l5.88"> }</span>
<a href="#l5.89"></a><span id="l5.89"> </span>
<a href="#l5.90"></a><span id="l5.90"> #config_status_subtitle {</span>
<a href="#l5.91"></a><span id="l5.91">   font-size: smaller;</span>
<a href="#l5.92"></a><span id="l5.92">   color: GrayText;</span>
<a href="#l5.93"></a><span id="l5.93">   font-style: italic;</span>
<a href="#l5.94"></a><span id="l5.94"> }</span>
<a href="#l5.95"></a><span id="l5.95"> </span>
<a href="#l5.96"></a><span id="l5.96" class="difflineminus">-vbox.statusimage {</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineminus">-  padding-top: 6px;</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineminus">-}</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineminus">-</span>
<a href="#l5.100"></a><span id="l5.100"> label.bignumber {</span>
<a href="#l5.101"></a><span id="l5.101">   font-size: larger;</span>
<a href="#l5.102"></a><span id="l5.102">   font-weight: bolder;</span>
<a href="#l5.103"></a><span id="l5.103">   color: white;</span>
<a href="#l5.104"></a><span id="l5.104">   background-color: rgb(140,140,140);</span>
<a href="#l5.105"></a><span id="l5.105">   -moz-border-radius: 8px;</span>
<a href="#l5.106"></a><span id="l5.106">   padding: 8px;</span>
<a href="#l5.107"></a><span id="l5.107"> }</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineat">@@ -172,28 +179,29 @@ vbox.icon {</span>
<a href="#l5.109"></a><span id="l5.109">   height: 22px;</span>
<a href="#l5.110"></a><span id="l5.110">   background-repeat: no-repeat;</span>
<a href="#l5.111"></a><span id="l5.111"> }</span>
<a href="#l5.112"></a><span id="l5.112"> </span>
<a href="#l5.113"></a><span id="l5.113"> image.insecureLarry {</span>
<a href="#l5.114"></a><span id="l5.114">   height: 64px;</span>
<a href="#l5.115"></a><span id="l5.115">   width: 64px;</span>
<a href="#l5.116"></a><span id="l5.116">   padding: 0;</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineminus">-  list-style-image: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;);</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineplus">+  background: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;) no-repeat;</span>
<a href="#l5.119"></a><span id="l5.119"> }</span>
<a href="#l5.120"></a><span id="l5.120"> </span>
<a href="#l5.121"></a><span id="l5.121"> image.secureLarry {</span>
<a href="#l5.122"></a><span id="l5.122">   height: 64px;</span>
<a href="#l5.123"></a><span id="l5.123">   width: 64px;</span>
<a href="#l5.124"></a><span id="l5.124">   padding: 0;</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/identity.png&quot;);</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineplus">+  background: url(&quot;chrome://messenger/skin/icons/identity.png&quot;) no-repeat;</span>
<a href="#l5.127"></a><span id="l5.127"> }</span>
<a href="#l5.128"></a><span id="l5.128"> </span>
<a href="#l5.129"></a><span id="l5.129"> vbox.mastervbox {</span>
<a href="#l5.130"></a><span id="l5.130">   padding: 14px;</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineplus">+  background: #F4F4F4;</span>
<a href="#l5.132"></a><span id="l5.132"> }</span>
<a href="#l5.133"></a><span id="l5.133"> </span>
<a href="#l5.134"></a><span id="l5.134"> vbox.icon[state='strong'] {</span>
<a href="#l5.135"></a><span id="l5.135">   background-image: url(&quot;chrome://messenger/skin/icons/secure.png&quot;);</span>
<a href="#l5.136"></a><span id="l5.136"> }</span>
<a href="#l5.137"></a><span id="l5.137"> </span>
<a href="#l5.138"></a><span id="l5.138"> vbox.icon[state='failed'] {</span>
<a href="#l5.139"></a><span id="l5.139">   background-image: url(&quot;chrome://messenger/skin/icons/failed.png&quot;);</span>
<a href="#l5.140"></a><span id="l5.140" class="difflineat">@@ -202,17 +210,19 @@ vbox.icon[state='failed'] {</span>
<a href="#l5.141"></a><span id="l5.141"> vbox.icon[state='probing'] {</span>
<a href="#l5.142"></a><span id="l5.142">   background-image: url(&quot;chrome://messenger/skin/icons/probing.png&quot;);</span>
<a href="#l5.143"></a><span id="l5.143"> }</span>
<a href="#l5.144"></a><span id="l5.144"> </span>
<a href="#l5.145"></a><span id="l5.145"> vbox.icon[state='weak'] {</span>
<a href="#l5.146"></a><span id="l5.146">   background-image: url(&quot;chrome://messenger/skin/icons/insecure.png&quot;);</span>
<a href="#l5.147"></a><span id="l5.147"> }</span>
<a href="#l5.148"></a><span id="l5.148"> </span>
<a href="#l5.149"></a><span id="l5.149" class="difflineminus">-.warningbox {</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineplus">+#warningbox {</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineplus">+  width: 650px;</span>
<a href="#l5.152"></a><span id="l5.152" class="difflineplus">+  height: 400px;</span>
<a href="#l5.153"></a><span id="l5.153">   background: #333333 none repeat scroll 0% 0%;</span>
<a href="#l5.154"></a><span id="l5.154">   padding: 1em;</span>
<a href="#l5.155"></a><span id="l5.155">   overflow: auto;</span>
<a href="#l5.156"></a><span id="l5.156"> }</span>
<a href="#l5.157"></a><span id="l5.157"> </span>
<a href="#l5.158"></a><span id="l5.158"> .warning {</span>
<a href="#l5.159"></a><span id="l5.159">   padding: 2em;</span>
<a href="#l5.160"></a><span id="l5.160">   -moz-border-radius: 10px;</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineat">@@ -282,20 +292,49 @@ vbox.settings {</span>
<a href="#l5.162"></a><span id="l5.162">   padding: 2px 3px;</span>
<a href="#l5.163"></a><span id="l5.163">   background-color: #ffffc7;</span>
<a href="#l5.164"></a><span id="l5.164">   max-width: 320px;</span>
<a href="#l5.165"></a><span id="l5.165"> }</span>
<a href="#l5.166"></a><span id="l5.166"> </span>
<a href="#l5.167"></a><span id="l5.167"> /* Missing:</span>
<a href="#l5.168"></a><span id="l5.168">  * label.textbox-label</span>
<a href="#l5.169"></a><span id="l5.169">  * .protocol</span>
<a href="#l5.170"></a><span id="l5.170" class="difflineminus">- * textbox.security</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineminus">- * textbox.port</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineminus">- * textbox.host</span>
<a href="#l5.173"></a><span id="l5.173" class="difflineminus">- * menulist.host</span>
<a href="#l5.174"></a><span id="l5.174" class="difflineplus">+ */</span>
<a href="#l5.175"></a><span id="l5.175" class="difflineplus">+</span>
<a href="#l5.176"></a><span id="l5.176" class="difflineplus">+.protocol &gt; label {</span>
<a href="#l5.177"></a><span id="l5.177" class="difflineplus">+  -moz-padding-start: 6px;</span>
<a href="#l5.178"></a><span id="l5.178" class="difflineplus">+}</span>
<a href="#l5.179"></a><span id="l5.179" class="difflineplus">+</span>
<a href="#l5.180"></a><span id="l5.180" class="difflineplus">+.security {</span>
<a href="#l5.181"></a><span id="l5.181" class="difflineplus">+  width: 10em;</span>
<a href="#l5.182"></a><span id="l5.182" class="difflineplus">+}</span>
<a href="#l5.183"></a><span id="l5.183" class="difflineplus">+</span>
<a href="#l5.184"></a><span id="l5.184" class="difflineplus">+textbox.port {</span>
<a href="#l5.185"></a><span id="l5.185" class="difflineplus">+  width: 4em;</span>
<a href="#l5.186"></a><span id="l5.186" class="difflineplus">+}</span>
<a href="#l5.187"></a><span id="l5.187" class="difflineplus">+</span>
<a href="#l5.188"></a><span id="l5.188" class="difflineplus">+textbox.username {</span>
<a href="#l5.189"></a><span id="l5.189" class="difflineplus">+  width: 12em;</span>
<a href="#l5.190"></a><span id="l5.190" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l5.191"></a><span id="l5.191" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l5.192"></a><span id="l5.192" class="difflineplus">+}</span>
<a href="#l5.193"></a><span id="l5.193" class="difflineplus">+</span>
<a href="#l5.194"></a><span id="l5.194" class="difflineplus">+textbox.host {</span>
<a href="#l5.195"></a><span id="l5.195" class="difflineplus">+  width: 12em;</span>
<a href="#l5.196"></a><span id="l5.196" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l5.197"></a><span id="l5.197" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l5.198"></a><span id="l5.198" class="difflineplus">+}</span>
<a href="#l5.199"></a><span id="l5.199" class="difflineplus">+</span>
<a href="#l5.200"></a><span id="l5.200" class="difflineplus">+menulist.host {</span>
<a href="#l5.201"></a><span id="l5.201" class="difflineplus">+  width: 12em;</span>
<a href="#l5.202"></a><span id="l5.202" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l5.203"></a><span id="l5.203" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l5.204"></a><span id="l5.204" class="difflineplus">+}</span>
<a href="#l5.205"></a><span id="l5.205" class="difflineplus">+</span>
<a href="#l5.206"></a><span id="l5.206" class="difflineplus">+/* Missing:</span>
<a href="#l5.207"></a><span id="l5.207">  * textbox[disabled=&quot;true&quot;]</span>
<a href="#l5.208"></a><span id="l5.208">  * label.heading</span>
<a href="#l5.209"></a><span id="l5.209">  * row.heading</span>
<a href="#l5.210"></a><span id="l5.210">  * hbox.clickable</span>
<a href="#l5.211"></a><span id="l5.211">  * hbox.hoverable:hover</span>
<a href="#l5.212"></a><span id="l5.212">  * textbox.clickable</span>
<a href="#l5.213"></a><span id="l5.213">  * textbox.editing</span>
<a href="#l5.214"></a><span id="l5.214">  * textbox.clickable &gt; .textbox-input-box &gt; .textbox-input:hover</span>
<a href="#l5.215"></a><span id="l5.215" class="difflineat">@@ -316,8 +355,22 @@ vbox.settings {</span>
<a href="#l5.216"></a><span id="l5.216">   margin: 0px;</span>
<a href="#l5.217"></a><span id="l5.217">   padding-left: 20px;</span>
<a href="#l5.218"></a><span id="l5.218">   background: url(&quot;chrome://messenger/skin/section_collapsed.png&quot;) left 0 no-repeat;</span>
<a href="#l5.219"></a><span id="l5.219"> }</span>
<a href="#l5.220"></a><span id="l5.220"> </span>
<a href="#l5.221"></a><span id="l5.221"> .technical_details[expanded] {</span>
<a href="#l5.222"></a><span id="l5.222">   background-image: url(&quot;chrome://messenger/skin/section_expanded.png&quot;);</span>
<a href="#l5.223"></a><span id="l5.223"> }</span>
<a href="#l5.224"></a><span id="l5.224" class="difflineplus">+</span>
<a href="#l5.225"></a><span id="l5.225" class="difflineplus">+label.autoconfigLabel {</span>
<a href="#l5.226"></a><span id="l5.226" class="difflineplus">+  width: 80px;</span>
<a href="#l5.227"></a><span id="l5.227" class="difflineplus">+  text-align: right;</span>
<a href="#l5.228"></a><span id="l5.228" class="difflineplus">+}</span>
<a href="#l5.229"></a><span id="l5.229" class="difflineplus">+</span>
<a href="#l5.230"></a><span id="l5.230" class="difflineplus">+label.textbox-label {</span>
<a href="#l5.231"></a><span id="l5.231" class="difflineplus">+  width: 58px;</span>
<a href="#l5.232"></a><span id="l5.232" class="difflineplus">+  text-align: right;</span>
<a href="#l5.233"></a><span id="l5.233" class="difflineplus">+}</span>
<a href="#l5.234"></a><span id="l5.234" class="difflineplus">+</span>
<a href="#l5.235"></a><span id="l5.235" class="difflineplus">+vbox.initialSettings textbox {</span>
<a href="#l5.236"></a><span id="l5.236" class="difflineplus">+  width: 280px;</span>
<a href="#l5.237"></a><span id="l5.237" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/emailWizard.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/emailWizard.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -140,16 +140,23 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.4"></a><span id="l6.4">       menuitem.setAttribute(&quot;label&quot;, label);</span>
<a href="#l6.5"></a><span id="l6.5">       menuitem.setAttribute(&quot;value&quot;, server.key);</span>
<a href="#l6.6"></a><span id="l6.6">       menuitem.hostname = server.hostname;</span>
<a href="#l6.7"></a><span id="l6.7">       menupopup.appendChild(menuitem);</span>
<a href="#l6.8"></a><span id="l6.8">     }</span>
<a href="#l6.9"></a><span id="l6.9">     var menulist = document.getElementById(&quot;outgoing_server&quot;);</span>
<a href="#l6.10"></a><span id="l6.10">     menulist.addEventListener(&quot;command&quot;,</span>
<a href="#l6.11"></a><span id="l6.11">       function(event) { gEmailConfigWizard.userChangedOutgoing(event); }, true);</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+    // Store the size of the bottom half of the window in the fullspacer</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+    // element, so that we don't resize wildly when we show and hide it.</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+    document.getElementById(&quot;settingsbox&quot;).hidden = true;</span>
<a href="#l6.17"></a><span id="l6.17" class="difflineplus">+    document.getElementById(&quot;fullspacer&quot;).width = document.width;</span>
<a href="#l6.18"></a><span id="l6.18" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l6.19"></a><span id="l6.19">   },</span>
<a href="#l6.20"></a><span id="l6.20"> </span>
<a href="#l6.21"></a><span id="l6.21">   /* When the next button is clicked we've moved from the initial account</span>
<a href="#l6.22"></a><span id="l6.22">    * information stage to using that information to configure account details.</span>
<a href="#l6.23"></a><span id="l6.23">    */</span>
<a href="#l6.24"></a><span id="l6.24">   onNext : function()</span>
<a href="#l6.25"></a><span id="l6.25">   {</span>
<a href="#l6.26"></a><span id="l6.26">     // change the inputs to a flat look</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineat">@@ -165,48 +172,48 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.28"></a><span id="l6.28">     this.findConfig(this._domain, this._email);</span>
<a href="#l6.29"></a><span id="l6.29"> </span>
<a href="#l6.30"></a><span id="l6.30">     // swap out buttons</span>
<a href="#l6.31"></a><span id="l6.31">     _hide(&quot;next_button&quot;);</span>
<a href="#l6.32"></a><span id="l6.32">     _show(&quot;back_button&quot;);</span>
<a href="#l6.33"></a><span id="l6.33">     _show(&quot;stop_button&quot;);</span>
<a href="#l6.34"></a><span id="l6.34">     _hide(&quot;edit_button&quot;);</span>
<a href="#l6.35"></a><span id="l6.35">     _hide(&quot;go_button&quot;);</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineplus">+</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l6.38"></a><span id="l6.38">   },</span>
<a href="#l6.39"></a><span id="l6.39"> </span>
<a href="#l6.40"></a><span id="l6.40">   /* The back button can be clicked at anytime and should stop all probing of</span>
<a href="#l6.41"></a><span id="l6.41">    * account details.  This allows the person to return to their account</span>
<a href="#l6.42"></a><span id="l6.42">    * information details in case anything was incorrect.</span>
<a href="#l6.43"></a><span id="l6.43">    *</span>
<a href="#l6.44"></a><span id="l6.44">    * Any account details that were manually entered should be remembered even</span>
<a href="#l6.45"></a><span id="l6.45">    * when this back button is clicked</span>
<a href="#l6.46"></a><span id="l6.46">    */</span>
<a href="#l6.47"></a><span id="l6.47">   onBack : function()</span>
<a href="#l6.48"></a><span id="l6.48">   {</span>
<a href="#l6.49"></a><span id="l6.49" class="difflineplus">+    this._disableConfigDetails(true);</span>
<a href="#l6.50"></a><span id="l6.50">     this.hideConfigDetails();</span>
<a href="#l6.51"></a><span id="l6.51">     this.clearConfigDetails();</span>
<a href="#l6.52"></a><span id="l6.52"> </span>
<a href="#l6.53"></a><span id="l6.53">     // change the inputs back to regular</span>
<a href="#l6.54"></a><span id="l6.54">     this._accountInfoInputs(false);</span>
<a href="#l6.55"></a><span id="l6.55"> </span>
<a href="#l6.56"></a><span id="l6.56">     // swap buttons back</span>
<a href="#l6.57"></a><span id="l6.57">     _show(&quot;next_button&quot;);</span>
<a href="#l6.58"></a><span id="l6.58">     _hide(&quot;back_button&quot;);</span>
<a href="#l6.59"></a><span id="l6.59" class="difflineplus">+    document.getElementById(&quot;advanced_settings&quot;).disabled = true;</span>
<a href="#l6.60"></a><span id="l6.60">     _hide(&quot;advanced_settings&quot;);</span>
<a href="#l6.61"></a><span id="l6.61">   },</span>
<a href="#l6.62"></a><span id="l6.62"> </span>
<a href="#l6.63"></a><span id="l6.63">   /* Helper method that enables or disabled all the account information inputs</span>
<a href="#l6.64"></a><span id="l6.64" class="difflineminus">-   *</span>
<a href="#l6.65"></a><span id="l6.65" class="difflineminus">-   * NOTE: The remember password input was skipped purposefully, people should</span>
<a href="#l6.66"></a><span id="l6.66" class="difflineminus">-   *        continue to be able to change that setting even as account details</span>
<a href="#l6.67"></a><span id="l6.67" class="difflineminus">-   *        are determined.</span>
<a href="#l6.68"></a><span id="l6.68">    */</span>
<a href="#l6.69"></a><span id="l6.69">   _accountInfoInputs : function(disabled)</span>
<a href="#l6.70"></a><span id="l6.70">   {</span>
<a href="#l6.71"></a><span id="l6.71" class="difflineminus">-    let ids = [&quot;realname&quot;,&quot;email&quot;,&quot;password&quot;];</span>
<a href="#l6.72"></a><span id="l6.72" class="difflineplus">+    let ids = [&quot;realname&quot;, &quot;email&quot;, &quot;password&quot;, &quot;remember_password&quot;];</span>
<a href="#l6.73"></a><span id="l6.73">     if (disabled &amp;&amp; document.getElementById(&quot;password&quot;).getAttribute(&quot;empty&quot;)) {</span>
<a href="#l6.74"></a><span id="l6.74">       document.getElementById(&quot;password&quot;).value = &quot; &quot;;</span>
<a href="#l6.75"></a><span id="l6.75">       document.getElementById(&quot;password&quot;).setAttribute(&quot;empty&quot;, true);</span>
<a href="#l6.76"></a><span id="l6.76">       document.getElementById(&quot;remember_password&quot;).checked = false;</span>
<a href="#l6.77"></a><span id="l6.77">     }</span>
<a href="#l6.78"></a><span id="l6.78"> </span>
<a href="#l6.79"></a><span id="l6.79">     for ( let i = 0; i &lt; ids.length; i++ )</span>
<a href="#l6.80"></a><span id="l6.80">       document.getElementById(ids[i]).disabled = disabled;</span>
<a href="#l6.81"></a><span id="l6.81" class="difflineat">@@ -259,20 +266,27 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.82"></a><span id="l6.82">   },</span>
<a href="#l6.83"></a><span id="l6.83"> </span>
<a href="#l6.84"></a><span id="l6.84">   /* This does very little other than to check that a name was entered at all</span>
<a href="#l6.85"></a><span id="l6.85">    * Since this is such an insignificant test we should be using a very light</span>
<a href="#l6.86"></a><span id="l6.86">    * or even jovial warning.</span>
<a href="#l6.87"></a><span id="l6.87">    */</span>
<a href="#l6.88"></a><span id="l6.88">   validateRealname : function()</span>
<a href="#l6.89"></a><span id="l6.89">   {</span>
<a href="#l6.90"></a><span id="l6.90" class="difflineminus">-    if (document.getElementById('realname').value.length &gt; 0)</span>
<a href="#l6.91"></a><span id="l6.91" class="difflineminus">-      this.clearError('nameerror');</span>
<a href="#l6.92"></a><span id="l6.92" class="difflineminus">-    else</span>
<a href="#l6.93"></a><span id="l6.93" class="difflineminus">-      this.setError(&quot;nameerror&quot;, &quot;name.error&quot;);</span>
<a href="#l6.94"></a><span id="l6.94" class="difflineplus">+    let realname = document.getElementById(&quot;realname&quot;);</span>
<a href="#l6.95"></a><span id="l6.95" class="difflineplus">+    if (realname.value.length &gt; 0) {</span>
<a href="#l6.96"></a><span id="l6.96" class="difflineplus">+      this.clearError(&quot;nameerror&quot;);</span>
<a href="#l6.97"></a><span id="l6.97" class="difflineplus">+      _show(&quot;nametext&quot;);</span>
<a href="#l6.98"></a><span id="l6.98" class="difflineplus">+      realname.removeAttribute(&quot;error&quot;);</span>
<a href="#l6.99"></a><span id="l6.99" class="difflineplus">+    }</span>
<a href="#l6.100"></a><span id="l6.100" class="difflineplus">+    else {</span>
<a href="#l6.101"></a><span id="l6.101" class="difflineplus">+      _hide(&quot;nametext&quot;);</span>
<a href="#l6.102"></a><span id="l6.102" class="difflineplus">+      this.setError(&quot;nameerror&quot;, &quot;please_enter_name&quot;);</span>
<a href="#l6.103"></a><span id="l6.103" class="difflineplus">+      realname.setAttribute(&quot;error&quot;, &quot;true&quot;);</span>
<a href="#l6.104"></a><span id="l6.104" class="difflineplus">+    }</span>
<a href="#l6.105"></a><span id="l6.105">   },</span>
<a href="#l6.106"></a><span id="l6.106"> </span>
<a href="#l6.107"></a><span id="l6.107">   /*</span>
<a href="#l6.108"></a><span id="l6.108">    * This checks if the email address is at least possibly valid, meaning it</span>
<a href="#l6.109"></a><span id="l6.109">    * has an '@' before the last char.</span>
<a href="#l6.110"></a><span id="l6.110">    */</span>
<a href="#l6.111"></a><span id="l6.111">   emailAddrValidish : function()</span>
<a href="#l6.112"></a><span id="l6.112">   {</span>
<a href="#l6.113"></a><span id="l6.113" class="difflineat">@@ -283,45 +297,50 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.114"></a><span id="l6.114"> </span>
<a href="#l6.115"></a><span id="l6.115">   /*</span>
<a href="#l6.116"></a><span id="l6.116">    * onEmailInput and onRealnameInput are called onInput, and just handle</span>
<a href="#l6.117"></a><span id="l6.117">    * hiding/showing the next button based on whether there's a semi-reasonable</span>
<a href="#l6.118"></a><span id="l6.118">    * e-mail address and nonblank realname to start with.</span>
<a href="#l6.119"></a><span id="l6.119">    */</span>
<a href="#l6.120"></a><span id="l6.120">   onEmailInput : function()</span>
<a href="#l6.121"></a><span id="l6.121">   {</span>
<a href="#l6.122"></a><span id="l6.122" class="difflineminus">-    if (document.getElementById('realname').value.length &gt; 0 &amp;&amp;</span>
<a href="#l6.123"></a><span id="l6.123" class="difflineplus">+    if (document.getElementById(&quot;realname&quot;).value.length &gt; 0 &amp;&amp;</span>
<a href="#l6.124"></a><span id="l6.124">         this.emailAddrValidish())</span>
<a href="#l6.125"></a><span id="l6.125" class="difflineminus">-      _show(&quot;next_button&quot;);</span>
<a href="#l6.126"></a><span id="l6.126" class="difflineplus">+      document.getElementById(&quot;next_button&quot;).disabled = false;</span>
<a href="#l6.127"></a><span id="l6.127">     else</span>
<a href="#l6.128"></a><span id="l6.128" class="difflineminus">-      _hide(&quot;next_button&quot;);</span>
<a href="#l6.129"></a><span id="l6.129" class="difflineplus">+      document.getElementById(&quot;next_button&quot;).disabled = true;</span>
<a href="#l6.130"></a><span id="l6.130">    },</span>
<a href="#l6.131"></a><span id="l6.131"> </span>
<a href="#l6.132"></a><span id="l6.132">   onRealnameInput : function()</span>
<a href="#l6.133"></a><span id="l6.133">   {</span>
<a href="#l6.134"></a><span id="l6.134">     if (document.getElementById('realname').value.length &gt; 0 &amp;&amp;</span>
<a href="#l6.135"></a><span id="l6.135">         this.emailAddrValidish())</span>
<a href="#l6.136"></a><span id="l6.136" class="difflineminus">-      _show(&quot;next_button&quot;);</span>
<a href="#l6.137"></a><span id="l6.137" class="difflineplus">+      document.getElementById(&quot;next_button&quot;).disabled = false;</span>
<a href="#l6.138"></a><span id="l6.138">     else</span>
<a href="#l6.139"></a><span id="l6.139" class="difflineminus">-      _hide(&quot;next_button&quot;);</span>
<a href="#l6.140"></a><span id="l6.140" class="difflineplus">+      document.getElementById(&quot;next_button&quot;).disabled = true;</span>
<a href="#l6.141"></a><span id="l6.141">    },</span>
<a href="#l6.142"></a><span id="l6.142"> </span>
<a href="#l6.143"></a><span id="l6.143">   /* This check is done on blur and is only done as an informative warning</span>
<a href="#l6.144"></a><span id="l6.144">    * we don't want to block the person if they've entered and email that</span>
<a href="#l6.145"></a><span id="l6.145">    * doesn't conform to our regex</span>
<a href="#l6.146"></a><span id="l6.146">    */</span>
<a href="#l6.147"></a><span id="l6.147">   validateEmail : function()</span>
<a href="#l6.148"></a><span id="l6.148">   {</span>
<a href="#l6.149"></a><span id="l6.149" class="difflineminus">-    if (document.getElementById('email').value.length &lt;= 0)</span>
<a href="#l6.150"></a><span id="l6.150" class="difflineplus">+    let email = document.getElementById(&quot;email&quot;);</span>
<a href="#l6.151"></a><span id="l6.151" class="difflineplus">+    if (email.value.length &lt;= 0)</span>
<a href="#l6.152"></a><span id="l6.152">       return;</span>
<a href="#l6.153"></a><span id="l6.153"> </span>
<a href="#l6.154"></a><span id="l6.154" class="difflineminus">-    if (emailRE.test(document.getElementById('email').value))</span>
<a href="#l6.155"></a><span id="l6.155" class="difflineminus">-      this.clearError('emailerror');</span>
<a href="#l6.156"></a><span id="l6.156" class="difflineminus">-    else</span>
<a href="#l6.157"></a><span id="l6.157" class="difflineminus">-      this.setError(&quot;emailerror&quot;, &quot;email.error&quot;);</span>
<a href="#l6.158"></a><span id="l6.158" class="difflineplus">+    if (emailRE.test(email.value)) {</span>
<a href="#l6.159"></a><span id="l6.159" class="difflineplus">+      this.clearError(&quot;emailerror&quot;);</span>
<a href="#l6.160"></a><span id="l6.160" class="difflineplus">+      email.removeAttribute(&quot;error&quot;);</span>
<a href="#l6.161"></a><span id="l6.161" class="difflineplus">+    }</span>
<a href="#l6.162"></a><span id="l6.162" class="difflineplus">+    else {</span>
<a href="#l6.163"></a><span id="l6.163" class="difflineplus">+      this.setError(&quot;emailerror&quot;, &quot;double_check_email&quot;);</span>
<a href="#l6.164"></a><span id="l6.164" class="difflineplus">+      email.setAttribute(&quot;error&quot;, &quot;true&quot;);</span>
<a href="#l6.165"></a><span id="l6.165" class="difflineplus">+    }</span>
<a href="#l6.166"></a><span id="l6.166">   },</span>
<a href="#l6.167"></a><span id="l6.167"> </span>
<a href="#l6.168"></a><span id="l6.168">   // We use this to  prevent probing from forgetting the user's choice.</span>
<a href="#l6.169"></a><span id="l6.169">   setSecurity : function(eltId)</span>
<a href="#l6.170"></a><span id="l6.170">   {</span>
<a href="#l6.171"></a><span id="l6.171">     switch (eltId) {</span>
<a href="#l6.172"></a><span id="l6.172">       case 'incoming_security':</span>
<a href="#l6.173"></a><span id="l6.173">         this._userChangedIncomingSocketType = true;</span>
<a href="#l6.174"></a><span id="l6.174" class="difflineat">@@ -359,80 +378,81 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.175"></a><span id="l6.175">         break;</span>
<a href="#l6.176"></a><span id="l6.176">     }</span>
<a href="#l6.177"></a><span id="l6.177">   },</span>
<a href="#l6.178"></a><span id="l6.178">   </span>
<a href="#l6.179"></a><span id="l6.179">   oninputPassword : function()</span>
<a href="#l6.180"></a><span id="l6.180">   {</span>
<a href="#l6.181"></a><span id="l6.181">     let passwordElt = document.getElementById(&quot;password&quot;);</span>
<a href="#l6.182"></a><span id="l6.182">     let rememberPasswordElt = document.getElementById(&quot;remember_password&quot;);</span>
<a href="#l6.183"></a><span id="l6.183" class="difflineplus">+    rememberPasswordElt.disabled = false;</span>
<a href="#l6.184"></a><span id="l6.184">     if (passwordElt.value.length &lt; 1) {</span>
<a href="#l6.185"></a><span id="l6.185" class="difflineminus">-      document.getElementById(&quot;remember_password&quot;).checked = false;</span>
<a href="#l6.186"></a><span id="l6.186" class="difflineplus">+      rememberPasswordElt.disabled = true;</span>
<a href="#l6.187"></a><span id="l6.187" class="difflineplus">+      rememberPasswordElt.checked = false;</span>
<a href="#l6.188"></a><span id="l6.188">       this._userChangedPassword = false;</span>
<a href="#l6.189"></a><span id="l6.189">     }</span>
<a href="#l6.190"></a><span id="l6.190">     else if (!this._userChangedPassword)</span>
<a href="#l6.191"></a><span id="l6.191" class="difflineminus">-      document.getElementById(&quot;remember_password&quot;).checked = true;</span>
<a href="#l6.192"></a><span id="l6.192" class="difflineplus">+      rememberPasswordElt.checked = true;</span>
<a href="#l6.193"></a><span id="l6.193">   },</span>
<a href="#l6.194"></a><span id="l6.194"> </span>
<a href="#l6.195"></a><span id="l6.195">   /* If the user just tabbed through the password input without entering</span>
<a href="#l6.196"></a><span id="l6.196">    * anything, set the type back to text so we don't wind up showing the</span>
<a href="#l6.197"></a><span id="l6.197">    * emptytext as bullet characters.</span>
<a href="#l6.198"></a><span id="l6.198">    */</span>
<a href="#l6.199"></a><span id="l6.199">   onblurPassword : function()</span>
<a href="#l6.200"></a><span id="l6.200">   {</span>
<a href="#l6.201"></a><span id="l6.201">     let passwordElt = document.getElementById(&quot;password&quot;);</span>
<a href="#l6.202"></a><span id="l6.202" class="difflineminus">-    if (passwordElt.value.length &lt; 1)</span>
<a href="#l6.203"></a><span id="l6.203" class="difflineplus">+    let rememberPasswordElt = document.getElementById(&quot;remember_password&quot;);</span>
<a href="#l6.204"></a><span id="l6.204" class="difflineplus">+    if (passwordElt.value.length &lt; 1) {</span>
<a href="#l6.205"></a><span id="l6.205" class="difflineplus">+      rememberPasswordElt.disabled = true;</span>
<a href="#l6.206"></a><span id="l6.206">       passwordElt.type = &quot;text&quot;;</span>
<a href="#l6.207"></a><span id="l6.207" class="difflineplus">+    }</span>
<a href="#l6.208"></a><span id="l6.208" class="difflineplus">+    else</span>
<a href="#l6.209"></a><span id="l6.209" class="difflineplus">+      rememberPasswordElt.disabled = false;</span>
<a href="#l6.210"></a><span id="l6.210">   },</span>
<a href="#l6.211"></a><span id="l6.211"> </span>
<a href="#l6.212"></a><span id="l6.212">   findConfig : function(domain, email)</span>
<a href="#l6.213"></a><span id="l6.213">   {</span>
<a href="#l6.214"></a><span id="l6.214">     gEmailWizardLogger.info(&quot;findConfig()&quot;);</span>
<a href="#l6.215"></a><span id="l6.215" class="difflineminus">-    this.startSpinner(&quot;searching_for_configs&quot;);</span>
<a href="#l6.216"></a><span id="l6.216" class="difflineminus">-    this.setSpinnerStatus(&quot;check_preconfig&quot;);</span>
<a href="#l6.217"></a><span id="l6.217" class="difflineplus">+    this.startSpinner(&quot;all&quot;, &quot;looking_up_settings&quot;);</span>
<a href="#l6.218"></a><span id="l6.218">     if (this._probeAbortable)</span>
<a href="#l6.219"></a><span id="l6.219">     {</span>
<a href="#l6.220"></a><span id="l6.220">       gEmailWizardLogger.info(&quot;aborting existing config search&quot;);</span>
<a href="#l6.221"></a><span id="l6.221">       this._probeAbortable.cancel();</span>
<a href="#l6.222"></a><span id="l6.222">     }</span>
<a href="#l6.223"></a><span id="l6.223">     var me = this;</span>
<a href="#l6.224"></a><span id="l6.224">     this._probeAbortable = </span>
<a href="#l6.225"></a><span id="l6.225">       fetchConfigFromDisk(</span>
<a href="#l6.226"></a><span id="l6.226">         domain,</span>
<a href="#l6.227"></a><span id="l6.227">         function(config) // success</span>
<a href="#l6.228"></a><span id="l6.228">         {</span>
<a href="#l6.229"></a><span id="l6.229">           me.foundConfig(config);</span>
<a href="#l6.230"></a><span id="l6.230" class="difflineminus">-          me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l6.231"></a><span id="l6.231" class="difflineminus">-          me.setSpinnerStatus(&quot;found_preconfig&quot;);</span>
<a href="#l6.232"></a><span id="l6.232" class="difflineplus">+          me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l6.233"></a><span id="l6.233">           me._probeAbortable = null;</span>
<a href="#l6.234"></a><span id="l6.234">         },</span>
<a href="#l6.235"></a><span id="l6.235">         function(e) // fetchConfigFromDisk failed</span>
<a href="#l6.236"></a><span id="l6.236">         {</span>
<a href="#l6.237"></a><span id="l6.237">           gEmailWizardLogger.info(&quot;fetchConfigFromDisk failed: &quot; + e);</span>
<a href="#l6.238"></a><span id="l6.238" class="difflineminus">-          me.startSpinner(&quot;searching_for_configs&quot;);</span>
<a href="#l6.239"></a><span id="l6.239" class="difflineminus">-          me.setSpinnerStatus(&quot;checking_mozilla_config&quot;);</span>
<a href="#l6.240"></a><span id="l6.240" class="difflineplus">+          me.startSpinner(&quot;all&quot;, &quot;looking_up_settings&quot;);</span>
<a href="#l6.241"></a><span id="l6.241">           me._probeAbortable = </span>
<a href="#l6.242"></a><span id="l6.242">             fetchConfigFromDB(</span>
<a href="#l6.243"></a><span id="l6.243">               domain,</span>
<a href="#l6.244"></a><span id="l6.244">               function(config) // success</span>
<a href="#l6.245"></a><span id="l6.245">               {</span>
<a href="#l6.246"></a><span id="l6.246">                 me.foundConfig(config);</span>
<a href="#l6.247"></a><span id="l6.247" class="difflineminus">-                me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l6.248"></a><span id="l6.248" class="difflineminus">-                me.setSpinnerStatus(&quot;found_isp_config&quot;);</span>
<a href="#l6.249"></a><span id="l6.249" class="difflineplus">+                me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l6.250"></a><span id="l6.250">                 me.showEditButton();</span>
<a href="#l6.251"></a><span id="l6.251">                 me._probeAbortable = null;</span>
<a href="#l6.252"></a><span id="l6.252">               },</span>
<a href="#l6.253"></a><span id="l6.253">               function(e) // fetchConfigFromDB failed</span>
<a href="#l6.254"></a><span id="l6.254">               {</span>
<a href="#l6.255"></a><span id="l6.255">                 gEmailWizardLogger.info(&quot;fetchConfigFromDB failed: &quot; + e);</span>
<a href="#l6.256"></a><span id="l6.256" class="difflineminus">-                me.setSpinnerStatus(&quot;probing_config&quot;);</span>
<a href="#l6.257"></a><span id="l6.257">                 var initialConfig = new AccountConfig();</span>
<a href="#l6.258"></a><span id="l6.258">                 me._prefillConfig(initialConfig);</span>
<a href="#l6.259"></a><span id="l6.259" class="difflineminus">-                me.startSpinner(&quot;searching_for_configs&quot;)</span>
<a href="#l6.260"></a><span id="l6.260" class="difflineminus">-                me.setSpinnerStatus(&quot;guessing_from_email&quot;);</span>
<a href="#l6.261"></a><span id="l6.261" class="difflineplus">+                me.startSpinner(&quot;all&quot;, &quot;looking_up_settings&quot;)</span>
<a href="#l6.262"></a><span id="l6.262">                 me._guessConfig(domain, initialConfig, 'both');</span>
<a href="#l6.263"></a><span id="l6.263">               });</span>
<a href="#l6.264"></a><span id="l6.264">           });</span>
<a href="#l6.265"></a><span id="l6.265">   },</span>
<a href="#l6.266"></a><span id="l6.266"> </span>
<a href="#l6.267"></a><span id="l6.267">   _guessConfig : function(domain, initialConfig, which)</span>
<a href="#l6.268"></a><span id="l6.268">   {</span>
<a href="#l6.269"></a><span id="l6.269">     let me = this;</span>
<a href="#l6.270"></a><span id="l6.270" class="difflineat">@@ -462,58 +482,62 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.271"></a><span id="l6.271">           function(config) // success</span>
<a href="#l6.272"></a><span id="l6.272">           {</span>
<a href="#l6.273"></a><span id="l6.273">             me.foundConfig(config);</span>
<a href="#l6.274"></a><span id="l6.274">             gEmailWizardLogger.info(&quot;in success, incomingState = &quot; +</span>
<a href="#l6.275"></a><span id="l6.275">                                     me._incomingState + &quot; outgoingState = &quot; +</span>
<a href="#l6.276"></a><span id="l6.276">                                     me._outgoingState);</span>
<a href="#l6.277"></a><span id="l6.277">             if (me._incomingState == 'done' &amp;&amp; me._outgoingState == 'done')</span>
<a href="#l6.278"></a><span id="l6.278">             {</span>
<a href="#l6.279"></a><span id="l6.279" class="difflineminus">-              me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l6.280"></a><span id="l6.280" class="difflineminus">-              me.setSpinnerStatus(&quot;config_details_found&quot;);</span>
<a href="#l6.281"></a><span id="l6.281" class="difflineplus">+              me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l6.282"></a><span id="l6.282">               _hide(&quot;stop_button&quot;);</span>
<a href="#l6.283"></a><span id="l6.283">               _show(&quot;edit_button&quot;);</span>
<a href="#l6.284"></a><span id="l6.284">             }</span>
<a href="#l6.285"></a><span id="l6.285">             else if (me._incomingState == 'done' &amp;&amp; me._outgoingState != 'probing')</span>
<a href="#l6.286"></a><span id="l6.286">             {</span>
<a href="#l6.287"></a><span id="l6.287" class="difflineminus">-              me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l6.288"></a><span id="l6.288" class="difflineminus">-              me.setSpinnerStatus(&quot;incoming_found_specify_outgoing&quot;);</span>
<a href="#l6.289"></a><span id="l6.289" class="difflineplus">+              if (me._outgoingState == &quot;failed&quot;)</span>
<a href="#l6.290"></a><span id="l6.290" class="difflineplus">+                me.stopSpinner(&quot;failed_to_find_settings&quot;);</span>
<a href="#l6.291"></a><span id="l6.291" class="difflineplus">+              else</span>
<a href="#l6.292"></a><span id="l6.292" class="difflineplus">+                me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l6.293"></a><span id="l6.293">               me.editConfigDetails();</span>
<a href="#l6.294"></a><span id="l6.294">             }</span>
<a href="#l6.295"></a><span id="l6.295">             else if (me._outgoingState == 'done' &amp;&amp; me._incomingState != 'probing')</span>
<a href="#l6.296"></a><span id="l6.296">             {</span>
<a href="#l6.297"></a><span id="l6.297" class="difflineminus">-              me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l6.298"></a><span id="l6.298" class="difflineminus">-              me.setSpinnerStatus(&quot;outgoing_found_specify_incoming&quot;);</span>
<a href="#l6.299"></a><span id="l6.299" class="difflineplus">+              if (me._incomingState == &quot;failed&quot;)</span>
<a href="#l6.300"></a><span id="l6.300" class="difflineplus">+                me.stopSpinner(&quot;failed_to_find_settings&quot;);</span>
<a href="#l6.301"></a><span id="l6.301" class="difflineplus">+              else</span>
<a href="#l6.302"></a><span id="l6.302" class="difflineplus">+                me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l6.303"></a><span id="l6.303">               me.editConfigDetails();</span>
<a href="#l6.304"></a><span id="l6.304">             }</span>
<a href="#l6.305"></a><span id="l6.305">             if (me._outgoingState != 'probing' &amp;&amp;</span>
<a href="#l6.306"></a><span id="l6.306">                 me._incomingState != 'probing')</span>
<a href="#l6.307"></a><span id="l6.307">               me._probeAbortable = null;</span>
<a href="#l6.308"></a><span id="l6.308"> </span>
<a href="#l6.309"></a><span id="l6.309">           },</span>
<a href="#l6.310"></a><span id="l6.310">           function(e, config) // guessconfig failed</span>
<a href="#l6.311"></a><span id="l6.311">           {</span>
<a href="#l6.312"></a><span id="l6.312">             gEmailWizardLogger.info(&quot;guessConfig failed: &quot; + e);</span>
<a href="#l6.313"></a><span id="l6.313">             me.updateConfig(config);</span>
<a href="#l6.314"></a><span id="l6.314" class="difflineminus">-            me.stopSpinner(&quot;finished_with_error&quot;);</span>
<a href="#l6.315"></a><span id="l6.315" class="difflineminus">-            me.setSpinnerStatus(&quot;please_enter_missing_hostnames&quot;);</span>
<a href="#l6.316"></a><span id="l6.316" class="difflineplus">+            me.stopSpinner(&quot;failed_to_find_settings&quot;);</span>
<a href="#l6.317"></a><span id="l6.317">             me._probeAbortable = null;</span>
<a href="#l6.318"></a><span id="l6.318">             me.editConfigDetails();</span>
<a href="#l6.319"></a><span id="l6.319">           },</span>
<a href="#l6.320"></a><span id="l6.320">           function(e, config) // guessconfig failed for incoming</span>
<a href="#l6.321"></a><span id="l6.321">           {</span>
<a href="#l6.322"></a><span id="l6.322">             gEmailWizardLogger.info(&quot;guessConfig failed for incoming: &quot; + e);</span>
<a href="#l6.323"></a><span id="l6.323" class="difflineminus">-            me.setSpinnerStatus(&quot;incoming_failed_trying_outgoing&quot;);</span>
<a href="#l6.324"></a><span id="l6.324" class="difflineplus">+            me._setIconAndTooltip(&quot;incoming&quot;, &quot;failed&quot;, &quot;&quot;);</span>
<a href="#l6.325"></a><span id="l6.325" class="difflineplus">+            me._incomingState = &quot;failed&quot;;</span>
<a href="#l6.326"></a><span id="l6.326">             config.incoming.hostname = -1;</span>
<a href="#l6.327"></a><span id="l6.327">             me.updateConfig(config);</span>
<a href="#l6.328"></a><span id="l6.328">           },</span>
<a href="#l6.329"></a><span id="l6.329">           function(e, config) // guessconfig failed for outgoing</span>
<a href="#l6.330"></a><span id="l6.330">           {</span>
<a href="#l6.331"></a><span id="l6.331">             gEmailWizardLogger.info(&quot;guessConfig failed for outgoing: &quot; + e);</span>
<a href="#l6.332"></a><span id="l6.332" class="difflineminus">-            me.setSpinnerStatus(&quot;outgoing_failed_trying_incoming&quot;);</span>
<a href="#l6.333"></a><span id="l6.333" class="difflineplus">+            me._setIconAndTooltip(&quot;outgoing&quot;, &quot;failed&quot;, &quot;&quot;);</span>
<a href="#l6.334"></a><span id="l6.334" class="difflineplus">+            me._outgoingState = &quot;failed&quot;;</span>
<a href="#l6.335"></a><span id="l6.335">             if (!me._userPickedOutgoingServer)</span>
<a href="#l6.336"></a><span id="l6.336">               config.outgoing.hostname = -1;</span>
<a href="#l6.337"></a><span id="l6.337"> </span>
<a href="#l6.338"></a><span id="l6.338">             me.updateConfig(config);</span>
<a href="#l6.339"></a><span id="l6.339">           },</span>
<a href="#l6.340"></a><span id="l6.340">     initialConfig, which);</span>
<a href="#l6.341"></a><span id="l6.341">   },</span>
<a href="#l6.342"></a><span id="l6.342"> </span>
<a href="#l6.343"></a><span id="l6.343" class="difflineat">@@ -533,24 +557,24 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.344"></a><span id="l6.344"> </span>
<a href="#l6.345"></a><span id="l6.345">     return this._foundConfig2(config);</span>
<a href="#l6.346"></a><span id="l6.346">   },</span>
<a href="#l6.347"></a><span id="l6.347">   // Continuation of foundConfig2() after custom fields.</span>
<a href="#l6.348"></a><span id="l6.348">   _foundConfig2 : function(config)</span>
<a href="#l6.349"></a><span id="l6.349">   {</span>
<a href="#l6.350"></a><span id="l6.350">     this._currentConfigFilledIn = config.copy();</span>
<a href="#l6.351"></a><span id="l6.351">     _show(&quot;advanced_settings&quot;);</span>
<a href="#l6.352"></a><span id="l6.352" class="difflineplus">+    document.getElementById(&quot;advanced_settings&quot;).disabled = false;</span>
<a href="#l6.353"></a><span id="l6.353">     replaceVariables(this._currentConfigFilledIn, this._realname, this._email,</span>
<a href="#l6.354"></a><span id="l6.354">                      this._password);</span>
<a href="#l6.355"></a><span id="l6.355"> </span>
<a href="#l6.356"></a><span id="l6.356">     this.updateConfig(this._currentConfigFilledIn);</span>
<a href="#l6.357"></a><span id="l6.357"> </span>
<a href="#l6.358"></a><span id="l6.358">     document.getElementById('create_button').disabled = false;</span>
<a href="#l6.359"></a><span id="l6.359">     document.getElementById('create_button').hidden = false;</span>
<a href="#l6.360"></a><span id="l6.360" class="difflineminus">-</span>
<a href="#l6.361"></a><span id="l6.361">   },</span>
<a href="#l6.362"></a><span id="l6.362"> </span>
<a href="#l6.363"></a><span id="l6.363">   /*</span>
<a href="#l6.364"></a><span id="l6.364">    * Returns either the nsISmtpServer.key for an existing account that matches</span>
<a href="#l6.365"></a><span id="l6.365">    * our discovered hostname + port + username, or false if no match is found.</span>
<a href="#l6.366"></a><span id="l6.366">    */</span>
<a href="#l6.367"></a><span id="l6.367">   keyForExistingOutgoingAccount : function()</span>
<a href="#l6.368"></a><span id="l6.368">   {</span>
<a href="#l6.369"></a><span id="l6.369" class="difflineat">@@ -681,40 +705,47 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.370"></a><span id="l6.370">             _show('outgoing_box');</span>
<a href="#l6.371"></a><span id="l6.371">             _show('acknowledge_warning');</span>
<a href="#l6.372"></a><span id="l6.372">             break;</span>
<a href="#l6.373"></a><span id="l6.373">           case '':</span>
<a href="#l6.374"></a><span id="l6.374">             _hide('outgoing_box');</span>
<a href="#l6.375"></a><span id="l6.375">             if (this._incomingWarning == '')</span>
<a href="#l6.376"></a><span id="l6.376">               _hide('acknowledge_warning');</span>
<a href="#l6.377"></a><span id="l6.377">         }</span>
<a href="#l6.378"></a><span id="l6.378" class="difflineplus">+        window.sizeToContent();</span>
<a href="#l6.379"></a><span id="l6.379">       }</span>
<a href="#l6.380"></a><span id="l6.380">       else</span>
<a href="#l6.381"></a><span id="l6.381">       {</span>
<a href="#l6.382"></a><span id="l6.382">         // no certificate or cleartext issues</span>
<a href="#l6.383"></a><span id="l6.383">         this.validateAndFinish();</span>
<a href="#l6.384"></a><span id="l6.384">       }</span>
<a href="#l6.385"></a><span id="l6.385"> </span>
<a href="#l6.386"></a><span id="l6.386">     } catch (ex) { alertPrompt(gStringsBundle.getString(&quot;error_creating_account&quot;), ex); }</span>
<a href="#l6.387"></a><span id="l6.387">   },</span>
<a href="#l6.388"></a><span id="l6.388"> </span>
<a href="#l6.389"></a><span id="l6.389">   getMeOutOfHere : function()</span>
<a href="#l6.390"></a><span id="l6.390">   {</span>
<a href="#l6.391"></a><span id="l6.391">     // If we're going backwards, we should reset the acknowledge_warning.</span>
<a href="#l6.392"></a><span id="l6.392">     document.getElementById('acknowledge_warning').checked = false;</span>
<a href="#l6.393"></a><span id="l6.393">     this.toggleAcknowledgeWarning();</span>
<a href="#l6.394"></a><span id="l6.394" class="difflineplus">+    document.getElementById(&quot;incoming_technical&quot;).removeAttribute(&quot;expanded&quot;);;</span>
<a href="#l6.395"></a><span id="l6.395" class="difflineplus">+    document.getElementById(&quot;incoming_details&quot;).setAttribute(&quot;collapsed&quot;, true);;</span>
<a href="#l6.396"></a><span id="l6.396" class="difflineplus">+    document.getElementById(&quot;outgoing_technical&quot;).removeAttribute(&quot;expanded&quot;);;</span>
<a href="#l6.397"></a><span id="l6.397" class="difflineplus">+    document.getElementById(&quot;outgoing_details&quot;).setAttribute(&quot;collapsed&quot;, true);;</span>
<a href="#l6.398"></a><span id="l6.398">     _hide('warningbox');</span>
<a href="#l6.399"></a><span id="l6.399">     _show('mastervbox');</span>
<a href="#l6.400"></a><span id="l6.400" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l6.401"></a><span id="l6.401">   },</span>
<a href="#l6.402"></a><span id="l6.402"> </span>
<a href="#l6.403"></a><span id="l6.403">   validateAndFinish : function()</span>
<a href="#l6.404"></a><span id="l6.404">   {</span>
<a href="#l6.405"></a><span id="l6.405">     // if we're coming from the cert warning dialog</span>
<a href="#l6.406"></a><span id="l6.406">     _show('mastervbox');</span>
<a href="#l6.407"></a><span id="l6.407">     _hide('warningbox');</span>
<a href="#l6.408"></a><span id="l6.408" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l6.409"></a><span id="l6.409"> </span>
<a href="#l6.410"></a><span id="l6.410">     if (!this.checkIncomingAccountIsNew())</span>
<a href="#l6.411"></a><span id="l6.411">     {</span>
<a href="#l6.412"></a><span id="l6.412">       alertPrompt(gStringsBundle.getString(&quot;error_creating_account&quot;),</span>
<a href="#l6.413"></a><span id="l6.413">                   gStringsBundle.getString(&quot;incoming_server_exists&quot;));</span>
<a href="#l6.414"></a><span id="l6.414">       return;</span>
<a href="#l6.415"></a><span id="l6.415">     }</span>
<a href="#l6.416"></a><span id="l6.416">     // No need to check if we aren't adding it.</span>
<a href="#l6.417"></a><span id="l6.417" class="difflineat">@@ -741,17 +772,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.418"></a><span id="l6.418">                         });</span>
<a href="#l6.419"></a><span id="l6.419">     else</span>
<a href="#l6.420"></a><span id="l6.420">       this.finish();</span>
<a href="#l6.421"></a><span id="l6.421">   },</span>
<a href="#l6.422"></a><span id="l6.422"> </span>
<a href="#l6.423"></a><span id="l6.423">   verifyConfig : function(successCallback, errorCallback)</span>
<a href="#l6.424"></a><span id="l6.424">   {</span>
<a href="#l6.425"></a><span id="l6.425">     var me = this;</span>
<a href="#l6.426"></a><span id="l6.426" class="difflineminus">-    this.startSpinner(&quot;checking_password&quot;);</span>
<a href="#l6.427"></a><span id="l6.427" class="difflineplus">+    this.startSpinner(&quot;username&quot;, &quot;checking_password&quot;);</span>
<a href="#l6.428"></a><span id="l6.428">     // logic function defined in verifyConfig.js</span>
<a href="#l6.429"></a><span id="l6.429">     verifyConfig(</span>
<a href="#l6.430"></a><span id="l6.430">       this._currentConfigFilledIn,</span>
<a href="#l6.431"></a><span id="l6.431">       // guess login config?</span>
<a href="#l6.432"></a><span id="l6.432">       this._currentConfigFilledIn.source != AccountConfig.kSourceXML,</span>
<a href="#l6.433"></a><span id="l6.433">       this._parentMsgWindow,</span>
<a href="#l6.434"></a><span id="l6.434">       function() // success</span>
<a href="#l6.435"></a><span id="l6.435">       {</span>
<a href="#l6.436"></a><span id="l6.436" class="difflineat">@@ -873,17 +904,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.437"></a><span id="l6.437">       default:</span>
<a href="#l6.438"></a><span id="l6.438">         this._incomingState = state;</span>
<a href="#l6.439"></a><span id="l6.439">     }</span>
<a href="#l6.440"></a><span id="l6.440">     // since we look for SSL/TLS first, if we get 'weak', we're</span>
<a href="#l6.441"></a><span id="l6.441">     // stuck with it, and might as well admit we're done.</span>
<a href="#l6.442"></a><span id="l6.442">     if (state == 'weak')</span>
<a href="#l6.443"></a><span id="l6.443">       this._incomingState = 'done';</span>
<a href="#l6.444"></a><span id="l6.444"> </span>
<a href="#l6.445"></a><span id="l6.445" class="difflineminus">-    this._setIconAndTooltip('incoming_status', state, details);</span>
<a href="#l6.446"></a><span id="l6.446" class="difflineplus">+    this._setIconAndTooltip('incoming', state, details);</span>
<a href="#l6.447"></a><span id="l6.447">   },</span>
<a href="#l6.448"></a><span id="l6.448"> </span>
<a href="#l6.449"></a><span id="l6.449">   _setOutgoingStatus: function(state, details)</span>
<a href="#l6.450"></a><span id="l6.450">   {</span>
<a href="#l6.451"></a><span id="l6.451">     if (!details)</span>
<a href="#l6.452"></a><span id="l6.452">       details = '';</span>
<a href="#l6.453"></a><span id="l6.453"> </span>
<a href="#l6.454"></a><span id="l6.454">     if (this._userPickedOutgoingServer)</span>
<a href="#l6.455"></a><span id="l6.455" class="difflineat">@@ -902,52 +933,64 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.456"></a><span id="l6.456">       default:</span>
<a href="#l6.457"></a><span id="l6.457">         this._outgoingState = state;</span>
<a href="#l6.458"></a><span id="l6.458">     }</span>
<a href="#l6.459"></a><span id="l6.459">     // since we look for SSL/TLS first, if we get 'weak', we're</span>
<a href="#l6.460"></a><span id="l6.460">     // stuck with it, and might as well admit we're done.</span>
<a href="#l6.461"></a><span id="l6.461">     if (state == 'weak')</span>
<a href="#l6.462"></a><span id="l6.462">       this._outgoingState = 'done';</span>
<a href="#l6.463"></a><span id="l6.463"> </span>
<a href="#l6.464"></a><span id="l6.464" class="difflineminus">-    this._setIconAndTooltip('outgoing_status', state, details);</span>
<a href="#l6.465"></a><span id="l6.465" class="difflineplus">+    this._setIconAndTooltip('outgoing', state, details);</span>
<a href="#l6.466"></a><span id="l6.466">   },</span>
<a href="#l6.467"></a><span id="l6.467"> </span>
<a href="#l6.468"></a><span id="l6.468">   _setIconAndTooltip : function(id, state, details)</span>
<a href="#l6.469"></a><span id="l6.469">   {</span>
<a href="#l6.470"></a><span id="l6.470" class="difflineminus">-    let icon = document.getElementById(id);</span>
<a href="#l6.471"></a><span id="l6.471" class="difflineplus">+    gEmailWizardLogger.warn(id + &quot; setting icon and tooltip &quot; +</span>
<a href="#l6.472"></a><span id="l6.472" class="difflineplus">+                            state + &quot;:&quot; + details);</span>
<a href="#l6.473"></a><span id="l6.473" class="difflineplus">+    let icon = document.getElementById(id + &quot;_status&quot;);</span>
<a href="#l6.474"></a><span id="l6.474">     icon.setAttribute(&quot;state&quot;, state);</span>
<a href="#l6.475"></a><span id="l6.475">     switch (state)</span>
<a href="#l6.476"></a><span id="l6.476">     {</span>
<a href="#l6.477"></a><span id="l6.477">       case &quot;weak&quot;:</span>
<a href="#l6.478"></a><span id="l6.478">         icon.setAttribute(&quot;tooltip&quot;, &quot;insecureserver-&quot; + details);</span>
<a href="#l6.479"></a><span id="l6.479">         icon.setAttribute(&quot;popup&quot;, &quot;insecureserver-&quot; + details + &quot;-panel&quot;);</span>
<a href="#l6.480"></a><span id="l6.480" class="difflineplus">+        this._updateSpinner(id, true);</span>
<a href="#l6.481"></a><span id="l6.481">         break;</span>
<a href="#l6.482"></a><span id="l6.482">       case &quot;hidden&quot;:</span>
<a href="#l6.483"></a><span id="l6.483">         icon.removeAttribute(&quot;tooltip&quot;);</span>
<a href="#l6.484"></a><span id="l6.484">         icon.removeAttribute(&quot;popup&quot;);</span>
<a href="#l6.485"></a><span id="l6.485" class="difflineplus">+        this._updateSpinner(id, false);</span>
<a href="#l6.486"></a><span id="l6.486">         break;</span>
<a href="#l6.487"></a><span id="l6.487">       case &quot;strong&quot;:</span>
<a href="#l6.488"></a><span id="l6.488">         icon.setAttribute(&quot;tooltip&quot;, &quot;secureservertooltip&quot;);</span>
<a href="#l6.489"></a><span id="l6.489">         icon.setAttribute(&quot;popup&quot;, &quot;secureserver-panel&quot;);</span>
<a href="#l6.490"></a><span id="l6.490" class="difflineplus">+        this._updateSpinner(id, true);</span>
<a href="#l6.491"></a><span id="l6.491" class="difflineplus">+        break;</span>
<a href="#l6.492"></a><span id="l6.492" class="difflineplus">+      case &quot;failed&quot;:</span>
<a href="#l6.493"></a><span id="l6.493" class="difflineplus">+        icon.removeAttribute(&quot;tooltip&quot;);</span>
<a href="#l6.494"></a><span id="l6.494" class="difflineplus">+        icon.removeAttribute(&quot;popup&quot;);</span>
<a href="#l6.495"></a><span id="l6.495" class="difflineplus">+        this._updateSpinner(id, true);</span>
<a href="#l6.496"></a><span id="l6.496">         break;</span>
<a href="#l6.497"></a><span id="l6.497">     }</span>
<a href="#l6.498"></a><span id="l6.498">   },</span>
<a href="#l6.499"></a><span id="l6.499"> </span>
<a href="#l6.500"></a><span id="l6.500">   showConfigDetails : function()</span>
<a href="#l6.501"></a><span id="l6.501">   {</span>
<a href="#l6.502"></a><span id="l6.502">     // show the config details area</span>
<a href="#l6.503"></a><span id="l6.503">     _show(&quot;settingsbox&quot;);</span>
<a href="#l6.504"></a><span id="l6.504">     // also show the create button because it's outside of the area</span>
<a href="#l6.505"></a><span id="l6.505">     _show(&quot;create_button&quot;);</span>
<a href="#l6.506"></a><span id="l6.506">   },</span>
<a href="#l6.507"></a><span id="l6.507"> </span>
<a href="#l6.508"></a><span id="l6.508">   hideConfigDetails : function()</span>
<a href="#l6.509"></a><span id="l6.509">   {</span>
<a href="#l6.510"></a><span id="l6.510">     _hide(&quot;settingsbox&quot;);</span>
<a href="#l6.511"></a><span id="l6.511" class="difflineplus">+    document.getElementById(&quot;create_button&quot;).disabled = true;</span>
<a href="#l6.512"></a><span id="l6.512">     _hide(&quot;create_button&quot;);</span>
<a href="#l6.513"></a><span id="l6.513" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l6.514"></a><span id="l6.514">   },</span>
<a href="#l6.515"></a><span id="l6.515"> </span>
<a href="#l6.516"></a><span id="l6.516">   /* Clears out the config details information, this is really only meant to be</span>
<a href="#l6.517"></a><span id="l6.517">    * called from the (Back) button.</span>
<a href="#l6.518"></a><span id="l6.518">    * XXX This can destroy user input where it might not be necessary</span>
<a href="#l6.519"></a><span id="l6.519">    */</span>
<a href="#l6.520"></a><span id="l6.520">   clearConfigDetails : function()</span>
<a href="#l6.521"></a><span id="l6.521">   {</span>
<a href="#l6.522"></a><span id="l6.522" class="difflineat">@@ -962,29 +1005,30 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.523"></a><span id="l6.523"> </span>
<a href="#l6.524"></a><span id="l6.524">   /* Setting the config details form so it can be edited.  We also disable</span>
<a href="#l6.525"></a><span id="l6.525">    * (and hide) the create button during this time because we don't know what</span>
<a href="#l6.526"></a><span id="l6.526">    * might have changed.  The function called from the button that restarts</span>
<a href="#l6.527"></a><span id="l6.527">    * the config check should be enabling the config button as needed.</span>
<a href="#l6.528"></a><span id="l6.528">    */</span>
<a href="#l6.529"></a><span id="l6.529">   editConfigDetails : function()</span>
<a href="#l6.530"></a><span id="l6.530">   {</span>
<a href="#l6.531"></a><span id="l6.531" class="difflineplus">+    gEmailWizardLogger.info(&quot;onEdit&quot;);</span>
<a href="#l6.532"></a><span id="l6.532">     // Add the custom entry to the menulist, if it's not already there.</span>
<a href="#l6.533"></a><span id="l6.533">     let menulist = document.getElementById(&quot;outgoing_server&quot;);</span>
<a href="#l6.534"></a><span id="l6.534">     if (this._smtpServerCount == menulist.itemCount) {</span>
<a href="#l6.535"></a><span id="l6.535">       var hostname = document.getElementById(&quot;outgoing_server&quot;).value;</span>
<a href="#l6.536"></a><span id="l6.536">       let menuitem = menulist.insertItemAt(0, hostname, hostname);</span>
<a href="#l6.537"></a><span id="l6.537">       menuitem.hostname = hostname;</span>
<a href="#l6.538"></a><span id="l6.538">     }</span>
<a href="#l6.539"></a><span id="l6.539"> </span>
<a href="#l6.540"></a><span id="l6.540">     this._disableConfigDetails(false);</span>
<a href="#l6.541"></a><span id="l6.541" class="difflineminus">-    this._setIncomingStatus('hidden');</span>
<a href="#l6.542"></a><span id="l6.542" class="difflineminus">-    this._setOutgoingStatus('hidden');</span>
<a href="#l6.543"></a><span id="l6.543" class="difflineminus">-    document.getElementById('create_button').disabled = true;</span>
<a href="#l6.544"></a><span id="l6.544" class="difflineminus">-    _hide(&quot;create_button&quot;);</span>
<a href="#l6.545"></a><span id="l6.545" class="difflineplus">+    this._setIncomingStatus(&quot;failed&quot;);</span>
<a href="#l6.546"></a><span id="l6.546" class="difflineplus">+    this._setOutgoingStatus(&quot;failed&quot;);</span>
<a href="#l6.547"></a><span id="l6.547" class="difflineplus">+    document.getElementById(&quot;advanced_settings&quot;).disabled = false;</span>
<a href="#l6.548"></a><span id="l6.548" class="difflineplus">+    document.getElementById(&quot;create_button&quot;).disabled = true;</span>
<a href="#l6.549"></a><span id="l6.549">     _hide(&quot;stop_button&quot;);</span>
<a href="#l6.550"></a><span id="l6.550">     _hide(&quot;edit_button&quot;);</span>
<a href="#l6.551"></a><span id="l6.551">     _show(&quot;go_button&quot;);</span>
<a href="#l6.552"></a><span id="l6.552">   },</span>
<a href="#l6.553"></a><span id="l6.553"> </span>
<a href="#l6.554"></a><span id="l6.554">   /* This _doesn't_ set create back to enabled, that needs to be done in a</span>
<a href="#l6.555"></a><span id="l6.555">    * config check.  Only showing the button.</span>
<a href="#l6.556"></a><span id="l6.556">    * XXX However it seems that a disabled button can still receive click</span>
<a href="#l6.557"></a><span id="l6.557" class="difflineat">@@ -992,23 +1036,23 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.558"></a><span id="l6.558">    */</span>
<a href="#l6.559"></a><span id="l6.559">   goWithConfigDetails : function()</span>
<a href="#l6.560"></a><span id="l6.560">   {</span>
<a href="#l6.561"></a><span id="l6.561">     this._disableConfigDetails(true);</span>
<a href="#l6.562"></a><span id="l6.562">     _show(&quot;create_button&quot;);</span>
<a href="#l6.563"></a><span id="l6.563">   },</span>
<a href="#l6.564"></a><span id="l6.564"> </span>
<a href="#l6.565"></a><span id="l6.565">   // IDs of &lt;textbox&gt; inputs that can have a .value attr set</span>
<a href="#l6.566"></a><span id="l6.566" class="difflineminus">-  _configDetailTextInputs : [&quot;username&quot;, &quot;incoming_server&quot;,</span>
<a href="#l6.567"></a><span id="l6.567" class="difflineplus">+  _configDetailTextInputs : [&quot;password&quot;, &quot;username&quot;, &quot;incoming_server&quot;,</span>
<a href="#l6.568"></a><span id="l6.568">                              &quot;incoming_port&quot;, &quot;incoming_protocol&quot;,</span>
<a href="#l6.569"></a><span id="l6.569">                              &quot;outgoing_port&quot;],</span>
<a href="#l6.570"></a><span id="l6.570"> </span>
<a href="#l6.571"></a><span id="l6.571">   // IDs of the &lt;menulist&gt; elements that don't accept a .value attr but can</span>
<a href="#l6.572"></a><span id="l6.572">   // be disabled</span>
<a href="#l6.573"></a><span id="l6.573" class="difflineminus">-  _configDetailMenulists : [&quot;incoming_security&quot;,</span>
<a href="#l6.574"></a><span id="l6.574" class="difflineplus">+  _configDetailMenulists : [&quot;remember_password&quot;, &quot;incoming_security&quot;,</span>
<a href="#l6.575"></a><span id="l6.575">                             &quot;outgoing_server&quot;, &quot;outgoing_security&quot;],</span>
<a href="#l6.576"></a><span id="l6.576"> </span>
<a href="#l6.577"></a><span id="l6.577">   /* Helper function to loop through all config details form elements and</span>
<a href="#l6.578"></a><span id="l6.578">    * enable or disable each</span>
<a href="#l6.579"></a><span id="l6.579">    */</span>
<a href="#l6.580"></a><span id="l6.580">   _disableConfigDetails : function(disabled)</span>
<a href="#l6.581"></a><span id="l6.581">   {</span>
<a href="#l6.582"></a><span id="l6.582">     let formElements =</span>
<a href="#l6.583"></a><span id="l6.583" class="difflineat">@@ -1028,16 +1072,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.584"></a><span id="l6.584">   updateConfig : function(config)</span>
<a href="#l6.585"></a><span id="l6.585">   {</span>
<a href="#l6.586"></a><span id="l6.586">     _show(&quot;advanced_settings&quot;);</span>
<a href="#l6.587"></a><span id="l6.587">     this._currentConfig = config;</span>
<a href="#l6.588"></a><span id="l6.588">     // if we have a username, set it.</span>
<a href="#l6.589"></a><span id="l6.589">     if (config.incoming.username)</span>
<a href="#l6.590"></a><span id="l6.590">     {</span>
<a href="#l6.591"></a><span id="l6.591">       document.getElementById(&quot;username&quot;).value = config.incoming.username;</span>
<a href="#l6.592"></a><span id="l6.592" class="difflineplus">+      this._setIconAndTooltip(&quot;username&quot;, &quot;strong&quot;, &quot;&quot;);</span>
<a href="#l6.593"></a><span id="l6.593">     }</span>
<a href="#l6.594"></a><span id="l6.594">     else</span>
<a href="#l6.595"></a><span id="l6.595">     {</span>
<a href="#l6.596"></a><span id="l6.596">       // XXX needs more thought</span>
<a href="#l6.597"></a><span id="l6.597">     }</span>
<a href="#l6.598"></a><span id="l6.598"> </span>
<a href="#l6.599"></a><span id="l6.599">     // incoming server</span>
<a href="#l6.600"></a><span id="l6.600">     if (config.incoming.hostname &amp;&amp; config.incoming.hostname != -1)</span>
<a href="#l6.601"></a><span id="l6.601" class="difflineat">@@ -1055,16 +1100,18 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.602"></a><span id="l6.602">         sanitize.translate(config.incoming.type, { &quot;imap&quot; : 1, &quot;pop3&quot; : 2});</span>
<a href="#l6.603"></a><span id="l6.603"> </span>
<a href="#l6.604"></a><span id="l6.604">       if (config.incoming._inprogress)</span>
<a href="#l6.605"></a><span id="l6.605">       {</span>
<a href="#l6.606"></a><span id="l6.606">         this._setIncomingStatus('probing');</span>
<a href="#l6.607"></a><span id="l6.607">       }</span>
<a href="#l6.608"></a><span id="l6.608">       else</span>
<a href="#l6.609"></a><span id="l6.609">       {</span>
<a href="#l6.610"></a><span id="l6.610" class="difflineplus">+        // We got an incoming server, so we can enable the advanced settings.</span>
<a href="#l6.611"></a><span id="l6.611" class="difflineplus">+        document.getElementById(&quot;advanced_settings&quot;).disabled = false;</span>
<a href="#l6.612"></a><span id="l6.612">         switch (config.incoming.socketType)</span>
<a href="#l6.613"></a><span id="l6.613">         {</span>
<a href="#l6.614"></a><span id="l6.614">           case 2: // SSL / TLS</span>
<a href="#l6.615"></a><span id="l6.615">           case 3: // STARTTLS</span>
<a href="#l6.616"></a><span id="l6.616">             if (config.incoming.badCert)</span>
<a href="#l6.617"></a><span id="l6.617">             {</span>
<a href="#l6.618"></a><span id="l6.618">               this._setIncomingStatus('weak', 'selfsigned');</span>
<a href="#l6.619"></a><span id="l6.619">               var params = { exceptionAdded : false };</span>
<a href="#l6.620"></a><span id="l6.620" class="difflineat">@@ -1173,16 +1220,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.621"></a><span id="l6.621">    */</span>
<a href="#l6.622"></a><span id="l6.622">   onGo : function()</span>
<a href="#l6.623"></a><span id="l6.623">   {</span>
<a href="#l6.624"></a><span id="l6.624">     // swap out go for stop button</span>
<a href="#l6.625"></a><span id="l6.625">     _hide(&quot;go_button&quot;);</span>
<a href="#l6.626"></a><span id="l6.626">     // the stop is naturally not hidden so has no place in the code where it is</span>
<a href="#l6.627"></a><span id="l6.627">     // told to be shown</span>
<a href="#l6.628"></a><span id="l6.628">     _show(&quot;stop_button&quot;);</span>
<a href="#l6.629"></a><span id="l6.629" class="difflineplus">+    this._password = document.getElementById(&quot;password&quot;).value;</span>
<a href="#l6.630"></a><span id="l6.630">     this.goWithConfigDetails();</span>
<a href="#l6.631"></a><span id="l6.631">     var newConfig = this.getUserConfig();</span>
<a href="#l6.632"></a><span id="l6.632">     if (this._incomingState != &quot;done&quot;) {</span>
<a href="#l6.633"></a><span id="l6.633">       newConfig.incoming._inprogress = true;</span>
<a href="#l6.634"></a><span id="l6.634">       gEmailConfigWizard._startProbingIncoming(newConfig);</span>
<a href="#l6.635"></a><span id="l6.635">     }</span>
<a href="#l6.636"></a><span id="l6.636">     if (!this._userPickedOutgoingServer &amp;&amp; this._outgoingState != &quot;done&quot;) {</span>
<a href="#l6.637"></a><span id="l6.637">       newConfig.outgoing._inprogress = true;</span>
<a href="#l6.638"></a><span id="l6.638" class="difflineat">@@ -1193,91 +1241,81 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.639"></a><span id="l6.639">   onCancel : function()</span>
<a href="#l6.640"></a><span id="l6.640">   {</span>
<a href="#l6.641"></a><span id="l6.641">     // The window onclose handler will call onWizardShutdown for us.</span>
<a href="#l6.642"></a><span id="l6.642">     window.close();</span>
<a href="#l6.643"></a><span id="l6.643">   },</span>
<a href="#l6.644"></a><span id="l6.644"> </span>
<a href="#l6.645"></a><span id="l6.645">   // UI helper functions</span>
<a href="#l6.646"></a><span id="l6.646"> </span>
<a href="#l6.647"></a><span id="l6.647" class="difflineminus">-  startSpinner: function(actionStrName)</span>
<a href="#l6.648"></a><span id="l6.648" class="difflineplus">+  startSpinner: function(which, actionStrName)</span>
<a href="#l6.649"></a><span id="l6.649">   {</span>
<a href="#l6.650"></a><span id="l6.650">     this._showStatusTitle(false, actionStrName);</span>
<a href="#l6.651"></a><span id="l6.651" class="difflineminus">-    gEmailWizardLogger.warn(&quot;spinner start\n&quot;);</span>
<a href="#l6.652"></a><span id="l6.652" class="difflineminus">-  },</span>
<a href="#l6.653"></a><span id="l6.653" class="difflineminus">-</span>
<a href="#l6.654"></a><span id="l6.654" class="difflineminus">-  setSpinnerStatus : function(actionStrName)</span>
<a href="#l6.655"></a><span id="l6.655" class="difflineminus">-  {</span>
<a href="#l6.656"></a><span id="l6.656" class="difflineminus">-    this._showStatus(actionStrName);</span>
<a href="#l6.657"></a><span id="l6.657" class="difflineplus">+    if (which == &quot;all&quot;) {</span>
<a href="#l6.658"></a><span id="l6.658" class="difflineplus">+      this._setIconAndTooltip(&quot;username&quot;, &quot;hidden&quot;, &quot;&quot;);</span>
<a href="#l6.659"></a><span id="l6.659" class="difflineplus">+      this._setIconAndTooltip(&quot;incoming&quot;, &quot;hidden&quot;, &quot;&quot;);</span>
<a href="#l6.660"></a><span id="l6.660" class="difflineplus">+      this._setIconAndTooltip(&quot;outgoing&quot;, &quot;hidden&quot;, &quot;&quot;);</span>
<a href="#l6.661"></a><span id="l6.661" class="difflineplus">+    }</span>
<a href="#l6.662"></a><span id="l6.662" class="difflineplus">+    else</span>
<a href="#l6.663"></a><span id="l6.663" class="difflineplus">+      this._setIconAndTooltip(which, &quot;hidden&quot;, &quot;&quot;);</span>
<a href="#l6.664"></a><span id="l6.664" class="difflineplus">+    gEmailWizardLogger.warn(which + &quot;spinner start &quot; + actionStrName);</span>
<a href="#l6.665"></a><span id="l6.665">   },</span>
<a href="#l6.666"></a><span id="l6.666"> </span>
<a href="#l6.667"></a><span id="l6.667">   stopSpinner: function(actionStrName)</span>
<a href="#l6.668"></a><span id="l6.668">   {</span>
<a href="#l6.669"></a><span id="l6.669">     this._showStatusTitle(true, actionStrName);</span>
<a href="#l6.670"></a><span id="l6.670" class="difflineminus">-    gEmailWizardLogger.warn(&quot;spinner stop\n&quot;);</span>
<a href="#l6.671"></a><span id="l6.671" class="difflineplus">+    this._updateSpinner(&quot;username&quot;, true);</span>
<a href="#l6.672"></a><span id="l6.672" class="difflineplus">+    this._updateSpinner(&quot;incoming&quot;, true);</span>
<a href="#l6.673"></a><span id="l6.673" class="difflineplus">+    this._updateSpinner(&quot;outgoing&quot;, true);</span>
<a href="#l6.674"></a><span id="l6.674" class="difflineplus">+    gEmailWizardLogger.warn(&quot;all spinner stop &quot; + actionStrName);</span>
<a href="#l6.675"></a><span id="l6.675">   },</span>
<a href="#l6.676"></a><span id="l6.676"> </span>
<a href="#l6.677"></a><span id="l6.677" class="difflineminus">-  // thought this would be needed other places, not likely though</span>
<a href="#l6.678"></a><span id="l6.678" class="difflineminus">-  _hideSpinner : function(hidden)</span>
<a href="#l6.679"></a><span id="l6.679" class="difflineplus">+  _updateSpinner: function(which, stop)</span>
<a href="#l6.680"></a><span id="l6.680">   {</span>
<a href="#l6.681"></a><span id="l6.681" class="difflineminus">-    document.getElementById(&quot;config_spinner&quot;).hidden = hidden;</span>
<a href="#l6.682"></a><span id="l6.682" class="difflineplus">+    document.getElementById(which + &quot;_spinner&quot;).hidden = stop;</span>
<a href="#l6.683"></a><span id="l6.683">   },</span>
<a href="#l6.684"></a><span id="l6.684"> </span>
<a href="#l6.685"></a><span id="l6.685">   _showStatusTitle: function(success, msgName)</span>
<a href="#l6.686"></a><span id="l6.686">   {</span>
<a href="#l6.687"></a><span id="l6.687" class="difflineplus">+    let brandShortName = document.getElementById(&quot;bundle_brand&quot;)</span>
<a href="#l6.688"></a><span id="l6.688" class="difflineplus">+                                 .getString(&quot;brandShortName&quot;);</span>
<a href="#l6.689"></a><span id="l6.689">     let msg;</span>
<a href="#l6.690"></a><span id="l6.690">     try {</span>
<a href="#l6.691"></a><span id="l6.691" class="difflineminus">-      msg = msgName ? gStringsBundle.getString(msgName) : &quot;&quot;;</span>
<a href="#l6.692"></a><span id="l6.692" class="difflineplus">+      msg = msgName</span>
<a href="#l6.693"></a><span id="l6.693" class="difflineplus">+            ? gStringsBundle.getFormattedString(msgName, [brandShortName])</span>
<a href="#l6.694"></a><span id="l6.694" class="difflineplus">+            : &quot;&quot;;</span>
<a href="#l6.695"></a><span id="l6.695">     } catch(ex) {</span>
<a href="#l6.696"></a><span id="l6.696">       gEmailWizardLogger.error(&quot;missing string for &quot; + msgName);</span>
<a href="#l6.697"></a><span id="l6.697">     }</span>
<a href="#l6.698"></a><span id="l6.698"> </span>
<a href="#l6.699"></a><span id="l6.699" class="difflineminus">-    this._hideSpinner(success);</span>
<a href="#l6.700"></a><span id="l6.700">     let title = document.getElementById(&quot;config_status_title&quot;);</span>
<a href="#l6.701"></a><span id="l6.701">     title.hidden = false;</span>
<a href="#l6.702"></a><span id="l6.702">     title.textContent = msg;</span>
<a href="#l6.703"></a><span id="l6.703">     gEmailWizardLogger.info(&quot;show status title &quot; + (success ? &quot;success&quot; : &quot;failure&quot;) +</span>
<a href="#l6.704"></a><span id="l6.704">                             &quot;, msg: &quot; + msg);</span>
<a href="#l6.705"></a><span id="l6.705">   },</span>
<a href="#l6.706"></a><span id="l6.706"> </span>
<a href="#l6.707"></a><span id="l6.707" class="difflineminus">-  _showStatus: function(msgName)</span>
<a href="#l6.708"></a><span id="l6.708" class="difflineminus">-  {</span>
<a href="#l6.709"></a><span id="l6.709" class="difflineminus">-    let msg;</span>
<a href="#l6.710"></a><span id="l6.710" class="difflineminus">-    try {</span>
<a href="#l6.711"></a><span id="l6.711" class="difflineminus">-      msg = msgName ? gStringsBundle.getString(msgName) : &quot;&quot;;</span>
<a href="#l6.712"></a><span id="l6.712" class="difflineminus">-    } catch(ex) {</span>
<a href="#l6.713"></a><span id="l6.713" class="difflineminus">-      gEmailWizardLogger.error(&quot;missing string for &quot; + msgName);</span>
<a href="#l6.714"></a><span id="l6.714" class="difflineminus">-    }</span>
<a href="#l6.715"></a><span id="l6.715" class="difflineminus">-</span>
<a href="#l6.716"></a><span id="l6.716" class="difflineminus">-    let subtitle = document.getElementById(&quot;config_status_subtitle&quot;);</span>
<a href="#l6.717"></a><span id="l6.717" class="difflineminus">-    subtitle.hidden = false;</span>
<a href="#l6.718"></a><span id="l6.718" class="difflineminus">-    subtitle.textContent = msg;</span>
<a href="#l6.719"></a><span id="l6.719" class="difflineminus">-    gEmailWizardLogger.info(&quot;show status subtitle: &quot; + msg);</span>
<a href="#l6.720"></a><span id="l6.720" class="difflineminus">-  },</span>
<a href="#l6.721"></a><span id="l6.721" class="difflineminus">-</span>
<a href="#l6.722"></a><span id="l6.722">   _prefillConfig: function(initialConfig)</span>
<a href="#l6.723"></a><span id="l6.723">   {</span>
<a href="#l6.724"></a><span id="l6.724">     var emailsplit = this._email.split(&quot;@&quot;);</span>
<a href="#l6.725"></a><span id="l6.725">     if (emailsplit.length != 2)</span>
<a href="#l6.726"></a><span id="l6.726" class="difflineminus">-      throw new Exception(gStringsBundle.getString(&quot;email.error&quot;));</span>
<a href="#l6.727"></a><span id="l6.727" class="difflineplus">+      throw new Exception(gStringsBundle.getString(&quot;double_check_email&quot;));</span>
<a href="#l6.728"></a><span id="l6.728"> </span>
<a href="#l6.729"></a><span id="l6.729">     var emaillocal = sanitize.nonemptystring(emailsplit[0]);</span>
<a href="#l6.730"></a><span id="l6.730">     initialConfig.incoming.username = emaillocal;</span>
<a href="#l6.731"></a><span id="l6.731">     initialConfig.outgoing.username = emaillocal;</span>
<a href="#l6.732"></a><span id="l6.732">     initialConfig.outgoing.protocol = 'smtp';</span>
<a href="#l6.733"></a><span id="l6.733">     return initialConfig;</span>
<a href="#l6.734"></a><span id="l6.734">   },</span>
<a href="#l6.735"></a><span id="l6.735"> </span>
<a href="#l6.736"></a><span id="l6.736">   _startProbingIncoming : function(config)</span>
<a href="#l6.737"></a><span id="l6.737">   {</span>
<a href="#l6.738"></a><span id="l6.738">     gEmailWizardLogger.info(&quot;_startProbingIncoming: &quot; + config.incoming.hostname +</span>
<a href="#l6.739"></a><span id="l6.739">                             &quot; probe = &quot; + this._probeAbortable);</span>
<a href="#l6.740"></a><span id="l6.740" class="difflineminus">-    this.startSpinner(&quot;searching_for_configs&quot;);</span>
<a href="#l6.741"></a><span id="l6.741" class="difflineminus">-    this.setSpinnerStatus(this._outgoingState == &quot;probing&quot; ?</span>
<a href="#l6.742"></a><span id="l6.742" class="difflineminus">-                          &quot;check_server_details&quot; : &quot;check_in_server_details&quot;);</span>
<a href="#l6.743"></a><span id="l6.743" class="difflineplus">+    this.startSpinner(&quot;incoming&quot;, &quot;looking_up_settings&quot;);</span>
<a href="#l6.744"></a><span id="l6.744"> </span>
<a href="#l6.745"></a><span id="l6.745">     config.incoming._inprogress = true;</span>
<a href="#l6.746"></a><span id="l6.746">     // User entered hostname, we may want to probe port and protocol and socketType</span>
<a href="#l6.747"></a><span id="l6.747">     if (!this._userChangedIncomingProtocol)</span>
<a href="#l6.748"></a><span id="l6.748">       config.incoming.protocol = undefined;</span>
<a href="#l6.749"></a><span id="l6.749">     if (!this._userChangedIncomingPort)</span>
<a href="#l6.750"></a><span id="l6.750">       config.incoming.port = undefined;</span>
<a href="#l6.751"></a><span id="l6.751">     if (!this._userChangedIncomingSocketType)</span>
<a href="#l6.752"></a><span id="l6.752" class="difflineat">@@ -1301,19 +1339,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.753"></a><span id="l6.753">       this._guessConfig(domain, config, &quot;incoming&quot;);</span>
<a href="#l6.754"></a><span id="l6.754">     }</span>
<a href="#l6.755"></a><span id="l6.755">   },</span>
<a href="#l6.756"></a><span id="l6.756"> </span>
<a href="#l6.757"></a><span id="l6.757">   _startProbingOutgoing : function(config)</span>
<a href="#l6.758"></a><span id="l6.758">   {</span>
<a href="#l6.759"></a><span id="l6.759">     gEmailWizardLogger.info(&quot;_startProbingOutgoing: &quot; + config.outgoing.hostname +</span>
<a href="#l6.760"></a><span id="l6.760">                             &quot; probe = &quot; + this._probeAbortable);</span>
<a href="#l6.761"></a><span id="l6.761" class="difflineminus">-    this.startSpinner(&quot;searching_for_configs&quot;);</span>
<a href="#l6.762"></a><span id="l6.762" class="difflineminus">-    this.setSpinnerStatus(this._incomingState == &quot;probing&quot; ?</span>
<a href="#l6.763"></a><span id="l6.763" class="difflineminus">-                          &quot;check_server_details&quot; : &quot;check_out_server_details&quot;);</span>
<a href="#l6.764"></a><span id="l6.764" class="difflineplus">+    this.startSpinner(&quot;outgoing&quot;, &quot;looking_up_settings&quot;);</span>
<a href="#l6.765"></a><span id="l6.765"> </span>
<a href="#l6.766"></a><span id="l6.766">     config.outgoing._inprogress = true;</span>
<a href="#l6.767"></a><span id="l6.767">     // User entered hostname, we want to probe port and protocol and socketType</span>
<a href="#l6.768"></a><span id="l6.768">     if (!this._userChangedOutgoingPort)</span>
<a href="#l6.769"></a><span id="l6.769">       config.outgoing.port = undefined;</span>
<a href="#l6.770"></a><span id="l6.770">     if (!this.userChangedOutgoingSocketType)</span>
<a href="#l6.771"></a><span id="l6.771">       config.outgoing.socketType = undefined;</span>
<a href="#l6.772"></a><span id="l6.772"> </span>
<a href="#l6.773"></a><span id="l6.773" class="difflineat">@@ -1326,22 +1362,24 @@ EmailConfigWizard.prototype =</span>
<a href="#l6.774"></a><span id="l6.774">     else</span>
<a href="#l6.775"></a><span id="l6.775">     {</span>
<a href="#l6.776"></a><span id="l6.776">       this._guessConfig(config.outgoing.hostname, config, &quot;outgoing&quot;);</span>
<a href="#l6.777"></a><span id="l6.777">     }</span>
<a href="#l6.778"></a><span id="l6.778">   },</span>
<a href="#l6.779"></a><span id="l6.779"> </span>
<a href="#l6.780"></a><span id="l6.780">   clearError: function(which) {</span>
<a href="#l6.781"></a><span id="l6.781">     _hide(which);</span>
<a href="#l6.782"></a><span id="l6.782" class="difflineplus">+    _hide(which+&quot;icon&quot;);</span>
<a href="#l6.783"></a><span id="l6.783">     document.getElementById(which).textContent = &quot;&quot;;</span>
<a href="#l6.784"></a><span id="l6.784">   },</span>
<a href="#l6.785"></a><span id="l6.785"> </span>
<a href="#l6.786"></a><span id="l6.786">   setError: function(which, msg_name) {</span>
<a href="#l6.787"></a><span id="l6.787">     try {</span>
<a href="#l6.788"></a><span id="l6.788">       _show(which);</span>
<a href="#l6.789"></a><span id="l6.789" class="difflineplus">+      _show(which+&quot;icon&quot;);</span>
<a href="#l6.790"></a><span id="l6.790">       document.getElementById(which).textContent =</span>
<a href="#l6.791"></a><span id="l6.791">         gStringsBundle.getString(msg_name);</span>
<a href="#l6.792"></a><span id="l6.792">     }</span>
<a href="#l6.793"></a><span id="l6.793">     catch(ex) {</span>
<a href="#l6.794"></a><span id="l6.794">       alertPrompt(&quot;missing error string&quot;, msg_name);</span>
<a href="#l6.795"></a><span id="l6.795">     }</span>
<a href="#l6.796"></a><span id="l6.796">   },</span>
<a href="#l6.797"></a><span id="l6.797"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/emailWizard.xul</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/emailWizard.xul</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -43,18 +43,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">   %brandDTD;</span>
<a href="#l7.5"></a><span id="l7.5">   &lt;!ENTITY % acDTD SYSTEM &quot;chrome://messenger/locale/accountCreation.dtd&quot;&gt;</span>
<a href="#l7.6"></a><span id="l7.6">   %acDTD;</span>
<a href="#l7.7"></a><span id="l7.7"> ]&gt;</span>
<a href="#l7.8"></a><span id="l7.8"> </span>
<a href="#l7.9"></a><span id="l7.9"> &lt;window xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l7.10"></a><span id="l7.10">         id=&quot;autoconfigWizard&quot;</span>
<a href="#l7.11"></a><span id="l7.11">         windowtype=&quot;mail:autoconfig&quot;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-        title=&quot;&amp;welcome.description;&quot;</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-        style=&quot;&amp;autoconfigWizard.style;&quot;</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+        title=&quot;&amp;autoconfigWizard.title;&quot;</span>
<a href="#l7.15"></a><span id="l7.15">         onload=&quot;gEmailConfigWizard.onLoad();&quot;</span>
<a href="#l7.16"></a><span id="l7.16">         onkeypress=&quot;gEmailConfigWizard.onKeyDown(event)&quot;</span>
<a href="#l7.17"></a><span id="l7.17">         onclose=&quot;gEmailConfigWizard.onWizardShutdown();&quot;</span>
<a href="#l7.18"></a><span id="l7.18">         onunload=&quot;gEmailConfigWizard.onWizardShutdown();&quot;</span>
<a href="#l7.19"></a><span id="l7.19">         &gt;</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21">   &lt;stringbundleset&gt;</span>
<a href="#l7.22"></a><span id="l7.22">     &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l7.23"></a><span id="l7.23" class="difflineat">@@ -88,33 +87,35 @@</span>
<a href="#l7.24"></a><span id="l7.24">     &lt;key keycode=&quot;VK_ESCAPE&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l7.25"></a><span id="l7.25">   &lt;/keyset&gt;</span>
<a href="#l7.26"></a><span id="l7.26"> </span>
<a href="#l7.27"></a><span id="l7.27">   &lt;panel id=&quot;insecureserver-cleartext-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l7.28"></a><span id="l7.28">     &lt;hbox&gt;</span>
<a href="#l7.29"></a><span id="l7.29">       &lt;image class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l7.30"></a><span id="l7.30">       &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l7.31"></a><span id="l7.31">         &lt;description class=&quot;title&quot;&gt;&amp;insecureServer.tooltip.title;&lt;/description&gt;</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineminus">-        &lt;description class=&quot;details&quot;&gt;&amp;insecureClearText.description;&lt;/description&gt;</span>
<a href="#l7.33"></a><span id="l7.33" class="difflineplus">+        &lt;description class=&quot;details&quot;&gt;&amp;insecureCleartext.description;&lt;/description&gt;</span>
<a href="#l7.34"></a><span id="l7.34">       &lt;/vbox&gt;</span>
<a href="#l7.35"></a><span id="l7.35">     &lt;/hbox&gt;</span>
<a href="#l7.36"></a><span id="l7.36">   &lt;/panel&gt;</span>
<a href="#l7.37"></a><span id="l7.37">   &lt;panel id=&quot;insecureserver-selfsigned-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l7.38"></a><span id="l7.38">     &lt;hbox&gt;</span>
<a href="#l7.39"></a><span id="l7.39">       &lt;image class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l7.40"></a><span id="l7.40">       &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l7.41"></a><span id="l7.41">         &lt;description class=&quot;title&quot;&gt;&amp;insecureServer.tooltip.title;&lt;/description&gt;</span>
<a href="#l7.42"></a><span id="l7.42">         &lt;description class=&quot;details&quot;&gt;&amp;insecureSelfSigned.description;&lt;/description&gt;</span>
<a href="#l7.43"></a><span id="l7.43">       &lt;/vbox&gt;</span>
<a href="#l7.44"></a><span id="l7.44">     &lt;/hbox&gt;</span>
<a href="#l7.45"></a><span id="l7.45">   &lt;/panel&gt;</span>
<a href="#l7.46"></a><span id="l7.46">   &lt;panel id=&quot;secureserver-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l7.47"></a><span id="l7.47">     &lt;hbox&gt;</span>
<a href="#l7.48"></a><span id="l7.48">       &lt;image class=&quot;secureLarry&quot;/&gt;</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineminus">-      &lt;description class=&quot;title&quot;&gt;&amp;secureServer.description;&lt;/description&gt;</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineplus">+      &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineplus">+        &lt;description class=&quot;title&quot;&gt;&amp;secureServer.description;&lt;/description&gt;</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l7.53"></a><span id="l7.53">     &lt;/hbox&gt;</span>
<a href="#l7.54"></a><span id="l7.54">   &lt;/panel&gt;</span>
<a href="#l7.55"></a><span id="l7.55"> </span>
<a href="#l7.56"></a><span id="l7.56">   &lt;tooltip id=&quot;insecureserver-cleartext&quot;&gt;</span>
<a href="#l7.57"></a><span id="l7.57">     &lt;hbox&gt;</span>
<a href="#l7.58"></a><span id="l7.58">       &lt;image class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l7.59"></a><span id="l7.59">       &lt;vbox&gt;</span>
<a href="#l7.60"></a><span id="l7.60">         &lt;description class=&quot;title&quot;&gt;&amp;insecureServer.tooltip.title;&lt;/description&gt;</span>
<a href="#l7.61"></a><span id="l7.61" class="difflineat">@@ -132,304 +133,330 @@</span>
<a href="#l7.62"></a><span id="l7.62">     &lt;/hbox&gt;</span>
<a href="#l7.63"></a><span id="l7.63">   &lt;/tooltip&gt;</span>
<a href="#l7.64"></a><span id="l7.64">   &lt;tooltip id=&quot;secureservertooltip&quot;&gt;</span>
<a href="#l7.65"></a><span id="l7.65">     &lt;hbox&gt;</span>
<a href="#l7.66"></a><span id="l7.66">       &lt;image class=&quot;secureLarry&quot;/&gt;</span>
<a href="#l7.67"></a><span id="l7.67">       &lt;description class=&quot;title&quot;&gt;&amp;secureServer.description;&lt;/description&gt;</span>
<a href="#l7.68"></a><span id="l7.68">     &lt;/hbox&gt;</span>
<a href="#l7.69"></a><span id="l7.69">   &lt;/tooltip&gt;</span>
<a href="#l7.70"></a><span id="l7.70" class="difflineplus">+  &lt;tooltip id=&quot;optional-password&quot;&gt;</span>
<a href="#l7.71"></a><span id="l7.71" class="difflineplus">+    &lt;description&gt;&amp;password.text;&lt;/description&gt;</span>
<a href="#l7.72"></a><span id="l7.72" class="difflineplus">+  &lt;/tooltip&gt;</span>
<a href="#l7.73"></a><span id="l7.73"> </span>
<a href="#l7.74"></a><span id="l7.74"> </span>
<a href="#l7.75"></a><span id="l7.75" class="difflineminus">-  &lt;vbox class=&quot;mastervbox&quot;</span>
<a href="#l7.76"></a><span id="l7.76" class="difflineminus">-        id=&quot;mastervbox&quot;</span>
<a href="#l7.77"></a><span id="l7.77" class="difflineminus">-        flex=&quot;1&quot;&gt;</span>
<a href="#l7.78"></a><span id="l7.78" class="difflineminus">-    &lt;grid&gt;</span>
<a href="#l7.79"></a><span id="l7.79" class="difflineminus">-      &lt;columns&gt;</span>
<a href="#l7.80"></a><span id="l7.80" class="difflineminus">-        &lt;column/&gt;</span>
<a href="#l7.81"></a><span id="l7.81" class="difflineminus">-        &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l7.82"></a><span id="l7.82" class="difflineminus">-      &lt;/columns&gt;</span>
<a href="#l7.83"></a><span id="l7.83" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l7.84"></a><span id="l7.84" class="difflineminus">-        &lt;row class=&quot;heading&quot;&gt;</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineminus">-          &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l7.86"></a><span id="l7.86" class="difflineminus">-            &lt;label class=&quot;heading&quot;&gt;&amp;accountInformation.label;&lt;/label&gt;</span>
<a href="#l7.87"></a><span id="l7.87" class="difflineplus">+  &lt;vbox id=&quot;mastervbox&quot; class=&quot;mastervbox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l7.88"></a><span id="l7.88" class="difflineplus">+    &lt;groupbox class=&quot;initialSettings&quot;&gt;</span>
<a href="#l7.89"></a><span id="l7.89" class="difflineplus">+      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l7.90"></a><span id="l7.90" class="difflineplus">+        &lt;label accesskey=&quot;&amp;name.accesskey;&quot;</span>
<a href="#l7.91"></a><span id="l7.91" class="difflineplus">+               class=&quot;autoconfigLabel&quot;</span>
<a href="#l7.92"></a><span id="l7.92" class="difflineplus">+               value=&quot;&amp;name.label;&quot;</span>
<a href="#l7.93"></a><span id="l7.93" class="difflineplus">+               control=&quot;realname&quot;/&gt;</span>
<a href="#l7.94"></a><span id="l7.94" class="difflineplus">+        &lt;textbox id=&quot;realname&quot;</span>
<a href="#l7.95"></a><span id="l7.95" class="difflineplus">+                 class=&quot;padded&quot;</span>
<a href="#l7.96"></a><span id="l7.96" class="difflineplus">+                 value=&quot;&quot;</span>
<a href="#l7.97"></a><span id="l7.97" class="difflineplus">+                 emptytext=&quot;&amp;name.emptytext;&quot;</span>
<a href="#l7.98"></a><span id="l7.98" class="difflineplus">+                 oninput=&quot;gEmailConfigWizard.onRealnameInput()&quot;</span>
<a href="#l7.99"></a><span id="l7.99" class="difflineplus">+                 onblur=&quot;gEmailConfigWizard.validateRealname();&quot;/&gt;</span>
<a href="#l7.100"></a><span id="l7.100" class="difflineplus">+        &lt;description id=&quot;nametext&quot; class=&quot;initialDesc&quot;&gt;&amp;name.text;&lt;/description&gt;</span>
<a href="#l7.101"></a><span id="l7.101" class="difflineplus">+        &lt;image id=&quot;nameerroricon&quot;</span>
<a href="#l7.102"></a><span id="l7.102" class="difflineplus">+               hidden=&quot;true&quot;</span>
<a href="#l7.103"></a><span id="l7.103" class="difflineplus">+               src=&quot;chrome://global/skin/icons/warning-16.png&quot;/&gt;</span>
<a href="#l7.104"></a><span id="l7.104" class="difflineplus">+        &lt;description id=&quot;nameerror&quot; class=&quot;errordescription&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.105"></a><span id="l7.105" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l7.106"></a><span id="l7.106" class="difflineplus">+      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l7.107"></a><span id="l7.107" class="difflineplus">+        &lt;label accesskey=&quot;&amp;email.accesskey;&quot;</span>
<a href="#l7.108"></a><span id="l7.108" class="difflineplus">+               class=&quot;autoconfigLabel&quot;</span>
<a href="#l7.109"></a><span id="l7.109" class="difflineplus">+               value=&quot;&amp;email.label;&quot;</span>
<a href="#l7.110"></a><span id="l7.110" class="difflineplus">+               control=&quot;email&quot;/&gt;</span>
<a href="#l7.111"></a><span id="l7.111" class="difflineplus">+        &lt;textbox id=&quot;email&quot;</span>
<a href="#l7.112"></a><span id="l7.112" class="difflineplus">+                 class=&quot;padded uri-element&quot;</span>
<a href="#l7.113"></a><span id="l7.113" class="difflineplus">+                 emptytext=&quot;&amp;email.emptytext;&quot;</span>
<a href="#l7.114"></a><span id="l7.114" class="difflineplus">+                 oninput=&quot;gEmailConfigWizard.onEmailInput()&quot;</span>
<a href="#l7.115"></a><span id="l7.115" class="difflineplus">+                 onblur=&quot;gEmailConfigWizard.validateEmail();&quot;/&gt;</span>
<a href="#l7.116"></a><span id="l7.116" class="difflineplus">+        &lt;image id=&quot;emailerroricon&quot;</span>
<a href="#l7.117"></a><span id="l7.117" class="difflineplus">+               hidden=&quot;true&quot;</span>
<a href="#l7.118"></a><span id="l7.118" class="difflineplus">+               src=&quot;chrome://global/skin/icons/warning-16.png&quot;/&gt;</span>
<a href="#l7.119"></a><span id="l7.119" class="difflineplus">+        &lt;description id=&quot;emailerror&quot; class=&quot;errordescription&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.120"></a><span id="l7.120" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l7.121"></a><span id="l7.121" class="difflineplus">+      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l7.122"></a><span id="l7.122" class="difflineplus">+        &lt;!-- this starts out as text so the emptytext shows, but then</span>
<a href="#l7.123"></a><span id="l7.123" class="difflineplus">+             changes to type=password once it's not empty --&gt;</span>
<a href="#l7.124"></a><span id="l7.124" class="difflineplus">+        &lt;label accesskey=&quot;&amp;password.accesskey;&quot;</span>
<a href="#l7.125"></a><span id="l7.125" class="difflineplus">+               class=&quot;autoconfigLabel&quot;</span>
<a href="#l7.126"></a><span id="l7.126" class="difflineplus">+               value=&quot;&amp;password.label;&quot;</span>
<a href="#l7.127"></a><span id="l7.127" class="difflineplus">+               control=&quot;password&quot;</span>
<a href="#l7.128"></a><span id="l7.128" class="difflineplus">+               tooltip=&quot;optional-password&quot;/&gt;</span>
<a href="#l7.129"></a><span id="l7.129" class="difflineplus">+        &lt;textbox id=&quot;password&quot;</span>
<a href="#l7.130"></a><span id="l7.130" class="difflineplus">+                 class=&quot;padded&quot;</span>
<a href="#l7.131"></a><span id="l7.131" class="difflineplus">+                 emptytext=&quot;&amp;password.emptytext;&quot;</span>
<a href="#l7.132"></a><span id="l7.132" class="difflineplus">+                 type=&quot;text&quot;</span>
<a href="#l7.133"></a><span id="l7.133" class="difflineplus">+                 oninput=&quot;gEmailConfigWizard.oninputPassword();&quot;</span>
<a href="#l7.134"></a><span id="l7.134" class="difflineplus">+                 onfocus=&quot;this.type='password';&quot;</span>
<a href="#l7.135"></a><span id="l7.135" class="difflineplus">+                 onblur=&quot;gEmailConfigWizard.onblurPassword();&quot;/&gt;</span>
<a href="#l7.136"></a><span id="l7.136" class="difflineplus">+        &lt;image id=&quot;passworderroricon&quot;</span>
<a href="#l7.137"></a><span id="l7.137" class="difflineplus">+               hidden=&quot;true&quot;</span>
<a href="#l7.138"></a><span id="l7.138" class="difflineplus">+               src=&quot;chrome://global/skin/icons/warning-16.png&quot;/&gt;</span>
<a href="#l7.139"></a><span id="l7.139" class="difflineplus">+        &lt;description id=&quot;passworderror&quot; class=&quot;errordescription&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.140"></a><span id="l7.140" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l7.141"></a><span id="l7.141" class="difflineplus">+      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l7.142"></a><span id="l7.142" class="difflineplus">+        &lt;label class=&quot;autoconfigLabel&quot;/&gt;</span>
<a href="#l7.143"></a><span id="l7.143" class="difflineplus">+        &lt;checkbox id=&quot;remember_password&quot;</span>
<a href="#l7.144"></a><span id="l7.144" class="difflineplus">+                  label=&quot;&amp;rememberPassword.label;&quot;</span>
<a href="#l7.145"></a><span id="l7.145" class="difflineplus">+                  accesskey=&quot;&amp;rememberPassword.accesskey;&quot;</span>
<a href="#l7.146"></a><span id="l7.146" class="difflineplus">+                  disabled=&quot;true&quot;</span>
<a href="#l7.147"></a><span id="l7.147" class="difflineplus">+                  checked=&quot;false&quot;</span>
<a href="#l7.148"></a><span id="l7.148" class="difflineplus">+                  onclick=&quot;gEmailConfigWizard._userChangedPassword=true;&quot;/&gt;</span>
<a href="#l7.149"></a><span id="l7.149" class="difflineplus">+        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l7.150"></a><span id="l7.150" class="difflineplus">+        &lt;hbox&gt;</span>
<a href="#l7.151"></a><span id="l7.151" class="difflineplus">+          &lt;button id=&quot;back_button&quot;</span>
<a href="#l7.152"></a><span id="l7.152" class="difflineplus">+                  label=&quot;&amp;startOver.label;&quot;</span>
<a href="#l7.153"></a><span id="l7.153" class="difflineplus">+                  accesskey=&quot;&amp;startOver.accesskey;&quot;</span>
<a href="#l7.154"></a><span id="l7.154" class="difflineplus">+                  class=&quot;larger-button&quot;</span>
<a href="#l7.155"></a><span id="l7.155" class="difflineplus">+                  hidden=&quot;true&quot;</span>
<a href="#l7.156"></a><span id="l7.156" class="difflineplus">+                  oncommand=&quot;gEmailConfigWizard.onBack();&quot;/&gt;</span>
<a href="#l7.157"></a><span id="l7.157" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l7.158"></a><span id="l7.158" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l7.159"></a><span id="l7.159" class="difflineplus">+      &lt;hbox id=&quot;fullspacer&quot;/&gt;</span>
<a href="#l7.160"></a><span id="l7.160" class="difflineplus">+    &lt;/groupbox&gt;</span>
<a href="#l7.161"></a><span id="l7.161" class="difflineplus">+    &lt;vbox&gt;</span>
<a href="#l7.162"></a><span id="l7.162" class="difflineplus">+      &lt;groupbox id=&quot;settingsbox&quot; class=&quot;settings&quot;&gt;</span>
<a href="#l7.163"></a><span id="l7.163" class="difflineplus">+        &lt;vbox&gt;</span>
<a href="#l7.164"></a><span id="l7.164" class="difflineplus">+          &lt;vbox id=&quot;configarea&quot;&gt;</span>
<a href="#l7.165"></a><span id="l7.165" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l7.166"></a><span id="l7.166" class="difflineplus">+              &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l7.167"></a><span id="l7.167" class="difflineplus">+                &lt;description id=&quot;config_status_title&quot; flex=&quot;1&quot; class=&quot;title&quot;/&gt;</span>
<a href="#l7.168"></a><span id="l7.168" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l7.169"></a><span id="l7.169" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l7.170"></a><span id="l7.170" class="difflineplus">+          &lt;/vbox&gt;</span>
<a href="#l7.171"></a><span id="l7.171" class="difflineplus">+          &lt;hbox id=&quot;usernamearea&quot; align=&quot;center&quot;&gt;</span>
<a href="#l7.172"></a><span id="l7.172" class="difflineplus">+            &lt;vbox id=&quot;username_status&quot;</span>
<a href="#l7.173"></a><span id="l7.173" class="difflineplus">+                  class=&quot;icon&quot;</span>
<a href="#l7.174"></a><span id="l7.174" class="difflineplus">+                  align=&quot;center&quot;</span>
<a href="#l7.175"></a><span id="l7.175" class="difflineplus">+                  pack=&quot;center&quot;&gt;</span>
<a href="#l7.176"></a><span id="l7.176" class="difflineplus">+              &lt;image id=&quot;username_spinner&quot;</span>
<a href="#l7.177"></a><span id="l7.177" class="difflineplus">+                     src=&quot;chrome://global/skin/icons/loading_16.png&quot;</span>
<a href="#l7.178"></a><span id="l7.178" class="difflineplus">+                     hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.179"></a><span id="l7.179" class="difflineplus">+            &lt;/vbox&gt;</span>
<a href="#l7.180"></a><span id="l7.180" class="difflineplus">+            &lt;label class=&quot;textbox-label&quot;</span>
<a href="#l7.181"></a><span id="l7.181" class="difflineplus">+                   value=&quot;&amp;username2.label;&quot;</span>
<a href="#l7.182"></a><span id="l7.182" class="difflineplus">+                   control=&quot;username&quot;/&gt;</span>
<a href="#l7.183"></a><span id="l7.183" class="difflineplus">+            &lt;textbox id=&quot;username&quot;</span>
<a href="#l7.184"></a><span id="l7.184" class="difflineplus">+                     value=&quot;&quot;</span>
<a href="#l7.185"></a><span id="l7.185" class="difflineplus">+                     disabled=&quot;true&quot;</span>
<a href="#l7.186"></a><span id="l7.186" class="difflineplus">+                     class=&quot;username&quot;/&gt;</span>
<a href="#l7.187"></a><span id="l7.187" class="difflineplus">+            &lt;hbox flex=&quot;1&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l7.188"></a><span id="l7.188" class="difflineplus">+              &lt;button id=&quot;stop_button&quot;</span>
<a href="#l7.189"></a><span id="l7.189" class="difflineplus">+                      label=&quot;&amp;stop.label;&quot;</span>
<a href="#l7.190"></a><span id="l7.190" class="difflineplus">+                      accesskey=&quot;&amp;stop.accesskey;&quot;</span>
<a href="#l7.191"></a><span id="l7.191" class="difflineplus">+                      class=&quot;smaller-button&quot;</span>
<a href="#l7.192"></a><span id="l7.192" class="difflineplus">+                      oncommand=&quot;gEmailConfigWizard.onStop();&quot;/&gt;</span>
<a href="#l7.193"></a><span id="l7.193" class="difflineplus">+              &lt;button id=&quot;edit_button&quot;</span>
<a href="#l7.194"></a><span id="l7.194" class="difflineplus">+                      label=&quot;&amp;edit.label;&quot;</span>
<a href="#l7.195"></a><span id="l7.195" class="difflineplus">+                      accesskey=&quot;&amp;edit.accesskey;&quot;</span>
<a href="#l7.196"></a><span id="l7.196" class="difflineplus">+                      class=&quot;smaller-button&quot;</span>
<a href="#l7.197"></a><span id="l7.197" class="difflineplus">+                      hidden=&quot;true&quot;</span>
<a href="#l7.198"></a><span id="l7.198" class="difflineplus">+                      oncommand=&quot;gEmailConfigWizard.onEdit();&quot;/&gt;</span>
<a href="#l7.199"></a><span id="l7.199" class="difflineplus">+              &lt;button id=&quot;go_button&quot;</span>
<a href="#l7.200"></a><span id="l7.200" class="difflineplus">+                      label=&quot;&amp;retest.label;&quot;</span>
<a href="#l7.201"></a><span id="l7.201" class="difflineplus">+                      accesskey=&quot;&amp;retest.accesskey;&quot;</span>
<a href="#l7.202"></a><span id="l7.202" class="difflineplus">+                      class=&quot;smaller-button&quot;</span>
<a href="#l7.203"></a><span id="l7.203" class="difflineplus">+                      hidden=&quot;true&quot;</span>
<a href="#l7.204"></a><span id="l7.204" class="difflineplus">+                      oncommand=&quot;gEmailConfigWizard.onGo();&quot;/&gt;</span>
<a href="#l7.205"></a><span id="l7.205" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l7.206"></a><span id="l7.206">           &lt;/hbox&gt;</span>
<a href="#l7.207"></a><span id="l7.207" class="difflineminus">-          &lt;hbox&gt;&lt;spacer/&gt;&lt;/hbox&gt;</span>
<a href="#l7.208"></a><span id="l7.208" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l7.209"></a><span id="l7.209" class="difflineminus">-        &lt;row&gt;</span>
<a href="#l7.210"></a><span id="l7.210" class="difflineminus">-          &lt;grid&gt;</span>
<a href="#l7.211"></a><span id="l7.211" class="difflineminus">-            &lt;rows&gt;</span>
<a href="#l7.212"></a><span id="l7.212" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.213"></a><span id="l7.213" class="difflineminus">-                &lt;description id=&quot;nameerror&quot; class=&quot;errordescription&quot;</span>
<a href="#l7.214"></a><span id="l7.214" class="difflineminus">-                             hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.215"></a><span id="l7.215" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l7.216"></a><span id="l7.216" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.217"></a><span id="l7.217" class="difflineminus">-                &lt;textbox id=&quot;realname&quot;</span>
<a href="#l7.218"></a><span id="l7.218" class="difflineminus">-                         class=&quot;padded&quot;</span>
<a href="#l7.219"></a><span id="l7.219" class="difflineminus">-                         value=&quot;&quot; emptytext=&quot;&amp;name.description;&quot;</span>
<a href="#l7.220"></a><span id="l7.220" class="difflineminus">-                         oninput=&quot;gEmailConfigWizard.onRealnameInput()&quot;</span>
<a href="#l7.221"></a><span id="l7.221" class="difflineminus">-                         onblur=&quot;gEmailConfigWizard.validateRealname();&quot;/&gt;</span>
<a href="#l7.222"></a><span id="l7.222" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l7.223"></a><span id="l7.223" class="difflineminus">-              &lt;spacer/&gt;</span>
<a href="#l7.224"></a><span id="l7.224" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.225"></a><span id="l7.225" class="difflineminus">-                &lt;description id=&quot;emailerror&quot; class=&quot;errordescription&quot;</span>
<a href="#l7.226"></a><span id="l7.226" class="difflineminus">-                             hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.227"></a><span id="l7.227" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l7.228"></a><span id="l7.228" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.229"></a><span id="l7.229" class="difflineminus">-                &lt;textbox id=&quot;email&quot;</span>
<a href="#l7.230"></a><span id="l7.230" class="difflineminus">-                         class=&quot;padded uri-element&quot;</span>
<a href="#l7.231"></a><span id="l7.231" class="difflineminus">-                         emptytext=&quot;&amp;email.description;&quot;</span>
<a href="#l7.232"></a><span id="l7.232" class="difflineminus">-                         oninput=&quot;gEmailConfigWizard.onEmailInput()&quot;</span>
<a href="#l7.233"></a><span id="l7.233" class="difflineminus">-                         onblur=&quot;gEmailConfigWizard.validateEmail();&quot;/&gt;</span>
<a href="#l7.234"></a><span id="l7.234" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l7.235"></a><span id="l7.235" class="difflineminus">-              &lt;spacer/&gt;</span>
<a href="#l7.236"></a><span id="l7.236" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.237"></a><span id="l7.237" class="difflineminus">-                &lt;description id=&quot;passworderror&quot; class=&quot;errordescription&quot;</span>
<a href="#l7.238"></a><span id="l7.238" class="difflineminus">-                             hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.239"></a><span id="l7.239" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l7.240"></a><span id="l7.240" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.241"></a><span id="l7.241" class="difflineminus">-                &lt;!-- this starts out as text so the emptytext shows, but then</span>
<a href="#l7.242"></a><span id="l7.242" class="difflineminus">-                     changes to type=password once it's not empty --&gt;</span>
<a href="#l7.243"></a><span id="l7.243" class="difflineminus">-                &lt;textbox id=&quot;password&quot;</span>
<a href="#l7.244"></a><span id="l7.244" class="difflineminus">-                         class=&quot;padded&quot;</span>
<a href="#l7.245"></a><span id="l7.245" class="difflineminus">-                         emptytext=&quot;&amp;password.description;&quot;</span>
<a href="#l7.246"></a><span id="l7.246" class="difflineminus">-                         type=&quot;text&quot;</span>
<a href="#l7.247"></a><span id="l7.247" class="difflineminus">-                         oninput=&quot;gEmailConfigWizard.oninputPassword();&quot;</span>
<a href="#l7.248"></a><span id="l7.248" class="difflineminus">-                         onfocus=&quot;this.type='password';&quot;</span>
<a href="#l7.249"></a><span id="l7.249" class="difflineminus">-                         onblur=&quot;gEmailConfigWizard.onblurPassword();&quot;/&gt;</span>
<a href="#l7.250"></a><span id="l7.250" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l7.251"></a><span id="l7.251" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l7.252"></a><span id="l7.252" class="difflineminus">-                &lt;checkbox id=&quot;remember_password&quot;</span>
<a href="#l7.253"></a><span id="l7.253" class="difflineminus">-                          accesskey=&quot;&amp;rememberPassword.accesskey;&quot;</span>
<a href="#l7.254"></a><span id="l7.254" class="difflineminus">-                          onclick=&quot;gEmailConfigWizard._userChangedPassword=true;&quot;</span>
<a href="#l7.255"></a><span id="l7.255" class="difflineminus">-                          label=&quot;&amp;rememberPassword.label;&quot; checked=&quot;false&quot;/&gt;</span>
<a href="#l7.256"></a><span id="l7.256" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l7.257"></a><span id="l7.257" class="difflineminus">-              &lt;row&gt;</span>
<a href="#l7.258"></a><span id="l7.258" class="difflineminus">-                &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l7.259"></a><span id="l7.259" class="difflineminus">-                  &lt;button id=&quot;next_button&quot;</span>
<a href="#l7.260"></a><span id="l7.260" class="difflineminus">-                          hidden=&quot;true&quot;</span>
<a href="#l7.261"></a><span id="l7.261" class="difflineminus">-                          oncommand=&quot;gEmailConfigWizard.onNext();&quot;</span>
<a href="#l7.262"></a><span id="l7.262" class="difflineminus">-                          accesskey=&quot;&amp;next.accesskey;&quot;</span>
<a href="#l7.263"></a><span id="l7.263" class="difflineminus">-                          label=&quot;&amp;next.label;&quot; class=&quot;larger-button&quot;/&gt;</span>
<a href="#l7.264"></a><span id="l7.264" class="difflineminus">-                  &lt;button id=&quot;back_button&quot; class=&quot;smaller-button&quot;</span>
<a href="#l7.265"></a><span id="l7.265" class="difflineminus">-                          oncommand=&quot;gEmailConfigWizard.onBack();&quot;</span>
<a href="#l7.266"></a><span id="l7.266" class="difflineminus">-                          accesskey=&quot;&amp;back.accesskey;&quot;</span>
<a href="#l7.267"></a><span id="l7.267" class="difflineminus">-                          label=&quot;&amp;back.label;&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.268"></a><span id="l7.268" class="difflineminus">-                &lt;/hbox&gt;</span>
<a href="#l7.269"></a><span id="l7.269" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l7.270"></a><span id="l7.270" class="difflineminus">-            &lt;/rows&gt;</span>
<a href="#l7.271"></a><span id="l7.271" class="difflineminus">-          &lt;/grid&gt;</span>
<a href="#l7.272"></a><span id="l7.272" class="difflineminus">-          &lt;vbox&gt;</span>
<a href="#l7.273"></a><span id="l7.273" class="difflineminus">-            &lt;groupbox id=&quot;settingsbox&quot; class=&quot;settings&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l7.274"></a><span id="l7.274" class="difflineminus">-              &lt;vbox&gt;</span>
<a href="#l7.275"></a><span id="l7.275" class="difflineminus">-                &lt;vbox id=&quot;configarea&quot;&gt;</span>
<a href="#l7.276"></a><span id="l7.276" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l7.277"></a><span id="l7.277" class="difflineminus">-                    &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l7.278"></a><span id="l7.278" class="difflineminus">-                      &lt;description id=&quot;config_status_title&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l7.279"></a><span id="l7.279" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.280"></a><span id="l7.280" class="difflineminus">-                    &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l7.281"></a><span id="l7.281" class="difflineminus">-                      &lt;button id=&quot;stop_button&quot;</span>
<a href="#l7.282"></a><span id="l7.282" class="difflineminus">-                              oncommand=&quot;gEmailConfigWizard.onStop();&quot;</span>
<a href="#l7.283"></a><span id="l7.283" class="difflineminus">-                              accesskey=&quot;&amp;stop.accesskey;&quot;</span>
<a href="#l7.284"></a><span id="l7.284" class="difflineminus">-                              label=&quot;&amp;stop.label;&quot; class=&quot;smaller-button&quot;/&gt;</span>
<a href="#l7.285"></a><span id="l7.285" class="difflineminus">-                      &lt;button id=&quot;edit_button&quot;</span>
<a href="#l7.286"></a><span id="l7.286" class="difflineminus">-                              oncommand=&quot;gEmailConfigWizard.onEdit();&quot;</span>
<a href="#l7.287"></a><span id="l7.287" class="difflineminus">-                              accesskey=&quot;&amp;edit.accesskey;&quot;</span>
<a href="#l7.288"></a><span id="l7.288" class="difflineminus">-                              label=&quot;&amp;edit.label;&quot; class=&quot;smaller-button&quot;</span>
<a href="#l7.289"></a><span id="l7.289" class="difflineminus">-                              hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.290"></a><span id="l7.290" class="difflineminus">-                      &lt;button id=&quot;go_button&quot;</span>
<a href="#l7.291"></a><span id="l7.291" class="difflineminus">-                              oncommand=&quot;gEmailConfigWizard.onGo();&quot;</span>
<a href="#l7.292"></a><span id="l7.292" class="difflineminus">-                              accesskey=&quot;&amp;retest.accesskey;&quot;</span>
<a href="#l7.293"></a><span id="l7.293" class="difflineminus">-                              label=&quot;&amp;retest.label;&quot; class=&quot;smaller-button&quot;</span>
<a href="#l7.294"></a><span id="l7.294" class="difflineminus">-                              hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.295"></a><span id="l7.295" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.296"></a><span id="l7.296" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l7.297"></a><span id="l7.297" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l7.298"></a><span id="l7.298" class="difflineminus">-                    &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l7.299"></a><span id="l7.299" class="difflineminus">-                        &lt;description id=&quot;config_status_subtitle&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l7.300"></a><span id="l7.300" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.301"></a><span id="l7.301" class="difflineminus">-                    &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l7.302"></a><span id="l7.302" class="difflineminus">-                      &lt;vbox class=&quot;statusimage&quot; width=&quot;16&quot;&gt;</span>
<a href="#l7.303"></a><span id="l7.303" class="difflineminus">-                      &lt;image id=&quot;config_spinner&quot;</span>
<a href="#l7.304"></a><span id="l7.304" class="difflineminus">-                             src=&quot;chrome://global/skin/icons/loading_16.png&quot;</span>
<a href="#l7.305"></a><span id="l7.305" class="difflineminus">-                             hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.306"></a><span id="l7.306" class="difflineminus">-                      &lt;/vbox&gt;</span>
<a href="#l7.307"></a><span id="l7.307" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.308"></a><span id="l7.308" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l7.309"></a><span id="l7.309" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l7.310"></a><span id="l7.310" class="difflineminus">-                &lt;vbox id=&quot;usernamearea&quot;&gt;</span>
<a href="#l7.311"></a><span id="l7.311" class="difflineminus">-                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;username.label;&quot;</span>
<a href="#l7.312"></a><span id="l7.312" class="difflineminus">-                         control=&quot;username&quot;/&gt;</span>
<a href="#l7.313"></a><span id="l7.313" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l7.314"></a><span id="l7.314" class="difflineminus">-                    &lt;vbox class=&quot;statusimage&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l7.315"></a><span id="l7.315" class="difflineminus">-                    &lt;textbox id=&quot;username&quot;</span>
<a href="#l7.316"></a><span id="l7.316" class="difflineminus">-                             value=&quot;&quot;</span>
<a href="#l7.317"></a><span id="l7.317" class="difflineminus">-                             disabled=&quot;true&quot;</span>
<a href="#l7.318"></a><span id="l7.318" class="difflineminus">-                             class=&quot;username&quot;/&gt;</span>
<a href="#l7.319"></a><span id="l7.319" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l7.320"></a><span id="l7.320" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l7.321"></a><span id="l7.321" class="difflineminus">-                &lt;vbox id=&quot;incomingarea&quot;&gt;</span>
<a href="#l7.322"></a><span id="l7.322" class="difflineminus">-                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;receivingServer.label;&quot;</span>
<a href="#l7.323"></a><span id="l7.323" class="difflineminus">-                          control=&quot;incoming_server&quot;/&gt;</span>
<a href="#l7.324"></a><span id="l7.324" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l7.325"></a><span id="l7.325" class="difflineminus">-                    &lt;vbox id=&quot;incoming_status&quot; class=&quot;icon&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l7.326"></a><span id="l7.326" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l7.327"></a><span id="l7.327" class="difflineminus">-                      &lt;textbox id=&quot;incoming_server&quot;</span>
<a href="#l7.328"></a><span id="l7.328" class="difflineminus">-                               value=&quot;&quot;</span>
<a href="#l7.329"></a><span id="l7.329" class="difflineminus">-                               disabled=&quot;true&quot;</span>
<a href="#l7.330"></a><span id="l7.330" class="difflineminus">-                               oninput=&quot;gEmailConfigWizard.setIncomingServer()&quot;</span>
<a href="#l7.331"></a><span id="l7.331" class="difflineminus">-                               class=&quot;host uri-element&quot;/&gt;</span>
<a href="#l7.332"></a><span id="l7.332" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.333"></a><span id="l7.333" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l7.334"></a><span id="l7.334" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l7.335"></a><span id="l7.335" class="difflineminus">-                    &lt;spacer height=&quot;30&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l7.336"></a><span id="l7.336" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l7.337"></a><span id="l7.337" class="difflineminus">-                      &lt;menulist id=&quot;incoming_protocol&quot;</span>
<a href="#l7.338"></a><span id="l7.338" class="difflineminus">-                                value=&quot;&quot;</span>
<a href="#l7.339"></a><span id="l7.339" class="difflineminus">-                                disabled=&quot;true&quot;</span>
<a href="#l7.340"></a><span id="l7.340" class="difflineminus">-                                sizetopopup=&quot;none&quot;</span>
<a href="#l7.341"></a><span id="l7.341" class="difflineminus">-                                class=&quot;protocol&quot;&gt;</span>
<a href="#l7.342"></a><span id="l7.342" class="difflineminus">-                        &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setIncomingProtocol()&quot;&gt;</span>
<a href="#l7.343"></a><span id="l7.343" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;imap.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l7.344"></a><span id="l7.344" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;pop.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l7.345"></a><span id="l7.345" class="difflineminus">-                        &lt;/menupopup&gt;</span>
<a href="#l7.346"></a><span id="l7.346" class="difflineminus">-                      &lt;/menulist&gt;</span>
<a href="#l7.347"></a><span id="l7.347" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.348"></a><span id="l7.348" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l7.349"></a><span id="l7.349" class="difflineminus">-                      &lt;textbox id=&quot;incoming_port&quot;</span>
<a href="#l7.350"></a><span id="l7.350" class="difflineminus">-                               value=&quot;&quot;</span>
<a href="#l7.351"></a><span id="l7.351" class="difflineminus">-                               disabled=&quot;true&quot;</span>
<a href="#l7.352"></a><span id="l7.352" class="difflineminus">-                               oninput=&quot;gEmailConfigWizard.setPort('incoming_port')&quot;</span>
<a href="#l7.353"></a><span id="l7.353" class="difflineminus">-                               class=&quot;port&quot;/&gt;</span>
<a href="#l7.354"></a><span id="l7.354" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.355"></a><span id="l7.355" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l7.356"></a><span id="l7.356" class="difflineminus">-                      &lt;menulist id=&quot;incoming_security&quot;</span>
<a href="#l7.357"></a><span id="l7.357" class="difflineminus">-                                value=&quot;&quot;</span>
<a href="#l7.358"></a><span id="l7.358" class="difflineminus">-                                disabled=&quot;true&quot;</span>
<a href="#l7.359"></a><span id="l7.359" class="difflineminus">-                                sizetopopup=&quot;none&quot;</span>
<a href="#l7.360"></a><span id="l7.360" class="difflineminus">-                                class=&quot;security&quot;&gt;</span>
<a href="#l7.361"></a><span id="l7.361" class="difflineminus">-                        &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('incoming_security')&quot;&gt;</span>
<a href="#l7.362"></a><span id="l7.362" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l7.363"></a><span id="l7.363" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l7.364"></a><span id="l7.364" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l7.365"></a><span id="l7.365" class="difflineminus">-                        &lt;/menupopup&gt;</span>
<a href="#l7.366"></a><span id="l7.366" class="difflineminus">-                      &lt;/menulist&gt;</span>
<a href="#l7.367"></a><span id="l7.367" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.368"></a><span id="l7.368" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l7.369"></a><span id="l7.369" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l7.370"></a><span id="l7.370" class="difflineminus">-                &lt;vbox id=&quot;outgoingarea&quot;&gt;</span>
<a href="#l7.371"></a><span id="l7.371" class="difflineminus">-                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;sendingServer.label;&quot;</span>
<a href="#l7.372"></a><span id="l7.372" class="difflineminus">-                         control=&quot;outgoing_server&quot;/&gt;</span>
<a href="#l7.373"></a><span id="l7.373" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l7.374"></a><span id="l7.374" class="difflineminus">-                    &lt;vbox id=&quot;outgoing_status&quot; class=&quot;icon&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l7.375"></a><span id="l7.375" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l7.376"></a><span id="l7.376" class="difflineminus">-                      &lt;menulist id=&quot;outgoing_server&quot;</span>
<a href="#l7.377"></a><span id="l7.377" class="difflineminus">-                                class=&quot;host uri-element&quot;</span>
<a href="#l7.378"></a><span id="l7.378" class="difflineminus">-                                disabled=&quot;true&quot;</span>
<a href="#l7.379"></a><span id="l7.379" class="difflineminus">-                                sizetopopup=&quot;none&quot;</span>
<a href="#l7.380"></a><span id="l7.380" class="difflineminus">-                                editable=&quot;true&quot; &gt;</span>
<a href="#l7.381"></a><span id="l7.381" class="difflineminus">-                              &lt;!-- oncommand, and onchange and onmousedown of menulist's inputfield, set in ctor --&gt;</span>
<a href="#l7.382"></a><span id="l7.382" class="difflineminus">-                        &lt;menupopup id=&quot;smtp_menupopup&quot;/&gt;</span>
<a href="#l7.383"></a><span id="l7.383" class="difflineminus">-                      &lt;/menulist&gt;</span>
<a href="#l7.384"></a><span id="l7.384" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.385"></a><span id="l7.385" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l7.386"></a><span id="l7.386" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l7.387"></a><span id="l7.387" class="difflineminus">-                    &lt;spacer height=&quot;30&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l7.388"></a><span id="l7.388" class="difflineminus">-                    &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l7.389"></a><span id="l7.389" class="difflineminus">-                      &lt;label id=&quot;outgoing_protocol&quot;</span>
<a href="#l7.390"></a><span id="l7.390" class="difflineminus">-                             class=&quot;protocol&quot; value=&quot;&amp;smtp.label;&quot;/&gt;</span>
<a href="#l7.391"></a><span id="l7.391" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.392"></a><span id="l7.392" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l7.393"></a><span id="l7.393" class="difflineminus">-                      &lt;textbox id=&quot;outgoing_port&quot;</span>
<a href="#l7.394"></a><span id="l7.394" class="difflineminus">-                               value=&quot;&quot;</span>
<a href="#l7.395"></a><span id="l7.395" class="difflineminus">-                               disabled=&quot;true&quot;</span>
<a href="#l7.396"></a><span id="l7.396" class="difflineminus">-                               oninput=&quot;gEmailConfigWizard.setPort('outgoing_port')&quot;</span>
<a href="#l7.397"></a><span id="l7.397" class="difflineminus">-                               class=&quot;port&quot;/&gt;</span>
<a href="#l7.398"></a><span id="l7.398" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.399"></a><span id="l7.399" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l7.400"></a><span id="l7.400" class="difflineminus">-                      &lt;menulist id=&quot;outgoing_security&quot;</span>
<a href="#l7.401"></a><span id="l7.401" class="difflineminus">-                                value=&quot;&quot;</span>
<a href="#l7.402"></a><span id="l7.402" class="difflineminus">-                                disabled=&quot;true&quot;</span>
<a href="#l7.403"></a><span id="l7.403" class="difflineminus">-                                sizetopopup=&quot;none&quot;</span>
<a href="#l7.404"></a><span id="l7.404" class="difflineminus">-                                class=&quot;security&quot;&gt;</span>
<a href="#l7.405"></a><span id="l7.405" class="difflineminus">-                        &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('outgoing_security')&quot;&gt;</span>
<a href="#l7.406"></a><span id="l7.406" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l7.407"></a><span id="l7.407" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l7.408"></a><span id="l7.408" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l7.409"></a><span id="l7.409" class="difflineminus">-                        &lt;/menupopup&gt;</span>
<a href="#l7.410"></a><span id="l7.410" class="difflineminus">-                      &lt;/menulist&gt;</span>
<a href="#l7.411"></a><span id="l7.411" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l7.412"></a><span id="l7.412" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l7.413"></a><span id="l7.413" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l7.414"></a><span id="l7.414" class="difflineminus">-              &lt;/vbox&gt;</span>
<a href="#l7.415"></a><span id="l7.415" class="difflineminus">-            &lt;/groupbox&gt;</span>
<a href="#l7.416"></a><span id="l7.416" class="difflineminus">-          &lt;/vbox&gt;</span>
<a href="#l7.417"></a><span id="l7.417" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l7.418"></a><span id="l7.418" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l7.419"></a><span id="l7.419" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l7.420"></a><span id="l7.420" class="difflineplus">+          &lt;hbox id=&quot;incomingarea&quot; align=&quot;center&quot;&gt;</span>
<a href="#l7.421"></a><span id="l7.421" class="difflineplus">+            &lt;vbox id=&quot;incoming_status&quot;</span>
<a href="#l7.422"></a><span id="l7.422" class="difflineplus">+                  class=&quot;icon&quot;</span>
<a href="#l7.423"></a><span id="l7.423" class="difflineplus">+                  align=&quot;center&quot;</span>
<a href="#l7.424"></a><span id="l7.424" class="difflineplus">+                  pack=&quot;center&quot;&gt;</span>
<a href="#l7.425"></a><span id="l7.425" class="difflineplus">+              &lt;image id=&quot;incoming_spinner&quot;</span>
<a href="#l7.426"></a><span id="l7.426" class="difflineplus">+                     src=&quot;chrome://global/skin/icons/loading_16.png&quot;</span>
<a href="#l7.427"></a><span id="l7.427" class="difflineplus">+                     hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.428"></a><span id="l7.428" class="difflineplus">+            &lt;/vbox&gt;</span>
<a href="#l7.429"></a><span id="l7.429" class="difflineplus">+            &lt;label class=&quot;textbox-label&quot;</span>
<a href="#l7.430"></a><span id="l7.430" class="difflineplus">+                   value=&quot;&amp;incoming.label;&quot;</span>
<a href="#l7.431"></a><span id="l7.431" class="difflineplus">+                   control=&quot;incoming_server&quot;/&gt;</span>
<a href="#l7.432"></a><span id="l7.432" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l7.433"></a><span id="l7.433" class="difflineplus">+              &lt;textbox id=&quot;incoming_server&quot;</span>
<a href="#l7.434"></a><span id="l7.434" class="difflineplus">+                       class=&quot;host uri-element&quot;</span>
<a href="#l7.435"></a><span id="l7.435" class="difflineplus">+                       value=&quot;&quot;</span>
<a href="#l7.436"></a><span id="l7.436" class="difflineplus">+                       disabled=&quot;true&quot;</span>
<a href="#l7.437"></a><span id="l7.437" class="difflineplus">+                       oninput=&quot;gEmailConfigWizard.setIncomingServer()&quot;/&gt;</span>
<a href="#l7.438"></a><span id="l7.438" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l7.439"></a><span id="l7.439" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l7.440"></a><span id="l7.440" class="difflineplus">+              &lt;spacer height=&quot;30&quot; width=&quot;12&quot;/&gt;</span>
<a href="#l7.441"></a><span id="l7.441" class="difflineplus">+              &lt;hbox class=&quot;protocol&quot;&gt;</span>
<a href="#l7.442"></a><span id="l7.442" class="difflineplus">+                &lt;menulist id=&quot;incoming_protocol&quot;</span>
<a href="#l7.443"></a><span id="l7.443" class="difflineplus">+                          value=&quot;&quot;</span>
<a href="#l7.444"></a><span id="l7.444" class="difflineplus">+                          disabled=&quot;true&quot;</span>
<a href="#l7.445"></a><span id="l7.445" class="difflineplus">+                          sizetopopup=&quot;always&quot;&gt;</span>
<a href="#l7.446"></a><span id="l7.446" class="difflineplus">+                  &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setIncomingProtocol()&quot;&gt;</span>
<a href="#l7.447"></a><span id="l7.447" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;imap.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l7.448"></a><span id="l7.448" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;pop.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l7.449"></a><span id="l7.449" class="difflineplus">+                  &lt;/menupopup&gt;</span>
<a href="#l7.450"></a><span id="l7.450" class="difflineplus">+                &lt;/menulist&gt;</span>
<a href="#l7.451"></a><span id="l7.451" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l7.452"></a><span id="l7.452" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l7.453"></a><span id="l7.453" class="difflineplus">+                &lt;textbox id=&quot;incoming_port&quot;</span>
<a href="#l7.454"></a><span id="l7.454" class="difflineplus">+                         class=&quot;port&quot;</span>
<a href="#l7.455"></a><span id="l7.455" class="difflineplus">+                         value=&quot;&quot;</span>
<a href="#l7.456"></a><span id="l7.456" class="difflineplus">+                         disabled=&quot;true&quot;</span>
<a href="#l7.457"></a><span id="l7.457" class="difflineplus">+                         oninput=&quot;gEmailConfigWizard.setPort('incoming_port')&quot;/&gt;</span>
<a href="#l7.458"></a><span id="l7.458" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l7.459"></a><span id="l7.459" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l7.460"></a><span id="l7.460" class="difflineplus">+                &lt;menulist id=&quot;incoming_security&quot;</span>
<a href="#l7.461"></a><span id="l7.461" class="difflineplus">+                          class=&quot;security&quot;</span>
<a href="#l7.462"></a><span id="l7.462" class="difflineplus">+                          value=&quot;&quot;</span>
<a href="#l7.463"></a><span id="l7.463" class="difflineplus">+                          disabled=&quot;true&quot;</span>
<a href="#l7.464"></a><span id="l7.464" class="difflineplus">+                          sizetopopup=&quot;always&quot;&gt;</span>
<a href="#l7.465"></a><span id="l7.465" class="difflineplus">+                  &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('incoming_security')&quot;&gt;</span>
<a href="#l7.466"></a><span id="l7.466" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l7.467"></a><span id="l7.467" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l7.468"></a><span id="l7.468" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l7.469"></a><span id="l7.469" class="difflineplus">+                  &lt;/menupopup&gt;</span>
<a href="#l7.470"></a><span id="l7.470" class="difflineplus">+                &lt;/menulist&gt;</span>
<a href="#l7.471"></a><span id="l7.471" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l7.472"></a><span id="l7.472" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l7.473"></a><span id="l7.473" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l7.474"></a><span id="l7.474" class="difflineplus">+          &lt;hbox id=&quot;outgoingarea&quot; align=&quot;center&quot;&gt;</span>
<a href="#l7.475"></a><span id="l7.475" class="difflineplus">+            &lt;vbox id=&quot;outgoing_status&quot;</span>
<a href="#l7.476"></a><span id="l7.476" class="difflineplus">+                  class=&quot;icon&quot;</span>
<a href="#l7.477"></a><span id="l7.477" class="difflineplus">+                  align=&quot;center&quot;</span>
<a href="#l7.478"></a><span id="l7.478" class="difflineplus">+                  pack=&quot;center&quot;&gt;</span>
<a href="#l7.479"></a><span id="l7.479" class="difflineplus">+              &lt;image id=&quot;outgoing_spinner&quot;</span>
<a href="#l7.480"></a><span id="l7.480" class="difflineplus">+                     src=&quot;chrome://global/skin/icons/loading_16.png&quot;</span>
<a href="#l7.481"></a><span id="l7.481" class="difflineplus">+                     hidden=&quot;true&quot;/&gt;</span>
<a href="#l7.482"></a><span id="l7.482" class="difflineplus">+            &lt;/vbox&gt;</span>
<a href="#l7.483"></a><span id="l7.483" class="difflineplus">+            &lt;label class=&quot;textbox-label&quot;</span>
<a href="#l7.484"></a><span id="l7.484" class="difflineplus">+                   value=&quot;&amp;outgoing.label;&quot;</span>
<a href="#l7.485"></a><span id="l7.485" class="difflineplus">+                   control=&quot;outgoing_server&quot;/&gt;</span>
<a href="#l7.486"></a><span id="l7.486" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l7.487"></a><span id="l7.487" class="difflineplus">+              &lt;!-- oncommand, and onchange and onmousedown of menulist's</span>
<a href="#l7.488"></a><span id="l7.488" class="difflineplus">+                   inputfield, set in constructor --&gt;</span>
<a href="#l7.489"></a><span id="l7.489" class="difflineplus">+              &lt;menulist id=&quot;outgoing_server&quot;</span>
<a href="#l7.490"></a><span id="l7.490" class="difflineplus">+                        class=&quot;host uri-element&quot;</span>
<a href="#l7.491"></a><span id="l7.491" class="difflineplus">+                        disabled=&quot;true&quot;</span>
<a href="#l7.492"></a><span id="l7.492" class="difflineplus">+                        sizetopopup=&quot;none&quot;</span>
<a href="#l7.493"></a><span id="l7.493" class="difflineplus">+                        editable=&quot;true&quot; &gt;</span>
<a href="#l7.494"></a><span id="l7.494" class="difflineplus">+                &lt;menupopup id=&quot;smtp_menupopup&quot;/&gt;</span>
<a href="#l7.495"></a><span id="l7.495" class="difflineplus">+              &lt;/menulist&gt;</span>
<a href="#l7.496"></a><span id="l7.496" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l7.497"></a><span id="l7.497" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l7.498"></a><span id="l7.498" class="difflineplus">+              &lt;spacer height=&quot;30&quot; width=&quot;12&quot;/&gt;</span>
<a href="#l7.499"></a><span id="l7.499" class="difflineplus">+              &lt;hbox class=&quot;protocol&quot; align=&quot;center&quot;&gt;</span>
<a href="#l7.500"></a><span id="l7.500" class="difflineplus">+                &lt;label id=&quot;outgoing_protocol&quot;</span>
<a href="#l7.501"></a><span id="l7.501" class="difflineplus">+                       value=&quot;&amp;smtp.label;&quot;/&gt;</span>
<a href="#l7.502"></a><span id="l7.502" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l7.503"></a><span id="l7.503" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l7.504"></a><span id="l7.504" class="difflineplus">+                &lt;textbox id=&quot;outgoing_port&quot;</span>
<a href="#l7.505"></a><span id="l7.505" class="difflineplus">+                         class=&quot;port&quot;</span>
<a href="#l7.506"></a><span id="l7.506" class="difflineplus">+                         value=&quot;&quot;</span>
<a href="#l7.507"></a><span id="l7.507" class="difflineplus">+                         disabled=&quot;true&quot;</span>
<a href="#l7.508"></a><span id="l7.508" class="difflineplus">+                         oninput=&quot;gEmailConfigWizard.setPort('outgoing_port')&quot;/&gt;</span>
<a href="#l7.509"></a><span id="l7.509" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l7.510"></a><span id="l7.510" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l7.511"></a><span id="l7.511" class="difflineplus">+                &lt;menulist id=&quot;outgoing_security&quot;</span>
<a href="#l7.512"></a><span id="l7.512" class="difflineplus">+                          class=&quot;security&quot;</span>
<a href="#l7.513"></a><span id="l7.513" class="difflineplus">+                          value=&quot;&quot;</span>
<a href="#l7.514"></a><span id="l7.514" class="difflineplus">+                          disabled=&quot;true&quot;</span>
<a href="#l7.515"></a><span id="l7.515" class="difflineplus">+                          sizetopopup=&quot;always&quot;&gt;</span>
<a href="#l7.516"></a><span id="l7.516" class="difflineplus">+                  &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('outgoing_security')&quot;&gt;</span>
<a href="#l7.517"></a><span id="l7.517" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l7.518"></a><span id="l7.518" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l7.519"></a><span id="l7.519" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l7.520"></a><span id="l7.520" class="difflineplus">+                  &lt;/menupopup&gt;</span>
<a href="#l7.521"></a><span id="l7.521" class="difflineplus">+                &lt;/menulist&gt;</span>
<a href="#l7.522"></a><span id="l7.522" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l7.523"></a><span id="l7.523" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l7.524"></a><span id="l7.524" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l7.525"></a><span id="l7.525" class="difflineplus">+        &lt;/vbox&gt;</span>
<a href="#l7.526"></a><span id="l7.526" class="difflineplus">+      &lt;/groupbox&gt;</span>
<a href="#l7.527"></a><span id="l7.527" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l7.528"></a><span id="l7.528">     &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l7.529"></a><span id="l7.529">     &lt;hbox&gt;</span>
<a href="#l7.530"></a><span id="l7.530" class="difflineminus">-      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l7.531"></a><span id="l7.531" class="difflineminus">-        &lt;button id=&quot;cancel_button&quot; label=&quot;&amp;cancel.label;&quot;</span>
<a href="#l7.532"></a><span id="l7.532" class="difflineminus">-                onmousedown=&quot;gEmailConfigWizard.onCancel();&quot;/&gt;</span>
<a href="#l7.533"></a><span id="l7.533" class="difflineminus">-        &lt;label id=&quot;advanced_settings&quot; value=&quot;&amp;createAndEditSettings.label;&quot;</span>
<a href="#l7.534"></a><span id="l7.534" class="difflineminus">-               onmousedown=&quot;gEmailConfigWizard.advancedSettings()&quot;</span>
<a href="#l7.535"></a><span id="l7.535" class="difflineminus">-               hidden=&quot;true&quot; class=&quot;clickable_label&quot;/&gt;</span>
<a href="#l7.536"></a><span id="l7.536" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l7.537"></a><span id="l7.537" class="difflineplus">+      &lt;button id=&quot;advanced_settings&quot;</span>
<a href="#l7.538"></a><span id="l7.538" class="difflineplus">+              label=&quot;&amp;manualSetup.label;&quot;</span>
<a href="#l7.539"></a><span id="l7.539" class="difflineplus">+              accesskey=&quot;&amp;manualSetup.accesskey;&quot;</span>
<a href="#l7.540"></a><span id="l7.540" class="difflineplus">+              class=&quot;larger-button&quot;</span>
<a href="#l7.541"></a><span id="l7.541" class="difflineplus">+              disabled=&quot;true&quot;</span>
<a href="#l7.542"></a><span id="l7.542" class="difflineplus">+              hidden=&quot;true&quot;</span>
<a href="#l7.543"></a><span id="l7.543" class="difflineplus">+              oncommand=&quot;gEmailConfigWizard.advancedSettings();&quot;/&gt;</span>
<a href="#l7.544"></a><span id="l7.544">       &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l7.545"></a><span id="l7.545">       &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l7.546"></a><span id="l7.546" class="difflineminus">-        &lt;button id=&quot;create_button&quot; label=&quot;&amp;createAccount.label;&quot;</span>
<a href="#l7.547"></a><span id="l7.547" class="difflineminus">-                accesskey=&quot;&amp;createAccount.accesskey;&quot;</span>
<a href="#l7.548"></a><span id="l7.548" class="difflineminus">-                onmousedown=&quot;gEmailConfigWizard.onOK();&quot;</span>
<a href="#l7.549"></a><span id="l7.549" class="difflineminus">-                hidden=&quot;true&quot; class=&quot;larger-button&quot;/&gt;</span>
<a href="#l7.550"></a><span id="l7.550" class="difflineplus">+        &lt;button id=&quot;cancel_button&quot;</span>
<a href="#l7.551"></a><span id="l7.551" class="difflineplus">+                label=&quot;&amp;cancel.label;&quot;</span>
<a href="#l7.552"></a><span id="l7.552" class="difflineplus">+                accesskey=&quot;&amp;cancel.accesskey;&quot;</span>
<a href="#l7.553"></a><span id="l7.553" class="difflineplus">+                oncommand=&quot;gEmailConfigWizard.onCancel();&quot;/&gt;</span>
<a href="#l7.554"></a><span id="l7.554" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l7.555"></a><span id="l7.555" class="difflineplus">+      &lt;button id=&quot;create_button&quot;</span>
<a href="#l7.556"></a><span id="l7.556" class="difflineplus">+              label=&quot;&amp;createAccount.label;&quot;</span>
<a href="#l7.557"></a><span id="l7.557" class="difflineplus">+              accesskey=&quot;&amp;createAccount.accesskey;&quot;</span>
<a href="#l7.558"></a><span id="l7.558" class="difflineplus">+              class=&quot;larger-button&quot;</span>
<a href="#l7.559"></a><span id="l7.559" class="difflineplus">+              hidden=&quot;true&quot;</span>
<a href="#l7.560"></a><span id="l7.560" class="difflineplus">+              disabled=&quot;true&quot;</span>
<a href="#l7.561"></a><span id="l7.561" class="difflineplus">+              oncommand=&quot;gEmailConfigWizard.onOK();&quot;/&gt;</span>
<a href="#l7.562"></a><span id="l7.562" class="difflineplus">+      &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l7.563"></a><span id="l7.563" class="difflineplus">+        &lt;button id=&quot;next_button&quot;</span>
<a href="#l7.564"></a><span id="l7.564" class="difflineplus">+                label=&quot;&amp;continue.label;&quot;</span>
<a href="#l7.565"></a><span id="l7.565" class="difflineplus">+                accesskey=&quot;&amp;continue.accesskey;&quot;</span>
<a href="#l7.566"></a><span id="l7.566" class="difflineplus">+                class=&quot;larger-button&quot;</span>
<a href="#l7.567"></a><span id="l7.567" class="difflineplus">+                hidden=&quot;false&quot;</span>
<a href="#l7.568"></a><span id="l7.568" class="difflineplus">+                disabled=&quot;true&quot;</span>
<a href="#l7.569"></a><span id="l7.569" class="difflineplus">+                oncommand=&quot;gEmailConfigWizard.onNext();&quot;/&gt;</span>
<a href="#l7.570"></a><span id="l7.570">       &lt;/hbox&gt;</span>
<a href="#l7.571"></a><span id="l7.571">     &lt;/hbox&gt;</span>
<a href="#l7.572"></a><span id="l7.572">   &lt;/vbox&gt;</span>
<a href="#l7.573"></a><span id="l7.573"> </span>
<a href="#l7.574"></a><span id="l7.574"> </span>
<a href="#l7.575"></a><span id="l7.575" class="difflineminus">-  &lt;vbox id=&quot;warningbox&quot; class=&quot;warningbox&quot; hidden=&quot;true&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l7.576"></a><span id="l7.576" class="difflineplus">+  &lt;vbox id=&quot;warningbox&quot; hidden=&quot;true&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l7.577"></a><span id="l7.577">     &lt;hbox class=&quot;warning&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l7.578"></a><span id="l7.578">       &lt;vbox class=&quot;larrybox&quot;&gt;</span>
<a href="#l7.579"></a><span id="l7.579">         &lt;image id=&quot;insecure_larry&quot; class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l7.580"></a><span id="l7.580">       &lt;/vbox&gt;</span>
<a href="#l7.581"></a><span id="l7.581">       &lt;vbox flex=&quot;1&quot; class=&quot;warning_text&quot;&gt;</span>
<a href="#l7.582"></a><span id="l7.582" class="difflineminus">-         &lt;label class=&quot;warning-heading&quot;&gt;&amp;warning.label;&lt;/label&gt;</span>
<a href="#l7.583"></a><span id="l7.583" class="difflineminus">-         &lt;vbox id=&quot;incoming_box&quot;&gt;</span>
<a href="#l7.584"></a><span id="l7.584" class="difflineminus">-           &lt;hbox&gt;</span>
<a href="#l7.585"></a><span id="l7.585" class="difflineminus">-             &lt;label class=&quot;warning_settings&quot; value=&quot;&amp;incomingSettings.label;&quot;/&gt;</span>
<a href="#l7.586"></a><span id="l7.586" class="difflineminus">-             &lt;description id=&quot;warning_incoming&quot;/&gt;</span>
<a href="#l7.587"></a><span id="l7.587" class="difflineminus">-           &lt;/hbox&gt;</span>
<a href="#l7.588"></a><span id="l7.588" class="difflineminus">-           &lt;label id=&quot;incoming_technical&quot; value=&quot;&amp;technicaldetails.label;&quot;</span>
<a href="#l7.589"></a><span id="l7.589" class="difflineminus">-                  class=&quot;technical_details&quot;</span>
<a href="#l7.590"></a><span id="l7.590" class="difflineminus">-                  onclick=&quot;gEmailConfigWizard.toggleDetails('incoming');&quot;/&gt;</span>
<a href="#l7.591"></a><span id="l7.591" class="difflineminus">-           &lt;description id=&quot;incoming_details&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l7.592"></a><span id="l7.592" class="difflineminus">-         &lt;/vbox&gt;</span>
<a href="#l7.593"></a><span id="l7.593" class="difflineminus">-         &lt;vbox id=&quot;outgoing_box&quot;&gt;</span>
<a href="#l7.594"></a><span id="l7.594" class="difflineminus">-           &lt;hbox&gt;</span>
<a href="#l7.595"></a><span id="l7.595" class="difflineminus">-             &lt;label class=&quot;warning_settings&quot; value=&quot;&amp;outgoingSettings.label;&quot;/&gt;</span>
<a href="#l7.596"></a><span id="l7.596" class="difflineminus">-             &lt;description id=&quot;warning_outgoing&quot;/&gt;</span>
<a href="#l7.597"></a><span id="l7.597" class="difflineminus">-           &lt;/hbox&gt;</span>
<a href="#l7.598"></a><span id="l7.598" class="difflineminus">-           &lt;label id=&quot;outgoing_technical&quot; value=&quot;&amp;technicaldetails.label;&quot;</span>
<a href="#l7.599"></a><span id="l7.599" class="difflineminus">-                  class=&quot;technical_details&quot;</span>
<a href="#l7.600"></a><span id="l7.600" class="difflineminus">-                  onclick=&quot;gEmailConfigWizard.toggleDetails('outgoing');&quot;/&gt;</span>
<a href="#l7.601"></a><span id="l7.601" class="difflineminus">-           &lt;description id=&quot;outgoing_details&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l7.602"></a><span id="l7.602" class="difflineminus">-         &lt;/vbox&gt;</span>
<a href="#l7.603"></a><span id="l7.603" class="difflineminus">-         &lt;spacer flex=&quot;10&quot;/&gt;</span>
<a href="#l7.604"></a><span id="l7.604" class="difflineminus">-         &lt;description id=&quot;findoutmore&quot;&gt;&amp;contactYourProvider.description;&lt;/description&gt;</span>
<a href="#l7.605"></a><span id="l7.605" class="difflineminus">-         &lt;checkbox id=&quot;acknowledge_warning&quot;</span>
<a href="#l7.606"></a><span id="l7.606" class="difflineminus">-                   class=&quot;acknowledge_checkbox&quot;</span>
<a href="#l7.607"></a><span id="l7.607" class="difflineminus">-                   label=&quot;&amp;confirmWarning.label;&quot;</span>
<a href="#l7.608"></a><span id="l7.608" class="difflineminus">-                   accesskey=&quot;&amp;confirmWarning.accesskey;&quot;</span>
<a href="#l7.609"></a><span id="l7.609" class="difflineplus">+        &lt;label class=&quot;warning-heading&quot;&gt;&amp;warning.label;&lt;/label&gt;</span>
<a href="#l7.610"></a><span id="l7.610" class="difflineplus">+        &lt;vbox id=&quot;incoming_box&quot;&gt;</span>
<a href="#l7.611"></a><span id="l7.611" class="difflineplus">+          &lt;hbox&gt;</span>
<a href="#l7.612"></a><span id="l7.612" class="difflineplus">+            &lt;label class=&quot;warning_settings&quot; value=&quot;&amp;incomingSettings.label;&quot;/&gt;</span>
<a href="#l7.613"></a><span id="l7.613" class="difflineplus">+            &lt;description id=&quot;warning_incoming&quot;/&gt;</span>
<a href="#l7.614"></a><span id="l7.614" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l7.615"></a><span id="l7.615" class="difflineplus">+          &lt;label id=&quot;incoming_technical&quot;</span>
<a href="#l7.616"></a><span id="l7.616" class="difflineplus">+                 class=&quot;technical_details&quot;</span>
<a href="#l7.617"></a><span id="l7.617" class="difflineplus">+                 value=&quot;&amp;technicaldetails.label;&quot;</span>
<a href="#l7.618"></a><span id="l7.618" class="difflineplus">+                 onclick=&quot;gEmailConfigWizard.toggleDetails('incoming');&quot;/&gt;</span>
<a href="#l7.619"></a><span id="l7.619" class="difflineplus">+          &lt;description id=&quot;incoming_details&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l7.620"></a><span id="l7.620" class="difflineplus">+        &lt;/vbox&gt;</span>
<a href="#l7.621"></a><span id="l7.621" class="difflineplus">+        &lt;vbox id=&quot;outgoing_box&quot;&gt;</span>
<a href="#l7.622"></a><span id="l7.622" class="difflineplus">+          &lt;hbox&gt;</span>
<a href="#l7.623"></a><span id="l7.623" class="difflineplus">+            &lt;label class=&quot;warning_settings&quot; value=&quot;&amp;outgoingSettings.label;&quot;/&gt;</span>
<a href="#l7.624"></a><span id="l7.624" class="difflineplus">+            &lt;description id=&quot;warning_outgoing&quot;/&gt;</span>
<a href="#l7.625"></a><span id="l7.625" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l7.626"></a><span id="l7.626" class="difflineplus">+          &lt;label id=&quot;outgoing_technical&quot;</span>
<a href="#l7.627"></a><span id="l7.627" class="difflineplus">+                 class=&quot;technical_details&quot;</span>
<a href="#l7.628"></a><span id="l7.628" class="difflineplus">+                 value=&quot;&amp;technicaldetails.label;&quot;</span>
<a href="#l7.629"></a><span id="l7.629" class="difflineplus">+                 onclick=&quot;gEmailConfigWizard.toggleDetails('outgoing');&quot;/&gt;</span>
<a href="#l7.630"></a><span id="l7.630" class="difflineplus">+          &lt;description id=&quot;outgoing_details&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l7.631"></a><span id="l7.631" class="difflineplus">+        &lt;/vbox&gt;</span>
<a href="#l7.632"></a><span id="l7.632" class="difflineplus">+        &lt;spacer flex=&quot;10&quot;/&gt;</span>
<a href="#l7.633"></a><span id="l7.633" class="difflineplus">+        &lt;description id=&quot;findoutmore&quot;&gt;&amp;contactYourProvider.description;&lt;/description&gt;</span>
<a href="#l7.634"></a><span id="l7.634" class="difflineplus">+        &lt;spacer flex=&quot;100&quot;/&gt;</span>
<a href="#l7.635"></a><span id="l7.635" class="difflineplus">+        &lt;checkbox id=&quot;acknowledge_warning&quot;</span>
<a href="#l7.636"></a><span id="l7.636" class="difflineplus">+                  label=&quot;&amp;confirmWarning.label;&quot;</span>
<a href="#l7.637"></a><span id="l7.637" class="difflineplus">+                  accesskey=&quot;&amp;confirmWarning.accesskey;&quot;</span>
<a href="#l7.638"></a><span id="l7.638" class="difflineplus">+                  class=&quot;acknowledge_checkbox&quot;</span>
<a href="#l7.639"></a><span id="l7.639">                   oncommand=&quot;gEmailConfigWizard.toggleAcknowledgeWarning()&quot;/&gt;</span>
<a href="#l7.640"></a><span id="l7.640" class="difflineminus">-        &lt;spacer flex=&quot;100&quot;/&gt;</span>
<a href="#l7.641"></a><span id="l7.641">         &lt;hbox&gt;</span>
<a href="#l7.642"></a><span id="l7.642" class="difflineminus">-          &lt;button id=&quot;getmeoutofhere&quot; label=&quot;&amp;changeSettings.label;&quot;</span>
<a href="#l7.643"></a><span id="l7.643" class="difflineplus">+          &lt;button id=&quot;getmeoutofhere&quot;</span>
<a href="#l7.644"></a><span id="l7.644" class="difflineplus">+                  label=&quot;&amp;changeSettings.label;&quot;</span>
<a href="#l7.645"></a><span id="l7.645">                   accesskey=&quot;&amp;changeSettings.accesskey;&quot;</span>
<a href="#l7.646"></a><span id="l7.646">                   oncommand=&quot;gEmailConfigWizard.getMeOutOfHere()&quot;/&gt;</span>
<a href="#l7.647"></a><span id="l7.647">           &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l7.648"></a><span id="l7.648" class="difflineminus">-          &lt;button id=&quot;iknow&quot; label=&quot;&amp;createAccount.label;&quot; disabled=&quot;true&quot;</span>
<a href="#l7.649"></a><span id="l7.649" class="difflineplus">+          &lt;button id=&quot;iknow&quot;</span>
<a href="#l7.650"></a><span id="l7.650" class="difflineplus">+                  label=&quot;&amp;createAccount.label;&quot;</span>
<a href="#l7.651"></a><span id="l7.651">                   accesskey=&quot;&amp;createAccount.accesskey;&quot;</span>
<a href="#l7.652"></a><span id="l7.652" class="difflineplus">+                  disabled=&quot;true&quot;</span>
<a href="#l7.653"></a><span id="l7.653">                   oncommand=&quot;gEmailConfigWizard.validateAndFinish()&quot;/&gt;</span>
<a href="#l7.654"></a><span id="l7.654">         &lt;/hbox&gt;</span>
<a href="#l7.655"></a><span id="l7.655">       &lt;/vbox&gt;</span>
<a href="#l7.656"></a><span id="l7.656">     &lt;/hbox&gt;</span>
<a href="#l7.657"></a><span id="l7.657">   &lt;/vbox&gt;</span>
<a href="#l7.658"></a><span id="l7.658"> &lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/verifyConfig.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/verifyConfig.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -91,18 +91,24 @@ function verifyConfig(config, alter, msg</span>
<a href="#l8.4"></a><span id="l8.4">   else if (config.incoming.socketType == 3) // TLS</span>
<a href="#l8.5"></a><span id="l8.5">     inServer.socketType = Ci.nsIMsgIncomingServer.alwaysUseTLS;</span>
<a href="#l8.6"></a><span id="l8.6"> </span>
<a href="#l8.7"></a><span id="l8.7">   // auth</span>
<a href="#l8.8"></a><span id="l8.8">   if (config.incoming.auth == 2) // &quot;secure&quot; auth</span>
<a href="#l8.9"></a><span id="l8.9">     inServer.useSecAuth = true;</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11">   try {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    inServer.password = config.incoming.password;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-    verifyLogon(config, inServer, alter, msgWindow, successCallback, errorCallback);</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+    if (inServer.password)</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+      verifyLogon(config, inServer, alter, msgWindow,</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+                  successCallback, errorCallback);</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineplus">+    else {</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineplus">+      // Avoid pref pollution, clear out server prefs.</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineplus">+      accountManager.removeIncomingServer(inServer, true);</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+      successCallback();</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineplus">+    }</span>
<a href="#l8.22"></a><span id="l8.22">   } catch (e) {</span>
<a href="#l8.23"></a><span id="l8.23">     ddump(&quot;ERROR: verify logon shouldn't have failed&quot;);</span>
<a href="#l8.24"></a><span id="l8.24">     errorCallback(e);</span>
<a href="#l8.25"></a><span id="l8.25">     throw(e);</span>
<a href="#l8.26"></a><span id="l8.26">   }</span>
<a href="#l8.27"></a><span id="l8.27"> };</span>
<a href="#l8.28"></a><span id="l8.28"> </span>
<a href="#l8.29"></a><span id="l8.29"> function verifyLogon(config, inServer, alter, msgWindow, successCallback,</span>
<a href="#l8.30"></a><span id="l8.30" class="difflineat">@@ -112,22 +118,26 @@ function verifyLogon(config, inServer, a</span>
<a href="#l8.31"></a><span id="l8.31">   let saveCallbacks = msgWindow.notificationCallbacks;</span>
<a href="#l8.32"></a><span id="l8.32">   // set our own callbacks - this works because verifyLogon will</span>
<a href="#l8.33"></a><span id="l8.33">   // synchronously create the transport and use the notification callbacks.</span>
<a href="#l8.34"></a><span id="l8.34">   let listener = new urlListener(config, inServer, alter, msgWindow,</span>
<a href="#l8.35"></a><span id="l8.35">                                  successCallback, errorCallback);</span>
<a href="#l8.36"></a><span id="l8.36">   // our listener listens both for the url and cert errors.</span>
<a href="#l8.37"></a><span id="l8.37">   msgWindow.notificationCallbacks = listener;</span>
<a href="#l8.38"></a><span id="l8.38">   // try to work around bug where backend is clearing password.</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineminus">-  inServer.password = config.incoming.password;</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineminus">-  let uri = inServer.verifyLogon(listener, msgWindow);</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineminus">-  // clear msgWindow so url won't prompt for passwords.</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineminus">-  uri.QueryInterface(Ci.nsIMsgMailNewsUrl).msgWindow = null;</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineminus">-  // restore them</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineminus">-  msgWindow.notificationCallbacks = saveCallbacks;</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineplus">+  try {</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineplus">+    inServer.password = config.incoming.password;</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineplus">+    let uri = inServer.verifyLogon(listener, msgWindow);</span>
<a href="#l8.48"></a><span id="l8.48" class="difflineplus">+    // clear msgWindow so url won't prompt for passwords.</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineplus">+    uri.QueryInterface(Ci.nsIMsgMailNewsUrl).msgWindow = null;</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineplus">+  }</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineplus">+  finally {</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineplus">+    // restore them</span>
<a href="#l8.53"></a><span id="l8.53" class="difflineplus">+    msgWindow.notificationCallbacks = saveCallbacks;</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineplus">+  }</span>
<a href="#l8.55"></a><span id="l8.55"> }</span>
<a href="#l8.56"></a><span id="l8.56"> </span>
<a href="#l8.57"></a><span id="l8.57"> /**</span>
<a href="#l8.58"></a><span id="l8.58">  * The url listener also implements nsIBadCertListener2.  Its job is to prevent</span>
<a href="#l8.59"></a><span id="l8.59">  * &quot;bad cert&quot; security dialogs from being shown to the user.  Currently it puts</span>
<a href="#l8.60"></a><span id="l8.60">  * up the cert override dialog, though we'd like to give the user more detailed</span>
<a href="#l8.61"></a><span id="l8.61">  * information in the future.</span>
<a href="#l8.62"></a><span id="l8.62">  */</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

