<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 3725:eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826" />
<meta property="og:url" content="/comm-central/rev/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826" />
<meta property="og:description" content="merge of default" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826">shortlog</a> |
<a href="/comm-central/log/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826">files</a> |
changeset |
<a href="/comm-central/raw-rev/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826">raw</a>  | <a href="/comm-central/archive/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
merge of default
<span class="logtags"><span class="inbranchtag" title="add-protovis">add-protovis</span> </span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#65;&#110;&#100;&#114;&#101;&#119;&#32;&#83;&#117;&#116;&#104;&#101;&#114;&#108;&#97;&#110;&#100;&#32;&#60;&#97;&#115;&#117;&#116;&#104;&#101;&#114;&#108;&#97;&#110;&#100;&#64;&#97;&#115;&#117;&#116;&#104;&#101;&#114;&#108;&#97;&#110;&#100;&#46;&#111;&#114;&#103;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 09 Sep 2009 18:05:00 -0700</td></tr>
<tr><td>branch</td><td>add-protovis</td></tr>
<tr>
 <td>changeset 3725</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826">eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826</a></td>
</tr>



<tr>
<td>parent 3710</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/668c342deb663372479da9e47656295941ae6815">668c342deb663372479da9e47656295941ae6815</a> (current diff)
</td>
</tr>
<tr>
<td>parent 3613</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/8931dc00216426154eaac28708ab54752175a85c">8931dc00216426154eaac28708ab54752175a85c</a> (<a href="/comm-central/rev/8931dc00216426154eaac28708ab54752175a85c:eaeb4b7b07fa">diff</a>)
</td>
</tr>

<tr>
<td>child 3726</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/a1a09863751a33941eb5230459fb006f1df33d5e">a1a09863751a33941eb5230459fb006f1df33d5e</a>
</td>
</tr>
<tr>
<td>child 3729</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/2216dee4ad3a8e3e0e4d5498dcdf828d58996333">2216dee4ad3a8e3e0e4d5498dcdf828d58996333</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826">2927</a></td></tr>
<tr><td>push user</td><td>bugmail@asutherland.org</td></tr>
<tr><td>push date</td><td class="date age">Thu, 10 Sep 2009 01:15:56 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@0b161ed73eb6 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33&newProject=comm-central&newRevision=b5e0aff84bf4077a47919481912ad0bd11c6a8d8&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33&newProject=comm-central&newRevision=b5e0aff84bf4077a47919481912ad0bd11c6a8d8&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33&newProject=comm-central&newRevision=b5e0aff84bf4077a47919481912ad0bd11c6a8d8&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>






</table></div>

<div class="page_body description">merge of default</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/.hgpatchinfo/add-protovis.dep">.hgpatchinfo/add-protovis.dep</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/.hgpatchinfo/add-protovis.dep">file</a> |
<a href="/comm-central/annotate/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/.hgpatchinfo/add-protovis.dep">annotate</a> |
<a href="/comm-central/diff/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/.hgpatchinfo/add-protovis.dep">diff</a> |
<a href="/comm-central/comparison/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/.hgpatchinfo/add-protovis.dep">comparison</a> |
<a href="/comm-central/log/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/.hgpatchinfo/add-protovis.dep">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/mail/themes/gnomestripe/mail/icons/folder.png">mail/themes/gnomestripe/mail/icons/folder.png</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/mail/themes/gnomestripe/mail/icons/folder.png">diff</a> |
<a href="/comm-central/comparison/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/mail/themes/gnomestripe/mail/icons/folder.png">comparison</a> |
<a href="/comm-central/log/eaeb4b7b07fa1f8513bd3eb7e08b18fe7219d826/mail/themes/gnomestripe/mail/icons/folder.png">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/.hgpatchinfo/add-protovis.dep</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/.hgpatchinfo/add-protovis.dep</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,1 +1,1 @@</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineminus">-9b7f6edb75fa33f6ebdb8bbddca9251126fc6a26</span>
<a href="#l1.5"></a><span id="l1.5">\ No newline at end of file</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineplus">+8931dc00216426154eaac28708ab54752175a85c</span>
<a href="#l1.7"></a><span id="l1.7">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -182,17 +182,17 @@ function updateRelativeDates() {</span>
<a href="#l2.4"></a><span id="l2.4">  * @param event           The event used to determine the position of the popup</span>
<a href="#l2.5"></a><span id="l2.5">  * @param aContainerItem  The container item as described above</span>
<a href="#l2.6"></a><span id="l2.6">  */</span>
<a href="#l2.7"></a><span id="l2.7"> function openSnoozeWindow(event, aContainerItem) {</span>
<a href="#l2.8"></a><span id="l2.8">     const uri = &quot;chrome://calendar/content/calendar-alarm-snooze-popup.xul&quot;;</span>
<a href="#l2.9"></a><span id="l2.9">     var pos = &quot;,left=&quot; + (event.target.boxObject.screenX - 3) +</span>
<a href="#l2.10"></a><span id="l2.10">              &quot;,top=&quot; + (event.target.boxObject.screenY + event.target.boxObject.height - 3);</span>
<a href="#l2.11"></a><span id="l2.11">     window.openDialog(uri,</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-                      &quot;Calendar:AlarmSnoozePopup&quot;,</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+                      &quot;CalendarAlarmSnoozePopup&quot;,</span>
<a href="#l2.14"></a><span id="l2.14">                       &quot;chrome,dependent=yes,titlebar=no&quot; + pos,</span>
<a href="#l2.15"></a><span id="l2.15">                       aContainerItem);</span>
<a href="#l2.16"></a><span id="l2.16"> }</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18"> /**</span>
<a href="#l2.19"></a><span id="l2.19">  * Function to snooze all alarms the given number of minutes.</span>
<a href="#l2.20"></a><span id="l2.20">  *</span>
<a href="#l2.21"></a><span id="l2.21">  * @param aDurationMinutes    The duration in minutes</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/today-pane.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/today-pane.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -183,17 +183,17 @@ var TodayPane = {</span>
<a href="#l3.4"></a><span id="l3.4">    *</span>
<a href="#l3.5"></a><span id="l3.5">    * @param aNewDate        The date to show.</span>
<a href="#l3.6"></a><span id="l3.6">    */</span>
<a href="#l3.7"></a><span id="l3.7">   setDaywithjsDate: function setDaywithjsDate(aNewDate) {</span>
<a href="#l3.8"></a><span id="l3.8">       var newdatetime = jsDateToDateTime(aNewDate, floating());</span>
<a href="#l3.9"></a><span id="l3.9">       newdatetime = newdatetime.getInTimezone(calendarDefaultTimezone());</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11">       // XXX this doesn't really fit into this function</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-      document.getElementById(&quot;aMinimonthPopupset&quot;).hidePopup();</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+      document.getElementById(&quot;miniday-month-panel&quot;).hidePopup();</span>
<a href="#l3.14"></a><span id="l3.14"> </span>
<a href="#l3.15"></a><span id="l3.15">       return this.setDay(newdatetime, true);</span>
<a href="#l3.16"></a><span id="l3.16">   },</span>
<a href="#l3.17"></a><span id="l3.17"> </span>
<a href="#l3.18"></a><span id="l3.18">   /**</span>
<a href="#l3.19"></a><span id="l3.19">    * Gets the first date shown in the today pane.</span>
<a href="#l3.20"></a><span id="l3.20">    *</span>
<a href="#l3.21"></a><span id="l3.21">    * @return        The first date shown.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/today-pane.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/today-pane.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -172,24 +172,22 @@</span>
<a href="#l4.4"></a><span id="l4.4">                           &lt;label/&gt;</span>
<a href="#l4.5"></a><span id="l4.5">                           &lt;label/&gt;</span>
<a href="#l4.6"></a><span id="l4.6">                         &lt;/deck&gt;</span>
<a href="#l4.7"></a><span id="l4.7">                         &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l4.8"></a><span id="l4.8">                       &lt;/hbox&gt;</span>
<a href="#l4.9"></a><span id="l4.9">                     &lt;/vbox&gt;</span>
<a href="#l4.10"></a><span id="l4.10">                     &lt;toolbarbutton id=&quot;miniday-dropdown-button&quot;</span>
<a href="#l4.11"></a><span id="l4.11">                                    tooltiptext=&quot;&amp;showselectedday.tooltip;&quot;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-                                   popup=&quot;aMinimonthPopupset&quot;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-                                   class=&quot;toolbarbutton-menubutton-dropmarker&quot;/&gt;</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-                    &lt;popupset&gt;</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-                      &lt;popup id=&quot;aMinimonthPopupset&quot; position=&quot;after_start&quot;&gt;</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+                                   type=&quot;menu&quot;&gt;</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+                      &lt;panel id=&quot;miniday-month-panel&quot; position=&quot;after_start&quot;&gt;</span>
<a href="#l4.18"></a><span id="l4.18">                         &lt;minimonth id=&quot;todayMinimonth&quot; flex=&quot;1&quot;</span>
<a href="#l4.19"></a><span id="l4.19">                                    onchange=&quot;TodayPane.setDaywithjsDate(this.value);&quot;/&gt;</span>
<a href="#l4.20"></a><span id="l4.20" class="difflineminus">-                      &lt;/popup&gt;</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineminus">-                    &lt;/popupset&gt;</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineplus">+                      &lt;/panel&gt;</span>
<a href="#l4.23"></a><span id="l4.23" class="difflineplus">+                   &lt;/toolbarbutton&gt;</span>
<a href="#l4.24"></a><span id="l4.24">                  &lt;/hbox&gt;</span>
<a href="#l4.25"></a><span id="l4.25">                 &lt;/stack&gt;</span>
<a href="#l4.26"></a><span id="l4.26">               &lt;/modebox&gt;</span>
<a href="#l4.27"></a><span id="l4.27">             &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l4.28"></a><span id="l4.28">               &lt;toolbar id=&quot;agenda-toolbar&quot; iconsize=&quot;small&quot;&gt;</span>
<a href="#l4.29"></a><span id="l4.29">                 &lt;toolbarbutton id=&quot;todaypane-new-event-button&quot;</span>
<a href="#l4.30"></a><span id="l4.30">                                mode=&quot;mail&quot;</span>
<a href="#l4.31"></a><span id="l4.31">                                iconsize=&quot;small&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/src/calCalendarManager.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/src/calCalendarManager.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -297,22 +297,22 @@ calCalendarManager.prototype = {</span>
<a href="#l5.4"></a><span id="l5.4">         // Now find a window. The best choice would be the most recent</span>
<a href="#l5.5"></a><span id="l5.5">         // addons window, otherwise the most recent calendar window, or we</span>
<a href="#l5.6"></a><span id="l5.6">         // create a new toplevel window.</span>
<a href="#l5.7"></a><span id="l5.7">         let wm = Components.classes[&quot;@mozilla.org/appshell/window-mediator;1&quot;]</span>
<a href="#l5.8"></a><span id="l5.8">                            .getService(Components.interfaces.nsIWindowMediator);</span>
<a href="#l5.9"></a><span id="l5.9">         let win = wm.getMostRecentWindow(&quot;Extension:Manager&quot;) ||</span>
<a href="#l5.10"></a><span id="l5.10">                   cal.getCalendarWindow();</span>
<a href="#l5.11"></a><span id="l5.11">         if (win) {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-            win.openDialog(uri, &quot;Calendar:ProviderUninstallDialog&quot;, features, args);</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+            win.openDialog(uri, &quot;CalendarProviderUninstallDialog&quot;, features, args);</span>
<a href="#l5.14"></a><span id="l5.14">         } else {</span>
<a href="#l5.15"></a><span id="l5.15">             // Use the window watcher to open a parentless window.</span>
<a href="#l5.16"></a><span id="l5.16">             let ww = Components.classes[&quot;@mozilla.org/embedcomp/window-watcher;1&quot;]</span>
<a href="#l5.17"></a><span id="l5.17">                                .getService(Components.interfaces.nsIWindowWatcher);</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineminus">-            ww.openWindow(null, uri, &quot;Calendar:ProviderUninstallWindow&quot;, features, args);</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+            ww.openWindow(null, uri, &quot;CalendarProviderUninstallWindow&quot;, features, args);</span>
<a href="#l5.20"></a><span id="l5.20">         }</span>
<a href="#l5.21"></a><span id="l5.21"> </span>
<a href="#l5.22"></a><span id="l5.22"> </span>
<a href="#l5.23"></a><span id="l5.23">         // Now that we are done, check if the dialog was accepted or canceled.</span>
<a href="#l5.24"></a><span id="l5.24">         return args.shouldUninstall;</span>
<a href="#l5.25"></a><span id="l5.25">     },</span>
<a href="#l5.26"></a><span id="l5.26"> </span>
<a href="#l5.27"></a><span id="l5.27">     //</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/src/calUtils.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/src/calUtils.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -300,17 +300,17 @@ function openCalendarWizard(aCallback) {</span>
<a href="#l6.4"></a><span id="l6.4"> </span>
<a href="#l6.5"></a><span id="l6.5"> /**</span>
<a href="#l6.6"></a><span id="l6.6">  * Opens the calendar properties window for aCalendar</span>
<a href="#l6.7"></a><span id="l6.7">  *</span>
<a href="#l6.8"></a><span id="l6.8">  * @param aCalendar  the calendar whose properties should be displayed</span>
<a href="#l6.9"></a><span id="l6.9">  */</span>
<a href="#l6.10"></a><span id="l6.10"> function openCalendarProperties(aCalendar) {</span>
<a href="#l6.11"></a><span id="l6.11">     openDialog(&quot;chrome://calendar/content/calendar-properties-dialog.xul&quot;,</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-               &quot;Calendar:PropertiesDialog&quot;,</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+               &quot;CalendarPropertiesDialog&quot;,</span>
<a href="#l6.14"></a><span id="l6.14">                &quot;chrome,titlebar,modal,resizable&quot;,</span>
<a href="#l6.15"></a><span id="l6.15">                {calendar: aCalendar});</span>
<a href="#l6.16"></a><span id="l6.16"> }</span>
<a href="#l6.17"></a><span id="l6.17"> </span>
<a href="#l6.18"></a><span id="l6.18"> /**</span>
<a href="#l6.19"></a><span id="l6.19">  * Opens the print dialog</span>
<a href="#l6.20"></a><span id="l6.20">  */</span>
<a href="#l6.21"></a><span id="l6.21"> function calPrint() {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/themes/pinstripe/today-pane.css</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/themes/pinstripe/today-pane.css</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -66,21 +66,16 @@</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5"> #weekdayNameContainer {</span>
<a href="#l7.6"></a><span id="l7.6">   font-family: Trebuchet MS, Lucida Grande, Arial, Helvetica;</span>
<a href="#l7.7"></a><span id="l7.7">   padding-top: 4px;</span>
<a href="#l7.8"></a><span id="l7.8">   font-weight: bold;</span>
<a href="#l7.9"></a><span id="l7.9">   font-size: 18px;</span>
<a href="#l7.10"></a><span id="l7.10"> }</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-#miniday-dropdown-button {</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-  margin: 2px;</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-  -moz-user-focus: normal;</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-}</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-</span>
<a href="#l7.17"></a><span id="l7.17"> .monthlabel {</span>
<a href="#l7.18"></a><span id="l7.18">   -moz-margin-end: 0px;</span>
<a href="#l7.19"></a><span id="l7.19"> }</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21"> .dateValue {</span>
<a href="#l7.22"></a><span id="l7.22">   font-family: Arial, Helvetica, Trebuchet MS, Lucida Grande, sans-serif;</span>
<a href="#l7.23"></a><span id="l7.23">   margin-top: 0px;</span>
<a href="#l7.24"></a><span id="l7.24">   padding-top: 0px;</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineat">@@ -138,26 +133,35 @@</span>
<a href="#l7.26"></a><span id="l7.26"> }</span>
<a href="#l7.27"></a><span id="l7.27"> </span>
<a href="#l7.28"></a><span id="l7.28"> #next-day-button[disabled],</span>
<a href="#l7.29"></a><span id="l7.29"> #previous-day-button[disabled][chromedir=&quot;rtl&quot;] {</span>
<a href="#l7.30"></a><span id="l7.30">   -moz-image-region: rect(26px 21px 39px 16px);</span>
<a href="#l7.31"></a><span id="l7.31">   -moz-user-focus: normal;</span>
<a href="#l7.32"></a><span id="l7.32"> }</span>
<a href="#l7.33"></a><span id="l7.33"> </span>
<a href="#l7.34"></a><span id="l7.34" class="difflineminus">-#miniday-dropdown-button &gt; .toolbarbutton-icon,</span>
<a href="#l7.35"></a><span id="l7.35" class="difflineminus">-  .miniday-nav-buttons &gt; .toolbarbutton-icon  {</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineplus">+.miniday-nav-buttons &gt; .toolbarbutton-icon  {</span>
<a href="#l7.37"></a><span id="l7.37">   margin: 1px;</span>
<a href="#l7.38"></a><span id="l7.38"> }</span>
<a href="#l7.39"></a><span id="l7.39"> </span>
<a href="#l7.40"></a><span id="l7.40" class="difflineplus">+#miniday-dropdown-button {</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineplus">+  margin: 2px;</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineplus">+  -moz-user-focus: normal;</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineplus">+}</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineplus">+</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineplus">+#miniday-dropdown-button &gt; .toolbarbutton-icon,</span>
<a href="#l7.46"></a><span id="l7.46"> #miniday-dropdown-button &gt; .toolbarbutton-text,</span>
<a href="#l7.47"></a><span id="l7.47">   .miniday-nav-buttons &gt; .toolbarbutton-text  {</span>
<a href="#l7.48"></a><span id="l7.48">   display: none;</span>
<a href="#l7.49"></a><span id="l7.49"> }</span>
<a href="#l7.50"></a><span id="l7.50"> </span>
<a href="#l7.51"></a><span id="l7.51" class="difflineplus">+#miniday-dropdown-button &gt; .toolbarbutton-menu-dropmarker {</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineplus">+    -moz-padding-start: 0;</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineplus">+}</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineplus">+</span>
<a href="#l7.55"></a><span id="l7.55"> .today-closebutton {</span>
<a href="#l7.56"></a><span id="l7.56">   list-style-image: url(&quot;chrome://global/skin/icons/closetab.png&quot;) !important;</span>
<a href="#l7.57"></a><span id="l7.57"> }</span>
<a href="#l7.58"></a><span id="l7.58"> </span>
<a href="#l7.59"></a><span id="l7.59"> .today-closebutton:hover {</span>
<a href="#l7.60"></a><span id="l7.60">   list-style-image: url(&quot;chrome://global/skin/icons/closetab-hover.png&quot;) !important;</span>
<a href="#l7.61"></a><span id="l7.61"> }</span>
<a href="#l7.62"></a><span id="l7.62"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/themes/winstripe/today-pane.css</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/themes/winstripe/today-pane.css</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -65,22 +65,16 @@</span>
<a href="#l8.4"></a><span id="l8.4"> </span>
<a href="#l8.5"></a><span id="l8.5"> #weekdayNameContainer {</span>
<a href="#l8.6"></a><span id="l8.6">   font-family: Trebuchet MS, Lucida Grande, Arial, Helvetica;</span>
<a href="#l8.7"></a><span id="l8.7">   padding-top: 4px;</span>
<a href="#l8.8"></a><span id="l8.8">   font-weight: bold;</span>
<a href="#l8.9"></a><span id="l8.9">   font-size: 18px;</span>
<a href="#l8.10"></a><span id="l8.10"> }</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-#miniday-dropdown-button {</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-  margin: 2px;</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">-  max-width: 15px;</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-  -moz-user-focus: normal;</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineminus">-}</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineminus">-</span>
<a href="#l8.18"></a><span id="l8.18"> .monthlabel {</span>
<a href="#l8.19"></a><span id="l8.19">   -moz-margin-end: 0px;</span>
<a href="#l8.20"></a><span id="l8.20"> }</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22"> .dateValue {</span>
<a href="#l8.23"></a><span id="l8.23">   font-family: Arial, Helvetica, Trebuchet MS, Lucida Grande, sans-serif;</span>
<a href="#l8.24"></a><span id="l8.24">   margin-top: 0px;</span>
<a href="#l8.25"></a><span id="l8.25">   padding-top: 0px;</span>
<a href="#l8.26"></a><span id="l8.26" class="difflineat">@@ -138,26 +132,36 @@</span>
<a href="#l8.27"></a><span id="l8.27">   -moz-image-region: rect(13px 21px 26px 16px);</span>
<a href="#l8.28"></a><span id="l8.28"> }</span>
<a href="#l8.29"></a><span id="l8.29"> </span>
<a href="#l8.30"></a><span id="l8.30"> #next-day-button[disabled],</span>
<a href="#l8.31"></a><span id="l8.31"> #previous-day-button[disabled][chromedir=&quot;rtl&quot;] {</span>
<a href="#l8.32"></a><span id="l8.32">   -moz-image-region: rect(26px 21px 39px 16px);</span>
<a href="#l8.33"></a><span id="l8.33"> }</span>
<a href="#l8.34"></a><span id="l8.34"> </span>
<a href="#l8.35"></a><span id="l8.35" class="difflineminus">-#miniday-dropdown-button &gt; .toolbarbutton-icon,</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-  .miniday-nav-buttons &gt; .toolbarbutton-icon {</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineplus">+.miniday-nav-buttons &gt; .toolbarbutton-icon {</span>
<a href="#l8.38"></a><span id="l8.38">   margin: 1px;</span>
<a href="#l8.39"></a><span id="l8.39"> }</span>
<a href="#l8.40"></a><span id="l8.40"> </span>
<a href="#l8.41"></a><span id="l8.41" class="difflineplus">+#miniday-dropdown-button {</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineplus">+  margin: 2px;</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineplus">+  max-width: 18px;</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineplus">+  -moz-user-focus: normal;</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineplus">+}</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineplus">+</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineplus">+#miniday-dropdown-button &gt; .toolbarbutton-icon,</span>
<a href="#l8.48"></a><span id="l8.48"> #miniday-dropdown-button &gt; .toolbarbutton-text,</span>
<a href="#l8.49"></a><span id="l8.49">   .miniday-nav-buttons &gt; .toolbarbutton-text  {</span>
<a href="#l8.50"></a><span id="l8.50">   display: none;</span>
<a href="#l8.51"></a><span id="l8.51"> }</span>
<a href="#l8.52"></a><span id="l8.52"> </span>
<a href="#l8.53"></a><span id="l8.53" class="difflineplus">+#miniday-dropdown-button &gt; .toolbarbutton-menu-dropmarker {</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineplus">+    -moz-padding-start: 0;</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineplus">+}</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineplus">+</span>
<a href="#l8.57"></a><span id="l8.57"> .today-closebutton {</span>
<a href="#l8.58"></a><span id="l8.58">   list-style-image: url(&quot;chrome://global/skin/icons/close.png&quot;);</span>
<a href="#l8.59"></a><span id="l8.59">   -moz-image-region: rect(0 14px 14px 0);</span>
<a href="#l8.60"></a><span id="l8.60">   -moz-appearance: none;</span>
<a href="#l8.61"></a><span id="l8.61">   border: none !important;</span>
<a href="#l8.62"></a><span id="l8.62">   padding: 2px;</span>
<a href="#l8.63"></a><span id="l8.63"> }</span>
<a href="#l8.64"></a><span id="l8.64"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/providers/gdata/components/calGoogleRequest.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/providers/gdata/components/calGoogleRequest.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -45,20 +45,18 @@ function calGoogleRequest(aSession) {</span>
<a href="#l9.4"></a><span id="l9.4">     this.mQueryParameters = new Array();</span>
<a href="#l9.5"></a><span id="l9.5">     this.mSession = aSession;</span>
<a href="#l9.6"></a><span id="l9.6">     this.wrappedJSObject = this;</span>
<a href="#l9.7"></a><span id="l9.7"> }</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9"> calGoogleRequest.prototype = {</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11">     /* Members */</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-    uri: null,</span>
<a href="#l9.13"></a><span id="l9.13">     mUploadContent: null,</span>
<a href="#l9.14"></a><span id="l9.14">     mUploadData: null,</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-    responseListener: null,</span>
<a href="#l9.16"></a><span id="l9.16">     mSession: null,</span>
<a href="#l9.17"></a><span id="l9.17">     mExtraData: null,</span>
<a href="#l9.18"></a><span id="l9.18">     mQueryParameters: null,</span>
<a href="#l9.19"></a><span id="l9.19">     mType: null,</span>
<a href="#l9.20"></a><span id="l9.20">     mCalendar: null,</span>
<a href="#l9.21"></a><span id="l9.21">     mLoader: null,</span>
<a href="#l9.22"></a><span id="l9.22">     mStatus: Components.results.NS_OK,</span>
<a href="#l9.23"></a><span id="l9.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/providers/gdata/components/calGoogleUtils.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/providers/gdata/components/calGoogleUtils.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -357,18 +357,21 @@ function ItemToXMLEntry(aItem, aAuthorEm</span>
<a href="#l10.4"></a><span id="l10.4"> </span>
<a href="#l10.5"></a><span id="l10.5">     // Don't notify attendees by default. Use a preference in case the user</span>
<a href="#l10.6"></a><span id="l10.6">     // wants this to be turned on.</span>
<a href="#l10.7"></a><span id="l10.7">     var notify = getPrefSafe(&quot;calendar.google.sendEventNotifications&quot;, false);</span>
<a href="#l10.8"></a><span id="l10.8">     entry.gCal::sendEventNotifications.@value = (notify ? &quot;true&quot; : &quot;false&quot;);</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10">     // gd:when</span>
<a href="#l10.11"></a><span id="l10.11">     var duration = aItem.endDate.subtractDate(aItem.startDate);</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-    entry.gd::when.@startTime = cal.toRFC3339(aItem.startDate);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineminus">-    entry.gd::when.@endTime = cal.toRFC3339(aItem.endDate);</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+    if (!aItem.recurrenceInfo) {</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+        // gd:when isn't allowed for recurring items where gd:recurrence is set</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineplus">+        entry.gd::when.@startTime = cal.toRFC3339(aItem.startDate);</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineplus">+        entry.gd::when.@endTime = cal.toRFC3339(aItem.endDate);</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineplus">+    }</span>
<a href="#l10.19"></a><span id="l10.19"> </span>
<a href="#l10.20"></a><span id="l10.20">     // gd:reminder</span>
<a href="#l10.21"></a><span id="l10.21">     let alarms = aItem.getAlarms({});</span>
<a href="#l10.22"></a><span id="l10.22">     let actionMap = {</span>
<a href="#l10.23"></a><span id="l10.23">         DISPLAY: &quot;alert&quot;,</span>
<a href="#l10.24"></a><span id="l10.24">         EMAIL: &quot;email&quot;,</span>
<a href="#l10.25"></a><span id="l10.25">         SMS: &quot;sms&quot;</span>
<a href="#l10.26"></a><span id="l10.26">     };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/providers/gdata/content/gdata-migration.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/providers/gdata/content/gdata-migration.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -119,17 +119,17 @@ function gdata_migration_loader() {</span>
<a href="#l11.4"></a><span id="l11.4">                 // Do this after load, so the calendar window appears before the</span>
<a href="#l11.5"></a><span id="l11.5">                 // wizard is opened.</span>
<a href="#l11.6"></a><span id="l11.6"> </span>
<a href="#l11.7"></a><span id="l11.7">                 // XXX Waiting a second gives the views enough time to display</span>
<a href="#l11.8"></a><span id="l11.8">                 // right, at least on my system. The viewloaded event is quite</span>
<a href="#l11.9"></a><span id="l11.9">                 // view specific, so there is no good non-hacked way to do this.</span>
<a href="#l11.10"></a><span id="l11.10">                 setTimeout(function() {</span>
<a href="#l11.11"></a><span id="l11.11">                     window.openDialog(&quot;chrome://gdata-provider/content/gdata-migration-wizard.xul&quot;,</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-                                      &quot;Gdata:MigrationWizard&quot;,</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+                                      &quot;GdataMigrationWizard&quot;,</span>
<a href="#l11.14"></a><span id="l11.14">                                       &quot;chrome,titlebar,modal,alwaysRaised&quot;);</span>
<a href="#l11.15"></a><span id="l11.15">                 }, 1000);</span>
<a href="#l11.16"></a><span id="l11.16">             }</span>
<a href="#l11.17"></a><span id="l11.17">         }</span>
<a href="#l11.18"></a><span id="l11.18">     }</span>
<a href="#l11.19"></a><span id="l11.19"> }</span>
<a href="#l11.20"></a><span id="l11.20"> </span>
<a href="#l11.21"></a><span id="l11.21"> // Add a Load handler to check for migratable calendars in the main window, or</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/resources/content/calendar.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/resources/content/calendar.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -225,17 +225,17 @@ function changeNumberOfWeeks(menuitem) {</span>
<a href="#l12.4"></a><span id="l12.4"> </span>
<a href="#l12.5"></a><span id="l12.5"> function pickAndGoToDate() {</span>
<a href="#l12.6"></a><span id="l12.6">   var initialDate = currentView().selectedDay.getInTimezone(floating()).jsDate;</span>
<a href="#l12.7"></a><span id="l12.7">   var callback = function receiveAndGoToDate(pickedDate) {</span>
<a href="#l12.8"></a><span id="l12.8">     currentView().goToDay(jsDateToDateTime(pickedDate));</span>
<a href="#l12.9"></a><span id="l12.9">     getMinimonth().value = pickedDate;</span>
<a href="#l12.10"></a><span id="l12.10">   };</span>
<a href="#l12.11"></a><span id="l12.11">   openDialog(&quot;chrome://sunbird/content/calendar-gotodate-dialog.xul&quot;,</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-             &quot;Calendar:GoToDateDialog&quot;,</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+             &quot;CalendarGoToDateDialog&quot;,</span>
<a href="#l12.14"></a><span id="l12.14">              &quot;chrome,modal&quot;,</span>
<a href="#l12.15"></a><span id="l12.15">              {callback: callback, date: initialDate});</span>
<a href="#l12.16"></a><span id="l12.16"> }</span>
<a href="#l12.17"></a><span id="l12.17"> </span>
<a href="#l12.18"></a><span id="l12.18"> function sbSwitchToView(newView) {</span>
<a href="#l12.19"></a><span id="l12.19">   var mwWeeksCommand = document.getElementById(&quot;menu-numberofweeks-inview&quot;);</span>
<a href="#l12.20"></a><span id="l12.20">   if (newView == &quot;multiweek&quot;) {</span>
<a href="#l12.21"></a><span id="l12.21">       mwWeeksCommand.removeAttribute(&quot;disabled&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/base/content/mailWidgets.xml</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/base/content/mailWidgets.xml</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -159,82 +159,62 @@</span>
<a href="#l13.4"></a><span id="l13.4">       &lt;/xul:hbox&gt;</span>
<a href="#l13.5"></a><span id="l13.5">     &lt;/content&gt;</span>
<a href="#l13.6"></a><span id="l13.6">   &lt;/binding&gt;</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8">   &lt;!-- Message Pane Widgets --&gt;</span>
<a href="#l13.9"></a><span id="l13.9"> </span>
<a href="#l13.10"></a><span id="l13.10">   &lt;!-- mail-toggle-headerfield: Non-email addrs headers which have a toggle</span>
<a href="#l13.11"></a><span id="l13.11">        associated with them (i.e. the subject).</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-       Use label to set the header name.</span>
<a href="#l13.13"></a><span id="l13.13">        Use headerValue to set the header value. --&gt;</span>
<a href="#l13.14"></a><span id="l13.14">   &lt;binding id=&quot;mail-toggle-headerfield&quot;&gt;</span>
<a href="#l13.15"></a><span id="l13.15">     &lt;content&gt;</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineminus">-      &lt;xul:hbox class=&quot;headerNameBox&quot; align=&quot;baseline&quot;&gt;</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineminus">-        &lt;xul:image class=&quot;expandHeaderViewButton&quot; xbl:inherits=&quot;onclick=ontwistyclick&quot;/&gt;</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineminus">-        &lt;xul:spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineminus">-        &lt;xul:label class=&quot;headerName&quot; xbl:inherits=&quot;value=label&quot; control=&quot;headerValue&quot;/&gt;</span>
<a href="#l13.20"></a><span id="l13.20" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l13.21"></a><span id="l13.21">       &lt;xul:textbox class=&quot;headerValue&quot; anonid=&quot;headerValue&quot; flex=&quot;1&quot; readonly=&quot;true&quot;/&gt;</span>
<a href="#l13.22"></a><span id="l13.22">     &lt;/content&gt;</span>
<a href="#l13.23"></a><span id="l13.23"> </span>
<a href="#l13.24"></a><span id="l13.24">     &lt;implementation&gt;</span>
<a href="#l13.25"></a><span id="l13.25">       &lt;property name=&quot;headerValue&quot; onset=&quot;return document.getAnonymousElementByAttribute(this, 'anonid', 'headerValue').value = val;&quot;/&gt;</span>
<a href="#l13.26"></a><span id="l13.26">     &lt;/implementation&gt;</span>
<a href="#l13.27"></a><span id="l13.27">   &lt;/binding&gt;</span>
<a href="#l13.28"></a><span id="l13.28"> </span>
<a href="#l13.29"></a><span id="l13.29">   &lt;!-- mail-headerfield: presents standard text header name &amp; value pairs. Don't use this for email addresses.</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineminus">-       use label to set the header name.</span>
<a href="#l13.31"></a><span id="l13.31">        use headerValue to set the header value. --&gt;</span>
<a href="#l13.32"></a><span id="l13.32">   &lt;binding id=&quot;mail-headerfield&quot;&gt;</span>
<a href="#l13.33"></a><span id="l13.33">     &lt;content&gt;</span>
<a href="#l13.34"></a><span id="l13.34" class="difflineminus">-      &lt;xul:hbox class=&quot;headerNameBox&quot; align=&quot;baseline&quot;&gt;</span>
<a href="#l13.35"></a><span id="l13.35" class="difflineminus">-        &lt;xul:label class=&quot;headerName&quot; xbl:inherits=&quot;value=label&quot; control=&quot;headerValue&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l13.36"></a><span id="l13.36" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l13.37"></a><span id="l13.37">       &lt;xul:textbox class=&quot;headerValue&quot; anonid=&quot;headerValue&quot; flex=&quot;1&quot; readonly=&quot;true&quot;/&gt;</span>
<a href="#l13.38"></a><span id="l13.38">     &lt;/content&gt;</span>
<a href="#l13.39"></a><span id="l13.39"> </span>
<a href="#l13.40"></a><span id="l13.40">     &lt;implementation&gt;</span>
<a href="#l13.41"></a><span id="l13.41">       &lt;property name=&quot;headerValue&quot; onset=&quot;return document.getAnonymousElementByAttribute(this, 'anonid', 'headerValue').value = val;&quot;/&gt;</span>
<a href="#l13.42"></a><span id="l13.42">     &lt;/implementation&gt;</span>
<a href="#l13.43"></a><span id="l13.43">   &lt;/binding&gt;</span>
<a href="#l13.44"></a><span id="l13.44"> </span>
<a href="#l13.45"></a><span id="l13.45">   &lt;binding id=&quot;mail-urlfield&quot; extends=&quot;chrome://messenger/content/mailWidgets.xml#mail-headerfield&quot;&gt;</span>
<a href="#l13.46"></a><span id="l13.46">     &lt;content&gt;</span>
<a href="#l13.47"></a><span id="l13.47" class="difflineminus">-      &lt;xul:hbox class=&quot;headerNameBox&quot; align=&quot;start&quot;&gt;</span>
<a href="#l13.48"></a><span id="l13.48" class="difflineminus">-        &lt;xul:label class=&quot;headerName&quot; xbl:inherits=&quot;value=label&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l13.50"></a><span id="l13.50">       &lt;xul:label onclick=&quot;if (event.button != 2) openUILink(event.target.value, event);&quot;</span>
<a href="#l13.51"></a><span id="l13.51">                  class=&quot;headerValue text-link headerValueUrl&quot;</span>
<a href="#l13.52"></a><span id="l13.52">                  anonid=&quot;headerValue&quot; flex=&quot;1&quot; readonly=&quot;true&quot; context=&quot;copyUrlPopup&quot;/&gt;</span>
<a href="#l13.53"></a><span id="l13.53">     &lt;/content&gt;</span>
<a href="#l13.54"></a><span id="l13.54">   &lt;/binding&gt;</span>
<a href="#l13.55"></a><span id="l13.55"> </span>
<a href="#l13.56"></a><span id="l13.56">   &lt;binding id=&quot;mail-emailheaderfield&quot;&gt;</span>
<a href="#l13.57"></a><span id="l13.57">     &lt;content&gt;</span>
<a href="#l13.58"></a><span id="l13.58" class="difflineminus">-      &lt;xul:hbox class=&quot;headerNameBox&quot; align=&quot;start&quot;&gt;</span>
<a href="#l13.59"></a><span id="l13.59" class="difflineminus">-        &lt;xul:label class=&quot;headerName&quot; xbl:inherits=&quot;value=label&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l13.61"></a><span id="l13.61">       &lt;xul:mail-emailaddress class=&quot;headerValue&quot; containsEmail=&quot;true&quot;</span>
<a href="#l13.62"></a><span id="l13.62">                              anonid=&quot;emailAddressNode&quot;/&gt;</span>
<a href="#l13.63"></a><span id="l13.63">     &lt;/content&gt;</span>
<a href="#l13.64"></a><span id="l13.64"> </span>
<a href="#l13.65"></a><span id="l13.65">     &lt;implementation&gt;</span>
<a href="#l13.66"></a><span id="l13.66">       &lt;property name=&quot;emailAddressNode&quot; onget=&quot;return document.getAnonymousElementByAttribute(this, 'anonid', 'emailAddressNode');&quot;</span>
<a href="#l13.67"></a><span id="l13.67">         readonly=&quot;true&quot;/&gt;</span>
<a href="#l13.68"></a><span id="l13.68">     &lt;/implementation&gt;</span>
<a href="#l13.69"></a><span id="l13.69">   &lt;/binding&gt;</span>
<a href="#l13.70"></a><span id="l13.70"> </span>
<a href="#l13.71"></a><span id="l13.71">   &lt;!-- multi-emailHeaderField: presents multiple emailheaderfields with a toggle --&gt;</span>
<a href="#l13.72"></a><span id="l13.72">   &lt;binding id=&quot;mail-multi-emailHeaderField&quot;&gt;</span>
<a href="#l13.73"></a><span id="l13.73">     &lt;content&gt;</span>
<a href="#l13.74"></a><span id="l13.74" class="difflineminus">-      &lt;xul:hbox class=&quot;headerNameBox&quot; align=&quot;baseline&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l13.75"></a><span id="l13.75" class="difflineminus">-        &lt;xul:label class=&quot;headerName&quot; xbl:inherits=&quot;value=label&quot;/&gt;</span>
<a href="#l13.76"></a><span id="l13.76" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l13.77"></a><span id="l13.77" class="difflineminus">-</span>
<a href="#l13.78"></a><span id="l13.78">       &lt;xul:hbox class=&quot;headerValueBox&quot; anonid=&quot;longEmailAddresses&quot; flex=&quot;1&quot;</span>
<a href="#l13.79"></a><span id="l13.79">                 singleline=&quot;true&quot;</span>
<a href="#l13.80"></a><span id="l13.80">                 align=&quot;baseline&quot;</span>
<a href="#l13.81"></a><span id="l13.81">                 onoverflow=&quot;this.parentNode.overflow(event)&quot;</span>
<a href="#l13.82"></a><span id="l13.82">                 onunderflow=&quot;this.parentNode.underflow(event)&quot;&gt;</span>
<a href="#l13.83"></a><span id="l13.83">         &lt;xul:description class=&quot;headerValue&quot; containsEmail=&quot;true&quot;</span>
<a href="#l13.84"></a><span id="l13.84">                          anonid=&quot;emailAddresses&quot; flex=&quot;1&quot;</span>
<a href="#l13.85"></a><span id="l13.85">                          orient=&quot;vertical&quot; pack=&quot;start&quot; /&gt;</span>
<a href="#l13.86"></a><span id="l13.86" class="difflineat">@@ -530,20 +510,19 @@</span>
<a href="#l13.87"></a><span id="l13.87">     &lt;/implementation&gt;</span>
<a href="#l13.88"></a><span id="l13.88">   &lt;/binding&gt;</span>
<a href="#l13.89"></a><span id="l13.89"> </span>
<a href="#l13.90"></a><span id="l13.90">   &lt;binding id=&quot;mail-messageids-headerfield&quot;&gt;</span>
<a href="#l13.91"></a><span id="l13.91">     &lt;content&gt;</span>
<a href="#l13.92"></a><span id="l13.92">       &lt;xul:hbox class=&quot;headerNameBox&quot; align=&quot;start&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l13.93"></a><span id="l13.93">         &lt;xul:image class=&quot;addresstwisty&quot; anonid=&quot;toggleIcon&quot;</span>
<a href="#l13.94"></a><span id="l13.94">                    onclick=&quot;toggleWrap();&quot;/&gt;</span>
<a href="#l13.95"></a><span id="l13.95" class="difflineminus">-        &lt;xul:label class=&quot;headerName&quot; xbl:inherits=&quot;value=label&quot;/&gt;</span>
<a href="#l13.96"></a><span id="l13.96">       &lt;/xul:hbox&gt;</span>
<a href="#l13.97"></a><span id="l13.97">       &lt;xul:hbox class=&quot;headerValueBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l13.98"></a><span id="l13.98" class="difflineminus">-      &lt;xul:label class=&quot;headerValue&quot; anonid=&quot;headerValue&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l13.99"></a><span id="l13.99" class="difflineplus">+        &lt;xul:label class=&quot;headerValue&quot; anonid=&quot;headerValue&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l13.100"></a><span id="l13.100">       &lt;/xul:hbox&gt;</span>
<a href="#l13.101"></a><span id="l13.101">     &lt;/content&gt;</span>
<a href="#l13.102"></a><span id="l13.102"> </span>
<a href="#l13.103"></a><span id="l13.103">     &lt;implementation&gt;</span>
<a href="#l13.104"></a><span id="l13.104">       &lt;constructor&gt;</span>
<a href="#l13.105"></a><span id="l13.105">         &lt;![CDATA[</span>
<a href="#l13.106"></a><span id="l13.106">           this.mMessageIds = [];</span>
<a href="#l13.107"></a><span id="l13.107">           this.showFullMessageIds = false;</span>
<a href="#l13.108"></a><span id="l13.108" class="difflineat">@@ -692,19 +671,16 @@</span>
<a href="#l13.109"></a><span id="l13.109">         ]]&gt;&lt;/body&gt;</span>
<a href="#l13.110"></a><span id="l13.110">       &lt;/method&gt;</span>
<a href="#l13.111"></a><span id="l13.111">     &lt;/implementation&gt;</span>
<a href="#l13.112"></a><span id="l13.112">   &lt;/binding&gt;</span>
<a href="#l13.113"></a><span id="l13.113"> </span>
<a href="#l13.114"></a><span id="l13.114">   &lt;!-- Header field for showing the tags associated with a message --&gt;</span>
<a href="#l13.115"></a><span id="l13.115">   &lt;binding id=&quot;mail-headerfield-tags&quot;&gt;</span>
<a href="#l13.116"></a><span id="l13.116">     &lt;content&gt;</span>
<a href="#l13.117"></a><span id="l13.117" class="difflineminus">-      &lt;xul:hbox class=&quot;headerNameBox&quot; align=&quot;start&quot;&gt;</span>
<a href="#l13.118"></a><span id="l13.118" class="difflineminus">-        &lt;xul:label class=&quot;headerName&quot; xbl:inherits=&quot;value=label&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l13.119"></a><span id="l13.119" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l13.120"></a><span id="l13.120">       &lt;xul:label class=&quot;headerValue&quot; anonid=&quot;headerValue&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l13.121"></a><span id="l13.121">     &lt;/content&gt;</span>
<a href="#l13.122"></a><span id="l13.122"> </span>
<a href="#l13.123"></a><span id="l13.123">     &lt;implementation&gt;</span>
<a href="#l13.124"></a><span id="l13.124">       &lt;property name=&quot;headerValue&quot; onset=&quot;return this.buildTags(val);&quot;/&gt;</span>
<a href="#l13.125"></a><span id="l13.125">       &lt;method name=&quot;buildTags&quot;&gt;</span>
<a href="#l13.126"></a><span id="l13.126">         &lt;parameter name=&quot;aTags&quot;/&gt;</span>
<a href="#l13.127"></a><span id="l13.127">         &lt;body&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mail/base/content/msgHdrViewOverlay.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mail/base/content/msgHdrViewOverlay.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -145,19 +145,20 @@ const nsIAbCard = Components.interfaces.</span>
<a href="#l14.4"></a><span id="l14.4"> // actually has knowledge about the DOM and the actual DOM elements associated with the header.</span>
<a href="#l14.5"></a><span id="l14.5"> // prefix --&gt; the name of the view (e.g. &quot;expanded&quot;)</span>
<a href="#l14.6"></a><span id="l14.6"> // headerListInfo --&gt; entry from a header list.</span>
<a href="#l14.7"></a><span id="l14.7"> function createHeaderEntry(prefix, headerListInfo)</span>
<a href="#l14.8"></a><span id="l14.8"> {</span>
<a href="#l14.9"></a><span id="l14.9">   var useShortView = false;</span>
<a href="#l14.10"></a><span id="l14.10">   var partialIDName = prefix + headerListInfo.name;</span>
<a href="#l14.11"></a><span id="l14.11">   this.enclosingBox = document.getElementById(partialIDName + 'Box');</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+  this.enclosingRow = document.getElementById(partialIDName + 'Row');</span>
<a href="#l14.13"></a><span id="l14.13">   this.textNode = document.getElementById(partialIDName + 'Value');</span>
<a href="#l14.14"></a><span id="l14.14">   this.isNewHeader = false;</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineminus">-  this.isValid = false;</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+  this.valid = false;</span>
<a href="#l14.17"></a><span id="l14.17"> </span>
<a href="#l14.18"></a><span id="l14.18">   if (&quot;useShortView&quot; in headerListInfo)</span>
<a href="#l14.19"></a><span id="l14.19">   {</span>
<a href="#l14.20"></a><span id="l14.20">     useShortView = headerListInfo.useShortView;</span>
<a href="#l14.21"></a><span id="l14.21">     if (useShortView)</span>
<a href="#l14.22"></a><span id="l14.22">       this.enclosingBox = this.textNode;</span>
<a href="#l14.23"></a><span id="l14.23">     else</span>
<a href="#l14.24"></a><span id="l14.24">       this.enclosingBox.emailAddressNode = this.textNode;</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineat">@@ -669,18 +670,18 @@ function OnTagsChange()</span>
<a href="#l14.26"></a><span id="l14.26">   {</span>
<a href="#l14.27"></a><span id="l14.27">     var headerEntry = gExpandedHeaderView.tags;</span>
<a href="#l14.28"></a><span id="l14.28">     if (headerEntry)</span>
<a href="#l14.29"></a><span id="l14.29">     {</span>
<a href="#l14.30"></a><span id="l14.30">       headerEntry.valid = (&quot;tags&quot; in currentHeaderData);</span>
<a href="#l14.31"></a><span id="l14.31">       if (headerEntry.valid)</span>
<a href="#l14.32"></a><span id="l14.32">         headerEntry.outputFunction(headerEntry, currentHeaderData.tags.headerValue);</span>
<a href="#l14.33"></a><span id="l14.33"> </span>
<a href="#l14.34"></a><span id="l14.34" class="difflineminus">-      // we may need to collapse or show the tag header box...</span>
<a href="#l14.35"></a><span id="l14.35" class="difflineminus">-      headerEntry.enclosingBox.collapsed = !headerEntry.valid;</span>
<a href="#l14.36"></a><span id="l14.36" class="difflineplus">+      // we may need to collapse or show the tag header row...</span>
<a href="#l14.37"></a><span id="l14.37" class="difflineplus">+      headerEntry.enclosingRow.collapsed = !headerEntry.valid;</span>
<a href="#l14.38"></a><span id="l14.38">     }</span>
<a href="#l14.39"></a><span id="l14.39">   }</span>
<a href="#l14.40"></a><span id="l14.40"> }</span>
<a href="#l14.41"></a><span id="l14.41"> </span>
<a href="#l14.42"></a><span id="l14.42"> // flush out any local state being held by a header entry for a given</span>
<a href="#l14.43"></a><span id="l14.43"> // table</span>
<a href="#l14.44"></a><span id="l14.44"> function ClearHeaderView(headerTable)</span>
<a href="#l14.45"></a><span id="l14.45"> {</span>
<a href="#l14.46"></a><span id="l14.46" class="difflineat">@@ -696,34 +697,34 @@ function ClearHeaderView(headerTable)</span>
<a href="#l14.47"></a><span id="l14.47">   }</span>
<a href="#l14.48"></a><span id="l14.48"> }</span>
<a href="#l14.49"></a><span id="l14.49"> </span>
<a href="#l14.50"></a><span id="l14.50"> // make sure that any valid header entry in the table is collapsed</span>
<a href="#l14.51"></a><span id="l14.51"> function hideHeaderView(headerTable)</span>
<a href="#l14.52"></a><span id="l14.52"> {</span>
<a href="#l14.53"></a><span id="l14.53">   for (index in headerTable)</span>
<a href="#l14.54"></a><span id="l14.54">   {</span>
<a href="#l14.55"></a><span id="l14.55" class="difflineminus">-    headerTable[index].enclosingBox.collapsed = true;</span>
<a href="#l14.56"></a><span id="l14.56" class="difflineplus">+    headerTable[index].enclosingRow.collapsed = true;</span>
<a href="#l14.57"></a><span id="l14.57">   }</span>
<a href="#l14.58"></a><span id="l14.58"> }</span>
<a href="#l14.59"></a><span id="l14.59"> </span>
<a href="#l14.60"></a><span id="l14.60"> // make sure that any valid header entry in the table specified is</span>
<a href="#l14.61"></a><span id="l14.61"> // visible</span>
<a href="#l14.62"></a><span id="l14.62"> function showHeaderView(headerTable)</span>
<a href="#l14.63"></a><span id="l14.63"> {</span>
<a href="#l14.64"></a><span id="l14.64">   var headerEntry;</span>
<a href="#l14.65"></a><span id="l14.65">   for (index in headerTable)</span>
<a href="#l14.66"></a><span id="l14.66">   {</span>
<a href="#l14.67"></a><span id="l14.67">     headerEntry = headerTable[index];</span>
<a href="#l14.68"></a><span id="l14.68">     if (headerEntry.valid)</span>
<a href="#l14.69"></a><span id="l14.69">     {</span>
<a href="#l14.70"></a><span id="l14.70" class="difflineminus">-      headerEntry.enclosingBox.collapsed = false;</span>
<a href="#l14.71"></a><span id="l14.71" class="difflineplus">+      headerEntry.enclosingRow.collapsed = false;</span>
<a href="#l14.72"></a><span id="l14.72">     }</span>
<a href="#l14.73"></a><span id="l14.73">     else // if the entry is invalid, always make sure it's collapsed</span>
<a href="#l14.74"></a><span id="l14.74" class="difflineminus">-      headerEntry.enclosingBox.collapsed = true;</span>
<a href="#l14.75"></a><span id="l14.75" class="difflineplus">+      headerEntry.enclosingRow.collapsed = true;</span>
<a href="#l14.76"></a><span id="l14.76">   }</span>
<a href="#l14.77"></a><span id="l14.77"> }</span>
<a href="#l14.78"></a><span id="l14.78"> </span>
<a href="#l14.79"></a><span id="l14.79"> // enumerate through the list of headers and find the number that are visible</span>
<a href="#l14.80"></a><span id="l14.80"> // add empty entries if we don't have the minimum number of rows</span>
<a href="#l14.81"></a><span id="l14.81"> function EnsureMinimumNumberOfHeaders (headerTable)</span>
<a href="#l14.82"></a><span id="l14.82"> {</span>
<a href="#l14.83"></a><span id="l14.83">   if (!gMinNumberOfHeaders) // 0 means we don't have a minimum..do nothing special</span>
<a href="#l14.84"></a><span id="l14.84" class="difflineat">@@ -772,62 +773,110 @@ function updateExpandedView()</span>
<a href="#l14.85"></a><span id="l14.85">   // if the expanded view isn't selected, don't bother updating it</span>
<a href="#l14.86"></a><span id="l14.86">   if (document.getElementById('msgHeaderViewDeck').selectedIndex != 0)</span>
<a href="#l14.87"></a><span id="l14.87">     return;</span>
<a href="#l14.88"></a><span id="l14.88"> </span>
<a href="#l14.89"></a><span id="l14.89">   if (gMinNumberOfHeaders)</span>
<a href="#l14.90"></a><span id="l14.90">       EnsureMinimumNumberOfHeaders(gExpandedHeaderView);</span>
<a href="#l14.91"></a><span id="l14.91">   showHeaderView(gExpandedHeaderView);</span>
<a href="#l14.92"></a><span id="l14.92"> </span>
<a href="#l14.93"></a><span id="l14.93" class="difflineplus">+  // Now that we have all the headers, ensure that the name columns of both</span>
<a href="#l14.94"></a><span id="l14.94" class="difflineplus">+  // grids are the same size so that they don't look weird.</span>
<a href="#l14.95"></a><span id="l14.95" class="difflineplus">+  syncGridColumnWidths();</span>
<a href="#l14.96"></a><span id="l14.96" class="difflineplus">+</span>
<a href="#l14.97"></a><span id="l14.97">   UpdateJunkButton();</span>
<a href="#l14.98"></a><span id="l14.98">   UpdateReplyButtons();</span>
<a href="#l14.99"></a><span id="l14.99">   displayAttachmentsForExpandedView();</span>
<a href="#l14.100"></a><span id="l14.100"> }</span>
<a href="#l14.101"></a><span id="l14.101"> </span>
<a href="#l14.102"></a><span id="l14.102" class="difflineplus">+/**</span>
<a href="#l14.103"></a><span id="l14.103" class="difflineplus">+ * Ensure that the name columns in both grids are the same size, since the only</span>
<a href="#l14.104"></a><span id="l14.104" class="difflineplus">+ * reason that we're using two grids at all is to workaround the XUL box</span>
<a href="#l14.105"></a><span id="l14.105" class="difflineplus">+ * model's inability to float elements.</span>
<a href="#l14.106"></a><span id="l14.106" class="difflineplus">+ */</span>
<a href="#l14.107"></a><span id="l14.107" class="difflineplus">+function syncGridColumnWidths() </span>
<a href="#l14.108"></a><span id="l14.108" class="difflineplus">+{</span>
<a href="#l14.109"></a><span id="l14.109" class="difflineplus">+  let nameColumn = document.getElementById('expandedHeadersNameColumn');</span>
<a href="#l14.110"></a><span id="l14.110" class="difflineplus">+  let nameColumn2 = document.getElementById('expandedHeaders2NameColumn');</span>
<a href="#l14.111"></a><span id="l14.111" class="difflineplus">+</span>
<a href="#l14.112"></a><span id="l14.112" class="difflineplus">+  // reset the minimum widths to 0 so that clientWidth will return the</span>
<a href="#l14.113"></a><span id="l14.113" class="difflineplus">+  // preferred intrinsic width of each column</span>
<a href="#l14.114"></a><span id="l14.114" class="difflineplus">+  nameColumn.minWidth = nameColumn2.minWidth = 0;</span>
<a href="#l14.115"></a><span id="l14.115" class="difflineplus">+</span>
<a href="#l14.116"></a><span id="l14.116" class="difflineplus">+  // set minWidth on the smaller of the two columns to be the width of the</span>
<a href="#l14.117"></a><span id="l14.117" class="difflineplus">+  // larger of the two</span>
<a href="#l14.118"></a><span id="l14.118" class="difflineplus">+  if (nameColumn.clientWidth &gt; nameColumn2.clientWidth) {</span>
<a href="#l14.119"></a><span id="l14.119" class="difflineplus">+    nameColumn2.minWidth = nameColumn.clientWidth;</span>
<a href="#l14.120"></a><span id="l14.120" class="difflineplus">+  } else if (nameColumn.clientWidth &lt; nameColumn2.clientWidth) {</span>
<a href="#l14.121"></a><span id="l14.121" class="difflineplus">+    nameColumn.minWidth = nameColumn2.clientWidth;</span>
<a href="#l14.122"></a><span id="l14.122" class="difflineplus">+  }</span>
<a href="#l14.123"></a><span id="l14.123" class="difflineplus">+}</span>
<a href="#l14.124"></a><span id="l14.124" class="difflineplus">+</span>
<a href="#l14.125"></a><span id="l14.125"> // default method for updating a header value into a header entry</span>
<a href="#l14.126"></a><span id="l14.126"> function updateHeaderValue(headerEntry, headerValue)</span>
<a href="#l14.127"></a><span id="l14.127"> {</span>
<a href="#l14.128"></a><span id="l14.128">   headerEntry.enclosingBox.headerValue = headerValue;</span>
<a href="#l14.129"></a><span id="l14.129"> }</span>
<a href="#l14.130"></a><span id="l14.130"> </span>
<a href="#l14.131"></a><span id="l14.131" class="difflineplus">+/**</span>
<a href="#l14.132"></a><span id="l14.132" class="difflineplus">+ * Create the DOM nodes (aka &quot;View&quot;) for a non-standard header and insert them</span>
<a href="#l14.133"></a><span id="l14.133" class="difflineplus">+ * into the grid.  Create and return the corresponding headerEntry object.</span>
<a href="#l14.134"></a><span id="l14.134" class="difflineplus">+ *</span>
<a href="#l14.135"></a><span id="l14.135" class="difflineplus">+ * @param {String} headerName  name of the header we're adding, all lower-case;</span>
<a href="#l14.136"></a><span id="l14.136" class="difflineplus">+ *                             used to construct element ids</span>
<a href="#l14.137"></a><span id="l14.137" class="difflineplus">+ * @param {String} label       name of the header as displayed in the UI</span>
<a href="#l14.138"></a><span id="l14.138" class="difflineplus">+ */</span>
<a href="#l14.139"></a><span id="l14.139"> function createNewHeaderView(headerName, label)</span>
<a href="#l14.140"></a><span id="l14.140"> {</span>
<a href="#l14.141"></a><span id="l14.141">   var idName = 'expanded' + headerName + 'Box';</span>
<a href="#l14.142"></a><span id="l14.142" class="difflineminus">-  var newHeader = document.createElement(&quot;mail-headerfield&quot;);</span>
<a href="#l14.143"></a><span id="l14.143" class="difflineplus">+    </span>
<a href="#l14.144"></a><span id="l14.144" class="difflineplus">+  // create new collapsed row</span>
<a href="#l14.145"></a><span id="l14.145" class="difflineplus">+  let newRowNode = document.createElement(&quot;row&quot;);</span>
<a href="#l14.146"></a><span id="l14.146" class="difflineplus">+  newRowNode.setAttribute(&quot;id&quot;, 'expanded' + headerName + 'Row');</span>
<a href="#l14.147"></a><span id="l14.147" class="difflineplus">+  newRowNode.collapsed = true;</span>
<a href="#l14.148"></a><span id="l14.148" class="difflineplus">+    </span>
<a href="#l14.149"></a><span id="l14.149" class="difflineplus">+  // create and append the label which contains the header name</span>
<a href="#l14.150"></a><span id="l14.150" class="difflineplus">+  let newLabelNode = document.createElement(&quot;label&quot;);</span>
<a href="#l14.151"></a><span id="l14.151" class="difflineplus">+  newLabelNode.setAttribute(&quot;id&quot;, 'expanded' + headerName + 'Label');</span>
<a href="#l14.152"></a><span id="l14.152" class="difflineplus">+  newLabelNode.setAttribute(&quot;value&quot;, label);</span>
<a href="#l14.153"></a><span id="l14.153" class="difflineplus">+  newLabelNode.setAttribute(&quot;class&quot;, &quot;headerName&quot;);</span>
<a href="#l14.154"></a><span id="l14.154" class="difflineplus">+  newLabelNode.setAttribute(&quot;control&quot;, idName);</span>
<a href="#l14.155"></a><span id="l14.155" class="difflineplus">+  newRowNode.appendChild(newLabelNode);</span>
<a href="#l14.156"></a><span id="l14.156"> </span>
<a href="#l14.157"></a><span id="l14.157" class="difflineminus">-  newHeader.setAttribute('id', idName);</span>
<a href="#l14.158"></a><span id="l14.158" class="difflineminus">-  newHeader.setAttribute('label', label);</span>
<a href="#l14.159"></a><span id="l14.159" class="difflineminus">-  newHeader.setAttribute('flex', '1');</span>
<a href="#l14.160"></a><span id="l14.160" class="difflineminus">-  newHeader.collapsed = true;</span>
<a href="#l14.161"></a><span id="l14.161" class="difflineplus">+  // create and append the new header value</span>
<a href="#l14.162"></a><span id="l14.162" class="difflineplus">+  var newHeaderNode = document.createElement(&quot;mail-headerfield&quot;);</span>
<a href="#l14.163"></a><span id="l14.163" class="difflineplus">+  newHeaderNode.setAttribute('id', idName);</span>
<a href="#l14.164"></a><span id="l14.164" class="difflineplus">+  newHeaderNode.setAttribute('flex', '1');</span>
<a href="#l14.165"></a><span id="l14.165" class="difflineplus">+  </span>
<a href="#l14.166"></a><span id="l14.166" class="difflineplus">+  newRowNode.appendChild(newHeaderNode);</span>
<a href="#l14.167"></a><span id="l14.167"> </span>
<a href="#l14.168"></a><span id="l14.168">   // this new element needs to be inserted into the view...</span>
<a href="#l14.169"></a><span id="l14.169" class="difflineminus">-  var topViewNode = document.getElementById('variousHeadersBox');</span>
<a href="#l14.170"></a><span id="l14.170" class="difflineminus">-</span>
<a href="#l14.171"></a><span id="l14.171" class="difflineminus">-  topViewNode.appendChild(newHeader);</span>
<a href="#l14.172"></a><span id="l14.172" class="difflineplus">+  let topViewNode = document.getElementById('expandedHeader2Rows');</span>
<a href="#l14.173"></a><span id="l14.173" class="difflineplus">+  topViewNode.appendChild(newRowNode);</span>
<a href="#l14.174"></a><span id="l14.174"> </span>
<a href="#l14.175"></a><span id="l14.175" class="difflineminus">-  this.enclosingBox = newHeader;</span>
<a href="#l14.176"></a><span id="l14.176" class="difflineplus">+  this.enclosingBox = newHeaderNode;</span>
<a href="#l14.177"></a><span id="l14.177" class="difflineplus">+  this.enclosingRow = newRowNode;</span>
<a href="#l14.178"></a><span id="l14.178">   this.isNewHeader = true;</span>
<a href="#l14.179"></a><span id="l14.179" class="difflineminus">-  this.isValid = false;</span>
<a href="#l14.180"></a><span id="l14.180" class="difflineplus">+  this.valid = false;</span>
<a href="#l14.181"></a><span id="l14.181">   this.useToggle = false;</span>
<a href="#l14.182"></a><span id="l14.182">   this.outputFunction = updateHeaderValue;</span>
<a href="#l14.183"></a><span id="l14.183"> }</span>
<a href="#l14.184"></a><span id="l14.184"> </span>
<a href="#l14.185"></a><span id="l14.185"> /**</span>
<a href="#l14.186"></a><span id="l14.186">  * Removes all non-predefined header nodes from the view.</span>
<a href="#l14.187"></a><span id="l14.187">  *</span>
<a href="#l14.188"></a><span id="l14.188">  * @param aHeaderTable Table of header entries.</span>
<a href="#l14.189"></a><span id="l14.189">  */</span>
<a href="#l14.190"></a><span id="l14.190"> function RemoveNewHeaderViews(aHeaderTable)</span>
<a href="#l14.191"></a><span id="l14.191"> {</span>
<a href="#l14.192"></a><span id="l14.192">   for (var index in aHeaderTable)</span>
<a href="#l14.193"></a><span id="l14.193">   {</span>
<a href="#l14.194"></a><span id="l14.194">     var headerEntry = aHeaderTable[index];</span>
<a href="#l14.195"></a><span id="l14.195">     if (headerEntry.isNewHeader)</span>
<a href="#l14.196"></a><span id="l14.196" class="difflineminus">-      headerEntry.enclosingBox.parentNode</span>
<a href="#l14.197"></a><span id="l14.197" class="difflineminus">-                 .removeChild(headerEntry.enclosingBox);</span>
<a href="#l14.198"></a><span id="l14.198" class="difflineplus">+      headerEntry.enclosingRow.parentNode.removeChild(headerEntry.enclosingRow);</span>
<a href="#l14.199"></a><span id="l14.199">   }</span>
<a href="#l14.200"></a><span id="l14.200"> }</span>
<a href="#l14.201"></a><span id="l14.201"> </span>
<a href="#l14.202"></a><span id="l14.202"> // UpdateExpandedMessageHeaders: Iterate through all the current header data</span>
<a href="#l14.203"></a><span id="l14.203"> // we received from mime for this message for the expanded header entry table,</span>
<a href="#l14.204"></a><span id="l14.204"> // and see if we have a corresponding entry for that header (i.e.</span>
<a href="#l14.205"></a><span id="l14.205"> // whether the expanded header view cares about this header value)</span>
<a href="#l14.206"></a><span id="l14.206"> // If so, then call updateHeaderEntry</span>
<a href="#l14.207"></a><span id="l14.207" class="difflineat">@@ -1180,17 +1229,16 @@ function findEmailNodeFromPopupNode(elt,</span>
<a href="#l14.208"></a><span id="l14.208"> function hideEmailAddressPopup(emailAddressNode)</span>
<a href="#l14.209"></a><span id="l14.209"> {</span>
<a href="#l14.210"></a><span id="l14.210">   // highlight the emailBox</span>
<a href="#l14.211"></a><span id="l14.211">   emailAddressNode.removeAttribute('selected');</span>
<a href="#l14.212"></a><span id="l14.212"> }</span>
<a href="#l14.213"></a><span id="l14.213"> </span>
<a href="#l14.214"></a><span id="l14.214"> function setupEmailAddressPopup(emailAddressNode)</span>
<a href="#l14.215"></a><span id="l14.215"> {</span>
<a href="#l14.216"></a><span id="l14.216" class="difflineminus">-    dump(&quot;emailAddressNode.tagName = &quot; + emailAddressNode.tagName + '\n');</span>
<a href="#l14.217"></a><span id="l14.217">   var emailAddressPlaceHolder = document.getElementById('emailAddressPlaceHolder');</span>
<a href="#l14.218"></a><span id="l14.218">   var emailAddress = emailAddressNode.getPart('emaillabel').value;</span>
<a href="#l14.219"></a><span id="l14.219">   emailAddressNode.setAttribute('selected', 'true');</span>
<a href="#l14.220"></a><span id="l14.220">   emailAddressPlaceHolder.setAttribute('label', emailAddress);</span>
<a href="#l14.221"></a><span id="l14.221"> </span>
<a href="#l14.222"></a><span id="l14.222">   if (emailAddressNode.cardDetails.card) {</span>
<a href="#l14.223"></a><span id="l14.223">     document.getElementById('addToAddressBookItem').setAttribute('hidden', true);</span>
<a href="#l14.224"></a><span id="l14.224">     if (!emailAddressNode.cardDetails.book.readOnly) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/base/content/msgHdrViewOverlay.xul</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/base/content/msgHdrViewOverlay.xul</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -96,129 +96,186 @@</span>
<a href="#l15.4"></a><span id="l15.4">   &lt;menuitem label=&quot;&amp;copyLinkCmd.label;&quot; accesskey=&quot;&amp;copyLinkCmd.accesskey;&quot; oncommand=&quot;CopyWebsiteAddress(document.popupNode)&quot;/&gt;</span>
<a href="#l15.5"></a><span id="l15.5"> &lt;/popup&gt;</span>
<a href="#l15.6"></a><span id="l15.6"> </span>
<a href="#l15.7"></a><span id="l15.7"> &lt;hbox id=&quot;msgHeaderView&quot; collapsed=&quot;true&quot; class=&quot;main-header-area&quot;&gt;</span>
<a href="#l15.8"></a><span id="l15.8">   &lt;deck id=&quot;msgHeaderViewDeck&quot; selectedIndex=&quot;0&quot; </span>
<a href="#l15.9"></a><span id="l15.9"> 	      persist=&quot;selectedIndex&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.10"></a><span id="l15.10">   </span>
<a href="#l15.11"></a><span id="l15.11">     &lt;!-- the message pane consists of 3 'boxes'. Box #2 is the expanded headers view (the default view) --&gt;</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-    &lt;hbox id=&quot;expandedHeaderView&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+    &lt;vbox id=&quot;expandedHeaderView&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+      &lt;hbox id=&quot;expandedHeadersTopBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.16"></a><span id="l15.16"> </span>
<a href="#l15.17"></a><span id="l15.17" class="difflineminus">-      &lt;!--  XXX this should switch to using &lt;grid&gt; for expandedHeaders to get</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-            away from gross historical CSS pseudo-boxery used for header</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineminus">-            name positioning --&gt;</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineminus">-      &lt;vbox id=&quot;expandedHeaders&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineplus">+        &lt;!-- Theoretically, we should be able to replace this grid with just</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineplus">+             an hbox.  Unfortunately, doing that makes it very hard to sync</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineplus">+             the column sizes between the name columns, because for currently</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineplus">+             unclear reasons, the .clientWidth of a column is wider than the</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineplus">+             .clientWidth of its largest contained child by an unspecified</span>
<a href="#l15.26"></a><span id="l15.26" class="difflineplus">+             amount. --&gt;</span>
<a href="#l15.27"></a><span id="l15.27" class="difflineplus">+        &lt;grid id=&quot;expandedHeaders&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.28"></a><span id="l15.28"> </span>
<a href="#l15.29"></a><span id="l15.29" class="difflineminus">-        &lt;hbox id=&quot;expandedHeadersTopBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineplus">+          &lt;columns id=&quot;expandedHeadersColumns&quot;&gt;</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineplus">+            &lt;column id=&quot;expandedHeadersNameColumn&quot;/&gt;</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineplus">+            &lt;column id=&quot;expandedHeadersValueColumn&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.33"></a><span id="l15.33" class="difflineplus">+          &lt;/columns&gt;</span>
<a href="#l15.34"></a><span id="l15.34"> </span>
<a href="#l15.35"></a><span id="l15.35" class="difflineminus">-          &lt;hbox flex=&quot;1&quot; align=&quot;center&quot;&gt;</span>
<a href="#l15.36"></a><span id="l15.36" class="difflineminus">-            &lt;mail-multi-emailHeaderField id=&quot;expandedfromBox&quot;</span>
<a href="#l15.37"></a><span id="l15.37" class="difflineminus">-                                         label=&quot;&amp;fromField2.label;&quot;</span>
<a href="#l15.38"></a><span id="l15.38" class="difflineminus">-                                         align=&quot;baseline&quot;</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineminus">-                                         collapsed=&quot;false&quot;</span>
<a href="#l15.40"></a><span id="l15.40" class="difflineminus">-                                         flex=&quot;1&quot;/&gt;</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineminus">-          &lt;/hbox&gt;</span>
<a href="#l15.42"></a><span id="l15.42" class="difflineminus">-          &lt;header-view-button-box id=&quot;expandedButtonBox&quot;/&gt;</span>
<a href="#l15.43"></a><span id="l15.43" class="difflineminus">-        &lt;/hbox&gt;</span>
<a href="#l15.44"></a><span id="l15.44" class="difflineplus">+          &lt;rows id=&quot;expandedHeaderRows&quot;&gt;</span>
<a href="#l15.45"></a><span id="l15.45" class="difflineplus">+            &lt;row id=&quot;expandedfromRow&quot;&gt;</span>
<a href="#l15.46"></a><span id="l15.46" class="difflineplus">+              &lt;label id=&quot;expandedfromLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.47"></a><span id="l15.47" class="difflineplus">+                     value=&quot;&amp;fromField2.label;&quot; control=&quot;expandedfromBox&quot;/&gt;</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineplus">+              &lt;mail-multi-emailHeaderField id=&quot;expandedfromBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.49"></a><span id="l15.49" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.50"></a><span id="l15.50" class="difflineplus">+          &lt;/rows&gt;</span>
<a href="#l15.51"></a><span id="l15.51" class="difflineplus">+        &lt;/grid&gt;</span>
<a href="#l15.52"></a><span id="l15.52" class="difflineplus">+        &lt;header-view-button-box id=&quot;expandedButtonBox&quot;/&gt;</span>
<a href="#l15.53"></a><span id="l15.53" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l15.54"></a><span id="l15.54" class="difflineplus">+</span>
<a href="#l15.55"></a><span id="l15.55" class="difflineplus">+      &lt;hbox id=&quot;expandedHeadersBottomBox&quot;&gt;</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineplus">+</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineplus">+        &lt;!-- The grid that contains all headers except the first one,</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineplus">+              including any headers created dynamically from JavaScript --&gt;</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineplus">+        &lt;grid id=&quot;expandedHeaders2&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineplus">+</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineplus">+          &lt;columns id=&quot;expandedHeaders2Columns&quot;&gt;</span>
<a href="#l15.62"></a><span id="l15.62" class="difflineplus">+            &lt;column id=&quot;expandedHeaders2NameColumn&quot;/&gt;</span>
<a href="#l15.63"></a><span id="l15.63" class="difflineplus">+            &lt;column id=&quot;expandedHeaders2ValueColumn&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.64"></a><span id="l15.64" class="difflineplus">+          &lt;/columns&gt;</span>
<a href="#l15.65"></a><span id="l15.65" class="difflineplus">+</span>
<a href="#l15.66"></a><span id="l15.66" class="difflineplus">+          &lt;rows id=&quot;expandedHeader2Rows&quot;&gt;</span>
<a href="#l15.67"></a><span id="l15.67"> </span>
<a href="#l15.68"></a><span id="l15.68" class="difflineminus">-        &lt;hbox id=&quot;otherHeadersAndButtonsBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.69"></a><span id="l15.69" class="difflineminus">-          &lt;vbox id=&quot;variousHeadersBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l15.70"></a><span id="l15.70" class="difflineminus">-            &lt;mail-headerfield id=&quot;expandedsubjectBox&quot; label=&quot;&amp;subjectField2.label;&quot;</span>
<a href="#l15.71"></a><span id="l15.71" class="difflineminus">-                              align=&quot;baseline&quot;</span>
<a href="#l15.72"></a><span id="l15.72" class="difflineminus">-                              collapsed=&quot;false&quot;/&gt;</span>
<a href="#l15.73"></a><span id="l15.73" class="difflineminus">-            &lt;mail-headerfield id=&quot;expandedorganizationBox&quot;</span>
<a href="#l15.74"></a><span id="l15.74" class="difflineminus">-                              label=&quot;&amp;organizationField2.label;&quot;</span>
<a href="#l15.75"></a><span id="l15.75" class="difflineminus">-                              align=&quot;baseline&quot;</span>
<a href="#l15.76"></a><span id="l15.76" class="difflineminus">-                              collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.77"></a><span id="l15.77" class="difflineminus">-            &lt;mail-emailheaderfield id=&quot;expandedsenderBox&quot;</span>
<a href="#l15.78"></a><span id="l15.78" class="difflineminus">-                                   align=&quot;baseline&quot;</span>
<a href="#l15.79"></a><span id="l15.79" class="difflineminus">-                                   label=&quot;&amp;senderField2.label;&quot;</span>
<a href="#l15.80"></a><span id="l15.80" class="difflineminus">-                                   collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.81"></a><span id="l15.81" class="difflineminus">-            &lt;mail-multi-emailHeaderField id=&quot;expandedreply-toBox&quot;</span>
<a href="#l15.82"></a><span id="l15.82" class="difflineminus">-                                         label=&quot;&amp;replyToField2.label;&quot;</span>
<a href="#l15.83"></a><span id="l15.83" class="difflineminus">-                                         align=&quot;baseline&quot;</span>
<a href="#l15.84"></a><span id="l15.84" class="difflineminus">-                                         collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.85"></a><span id="l15.85" class="difflineminus">-            &lt;mail-multi-emailHeaderField id=&quot;expandedtoBox&quot;</span>
<a href="#l15.86"></a><span id="l15.86" class="difflineminus">-                                         label=&quot;&amp;toField2.label;&quot;</span>
<a href="#l15.87"></a><span id="l15.87" class="difflineminus">-                                         align=&quot;baseline&quot;</span>
<a href="#l15.88"></a><span id="l15.88" class="difflineminus">-                                         collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.89"></a><span id="l15.89" class="difflineminus">-            &lt;mail-multi-emailHeaderField id=&quot;expandedccBox&quot;</span>
<a href="#l15.90"></a><span id="l15.90" class="difflineminus">-                                         label=&quot;&amp;ccField2.label;&quot;</span>
<a href="#l15.91"></a><span id="l15.91" class="difflineminus">-                                         align=&quot;baseline&quot;</span>
<a href="#l15.92"></a><span id="l15.92" class="difflineminus">-                                         collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.93"></a><span id="l15.93" class="difflineminus">-            &lt;mail-multi-emailHeaderField id=&quot;expandedbccBox&quot; </span>
<a href="#l15.94"></a><span id="l15.94" class="difflineminus">-                                         label=&quot;&amp;bccField2.label;&quot;</span>
<a href="#l15.95"></a><span id="l15.95" class="difflineminus">-                                         align=&quot;baseline&quot;</span>
<a href="#l15.96"></a><span id="l15.96" class="difflineminus">-                                         collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.97"></a><span id="l15.97" class="difflineminus">-            &lt;mail-headerfield id=&quot;expandednewsgroupsBox&quot;</span>
<a href="#l15.98"></a><span id="l15.98" class="difflineminus">-                              label=&quot;&amp;newsgroupsField2.label;&quot;</span>
<a href="#l15.99"></a><span id="l15.99" class="difflineminus">-                              align=&quot;baseline&quot;</span>
<a href="#l15.100"></a><span id="l15.100" class="difflineminus">-                              collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.101"></a><span id="l15.101" class="difflineminus">-            &lt;mail-headerfield id=&quot;expandedfollowup-toBox&quot;</span>
<a href="#l15.102"></a><span id="l15.102" class="difflineminus">-                              label=&quot;&amp;followupToField2.label;&quot;</span>
<a href="#l15.103"></a><span id="l15.103" class="difflineminus">-                              align=&quot;baseline&quot;</span>
<a href="#l15.104"></a><span id="l15.104" class="difflineminus">-                              collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.105"></a><span id="l15.105" class="difflineminus">-            &lt;mail-headerfield id=&quot;expandeddateBox&quot; label=&quot;&amp;dateField2.label;&quot;</span>
<a href="#l15.106"></a><span id="l15.106" class="difflineminus">-                              align=&quot;baseline&quot;</span>
<a href="#l15.107"></a><span id="l15.107" class="difflineminus">-                              collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.108"></a><span id="l15.108" class="difflineminus">-            &lt;mail-messageids-headerfield id=&quot;expandedmessage-idBox&quot;</span>
<a href="#l15.109"></a><span id="l15.109" class="difflineminus">-                              align=&quot;baseline&quot;</span>
<a href="#l15.110"></a><span id="l15.110" class="difflineminus">-                                         label=&quot;&amp;messageIdField2.label;&quot;</span>
<a href="#l15.111"></a><span id="l15.111" class="difflineminus">-                                         collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.112"></a><span id="l15.112" class="difflineminus">-            &lt;mail-messageids-headerfield id=&quot;expandedin-reply-toBox&quot;</span>
<a href="#l15.113"></a><span id="l15.113" class="difflineminus">-                              align=&quot;baseline&quot;</span>
<a href="#l15.114"></a><span id="l15.114" class="difflineminus">-                                         label=&quot;&amp;inReplyToField2.label;&quot;</span>
<a href="#l15.115"></a><span id="l15.115" class="difflineminus">-                                         collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.116"></a><span id="l15.116" class="difflineminus">-            &lt;mail-messageids-headerfield id=&quot;expandedreferencesBox&quot;</span>
<a href="#l15.117"></a><span id="l15.117" class="difflineminus">-                              align=&quot;baseline&quot;</span>
<a href="#l15.118"></a><span id="l15.118" class="difflineminus">-                                         label=&quot;&amp;referencesField2.label;&quot;</span>
<a href="#l15.119"></a><span id="l15.119" class="difflineminus">-                                         collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.120"></a><span id="l15.120" class="difflineminus">-            &lt;mail-tagfield id=&quot;expandedtagsBox&quot; label=&quot;&amp;tagsHdr2.label;&quot;</span>
<a href="#l15.121"></a><span id="l15.121" class="difflineminus">-                           collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.122"></a><span id="l15.122" class="difflineminus">-            &lt;mail-urlfield id=&quot;expandedcontent-baseBox&quot;</span>
<a href="#l15.123"></a><span id="l15.123" class="difflineminus">-                           label=&quot;&amp;originalWebsite2.label;&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.124"></a><span id="l15.124" class="difflineminus">-            &lt;mail-headerfield id=&quot;expandeduser-agentBox&quot;</span>
<a href="#l15.125"></a><span id="l15.125" class="difflineminus">-                              label=&quot;&amp;userAgentField2.label;&quot;</span>
<a href="#l15.126"></a><span id="l15.126" class="difflineminus">-                              collapsed=&quot;true&quot;/&gt;</span>
<a href="#l15.127"></a><span id="l15.127" class="difflineminus">-          &lt;/vbox&gt;</span>
<a href="#l15.128"></a><span id="l15.128" class="difflineplus">+            &lt;!-- Commonly used rows are pre-specified in the XUL to avoid the</span>
<a href="#l15.129"></a><span id="l15.129" class="difflineplus">+                 performance hit of creating them dynamically. --&gt;</span>
<a href="#l15.130"></a><span id="l15.130" class="difflineplus">+            &lt;row id=&quot;expandedsubjectRow&quot;&gt;</span>
<a href="#l15.131"></a><span id="l15.131" class="difflineplus">+              &lt;label id=&quot;expandedsubjectLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.132"></a><span id="l15.132" class="difflineplus">+                     value=&quot;&amp;subjectField2.label;&quot;</span>
<a href="#l15.133"></a><span id="l15.133" class="difflineplus">+                     control=&quot;expandedsubjectBox&quot;/&gt;</span>
<a href="#l15.134"></a><span id="l15.134" class="difflineplus">+              &lt;mail-headerfield id=&quot;expandedsubjectBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.135"></a><span id="l15.135" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.136"></a><span id="l15.136" class="difflineplus">+            &lt;row id=&quot;expandedorganizationRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.137"></a><span id="l15.137" class="difflineplus">+              &lt;label id=&quot;expandedorganizationLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.138"></a><span id="l15.138" class="difflineplus">+                     value=&quot;&amp;organizationField2.label;&quot;</span>
<a href="#l15.139"></a><span id="l15.139" class="difflineplus">+                     control=&quot;expandedorganizationBox&quot;/&gt;</span>
<a href="#l15.140"></a><span id="l15.140" class="difflineplus">+              &lt;mail-headerfield id=&quot;expandedorganizationBox&quot;</span>
<a href="#l15.141"></a><span id="l15.141" class="difflineplus">+                                label=&quot;&amp;organizationField2.label;&quot;/&gt;</span>
<a href="#l15.142"></a><span id="l15.142" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.143"></a><span id="l15.143" class="difflineplus">+            &lt;row id=&quot;expandedsenderRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.144"></a><span id="l15.144" class="difflineplus">+              &lt;label id=&quot;expandedsenderLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.145"></a><span id="l15.145" class="difflineplus">+                     value=&quot;&amp;senderField2.label;&quot; control=&quot;expandedsenderBox&quot;/&gt;</span>
<a href="#l15.146"></a><span id="l15.146" class="difflineplus">+              &lt;mail-emailheaderfield id=&quot;expandedsenderBox&quot;/&gt;</span>
<a href="#l15.147"></a><span id="l15.147" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.148"></a><span id="l15.148" class="difflineplus">+            &lt;row id=&quot;expandedreply-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.149"></a><span id="l15.149" class="difflineplus">+              &lt;label id=&quot;expandedreply-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.150"></a><span id="l15.150" class="difflineplus">+                     value=&quot;&amp;replyToField2.label;&quot;</span>
<a href="#l15.151"></a><span id="l15.151" class="difflineplus">+                     control=&quot;expandedreply-toBox&quot;/&gt;</span>
<a href="#l15.152"></a><span id="l15.152" class="difflineplus">+              &lt;mail-multi-emailHeaderField id=&quot;expandedreply-toBox&quot;/&gt;</span>
<a href="#l15.153"></a><span id="l15.153" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.154"></a><span id="l15.154" class="difflineplus">+            &lt;row id=&quot;expandedtoRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.155"></a><span id="l15.155" class="difflineplus">+              &lt;label id=&quot;expandedtoLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.156"></a><span id="l15.156" class="difflineplus">+                     value=&quot;&amp;toField2.label;&quot; control=&quot;expandedtoBox&quot;/&gt;</span>
<a href="#l15.157"></a><span id="l15.157" class="difflineplus">+              &lt;mail-multi-emailHeaderField id=&quot;expandedtoBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.158"></a><span id="l15.158" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.159"></a><span id="l15.159" class="difflineplus">+            &lt;row id=&quot;expandedccRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.160"></a><span id="l15.160" class="difflineplus">+              &lt;label id=&quot;expandedccLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.161"></a><span id="l15.161" class="difflineplus">+                     value=&quot;&amp;ccField2.label;&quot; control=&quot;expandedccBox&quot;/&gt;</span>
<a href="#l15.162"></a><span id="l15.162" class="difflineplus">+              &lt;mail-multi-emailHeaderField id=&quot;expandedccBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.163"></a><span id="l15.163" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.164"></a><span id="l15.164" class="difflineplus">+            &lt;row id=&quot;expandedbccRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.165"></a><span id="l15.165" class="difflineplus">+              &lt;label id=&quot;expandedbccLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.166"></a><span id="l15.166" class="difflineplus">+                     value=&quot;&amp;bccField2.label;&quot; control=&quot;expandedbccBox&quot;/&gt;</span>
<a href="#l15.167"></a><span id="l15.167" class="difflineplus">+              &lt;mail-multi-emailHeaderField id=&quot;expandedbccBox&quot;/&gt;</span>
<a href="#l15.168"></a><span id="l15.168" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.169"></a><span id="l15.169" class="difflineplus">+            &lt;row id=&quot;expandednewsgroupsRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.170"></a><span id="l15.170" class="difflineplus">+              &lt;label id=&quot;expandednewsgroupsLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.171"></a><span id="l15.171" class="difflineplus">+                     value=&quot;&amp;newsgroupsField2.label;&quot;</span>
<a href="#l15.172"></a><span id="l15.172" class="difflineplus">+                     control=&quot;expandednewsgroupsBox&quot;/&gt;</span>
<a href="#l15.173"></a><span id="l15.173" class="difflineplus">+              &lt;mail-headerfield id=&quot;expandednewsgroupsBox&quot;/&gt;</span>
<a href="#l15.174"></a><span id="l15.174" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.175"></a><span id="l15.175" class="difflineplus">+            &lt;row id=&quot;expandedfollowup-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.176"></a><span id="l15.176" class="difflineplus">+              &lt;label id=&quot;expandedfollowup-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.177"></a><span id="l15.177" class="difflineplus">+                     value=&quot;&amp;followupToField2.label;&quot;</span>
<a href="#l15.178"></a><span id="l15.178" class="difflineplus">+                     control=&quot;expandedfollowup-toBox&quot;/&gt;</span>
<a href="#l15.179"></a><span id="l15.179" class="difflineplus">+              &lt;mail-headerfield id=&quot;expandedfollowup-toBox&quot;/&gt;</span>
<a href="#l15.180"></a><span id="l15.180" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.181"></a><span id="l15.181" class="difflineplus">+            &lt;row id=&quot;expandeddateRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.182"></a><span id="l15.182" class="difflineplus">+              &lt;label id=&quot;expandeddateLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.183"></a><span id="l15.183" class="difflineplus">+                     value=&quot;&amp;dateField2.label;&quot; control=&quot;expandeddateBox&quot;/&gt;</span>
<a href="#l15.184"></a><span id="l15.184" class="difflineplus">+              &lt;mail-headerfield id=&quot;expandeddateBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.185"></a><span id="l15.185" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.186"></a><span id="l15.186" class="difflineplus">+            &lt;row id=&quot;expandedmessage-idRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.187"></a><span id="l15.187" class="difflineplus">+              &lt;label id=&quot;expandedmessage-idLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.188"></a><span id="l15.188" class="difflineplus">+                     value=&quot;&amp;messageIdField2.label;&quot;</span>
<a href="#l15.189"></a><span id="l15.189" class="difflineplus">+                     control=&quot;expandedmessage-idBox&quot;/&gt;</span>
<a href="#l15.190"></a><span id="l15.190" class="difflineplus">+              &lt;mail-messageids-headerfield id=&quot;expandedmessage-idBox&quot;/&gt;</span>
<a href="#l15.191"></a><span id="l15.191" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.192"></a><span id="l15.192" class="difflineplus">+            &lt;row id=&quot;expandedin-reply-toRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.193"></a><span id="l15.193" class="difflineplus">+              &lt;label id=&quot;expandedin-reply-toLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.194"></a><span id="l15.194" class="difflineplus">+                     value=&quot;&amp;inReplyToField2.label;&quot;</span>
<a href="#l15.195"></a><span id="l15.195" class="difflineplus">+                     control=&quot;expandedin-reply-toBox&quot;/&gt;</span>
<a href="#l15.196"></a><span id="l15.196" class="difflineplus">+              &lt;mail-messageids-headerfield id=&quot;expandedin-reply-toBox&quot;/&gt;</span>
<a href="#l15.197"></a><span id="l15.197" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.198"></a><span id="l15.198" class="difflineplus">+            &lt;row id=&quot;expandedreferencesRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.199"></a><span id="l15.199" class="difflineplus">+              &lt;label id=&quot;expandedreferencesLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.200"></a><span id="l15.200" class="difflineplus">+                     value=&quot;&amp;referencesField2.label;&quot;</span>
<a href="#l15.201"></a><span id="l15.201" class="difflineplus">+                     control=&quot;expandedReferencesBox&quot;/&gt;</span>
<a href="#l15.202"></a><span id="l15.202" class="difflineplus">+              &lt;mail-messageids-headerfield id=&quot;expandedreferencesBox&quot;</span>
<a href="#l15.203"></a><span id="l15.203" class="difflineplus">+                                           flex=&quot;1&quot;/&gt;</span>
<a href="#l15.204"></a><span id="l15.204" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.205"></a><span id="l15.205" class="difflineplus">+            &lt;row id=&quot;expandedtagsRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.206"></a><span id="l15.206" class="difflineplus">+              &lt;label id=&quot;expandedtagsLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.207"></a><span id="l15.207" class="difflineplus">+                     value=&quot;&amp;tagsHdr2.label;&quot; control=&quot;expandedtagsBox&quot;/&gt;</span>
<a href="#l15.208"></a><span id="l15.208" class="difflineplus">+              &lt;mail-tagfield id=&quot;expandedtagsBox&quot;/&gt;</span>
<a href="#l15.209"></a><span id="l15.209" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.210"></a><span id="l15.210" class="difflineplus">+            &lt;row id=&quot;expandedcontent-baseRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.211"></a><span id="l15.211" class="difflineplus">+              &lt;label id=&quot;expandedcontent-baseLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.212"></a><span id="l15.212" class="difflineplus">+                     value=&quot;&amp;originalWebsite2.label;&quot;</span>
<a href="#l15.213"></a><span id="l15.213" class="difflineplus">+                     control=&quot;expandedcontent-baseBox&quot;/&gt;</span>
<a href="#l15.214"></a><span id="l15.214" class="difflineplus">+              &lt;mail-urlfield id=&quot;expandedcontent-baseBox&quot;/&gt;</span>
<a href="#l15.215"></a><span id="l15.215" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.216"></a><span id="l15.216" class="difflineplus">+            &lt;row id=&quot;expandeduser-agentRow&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l15.217"></a><span id="l15.217" class="difflineplus">+              &lt;label id=&quot;expandeduser-agentLabel&quot; class=&quot;headerName&quot;</span>
<a href="#l15.218"></a><span id="l15.218" class="difflineplus">+                     value=&quot;&amp;userAgentField2.label;&quot;</span>
<a href="#l15.219"></a><span id="l15.219" class="difflineplus">+                     control=&quot;expandeduser-agentBox&quot;/&gt;</span>
<a href="#l15.220"></a><span id="l15.220" class="difflineplus">+              &lt;mail-headerfield id=&quot;expandeduser-agentBox&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.221"></a><span id="l15.221" class="difflineplus">+            &lt;/row&gt;</span>
<a href="#l15.222"></a><span id="l15.222" class="difflineplus">+          &lt;/rows&gt;</span>
<a href="#l15.223"></a><span id="l15.223" class="difflineplus">+        &lt;/grid&gt;</span>
<a href="#l15.224"></a><span id="l15.224"> </span>
<a href="#l15.225"></a><span id="l15.225" class="difflineminus">-          &lt;!-- perhaps this should be a customizable toolbar too --&gt;</span>
<a href="#l15.226"></a><span id="l15.226" class="difflineminus">-          &lt;vbox id=&quot;otherActionsBox&quot; align=&quot;end&quot;&gt;</span>
<a href="#l15.227"></a><span id="l15.227" class="difflineminus">-            &lt;spacer id=&quot;otherActionsTopSpacer&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.228"></a><span id="l15.228" class="difflineminus">-            &lt;button type=&quot;menu&quot; id=&quot;otherActionsButton&quot;</span>
<a href="#l15.229"></a><span id="l15.229" class="difflineminus">-                    label=&quot;&amp;otherActionsButton.label;&quot;</span>
<a href="#l15.230"></a><span id="l15.230" class="difflineminus">-                    class=&quot;msgHeaderView-button msgHeaderView-flat-button&quot;&gt;</span>
<a href="#l15.231"></a><span id="l15.231" class="difflineminus">-              &lt;menupopup id=&quot;otherActionsPopup&quot;&gt;</span>
<a href="#l15.232"></a><span id="l15.232" class="difflineminus">-                &lt;menuitem id=&quot;otherActionsOpenInNewWindow&quot;</span>
<a href="#l15.233"></a><span id="l15.233" class="difflineminus">-                          label=&quot;&amp;otherActionsOpenInNewWindow.label;&quot;</span>
<a href="#l15.234"></a><span id="l15.234" class="difflineminus">-                          accesskey=&quot;&amp;otherActionsOpenInNewWindow.accesskey;&quot;</span>
<a href="#l15.235"></a><span id="l15.235" class="difflineminus">-                          oncommand=&quot;MsgOpenNewWindowForMessage();&quot;/&gt;</span>
<a href="#l15.236"></a><span id="l15.236" class="difflineminus">-                &lt;menuitem id=&quot;otherActionsOpenInNewTab&quot;</span>
<a href="#l15.237"></a><span id="l15.237" class="difflineminus">-                          label=&quot;&amp;otherActionsOpenInNewTab.label;&quot;</span>
<a href="#l15.238"></a><span id="l15.238" class="difflineminus">-                          accesskey=&quot;&amp;otherActionsOpenInNewTab.accesskey;&quot;</span>
<a href="#l15.239"></a><span id="l15.239" class="difflineminus">-                          oncommand=&quot;OpenMessageInNewTab(event);&quot;/&gt;</span>
<a href="#l15.240"></a><span id="l15.240" class="difflineminus">-                &lt;menuitem id=&quot;viewSourceMenuItem&quot;</span>
<a href="#l15.241"></a><span id="l15.241" class="difflineminus">-                          label=&quot;&amp;viewSourceMenuItem.label;&quot;</span>
<a href="#l15.242"></a><span id="l15.242" class="difflineminus">-                          accesskey=&quot;&amp;viewSourceMenuItem.accesskey;&quot;</span>
<a href="#l15.243"></a><span id="l15.243" class="difflineminus">-                          oncommand=&quot;ViewPageSource(gFolderDisplay.selectedMessageUris);&quot; /&gt;</span>
<a href="#l15.244"></a><span id="l15.244" class="difflineminus">-                &lt;menuseparator id=&quot;otherActionsSeparator&quot;/&gt;</span>
<a href="#l15.245"></a><span id="l15.245" class="difflineminus">-                &lt;menuitem id=&quot;saveAsMenuItem&quot; label=&quot;&amp;saveAsMenuItem.label;&quot;</span>
<a href="#l15.246"></a><span id="l15.246" class="difflineminus">-                          accesskey=&quot;&amp;saveAsMenuItem.accesskey;&quot;</span>
<a href="#l15.247"></a><span id="l15.247" class="difflineminus">-                          oncommand=&quot;MsgSaveAsFile();&quot;/&gt;</span>
<a href="#l15.248"></a><span id="l15.248" class="difflineminus">-                &lt;menuitem id=&quot;otherActionsPrint&quot;</span>
<a href="#l15.249"></a><span id="l15.249" class="difflineminus">-                          label=&quot;&amp;otherActionsPrint.label;&quot;</span>
<a href="#l15.250"></a><span id="l15.250" class="difflineminus">-                          accesskey=&quot;&amp;otherActionsPrint.accesskey;&quot;</span>
<a href="#l15.251"></a><span id="l15.251" class="difflineminus">-                          oncommand=&quot;PrintEnginePrint();&quot;/&gt;</span>
<a href="#l15.252"></a><span id="l15.252" class="difflineminus">-              &lt;/menupopup&gt;</span>
<a href="#l15.253"></a><span id="l15.253" class="difflineminus">-            &lt;/button&gt;</span>
<a href="#l15.254"></a><span id="l15.254" class="difflineminus">-          &lt;/vbox&gt;</span>
<a href="#l15.255"></a><span id="l15.255" class="difflineminus">-        &lt;/hbox&gt;</span>
<a href="#l15.256"></a><span id="l15.256" class="difflineminus">-      &lt;/vbox&gt;</span>
<a href="#l15.257"></a><span id="l15.257" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l15.258"></a><span id="l15.258" class="difflineplus">+        &lt;!-- perhaps this should be a customizable toolbar too --&gt;</span>
<a href="#l15.259"></a><span id="l15.259" class="difflineplus">+        &lt;vbox id=&quot;otherActionsBox&quot; align=&quot;end&quot;&gt;</span>
<a href="#l15.260"></a><span id="l15.260" class="difflineplus">+          &lt;spacer id=&quot;otherActionsTopSpacer&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l15.261"></a><span id="l15.261" class="difflineplus">+          &lt;button type=&quot;menu&quot; id=&quot;otherActionsButton&quot;</span>
<a href="#l15.262"></a><span id="l15.262" class="difflineplus">+                  label=&quot;&amp;otherActionsButton.label;&quot;</span>
<a href="#l15.263"></a><span id="l15.263" class="difflineplus">+                  class=&quot;msgHeaderView-button msgHeaderView-flat-button&quot;&gt;</span>
<a href="#l15.264"></a><span id="l15.264" class="difflineplus">+            &lt;menupopup id=&quot;otherActionsPopup&quot;&gt;</span>
<a href="#l15.265"></a><span id="l15.265" class="difflineplus">+              &lt;menuitem id=&quot;otherActionsOpenInNewWindow&quot;</span>
<a href="#l15.266"></a><span id="l15.266" class="difflineplus">+                        label=&quot;&amp;otherActionsOpenInNewWindow.label;&quot;</span>
<a href="#l15.267"></a><span id="l15.267" class="difflineplus">+                        accesskey=&quot;&amp;otherActionsOpenInNewWindow.accesskey;&quot;</span>
<a href="#l15.268"></a><span id="l15.268" class="difflineplus">+                        oncommand=&quot;MsgOpenNewWindowForMessage();&quot;/&gt;</span>
<a href="#l15.269"></a><span id="l15.269" class="difflineplus">+              &lt;menuitem id=&quot;otherActionsOpenInNewTab&quot;</span>
<a href="#l15.270"></a><span id="l15.270" class="difflineplus">+                        label=&quot;&amp;otherActionsOpenInNewTab.label;&quot;</span>
<a href="#l15.271"></a><span id="l15.271" class="difflineplus">+                        accesskey=&quot;&amp;otherActionsOpenInNewTab.accesskey;&quot;</span>
<a href="#l15.272"></a><span id="l15.272" class="difflineplus">+                        oncommand=&quot;OpenMessageInNewTab(event);&quot;/&gt;</span>
<a href="#l15.273"></a><span id="l15.273" class="difflineplus">+              &lt;menuitem id=&quot;viewSourceMenuItem&quot;</span>
<a href="#l15.274"></a><span id="l15.274" class="difflineplus">+                        label=&quot;&amp;viewSourceMenuItem.label;&quot;</span>
<a href="#l15.275"></a><span id="l15.275" class="difflineplus">+                        accesskey=&quot;&amp;viewSourceMenuItem.accesskey;&quot;</span>
<a href="#l15.276"></a><span id="l15.276" class="difflineplus">+                        oncommand=&quot;ViewPageSource(gFolderDisplay.selectedMessageUris);&quot; /&gt;</span>
<a href="#l15.277"></a><span id="l15.277" class="difflineplus">+              &lt;menuseparator id=&quot;otherActionsSeparator&quot;/&gt;</span>
<a href="#l15.278"></a><span id="l15.278" class="difflineplus">+              &lt;menuitem id=&quot;saveAsMenuItem&quot; label=&quot;&amp;saveAsMenuItem.label;&quot;</span>
<a href="#l15.279"></a><span id="l15.279" class="difflineplus">+                        accesskey=&quot;&amp;saveAsMenuItem.accesskey;&quot;</span>
<a href="#l15.280"></a><span id="l15.280" class="difflineplus">+                        oncommand=&quot;MsgSaveAsFile();&quot;/&gt;</span>
<a href="#l15.281"></a><span id="l15.281" class="difflineplus">+              &lt;menuitem id=&quot;otherActionsPrint&quot;</span>
<a href="#l15.282"></a><span id="l15.282" class="difflineplus">+                        label=&quot;&amp;otherActionsPrint.label;&quot;</span>
<a href="#l15.283"></a><span id="l15.283" class="difflineplus">+                        accesskey=&quot;&amp;otherActionsPrint.accesskey;&quot;</span>
<a href="#l15.284"></a><span id="l15.284" class="difflineplus">+                        oncommand=&quot;PrintEnginePrint();&quot;/&gt;</span>
<a href="#l15.285"></a><span id="l15.285" class="difflineplus">+            &lt;/menupopup&gt;</span>
<a href="#l15.286"></a><span id="l15.286" class="difflineplus">+          &lt;/button&gt;</span>
<a href="#l15.287"></a><span id="l15.287" class="difflineplus">+        &lt;/vbox&gt;</span>
<a href="#l15.288"></a><span id="l15.288" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l15.289"></a><span id="l15.289" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l15.290"></a><span id="l15.290">   &lt;/deck&gt;</span>
<a href="#l15.291"></a><span id="l15.291"> &lt;/hbox&gt;</span>
<a href="#l15.292"></a><span id="l15.292"> </span>
<a href="#l15.293"></a><span id="l15.293"> &lt;hbox id=&quot;editMessageBox&quot; pack=&quot;start&quot; align=&quot;center&quot; collapsed=&quot;true&quot;</span>
<a href="#l15.294"></a><span id="l15.294">       class=&quot;main-header-area&quot;&gt;</span>
<a href="#l15.295"></a><span id="l15.295">   &lt;label id=&quot;editMessageDescription&quot; control=&quot;editMessageButton&quot;</span>
<a href="#l15.296"></a><span id="l15.296">          value=&quot;&amp;editMessageDescription.label;&quot;/&gt;</span>
<a href="#l15.297"></a><span id="l15.297">   &lt;button id=&quot;editMessageButton&quot; label=&quot;&amp;editMessageButton.label;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/base/content/msgMail3PaneWindow.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -228,16 +228,21 @@ const MailPrefObserver = {</span>
<a href="#l16.4"></a><span id="l16.4">     if (topic == &quot;nsPref:changed&quot;)</span>
<a href="#l16.5"></a><span id="l16.5">     {</span>
<a href="#l16.6"></a><span id="l16.6">       if (prefName == &quot;mail.pane_config.dynamic&quot;)</span>
<a href="#l16.7"></a><span id="l16.7">         UpdateMailPaneConfig(true);</span>
<a href="#l16.8"></a><span id="l16.8">     }</span>
<a href="#l16.9"></a><span id="l16.9">   }</span>
<a href="#l16.10"></a><span id="l16.10"> };</span>
<a href="#l16.11"></a><span id="l16.11"> </span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+function AutoConfigWizard(okCallback)</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+{</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+  NewMailAccount(msgWindow, okCallback);</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+}</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+</span>
<a href="#l16.17"></a><span id="l16.17"> /**</span>
<a href="#l16.18"></a><span id="l16.18">  * Called on startup to initialize various parts of the main window</span>
<a href="#l16.19"></a><span id="l16.19">  */</span>
<a href="#l16.20"></a><span id="l16.20"> function OnLoadMessenger()</span>
<a href="#l16.21"></a><span id="l16.21"> {</span>
<a href="#l16.22"></a><span id="l16.22">   // update the pane config before we exit onload otherwise the user may see a flicker if we poke the document</span>
<a href="#l16.23"></a><span id="l16.23">   // in delayedOnLoadMessenger...</span>
<a href="#l16.24"></a><span id="l16.24">   UpdateMailPaneConfig(false);</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineat">@@ -282,17 +287,17 @@ function OnLoadMessenger()</span>
<a href="#l16.26"></a><span id="l16.26">     tabmail.registerTabMonitor(glodaSearchTabMonitor);</span>
<a href="#l16.27"></a><span id="l16.27">     tabmail.registerTabMonitor(QuickSearchTabMonitor);</span>
<a href="#l16.28"></a><span id="l16.28">     tabmail.registerTabMonitor(statusMessageCountsMonitor);</span>
<a href="#l16.29"></a><span id="l16.29">     tabmail.openFirstTab();</span>
<a href="#l16.30"></a><span id="l16.30">   }</span>
<a href="#l16.31"></a><span id="l16.31"> </span>
<a href="#l16.32"></a><span id="l16.32">   // verifyAccounts returns true if the callback won't be called</span>
<a href="#l16.33"></a><span id="l16.33">   // We also don't want the account wizard to open if any sort of account exists</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineminus">-  if (verifyAccounts(LoadPostAccountWizard, false))</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineplus">+  if (verifyAccounts(LoadPostAccountWizard, false, AutoConfigWizard))</span>
<a href="#l16.36"></a><span id="l16.36">     LoadPostAccountWizard();</span>
<a href="#l16.37"></a><span id="l16.37"> </span>
<a href="#l16.38"></a><span id="l16.38">   // This also registers the contentTabType (&quot;contentTab&quot;)</span>
<a href="#l16.39"></a><span id="l16.39">   specialTabs.openSpecialTabsOnStartup();</span>
<a href="#l16.40"></a><span id="l16.40"> </span>
<a href="#l16.41"></a><span id="l16.41">   window.addEventListener(&quot;AppCommand&quot;, HandleAppCommandEvent, true);</span>
<a href="#l16.42"></a><span id="l16.42"> }</span>
<a href="#l16.43"></a><span id="l16.43"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">new file mode 100644</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineminus">--- /dev/null</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineplus">+++ b/mail/components/preferences/cookies.js</span>
<a href="#l17.4"></a><span id="l17.4" class="difflineat">@@ -0,0 +1,941 @@</span>
<a href="#l17.5"></a><span id="l17.5" class="difflineplus">+# -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l17.6"></a><span id="l17.6" class="difflineplus">+# ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l17.7"></a><span id="l17.7" class="difflineplus">+# Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l17.8"></a><span id="l17.8" class="difflineplus">+#</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineplus">+# The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineplus">+# 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineplus">+# the License. You may obtain a copy of the License at</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+# http://www.mozilla.org/MPL/</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+#</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+# Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineplus">+# for the specific language governing rights and limitations under the</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineplus">+# License.</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineplus">+#</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineplus">+# The Original Code is the Firefox Preferences System.</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineplus">+#</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineplus">+# The Initial Developer of the Original Code is</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineplus">+# Ben Goodger.</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineplus">+# Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineplus">+# the Initial Developer. All Rights Reserved.</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineplus">+#</span>
<a href="#l17.26"></a><span id="l17.26" class="difflineplus">+# Contributor(s):</span>
<a href="#l17.27"></a><span id="l17.27" class="difflineplus">+#   Ben Goodger &lt;ben@mozilla.org&gt;</span>
<a href="#l17.28"></a><span id="l17.28" class="difflineplus">+#   Ehsan Akhgari &lt;ehsan.akhgari@gmail.com&gt;</span>
<a href="#l17.29"></a><span id="l17.29" class="difflineplus">+#</span>
<a href="#l17.30"></a><span id="l17.30" class="difflineplus">+# Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineplus">+# either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+# the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineplus">+# in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineplus">+# of those above. If you wish to allow use of your version of this file only</span>
<a href="#l17.35"></a><span id="l17.35" class="difflineplus">+# under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineplus">+# use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineplus">+# decision by deleting the provisions above and replace them with the notice</span>
<a href="#l17.38"></a><span id="l17.38" class="difflineplus">+# and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l17.39"></a><span id="l17.39" class="difflineplus">+# the provisions above, a recipient may use your version of this file under</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineplus">+# the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineplus">+#</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineplus">+# ***** END LICENSE BLOCK *****</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineplus">+</span>
<a href="#l17.44"></a><span id="l17.44" class="difflineplus">+const nsICookie = Components.interfaces.nsICookie;</span>
<a href="#l17.45"></a><span id="l17.45" class="difflineplus">+</span>
<a href="#l17.46"></a><span id="l17.46" class="difflineplus">+var gCookiesWindow = {</span>
<a href="#l17.47"></a><span id="l17.47" class="difflineplus">+  _cm               : Components.classes[&quot;@mozilla.org/cookiemanager;1&quot;]</span>
<a href="#l17.48"></a><span id="l17.48" class="difflineplus">+                                .getService(Components.interfaces.nsICookieManager),</span>
<a href="#l17.49"></a><span id="l17.49" class="difflineplus">+  _ds               : Components.classes[&quot;@mozilla.org/intl/scriptabledateformat;1&quot;]</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineplus">+                                .getService(Components.interfaces.nsIScriptableDateFormat),</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineplus">+  _hosts            : {},</span>
<a href="#l17.52"></a><span id="l17.52" class="difflineplus">+  _hostOrder        : [],</span>
<a href="#l17.53"></a><span id="l17.53" class="difflineplus">+  _tree             : null,</span>
<a href="#l17.54"></a><span id="l17.54" class="difflineplus">+  _bundle           : null,</span>
<a href="#l17.55"></a><span id="l17.55" class="difflineplus">+</span>
<a href="#l17.56"></a><span id="l17.56" class="difflineplus">+  init: function ()</span>
<a href="#l17.57"></a><span id="l17.57" class="difflineplus">+  {</span>
<a href="#l17.58"></a><span id="l17.58" class="difflineplus">+    var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l17.59"></a><span id="l17.59" class="difflineplus">+                       .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineplus">+    os.addObserver(this, &quot;cookie-changed&quot;, false);</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineplus">+    os.addObserver(this, &quot;perm-changed&quot;, false);</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineplus">+</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineplus">+    this._bundle = document.getElementById(&quot;bundlePreferences&quot;);</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineplus">+    this._tree = document.getElementById(&quot;cookiesList&quot;);</span>
<a href="#l17.65"></a><span id="l17.65" class="difflineplus">+</span>
<a href="#l17.66"></a><span id="l17.66" class="difflineplus">+    this._populateList(true);</span>
<a href="#l17.67"></a><span id="l17.67" class="difflineplus">+</span>
<a href="#l17.68"></a><span id="l17.68" class="difflineplus">+    document.getElementById(&quot;filter&quot;).focus();</span>
<a href="#l17.69"></a><span id="l17.69" class="difflineplus">+  },</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineplus">+</span>
<a href="#l17.71"></a><span id="l17.71" class="difflineplus">+  uninit: function ()</span>
<a href="#l17.72"></a><span id="l17.72" class="difflineplus">+  {</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineplus">+    var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l17.74"></a><span id="l17.74" class="difflineplus">+                       .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l17.75"></a><span id="l17.75" class="difflineplus">+    os.removeObserver(this, &quot;cookie-changed&quot;);</span>
<a href="#l17.76"></a><span id="l17.76" class="difflineplus">+    os.removeObserver(this, &quot;perm-changed&quot;);</span>
<a href="#l17.77"></a><span id="l17.77" class="difflineplus">+  },</span>
<a href="#l17.78"></a><span id="l17.78" class="difflineplus">+</span>
<a href="#l17.79"></a><span id="l17.79" class="difflineplus">+  _populateList: function (aInitialLoad)</span>
<a href="#l17.80"></a><span id="l17.80" class="difflineplus">+  {</span>
<a href="#l17.81"></a><span id="l17.81" class="difflineplus">+    this._loadCookies();</span>
<a href="#l17.82"></a><span id="l17.82" class="difflineplus">+    this._tree.treeBoxObject.view = this._view;</span>
<a href="#l17.83"></a><span id="l17.83" class="difflineplus">+    if (aInitialLoad)</span>
<a href="#l17.84"></a><span id="l17.84" class="difflineplus">+      this.sort(&quot;rawHost&quot;);</span>
<a href="#l17.85"></a><span id="l17.85" class="difflineplus">+    if (this._view.rowCount &gt; 0)</span>
<a href="#l17.86"></a><span id="l17.86" class="difflineplus">+      this._tree.view.selection.select(0);</span>
<a href="#l17.87"></a><span id="l17.87" class="difflineplus">+</span>
<a href="#l17.88"></a><span id="l17.88" class="difflineplus">+    if (aInitialLoad) {</span>
<a href="#l17.89"></a><span id="l17.89" class="difflineplus">+      if (&quot;arguments&quot; in window &amp;&amp; window.arguments[0] &amp;&amp;</span>
<a href="#l17.90"></a><span id="l17.90" class="difflineplus">+          window.arguments[0].filterString)</span>
<a href="#l17.91"></a><span id="l17.91" class="difflineplus">+      {</span>
<a href="#l17.92"></a><span id="l17.92" class="difflineplus">+        this.setFilter(window.arguments[0].filterString);</span>
<a href="#l17.93"></a><span id="l17.93" class="difflineplus">+      }</span>
<a href="#l17.94"></a><span id="l17.94" class="difflineplus">+    }</span>
<a href="#l17.95"></a><span id="l17.95" class="difflineplus">+    else {</span>
<a href="#l17.96"></a><span id="l17.96" class="difflineplus">+      if (document.getElementById(&quot;filter&quot;).value != &quot;&quot;)</span>
<a href="#l17.97"></a><span id="l17.97" class="difflineplus">+        this.filter();</span>
<a href="#l17.98"></a><span id="l17.98" class="difflineplus">+    }</span>
<a href="#l17.99"></a><span id="l17.99" class="difflineplus">+</span>
<a href="#l17.100"></a><span id="l17.100" class="difflineplus">+    this._saveState();</span>
<a href="#l17.101"></a><span id="l17.101" class="difflineplus">+  },</span>
<a href="#l17.102"></a><span id="l17.102" class="difflineplus">+</span>
<a href="#l17.103"></a><span id="l17.103" class="difflineplus">+  _cookieEquals: function (aCookieA, aCookieB, aStrippedHost)</span>
<a href="#l17.104"></a><span id="l17.104" class="difflineplus">+  {</span>
<a href="#l17.105"></a><span id="l17.105" class="difflineplus">+    return aCookieA.rawHost == aStrippedHost &amp;&amp;</span>
<a href="#l17.106"></a><span id="l17.106" class="difflineplus">+           aCookieA.name == aCookieB.name &amp;&amp;</span>
<a href="#l17.107"></a><span id="l17.107" class="difflineplus">+           aCookieA.path == aCookieB.path;</span>
<a href="#l17.108"></a><span id="l17.108" class="difflineplus">+  },</span>
<a href="#l17.109"></a><span id="l17.109" class="difflineplus">+</span>
<a href="#l17.110"></a><span id="l17.110" class="difflineplus">+  observe: function (aCookie, aTopic, aData)</span>
<a href="#l17.111"></a><span id="l17.111" class="difflineplus">+  {</span>
<a href="#l17.112"></a><span id="l17.112" class="difflineplus">+    if (aTopic != &quot;cookie-changed&quot;)</span>
<a href="#l17.113"></a><span id="l17.113" class="difflineplus">+      return;</span>
<a href="#l17.114"></a><span id="l17.114" class="difflineplus">+</span>
<a href="#l17.115"></a><span id="l17.115" class="difflineplus">+    if (aCookie instanceof Components.interfaces.nsICookie) {</span>
<a href="#l17.116"></a><span id="l17.116" class="difflineplus">+      var strippedHost = this._makeStrippedHost(aCookie.host);</span>
<a href="#l17.117"></a><span id="l17.117" class="difflineplus">+      if (aData == &quot;changed&quot;)</span>
<a href="#l17.118"></a><span id="l17.118" class="difflineplus">+        this._handleCookieChanged(aCookie, strippedHost);</span>
<a href="#l17.119"></a><span id="l17.119" class="difflineplus">+      else if (aData == &quot;added&quot;)</span>
<a href="#l17.120"></a><span id="l17.120" class="difflineplus">+        this._handleCookieAdded(aCookie, strippedHost);</span>
<a href="#l17.121"></a><span id="l17.121" class="difflineplus">+    }</span>
<a href="#l17.122"></a><span id="l17.122" class="difflineplus">+    else if (aData == &quot;cleared&quot;) {</span>
<a href="#l17.123"></a><span id="l17.123" class="difflineplus">+      this._hosts = {};</span>
<a href="#l17.124"></a><span id="l17.124" class="difflineplus">+      this._hostOrder = [];</span>
<a href="#l17.125"></a><span id="l17.125" class="difflineplus">+</span>
<a href="#l17.126"></a><span id="l17.126" class="difflineplus">+      var oldRowCount = this._view._rowCount;</span>
<a href="#l17.127"></a><span id="l17.127" class="difflineplus">+      this._view._rowCount = 0;</span>
<a href="#l17.128"></a><span id="l17.128" class="difflineplus">+      this._tree.treeBoxObject.rowCountChanged(0, -oldRowCount);</span>
<a href="#l17.129"></a><span id="l17.129" class="difflineplus">+      this._view.selection.clearSelection();</span>
<a href="#l17.130"></a><span id="l17.130" class="difflineplus">+    }</span>
<a href="#l17.131"></a><span id="l17.131" class="difflineplus">+    else if (aData == &quot;reload&quot;) {</span>
<a href="#l17.132"></a><span id="l17.132" class="difflineplus">+      // first, clear any existing entries</span>
<a href="#l17.133"></a><span id="l17.133" class="difflineplus">+      this.observe(aCookie, aTopic, &quot;cleared&quot;);</span>
<a href="#l17.134"></a><span id="l17.134" class="difflineplus">+</span>
<a href="#l17.135"></a><span id="l17.135" class="difflineplus">+      // then, reload the list</span>
<a href="#l17.136"></a><span id="l17.136" class="difflineplus">+      this._populateList(false);</span>
<a href="#l17.137"></a><span id="l17.137" class="difflineplus">+    }</span>
<a href="#l17.138"></a><span id="l17.138" class="difflineplus">+</span>
<a href="#l17.139"></a><span id="l17.139" class="difflineplus">+    // We don't yet handle aData == &quot;deleted&quot; - it's a less common case</span>
<a href="#l17.140"></a><span id="l17.140" class="difflineplus">+    // and is rather complicated as selection tracking is difficult</span>
<a href="#l17.141"></a><span id="l17.141" class="difflineplus">+  },</span>
<a href="#l17.142"></a><span id="l17.142" class="difflineplus">+</span>
<a href="#l17.143"></a><span id="l17.143" class="difflineplus">+  _handleCookieChanged: function (changedCookie, strippedHost)</span>
<a href="#l17.144"></a><span id="l17.144" class="difflineplus">+  {</span>
<a href="#l17.145"></a><span id="l17.145" class="difflineplus">+    var rowIndex = 0;</span>
<a href="#l17.146"></a><span id="l17.146" class="difflineplus">+    var cookieItem = null;</span>
<a href="#l17.147"></a><span id="l17.147" class="difflineplus">+    if (!this._view._filtered) {</span>
<a href="#l17.148"></a><span id="l17.148" class="difflineplus">+      for (var i = 0; i &lt; this._hostOrder.length; ++i) { // (var host in this._hosts) {</span>
<a href="#l17.149"></a><span id="l17.149" class="difflineplus">+        ++rowIndex;</span>
<a href="#l17.150"></a><span id="l17.150" class="difflineplus">+        var hostItem = this._hosts[this._hostOrder[i]]; // var hostItem = this._hosts[host];</span>
<a href="#l17.151"></a><span id="l17.151" class="difflineplus">+        if (this._hostOrder[i] == strippedHost) { // host == strippedHost) {</span>
<a href="#l17.152"></a><span id="l17.152" class="difflineplus">+          // Host matches, look for the cookie within this Host collection</span>
<a href="#l17.153"></a><span id="l17.153" class="difflineplus">+          // and update its data</span>
<a href="#l17.154"></a><span id="l17.154" class="difflineplus">+          for (var j = 0; j &lt; hostItem.cookies.length; ++j) {</span>
<a href="#l17.155"></a><span id="l17.155" class="difflineplus">+            ++rowIndex;</span>
<a href="#l17.156"></a><span id="l17.156" class="difflineplus">+            var currCookie = hostItem.cookies[j];</span>
<a href="#l17.157"></a><span id="l17.157" class="difflineplus">+            if (this._cookieEquals(currCookie, changedCookie, strippedHost)) {</span>
<a href="#l17.158"></a><span id="l17.158" class="difflineplus">+              currCookie.value    = changedCookie.value;</span>
<a href="#l17.159"></a><span id="l17.159" class="difflineplus">+              currCookie.isSecure = changedCookie.isSecure;</span>
<a href="#l17.160"></a><span id="l17.160" class="difflineplus">+              currCookie.isDomain = changedCookie.isDomain;</span>
<a href="#l17.161"></a><span id="l17.161" class="difflineplus">+              currCookie.expires  = changedCookie.expires;</span>
<a href="#l17.162"></a><span id="l17.162" class="difflineplus">+              cookieItem = currCookie;</span>
<a href="#l17.163"></a><span id="l17.163" class="difflineplus">+              break;</span>
<a href="#l17.164"></a><span id="l17.164" class="difflineplus">+            }</span>
<a href="#l17.165"></a><span id="l17.165" class="difflineplus">+          }</span>
<a href="#l17.166"></a><span id="l17.166" class="difflineplus">+        }</span>
<a href="#l17.167"></a><span id="l17.167" class="difflineplus">+        else if (hostItem.open)</span>
<a href="#l17.168"></a><span id="l17.168" class="difflineplus">+          rowIndex += hostItem.cookies.length;</span>
<a href="#l17.169"></a><span id="l17.169" class="difflineplus">+      }</span>
<a href="#l17.170"></a><span id="l17.170" class="difflineplus">+    }</span>
<a href="#l17.171"></a><span id="l17.171" class="difflineplus">+    else {</span>
<a href="#l17.172"></a><span id="l17.172" class="difflineplus">+      // Just walk the filter list to find the item. It doesn't matter that</span>
<a href="#l17.173"></a><span id="l17.173" class="difflineplus">+      // we don't update the main Host collection when we do this, because</span>
<a href="#l17.174"></a><span id="l17.174" class="difflineplus">+      // when the filter is reset the Host collection is rebuilt anyway.</span>
<a href="#l17.175"></a><span id="l17.175" class="difflineplus">+      for (rowIndex = 0; rowIndex &lt; this._view._filterSet.length; ++rowIndex) {</span>
<a href="#l17.176"></a><span id="l17.176" class="difflineplus">+        currCookie = this._view._filterSet[rowIndex];</span>
<a href="#l17.177"></a><span id="l17.177" class="difflineplus">+        if (this._cookieEquals(currCookie, changedCookie, strippedHost)) {</span>
<a href="#l17.178"></a><span id="l17.178" class="difflineplus">+          currCookie.value    = changedCookie.value;</span>
<a href="#l17.179"></a><span id="l17.179" class="difflineplus">+          currCookie.isSecure = changedCookie.isSecure;</span>
<a href="#l17.180"></a><span id="l17.180" class="difflineplus">+          currCookie.isDomain = changedCookie.isDomain;</span>
<a href="#l17.181"></a><span id="l17.181" class="difflineplus">+          currCookie.expires  = changedCookie.expires;</span>
<a href="#l17.182"></a><span id="l17.182" class="difflineplus">+          cookieItem = currCookie;</span>
<a href="#l17.183"></a><span id="l17.183" class="difflineplus">+          break;</span>
<a href="#l17.184"></a><span id="l17.184" class="difflineplus">+        }</span>
<a href="#l17.185"></a><span id="l17.185" class="difflineplus">+      }</span>
<a href="#l17.186"></a><span id="l17.186" class="difflineplus">+    }</span>
<a href="#l17.187"></a><span id="l17.187" class="difflineplus">+</span>
<a href="#l17.188"></a><span id="l17.188" class="difflineplus">+    // Make sure the tree display is up to date...</span>
<a href="#l17.189"></a><span id="l17.189" class="difflineplus">+    this._tree.treeBoxObject.invalidateRow(rowIndex);</span>
<a href="#l17.190"></a><span id="l17.190" class="difflineplus">+    // ... and if the cookie is selected, update the displayed metadata too</span>
<a href="#l17.191"></a><span id="l17.191" class="difflineplus">+    if (cookieItem != null &amp;&amp; this._view.selection.currentIndex == rowIndex)</span>
<a href="#l17.192"></a><span id="l17.192" class="difflineplus">+      this._updateCookieData(cookieItem);</span>
<a href="#l17.193"></a><span id="l17.193" class="difflineplus">+  },</span>
<a href="#l17.194"></a><span id="l17.194" class="difflineplus">+</span>
<a href="#l17.195"></a><span id="l17.195" class="difflineplus">+  _handleCookieAdded: function (changedCookie, strippedHost)</span>
<a href="#l17.196"></a><span id="l17.196" class="difflineplus">+  {</span>
<a href="#l17.197"></a><span id="l17.197" class="difflineplus">+    var rowCountImpact = 0;</span>
<a href="#l17.198"></a><span id="l17.198" class="difflineplus">+    var addedHost = { value: 0 };</span>
<a href="#l17.199"></a><span id="l17.199" class="difflineplus">+    this._addCookie(strippedHost, changedCookie, addedHost);</span>
<a href="#l17.200"></a><span id="l17.200" class="difflineplus">+    if (!this._view._filtered) {</span>
<a href="#l17.201"></a><span id="l17.201" class="difflineplus">+      // The Host collection for this cookie already exists, and it's not open,</span>
<a href="#l17.202"></a><span id="l17.202" class="difflineplus">+      // so don't increment the rowCountImpact becaues the user is not going to</span>
<a href="#l17.203"></a><span id="l17.203" class="difflineplus">+      // see the additional rows as they're hidden.</span>
<a href="#l17.204"></a><span id="l17.204" class="difflineplus">+      if (addedHost.value || this._hosts[strippedHost].open)</span>
<a href="#l17.205"></a><span id="l17.205" class="difflineplus">+        ++rowCountImpact;</span>
<a href="#l17.206"></a><span id="l17.206" class="difflineplus">+    }</span>
<a href="#l17.207"></a><span id="l17.207" class="difflineplus">+    else {</span>
<a href="#l17.208"></a><span id="l17.208" class="difflineplus">+      // We're in search mode, and the cookie being added matches</span>
<a href="#l17.209"></a><span id="l17.209" class="difflineplus">+      // the search condition, so add it to the list.</span>
<a href="#l17.210"></a><span id="l17.210" class="difflineplus">+      var c = this._makeCookieObject(strippedHost, changedCookie);</span>
<a href="#l17.211"></a><span id="l17.211" class="difflineplus">+      if (this._cookieMatchesFilter(c)) {</span>
<a href="#l17.212"></a><span id="l17.212" class="difflineplus">+        this._view._filterSet.push(this._makeCookieObject(strippedHost, changedCookie));</span>
<a href="#l17.213"></a><span id="l17.213" class="difflineplus">+        ++rowCountImpact;</span>
<a href="#l17.214"></a><span id="l17.214" class="difflineplus">+      }</span>
<a href="#l17.215"></a><span id="l17.215" class="difflineplus">+    }</span>
<a href="#l17.216"></a><span id="l17.216" class="difflineplus">+    // Now update the tree display at the end (we could/should re run the sort</span>
<a href="#l17.217"></a><span id="l17.217" class="difflineplus">+    // if any to get the position correct.)</span>
<a href="#l17.218"></a><span id="l17.218" class="difflineplus">+    var oldRowCount = this._rowCount;</span>
<a href="#l17.219"></a><span id="l17.219" class="difflineplus">+    this._view._rowCount += rowCountImpact;</span>
<a href="#l17.220"></a><span id="l17.220" class="difflineplus">+    this._tree.treeBoxObject.rowCountChanged(oldRowCount - 1, rowCountImpact);</span>
<a href="#l17.221"></a><span id="l17.221" class="difflineplus">+</span>
<a href="#l17.222"></a><span id="l17.222" class="difflineplus">+    document.getElementById(&quot;removeAllCookies&quot;).disabled = this._view._filtered;</span>
<a href="#l17.223"></a><span id="l17.223" class="difflineplus">+  },</span>
<a href="#l17.224"></a><span id="l17.224" class="difflineplus">+</span>
<a href="#l17.225"></a><span id="l17.225" class="difflineplus">+  _view: {</span>
<a href="#l17.226"></a><span id="l17.226" class="difflineplus">+    _filtered   : false,</span>
<a href="#l17.227"></a><span id="l17.227" class="difflineplus">+    _filterSet  : [],</span>
<a href="#l17.228"></a><span id="l17.228" class="difflineplus">+    _filterValue: &quot;&quot;,</span>
<a href="#l17.229"></a><span id="l17.229" class="difflineplus">+    _rowCount   : 0,</span>
<a href="#l17.230"></a><span id="l17.230" class="difflineplus">+    _cacheValid : 0,</span>
<a href="#l17.231"></a><span id="l17.231" class="difflineplus">+    _cacheItems : [],</span>
<a href="#l17.232"></a><span id="l17.232" class="difflineplus">+    get rowCount()</span>
<a href="#l17.233"></a><span id="l17.233" class="difflineplus">+    {</span>
<a href="#l17.234"></a><span id="l17.234" class="difflineplus">+      return this._rowCount;</span>
<a href="#l17.235"></a><span id="l17.235" class="difflineplus">+    },</span>
<a href="#l17.236"></a><span id="l17.236" class="difflineplus">+</span>
<a href="#l17.237"></a><span id="l17.237" class="difflineplus">+    _getItemAtIndex: function (aIndex)</span>
<a href="#l17.238"></a><span id="l17.238" class="difflineplus">+    {</span>
<a href="#l17.239"></a><span id="l17.239" class="difflineplus">+      if (this._filtered)</span>
<a href="#l17.240"></a><span id="l17.240" class="difflineplus">+        return this._filterSet[aIndex];</span>
<a href="#l17.241"></a><span id="l17.241" class="difflineplus">+</span>
<a href="#l17.242"></a><span id="l17.242" class="difflineplus">+      var start = 0;</span>
<a href="#l17.243"></a><span id="l17.243" class="difflineplus">+      var count = 0, hostIndex = 0;</span>
<a href="#l17.244"></a><span id="l17.244" class="difflineplus">+</span>
<a href="#l17.245"></a><span id="l17.245" class="difflineplus">+      var cacheIndex = Math.min(this._cacheValid, aIndex);</span>
<a href="#l17.246"></a><span id="l17.246" class="difflineplus">+      if (cacheIndex &gt; 0) {</span>
<a href="#l17.247"></a><span id="l17.247" class="difflineplus">+        var cacheItem = this._cacheItems[cacheIndex];</span>
<a href="#l17.248"></a><span id="l17.248" class="difflineplus">+        start = cacheItem['start'];</span>
<a href="#l17.249"></a><span id="l17.249" class="difflineplus">+        count = hostIndex = cacheItem['count'];</span>
<a href="#l17.250"></a><span id="l17.250" class="difflineplus">+      }</span>
<a href="#l17.251"></a><span id="l17.251" class="difflineplus">+</span>
<a href="#l17.252"></a><span id="l17.252" class="difflineplus">+      for (var i = start; i &lt; gCookiesWindow._hostOrder.length; ++i) { // var host in gCookiesWindow._hosts) {</span>
<a href="#l17.253"></a><span id="l17.253" class="difflineplus">+        var currHost = gCookiesWindow._hosts[gCookiesWindow._hostOrder[i]]; // gCookiesWindow._hosts[host];</span>
<a href="#l17.254"></a><span id="l17.254" class="difflineplus">+        if (!currHost) continue;</span>
<a href="#l17.255"></a><span id="l17.255" class="difflineplus">+        if (count == aIndex)</span>
<a href="#l17.256"></a><span id="l17.256" class="difflineplus">+          return currHost;</span>
<a href="#l17.257"></a><span id="l17.257" class="difflineplus">+        hostIndex = count;</span>
<a href="#l17.258"></a><span id="l17.258" class="difflineplus">+</span>
<a href="#l17.259"></a><span id="l17.259" class="difflineplus">+        var cacheEntry = { 'start' : i, 'count' : count };</span>
<a href="#l17.260"></a><span id="l17.260" class="difflineplus">+        var cacheStart = count;</span>
<a href="#l17.261"></a><span id="l17.261" class="difflineplus">+</span>
<a href="#l17.262"></a><span id="l17.262" class="difflineplus">+        if (currHost.open) {</span>
<a href="#l17.263"></a><span id="l17.263" class="difflineplus">+          if (count &lt; aIndex &amp;&amp; aIndex &lt;= (count + currHost.cookies.length)) {</span>
<a href="#l17.264"></a><span id="l17.264" class="difflineplus">+            // We are looking for an entry within this host's children,</span>
<a href="#l17.265"></a><span id="l17.265" class="difflineplus">+            // enumerate them looking for the index.</span>
<a href="#l17.266"></a><span id="l17.266" class="difflineplus">+            ++count;</span>
<a href="#l17.267"></a><span id="l17.267" class="difflineplus">+            for (var i = 0; i &lt; currHost.cookies.length; ++i) {</span>
<a href="#l17.268"></a><span id="l17.268" class="difflineplus">+              if (count == aIndex) {</span>
<a href="#l17.269"></a><span id="l17.269" class="difflineplus">+                var cookie = currHost.cookies[i];</span>
<a href="#l17.270"></a><span id="l17.270" class="difflineplus">+                cookie.parentIndex = hostIndex;</span>
<a href="#l17.271"></a><span id="l17.271" class="difflineplus">+                return cookie;</span>
<a href="#l17.272"></a><span id="l17.272" class="difflineplus">+              }</span>
<a href="#l17.273"></a><span id="l17.273" class="difflineplus">+              ++count;</span>
<a href="#l17.274"></a><span id="l17.274" class="difflineplus">+            }</span>
<a href="#l17.275"></a><span id="l17.275" class="difflineplus">+          }</span>
<a href="#l17.276"></a><span id="l17.276" class="difflineplus">+          else {</span>
<a href="#l17.277"></a><span id="l17.277" class="difflineplus">+            // A host entry was open, but we weren't looking for an index</span>
<a href="#l17.278"></a><span id="l17.278" class="difflineplus">+            // within that host entry's children, so skip forward over the</span>
<a href="#l17.279"></a><span id="l17.279" class="difflineplus">+            // entry's children. We need to add one to increment for the</span>
<a href="#l17.280"></a><span id="l17.280" class="difflineplus">+            // host value too.</span>
<a href="#l17.281"></a><span id="l17.281" class="difflineplus">+            count += currHost.cookies.length + 1;</span>
<a href="#l17.282"></a><span id="l17.282" class="difflineplus">+          }</span>
<a href="#l17.283"></a><span id="l17.283" class="difflineplus">+        }</span>
<a href="#l17.284"></a><span id="l17.284" class="difflineplus">+        else</span>
<a href="#l17.285"></a><span id="l17.285" class="difflineplus">+          ++count;</span>
<a href="#l17.286"></a><span id="l17.286" class="difflineplus">+</span>
<a href="#l17.287"></a><span id="l17.287" class="difflineplus">+        for (var j = cacheStart; j &lt; count; j++)</span>
<a href="#l17.288"></a><span id="l17.288" class="difflineplus">+          this._cacheItems[j] = cacheEntry;</span>
<a href="#l17.289"></a><span id="l17.289" class="difflineplus">+        this._cacheValid = count - 1;</span>
<a href="#l17.290"></a><span id="l17.290" class="difflineplus">+      }</span>
<a href="#l17.291"></a><span id="l17.291" class="difflineplus">+      return null;</span>
<a href="#l17.292"></a><span id="l17.292" class="difflineplus">+    },</span>
<a href="#l17.293"></a><span id="l17.293" class="difflineplus">+</span>
<a href="#l17.294"></a><span id="l17.294" class="difflineplus">+    _removeItemAtIndex: function (aIndex, aCount)</span>
<a href="#l17.295"></a><span id="l17.295" class="difflineplus">+    {</span>
<a href="#l17.296"></a><span id="l17.296" class="difflineplus">+      var removeCount = aCount === undefined ? 1 : aCount;</span>
<a href="#l17.297"></a><span id="l17.297" class="difflineplus">+      if (this._filtered) {</span>
<a href="#l17.298"></a><span id="l17.298" class="difflineplus">+        // remove the cookies from the unfiltered set so that they</span>
<a href="#l17.299"></a><span id="l17.299" class="difflineplus">+        // don't reappear when the filter is changed. See bug 410863.</span>
<a href="#l17.300"></a><span id="l17.300" class="difflineplus">+        for (var i = aIndex; i &lt; aIndex + removeCount; ++i) {</span>
<a href="#l17.301"></a><span id="l17.301" class="difflineplus">+          var item = this._filterSet[i];</span>
<a href="#l17.302"></a><span id="l17.302" class="difflineplus">+          var parent = gCookiesWindow._hosts[item.rawHost];</span>
<a href="#l17.303"></a><span id="l17.303" class="difflineplus">+          for (var j = 0; j &lt; parent.cookies.length; ++j) {</span>
<a href="#l17.304"></a><span id="l17.304" class="difflineplus">+            if (item == parent.cookies[j]) {</span>
<a href="#l17.305"></a><span id="l17.305" class="difflineplus">+              parent.cookies.splice(j, 1);</span>
<a href="#l17.306"></a><span id="l17.306" class="difflineplus">+              break;</span>
<a href="#l17.307"></a><span id="l17.307" class="difflineplus">+            }</span>
<a href="#l17.308"></a><span id="l17.308" class="difflineplus">+          }</span>
<a href="#l17.309"></a><span id="l17.309" class="difflineplus">+        }</span>
<a href="#l17.310"></a><span id="l17.310" class="difflineplus">+        this._filterSet.splice(aIndex, removeCount);</span>
<a href="#l17.311"></a><span id="l17.311" class="difflineplus">+        return;</span>
<a href="#l17.312"></a><span id="l17.312" class="difflineplus">+      }</span>
<a href="#l17.313"></a><span id="l17.313" class="difflineplus">+</span>
<a href="#l17.314"></a><span id="l17.314" class="difflineplus">+      var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.315"></a><span id="l17.315" class="difflineplus">+      if (!item) return;</span>
<a href="#l17.316"></a><span id="l17.316" class="difflineplus">+      this._invalidateCache(aIndex - 1);</span>
<a href="#l17.317"></a><span id="l17.317" class="difflineplus">+      if (item.container)</span>
<a href="#l17.318"></a><span id="l17.318" class="difflineplus">+        gCookiesWindow._hosts[item.rawHost] = null;</span>
<a href="#l17.319"></a><span id="l17.319" class="difflineplus">+      else {</span>
<a href="#l17.320"></a><span id="l17.320" class="difflineplus">+        var parent = this._getItemAtIndex(item.parentIndex);</span>
<a href="#l17.321"></a><span id="l17.321" class="difflineplus">+        for (var i = 0; i &lt; parent.cookies.length; ++i) {</span>
<a href="#l17.322"></a><span id="l17.322" class="difflineplus">+          var cookie = parent.cookies[i];</span>
<a href="#l17.323"></a><span id="l17.323" class="difflineplus">+          if (item.rawHost == cookie.rawHost &amp;&amp;</span>
<a href="#l17.324"></a><span id="l17.324" class="difflineplus">+              item.name == cookie.name &amp;&amp; item.path == cookie.path)</span>
<a href="#l17.325"></a><span id="l17.325" class="difflineplus">+            parent.cookies.splice(i, removeCount);</span>
<a href="#l17.326"></a><span id="l17.326" class="difflineplus">+        }</span>
<a href="#l17.327"></a><span id="l17.327" class="difflineplus">+      }</span>
<a href="#l17.328"></a><span id="l17.328" class="difflineplus">+    },</span>
<a href="#l17.329"></a><span id="l17.329" class="difflineplus">+</span>
<a href="#l17.330"></a><span id="l17.330" class="difflineplus">+    _invalidateCache: function (aIndex)</span>
<a href="#l17.331"></a><span id="l17.331" class="difflineplus">+    {</span>
<a href="#l17.332"></a><span id="l17.332" class="difflineplus">+      this._cacheValid = Math.min(this._cacheValid, aIndex);</span>
<a href="#l17.333"></a><span id="l17.333" class="difflineplus">+    },</span>
<a href="#l17.334"></a><span id="l17.334" class="difflineplus">+</span>
<a href="#l17.335"></a><span id="l17.335" class="difflineplus">+    getCellText: function (aIndex, aColumn)</span>
<a href="#l17.336"></a><span id="l17.336" class="difflineplus">+    {</span>
<a href="#l17.337"></a><span id="l17.337" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.338"></a><span id="l17.338" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.339"></a><span id="l17.339" class="difflineplus">+        if (!item)</span>
<a href="#l17.340"></a><span id="l17.340" class="difflineplus">+          return &quot;&quot;;</span>
<a href="#l17.341"></a><span id="l17.341" class="difflineplus">+        if (aColumn.id == &quot;domainCol&quot;)</span>
<a href="#l17.342"></a><span id="l17.342" class="difflineplus">+          return item.rawHost;</span>
<a href="#l17.343"></a><span id="l17.343" class="difflineplus">+        else if (aColumn.id == &quot;nameCol&quot;)</span>
<a href="#l17.344"></a><span id="l17.344" class="difflineplus">+          return item.name;</span>
<a href="#l17.345"></a><span id="l17.345" class="difflineplus">+      }</span>
<a href="#l17.346"></a><span id="l17.346" class="difflineplus">+      else {</span>
<a href="#l17.347"></a><span id="l17.347" class="difflineplus">+        if (aColumn.id == &quot;domainCol&quot;)</span>
<a href="#l17.348"></a><span id="l17.348" class="difflineplus">+          return this._filterSet[aIndex].rawHost;</span>
<a href="#l17.349"></a><span id="l17.349" class="difflineplus">+        else if (aColumn.id == &quot;nameCol&quot;)</span>
<a href="#l17.350"></a><span id="l17.350" class="difflineplus">+          return this._filterSet[aIndex].name;</span>
<a href="#l17.351"></a><span id="l17.351" class="difflineplus">+      }</span>
<a href="#l17.352"></a><span id="l17.352" class="difflineplus">+      return &quot;&quot;;</span>
<a href="#l17.353"></a><span id="l17.353" class="difflineplus">+    },</span>
<a href="#l17.354"></a><span id="l17.354" class="difflineplus">+</span>
<a href="#l17.355"></a><span id="l17.355" class="difflineplus">+    _selection: null,</span>
<a href="#l17.356"></a><span id="l17.356" class="difflineplus">+    get selection () { return this._selection; },</span>
<a href="#l17.357"></a><span id="l17.357" class="difflineplus">+    set selection (val) { this._selection = val; return val; },</span>
<a href="#l17.358"></a><span id="l17.358" class="difflineplus">+    getRowProperties: function (aIndex, aProperties) {},</span>
<a href="#l17.359"></a><span id="l17.359" class="difflineplus">+    getCellProperties: function (aIndex, aColumn, aProperties) {},</span>
<a href="#l17.360"></a><span id="l17.360" class="difflineplus">+    getColumnProperties: function (aColumn, aProperties) {},</span>
<a href="#l17.361"></a><span id="l17.361" class="difflineplus">+    isContainer: function (aIndex)</span>
<a href="#l17.362"></a><span id="l17.362" class="difflineplus">+    {</span>
<a href="#l17.363"></a><span id="l17.363" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.364"></a><span id="l17.364" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.365"></a><span id="l17.365" class="difflineplus">+        if (!item) return false;</span>
<a href="#l17.366"></a><span id="l17.366" class="difflineplus">+        return item.container;</span>
<a href="#l17.367"></a><span id="l17.367" class="difflineplus">+      }</span>
<a href="#l17.368"></a><span id="l17.368" class="difflineplus">+      return false;</span>
<a href="#l17.369"></a><span id="l17.369" class="difflineplus">+    },</span>
<a href="#l17.370"></a><span id="l17.370" class="difflineplus">+    isContainerOpen: function (aIndex)</span>
<a href="#l17.371"></a><span id="l17.371" class="difflineplus">+    {</span>
<a href="#l17.372"></a><span id="l17.372" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.373"></a><span id="l17.373" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.374"></a><span id="l17.374" class="difflineplus">+        if (!item) return false;</span>
<a href="#l17.375"></a><span id="l17.375" class="difflineplus">+        return item.open;</span>
<a href="#l17.376"></a><span id="l17.376" class="difflineplus">+      }</span>
<a href="#l17.377"></a><span id="l17.377" class="difflineplus">+      return false;</span>
<a href="#l17.378"></a><span id="l17.378" class="difflineplus">+    },</span>
<a href="#l17.379"></a><span id="l17.379" class="difflineplus">+    isContainerEmpty: function (aIndex)</span>
<a href="#l17.380"></a><span id="l17.380" class="difflineplus">+    {</span>
<a href="#l17.381"></a><span id="l17.381" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.382"></a><span id="l17.382" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.383"></a><span id="l17.383" class="difflineplus">+        if (!item) return false;</span>
<a href="#l17.384"></a><span id="l17.384" class="difflineplus">+        return item.cookies.length == 0;</span>
<a href="#l17.385"></a><span id="l17.385" class="difflineplus">+      }</span>
<a href="#l17.386"></a><span id="l17.386" class="difflineplus">+      return false;</span>
<a href="#l17.387"></a><span id="l17.387" class="difflineplus">+    },</span>
<a href="#l17.388"></a><span id="l17.388" class="difflineplus">+    isSeparator: function (aIndex) { return false; },</span>
<a href="#l17.389"></a><span id="l17.389" class="difflineplus">+    isSorted: function (aIndex) { return false; },</span>
<a href="#l17.390"></a><span id="l17.390" class="difflineplus">+    canDrop: function (aIndex, aOrientation) { return false; },</span>
<a href="#l17.391"></a><span id="l17.391" class="difflineplus">+    drop: function (aIndex, aOrientation) {},</span>
<a href="#l17.392"></a><span id="l17.392" class="difflineplus">+    getParentIndex: function (aIndex)</span>
<a href="#l17.393"></a><span id="l17.393" class="difflineplus">+    {</span>
<a href="#l17.394"></a><span id="l17.394" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.395"></a><span id="l17.395" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.396"></a><span id="l17.396" class="difflineplus">+        // If an item has no parent index (i.e. it is at the top level) this</span>
<a href="#l17.397"></a><span id="l17.397" class="difflineplus">+        // function MUST return -1 otherwise we will go into an infinite loop.</span>
<a href="#l17.398"></a><span id="l17.398" class="difflineplus">+        // Containers are always top level items in the cookies tree, so make</span>
<a href="#l17.399"></a><span id="l17.399" class="difflineplus">+        // sure to return the appropriate value here.</span>
<a href="#l17.400"></a><span id="l17.400" class="difflineplus">+        if (!item || item.container) return -1;</span>
<a href="#l17.401"></a><span id="l17.401" class="difflineplus">+        return item.parentIndex;</span>
<a href="#l17.402"></a><span id="l17.402" class="difflineplus">+      }</span>
<a href="#l17.403"></a><span id="l17.403" class="difflineplus">+      return -1;</span>
<a href="#l17.404"></a><span id="l17.404" class="difflineplus">+    },</span>
<a href="#l17.405"></a><span id="l17.405" class="difflineplus">+    hasNextSibling: function (aParentIndex, aIndex)</span>
<a href="#l17.406"></a><span id="l17.406" class="difflineplus">+    {</span>
<a href="#l17.407"></a><span id="l17.407" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.408"></a><span id="l17.408" class="difflineplus">+        // |aParentIndex| appears to be bogus, but we can get the real</span>
<a href="#l17.409"></a><span id="l17.409" class="difflineplus">+        // parent index by getting the entry for |aIndex| and reading the</span>
<a href="#l17.410"></a><span id="l17.410" class="difflineplus">+        // parentIndex field.</span>
<a href="#l17.411"></a><span id="l17.411" class="difflineplus">+        // The index of the last item in this host collection is the</span>
<a href="#l17.412"></a><span id="l17.412" class="difflineplus">+        // index of the parent + the size of the host collection, and</span>
<a href="#l17.413"></a><span id="l17.413" class="difflineplus">+        // aIndex has a next sibling if it is less than this value.</span>
<a href="#l17.414"></a><span id="l17.414" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.415"></a><span id="l17.415" class="difflineplus">+        if (item) {</span>
<a href="#l17.416"></a><span id="l17.416" class="difflineplus">+          if (item.container) {</span>
<a href="#l17.417"></a><span id="l17.417" class="difflineplus">+            for (var i = aIndex + 1; i &lt; this.rowCount; ++i) {</span>
<a href="#l17.418"></a><span id="l17.418" class="difflineplus">+              var subsequent = this._getItemAtIndex(i);</span>
<a href="#l17.419"></a><span id="l17.419" class="difflineplus">+              if (subsequent.container)</span>
<a href="#l17.420"></a><span id="l17.420" class="difflineplus">+                return true;</span>
<a href="#l17.421"></a><span id="l17.421" class="difflineplus">+            }</span>
<a href="#l17.422"></a><span id="l17.422" class="difflineplus">+            return false;</span>
<a href="#l17.423"></a><span id="l17.423" class="difflineplus">+          }</span>
<a href="#l17.424"></a><span id="l17.424" class="difflineplus">+          else {</span>
<a href="#l17.425"></a><span id="l17.425" class="difflineplus">+            var parent = this._getItemAtIndex(item.parentIndex);</span>
<a href="#l17.426"></a><span id="l17.426" class="difflineplus">+            if (parent &amp;&amp; parent.container)</span>
<a href="#l17.427"></a><span id="l17.427" class="difflineplus">+              return aIndex &lt; item.parentIndex + parent.cookies.length;</span>
<a href="#l17.428"></a><span id="l17.428" class="difflineplus">+          }</span>
<a href="#l17.429"></a><span id="l17.429" class="difflineplus">+        }</span>
<a href="#l17.430"></a><span id="l17.430" class="difflineplus">+      }</span>
<a href="#l17.431"></a><span id="l17.431" class="difflineplus">+      return aIndex &lt; this.rowCount - 1;</span>
<a href="#l17.432"></a><span id="l17.432" class="difflineplus">+    },</span>
<a href="#l17.433"></a><span id="l17.433" class="difflineplus">+    hasPreviousSibling: function (aIndex)</span>
<a href="#l17.434"></a><span id="l17.434" class="difflineplus">+    {</span>
<a href="#l17.435"></a><span id="l17.435" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.436"></a><span id="l17.436" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.437"></a><span id="l17.437" class="difflineplus">+        if (!item) return false;</span>
<a href="#l17.438"></a><span id="l17.438" class="difflineplus">+        var parent = this._getItemAtIndex(item.parentIndex);</span>
<a href="#l17.439"></a><span id="l17.439" class="difflineplus">+        if (parent &amp;&amp; parent.container)</span>
<a href="#l17.440"></a><span id="l17.440" class="difflineplus">+          return aIndex &gt; item.parentIndex + 1;</span>
<a href="#l17.441"></a><span id="l17.441" class="difflineplus">+      }</span>
<a href="#l17.442"></a><span id="l17.442" class="difflineplus">+      return aIndex &gt; 0;</span>
<a href="#l17.443"></a><span id="l17.443" class="difflineplus">+    },</span>
<a href="#l17.444"></a><span id="l17.444" class="difflineplus">+    getLevel: function (aIndex)</span>
<a href="#l17.445"></a><span id="l17.445" class="difflineplus">+    {</span>
<a href="#l17.446"></a><span id="l17.446" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.447"></a><span id="l17.447" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.448"></a><span id="l17.448" class="difflineplus">+        if (!item) return 0;</span>
<a href="#l17.449"></a><span id="l17.449" class="difflineplus">+        return item.level;</span>
<a href="#l17.450"></a><span id="l17.450" class="difflineplus">+      }</span>
<a href="#l17.451"></a><span id="l17.451" class="difflineplus">+      return 0;</span>
<a href="#l17.452"></a><span id="l17.452" class="difflineplus">+    },</span>
<a href="#l17.453"></a><span id="l17.453" class="difflineplus">+    getImageSrc: function (aIndex, aColumn) {},</span>
<a href="#l17.454"></a><span id="l17.454" class="difflineplus">+    getProgressMode: function (aIndex, aColumn) {},</span>
<a href="#l17.455"></a><span id="l17.455" class="difflineplus">+    getCellValue: function (aIndex, aColumn) {},</span>
<a href="#l17.456"></a><span id="l17.456" class="difflineplus">+    setTree: function (aTree) {},</span>
<a href="#l17.457"></a><span id="l17.457" class="difflineplus">+    toggleOpenState: function (aIndex)</span>
<a href="#l17.458"></a><span id="l17.458" class="difflineplus">+    {</span>
<a href="#l17.459"></a><span id="l17.459" class="difflineplus">+      if (!this._filtered) {</span>
<a href="#l17.460"></a><span id="l17.460" class="difflineplus">+        var item = this._getItemAtIndex(aIndex);</span>
<a href="#l17.461"></a><span id="l17.461" class="difflineplus">+        if (!item) return;</span>
<a href="#l17.462"></a><span id="l17.462" class="difflineplus">+        this._invalidateCache(aIndex);</span>
<a href="#l17.463"></a><span id="l17.463" class="difflineplus">+        var multiplier = item.open ? -1 : 1;</span>
<a href="#l17.464"></a><span id="l17.464" class="difflineplus">+        var delta = multiplier * item.cookies.length;</span>
<a href="#l17.465"></a><span id="l17.465" class="difflineplus">+        this._rowCount += delta;</span>
<a href="#l17.466"></a><span id="l17.466" class="difflineplus">+        item.open = !item.open;</span>
<a href="#l17.467"></a><span id="l17.467" class="difflineplus">+        gCookiesWindow._tree.treeBoxObject.rowCountChanged(aIndex + 1, delta);</span>
<a href="#l17.468"></a><span id="l17.468" class="difflineplus">+        gCookiesWindow._tree.treeBoxObject.invalidateRow(aIndex);</span>
<a href="#l17.469"></a><span id="l17.469" class="difflineplus">+      }</span>
<a href="#l17.470"></a><span id="l17.470" class="difflineplus">+    },</span>
<a href="#l17.471"></a><span id="l17.471" class="difflineplus">+    cycleHeader: function (aColumn) {},</span>
<a href="#l17.472"></a><span id="l17.472" class="difflineplus">+    selectionChanged: function () {},</span>
<a href="#l17.473"></a><span id="l17.473" class="difflineplus">+    cycleCell: function (aIndex, aColumn) {},</span>
<a href="#l17.474"></a><span id="l17.474" class="difflineplus">+    isEditable: function (aIndex, aColumn)</span>
<a href="#l17.475"></a><span id="l17.475" class="difflineplus">+    {</span>
<a href="#l17.476"></a><span id="l17.476" class="difflineplus">+      return false;</span>
<a href="#l17.477"></a><span id="l17.477" class="difflineplus">+    },</span>
<a href="#l17.478"></a><span id="l17.478" class="difflineplus">+    isSelectable: function (aIndex, aColumn)</span>
<a href="#l17.479"></a><span id="l17.479" class="difflineplus">+    {</span>
<a href="#l17.480"></a><span id="l17.480" class="difflineplus">+      return false;</span>
<a href="#l17.481"></a><span id="l17.481" class="difflineplus">+    },</span>
<a href="#l17.482"></a><span id="l17.482" class="difflineplus">+    setCellValue: function (aIndex, aColumn, aValue) {},</span>
<a href="#l17.483"></a><span id="l17.483" class="difflineplus">+    setCellText: function (aIndex, aColumn, aValue) {},</span>
<a href="#l17.484"></a><span id="l17.484" class="difflineplus">+    performAction: function (aAction) {},</span>
<a href="#l17.485"></a><span id="l17.485" class="difflineplus">+    performActionOnRow: function (aAction, aIndex) {},</span>
<a href="#l17.486"></a><span id="l17.486" class="difflineplus">+    performActionOnCell: function (aAction, aindex, aColumn) {}</span>
<a href="#l17.487"></a><span id="l17.487" class="difflineplus">+  },</span>
<a href="#l17.488"></a><span id="l17.488" class="difflineplus">+</span>
<a href="#l17.489"></a><span id="l17.489" class="difflineplus">+  _makeStrippedHost: function (aHost)</span>
<a href="#l17.490"></a><span id="l17.490" class="difflineplus">+  {</span>
<a href="#l17.491"></a><span id="l17.491" class="difflineplus">+    var formattedHost = aHost.charAt(0) == &quot;.&quot; ? aHost.substring(1, aHost.length) : aHost;</span>
<a href="#l17.492"></a><span id="l17.492" class="difflineplus">+    return formattedHost.substring(0, 4) == &quot;www.&quot; ? formattedHost.substring(4, formattedHost.length) : formattedHost;</span>
<a href="#l17.493"></a><span id="l17.493" class="difflineplus">+  },</span>
<a href="#l17.494"></a><span id="l17.494" class="difflineplus">+</span>
<a href="#l17.495"></a><span id="l17.495" class="difflineplus">+  _addCookie: function (aStrippedHost, aCookie, aHostCount)</span>
<a href="#l17.496"></a><span id="l17.496" class="difflineplus">+  {</span>
<a href="#l17.497"></a><span id="l17.497" class="difflineplus">+    if (!(aStrippedHost in this._hosts) || !this._hosts[aStrippedHost]) {</span>
<a href="#l17.498"></a><span id="l17.498" class="difflineplus">+      this._hosts[aStrippedHost] = { cookies   : [],</span>
<a href="#l17.499"></a><span id="l17.499" class="difflineplus">+                                     rawHost   : aStrippedHost,</span>
<a href="#l17.500"></a><span id="l17.500" class="difflineplus">+                                     level     : 0,</span>
<a href="#l17.501"></a><span id="l17.501" class="difflineplus">+                                     open      : false,</span>
<a href="#l17.502"></a><span id="l17.502" class="difflineplus">+                                     container : true };</span>
<a href="#l17.503"></a><span id="l17.503" class="difflineplus">+      this._hostOrder.push(aStrippedHost);</span>
<a href="#l17.504"></a><span id="l17.504" class="difflineplus">+      ++aHostCount.value;</span>
<a href="#l17.505"></a><span id="l17.505" class="difflineplus">+    }</span>
<a href="#l17.506"></a><span id="l17.506" class="difflineplus">+</span>
<a href="#l17.507"></a><span id="l17.507" class="difflineplus">+    var c = this._makeCookieObject(aStrippedHost, aCookie);</span>
<a href="#l17.508"></a><span id="l17.508" class="difflineplus">+    this._hosts[aStrippedHost].cookies.push(c);</span>
<a href="#l17.509"></a><span id="l17.509" class="difflineplus">+  },</span>
<a href="#l17.510"></a><span id="l17.510" class="difflineplus">+</span>
<a href="#l17.511"></a><span id="l17.511" class="difflineplus">+  _makeCookieObject: function (aStrippedHost, aCookie)</span>
<a href="#l17.512"></a><span id="l17.512" class="difflineplus">+  {</span>
<a href="#l17.513"></a><span id="l17.513" class="difflineplus">+    var host = aCookie.host;</span>
<a href="#l17.514"></a><span id="l17.514" class="difflineplus">+    var formattedHost = host.charAt(0) == &quot;.&quot; ? host.substring(1, host.length) : host;</span>
<a href="#l17.515"></a><span id="l17.515" class="difflineplus">+    var c = { name        : aCookie.name,</span>
<a href="#l17.516"></a><span id="l17.516" class="difflineplus">+              value       : aCookie.value,</span>
<a href="#l17.517"></a><span id="l17.517" class="difflineplus">+              isDomain    : aCookie.isDomain,</span>
<a href="#l17.518"></a><span id="l17.518" class="difflineplus">+              host        : aCookie.host,</span>
<a href="#l17.519"></a><span id="l17.519" class="difflineplus">+              rawHost     : aStrippedHost,</span>
<a href="#l17.520"></a><span id="l17.520" class="difflineplus">+              path        : aCookie.path,</span>
<a href="#l17.521"></a><span id="l17.521" class="difflineplus">+              isSecure    : aCookie.isSecure,</span>
<a href="#l17.522"></a><span id="l17.522" class="difflineplus">+              expires     : aCookie.expires,</span>
<a href="#l17.523"></a><span id="l17.523" class="difflineplus">+              level       : 1,</span>
<a href="#l17.524"></a><span id="l17.524" class="difflineplus">+              container   : false };</span>
<a href="#l17.525"></a><span id="l17.525" class="difflineplus">+    return c;</span>
<a href="#l17.526"></a><span id="l17.526" class="difflineplus">+  },</span>
<a href="#l17.527"></a><span id="l17.527" class="difflineplus">+</span>
<a href="#l17.528"></a><span id="l17.528" class="difflineplus">+  _loadCookies: function ()</span>
<a href="#l17.529"></a><span id="l17.529" class="difflineplus">+  {</span>
<a href="#l17.530"></a><span id="l17.530" class="difflineplus">+    var e = this._cm.enumerator;</span>
<a href="#l17.531"></a><span id="l17.531" class="difflineplus">+    var hostCount = { value: 0 };</span>
<a href="#l17.532"></a><span id="l17.532" class="difflineplus">+    this._hosts = {};</span>
<a href="#l17.533"></a><span id="l17.533" class="difflineplus">+    this._hostOrder = [];</span>
<a href="#l17.534"></a><span id="l17.534" class="difflineplus">+    while (e.hasMoreElements()) {</span>
<a href="#l17.535"></a><span id="l17.535" class="difflineplus">+      var cookie = e.getNext();</span>
<a href="#l17.536"></a><span id="l17.536" class="difflineplus">+      if (cookie &amp;&amp; cookie instanceof Components.interfaces.nsICookie) {</span>
<a href="#l17.537"></a><span id="l17.537" class="difflineplus">+        var strippedHost = this._makeStrippedHost(cookie.host);</span>
<a href="#l17.538"></a><span id="l17.538" class="difflineplus">+        this._addCookie(strippedHost, cookie, hostCount);</span>
<a href="#l17.539"></a><span id="l17.539" class="difflineplus">+      }</span>
<a href="#l17.540"></a><span id="l17.540" class="difflineplus">+      else</span>
<a href="#l17.541"></a><span id="l17.541" class="difflineplus">+        break;</span>
<a href="#l17.542"></a><span id="l17.542" class="difflineplus">+    }</span>
<a href="#l17.543"></a><span id="l17.543" class="difflineplus">+    this._view._rowCount = hostCount.value;</span>
<a href="#l17.544"></a><span id="l17.544" class="difflineplus">+  },</span>
<a href="#l17.545"></a><span id="l17.545" class="difflineplus">+</span>
<a href="#l17.546"></a><span id="l17.546" class="difflineplus">+  formatExpiresString: function (aExpires)</span>
<a href="#l17.547"></a><span id="l17.547" class="difflineplus">+  {</span>
<a href="#l17.548"></a><span id="l17.548" class="difflineplus">+    if (aExpires) {</span>
<a href="#l17.549"></a><span id="l17.549" class="difflineplus">+      var date = new Date(1000 * aExpires);</span>
<a href="#l17.550"></a><span id="l17.550" class="difflineplus">+      return this._ds.FormatDateTime(&quot;&quot;, this._ds.dateFormatLong,</span>
<a href="#l17.551"></a><span id="l17.551" class="difflineplus">+                                     this._ds.timeFormatSeconds,</span>
<a href="#l17.552"></a><span id="l17.552" class="difflineplus">+                                     date.getFullYear(),</span>
<a href="#l17.553"></a><span id="l17.553" class="difflineplus">+                                     date.getMonth() + 1,</span>
<a href="#l17.554"></a><span id="l17.554" class="difflineplus">+                                     date.getDate(),</span>
<a href="#l17.555"></a><span id="l17.555" class="difflineplus">+                                     date.getHours(),</span>
<a href="#l17.556"></a><span id="l17.556" class="difflineplus">+                                     date.getMinutes(),</span>
<a href="#l17.557"></a><span id="l17.557" class="difflineplus">+                                     date.getSeconds());</span>
<a href="#l17.558"></a><span id="l17.558" class="difflineplus">+    }</span>
<a href="#l17.559"></a><span id="l17.559" class="difflineplus">+    return this._bundle.getString(&quot;AtEndOfSession&quot;);</span>
<a href="#l17.560"></a><span id="l17.560" class="difflineplus">+  },</span>
<a href="#l17.561"></a><span id="l17.561" class="difflineplus">+</span>
<a href="#l17.562"></a><span id="l17.562" class="difflineplus">+  _updateCookieData: function (aItem)</span>
<a href="#l17.563"></a><span id="l17.563" class="difflineplus">+  {</span>
<a href="#l17.564"></a><span id="l17.564" class="difflineplus">+    var seln = this._view.selection;</span>
<a href="#l17.565"></a><span id="l17.565" class="difflineplus">+    var ids = [&quot;name&quot;, &quot;value&quot;, &quot;host&quot;, &quot;path&quot;, &quot;isSecure&quot;, &quot;expires&quot;];</span>
<a href="#l17.566"></a><span id="l17.566" class="difflineplus">+    var properties;</span>
<a href="#l17.567"></a><span id="l17.567" class="difflineplus">+</span>
<a href="#l17.568"></a><span id="l17.568" class="difflineplus">+    if (aItem &amp;&amp; !aItem.container &amp;&amp; seln.count &gt; 0) {</span>
<a href="#l17.569"></a><span id="l17.569" class="difflineplus">+      properties = { name: aItem.name, value: aItem.value, host: aItem.host,</span>
<a href="#l17.570"></a><span id="l17.570" class="difflineplus">+                     path: aItem.path, expires: this.formatExpiresString(aItem.expires),</span>
<a href="#l17.571"></a><span id="l17.571" class="difflineplus">+                     isDomain: aItem.isDomain ? this._bundle.getString(&quot;domainColon&quot;)</span>
<a href="#l17.572"></a><span id="l17.572" class="difflineplus">+                                              : this._bundle.getString(&quot;hostColon&quot;),</span>
<a href="#l17.573"></a><span id="l17.573" class="difflineplus">+                     isSecure: aItem.isSecure ? this._bundle.getString(&quot;forSecureOnly&quot;)</span>
<a href="#l17.574"></a><span id="l17.574" class="difflineplus">+                                              : this._bundle.getString(&quot;forAnyConnection&quot;) };</span>
<a href="#l17.575"></a><span id="l17.575" class="difflineplus">+      for (var i = 0; i &lt; ids.length; ++i)</span>
<a href="#l17.576"></a><span id="l17.576" class="difflineplus">+        document.getElementById(ids[i]).disabled = false;</span>
<a href="#l17.577"></a><span id="l17.577" class="difflineplus">+    }</span>
<a href="#l17.578"></a><span id="l17.578" class="difflineplus">+    else {</span>
<a href="#l17.579"></a><span id="l17.579" class="difflineplus">+      var noneSelected = this._bundle.getString(&quot;noCookieSelected&quot;);</span>
<a href="#l17.580"></a><span id="l17.580" class="difflineplus">+      properties = { name: noneSelected, value: noneSelected, host: noneSelected,</span>
<a href="#l17.581"></a><span id="l17.581" class="difflineplus">+                     path: noneSelected, expires: noneSelected,</span>
<a href="#l17.582"></a><span id="l17.582" class="difflineplus">+                     isSecure: noneSelected };</span>
<a href="#l17.583"></a><span id="l17.583" class="difflineplus">+      for (i = 0; i &lt; ids.length; ++i)</span>
<a href="#l17.584"></a><span id="l17.584" class="difflineplus">+        document.getElementById(ids[i]).disabled = true;</span>
<a href="#l17.585"></a><span id="l17.585" class="difflineplus">+    }</span>
<a href="#l17.586"></a><span id="l17.586" class="difflineplus">+    for (var property in properties)</span>
<a href="#l17.587"></a><span id="l17.587" class="difflineplus">+      document.getElementById(property).value = properties[property];</span>
<a href="#l17.588"></a><span id="l17.588" class="difflineplus">+  },</span>
<a href="#l17.589"></a><span id="l17.589" class="difflineplus">+</span>
<a href="#l17.590"></a><span id="l17.590" class="difflineplus">+  onCookieSelected: function ()</span>
<a href="#l17.591"></a><span id="l17.591" class="difflineplus">+  {</span>
<a href="#l17.592"></a><span id="l17.592" class="difflineplus">+    var properties, item;</span>
<a href="#l17.593"></a><span id="l17.593" class="difflineplus">+    var seln = this._tree.view.selection;</span>
<a href="#l17.594"></a><span id="l17.594" class="difflineplus">+    if (!this._view._filtered)</span>
<a href="#l17.595"></a><span id="l17.595" class="difflineplus">+      item = this._view._getItemAtIndex(seln.currentIndex);</span>
<a href="#l17.596"></a><span id="l17.596" class="difflineplus">+    else</span>
<a href="#l17.597"></a><span id="l17.597" class="difflineplus">+      item = this._view._filterSet[seln.currentIndex];</span>
<a href="#l17.598"></a><span id="l17.598" class="difflineplus">+</span>
<a href="#l17.599"></a><span id="l17.599" class="difflineplus">+    this._updateCookieData(item);</span>
<a href="#l17.600"></a><span id="l17.600" class="difflineplus">+</span>
<a href="#l17.601"></a><span id="l17.601" class="difflineplus">+    var rangeCount = seln.getRangeCount();</span>
<a href="#l17.602"></a><span id="l17.602" class="difflineplus">+    var selectedCookieCount = 0;</span>
<a href="#l17.603"></a><span id="l17.603" class="difflineplus">+    for (var i = 0; i &lt; rangeCount; ++i) {</span>
<a href="#l17.604"></a><span id="l17.604" class="difflineplus">+      var min = {}; var max = {};</span>
<a href="#l17.605"></a><span id="l17.605" class="difflineplus">+      seln.getRangeAt(i, min, max);</span>
<a href="#l17.606"></a><span id="l17.606" class="difflineplus">+      for (var j = min.value; j &lt;= max.value; ++j) {</span>
<a href="#l17.607"></a><span id="l17.607" class="difflineplus">+        item = this._view._getItemAtIndex(j);</span>
<a href="#l17.608"></a><span id="l17.608" class="difflineplus">+        if (!item) continue;</span>
<a href="#l17.609"></a><span id="l17.609" class="difflineplus">+        if (item.container &amp;&amp; !item.open)</span>
<a href="#l17.610"></a><span id="l17.610" class="difflineplus">+          selectedCookieCount += item.cookies.length;</span>
<a href="#l17.611"></a><span id="l17.611" class="difflineplus">+        else if (!item.container)</span>
<a href="#l17.612"></a><span id="l17.612" class="difflineplus">+          ++selectedCookieCount;</span>
<a href="#l17.613"></a><span id="l17.613" class="difflineplus">+      }</span>
<a href="#l17.614"></a><span id="l17.614" class="difflineplus">+    }</span>
<a href="#l17.615"></a><span id="l17.615" class="difflineplus">+    var item = this._view._getItemAtIndex(seln.currentIndex);</span>
<a href="#l17.616"></a><span id="l17.616" class="difflineplus">+    if (item &amp;&amp; seln.count == 1 &amp;&amp; item.container &amp;&amp; item.open)</span>
<a href="#l17.617"></a><span id="l17.617" class="difflineplus">+      selectedCookieCount += 2;</span>
<a href="#l17.618"></a><span id="l17.618" class="difflineplus">+</span>
<a href="#l17.619"></a><span id="l17.619" class="difflineplus">+    var stringKey = selectedCookieCount == 1 ? &quot;removeCookie&quot; : &quot;removeCookies&quot;;</span>
<a href="#l17.620"></a><span id="l17.620" class="difflineplus">+    document.getElementById(&quot;removeCookie&quot;).label = this._bundle.getString(stringKey);</span>
<a href="#l17.621"></a><span id="l17.621" class="difflineplus">+</span>
<a href="#l17.622"></a><span id="l17.622" class="difflineplus">+    document.getElementById(&quot;removeAllCookies&quot;).disabled = this._view._filtered;</span>
<a href="#l17.623"></a><span id="l17.623" class="difflineplus">+    document.getElementById(&quot;removeCookie&quot;).disabled = !(seln.count &gt; 0);</span>
<a href="#l17.624"></a><span id="l17.624" class="difflineplus">+  },</span>
<a href="#l17.625"></a><span id="l17.625" class="difflineplus">+</span>
<a href="#l17.626"></a><span id="l17.626" class="difflineplus">+  deleteCookie: function ()</span>
<a href="#l17.627"></a><span id="l17.627" class="difflineplus">+  {</span>
<a href="#l17.628"></a><span id="l17.628" class="difflineplus">+#   // Selection Notes</span>
<a href="#l17.629"></a><span id="l17.629" class="difflineplus">+#   // - Selection always moves to *NEXT* adjacent item unless item</span>
<a href="#l17.630"></a><span id="l17.630" class="difflineplus">+#   //   is last child at a given level in which case it moves to *PREVIOUS*</span>
<a href="#l17.631"></a><span id="l17.631" class="difflineplus">+#   //   item</span>
<a href="#l17.632"></a><span id="l17.632" class="difflineplus">+#   //</span>
<a href="#l17.633"></a><span id="l17.633" class="difflineplus">+#   // Selection Cases (Somewhat Complicated)</span>
<a href="#l17.634"></a><span id="l17.634" class="difflineplus">+#   //</span>
<a href="#l17.635"></a><span id="l17.635" class="difflineplus">+#   // 1) Single cookie selected, host has single child</span>
<a href="#l17.636"></a><span id="l17.636" class="difflineplus">+#   //    v cnn.com</span>
<a href="#l17.637"></a><span id="l17.637" class="difflineplus">+#   //    //// cnn.com ///////////// goksdjf@ ////</span>
<a href="#l17.638"></a><span id="l17.638" class="difflineplus">+#   //    &gt; atwola.com</span>
<a href="#l17.639"></a><span id="l17.639" class="difflineplus">+#   //</span>
<a href="#l17.640"></a><span id="l17.640" class="difflineplus">+#   //    Before SelectedIndex: 1   Before RowCount: 3</span>
<a href="#l17.641"></a><span id="l17.641" class="difflineplus">+#   //    After  SelectedIndex: 0   After  RowCount: 1</span>
<a href="#l17.642"></a><span id="l17.642" class="difflineplus">+#   //</span>
<a href="#l17.643"></a><span id="l17.643" class="difflineplus">+#   // 2) Host selected, host open</span>
<a href="#l17.644"></a><span id="l17.644" class="difflineplus">+#   //    v goats.com ////////////////////////////</span>
<a href="#l17.645"></a><span id="l17.645" class="difflineplus">+#   //         goats.com             sldkkfjl</span>
<a href="#l17.646"></a><span id="l17.646" class="difflineplus">+#   //         goat.scom             flksj133</span>
<a href="#l17.647"></a><span id="l17.647" class="difflineplus">+#   //    &gt; atwola.com</span>
<a href="#l17.648"></a><span id="l17.648" class="difflineplus">+#   //</span>
<a href="#l17.649"></a><span id="l17.649" class="difflineplus">+#   //    Before SelectedIndex: 0   Before RowCount: 4</span>
<a href="#l17.650"></a><span id="l17.650" class="difflineplus">+#   //    After  SelectedIndex: 0   After  RowCount: 1</span>
<a href="#l17.651"></a><span id="l17.651" class="difflineplus">+#   //</span>
<a href="#l17.652"></a><span id="l17.652" class="difflineplus">+#   // 3) Host selected, host closed</span>
<a href="#l17.653"></a><span id="l17.653" class="difflineplus">+#   //    &gt; goats.com ////////////////////////////</span>
<a href="#l17.654"></a><span id="l17.654" class="difflineplus">+#   //    &gt; atwola.com</span>
<a href="#l17.655"></a><span id="l17.655" class="difflineplus">+#   //</span>
<a href="#l17.656"></a><span id="l17.656" class="difflineplus">+#   //    Before SelectedIndex: 0   Before RowCount: 2</span>
<a href="#l17.657"></a><span id="l17.657" class="difflineplus">+#   //    After  SelectedIndex: 0   After  RowCount: 1</span>
<a href="#l17.658"></a><span id="l17.658" class="difflineplus">+#   //</span>
<a href="#l17.659"></a><span id="l17.659" class="difflineplus">+#   // 4) Single cookie selected, host has many children</span>
<a href="#l17.660"></a><span id="l17.660" class="difflineplus">+#   //    v goats.com</span>
<a href="#l17.661"></a><span id="l17.661" class="difflineplus">+#   //         goats.com             sldkkfjl</span>
<a href="#l17.662"></a><span id="l17.662" class="difflineplus">+#   //    //// goats.com /////////// flksjl33 ////</span>
<a href="#l17.663"></a><span id="l17.663" class="difflineplus">+#   //    &gt; atwola.com</span>
<a href="#l17.664"></a><span id="l17.664" class="difflineplus">+#   //</span>
<a href="#l17.665"></a><span id="l17.665" class="difflineplus">+#   //    Before SelectedIndex: 2   Before RowCount: 4</span>
<a href="#l17.666"></a><span id="l17.666" class="difflineplus">+#   //    After  SelectedIndex: 1   After  RowCount: 3</span>
<a href="#l17.667"></a><span id="l17.667" class="difflineplus">+#   //</span>
<a href="#l17.668"></a><span id="l17.668" class="difflineplus">+#   // 5) Single cookie selected, host has many children</span>
<a href="#l17.669"></a><span id="l17.669" class="difflineplus">+#   //    v goats.com</span>
<a href="#l17.670"></a><span id="l17.670" class="difflineplus">+#   //    //// goats.com /////////// flksjl33 ////</span>
<a href="#l17.671"></a><span id="l17.671" class="difflineplus">+#   //         goats.com             sldkkfjl</span>
<a href="#l17.672"></a><span id="l17.672" class="difflineplus">+#   //    &gt; atwola.com</span>
<a href="#l17.673"></a><span id="l17.673" class="difflineplus">+#   //</span>
<a href="#l17.674"></a><span id="l17.674" class="difflineplus">+#   //    Before SelectedIndex: 1   Before RowCount: 4</span>
<a href="#l17.675"></a><span id="l17.675" class="difflineplus">+#   //    After  SelectedIndex: 1   After  RowCount: 3</span>
<a href="#l17.676"></a><span id="l17.676" class="difflineplus">+    var seln = this._view.selection;</span>
<a href="#l17.677"></a><span id="l17.677" class="difflineplus">+    var tbo = this._tree.treeBoxObject;</span>
<a href="#l17.678"></a><span id="l17.678" class="difflineplus">+</span>
<a href="#l17.679"></a><span id="l17.679" class="difflineplus">+    if (seln.count &lt; 1) return;</span>
<a href="#l17.680"></a><span id="l17.680" class="difflineplus">+</span>
<a href="#l17.681"></a><span id="l17.681" class="difflineplus">+    var nextSelected = 0;</span>
<a href="#l17.682"></a><span id="l17.682" class="difflineplus">+    var rowCountImpact = 0;</span>
<a href="#l17.683"></a><span id="l17.683" class="difflineplus">+    var deleteItems = [];</span>
<a href="#l17.684"></a><span id="l17.684" class="difflineplus">+    if (!this._view._filtered) {</span>
<a href="#l17.685"></a><span id="l17.685" class="difflineplus">+      var ci = seln.currentIndex;</span>
<a href="#l17.686"></a><span id="l17.686" class="difflineplus">+      nextSelected = ci;</span>
<a href="#l17.687"></a><span id="l17.687" class="difflineplus">+      var invalidateRow = -1;</span>
<a href="#l17.688"></a><span id="l17.688" class="difflineplus">+      var item = this._view._getItemAtIndex(ci);</span>
<a href="#l17.689"></a><span id="l17.689" class="difflineplus">+      if (item.container) {</span>
<a href="#l17.690"></a><span id="l17.690" class="difflineplus">+        rowCountImpact -= (item.open ? item.cookies.length : 0) + 1;</span>
<a href="#l17.691"></a><span id="l17.691" class="difflineplus">+        deleteItems = deleteItems.concat(item.cookies);</span>
<a href="#l17.692"></a><span id="l17.692" class="difflineplus">+        if (!this._view.hasNextSibling(-1, ci))</span>
<a href="#l17.693"></a><span id="l17.693" class="difflineplus">+          --nextSelected;</span>
<a href="#l17.694"></a><span id="l17.694" class="difflineplus">+        this._view._removeItemAtIndex(ci);</span>
<a href="#l17.695"></a><span id="l17.695" class="difflineplus">+      }</span>
<a href="#l17.696"></a><span id="l17.696" class="difflineplus">+      else {</span>
<a href="#l17.697"></a><span id="l17.697" class="difflineplus">+        var parent = this._view._getItemAtIndex(item.parentIndex);</span>
<a href="#l17.698"></a><span id="l17.698" class="difflineplus">+        --rowCountImpact;</span>
<a href="#l17.699"></a><span id="l17.699" class="difflineplus">+        if (parent.cookies.length == 1) {</span>
<a href="#l17.700"></a><span id="l17.700" class="difflineplus">+          --rowCountImpact;</span>
<a href="#l17.701"></a><span id="l17.701" class="difflineplus">+          deleteItems.push(item);</span>
<a href="#l17.702"></a><span id="l17.702" class="difflineplus">+          if (!this._view.hasNextSibling(-1, ci))</span>
<a href="#l17.703"></a><span id="l17.703" class="difflineplus">+            --nextSelected;</span>
<a href="#l17.704"></a><span id="l17.704" class="difflineplus">+          if (!this._view.hasNextSibling(-1, item.parentIndex))</span>
<a href="#l17.705"></a><span id="l17.705" class="difflineplus">+            --nextSelected;</span>
<a href="#l17.706"></a><span id="l17.706" class="difflineplus">+          this._view._removeItemAtIndex(item.parentIndex);</span>
<a href="#l17.707"></a><span id="l17.707" class="difflineplus">+          invalidateRow = item.parentIndex;</span>
<a href="#l17.708"></a><span id="l17.708" class="difflineplus">+        }</span>
<a href="#l17.709"></a><span id="l17.709" class="difflineplus">+        else {</span>
<a href="#l17.710"></a><span id="l17.710" class="difflineplus">+          deleteItems.push(item);</span>
<a href="#l17.711"></a><span id="l17.711" class="difflineplus">+          if (!this._view.hasNextSibling(-1, ci))</span>
<a href="#l17.712"></a><span id="l17.712" class="difflineplus">+            --nextSelected;</span>
<a href="#l17.713"></a><span id="l17.713" class="difflineplus">+          this._view._removeItemAtIndex(ci);</span>
<a href="#l17.714"></a><span id="l17.714" class="difflineplus">+        }</span>
<a href="#l17.715"></a><span id="l17.715" class="difflineplus">+      }</span>
<a href="#l17.716"></a><span id="l17.716" class="difflineplus">+      this._view._rowCount += rowCountImpact;</span>
<a href="#l17.717"></a><span id="l17.717" class="difflineplus">+      tbo.rowCountChanged(ci, rowCountImpact);</span>
<a href="#l17.718"></a><span id="l17.718" class="difflineplus">+      if (invalidateRow != -1)</span>
<a href="#l17.719"></a><span id="l17.719" class="difflineplus">+        tbo.invalidateRow(invalidateRow);</span>
<a href="#l17.720"></a><span id="l17.720" class="difflineplus">+    }</span>
<a href="#l17.721"></a><span id="l17.721" class="difflineplus">+    else {</span>
<a href="#l17.722"></a><span id="l17.722" class="difflineplus">+      var rangeCount = seln.getRangeCount();</span>
<a href="#l17.723"></a><span id="l17.723" class="difflineplus">+      for (var i = 0; i &lt; rangeCount; ++i) {</span>
<a href="#l17.724"></a><span id="l17.724" class="difflineplus">+        var min = {}; var max = {};</span>
<a href="#l17.725"></a><span id="l17.725" class="difflineplus">+        seln.getRangeAt(i, min, max);</span>
<a href="#l17.726"></a><span id="l17.726" class="difflineplus">+        nextSelected = min.value;</span>
<a href="#l17.727"></a><span id="l17.727" class="difflineplus">+        for (var j = min.value; j &lt;= max.value; ++j) {</span>
<a href="#l17.728"></a><span id="l17.728" class="difflineplus">+          deleteItems.push(this._view._getItemAtIndex(j));</span>
<a href="#l17.729"></a><span id="l17.729" class="difflineplus">+          if (!this._view.hasNextSibling(-1, max.value))</span>
<a href="#l17.730"></a><span id="l17.730" class="difflineplus">+            --nextSelected;</span>
<a href="#l17.731"></a><span id="l17.731" class="difflineplus">+        }</span>
<a href="#l17.732"></a><span id="l17.732" class="difflineplus">+        var delta = max.value - min.value + 1;</span>
<a href="#l17.733"></a><span id="l17.733" class="difflineplus">+        this._view._removeItemAtIndex(min.value, delta);</span>
<a href="#l17.734"></a><span id="l17.734" class="difflineplus">+        rowCountImpact = -1 * delta;</span>
<a href="#l17.735"></a><span id="l17.735" class="difflineplus">+        this._view._rowCount += rowCountImpact;</span>
<a href="#l17.736"></a><span id="l17.736" class="difflineplus">+        tbo.rowCountChanged(min.value, rowCountImpact);</span>
<a href="#l17.737"></a><span id="l17.737" class="difflineplus">+      }</span>
<a href="#l17.738"></a><span id="l17.738" class="difflineplus">+    }</span>
<a href="#l17.739"></a><span id="l17.739" class="difflineplus">+</span>
<a href="#l17.740"></a><span id="l17.740" class="difflineplus">+    var psvc = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l17.741"></a><span id="l17.741" class="difflineplus">+                         .getService(Components.interfaces.nsIPrefBranch);</span>
<a href="#l17.742"></a><span id="l17.742" class="difflineplus">+    var blockFutureCookies = false;</span>
<a href="#l17.743"></a><span id="l17.743" class="difflineplus">+    if (psvc.prefHasUserValue(&quot;network.cookie.blockFutureCookies&quot;))</span>
<a href="#l17.744"></a><span id="l17.744" class="difflineplus">+      blockFutureCookies = psvc.getBoolPref(&quot;network.cookie.blockFutureCookies&quot;);</span>
<a href="#l17.745"></a><span id="l17.745" class="difflineplus">+    for (i = 0; i &lt; deleteItems.length; ++i) {</span>
<a href="#l17.746"></a><span id="l17.746" class="difflineplus">+      var item = deleteItems[i];</span>
<a href="#l17.747"></a><span id="l17.747" class="difflineplus">+      this._cm.remove(item.host, item.name, item.path, blockFutureCookies);</span>
<a href="#l17.748"></a><span id="l17.748" class="difflineplus">+    }</span>
<a href="#l17.749"></a><span id="l17.749" class="difflineplus">+</span>
<a href="#l17.750"></a><span id="l17.750" class="difflineplus">+    if (nextSelected &lt; 0)</span>
<a href="#l17.751"></a><span id="l17.751" class="difflineplus">+      seln.clearSelection();</span>
<a href="#l17.752"></a><span id="l17.752" class="difflineplus">+    else {</span>
<a href="#l17.753"></a><span id="l17.753" class="difflineplus">+      seln.select(nextSelected);</span>
<a href="#l17.754"></a><span id="l17.754" class="difflineplus">+      this._tree.focus();</span>
<a href="#l17.755"></a><span id="l17.755" class="difflineplus">+    }</span>
<a href="#l17.756"></a><span id="l17.756" class="difflineplus">+  },</span>
<a href="#l17.757"></a><span id="l17.757" class="difflineplus">+</span>
<a href="#l17.758"></a><span id="l17.758" class="difflineplus">+  deleteAllCookies: function ()</span>
<a href="#l17.759"></a><span id="l17.759" class="difflineplus">+  {</span>
<a href="#l17.760"></a><span id="l17.760" class="difflineplus">+    this._cm.removeAll();</span>
<a href="#l17.761"></a><span id="l17.761" class="difflineplus">+    this._tree.focus();</span>
<a href="#l17.762"></a><span id="l17.762" class="difflineplus">+  },</span>
<a href="#l17.763"></a><span id="l17.763" class="difflineplus">+</span>
<a href="#l17.764"></a><span id="l17.764" class="difflineplus">+  onCookieKeyPress: function (aEvent)</span>
<a href="#l17.765"></a><span id="l17.765" class="difflineplus">+  {</span>
<a href="#l17.766"></a><span id="l17.766" class="difflineplus">+    if (aEvent.keyCode == 46)</span>
<a href="#l17.767"></a><span id="l17.767" class="difflineplus">+      this.deleteCookie();</span>
<a href="#l17.768"></a><span id="l17.768" class="difflineplus">+  },</span>
<a href="#l17.769"></a><span id="l17.769" class="difflineplus">+</span>
<a href="#l17.770"></a><span id="l17.770" class="difflineplus">+  _lastSortProperty : &quot;&quot;,</span>
<a href="#l17.771"></a><span id="l17.771" class="difflineplus">+  _lastSortAscending: false,</span>
<a href="#l17.772"></a><span id="l17.772" class="difflineplus">+  sort: function (aProperty)</span>
<a href="#l17.773"></a><span id="l17.773" class="difflineplus">+  {</span>
<a href="#l17.774"></a><span id="l17.774" class="difflineplus">+    var ascending = (aProperty == this._lastSortProperty) ? !this._lastSortAscending : true;</span>
<a href="#l17.775"></a><span id="l17.775" class="difflineplus">+    // Sort the Non-Filtered Host Collections</span>
<a href="#l17.776"></a><span id="l17.776" class="difflineplus">+    if (aProperty == &quot;rawHost&quot;) {</span>
<a href="#l17.777"></a><span id="l17.777" class="difflineplus">+      function sortByHost(a, b)</span>
<a href="#l17.778"></a><span id="l17.778" class="difflineplus">+      {</span>
<a href="#l17.779"></a><span id="l17.779" class="difflineplus">+        return a.toLowerCase().localeCompare(b.toLowerCase());</span>
<a href="#l17.780"></a><span id="l17.780" class="difflineplus">+      }</span>
<a href="#l17.781"></a><span id="l17.781" class="difflineplus">+      this._hostOrder.sort(sortByHost);</span>
<a href="#l17.782"></a><span id="l17.782" class="difflineplus">+      if (!ascending)</span>
<a href="#l17.783"></a><span id="l17.783" class="difflineplus">+        this._hostOrder.reverse();</span>
<a href="#l17.784"></a><span id="l17.784" class="difflineplus">+    }</span>
<a href="#l17.785"></a><span id="l17.785" class="difflineplus">+</span>
<a href="#l17.786"></a><span id="l17.786" class="difflineplus">+    function sortByProperty(a, b)</span>
<a href="#l17.787"></a><span id="l17.787" class="difflineplus">+    {</span>
<a href="#l17.788"></a><span id="l17.788" class="difflineplus">+      return a[aProperty].toLowerCase().localeCompare(b[aProperty].toLowerCase());</span>
<a href="#l17.789"></a><span id="l17.789" class="difflineplus">+    }</span>
<a href="#l17.790"></a><span id="l17.790" class="difflineplus">+    for (var host in this._hosts) {</span>
<a href="#l17.791"></a><span id="l17.791" class="difflineplus">+      var cookies = this._hosts[host].cookies;</span>
<a href="#l17.792"></a><span id="l17.792" class="difflineplus">+      cookies.sort(sortByProperty);</span>
<a href="#l17.793"></a><span id="l17.793" class="difflineplus">+      if (!ascending)</span>
<a href="#l17.794"></a><span id="l17.794" class="difflineplus">+        cookies.reverse();</span>
<a href="#l17.795"></a><span id="l17.795" class="difflineplus">+    }</span>
<a href="#l17.796"></a><span id="l17.796" class="difflineplus">+    // Sort the Filtered List, if in Filtered mode</span>
<a href="#l17.797"></a><span id="l17.797" class="difflineplus">+    if (this._view._filtered) {</span>
<a href="#l17.798"></a><span id="l17.798" class="difflineplus">+      this._view._filterSet.sort(sortByProperty);</span>
<a href="#l17.799"></a><span id="l17.799" class="difflineplus">+      if (!ascending)</span>
<a href="#l17.800"></a><span id="l17.800" class="difflineplus">+        this._view._filterSet.reverse();</span>
<a href="#l17.801"></a><span id="l17.801" class="difflineplus">+    }</span>
<a href="#l17.802"></a><span id="l17.802" class="difflineplus">+</span>
<a href="#l17.803"></a><span id="l17.803" class="difflineplus">+    this._view._invalidateCache(0);</span>
<a href="#l17.804"></a><span id="l17.804" class="difflineplus">+    this._view.selection.clearSelection();</span>
<a href="#l17.805"></a><span id="l17.805" class="difflineplus">+    this._view.selection.select(0);</span>
<a href="#l17.806"></a><span id="l17.806" class="difflineplus">+    this._tree.treeBoxObject.invalidate();</span>
<a href="#l17.807"></a><span id="l17.807" class="difflineplus">+    this._tree.treeBoxObject.ensureRowIsVisible(0);</span>
<a href="#l17.808"></a><span id="l17.808" class="difflineplus">+</span>
<a href="#l17.809"></a><span id="l17.809" class="difflineplus">+    this._lastSortAscending = ascending;</span>
<a href="#l17.810"></a><span id="l17.810" class="difflineplus">+    this._lastSortProperty = aProperty;</span>
<a href="#l17.811"></a><span id="l17.811" class="difflineplus">+  },</span>
<a href="#l17.812"></a><span id="l17.812" class="difflineplus">+</span>
<a href="#l17.813"></a><span id="l17.813" class="difflineplus">+  clearFilter: function ()</span>
<a href="#l17.814"></a><span id="l17.814" class="difflineplus">+  {</span>
<a href="#l17.815"></a><span id="l17.815" class="difflineplus">+    // Revert to single-select in the tree</span>
<a href="#l17.816"></a><span id="l17.816" class="difflineplus">+    this._tree.setAttribute(&quot;seltype&quot;, &quot;single&quot;);</span>
<a href="#l17.817"></a><span id="l17.817" class="difflineplus">+</span>
<a href="#l17.818"></a><span id="l17.818" class="difflineplus">+    // Clear the Tree Display</span>
<a href="#l17.819"></a><span id="l17.819" class="difflineplus">+    this._view._filtered = false;</span>
<a href="#l17.820"></a><span id="l17.820" class="difflineplus">+    this._view._rowCount = 0;</span>
<a href="#l17.821"></a><span id="l17.821" class="difflineplus">+    this._tree.treeBoxObject.rowCountChanged(0, -this._view._filterSet.length);</span>
<a href="#l17.822"></a><span id="l17.822" class="difflineplus">+    this._view._filterSet = [];</span>
<a href="#l17.823"></a><span id="l17.823" class="difflineplus">+</span>
<a href="#l17.824"></a><span id="l17.824" class="difflineplus">+    // Just reload the list to make sure deletions are respected</span>
<a href="#l17.825"></a><span id="l17.825" class="difflineplus">+    this._loadCookies();</span>
<a href="#l17.826"></a><span id="l17.826" class="difflineplus">+    this._tree.treeBoxObject.view = this._view;</span>
<a href="#l17.827"></a><span id="l17.827" class="difflineplus">+</span>
<a href="#l17.828"></a><span id="l17.828" class="difflineplus">+    // Restore sort order</span>
<a href="#l17.829"></a><span id="l17.829" class="difflineplus">+    var sortby = this._lastSortProperty;</span>
<a href="#l17.830"></a><span id="l17.830" class="difflineplus">+    if (sortby == &quot;&quot;) {</span>
<a href="#l17.831"></a><span id="l17.831" class="difflineplus">+      this._lastSortAscending = false;</span>
<a href="#l17.832"></a><span id="l17.832" class="difflineplus">+      this.sort(&quot;rawHost&quot;);</span>
<a href="#l17.833"></a><span id="l17.833" class="difflineplus">+    }</span>
<a href="#l17.834"></a><span id="l17.834" class="difflineplus">+    else {</span>
<a href="#l17.835"></a><span id="l17.835" class="difflineplus">+      this._lastSortAscending = !this._lastSortAscending;</span>
<a href="#l17.836"></a><span id="l17.836" class="difflineplus">+      this.sort(sortby);</span>
<a href="#l17.837"></a><span id="l17.837" class="difflineplus">+    }</span>
<a href="#l17.838"></a><span id="l17.838" class="difflineplus">+</span>
<a href="#l17.839"></a><span id="l17.839" class="difflineplus">+    // Restore open state</span>
<a href="#l17.840"></a><span id="l17.840" class="difflineplus">+    for (var i = 0; i &lt; this._openIndices.length; ++i)</span>
<a href="#l17.841"></a><span id="l17.841" class="difflineplus">+      this._view.toggleOpenState(this._openIndices[i]);</span>
<a href="#l17.842"></a><span id="l17.842" class="difflineplus">+    this._openIndices = [];</span>
<a href="#l17.843"></a><span id="l17.843" class="difflineplus">+</span>
<a href="#l17.844"></a><span id="l17.844" class="difflineplus">+    // Restore selection</span>
<a href="#l17.845"></a><span id="l17.845" class="difflineplus">+    this._view.selection.clearSelection();</span>
<a href="#l17.846"></a><span id="l17.846" class="difflineplus">+    for (i = 0; i &lt; this._lastSelectedRanges.length; ++i) {</span>
<a href="#l17.847"></a><span id="l17.847" class="difflineplus">+      var range = this._lastSelectedRanges[i];</span>
<a href="#l17.848"></a><span id="l17.848" class="difflineplus">+      this._view.selection.rangedSelect(range.min, range.max, true);</span>
<a href="#l17.849"></a><span id="l17.849" class="difflineplus">+    }</span>
<a href="#l17.850"></a><span id="l17.850" class="difflineplus">+    this._lastSelectedRanges = [];</span>
<a href="#l17.851"></a><span id="l17.851" class="difflineplus">+</span>
<a href="#l17.852"></a><span id="l17.852" class="difflineplus">+    document.getElementById(&quot;cookiesIntro&quot;).value = this._bundle.getString(&quot;cookiesAll&quot;);</span>
<a href="#l17.853"></a><span id="l17.853" class="difflineplus">+  },</span>
<a href="#l17.854"></a><span id="l17.854" class="difflineplus">+</span>
<a href="#l17.855"></a><span id="l17.855" class="difflineplus">+  _cookieMatchesFilter: function (aCookie)</span>
<a href="#l17.856"></a><span id="l17.856" class="difflineplus">+  {</span>
<a href="#l17.857"></a><span id="l17.857" class="difflineplus">+    return aCookie.rawHost.indexOf(this._view._filterValue) != -1 ||</span>
<a href="#l17.858"></a><span id="l17.858" class="difflineplus">+           aCookie.name.indexOf(this._view._filterValue) != -1 ||</span>
<a href="#l17.859"></a><span id="l17.859" class="difflineplus">+           aCookie.value.indexOf(this._view._filterValue) != -1;</span>
<a href="#l17.860"></a><span id="l17.860" class="difflineplus">+  },</span>
<a href="#l17.861"></a><span id="l17.861" class="difflineplus">+</span>
<a href="#l17.862"></a><span id="l17.862" class="difflineplus">+  _filterCookies: function (aFilterValue)</span>
<a href="#l17.863"></a><span id="l17.863" class="difflineplus">+  {</span>
<a href="#l17.864"></a><span id="l17.864" class="difflineplus">+    this._view._filterValue = aFilterValue;</span>
<a href="#l17.865"></a><span id="l17.865" class="difflineplus">+    var cookies = [];</span>
<a href="#l17.866"></a><span id="l17.866" class="difflineplus">+    for (var i = 0; i &lt; gCookiesWindow._hostOrder.length; ++i) { //var host in gCookiesWindow._hosts) {</span>
<a href="#l17.867"></a><span id="l17.867" class="difflineplus">+      var currHost = gCookiesWindow._hosts[gCookiesWindow._hostOrder[i]]; // gCookiesWindow._hosts[host];</span>
<a href="#l17.868"></a><span id="l17.868" class="difflineplus">+      if (!currHost) continue;</span>
<a href="#l17.869"></a><span id="l17.869" class="difflineplus">+      for (var j = 0; j &lt; currHost.cookies.length; ++j) {</span>
<a href="#l17.870"></a><span id="l17.870" class="difflineplus">+        var cookie = currHost.cookies[j];</span>
<a href="#l17.871"></a><span id="l17.871" class="difflineplus">+        if (this._cookieMatchesFilter(cookie))</span>
<a href="#l17.872"></a><span id="l17.872" class="difflineplus">+          cookies.push(cookie);</span>
<a href="#l17.873"></a><span id="l17.873" class="difflineplus">+      }</span>
<a href="#l17.874"></a><span id="l17.874" class="difflineplus">+    }</span>
<a href="#l17.875"></a><span id="l17.875" class="difflineplus">+    return cookies;</span>
<a href="#l17.876"></a><span id="l17.876" class="difflineplus">+  },</span>
<a href="#l17.877"></a><span id="l17.877" class="difflineplus">+</span>
<a href="#l17.878"></a><span id="l17.878" class="difflineplus">+  _lastSelectedRanges: [],</span>
<a href="#l17.879"></a><span id="l17.879" class="difflineplus">+  _openIndices: [],</span>
<a href="#l17.880"></a><span id="l17.880" class="difflineplus">+  _saveState: function ()</span>
<a href="#l17.881"></a><span id="l17.881" class="difflineplus">+  {</span>
<a href="#l17.882"></a><span id="l17.882" class="difflineplus">+    // Save selection</span>
<a href="#l17.883"></a><span id="l17.883" class="difflineplus">+    var seln = this._view.selection;</span>
<a href="#l17.884"></a><span id="l17.884" class="difflineplus">+    this._lastSelectedRanges = [];</span>
<a href="#l17.885"></a><span id="l17.885" class="difflineplus">+    var rangeCount = seln.getRangeCount();</span>
<a href="#l17.886"></a><span id="l17.886" class="difflineplus">+    for (var i = 0; i &lt; rangeCount; ++i) {</span>
<a href="#l17.887"></a><span id="l17.887" class="difflineplus">+      var min = {}; var max = {};</span>
<a href="#l17.888"></a><span id="l17.888" class="difflineplus">+      seln.getRangeAt(i, min, max);</span>
<a href="#l17.889"></a><span id="l17.889" class="difflineplus">+      this._lastSelectedRanges.push({ min: min.value, max: max.value });</span>
<a href="#l17.890"></a><span id="l17.890" class="difflineplus">+    }</span>
<a href="#l17.891"></a><span id="l17.891" class="difflineplus">+</span>
<a href="#l17.892"></a><span id="l17.892" class="difflineplus">+    // Save open states</span>
<a href="#l17.893"></a><span id="l17.893" class="difflineplus">+    this._openIndices = [];</span>
<a href="#l17.894"></a><span id="l17.894" class="difflineplus">+    for (i = 0; i &lt; this._view.rowCount; ++i) {</span>
<a href="#l17.895"></a><span id="l17.895" class="difflineplus">+      var item = this._view._getItemAtIndex(i);</span>
<a href="#l17.896"></a><span id="l17.896" class="difflineplus">+      if (item &amp;&amp; item.container &amp;&amp; item.open)</span>
<a href="#l17.897"></a><span id="l17.897" class="difflineplus">+        this._openIndices.push(i);</span>
<a href="#l17.898"></a><span id="l17.898" class="difflineplus">+    }</span>
<a href="#l17.899"></a><span id="l17.899" class="difflineplus">+  },</span>
<a href="#l17.900"></a><span id="l17.900" class="difflineplus">+</span>
<a href="#l17.901"></a><span id="l17.901" class="difflineplus">+  filter: function ()</span>
<a href="#l17.902"></a><span id="l17.902" class="difflineplus">+  {</span>
<a href="#l17.903"></a><span id="l17.903" class="difflineplus">+    var filter = document.getElementById(&quot;filter&quot;).value;</span>
<a href="#l17.904"></a><span id="l17.904" class="difflineplus">+    if (filter == &quot;&quot;) {</span>
<a href="#l17.905"></a><span id="l17.905" class="difflineplus">+      gCookiesWindow.clearFilter();</span>
<a href="#l17.906"></a><span id="l17.906" class="difflineplus">+      return;</span>
<a href="#l17.907"></a><span id="l17.907" class="difflineplus">+    }</span>
<a href="#l17.908"></a><span id="l17.908" class="difflineplus">+    var view = gCookiesWindow._view;</span>
<a href="#l17.909"></a><span id="l17.909" class="difflineplus">+    view._filterSet = gCookiesWindow._filterCookies(filter);</span>
<a href="#l17.910"></a><span id="l17.910" class="difflineplus">+    if (!view._filtered) {</span>
<a href="#l17.911"></a><span id="l17.911" class="difflineplus">+      // Save Display Info for the Non-Filtered mode when we first</span>
<a href="#l17.912"></a><span id="l17.912" class="difflineplus">+      // enter Filtered mode.</span>
<a href="#l17.913"></a><span id="l17.913" class="difflineplus">+      gCookiesWindow._saveState();</span>
<a href="#l17.914"></a><span id="l17.914" class="difflineplus">+      view._filtered = true;</span>
<a href="#l17.915"></a><span id="l17.915" class="difflineplus">+    }</span>
<a href="#l17.916"></a><span id="l17.916" class="difflineplus">+    // Move to multi-select in the tree</span>
<a href="#l17.917"></a><span id="l17.917" class="difflineplus">+    gCookiesWindow._tree.setAttribute(&quot;seltype&quot;, &quot;multiple&quot;);</span>
<a href="#l17.918"></a><span id="l17.918" class="difflineplus">+</span>
<a href="#l17.919"></a><span id="l17.919" class="difflineplus">+    // Clear the display</span>
<a href="#l17.920"></a><span id="l17.920" class="difflineplus">+    var oldCount = view._rowCount;</span>
<a href="#l17.921"></a><span id="l17.921" class="difflineplus">+    view._rowCount = 0;</span>
<a href="#l17.922"></a><span id="l17.922" class="difflineplus">+    gCookiesWindow._tree.treeBoxObject.rowCountChanged(0, -oldCount);</span>
<a href="#l17.923"></a><span id="l17.923" class="difflineplus">+    // Set up the filtered display</span>
<a href="#l17.924"></a><span id="l17.924" class="difflineplus">+    view._rowCount = view._filterSet.length;</span>
<a href="#l17.925"></a><span id="l17.925" class="difflineplus">+    gCookiesWindow._tree.treeBoxObject.rowCountChanged(0, view.rowCount);</span>
<a href="#l17.926"></a><span id="l17.926" class="difflineplus">+</span>
<a href="#l17.927"></a><span id="l17.927" class="difflineplus">+    // if the view is not empty then select the first item</span>
<a href="#l17.928"></a><span id="l17.928" class="difflineplus">+    if (view.rowCount &gt; 0)</span>
<a href="#l17.929"></a><span id="l17.929" class="difflineplus">+      view.selection.select(0);</span>
<a href="#l17.930"></a><span id="l17.930" class="difflineplus">+</span>
<a href="#l17.931"></a><span id="l17.931" class="difflineplus">+    document.getElementById(&quot;cookiesIntro&quot;).value = gCookiesWindow._bundle.getString(&quot;cookiesFiltered&quot;);</span>
<a href="#l17.932"></a><span id="l17.932" class="difflineplus">+  },</span>
<a href="#l17.933"></a><span id="l17.933" class="difflineplus">+</span>
<a href="#l17.934"></a><span id="l17.934" class="difflineplus">+  setFilter: function (aFilterString) {</span>
<a href="#l17.935"></a><span id="l17.935" class="difflineplus">+    document.getElementById(&quot;filter&quot;).value = aFilterString;</span>
<a href="#l17.936"></a><span id="l17.936" class="difflineplus">+    this.filter();</span>
<a href="#l17.937"></a><span id="l17.937" class="difflineplus">+  },</span>
<a href="#l17.938"></a><span id="l17.938" class="difflineplus">+</span>
<a href="#l17.939"></a><span id="l17.939" class="difflineplus">+  focusFilterBox: function ()</span>
<a href="#l17.940"></a><span id="l17.940" class="difflineplus">+  {</span>
<a href="#l17.941"></a><span id="l17.941" class="difflineplus">+    var filter = document.getElementById(&quot;filter&quot;);</span>
<a href="#l17.942"></a><span id="l17.942" class="difflineplus">+    filter.focus();</span>
<a href="#l17.943"></a><span id="l17.943" class="difflineplus">+    filter.select();</span>
<a href="#l17.944"></a><span id="l17.944" class="difflineplus">+  }</span>
<a href="#l17.945"></a><span id="l17.945" class="difflineplus">+};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1">new file mode 100644</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineminus">--- /dev/null</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineplus">+++ b/mail/components/preferences/cookies.xul</span>
<a href="#l18.4"></a><span id="l18.4" class="difflineat">@@ -0,0 +1,141 @@</span>
<a href="#l18.5"></a><span id="l18.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l18.6"></a><span id="l18.6" class="difflineplus">+</span>
<a href="#l18.7"></a><span id="l18.7" class="difflineplus">+# -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l18.8"></a><span id="l18.8" class="difflineplus">+# ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l18.9"></a><span id="l18.9" class="difflineplus">+# Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l18.10"></a><span id="l18.10" class="difflineplus">+#</span>
<a href="#l18.11"></a><span id="l18.11" class="difflineplus">+# The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+# 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+# the License. You may obtain a copy of the License at</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+# http://www.mozilla.org/MPL/</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+#</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineplus">+# Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l18.17"></a><span id="l18.17" class="difflineplus">+# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineplus">+# for the specific language governing rights and limitations under the</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineplus">+# License.</span>
<a href="#l18.20"></a><span id="l18.20" class="difflineplus">+#</span>
<a href="#l18.21"></a><span id="l18.21" class="difflineplus">+# The Original Code is the Firefox Preferences System.</span>
<a href="#l18.22"></a><span id="l18.22" class="difflineplus">+#</span>
<a href="#l18.23"></a><span id="l18.23" class="difflineplus">+# The Initial Developer of the Original Code is</span>
<a href="#l18.24"></a><span id="l18.24" class="difflineplus">+# Ben Goodger.</span>
<a href="#l18.25"></a><span id="l18.25" class="difflineplus">+# Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l18.26"></a><span id="l18.26" class="difflineplus">+# the Initial Developer. All Rights Reserved.</span>
<a href="#l18.27"></a><span id="l18.27" class="difflineplus">+#</span>
<a href="#l18.28"></a><span id="l18.28" class="difflineplus">+# Contributor(s):</span>
<a href="#l18.29"></a><span id="l18.29" class="difflineplus">+#   Ben Goodger &lt;ben@mozilla.org&gt;</span>
<a href="#l18.30"></a><span id="l18.30" class="difflineplus">+#</span>
<a href="#l18.31"></a><span id="l18.31" class="difflineplus">+# Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l18.32"></a><span id="l18.32" class="difflineplus">+# either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l18.33"></a><span id="l18.33" class="difflineplus">+# the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l18.34"></a><span id="l18.34" class="difflineplus">+# in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l18.35"></a><span id="l18.35" class="difflineplus">+# of those above. If you wish to allow use of your version of this file only</span>
<a href="#l18.36"></a><span id="l18.36" class="difflineplus">+# under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l18.37"></a><span id="l18.37" class="difflineplus">+# use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l18.38"></a><span id="l18.38" class="difflineplus">+# decision by deleting the provisions above and replace them with the notice</span>
<a href="#l18.39"></a><span id="l18.39" class="difflineplus">+# and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l18.40"></a><span id="l18.40" class="difflineplus">+# the provisions above, a recipient may use your version of this file under</span>
<a href="#l18.41"></a><span id="l18.41" class="difflineplus">+# the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l18.42"></a><span id="l18.42" class="difflineplus">+#</span>
<a href="#l18.43"></a><span id="l18.43" class="difflineplus">+# ***** END LICENSE BLOCK *****</span>
<a href="#l18.44"></a><span id="l18.44" class="difflineplus">+</span>
<a href="#l18.45"></a><span id="l18.45" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l18.46"></a><span id="l18.46" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l18.47"></a><span id="l18.47" class="difflineplus">+</span>
<a href="#l18.48"></a><span id="l18.48" class="difflineplus">+&lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/preferences/cookies.dtd&quot; &gt;</span>
<a href="#l18.49"></a><span id="l18.49" class="difflineplus">+</span>
<a href="#l18.50"></a><span id="l18.50" class="difflineplus">+&lt;window id=&quot;CookiesDialog&quot; windowtype=&quot;mailnews:cookies&quot;</span>
<a href="#l18.51"></a><span id="l18.51" class="difflineplus">+        class=&quot;windowDialog&quot; title=&quot;&amp;window.title;&quot;</span>
<a href="#l18.52"></a><span id="l18.52" class="difflineplus">+        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l18.53"></a><span id="l18.53" class="difflineplus">+        style=&quot;width: &amp;window.width;;&quot;</span>
<a href="#l18.54"></a><span id="l18.54" class="difflineplus">+        onload=&quot;gCookiesWindow.init();&quot;</span>
<a href="#l18.55"></a><span id="l18.55" class="difflineplus">+        onunload=&quot;gCookiesWindow.uninit();&quot;</span>
<a href="#l18.56"></a><span id="l18.56" class="difflineplus">+        persist=&quot;screenX screenY width height&quot;&gt;</span>
<a href="#l18.57"></a><span id="l18.57" class="difflineplus">+</span>
<a href="#l18.58"></a><span id="l18.58" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/preferences/permissionsutils.js&quot;/&gt;</span>
<a href="#l18.59"></a><span id="l18.59" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/preferences/cookies.js&quot;/&gt;</span>
<a href="#l18.60"></a><span id="l18.60" class="difflineplus">+</span>
<a href="#l18.61"></a><span id="l18.61" class="difflineplus">+  &lt;stringbundle id=&quot;bundlePreferences&quot;</span>
<a href="#l18.62"></a><span id="l18.62" class="difflineplus">+                src=&quot;chrome://messenger/locale/preferences/preferences.properties&quot;/&gt;</span>
<a href="#l18.63"></a><span id="l18.63" class="difflineplus">+</span>
<a href="#l18.64"></a><span id="l18.64" class="difflineplus">+  &lt;keyset&gt;</span>
<a href="#l18.65"></a><span id="l18.65" class="difflineplus">+    &lt;key key=&quot;&amp;windowClose.key;&quot; modifiers=&quot;accel&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l18.66"></a><span id="l18.66" class="difflineplus">+    &lt;key key=&quot;&amp;focusSearch1.key;&quot; modifiers=&quot;accel&quot; oncommand=&quot;gCookiesWindow.focusFilterBox();&quot;/&gt;</span>
<a href="#l18.67"></a><span id="l18.67" class="difflineplus">+    &lt;key key=&quot;&amp;focusSearch2.key;&quot; modifiers=&quot;accel&quot; oncommand=&quot;gCookiesWindow.focusFilterBox();&quot;/&gt;</span>
<a href="#l18.68"></a><span id="l18.68" class="difflineplus">+  &lt;/keyset&gt;</span>
<a href="#l18.69"></a><span id="l18.69" class="difflineplus">+</span>
<a href="#l18.70"></a><span id="l18.70" class="difflineplus">+  &lt;vbox flex=&quot;1&quot; class=&quot;contentPane&quot;&gt;</span>
<a href="#l18.71"></a><span id="l18.71" class="difflineplus">+    &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l18.72"></a><span id="l18.72" class="difflineplus">+      &lt;label accesskey=&quot;&amp;filter.accesskey;&quot; control=&quot;filter&quot;&gt;&amp;filter.label;&lt;/label&gt;</span>
<a href="#l18.73"></a><span id="l18.73" class="difflineplus">+      &lt;textbox type=&quot;search&quot; id=&quot;filter&quot; flex=&quot;1&quot;</span>
<a href="#l18.74"></a><span id="l18.74" class="difflineplus">+               aria-controls=&quot;cookiesList&quot;</span>
<a href="#l18.75"></a><span id="l18.75" class="difflineplus">+               oncommand=&quot;gCookiesWindow.filter();&quot;/&gt;</span>
<a href="#l18.76"></a><span id="l18.76" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l18.77"></a><span id="l18.77" class="difflineplus">+    &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l18.78"></a><span id="l18.78" class="difflineplus">+    &lt;label control=&quot;cookiesList&quot; id=&quot;cookiesIntro&quot; value=&quot;&amp;cookiesonsystem.label;&quot;/&gt;</span>
<a href="#l18.79"></a><span id="l18.79" class="difflineplus">+    &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l18.80"></a><span id="l18.80" class="difflineplus">+    &lt;tree id=&quot;cookiesList&quot; flex=&quot;1&quot; style=&quot;height: 10em;&quot;</span>
<a href="#l18.81"></a><span id="l18.81" class="difflineplus">+          onkeypress=&quot;gCookiesWindow.onCookieKeyPress(event)&quot;</span>
<a href="#l18.82"></a><span id="l18.82" class="difflineplus">+          onselect=&quot;gCookiesWindow.onCookieSelected();&quot;</span>
<a href="#l18.83"></a><span id="l18.83" class="difflineplus">+          hidecolumnpicker=&quot;true&quot; seltype=&quot;single&quot;&gt;</span>
<a href="#l18.84"></a><span id="l18.84" class="difflineplus">+      &lt;treecols&gt;</span>
<a href="#l18.85"></a><span id="l18.85" class="difflineplus">+        &lt;treecol id=&quot;domainCol&quot; label=&quot;&amp;cookiedomain.label;&quot; flex=&quot;2&quot; primary=&quot;true&quot;</span>
<a href="#l18.86"></a><span id="l18.86" class="difflineplus">+                 class=&quot;sortDirectionIndicator&quot; persist=&quot;width&quot; onclick=&quot;gCookiesWindow.sort('rawHost');&quot; /&gt;</span>
<a href="#l18.87"></a><span id="l18.87" class="difflineplus">+        &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l18.88"></a><span id="l18.88" class="difflineplus">+        &lt;treecol id=&quot;nameCol&quot; label=&quot;&amp;cookiename.label;&quot; flex=&quot;1&quot;</span>
<a href="#l18.89"></a><span id="l18.89" class="difflineplus">+                 class=&quot;sortDirectionIndicator&quot; persist=&quot;width&quot;</span>
<a href="#l18.90"></a><span id="l18.90" class="difflineplus">+                 onclick=&quot;gCookiesWindow.sort('name');&quot;/&gt;</span>
<a href="#l18.91"></a><span id="l18.91" class="difflineplus">+      &lt;/treecols&gt;</span>
<a href="#l18.92"></a><span id="l18.92" class="difflineplus">+      &lt;treechildren id=&quot;cookiesChildren&quot;/&gt;</span>
<a href="#l18.93"></a><span id="l18.93" class="difflineplus">+    &lt;/tree&gt;</span>
<a href="#l18.94"></a><span id="l18.94" class="difflineplus">+    &lt;hbox id=&quot;cookieInfoBox&quot;&gt;</span>
<a href="#l18.95"></a><span id="l18.95" class="difflineplus">+      &lt;grid flex=&quot;1&quot; id=&quot;cookieInfoGrid&quot;&gt;</span>
<a href="#l18.96"></a><span id="l18.96" class="difflineplus">+        &lt;columns&gt;</span>
<a href="#l18.97"></a><span id="l18.97" class="difflineplus">+          &lt;column/&gt;</span>
<a href="#l18.98"></a><span id="l18.98" class="difflineplus">+          &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l18.99"></a><span id="l18.99" class="difflineplus">+        &lt;/columns&gt;</span>
<a href="#l18.100"></a><span id="l18.100" class="difflineplus">+        &lt;rows&gt;</span>
<a href="#l18.101"></a><span id="l18.101" class="difflineplus">+          &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l18.102"></a><span id="l18.102" class="difflineplus">+            &lt;hbox pack=&quot;end&quot;&gt;&lt;label id=&quot;nameLabel&quot; control=&quot;name&quot; value=&quot;&amp;props.name.label;&quot;/&gt;&lt;/hbox&gt;</span>
<a href="#l18.103"></a><span id="l18.103" class="difflineplus">+            &lt;textbox id=&quot;name&quot; readonly=&quot;true&quot; class=&quot;plain&quot;/&gt;</span>
<a href="#l18.104"></a><span id="l18.104" class="difflineplus">+          &lt;/row&gt;</span>
<a href="#l18.105"></a><span id="l18.105" class="difflineplus">+          &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l18.106"></a><span id="l18.106" class="difflineplus">+            &lt;hbox pack=&quot;end&quot;&gt;&lt;label id=&quot;valueLabel&quot; control=&quot;value&quot; value=&quot;&amp;props.value.label;&quot;/&gt;&lt;/hbox&gt;</span>
<a href="#l18.107"></a><span id="l18.107" class="difflineplus">+            &lt;textbox id=&quot;value&quot; readonly=&quot;true&quot; class=&quot;plain&quot;/&gt;</span>
<a href="#l18.108"></a><span id="l18.108" class="difflineplus">+          &lt;/row&gt;</span>
<a href="#l18.109"></a><span id="l18.109" class="difflineplus">+          &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l18.110"></a><span id="l18.110" class="difflineplus">+            &lt;hbox pack=&quot;end&quot;&gt;&lt;label id=&quot;isDomain&quot; control=&quot;host&quot; value=&quot;&amp;props.domain.label;&quot;/&gt;&lt;/hbox&gt;</span>
<a href="#l18.111"></a><span id="l18.111" class="difflineplus">+            &lt;textbox id=&quot;host&quot; readonly=&quot;true&quot; class=&quot;plain&quot;/&gt;</span>
<a href="#l18.112"></a><span id="l18.112" class="difflineplus">+          &lt;/row&gt;</span>
<a href="#l18.113"></a><span id="l18.113" class="difflineplus">+          &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l18.114"></a><span id="l18.114" class="difflineplus">+            &lt;hbox pack=&quot;end&quot;&gt;&lt;label id=&quot;pathLabel&quot; control=&quot;path&quot; value=&quot;&amp;props.path.label;&quot;/&gt;&lt;/hbox&gt;</span>
<a href="#l18.115"></a><span id="l18.115" class="difflineplus">+            &lt;textbox id=&quot;path&quot; readonly=&quot;true&quot; class=&quot;plain&quot;/&gt;</span>
<a href="#l18.116"></a><span id="l18.116" class="difflineplus">+          &lt;/row&gt;</span>
<a href="#l18.117"></a><span id="l18.117" class="difflineplus">+          &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l18.118"></a><span id="l18.118" class="difflineplus">+            &lt;hbox pack=&quot;end&quot;&gt;&lt;label id=&quot;isSecureLabel&quot; control=&quot;isSecure&quot; value=&quot;&amp;props.secure.label;&quot;/&gt;&lt;/hbox&gt;</span>
<a href="#l18.119"></a><span id="l18.119" class="difflineplus">+            &lt;textbox id=&quot;isSecure&quot; readonly=&quot;true&quot; class=&quot;plain&quot;/&gt;</span>
<a href="#l18.120"></a><span id="l18.120" class="difflineplus">+          &lt;/row&gt;</span>
<a href="#l18.121"></a><span id="l18.121" class="difflineplus">+          &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l18.122"></a><span id="l18.122" class="difflineplus">+            &lt;hbox pack=&quot;end&quot;&gt;&lt;label id=&quot;expiresLabel&quot; control=&quot;expires&quot; value=&quot;&amp;props.expires.label;&quot;/&gt;&lt;/hbox&gt;</span>
<a href="#l18.123"></a><span id="l18.123" class="difflineplus">+            &lt;textbox id=&quot;expires&quot; readonly=&quot;true&quot; class=&quot;plain&quot;/&gt;</span>
<a href="#l18.124"></a><span id="l18.124" class="difflineplus">+          &lt;/row&gt;</span>
<a href="#l18.125"></a><span id="l18.125" class="difflineplus">+        &lt;/rows&gt;</span>
<a href="#l18.126"></a><span id="l18.126" class="difflineplus">+      &lt;/grid&gt;</span>
<a href="#l18.127"></a><span id="l18.127" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l18.128"></a><span id="l18.128" class="difflineplus">+  &lt;/vbox&gt;</span>
<a href="#l18.129"></a><span id="l18.129" class="difflineplus">+  &lt;hbox align=&quot;end&quot;&gt;</span>
<a href="#l18.130"></a><span id="l18.130" class="difflineplus">+    &lt;hbox class=&quot;actionButtons&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l18.131"></a><span id="l18.131" class="difflineplus">+      &lt;button id=&quot;removeCookie&quot; disabled=&quot;true&quot; icon=&quot;remove&quot;</span>
<a href="#l18.132"></a><span id="l18.132" class="difflineplus">+              label=&quot;&amp;button.removecookie.label;&quot; accesskey=&quot;&amp;button.removecookie.accesskey;&quot;</span>
<a href="#l18.133"></a><span id="l18.133" class="difflineplus">+              oncommand=&quot;gCookiesWindow.deleteCookie();&quot;/&gt;</span>
<a href="#l18.134"></a><span id="l18.134" class="difflineplus">+      &lt;button id=&quot;removeAllCookies&quot; disabled=&quot;true&quot; icon=&quot;clear&quot;</span>
<a href="#l18.135"></a><span id="l18.135" class="difflineplus">+              label=&quot;&amp;button.removeallcookies.label;&quot; accesskey=&quot;&amp;button.removeallcookies.accesskey;&quot;</span>
<a href="#l18.136"></a><span id="l18.136" class="difflineplus">+              oncommand=&quot;gCookiesWindow.deleteAllCookies();&quot;/&gt;</span>
<a href="#l18.137"></a><span id="l18.137" class="difflineplus">+      &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l18.138"></a><span id="l18.138" class="difflineplus">+#ifndef XP_MACOSX</span>
<a href="#l18.139"></a><span id="l18.139" class="difflineplus">+      &lt;button oncommand=&quot;close();&quot; icon=&quot;close&quot;</span>
<a href="#l18.140"></a><span id="l18.140" class="difflineplus">+              label=&quot;&amp;button.close.label;&quot; accesskey=&quot;&amp;button.close.accesskey;&quot;/&gt;</span>
<a href="#l18.141"></a><span id="l18.141" class="difflineplus">+#endif</span>
<a href="#l18.142"></a><span id="l18.142" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l18.143"></a><span id="l18.143" class="difflineplus">+    &lt;resizer dir=&quot;bottomend&quot;/&gt;</span>
<a href="#l18.144"></a><span id="l18.144" class="difflineplus">+  &lt;/hbox&gt;</span>
<a href="#l18.145"></a><span id="l18.145" class="difflineplus">+&lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/components/preferences/jar.mn</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/components/preferences/jar.mn</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -26,8 +26,13 @@ messenger.jar:</span>
<a href="#l19.4"></a><span id="l19.4"> *   content/messenger/preferences/applicationManager.js</span>
<a href="#l19.5"></a><span id="l19.5"> *   content/messenger/preferences/handlers.xml</span>
<a href="#l19.6"></a><span id="l19.6"> *   content/messenger/preferences/handlers.css</span>
<a href="#l19.7"></a><span id="l19.7"> *   content/messenger/preferences/actionsshared.js</span>
<a href="#l19.8"></a><span id="l19.8"> *   content/messenger/preferences/fonts.js</span>
<a href="#l19.9"></a><span id="l19.9"> *   content/messenger/preferences/fonts.xul</span>
<a href="#l19.10"></a><span id="l19.10"> *   content/messenger/preferences/notifications.xul</span>
<a href="#l19.11"></a><span id="l19.11"> *   content/messenger/preferences/offline.xul</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+*   content/messenger/preferences/cookies.js</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+*   content/messenger/preferences/cookies.xul</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+*   content/messenger/preferences/permissions.js</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+*   content/messenger/preferences/permissions.xul</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineplus">+*   content/messenger/preferences/permissionsutils.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">new file mode 100644</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineminus">--- /dev/null</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineplus">+++ b/mail/components/preferences/permissions.js</span>
<a href="#l20.4"></a><span id="l20.4" class="difflineat">@@ -0,0 +1,418 @@</span>
<a href="#l20.5"></a><span id="l20.5" class="difflineplus">+# -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l20.6"></a><span id="l20.6" class="difflineplus">+# ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l20.7"></a><span id="l20.7" class="difflineplus">+# Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l20.8"></a><span id="l20.8" class="difflineplus">+#</span>
<a href="#l20.9"></a><span id="l20.9" class="difflineplus">+# The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l20.10"></a><span id="l20.10" class="difflineplus">+# 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l20.11"></a><span id="l20.11" class="difflineplus">+# the License. You may obtain a copy of the License at</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+# http://www.mozilla.org/MPL/</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+#</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+# Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineplus">+# for the specific language governing rights and limitations under the</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineplus">+# License.</span>
<a href="#l20.18"></a><span id="l20.18" class="difflineplus">+#</span>
<a href="#l20.19"></a><span id="l20.19" class="difflineplus">+# The Original Code is the Firefox Preferences System.</span>
<a href="#l20.20"></a><span id="l20.20" class="difflineplus">+#</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineplus">+# The Initial Developer of the Original Code is</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineplus">+# Ben Goodger.</span>
<a href="#l20.23"></a><span id="l20.23" class="difflineplus">+# Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l20.24"></a><span id="l20.24" class="difflineplus">+# the Initial Developer. All Rights Reserved.</span>
<a href="#l20.25"></a><span id="l20.25" class="difflineplus">+#</span>
<a href="#l20.26"></a><span id="l20.26" class="difflineplus">+# Contributor(s):</span>
<a href="#l20.27"></a><span id="l20.27" class="difflineplus">+#   Ben Goodger &lt;ben@mozilla.org&gt;</span>
<a href="#l20.28"></a><span id="l20.28" class="difflineplus">+#   Blake Ross &lt;firefox@blakeross.com&gt;</span>
<a href="#l20.29"></a><span id="l20.29" class="difflineplus">+#</span>
<a href="#l20.30"></a><span id="l20.30" class="difflineplus">+# Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineplus">+# either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineplus">+# the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l20.33"></a><span id="l20.33" class="difflineplus">+# in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l20.34"></a><span id="l20.34" class="difflineplus">+# of those above. If you wish to allow use of your version of this file only</span>
<a href="#l20.35"></a><span id="l20.35" class="difflineplus">+# under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l20.36"></a><span id="l20.36" class="difflineplus">+# use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l20.37"></a><span id="l20.37" class="difflineplus">+# decision by deleting the provisions above and replace them with the notice</span>
<a href="#l20.38"></a><span id="l20.38" class="difflineplus">+# and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l20.39"></a><span id="l20.39" class="difflineplus">+# the provisions above, a recipient may use your version of this file under</span>
<a href="#l20.40"></a><span id="l20.40" class="difflineplus">+# the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l20.41"></a><span id="l20.41" class="difflineplus">+#</span>
<a href="#l20.42"></a><span id="l20.42" class="difflineplus">+# ***** END LICENSE BLOCK *****</span>
<a href="#l20.43"></a><span id="l20.43" class="difflineplus">+</span>
<a href="#l20.44"></a><span id="l20.44" class="difflineplus">+const nsIPermissionManager = Components.interfaces.nsIPermissionManager;</span>
<a href="#l20.45"></a><span id="l20.45" class="difflineplus">+const nsICookiePermission = Components.interfaces.nsICookiePermission;</span>
<a href="#l20.46"></a><span id="l20.46" class="difflineplus">+</span>
<a href="#l20.47"></a><span id="l20.47" class="difflineplus">+function Permission(host, rawHost, type, capability, perm)</span>
<a href="#l20.48"></a><span id="l20.48" class="difflineplus">+{</span>
<a href="#l20.49"></a><span id="l20.49" class="difflineplus">+  this.host = host;</span>
<a href="#l20.50"></a><span id="l20.50" class="difflineplus">+  this.rawHost = rawHost;</span>
<a href="#l20.51"></a><span id="l20.51" class="difflineplus">+  this.type = type;</span>
<a href="#l20.52"></a><span id="l20.52" class="difflineplus">+  this.capability = capability;</span>
<a href="#l20.53"></a><span id="l20.53" class="difflineplus">+  this.perm = perm;</span>
<a href="#l20.54"></a><span id="l20.54" class="difflineplus">+}</span>
<a href="#l20.55"></a><span id="l20.55" class="difflineplus">+</span>
<a href="#l20.56"></a><span id="l20.56" class="difflineplus">+var gPermissionManager = {</span>
<a href="#l20.57"></a><span id="l20.57" class="difflineplus">+  _type         : &quot;&quot;,</span>
<a href="#l20.58"></a><span id="l20.58" class="difflineplus">+  _permissions  : [],</span>
<a href="#l20.59"></a><span id="l20.59" class="difflineplus">+  _pm           : Components.classes[&quot;@mozilla.org/permissionmanager;1&quot;]</span>
<a href="#l20.60"></a><span id="l20.60" class="difflineplus">+                            .getService(Components.interfaces.nsIPermissionManager),</span>
<a href="#l20.61"></a><span id="l20.61" class="difflineplus">+  _bundle       : null,</span>
<a href="#l20.62"></a><span id="l20.62" class="difflineplus">+  _tree         : null,</span>
<a href="#l20.63"></a><span id="l20.63" class="difflineplus">+</span>
<a href="#l20.64"></a><span id="l20.64" class="difflineplus">+  _view: {</span>
<a href="#l20.65"></a><span id="l20.65" class="difflineplus">+    _rowCount: 0,</span>
<a href="#l20.66"></a><span id="l20.66" class="difflineplus">+    get rowCount()</span>
<a href="#l20.67"></a><span id="l20.67" class="difflineplus">+    {</span>
<a href="#l20.68"></a><span id="l20.68" class="difflineplus">+      return this._rowCount;</span>
<a href="#l20.69"></a><span id="l20.69" class="difflineplus">+    },</span>
<a href="#l20.70"></a><span id="l20.70" class="difflineplus">+    getCellText: function (aRow, aColumn)</span>
<a href="#l20.71"></a><span id="l20.71" class="difflineplus">+    {</span>
<a href="#l20.72"></a><span id="l20.72" class="difflineplus">+      if (aColumn.id == &quot;siteCol&quot;)</span>
<a href="#l20.73"></a><span id="l20.73" class="difflineplus">+        return gPermissionManager._permissions[aRow].rawHost;</span>
<a href="#l20.74"></a><span id="l20.74" class="difflineplus">+      else if (aColumn.id == &quot;statusCol&quot;)</span>
<a href="#l20.75"></a><span id="l20.75" class="difflineplus">+        return gPermissionManager._permissions[aRow].capability;</span>
<a href="#l20.76"></a><span id="l20.76" class="difflineplus">+      return &quot;&quot;;</span>
<a href="#l20.77"></a><span id="l20.77" class="difflineplus">+    },</span>
<a href="#l20.78"></a><span id="l20.78" class="difflineplus">+</span>
<a href="#l20.79"></a><span id="l20.79" class="difflineplus">+    isSeparator: function(aIndex) { return false; },</span>
<a href="#l20.80"></a><span id="l20.80" class="difflineplus">+    isSorted: function() { return false; },</span>
<a href="#l20.81"></a><span id="l20.81" class="difflineplus">+    isContainer: function(aIndex) { return false; },</span>
<a href="#l20.82"></a><span id="l20.82" class="difflineplus">+    setTree: function(aTree){},</span>
<a href="#l20.83"></a><span id="l20.83" class="difflineplus">+    getImageSrc: function(aRow, aColumn) {},</span>
<a href="#l20.84"></a><span id="l20.84" class="difflineplus">+    getProgressMode: function(aRow, aColumn) {},</span>
<a href="#l20.85"></a><span id="l20.85" class="difflineplus">+    getCellValue: function(aRow, aColumn) {},</span>
<a href="#l20.86"></a><span id="l20.86" class="difflineplus">+    cycleHeader: function(column) {},</span>
<a href="#l20.87"></a><span id="l20.87" class="difflineplus">+    getRowProperties: function(row,prop){},</span>
<a href="#l20.88"></a><span id="l20.88" class="difflineplus">+    getColumnProperties: function(column,prop){},</span>
<a href="#l20.89"></a><span id="l20.89" class="difflineplus">+    getCellProperties: function(row,column,prop){</span>
<a href="#l20.90"></a><span id="l20.90" class="difflineplus">+      if (column.element.getAttribute(&quot;id&quot;) == &quot;siteCol&quot;)</span>
<a href="#l20.91"></a><span id="l20.91" class="difflineplus">+        prop.AppendElement(this._ltrAtom);</span>
<a href="#l20.92"></a><span id="l20.92" class="difflineplus">+    }</span>
<a href="#l20.93"></a><span id="l20.93" class="difflineplus">+  },</span>
<a href="#l20.94"></a><span id="l20.94" class="difflineplus">+</span>
<a href="#l20.95"></a><span id="l20.95" class="difflineplus">+  _getCapabilityString: function (aCapability)</span>
<a href="#l20.96"></a><span id="l20.96" class="difflineplus">+  {</span>
<a href="#l20.97"></a><span id="l20.97" class="difflineplus">+    var stringKey = null;</span>
<a href="#l20.98"></a><span id="l20.98" class="difflineplus">+    switch (aCapability) {</span>
<a href="#l20.99"></a><span id="l20.99" class="difflineplus">+    case nsIPermissionManager.ALLOW_ACTION:</span>
<a href="#l20.100"></a><span id="l20.100" class="difflineplus">+      stringKey = &quot;can&quot;;</span>
<a href="#l20.101"></a><span id="l20.101" class="difflineplus">+      break;</span>
<a href="#l20.102"></a><span id="l20.102" class="difflineplus">+    case nsIPermissionManager.DENY_ACTION:</span>
<a href="#l20.103"></a><span id="l20.103" class="difflineplus">+      stringKey = &quot;cannot&quot;;</span>
<a href="#l20.104"></a><span id="l20.104" class="difflineplus">+      break;</span>
<a href="#l20.105"></a><span id="l20.105" class="difflineplus">+    case nsICookiePermission.ACCESS_SESSION:</span>
<a href="#l20.106"></a><span id="l20.106" class="difflineplus">+      stringKey = &quot;canSession&quot;;</span>
<a href="#l20.107"></a><span id="l20.107" class="difflineplus">+      break;</span>
<a href="#l20.108"></a><span id="l20.108" class="difflineplus">+    }</span>
<a href="#l20.109"></a><span id="l20.109" class="difflineplus">+    return this._bundle.getString(stringKey);</span>
<a href="#l20.110"></a><span id="l20.110" class="difflineplus">+  },</span>
<a href="#l20.111"></a><span id="l20.111" class="difflineplus">+</span>
<a href="#l20.112"></a><span id="l20.112" class="difflineplus">+  addPermission: function (aCapability)</span>
<a href="#l20.113"></a><span id="l20.113" class="difflineplus">+  {</span>
<a href="#l20.114"></a><span id="l20.114" class="difflineplus">+    var textbox = document.getElementById(&quot;url&quot;);</span>
<a href="#l20.115"></a><span id="l20.115" class="difflineplus">+    var host = textbox.value.replace(/^\s*([-\w]*:\/+)?/, &quot;&quot;); // trim any leading space and scheme</span>
<a href="#l20.116"></a><span id="l20.116" class="difflineplus">+    try {</span>
<a href="#l20.117"></a><span id="l20.117" class="difflineplus">+      var ioService = Components.classes[&quot;@mozilla.org/network/io-service;1&quot;]</span>
<a href="#l20.118"></a><span id="l20.118" class="difflineplus">+                                .getService(Components.interfaces.nsIIOService);</span>
<a href="#l20.119"></a><span id="l20.119" class="difflineplus">+      var uri = ioService.newURI(&quot;http://&quot;+host, null, null);</span>
<a href="#l20.120"></a><span id="l20.120" class="difflineplus">+      host = uri.host;</span>
<a href="#l20.121"></a><span id="l20.121" class="difflineplus">+    } catch(ex) {</span>
<a href="#l20.122"></a><span id="l20.122" class="difflineplus">+      var promptService = Components.classes[&quot;@mozilla.org/embedcomp/prompt-service;1&quot;]</span>
<a href="#l20.123"></a><span id="l20.123" class="difflineplus">+                                    .getService(Components.interfaces.nsIPromptService);</span>
<a href="#l20.124"></a><span id="l20.124" class="difflineplus">+      var message = this._bundle.getString(&quot;invalidURI&quot;);</span>
<a href="#l20.125"></a><span id="l20.125" class="difflineplus">+      var title = this._bundle.getString(&quot;invalidURITitle&quot;);</span>
<a href="#l20.126"></a><span id="l20.126" class="difflineplus">+      promptService.alert(window, title, message);</span>
<a href="#l20.127"></a><span id="l20.127" class="difflineplus">+      return;</span>
<a href="#l20.128"></a><span id="l20.128" class="difflineplus">+    }</span>
<a href="#l20.129"></a><span id="l20.129" class="difflineplus">+</span>
<a href="#l20.130"></a><span id="l20.130" class="difflineplus">+    var capabilityString = this._getCapabilityString(aCapability);</span>
<a href="#l20.131"></a><span id="l20.131" class="difflineplus">+</span>
<a href="#l20.132"></a><span id="l20.132" class="difflineplus">+    // check whether the permission already exists, if not, add it</span>
<a href="#l20.133"></a><span id="l20.133" class="difflineplus">+    var exists = false;</span>
<a href="#l20.134"></a><span id="l20.134" class="difflineplus">+    for (var i = 0; i &lt; this._permissions.length; ++i) {</span>
<a href="#l20.135"></a><span id="l20.135" class="difflineplus">+      if (this._permissions[i].rawHost == host) {</span>
<a href="#l20.136"></a><span id="l20.136" class="difflineplus">+        // Avoid calling the permission manager if the capability settings are</span>
<a href="#l20.137"></a><span id="l20.137" class="difflineplus">+        // the same. Otherwise allow the call to the permissions manager to</span>
<a href="#l20.138"></a><span id="l20.138" class="difflineplus">+        // update the listbox for us.</span>
<a href="#l20.139"></a><span id="l20.139" class="difflineplus">+        exists = this._permissions[i].perm == aCapability;</span>
<a href="#l20.140"></a><span id="l20.140" class="difflineplus">+        break;</span>
<a href="#l20.141"></a><span id="l20.141" class="difflineplus">+      }</span>
<a href="#l20.142"></a><span id="l20.142" class="difflineplus">+    }</span>
<a href="#l20.143"></a><span id="l20.143" class="difflineplus">+</span>
<a href="#l20.144"></a><span id="l20.144" class="difflineplus">+    if (!exists) {</span>
<a href="#l20.145"></a><span id="l20.145" class="difflineplus">+      host = (host.charAt(0) == &quot;.&quot;) ? host.substring(1,host.length) : host;</span>
<a href="#l20.146"></a><span id="l20.146" class="difflineplus">+      var uri = ioService.newURI(&quot;http://&quot; + host, null, null);</span>
<a href="#l20.147"></a><span id="l20.147" class="difflineplus">+      this._pm.add(uri, this._type, aCapability);</span>
<a href="#l20.148"></a><span id="l20.148" class="difflineplus">+    }</span>
<a href="#l20.149"></a><span id="l20.149" class="difflineplus">+    textbox.value = &quot;&quot;;</span>
<a href="#l20.150"></a><span id="l20.150" class="difflineplus">+    textbox.focus();</span>
<a href="#l20.151"></a><span id="l20.151" class="difflineplus">+</span>
<a href="#l20.152"></a><span id="l20.152" class="difflineplus">+    // covers a case where the site exists already, so the buttons don't disable</span>
<a href="#l20.153"></a><span id="l20.153" class="difflineplus">+    this.onHostInput(textbox);</span>
<a href="#l20.154"></a><span id="l20.154" class="difflineplus">+</span>
<a href="#l20.155"></a><span id="l20.155" class="difflineplus">+    // enable &quot;remove all&quot; button as needed</span>
<a href="#l20.156"></a><span id="l20.156" class="difflineplus">+    document.getElementById(&quot;removeAllPermissions&quot;).disabled = this._permissions.length == 0;</span>
<a href="#l20.157"></a><span id="l20.157" class="difflineplus">+  },</span>
<a href="#l20.158"></a><span id="l20.158" class="difflineplus">+</span>
<a href="#l20.159"></a><span id="l20.159" class="difflineplus">+  onHostInput: function (aSiteField)</span>
<a href="#l20.160"></a><span id="l20.160" class="difflineplus">+  {</span>
<a href="#l20.161"></a><span id="l20.161" class="difflineplus">+    document.getElementById(&quot;btnSession&quot;).disabled = !aSiteField.value;</span>
<a href="#l20.162"></a><span id="l20.162" class="difflineplus">+    document.getElementById(&quot;btnBlock&quot;).disabled = !aSiteField.value;</span>
<a href="#l20.163"></a><span id="l20.163" class="difflineplus">+    document.getElementById(&quot;btnAllow&quot;).disabled = !aSiteField.value;</span>
<a href="#l20.164"></a><span id="l20.164" class="difflineplus">+  },</span>
<a href="#l20.165"></a><span id="l20.165" class="difflineplus">+</span>
<a href="#l20.166"></a><span id="l20.166" class="difflineplus">+  onHostKeyPress: function (aEvent)</span>
<a href="#l20.167"></a><span id="l20.167" class="difflineplus">+  {</span>
<a href="#l20.168"></a><span id="l20.168" class="difflineplus">+    if (aEvent.keyCode == KeyEvent.DOM_VK_RETURN)</span>
<a href="#l20.169"></a><span id="l20.169" class="difflineplus">+      document.getElementById(&quot;btnAllow&quot;).click();</span>
<a href="#l20.170"></a><span id="l20.170" class="difflineplus">+  },</span>
<a href="#l20.171"></a><span id="l20.171" class="difflineplus">+</span>
<a href="#l20.172"></a><span id="l20.172" class="difflineplus">+  onLoad: function ()</span>
<a href="#l20.173"></a><span id="l20.173" class="difflineplus">+  {</span>
<a href="#l20.174"></a><span id="l20.174" class="difflineplus">+    this._bundle = document.getElementById(&quot;bundlePreferences&quot;);</span>
<a href="#l20.175"></a><span id="l20.175" class="difflineplus">+    var params = window.arguments[0];</span>
<a href="#l20.176"></a><span id="l20.176" class="difflineplus">+    this.init(params);</span>
<a href="#l20.177"></a><span id="l20.177" class="difflineplus">+  },</span>
<a href="#l20.178"></a><span id="l20.178" class="difflineplus">+</span>
<a href="#l20.179"></a><span id="l20.179" class="difflineplus">+  init: function (aParams)</span>
<a href="#l20.180"></a><span id="l20.180" class="difflineplus">+  {</span>
<a href="#l20.181"></a><span id="l20.181" class="difflineplus">+    if (this._type) {</span>
<a href="#l20.182"></a><span id="l20.182" class="difflineplus">+      // reusing an open dialog, clear the old observer</span>
<a href="#l20.183"></a><span id="l20.183" class="difflineplus">+      this.uninit();</span>
<a href="#l20.184"></a><span id="l20.184" class="difflineplus">+    }</span>
<a href="#l20.185"></a><span id="l20.185" class="difflineplus">+</span>
<a href="#l20.186"></a><span id="l20.186" class="difflineplus">+    this._type = aParams.permissionType;</span>
<a href="#l20.187"></a><span id="l20.187" class="difflineplus">+    this._manageCapability = aParams.manageCapability;</span>
<a href="#l20.188"></a><span id="l20.188" class="difflineplus">+</span>
<a href="#l20.189"></a><span id="l20.189" class="difflineplus">+    var permissionsText = document.getElementById(&quot;permissionsText&quot;);</span>
<a href="#l20.190"></a><span id="l20.190" class="difflineplus">+    while (permissionsText.hasChildNodes())</span>
<a href="#l20.191"></a><span id="l20.191" class="difflineplus">+      permissionsText.removeChild(permissionsText.firstChild);</span>
<a href="#l20.192"></a><span id="l20.192" class="difflineplus">+    permissionsText.appendChild(document.createTextNode(aParams.introText));</span>
<a href="#l20.193"></a><span id="l20.193" class="difflineplus">+</span>
<a href="#l20.194"></a><span id="l20.194" class="difflineplus">+    document.title = aParams.windowTitle;</span>
<a href="#l20.195"></a><span id="l20.195" class="difflineplus">+</span>
<a href="#l20.196"></a><span id="l20.196" class="difflineplus">+    document.getElementById(&quot;btnBlock&quot;).hidden    = !aParams.blockVisible;</span>
<a href="#l20.197"></a><span id="l20.197" class="difflineplus">+    document.getElementById(&quot;btnSession&quot;).hidden  = !aParams.sessionVisible;</span>
<a href="#l20.198"></a><span id="l20.198" class="difflineplus">+    document.getElementById(&quot;btnAllow&quot;).hidden    = !aParams.allowVisible;</span>
<a href="#l20.199"></a><span id="l20.199" class="difflineplus">+</span>
<a href="#l20.200"></a><span id="l20.200" class="difflineplus">+    var urlFieldVisible = (aParams.blockVisible || aParams.sessionVisible || aParams.allowVisible);</span>
<a href="#l20.201"></a><span id="l20.201" class="difflineplus">+</span>
<a href="#l20.202"></a><span id="l20.202" class="difflineplus">+    var urlField = document.getElementById(&quot;url&quot;);</span>
<a href="#l20.203"></a><span id="l20.203" class="difflineplus">+    urlField.value = aParams.prefilledHost;</span>
<a href="#l20.204"></a><span id="l20.204" class="difflineplus">+    urlField.hidden = !urlFieldVisible;</span>
<a href="#l20.205"></a><span id="l20.205" class="difflineplus">+</span>
<a href="#l20.206"></a><span id="l20.206" class="difflineplus">+    this.onHostInput(urlField);</span>
<a href="#l20.207"></a><span id="l20.207" class="difflineplus">+</span>
<a href="#l20.208"></a><span id="l20.208" class="difflineplus">+    var urlLabel = document.getElementById(&quot;urlLabel&quot;);</span>
<a href="#l20.209"></a><span id="l20.209" class="difflineplus">+    urlLabel.hidden = !urlFieldVisible;</span>
<a href="#l20.210"></a><span id="l20.210" class="difflineplus">+</span>
<a href="#l20.211"></a><span id="l20.211" class="difflineplus">+    var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l20.212"></a><span id="l20.212" class="difflineplus">+                       .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l20.213"></a><span id="l20.213" class="difflineplus">+    os.addObserver(this, &quot;perm-changed&quot;, false);</span>
<a href="#l20.214"></a><span id="l20.214" class="difflineplus">+</span>
<a href="#l20.215"></a><span id="l20.215" class="difflineplus">+    if (this._type == &quot;install&quot;) {</span>
<a href="#l20.216"></a><span id="l20.216" class="difflineplus">+      var enumerator = this._pm.enumerator;</span>
<a href="#l20.217"></a><span id="l20.217" class="difflineplus">+      if (!enumerator.hasMoreElements())</span>
<a href="#l20.218"></a><span id="l20.218" class="difflineplus">+        this._updatePermissions();</span>
<a href="#l20.219"></a><span id="l20.219" class="difflineplus">+    }</span>
<a href="#l20.220"></a><span id="l20.220" class="difflineplus">+</span>
<a href="#l20.221"></a><span id="l20.221" class="difflineplus">+    this._loadPermissions();</span>
<a href="#l20.222"></a><span id="l20.222" class="difflineplus">+</span>
<a href="#l20.223"></a><span id="l20.223" class="difflineplus">+    urlField.focus();</span>
<a href="#l20.224"></a><span id="l20.224" class="difflineplus">+</span>
<a href="#l20.225"></a><span id="l20.225" class="difflineplus">+    this._ltrAtom = Components.classes[&quot;@mozilla.org/atom-service;1&quot;]</span>
<a href="#l20.226"></a><span id="l20.226" class="difflineplus">+                              .getService(Components.interfaces.nsIAtomService)</span>
<a href="#l20.227"></a><span id="l20.227" class="difflineplus">+                              .getAtom(&quot;ltr&quot;);</span>
<a href="#l20.228"></a><span id="l20.228" class="difflineplus">+  },</span>
<a href="#l20.229"></a><span id="l20.229" class="difflineplus">+</span>
<a href="#l20.230"></a><span id="l20.230" class="difflineplus">+  uninit: function ()</span>
<a href="#l20.231"></a><span id="l20.231" class="difflineplus">+  {</span>
<a href="#l20.232"></a><span id="l20.232" class="difflineplus">+    var os = Components.classes[&quot;@mozilla.org/observer-service;1&quot;]</span>
<a href="#l20.233"></a><span id="l20.233" class="difflineplus">+                       .getService(Components.interfaces.nsIObserverService);</span>
<a href="#l20.234"></a><span id="l20.234" class="difflineplus">+    os.removeObserver(this, &quot;perm-changed&quot;);</span>
<a href="#l20.235"></a><span id="l20.235" class="difflineplus">+  },</span>
<a href="#l20.236"></a><span id="l20.236" class="difflineplus">+</span>
<a href="#l20.237"></a><span id="l20.237" class="difflineplus">+  observe: function (aSubject, aTopic, aData)</span>
<a href="#l20.238"></a><span id="l20.238" class="difflineplus">+  {</span>
<a href="#l20.239"></a><span id="l20.239" class="difflineplus">+    if (aTopic == &quot;perm-changed&quot;) {</span>
<a href="#l20.240"></a><span id="l20.240" class="difflineplus">+      var permission = aSubject.QueryInterface(Components.interfaces.nsIPermission);</span>
<a href="#l20.241"></a><span id="l20.241" class="difflineplus">+      if (aData == &quot;added&quot;) {</span>
<a href="#l20.242"></a><span id="l20.242" class="difflineplus">+        this._addPermissionToList(permission);</span>
<a href="#l20.243"></a><span id="l20.243" class="difflineplus">+        ++this._view._rowCount;</span>
<a href="#l20.244"></a><span id="l20.244" class="difflineplus">+        this._tree.treeBoxObject.rowCountChanged(this._view.rowCount - 1, 1);</span>
<a href="#l20.245"></a><span id="l20.245" class="difflineplus">+        // Re-do the sort, since we inserted this new item at the end.</span>
<a href="#l20.246"></a><span id="l20.246" class="difflineplus">+        gTreeUtils.sort(this._tree, this._view, this._permissions,</span>
<a href="#l20.247"></a><span id="l20.247" class="difflineplus">+                        this._lastPermissionSortColumn,</span>
<a href="#l20.248"></a><span id="l20.248" class="difflineplus">+                        this._lastPermissionSortAscending);</span>
<a href="#l20.249"></a><span id="l20.249" class="difflineplus">+      }</span>
<a href="#l20.250"></a><span id="l20.250" class="difflineplus">+      else if (aData == &quot;changed&quot;) {</span>
<a href="#l20.251"></a><span id="l20.251" class="difflineplus">+        for (var i = 0; i &lt; this._permissions.length; ++i) {</span>
<a href="#l20.252"></a><span id="l20.252" class="difflineplus">+          if (this._permissions[i].host == permission.host) {</span>
<a href="#l20.253"></a><span id="l20.253" class="difflineplus">+            this._permissions[i].capability = this._getCapabilityString(permission.capability);</span>
<a href="#l20.254"></a><span id="l20.254" class="difflineplus">+            break;</span>
<a href="#l20.255"></a><span id="l20.255" class="difflineplus">+          }</span>
<a href="#l20.256"></a><span id="l20.256" class="difflineplus">+        }</span>
<a href="#l20.257"></a><span id="l20.257" class="difflineplus">+        // Re-do the sort, if the status changed from Block to Allow</span>
<a href="#l20.258"></a><span id="l20.258" class="difflineplus">+        // or vice versa, since if we're sorted on status, we may no</span>
<a href="#l20.259"></a><span id="l20.259" class="difflineplus">+        // longer be in order.</span>
<a href="#l20.260"></a><span id="l20.260" class="difflineplus">+        if (this._lastPermissionSortColumn.id == &quot;statusCol&quot;) {</span>
<a href="#l20.261"></a><span id="l20.261" class="difflineplus">+          gTreeUtils.sort(this._tree, this._view, this._permissions,</span>
<a href="#l20.262"></a><span id="l20.262" class="difflineplus">+                          this._lastPermissionSortColumn,</span>
<a href="#l20.263"></a><span id="l20.263" class="difflineplus">+                          this._lastPermissionSortAscending);</span>
<a href="#l20.264"></a><span id="l20.264" class="difflineplus">+        }</span>
<a href="#l20.265"></a><span id="l20.265" class="difflineplus">+        this._tree.treeBoxObject.invalidate();</span>
<a href="#l20.266"></a><span id="l20.266" class="difflineplus">+      }</span>
<a href="#l20.267"></a><span id="l20.267" class="difflineplus">+      // No UI other than this window causes this method to be sent a &quot;deleted&quot;</span>
<a href="#l20.268"></a><span id="l20.268" class="difflineplus">+      // notification, so we don't need to implement it since Delete is handled</span>
<a href="#l20.269"></a><span id="l20.269" class="difflineplus">+      // directly by the Permission Removal handlers. If that ever changes, those</span>
<a href="#l20.270"></a><span id="l20.270" class="difflineplus">+      // implementations will have to move into here.</span>
<a href="#l20.271"></a><span id="l20.271" class="difflineplus">+    }</span>
<a href="#l20.272"></a><span id="l20.272" class="difflineplus">+  },</span>
<a href="#l20.273"></a><span id="l20.273" class="difflineplus">+</span>
<a href="#l20.274"></a><span id="l20.274" class="difflineplus">+  onPermissionSelected: function ()</span>
<a href="#l20.275"></a><span id="l20.275" class="difflineplus">+  {</span>
<a href="#l20.276"></a><span id="l20.276" class="difflineplus">+    var hasSelection = this._tree.view.selection.count &gt; 0;</span>
<a href="#l20.277"></a><span id="l20.277" class="difflineplus">+    var hasRows = this._tree.view.rowCount &gt; 0;</span>
<a href="#l20.278"></a><span id="l20.278" class="difflineplus">+    document.getElementById(&quot;removePermission&quot;).disabled = !hasRows || !hasSelection;</span>
<a href="#l20.279"></a><span id="l20.279" class="difflineplus">+    document.getElementById(&quot;removeAllPermissions&quot;).disabled = !hasRows;</span>
<a href="#l20.280"></a><span id="l20.280" class="difflineplus">+  },</span>
<a href="#l20.281"></a><span id="l20.281" class="difflineplus">+</span>
<a href="#l20.282"></a><span id="l20.282" class="difflineplus">+  onPermissionDeleted: function ()</span>
<a href="#l20.283"></a><span id="l20.283" class="difflineplus">+  {</span>
<a href="#l20.284"></a><span id="l20.284" class="difflineplus">+    if (!this._view.rowCount)</span>
<a href="#l20.285"></a><span id="l20.285" class="difflineplus">+      return;</span>
<a href="#l20.286"></a><span id="l20.286" class="difflineplus">+    var removedPermissions = [];</span>
<a href="#l20.287"></a><span id="l20.287" class="difflineplus">+    gTreeUtils.deleteSelectedItems(this._tree, this._view, this._permissions, removedPermissions);</span>
<a href="#l20.288"></a><span id="l20.288" class="difflineplus">+    for (var i = 0; i &lt; removedPermissions.length; ++i) {</span>
<a href="#l20.289"></a><span id="l20.289" class="difflineplus">+      var p = removedPermissions[i];</span>
<a href="#l20.290"></a><span id="l20.290" class="difflineplus">+      this._pm.remove(p.host, p.type);</span>
<a href="#l20.291"></a><span id="l20.291" class="difflineplus">+    }</span>
<a href="#l20.292"></a><span id="l20.292" class="difflineplus">+    document.getElementById(&quot;removePermission&quot;).disabled = !this._permissions.length;</span>
<a href="#l20.293"></a><span id="l20.293" class="difflineplus">+    document.getElementById(&quot;removeAllPermissions&quot;).disabled = !this._permissions.length;</span>
<a href="#l20.294"></a><span id="l20.294" class="difflineplus">+  },</span>
<a href="#l20.295"></a><span id="l20.295" class="difflineplus">+</span>
<a href="#l20.296"></a><span id="l20.296" class="difflineplus">+  onAllPermissionsDeleted: function ()</span>
<a href="#l20.297"></a><span id="l20.297" class="difflineplus">+  {</span>
<a href="#l20.298"></a><span id="l20.298" class="difflineplus">+    if (!this._view.rowCount)</span>
<a href="#l20.299"></a><span id="l20.299" class="difflineplus">+      return;</span>
<a href="#l20.300"></a><span id="l20.300" class="difflineplus">+    var removedPermissions = [];</span>
<a href="#l20.301"></a><span id="l20.301" class="difflineplus">+    gTreeUtils.deleteAll(this._tree, this._view, this._permissions, removedPermissions);</span>
<a href="#l20.302"></a><span id="l20.302" class="difflineplus">+    for (var i = 0; i &lt; removedPermissions.length; ++i) {</span>
<a href="#l20.303"></a><span id="l20.303" class="difflineplus">+      var p = removedPermissions[i];</span>
<a href="#l20.304"></a><span id="l20.304" class="difflineplus">+      this._pm.remove(p.host, p.type);</span>
<a href="#l20.305"></a><span id="l20.305" class="difflineplus">+    }</span>
<a href="#l20.306"></a><span id="l20.306" class="difflineplus">+    document.getElementById(&quot;removePermission&quot;).disabled = true;</span>
<a href="#l20.307"></a><span id="l20.307" class="difflineplus">+    document.getElementById(&quot;removeAllPermissions&quot;).disabled = true;</span>
<a href="#l20.308"></a><span id="l20.308" class="difflineplus">+  },</span>
<a href="#l20.309"></a><span id="l20.309" class="difflineplus">+</span>
<a href="#l20.310"></a><span id="l20.310" class="difflineplus">+  onPermissionKeyPress: function (aEvent)</span>
<a href="#l20.311"></a><span id="l20.311" class="difflineplus">+  {</span>
<a href="#l20.312"></a><span id="l20.312" class="difflineplus">+    if (aEvent.keyCode == 46)</span>
<a href="#l20.313"></a><span id="l20.313" class="difflineplus">+      this.onPermissionDeleted();</span>
<a href="#l20.314"></a><span id="l20.314" class="difflineplus">+  },</span>
<a href="#l20.315"></a><span id="l20.315" class="difflineplus">+</span>
<a href="#l20.316"></a><span id="l20.316" class="difflineplus">+  _lastPermissionSortColumn: &quot;&quot;,</span>
<a href="#l20.317"></a><span id="l20.317" class="difflineplus">+  _lastPermissionSortAscending: false,</span>
<a href="#l20.318"></a><span id="l20.318" class="difflineplus">+</span>
<a href="#l20.319"></a><span id="l20.319" class="difflineplus">+  onPermissionSort: function (aColumn)</span>
<a href="#l20.320"></a><span id="l20.320" class="difflineplus">+  {</span>
<a href="#l20.321"></a><span id="l20.321" class="difflineplus">+    this._lastPermissionSortAscending = gTreeUtils.sort(this._tree,</span>
<a href="#l20.322"></a><span id="l20.322" class="difflineplus">+                                                        this._view,</span>
<a href="#l20.323"></a><span id="l20.323" class="difflineplus">+                                                        this._permissions,</span>
<a href="#l20.324"></a><span id="l20.324" class="difflineplus">+                                                        aColumn,</span>
<a href="#l20.325"></a><span id="l20.325" class="difflineplus">+                                                        this._lastPermissionSortColumn,</span>
<a href="#l20.326"></a><span id="l20.326" class="difflineplus">+                                                        this._lastPermissionSortAscending);</span>
<a href="#l20.327"></a><span id="l20.327" class="difflineplus">+    this._lastPermissionSortColumn = aColumn;</span>
<a href="#l20.328"></a><span id="l20.328" class="difflineplus">+  },</span>
<a href="#l20.329"></a><span id="l20.329" class="difflineplus">+</span>
<a href="#l20.330"></a><span id="l20.330" class="difflineplus">+  _loadPermissions: function ()</span>
<a href="#l20.331"></a><span id="l20.331" class="difflineplus">+  {</span>
<a href="#l20.332"></a><span id="l20.332" class="difflineplus">+    this._tree = document.getElementById(&quot;permissionsTree&quot;);</span>
<a href="#l20.333"></a><span id="l20.333" class="difflineplus">+    this._permissions = [];</span>
<a href="#l20.334"></a><span id="l20.334" class="difflineplus">+</span>
<a href="#l20.335"></a><span id="l20.335" class="difflineplus">+    // load permissions into a table</span>
<a href="#l20.336"></a><span id="l20.336" class="difflineplus">+    var count = 0;</span>
<a href="#l20.337"></a><span id="l20.337" class="difflineplus">+    var enumerator = this._pm.enumerator;</span>
<a href="#l20.338"></a><span id="l20.338" class="difflineplus">+    while (enumerator.hasMoreElements()) {</span>
<a href="#l20.339"></a><span id="l20.339" class="difflineplus">+      var nextPermission = enumerator.getNext().QueryInterface(Components.interfaces.nsIPermission);</span>
<a href="#l20.340"></a><span id="l20.340" class="difflineplus">+      this._addPermissionToList(nextPermission);</span>
<a href="#l20.341"></a><span id="l20.341" class="difflineplus">+    }</span>
<a href="#l20.342"></a><span id="l20.342" class="difflineplus">+</span>
<a href="#l20.343"></a><span id="l20.343" class="difflineplus">+    this._view._rowCount = this._permissions.length;</span>
<a href="#l20.344"></a><span id="l20.344" class="difflineplus">+</span>
<a href="#l20.345"></a><span id="l20.345" class="difflineplus">+    // sort and display the table</span>
<a href="#l20.346"></a><span id="l20.346" class="difflineplus">+    this._tree.treeBoxObject.view = this._view;</span>
<a href="#l20.347"></a><span id="l20.347" class="difflineplus">+    this.onPermissionSort(&quot;rawHost&quot;, false);</span>
<a href="#l20.348"></a><span id="l20.348" class="difflineplus">+</span>
<a href="#l20.349"></a><span id="l20.349" class="difflineplus">+    // disable &quot;remove all&quot; button if there are none</span>
<a href="#l20.350"></a><span id="l20.350" class="difflineplus">+    document.getElementById(&quot;removeAllPermissions&quot;).disabled = this._permissions.length == 0;</span>
<a href="#l20.351"></a><span id="l20.351" class="difflineplus">+  },</span>
<a href="#l20.352"></a><span id="l20.352" class="difflineplus">+</span>
<a href="#l20.353"></a><span id="l20.353" class="difflineplus">+  _addPermissionToList: function (aPermission)</span>
<a href="#l20.354"></a><span id="l20.354" class="difflineplus">+  {</span>
<a href="#l20.355"></a><span id="l20.355" class="difflineplus">+    if (aPermission.type == this._type &amp;&amp;</span>
<a href="#l20.356"></a><span id="l20.356" class="difflineplus">+        (!this._manageCapability ||</span>
<a href="#l20.357"></a><span id="l20.357" class="difflineplus">+         (aPermission.capability == this._manageCapability))) {</span>
<a href="#l20.358"></a><span id="l20.358" class="difflineplus">+</span>
<a href="#l20.359"></a><span id="l20.359" class="difflineplus">+      var host = aPermission.host;</span>
<a href="#l20.360"></a><span id="l20.360" class="difflineplus">+      var capabilityString = this._getCapabilityString(aPermission.capability);</span>
<a href="#l20.361"></a><span id="l20.361" class="difflineplus">+      var p = new Permission(host,</span>
<a href="#l20.362"></a><span id="l20.362" class="difflineplus">+                             (host.charAt(0) == &quot;.&quot;) ? host.substring(1,host.length) : host,</span>
<a href="#l20.363"></a><span id="l20.363" class="difflineplus">+                             aPermission.type,</span>
<a href="#l20.364"></a><span id="l20.364" class="difflineplus">+                             capabilityString,</span>
<a href="#l20.365"></a><span id="l20.365" class="difflineplus">+                             aPermission.capability);</span>
<a href="#l20.366"></a><span id="l20.366" class="difflineplus">+      this._permissions.push(p);</span>
<a href="#l20.367"></a><span id="l20.367" class="difflineplus">+    }</span>
<a href="#l20.368"></a><span id="l20.368" class="difflineplus">+  },</span>
<a href="#l20.369"></a><span id="l20.369" class="difflineplus">+</span>
<a href="#l20.370"></a><span id="l20.370" class="difflineplus">+  _updatePermissions: function ()</span>
<a href="#l20.371"></a><span id="l20.371" class="difflineplus">+  {</span>
<a href="#l20.372"></a><span id="l20.372" class="difflineplus">+    try {</span>
<a href="#l20.373"></a><span id="l20.373" class="difflineplus">+      var ioService = Components.classes[&quot;@mozilla.org/network/io-service;1&quot;]</span>
<a href="#l20.374"></a><span id="l20.374" class="difflineplus">+                                .getService(Components.interfaces.nsIIOService);</span>
<a href="#l20.375"></a><span id="l20.375" class="difflineplus">+      var pbi = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l20.376"></a><span id="l20.376" class="difflineplus">+                          .getService(Components.interfaces.nsIPrefBranch2);</span>
<a href="#l20.377"></a><span id="l20.377" class="difflineplus">+      var prefList = [[&quot;xpinstall.whitelist.add&quot;, nsIPermissionManager.ALLOW_ACTION],</span>
<a href="#l20.378"></a><span id="l20.378" class="difflineplus">+                      [&quot;xpinstall.whitelist.add.103&quot;, nsIPermissionManager.ALLOW_ACTION],</span>
<a href="#l20.379"></a><span id="l20.379" class="difflineplus">+                      [&quot;xpinstall.blacklist.add&quot;, nsIPermissionManager.DENY_ACTION]];</span>
<a href="#l20.380"></a><span id="l20.380" class="difflineplus">+</span>
<a href="#l20.381"></a><span id="l20.381" class="difflineplus">+      for (var i = 0; i &lt; prefList.length; ++i) {</span>
<a href="#l20.382"></a><span id="l20.382" class="difflineplus">+        try {</span>
<a href="#l20.383"></a><span id="l20.383" class="difflineplus">+          // this pref is a comma-delimited list of hosts</span>
<a href="#l20.384"></a><span id="l20.384" class="difflineplus">+          var hosts = pbi.getCharPref(prefList[i][0]);</span>
<a href="#l20.385"></a><span id="l20.385" class="difflineplus">+        } catch(ex) {</span>
<a href="#l20.386"></a><span id="l20.386" class="difflineplus">+          continue;</span>
<a href="#l20.387"></a><span id="l20.387" class="difflineplus">+        }</span>
<a href="#l20.388"></a><span id="l20.388" class="difflineplus">+</span>
<a href="#l20.389"></a><span id="l20.389" class="difflineplus">+        if (!hosts)</span>
<a href="#l20.390"></a><span id="l20.390" class="difflineplus">+          continue;</span>
<a href="#l20.391"></a><span id="l20.391" class="difflineplus">+</span>
<a href="#l20.392"></a><span id="l20.392" class="difflineplus">+        hostList = hosts.split(&quot;,&quot;);</span>
<a href="#l20.393"></a><span id="l20.393" class="difflineplus">+        var capability = prefList[i][1];</span>
<a href="#l20.394"></a><span id="l20.394" class="difflineplus">+        for (var j = 0; j &lt; hostList.length; ++j) {</span>
<a href="#l20.395"></a><span id="l20.395" class="difflineplus">+          // trim leading and trailing spaces</span>
<a href="#l20.396"></a><span id="l20.396" class="difflineplus">+          var host = hostList[j].replace(/^\s*/,&quot;&quot;).replace(/\s*$/,&quot;&quot;);</span>
<a href="#l20.397"></a><span id="l20.397" class="difflineplus">+          try {</span>
<a href="#l20.398"></a><span id="l20.398" class="difflineplus">+            var uri = ioService.newURI(&quot;http://&quot; + host, null, null);</span>
<a href="#l20.399"></a><span id="l20.399" class="difflineplus">+            this._pm.add(uri, this._type, capability);</span>
<a href="#l20.400"></a><span id="l20.400" class="difflineplus">+          } catch(ex) { }</span>
<a href="#l20.401"></a><span id="l20.401" class="difflineplus">+        }</span>
<a href="#l20.402"></a><span id="l20.402" class="difflineplus">+        pbi.setCharPref(prefList[i][0], &quot;&quot;);</span>
<a href="#l20.403"></a><span id="l20.403" class="difflineplus">+      }</span>
<a href="#l20.404"></a><span id="l20.404" class="difflineplus">+    } catch(ex) { }</span>
<a href="#l20.405"></a><span id="l20.405" class="difflineplus">+  },</span>
<a href="#l20.406"></a><span id="l20.406" class="difflineplus">+</span>
<a href="#l20.407"></a><span id="l20.407" class="difflineplus">+  setHost: function (aHost)</span>
<a href="#l20.408"></a><span id="l20.408" class="difflineplus">+  {</span>
<a href="#l20.409"></a><span id="l20.409" class="difflineplus">+    document.getElementById(&quot;url&quot;).value = aHost;</span>
<a href="#l20.410"></a><span id="l20.410" class="difflineplus">+  }</span>
<a href="#l20.411"></a><span id="l20.411" class="difflineplus">+};</span>
<a href="#l20.412"></a><span id="l20.412" class="difflineplus">+</span>
<a href="#l20.413"></a><span id="l20.413" class="difflineplus">+function setHost(aHost)</span>
<a href="#l20.414"></a><span id="l20.414" class="difflineplus">+{</span>
<a href="#l20.415"></a><span id="l20.415" class="difflineplus">+  gPermissionManager.setHost(aHost);</span>
<a href="#l20.416"></a><span id="l20.416" class="difflineplus">+}</span>
<a href="#l20.417"></a><span id="l20.417" class="difflineplus">+</span>
<a href="#l20.418"></a><span id="l20.418" class="difflineplus">+function initWithParams(aParams)</span>
<a href="#l20.419"></a><span id="l20.419" class="difflineplus">+{</span>
<a href="#l20.420"></a><span id="l20.420" class="difflineplus">+  gPermissionManager.init(aParams);</span>
<a href="#l20.421"></a><span id="l20.421" class="difflineplus">+}</span>
<a href="#l20.422"></a><span id="l20.422" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1">new file mode 100644</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineminus">--- /dev/null</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineplus">+++ b/mail/components/preferences/permissions.xul</span>
<a href="#l21.4"></a><span id="l21.4" class="difflineat">@@ -0,0 +1,116 @@</span>
<a href="#l21.5"></a><span id="l21.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l21.6"></a><span id="l21.6" class="difflineplus">+</span>
<a href="#l21.7"></a><span id="l21.7" class="difflineplus">+# -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l21.8"></a><span id="l21.8" class="difflineplus">+# ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l21.9"></a><span id="l21.9" class="difflineplus">+# Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l21.10"></a><span id="l21.10" class="difflineplus">+#</span>
<a href="#l21.11"></a><span id="l21.11" class="difflineplus">+# The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineplus">+# 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+# the License. You may obtain a copy of the License at</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineplus">+# http://www.mozilla.org/MPL/</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineplus">+#</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineplus">+# Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l21.17"></a><span id="l21.17" class="difflineplus">+# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l21.18"></a><span id="l21.18" class="difflineplus">+# for the specific language governing rights and limitations under the</span>
<a href="#l21.19"></a><span id="l21.19" class="difflineplus">+# License.</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineplus">+#</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineplus">+# The Original Code is mozilla.org code.</span>
<a href="#l21.22"></a><span id="l21.22" class="difflineplus">+#</span>
<a href="#l21.23"></a><span id="l21.23" class="difflineplus">+# The Initial Developer of the Original Code is</span>
<a href="#l21.24"></a><span id="l21.24" class="difflineplus">+# Blake Ross.</span>
<a href="#l21.25"></a><span id="l21.25" class="difflineplus">+# Portions created by the Initial Developer are Copyright (C) 2003</span>
<a href="#l21.26"></a><span id="l21.26" class="difflineplus">+# the Initial Developer. All Rights Reserved.</span>
<a href="#l21.27"></a><span id="l21.27" class="difflineplus">+#</span>
<a href="#l21.28"></a><span id="l21.28" class="difflineplus">+# Contributor(s):</span>
<a href="#l21.29"></a><span id="l21.29" class="difflineplus">+#   Blake Ross &lt;firefox@blakeross.com&gt;</span>
<a href="#l21.30"></a><span id="l21.30" class="difflineplus">+#   Ben Goodger &lt;ben@mozilla.org&gt;</span>
<a href="#l21.31"></a><span id="l21.31" class="difflineplus">+#</span>
<a href="#l21.32"></a><span id="l21.32" class="difflineplus">+# Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l21.33"></a><span id="l21.33" class="difflineplus">+# either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l21.34"></a><span id="l21.34" class="difflineplus">+# the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l21.35"></a><span id="l21.35" class="difflineplus">+# in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l21.36"></a><span id="l21.36" class="difflineplus">+# of those above. If you wish to allow use of your version of this file only</span>
<a href="#l21.37"></a><span id="l21.37" class="difflineplus">+# under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l21.38"></a><span id="l21.38" class="difflineplus">+# use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l21.39"></a><span id="l21.39" class="difflineplus">+# decision by deleting the provisions above and replace them with the notice</span>
<a href="#l21.40"></a><span id="l21.40" class="difflineplus">+# and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l21.41"></a><span id="l21.41" class="difflineplus">+# the provisions above, a recipient may use your version of this file under</span>
<a href="#l21.42"></a><span id="l21.42" class="difflineplus">+# the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l21.43"></a><span id="l21.43" class="difflineplus">+#</span>
<a href="#l21.44"></a><span id="l21.44" class="difflineplus">+# ***** END LICENSE BLOCK *****</span>
<a href="#l21.45"></a><span id="l21.45" class="difflineplus">+</span>
<a href="#l21.46"></a><span id="l21.46" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l21.47"></a><span id="l21.47" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l21.48"></a><span id="l21.48" class="difflineplus">+</span>
<a href="#l21.49"></a><span id="l21.49" class="difflineplus">+&lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/preferences/permissions.dtd&quot; &gt;</span>
<a href="#l21.50"></a><span id="l21.50" class="difflineplus">+</span>
<a href="#l21.51"></a><span id="l21.51" class="difflineplus">+&lt;window id=&quot;PermissionsDialog&quot; class=&quot;windowDialog&quot;</span>
<a href="#l21.52"></a><span id="l21.52" class="difflineplus">+        windowtype=&quot;mailnews:permissions&quot;</span>
<a href="#l21.53"></a><span id="l21.53" class="difflineplus">+        title=&quot;&amp;window.title;&quot;</span>
<a href="#l21.54"></a><span id="l21.54" class="difflineplus">+        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l21.55"></a><span id="l21.55" class="difflineplus">+        style=&quot;width: &amp;window.width;;&quot;</span>
<a href="#l21.56"></a><span id="l21.56" class="difflineplus">+        onload=&quot;gPermissionManager.onLoad();&quot;</span>
<a href="#l21.57"></a><span id="l21.57" class="difflineplus">+        onunload=&quot;gPermissionManager.uninit();&quot;</span>
<a href="#l21.58"></a><span id="l21.58" class="difflineplus">+        persist=&quot;screenX screenY width height&quot;&gt;</span>
<a href="#l21.59"></a><span id="l21.59" class="difflineplus">+</span>
<a href="#l21.60"></a><span id="l21.60" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/preferences/permissionsutils.js&quot;/&gt;</span>
<a href="#l21.61"></a><span id="l21.61" class="difflineplus">+  &lt;script src=&quot;chrome://messenger/content/preferences/permissions.js&quot;/&gt;</span>
<a href="#l21.62"></a><span id="l21.62" class="difflineplus">+</span>
<a href="#l21.63"></a><span id="l21.63" class="difflineplus">+  &lt;stringbundle id=&quot;bundlePreferences&quot;</span>
<a href="#l21.64"></a><span id="l21.64" class="difflineplus">+                src=&quot;chrome://messenger/locale/preferences/preferences.properties&quot;/&gt;</span>
<a href="#l21.65"></a><span id="l21.65" class="difflineplus">+</span>
<a href="#l21.66"></a><span id="l21.66" class="difflineplus">+  &lt;keyset&gt;</span>
<a href="#l21.67"></a><span id="l21.67" class="difflineplus">+    &lt;key key=&quot;&amp;windowClose.key;&quot; modifiers=&quot;accel&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l21.68"></a><span id="l21.68" class="difflineplus">+  &lt;/keyset&gt;</span>
<a href="#l21.69"></a><span id="l21.69" class="difflineplus">+</span>
<a href="#l21.70"></a><span id="l21.70" class="difflineplus">+  &lt;vbox class=&quot;contentPane&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l21.71"></a><span id="l21.71" class="difflineplus">+    &lt;description id=&quot;permissionsText&quot; control=&quot;url&quot;/&gt;</span>
<a href="#l21.72"></a><span id="l21.72" class="difflineplus">+    &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l21.73"></a><span id="l21.73" class="difflineplus">+    &lt;label id=&quot;urlLabel&quot; control=&quot;url&quot; value=&quot;&amp;address.label;&quot; accesskey=&quot;&amp;address.accesskey;&quot;/&gt;</span>
<a href="#l21.74"></a><span id="l21.74" class="difflineplus">+    &lt;hbox align=&quot;start&quot;&gt;</span>
<a href="#l21.75"></a><span id="l21.75" class="difflineplus">+      &lt;textbox id=&quot;url&quot; flex=&quot;1&quot;</span>
<a href="#l21.76"></a><span id="l21.76" class="difflineplus">+               oninput=&quot;gPermissionManager.onHostInput(event.target);&quot;</span>
<a href="#l21.77"></a><span id="l21.77" class="difflineplus">+               onkeypress=&quot;gPermissionManager.onHostKeyPress(event);&quot;/&gt;</span>
<a href="#l21.78"></a><span id="l21.78" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l21.79"></a><span id="l21.79" class="difflineplus">+    &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l21.80"></a><span id="l21.80" class="difflineplus">+      &lt;button id=&quot;btnBlock&quot; disabled=&quot;true&quot; label=&quot;&amp;block.label;&quot; accesskey=&quot;&amp;block.accesskey;&quot;</span>
<a href="#l21.81"></a><span id="l21.81" class="difflineplus">+              oncommand=&quot;gPermissionManager.addPermission(nsIPermissionManager.DENY_ACTION);&quot;/&gt;</span>
<a href="#l21.82"></a><span id="l21.82" class="difflineplus">+      &lt;button id=&quot;btnSession&quot; disabled=&quot;true&quot; label=&quot;&amp;session.label;&quot; accesskey=&quot;&amp;session.accesskey;&quot;</span>
<a href="#l21.83"></a><span id="l21.83" class="difflineplus">+              oncommand=&quot;gPermissionManager.addPermission(nsICookiePermission.ACCESS_SESSION);&quot;/&gt;</span>
<a href="#l21.84"></a><span id="l21.84" class="difflineplus">+      &lt;button id=&quot;btnAllow&quot; disabled=&quot;true&quot; label=&quot;&amp;allow.label;&quot; default=&quot;true&quot; accesskey=&quot;&amp;allow.accesskey;&quot;</span>
<a href="#l21.85"></a><span id="l21.85" class="difflineplus">+              oncommand=&quot;gPermissionManager.addPermission(nsIPermissionManager.ALLOW_ACTION);&quot;/&gt;</span>
<a href="#l21.86"></a><span id="l21.86" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l21.87"></a><span id="l21.87" class="difflineplus">+    &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l21.88"></a><span id="l21.88" class="difflineplus">+    &lt;tree id=&quot;permissionsTree&quot; flex=&quot;1&quot; style=&quot;height: 18em;&quot;</span>
<a href="#l21.89"></a><span id="l21.89" class="difflineplus">+          hidecolumnpicker=&quot;true&quot;</span>
<a href="#l21.90"></a><span id="l21.90" class="difflineplus">+          onkeypress=&quot;gPermissionManager.onPermissionKeyPress(event)&quot;</span>
<a href="#l21.91"></a><span id="l21.91" class="difflineplus">+          onselect=&quot;gPermissionManager.onPermissionSelected();&quot;&gt;</span>
<a href="#l21.92"></a><span id="l21.92" class="difflineplus">+      &lt;treecols&gt;</span>
<a href="#l21.93"></a><span id="l21.93" class="difflineplus">+        &lt;treecol id=&quot;siteCol&quot; label=&quot;&amp;treehead.sitename.label;&quot; flex=&quot;3&quot;</span>
<a href="#l21.94"></a><span id="l21.94" class="difflineplus">+                onclick=&quot;gPermissionManager.onPermissionSort('rawHost');&quot; persist=&quot;width&quot;/&gt;</span>
<a href="#l21.95"></a><span id="l21.95" class="difflineplus">+        &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l21.96"></a><span id="l21.96" class="difflineplus">+        &lt;treecol id=&quot;statusCol&quot; label=&quot;&amp;treehead.status.label;&quot; flex=&quot;1&quot;</span>
<a href="#l21.97"></a><span id="l21.97" class="difflineplus">+                onclick=&quot;gPermissionManager.onPermissionSort('capability');&quot; persist=&quot;width&quot;/&gt;</span>
<a href="#l21.98"></a><span id="l21.98" class="difflineplus">+      &lt;/treecols&gt;</span>
<a href="#l21.99"></a><span id="l21.99" class="difflineplus">+      &lt;treechildren/&gt;</span>
<a href="#l21.100"></a><span id="l21.100" class="difflineplus">+    &lt;/tree&gt;</span>
<a href="#l21.101"></a><span id="l21.101" class="difflineplus">+  &lt;/vbox&gt;</span>
<a href="#l21.102"></a><span id="l21.102" class="difflineplus">+  &lt;hbox align=&quot;end&quot;&gt;</span>
<a href="#l21.103"></a><span id="l21.103" class="difflineplus">+    &lt;hbox class=&quot;actionButtons&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l21.104"></a><span id="l21.104" class="difflineplus">+      &lt;button id=&quot;removePermission&quot; disabled=&quot;true&quot;</span>
<a href="#l21.105"></a><span id="l21.105" class="difflineplus">+              accesskey=&quot;&amp;removepermission.accesskey;&quot;</span>
<a href="#l21.106"></a><span id="l21.106" class="difflineplus">+              icon=&quot;remove&quot; label=&quot;&amp;removepermission.label;&quot;</span>
<a href="#l21.107"></a><span id="l21.107" class="difflineplus">+              oncommand=&quot;gPermissionManager.onPermissionDeleted();&quot;/&gt;</span>
<a href="#l21.108"></a><span id="l21.108" class="difflineplus">+      &lt;button id=&quot;removeAllPermissions&quot;</span>
<a href="#l21.109"></a><span id="l21.109" class="difflineplus">+              icon=&quot;clear&quot; label=&quot;&amp;removeallpermissions.label;&quot;</span>
<a href="#l21.110"></a><span id="l21.110" class="difflineplus">+              accesskey=&quot;&amp;removeallpermissions.accesskey;&quot;</span>
<a href="#l21.111"></a><span id="l21.111" class="difflineplus">+              oncommand=&quot;gPermissionManager.onAllPermissionsDeleted();&quot;/&gt;</span>
<a href="#l21.112"></a><span id="l21.112" class="difflineplus">+      &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l21.113"></a><span id="l21.113" class="difflineplus">+#ifndef XP_MACOSX</span>
<a href="#l21.114"></a><span id="l21.114" class="difflineplus">+      &lt;button oncommand=&quot;close();&quot; icon=&quot;close&quot;</span>
<a href="#l21.115"></a><span id="l21.115" class="difflineplus">+              label=&quot;&amp;button.close.label;&quot; accesskey=&quot;&amp;button.close.accesskey;&quot;/&gt;</span>
<a href="#l21.116"></a><span id="l21.116" class="difflineplus">+#endif</span>
<a href="#l21.117"></a><span id="l21.117" class="difflineplus">+    &lt;/hbox&gt;</span>
<a href="#l21.118"></a><span id="l21.118" class="difflineplus">+    &lt;resizer dir=&quot;bottomend&quot;/&gt;</span>
<a href="#l21.119"></a><span id="l21.119" class="difflineplus">+  &lt;/hbox&gt;</span>
<a href="#l21.120"></a><span id="l21.120" class="difflineplus">+&lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1">new file mode 100644</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineminus">--- /dev/null</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineplus">+++ b/mail/components/preferences/permissionsutils.js</span>
<a href="#l22.4"></a><span id="l22.4" class="difflineat">@@ -0,0 +1,102 @@</span>
<a href="#l22.5"></a><span id="l22.5" class="difflineplus">+# -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l22.6"></a><span id="l22.6" class="difflineplus">+# ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l22.7"></a><span id="l22.7" class="difflineplus">+# Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l22.8"></a><span id="l22.8" class="difflineplus">+#</span>
<a href="#l22.9"></a><span id="l22.9" class="difflineplus">+# The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l22.10"></a><span id="l22.10" class="difflineplus">+# 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l22.11"></a><span id="l22.11" class="difflineplus">+# the License. You may obtain a copy of the License at</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineplus">+# http://www.mozilla.org/MPL/</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+#</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineplus">+# Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineplus">+# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineplus">+# for the specific language governing rights and limitations under the</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineplus">+# License.</span>
<a href="#l22.18"></a><span id="l22.18" class="difflineplus">+#</span>
<a href="#l22.19"></a><span id="l22.19" class="difflineplus">+# The Original Code is the Firefox Preferences System.</span>
<a href="#l22.20"></a><span id="l22.20" class="difflineplus">+#</span>
<a href="#l22.21"></a><span id="l22.21" class="difflineplus">+# The Initial Developer of the Original Code is</span>
<a href="#l22.22"></a><span id="l22.22" class="difflineplus">+# Ben Goodger.</span>
<a href="#l22.23"></a><span id="l22.23" class="difflineplus">+# Portions created by the Initial Developer are Copyright (C) 2005</span>
<a href="#l22.24"></a><span id="l22.24" class="difflineplus">+# the Initial Developer. All Rights Reserved.</span>
<a href="#l22.25"></a><span id="l22.25" class="difflineplus">+#</span>
<a href="#l22.26"></a><span id="l22.26" class="difflineplus">+# Contributor(s):</span>
<a href="#l22.27"></a><span id="l22.27" class="difflineplus">+#   Ben Goodger &lt;ben@mozilla.org&gt;</span>
<a href="#l22.28"></a><span id="l22.28" class="difflineplus">+#</span>
<a href="#l22.29"></a><span id="l22.29" class="difflineplus">+# Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l22.30"></a><span id="l22.30" class="difflineplus">+# either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l22.31"></a><span id="l22.31" class="difflineplus">+# the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l22.32"></a><span id="l22.32" class="difflineplus">+# in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l22.33"></a><span id="l22.33" class="difflineplus">+# of those above. If you wish to allow use of your version of this file only</span>
<a href="#l22.34"></a><span id="l22.34" class="difflineplus">+# under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l22.35"></a><span id="l22.35" class="difflineplus">+# use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l22.36"></a><span id="l22.36" class="difflineplus">+# decision by deleting the provisions above and replace them with the notice</span>
<a href="#l22.37"></a><span id="l22.37" class="difflineplus">+# and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l22.38"></a><span id="l22.38" class="difflineplus">+# the provisions above, a recipient may use your version of this file under</span>
<a href="#l22.39"></a><span id="l22.39" class="difflineplus">+# the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l22.40"></a><span id="l22.40" class="difflineplus">+#</span>
<a href="#l22.41"></a><span id="l22.41" class="difflineplus">+# ***** END LICENSE BLOCK *****</span>
<a href="#l22.42"></a><span id="l22.42" class="difflineplus">+</span>
<a href="#l22.43"></a><span id="l22.43" class="difflineplus">+var gTreeUtils = {</span>
<a href="#l22.44"></a><span id="l22.44" class="difflineplus">+  deleteAll: function (aTree, aView, aItems, aDeletedItems)</span>
<a href="#l22.45"></a><span id="l22.45" class="difflineplus">+  {</span>
<a href="#l22.46"></a><span id="l22.46" class="difflineplus">+    for (var i = 0; i &lt; aItems.length; ++i)</span>
<a href="#l22.47"></a><span id="l22.47" class="difflineplus">+      aDeletedItems.push(aItems[i]);</span>
<a href="#l22.48"></a><span id="l22.48" class="difflineplus">+    aItems.splice(0);</span>
<a href="#l22.49"></a><span id="l22.49" class="difflineplus">+    var oldCount = aView.rowCount;</span>
<a href="#l22.50"></a><span id="l22.50" class="difflineplus">+    aView._rowCount = 0;</span>
<a href="#l22.51"></a><span id="l22.51" class="difflineplus">+    aTree.treeBoxObject.rowCountChanged(0, -oldCount);</span>
<a href="#l22.52"></a><span id="l22.52" class="difflineplus">+  },</span>
<a href="#l22.53"></a><span id="l22.53" class="difflineplus">+</span>
<a href="#l22.54"></a><span id="l22.54" class="difflineplus">+  deleteSelectedItems: function (aTree, aView, aItems, aDeletedItems)</span>
<a href="#l22.55"></a><span id="l22.55" class="difflineplus">+  {</span>
<a href="#l22.56"></a><span id="l22.56" class="difflineplus">+    var selection = aTree.view.selection;</span>
<a href="#l22.57"></a><span id="l22.57" class="difflineplus">+    selection.selectEventsSuppressed = true;</span>
<a href="#l22.58"></a><span id="l22.58" class="difflineplus">+</span>
<a href="#l22.59"></a><span id="l22.59" class="difflineplus">+    var rc = selection.getRangeCount();</span>
<a href="#l22.60"></a><span id="l22.60" class="difflineplus">+    for (var i = 0; i &lt; rc; ++i) {</span>
<a href="#l22.61"></a><span id="l22.61" class="difflineplus">+      var min = { }; var max = { };</span>
<a href="#l22.62"></a><span id="l22.62" class="difflineplus">+      selection.getRangeAt(i, min, max);</span>
<a href="#l22.63"></a><span id="l22.63" class="difflineplus">+      for (var j = min.value; j &lt;= max.value; ++j) {</span>
<a href="#l22.64"></a><span id="l22.64" class="difflineplus">+        aDeletedItems.push(aItems[j]);</span>
<a href="#l22.65"></a><span id="l22.65" class="difflineplus">+        aItems[j] = null;</span>
<a href="#l22.66"></a><span id="l22.66" class="difflineplus">+      }</span>
<a href="#l22.67"></a><span id="l22.67" class="difflineplus">+    }</span>
<a href="#l22.68"></a><span id="l22.68" class="difflineplus">+</span>
<a href="#l22.69"></a><span id="l22.69" class="difflineplus">+    var nextSelection = 0;</span>
<a href="#l22.70"></a><span id="l22.70" class="difflineplus">+    for (i = 0; i &lt; aItems.length; ++i) {</span>
<a href="#l22.71"></a><span id="l22.71" class="difflineplus">+      if (!aItems[i]) {</span>
<a href="#l22.72"></a><span id="l22.72" class="difflineplus">+        var j = i;</span>
<a href="#l22.73"></a><span id="l22.73" class="difflineplus">+        while (j &lt; aItems.length &amp;&amp; !aItems[j])</span>
<a href="#l22.74"></a><span id="l22.74" class="difflineplus">+          ++j;</span>
<a href="#l22.75"></a><span id="l22.75" class="difflineplus">+        aItems.splice(i, j - i);</span>
<a href="#l22.76"></a><span id="l22.76" class="difflineplus">+        nextSelection = j &lt; aView.rowCount ? j - 1 : j - 2;</span>
<a href="#l22.77"></a><span id="l22.77" class="difflineplus">+        aView._rowCount -= j - i;</span>
<a href="#l22.78"></a><span id="l22.78" class="difflineplus">+        aTree.treeBoxObject.rowCountChanged(i, i - j);</span>
<a href="#l22.79"></a><span id="l22.79" class="difflineplus">+      }</span>
<a href="#l22.80"></a><span id="l22.80" class="difflineplus">+    }</span>
<a href="#l22.81"></a><span id="l22.81" class="difflineplus">+</span>
<a href="#l22.82"></a><span id="l22.82" class="difflineplus">+    if (aItems.length) {</span>
<a href="#l22.83"></a><span id="l22.83" class="difflineplus">+      selection.select(nextSelection);</span>
<a href="#l22.84"></a><span id="l22.84" class="difflineplus">+      aTree.treeBoxObject.ensureRowIsVisible(nextSelection);</span>
<a href="#l22.85"></a><span id="l22.85" class="difflineplus">+      aTree.focus();</span>
<a href="#l22.86"></a><span id="l22.86" class="difflineplus">+    }</span>
<a href="#l22.87"></a><span id="l22.87" class="difflineplus">+    selection.selectEventsSuppressed = false;</span>
<a href="#l22.88"></a><span id="l22.88" class="difflineplus">+  },</span>
<a href="#l22.89"></a><span id="l22.89" class="difflineplus">+</span>
<a href="#l22.90"></a><span id="l22.90" class="difflineplus">+  sort: function (aTree, aView, aDataSet, aColumn,</span>
<a href="#l22.91"></a><span id="l22.91" class="difflineplus">+                  aLastSortColumn, aLastSortAscending)</span>
<a href="#l22.92"></a><span id="l22.92" class="difflineplus">+  {</span>
<a href="#l22.93"></a><span id="l22.93" class="difflineplus">+    var ascending = (aColumn == aLastSortColumn) ? !aLastSortAscending : true;</span>
<a href="#l22.94"></a><span id="l22.94" class="difflineplus">+    aDataSet.sort(function (a, b) { return a[aColumn].toLowerCase().localeCompare(b[aColumn].toLowerCase()); });</span>
<a href="#l22.95"></a><span id="l22.95" class="difflineplus">+    if (!ascending)</span>
<a href="#l22.96"></a><span id="l22.96" class="difflineplus">+      aDataSet.reverse();</span>
<a href="#l22.97"></a><span id="l22.97" class="difflineplus">+</span>
<a href="#l22.98"></a><span id="l22.98" class="difflineplus">+    aTree.view.selection.select(-1);</span>
<a href="#l22.99"></a><span id="l22.99" class="difflineplus">+    aTree.view.selection.select(0);</span>
<a href="#l22.100"></a><span id="l22.100" class="difflineplus">+    aTree.treeBoxObject.invalidate();</span>
<a href="#l22.101"></a><span id="l22.101" class="difflineplus">+    aTree.treeBoxObject.ensureRowIsVisible(0);</span>
<a href="#l22.102"></a><span id="l22.102" class="difflineplus">+</span>
<a href="#l22.103"></a><span id="l22.103" class="difflineplus">+    return ascending;</span>
<a href="#l22.104"></a><span id="l22.104" class="difflineplus">+  }</span>
<a href="#l22.105"></a><span id="l22.105" class="difflineplus">+};</span>
<a href="#l22.106"></a><span id="l22.106" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mail/components/preferences/security.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mail/components/preferences/security.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -208,10 +208,69 @@ var gSecurityPane = {</span>
<a href="#l23.4"></a><span id="l23.4">     document.documentElement.openWindow(&quot;Toolkit:PasswordManager&quot;,</span>
<a href="#l23.5"></a><span id="l23.5">                                         &quot;chrome://passwordmgr/content/passwordManager.xul&quot;,</span>
<a href="#l23.6"></a><span id="l23.6">                                         &quot;&quot;, null);</span>
<a href="#l23.7"></a><span id="l23.7">   },</span>
<a href="#l23.8"></a><span id="l23.8"> </span>
<a href="#l23.9"></a><span id="l23.9">   updateDownloadedPhishingListState: function()</span>
<a href="#l23.10"></a><span id="l23.10">   {</span>
<a href="#l23.11"></a><span id="l23.11">     document.getElementById('useDownloadedList').disabled = !document.getElementById('enablePhishingDetector').checked;</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineplus">+  },</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+  /**</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineplus">+   * Reads the network.cookie.cookieBehavior preference value and</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineplus">+   * enables/disables the rest of the cookie UI accordingly, returning true</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineplus">+   * if cookies are enabled.</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineplus">+   */</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineplus">+  readAcceptCookies: function ()</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineplus">+  {</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineplus">+    var pref = document.getElementById(&quot;network.cookie.cookieBehavior&quot;);</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineplus">+    var keepUntil = document.getElementById(&quot;keepUntil&quot;);</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineplus">+    var menu = document.getElementById(&quot;keepCookiesUntil&quot;);</span>
<a href="#l23.24"></a><span id="l23.24" class="difflineplus">+</span>
<a href="#l23.25"></a><span id="l23.25" class="difflineplus">+    // enable the rest of the UI for anything other than &quot;disable all cookies&quot;</span>
<a href="#l23.26"></a><span id="l23.26" class="difflineplus">+    var acceptCookies = (pref.value != 2);</span>
<a href="#l23.27"></a><span id="l23.27" class="difflineplus">+</span>
<a href="#l23.28"></a><span id="l23.28" class="difflineplus">+    keepUntil.disabled = menu.disabled = this._autoStartPrivateBrowsing || !acceptCookies;</span>
<a href="#l23.29"></a><span id="l23.29" class="difflineplus">+</span>
<a href="#l23.30"></a><span id="l23.30" class="difflineplus">+    return acceptCookies;</span>
<a href="#l23.31"></a><span id="l23.31" class="difflineplus">+  },</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineplus">+</span>
<a href="#l23.33"></a><span id="l23.33" class="difflineplus">+  /**</span>
<a href="#l23.34"></a><span id="l23.34" class="difflineplus">+   * Enables/disables the &quot;keep until&quot; label and menulist in response to the</span>
<a href="#l23.35"></a><span id="l23.35" class="difflineplus">+   * &quot;accept cookies&quot; checkbox being checked or unchecked.</span>
<a href="#l23.36"></a><span id="l23.36" class="difflineplus">+   */</span>
<a href="#l23.37"></a><span id="l23.37" class="difflineplus">+  writeAcceptCookies: function ()</span>
<a href="#l23.38"></a><span id="l23.38" class="difflineplus">+  {</span>
<a href="#l23.39"></a><span id="l23.39" class="difflineplus">+    var accept = document.getElementById(&quot;acceptCookies&quot;);</span>
<a href="#l23.40"></a><span id="l23.40" class="difflineplus">+</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineplus">+    return accept.checked ? 0 : 2;</span>
<a href="#l23.42"></a><span id="l23.42" class="difflineplus">+  },</span>
<a href="#l23.43"></a><span id="l23.43" class="difflineplus">+</span>
<a href="#l23.44"></a><span id="l23.44" class="difflineplus">+  /**</span>
<a href="#l23.45"></a><span id="l23.45" class="difflineplus">+   * Displays fine-grained, per-site preferences for cookies.</span>
<a href="#l23.46"></a><span id="l23.46" class="difflineplus">+   */</span>
<a href="#l23.47"></a><span id="l23.47" class="difflineplus">+  showCookieExceptions: function ()</span>
<a href="#l23.48"></a><span id="l23.48" class="difflineplus">+  {</span>
<a href="#l23.49"></a><span id="l23.49" class="difflineplus">+    var bundle = document.getElementById(&quot;bundlePreferences&quot;);</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineplus">+    var params = { blockVisible   : true,</span>
<a href="#l23.51"></a><span id="l23.51" class="difflineplus">+                   sessionVisible : true,</span>
<a href="#l23.52"></a><span id="l23.52" class="difflineplus">+                   allowVisible   : true,</span>
<a href="#l23.53"></a><span id="l23.53" class="difflineplus">+                   prefilledHost  : &quot;&quot;,</span>
<a href="#l23.54"></a><span id="l23.54" class="difflineplus">+                   permissionType : &quot;cookie&quot;,</span>
<a href="#l23.55"></a><span id="l23.55" class="difflineplus">+                   windowTitle    : bundle.getString(&quot;cookiepermissionstitle&quot;),</span>
<a href="#l23.56"></a><span id="l23.56" class="difflineplus">+                   introText      : bundle.getString(&quot;cookiepermissionstext&quot;) };</span>
<a href="#l23.57"></a><span id="l23.57" class="difflineplus">+    document.documentElement.openWindow(&quot;mailnews:permissions&quot;,</span>
<a href="#l23.58"></a><span id="l23.58" class="difflineplus">+                        &quot;chrome://messenger/content/preferences/permissions.xul&quot;,</span>
<a href="#l23.59"></a><span id="l23.59" class="difflineplus">+                        &quot;&quot;, params);</span>
<a href="#l23.60"></a><span id="l23.60" class="difflineplus">+  },</span>
<a href="#l23.61"></a><span id="l23.61" class="difflineplus">+</span>
<a href="#l23.62"></a><span id="l23.62" class="difflineplus">+  /**</span>
<a href="#l23.63"></a><span id="l23.63" class="difflineplus">+   * Displays all the user's cookies in a dialog.</span>
<a href="#l23.64"></a><span id="l23.64" class="difflineplus">+   */</span>
<a href="#l23.65"></a><span id="l23.65" class="difflineplus">+  showCookies: function (aCategory)</span>
<a href="#l23.66"></a><span id="l23.66" class="difflineplus">+  {</span>
<a href="#l23.67"></a><span id="l23.67" class="difflineplus">+    document.documentElement.openWindow(&quot;mailnews:cookies&quot;,</span>
<a href="#l23.68"></a><span id="l23.68" class="difflineplus">+                            &quot;chrome://messenger/content/preferences/cookies.xul&quot;,</span>
<a href="#l23.69"></a><span id="l23.69" class="difflineplus">+                            &quot;&quot;, null);</span>
<a href="#l23.70"></a><span id="l23.70">   }</span>
<a href="#l23.71"></a><span id="l23.71" class="difflineplus">+</span>
<a href="#l23.72"></a><span id="l23.72"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mail/components/preferences/security.xul</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mail/components/preferences/security.xul</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -74,24 +74,41 @@</span>
<a href="#l24.4"></a><span id="l24.4">                   name=&quot;browser.safebrowsing.enabled&quot;</span>
<a href="#l24.5"></a><span id="l24.5">                   type=&quot;bool&quot;/&gt;</span>
<a href="#l24.6"></a><span id="l24.6">       &lt;preference id=&quot;mailnews.downloadToTempFile&quot;</span>
<a href="#l24.7"></a><span id="l24.7">                   name=&quot;mailnews.downloadToTempFile&quot;</span>
<a href="#l24.8"></a><span id="l24.8">                   type=&quot;bool&quot;/&gt;                   </span>
<a href="#l24.9"></a><span id="l24.9">       &lt;preference id=&quot;pref.privacy.disable_button.view_passwords&quot;</span>
<a href="#l24.10"></a><span id="l24.10">                   name=&quot;pref.privacy.disable_button.view_passwords&quot;</span>
<a href="#l24.11"></a><span id="l24.11">                   type=&quot;bool&quot;/&gt;</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineplus">+      &lt;!-- Cookies --&gt;</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+      &lt;preference id=&quot;pref.privacy.disable_button.cookie_exceptions&quot;</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineplus">+                  name=&quot;pref.privacy.disable_button.cookie_exceptions&quot;</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineplus">+                  type=&quot;bool&quot;/&gt;</span>
<a href="#l24.16"></a><span id="l24.16" class="difflineplus">+      &lt;preference id=&quot;pref.privacy.disable_button.view_cookies&quot;</span>
<a href="#l24.17"></a><span id="l24.17" class="difflineplus">+                  name=&quot;pref.privacy.disable_button.view_cookies&quot;</span>
<a href="#l24.18"></a><span id="l24.18" class="difflineplus">+                  type=&quot;bool&quot;/&gt;</span>
<a href="#l24.19"></a><span id="l24.19" class="difflineplus">+      &lt;preference id=&quot;network.cookie.cookieBehavior&quot;</span>
<a href="#l24.20"></a><span id="l24.20" class="difflineplus">+                  name=&quot;network.cookie.cookieBehavior&quot;</span>
<a href="#l24.21"></a><span id="l24.21" class="difflineplus">+                  type=&quot;int&quot;/&gt;</span>
<a href="#l24.22"></a><span id="l24.22" class="difflineplus">+      &lt;preference id=&quot;network.cookie.lifetimePolicy&quot;</span>
<a href="#l24.23"></a><span id="l24.23" class="difflineplus">+                  name=&quot;network.cookie.lifetimePolicy&quot;</span>
<a href="#l24.24"></a><span id="l24.24" class="difflineplus">+                  type=&quot;int&quot;/&gt;</span>
<a href="#l24.25"></a><span id="l24.25" class="difflineplus">+      &lt;preference id=&quot;network.cookie.blockFutureCookies&quot;</span>
<a href="#l24.26"></a><span id="l24.26" class="difflineplus">+                  name=&quot;network.cookie.blockFutureCookies&quot;</span>
<a href="#l24.27"></a><span id="l24.27" class="difflineplus">+                  type=&quot;bool&quot;/&gt;</span>
<a href="#l24.28"></a><span id="l24.28">     &lt;/preferences&gt;</span>
<a href="#l24.29"></a><span id="l24.29"> </span>
<a href="#l24.30"></a><span id="l24.30">     &lt;tabbox id=&quot;securityPrefs&quot; flex=&quot;1&quot; onselect=&quot;gSecurityPane.tabSelectionChanged();&quot;&gt;</span>
<a href="#l24.31"></a><span id="l24.31">       &lt;tabs&gt;</span>
<a href="#l24.32"></a><span id="l24.32">         &lt;tab label=&quot;&amp;itemJunk.label;&quot;/&gt;</span>
<a href="#l24.33"></a><span id="l24.33">         &lt;tab label=&quot;&amp;itemPhishing.label;&quot;/&gt;</span>
<a href="#l24.34"></a><span id="l24.34">         &lt;tab label=&quot;&amp;itemAntiVirus.label;&quot;/&gt;</span>
<a href="#l24.35"></a><span id="l24.35">         &lt;tab label=&quot;&amp;itemPasswords.label;&quot;/&gt;</span>
<a href="#l24.36"></a><span id="l24.36" class="difflineplus">+        &lt;tab label=&quot;&amp;itemCookies.label;&quot;/&gt;</span>
<a href="#l24.37"></a><span id="l24.37">       &lt;/tabs&gt;</span>
<a href="#l24.38"></a><span id="l24.38">       </span>
<a href="#l24.39"></a><span id="l24.39">       &lt;tabpanels flex=&quot;1&quot;&gt;</span>
<a href="#l24.40"></a><span id="l24.40">         &lt;tabpanel orient=&quot;vertical&quot;&gt;</span>
<a href="#l24.41"></a><span id="l24.41">           &lt;description&gt;&amp;junkMail.intro;&lt;/description&gt;</span>
<a href="#l24.42"></a><span id="l24.42">           &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l24.43"></a><span id="l24.43">           </span>
<a href="#l24.44"></a><span id="l24.44">           &lt;checkbox id=&quot;manualMark&quot; </span>
<a href="#l24.45"></a><span id="l24.45" class="difflineat">@@ -170,15 +187,52 @@</span>
<a href="#l24.46"></a><span id="l24.46">                       oncommand=&quot;gSecurityPane.updateMasterPasswordButton();&quot;/&gt;</span>
<a href="#l24.47"></a><span id="l24.47"> </span>
<a href="#l24.48"></a><span id="l24.48">             &lt;button id=&quot;changeMasterPassword&quot;</span>
<a href="#l24.49"></a><span id="l24.49">                     label=&quot;&amp;changeMasterPassword.label;&quot; accesskey=&quot;&amp;changeMasterPassword.accesskey;&quot;</span>
<a href="#l24.50"></a><span id="l24.50">                     oncommand=&quot;gSecurityPane.changeMasterPassword();&quot;/&gt;</span>
<a href="#l24.51"></a><span id="l24.51">           &lt;/hbox&gt;</span>
<a href="#l24.52"></a><span id="l24.52">           &lt;separator flex=&quot;1&quot;/&gt;</span>
<a href="#l24.53"></a><span id="l24.53">         &lt;/tabpanel&gt;</span>
<a href="#l24.54"></a><span id="l24.54" class="difflineplus">+</span>
<a href="#l24.55"></a><span id="l24.55" class="difflineplus">+        &lt;!-- Cookies --&gt;</span>
<a href="#l24.56"></a><span id="l24.56" class="difflineplus">+        &lt;tabpanel orient=&quot;vertical&quot;&gt;</span>
<a href="#l24.57"></a><span id="l24.57" class="difflineplus">+          &lt;description&gt;&amp;cookies.intro;&lt;/description&gt;</span>
<a href="#l24.58"></a><span id="l24.58" class="difflineplus">+          &lt;separator class=&quot;thin&quot;/&gt;</span>
<a href="#l24.59"></a><span id="l24.59" class="difflineplus">+</span>
<a href="#l24.60"></a><span id="l24.60" class="difflineplus">+          &lt;hbox id=&quot;cookiesBox&quot;&gt;</span>
<a href="#l24.61"></a><span id="l24.61" class="difflineplus">+            &lt;checkbox id=&quot;acceptCookies&quot; label=&quot;&amp;acceptCookies.label;&quot; flex=&quot;1&quot;</span>
<a href="#l24.62"></a><span id="l24.62" class="difflineplus">+                      preference=&quot;network.cookie.cookieBehavior&quot;</span>
<a href="#l24.63"></a><span id="l24.63" class="difflineplus">+                      accesskey=&quot;&amp;acceptCookies.accesskey;&quot;</span>
<a href="#l24.64"></a><span id="l24.64" class="difflineplus">+                      onsyncfrompreference=&quot;return gSecurityPane.readAcceptCookies();&quot;</span>
<a href="#l24.65"></a><span id="l24.65" class="difflineplus">+                      onsynctopreference=&quot;return gSecurityPane.writeAcceptCookies();&quot;/&gt;</span>
<a href="#l24.66"></a><span id="l24.66" class="difflineplus">+            &lt;button id=&quot;cookieExceptions&quot; oncommand=&quot;gSecurityPane.showCookieExceptions();&quot;</span>
<a href="#l24.67"></a><span id="l24.67" class="difflineplus">+                    label=&quot;&amp;cookieExceptions.label;&quot; accesskey=&quot;&amp;cookieExceptions.accesskey;&quot;</span>
<a href="#l24.68"></a><span id="l24.68" class="difflineplus">+                    preference=&quot;pref.privacy.disable_button.cookie_exceptions&quot;/&gt;</span>
<a href="#l24.69"></a><span id="l24.69" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l24.70"></a><span id="l24.70" class="difflineplus">+          &lt;hbox id=&quot;keepRow&quot; class=&quot;indent&quot;&gt;</span>
<a href="#l24.71"></a><span id="l24.71" class="difflineplus">+            &lt;hbox id=&quot;keepBox&quot; align=&quot;center&quot;&gt;</span>
<a href="#l24.72"></a><span id="l24.72" class="difflineplus">+              &lt;label id=&quot;keepUntil&quot;</span>
<a href="#l24.73"></a><span id="l24.73" class="difflineplus">+                     control=&quot;keepCookiesUntil&quot;</span>
<a href="#l24.74"></a><span id="l24.74" class="difflineplus">+                     accesskey=&quot;&amp;keepUntil.accesskey;&quot;&gt;&amp;keepUntil.label;&lt;/label&gt;</span>
<a href="#l24.75"></a><span id="l24.75" class="difflineplus">+              &lt;menulist id=&quot;keepCookiesUntil&quot;</span>
<a href="#l24.76"></a><span id="l24.76" class="difflineplus">+                        preference=&quot;network.cookie.lifetimePolicy&quot;&gt;</span>
<a href="#l24.77"></a><span id="l24.77" class="difflineplus">+                &lt;menupopup&gt;</span>
<a href="#l24.78"></a><span id="l24.78" class="difflineplus">+                  &lt;menuitem label=&quot;&amp;expire.label;&quot; value=&quot;0&quot;/&gt;</span>
<a href="#l24.79"></a><span id="l24.79" class="difflineplus">+                  &lt;menuitem label=&quot;&amp;close.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l24.80"></a><span id="l24.80" class="difflineplus">+                  &lt;menuitem label=&quot;&amp;askEachTime.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l24.81"></a><span id="l24.81" class="difflineplus">+                &lt;/menupopup&gt;</span>
<a href="#l24.82"></a><span id="l24.82" class="difflineplus">+              &lt;/menulist&gt;</span>
<a href="#l24.83"></a><span id="l24.83" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l24.84"></a><span id="l24.84" class="difflineplus">+            &lt;hbox flex=&quot;1&quot;/&gt;</span>
<a href="#l24.85"></a><span id="l24.85" class="difflineplus">+            &lt;button id=&quot;showCookiesButton&quot; label=&quot;&amp;showCookies.label;&quot;</span>
<a href="#l24.86"></a><span id="l24.86" class="difflineplus">+                    accesskey=&quot;&amp;showCookies.accesskey;&quot;</span>
<a href="#l24.87"></a><span id="l24.87" class="difflineplus">+                    oncommand=&quot;gSecurityPane.showCookies();&quot;</span>
<a href="#l24.88"></a><span id="l24.88" class="difflineplus">+                    preference=&quot;pref.privacy.disable_button.view_cookies&quot;/&gt;</span>
<a href="#l24.89"></a><span id="l24.89" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l24.90"></a><span id="l24.90" class="difflineplus">+        &lt;/tabpanel&gt;</span>
<a href="#l24.91"></a><span id="l24.91">       &lt;/tabpanels&gt;</span>
<a href="#l24.92"></a><span id="l24.92">     &lt;/tabbox&gt;</span>
<a href="#l24.93"></a><span id="l24.93"> </span>
<a href="#l24.94"></a><span id="l24.94">     &lt;separator/&gt;</span>
<a href="#l24.95"></a><span id="l24.95"> </span>
<a href="#l24.96"></a><span id="l24.96">   &lt;/prefpane&gt;</span>
<a href="#l24.97"></a><span id="l24.97"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/accountCreation.dtd</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/accountCreation.dtd</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -1,36 +1,41 @@</span>
<a href="#l25.4"></a><span id="l25.4" class="difflineminus">-&lt;!ENTITY welcome.description             &quot;Quick Account Setup&quot;&gt;</span>
<a href="#l25.5"></a><span id="l25.5" class="difflineminus">-&lt;!ENTITY autoconfigWizard.style          &quot;width: 640px; height: 480px;&quot;&gt;</span>
<a href="#l25.6"></a><span id="l25.6" class="difflineminus">-&lt;!ENTITY name.description                &quot;Your name&quot;&gt;</span>
<a href="#l25.7"></a><span id="l25.7" class="difflineminus">-&lt;!ENTITY email.description               &quot;Email&quot;&gt;</span>
<a href="#l25.8"></a><span id="l25.8" class="difflineminus">-&lt;!ENTITY password.description            &quot;Password&quot;&gt;</span>
<a href="#l25.9"></a><span id="l25.9" class="difflineminus">-</span>
<a href="#l25.10"></a><span id="l25.10" class="difflineminus">-&lt;!ENTITY next.label                      &quot;Next &amp;#187;&quot;&gt;</span>
<a href="#l25.11"></a><span id="l25.11" class="difflineminus">-&lt;!ENTITY next.accesskey                  &quot;N&quot;&gt;</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-&lt;!ENTITY back.label                      &quot;&amp;#171; Back&quot;&gt;</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-&lt;!ENTITY back.accesskey                  &quot;B&quot;&gt;</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineplus">+&lt;!ENTITY autoconfigWizard.title          &quot;Mail Account Setup&quot;&gt;</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineplus">+&lt;!ENTITY name.label                      &quot;Your name:&quot;&gt;</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineplus">+&lt;!ENTITY name.accesskey                  &quot;n&quot;&gt;</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineplus">+&lt;!ENTITY name.emptytext                  &quot;First Last&quot;&gt;</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineplus">+&lt;!ENTITY name.text                       &quot;Your name, as shown to others&quot;&gt;</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineplus">+&lt;!ENTITY email.label                     &quot;Email address:&quot;&gt;</span>
<a href="#l25.20"></a><span id="l25.20" class="difflineplus">+&lt;!ENTITY email.accesskey                 &quot;l&quot;&gt;</span>
<a href="#l25.21"></a><span id="l25.21" class="difflineplus">+&lt;!ENTITY email.emptytext                 &quot;email@example.com&quot;&gt;</span>
<a href="#l25.22"></a><span id="l25.22" class="difflineplus">+&lt;!ENTITY password.label                  &quot;Password:&quot;&gt;</span>
<a href="#l25.23"></a><span id="l25.23" class="difflineplus">+&lt;!ENTITY password.accesskey              &quot;P&quot;&gt;</span>
<a href="#l25.24"></a><span id="l25.24" class="difflineplus">+&lt;!ENTITY password.emptytext              &quot;Password&quot;&gt;</span>
<a href="#l25.25"></a><span id="l25.25" class="difflineplus">+&lt;!ENTITY password.text                   &quot;Optional, will only be used to validate the username&quot;&gt;</span>
<a href="#l25.26"></a><span id="l25.26"> </span>
<a href="#l25.27"></a><span id="l25.27"> &lt;!ENTITY accountInformation.label        &quot;Account Information&quot;&gt;</span>
<a href="#l25.28"></a><span id="l25.28" class="difflineminus">-&lt;!ENTITY username.label                  &quot;username&quot;&gt;</span>
<a href="#l25.29"></a><span id="l25.29" class="difflineminus">-&lt;!ENTITY receivingServer.label           &quot;receiving&quot;&gt;</span>
<a href="#l25.30"></a><span id="l25.30" class="difflineminus">-&lt;!ENTITY sendingServer.label             &quot;sending&quot;&gt;</span>
<a href="#l25.31"></a><span id="l25.31" class="difflineplus">+&lt;!ENTITY username2.label                 &quot;Username:&quot;&gt;</span>
<a href="#l25.32"></a><span id="l25.32" class="difflineplus">+&lt;!ENTITY incoming.label                  &quot;Incoming:&quot;&gt;</span>
<a href="#l25.33"></a><span id="l25.33" class="difflineplus">+&lt;!ENTITY outgoing.label                  &quot;Outgoing:&quot;&gt;</span>
<a href="#l25.34"></a><span id="l25.34"> &lt;!ENTITY noEncryption.label              &quot;None&quot;&gt;</span>
<a href="#l25.35"></a><span id="l25.35"> &lt;!ENTITY starttls.label                  &quot;STARTTLS&quot;&gt;</span>
<a href="#l25.36"></a><span id="l25.36"> &lt;!ENTITY sslTls.label                    &quot;SSL/TLS&quot;&gt;</span>
<a href="#l25.37"></a><span id="l25.37"> </span>
<a href="#l25.38"></a><span id="l25.38"> &lt;!ENTITY imap.label                      &quot;IMAP&quot;&gt;</span>
<a href="#l25.39"></a><span id="l25.39"> &lt;!ENTITY pop.label                       &quot;POP&quot;&gt;</span>
<a href="#l25.40"></a><span id="l25.40"> &lt;!ENTITY smtp.label                      &quot;SMTP&quot;&gt;</span>
<a href="#l25.41"></a><span id="l25.41"> </span>
<a href="#l25.42"></a><span id="l25.42" class="difflineminus">-&lt;!-- LOCALIZATION NOTE (createAndEditSettings.label): This label is a link</span>
<a href="#l25.43"></a><span id="l25.43" class="difflineminus">-     which will create the account and take the user to the account</span>
<a href="#l25.44"></a><span id="l25.44" class="difflineminus">-     configuration screen. --&gt;</span>
<a href="#l25.45"></a><span id="l25.45" class="difflineminus">-&lt;!ENTITY createAndEditSettings.label     &quot;Create and Edit Account Settings&quot;&gt;</span>
<a href="#l25.46"></a><span id="l25.46" class="difflineplus">+&lt;!ENTITY manualSetup.label               &quot;Manual Setup&quot;&gt;</span>
<a href="#l25.47"></a><span id="l25.47" class="difflineplus">+&lt;!ENTITY manualSetup.accesskey           &quot;S&quot;&gt;</span>
<a href="#l25.48"></a><span id="l25.48"> &lt;!ENTITY cancel.label                    &quot;Cancel&quot;&gt;</span>
<a href="#l25.49"></a><span id="l25.49" class="difflineplus">+&lt;!ENTITY cancel.accesskey                &quot;a&quot;&gt;</span>
<a href="#l25.50"></a><span id="l25.50" class="difflineplus">+&lt;!ENTITY continue.label                  &quot;Continue&quot;&gt;</span>
<a href="#l25.51"></a><span id="l25.51" class="difflineplus">+&lt;!ENTITY continue.accesskey              &quot;C&quot;&gt;</span>
<a href="#l25.52"></a><span id="l25.52" class="difflineplus">+&lt;!ENTITY startOver.label                 &quot;Start over&quot;&gt;</span>
<a href="#l25.53"></a><span id="l25.53" class="difflineplus">+&lt;!ENTITY startOver.accesskey             &quot;o&quot;&gt;</span>
<a href="#l25.54"></a><span id="l25.54"> &lt;!ENTITY stop.label                      &quot;Stop&quot;&gt;</span>
<a href="#l25.55"></a><span id="l25.55"> &lt;!ENTITY stop.accesskey                  &quot;S&quot;&gt;</span>
<a href="#l25.56"></a><span id="l25.56"> &lt;!-- LOCALIZATION NOTE (retest.label): This is the text that is</span>
<a href="#l25.57"></a><span id="l25.57">      displayed on the button which will re-guess the account configuration,</span>
<a href="#l25.58"></a><span id="l25.58">      taking into account the settings the user has changed. --&gt;</span>
<a href="#l25.59"></a><span id="l25.59"> &lt;!ENTITY retest.label                    &quot;Re-test Configuration&quot;&gt;</span>
<a href="#l25.60"></a><span id="l25.60"> &lt;!ENTITY retest.accesskey                &quot;R&quot;&gt;</span>
<a href="#l25.61"></a><span id="l25.61"> &lt;!ENTITY edit.label                      &quot;Edit&quot;&gt;</span>
<a href="#l25.62"></a><span id="l25.62" class="difflineat">@@ -60,11 +65,11 @@</span>
<a href="#l25.63"></a><span id="l25.63"> &lt;!ENTITY changeSettings.label            &quot;Change Settings&quot;&gt;</span>
<a href="#l25.64"></a><span id="l25.64"> &lt;!ENTITY changeSettings.accesskey        &quot;S&quot;&gt;</span>
<a href="#l25.65"></a><span id="l25.65"> </span>
<a href="#l25.66"></a><span id="l25.66"> &lt;!ENTITY contactYourProvider.description &quot;&amp;brandShortName; can allow you to get to your mail using the provided configurations. However, you should contact your administrator or email provider regarding these improper connections. See the Thunderbird FAQ for more information.&quot;&gt;</span>
<a href="#l25.67"></a><span id="l25.67"> </span>
<a href="#l25.68"></a><span id="l25.68"> &lt;!ENTITY insecureServer.tooltip.title    &quot;Warning! This is an insecure server.&quot;&gt;</span>
<a href="#l25.69"></a><span id="l25.69"> &lt;!ENTITY insecureServer.tooltip.details  &quot;Click circle for more details.&quot;&gt;</span>
<a href="#l25.70"></a><span id="l25.70"> </span>
<a href="#l25.71"></a><span id="l25.71" class="difflineminus">-&lt;!ENTITY insecureClearText.description   &quot;Email is sent in clear-text, so your email could be read by attackers, etc. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a secure connection.&quot;&gt;</span>
<a href="#l25.72"></a><span id="l25.72" class="difflineplus">+&lt;!ENTITY insecureCleartext.description   &quot;Email is sent in clear-text, so your email could be read by other people on the internet. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a secure connection.&quot;&gt;</span>
<a href="#l25.73"></a><span id="l25.73"> &lt;!ENTITY insecureSelfSigned.description  &quot;The server uses a certificate that we can't trust, so we can't be sure that someone isn't intercepting the traffic between &amp;brandShortName; and your server. &amp;brandShortName; will let you get to your mail, but you should really get your email provider to configure the server with a trusted certificate.&quot;&gt;</span>
<a href="#l25.74"></a><span id="l25.74"> &lt;!ENTITY secureServer.description        &quot;Congratulations! This is a secure server.&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/accountCreation.properties</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/accountCreation.properties</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1,24 +1,28 @@</span>
<a href="#l26.4"></a><span id="l26.4"> # accountCreation.properties</span>
<a href="#l26.5"></a><span id="l26.5"> </span>
<a href="#l26.6"></a><span id="l26.6" class="difflineminus">-# LOCALIZATION NOTE: %1$S will be the hostname of the server the user was trying to connect to.</span>
<a href="#l26.7"></a><span id="l26.7" class="difflineplus">+# LOCALIZATION NOTE(cleartext_warning): %1$S will be the hostname of the server the user was trying to connect to.</span>
<a href="#l26.8"></a><span id="l26.8"> cleartext_warning=%1$S does not use encryption.</span>
<a href="#l26.9"></a><span id="l26.9" class="difflineplus">+# LOCALIZATION NOTE(selfsigned_warning): %1$S will be the hostname of the server the user was trying to connect to.</span>
<a href="#l26.10"></a><span id="l26.10"> selfsigned_warning=%1$S does not use a trusted certificate.</span>
<a href="#l26.11"></a><span id="l26.11"> selfsigned_details=Normally, a secure mail server will present a trusted certificate to prove that it is really the server it claims to be. The connection to the mail server will be encrypted but cannot be validated as being the correct server.</span>
<a href="#l26.12"></a><span id="l26.12"> cleartext_details=Insecure mail servers do not use encrypted connections to protect your passwords and private information. By connecting to this server you could expose your password and private information.</span>
<a href="#l26.13"></a><span id="l26.13"> </span>
<a href="#l26.14"></a><span id="l26.14"> # LOCALIZATION NOTE(default_server_tag): Used to indicate the default smtp server in the server dropdown list.</span>
<a href="#l26.15"></a><span id="l26.15"> default_server_tag= (default)</span>
<a href="#l26.16"></a><span id="l26.16"> </span>
<a href="#l26.17"></a><span id="l26.17"> # config titles</span>
<a href="#l26.18"></a><span id="l26.18" class="difflineminus">-searching_for_configs=Searching</span>
<a href="#l26.19"></a><span id="l26.19" class="difflineplus">+# LOCALIZATION NOTE(looking_up_settings): %1$S will be the brandShortName.</span>
<a href="#l26.20"></a><span id="l26.20" class="difflineplus">+looking_up_settings=%1$S is looking up the settings for your email account.</span>
<a href="#l26.21"></a><span id="l26.21"> manually_edit_config=Editing Config</span>
<a href="#l26.22"></a><span id="l26.22" class="difflineminus">-finished_with_success=Finished</span>
<a href="#l26.23"></a><span id="l26.23" class="difflineminus">-finished_with_error=Error</span>
<a href="#l26.24"></a><span id="l26.24" class="difflineplus">+# LOCALIZATION NOTE(found_settings): %1$S will be the brandShortName.</span>
<a href="#l26.25"></a><span id="l26.25" class="difflineplus">+found_settings=%1$S has found the settings for your email account.</span>
<a href="#l26.26"></a><span id="l26.26" class="difflineplus">+# LOCALIZATION NOTE(failed_to_find_settings): %1$S will be the brandShortName.</span>
<a href="#l26.27"></a><span id="l26.27" class="difflineplus">+failed_to_find_settings=%1$S failed to find the settings for your email account.</span>
<a href="#l26.28"></a><span id="l26.28"> </span>
<a href="#l26.29"></a><span id="l26.29"> # config subtitles</span>
<a href="#l26.30"></a><span id="l26.30"> check_preconfig=checking for pre-configuration</span>
<a href="#l26.31"></a><span id="l26.31"> found_preconfig=found pre-configuration</span>
<a href="#l26.32"></a><span id="l26.32"> checking_config=checking configuration</span>
<a href="#l26.33"></a><span id="l26.33"> found_config=Found configuration of your account</span>
<a href="#l26.34"></a><span id="l26.34"> checking_mozilla_config=checking Mozilla Community configurations</span>
<a href="#l26.35"></a><span id="l26.35"> found_isp_config=found a configuration</span>
<a href="#l26.36"></a><span id="l26.36" class="difflineat">@@ -40,11 +44,10 @@ check_out_server_details=Checking outgoi</span>
<a href="#l26.37"></a><span id="l26.37"> </span>
<a href="#l26.38"></a><span id="l26.38"> error_creating_account=Error Creating Account</span>
<a href="#l26.39"></a><span id="l26.39"> incoming_server_exists=Incoming server already exists.</span>
<a href="#l26.40"></a><span id="l26.40"> </span>
<a href="#l26.41"></a><span id="l26.41"> no_encryption=No encryption</span>
<a href="#l26.42"></a><span id="l26.42"> ssl_tls=SSL/TLS</span>
<a href="#l26.43"></a><span id="l26.43"> starttls=STARTTLS</span>
<a href="#l26.44"></a><span id="l26.44"> </span>
<a href="#l26.45"></a><span id="l26.45" class="difflineminus">-name.error=Please enter your name, as it should be shown to your correspondents.</span>
<a href="#l26.46"></a><span id="l26.46" class="difflineminus">-email.error=Double check this email address!</span>
<a href="#l26.47"></a><span id="l26.47" class="difflineminus">-password.error=Login did not succeed. Please double-check username and password.</span>
<a href="#l26.48"></a><span id="l26.48" class="difflineplus">+please_enter_name=Please enter your name.</span>
<a href="#l26.49"></a><span id="l26.49" class="difflineplus">+double_check_email=Double check this email address!</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1">new file mode 100644</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineminus">--- /dev/null</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/preferences/cookies.dtd</span>
<a href="#l27.4"></a><span id="l27.4" class="difflineat">@@ -0,0 +1,28 @@</span>
<a href="#l27.5"></a><span id="l27.5" class="difflineplus">+&lt;!ENTITY window.width                      &quot;36em&quot;&gt;</span>
<a href="#l27.6"></a><span id="l27.6" class="difflineplus">+</span>
<a href="#l27.7"></a><span id="l27.7" class="difflineplus">+&lt;!ENTITY cookiesonsystem.label             &quot;The following cookies are stored on your computer:&quot;&gt;</span>
<a href="#l27.8"></a><span id="l27.8" class="difflineplus">+&lt;!ENTITY cookiename.label                  &quot;Cookie Name&quot;&gt;</span>
<a href="#l27.9"></a><span id="l27.9" class="difflineplus">+&lt;!ENTITY cookiedomain.label                &quot;Site&quot;&gt;</span>
<a href="#l27.10"></a><span id="l27.10" class="difflineplus">+&lt;!ENTITY button.removecookie.label         &quot;Remove Cookie&quot;&gt;</span>
<a href="#l27.11"></a><span id="l27.11" class="difflineplus">+&lt;!ENTITY button.removecookie.accesskey     &quot;R&quot;&gt;</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineplus">+&lt;!ENTITY button.removeallcookies.label     &quot;Remove All Cookies&quot;&gt;</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+&lt;!ENTITY button.removeallcookies.accesskey &quot;A&quot;&gt;</span>
<a href="#l27.14"></a><span id="l27.14" class="difflineplus">+</span>
<a href="#l27.15"></a><span id="l27.15" class="difflineplus">+&lt;!ENTITY props.name.label                  &quot;Name:&quot;&gt;</span>
<a href="#l27.16"></a><span id="l27.16" class="difflineplus">+&lt;!ENTITY props.value.label                 &quot;Content:&quot;&gt;</span>
<a href="#l27.17"></a><span id="l27.17" class="difflineplus">+&lt;!ENTITY props.domain.label                &quot;Host:&quot;&gt;</span>
<a href="#l27.18"></a><span id="l27.18" class="difflineplus">+&lt;!ENTITY props.path.label                  &quot;Path:&quot;&gt;</span>
<a href="#l27.19"></a><span id="l27.19" class="difflineplus">+&lt;!ENTITY props.secure.label                &quot;Send For:&quot;&gt;</span>
<a href="#l27.20"></a><span id="l27.20" class="difflineplus">+&lt;!ENTITY props.expires.label               &quot;Expires:&quot;&gt;</span>
<a href="#l27.21"></a><span id="l27.21" class="difflineplus">+</span>
<a href="#l27.22"></a><span id="l27.22" class="difflineplus">+&lt;!ENTITY window.title                      &quot;Cookies&quot;&gt;</span>
<a href="#l27.23"></a><span id="l27.23" class="difflineplus">+&lt;!ENTITY windowClose.key                   &quot;w&quot;&gt;</span>
<a href="#l27.24"></a><span id="l27.24" class="difflineplus">+&lt;!ENTITY focusSearch1.key                  &quot;f&quot;&gt;</span>
<a href="#l27.25"></a><span id="l27.25" class="difflineplus">+&lt;!ENTITY focusSearch2.key                  &quot;k&quot;&gt;</span>
<a href="#l27.26"></a><span id="l27.26" class="difflineplus">+</span>
<a href="#l27.27"></a><span id="l27.27" class="difflineplus">+&lt;!ENTITY filter.label                      &quot;Search:&quot;&gt;</span>
<a href="#l27.28"></a><span id="l27.28" class="difflineplus">+&lt;!ENTITY filter.accesskey                  &quot;S&quot;&gt;</span>
<a href="#l27.29"></a><span id="l27.29" class="difflineplus">+</span>
<a href="#l27.30"></a><span id="l27.30" class="difflineplus">+&lt;!ENTITY button.close.label                &quot;Close&quot;&gt;</span>
<a href="#l27.31"></a><span id="l27.31" class="difflineplus">+&lt;!ENTITY button.close.accesskey            &quot;C&quot;&gt;</span>
<a href="#l27.32"></a><span id="l27.32" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1">new file mode 100644</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineminus">--- /dev/null</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/preferences/permissions.dtd</span>
<a href="#l28.4"></a><span id="l28.4" class="difflineat">@@ -0,0 +1,22 @@</span>
<a href="#l28.5"></a><span id="l28.5" class="difflineplus">+&lt;!ENTITY window.title                 &quot;Exceptions&quot;&gt;</span>
<a href="#l28.6"></a><span id="l28.6" class="difflineplus">+&lt;!ENTITY window.width                 &quot;36em&quot;&gt;</span>
<a href="#l28.7"></a><span id="l28.7" class="difflineplus">+</span>
<a href="#l28.8"></a><span id="l28.8" class="difflineplus">+&lt;!ENTITY treehead.sitename.label      &quot;Site&quot;&gt;</span>
<a href="#l28.9"></a><span id="l28.9" class="difflineplus">+&lt;!ENTITY treehead.status.label        &quot;Status&quot;&gt;</span>
<a href="#l28.10"></a><span id="l28.10" class="difflineplus">+&lt;!ENTITY removepermission.label       &quot;Remove Site&quot;&gt;</span>
<a href="#l28.11"></a><span id="l28.11" class="difflineplus">+&lt;!ENTITY removepermission.accesskey   &quot;R&quot;&gt;</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineplus">+&lt;!ENTITY removeallpermissions.label   &quot;Remove All Sites&quot;&gt;</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+&lt;!ENTITY removeallpermissions.accesskey &quot;e&quot;&gt;</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineplus">+&lt;!ENTITY address.label                &quot;Address of web site:&quot;&gt;</span>
<a href="#l28.15"></a><span id="l28.15" class="difflineplus">+&lt;!ENTITY address.accesskey            &quot;d&quot;&gt;</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineplus">+&lt;!ENTITY block.label                  &quot;Block&quot;&gt;</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineplus">+&lt;!ENTITY block.accesskey              &quot;B&quot;&gt;</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineplus">+&lt;!ENTITY session.label                &quot;Allow for Session&quot;&gt;</span>
<a href="#l28.19"></a><span id="l28.19" class="difflineplus">+&lt;!ENTITY session.accesskey            &quot;S&quot;&gt;</span>
<a href="#l28.20"></a><span id="l28.20" class="difflineplus">+&lt;!ENTITY allow.label                  &quot;Allow&quot;&gt;</span>
<a href="#l28.21"></a><span id="l28.21" class="difflineplus">+&lt;!ENTITY allow.accesskey              &quot;A&quot;&gt;</span>
<a href="#l28.22"></a><span id="l28.22" class="difflineplus">+&lt;!ENTITY windowClose.key              &quot;w&quot;&gt;</span>
<a href="#l28.23"></a><span id="l28.23" class="difflineplus">+</span>
<a href="#l28.24"></a><span id="l28.24" class="difflineplus">+&lt;!ENTITY button.close.label           &quot;Close&quot;&gt;</span>
<a href="#l28.25"></a><span id="l28.25" class="difflineplus">+&lt;!ENTITY button.close.accesskey       &quot;C&quot;&gt;</span>
<a href="#l28.26"></a><span id="l28.26" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/preferences/preferences.properties</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/preferences/preferences.properties</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -60,8 +60,30 @@ soundFilePickerTitle=Choose Sound</span>
<a href="#l29.4"></a><span id="l29.4"> alreadyDefaultClientTitle=Default Client</span>
<a href="#l29.5"></a><span id="l29.5"> alreadyDefault=%S is already set as your default mail client.</span>
<a href="#l29.6"></a><span id="l29.6"> </span>
<a href="#l29.7"></a><span id="l29.7"> #### Attachment Reminder</span>
<a href="#l29.8"></a><span id="l29.8"> attachmentReminderAddDialogTitle=Add Keyword</span>
<a href="#l29.9"></a><span id="l29.9"> attachmentReminderAddText=Keyword:</span>
<a href="#l29.10"></a><span id="l29.10"> attachmentReminderEditDialogTitle=Edit Keyword</span>
<a href="#l29.11"></a><span id="l29.11"> attachmentReminderEditText=Keyword:</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineplus">+</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+#### Cookies</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineplus">+cookiepermissionstitle=Exceptions - Cookies</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineplus">+cookiepermissionstext=You can specify which web sites are always or never allowed to use cookies.  Type the exact address of the site you want to manage and then click Block, Allow for Session, or Allow.</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineplus">+invalidURI=Please enter a valid hostname</span>
<a href="#l29.17"></a><span id="l29.17" class="difflineplus">+invalidURITitle=Invalid Hostname Entered</span>
<a href="#l29.18"></a><span id="l29.18" class="difflineplus">+</span>
<a href="#l29.19"></a><span id="l29.19" class="difflineplus">+#### Cookie Viewer</span>
<a href="#l29.20"></a><span id="l29.20" class="difflineplus">+hostColon=Host:</span>
<a href="#l29.21"></a><span id="l29.21" class="difflineplus">+domainColon=Domain:</span>
<a href="#l29.22"></a><span id="l29.22" class="difflineplus">+forSecureOnly=Encrypted connections only</span>
<a href="#l29.23"></a><span id="l29.23" class="difflineplus">+forAnyConnection=Any type of connection</span>
<a href="#l29.24"></a><span id="l29.24" class="difflineplus">+AtEndOfSession=at end of session</span>
<a href="#l29.25"></a><span id="l29.25" class="difflineplus">+can=Allow</span>
<a href="#l29.26"></a><span id="l29.26" class="difflineplus">+canSession=Allow for Session</span>
<a href="#l29.27"></a><span id="l29.27" class="difflineplus">+cannot=Block</span>
<a href="#l29.28"></a><span id="l29.28" class="difflineplus">+noCookieSelected=&lt;no cookie selected&gt;</span>
<a href="#l29.29"></a><span id="l29.29" class="difflineplus">+cookiesAll=The following cookies are stored on your computer:</span>
<a href="#l29.30"></a><span id="l29.30" class="difflineplus">+cookiesFiltered=The following cookies match your search:</span>
<a href="#l29.31"></a><span id="l29.31" class="difflineplus">+removeCookies=Remove Cookies</span>
<a href="#l29.32"></a><span id="l29.32" class="difflineplus">+removeCookie=Remove Cookie</span>
<a href="#l29.33"></a><span id="l29.33" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/preferences/security.dtd</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/preferences/security.dtd</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -1,12 +1,13 @@</span>
<a href="#l30.4"></a><span id="l30.4"> &lt;!ENTITY itemJunk.label          &quot;Junk&quot;&gt;</span>
<a href="#l30.5"></a><span id="l30.5"> &lt;!ENTITY itemPhishing.label      &quot;E-mail Scams&quot;&gt;</span>
<a href="#l30.6"></a><span id="l30.6"> &lt;!ENTITY itemPasswords.label     &quot;Passwords&quot;&gt;</span>
<a href="#l30.7"></a><span id="l30.7"> &lt;!ENTITY itemAntiVirus.label     &quot;Anti-Virus&quot;&gt;</span>
<a href="#l30.8"></a><span id="l30.8" class="difflineplus">+&lt;!ENTITY itemCookies.label       &quot;Web Content&quot;&gt;</span>
<a href="#l30.9"></a><span id="l30.9"> </span>
<a href="#l30.10"></a><span id="l30.10"> &lt;!-- Junk Mail Controls --&gt;</span>
<a href="#l30.11"></a><span id="l30.11"> &lt;!ENTITY junkMail.intro &quot;Set your default junk mail settings. Account-specific junk mail settings can be configured in Account Settings.&quot;&gt;</span>
<a href="#l30.12"></a><span id="l30.12"> &lt;!ENTITY manualMark.label &quot;When I mark messages as junk:&quot;&gt;</span>
<a href="#l30.13"></a><span id="l30.13"> &lt;!ENTITY manualMark.accesskey &quot;W&quot;&gt;</span>
<a href="#l30.14"></a><span id="l30.14"> &lt;!ENTITY manualMarkModeMove.label &quot;Move them to the account's &amp;quot;Junk&amp;quot; folder&quot;&gt;</span>
<a href="#l30.15"></a><span id="l30.15"> &lt;!ENTITY manualMarkModeMove.accesskey &quot;o&quot;&gt;</span>
<a href="#l30.16"></a><span id="l30.16"> &lt;!ENTITY manualMarkModeDelete.label &quot;Delete them&quot;&gt;</span>
<a href="#l30.17"></a><span id="l30.17" class="difflineat">@@ -36,8 +37,23 @@</span>
<a href="#l30.18"></a><span id="l30.18"> &lt;!ENTITY changeMasterPassword.accesskey &quot;C&quot;&gt;</span>
<a href="#l30.19"></a><span id="l30.19"> &lt;!ENTITY savedPasswords.label           &quot;Saved Passwords&quot;&gt;</span>
<a href="#l30.20"></a><span id="l30.20"> &lt;!ENTITY savedPasswords.accesskey       &quot;S&quot;&gt;</span>
<a href="#l30.21"></a><span id="l30.21"> </span>
<a href="#l30.22"></a><span id="l30.22"> &lt;!-- Anti Virus --&gt;</span>
<a href="#l30.23"></a><span id="l30.23"> &lt;!ENTITY antiVirus.intro      &quot;&amp;brandShortName; can make it easy for anti-virus software to analyze incoming mail messages for viruses before they are stored locally.&quot;&gt;</span>
<a href="#l30.24"></a><span id="l30.24"> &lt;!ENTITY antiVirus.label      &quot;Allow anti-virus clients to quarantine individual incoming messages&quot;&gt;</span>
<a href="#l30.25"></a><span id="l30.25"> &lt;!ENTITY antiVirus.accesskey  &quot;A&quot;&gt;</span>
<a href="#l30.26"></a><span id="l30.26" class="difflineplus">+</span>
<a href="#l30.27"></a><span id="l30.27" class="difflineplus">+&lt;!-- Cookies --&gt;</span>
<a href="#l30.28"></a><span id="l30.28" class="difflineplus">+&lt;!ENTITY cookies.intro                  &quot;&amp;brandShortName; lets you specify which blogs, news feeds, and other web sites are allowed to set cookies.&quot;&gt;</span>
<a href="#l30.29"></a><span id="l30.29" class="difflineplus">+&lt;!ENTITY acceptCookies.label            &quot;Accept cookies from sites&quot;&gt;</span>
<a href="#l30.30"></a><span id="l30.30" class="difflineplus">+&lt;!ENTITY acceptCookies.accesskey        &quot;c&quot;&gt;</span>
<a href="#l30.31"></a><span id="l30.31" class="difflineplus">+&lt;!ENTITY keepUntil.label                &quot;Keep until:&quot;&gt;</span>
<a href="#l30.32"></a><span id="l30.32" class="difflineplus">+&lt;!ENTITY keepUntil.accesskey            &quot;K&quot;&gt;</span>
<a href="#l30.33"></a><span id="l30.33" class="difflineplus">+&lt;!ENTITY expire.label                   &quot;they expire&quot;&gt;</span>
<a href="#l30.34"></a><span id="l30.34" class="difflineplus">+&lt;!ENTITY close.label                    &quot;I close &amp;brandShortName;&quot;&gt;</span>
<a href="#l30.35"></a><span id="l30.35" class="difflineplus">+&lt;!ENTITY askEachTime.label              &quot;ask me every time&quot;&gt;</span>
<a href="#l30.36"></a><span id="l30.36" class="difflineplus">+&lt;!ENTITY cookieExceptions.label         &quot;Exceptions&quot;&gt;</span>
<a href="#l30.37"></a><span id="l30.37" class="difflineplus">+&lt;!ENTITY cookieExceptions.accesskey     &quot;E&quot;&gt;</span>
<a href="#l30.38"></a><span id="l30.38" class="difflineplus">+&lt;!ENTITY showCookies.label              &quot;Show Cookies&quot;&gt;</span>
<a href="#l30.39"></a><span id="l30.39" class="difflineplus">+&lt;!ENTITY showCookies.accesskey          &quot;S&quot;&gt;</span>
<a href="#l30.40"></a><span id="l30.40" class="difflineplus">+</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mail/locales/jar.mn</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mail/locales/jar.mn</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -130,16 +130,18 @@</span>
<a href="#l31.4"></a><span id="l31.4">   locale/@AB_CD@/messenger/preferences/connection.dtd                   (%chrome/messenger/preferences/connection.dtd)</span>
<a href="#l31.5"></a><span id="l31.5">   locale/@AB_CD@/messenger/preferences/applications.dtd                 (%chrome/messenger/preferences/applications.dtd)</span>
<a href="#l31.6"></a><span id="l31.6">   locale/@AB_CD@/messenger/preferences/applicationManager.dtd           (%chrome/messenger/preferences/applicationManager.dtd)</span>
<a href="#l31.7"></a><span id="l31.7">   locale/@AB_CD@/messenger/preferences/applicationManager.properties    (%chrome/messenger/preferences/applicationManager.properties)</span>
<a href="#l31.8"></a><span id="l31.8">   locale/@AB_CD@/messenger/preferences/fonts.dtd                        (%chrome/messenger/preferences/fonts.dtd)</span>
<a href="#l31.9"></a><span id="l31.9">   locale/@AB_CD@/messenger/preferences/offline.dtd                      (%chrome/messenger/preferences/offline.dtd)</span>
<a href="#l31.10"></a><span id="l31.10">   locale/@AB_CD@/messenger/preferences/notifications.dtd                (%chrome/messenger/preferences/notifications.dtd)</span>
<a href="#l31.11"></a><span id="l31.11">   locale/@AB_CD@/messenger/preferences/preferences.properties           (%chrome/messenger/preferences/preferences.properties)</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineplus">+  locale/@AB_CD@/messenger/preferences/cookies.dtd                      (%chrome/messenger/preferences/cookies.dtd)</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineplus">+  locale/@AB_CD@/messenger/preferences/permissions.dtd                  (%chrome/messenger/preferences/permissions.dtd)</span>
<a href="#l31.14"></a><span id="l31.14">   locale/@AB_CD@/messenger/migration/migration.dtd                      (%chrome/messenger/migration/migration.dtd)</span>
<a href="#l31.15"></a><span id="l31.15">   locale/@AB_CD@/messenger/migration/migration.properties               (%chrome/messenger/migration/migration.properties)</span>
<a href="#l31.16"></a><span id="l31.16">   locale/@AB_CD@/messenger/searchIntegrationWin.dtd                     (%chrome/messenger/searchIntegrationWin.dtd)</span>
<a href="#l31.17"></a><span id="l31.17">   locale/@AB_CD@/messenger/searchIntegrationMac.dtd                     (%chrome/messenger/searchIntegrationMac.dtd)</span>
<a href="#l31.18"></a><span id="l31.18">   locale/@AB_CD@/messenger/searchIntegrationDefault.dtd                 (%chrome/messenger/searchIntegrationDefault.dtd)</span>
<a href="#l31.19"></a><span id="l31.19">   locale/@AB_CD@/messenger/activity.dtd                                 (%chrome/messenger/activity.dtd)</span>
<a href="#l31.20"></a><span id="l31.20">   locale/@AB_CD@/messenger/activity.properties                          (%chrome/messenger/activity.properties)</span>
<a href="#l31.21"></a><span id="l31.21">   locale/@AB_CD@/messenger/downloads/settingsChange.dtd                 (%chrome/overrides/settingsChange.dtd)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mail/themes/gnomestripe/jar.mn</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mail/themes/gnomestripe/jar.mn</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -103,17 +103,16 @@ classic.jar:</span>
<a href="#l32.4"></a><span id="l32.4">   skin/classic/messenger/icons/secure.png                     (mail/icons/secure.png)</span>
<a href="#l32.5"></a><span id="l32.5">   skin/classic/messenger/icons/insecure.png                   (mail/icons/insecure.png)</span>
<a href="#l32.6"></a><span id="l32.6">   skin/classic/messenger/icons/identity.png                   (mail/icons/identity.png)</span>
<a href="#l32.7"></a><span id="l32.7">   skin/classic/messenger/icons/tick.png                       (mail/icons/tick.png)</span>
<a href="#l32.8"></a><span id="l32.8">   skin/classic/messenger/icons/error.png                      (mail/icons/error.png)</span>
<a href="#l32.9"></a><span id="l32.9">   skin/classic/messenger/icons/cancel.png                     (mail/icons/cancel.png)</span>
<a href="#l32.10"></a><span id="l32.10">   skin/classic/messenger/icons/mail-toolbar.png               (mail/icons/mail-toolbar.png)</span>
<a href="#l32.11"></a><span id="l32.11">   skin/classic/messenger/icons/mail-toolbar-small.png         (mail/icons/mail-toolbar-small.png)</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-  skin/classic/messenger/icons/folder.png                     (mail/icons/folder.png)</span>
<a href="#l32.13"></a><span id="l32.13">   skin/classic/messenger/icons/folder-pane.png                (mail/icons/folder-pane.png)</span>
<a href="#l32.14"></a><span id="l32.14">   skin/classic/messenger/icons/folder-blank.png               (mail/icons/folder-blank.png)</span>
<a href="#l32.15"></a><span id="l32.15">   skin/classic/messenger/icons/folder-new-star.png            (mail/icons/folder-new-star.png)</span>
<a href="#l32.16"></a><span id="l32.16">   skin/classic/messenger/icons/message-list.png               (mail/icons/message-list.png)</span>
<a href="#l32.17"></a><span id="l32.17">   skin/classic/messenger/icons/message.png                    (mail/icons/message.png)</span>
<a href="#l32.18"></a><span id="l32.18">   skin/classic/messenger/icons/attachment-deleted.png         (mail/icons/attachment-deleted.png)</span>
<a href="#l32.19"></a><span id="l32.19">   skin/classic/messenger/icons/attachment-deleted-large.png   (mail/icons/attachment-deleted-large.png)</span>
<a href="#l32.20"></a><span id="l32.20">   skin/classic/messenger/icons/attachment-col.png             (mail/icons/attachment-col.png)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/accountCreation.css</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/accountCreation.css</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -3,16 +3,25 @@</span>
<a href="#l33.4"></a><span id="l33.4"> .larger-button {</span>
<a href="#l33.5"></a><span id="l33.5">   font-size: 1.1em;</span>
<a href="#l33.6"></a><span id="l33.6"> }</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8"> .smaller-button {</span>
<a href="#l33.9"></a><span id="l33.9">   font-size: 0.85em;</span>
<a href="#l33.10"></a><span id="l33.10"> }</span>
<a href="#l33.11"></a><span id="l33.11"> </span>
<a href="#l33.12"></a><span id="l33.12" class="difflineplus">+#back_button {</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+  border: none;</span>
<a href="#l33.14"></a><span id="l33.14" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l33.15"></a><span id="l33.15" class="difflineplus">+  color: -moz-nativehyperlinktext;</span>
<a href="#l33.16"></a><span id="l33.16" class="difflineplus">+  text-decoration: underline;</span>
<a href="#l33.17"></a><span id="l33.17" class="difflineplus">+  background-color: inherit;</span>
<a href="#l33.18"></a><span id="l33.18" class="difflineplus">+  cursor: pointer;</span>
<a href="#l33.19"></a><span id="l33.19" class="difflineplus">+}</span>
<a href="#l33.20"></a><span id="l33.20" class="difflineplus">+</span>
<a href="#l33.21"></a><span id="l33.21"> .clickable_label:hover {</span>
<a href="#l33.22"></a><span id="l33.22">   text-decoration: underline;</span>
<a href="#l33.23"></a><span id="l33.23">   cursor: pointer;</span>
<a href="#l33.24"></a><span id="l33.24"> }</span>
<a href="#l33.25"></a><span id="l33.25"> </span>
<a href="#l33.26"></a><span id="l33.26"> .clickable_label {</span>
<a href="#l33.27"></a><span id="l33.27">   color: blue;</span>
<a href="#l33.28"></a><span id="l33.28">   width: 120px;</span>
<a href="#l33.29"></a><span id="l33.29" class="difflineat">@@ -35,20 +44,25 @@</span>
<a href="#l33.30"></a><span id="l33.30">   width: 60px;</span>
<a href="#l33.31"></a><span id="l33.31">   padding-top: 6px;</span>
<a href="#l33.32"></a><span id="l33.32">   -moz-padding-start: 2px;</span>
<a href="#l33.33"></a><span id="l33.33">   padding-bottom: 5px;</span>
<a href="#l33.34"></a><span id="l33.34">   overflow: auto;</span>
<a href="#l33.35"></a><span id="l33.35"> }</span>
<a href="#l33.36"></a><span id="l33.36"> </span>
<a href="#l33.37"></a><span id="l33.37"> .errordescription {</span>
<a href="#l33.38"></a><span id="l33.38" class="difflineminus">-  padding: 2px 1ex;</span>
<a href="#l33.39"></a><span id="l33.39" class="difflineminus">-  color: InfoText;</span>
<a href="#l33.40"></a><span id="l33.40">   background-color: InfoBackground;</span>
<a href="#l33.41"></a><span id="l33.41">   -moz-border-radius: 4px;</span>
<a href="#l33.42"></a><span id="l33.42" class="difflineplus">+  margin-top: 3px;</span>
<a href="#l33.43"></a><span id="l33.43" class="difflineplus">+  -moz-padding-start: 3px;</span>
<a href="#l33.44"></a><span id="l33.44" class="difflineplus">+}</span>
<a href="#l33.45"></a><span id="l33.45" class="difflineplus">+</span>
<a href="#l33.46"></a><span id="l33.46" class="difflineplus">+.initialDesc {</span>
<a href="#l33.47"></a><span id="l33.47" class="difflineplus">+  margin-top: 2px;</span>
<a href="#l33.48"></a><span id="l33.48" class="difflineplus">+  color: GrayText;</span>
<a href="#l33.49"></a><span id="l33.49"> }</span>
<a href="#l33.50"></a><span id="l33.50"> </span>
<a href="#l33.51"></a><span id="l33.51"> .edited_label {</span>
<a href="#l33.52"></a><span id="l33.52">   width: 123px;</span>
<a href="#l33.53"></a><span id="l33.53">   overflow: auto;</span>
<a href="#l33.54"></a><span id="l33.54"> }</span>
<a href="#l33.55"></a><span id="l33.55"> </span>
<a href="#l33.56"></a><span id="l33.56"> .short_edited_label {</span>
<a href="#l33.57"></a><span id="l33.57" class="difflineat">@@ -104,30 +118,25 @@ description.error_notice {</span>
<a href="#l33.58"></a><span id="l33.58">  */</span>
<a href="#l33.59"></a><span id="l33.59"> </span>
<a href="#l33.60"></a><span id="l33.60"> description.explanation {</span>
<a href="#l33.61"></a><span id="l33.61">   padding-top: 1em;</span>
<a href="#l33.62"></a><span id="l33.62">   padding-bottom: 1em;</span>
<a href="#l33.63"></a><span id="l33.63"> }</span>
<a href="#l33.64"></a><span id="l33.64"> </span>
<a href="#l33.65"></a><span id="l33.65"> #config_status_title {</span>
<a href="#l33.66"></a><span id="l33.66" class="difflineminus">-  font-size: larger;</span>
<a href="#l33.67"></a><span id="l33.67">   font-weight: bold;</span>
<a href="#l33.68"></a><span id="l33.68"> }</span>
<a href="#l33.69"></a><span id="l33.69"> </span>
<a href="#l33.70"></a><span id="l33.70"> #config_status_subtitle {</span>
<a href="#l33.71"></a><span id="l33.71">   font-size: smaller;</span>
<a href="#l33.72"></a><span id="l33.72">   color: GrayText;</span>
<a href="#l33.73"></a><span id="l33.73">   font-style: italic;</span>
<a href="#l33.74"></a><span id="l33.74"> }</span>
<a href="#l33.75"></a><span id="l33.75"> </span>
<a href="#l33.76"></a><span id="l33.76" class="difflineminus">-vbox.statusimage {</span>
<a href="#l33.77"></a><span id="l33.77" class="difflineminus">-  padding-top: 6px;</span>
<a href="#l33.78"></a><span id="l33.78" class="difflineminus">-}</span>
<a href="#l33.79"></a><span id="l33.79" class="difflineminus">-</span>
<a href="#l33.80"></a><span id="l33.80"> /* Missing:</span>
<a href="#l33.81"></a><span id="l33.81">  * label.bignumber</span>
<a href="#l33.82"></a><span id="l33.82">  * hbox.stepheading</span>
<a href="#l33.83"></a><span id="l33.83">  */</span>
<a href="#l33.84"></a><span id="l33.84"> </span>
<a href="#l33.85"></a><span id="l33.85"> window {</span>
<a href="#l33.86"></a><span id="l33.86">   -moz-appearance: none;</span>
<a href="#l33.87"></a><span id="l33.87">   background-color: #fff;</span>
<a href="#l33.88"></a><span id="l33.88" class="difflineat">@@ -171,28 +180,29 @@ vbox.icon {</span>
<a href="#l33.89"></a><span id="l33.89">   height: 22px;</span>
<a href="#l33.90"></a><span id="l33.90">   background-repeat: no-repeat;</span>
<a href="#l33.91"></a><span id="l33.91"> }</span>
<a href="#l33.92"></a><span id="l33.92"> </span>
<a href="#l33.93"></a><span id="l33.93"> image.insecureLarry {</span>
<a href="#l33.94"></a><span id="l33.94">   height: 64px;</span>
<a href="#l33.95"></a><span id="l33.95">   width: 64px;</span>
<a href="#l33.96"></a><span id="l33.96">   padding: 0;</span>
<a href="#l33.97"></a><span id="l33.97" class="difflineminus">-  list-style-image: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;);</span>
<a href="#l33.98"></a><span id="l33.98" class="difflineplus">+  background: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;) no-repeat;</span>
<a href="#l33.99"></a><span id="l33.99"> }</span>
<a href="#l33.100"></a><span id="l33.100"> </span>
<a href="#l33.101"></a><span id="l33.101"> image.secureLarry {</span>
<a href="#l33.102"></a><span id="l33.102">   height: 64px;</span>
<a href="#l33.103"></a><span id="l33.103">   width: 64px;</span>
<a href="#l33.104"></a><span id="l33.104">   padding: 0;</span>
<a href="#l33.105"></a><span id="l33.105" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/identity.png&quot;);</span>
<a href="#l33.106"></a><span id="l33.106" class="difflineplus">+  background: url(&quot;chrome://messenger/skin/icons/identity.png&quot;) no-repeat;</span>
<a href="#l33.107"></a><span id="l33.107"> }</span>
<a href="#l33.108"></a><span id="l33.108"> </span>
<a href="#l33.109"></a><span id="l33.109"> vbox.mastervbox {</span>
<a href="#l33.110"></a><span id="l33.110">   padding: 14px;</span>
<a href="#l33.111"></a><span id="l33.111" class="difflineplus">+  background: #F4F4F4;</span>
<a href="#l33.112"></a><span id="l33.112"> }</span>
<a href="#l33.113"></a><span id="l33.113"> </span>
<a href="#l33.114"></a><span id="l33.114"> vbox.icon[state='strong'] {</span>
<a href="#l33.115"></a><span id="l33.115">   background-image: url(&quot;chrome://messenger/skin/icons/secure.png&quot;);</span>
<a href="#l33.116"></a><span id="l33.116"> }</span>
<a href="#l33.117"></a><span id="l33.117"> </span>
<a href="#l33.118"></a><span id="l33.118"> vbox.icon[state='failed'] {</span>
<a href="#l33.119"></a><span id="l33.119">   background-image: url(&quot;chrome://messenger/skin/icons/failed.png&quot;);</span>
<a href="#l33.120"></a><span id="l33.120" class="difflineat">@@ -201,20 +211,21 @@ vbox.icon[state='failed'] {</span>
<a href="#l33.121"></a><span id="l33.121"> vbox.icon[state='probing'] {</span>
<a href="#l33.122"></a><span id="l33.122">   background-image: url(&quot;chrome://messenger/skin/icons/probing.png&quot;);</span>
<a href="#l33.123"></a><span id="l33.123"> }</span>
<a href="#l33.124"></a><span id="l33.124"> </span>
<a href="#l33.125"></a><span id="l33.125"> vbox.icon[state='weak'] {</span>
<a href="#l33.126"></a><span id="l33.126">   background-image: url(&quot;chrome://messenger/skin/icons/insecure.png&quot;);</span>
<a href="#l33.127"></a><span id="l33.127"> }</span>
<a href="#l33.128"></a><span id="l33.128"> </span>
<a href="#l33.129"></a><span id="l33.129" class="difflineminus">-.warningbox {</span>
<a href="#l33.130"></a><span id="l33.130" class="difflineplus">+#warningbox {</span>
<a href="#l33.131"></a><span id="l33.131" class="difflineplus">+  width: 800px;</span>
<a href="#l33.132"></a><span id="l33.132" class="difflineplus">+  height: 485px;</span>
<a href="#l33.133"></a><span id="l33.133">   background: #333333 none repeat scroll 0% 0%;</span>
<a href="#l33.134"></a><span id="l33.134">   padding: 1em;</span>
<a href="#l33.135"></a><span id="l33.135" class="difflineminus">-  overflow: auto;</span>
<a href="#l33.136"></a><span id="l33.136"> }</span>
<a href="#l33.137"></a><span id="l33.137"> </span>
<a href="#l33.138"></a><span id="l33.138"> .warning {</span>
<a href="#l33.139"></a><span id="l33.139">   padding: 2em;</span>
<a href="#l33.140"></a><span id="l33.140">   -moz-border-radius: 10px;</span>
<a href="#l33.141"></a><span id="l33.141">   background-color: #772222;</span>
<a href="#l33.142"></a><span id="l33.142">   border: 1px solid threedshadow;</span>
<a href="#l33.143"></a><span id="l33.143"> }</span>
<a href="#l33.144"></a><span id="l33.144" class="difflineat">@@ -263,17 +274,16 @@ checkbox.acknowledge_checkbox {</span>
<a href="#l33.145"></a><span id="l33.145">   padding-top: .5em;</span>
<a href="#l33.146"></a><span id="l33.146"> }</span>
<a href="#l33.147"></a><span id="l33.147"> </span>
<a href="#l33.148"></a><span id="l33.148"> vbox.settings {</span>
<a href="#l33.149"></a><span id="l33.149">   padding: 1em;</span>
<a href="#l33.150"></a><span id="l33.150"> }</span>
<a href="#l33.151"></a><span id="l33.151"> </span>
<a href="#l33.152"></a><span id="l33.152"> .title {</span>
<a href="#l33.153"></a><span id="l33.153" class="difflineminus">-  font-weight: bold;</span>
<a href="#l33.154"></a><span id="l33.154">   padding: 0px 3px;</span>
<a href="#l33.155"></a><span id="l33.155"> }</span>
<a href="#l33.156"></a><span id="l33.156"> </span>
<a href="#l33.157"></a><span id="l33.157"> .details {</span>
<a href="#l33.158"></a><span id="l33.158">   font-style: italic;</span>
<a href="#l33.159"></a><span id="l33.159">   padding: 3px;</span>
<a href="#l33.160"></a><span id="l33.160"> }</span>
<a href="#l33.161"></a><span id="l33.161"> </span>
<a href="#l33.162"></a><span id="l33.162" class="difflineat">@@ -284,23 +294,36 @@ vbox.settings {</span>
<a href="#l33.163"></a><span id="l33.163"> }</span>
<a href="#l33.164"></a><span id="l33.164"> </span>
<a href="#l33.165"></a><span id="l33.165"> label.textbox-label {</span>
<a href="#l33.166"></a><span id="l33.166">   color: GrayText;</span>
<a href="#l33.167"></a><span id="l33.167">   font-size: smaller;</span>
<a href="#l33.168"></a><span id="l33.168">   border-bottom: 1px dotted InactiveBorder;</span>
<a href="#l33.169"></a><span id="l33.169"> }</span>
<a href="#l33.170"></a><span id="l33.170"> </span>
<a href="#l33.171"></a><span id="l33.171" class="difflineminus">-.protocol,</span>
<a href="#l33.172"></a><span id="l33.172" class="difflineminus">-textbox.security {</span>
<a href="#l33.173"></a><span id="l33.173" class="difflineplus">+.protocol {</span>
<a href="#l33.174"></a><span id="l33.174">   width: 8em;</span>
<a href="#l33.175"></a><span id="l33.175"> }</span>
<a href="#l33.176"></a><span id="l33.176"> </span>
<a href="#l33.177"></a><span id="l33.177" class="difflineplus">+.protocol &gt; label {</span>
<a href="#l33.178"></a><span id="l33.178" class="difflineplus">+  -moz-padding-start: 6px;</span>
<a href="#l33.179"></a><span id="l33.179" class="difflineplus">+}</span>
<a href="#l33.180"></a><span id="l33.180" class="difflineplus">+</span>
<a href="#l33.181"></a><span id="l33.181" class="difflineplus">+.security {</span>
<a href="#l33.182"></a><span id="l33.182" class="difflineplus">+  width: 10em;</span>
<a href="#l33.183"></a><span id="l33.183" class="difflineplus">+}</span>
<a href="#l33.184"></a><span id="l33.184" class="difflineplus">+</span>
<a href="#l33.185"></a><span id="l33.185"> textbox.port {</span>
<a href="#l33.186"></a><span id="l33.186" class="difflineminus">-  width: 5em;</span>
<a href="#l33.187"></a><span id="l33.187" class="difflineplus">+  width: 4em;</span>
<a href="#l33.188"></a><span id="l33.188" class="difflineplus">+}</span>
<a href="#l33.189"></a><span id="l33.189" class="difflineplus">+</span>
<a href="#l33.190"></a><span id="l33.190" class="difflineplus">+textbox.username {</span>
<a href="#l33.191"></a><span id="l33.191" class="difflineplus">+  width: 12em;</span>
<a href="#l33.192"></a><span id="l33.192" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l33.193"></a><span id="l33.193" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l33.194"></a><span id="l33.194"> }</span>
<a href="#l33.195"></a><span id="l33.195"> </span>
<a href="#l33.196"></a><span id="l33.196"> textbox.host {</span>
<a href="#l33.197"></a><span id="l33.197">   width: 12em;</span>
<a href="#l33.198"></a><span id="l33.198">   margin-bottom: 4px !important;</span>
<a href="#l33.199"></a><span id="l33.199">   margin-top: 4px !important;</span>
<a href="#l33.200"></a><span id="l33.200"> }</span>
<a href="#l33.201"></a><span id="l33.201"> </span>
<a href="#l33.202"></a><span id="l33.202" class="difflineat">@@ -350,8 +373,22 @@ row.heading {</span>
<a href="#l33.203"></a><span id="l33.203">   margin: 0px;</span>
<a href="#l33.204"></a><span id="l33.204">   padding-left: 20px;</span>
<a href="#l33.205"></a><span id="l33.205">   background: url(&quot;chrome://messenger/skin/section_collapsed.png&quot;) left 0 no-repeat;</span>
<a href="#l33.206"></a><span id="l33.206"> }</span>
<a href="#l33.207"></a><span id="l33.207"> </span>
<a href="#l33.208"></a><span id="l33.208"> .technical_details[expanded] {</span>
<a href="#l33.209"></a><span id="l33.209">   background-image: url(&quot;chrome://messenger/skin/section_expanded.png&quot;);</span>
<a href="#l33.210"></a><span id="l33.210"> }</span>
<a href="#l33.211"></a><span id="l33.211" class="difflineplus">+</span>
<a href="#l33.212"></a><span id="l33.212" class="difflineplus">+label.autoconfigLabel {</span>
<a href="#l33.213"></a><span id="l33.213" class="difflineplus">+  width: 100px;</span>
<a href="#l33.214"></a><span id="l33.214" class="difflineplus">+  text-align: right;</span>
<a href="#l33.215"></a><span id="l33.215" class="difflineplus">+}</span>
<a href="#l33.216"></a><span id="l33.216" class="difflineplus">+</span>
<a href="#l33.217"></a><span id="l33.217" class="difflineplus">+label.textbox-label {</span>
<a href="#l33.218"></a><span id="l33.218" class="difflineplus">+  width: 58px;</span>
<a href="#l33.219"></a><span id="l33.219" class="difflineplus">+  text-align: right;</span>
<a href="#l33.220"></a><span id="l33.220" class="difflineplus">+}</span>
<a href="#l33.221"></a><span id="l33.221" class="difflineplus">+</span>
<a href="#l33.222"></a><span id="l33.222" class="difflineplus">+vbox.initialSettings textbox {</span>
<a href="#l33.223"></a><span id="l33.223" class="difflineplus">+  width: 280px;</span>
<a href="#l33.224"></a><span id="l33.224" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/folderMenus.css</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/folderMenus.css</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -15,16 +15,17 @@</span>
<a href="#l34.4"></a><span id="l34.4">  * March 31, 1998.</span>
<a href="#l34.5"></a><span id="l34.5">  *</span>
<a href="#l34.6"></a><span id="l34.6">  * The Initial Developer of the Original Code is</span>
<a href="#l34.7"></a><span id="l34.7">  * Netscape Communications Corporation.</span>
<a href="#l34.8"></a><span id="l34.8">  * Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l34.9"></a><span id="l34.9">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l34.10"></a><span id="l34.10">  *</span>
<a href="#l34.11"></a><span id="l34.11">  * Contributor(s):</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineplus">+ *   Magnus Melin &lt;mkmelin+mozilla@iki.fi&gt;</span>
<a href="#l34.13"></a><span id="l34.13">  *</span>
<a href="#l34.14"></a><span id="l34.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l34.15"></a><span id="l34.15">  * either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l34.16"></a><span id="l34.16">  * the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l34.17"></a><span id="l34.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l34.18"></a><span id="l34.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l34.19"></a><span id="l34.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l34.20"></a><span id="l34.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l34.21"></a><span id="l34.21" class="difflineat">@@ -36,100 +37,101 @@</span>
<a href="#l34.22"></a><span id="l34.22">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l34.23"></a><span id="l34.23"> </span>
<a href="#l34.24"></a><span id="l34.24"> /* ===== folderMenus.css ================================================</span>
<a href="#l34.25"></a><span id="l34.25">   == Icons for menus which represent mail folder.</span>
<a href="#l34.26"></a><span id="l34.26">   ======================================================================= */</span>
<a href="#l34.27"></a><span id="l34.27"> </span>
<a href="#l34.28"></a><span id="l34.28"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l34.29"></a><span id="l34.29"> </span>
<a href="#l34.30"></a><span id="l34.30" class="difflineminus">-/* ::::: folder icons for menus ::::: */</span>
<a href="#l34.31"></a><span id="l34.31" class="difflineplus">+/* ::::: Folder icons for menus   ::::: */</span>
<a href="#l34.32"></a><span id="l34.32"> </span>
<a href="#l34.33"></a><span id="l34.33" class="difflineplus">+/* Folders */</span>
<a href="#l34.34"></a><span id="l34.34"> .folderMenuItem {</span>
<a href="#l34.35"></a><span id="l34.35" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder.png&quot;);</span>
<a href="#l34.36"></a><span id="l34.36" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l34.37"></a><span id="l34.37" class="difflineminus">-}</span>
<a href="#l34.38"></a><span id="l34.38" class="difflineminus">-</span>
<a href="#l34.39"></a><span id="l34.39" class="difflineminus">-.folderMenuItem[open=&quot;true&quot;] {</span>
<a href="#l34.40"></a><span id="l34.40" class="difflineminus">-  -moz-image-region: rect(0 32px 16px 16px);</span>
<a href="#l34.41"></a><span id="l34.41" class="difflineplus">+  list-style-image: url(&quot;moz-icon://stock/gtk-directory?size=menu&quot;);</span>
<a href="#l34.42"></a><span id="l34.42"> }</span>
<a href="#l34.43"></a><span id="l34.43"> </span>
<a href="#l34.44"></a><span id="l34.44"> /* Newsgroup */</span>
<a href="#l34.45"></a><span id="l34.45"> .folderMenuItem[ServerType=&quot;nntp&quot;] {</span>
<a href="#l34.46"></a><span id="l34.46" class="difflineminus">-  -moz-image-region: rect(0 160px 16px 144px);</span>
<a href="#l34.47"></a><span id="l34.47" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.48"></a><span id="l34.48" class="difflineplus">+  -moz-image-region: rect(208px 16px 224px 0px);</span>
<a href="#l34.49"></a><span id="l34.49"> }</span>
<a href="#l34.50"></a><span id="l34.50"> </span>
<a href="#l34.51"></a><span id="l34.51"> /* Feed */</span>
<a href="#l34.52"></a><span id="l34.52"> .folderMenuItem[ServerType=&quot;rss&quot;] {</span>
<a href="#l34.53"></a><span id="l34.53" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger-newsblog/skin/icons/rss-feed.png&quot;);</span>
<a href="#l34.54"></a><span id="l34.54" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l34.55"></a><span id="l34.55" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.56"></a><span id="l34.56" class="difflineplus">+  -moz-image-region: rect(112px 16px 128px 0px);</span>
<a href="#l34.57"></a><span id="l34.57"> }</span>
<a href="#l34.58"></a><span id="l34.58"> </span>
<a href="#l34.59"></a><span id="l34.59" class="difflineminus">-/* Resets list-style-image for Feed Trash and Virtual folders */</span>
<a href="#l34.60"></a><span id="l34.60" class="difflineminus">-.folderMenuItem[ServerType=&quot;rss&quot;][SpecialFolder=&quot;Trash&quot;],</span>
<a href="#l34.61"></a><span id="l34.61" class="difflineminus">-.folderMenuItem[ServerType=&quot;rss&quot;][SpecialFolder=&quot;Virtual&quot;] {</span>
<a href="#l34.62"></a><span id="l34.62" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder.png&quot;);</span>
<a href="#l34.63"></a><span id="l34.63" class="difflineminus">-}</span>
<a href="#l34.64"></a><span id="l34.64" class="difflineminus">-</span>
<a href="#l34.65"></a><span id="l34.65" class="difflineminus">-/* ..... special folders ..... */</span>
<a href="#l34.66"></a><span id="l34.66" class="difflineminus">-</span>
<a href="#l34.67"></a><span id="l34.67"> .folderMenuItem[SpecialFolder=&quot;Inbox&quot;] {</span>
<a href="#l34.68"></a><span id="l34.68" class="difflineminus">-  -moz-image-region: rect(0 48px 16px 32px);</span>
<a href="#l34.69"></a><span id="l34.69" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.70"></a><span id="l34.70" class="difflineplus">+  -moz-image-region: rect(64px 16px 80px 0px);</span>
<a href="#l34.71"></a><span id="l34.71"> }</span>
<a href="#l34.72"></a><span id="l34.72"> </span>
<a href="#l34.73"></a><span id="l34.73"> .folderMenuItem[SpecialFolder=&quot;Sent&quot;] {</span>
<a href="#l34.74"></a><span id="l34.74" class="difflineminus">-  -moz-image-region: rect(0 64px 16px 48px);</span>
<a href="#l34.75"></a><span id="l34.75" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.76"></a><span id="l34.76" class="difflineplus">+  -moz-image-region: rect(144px 16px 160px 0px);</span>
<a href="#l34.77"></a><span id="l34.77"> }</span>
<a href="#l34.78"></a><span id="l34.78"> </span>
<a href="#l34.79"></a><span id="l34.79"> .folderMenuItem[SpecialFolder=&quot;Outbox&quot;] {</span>
<a href="#l34.80"></a><span id="l34.80" class="difflineminus">-  -moz-image-region: rect(0 80px 16px 64px);</span>
<a href="#l34.81"></a><span id="l34.81" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.82"></a><span id="l34.82" class="difflineplus">+  -moz-image-region: rect(96px 16px 112px 0px);</span>
<a href="#l34.83"></a><span id="l34.83"> }</span>
<a href="#l34.84"></a><span id="l34.84"> </span>
<a href="#l34.85"></a><span id="l34.85" class="difflineminus">-.folderMenuItem[SpecialFolder=&quot;Drafts&quot;] {</span>
<a href="#l34.86"></a><span id="l34.86" class="difflineminus">-  -moz-image-region: rect(0 96px 16px 80px);</span>
<a href="#l34.87"></a><span id="l34.87" class="difflineplus">+.folderMenuItem[SpecialFolder=&quot;Drafts&quot;] { </span>
<a href="#l34.88"></a><span id="l34.88" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.89"></a><span id="l34.89" class="difflineplus">+  -moz-image-region: rect(48px 16px 64px 0px);</span>
<a href="#l34.90"></a><span id="l34.90"> }</span>
<a href="#l34.91"></a><span id="l34.91"> </span>
<a href="#l34.92"></a><span id="l34.92" class="difflineminus">-.folderMenuItem[SpecialFolder=&quot;Templates&quot;] {</span>
<a href="#l34.93"></a><span id="l34.93" class="difflineminus">-  -moz-image-region: rect(0 112px 16px 96px);</span>
<a href="#l34.94"></a><span id="l34.94" class="difflineplus">+.folderMenuItem[SpecialFolder=&quot;Templates&quot;] { </span>
<a href="#l34.95"></a><span id="l34.95" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.96"></a><span id="l34.96" class="difflineplus">+  -moz-image-region: rect(160px 16px 176px 0px);</span>
<a href="#l34.97"></a><span id="l34.97"> }</span>
<a href="#l34.98"></a><span id="l34.98"> </span>
<a href="#l34.99"></a><span id="l34.99"> .folderMenuItem[SpecialFolder=&quot;Junk&quot;] {</span>
<a href="#l34.100"></a><span id="l34.100" class="difflineminus">-  -moz-image-region: rect(0 128px 16px 112px);</span>
<a href="#l34.101"></a><span id="l34.101" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.102"></a><span id="l34.102" class="difflineplus">+  -moz-image-region: rect(80px 16px 96px 0px);</span>
<a href="#l34.103"></a><span id="l34.103"> }</span>
<a href="#l34.104"></a><span id="l34.104"> </span>
<a href="#l34.105"></a><span id="l34.105"> .folderMenuItem[SpecialFolder=&quot;Trash&quot;] {</span>
<a href="#l34.106"></a><span id="l34.106" class="difflineminus">-  -moz-image-region: rect(0 144px 16px 128px);</span>
<a href="#l34.107"></a><span id="l34.107" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.108"></a><span id="l34.108" class="difflineplus">+  -moz-image-region: rect(176px 16px 192px 0px);</span>
<a href="#l34.109"></a><span id="l34.109" class="difflineplus">+}</span>
<a href="#l34.110"></a><span id="l34.110" class="difflineplus">+</span>
<a href="#l34.111"></a><span id="l34.111" class="difflineplus">+.folderMenuItem[SpecialFolder=&quot;Archive&quot;] {</span>
<a href="#l34.112"></a><span id="l34.112" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.113"></a><span id="l34.113" class="difflineplus">+  -moz-image-region: rect(192px 16px 208px 0px);</span>
<a href="#l34.114"></a><span id="l34.114"> }</span>
<a href="#l34.115"></a><span id="l34.115"> </span>
<a href="#l34.116"></a><span id="l34.116"> .folderMenuItem[SpecialFolder=&quot;Virtual&quot;] {</span>
<a href="#l34.117"></a><span id="l34.117" class="difflineminus">-  -moz-image-region: rect(0 176px 16px 160px);</span>
<a href="#l34.118"></a><span id="l34.118" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.119"></a><span id="l34.119" class="difflineplus">+  -moz-image-region: rect(128px 16px 144px 0px);</span>
<a href="#l34.120"></a><span id="l34.120" class="difflineplus">+</span>
<a href="#l34.121"></a><span id="l34.121"> }</span>
<a href="#l34.122"></a><span id="l34.122"> </span>
<a href="#l34.123"></a><span id="l34.123" class="difflineminus">-/* ..... servers ..... */</span>
<a href="#l34.124"></a><span id="l34.124" class="difflineminus">-</span>
<a href="#l34.125"></a><span id="l34.125" class="difflineplus">+/** IMAP/POP/movemail account nodes */</span>
<a href="#l34.126"></a><span id="l34.126"> .folderMenuItem[IsServer=&quot;true&quot;] {</span>
<a href="#l34.127"></a><span id="l34.127" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/server.png&quot;);</span>
<a href="#l34.128"></a><span id="l34.128" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l34.129"></a><span id="l34.129" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.130"></a><span id="l34.130" class="difflineplus">+  -moz-image-region: rect(16px 16px 32px 0px);</span>
<a href="#l34.131"></a><span id="l34.131"> }</span>
<a href="#l34.132"></a><span id="l34.132"> </span>
<a href="#l34.133"></a><span id="l34.133" class="difflineminus">-.folderMenuItem[IsServer=&quot;true&quot;][ServerType=&quot;imap&quot;][IsSecure=&quot;true&quot;],</span>
<a href="#l34.134"></a><span id="l34.134" class="difflineminus">-.folderMenuItem[IsServer=&quot;true&quot;][ServerType=&quot;pop3&quot;][IsSecure=&quot;true&quot;] {</span>
<a href="#l34.135"></a><span id="l34.135" class="difflineminus">-  -moz-image-region: rect(0 32px 16px 16px);</span>
<a href="#l34.136"></a><span id="l34.136" class="difflineminus">-}</span>
<a href="#l34.137"></a><span id="l34.137" class="difflineminus">-</span>
<a href="#l34.138"></a><span id="l34.138" class="difflineminus">-/* Local folders */</span>
<a href="#l34.139"></a><span id="l34.139" class="difflineplus">+/* Local folders account node */</span>
<a href="#l34.140"></a><span id="l34.140"> .folderMenuItem[IsServer=&quot;true&quot;][ServerType=&quot;none&quot;] {</span>
<a href="#l34.141"></a><span id="l34.141" class="difflineminus">-  -moz-image-region: rect(0 48px 16px 32px);</span>
<a href="#l34.142"></a><span id="l34.142" class="difflineplus">+  -moz-image-region: rect(0px 16px 16px 0px);</span>
<a href="#l34.143"></a><span id="l34.143"> }</span>
<a href="#l34.144"></a><span id="l34.144"> </span>
<a href="#l34.145"></a><span id="l34.145"> /* News server */</span>
<a href="#l34.146"></a><span id="l34.146"> .folderMenuItem[IsServer=&quot;true&quot;][ServerType=&quot;nntp&quot;] {</span>
<a href="#l34.147"></a><span id="l34.147" class="difflineminus">-  -moz-image-region: rect(0 64px 16px 48px);</span>
<a href="#l34.148"></a><span id="l34.148" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/server.png&quot;);</span>
<a href="#l34.149"></a><span id="l34.149" class="difflineplus">+  -moz-image-region: rect(0px 64px 16px 48px);</span>
<a href="#l34.150"></a><span id="l34.150"> }</span>
<a href="#l34.151"></a><span id="l34.151"> </span>
<a href="#l34.152"></a><span id="l34.152" class="difflineplus">+/** Secure news server */</span>
<a href="#l34.153"></a><span id="l34.153"> .folderMenuItem[IsServer=&quot;true&quot;][ServerType=&quot;nntp&quot;][IsSecure=&quot;true&quot;] {</span>
<a href="#l34.154"></a><span id="l34.154" class="difflineminus">-  -moz-image-region: rect(0 80px 16px 64px) !important;</span>
<a href="#l34.155"></a><span id="l34.155" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/server.png&quot;);</span>
<a href="#l34.156"></a><span id="l34.156" class="difflineplus">+  -moz-image-region: rect(0px 80px 16px 64px);</span>
<a href="#l34.157"></a><span id="l34.157"> }</span>
<a href="#l34.158"></a><span id="l34.158"> </span>
<a href="#l34.159"></a><span id="l34.159" class="difflineminus">-/* Feed server */</span>
<a href="#l34.160"></a><span id="l34.160" class="difflineplus">+/* Feed account node */</span>
<a href="#l34.161"></a><span id="l34.161"> .folderMenuItem[IsServer=&quot;true&quot;][ServerType=&quot;rss&quot;] {</span>
<a href="#l34.162"></a><span id="l34.162" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger-newsblog/skin/icons/server-rss.png&quot;);</span>
<a href="#l34.163"></a><span id="l34.163" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l34.164"></a><span id="l34.164" class="difflineplus">+  -moz-image-region: rect(32px 16px 48px 0px);</span>
<a href="#l34.165"></a><span id="l34.165"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/folderPane.css</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/folderPane.css</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -6,50 +6,30 @@ treechildren::-moz-tree-image(folderName</span>
<a href="#l35.4"></a><span id="l35.4">   background-repeat: no-repeat;</span>
<a href="#l35.5"></a><span id="l35.5">   background-color: transparent;</span>
<a href="#l35.6"></a><span id="l35.6">   background-attachment: scroll;</span>
<a href="#l35.7"></a><span id="l35.7">   -moz-background-clip: border;</span>
<a href="#l35.8"></a><span id="l35.8">   -moz-background-inline-policy: continuous;</span>
<a href="#l35.9"></a><span id="l35.9">   -moz-background-origin: border;</span>
<a href="#l35.10"></a><span id="l35.10">   background-image: url(&quot;moz-icon://stock/gtk-directory?size=menu&quot;);</span>
<a href="#l35.11"></a><span id="l35.11">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-}</span>
<a href="#l35.13"></a><span id="l35.13"> </span>
<a href="#l35.14"></a><span id="l35.14" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol) {</span>
<a href="#l35.15"></a><span id="l35.15">   -moz-margin-end: 2px;</span>
<a href="#l35.16"></a><span id="l35.16"> }</span>
<a href="#l35.17"></a><span id="l35.17"> </span>
<a href="#l35.18"></a><span id="l35.18"> treechildren::-moz-tree-image(folderNameCol, newMessages-true) {</span>
<a href="#l35.19"></a><span id="l35.19">   background-image: url(&quot;moz-icon://stock/gtk-directory?size=menu&quot;);</span>
<a href="#l35.20"></a><span id="l35.20">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-new-star.png&quot;);</span>
<a href="#l35.21"></a><span id="l35.21"> }</span>
<a href="#l35.22"></a><span id="l35.22"> </span>
<a href="#l35.23"></a><span id="l35.23"> treechildren::-moz-tree-image(folderNameCol, selected, open, newMessages-true) {</span>
<a href="#l35.24"></a><span id="l35.24">   background-image: url(&quot;moz-icon://stock/gtk-directory?size=menu&quot;);</span>
<a href="#l35.25"></a><span id="l35.25">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-new-star.png&quot;);</span>
<a href="#l35.26"></a><span id="l35.26"> }</span>
<a href="#l35.27"></a><span id="l35.27"> </span>
<a href="#l35.28"></a><span id="l35.28" class="difflineminus">-/* ..... Newsgroup ..... */</span>
<a href="#l35.29"></a><span id="l35.29" class="difflineminus">-</span>
<a href="#l35.30"></a><span id="l35.30" class="difflineminus">-.tabmail-tab[type=&quot;folder&quot;][ServerType=&quot;nntp&quot;] &gt; .tab-image-middle &gt; .tab-icon-image,</span>
<a href="#l35.31"></a><span id="l35.31" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, serverType-nntp) {</span>
<a href="#l35.32"></a><span id="l35.32" class="difflineminus">-  background-image: none;</span>
<a href="#l35.33"></a><span id="l35.33" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder.png&quot;);</span>
<a href="#l35.34"></a><span id="l35.34" class="difflineminus">-  -moz-image-region: rect(0 160px 16px 144px);</span>
<a href="#l35.35"></a><span id="l35.35" class="difflineminus">-}</span>
<a href="#l35.36"></a><span id="l35.36" class="difflineminus">-</span>
<a href="#l35.37"></a><span id="l35.37" class="difflineminus">-/* ..... Feed ..... */</span>
<a href="#l35.38"></a><span id="l35.38" class="difflineminus">-</span>
<a href="#l35.39"></a><span id="l35.39" class="difflineminus">-.tabmail-tab[type=&quot;folder&quot;][ServerType=&quot;rss&quot;] &gt; .tab-image-middle &gt; .tab-icon-image,</span>
<a href="#l35.40"></a><span id="l35.40" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, serverType-rss) {</span>
<a href="#l35.41"></a><span id="l35.41" class="difflineminus">-  background-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l35.42"></a><span id="l35.42" class="difflineminus">-  background-position: left -112px;</span>
<a href="#l35.43"></a><span id="l35.43" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l35.44"></a><span id="l35.44" class="difflineminus">-}</span>
<a href="#l35.45"></a><span id="l35.45" class="difflineminus">-</span>
<a href="#l35.46"></a><span id="l35.46"> treechildren::-moz-tree-image(folderNameCol, serverType-rss, newMessages-true) {</span>
<a href="#l35.47"></a><span id="l35.47">   background-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l35.48"></a><span id="l35.48">   background-position: left -112px;</span>
<a href="#l35.49"></a><span id="l35.49">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-new-star.png&quot;);</span>
<a href="#l35.50"></a><span id="l35.50"> }</span>
<a href="#l35.51"></a><span id="l35.51"> </span>
<a href="#l35.52"></a><span id="l35.52"> /* Resets list-style-image for Feed Trash and Virtual folders */</span>
<a href="#l35.53"></a><span id="l35.53"> </span>
<a href="#l35.54"></a><span id="l35.54" class="difflineat">@@ -152,23 +132,34 @@ treechildren::-moz-tree-image(folderName</span>
<a href="#l35.55"></a><span id="l35.55"> </span>
<a href="#l35.56"></a><span id="l35.56"> .tabmail-tab[type=&quot;folder&quot;][SpecialFolder=&quot;Virtual&quot;] &gt; .tab-image-middle &gt; .tab-icon-image,</span>
<a href="#l35.57"></a><span id="l35.57"> treechildren::-moz-tree-image(folderNameCol, specialFolder-Virtual) {</span>
<a href="#l35.58"></a><span id="l35.58">   background-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l35.59"></a><span id="l35.59">   background-position: left -128px;</span>
<a href="#l35.60"></a><span id="l35.60">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l35.61"></a><span id="l35.61"> }</span>
<a href="#l35.62"></a><span id="l35.62"> </span>
<a href="#l35.63"></a><span id="l35.63" class="difflineminus">-/* .....  Newsgroup .....  */</span>
<a href="#l35.64"></a><span id="l35.64" class="difflineminus">-.tabmail-tab[type=&quot;folder&quot;][ServerType=&quot;nntp&quot;] &gt; .tab-image-middle &gt; .tab-icon-image {</span>
<a href="#l35.65"></a><span id="l35.65" class="difflineplus">+/* ..... Newsgroup ..... */</span>
<a href="#l35.66"></a><span id="l35.66" class="difflineplus">+</span>
<a href="#l35.67"></a><span id="l35.67" class="difflineplus">+.tabmail-tab[type=&quot;folder&quot;][ServerType=&quot;nntp&quot;] &gt; .tab-image-middle &gt; .tab-icon-image,</span>
<a href="#l35.68"></a><span id="l35.68" class="difflineplus">+treechildren::-moz-tree-image(folderNameCol, serverType-nntp) {</span>
<a href="#l35.69"></a><span id="l35.69">   background-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l35.70"></a><span id="l35.70">   background-position: left -208px;</span>
<a href="#l35.71"></a><span id="l35.71">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l35.72"></a><span id="l35.72"> }</span>
<a href="#l35.73"></a><span id="l35.73"> </span>
<a href="#l35.74"></a><span id="l35.74" class="difflineplus">+/* ..... Feed ..... */</span>
<a href="#l35.75"></a><span id="l35.75" class="difflineplus">+</span>
<a href="#l35.76"></a><span id="l35.76" class="difflineplus">+.tabmail-tab[type=&quot;folder&quot;][ServerType=&quot;rss&quot;] &gt; .tab-image-middle &gt; .tab-icon-image,</span>
<a href="#l35.77"></a><span id="l35.77" class="difflineplus">+treechildren::-moz-tree-image(folderNameCol, serverType-rss) {</span>
<a href="#l35.78"></a><span id="l35.78" class="difflineplus">+  background-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l35.79"></a><span id="l35.79" class="difflineplus">+  background-position: left -112px;</span>
<a href="#l35.80"></a><span id="l35.80" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l35.81"></a><span id="l35.81" class="difflineplus">+}</span>
<a href="#l35.82"></a><span id="l35.82" class="difflineplus">+</span>
<a href="#l35.83"></a><span id="l35.83"> /* ..... Account nodes ..... */</span>
<a href="#l35.84"></a><span id="l35.84"> .tabmail-tab[type=&quot;folder&quot;][IsServer=&quot;true&quot;] &gt; .tab-image-middle &gt; .tab-icon-image {</span>
<a href="#l35.85"></a><span id="l35.85">   -moz-margin-start: 0px;</span>
<a href="#l35.86"></a><span id="l35.86">   background-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l35.87"></a><span id="l35.87">   background-position: left -16px;</span>
<a href="#l35.88"></a><span id="l35.88">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l35.89"></a><span id="l35.89"> }</span>
<a href="#l35.90"></a><span id="l35.90"> </span>
<a href="#l35.91"></a><span id="l35.91" class="difflineat">@@ -194,39 +185,38 @@ treechildren::-moz-tree-image(folderName</span>
<a href="#l35.92"></a><span id="l35.92"> </span>
<a href="#l35.93"></a><span id="l35.93"> /* ..... Secure news server ..... */</span>
<a href="#l35.94"></a><span id="l35.94"> .tabmail-tab[type=&quot;folder&quot;][IsServer=&quot;true&quot;][ServerType=&quot;nntp&quot;][IsSecure=&quot;true&quot;] &gt; .tab-image-middle &gt; .tab-icon-image {</span>
<a href="#l35.95"></a><span id="l35.95">   background-image: none;</span>
<a href="#l35.96"></a><span id="l35.96">   list-style-image: url(&quot;chrome://messenger/skin/icons/server.png&quot;);</span>
<a href="#l35.97"></a><span id="l35.97">   -moz-image-region: rect(0 80px 16px 64px);</span>
<a href="#l35.98"></a><span id="l35.98"> }</span>
<a href="#l35.99"></a><span id="l35.99"> </span>
<a href="#l35.100"></a><span id="l35.100" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Virtual, newMessages-true) {</span>
<a href="#l35.101"></a><span id="l35.101" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder.png&quot;);</span>
<a href="#l35.102"></a><span id="l35.102" class="difflineminus">-  -moz-image-region: rect(16px 176px 32px 160px);</span>
<a href="#l35.103"></a><span id="l35.103" class="difflineminus">-}</span>
<a href="#l35.104"></a><span id="l35.104" class="difflineminus">-</span>
<a href="#l35.105"></a><span id="l35.105"> treechildren::-moz-tree-cell-text(folderNameCol, newMessages-true),</span>
<a href="#l35.106"></a><span id="l35.106"> treechildren::-moz-tree-cell-text(folderNameCol, specialFolder-Inbox, newMessages-true) {</span>
<a href="#l35.107"></a><span id="l35.107">   font-weight: bold;</span>
<a href="#l35.108"></a><span id="l35.108"> }</span>
<a href="#l35.109"></a><span id="l35.109"> </span>
<a href="#l35.110"></a><span id="l35.110" class="difflineplus">+treechildren::-moz-tree-image(folderNameCol, biffState-NewMail, isServer-true) {</span>
<a href="#l35.111"></a><span id="l35.111" class="difflineplus">+  background-position: left -16px;</span>
<a href="#l35.112"></a><span id="l35.112" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-new-star.png&quot;);</span>
<a href="#l35.113"></a><span id="l35.113" class="difflineplus">+}</span>
<a href="#l35.114"></a><span id="l35.114" class="difflineplus">+</span>
<a href="#l35.115"></a><span id="l35.115" class="difflineplus">+treechildren::-moz-tree-image(folderNameCol, specialFolder-Virtual, newMessages-true) {</span>
<a href="#l35.116"></a><span id="l35.116" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-new-star.png&quot;);</span>
<a href="#l35.117"></a><span id="l35.117" class="difflineplus">+}</span>
<a href="#l35.118"></a><span id="l35.118" class="difflineplus">+</span>
<a href="#l35.119"></a><span id="l35.119"> /* ..... Mail server  ..... */</span>
<a href="#l35.120"></a><span id="l35.120"> </span>
<a href="#l35.121"></a><span id="l35.121"> treechildren::-moz-tree-image(folderNameCol, isServer-true) {</span>
<a href="#l35.122"></a><span id="l35.122">   background-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l35.123"></a><span id="l35.123">   background-position: left -16px;</span>
<a href="#l35.124"></a><span id="l35.124">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l35.125"></a><span id="l35.125"> }</span>
<a href="#l35.126"></a><span id="l35.126"> </span>
<a href="#l35.127"></a><span id="l35.127" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, biffState-NewMail, isServer-true) {</span>
<a href="#l35.128"></a><span id="l35.128" class="difflineminus">-  background-position: left -16px;</span>
<a href="#l35.129"></a><span id="l35.129" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-new-star.png&quot;);</span>
<a href="#l35.130"></a><span id="l35.130" class="difflineminus">-}</span>
<a href="#l35.131"></a><span id="l35.131" class="difflineminus">-</span>
<a href="#l35.132"></a><span id="l35.132"> /* ..... Secure mail server ..... */</span>
<a href="#l35.133"></a><span id="l35.133"> </span>
<a href="#l35.134"></a><span id="l35.134"> treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-pop3, isSecure-true),</span>
<a href="#l35.135"></a><span id="l35.135"> treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-imap, isSecure-true) {</span>
<a href="#l35.136"></a><span id="l35.136">   background-position: left -16px;</span>
<a href="#l35.137"></a><span id="l35.137">   list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l35.138"></a><span id="l35.138"> }</span>
<a href="#l35.139"></a><span id="l35.139"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1">deleted file mode 100755</span>
<a href="#l36.2"></a><span id="l36.2">index 1b052b252144cdd6739bbf1a4eaf0897f82b7db4..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</span>
<a href="#l36.3"></a><span id="l36.3">GIT binary patch
literal 0
Hc$@&lt;O00001</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/messageHeader.css</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/messageHeader.css</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -58,31 +58,39 @@</span>
<a href="#l37.4"></a><span id="l37.4"> }</span>
<a href="#l37.5"></a><span id="l37.5"> </span>
<a href="#l37.6"></a><span id="l37.6"> /* ::::: msg header buttons ::::: */</span>
<a href="#l37.7"></a><span id="l37.7"> .headerContainer</span>
<a href="#l37.8"></a><span id="l37.8"> {</span>
<a href="#l37.9"></a><span id="l37.9">   min-width: 1px;</span>
<a href="#l37.10"></a><span id="l37.10"> }</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12" class="difflineplus">+#expandedHeaderRows &gt; row,</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+#expandedHeader2Rows &gt; row {</span>
<a href="#l37.14"></a><span id="l37.14" class="difflineplus">+  /* Ensure that the header names and values are aligned with each other. */</span>
<a href="#l37.15"></a><span id="l37.15" class="difflineplus">+  -moz-box-align: baseline;</span>
<a href="#l37.16"></a><span id="l37.16" class="difflineplus">+}</span>
<a href="#l37.17"></a><span id="l37.17" class="difflineplus">+</span>
<a href="#l37.18"></a><span id="l37.18" class="difflineplus">+#expandedHeadersTopBox {</span>
<a href="#l37.19"></a><span id="l37.19" class="difflineplus">+  /* Ensure that the space between the from row and the one after is</span>
<a href="#l37.20"></a><span id="l37.20" class="difflineplus">+     identical to the spacing between the subsequent header lines. */</span>
<a href="#l37.21"></a><span id="l37.21" class="difflineplus">+  -moz-box-align: end;</span>
<a href="#l37.22"></a><span id="l37.22" class="difflineplus">+}</span>
<a href="#l37.23"></a><span id="l37.23" class="difflineplus">+</span>
<a href="#l37.24"></a><span id="l37.24"> #otherActionsButton {</span>
<a href="#l37.25"></a><span id="l37.25">   margin-bottom: .1em;</span>
<a href="#l37.26"></a><span id="l37.26">   padding-top: 0px;</span>
<a href="#l37.27"></a><span id="l37.27"> }</span>
<a href="#l37.28"></a><span id="l37.28"> </span>
<a href="#l37.29"></a><span id="l37.29"> /* ::::: expanded header pane ::::: */</span>
<a href="#l37.30"></a><span id="l37.30"> </span>
<a href="#l37.31"></a><span id="l37.31"> header-view-button-box {</span>
<a href="#l37.32"></a><span id="l37.32">   padding: 0px;</span>
<a href="#l37.33"></a><span id="l37.33"> }</span>
<a href="#l37.34"></a><span id="l37.34"> </span>
<a href="#l37.35"></a><span id="l37.35" class="difflineminus">-#expandedfromBox {</span>
<a href="#l37.36"></a><span id="l37.36" class="difflineminus">-  padding-top: 0.5em;</span>
<a href="#l37.37"></a><span id="l37.37" class="difflineminus">-}</span>
<a href="#l37.38"></a><span id="l37.38" class="difflineminus">-</span>
<a href="#l37.39"></a><span id="l37.39"> #expandedsubjectBox &gt; .headerValue {</span>
<a href="#l37.40"></a><span id="l37.40">   font-weight: bold;</span>
<a href="#l37.41"></a><span id="l37.41"> }</span>
<a href="#l37.42"></a><span id="l37.42"> </span>
<a href="#l37.43"></a><span id="l37.43"> /* ::::: edit message bar ::::: */</span>
<a href="#l37.44"></a><span id="l37.44"> </span>
<a href="#l37.45"></a><span id="l37.45"> #editMessageBox</span>
<a href="#l37.46"></a><span id="l37.46"> {</span>
<a href="#l37.47"></a><span id="l37.47" class="difflineat">@@ -271,21 +279,16 @@ description[selectable=&quot;true&quot;]:focus &gt; d</span>
<a href="#l37.48"></a><span id="l37.48">   color: -moz-buttonhovertext;</span>
<a href="#l37.49"></a><span id="l37.49">   background-color: -moz-buttonhoverface;</span>
<a href="#l37.50"></a><span id="l37.50">   -moz-border-top-colors: transparent threedhighlight threedlightshadow;</span>
<a href="#l37.51"></a><span id="l37.51">   -moz-border-right-colors: transparent threeddarkshadow threedshadow;</span>
<a href="#l37.52"></a><span id="l37.52">   -moz-border-bottom-colors: transparent threeddarkshadow threedshadow;</span>
<a href="#l37.53"></a><span id="l37.53">   -moz-border-left-colors: transparent threedhighlight threedlightshadow;</span>
<a href="#l37.54"></a><span id="l37.54"> }</span>
<a href="#l37.55"></a><span id="l37.55"> </span>
<a href="#l37.56"></a><span id="l37.56" class="difflineminus">-.headerNameBox {</span>
<a href="#l37.57"></a><span id="l37.57" class="difflineminus">-  width: 7.7em;</span>
<a href="#l37.58"></a><span id="l37.58" class="difflineminus">-  background-color: transparent;</span>
<a href="#l37.59"></a><span id="l37.59" class="difflineminus">-}</span>
<a href="#l37.60"></a><span id="l37.60" class="difflineminus">-</span>
<a href="#l37.61"></a><span id="l37.61"> .headerName {</span>
<a href="#l37.62"></a><span id="l37.62">   color: #888a85; /* lower contrast */</span>
<a href="#l37.63"></a><span id="l37.63">   text-align: right;</span>
<a href="#l37.64"></a><span id="l37.64">   background-color: transparent;</span>
<a href="#l37.65"></a><span id="l37.65">   padding: 0px;</span>
<a href="#l37.66"></a><span id="l37.66">   margin-top: 0;</span>
<a href="#l37.67"></a><span id="l37.67">   -moz-margin-end: 0;</span>
<a href="#l37.68"></a><span id="l37.68"> }</span>
<a href="#l37.69"></a><span id="l37.69" class="difflineat">@@ -298,17 +301,16 @@ description[selectable=&quot;true&quot;]:focus &gt; d</span>
<a href="#l37.70"></a><span id="l37.70"> </span>
<a href="#l37.71"></a><span id="l37.71"> .headerValue {</span>
<a href="#l37.72"></a><span id="l37.72">   min-width: 50px;</span>
<a href="#l37.73"></a><span id="l37.73">   white-space: normal;</span>
<a href="#l37.74"></a><span id="l37.74">   color: WindowText;</span>
<a href="#l37.75"></a><span id="l37.75">   line-height: 1.4em;</span>
<a href="#l37.76"></a><span id="l37.76"> </span>
<a href="#l37.77"></a><span id="l37.77">   -moz-appearance: none !important;</span>
<a href="#l37.78"></a><span id="l37.78" class="difflineminus">-  -moz-appearance: none;</span>
<a href="#l37.79"></a><span id="l37.79"> </span>
<a href="#l37.80"></a><span id="l37.80">   padding: 0px !important;</span>
<a href="#l37.81"></a><span id="l37.81">   margin: 0px !important;</span>
<a href="#l37.82"></a><span id="l37.82">   -moz-margin-start: 3px !important;</span>
<a href="#l37.83"></a><span id="l37.83">   border: none !important;</span>
<a href="#l37.84"></a><span id="l37.84">   background-color: transparent;</span>
<a href="#l37.85"></a><span id="l37.85"> }</span>
<a href="#l37.86"></a><span id="l37.86"> </span>
<a href="#l37.87"></a><span id="l37.87" class="difflineat">@@ -487,9 +489,10 @@ mail-emailaddress[selected=&quot;true&quot;] .emai</span>
<a href="#l37.88"></a><span id="l37.88"> .expandHeaderViewButton {</span>
<a href="#l37.89"></a><span id="l37.89">   list-style-image: url(&quot;chrome://global/skin/tree/twisty-open.png&quot;);</span>
<a href="#l37.90"></a><span id="l37.90"> }</span>
<a href="#l37.91"></a><span id="l37.91"> </span>
<a href="#l37.92"></a><span id="l37.92"> mail-multi-emailHeaderField,</span>
<a href="#l37.93"></a><span id="l37.93"> mail-headerfield {</span>
<a href="#l37.94"></a><span id="l37.94">   margin: 0;</span>
<a href="#l37.95"></a><span id="l37.95">   padding: 0;</span>
<a href="#l37.96"></a><span id="l37.96" class="difflineplus">+  -moz-box-align: baseline;</span>
<a href="#l37.97"></a><span id="l37.97"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/msgSelectOffline.css</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/msgSelectOffline.css</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -15,179 +15,44 @@</span>
<a href="#l38.4"></a><span id="l38.4">  * March 31, 1998.</span>
<a href="#l38.5"></a><span id="l38.5">  *</span>
<a href="#l38.6"></a><span id="l38.6">  * The Initial Developer of the Original Code is</span>
<a href="#l38.7"></a><span id="l38.7">  * Netscape Communications Corporation.</span>
<a href="#l38.8"></a><span id="l38.8">  * Portions created by the Initial Developer are Copyright (C) 1998-2001</span>
<a href="#l38.9"></a><span id="l38.9">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l38.10"></a><span id="l38.10">  *</span>
<a href="#l38.11"></a><span id="l38.11">  * Contributor(s):</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">- *   Joe Hewitt (hewitt@netscape.com)</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineminus">- *   Hkan Waara (hwaara@chello.se)</span>
<a href="#l38.14"></a><span id="l38.14" class="difflineminus">- *   Jan Varga (varga@nixcorp.com)</span>
<a href="#l38.15"></a><span id="l38.15" class="difflineplus">+ *   Joe Hewitt &lt;hewitt@netscape.com&gt;</span>
<a href="#l38.16"></a><span id="l38.16" class="difflineplus">+ *   Hkan Waara &lt;hwaara@chello.se&gt;</span>
<a href="#l38.17"></a><span id="l38.17" class="difflineplus">+ *   Jan Varga &lt;varga@nixcorp.com&gt;</span>
<a href="#l38.18"></a><span id="l38.18" class="difflineplus">+ *   Magnus Melin &lt;mkmelin+mozilla@iki.fi&gt;</span>
<a href="#l38.19"></a><span id="l38.19">  *</span>
<a href="#l38.20"></a><span id="l38.20">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l38.21"></a><span id="l38.21">  * either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l38.22"></a><span id="l38.22">  * the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l38.23"></a><span id="l38.23">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l38.24"></a><span id="l38.24">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l38.25"></a><span id="l38.25">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l38.26"></a><span id="l38.26">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l38.27"></a><span id="l38.27">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l38.28"></a><span id="l38.28">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l38.29"></a><span id="l38.29">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l38.30"></a><span id="l38.30">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l38.31"></a><span id="l38.31">  *</span>
<a href="#l38.32"></a><span id="l38.32">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l38.33"></a><span id="l38.33"> </span>
<a href="#l38.34"></a><span id="l38.34"> /* ===== msgSelectOffline.css =================================================</span>
<a href="#l38.35"></a><span id="l38.35" class="difflineminus">-  == Styles for the Offline Use dialog.</span>
<a href="#l38.36"></a><span id="l38.36" class="difflineminus">-  ======================================================================= */</span>
<a href="#l38.37"></a><span id="l38.37" class="difflineplus">+   == The dialog where you select which folders to enable for offline use.</span>
<a href="#l38.38"></a><span id="l38.38" class="difflineplus">+   ========================================================================== */</span>
<a href="#l38.39"></a><span id="l38.39"> </span>
<a href="#l38.40"></a><span id="l38.40"> @import url(&quot;chrome://messenger/skin/&quot;);</span>
<a href="#l38.41"></a><span id="l38.41" class="difflineplus">+@import url(&quot;chrome://messenger/skin/folderPane.css&quot;);</span>
<a href="#l38.42"></a><span id="l38.42"> </span>
<a href="#l38.43"></a><span id="l38.43"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l38.44"></a><span id="l38.44"> </span>
<a href="#l38.45"></a><span id="l38.45" class="difflineminus">-/* ::::: Mail Folders ::::: */</span>
<a href="#l38.46"></a><span id="l38.46" class="difflineminus">-</span>
<a href="#l38.47"></a><span id="l38.47" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol) {</span>
<a href="#l38.48"></a><span id="l38.48" class="difflineminus">-  -moz-margin-end: 2px;</span>
<a href="#l38.49"></a><span id="l38.49" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder.png&quot;);</span>
<a href="#l38.50"></a><span id="l38.50" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l38.51"></a><span id="l38.51" class="difflineminus">-}</span>
<a href="#l38.52"></a><span id="l38.52" class="difflineminus">-</span>
<a href="#l38.53"></a><span id="l38.53" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, newMessages-true) {</span>
<a href="#l38.54"></a><span id="l38.54" class="difflineminus">-  -moz-image-region: rect(16px 16px 32px 0);</span>
<a href="#l38.55"></a><span id="l38.55" class="difflineminus">-}</span>
<a href="#l38.56"></a><span id="l38.56" class="difflineminus">-</span>
<a href="#l38.57"></a><span id="l38.57" class="difflineminus">-/* ..... Inbox ..... */</span>
<a href="#l38.58"></a><span id="l38.58" class="difflineminus">-</span>
<a href="#l38.59"></a><span id="l38.59" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Inbox) {</span>
<a href="#l38.60"></a><span id="l38.60" class="difflineminus">-  -moz-image-region: rect(0 48px 16px 32px);</span>
<a href="#l38.61"></a><span id="l38.61" class="difflineminus">-}</span>
<a href="#l38.62"></a><span id="l38.62" class="difflineminus">-</span>
<a href="#l38.63"></a><span id="l38.63" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Inbox, newMessages-true) {</span>
<a href="#l38.64"></a><span id="l38.64" class="difflineminus">-  -moz-image-region: rect(16px 48px 32px 32px);</span>
<a href="#l38.65"></a><span id="l38.65" class="difflineminus">-}</span>
<a href="#l38.66"></a><span id="l38.66" class="difflineminus">-</span>
<a href="#l38.67"></a><span id="l38.67" class="difflineminus">-/* ..... Sent ..... */</span>
<a href="#l38.68"></a><span id="l38.68" class="difflineminus">-</span>
<a href="#l38.69"></a><span id="l38.69" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Sent) {</span>
<a href="#l38.70"></a><span id="l38.70" class="difflineminus">-  -moz-image-region: rect(0 64px 16px 48px);</span>
<a href="#l38.71"></a><span id="l38.71" class="difflineminus">-}</span>
<a href="#l38.72"></a><span id="l38.72" class="difflineminus">-</span>
<a href="#l38.73"></a><span id="l38.73" class="difflineminus">-/* ..... Unsent ..... */</span>
<a href="#l38.74"></a><span id="l38.74" class="difflineminus">-</span>
<a href="#l38.75"></a><span id="l38.75" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Outbox) {</span>
<a href="#l38.76"></a><span id="l38.76" class="difflineminus">-  -moz-image-region: rect(0 80px 16px 64px);</span>
<a href="#l38.77"></a><span id="l38.77" class="difflineminus">-}</span>
<a href="#l38.78"></a><span id="l38.78" class="difflineminus">-</span>
<a href="#l38.79"></a><span id="l38.79" class="difflineminus">-/* ..... Drafts ..... */</span>
<a href="#l38.80"></a><span id="l38.80" class="difflineminus">-</span>
<a href="#l38.81"></a><span id="l38.81" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Drafts) {</span>
<a href="#l38.82"></a><span id="l38.82" class="difflineminus">-  -moz-image-region: rect(0 96px 16px 80px);</span>
<a href="#l38.83"></a><span id="l38.83" class="difflineminus">-}</span>
<a href="#l38.84"></a><span id="l38.84" class="difflineminus">-</span>
<a href="#l38.85"></a><span id="l38.85" class="difflineminus">-/* ..... Templates ..... */</span>
<a href="#l38.86"></a><span id="l38.86" class="difflineminus">-</span>
<a href="#l38.87"></a><span id="l38.87" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Templates) {</span>
<a href="#l38.88"></a><span id="l38.88" class="difflineminus">-  -moz-image-region: rect(0 112px 16px 96px);</span>
<a href="#l38.89"></a><span id="l38.89" class="difflineminus">-}</span>
<a href="#l38.90"></a><span id="l38.90" class="difflineminus">-</span>
<a href="#l38.91"></a><span id="l38.91" class="difflineminus">-/* ..... Junk ..... */</span>
<a href="#l38.92"></a><span id="l38.92" class="difflineminus">-</span>
<a href="#l38.93"></a><span id="l38.93" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Junk) {</span>
<a href="#l38.94"></a><span id="l38.94" class="difflineminus">-  -moz-image-region: rect(0 128px 16px 112px);</span>
<a href="#l38.95"></a><span id="l38.95" class="difflineminus">-}</span>
<a href="#l38.96"></a><span id="l38.96" class="difflineminus">-</span>
<a href="#l38.97"></a><span id="l38.97" class="difflineminus">-/* ..... Trash ..... */</span>
<a href="#l38.98"></a><span id="l38.98" class="difflineminus">-</span>
<a href="#l38.99"></a><span id="l38.99" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, specialFolder-Trash) {</span>
<a href="#l38.100"></a><span id="l38.100" class="difflineminus">-  -moz-image-region: rect(0 144px 16px 128px);</span>
<a href="#l38.101"></a><span id="l38.101" class="difflineminus">-}</span>
<a href="#l38.102"></a><span id="l38.102" class="difflineminus">-</span>
<a href="#l38.103"></a><span id="l38.103" class="difflineminus">-/* ..... Shared folders .....</span>
<a href="#l38.104"></a><span id="l38.104" class="difflineminus">-</span>
<a href="#l38.105"></a><span id="l38.105" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, imapShared-true) {</span>
<a href="#l38.106"></a><span id="l38.106" class="difflineminus">-  -moz-image-region: rect(0 192px 16px 176px);</span>
<a href="#l38.107"></a><span id="l38.107" class="difflineminus">-}</span>
<a href="#l38.108"></a><span id="l38.108" class="difflineminus">-</span>
<a href="#l38.109"></a><span id="l38.109" class="difflineminus">-*/</span>
<a href="#l38.110"></a><span id="l38.110" class="difflineminus">-</span>
<a href="#l38.111"></a><span id="l38.111" class="difflineminus">-/* ..... Mail server  ..... */</span>
<a href="#l38.112"></a><span id="l38.112" class="difflineminus">-</span>
<a href="#l38.113"></a><span id="l38.113" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, isServer-true) {</span>
<a href="#l38.114"></a><span id="l38.114" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/server.png&quot;);</span>
<a href="#l38.115"></a><span id="l38.115" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l38.116"></a><span id="l38.116" class="difflineminus">-}</span>
<a href="#l38.117"></a><span id="l38.117" class="difflineminus">-</span>
<a href="#l38.118"></a><span id="l38.118" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, biffState-NewMail, isServer-true) {</span>
<a href="#l38.119"></a><span id="l38.119" class="difflineminus">-  -moz-image-region: rect(16px 16px 32px 0);</span>
<a href="#l38.120"></a><span id="l38.120" class="difflineminus">-}</span>
<a href="#l38.121"></a><span id="l38.121" class="difflineminus">-</span>
<a href="#l38.122"></a><span id="l38.122" class="difflineminus">-treechildren::-moz-tree-cell-text(folderNameCol, newMessages-true),</span>
<a href="#l38.123"></a><span id="l38.123" class="difflineminus">-treechildren::-moz-tree-cell-text(folderNameCol, specialFolder-Inbox, newMessages-true) {</span>
<a href="#l38.124"></a><span id="l38.124" class="difflineminus">-  font-weight: bold;</span>
<a href="#l38.125"></a><span id="l38.125" class="difflineminus">-}</span>
<a href="#l38.126"></a><span id="l38.126" class="difflineminus">-</span>
<a href="#l38.127"></a><span id="l38.127" class="difflineminus">-/* ..... Secure mail server ..... */</span>
<a href="#l38.128"></a><span id="l38.128" class="difflineminus">-</span>
<a href="#l38.129"></a><span id="l38.129" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-pop3, isSecure-true),</span>
<a href="#l38.130"></a><span id="l38.130" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-imap, isSecure-true) {</span>
<a href="#l38.131"></a><span id="l38.131" class="difflineminus">-  -moz-image-region: rect(0 32px 16px 16px);</span>
<a href="#l38.132"></a><span id="l38.132" class="difflineminus">-}</span>
<a href="#l38.133"></a><span id="l38.133" class="difflineminus">-</span>
<a href="#l38.134"></a><span id="l38.134" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, biffState-NewMail, isServer-true, isSecure-true) {</span>
<a href="#l38.135"></a><span id="l38.135" class="difflineminus">-  -moz-image-region: rect(16px 32px 32px 16px);</span>
<a href="#l38.136"></a><span id="l38.136" class="difflineminus">-}</span>
<a href="#l38.137"></a><span id="l38.137" class="difflineminus">-</span>
<a href="#l38.138"></a><span id="l38.138" class="difflineminus">-/* ..... Local folders ..... */</span>
<a href="#l38.139"></a><span id="l38.139" class="difflineminus">-</span>
<a href="#l38.140"></a><span id="l38.140" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-none) {</span>
<a href="#l38.141"></a><span id="l38.141" class="difflineminus">-  -moz-image-region: rect(0 48px 16px 32px);</span>
<a href="#l38.142"></a><span id="l38.142" class="difflineminus">-}</span>
<a href="#l38.143"></a><span id="l38.143" class="difflineminus">-</span>
<a href="#l38.144"></a><span id="l38.144" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-none, biffState-NewMail) {</span>
<a href="#l38.145"></a><span id="l38.145" class="difflineminus">-  -moz-image-region: rect(16px 48px 32px 32px);</span>
<a href="#l38.146"></a><span id="l38.146" class="difflineminus">-}</span>
<a href="#l38.147"></a><span id="l38.147" class="difflineminus">-</span>
<a href="#l38.148"></a><span id="l38.148" class="difflineminus">-/* ..... News server ..... */</span>
<a href="#l38.149"></a><span id="l38.149" class="difflineminus">-</span>
<a href="#l38.150"></a><span id="l38.150" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-nntp) {</span>
<a href="#l38.151"></a><span id="l38.151" class="difflineminus">-  -moz-image-region: rect(0 64px 16px 48px) !important;</span>
<a href="#l38.152"></a><span id="l38.152" class="difflineminus">-}</span>
<a href="#l38.153"></a><span id="l38.153" class="difflineminus">-</span>
<a href="#l38.154"></a><span id="l38.154" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, isServer-true, serverType-nntp, isSecure-true) {</span>
<a href="#l38.155"></a><span id="l38.155" class="difflineminus">-  -moz-image-region: rect(0 80px 16px 64px) !important;</span>
<a href="#l38.156"></a><span id="l38.156" class="difflineminus">-}</span>
<a href="#l38.157"></a><span id="l38.157" class="difflineminus">-</span>
<a href="#l38.158"></a><span id="l38.158" class="difflineminus">-/* ..... Newsgroup ..... */</span>
<a href="#l38.159"></a><span id="l38.159" class="difflineminus">-</span>
<a href="#l38.160"></a><span id="l38.160" class="difflineminus">-treechildren::-moz-tree-image(folderNameCol, serverType-nntp) {</span>
<a href="#l38.161"></a><span id="l38.161" class="difflineminus">-  -moz-image-region: rect(0 160px 16px 144px);</span>
<a href="#l38.162"></a><span id="l38.162" class="difflineminus">-}</span>
<a href="#l38.163"></a><span id="l38.163" class="difflineminus">-</span>
<a href="#l38.164"></a><span id="l38.164" class="difflineminus">-/* ::::: All Servers ::::: */</span>
<a href="#l38.165"></a><span id="l38.165" class="difflineminus">-</span>
<a href="#l38.166"></a><span id="l38.166" class="difflineminus">-treechildren::-moz-tree-cell-text(closed, subfoldersHaveUnreadMessages-true) {</span>
<a href="#l38.167"></a><span id="l38.167" class="difflineminus">-  font-weight: bold;</span>
<a href="#l38.168"></a><span id="l38.168" class="difflineminus">-}</span>
<a href="#l38.169"></a><span id="l38.169" class="difflineminus">-</span>
<a href="#l38.170"></a><span id="l38.170" class="difflineminus">-treechildren::-moz-tree-cell-text(folderNameCol, isServer-true),</span>
<a href="#l38.171"></a><span id="l38.171" class="difflineminus">-treechildren::-moz-tree-cell-text(hasUnreadMessages-true) {</span>
<a href="#l38.172"></a><span id="l38.172" class="difflineminus">-  font-weight: bold;</span>
<a href="#l38.173"></a><span id="l38.173" class="difflineminus">-}</span>
<a href="#l38.174"></a><span id="l38.174" class="difflineminus">-</span>
<a href="#l38.175"></a><span id="l38.175" class="difflineminus">-treechildren::-moz-tree-cell-text(folderNameCol, noSelect-true) {</span>
<a href="#l38.176"></a><span id="l38.176" class="difflineminus">-  color: gray;</span>
<a href="#l38.177"></a><span id="l38.177" class="difflineminus">-  font-style: italic;</span>
<a href="#l38.178"></a><span id="l38.178" class="difflineminus">-}</span>
<a href="#l38.179"></a><span id="l38.179" class="difflineminus">-</span>
<a href="#l38.180"></a><span id="l38.180" class="difflineminus">-/* ::::: Download Icons ::::: */</span>
<a href="#l38.181"></a><span id="l38.181" class="difflineminus">-</span>
<a href="#l38.182"></a><span id="l38.182"> treechildren::-moz-tree-image(syncCol) {</span>
<a href="#l38.183"></a><span id="l38.183">   list-style-image: url(&quot;chrome://messenger/skin/icons/notchecked.gif&quot;);</span>
<a href="#l38.184"></a><span id="l38.184"> }</span>
<a href="#l38.185"></a><span id="l38.185"> </span>
<a href="#l38.186"></a><span id="l38.186"> treechildren::-moz-tree-image(syncCol, synchronize-true) {</span>
<a href="#l38.187"></a><span id="l38.187">   list-style-image: url(&quot;chrome://messenger/skin/icons/check.gif&quot;);</span>
<a href="#l38.188"></a><span id="l38.188"> }</span>
<a href="#l38.189"></a><span id="l38.189"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/newsblog/feed-subscriptions.css</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/newsblog/feed-subscriptions.css</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -31,44 +31,48 @@</span>
<a href="#l39.4"></a><span id="l39.4">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l39.5"></a><span id="l39.5">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l39.6"></a><span id="l39.6">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l39.7"></a><span id="l39.7">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l39.8"></a><span id="l39.8">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l39.9"></a><span id="l39.9">  *</span>
<a href="#l39.10"></a><span id="l39.10">  * ***** END LICENSE BLOCK ****** */</span>
<a href="#l39.11"></a><span id="l39.11"> </span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-/* ::::: Feed Subscription UI icons :::::: */</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+/* ::::: Feed Subscription styling :::::: */</span>
<a href="#l39.14"></a><span id="l39.14"> </span>
<a href="#l39.15"></a><span id="l39.15" class="difflineminus">-#subscriptionsDialog { </span>
<a href="#l39.16"></a><span id="l39.16" class="difflineplus">+#subscriptionsDialog {</span>
<a href="#l39.17"></a><span id="l39.17">   padding: 0px;</span>
<a href="#l39.18"></a><span id="l39.18"> }</span>
<a href="#l39.19"></a><span id="l39.19"> </span>
<a href="#l39.20"></a><span id="l39.20"> #contentPane {</span>
<a href="#l39.21"></a><span id="l39.21">   margin: 9px 8px 5px;</span>
<a href="#l39.22"></a><span id="l39.22"> }</span>
<a href="#l39.23"></a><span id="l39.23"> </span>
<a href="#l39.24"></a><span id="l39.24"> #subscriptionChildren::-moz-tree-image(folderNameCol) {</span>
<a href="#l39.25"></a><span id="l39.25" class="difflineminus">-  -moz-margin-end: 2px;</span>
<a href="#l39.26"></a><span id="l39.26" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger-newsblog/skin/icons/rss-feed.png&quot;);</span>
<a href="#l39.27"></a><span id="l39.27" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l39.28"></a><span id="l39.28" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l39.29"></a><span id="l39.29" class="difflineplus">+  -moz-image-region: rect(128px 16px 144px 0px);</span>
<a href="#l39.30"></a><span id="l39.30"> }</span>
<a href="#l39.31"></a><span id="l39.31"> </span>
<a href="#l39.32"></a><span id="l39.32"> #subscriptionChildren::-moz-tree-image(folderNameCol, container) {</span>
<a href="#l39.33"></a><span id="l39.33" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder.png&quot;);</span>
<a href="#l39.34"></a><span id="l39.34" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l39.35"></a><span id="l39.35" class="difflineminus">-}</span>
<a href="#l39.36"></a><span id="l39.36" class="difflineplus">+  background-position: center center;</span>
<a href="#l39.37"></a><span id="l39.37" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l39.38"></a><span id="l39.38" class="difflineplus">+  background-color: transparent;</span>
<a href="#l39.39"></a><span id="l39.39" class="difflineplus">+  background-attachment: scroll;</span>
<a href="#l39.40"></a><span id="l39.40" class="difflineplus">+  -moz-background-clip: border;</span>
<a href="#l39.41"></a><span id="l39.41" class="difflineplus">+  -moz-background-inline-policy: continuous;</span>
<a href="#l39.42"></a><span id="l39.42" class="difflineplus">+  -moz-background-origin: border;</span>
<a href="#l39.43"></a><span id="l39.43" class="difflineplus">+  background-image: url(&quot;moz-icon://stock/gtk-directory?size=menu&quot;);</span>
<a href="#l39.44"></a><span id="l39.44" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l39.45"></a><span id="l39.45"> </span>
<a href="#l39.46"></a><span id="l39.46" class="difflineminus">-#subscriptionChildren::-moz-tree-image(folderNameCol, container, open) {</span>
<a href="#l39.47"></a><span id="l39.47" class="difflineminus">-  -moz-image-region: rect(0 32px 16px 16px);</span>
<a href="#l39.48"></a><span id="l39.48" class="difflineplus">+  -moz-margin-end: 2px;</span>
<a href="#l39.49"></a><span id="l39.49"> }</span>
<a href="#l39.50"></a><span id="l39.50"> </span>
<a href="#l39.51"></a><span id="l39.51"> #rssFeedInfoBox {</span>
<a href="#l39.52"></a><span id="l39.52">   border: 1px solid ThreeDShadow;</span>
<a href="#l39.53"></a><span id="l39.53">   -moz-border-radius: 0px;</span>
<a href="#l39.54"></a><span id="l39.54">   margin: 4px;</span>
<a href="#l39.55"></a><span id="l39.55">   padding: 0px;</span>
<a href="#l39.56"></a><span id="l39.56"> }</span>
<a href="#l39.57"></a><span id="l39.57"> </span>
<a href="#l39.58"></a><span id="l39.58"> #backgroundBox {</span>
<a href="#l39.59"></a><span id="l39.59" class="difflineminus">-  background-color: #FFFFFF; </span>
<a href="#l39.60"></a><span id="l39.60" class="difflineplus">+  background-color: #FFFFFF;</span>
<a href="#l39.61"></a><span id="l39.61">   opacity: 0.5;</span>
<a href="#l39.62"></a><span id="l39.62"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mail/themes/gnomestripe/mail/subscribe.css</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mail/themes/gnomestripe/mail/subscribe.css</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -1,13 +1,14 @@</span>
<a href="#l40.4"></a><span id="l40.4"> /* ===== subscribe.css ==================================================</span>
<a href="#l40.5"></a><span id="l40.5">   == Styles for the Subscribe dialog.</span>
<a href="#l40.6"></a><span id="l40.6">   ======================================================================= */</span>
<a href="#l40.7"></a><span id="l40.7"> </span>
<a href="#l40.8"></a><span id="l40.8"> @import url(&quot;chrome://messenger/skin/&quot;);</span>
<a href="#l40.9"></a><span id="l40.9" class="difflineplus">+@import url(&quot;chrome://messenger/skin/folderMenus.css&quot;);</span>
<a href="#l40.10"></a><span id="l40.10"> </span>
<a href="#l40.11"></a><span id="l40.11"> @namespace url(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;);</span>
<a href="#l40.12"></a><span id="l40.12"> </span>
<a href="#l40.13"></a><span id="l40.13"> /* ::::: Subscription Icons  :::::: */</span>
<a href="#l40.14"></a><span id="l40.14"> </span>
<a href="#l40.15"></a><span id="l40.15"> treechildren::-moz-tree-image(subscribedColumn),</span>
<a href="#l40.16"></a><span id="l40.16"> treechildren::-moz-tree-image(subscribedColumn2) {</span>
<a href="#l40.17"></a><span id="l40.17">   -moz-margin-end: 2px;</span>
<a href="#l40.18"></a><span id="l40.18" class="difflineat">@@ -23,40 +24,33 @@ treechildren::-moz-tree-image(subscribed</span>
<a href="#l40.19"></a><span id="l40.19">   list-style-image: none;</span>
<a href="#l40.20"></a><span id="l40.20"> }</span>
<a href="#l40.21"></a><span id="l40.21"> </span>
<a href="#l40.22"></a><span id="l40.22"> treechildren::-moz-tree-cell-text(nameColumn, Subscribable-false) {</span>
<a href="#l40.23"></a><span id="l40.23">   color: gray;</span>
<a href="#l40.24"></a><span id="l40.24">   font-style: italic;</span>
<a href="#l40.25"></a><span id="l40.25"> }</span>
<a href="#l40.26"></a><span id="l40.26"> </span>
<a href="#l40.27"></a><span id="l40.27" class="difflineminus">-/* ::::: Folders :::::: */</span>
<a href="#l40.28"></a><span id="l40.28" class="difflineplus">+/* IMAP Folders*/</span>
<a href="#l40.29"></a><span id="l40.29" class="difflineplus">+treechildren::-moz-tree-image(nameColumn) {</span>
<a href="#l40.30"></a><span id="l40.30" class="difflineplus">+  background-position: center center;</span>
<a href="#l40.31"></a><span id="l40.31" class="difflineplus">+  background-repeat: no-repeat;</span>
<a href="#l40.32"></a><span id="l40.32" class="difflineplus">+  background-color: transparent;</span>
<a href="#l40.33"></a><span id="l40.33" class="difflineplus">+  background-attachment: scroll;</span>
<a href="#l40.34"></a><span id="l40.34" class="difflineplus">+  -moz-background-clip: border;</span>
<a href="#l40.35"></a><span id="l40.35" class="difflineplus">+  -moz-background-inline-policy: continuous;</span>
<a href="#l40.36"></a><span id="l40.36" class="difflineplus">+  -moz-background-origin: border;</span>
<a href="#l40.37"></a><span id="l40.37" class="difflineplus">+  background-image: url(&quot;moz-icon://stock/gtk-directory?size=menu&quot;);</span>
<a href="#l40.38"></a><span id="l40.38" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l40.39"></a><span id="l40.39"> </span>
<a href="#l40.40"></a><span id="l40.40" class="difflineminus">-treechildren::-moz-tree-image(nameColumn) {</span>
<a href="#l40.41"></a><span id="l40.41">   -moz-margin-end: 2px;</span>
<a href="#l40.42"></a><span id="l40.42" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/folder.png&quot;);</span>
<a href="#l40.43"></a><span id="l40.43" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l40.44"></a><span id="l40.44" class="difflineminus">-}</span>
<a href="#l40.45"></a><span id="l40.45" class="difflineminus">-</span>
<a href="#l40.46"></a><span id="l40.46" class="difflineminus">-treechildren::-moz-tree-image(nameColumn, ServerType-nntp),</span>
<a href="#l40.47"></a><span id="l40.47" class="difflineminus">-treechildren::-moz-tree-image(nameColumn2, nntp) {</span>
<a href="#l40.48"></a><span id="l40.48" class="difflineminus">-  -moz-margin-end: 2px;</span>
<a href="#l40.49"></a><span id="l40.49" class="difflineminus">-  -moz-image-region: rect(0 160px 16px 144px);</span>
<a href="#l40.50"></a><span id="l40.50"> }</span>
<a href="#l40.51"></a><span id="l40.51"> </span>
<a href="#l40.52"></a><span id="l40.52" class="difflineminus">-/* ::::: Servers :::::: */</span>
<a href="#l40.53"></a><span id="l40.53" class="difflineplus">+/* Newsgroups */</span>
<a href="#l40.54"></a><span id="l40.54" class="difflineplus">+treechildren::-moz-tree-image(nameColumn, ServerType-nntp),</span>
<a href="#l40.55"></a><span id="l40.55" class="difflineplus">+treechildren::-moz-tree-image(nameColumn2, nntp) {</span>
<a href="#l40.56"></a><span id="l40.56" class="difflineplus">+  background-image: url(&quot;chrome://messenger/skin/icons/folder-pane.png&quot;);</span>
<a href="#l40.57"></a><span id="l40.57" class="difflineplus">+  background-position: left -208px;</span>
<a href="#l40.58"></a><span id="l40.58" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/folder-blank.png&quot;);</span>
<a href="#l40.59"></a><span id="l40.59"> </span>
<a href="#l40.60"></a><span id="l40.60" class="difflineminus">-.subscribeMenuItem {</span>
<a href="#l40.61"></a><span id="l40.61" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/server.png&quot;);</span>
<a href="#l40.62"></a><span id="l40.62" class="difflineminus">-  -moz-image-region: rect(0 16px 16px 0);</span>
<a href="#l40.63"></a><span id="l40.63" class="difflineplus">+  -moz-margin-end: 2px;</span>
<a href="#l40.64"></a><span id="l40.64"> }</span>
<a href="#l40.65"></a><span id="l40.65"> </span>
<a href="#l40.66"></a><span id="l40.66" class="difflineminus">-.subscribeMenuItem[ServerType=&quot;imap&quot;][IsSecure=&quot;true&quot;] {</span>
<a href="#l40.67"></a><span id="l40.67" class="difflineminus">-  -moz-image-region: rect(0 32px 16px 16px);</span>
<a href="#l40.68"></a><span id="l40.68" class="difflineminus">-}</span>
<a href="#l40.69"></a><span id="l40.69" class="difflineminus">-</span>
<a href="#l40.70"></a><span id="l40.70" class="difflineminus">-.subscribeMenuItem[ServerType=&quot;nntp&quot;] {</span>
<a href="#l40.71"></a><span id="l40.71" class="difflineminus">-  -moz-image-region: rect(0 64px 16px 48px);</span>
<a href="#l40.72"></a><span id="l40.72" class="difflineminus">-}</span>
<a href="#l40.73"></a><span id="l40.73" class="difflineminus">-</span>
<a href="#l40.74"></a><span id="l40.74" class="difflineminus">-.subscribeMenuItem[ServerType=&quot;nntp&quot;][IsSecure=&quot;true&quot;] {</span>
<a href="#l40.75"></a><span id="l40.75" class="difflineminus">-  -moz-image-region: rect(0 80px 16px 64px);</span>
<a href="#l40.76"></a><span id="l40.76" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/mail/themes/pinstripe/mail/accountCreation.css</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/mail/themes/pinstripe/mail/accountCreation.css</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -1,13 +1,22 @@</span>
<a href="#l41.4"></a><span id="l41.4"> /* Missing:</span>
<a href="#l41.5"></a><span id="l41.5">  * .larger-button</span>
<a href="#l41.6"></a><span id="l41.6">  * .smaller-button</span>
<a href="#l41.7"></a><span id="l41.7">  */</span>
<a href="#l41.8"></a><span id="l41.8"> </span>
<a href="#l41.9"></a><span id="l41.9" class="difflineplus">+#back_button {</span>
<a href="#l41.10"></a><span id="l41.10" class="difflineplus">+  border: none;</span>
<a href="#l41.11"></a><span id="l41.11" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineplus">+  color: -moz-nativehyperlinktext;</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineplus">+  text-decoration: underline;</span>
<a href="#l41.14"></a><span id="l41.14" class="difflineplus">+  background-color: inherit;</span>
<a href="#l41.15"></a><span id="l41.15" class="difflineplus">+  cursor: pointer;</span>
<a href="#l41.16"></a><span id="l41.16" class="difflineplus">+}</span>
<a href="#l41.17"></a><span id="l41.17" class="difflineplus">+</span>
<a href="#l41.18"></a><span id="l41.18"> .clickable_label:hover {</span>
<a href="#l41.19"></a><span id="l41.19">   text-decoration: underline;</span>
<a href="#l41.20"></a><span id="l41.20">   cursor: pointer;</span>
<a href="#l41.21"></a><span id="l41.21"> }</span>
<a href="#l41.22"></a><span id="l41.22"> </span>
<a href="#l41.23"></a><span id="l41.23"> .clickable_label {</span>
<a href="#l41.24"></a><span id="l41.24">   color: blue;</span>
<a href="#l41.25"></a><span id="l41.25">   width: 120px;</span>
<a href="#l41.26"></a><span id="l41.26" class="difflineat">@@ -30,19 +39,23 @@</span>
<a href="#l41.27"></a><span id="l41.27">   width: 60px;</span>
<a href="#l41.28"></a><span id="l41.28">   padding-top: 6px;</span>
<a href="#l41.29"></a><span id="l41.29">   -moz-padding-start: 2px;</span>
<a href="#l41.30"></a><span id="l41.30">   padding-bottom: 5px;</span>
<a href="#l41.31"></a><span id="l41.31">   overflow: auto;</span>
<a href="#l41.32"></a><span id="l41.32"> }</span>
<a href="#l41.33"></a><span id="l41.33"> </span>
<a href="#l41.34"></a><span id="l41.34"> .errordescription {</span>
<a href="#l41.35"></a><span id="l41.35" class="difflineminus">-  -moz-padding-start: 4px;</span>
<a href="#l41.36"></a><span id="l41.36" class="difflineminus">-  padding-top: 4px;</span>
<a href="#l41.37"></a><span id="l41.37" class="difflineminus">-  color: rgb(244,50,50);</span>
<a href="#l41.38"></a><span id="l41.38" class="difflineplus">+  -moz-padding-start: 3px;</span>
<a href="#l41.39"></a><span id="l41.39" class="difflineplus">+  margin-top: 3px;</span>
<a href="#l41.40"></a><span id="l41.40" class="difflineplus">+}</span>
<a href="#l41.41"></a><span id="l41.41" class="difflineplus">+</span>
<a href="#l41.42"></a><span id="l41.42" class="difflineplus">+.initialDesc {</span>
<a href="#l41.43"></a><span id="l41.43" class="difflineplus">+  margin-top: 2px;</span>
<a href="#l41.44"></a><span id="l41.44" class="difflineplus">+  color: GrayText;</span>
<a href="#l41.45"></a><span id="l41.45"> }</span>
<a href="#l41.46"></a><span id="l41.46"> </span>
<a href="#l41.47"></a><span id="l41.47"> .edited_label {</span>
<a href="#l41.48"></a><span id="l41.48">   width: 123px;</span>
<a href="#l41.49"></a><span id="l41.49">   overflow: auto;</span>
<a href="#l41.50"></a><span id="l41.50"> }</span>
<a href="#l41.51"></a><span id="l41.51"> </span>
<a href="#l41.52"></a><span id="l41.52"> .short_edited_label {</span>
<a href="#l41.53"></a><span id="l41.53" class="difflineat">@@ -87,20 +100,16 @@ description.explanation {</span>
<a href="#l41.54"></a><span id="l41.54">   padding-bottom: 1em;</span>
<a href="#l41.55"></a><span id="l41.55"> }</span>
<a href="#l41.56"></a><span id="l41.56"> </span>
<a href="#l41.57"></a><span id="l41.57"> /* Missing:</span>
<a href="#l41.58"></a><span id="l41.58">  * #config_status_title</span>
<a href="#l41.59"></a><span id="l41.59">  * #config_status_subtitle</span>
<a href="#l41.60"></a><span id="l41.60">  */</span>
<a href="#l41.61"></a><span id="l41.61"> </span>
<a href="#l41.62"></a><span id="l41.62" class="difflineminus">-vbox.statusimage {</span>
<a href="#l41.63"></a><span id="l41.63" class="difflineminus">-  padding-top: 6px;</span>
<a href="#l41.64"></a><span id="l41.64" class="difflineminus">-}</span>
<a href="#l41.65"></a><span id="l41.65" class="difflineminus">-</span>
<a href="#l41.66"></a><span id="l41.66"> label.bignumber {</span>
<a href="#l41.67"></a><span id="l41.67">   font-size: larger;</span>
<a href="#l41.68"></a><span id="l41.68">   font-weight: bolder;</span>
<a href="#l41.69"></a><span id="l41.69">   color: white;</span>
<a href="#l41.70"></a><span id="l41.70">   background-color: rgb(140,140,140);</span>
<a href="#l41.71"></a><span id="l41.71">   -moz-border-radius: 8px;</span>
<a href="#l41.72"></a><span id="l41.72">   padding: 8px;</span>
<a href="#l41.73"></a><span id="l41.73"> }</span>
<a href="#l41.74"></a><span id="l41.74" class="difflineat">@@ -151,28 +160,29 @@ vbox.icon {</span>
<a href="#l41.75"></a><span id="l41.75">   height: 22px;</span>
<a href="#l41.76"></a><span id="l41.76">   background-repeat: no-repeat;</span>
<a href="#l41.77"></a><span id="l41.77"> }</span>
<a href="#l41.78"></a><span id="l41.78"> </span>
<a href="#l41.79"></a><span id="l41.79"> image.insecureLarry {</span>
<a href="#l41.80"></a><span id="l41.80">   height: 64px;</span>
<a href="#l41.81"></a><span id="l41.81">   width: 64px;</span>
<a href="#l41.82"></a><span id="l41.82">   padding: 0;</span>
<a href="#l41.83"></a><span id="l41.83" class="difflineminus">-  list-style-image: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;);</span>
<a href="#l41.84"></a><span id="l41.84" class="difflineplus">+  background: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;) no-repeat;</span>
<a href="#l41.85"></a><span id="l41.85"> }</span>
<a href="#l41.86"></a><span id="l41.86"> </span>
<a href="#l41.87"></a><span id="l41.87"> image.secureLarry {</span>
<a href="#l41.88"></a><span id="l41.88">   height: 64px;</span>
<a href="#l41.89"></a><span id="l41.89">   width: 64px;</span>
<a href="#l41.90"></a><span id="l41.90">   padding: 0;</span>
<a href="#l41.91"></a><span id="l41.91" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/identity.png&quot;);</span>
<a href="#l41.92"></a><span id="l41.92" class="difflineplus">+  background: url(&quot;chrome://messenger/skin/icons/identity.png&quot;) no-repeat;</span>
<a href="#l41.93"></a><span id="l41.93"> }</span>
<a href="#l41.94"></a><span id="l41.94"> </span>
<a href="#l41.95"></a><span id="l41.95"> vbox.mastervbox {</span>
<a href="#l41.96"></a><span id="l41.96">   padding: 14px;</span>
<a href="#l41.97"></a><span id="l41.97" class="difflineplus">+  background: #F4F4F4;</span>
<a href="#l41.98"></a><span id="l41.98"> }</span>
<a href="#l41.99"></a><span id="l41.99"> </span>
<a href="#l41.100"></a><span id="l41.100"> vbox.icon[state='strong'] {</span>
<a href="#l41.101"></a><span id="l41.101">   background-image: url(&quot;chrome://messenger/skin/icons/secure.png&quot;);</span>
<a href="#l41.102"></a><span id="l41.102"> }</span>
<a href="#l41.103"></a><span id="l41.103"> </span>
<a href="#l41.104"></a><span id="l41.104"> vbox.icon[state='failed'] {</span>
<a href="#l41.105"></a><span id="l41.105">   background-image: url(&quot;chrome://messenger/skin/icons/failed.png&quot;);</span>
<a href="#l41.106"></a><span id="l41.106" class="difflineat">@@ -181,17 +191,19 @@ vbox.icon[state='failed'] {</span>
<a href="#l41.107"></a><span id="l41.107"> vbox.icon[state='probing'] {</span>
<a href="#l41.108"></a><span id="l41.108">   background-image: url(&quot;chrome://messenger/skin/icons/probing.png&quot;);</span>
<a href="#l41.109"></a><span id="l41.109"> }</span>
<a href="#l41.110"></a><span id="l41.110"> </span>
<a href="#l41.111"></a><span id="l41.111"> vbox.icon[state='weak'] {</span>
<a href="#l41.112"></a><span id="l41.112">   background-image: url(&quot;chrome://messenger/skin/icons/insecure.png&quot;);</span>
<a href="#l41.113"></a><span id="l41.113"> }</span>
<a href="#l41.114"></a><span id="l41.114"> </span>
<a href="#l41.115"></a><span id="l41.115" class="difflineminus">-.warningbox {</span>
<a href="#l41.116"></a><span id="l41.116" class="difflineplus">+#warningbox {</span>
<a href="#l41.117"></a><span id="l41.117" class="difflineplus">+  width: 650px;</span>
<a href="#l41.118"></a><span id="l41.118" class="difflineplus">+  height: 400px;</span>
<a href="#l41.119"></a><span id="l41.119">   background: #333333 none repeat scroll 0% 0%;</span>
<a href="#l41.120"></a><span id="l41.120">   padding: 1em;</span>
<a href="#l41.121"></a><span id="l41.121">   overflow: auto;</span>
<a href="#l41.122"></a><span id="l41.122"> }</span>
<a href="#l41.123"></a><span id="l41.123"> </span>
<a href="#l41.124"></a><span id="l41.124"> .warning {</span>
<a href="#l41.125"></a><span id="l41.125">   padding: 2em;</span>
<a href="#l41.126"></a><span id="l41.126">   -moz-border-radius: 10px;</span>
<a href="#l41.127"></a><span id="l41.127" class="difflineat">@@ -266,22 +278,32 @@ vbox.settings {</span>
<a href="#l41.128"></a><span id="l41.128"> /* Missing:</span>
<a href="#l41.129"></a><span id="l41.129">  * label.textbox-label</span>
<a href="#l41.130"></a><span id="l41.130">  */</span>
<a href="#l41.131"></a><span id="l41.131"> </span>
<a href="#l41.132"></a><span id="l41.132"> .protocol {</span>
<a href="#l41.133"></a><span id="l41.133">   width: 8em;</span>
<a href="#l41.134"></a><span id="l41.134"> }</span>
<a href="#l41.135"></a><span id="l41.135"> </span>
<a href="#l41.136"></a><span id="l41.136" class="difflineminus">-textbox.security {</span>
<a href="#l41.137"></a><span id="l41.137" class="difflineminus">-  width: 8em;</span>
<a href="#l41.138"></a><span id="l41.138" class="difflineplus">+.protocol &gt; label {</span>
<a href="#l41.139"></a><span id="l41.139" class="difflineplus">+  -moz-padding-start: 6px;</span>
<a href="#l41.140"></a><span id="l41.140" class="difflineplus">+}</span>
<a href="#l41.141"></a><span id="l41.141" class="difflineplus">+</span>
<a href="#l41.142"></a><span id="l41.142" class="difflineplus">+.security {</span>
<a href="#l41.143"></a><span id="l41.143" class="difflineplus">+  width: 10em;</span>
<a href="#l41.144"></a><span id="l41.144"> }</span>
<a href="#l41.145"></a><span id="l41.145"> </span>
<a href="#l41.146"></a><span id="l41.146"> textbox.port {</span>
<a href="#l41.147"></a><span id="l41.147" class="difflineminus">-  width: 5em;</span>
<a href="#l41.148"></a><span id="l41.148" class="difflineplus">+  width: 4em;</span>
<a href="#l41.149"></a><span id="l41.149" class="difflineplus">+}</span>
<a href="#l41.150"></a><span id="l41.150" class="difflineplus">+</span>
<a href="#l41.151"></a><span id="l41.151" class="difflineplus">+textbox.username {</span>
<a href="#l41.152"></a><span id="l41.152" class="difflineplus">+  width: 14em;</span>
<a href="#l41.153"></a><span id="l41.153" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l41.154"></a><span id="l41.154" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l41.155"></a><span id="l41.155"> }</span>
<a href="#l41.156"></a><span id="l41.156"> </span>
<a href="#l41.157"></a><span id="l41.157"> textbox.host {</span>
<a href="#l41.158"></a><span id="l41.158">   width: 14em;</span>
<a href="#l41.159"></a><span id="l41.159">   margin-bottom: 4px !important;</span>
<a href="#l41.160"></a><span id="l41.160">   margin-top: 4px !important;</span>
<a href="#l41.161"></a><span id="l41.161"> }</span>
<a href="#l41.162"></a><span id="l41.162"> </span>
<a href="#l41.163"></a><span id="l41.163" class="difflineat">@@ -370,8 +392,22 @@ menulist[editable=&quot;true&quot;].clickable &gt; .m</span>
<a href="#l41.164"></a><span id="l41.164">   margin: 0px;</span>
<a href="#l41.165"></a><span id="l41.165">   padding-left: 20px;</span>
<a href="#l41.166"></a><span id="l41.166">   background: url(&quot;chrome://messenger/skin/section_collapsed.png&quot;) left 0 no-repeat;</span>
<a href="#l41.167"></a><span id="l41.167"> }</span>
<a href="#l41.168"></a><span id="l41.168"> </span>
<a href="#l41.169"></a><span id="l41.169"> .technical_details[expanded] {</span>
<a href="#l41.170"></a><span id="l41.170">   background-image: url(&quot;chrome://messenger/skin/section_expanded.png&quot;);</span>
<a href="#l41.171"></a><span id="l41.171"> }</span>
<a href="#l41.172"></a><span id="l41.172" class="difflineplus">+</span>
<a href="#l41.173"></a><span id="l41.173" class="difflineplus">+label.autoconfigLabel {</span>
<a href="#l41.174"></a><span id="l41.174" class="difflineplus">+  width: 80px;</span>
<a href="#l41.175"></a><span id="l41.175" class="difflineplus">+  text-align: right;</span>
<a href="#l41.176"></a><span id="l41.176" class="difflineplus">+}</span>
<a href="#l41.177"></a><span id="l41.177" class="difflineplus">+</span>
<a href="#l41.178"></a><span id="l41.178" class="difflineplus">+label.textbox-label {</span>
<a href="#l41.179"></a><span id="l41.179" class="difflineplus">+  width: 58px;</span>
<a href="#l41.180"></a><span id="l41.180" class="difflineplus">+  text-align: right;</span>
<a href="#l41.181"></a><span id="l41.181" class="difflineplus">+}</span>
<a href="#l41.182"></a><span id="l41.182" class="difflineplus">+</span>
<a href="#l41.183"></a><span id="l41.183" class="difflineplus">+vbox.initialSettings textbox {</span>
<a href="#l41.184"></a><span id="l41.184" class="difflineplus">+  width: 280px;</span>
<a href="#l41.185"></a><span id="l41.185" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/mail/themes/pinstripe/mail/messageHeader.css</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/mail/themes/pinstripe/mail/messageHeader.css</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -57,16 +57,28 @@</span>
<a href="#l42.4"></a><span id="l42.4"> }</span>
<a href="#l42.5"></a><span id="l42.5"> </span>
<a href="#l42.6"></a><span id="l42.6"> /* ::::: msg header buttons ::::: */</span>
<a href="#l42.7"></a><span id="l42.7"> .headerContainer</span>
<a href="#l42.8"></a><span id="l42.8"> {</span>
<a href="#l42.9"></a><span id="l42.9">   min-width: 1px;</span>
<a href="#l42.10"></a><span id="l42.10"> }</span>
<a href="#l42.11"></a><span id="l42.11"> </span>
<a href="#l42.12"></a><span id="l42.12" class="difflineplus">+#expandedHeaderRows &gt; row,</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+#expandedHeader2Rows &gt; row {</span>
<a href="#l42.14"></a><span id="l42.14" class="difflineplus">+/* Ensure that the header names and values are aligned with each other. */</span>
<a href="#l42.15"></a><span id="l42.15" class="difflineplus">+  -moz-box-align: baseline;</span>
<a href="#l42.16"></a><span id="l42.16" class="difflineplus">+}</span>
<a href="#l42.17"></a><span id="l42.17" class="difflineplus">+</span>
<a href="#l42.18"></a><span id="l42.18" class="difflineplus">+#expandedHeadersTopBox {</span>
<a href="#l42.19"></a><span id="l42.19" class="difflineplus">+  /* Ensure that the space between the from row and the one after is</span>
<a href="#l42.20"></a><span id="l42.20" class="difflineplus">+     identical to the spacing between the subsequent header lines. */</span>
<a href="#l42.21"></a><span id="l42.21" class="difflineplus">+  -moz-box-align: end;</span>
<a href="#l42.22"></a><span id="l42.22" class="difflineplus">+}</span>
<a href="#l42.23"></a><span id="l42.23" class="difflineplus">+</span>
<a href="#l42.24"></a><span id="l42.24"> #otherActionsButton {</span>
<a href="#l42.25"></a><span id="l42.25">   margin-bottom: 0.1em;</span>
<a href="#l42.26"></a><span id="l42.26">   background: none;</span>
<a href="#l42.27"></a><span id="l42.27">   font-weight: normal;</span>
<a href="#l42.28"></a><span id="l42.28">   color: #41413F; /* higher contrast */</span>
<a href="#l42.29"></a><span id="l42.29">   border: 2px solid transparent;</span>
<a href="#l42.30"></a><span id="l42.30">   font-size: 100%;</span>
<a href="#l42.31"></a><span id="l42.31">   padding-top: 0px;</span>
<a href="#l42.32"></a><span id="l42.32" class="difflineat">@@ -100,20 +112,16 @@</span>
<a href="#l42.33"></a><span id="l42.33"> }</span>
<a href="#l42.34"></a><span id="l42.34"> </span>
<a href="#l42.35"></a><span id="l42.35"> /* ::::: expanded header pane ::::: */</span>
<a href="#l42.36"></a><span id="l42.36"> </span>
<a href="#l42.37"></a><span id="l42.37"> header-view-button-box {</span>
<a href="#l42.38"></a><span id="l42.38">   padding: 0px;</span>
<a href="#l42.39"></a><span id="l42.39"> }</span>
<a href="#l42.40"></a><span id="l42.40"> </span>
<a href="#l42.41"></a><span id="l42.41" class="difflineminus">-#expandedfromBox {</span>
<a href="#l42.42"></a><span id="l42.42" class="difflineminus">-  padding-top: 0.5em;</span>
<a href="#l42.43"></a><span id="l42.43" class="difflineminus">-}</span>
<a href="#l42.44"></a><span id="l42.44" class="difflineminus">-</span>
<a href="#l42.45"></a><span id="l42.45"> #expandedsubjectBox &gt; .headerValue {</span>
<a href="#l42.46"></a><span id="l42.46">   font-weight: bold;</span>
<a href="#l42.47"></a><span id="l42.47"> }</span>
<a href="#l42.48"></a><span id="l42.48"> </span>
<a href="#l42.49"></a><span id="l42.49"> /* ::::: edit message bar ::::: */</span>
<a href="#l42.50"></a><span id="l42.50"> </span>
<a href="#l42.51"></a><span id="l42.51"> #editMessageBox</span>
<a href="#l42.52"></a><span id="l42.52"> {</span>
<a href="#l42.53"></a><span id="l42.53" class="difflineat">@@ -318,49 +326,38 @@ description[selectable=&quot;true&quot;]:focus &gt; d</span>
<a href="#l42.54"></a><span id="l42.54">   background-color: rgb(230,231,227);</span>
<a href="#l42.55"></a><span id="l42.55">   border: 2px solid #B0B3B6;</span>
<a href="#l42.56"></a><span id="l42.56"> }</span>
<a href="#l42.57"></a><span id="l42.57"> </span>
<a href="#l42.58"></a><span id="l42.58"> #msgHeaderView textbox {</span>
<a href="#l42.59"></a><span id="l42.59">   color: inherit;</span>
<a href="#l42.60"></a><span id="l42.60"> }</span>
<a href="#l42.61"></a><span id="l42.61"> </span>
<a href="#l42.62"></a><span id="l42.62" class="difflineminus">-</span>
<a href="#l42.63"></a><span id="l42.63" class="difflineminus">-.headerNameBox {</span>
<a href="#l42.64"></a><span id="l42.64" class="difflineminus">-  width: 7em;</span>
<a href="#l42.65"></a><span id="l42.65" class="difflineminus">-  background-color: transparent;</span>
<a href="#l42.66"></a><span id="l42.66" class="difflineminus">-}</span>
<a href="#l42.67"></a><span id="l42.67" class="difflineminus">-</span>
<a href="#l42.68"></a><span id="l42.68"> .headerName {</span>
<a href="#l42.69"></a><span id="l42.69">   color: #888a85; /* lower contrast */</span>
<a href="#l42.70"></a><span id="l42.70">   text-align: right;</span>
<a href="#l42.71"></a><span id="l42.71">   background-color: transparent;</span>
<a href="#l42.72"></a><span id="l42.72">   padding: 0px;</span>
<a href="#l42.73"></a><span id="l42.73">   margin-top: 0;</span>
<a href="#l42.74"></a><span id="l42.74">   -moz-margin-end: 0;</span>
<a href="#l42.75"></a><span id="l42.75"> }</span>
<a href="#l42.76"></a><span id="l42.76"> </span>
<a href="#l42.77"></a><span id="l42.77" class="difflineminus">-</span>
<a href="#l42.78"></a><span id="l42.78"> .headerValueBox {</span>
<a href="#l42.79"></a><span id="l42.79">   overflow: visible;</span>
<a href="#l42.80"></a><span id="l42.80" class="difflineminus">-}</span>
<a href="#l42.81"></a><span id="l42.81" class="difflineminus">-</span>
<a href="#l42.82"></a><span id="l42.82" class="difflineminus">-.headerValueBox {</span>
<a href="#l42.83"></a><span id="l42.83">   margin-bottom: 0 !important;</span>
<a href="#l42.84"></a><span id="l42.84">   padding-bottom: 0 !important;</span>
<a href="#l42.85"></a><span id="l42.85"> }</span>
<a href="#l42.86"></a><span id="l42.86"> </span>
<a href="#l42.87"></a><span id="l42.87"> .headerValue {</span>
<a href="#l42.88"></a><span id="l42.88">   min-width: 50px;</span>
<a href="#l42.89"></a><span id="l42.89">   white-space: normal;</span>
<a href="#l42.90"></a><span id="l42.90">   color: black !important;</span>
<a href="#l42.91"></a><span id="l42.91">   line-height: 1.4em;</span>
<a href="#l42.92"></a><span id="l42.92"> </span>
<a href="#l42.93"></a><span id="l42.93">   -moz-appearance: none !important;</span>
<a href="#l42.94"></a><span id="l42.94" class="difflineminus">-  -moz-appearance: none;</span>
<a href="#l42.95"></a><span id="l42.95"> </span>
<a href="#l42.96"></a><span id="l42.96">   padding: 0px !important;</span>
<a href="#l42.97"></a><span id="l42.97">   margin: 0px !important;</span>
<a href="#l42.98"></a><span id="l42.98">   -moz-margin-start: 3px !important;</span>
<a href="#l42.99"></a><span id="l42.99">   border: none !important;</span>
<a href="#l42.100"></a><span id="l42.100">   background-color: transparent;</span>
<a href="#l42.101"></a><span id="l42.101"> }</span>
<a href="#l42.102"></a><span id="l42.102"> </span>
<a href="#l42.103"></a><span id="l42.103" class="difflineat">@@ -548,9 +545,10 @@ mail-emailaddress[selected=&quot;true&quot;] .emai</span>
<a href="#l42.104"></a><span id="l42.104"> }</span>
<a href="#l42.105"></a><span id="l42.105"> </span>
<a href="#l42.106"></a><span id="l42.106"> /* ::::: collapsed view styles ::::: */</span>
<a href="#l42.107"></a><span id="l42.107"> </span>
<a href="#l42.108"></a><span id="l42.108"> mail-multi-emailHeaderField,</span>
<a href="#l42.109"></a><span id="l42.109"> mail-headerfield {</span>
<a href="#l42.110"></a><span id="l42.110">   margin: 0;</span>
<a href="#l42.111"></a><span id="l42.111">   padding: 0;</span>
<a href="#l42.112"></a><span id="l42.112" class="difflineplus">+  -moz-box-align: baseline;</span>
<a href="#l42.113"></a><span id="l42.113"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/mail/themes/pinstripe/mail/preferences/preferences.css</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/mail/themes/pinstripe/mail/preferences/preferences.css</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -34,16 +34,28 @@</span>
<a href="#l43.4"></a><span id="l43.4"> # decision by deleting the provisions above and replace them with the notice</span>
<a href="#l43.5"></a><span id="l43.5"> # and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l43.6"></a><span id="l43.6"> # the provisions above, a recipient may use your version of this file under</span>
<a href="#l43.7"></a><span id="l43.7"> # the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l43.8"></a><span id="l43.8"> #</span>
<a href="#l43.9"></a><span id="l43.9"> # ***** END LICENSE BLOCK *****</span>
<a href="#l43.10"></a><span id="l43.10"> */</span>
<a href="#l43.11"></a><span id="l43.11"> </span>
<a href="#l43.12"></a><span id="l43.12" class="difflineplus">+.windowDialog {</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+  padding: 12px;</span>
<a href="#l43.14"></a><span id="l43.14" class="difflineplus">+  font: -moz-dialog;</span>
<a href="#l43.15"></a><span id="l43.15" class="difflineplus">+}</span>
<a href="#l43.16"></a><span id="l43.16" class="difflineplus">+</span>
<a href="#l43.17"></a><span id="l43.17" class="difflineplus">+#permissionsText {</span>
<a href="#l43.18"></a><span id="l43.18" class="difflineplus">+  font: small-caption;</span>
<a href="#l43.19"></a><span id="l43.19" class="difflineplus">+  font-weight: normal;</span>
<a href="#l43.20"></a><span id="l43.20" class="difflineplus">+  line-height: 1.3em;</span>
<a href="#l43.21"></a><span id="l43.21" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l43.22"></a><span id="l43.22" class="difflineplus">+}</span>
<a href="#l43.23"></a><span id="l43.23" class="difflineplus">+</span>
<a href="#l43.24"></a><span id="l43.24"> #MailPreferences:not([active=&quot;true&quot;]) &gt; .paneSelector &gt; radio {</span>
<a href="#l43.25"></a><span id="l43.25">   opacity: 0.7;</span>
<a href="#l43.26"></a><span id="l43.26"> }</span>
<a href="#l43.27"></a><span id="l43.27"> </span>
<a href="#l43.28"></a><span id="l43.28"> menulist &gt; menupopup &gt; menuitem {</span>
<a href="#l43.29"></a><span id="l43.29">   font: -moz-pull-down-menu;</span>
<a href="#l43.30"></a><span id="l43.30"> }</span>
<a href="#l43.31"></a><span id="l43.31">  </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/mail/themes/qute/jar.mn</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/mail/themes/qute/jar.mn</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -323,18 +323,18 @@ classic.jar:</span>
<a href="#l44.4"></a><span id="l44.4">   skin/classic/aero/messenger/smime/icons/hdrSignUnknown.png       (mail/smime/hdrSignUnknown.png)</span>
<a href="#l44.5"></a><span id="l44.5">   skin/classic/aero/messenger/smime/icons/sbCryptoNotOk.png        (mail/smime/sbCryptoNotOk.png)</span>
<a href="#l44.6"></a><span id="l44.6">   skin/classic/aero/messenger/smime/icons/sbCryptoOk.png           (mail/smime/sbCryptoOk.png)</span>
<a href="#l44.7"></a><span id="l44.7">   skin/classic/aero/messenger/smime/icons/sbSignNotOk.png          (mail/smime/sbSignNotOk.png)</span>
<a href="#l44.8"></a><span id="l44.8">   skin/classic/aero/messenger/smime/icons/sbSignOk.png             (mail/smime/sbSignOk.png)</span>
<a href="#l44.9"></a><span id="l44.9">   skin/classic/aero/messenger/smime/icons/sbSignUnknown.png        (mail/smime/sbSignUnknown.png)</span>
<a href="#l44.10"></a><span id="l44.10">   skin/classic/aero/messenger/icons/new-mail-alert.png             (mail/icons/new-mail-alert.png)</span>
<a href="#l44.11"></a><span id="l44.11">   skin/classic/aero/messenger/icons/readmail.png                   (mail/icons/readmail.png)</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-  skin/classic/aero/messenger/icons/mail-toolbar.png               (mail/icons/mail-toolbar.png)</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineminus">-  skin/classic/aero/messenger/icons/mail-toolbar-small.png         (mail/icons/mail-toolbar-small.png)</span>
<a href="#l44.14"></a><span id="l44.14" class="difflineplus">+  skin/classic/aero/messenger/icons/mail-toolbar.png               (mail/icons/mail-toolbar-aero.png)</span>
<a href="#l44.15"></a><span id="l44.15" class="difflineplus">+  skin/classic/aero/messenger/icons/mail-toolbar-small.png         (mail/icons/mail-toolbar-small-aero.png)</span>
<a href="#l44.16"></a><span id="l44.16">   skin/classic/aero/messenger/icons/folder.png                     (mail/icons/folder-aero.png)</span>
<a href="#l44.17"></a><span id="l44.17">   skin/classic/aero/messenger/icons/message.png                    (mail/icons/message-aero.png)</span>
<a href="#l44.18"></a><span id="l44.18">   skin/classic/aero/messenger/icons/attachment-deleted.png         (mail/icons/attachment-deleted.png)</span>
<a href="#l44.19"></a><span id="l44.19">   skin/classic/aero/messenger/icons/attachment-deleted-large.png   (mail/icons/attachment-deleted-large.png)</span>
<a href="#l44.20"></a><span id="l44.20">   skin/classic/aero/messenger/icons/attachment-col.png             (mail/icons/attachment-col.png)</span>
<a href="#l44.21"></a><span id="l44.21">   skin/classic/aero/messenger/icons/attachment.png                 (mail/icons/attachment.png)</span>
<a href="#l44.22"></a><span id="l44.22">   skin/classic/aero/messenger/icons/junk-col.png                   (mail/icons/junk-col.png)</span>
<a href="#l44.23"></a><span id="l44.23">   skin/classic/aero/messenger/icons/thread-col.png                 (mail/icons/thread-col.png)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/mail/themes/qute/mail/accountCreation.css</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/mail/themes/qute/mail/accountCreation.css</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -3,16 +3,25 @@</span>
<a href="#l45.4"></a><span id="l45.4"> .larger-button {</span>
<a href="#l45.5"></a><span id="l45.5">   font-size: 1.1em;</span>
<a href="#l45.6"></a><span id="l45.6"> }</span>
<a href="#l45.7"></a><span id="l45.7"> </span>
<a href="#l45.8"></a><span id="l45.8"> .smaller-button {</span>
<a href="#l45.9"></a><span id="l45.9">   font-size: 0.85em;</span>
<a href="#l45.10"></a><span id="l45.10"> }</span>
<a href="#l45.11"></a><span id="l45.11"> </span>
<a href="#l45.12"></a><span id="l45.12" class="difflineplus">+#back_button {</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+  border: none;</span>
<a href="#l45.14"></a><span id="l45.14" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l45.15"></a><span id="l45.15" class="difflineplus">+  color: -moz-nativehyperlinktext;</span>
<a href="#l45.16"></a><span id="l45.16" class="difflineplus">+  text-decoration: underline;</span>
<a href="#l45.17"></a><span id="l45.17" class="difflineplus">+  background-color: inherit;</span>
<a href="#l45.18"></a><span id="l45.18" class="difflineplus">+  cursor: pointer;</span>
<a href="#l45.19"></a><span id="l45.19" class="difflineplus">+}</span>
<a href="#l45.20"></a><span id="l45.20" class="difflineplus">+</span>
<a href="#l45.21"></a><span id="l45.21"> .clickable_label:hover {</span>
<a href="#l45.22"></a><span id="l45.22">   text-decoration: underline;</span>
<a href="#l45.23"></a><span id="l45.23">   cursor: pointer;</span>
<a href="#l45.24"></a><span id="l45.24"> }</span>
<a href="#l45.25"></a><span id="l45.25"> </span>
<a href="#l45.26"></a><span id="l45.26"> .clickable_label {</span>
<a href="#l45.27"></a><span id="l45.27">   color: blue;</span>
<a href="#l45.28"></a><span id="l45.28">   width: 120px;</span>
<a href="#l45.29"></a><span id="l45.29" class="difflineat">@@ -23,19 +32,23 @@</span>
<a href="#l45.30"></a><span id="l45.30"> }</span>
<a href="#l45.31"></a><span id="l45.31"> </span>
<a href="#l45.32"></a><span id="l45.32"> /* Missing:</span>
<a href="#l45.33"></a><span id="l45.33">  * .short_clickable_label</span>
<a href="#l45.34"></a><span id="l45.34">  * .short_not_clickable_label</span>
<a href="#l45.35"></a><span id="l45.35">  */</span>
<a href="#l45.36"></a><span id="l45.36"> </span>
<a href="#l45.37"></a><span id="l45.37"> .errordescription {</span>
<a href="#l45.38"></a><span id="l45.38" class="difflineminus">-  -moz-padding-start: 4px;</span>
<a href="#l45.39"></a><span id="l45.39" class="difflineminus">-  padding-top: 4px;</span>
<a href="#l45.40"></a><span id="l45.40" class="difflineminus">-  color: rgb(244,50,50);</span>
<a href="#l45.41"></a><span id="l45.41" class="difflineplus">+  -moz-padding-start: 3px;</span>
<a href="#l45.42"></a><span id="l45.42" class="difflineplus">+  margin-top: 3px;</span>
<a href="#l45.43"></a><span id="l45.43" class="difflineplus">+}</span>
<a href="#l45.44"></a><span id="l45.44" class="difflineplus">+</span>
<a href="#l45.45"></a><span id="l45.45" class="difflineplus">+.initialDesc {</span>
<a href="#l45.46"></a><span id="l45.46" class="difflineplus">+  margin-top: 2px;</span>
<a href="#l45.47"></a><span id="l45.47" class="difflineplus">+  color: GrayText;</span>
<a href="#l45.48"></a><span id="l45.48"> }</span>
<a href="#l45.49"></a><span id="l45.49"> </span>
<a href="#l45.50"></a><span id="l45.50"> .edited_label {</span>
<a href="#l45.51"></a><span id="l45.51">   width: 123px;</span>
<a href="#l45.52"></a><span id="l45.52">   overflow: auto;</span>
<a href="#l45.53"></a><span id="l45.53"> }</span>
<a href="#l45.54"></a><span id="l45.54"> </span>
<a href="#l45.55"></a><span id="l45.55"> /* Missing:</span>
<a href="#l45.56"></a><span id="l45.56" class="difflineat">@@ -63,19 +76,18 @@ menulist[disabled=&quot;true&quot;] {</span>
<a href="#l45.57"></a><span id="l45.57"> menulist[disabled=&quot;true&quot;] &gt; .menulist-editable-box,</span>
<a href="#l45.58"></a><span id="l45.58"> menulist[disabled=&quot;true&quot;] &gt; .menulist-editable-box &gt; .menulist-editable-input,</span>
<a href="#l45.59"></a><span id="l45.59"> menulist[disabled=&quot;true&quot;] &gt; .menulist-dropmarker {</span>
<a href="#l45.60"></a><span id="l45.60">   -moz-appearance: none;</span>
<a href="#l45.61"></a><span id="l45.61">   color: -moz-DialogText;</span>
<a href="#l45.62"></a><span id="l45.62"> }</span>
<a href="#l45.63"></a><span id="l45.63"> </span>
<a href="#l45.64"></a><span id="l45.64"> #outgoing_protocol {</span>
<a href="#l45.65"></a><span id="l45.65" class="difflineminus">-  width: 73px;</span>
<a href="#l45.66"></a><span id="l45.66" class="difflineplus">+  width: 63px;</span>
<a href="#l45.67"></a><span id="l45.67">   padding-top: 5px;</span>
<a href="#l45.68"></a><span id="l45.68" class="difflineminus">-  -moz-padding-start: 6px;</span>
<a href="#l45.69"></a><span id="l45.69"> }</span>
<a href="#l45.70"></a><span id="l45.70"> </span>
<a href="#l45.71"></a><span id="l45.71"> #outgoing_config {</span>
<a href="#l45.72"></a><span id="l45.72">   width: 73px;</span>
<a href="#l45.73"></a><span id="l45.73">   padding-top: 5px;</span>
<a href="#l45.74"></a><span id="l45.74">   -moz-padding-start: 6px;</span>
<a href="#l45.75"></a><span id="l45.75"> }</span>
<a href="#l45.76"></a><span id="l45.76"> </span>
<a href="#l45.77"></a><span id="l45.77" class="difflineat">@@ -97,30 +109,25 @@ description.heading {</span>
<a href="#l45.78"></a><span id="l45.78"> }</span>
<a href="#l45.79"></a><span id="l45.79"> </span>
<a href="#l45.80"></a><span id="l45.80"> description.explanation {</span>
<a href="#l45.81"></a><span id="l45.81">   padding-top: 1em;</span>
<a href="#l45.82"></a><span id="l45.82">   padding-bottom: 1em;</span>
<a href="#l45.83"></a><span id="l45.83"> }</span>
<a href="#l45.84"></a><span id="l45.84"> </span>
<a href="#l45.85"></a><span id="l45.85"> #config_status_title {</span>
<a href="#l45.86"></a><span id="l45.86" class="difflineminus">-  font-size: larger;</span>
<a href="#l45.87"></a><span id="l45.87">   font-weight: bold;</span>
<a href="#l45.88"></a><span id="l45.88"> }</span>
<a href="#l45.89"></a><span id="l45.89"> </span>
<a href="#l45.90"></a><span id="l45.90"> #config_status_subtitle {</span>
<a href="#l45.91"></a><span id="l45.91">   font-size: smaller;</span>
<a href="#l45.92"></a><span id="l45.92">   color: GrayText;</span>
<a href="#l45.93"></a><span id="l45.93">   font-style: italic;</span>
<a href="#l45.94"></a><span id="l45.94"> }</span>
<a href="#l45.95"></a><span id="l45.95"> </span>
<a href="#l45.96"></a><span id="l45.96" class="difflineminus">-vbox.statusimage {</span>
<a href="#l45.97"></a><span id="l45.97" class="difflineminus">-  padding-top: 6px;</span>
<a href="#l45.98"></a><span id="l45.98" class="difflineminus">-}</span>
<a href="#l45.99"></a><span id="l45.99" class="difflineminus">-</span>
<a href="#l45.100"></a><span id="l45.100"> label.bignumber {</span>
<a href="#l45.101"></a><span id="l45.101">   font-size: larger;</span>
<a href="#l45.102"></a><span id="l45.102">   font-weight: bolder;</span>
<a href="#l45.103"></a><span id="l45.103">   color: white;</span>
<a href="#l45.104"></a><span id="l45.104">   background-color: rgb(140,140,140);</span>
<a href="#l45.105"></a><span id="l45.105">   -moz-border-radius: 8px;</span>
<a href="#l45.106"></a><span id="l45.106">   padding: 8px;</span>
<a href="#l45.107"></a><span id="l45.107"> }</span>
<a href="#l45.108"></a><span id="l45.108" class="difflineat">@@ -172,28 +179,29 @@ vbox.icon {</span>
<a href="#l45.109"></a><span id="l45.109">   height: 22px;</span>
<a href="#l45.110"></a><span id="l45.110">   background-repeat: no-repeat;</span>
<a href="#l45.111"></a><span id="l45.111"> }</span>
<a href="#l45.112"></a><span id="l45.112"> </span>
<a href="#l45.113"></a><span id="l45.113"> image.insecureLarry {</span>
<a href="#l45.114"></a><span id="l45.114">   height: 64px;</span>
<a href="#l45.115"></a><span id="l45.115">   width: 64px;</span>
<a href="#l45.116"></a><span id="l45.116">   padding: 0;</span>
<a href="#l45.117"></a><span id="l45.117" class="difflineminus">-  list-style-image: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;);</span>
<a href="#l45.118"></a><span id="l45.118" class="difflineplus">+  background: url(&quot;chrome://global/skin/icons/sslWarning.png&quot;) no-repeat;</span>
<a href="#l45.119"></a><span id="l45.119"> }</span>
<a href="#l45.120"></a><span id="l45.120"> </span>
<a href="#l45.121"></a><span id="l45.121"> image.secureLarry {</span>
<a href="#l45.122"></a><span id="l45.122">   height: 64px;</span>
<a href="#l45.123"></a><span id="l45.123">   width: 64px;</span>
<a href="#l45.124"></a><span id="l45.124">   padding: 0;</span>
<a href="#l45.125"></a><span id="l45.125" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/icons/identity.png&quot;);</span>
<a href="#l45.126"></a><span id="l45.126" class="difflineplus">+  background: url(&quot;chrome://messenger/skin/icons/identity.png&quot;) no-repeat;</span>
<a href="#l45.127"></a><span id="l45.127"> }</span>
<a href="#l45.128"></a><span id="l45.128"> </span>
<a href="#l45.129"></a><span id="l45.129"> vbox.mastervbox {</span>
<a href="#l45.130"></a><span id="l45.130">   padding: 14px;</span>
<a href="#l45.131"></a><span id="l45.131" class="difflineplus">+  background: #F4F4F4;</span>
<a href="#l45.132"></a><span id="l45.132"> }</span>
<a href="#l45.133"></a><span id="l45.133"> </span>
<a href="#l45.134"></a><span id="l45.134"> vbox.icon[state='strong'] {</span>
<a href="#l45.135"></a><span id="l45.135">   background-image: url(&quot;chrome://messenger/skin/icons/secure.png&quot;);</span>
<a href="#l45.136"></a><span id="l45.136"> }</span>
<a href="#l45.137"></a><span id="l45.137"> </span>
<a href="#l45.138"></a><span id="l45.138"> vbox.icon[state='failed'] {</span>
<a href="#l45.139"></a><span id="l45.139">   background-image: url(&quot;chrome://messenger/skin/icons/failed.png&quot;);</span>
<a href="#l45.140"></a><span id="l45.140" class="difflineat">@@ -202,17 +210,19 @@ vbox.icon[state='failed'] {</span>
<a href="#l45.141"></a><span id="l45.141"> vbox.icon[state='probing'] {</span>
<a href="#l45.142"></a><span id="l45.142">   background-image: url(&quot;chrome://messenger/skin/icons/probing.png&quot;);</span>
<a href="#l45.143"></a><span id="l45.143"> }</span>
<a href="#l45.144"></a><span id="l45.144"> </span>
<a href="#l45.145"></a><span id="l45.145"> vbox.icon[state='weak'] {</span>
<a href="#l45.146"></a><span id="l45.146">   background-image: url(&quot;chrome://messenger/skin/icons/insecure.png&quot;);</span>
<a href="#l45.147"></a><span id="l45.147"> }</span>
<a href="#l45.148"></a><span id="l45.148"> </span>
<a href="#l45.149"></a><span id="l45.149" class="difflineminus">-.warningbox {</span>
<a href="#l45.150"></a><span id="l45.150" class="difflineplus">+#warningbox {</span>
<a href="#l45.151"></a><span id="l45.151" class="difflineplus">+  width: 650px;</span>
<a href="#l45.152"></a><span id="l45.152" class="difflineplus">+  height: 400px;</span>
<a href="#l45.153"></a><span id="l45.153">   background: #333333 none repeat scroll 0% 0%;</span>
<a href="#l45.154"></a><span id="l45.154">   padding: 1em;</span>
<a href="#l45.155"></a><span id="l45.155">   overflow: auto;</span>
<a href="#l45.156"></a><span id="l45.156"> }</span>
<a href="#l45.157"></a><span id="l45.157"> </span>
<a href="#l45.158"></a><span id="l45.158"> .warning {</span>
<a href="#l45.159"></a><span id="l45.159">   padding: 2em;</span>
<a href="#l45.160"></a><span id="l45.160">   -moz-border-radius: 10px;</span>
<a href="#l45.161"></a><span id="l45.161" class="difflineat">@@ -282,20 +292,49 @@ vbox.settings {</span>
<a href="#l45.162"></a><span id="l45.162">   padding: 2px 3px;</span>
<a href="#l45.163"></a><span id="l45.163">   background-color: #ffffc7;</span>
<a href="#l45.164"></a><span id="l45.164">   max-width: 320px;</span>
<a href="#l45.165"></a><span id="l45.165"> }</span>
<a href="#l45.166"></a><span id="l45.166"> </span>
<a href="#l45.167"></a><span id="l45.167"> /* Missing:</span>
<a href="#l45.168"></a><span id="l45.168">  * label.textbox-label</span>
<a href="#l45.169"></a><span id="l45.169">  * .protocol</span>
<a href="#l45.170"></a><span id="l45.170" class="difflineminus">- * textbox.security</span>
<a href="#l45.171"></a><span id="l45.171" class="difflineminus">- * textbox.port</span>
<a href="#l45.172"></a><span id="l45.172" class="difflineminus">- * textbox.host</span>
<a href="#l45.173"></a><span id="l45.173" class="difflineminus">- * menulist.host</span>
<a href="#l45.174"></a><span id="l45.174" class="difflineplus">+ */</span>
<a href="#l45.175"></a><span id="l45.175" class="difflineplus">+</span>
<a href="#l45.176"></a><span id="l45.176" class="difflineplus">+.protocol &gt; label {</span>
<a href="#l45.177"></a><span id="l45.177" class="difflineplus">+  -moz-padding-start: 6px;</span>
<a href="#l45.178"></a><span id="l45.178" class="difflineplus">+}</span>
<a href="#l45.179"></a><span id="l45.179" class="difflineplus">+</span>
<a href="#l45.180"></a><span id="l45.180" class="difflineplus">+.security {</span>
<a href="#l45.181"></a><span id="l45.181" class="difflineplus">+  width: 10em;</span>
<a href="#l45.182"></a><span id="l45.182" class="difflineplus">+}</span>
<a href="#l45.183"></a><span id="l45.183" class="difflineplus">+</span>
<a href="#l45.184"></a><span id="l45.184" class="difflineplus">+textbox.port {</span>
<a href="#l45.185"></a><span id="l45.185" class="difflineplus">+  width: 4em;</span>
<a href="#l45.186"></a><span id="l45.186" class="difflineplus">+}</span>
<a href="#l45.187"></a><span id="l45.187" class="difflineplus">+</span>
<a href="#l45.188"></a><span id="l45.188" class="difflineplus">+textbox.username {</span>
<a href="#l45.189"></a><span id="l45.189" class="difflineplus">+  width: 12em;</span>
<a href="#l45.190"></a><span id="l45.190" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l45.191"></a><span id="l45.191" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l45.192"></a><span id="l45.192" class="difflineplus">+}</span>
<a href="#l45.193"></a><span id="l45.193" class="difflineplus">+</span>
<a href="#l45.194"></a><span id="l45.194" class="difflineplus">+textbox.host {</span>
<a href="#l45.195"></a><span id="l45.195" class="difflineplus">+  width: 12em;</span>
<a href="#l45.196"></a><span id="l45.196" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l45.197"></a><span id="l45.197" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l45.198"></a><span id="l45.198" class="difflineplus">+}</span>
<a href="#l45.199"></a><span id="l45.199" class="difflineplus">+</span>
<a href="#l45.200"></a><span id="l45.200" class="difflineplus">+menulist.host {</span>
<a href="#l45.201"></a><span id="l45.201" class="difflineplus">+  width: 12em;</span>
<a href="#l45.202"></a><span id="l45.202" class="difflineplus">+  margin-bottom: 4px !important;</span>
<a href="#l45.203"></a><span id="l45.203" class="difflineplus">+  margin-top: 4px !important;</span>
<a href="#l45.204"></a><span id="l45.204" class="difflineplus">+}</span>
<a href="#l45.205"></a><span id="l45.205" class="difflineplus">+</span>
<a href="#l45.206"></a><span id="l45.206" class="difflineplus">+/* Missing:</span>
<a href="#l45.207"></a><span id="l45.207">  * textbox[disabled=&quot;true&quot;]</span>
<a href="#l45.208"></a><span id="l45.208">  * label.heading</span>
<a href="#l45.209"></a><span id="l45.209">  * row.heading</span>
<a href="#l45.210"></a><span id="l45.210">  * hbox.clickable</span>
<a href="#l45.211"></a><span id="l45.211">  * hbox.hoverable:hover</span>
<a href="#l45.212"></a><span id="l45.212">  * textbox.clickable</span>
<a href="#l45.213"></a><span id="l45.213">  * textbox.editing</span>
<a href="#l45.214"></a><span id="l45.214">  * textbox.clickable &gt; .textbox-input-box &gt; .textbox-input:hover</span>
<a href="#l45.215"></a><span id="l45.215" class="difflineat">@@ -316,8 +355,22 @@ vbox.settings {</span>
<a href="#l45.216"></a><span id="l45.216">   margin: 0px;</span>
<a href="#l45.217"></a><span id="l45.217">   padding-left: 20px;</span>
<a href="#l45.218"></a><span id="l45.218">   background: url(&quot;chrome://messenger/skin/section_collapsed.png&quot;) left 0 no-repeat;</span>
<a href="#l45.219"></a><span id="l45.219"> }</span>
<a href="#l45.220"></a><span id="l45.220"> </span>
<a href="#l45.221"></a><span id="l45.221"> .technical_details[expanded] {</span>
<a href="#l45.222"></a><span id="l45.222">   background-image: url(&quot;chrome://messenger/skin/section_expanded.png&quot;);</span>
<a href="#l45.223"></a><span id="l45.223"> }</span>
<a href="#l45.224"></a><span id="l45.224" class="difflineplus">+</span>
<a href="#l45.225"></a><span id="l45.225" class="difflineplus">+label.autoconfigLabel {</span>
<a href="#l45.226"></a><span id="l45.226" class="difflineplus">+  width: 80px;</span>
<a href="#l45.227"></a><span id="l45.227" class="difflineplus">+  text-align: right;</span>
<a href="#l45.228"></a><span id="l45.228" class="difflineplus">+}</span>
<a href="#l45.229"></a><span id="l45.229" class="difflineplus">+</span>
<a href="#l45.230"></a><span id="l45.230" class="difflineplus">+label.textbox-label {</span>
<a href="#l45.231"></a><span id="l45.231" class="difflineplus">+  width: 58px;</span>
<a href="#l45.232"></a><span id="l45.232" class="difflineplus">+  text-align: right;</span>
<a href="#l45.233"></a><span id="l45.233" class="difflineplus">+}</span>
<a href="#l45.234"></a><span id="l45.234" class="difflineplus">+</span>
<a href="#l45.235"></a><span id="l45.235" class="difflineplus">+vbox.initialSettings textbox {</span>
<a href="#l45.236"></a><span id="l45.236" class="difflineplus">+  width: 280px;</span>
<a href="#l45.237"></a><span id="l45.237" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1">new file mode 100644</span>
<a href="#l46.2"></a><span id="l46.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..efe974e78957b893b32247e6227e5d4a920f4027</span>
<a href="#l46.3"></a><span id="l46.3">GIT binary patch
literal 46058
zc$_p^1xy^x+rL8(KiuJPDDLhQEyYUF;!=vc!{J(&gt;c##$&lt;4n&gt;N)OK~YKhr7GppEqB=
zY-V@%nam`UeV(6eCQALi0v0+MIsgE`Qc{%D1OR}r*S;bM&lt;@L^S#F+Q`0J&gt;@_$N+wi
zQS86IpqQyB$N}L0T{&amp;$&lt;Nv{z!Cq+G10DuYnUjruFXpp`JQQeeO-=Z#nNHB5O(=5L*
zzlO-&amp;-s-x^I@;S?I=BH;O&gt;OKTZjO$2W~MF&gt;8*@hoR}P@!^f&gt;?k0Vv5yfACs7^7r)8
z)^2`jndK-dN_vk#Pf(&amp;Mr@V(A*=CaItgbNQY{fQBk!?0}=#^dFKsrn*s$5On84N;G
z6$#A&lt;y)sf;@~&gt;E&lt;-rY)YK|tGUd)aZ`79JN~*nYe*@~t?1UVISf3bcwrmg??UIx~N)
z_E#A7vkwB81T|V5TT9;bd(O&gt;P7!Z@c42k;R-WUM5&gt;`#`Pe!|uF;PU}?MN@&lt;D?%rs`
ziHA=UdC62+;=VV7#iG`ucoDToYoANXTG?RsNoWNCXaP&gt;!2(kwH8rv?QQ#e8rEC&amp;H^
zy+H9^D4~+ztyotlr!lMp7Nh6bn@#Y&amp;Dc|*&amp;=q``6t`sy-gvz)4=)&gt;o`(^l732uRS`
z1QVpU?sqk5{fO3X-nDQDxzckUT1-&gt;h4PYDI=*mGrz&lt;wVW6G%mtx9&amp;(qRV`&amp;`XxOp)
z&lt;t0bjWA6beCSeGVD*}(_J7SjWO9jx6-Kia`rj@s&amp;{N1x8im@mlOtaKIN$K0#dcgiu
z2M8ALx;y5-1&lt;!a1G&lt;)2x&gt;&gt;xolp@NnG`Vj`PPv4+c5qDYvjKyz9n%+txQAJ#S&gt;!rWo
zUsnWnnQH8$?Y&gt;Z9!Epgu7nmBr`DRDY#-{uulwu}C6J?u~k?*|rMXtF49n&gt;wJryQ9z
zW_`Ln4rL$z#-|QTA5NvKNwT9rrRn;A&amp;nCm3B)28yIGasyDLfS93XT)Z2H*&lt;B&gt;;1ww
zC7oHa1jr+eCmbq{w=Ki79i&lt;xsv%5FfbH&lt;N=d9@Iv1~yxm@NSmYns&gt;g-ZuYH&lt;hF&gt;uv
zDp2fL$ZgMaD@o1EI1&lt;IN&lt;Jk_&gt;?GFwO1At7Aj0QI2C6{qvbwPSKG6?~QR;3U(Xro1i
zOR1pV$B+Hf)6&lt;i)v$M!fEdeAXs6ytjto)J^U=pM12`^~Z+G&gt;o5#NZok^og#rWf26F
z2!SF_kjhT*ReY4P&lt;x`bJ{r$JHR6mf`XIJ8`3qc9|V_KCr0&amp;Mo&lt;piKpVeOmR9*!bmo
zic=Jko~BpQc9t!-(rvcVc#S*hRG3sTVC@PnxH!vh@ZzAibLx|{5DE@)GUT;&lt;xbjqs
z7_VsXmjHEMW5?Uu=r^;9i;sQ&lt;B4$ON4*~#{Y6|A&amp;VE(#*nOUSS1V3-^pgQpDr&gt;7dY
z3Y7socKe^iuBE%to5Fq&lt;R#wLOt$e?UEWf85%f|UR#Gewogpsv9iS&amp;)nW#oXTO7h5G
zgfHw=liSW)aby(~%a=4z4FH#jpzV5&lt;X^*-=D&gt;2;13`cpJMx*~t`~&amp;Ys$OZ-Hvg&gt;rb
zqR+vog#Uxvx9~QcXZx_QFy#+G+5NBC1Lc+^9X4ZwB%01k_H$O^@F%pOs(_)yNB8Nc
zKWxJUfDp@-eXotEqDNqRPggl-lQ&gt;OO8GBZ62eT18%ta)-)@GW~&amp;||^!S!8$c+lB&lt;C
zr;b%2UEC#;8B1G0@rna}vp5Dqr#y&gt;Y4O=hbSWw~?+tl^=$@rjG+t-AaAH}87K8^_M
zoNAOA+4rMec;!vEwC5jAeE+5TP?Xq=thhC9Spq`ddsbnQ3&amp;c_gyKJqyAI`2n0)|dA
z1B?wcG`=mb&amp;OR)0Z;sLDK&gt;(r9gw5$tSM0YMzw#q++Ujkl&lt;?R=1Nq=Uc|14-I|8B1#
zmXMSwWUlK#VW9_=G|6cefKIt^0y-HnoJ8be#puwQgwOXCqL)rsS?#kMu2T5}z4yby
z4j;P_Y5koh67E`G&amp;X`#oezg2Ia{M(yjlp`(r$p!_uft?c0SEnD;2_-c8L1QQmo{#;
zAj;|pSdVw@ZzdtjBu_sxB25CoYNTh&lt;Gu~A=km2DYHy@Su#iaef0|+9ML(nd4KDCbT
z_O$yyHrvH~{n}Tok^kTpkW*o_N{XN6ep79plNv@;&gt;$o&gt;B=y9a`?mG{1i^p+rp-rU9
zQ1FUF2)(jNmh&gt;FfUNg4pT&amp;_*7qqgXa!L%FZyFHs$`}r#Aoa9vAe$94X_F(XPP|4rn
zVe$*O=rf0jWkyc&amp;#s}bhO*uz!LDDOZBp?Es^Q5qla^C!9$S4i)zuSo6BzaknP!%`S
z&lt;hAljAHMeJ+!bA`Vw+b@5~YYUZv5eM&amp;=&amp;wb1#^{6)RcS8Z&lt;gdVlmNUhTJ~i7Ntg&gt;v
zIWZA;=`HSgP_PmDfe6^@2vzNqt*pG$xTpkJ#C&lt;`|0tP&gt;K&gt;g7OVwF?yP!A|1bvG@0g
zD6ylCc2}N~@8_;ZmS-&amp;dT&amp;s|hf9P*1{~~BA8M^aX&gt;pD8k!+9-!Aj}u&gt;|B^sf7O`&amp;0
zf&amp;(4l=6EGPqtFHw5V3MHOeQwJ&gt;C&amp;|BB*f)5?=&amp;|_7qPbRnyA~;g{lTi)Kr4YwLSuA
zy~IrK6-hI)j^wn;!lfqmwzARuQ3&gt;(wjj%$&amp;jahi%JN+~Q@?)$b6HilEf)z#&amp;e}{J~
zByn*v2VSO%zeP1=d%G2?fr9cfKHu&amp;GCcY2EQi&gt;iLx2_ld6I9q-*K%f_d|Tt`e+AJr
zd#l^Kj!xDkiFhQ6Y@&amp;SLu)u5G*EcZWzVPy|hFx*+Gq(4#8D0S^M&lt;%WNH~ZN2o_L9u
zecQ^4LF1aOzXvafRf|a9sZdQ^(0OK$J&lt;Kn*hE~G7jl(3OZ;7!%{e|E1@y)rPU&gt;_Mu
zgq`NlTE9a=Wx&amp;jx-F_gnB&gt;=tMK!jkJDq;^;-e2b7nyGLc&gt;i4LaB;aiPUH_BUXjLFQ
zptw}zOfobe%|EtUi)uOCw3E-*N3g_Fe2{r`n(!_9!!r#4JLqhoxzL^^ozF&amp;N_2yWC
zHpz6p&gt;YHi+9F@mh7Hc|mh0m1xMrtaC^9I!qHCQi`eL7a*$ppOs*(6o1b-gTlkh^kB
z5;1gdBe9O*`KHblTbWsC8)gU)LL&gt;n)1IDDKq)2dr9I4MaUQr`F%FN2RtHD);@NFjY
zFKzu&lt;EkFPjgTPrfTJ&gt;q-M;{*%5Y5)vde0g;DDdaiW66CtpQ_R{md#j}u$8Il`c!mH
zje&lt;fP6+R-sBLXob9MhSSmEFIgs_HCnf4Zph5M$x+H{313?EJAPR+;RJXC$-4?5br}
zMk=x@FHA?Z@tD?504)z9HOF3CU!wTl1tQ4A;dyKH-1R!`s#(xTyn~GlhXV~~XQy}D
zW5=2HAvA$QOg&gt;(jtl83F^m*&lt;Rd_VC-Ods({LIZO|h;C(*;4^3up~9jwv%zFl&amp;A3x%
z?d@$xo0(&lt;X^!~fmKc1X+0^}B%n3-&amp;{i53(U_Cb4SZ-wG!&gt;vL+aNHC{EO+zuoK23iE
zQ#(4|-rrQ{R-1LE=or~#gP|=0{+Yp82|YwyxS(RpbOeo&gt;Rg_|+&amp;aUadV+t!#4xNYB
zdBw$h$!xIt1B7=J1AXEJ=&amp;jOBH+@SNfwz(^bT9s@TBaE&amp;e5zrEHUpcj8q1??h|q&lt;Y
zSy^v)cYX`K@TKFEq?(D$e}8P}I4rEKH(^~NTasY`Osr8KKYqN?D~Wb#9~AbyI&lt;u90
zzM5-aa&gt;y)0L13Mcg0SyhN~48TS?UP`7HUn8=2fgtRt(OzCvsy-=;2FTstxPc-F%o_
z!#=L_3e?-Th&lt;&lt;44_XU=EQOn&lt;?yjLXDb!dflMVo1qB!s@(w%5b#UNzKI`-D-upEo^j
zf;s|TjjJs6-!5Hd?SxRcP%gk4j07A`&lt;J{Hx&lt;gPt4Hab3%b)4&amp;_)H=#Ysgua!B}tHn
zsZl#Obn)+=l+&lt;xsN5&gt;O)HOoH&amp;@I*O&lt;0IjX%1Kh1jT|5@9;f&amp;*hXfSidFeG&gt;VDhh4J
z@$fEwfC1P=82jH5Kk=s!QWFsnu)RX&amp;l9y(ab&lt;LsHA2aJ_bGzblv@3w|Pvao9N$0L6
z;k&amp;IEyj~%T#+5jb;&gt;TH}gdYbo^5LSDTk4nBfQ$U|!M{$s?mLsxYo|J}W4X1&gt;g!O$n
zYN=3#FB!g8pWgc7PzkmNSB$?P#iz|7pOPh&gt;xR4S&gt;K$Z+8I$q|U$pg6iITmrY-#-py
zOz#Iyb0rdwNeY%`+36dF{&lt;=!gUjDEazPy}OEI;;F`?P;A;|;Lt{TCok+-P59?&lt;5Vr
zF^=t91V|*(F19eW9N_Q2eCCfgAxrPEU8&amp;+xU$v450|v&lt;=Rj;TY$(sPH&lt;H{(`=F1ZM
zz|&amp;R(ER&lt;YZkr@+kMq!XEcE1qY^uagSRP_Ob;PxxY2-nCDqN+S*NT|uo;J5iUU%~#b
z&lt;fsunlYzNC!X8KSL04C9^T!@{&amp;o6M$!wT@B7NybVW+x1~d%ugJ%-QbMT3UKq+68m_
zcN)&gt;B&gt;osvMmy|R&lt;_m$$BhPe$L&gt;DOlUmmrwn=g*DRKhtW`ReryF|J{W0nSzfSHS{|q
zud$-cim@Gej9Avij@Q_LOUbaN{&gt;UN}A8%uFY6`vIdk`6miY$%|sTK(-G~Cc76d{yS
z2l6_aKQ%(lH~1dQyw6GR1W)$+#Yu}vM);?O6_mDuf??sYBfEEZa~%`y);KrM=kec;
z^BIPkmiX4%S$SR6cfGjGcRW$(*9a?|@;(qdBfvW5DhwK|UoD4iz}}TwfiT7U6yBGZ
z?(Xh?1b417X2EDuDA3s(j~RYG2%R`3;?&amp;gg*Sfl&amp;ubDJ5{+dZs&lt;ZZ*14^GJ}6PYMh
zKI#V4(9(==_YQhQPe5dQAYmE@S={BWMHd&amp;F-;*~Q32K&amp;yuUx&gt;~ENVgmOe$rm{_3Jk
z!tnm&amp;A|^)UvZ~2m1s{(&gt;+zUyYklhHGcx=4u-nGUg1M@V{gQVH2``ATl52?HE8i+Y^
zl~cOtspUxpNGSjFq#qaaC8JJ*s)&amp;AmGbusTat2ct?fteuJ!L10&lt;R8cOdwIH0li}Hl
z$xu4KQtGCt+`+%q&amp;)V~?-mV`+5P5l#rfU|Byw;J&amp;*&amp;CM4&lt;d9)s$pzaVrF#tO1#OL&gt;
zUrI&gt;!&amp;~O=PrMy2AXac@|!7BY~-Z&lt;iq$bnZG=*VdGUa}gVC6oF{t?+yK_6;-JpbS5@
zgK(j9+t$SoDN+QZw;DM%Z&lt;u#YV!LX~xk&amp;yvNG-4M&gt;}Z4qqE3KixO`@q2?z*G9&lt;KHi
z=u3=mtE|VV8nfQhGtxs{v44)wg#^fFVI3OXbIw}=dkT#sXO?+8v&gt;w(5u05k%v!ZRe
zvw~LBE+hQzOrL!@=E`T5mj~EmR&gt;qVfq;^dT*8#gaA({zsLVUXsG!rU?sVSt-RRPFc
zhurc}N!q6XH_65wL{CNl=E}-R7%a7$0&amp;%0n!!GH5F*qy9Qej|VfJQ=sW6O#W2{hoN
zryv#zfFXqfTBjd=Wo30Sxlq0%fkdC2py|LUoHqx|r)(=t9}^jH!5&amp;uDo8@!H5#s!W
z$B(z3!hP}}ieQt5cdqEr%D`fdy@fy4x9Ayb$U;A8{VyhZa9)Ns&amp;kfZ|68eR0C*1wF
zJ7bT0MGWJzmwIp{ub7IK+&gt;@kiM1(TjW#J=BCmrIFl9KaF?v^-IM&lt;vXnH%!{vm-tDE
zpM8A7vt6-e=hi)1CXEa+SNOht{}Bf)vH20cm@(d9w=87+H&lt;na151TS+G{#+-w7F|?
zs?;60CZ#UztKLIMj5!c?S&lt;^|&lt;^LE#wr$$KPv6KR4M!zPj!5*oE?X_XI&amp;;B*Y8xSpW
zdDgoyC3?B1K5yVBLNrPq95XhAVvb2Xh7ojDs)jB5kF7ClK)Nv`Vui)B_VJoS3;_F^
zQuU)L?$cD&gt;w`Z64h11^?f@gy0BAHtXune%{x9{(hw|0LfrgRFYiBsY9$5T^3L*wJj
zjJtlHN%B~Yq~l&amp;!$wpx3wzsdQW@Q~AOw1xeJDx6v&lt;)-&lt;FSHyX#g&amp;AbeVK&lt;Ue+#!lr
z^fCY-1I_4iWnFFxKTIbC9{jW5nG6-1O2l&lt;EgTD!bn1k(P)PG@hb(Ie7P&gt;x+dfXEti
zG&lt;fCYt?x0AfRM=9snu&lt;6sT&gt;uDfh05!DHjQGf)5MZ&gt;MfGUE(MV}F4&amp;3^68jrUF^YVA
zc~480POp?MWQs6bt{3w9F?$&gt;uZnwKkcgM0{xyxKWKF;nC(2xBvs;%H`_qa&gt;qd*c?F
z7dzF440`Y*5%T%#DFc6OemMawe&gt;0ph2A`17mHKRGBc&gt;rE5ZxR#ncM4I&lt;r1ECjHGXy
znyRFG@@Rq770`B!!Jw-K@NihxU+$4L&amp;`B9q=A?v^Ly&amp;9YlE0T!?SfDWvo%{P*hLgt
zd@^+0a&lt;j@7-Hl;mv!9b}w)XN|^$x$;RBDb7iIA{M3J{b-4GaWGRN_ed#Cd^IV_{w2
zO}E`wrH5HMR={Ha6a_v^mz_pliP9u(g7$M4P8#&lt;a-}xN#dxc}gK&amp;$r7&lt;vJTI4?j}e
z9UA)@+U7y#{bN;+5IW%)9DCE(IawoVH{#Pw@!~J&gt;6*l|(=Kb;Hj`3f=hRn@Ld|q4i
z@A&amp;Ol+;P{m`{O&gt;@Ie=7#l;yNIgNK!l&amp;b(U&gt;f4t_k+&lt;H!Li;kBXPKzuFEqBE)2I=Td
z+aFJEKD$n?JHcYV&lt;(r8n&gt;Im&amp;}sp2Cq)vv!QYVI$+pd*$yGTQF^JiI(y5dP8W55~9u
zUWv&lt;kG@aXA4QH-utnjY@t}6Q*f`6DHoU-Z~FfBf|b|)bY5o;5&lt;)b^HU%+mlLf@%lU
z52G@JbW|Qa^~GQYVE9-ef&gt;$#yjs_mBn8+H=dZ#EgMX;%E&lt;5R0N02(t!3hJq&lt;y4VDR
zL@BXB2*@-@uj^Z6&amp;W9+_TS;0zIf5dSQ{5SPP`&gt;u8&lt;{^4LPHQIrEB*aR)^iyL##wZ6
z#Q$kGS+mA`06UhHm+@~-;irJZ=GD!FsVU9R87Mtmjiw}Gr5O5i*FUYXM+lO0g4y6m
z%USotPc7&gt;-BtBs5FQ|0@3=uc!uD&amp;gzU)0$kaSa9iFVX(+7sL(}Ck4mg&lt;;`&gt;0(Vy`X
zosoPiIIoF3{*?*o7v;8PKHVAY4=G?knW&gt;6yJxO`h^{{AAk2Cnh3O7W-UD^|sENwXK
zJFgWiNll_FOV|~RkMG)z1|Jn%gK%@&gt;;xoP5!#?`O`&lt;yS@9&gt;f-&lt;_?{f3k*Hy;7ww-p
zC*#tn-oELYo)LVcbonjO)r#J=T=J@;^6&gt;Nm^Fs&gt;O$jGk`U?1d#&amp;6n^Wj{^3qcKWIR
ziWnp?zLb3|zwx?p&gt;aTZ!)QbXK-%~Y1_9}&amp;twLS5833ZVCfKGIvbd*T?_*X#y!%Hha
z1|_SmQ@pwT*uo|bBcS9C&lt;S{ll^L$m4RO{)f9;f_hXi=Z-Y*4K!)*O~llu}JeUX^eN
z)y*mrA;T3VrhM|&gt;{(i=pnVHw!ps}#96ql5IpZi{qG~yg&gt;7XN&lt;EK)=d=C=mowGpfhT
z8%8#8;nA&lt;R?-?_22r9TbIw6rxU{K9OhE0CX@otuyB?sIxk#Zf}`&gt;Qi{a6aHX%^?O3
zjf_yZzT{mVQ&gt;s(qZ%SLqhd*C(whxy4E^VgB!9eOt^p|kA{CLxug)!ElzNa2{&gt;&gt;;`{
z^4*-3c{$zf?(CZm(2&amp;fzf|2RZP5sALyRVljt8_jPLju)|=2eLAA8Ygd#_PouzP+&gt;I
z&lt;m`+Tim#&lt;&lt;o_Y9Xj+lU8YkPa!y_(FuhfIY&lt;I#Vaarltz7ysNCZ@gmQ((c;DV?9;s-
zX=&lt;Poi9-aYRai}mXapE5scRdYLq0oyB9`6&lt;yCmmQo!$24l7~QHquQt@=|n`F=s{-;
zm#E!b?B#cRAk2_gcni`*@3F{9zJg6g?fFfvn+B|eDg1zw8Qj)M5io%AKt1X&amp;x_4u}
z3!znOsx4pUW?#e}4&gt;CjqJjW&lt;&lt;tE#|{x2FTI-j41uwbC%$xPYIIK-CO}&gt;2&gt;ja06&gt;M_
z@^Vxpm{VAY!q3m2&amp;h3hl%5E@*kG~O11sD-#`mg#wm6Qxk{a$IwDW)(lU}+TIANOLo
z6TF*5Q3gmu8V4JZH)r(J)2V}*X*f7i$-&lt;pCt$+I8M7)h5vdP}`N!H}*pO~EuZ}Yvq
z@kw&amp;7t|k$5Sav?Ml|WL&lt;qHJ&amp;0JTfwl-9i)eA%&lt;Tl8P~d|n1ElgQCSG(sD&gt;&gt;)75T3$
zw?K?u6`Kb|s2;QYGHK|j5gY7;D0^VD3wifve7xj65}kakl!Jpq{7{7rS^M1v#@5!B
z$%UTvHTn_dRebVE=OC^yh)-Jv%m6Zc`)NVr!|4(&lt;YZ9L(npPR-I1~&gt;AG2dEvE`&lt;Ak
z3KZPNime{}wbcf2GA|&amp;mR&gt;B^{E&gt;Wo_=;6v?_BS@O&lt;@NwVb@8;lH}8Kg9#j9UEZu&amp;_
zP|rvb=0z^f#&lt;Ug(5ZR$5Swux|c&gt;+#wn7*tGyLE*4+IAgR!$$Jta%2I?ZoFBM^dS7&gt;
z`ULQ~w?S7rp&gt;o0o1wsLs0aw5Q6$CWLZ2lbt;9^I4tL=2Pr!h}Kdq8%$ev6_ImM=xq
z7LxGCPUeaXpAsVGy};9m60tmQ-{N7qJ1VGvYz%M$BfQ`Lb&gt;d(i^R_%lE9TsQg6MER
zSYR{(a&gt;`kiWOM&lt;_vwxJ&gt;M}#gNw&gt;nSt{y7pKrxmiD(vy)j580i~40Hwor~)@MTy`4I
zWon&lt;&amp;&amp;^DR=4#ZJrjtet|hH8?^e&lt;dq$Ty4F-jliMwbGnP&lt;HB6*`+vo&amp;{b$#_Bu_Ph{
zsPPnCFzFC3F+t*pc&amp;fMVs#rWz)8EoF$d*3nG*sv0n0zrZT3z3S4c4qDuH&amp;S`Xu~Y^
z&amp;Uj!KG2t6E$lt5VC!RTs4Wa}kg)q~4P#RYzMEb1a$AzVmd%&gt;d|fRP%0rBLH-80~Qh
z0U846$!j}AmaEhGU$FYG-PhS%o#!Wu%Do_&amp;c|t5NLve383z-`3!p{b&lt;X&amp;m(WALe&gt;U
z!OUITJkFEvzK#C;MpqiNDAs3C=WrQ)9+&gt;X4{d@O8glKVTNeGq8ydTr=&gt;3rZ-alEDz
zC`_@e^eo1}LH4aBDc`4_obs;77*#1*b4sI^+u`Ek;?5w%w?dASwCROW^)~`W{W2Mf
z#DIY3&gt;$zR55h@ZDDGg2i==nQ7CoW7YI;W5`1-2yWFdCaip(+Bp;G|q0NiSWP%NUo}
z8N}vv)jtN&lt;x}e8A?IcjRw0&amp;Tz&lt;n9m*ar;icx~P_WUpk@b4kn6^upWGZfc;4eOObHT
z9%+fH2&lt;xGw7(&gt;kcGR|KUSexk&gt;N8(!Yy-&amp;GepYi*)UDgw0IQt{0{X&lt;`AT$Z4Z17f8|
zBt}oOQGe{P;2AfGCzHVMMgPV2Z$hdDjxzFxj~_bMZ=?uVG&lt;i^D2&lt;T^YQcae0PJ2Yu
z7aSkjKEa1i1O6Rew`7eaO`UFxp&gt;xVcH&gt;V0&gt;)}*}sdUum=#@1?&amp;AeT8|8K?m7aC&gt;A5
z{3}AY-GkgAWE&lt;#cZdupkPrCVZ+J&gt;fzK=1OV^^re85cRn@Ty~I|M0xN)T!O0$v99XK
z0kr@vu&lt;A#4V=V6&gt;M&lt;MEEc_H3kL{&amp;(fm(xO5B;@M}b|&gt;8HX&amp;+O$L?MwLEHgPfi{8W4
zB@Mgu#yvxwIJu@FIqNyafq&gt;6?xI|_vY|p&amp;?nI-gNziqlWoy}9xi%dDM8B&gt;$^!Vv&gt;k
zmNHHINf8A{C!Pr2g5FzO{M&gt;U1`%zsQtd33#f~){qTV(pvkpt)by-EQ`I_xAwsE1a-
zz&gt;ocA&lt;4S_Q7Ix%BA@magdcQIX-&gt;%4m_I2dFQ2j@%Am{`#UdOJe&amp;nnb#Lll!%c;-C?
zp!ImQc7A@|NY&lt;vJqQbdMr?NiVbJbhFr9qsXk@2DWeG$G&lt;rB1-zdPEXX?oGF9w#ao9
zd#1qtf7NB7`2M#_{Q~VOXt&gt;5Cozc!iG&lt;;_Z_E`xHB~1EG-I-eo#4|OexB=a2OfBs1
z{_n^AcVSm6dlHIsZw+vYdsjl-2wSHn_shGwm&gt;LcJ$~;&amp;CHG~Y32_W&lt;-W)1})YGo_(
zH{bkm;3{7w78=X&lt;&lt;&gt;bYf2muIkRkSm$ao%_XrBRC~SmPBb?*7s~N3${-nWjw?yKsz&gt;
zSywZ}3~0trzm*n7LRUv9+9&gt;n282*c&lt;#k@YJ)^0YZw8&lt;Lo0OiHV0&lt;(z(;z}4l3b#KT
zu#RL2&lt;G&amp;*LBlbzpxDh9MN=hFG7;tJRNfaanc(nwbPso&gt;an?`e3Ibs&amp;Xk)P^BH*b4f
zTq*hM_??=?ocgK9g-O5C+%Zr`duYagyLgwQC1cfM{5ESKuDqOWsbS3l?r#m4&lt;zu%1
zy2j1c3)n5ySE!w52(2^AV&lt;vUgemUYS@4h-*&gt;z-_0b+t)00SEjfe%0O0zk6Our4U(0
zZ;#ZoH;A3+0oz*Xk_+P6Zz&gt;OjeI}v@)YjLnFFAJfwKln~pL=x=8I!s7Kywezbo7gt
z_xt*T5#D9&lt;AXCK`wJ@q0wI5ES-agDq(9c`ewxH$(+%nD|`$C5Bu!+-x046@*pnm07
zUJlwns}nF=PvHd@oB8K;DBldy&gt;8~ALKiqzib&gt;8nCN*7T)aCyd#KuopFP6*&amp;T%n&lt;~j
zKtssO)LRP#vP^n?LEh7R&gt;y!AK&gt;xnOWN^XHOOMg}qz6%RaEIu%&lt;=X~l)b41`Gf}A)}
zc$rP?`w(?Wtqo`5(tIyjP3YrLhU9@jv=9(&lt;A368~?N{vx;hc&lt;iO;k3@1bU|eLat!w
z%I1OmH!Eu#{qFRzgHrTfCi&gt;hXT{LV8A;2gX`0BB%`};(0HOU)!+DHU?jvg~2iub6&gt;
z!_l~&gt;dcjI`Mfr6Fl*?Ph5lQMKLhz5~N3`SxCgH%sLzpSe4w)E&lt;*2i+FI0JIUD+FD5
z!KfrCtUI0s1dN@LuXc9M&gt;@jj`Fy9QT1JuVFJUz)DKVV!A#C92k9Ty&gt;WMt9{m=ddEw
zRxMiN&amp;f1GTZMTUxZZ6|0M%CR4kCC(A6dw8vBAkR^H1j@}rb2!^Jwd1%-6*ow3;s3#
z-kchcq?UtfQw+-LHnFm@R+N^PQzRzwB6+kR21B}Q*gj`OH#h532&amp;vEbjj!B(0jO(e
zd~`X|J#Td0919)Yfik04v0;&gt;!&lt;`onm``(;PrncR`_rJBx&lt;gs6L%@id5%+ROsb7bVN
zM^qv~qHVSqI!D@}5Xjovymum3$Zrc|CPw8YMumrolok8&lt;8|m!BUO&gt;4^%K$H4fbaaz
zZh&amp;mhn$AqH23kiOEf&amp;COE=AAeLwCMo8e$%00tKMplW#1*BOa-(@HdHd0R8`;1!%Q}
zdu~o5`;nS3L#57JY-^n72yM7VC!WRXONrut7b6=gK`k&amp;iF(SwET@C8KC_FAqGjX&lt;V
zDql|jVf&lt;Q;fe`XrAS6;CU7noTv`W;&gt;Fm^DFw5vJUzO3Jv?&gt;_ny(}yXn=}?;tTv@YK
zVb^N=LxFPrI`mgVI;2zr`vua|k{ynZBcuo$wUX_m?rho}!yr$kY?2&gt;vW&lt;=;z6FZm7
zU&gt;p8pX1-Zv|M;&lt;&amp;!K%~YFoPvCW)k3|FX#SMg1)b*GZK1rb(IUh8&lt;3QTzub1Lt#O+m
zO9QMiUqzsh^=fN7QWUI=L)!Nf?wgxq1?91K^w=4pdC^#HW0G&amp;tx_7T&gt;Nie&amp;)+;j_(
zwW_4_ys{b0Y0A&gt;|Oj40&amp;*W==5R&lt;M9&gt;#(08n-n^NZT8wtx8I6Jd8MTUm{tc=uQ~$Gu
z&lt;KR4!DN5{nb0q!oBT-^vA}ycY4B7(CGw?i$`a1$)G!|vkAEMmfpPBgT2xWJTVn3}p
zNV&amp;UXP4VzZv%Ix@E1byVnwzXtys$RQ^zc5Sw^qQja&lt;1bk#mujDJl?7=?B_eBlZ`}T
zB%qCrjmG{h9&amp;e#SOpJ63kZYGBW$9^x43rr9?KA8xGdp`2M9Zn)bRRP#zUxFKF-p)m
z#**9hU;`I5Klm=0B?N(;o!WKU4avWKFqDxZBC02VYOa&lt;Bc84T|0)#BtORi-lwpt!k
zoBR8C%c%1rYg`8lnFD_ZMdCri0qJ1MLV{#PGuqy8mk0}d6A=oiDIgdyN*h}y@7eJi
zcGJtTSm(-weX&lt;r3Q+bD0Z?_N|{TCe+?ABUJfGQ;nVuHcIAmn_^JcvxH&lt;;&gt;i_u39&amp;W
z-}7-h@`Oz`bUUH=?U;ynA~`m@7=&lt;iu^%sUAsOAU0r(Hi%!&amp;55^s;@I_Awm@C&amp;0h$`
zth0hj%09l8N;e&gt;4dmB_x`Z&gt;vRCFd&amp;h&lt;dsO-00h9}t5n?USYXmoCHW^lQ%^#oud4BO
z?2Z?k&lt;EJP6&lt;JQ&lt;+3$lq11iRw6fZINVlbnuqC&amp;bl7O_a9{okB5#LFPtMIc`7u(p$=)
z^&amp;czrS{~9m9*?OF^GNW@k~KlWP=4FF;!s%r`?&lt;@5j5=GYEFQ}Y1F+0MG;P&gt;43#`J@
zu{4o6U}EW7H9O&lt;&gt;VrLXtUfX-Ym4%d)LnATYr=b~o7Kxh^+R2AmT-q%p`C{iDa$MJR
zMCWbReXfrC2f!Ywp!3+ZMf9}ur2b&lt;tI}IC&lt;WbgH~DbTrtLhoCoET7x{rzv;&gt;tG*!&lt;
zc{xR4w&lt;&lt;XoAtQ9nFg;9kJU*(il^Q-1GobSr^y^*c4yN96=+)nR-zEJ&lt;`;|6HQ7w}~
zvNwza+9W}Yku?|;NDxc}?rfK*!SBkCxnGw)ewFmRAZ%HD&amp;-Z)etj?YOG&gt;%l12o;A)
zrjuIA$A^(ECf9HJ{0RnB8Ui69aIy2Y9xx``{@VBHbpeYu;W&amp;!hUM!fkjH7DQ&amp;&lt;JoN
zhfXL)Rqd@dCx|8j&amp;rsdx&gt;4BR}SvG4OfpAJdss{=Td#(VI)k@{_X|jVR8VD+uI$xDH
ze3|R;&gt;;?HEn@n?o&amp;mK+4MBep4huGAI5imHfO~f!eO)(njSTo+T!P=XOl$BL*iOFNi
z%gc+s&lt;(DLd!f(hZhc*;H9JW9}2&gt;tQY@fR1$pI`JNQxT7^rDL7PXqIXJ#r}~L%EInt
z&gt;hDrPetJ?&lt;qnq9DPoi!Ert*L-BRsnI=Mgm$of&gt;QLhFIouZ=fCHSE}zT9%?ULBp3h1
z9?6lXcTllJRg;KXnaJH4geaJ)+-vap*g8Kp+2kIWW_KgtGrp6u)Fvb&amp;C!f?%WnD~&lt;
ztdEWSPEkPa2X&lt;$w(Tb3&lt;XM{&gt;SS*Wsta@TEh66DD7%GYJoHO$CtZ9Aero^@O&amp;s%*3x
zomwyRB}s#jG(yQRyVbQj7$#K49c|7L=AWy3oa&lt;FnB~vKloIQ&amp;0-#0uiB&lt;@dp?h+6=
zNG@DrAt8Qsh_;yA!PG8H{KW-Qf$+6*%`tS=6akb0p}J5=@F4+^QM0gkh4(5fBjaG5
zPX0#}_a&lt;YPRYQJh4bLw~#&gt;d{U&amp;t#04S`oRV6IkL$QCub@BJZZ5D&lt;`2Pi1-oXVc*R+
z=BuZiL2Uv!2)j%As#&gt;&gt;Pvz9@(zjTbEpr`e=m0^UK-RLOQ_tC7h5V4aernBSmfLTkh
z;P*mh(88oR%8^z_=5@&lt;tD$S^&lt;Idi*+dKe&lt;V(XxOb@q1zVjKXc~Zrd=+dE=G1pQ_}3
zGHF*sfJRPLLDHADY68?Rt?9ySsE63$R7FEVtBZ!=pI(GUs3hjwPSm6Rd1EUEAGaf-
zMsvW=@^Mg%oL&lt;6eMy*0j_jKW-KIVt@73}Rdo!OKF*rURm`-xK&lt;WourSU!8Rf+viVQ
znsQ3f+x2f#jMUX9N=y1V)!e&gt;n747_Y)P%9^ck@F*a_l&gt;uT81!6NIA1IlHXxj83Lfi
z{o!iAMU+9&amp;KF;*vUv&amp;sCOvj4}9EV6C`D2*`aD;x6PKod!O4JN!31t%G0(;ucqhk+r
zQ6g!okQ4MQF0-SRF~ukJW1s9cx)vgOj-=9EY?fS${8%oQ9aKc7I04=Lh*Y==lFx82
zU`UywC&amp;?g|tCGb+fq=0RlL1&lt;eK;9+$A6tJ0?lV1!9S!(jGKO@H9%xIE?MOZW=6O{8
z&amp;hOLG1^nO4I_gF|G{0%}f7Vr3#&gt;K~vX`J`!^%3Jz#rO3%?JAzkk7If~pea8&gt;=*%cw
zNloUHVrFM~1u4SPzhyFrDv4ZQmgOSre=pP&amp;QgsH2ugRl4y*LJG&lt;SUpSrE|+o*V+&lt;u
z8u=amO&lt;}DV0~qQU$8&amp;Z(@q966U}7?VY1-|cGLW9cuJ9MUA*ATqYij7qPC)xPPVDaD
zUKgAK;*v9*_~zzM6onCySY7@b;)i#eY?JZX!R9|RpV#~g&gt;tFBAb|0h}D&lt;n~YZhizP
zb9SD;M7PLQKv1&amp;&gt;9n6ME6O)l0V319?O-&gt;|xDSm*;)@(Zc&lt;5rhZH!?zAz&gt;gSl&lt;#=m8
z&gt;9JQDeiXX|BSMAHnR@-)r~cT&lt;gTlBQ@R3GFYzkWik?jv5k*&amp;mU#V8(4`FNSpYP@B*
zG{cF6BqE1_&amp;RZK3E5_h1$g4x2G$@Y=ONtg@jKQr{Z(c=BONPz&gt;WpnDo44?PwdFg($
zS|Jp6o7VEwJ{)M2QD8frNy_DO`iiLu1@VFkz;d`XqbQlvXrHEk|1&gt;h9s!r$pkbF=X
zfjJbj?H4w&gt;FE)PSwn*V{dnhIucr`Q&amp;L?N(`K-w46fItKUAz-i)iX56D5Ad&amp;ygNPOq
zJ#l0%q6ji#m|EQt#gUX?qFK3$GD)(t;bY*z5Yv0acA08w?aRI}yd2=*#TaAHnKjqW
z-qXyY$8m5+BZ==xBjQI0c&amp;ZsKXmUArRL3x=I$k2Wex;&gt;lM-z&lt;j75q&lt;OF!iL~bPz#e
zm4iedAxa;N1WaU&gt;O|?)=L{dt2zSI)mo}cICghCX&gt;k94iRI}PGlVUq{@Yx6hy-oIb2
zJHzA}mJ1$^^0vn8i!&amp;#@yDa^5H`@J8G0NSK6JWSh2%G%()@dm#otKsvp}=HBE=jFN
za*h&amp;Zmv$$f3R{n$i|tPg-orszWzEsik(jC=RRBEXmIE~?g!ebML&amp;d$v@R+Z%vNBTW
z8;mda_xEP&lt;^8NSH3|^;c#{T!bpXTr^l`agH^&amp;gK@vu{(AlL5IKWNqlJHq(V|pLBIU
z^L@~1%gFk%p18G_S~a{K4Xx}e&amp;n!|MHkjqFA8MZ}BP)%F9~)!F{`-l5+d&amp;ByfW~=z
zCS40`cu#aTZqI16Xiw{5LJ=u@Vg}q5aYwop_&amp;_f5SUN67fMc|{g3{H09y3JyQa9SI
zBKo1%qA#d%C3iVg;w&lt;t_yb$&amp;qX~#E&amp;pm#A{4)GCdOQGrW?~tAdotmb*8qu{%k~Xw1
z@%-6+C6?&gt;Ibh|*|KChhnv;v&amp;x8C8_fFqNhmqX=ZgOTvSBv^c{Naoo_%z&lt;^}DSCOxq
z8dhU&amp;IY^R@t0Zs??0k`ej8(eMZ}4($XYoN=-zi|+IhoAOQXv{7(r0m7Q6RPO+UZAx
zI=Z${7uqb!e&lt;fq6Fl?Hd;$uhXWEmQ2+&amp;L)otuB-$ruw`ZmP})vck&gt;xz(ZFLp&gt;oS16
zx{*&amp;+be&amp;C86j)`$4gM1LgHquaNra7Fwp3#ogP)9LwCgW=CIwG}dYk#HG2F&amp;&amp;dip+`
z&amp;_$x?eJr&lt;kNFZe3J_6rpyZ%gR3V;rWpI^|JWLH&amp;YVg{lKq@Xw+H4@75=w;~3O^I%N
zNbN8^%v6AZHxno_S2!O${(LI0;7XlQiaPrhAFO~Ph6h2*#YG?MWRcEC`L(svsiPMn
z*`X8U%Q@H!h@YX8{?%g^LlkEo&gt;pZn@i5YH|Q{76bX@*V^Lo?sqiP^~`oDNJ+1;&amp;tq
zGT1&gt;=@^{zrx(?UTzAwAs+2Rj(;p8YT(@#;;n?cOc2^ORoJwR1$xbNN0sJKy=KvD7F
zI5B5?Rdd@jY3B4jM$5E!xTd}jDO8)uXUwSY2_;W#u1}j&gt;PG|6;4qx{M(5Q+^%m&amp;p^
zmqpM%hV-I1L5e}3HwWLGaVYj2Ru`02T0WK-HoLLxa5RGdSqXg5&gt;Q6W2_=V*Zyl7us
zx)}EC&gt;mhR+UFBV4q8XQ~gk&amp;6e!ENNTU$8mELX*J**h)(&amp;x&amp;QuMCpB{8z;s&gt;a8Bhfm
z&gt;&lt;Ch1v5&lt;i%YNj2zom}UA-q+NP4GQ1Pr|6{7zzn{$&amp;1)kZD$*C&lt;359?fPb&gt;VnNC&amp;hU
z#-Q|n+lai+OFj~xD$6z6pzHggFc%C)s)Wl~h@G8y=r#v^3}iME5aY)u{EBtAS;OAw
zy-J!c!p8q59-qN9yVzdnLrh?xKS*|(=i85j(0V9xXK&gt;-0yTfRElB}$7=^++SF$Iu&gt;
zi@&amp;agI5I6Qjdgo_`xekB$&lt;EGRU0*+o(Fq!esyK55!2bRFx6{J9_J|6#-q_p}uc)Zd
z_v#2%M?OnxCNEU`+5SbvG*`n|&gt;-nRLz7IWjS&amp;KCnQoG-Nt&amp;O*%=bCZAUSS^JWnUWp
z*q2sL&amp;lxZul9vvY&amp;r(+ct&amp;*4(e2nQxpw(;DCw&lt;l^-Ma}(KccN7*3Q3BA04ji6C}Ql
zLfwTG0$7Q&gt;@`XS{V`o0x(nl~P5S1G71JmYY%m|122is=FOv|AkP-p|Tvy$wjW+2iz
z3*Cf~ap&lt;pFXP9Bg25T6Tb8C;&lt;t#Q$PnI?ekz`-y*6%9L1yye#9DqX{=&lt;&lt;l$0&gt;KOa;
z|9&lt;{C3bw&lt;ZH&gt;1p&lt;1)`;sh&lt;8TW7Gd?C;r6Ke)gq~WRgH{^KMv-n1iYgqM*{+}Fg!YO
zlb}(5#tzqQu~H^P+f(Z|8z5mQ()RZ3#}g8LuaI=`udF3OSw*GC8-tkYcCHIGuq=GG
z8DM36OCmQksfR)1UkCke(}mtqU$&amp;_oQm#cYkB+EB&amp;r;?I5MU`_#}T`OL07Sz^v@Nw
z`^`REp#+nKOm%m@3zfu7wdpbu3AW;G{fI&gt;{8(rA@tP1x!ag4BjIl8D+@t|(+O(Ih}
zazND&amp;k+^%4!EJY?KKLP2w#F3RjyIFcXR4@A7VHDxgCFR0;AxZ1X{wLlFOt8R%t%MW
zO9Q-Fg2WK;5JJ$Pa=;#15Rd4ac&gt;c|x0SRde+oQV5w;JU!iB&lt;is;h542n3zqS6S%^6
zFzO{R=G`|ULClwr7~5ZHK4=9ot1AkimGt0q?UZBswVEc8P58IupXaA;S9Nb{dk8^9
zDJBTFV;U#(;h{!&lt;+rOo-vI82Bf4BTb?))jVd;0?u`W$_unUEma-y)Zp2&gt;&gt;H=Wg_f+
z=%PSRw}a{u7^1CbnFx1b;WDU-6&amp;v)gXeiz!L~r(IN4328NE$8jfUD6ch}BYHRVDK+
zju&gt;QLHG6k{b!+l~lej6V;;}l~P1y9`usYK&amp;-fL?go{kTCReVh##|J1C65thpk%6={
zU}j`2*5)i%-Szk(63l)RU7|SLJpI_VBx9}VBHEW=DViuvIl`n+@ZDccc&lt;IXbjA)-q
zY_fo!m^@skp3vNqVtXyRC20y+Y8dBD@_KoeMWjY&amp;t02amT%W1XuF!`CB(1sJJ%a1w
z0h_&amp;Ogf1&amp;YnlX+gtWW#cohZ&lt;ovxwQ*Sr0KTA_ljW?fKc+k1oOHYV(Efe!i^l1PAwF
z)$y~ogjCs(6ql7=g`5{m7peso%^}f+wCT6(?`17_o%2$XB2N7BKrzK-(?HV7)?F=z
z2n+zfGz57d4A6@P{VBxl%Zzj2!o2y?;U%{x&gt;Qk_$L!}`T?0ARp;Fv8ytEDB|SxL(n
z*R!q^k&amp;6P0rHoDO4&lt;SjAzztnocU&amp;HFZ?hza+UEI6vnLazK|DWmSY%Qt{UsByV-Ec#
zqFzR+Khf=;6y8MxI(sAXW7RO8SbmGv*NLdK&gt;&lt;dKslZs;`fa~)F#K3y#dzKw2K|S~G
zbEO=f94SE2*|`E0ns+Fos|zVADBS2LcMzi49~F%^ODLj@lI4(fIVtA=z9co}Xfw&lt;Y
zA=CquX}4c=8}Cs5h&amp;1IrngAsqkNz-1x01w&lt;6n^{p&amp;gABc&amp;RG^&gt;s*r$_*dM;IC*RGH
z$7UuY=HvinKIis*B?R1GQI9`Y-~t3%UrsE&amp;C7Z5j+wxxgz&amp;uI3Kj?-M33e#~9lvFA
z5WIL2T$B)QIxg93@WSbYt+*bPCH&lt;bGgc~YIq4hVH&gt;o^?!+yazYP1h5M&lt;`=*8rV_lO
z52lp=?7+Se&gt;DrxSj&lt;4y2p5`=d9P9e6xs?a_h(?!rm;k7;&lt;k^&lt;b=7pX5+$(yo&amp;#n4&gt;
zU7Ht-1D_Sonh#gEI^EYzn~j`AD)&amp;`vgy+Z|pB4gF+&amp;K`IOALMO&gt;&amp;+KxjCh%?C46eP
z|18xwEE`146~)pzC&lt;_bKbt2=xn&gt;B3;&amp;dI&gt;)P3T0%$l@W;IcygET&gt;c&amp;YuCHj)jqt6;
zs=dAa*JQQqA88Sj3;TmC)7+5NI9+@&amp;J$`$*)mHDX?(8uj5hC{_P|wZW%|oPccRRPP
z?z*u|4D3}&amp;heF{jjPIiJ9m19%G_FXDq(p=?7z{=*Q&lt;hfR!!ju+zr&amp;lB6W-Mqr@5Y}
z6@7THV~`GKQ}Q~P{f;}V^D0Zt;DC8`LcaP#NND$NrGkMkvV$HMm70Gmmg;H(!vPLo
zenAC+&amp;NxYwN)h%cKl#H4Ksq=$bDT1yS`W=@qsQK&lt;Wg3?pUm3+bJY1y^r|%+|QZbSo
zvw@W*k1s2yN+EDow0b(*T&lt;h}UqvLApd183R!7b{qf);xZUnIY#K8K8qw1y|SUBQ$!
zeXI2GHDWEVt1#1;P*cPR`g{%453@tC4FRZcTt`egc%Fqz3Z;Asg@Q%Q=a*^VvH$VE
zhLr0}1&lt;otrRgA)|$33SfwLkplW;{u%S78Z?sVhT%Q#+&lt;jNKt;N1&gt;#f&lt;qm-7xq+ti@
z2&lt;Wb&gt;&amp;Xd`+;YXX$L(Q+|2OkUU5da}G+cYMVdDvu&gt;x*`W|_|MI2_6Qnv^f6)0&amp;7*Zo
zZ3&gt;o&gt;p-($pfXG+beARZl8UvI$WqWrfq{i7rYiDynpU&amp;mH(VH5#f$49PF%|a+KV0*=
z?z3)&amp;Iu1aDSO8@MOkqRsI_a~`I&gt;k0z;u&gt;&gt;A33sYU5P?p=%F&amp;B7xpq$o=Lp1IwwKJy
z4&amp;np0?H#Fkq=b4*on?_=t-gKyOz)gIy$+w_q3Wp?t7;r6s&gt;6l&gt;UIRg{=82nG*zrlV
z$Zdm)iv5$h+v@S9pKTpwOS#DW3vd7o&lt;D7O#XJ76R0fSBUUnx`fH?#8X)V}4-&amp;QXV0
zj&lt;S0Pm_C&lt;Cz&amp;}UnegF`y2m_Iav2)!H8`krfKUTiQ^10?~J?|fHoim0De#sD+%XB&gt;1
zA8$GlTy11^T5*5R7;O&amp;7suCK=+htu1gcl}jA9|4LWbuov9#&gt;;P3JDO57y(4c+;Y05
zP;uXou4eg)h1$ERRW2GyNw_n&gt;5#SWM(vQ~Bu{*A|ETOWum6BZLwvOCpG`&amp;XkP}u^g
z4c!cW0}Vgn?q(`2O@0C*_ERMODk6j0GU1ywgh}gShd3!nqla+s#dek1FmD-Z2nUik
z2Po8f0&amp;mef6ET(We4&amp;oLh*LU%S?yX&gt;Hza=sr|36SEzVRmD7_n#+G{!dIdpsM$d&gt;kZ
zl|M)Nt73m?DR&amp;&gt;Jc+ar(@Scr~UOK~TDm6Z&gt;fOM9f(woDP@xx7?5-helny6IS&gt;mpT2
zus&gt;-(*p&gt;%W+8@l28au2uo_B|5WW&lt;|qZhl&amp;=p9P&gt;k-p{nQ68Z~wv^~^cM@V?x5C!U8
zKAUq=315z|=;bJ37spC%B8f;kR4*{Yawy8RyQ;qu&amp;OfdPVQIJ6o?^_vzxW4w#bR8l
zlZ5rhJuX`!%!5pDE}4%}&lt;A0cPznHX)`;D&amp;GHYJ&amp;5f4*suJ)fg9?NqPjqX@J7B0YS@
z&gt;vX*MeeUF;QO6OdfSpyRm3V0&gt;fSi)WwmDM@#ZI7~lNjfK66H9CGub^U;=&gt;_``@dxN
z+vtrVvySb!yD~@dDaoBM7!l|VaZ}Sxq)dKOA{$&lt;%t`Xb*@0-0n^MFC+3%OoTksR_(
zQXjO1AdyQ}g^`vU=5&amp;_z7SK4&amp;gxQS%HMsc6mc$^Pgo-rJ0(E+((`oll)v?ztz=PXC
z=TD8C&gt;lUfWkR9795gYkVnbM3VKK}DEDwDEuO~MjI0@Eh^)z`1KPi=Mzl}=vP%3Z@s
z{+DI^JIvd}w-baS(8&lt;He=^c&gt;kLgpgne{?&gt;erfZ^qL$B#;PUipe6VCVD#4Ru&amp;k6wu&gt;
z`3rYtyU*SS&amp;av-Fml(!+3svnDzWc-1f~_vv%NhJ(2Pz&gt;vhBsS$Z~BUaXoN}hGllfY
zI^(HqaP)}+m$&gt;ea1vwlKE7n&gt;~I~_5HInktKT9;m?o#azOSJN6UxMUg-im?%^aDTLR
zaUFB8W9CSXzlxMYl^!o^u=$CbMzWTL9tk*ZboNl&gt;z-@(1P_^xE%@g4Fe#}zSR_DMc
z#u_gBj0y5P`Ig)oS=;h6&gt;|9m=Yccy8RCv?XY1eXB23zMJA3q^GzX7+8I_*i*1Fg_8
zQ$x9L4Dhy2!rLVaLv5`Y#96r-u2xSV^N%0uim9a98Pi}Knn~pc{I}W&lt;wJDCH#seUB
z&amp;XDrXIxaLi*EiH%H&lt;%oylz4j^U+q3gJy*`A9eY_REyQIU{$a9w67xLh90|%#`j$=@
zla7Rn^o@4ncWy}yCF+e}PGe4MvxV#SFu&gt;?vM!=_8V=7@S)Yat7wCr#EBBUjV=IhaQ
zT|A_%?C2S+i_Ttwh|z*NA5$DFUw*!v?O7pr+`dQ-z(dt&lt;!?3=7)%&gt;!^HS&gt;|E&gt;m&gt;4g
zUpfCP_p?z@;_mK?-5i?n{D#|n&amp;C=qcPl~-(m?rLxlU0h9?mNkL3+Q$4dv^FYxPT}D
zS-bfFHoVHT2Su&gt;Hu1_Q8Zys|()y)LU4)KD#2z&lt;?(d^gs~K^HrsXK8ua@cDlCr@`&amp;A
zs~R(O1=W^`#oPiFs!&amp;%&gt;V$OsB`-$k43`o}EF8qDu)M2E&amp;M1$+W8EAL5|1P*i$1q&gt;)
z6@ZENKw{Wu#y{R&lt;2RE$3kvf?GTwl)3gi*i(m4+pN&amp;Tdvtnj)2sq)2PAy+E|o&gt;&amp;(Pm
z;vcDU-g~(bV*bJ&gt;9hH8zL4VBl&gt;U~q6e_aP^NrkQa^G7)&amp;Pi&lt;fie4riZ7gv}mxZpPZ
zZCQOzw27^kr@$5yXs+*fe@xA?mK7R{hoZW;uSJaVLE#Rb)Wn?P)LKO+U9&gt;rU`0H=w
zZzE3~E30~k3@vP40S(Q6dRYld6o7TV2&amp;H|W?s;r#8iPCr!?!kZCmeHYZ6D@OyNIy&lt;
zfHseN3@gq(4aHJihC`{0nAp&amp;eRK`fZViaag_Owiy0^HzMOuEBsz_GUMrG;W$pH+)@
zgQ^2P!|l&lt;`Hy(PuAYby?2DA=X7W^^-r4s-SIGn62@(Cc&gt;x=?A5sH&lt;_a-4+9A0b`LT
zG#;ucI*kCCKtId+RSmaNu{Z*;x(h|=``hmPOhUi&gt;hPHh!LOaAb!c#8#Zzoe9PJ4o-
zBt%blTOPN&lt;hsVctCVxiz_@^jk2XY#&lt;rV9uNBu+Cl2RuJu1A}}|nwU~G^;KC2-#?n6
zm3YB|P{TLjNjHNjj_|8j)@;3(E&amp;S=al&lt;_lFtm91eY5rm6#RI$GHejJLBb@#(oUi;z
zGpn@`{}icyGSTf0e(EoBn}&amp;mvNw&amp;Kt4Z;&lt;@{XYI{hFw?u;hXDw5y!(9cn^-`a)H`u
z(=HWxL2ZfX^O^US+!en(4IXPE%B*zY--&lt;wLlpKrUju(?&gt;A=ZGq&lt;CWbp3P5M`Q(B8b
zfa2WS7uiSA`sud1XQ8J6yEScIV*?047s8?UxDelVzEbCYINRr;#e9brfB`5R%@)1A
zq(*&lt;HUWz|PMe97At%#9j4tHPts_El&amp;bF@I0f0D(oLNSHsmtXMvq6XTa%DA3BJ{4iK
z6U-duD3JB1U-&amp;5qf)E6`MNK|C1-$lgDk8SB$Y-=#A4rb}XfAp_A7p!uSq4`@0dP05
z8{LJHiL*8DT`y^{!$v0wxTgDlFMs?7-)|uJ&amp;z$t$pN+&amp;i&amp;Yxq?x~Y93(#S|+A3DWr
z_!2!IcD{vnHa0c}jQ@L*4mp~*MkAt0VlcsGuyFaTBnF=av=a%fq3ErCH~v`oVl1)r
zy2Aw^bFyYd=DP#C6c4yD(%C?h&gt;#oE_pekIl`uSqcI2OT4^Y+YjJj&gt;up7UnEOt@Mu8
z7(b2xOhIHB;C*sBc}5NFWElq&amp;YRvMAEH7)^z~&gt;)NxJshko*NEA$CAENKuJ;Pqak=G
z^iiN_G_H!g-`;bzL;U4&amp;KA$REtUh^SwY+(w%!SHD(~YU*5{~w6ta&gt;v_yF;?M==%gB
zZ_e#QOFX}t&lt;jS=Fn2!6KHsjLMmXkZ5^E%tPes$%;Le)$w;goQnHlw4(x-z?sXu^E=
zvH}rxqYoU9qcQms@KzE43O0G0KGxmt@=rL)C#M&amp;&amp;`SN;&gt;k`s|X?YWVQ*_vN2&amp;h$(*
z2)M2fT2w1m4%rO;N3~tY#1-uU0v_C9aCdho?(XjH#frPb;8Ls&lt;EAH;@E~QZ1-QC?;
z`rf`|H&lt;?W4kC{8U=ltv&gt;_j?En&gt;TExT|KGC!MzYzX9vglKV8#MaXshghqnGL}J+AtY
zSKSu;^f8D}dPD#dE69Y;5KpJ|f~7`p9;;4RkXxj%efoe97WeG4qhjI&lt;m`mNBF)32%
zZU{CEAg{3g^_~o0c~Vl+)$FW#Lt~&gt;G*lHCsR@6^4exr@qS&lt;uxE^(}75&amp;CE&lt;OLUg4x
znuH~LVVwaGQU(|_{Dc#{!7`&gt;PY{!ns48t^9U8d{7?|s1kJk^&gt;&amp;@+!s_eJX7t`l3q_
zm~0*9b;5;W_^MzDq6qPv5PUfmOfQ|U)LW=cxDY^&lt;exJSlp#GEmH~qsRZHU-=r5=uy
zcdNy8JCXJxTUMZX^?ptmu&amp;}J3jIX9jSXxS}h=^k&gt;l}LXGIJmd6vc1hOn*Y9xXQa@R
z-vz%J6VS&lt;Cd&gt;T+6%ZOs^)i~@glbIehGPODuea+=XL(EN1EOa8!F&gt;wHumHoymzDz2E
zwt98u26!Ka5}$^@ut+&amp;{TymC-MkH8$V+ElCSiVrZ*xTDPef$2fX*6*vS&lt;27dr@x0P
z6y~O!v9ssn(8Ih}@ZIfCBCV;BfMR&lt;}Utgc_08-fW3EzZ{+CsoWMlxs1cGF7LnD0^H
z4!Fr%0wsz~*cIqM&lt;lB1P+-LvS!3$WISnrra3kOpm{Xg&lt;eX83Yf&gt;KSFWGZfRZn;`e&gt;
zHt~ae(68&lt;M{MJ&lt;u@nAw+&amp;HD^kK1b$?j{x2yO3P5kFaUm!C{uT_(7;TjD5tk9`FpLC
z=PO)DH&gt;b6&lt;=JNxLT+MzL)b&lt;GfL)qUuZq=F8`YXo~8vu0H@z&gt;G6e&lt;`J63A}vImKz^w
zg|CZ?HWumvKKxrdEAJlihcXlgl&amp;yxwk&lt;Bt(Ai=&gt;(4=;1Mxa?PR6tnp6&gt;VK9V45cr~
zbI}rwj7MgtrK3aWU~S$Vl~mp3Ht-)hI{biIv?B}4P6lP1F3yq&lt;+MzVEbMilK%hBuD
zM)!glt3l)wC%V7`Qof&gt;c(*6kZqtaawS5&gt;i_ZUKud5OPbz;F{&gt;T+UG#&amp;dcIzbh|ZHD
zwVZ1!&lt;#z8is=4_o6{?Nk*2i8AetALc!jRnAe9a4dXSb~Qo&gt;N;I2uGaA3I|}qmA;dS
zoIM&gt;PWmU-;WzuUn9Qp~qNfiJ=AtG2f&lt;ik&amp;Ny4K!2&gt;M=Dng~Mtpo_+q%I5*0dXZmG=
z*BfJ&amp;eJbewj&lt;7q1NB|F=T5(`JlP|Z7&amp;NShRNuw@FBpQz8WJBz08J;@FV^ztpV0l?s
zbW2v&gt;%Jba`l&amp;m$68N-p(4jJrLNPJmGM@R2R_sj*jW*BO$j9&lt;dHrQfX~Jk@}BBuH{}
zT0!DO;Y~6Pl`cNtt&lt;VFMx5u3#BD&amp;I2HG{D&amp;&amp;xM1lu&gt;}Qm&amp;Hhc!^fS$2mx&lt;14luJTH
z3#_yvTm%~i%mz*&lt;l8JX5zu!0r`y&gt;0pEcwPPqL`M51d!1XkOaNzOn&amp;)Z9^P$?(2GLq
z7;L5t$%2)3k-!Z5+QnnYE#15mmunbA9Ks`pnj-5Xo{`AMcjJ*-M8&amp;tgds+!aXR@vp
zAC{Bh!~V}Q0C*hvZ%9l}P6}6I{rVmR&gt;hy7^m!w%O`TOneD&gt;B}$Gj~SKk}XaG-&gt;i!3
z?xhbtmwkup_3nt#eR1rGy|zH6+&amp;2BrxHMius+E*lIefO!ML{N9*9!#n@@ns77IJ$C
zDG#evM1qW8r&amp;6lZy)hyoUU;K}ow&amp;ZPqYQK&amp;`l0!EYBd12ZwnN?5ba=&amp;Ee!9%)Gt9&amp;
zNU%ZSc52V)ru^7L8n5Gf!n&lt;mHkN)Fy!+^66Hvur5@NGg0n*-`NGFsgb8C&amp;G;^8kRc
z5FJ1*s#`JJ-Cf?+RzBsT+n@&gt;8$-4LP`Mt!`dW#aheZY(Zw|_X&gt;_qm*FL;pwj*OBdi
zBzzk37ZHT9Gn!Au%+Wvy9D19&gt;zTeudN=LOLNQgHSBj)?iWUwAM+~2PDxctA6r0h68
z$+&gt;E-NoLGJic{m#3;Z#e4&gt;U9EYGKHPvV32_BmfbD4}n!Di_H$i7!o6oLZaQH4$+yu
z#&gt;55-&lt;U}I*MNc&amp;O&gt;`Dlb6x|E&gt;keej1*@dOY`$1Pb2YYra?i3w3&amp;Mx6xUY*1v(MVHB
z5Ssm&lt;kwtR2&gt;W*pR%fA3Nu3urO-xozN0&lt;l29h_2ck==&amp;BrSP$5Nd69Bm3`fmXnJ&amp;tr
zy|gd~qAa}-&lt;RaZx|K;F8|2TNqjis{$YiIT5N-M?pyg^7+I)xh^$hcd#W~5iE^u;(C
zdJYcE5TNtp&lt;yJOgNPz6~+pez(PFTUWHg&gt;Zi#Qd6?%b}&gt;cI_mH^0!%1?W;zlC42nAe
zBcoq;O^su3BCXmphU)FHjSw*o%TqtP6a`}KvN#5@-NhFrq?wSi&lt;4Zc|3{6z5?~p3M
z9P7^_fI&amp;gE2t+p&lt;T%mt3SwH0_D76bag#Y#uH_Mq{Qi7xK7ryJU2ueoA=}&gt;?8&gt;JVMD
zZI;zpyf6N*o()mg^YTPW$KB8?)A6Auaey?2pPG`K+fp#9ti+@42&amp;ma%sKTf-+94qN
zJiue{k9Yf8R*TOBkv0R?Z!BCaoiK_Knld{$Ar}=p1X;N_Q7*(oZ{?mDbtI?S+Ijal
z%Zn&amp;XdT0j2jzxYZfJgHS=Mz3jIE678P#Kp6679Dyb`BZ&lt;Ux_w7u5CvEv~o7|{`R6I
z3vOS|)YHPMziNO7T5%X&amp;*Oq%He($8O*wE5|3d&lt;GKNZR!3M&amp;@&amp;XbaS}?7~l5YDH|FX
zAn7D;x$?dYFx*nzovyZ`&gt;*(lkdtQ&lt;}b&amp;GcYOcbZ5r+*n!muNBC&amp;3KS@GxK|Yy5MhK
z&lt;5atP(xeeIirUx_A%W~GvbKQuy7N4h&amp;z#m|snp9Q7RHd5@JhVKlF_z;B(~5ie{;5~
zBsg*b^N7Z&gt;gFnN*)5;io-PV~C&gt;*+Y&amp;&gt;&gt;-xm&gt;-c5H^JcYvfYK=WKJ@;2Z?r!a6ap&gt;Q
z=H9aD{HIrYQX@X({r|DyDF&amp;Z2{`g-drR?)OSDA`EZ8Qf_&gt;+Bg@aN#r&gt;-IK3R*RKr?
z9@pjN?Y8RzE{|E@fO_JGT}4@0c);sdk|(v9i|~E85MWqNc4&amp;&amp;rdtq4_v-`jU6~NXV
zMs&lt;db;GYi1#=saG9UWb9?DLy2UZAp+RC1BjQP$Zx0qY`i0Azu}ZYD;CER9k~{!sNF
zHH3=P)eVKueucqHuPiA|n%Z56kH&lt;&gt;{rXR1w|NI#v@De2~LH}7vL^e*4de$PlMydMe
zA_YN?gd?=$)^3&lt;*3*d)!S=9lAdWIeFN+}CZ7epDyj)zp?Bzgoy)%TlScg?YNQS)Lv
zKR&gt;$m)t@&amp;e?*&gt;|3#v@ylI2kuKc7Bn=@z85^5*L&lt;6g%~@&gt;?#T57=ee*j_&lt;vO%SP&lt;3!
z0e~gz&lt;q19rh81pA4cYDybR3N|8Q*g@d40U1rUVmPi_uPp5gTA0^W&amp;&amp;}x$w3&gt;+2H-C
zczl~wM~d1&amp;(a;dfrRI_EKi%4#b~+|WBySZn4zs^a1VID&gt;U`cUUeYxGwmP1+1hI%aO
z?*eAF2v(XMq`rNltI(wHFueGH`-j96sai~Ki$Xysg(&gt;i|%pHyuc{CUF{vQ~FC!r(S
zR?}CW!9T0#k%_NZX*v;iwYgp94nByGkQN^5X}`DZN*^S`Sxjl=TrH7|0Z&lt;1k4S3kD
z2pzj%6YR&gt;b_FH!bKcgix!ckwJL04C|mm8%lhc8I2hGY^A2*gt#`Jw#06`O&gt;Kjg9}q
z;=LzOv+RUE?2j`x{-1$|4Hz|z(~dJvD@KDjq2&gt;BI$D!``(EGLa+J}h%&lt;NzVngwuA!
zowfFv85s8_7&amp;ePnE8%OiDR&gt;@Pw&lt;Sfu&gt;%(%RjmJa=kIUbQ%=ZzD^uJY(Lk^4#4EhRz
zFx%TZh#_^RjZMw@Rk&gt;i+rKLFW3EQ?6m2Vw6ImU{HhU@$5hX&amp;qD!{ms8&gt;+wI%MeRCK
zWNAR?2LwgdeJ2Pxe~UM_y~J1pB&amp;l5228xZ6Ku$gOjbRTL%ihG&gt;+qR1}g;+&amp;I!t%b8
zf0Uc5;e8%7O!|{`5%CBX@{zmqas~-|pj_(y{TMNLtDhNJObv;fkP|jjxTR@5JlYkz
ztW1DQ|MS1;H;nvEu&amp;tR?%$^zv5Wc0&amp;p)$2oXq%zOvpEf@3v6Z&amp;FxujSeiGGRbblC9
zh8W)@GydR|^2A_v7M&lt;{QHNxb)OCX^l7f@i4uRq&amp;MF&gt;+t?z4_}c4p^@-&gt;3&lt;&gt;S=rHqY
z-#4cz3PRM1XF&amp;z~6DNUYrT$I1l6a7E{G&gt;*&gt;&lt;389rm2&gt;a$*#%zbyqmDq`2s(Og%n|q
zyXC3mPh*0d54btd^E0~CHNegi{cFgPUA0KgnQ(6+(*G;Pod;n5N%7Cgx3ft9r1EsV
z6Cb&amp;q@XE&lt;)Goyd!&gt;NY1E%dB^K;R8WaNBBGuAwI+9IZpPY*eU&gt;&lt;Z+N5xON{8yuQlLu
zn0O&amp;z(=j76&lt;L6C-bsZmXA0^9BFX9^XI5SKkY_a(6D+{FeR6*UBPU7imfQ8^7O&gt;O=0
z8E79$OJMV!8&lt;g9=+zDJoWLW`eml3U5b$Hp|M|R|!nVA9c@zK@U!qGy3jy1?WuwXrK
zuwb6WH!@30!Lh}&gt;+-4ve-gZ9yK$n4N!tYlOU6FQj$sr&lt;(SxKR6DNLapJh*2s_in9&amp;
zqOi6&gt;#vDjyWS|TGD!Rj?nc@fdG$Cm2EDFEt#htkI3+L9VLUrk_3=XTbrZ41-C+o;b
zW(U`gJ8^3c9=!HI8U-k+`XU&gt;nmX%JA-GhS{9~-Ut9FeN1y8H+Fs08BdcwsfQnTiaU
zpB;ReiVfJ&lt;Vr+;7#YLvV&amp;QayLP5b44@j1s}C4L|CxFK@VFEbTd^GeB;FGKnIy#tot
z=&amp;-VcFtEq|K$;;USXlP5^K?Bn5p0?+Zjk4s0?}&lt;jG&lt;{P{rVhR1lT~#29ikB8sF^2+
z#*2FVc&gt;90xqM_&gt;RdvN-p&gt;Vrr+j_doC)zOh(Sb^sy{ohiimphjk00schE7??L{l84#
zR7M1O_}1*&gt;&lt;V2l^Sjhe;TEFf0=X?1Jp2=M&amp;8$tq?KFinXV(ky+#{!zyF;H}=TCrru
z&gt;13{0Np*EI1r-%9py3X%&gt;Cp8=wayal^&amp;meg&lt;vs%BZ#z?h#ql3#-zEit!V*Zl&lt;~SSb
zpkLi5jT{yJoN+r|P9E9JSB(7P^RRbvI3B&amp;fzb8`E9;W{s*SYPasVX$NmTgds1GfB;
zW3?{)Q|?O0Hy_A&gt;m!Iz&lt;8XAkDU?2VHbQl-ET!_Z}@MKFDapTELa|DQ#QXzg)!0n84
zLwsJl_x5P!bDn?s;&lt;#9A1_LS5Q}Tnnf5Q!62J^OGMn&lt;r9k13hW0hLFS@2Uj$N`&amp;%7
zQt?&amp;g@I(FV0=b89T;dICE0!mZW&gt;|&gt;BF&gt;=Dv^x&gt;SZTV95l-EVyXhs}V20`5l96dvrD
zrZ?lpuj?J!v=yYr6Xk{9E6_;Fx(qR{;Hc=_ri2oKg;0#P7cGG&lt;dJX`p2(;QAWTlI%
zc=AwEVkWAdt~H|+nF!CgS(U*D2nTK)1W#OqPMib}p9K!@1TGv%h=~cDcQX@HvDKbt
zVrDqqzgGLZd2!qPkog^gBkJwgwBpbLwzJ`jUbVW)0{fjw3&amp;&amp;Tl$+kBThWK=9-czK;
z8wY;@3iJV^K3QBQ!t;aajJilE%lr94PgPY-Du$449*&gt;X^qPf^_b6vp4q1vIO`;z#&gt;
zbIWDui4xYkprg1XuzqHGdYs#3_1FC3qPAz}dSa)~!+Tjp-f0JQmZ#~Xz{Bbcku~G8
zEoTO&amp;uQ)p|&lt;u6u52q?Yg?S@=2R?|h6)Aep*jk!5#CAogkE{2wx-&amp;!+1r!BY7@ocF8
zTIwNQI)$D%dm{}jjU=ou?rR``9}M$56HXLVJzJm8(M$R0&lt;@&lt;p|g!^(%2~`l@RXkpk
zL?8_uj`=Y+V;4__&amp;g*8r=s@v7*va85e+a~dpDS#e{r2&lt;?G&amp;lfjY#daTuKi&gt;U3_0V(
zha^pvE+~}&lt;v_;Leu|)$B72~Q&gt;$G#DQ{ZRd)B(&gt;bbx&gt;)}KSbyulFmH@9JBU9+fp{Dp
ziS8`3&amp;QO(Ya@dGf$(NK!ooyIBkd_gVm6Q8CB)S?Lv{l_i&amp;{-+W_-AJQV1j%F`|3T&gt;
zqi__^8-Pa?T=is&lt;uc?gAk}HA^-V(nWJ)7q=xy?~PL9O#}#^=Zf;`3SgZNP**&amp;U;ef
zzr_FTz7tTyC32IJTQvI@DO2K9m=XwSOi2MZnwuC*Xz9z&gt;vxNie@iU^Ayey|3BBp&lt;&lt;
zr=e8sYRNL&amp;WGEUpA}WgaJm};7&lt;pPzMIL^s3V~TK5#`0NWr8}G&lt;Qd)ilL^D!S%`mvG
zU?f_{quljIkMj+nvvWW~`*K@zpdIj^Q2zoQ)%Rt3h88o#P~&lt;+fEBC+wpUdux{LJYL
zYPO3_xn_lXtGmlklOsvnf4n%~#ziGJoTdjq8+a_sBlu&lt;;F^eluhRCeLt4d7&amp;+B`hh
zmh3&gt;erG44tn_#=u_qL7C5wrXAbaHAEYi;dego=$FH&lt;aw|ICRxNUm5=ux2;M{L&amp;J*n
zEJg?j+x7BhQdC!43&amp;+915fP^(tg4Fk?b|mCw&lt;1O`w$r@D{F%mNEL*)g3dBD2WX9k_
z$DV}Lh&lt;_|$XFuHp+S}bDk&gt;qzmSr*dfh;)uu**`Gu;{Q#B;|VVOzBvEmcYwfk%I)o~
z%FV&amp;wW_MvX^+bdtYwP*yu6N${wz6YYP!&gt;IG(diWpJzM&gt;kx{2(7z{y?$y-LloRMvh~
z&lt;rdPd%Pn#TKnr(;u7dp6GrP)3cBDE6n9S`sC{{orMsXZLB%#keiO(d-?*8tkqmvU(
z$j;A%{C{2?^Z$DBA9x&amp;V1PZhw&gt;3X3iH9+)=K0@UhPZ1`jG#5l)Eq|4;Jz~PJ8LHr4
zA`W}wRN`yKj*E~W#GVWu^4wB7XbYsFY~n&gt;Ii!YuXyokYWxF|!gkid@4V}NV_K%SQf
zu**sj`txIyQmpU-PlYA|P2nUGv@9I^8o}Bq$poq$)BYTR=XT*mjkyDYxJnR7)Z|@H
zHo^uzS0?a2d?e*;bvnDYx~kNS&amp;2kI~kAP6?upx*@=*&gt;WOeVsIVxstfAT;c*f4ze`z
zgx?gYKjG+ZL;l&gt;OlG4)NS!=ag+a+frV(k0}fblqw*T&gt;t#g`%QjqWk%BB&amp;d&amp;7H!UI^
zji~43y}R!_r!qJ!crW;yMYPJeB*=?20?pJkue9o9A&gt;e8dJ0OkAA!~W5N{SZB4AIWc
zZn54{sTu_roiOHe)+K=G-WPKm)ZQwkAFOg4l;+&gt;@e#qP4KZ$g8=(z}=I1wZH3gMng
zg*XGbCxWlX0&lt;~Uy8=L`UH;^f^cqjpW&amp;NS7k&amp;y*n)ASn2D%7%!~iO9plBY@RhR`&amp;RO
zQvD+{GX~BwYl*(bV^T=9jj%u5ynjI*P9%}U5z5V6qGY|DXo-AS1VbW`XgLrx5#F$6
zd6)jKH1}&gt;lhL2-5tSWpD-V&gt;8#FHXHkvQog*tLkbXMKbw7-b7_~01-ij`im&gt;;qjm22
z$X9~)B0F$8wdWV9@DT;KjUY&lt;^TPlT|Iz&lt;5B(($*-iC~eJ-KqhCeGIfE6(u+!VopK&amp;
zrZ|NNj%6bx7iwHPX7n!+7}{}CWq1`dlPyh&gt;L?-1Kbs!*Y1gH#7Lq``hNR?MrOJvv_
zApRR3W0wz&gt;XNF8XmURm3KdEA-tQ@n}&lt;U;Mf&gt;Z&amp;Gw2?f9&gt;-As(VsN&amp;?*(Z=KE!S5b1
zsmr3X&gt;SyV*MpM!ti`kX&lt;P@91P6wmm-Jvv$Hl83$vy1f4SC&amp;y2c)9nQy0ZKwQ6g+-o
z+N22|qqt_nBT{ihnf*M}A&amp;&gt;^RlF&gt;N1cFPS%asO&lt;q&gt;tW3dK&gt;|gn%@*vwN0V+P4(C@`
zWFnp*5eOJlD@9~vY|PxYBIwVFJwiz_*1oKKMOj&amp;yg_fE5;*u3$q2u`b@)^&lt;bM&lt;2UF
z3$Ei)5NXTqs%xsnrB_OTPGqwXFJky#aPCZHz9oyeN*&gt;`vadk}}r-`&gt;wUe^5^7BWU?
z!_eUG4b*BBuq2n;cX7xfFvI2t(2N2p8R^J`1Q(x|pb&gt;#B%&gt;zpjLu}%k&amp;WbOITkf8F
zc#?wBvq+~3B$0LGMr25(s^d|sml)Ja$9B}JTx&amp;2r&amp;8A{pe~RlG552$V90!xn&lt;i*VP
zf2LK}82lW&gt;gQ%v&lt;=vKXN&gt;`F=)g3C&amp;AQh8umr&lt;|;;D*A0cypS+4F}WR$g~rplP{K@d
zDm!CRYDuW4p+G522E6p-^yF!vyn+Udsao1iW1NAoE#9pOZ7Lx+168No3rWNqB~V|-
zW-d~SOPEM7w5-qlsR88X*?9UFBrh{w!dRjN^#d|k(G-d8syBkNVt7Uk7?W%57U+p9
zh#zq#bYMchhDzGtoMLE&gt;Ect4`N$E4ZYx=3iVoUSAE;u)(5eBy$H}epf2ZpnKgX~tC
zL@)-cj(`g2Ola7eEAA&lt;$d@ELPq`wK+2^u-frDe)t3c=~&lt;&gt;5N_4NTM)gtZ{)*aCb?R
zi_d4_EGX*t&gt;HZF90cURxK6c&amp;x_Clm@Ove?ItOXI4UScGAt=*_XzN*o!&amp;6!|RWUf!0
z`5#7|JM}MYN^;MSt9lcw3oH6Mb}oi}+#h-l=~Q6bJecbr$iLI4vKgpCqCrHkvYo?J
zR4vt5MRV5q?B`1R-*=LoEY|&lt;B2V^a&amp;i?&amp;w74PYTKt&gt;B;*{8$5fyigL#mZWu)Nq`ik
zSzgx7J%Q$i&lt;tO6uH6&amp;hMBYN~R^z0OT^ff&amp;69&amp;UBRBx;5klo-Sjq{4@ZJD2QW#6%Hz
z{CyZs?B%HB5QJ-qxXKcAqJ}}b7`OL?MHst@Lk|yIND&gt;5?M(Sy2`x^c0GHf=S8llH&lt;
zFvQ-u#vbhw+nmAMy=&lt;!AOpgnfBJf_0?2M6+l(fKzXp8VxV=aV688)|mg7B8v|Ct^a
z^uBem?+9&gt;gZdc38&amp;-dXdY;0;8sxa(ac3$^7C_OvBPb?|&lt;y|8@d-m+%@bTv$@1PP3V
z&lt;+7eGu;g@DEg=+iy^QQ#;z3?Ag|i`-p9!(YsnM&gt;)Nyv=JOF%&lt;J47|+UHU$9-3Jc;N
z!6I216=Fh97OIIkKC^Qf2-qoq^H-mL3g-X92By}#IFrOQCTZOn6eMN{DgoI-{`AeK
z23S(8{IGWXT^C{P5&gt;&amp;-YTx~Uc+}UO3=6Ydn0iH&amp;@$xF5HQ1NimX)inppbI&amp;Xo+ppn
z+a7#r3`H1bY&gt;&gt;55=S~?XGOMHfE~%EXCh}iK?$e|8FtDFwDPIs`#AmWKj=rqrssLk2
z#Z8*Z6+qPWd`&lt;8Ba@L&amp;6X@~c@Rrf@z-))l5QNof26@h&gt;Y13o;#Y?ObDJj3N6&lt;e;&lt;Y
zNZ3o63E1xJ@l5RE;%v*&amp;$Wg&lt;mUo%W}!-E^y`-nsw&lt;gOaGb=_c0HG_QKQ%*8uE@5F&amp;
zv=&gt;g?^j6CT@Yvn{nvvgFiKN$TfA+JJN|L6pMjuzca;U41PQLY?5M%D{Tn_#6W$UhG
z&gt;)|QKT9;&lt;49ZpooF`DnRhYF!9yraMiHlAmPg$&amp;?G0fz?AU0J^DM-eifAN%Fls!w{r
zjG0y?w!rR5ub_VJXeK5CMx~Gen=(3=`ID-8?d&gt;Vwhu=t$O541Fk4?GThP+~aE&amp;eN9
z`1es^0Lxz#BQr`!m5?5GPhEUgk1O@ZGVScc&gt;I8%9nt2p&amp;yAL8aSSBJau%FPf2Fnih
zOU7yYPDfG+$legf0PdDt_`!4=F=WY(VJZh4XnkE@27&gt;8qgR5~RZ~T+Hqa$?R%1Q_H
zb&amp;e!runkyacHs&lt;CzDw@zwJWmMuC8z{a#1q1Rgp-8L}77Mptvv)(2w+3Dvno&lt;&gt;&gt;|v{
zU&amp;xt?M&lt;TNss44sap_!78FOinS;Rt6&amp;RaQ&lt;1#7_a$&lt;x_GyZUWQ|!Z%K!5WGZT4oq2a
zB1z!mTM&amp;Q#s#&amp;t5VWgL=uz?#w$qt(Toc@B1aGXU=HeX?qYN4=XdtC|TXL`iaQ_Utx
z&lt;n?R8=L;wr&gt;{p;i_JUjvl{4&lt;n+ZP)gNgMX}C(Ztg$YB9F84f2^ocA&lt;T`_Xuz9`Gwl
z@E{1@xRRi%%c;I^aWdM?PnRhu?mOcyVWhOn%a(i&amp;6f5aP)*^5%D0GM8x8=I8p7-U!
zp1a$uHQ}+EHfdqsv){jwfN46BppfoYRa7*T)zvvWy5AdXS8~Dz!OpPfmcbt%e{&lt;UG
zdEfWBXjOs&amp;MMc#m&lt;V$@Yj&gt;dK2Wx&amp;E0R{&gt;e4DPuq}GBPf9S~j&lt;xo;@75H`{IRj(jXO
zlnOJ_GI?_fu#J++syZ5-6sS0I6ATM;(&lt;AhUA@**OO9A(sd-t4CyC*CySL&lt;&lt;lTzU^!
zM=O~Y96c*Z{oo;7F$45e5F{yI{Y~Hjo9BbSjMe*oUL-^0VaD46&amp;XUKz12j`YJbMwc
zH+nqEQ^Hf9__Ym~LQW3ByAUTKK*Cqy^mUF8eHb{BmtI-A8sDk4X2D}2h3i6Mp&amp;(Bt
zza4we*;eW{cD_~6qVKP_E&lt;V1FU6EG?_2kh0CCP&amp;dTZfj#sc52sA-|?&lt;&gt;t?b(DXT@G
zVp#Rkr!wF|#0f*iqOkaz6&lt;Mj*WI9)-arxXKEiVmC{qlo{*7NnyN(7Yw3*j@5$9XI@
zrE5+vIe5d^OaT7-zbsY1&gt;Im}j@&lt;Qu1+lk2g;#DM9W!3TEz~vN+t1ldih(&lt;$1!%8bC
z5MDoYfB5YZe&gt;@KR5u$4XAsvT+pX1&lt;Cy~W+2G^COn-15nNzUhS^g}IX0YtPl9QEk`4
z9X9OamQ(xI!%OZ7o_v1@X=)CG&gt;v%$Kj{2B9%M9d+vQ+raIW$-sb1eR6N4B!I8$8vi
z@7uJk)$Yr2-fX9vJ-rD^C#bg=A2?rY|MBZrWJpK|3lc)3Sd&amp;bEsO&gt;9tm~g16f!O%c
zjdF7UjCvuan1x|Prci~Hn;Vkq^z?rjIoh-fkmjdyeRZYM?HOlesol8YO84uXsc+lD
z_k9qAmV*3g-akf8OG}G-^kB+XBr!Ocvj#|YiTzV)Sb_uz*XPK7`Sy&gt;ItBwk6{qI?T
z|B&amp;);h-Klu$1?GeeE#*;U(BZSOkl`^9tR&gt;J{1_Rto%?H^1hOuJ{*m&amp;(-b7k+y_=7S
z!gydLdW_xciHR*&lt;(^L6=vRRv2NFwU1B==UJa*{mA2oV64crfV`B^ohGZSE?S4kQjI
ze$EMqM3@6^Cu-fGnx5NW&gt;c;(iF);YWeWx!}%j9NXp`@e&amp;L?S($C+h@A40Z%ZMh;YF
z`9lIv_EksH&amp;wvn7t$!=Z&amp;dOdr{^u84$=_RY3xOBDWxPf#h`IHN2RQ7oKLsBF^NAP@
zwo5^bTKZtU7X1Yp&lt;(s@`?DD#ebclVc&gt;?Y9QESOMsbrna6{u_j#PB3&amp;psFFaVnYe&amp;m
z55-BlBuvbTMyOZ5TK`5em)BL#OZ(-Cb+FU?W{BXDR~$@_-wzPqVYSdI$b&amp;P5H0PIb
zM(9IezP)gcYxPKK{Ry;PmF~^n@y6@cLx6LHsiR(Dq9_ou;&gt;kHi6jtzPHj8WCw{?Fi
z5}le4iqx}`Ms@KFd|l_hi7awks&lt;Y8yx}al$(~fSk{Lkq7kHqACASF+pdpQCu3O=+f
zETTbp9wg4e@Q~)r64Cd5-i+a4LN-iRbmccs=SFOK``(Lvm^bnBHcvpRZSPEW6BrgX
zi4LE{7x??k!7Zu0pW9kmtAIe&amp;0rBB&amp;;_CSv;d(NCDa-oADnMDthCzH}`@U4D#=26#
z`Or*xr?4omaV-p`y=b4C74M2mhtsNRi`$vsLIx9y7##G^9e7tGbnzuHWN;vKAdWka
z`(uOfOD&gt;Y0R*ZmUUtgx(aJrUci5=m1d%k4cP;YSf=FM|_S{m}qSDFpaF(FT3Q8Hga
zV#FEP%r&gt;}ZywWtRWP$&lt;3&lt;9@yI49Dcf^DE&amp;*hKN`ta8h;xGKRV)rjppNfDV5oESa7~
zHpS-imF5dY0M|ccK37PR!A&lt;17_WmJ^;RjR&gt;+!lywx$W(CTl|O2#TK@1yp0d&gt;K3A&lt;*
zUU&gt;!*f$+|lAF_uOuBD$oEtGPztMos}{4?dp#&gt;OK2C07J_qwevLBDWpYZTLuG!G~fA
zzh7U=maOYW6d|46`A64HkgQVtL*`4ToC8C{Jql2-&amp;+iAQb{^YHO6%Zqe}tEE32Ro|
z#S$q9m@36hr{_upHqY4ng4OB;_c}6^+&amp;RhV*TMHIrBr&gt;{CFB0UI=t`aY%S^=hDdra
zo^w-E;s{jy)Y*(?8~-0NM^&amp;Jo&amp;WLc0j=&amp;`-JP`nL@YN-R3tLlx6#t9Nb2*iz^Prse
zm3xU{#X08Z{qbox15PBc2V2(8nOjUKf`G7ju!9%jRWycbIoJ~p)=m(Mccp*blO&gt;Xc
zQtX;oHQNc@i*E)KXw}@!v9av=rXHVPyCkV4@~moM$kk+2VM8c^c)Y16Kx5sXAP`DO
zDu^V=21Afa6-&amp;9z=MaH|V@@m_Nr*6iC^~%bn}mkBdAtbwSPlHtB+_9Rw832Nk*+j)
zuGj(xP8f3e9I_b15K&lt;-_`AW}JexVsqJ{&gt;0Trm`|Dw-x8axyR@Aq&amp;mFU&lt;0MI|@Ak#y
z`R%hGo8W{D^WPx)x9q1e{cIUw!4Um@f6i$fcfFIb5#x$zJ#Q^`c@{`VP~x=H^oyrv
zw71gQd0e&lt;dM?1`K?ySY)I%lV&gt;Knb$Pk2bCMG8?IoTX|=wVb!)m0Ea*^*r}tw6p^o!
zHC50x-sLP8t^Nit9&amp;%I+2Klu6c1KC@4|l*jRNbIyV3m#b!yB*P=sY81mivYQ;R5oA
z;Mr5c^!Dh6_e&amp;)!0&lt;*zaH*NyuL_n9pOQq&amp;NV@~(%5W6rW^YeOrwZ$o4Q_JA(o2qUb
z`Sg!IWFRsmxXEQ@b=5W4X)&gt;)^(dqGSNF!~Ob&amp;3&gt;&lt;Y%o_3U!Wr*@N#&lt;zNw5d6CvzrP
zIN(4Z#yIKn)Ejy`8d;{7l&amp;&gt;X5_?vbAkAyqVtI)d32P8%aQgfp)CO1ePcSq)7gBjZv
zmo|cRp)9@PttBM9kcO{4`-s5~2fW~Itw#gsG3+*h$zNsBbIR?3z3_t&lt;!NTg&amp;ssxCY
zP-9ljEoc*XJ9g_D9d2`r^q=kb$xR$id!ZdrV~z9pT&lt;*Z)^@pNDuN&amp;*mO~dnHc`7H7
zjE)YEb*eVPz10{8+WlfV29;cjz~z1}NP7tiq@mHtNNNI7)&gt;VxzyQWi5(t@H+rZ5&gt;u
zbpkRPbebdm4ToqCfK__*69SM+#`YYl&lt;VTd1X))&lt;G9405xYo%p^wN!NxZTQ|O40OrL
z%MWC@j0cuB2IUccdto|d&lt;PQ45&lt;`B%rL`W1zy}f-*2L;pD1Jo1=U%S&amp;;WFl}K`qCbB
z2{)_uc&gt;r!LgbId6jxI@&lt;$Am~v#tyc^LX;&lt;f3t)qR?JZWaM{wy+RQ;WYMAjVqNN8nM
z!fYix6GSRg8(#uQ|2nu;mY)-n)6oH6M-P2e&amp;n&amp;s~Za0a6sbk&amp;TON%V5yE-X2BSZj@
z8&lt;ie=$`cLoEFdg`PnD#XpZAUafo4t-LlBsjPwDxXFT2VngoG@oB}q#zK&lt;M91e0Fwr
z_;-F#R8fNPyTn5}jln^nSd`c`s8@M8sO(*R^vGlmlMO)LliU2I!TVSRpZj!YGayRb
z$h|eI7NQtcmNbIw&gt;vt%ucEYqWL%zZeeg;+}Agp=-m#3p4`vE&lt;J`-_)m`&lt;kf&gt;Z_4%S
z&gt;kn#Pm_vk;6-w!YNN})PZm&gt;X*^cND@%&gt;*!IEcF&gt;&amp;G7=tPSENZA92)*8&gt;pf$bwjUVz
zgsQ7O4Q8t!E)#+-@RyhkZ!~4pREGd0;baf?qc*M&gt;R=ooio0V4d^=;GBt{cTvL8JH+
zDoAe^Hcm$Uh$$t($R&gt;mKwr5o!coJ|&gt;?Dzh8oryBIpyoKSDtKht|1ZvGTm&amp;9!r;4*t
zMB=@F*N(9p|D=&gt;3C5-OW;ApXYLS7YkU}u&gt;T&amp;ghTTDMsqO&amp;&amp;TvMo&gt;P3aKX;^%Sn)&gt;#
zRM{bHj?BGmH7v54X(L0*_NE3&gt;#YF{F2_TM3jN$TN)X@a}lEkLEjp151*3r@NDk~Ct
z-;yHMhX=&gt;E)Hh$%zv&lt;s6{71=QVI{HDZ*Fb|8yXs(-a#K-4qb2icnWGe&lt;}%l5tFPDL
zfBDYoX=%ZNdO5t;E~%8VUhPdxa@Um&amp;?j%jWrHLhw%k?3LlOuLfu{osi^El{etx&amp;ya
zmVYZD;{8HjxybBcGSEUB=tJ4jwgxc;zWPO^N2nRk(=8?NFd7G#zA6DeUTYIChwn6r
z8z(l7p&gt;1lLLk89SE26Y|aPo)Fp^8*bsFp{gNR8tvugE}mQ&lt;|q+dr-+34zQT*FnzKT
z`6Darn}HcMBJ&amp;70GW6^DS2`dLRqz}hLUlWw%GA-N7yYJVQIHdqWR7B#!ua=xhSPV?
zlQOnsh}U~K1P||ah|jz&gt;3CQaU63r02cO9S}=sj}X-jX6ZG94fR&amp;`^G!FIg1O&amp;80@;
zlYd~j|D))J*~~-bPTHn3EKct5K;EMKXMXM)7rD4dMj13kd=BWKIU=;m;B*I&lt;cI+?{
zZOLdH(ti|PU4sL$M&lt;z0|W&amp;3*6=SNX6(gVkZ`1IzCir#F{eR5{1-}*&amp;AT1r{juz`du
zHGoqdTJ-PcqEkq)6Hd_*Tu8fY-&gt;`WRx0I@&gt;&gt;DNZ{^r)B%!ay}eVNqM?#HJht=6+6O
z5)8-!gh_UvZz|&gt;L;L-f^v#Y)$(R^V3VxiJdj*bmn?I!hls6T&lt;hnsnRO=^s&amp;y4#a^9
z(ITd&lt;n%#$bG48cZqDHFJgZ)Xo;7quVG9U^_OB!y7V#pY}_{5(`O6EvJk2&amp;BEnc1;m
zOr_z$(%}PGBLu@ZI|XWApapXB|4DRTG;pfm?$E#^khLQVA&amp;WdA)yx)`?q+e!&lt;+m7?
z%s+iTAAW1GM1H&lt;&amp;Zn&amp;!~Rdwz9Knc_Y2C&gt;Ga9J)UNC~FO+Qt(Z&lt;FAqLXc@o&amp;_&amp;CT7$
zwJQ#d%V)(&lt;vU1E|HOHPir^q-PVu_Z#EvA8ou(I8n;4{Y%%~qR1a4hg;aye0$A=&amp;`s
zM+op&amp;u)W`@Qpm2@7Yv1k2Knmio;xwAUguCHoOL-kUnKW&lt;&lt;G=JEe{0Ms`$m0#whs1}
zv2XiNhzL&amp;@1&lt;?0lso3*wPAiV57}EL=Al^u`Xt%hSnF)1pt~FQq4N!C8(H;DMB|7$n
z&gt;$$txM+{frS48%&amp;#Crhb$UNc&lt;BUD=Y1SwXZ3OEtq&lt;s_ev2}|sO{V#Z#L?5K&lt;ZIv;m
z&lt;)q8~BIwEOsn3&amp;(t~?n9+0KuL=H6M?2Jhhey4;bY5-Z!D&gt;=e5pg?h#Qg4Nv!H-ZVc
z6HoKET;11$b}^iUgxJ{@$c86*0F^o=2u90xFlPV*QC&gt;bsY3ouXJeO{*QMjX{gJ0Ru
z(4QF;uBNKGZDV7z2DpvSTtxJP1{fL`*mZPY2X{kwl5%p+&amp;n+*Ph54h9;DEh`9EW|j
z;EH8^?UIEB_3odk33%&gt;f$5pt9LCoDw*Sj4a?H`8zhhcBDL-f^ynM;q#;}N}9mseE)
z&gt;)$K_XvtVGB)YikbVU*4(Se)JK@r0}tWzS!Yeq3HLz1}#OoX#m;pcNsXOH@eVUaYC
zO&gt;nX&lt;&lt;ZZLPJT0U&gt;(a`I3_hNNl7#OJ{h%jJ!_l`xoT?muHzZsS@b{&amp;QA1o0d|femJm
zO&lt;U;H4fP&amp;WiOKf?8)k_`Y^PZo7A~Yj|KK=Qk!{k3()(BZm3uI#^e#^TjGZv);}n4*
z$F8-zo9&amp;jMI`R^-AVQ=V`SVo0K2X78;WJEeD*pgIB1RJ!4=4R(V{z4Hiux`)IlCB=
zx_HQ&gt;Jp&lt;N5@k&amp;Wbl9L-lSR*lLvbuC|H`xd+c1Xx4w{oQuAM`V)sVUjrG24_H&amp;hzeg
z&amp;Oo}bpkTA3)g|ueWHYc?L&amp;7E#Wv1F6KJV+vSZI8gY|j{rN!YZzTLIqJ%+nqVSm{1R
zolb}v5n4O1-6&lt;)UTlc`VXbERy_OOED-s&amp;%qx;UwUliz#U&lt;qze9H&gt;|=|Dnvkyd9?mU
zGaDaQ3;i=yt+(w72I0)kl*4G{Ghv$DFj-L+yRih|zoKenuufO&gt;g3=PG5EW$tjZTQ)
zHs0@&gt;^F+;b;iJ6teZ(krcV&lt;LPw}s6SzWxv`0;d3rr^!i&amp;^tX`Mo3h})p0$iHiRrv=
zq=|AvC7AcT-|RiC2_%KV`NDut{N_jhD#)yA&gt;bzygp;Cn*$_fsIf*&amp;Cx^|B(6%={Im
zwBVrbn`Wt1@LXcOJT~c@WXJiN6Td-t^Ca~L`Gpj-$;R(LNmQT}UoE3G@J;{mCqHU%
zV+UcsIi=s(W`uczGJpv1R7!w_R*x+hiw+DcttUx@OOQ3pf&lt;z*_Q@6$OgE+~OnHB-t
zzU%7SX1}MK3v}KNH&amp;X^huZ2pD&lt;%I?Nabd)`Vi&gt;NpnEEnCi$2z&gt;|GQO#y5_cL!%cbF
zyg)|sy#+q$!Z28ZJS~MRDLlBiD2XyWo~bL(0gD*(Kc*&lt;cr9eO_&amp;Wh{9++9?pB=QOs
zD2i6dLQe%Ja+y^4F44}W4s~ab#GbfCnS&lt;uI2CAYfu~X~Y2wv&lt;_KsUNz&gt;i@MA2_y%3
zIiOu$1@$|QJC)SIg%y$JsLVDK=jTF!0~xS@rWe&lt;pRZwjZHOM&amp;vw|R|?jf4&lt;GWT{o{
z`YX%Jvav2_PNM^~YJ%(P$~7gqO%~=JKu%XeH;p7i7XO`HTDA3)xn5~Yhgo}uv&gt;$9V
z?rDs6fV9MM5{96`@5WJtqxcXJ&lt;4u9Oj5(P-ti7_v)z%@MrC2V&gt;1v`b!qa;fbRv9}R
z&gt;B!-rWD@@eFho3z?@VqXM=Rci8?CY1F%l&lt;knVnPAYB0lkMA`Q~?V-PCmA7u_BBHix
zT2*uD1sC&amp;Satp6WpbKIlay32iJscHmmf$y|e(NfuQw~!8#!Y}&amp;A`8!~b9M&lt;AmM($d
zSjl}&gt;&amp;=(NI&lt;`e&lt;(&lt;!n7E+&lt;AIwBiBKj=e3nV=go55hQR_LV2~SJlQTymivV!YQE`cA
zGC*?x$&gt;3lk697zMrbiUtS=RYWRrh(@PQrRaJ}iX6Sp=~!9Gc7cx#_0R4|rX;M?RSz
zDq$J!Rbm9F4Py&amp;x4Oe1{O&gt;86IDL}kuUa!CDRXaH{=9zYSRw6zZ37y&gt;SY#Pl~)eJ5d
z4UDjeU&amp;y5B&amp;l7sU_0zv&gt;k_2dX-@eIRSG9QtYN`kkhsf_lTguf@47R}Zl+yxB09mjU
z1{mRf7jK}kmR#v*ypXPGltv-JmnIH~$$3Fy!w)h7bG4pdY6!?UKZmm!kzxx=m@3)7
zArn~#j#zZPO^dx;kz+_zV16e`3!0m75ObPyN8BXujfgzSN&lt;)&amp;8Uy#&lt;%wm0qIDol4f
znkIiQul7%e&amp;&lt;Za);_bEX&amp;STEqBXH=v13es&lt;6GFDoJMJavG?|Zj-{oZ7e^nX9ZZ&lt;dU
zE=H51jwMl)&lt;&gt;BV&amp;g@TZuH|BlKDT5ME&gt;48H3huCe&gt;R;sIi-G~kz{P0W?Cb{(g&gt;;~Mv
z$B7;M(POd_?!UsoYBk02K_s}B?Cj)xbhzW{$Tc((SDe4|(8=pnSt*%ODl038)%OH9
zU&lt;f%kYySL-Zy$x+(vQ4pP#1~+Dgt7F6(K3YNQ7hq)!J{$AwukBl;4HSifLS&amp;o-E1+
zA?hStt}@Q_B~&amp;wv#1FiK)l@-FE&gt;;Bs;p3W#?9MP-o&gt;pr;&amp;u1#FoM9+cs;hAs?Fw6b
zj~(^-t*xrpC#fNNLV&amp;BT&lt;22FZ(fw@14xux@q7F-P*l=bv^x4f}ld)~3^v6iJ3E@nN
zwzvZYo?X@&gt;Gmr7o6H}VKXNr)pIcC)ZxJfAItZQ}qH%ArR`wKcc_J-TLOJ9?}ta%&gt;g
zmh|PNxE#Q&gt;;s&amp;Enm4LyYP&amp;hgv^cV~~qoRY;LqY!r=`4eKe#owRTXRar$%6r1iQ@^;
zT5!Urhl5+I5x5q%2Oa29(HV2(2s&lt;ZXCJST9LnWl}?&amp;kz&amp;4gK_VjGp(VH%{rEFSE_!
z4vRe7avx2cDDqmn5NU&amp;pa&gt;~96sD7CMl{MtG`g5h8-vpIksPx(M*r@E9$++F!Nl!&gt;a
zVA9C&lt;!}6GgPDUzABcryZm&gt;uo+18JZR2u4`vCu`|q3w8&amp;XY;XVrudlw(y)eY$V7(ck
zPE0SQJlY`?3Nep6LoxUZ)2JD_%o0cqJ6j*mDC?ekp-h`AtZ&lt;63J%4H?OjsaTq^a&gt;)
zP|7p&lt;=?)bGdE|$L0R*(=eIt-#t(JqBFWK6!=Z9s_c@Ar5XTdPA#Y^&amp;4-vOr&amp;6)oE&gt;
zOy^J+zK?Lg+k~&lt;9W78#;n7#03Vs2_W)**YBC7JY%n1&amp;W{3?$lc)q&lt;SLPNb1O&gt;Dweh
zKw&lt;}bGinchE;fMVGjTLi!@^x+&gt;(*W%Wc}V$QuoIaQugPwPamb62lBvKE~?m+Yfgc(
z&amp;96ZCDARkq*&amp;Ho}emw_+ov!=kZq@!8?sb13kAQQxuDkiQuJY&lt;8HWdP&gt;&amp;6ZxC{Z93(
zt#B@iO5JufBhUTc+Qp-EARJYo=Py7ihB&amp;qf9k~0&amp;)yoOqoJIdG*L@h=)6&lt;g@geL-s
zv4Au7Wv3H`-(`47l)ADY1pgpw!zTUxc`;xODTneawmN{_wHZ}VO#|~cF^lmmsf&gt;3O
zSc@|_siquk$Q}^Z1F~QeH+TqVwJb_&gt;90LB}LUiUlIuW5o3-IrFw+P|ej~CwsUQ?8_
zR@{3*8)%?@IeS+h&amp;qIQzRP{_$DTw6nK}%!PA7H&gt;i*lG&lt;&amp;y%#c&lt;a#?~NUbGdOzQ4I;
zzLDG3h8mli%fgO%kj08)218Buapq?AtyIEwRoO~5r@QZ1Nta3??fGvJ5&lt;ZhvN$C?i
zFX#N0z0I9djgiuyQN5{@mz8n{J&amp;(hDY=`?~4k7;MzO5O&gt;&gt;{Pfk&lt;KRA6b;X=3Gqm(j
zaLzxyx)9uLx!@c&amp;0meL2N&amp;9V$yn4-8HIuz{Wjt^IZJM1pfp@M-v52U$A68e&gt;h@^J&amp;
zzg*=@VgdQeORSmg@&amp;E*|id&lt;e&lt;E_LIHVVHTXvogQmS|2NJZ%5cekNIarI|}J*+wu`j
z`AaLYpk^W`h_IZ(T-c(|R&lt;SnPGe=)+(0Vgt*eH&lt;LRH1(*;_A??cX+wUHVPW-do0`*
zsT9lc+uN(Ne&lt;9W2lSef5_ZKAQvd{Q~yHm~okr-=eN^@&amp;bk2EjR#&gt;X(iDGM&lt;Y3{!8c
z9Njhe9}&amp;;z@Cx%wj9L=%9(@Va4w=9bBt_N7xfy?z5en8aLl4;p4obhtX8cJhk_7X(
zC&lt;AhQL;t=ZFjL81p&amp;H@AD_rpz^ZG|9F+m=JvjF`JkGa8vW(|(41-kg7RpZuhfGDJ@
zjvRecR^=FB(NE#=k;x0_KeG1@T_H}!=}HeT^Zo2hj9%9En;7?Cd!@zMg7zTmB}}Et
z7~0#yfcF{Wpmo1jahZhJ_Hv2NtD)SVb{PVEFPcg^I`&amp;3YosW&amp;rCx+b&amp;7Jt)3_vQkv
zk!?)jlT3e}#@ixRDiAOtZAwTjzZH#a%pv&amp;?-;J(#pKy7=UgC?rq(G7|&amp;0D`|{LYsZ
zy%^T&gt;g3Z+fQx6Adqc9o&lt;M7XD*flnG86c={h#8h&gt;2#j{$L(fpCAV?cymvN+*Da!a#F
z#1GRnPcsB)-AbJ4J8#Y~A?T#?&gt;l`Bak_#v=&lt;#JdY!sOBeV3hT`h}ecKcB&lt;sY0|}za
ztV`f^zcm@}_IR%PJb^D(QYTmV)Pp^62zr@DLriRZL8-1&gt;kDB1b7M)TDxgaXW_S1VX
z^dQA`MSt_ipP0m4nScX&lt;8Bfoao^U!WvaGEwKl`xUKYteN&gt;KB*p&gt;i6c8KTX{=1-3qa
z8+CSO{4?2T$py^5l5Ml)qheYHlc+u}Yp`oH?eug(V_+xFY1-2pr6m+F@VR)Kg&gt;tdu
zQ^OUKRgf~1YjAa*H?b5GVneZ?0lz%hzh3`|zS3FP-9?fgA@~)s8*Rm%$H;;N?I8#F
zi+RS~Q4KbjPFMb?S&gt;pr02mjm5nfcq&lt;Pq~2llVFq&amp;o_jjcOl)&gt;`PT3LK){@Fqlyb&amp;D
z`A~R_(bf-epQY|5Epu35(X?5oZh3jxdu^pnh;1g85Z73sR_$-Vc6SVNSeU~`*IIgd
zI$ud`C1Y5cI+jFWNK3dPXZNK?!Ocfz_f7`txZ8|Hee36U%DbPB&gt;2KD3E|BnQUP#U;
z3Xm=Umk|k=W~ZKjR~vv58pxSWaxRJRTuXI1me6G3x)?h14_V7+84sk!&gt;h|e^-k1S=
z{2iI5^*rdG0Qf=!$gvm`@&amp;P6@f0DoesqK$s&amp;SkfJc306aoz;Ep0b1A7t7^+CL_Vji
zT1Hhb7lRiWHq|(FckAX_jqghK%A{^?*&lt;i12dv&gt;GQM#d{OFA&gt;i9zUrygX|@$3Eegqp
zs5848_*6#z!_&lt;KnO2Sk?aE0X~4Qz0Ay~7XmQW^+SACvH4#o_V=i6kR~&amp;inJ*TZX?Z
zR74iG83i&lt;!E}}y&amp;fRLLr=)x0NvlW35+t^)4%-qGca{Z6XZzkQ;dK6=1(ai_Ex@H$0
zj%a&amp;DV2rMc+Gw!JV?&gt;cR)LHXl?bD&lt;H*8t05p8s(9wH2L`ma7gpZgOhOIOZ45u|+*|
z)cy)P?FFjUKRh1?6G$L1lEk~iKR-K#Af2BI^|JJI+6tYqKr#SHh(p*nZDeB&lt;kOH8K
zL-%6&amp;q7*9j^jM3-4scIE&gt;v&gt;*D4u$DgvNNvsC7gAr+M}6^uqep9XKMSbjbb{pY};QS
z_#6A+&amp;08yb*738+z(1pZ4mUok2NU1181rIcVs_OdtMr&lt;y%z}G5AJ*{|Xe)~n;fq(b
zMd^sVc7NnPeiZQ6KCT(9)o({N2aMm=JLuh%e&gt;TXj7$e#2KSq{n-WyzRQP$FAuS#NL
z%!84^d{&gt;Ib_#-mmA0O+*Yymf(=LI+y?xGQktrPsvg^InWQ*jwC(@*W^A42bsI|k3U
zpOMt4ESugogR&amp;+SD`jMkLB`r|Z%lYgy?))S51&gt;r{xTC&amp;F(YU%{zWCU=1p|zI#(eqS
z!7S5tKtnfQ`CWri(FXJ0Fr8cq6D2^ks&amp;zjt&amp;B%LanBHcgD#_bKkj#$?fMzkCq4VI9
z`yuyK_{sq0dA8j61tb@MsGF$zaC&lt;aE?v-Y`*%LT$&lt;f&gt;R!UOsy1$=@KBd3)K9;^7Vt
z7ka&amp;W`Q-cW_42kgA(&amp;lFZa_*MQla1J&amp;GBL$^~(RpGTSd%999NQnLXg$cVlGoardW^
zDU`@&gt;Xdpz6&gt;HF)G)H7TcYsQUCNIdz1zKg&lt;0DSw=GnwIPM&gt;um1+&gt;6ri()&amp;AQ1ywj8f
zHe8YQkn{Ksl!!E0$N-GYHP#IK2^{I)Ad&amp;|E+bOA!a@E!4MjI%=ciO_vs%B*&amp;*A&amp;%%
z8s?_wgY)g&lt;`(7xvVFYwMBnfGQA+Kr13s9Yu3#_F3?S5q?0NHKT|K$v8{E0y{0uz)D
zRK0w?nV=VX@IOZfOr&amp;#Nd=anF7^&amp;;n7XR+?Z)FN^x2&lt;Q2rqrxU7ET7M4BCCq&amp;d$o=
zNU`S^7G7uz@vGX;c~Jm}guJe8c{C%R@wEGSweY_dCr&lt;J?%^!T-2tlAxruJwU@W7;#
z`N|iG&amp;e^!@HIEHOQ7)Kte=Pg7{o#7c3C*^^3s}+Lhl=vETTeF!7pE|nLu#^8p#TDa
z`$V=-_XPgQbfFxrnQa3JY(I_}73prU&amp;F9t@97yWuEMb&lt;GmRi}^oP2p8&gt;*T%G;^O4o
z9%Gw0WrJnbt|9pWOgM0E6;J;wX|6*&gt;7+qq5qpXnx0}i%-=j}HBVdP^(M5vK;@ZlwQ
zrXgd_sH!7F0t*)M+Z0V0sH@Im$46IrK(i(={L3C&amp;AK6cTNOB-~o?LckbJ6_-H$o3a
zzqUP4l0_IT85Sp@#+&gt;veYc@gGsB`ZD#%-gcOg$8S^woQROyD4sg1NeDL+@ej&lt;;}PG
zrBik8a}}S5^Bx&gt;N?j5WdM#teG!6lvL*OS=8O!WCD0=k`ch72i%RWaN)7@Jqo&gt;P3`Q
zR7Ctc8Keyzo&lt;9iB7HiGwJ+rd$G~)5UxEuWMSpc;}X%%%h6&amp;01?xyz+G^Y387Rhs30
z&lt;&gt;cjODJdy?Z8^n=`4vWYu6pd7&amp;8)0o`}_M1vnLi1bM{84vt2(vcCUVu$0d4puFE&amp;C
zDB#9O%2Y4By!n4r*{w9aiH%;SJ|OVljIoh&amp;WO6yIzkU?&lt;D;D2KMMg%_mCxaAEG@MH
zdo}&gt;Z*SjOupWAQs?OVc&amp;qy#sHvHTIUjCQmA+6U=T5?4_{K}ZzG4ts}&amp;hDM}Hh+NgR
zQr3aP=e&gt;mgICwgSA@+3~gSwxRBK`{t2@a)OnGCNRK&amp;@4!k6XW|r&gt;TiW9kq&gt;?saSmF
z$)7`0=5=&gt;Gr`1?eUS94rA@C4=!uDCSSOuDWpPVK0r!bCP+g4|1)p@7ejdidXMpdDM
z17)P8jlF$*uv3zg4R8NXM`s-u#n(ph1rb5I&lt;3~z&amp;h~!Eyu#_$+QqnEm4bmafEg;&gt;}
zA&gt;BwxiF7weOGv(V-~A|mEIZ52z0Y&amp;b_spH0xw&amp;JxJY3|E^&gt;}ht@G9$@gv%bWp2ub)
z$LSYp312E|YU%=DiXITx_Xj3Jqoe)7SY)&lt;P`xVHyC&amp;=Nist*Z4pR;XPwqK7DLLcqP
zmo`afgdcmh{smQQ_pPLaP)Sj-&gt;08j~)=0WK6Fe&lt;7Gcz+TGZQz-boJ~XuYf?%(vs43
zoML`}T&amp;|R&gt;tKh`sq|5vF?&lt;c)HJvq~b?8NW&gt;PQJSA?+VN*O0~4KTwfcXntH*E_jx^T
z!B(iwYKlD}Ia&amp;P=lg;xd+46yUE*v~Oqlt``^^9=(5IHX|F_*1j3Q9&lt;UN;&lt;QdsVSTw
zVf6RSQTxLc2}&lt;RnE$!uf+p!=&amp;e?U`HQ;gTi$q6efYuN6YV0u*jtn~@we-pM1L-}by
z7sJ!-+9(QDGXj&gt;6LVJxqYLo^m=0Bye|2dGne3b0R?)OSjk+Sz}EL(&lt;HWm19^hVU9$
zz$Iov5N~Q#8gvRhOzv_Vok4k~^V*~vtT$?cm&lt;Ci32?UJ^1A8a#D`)@sy~UR&amp;%5@rO
zkat;&lt;KX~Z@hVc!1V#&amp;;=qt?F_gpp{*;myRvM1g~U1%kNOG=Q$?1trer**~&lt;1oS*L_
z`G{c%nnH^t9{b`xx3Zg^WFGyW7IkxC&gt;S}7(=z;XiF(%~bySuxeCU=MHX03@d$~3EP
zD*Wy^Xr(%KpFe-@u=lGt1y3-nhvWHkq8Be-gnZx&amp;(b&amp;&amp;7qL{{FtPr}&gt;)baC^$RD@p
z;Kf$W66ZRGjzauZ3z7E`E5b&amp;9&lt;Sa^kdUiI8MaE714m?Q7$SyyH_JhGzV~a==@;Eh#
zpS2E|+zlGt{%?~W6xk`ox^_9KMk$GBt9X8Sxy=%I&gt;F0{~&amp;GmkqG?Y&lt;hdakan7&lt;f!R
z5jiWDH&gt;&lt;At{H}&gt;m%K!e$Jq5O++Nx*A%EJ&gt;nV1nAsTh_nM*7zHujQAB5Nyej*KC%^a
zbJTiCv$n&gt;ak^FUXcgOy*4l(S{Tph=D{44Qduj9@qt?TFpg_9Jh9q+0!qU0DrDU#g&gt;
z8{MrHm6uOh2~ajJ+Fp5!OA+_RC*NQbI4YL&amp;nc&amp;r|T}sleY4B&gt;}qa7r$sk1r~zGfT}
z`Av#}_F7;6)jx0X?gzqa`Uj$34!m@r&lt;Y78vjBu;3tn9tpXXCaF|LIjE``gDYAGII!
zlIfRS9oYGa&lt;sAR+nLoG))-L}oYY~y7*={vea^hd1N8C$`8SqswedJB$Fk8FlxfPy=
z+0Dg)12HTdPvW-nL(B5pxV$ika$j`9C#q4(aSMUqfq{W*&amp;CYkTYiny3@Hl4~85toI
zVN$qZqsD&gt;uM74JLSJtQ7qgm~?blxv_qt&amp;khw&gt;{F&lt;8zp$Os%1+`N(MjJ*kru)xpsd0
z`j|mTDA~r+QtS2Gw=P9_d5i@Cq807;P4xH}!zlumaqx1D+`&gt;W@lgv{n=s8fWU#G0H
zHT36&gt;M$VwR++=I(&gt;xOmODkCE!&amp;-MN8&amp;KX9&lt;Z_307@gj1}z&amp;_&amp;B7&gt;^gSKIKkU+KP&gt;j
zHx~7}`15HRyv#xvuVPxKpI6z+%8H#~ItLF;;Bvt!dNY!zZKs)ZU0+Y{o~Tu?qP)C3
zST6UYc6kW+shBTqZeI8)IwK&gt;a(f#BZ&gt;PHCbM}O-LCPqeHpu0b*#az7|9_}ucj8W~~
z7v5Q-#5-{_!J8fcH$Cp=HPE^kik7&amp;aaTCF}v#@A&lt;hIQ2yjHRHYluLz+{I1*B*z3i4
zyLK*C0Xo9@h(-zt4M&lt;p6hd|V~Z`?&amp;wR^(BADWr-5olbkd*pN3S|1(?j@L`9ejM3TI
zS+^&gt;&lt;$AO9oK2ap%G5y}{+~?nB@{&lt;-lyYT7#sqebn?ob-{Ry~XW1GMAZ?M$!3;|~?B
zg2zD5%=xgNXKj1@-gG25w($XNzu$*R*zh#q&gt;$p|j8-0D+zn(7{;gq&lt;K#wp?$wFU&lt;V
z?`b$Nl9Q7qzW%xxaOe0aq-)6d9dmPY6R%9Wj@^i=v9?y=ZRwP%0A*C|X&gt;0V8KVVu?
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
CG2Gn%</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1">new file mode 100644</span>
<a href="#l47.2"></a><span id="l47.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..597354c2f975a7e3ea7265211872a55336fb9e46</span>
<a href="#l47.3"></a><span id="l47.3">GIT binary patch
literal 19058
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/mail/themes/qute/mail/messageHeader.css</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/mail/themes/qute/mail/messageHeader.css</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -58,31 +58,38 @@</span>
<a href="#l48.4"></a><span id="l48.4"> }</span>
<a href="#l48.5"></a><span id="l48.5"> </span>
<a href="#l48.6"></a><span id="l48.6"> /* ::::: msg header buttons ::::: */</span>
<a href="#l48.7"></a><span id="l48.7"> .headerContainer</span>
<a href="#l48.8"></a><span id="l48.8"> {</span>
<a href="#l48.9"></a><span id="l48.9">   min-width: 1px;</span>
<a href="#l48.10"></a><span id="l48.10"> }</span>
<a href="#l48.11"></a><span id="l48.11"> </span>
<a href="#l48.12"></a><span id="l48.12" class="difflineplus">+#expandedHeaderRows &gt; row,</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+#expandedHeader2Rows &gt; row {</span>
<a href="#l48.14"></a><span id="l48.14" class="difflineplus">+  /* Ensure that the header names and values are aligned with each other. */</span>
<a href="#l48.15"></a><span id="l48.15" class="difflineplus">+  -moz-box-align: baseline;</span>
<a href="#l48.16"></a><span id="l48.16" class="difflineplus">+}</span>
<a href="#l48.17"></a><span id="l48.17" class="difflineplus">+</span>
<a href="#l48.18"></a><span id="l48.18" class="difflineplus">+#expandedHeadersTopBox {</span>
<a href="#l48.19"></a><span id="l48.19" class="difflineplus">+  /* Ensure that the space between the from row and the one after is</span>
<a href="#l48.20"></a><span id="l48.20" class="difflineplus">+     identical to the spacing between the subsequent header lines. */</span>
<a href="#l48.21"></a><span id="l48.21" class="difflineplus">+  -moz-box-align: end;</span>
<a href="#l48.22"></a><span id="l48.22" class="difflineplus">+}</span>
<a href="#l48.23"></a><span id="l48.23" class="difflineplus">+</span>
<a href="#l48.24"></a><span id="l48.24"> #otherActionsButton {</span>
<a href="#l48.25"></a><span id="l48.25">   margin-bottom: .1em;</span>
<a href="#l48.26"></a><span id="l48.26">   padding-top: 0px;</span>
<a href="#l48.27"></a><span id="l48.27"> }</span>
<a href="#l48.28"></a><span id="l48.28"> </span>
<a href="#l48.29"></a><span id="l48.29"> /* ::::: expanded header pane ::::: */</span>
<a href="#l48.30"></a><span id="l48.30" class="difflineminus">-</span>
<a href="#l48.31"></a><span id="l48.31"> header-view-button-box {</span>
<a href="#l48.32"></a><span id="l48.32">   padding: 0px;</span>
<a href="#l48.33"></a><span id="l48.33"> }</span>
<a href="#l48.34"></a><span id="l48.34"> </span>
<a href="#l48.35"></a><span id="l48.35" class="difflineminus">-#expandedfromBox {</span>
<a href="#l48.36"></a><span id="l48.36" class="difflineminus">-  padding-top: 0.5em;</span>
<a href="#l48.37"></a><span id="l48.37" class="difflineminus">-}</span>
<a href="#l48.38"></a><span id="l48.38" class="difflineminus">-</span>
<a href="#l48.39"></a><span id="l48.39"> #expandedsubjectBox &gt; .headerValue {</span>
<a href="#l48.40"></a><span id="l48.40">   font-weight: bold;</span>
<a href="#l48.41"></a><span id="l48.41"> }</span>
<a href="#l48.42"></a><span id="l48.42"> </span>
<a href="#l48.43"></a><span id="l48.43"> /* ::::: edit message bar ::::: */</span>
<a href="#l48.44"></a><span id="l48.44"> </span>
<a href="#l48.45"></a><span id="l48.45"> #editMessageBox</span>
<a href="#l48.46"></a><span id="l48.46"> {</span>
<a href="#l48.47"></a><span id="l48.47" class="difflineat">@@ -274,21 +281,16 @@ description[selectable=&quot;true&quot;]:focus &gt; d</span>
<a href="#l48.48"></a><span id="l48.48">   padding: 0px;</span>
<a href="#l48.49"></a><span id="l48.49"> }</span>
<a href="#l48.50"></a><span id="l48.50"> </span>
<a href="#l48.51"></a><span id="l48.51"> .msgHeaderView-flat-button:hover {</span>
<a href="#l48.52"></a><span id="l48.52">   -moz-appearance: button;</span>
<a href="#l48.53"></a><span id="l48.53">   color: -moz-buttonhovertext;</span>
<a href="#l48.54"></a><span id="l48.54"> }</span>
<a href="#l48.55"></a><span id="l48.55"> </span>
<a href="#l48.56"></a><span id="l48.56" class="difflineminus">-.headerNameBox {</span>
<a href="#l48.57"></a><span id="l48.57" class="difflineminus">-  width: 7.7em;</span>
<a href="#l48.58"></a><span id="l48.58" class="difflineminus">-  background-color: transparent;</span>
<a href="#l48.59"></a><span id="l48.59" class="difflineminus">-}</span>
<a href="#l48.60"></a><span id="l48.60" class="difflineminus">-</span>
<a href="#l48.61"></a><span id="l48.61"> .headerName {</span>
<a href="#l48.62"></a><span id="l48.62">   color: #888a85; /* lower contrast */</span>
<a href="#l48.63"></a><span id="l48.63">   text-align: right;</span>
<a href="#l48.64"></a><span id="l48.64">   background-color: transparent;</span>
<a href="#l48.65"></a><span id="l48.65">   padding: 0px;</span>
<a href="#l48.66"></a><span id="l48.66">   margin-top: 0;</span>
<a href="#l48.67"></a><span id="l48.67">   -moz-margin-end: 0;</span>
<a href="#l48.68"></a><span id="l48.68"> }</span>
<a href="#l48.69"></a><span id="l48.69" class="difflineat">@@ -487,9 +489,10 @@ mail-emailaddress[selected=&quot;true&quot;] .emai</span>
<a href="#l48.70"></a><span id="l48.70"> .expandHeaderViewButton {</span>
<a href="#l48.71"></a><span id="l48.71">   list-style-image: url(&quot;chrome://global/skin/tree/twisty-open.png&quot;);</span>
<a href="#l48.72"></a><span id="l48.72"> }</span>
<a href="#l48.73"></a><span id="l48.73"> </span>
<a href="#l48.74"></a><span id="l48.74"> mail-multi-emailHeaderField,</span>
<a href="#l48.75"></a><span id="l48.75"> mail-headerfield {</span>
<a href="#l48.76"></a><span id="l48.76">   margin: 0;</span>
<a href="#l48.77"></a><span id="l48.77">   padding: 0;</span>
<a href="#l48.78"></a><span id="l48.78" class="difflineplus">+  -moz-box-align: baseline;</span>
<a href="#l48.79"></a><span id="l48.79"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l49.1"></a><span id="l49.1" class="difflineminus">--- a/mail/themes/qute/mail/primaryToolbar.css</span>
<a href="#l49.2"></a><span id="l49.2" class="difflineplus">+++ b/mail/themes/qute/mail/primaryToolbar.css</span>
<a href="#l49.3"></a><span id="l49.3" class="difflineat">@@ -107,183 +107,195 @@</span>
<a href="#l49.4"></a><span id="l49.4"> #button-replyall:hover {</span>
<a href="#l49.5"></a><span id="l49.5">   -moz-image-region: rect(24px 120px 48px 96px);</span>
<a href="#l49.6"></a><span id="l49.6"> } </span>
<a href="#l49.7"></a><span id="l49.7"> </span>
<a href="#l49.8"></a><span id="l49.8"> #button-replyall[disabled] {</span>
<a href="#l49.9"></a><span id="l49.9">   -moz-image-region: rect(48px 120px 72px 96px) !important;</span>
<a href="#l49.10"></a><span id="l49.10"> } </span>
<a href="#l49.11"></a><span id="l49.11"> </span>
<a href="#l49.12"></a><span id="l49.12" class="difflineminus">-#button-replylist {</span>
<a href="#l49.13"></a><span id="l49.13" class="difflineminus">-  -moz-image-region: rect(0px 120px 24px 96px);</span>
<a href="#l49.14"></a><span id="l49.14" class="difflineminus">-}</span>
<a href="#l49.15"></a><span id="l49.15" class="difflineminus">-</span>
<a href="#l49.16"></a><span id="l49.16" class="difflineminus">-#button-replylist:hover {</span>
<a href="#l49.17"></a><span id="l49.17" class="difflineminus">-  -moz-image-region: rect(24px 120px 48px 96px);</span>
<a href="#l49.18"></a><span id="l49.18" class="difflineminus">-}</span>
<a href="#l49.19"></a><span id="l49.19" class="difflineminus">-</span>
<a href="#l49.20"></a><span id="l49.20" class="difflineminus">-#button-replylist[disabled] {</span>
<a href="#l49.21"></a><span id="l49.21" class="difflineminus">-  -moz-image-region: rect(48px 120px 72px 96px) !important;</span>
<a href="#l49.22"></a><span id="l49.22" class="difflineminus">-}</span>
<a href="#l49.23"></a><span id="l49.23" class="difflineminus">-</span>
<a href="#l49.24"></a><span id="l49.24"> #button-forward {</span>
<a href="#l49.25"></a><span id="l49.25">   -moz-image-region: rect(0px 144px 24px 120px);</span>
<a href="#l49.26"></a><span id="l49.26"> }</span>
<a href="#l49.27"></a><span id="l49.27"> </span>
<a href="#l49.28"></a><span id="l49.28"> #button-forward:hover {</span>
<a href="#l49.29"></a><span id="l49.29">   -moz-image-region: rect(24px 144px 48px 120px);</span>
<a href="#l49.30"></a><span id="l49.30"> } </span>
<a href="#l49.31"></a><span id="l49.31"> </span>
<a href="#l49.32"></a><span id="l49.32"> #button-forward[disabled] {</span>
<a href="#l49.33"></a><span id="l49.33">   -moz-image-region: rect(48px 144px 72px 120px) !important;</span>
<a href="#l49.34"></a><span id="l49.34" class="difflineminus">-} </span>
<a href="#l49.35"></a><span id="l49.35" class="difflineplus">+}</span>
<a href="#l49.36"></a><span id="l49.36"> </span>
<a href="#l49.37"></a><span id="l49.37" class="difflineminus">-.delete-button {</span>
<a href="#l49.38"></a><span id="l49.38" class="difflineplus">+#button-replylist {</span>
<a href="#l49.39"></a><span id="l49.39">   -moz-image-region: rect(0px 168px 24px 144px);</span>
<a href="#l49.40"></a><span id="l49.40"> }</span>
<a href="#l49.41"></a><span id="l49.41"> </span>
<a href="#l49.42"></a><span id="l49.42" class="difflineminus">-.delete-button:hover {</span>
<a href="#l49.43"></a><span id="l49.43" class="difflineplus">+#button-replylist:hover {</span>
<a href="#l49.44"></a><span id="l49.44">   -moz-image-region: rect(24px 168px 48px 144px);</span>
<a href="#l49.45"></a><span id="l49.45" class="difflineminus">-} </span>
<a href="#l49.46"></a><span id="l49.46" class="difflineplus">+}</span>
<a href="#l49.47"></a><span id="l49.47"> </span>
<a href="#l49.48"></a><span id="l49.48" class="difflineminus">-.delete-button[disabled] {</span>
<a href="#l49.49"></a><span id="l49.49" class="difflineplus">+#button-replylist[disabled] {</span>
<a href="#l49.50"></a><span id="l49.50">   -moz-image-region: rect(48px 168px 72px 144px) !important;</span>
<a href="#l49.51"></a><span id="l49.51"> }</span>
<a href="#l49.52"></a><span id="l49.52"> </span>
<a href="#l49.53"></a><span id="l49.53" class="difflineplus">+.delete-button {</span>
<a href="#l49.54"></a><span id="l49.54" class="difflineplus">+  -moz-image-region: rect(0px 192px 24px 168px);</span>
<a href="#l49.55"></a><span id="l49.55" class="difflineplus">+}</span>
<a href="#l49.56"></a><span id="l49.56" class="difflineplus">+</span>
<a href="#l49.57"></a><span id="l49.57" class="difflineplus">+.delete-button:hover {</span>
<a href="#l49.58"></a><span id="l49.58" class="difflineplus">+  -moz-image-region: rect(24px 192px 48px 168px);</span>
<a href="#l49.59"></a><span id="l49.59" class="difflineplus">+} </span>
<a href="#l49.60"></a><span id="l49.60" class="difflineplus">+</span>
<a href="#l49.61"></a><span id="l49.61" class="difflineplus">+.delete-button[disabled] {</span>
<a href="#l49.62"></a><span id="l49.62" class="difflineplus">+  -moz-image-region: rect(48px 192px 72px 168px) !important;</span>
<a href="#l49.63"></a><span id="l49.63" class="difflineplus">+}</span>
<a href="#l49.64"></a><span id="l49.64" class="difflineplus">+</span>
<a href="#l49.65"></a><span id="l49.65"> #button-compact {</span>
<a href="#l49.66"></a><span id="l49.66" class="difflineminus">-  -moz-image-region: rect(0px 432px 24px 408px);</span>
<a href="#l49.67"></a><span id="l49.67" class="difflineplus">+  -moz-image-region: rect(0px 456px 24px 432px);</span>
<a href="#l49.68"></a><span id="l49.68"> }</span>
<a href="#l49.69"></a><span id="l49.69"> </span>
<a href="#l49.70"></a><span id="l49.70"> #button-compact:hover {</span>
<a href="#l49.71"></a><span id="l49.71" class="difflineminus">-  -moz-image-region: rect(24px 432px 48px 408px);</span>
<a href="#l49.72"></a><span id="l49.72" class="difflineplus">+  -moz-image-region: rect(24px 456px 48px 432px);</span>
<a href="#l49.73"></a><span id="l49.73"> }</span>
<a href="#l49.74"></a><span id="l49.74"> </span>
<a href="#l49.75"></a><span id="l49.75"> #button-compact[disabled] {</span>
<a href="#l49.76"></a><span id="l49.76" class="difflineminus">-  -moz-image-region: rect(48px 432px 72px 408px) !important;</span>
<a href="#l49.77"></a><span id="l49.77" class="difflineplus">+  -moz-image-region: rect(48px 456px 72px 432px) !important;</span>
<a href="#l49.78"></a><span id="l49.78"> }</span>
<a href="#l49.79"></a><span id="l49.79"> </span>
<a href="#l49.80"></a><span id="l49.80"> .junk-button {</span>
<a href="#l49.81"></a><span id="l49.81" class="difflineminus">-  -moz-image-region: rect(0px 192px 24px 168px);</span>
<a href="#l49.82"></a><span id="l49.82" class="difflineplus">+  -moz-image-region: rect(0px 216px 24px 192px);</span>
<a href="#l49.83"></a><span id="l49.83"> }</span>
<a href="#l49.84"></a><span id="l49.84"> </span>
<a href="#l49.85"></a><span id="l49.85"> .junk-button:hover {</span>
<a href="#l49.86"></a><span id="l49.86" class="difflineminus">-  -moz-image-region: rect(24px 192px 48px 168px);</span>
<a href="#l49.87"></a><span id="l49.87" class="difflineplus">+  -moz-image-region: rect(24px 216px 48px 192px);</span>
<a href="#l49.88"></a><span id="l49.88"> }</span>
<a href="#l49.89"></a><span id="l49.89"> </span>
<a href="#l49.90"></a><span id="l49.90"> .junk-button[disabled=&quot;true&quot;] {</span>
<a href="#l49.91"></a><span id="l49.91" class="difflineminus">-  -moz-image-region: rect(48px 192px 72px 168px) !important;</span>
<a href="#l49.92"></a><span id="l49.92" class="difflineplus">+  -moz-image-region: rect(48px 216px 72px 192px) !important;</span>
<a href="#l49.93"></a><span id="l49.93"> }</span>
<a href="#l49.94"></a><span id="l49.94"> </span>
<a href="#l49.95"></a><span id="l49.95"> #button-print {</span>
<a href="#l49.96"></a><span id="l49.96" class="difflineminus">-  -moz-image-region: rect(0px 216px 24px 192px);</span>
<a href="#l49.97"></a><span id="l49.97" class="difflineplus">+  -moz-image-region: rect(0px 240px 24px 216px);</span>
<a href="#l49.98"></a><span id="l49.98"> }</span>
<a href="#l49.99"></a><span id="l49.99"> </span>
<a href="#l49.100"></a><span id="l49.100"> #button-print:hover {</span>
<a href="#l49.101"></a><span id="l49.101" class="difflineminus">-  -moz-image-region: rect(24px 216px 48px 192px);</span>
<a href="#l49.102"></a><span id="l49.102" class="difflineplus">+  -moz-image-region: rect(24px 240px 48px 216px);</span>
<a href="#l49.103"></a><span id="l49.103"> }</span>
<a href="#l49.104"></a><span id="l49.104"> </span>
<a href="#l49.105"></a><span id="l49.105"> #button-print[disabled] {</span>
<a href="#l49.106"></a><span id="l49.106" class="difflineminus">-  -moz-image-region: rect(48px 216px 72px 192px) !important;</span>
<a href="#l49.107"></a><span id="l49.107" class="difflineplus">+  -moz-image-region: rect(48px 240px 72px 216px) !important;</span>
<a href="#l49.108"></a><span id="l49.108"> }</span>
<a href="#l49.109"></a><span id="l49.109"> </span>
<a href="#l49.110"></a><span id="l49.110"> #button-stop {</span>
<a href="#l49.111"></a><span id="l49.111" class="difflineminus">-  -moz-image-region: rect(0px 240px 24px 216px);</span>
<a href="#l49.112"></a><span id="l49.112" class="difflineplus">+  -moz-image-region: rect(0px 264px 24px 240px);</span>
<a href="#l49.113"></a><span id="l49.113"> }</span>
<a href="#l49.114"></a><span id="l49.114"> </span>
<a href="#l49.115"></a><span id="l49.115"> #button-stop:hover {</span>
<a href="#l49.116"></a><span id="l49.116" class="difflineminus">-  -moz-image-region: rect(24px 240px 48px 216px);</span>
<a href="#l49.117"></a><span id="l49.117" class="difflineplus">+  -moz-image-region: rect(24px 264px 48px 240px);</span>
<a href="#l49.118"></a><span id="l49.118"> } </span>
<a href="#l49.119"></a><span id="l49.119"> </span>
<a href="#l49.120"></a><span id="l49.120"> #button-stop[disabled=&quot;true&quot;] {</span>
<a href="#l49.121"></a><span id="l49.121" class="difflineminus">-  -moz-image-region: rect(48px 240px 72px 216px) !important;</span>
<a href="#l49.122"></a><span id="l49.122" class="difflineplus">+  -moz-image-region: rect(48px 264px 72px 240px) !important;</span>
<a href="#l49.123"></a><span id="l49.123"> }</span>
<a href="#l49.124"></a><span id="l49.124"> </span>
<a href="#l49.125"></a><span id="l49.125"> #button-file {</span>
<a href="#l49.126"></a><span id="l49.126" class="difflineminus">-  -moz-image-region: rect(0px 264px 24px 240px);</span>
<a href="#l49.127"></a><span id="l49.127" class="difflineplus">+  -moz-image-region: rect(0px 288px 24px 264px);</span>
<a href="#l49.128"></a><span id="l49.128"> }</span>
<a href="#l49.129"></a><span id="l49.129"> </span>
<a href="#l49.130"></a><span id="l49.130"> #button-file:hover,</span>
<a href="#l49.131"></a><span id="l49.131"> #button-file[open] {</span>
<a href="#l49.132"></a><span id="l49.132" class="difflineminus">-  -moz-image-region: rect(24px 264px 48px 240px);</span>
<a href="#l49.133"></a><span id="l49.133" class="difflineplus">+  -moz-image-region: rect(24px 288px 48px 264px);</span>
<a href="#l49.134"></a><span id="l49.134"> } </span>
<a href="#l49.135"></a><span id="l49.135"> </span>
<a href="#l49.136"></a><span id="l49.136"> #button-file[disabled] {</span>
<a href="#l49.137"></a><span id="l49.137" class="difflineminus">-  -moz-image-region: rect(48px 264px 72px 240px) !important;</span>
<a href="#l49.138"></a><span id="l49.138" class="difflineplus">+  -moz-image-region: rect(48px 288px 72px 264px) !important;</span>
<a href="#l49.139"></a><span id="l49.139"> } </span>
<a href="#l49.140"></a><span id="l49.140"> </span>
<a href="#l49.141"></a><span id="l49.141"> #button-next, #button-previous[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.142"></a><span id="l49.142" class="difflineminus">-  -moz-image-region: rect(0px 288px 24px 264px);</span>
<a href="#l49.143"></a><span id="l49.143" class="difflineplus">+  -moz-image-region: rect(0px 312px 24px 288px);</span>
<a href="#l49.144"></a><span id="l49.144"> }</span>
<a href="#l49.145"></a><span id="l49.145"> </span>
<a href="#l49.146"></a><span id="l49.146"> #button-next:hover, #button-previous:hover[chromedir=&quot;rtl&quot;]{</span>
<a href="#l49.147"></a><span id="l49.147" class="difflineminus">-  -moz-image-region: rect(24px 288px 48px 264px);</span>
<a href="#l49.148"></a><span id="l49.148" class="difflineplus">+  -moz-image-region: rect(24px 312px 48px 288px);</span>
<a href="#l49.149"></a><span id="l49.149"> } </span>
<a href="#l49.150"></a><span id="l49.150"> </span>
<a href="#l49.151"></a><span id="l49.151"> #button-next[disabled], #button-previous[chromedir=&quot;rtl&quot;][disabled] {</span>
<a href="#l49.152"></a><span id="l49.152" class="difflineminus">-  -moz-image-region: rect(48px 288px 72px 264px) !important;</span>
<a href="#l49.153"></a><span id="l49.153" class="difflineplus">+  -moz-image-region: rect(48px 312px 72px 288px) !important;</span>
<a href="#l49.154"></a><span id="l49.154"> } </span>
<a href="#l49.155"></a><span id="l49.155"> </span>
<a href="#l49.156"></a><span id="l49.156"> #button-previous, #button-next[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.157"></a><span id="l49.157" class="difflineminus">-  -moz-image-region: rect(0px 312px 24px 288px);</span>
<a href="#l49.158"></a><span id="l49.158" class="difflineplus">+  -moz-image-region: rect(0px 336px 24px 312px);</span>
<a href="#l49.159"></a><span id="l49.159"> }</span>
<a href="#l49.160"></a><span id="l49.160"> </span>
<a href="#l49.161"></a><span id="l49.161"> #button-previous:hover, #button-next:hover[chromedir=&quot;rtl&quot;]{</span>
<a href="#l49.162"></a><span id="l49.162" class="difflineminus">-  -moz-image-region: rect(24px 312px 48px 288px);</span>
<a href="#l49.163"></a><span id="l49.163" class="difflineminus">-} </span>
<a href="#l49.164"></a><span id="l49.164" class="difflineminus">-</span>
<a href="#l49.165"></a><span id="l49.165" class="difflineminus">-#button-previous[disabled], #button-next[chromedir=&quot;rtl&quot;][disabled] {</span>
<a href="#l49.166"></a><span id="l49.166" class="difflineminus">-  -moz-image-region: rect(48px 312px 72px 288px) !important;</span>
<a href="#l49.167"></a><span id="l49.167" class="difflineminus">-} </span>
<a href="#l49.168"></a><span id="l49.168" class="difflineminus">-</span>
<a href="#l49.169"></a><span id="l49.169" class="difflineminus">-#button-mark {</span>
<a href="#l49.170"></a><span id="l49.170" class="difflineminus">-  -moz-image-region: rect(0px 336px 24px 312px);</span>
<a href="#l49.171"></a><span id="l49.171" class="difflineminus">-}</span>
<a href="#l49.172"></a><span id="l49.172" class="difflineminus">-</span>
<a href="#l49.173"></a><span id="l49.173" class="difflineminus">-#button-mark:hover {</span>
<a href="#l49.174"></a><span id="l49.174">   -moz-image-region: rect(24px 336px 48px 312px);</span>
<a href="#l49.175"></a><span id="l49.175"> } </span>
<a href="#l49.176"></a><span id="l49.176"> </span>
<a href="#l49.177"></a><span id="l49.177" class="difflineplus">+#button-previous[disabled], #button-next[chromedir=&quot;rtl&quot;][disabled] {</span>
<a href="#l49.178"></a><span id="l49.178" class="difflineplus">+  -moz-image-region: rect(48px 336px 72px 312px) !important;</span>
<a href="#l49.179"></a><span id="l49.179" class="difflineplus">+} </span>
<a href="#l49.180"></a><span id="l49.180" class="difflineplus">+</span>
<a href="#l49.181"></a><span id="l49.181" class="difflineplus">+#button-mark {</span>
<a href="#l49.182"></a><span id="l49.182" class="difflineplus">+  -moz-image-region: rect(0px 360px 24px 336px);</span>
<a href="#l49.183"></a><span id="l49.183" class="difflineplus">+}</span>
<a href="#l49.184"></a><span id="l49.184" class="difflineplus">+</span>
<a href="#l49.185"></a><span id="l49.185" class="difflineplus">+#button-mark:hover {</span>
<a href="#l49.186"></a><span id="l49.186" class="difflineplus">+  -moz-image-region: rect(24px 360px 48px 336px);</span>
<a href="#l49.187"></a><span id="l49.187" class="difflineplus">+} </span>
<a href="#l49.188"></a><span id="l49.188" class="difflineplus">+</span>
<a href="#l49.189"></a><span id="l49.189"> #button-mark[disabled] {</span>
<a href="#l49.190"></a><span id="l49.190" class="difflineminus">-  -moz-image-region: rect(48px 336px 72px 312px) !important;</span>
<a href="#l49.191"></a><span id="l49.191" class="difflineplus">+  -moz-image-region: rect(48px 360px 72px 336px) !important;</span>
<a href="#l49.192"></a><span id="l49.192"> } </span>
<a href="#l49.193"></a><span id="l49.193"> </span>
<a href="#l49.194"></a><span id="l49.194"> #button-tag {</span>
<a href="#l49.195"></a><span id="l49.195" class="difflineminus">-  -moz-image-region: rect(0px 360px 24px 336px);</span>
<a href="#l49.196"></a><span id="l49.196" class="difflineplus">+  -moz-image-region: rect(0px 384px 24px 360px);</span>
<a href="#l49.197"></a><span id="l49.197"> }</span>
<a href="#l49.198"></a><span id="l49.198"> </span>
<a href="#l49.199"></a><span id="l49.199"> #button-tag:hover {</span>
<a href="#l49.200"></a><span id="l49.200" class="difflineminus">-  -moz-image-region: rect(24px 360px 48px 336px);</span>
<a href="#l49.201"></a><span id="l49.201" class="difflineplus">+  -moz-image-region: rect(24px 384px 48px 360px);</span>
<a href="#l49.202"></a><span id="l49.202"> } </span>
<a href="#l49.203"></a><span id="l49.203"> </span>
<a href="#l49.204"></a><span id="l49.204"> #button-tag[disabled] {</span>
<a href="#l49.205"></a><span id="l49.205" class="difflineminus">-  -moz-image-region: rect(48px 360px 72px 336px) !important;</span>
<a href="#l49.206"></a><span id="l49.206" class="difflineplus">+  -moz-image-region: rect(48px 384px 72px 360px) !important;</span>
<a href="#l49.207"></a><span id="l49.207"> } </span>
<a href="#l49.208"></a><span id="l49.208"> </span>
<a href="#l49.209"></a><span id="l49.209"> #button-goback, #button-goforward[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.210"></a><span id="l49.210" class="difflineminus">-  -moz-image-region: rect(0px 384px 24px 360px);</span>
<a href="#l49.211"></a><span id="l49.211" class="difflineplus">+  -moz-image-region: rect(0px 408px 24px 384px);</span>
<a href="#l49.212"></a><span id="l49.212"> }</span>
<a href="#l49.213"></a><span id="l49.213"> </span>
<a href="#l49.214"></a><span id="l49.214"> #button-goback:hover, #button-goforward:hover[chromedir=&quot;rtl&quot;]{</span>
<a href="#l49.215"></a><span id="l49.215" class="difflineminus">-  -moz-image-region: rect(24px 384px 48px 360px);</span>
<a href="#l49.216"></a><span id="l49.216" class="difflineplus">+  -moz-image-region: rect(24px 408px 48px 384px);</span>
<a href="#l49.217"></a><span id="l49.217"> } </span>
<a href="#l49.218"></a><span id="l49.218"> </span>
<a href="#l49.219"></a><span id="l49.219"> #button-goback[disabled], #button-goforward[chromedir=&quot;rtl&quot;][disabled] {</span>
<a href="#l49.220"></a><span id="l49.220" class="difflineminus">-  -moz-image-region: rect(48px 384px 72px 360px) !important;</span>
<a href="#l49.221"></a><span id="l49.221" class="difflineplus">+  -moz-image-region: rect(48px 408px 72px 384px) !important;</span>
<a href="#l49.222"></a><span id="l49.222"> } </span>
<a href="#l49.223"></a><span id="l49.223"> </span>
<a href="#l49.224"></a><span id="l49.224"> #button-goforward, #button-goback[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.225"></a><span id="l49.225" class="difflineminus">-  -moz-image-region: rect(0px 408px 24px 384px);</span>
<a href="#l49.226"></a><span id="l49.226" class="difflineplus">+  -moz-image-region: rect(0px 432px 24px 408px);</span>
<a href="#l49.227"></a><span id="l49.227"> }</span>
<a href="#l49.228"></a><span id="l49.228"> </span>
<a href="#l49.229"></a><span id="l49.229"> #button-goforward:hover, #button-goback:hover[chromedir=&quot;rtl&quot;]{</span>
<a href="#l49.230"></a><span id="l49.230" class="difflineminus">-  -moz-image-region: rect(24px 408px 48px 384px);</span>
<a href="#l49.231"></a><span id="l49.231" class="difflineplus">+  -moz-image-region: rect(24px 432px 48px 408px);</span>
<a href="#l49.232"></a><span id="l49.232"> } </span>
<a href="#l49.233"></a><span id="l49.233"> </span>
<a href="#l49.234"></a><span id="l49.234"> #button-goforward[disabled], #button-goback[chromedir=&quot;rtl&quot;][disabled] {</span>
<a href="#l49.235"></a><span id="l49.235" class="difflineminus">-  -moz-image-region: rect(48px 408px 72px 384px) !important;</span>
<a href="#l49.236"></a><span id="l49.236" class="difflineplus">+  -moz-image-region: rect(48px 432px 72px 408px) !important;</span>
<a href="#l49.237"></a><span id="l49.237" class="difflineplus">+}</span>
<a href="#l49.238"></a><span id="l49.238" class="difflineplus">+</span>
<a href="#l49.239"></a><span id="l49.239" class="difflineplus">+#button-archive {</span>
<a href="#l49.240"></a><span id="l49.240" class="difflineplus">+  -moz-image-region: rect(0px 480px 24px 456px);</span>
<a href="#l49.241"></a><span id="l49.241" class="difflineplus">+}</span>
<a href="#l49.242"></a><span id="l49.242" class="difflineplus">+</span>
<a href="#l49.243"></a><span id="l49.243" class="difflineplus">+#button-archive:hover {</span>
<a href="#l49.244"></a><span id="l49.244" class="difflineplus">+  -moz-image-region: rect(24px 480px 48px 456px);</span>
<a href="#l49.245"></a><span id="l49.245" class="difflineplus">+}</span>
<a href="#l49.246"></a><span id="l49.246" class="difflineplus">+</span>
<a href="#l49.247"></a><span id="l49.247" class="difflineplus">+#button-archive[disabled] {</span>
<a href="#l49.248"></a><span id="l49.248" class="difflineplus">+  -moz-image-region: rect(48px 480px 72px 456px) !important;</span>
<a href="#l49.249"></a><span id="l49.249"> }</span>
<a href="#l49.250"></a><span id="l49.250"> </span>
<a href="#l49.251"></a><span id="l49.251"> /* ::::: small primary toolbar buttons ::::: */</span>
<a href="#l49.252"></a><span id="l49.252"> </span>
<a href="#l49.253"></a><span id="l49.253"> toolbar[iconsize=&quot;small&quot;] .toolbarbutton-1 {</span>
<a href="#l49.254"></a><span id="l49.254">   list-style-image: url(&quot;chrome://messenger/skin/icons/mail-toolbar-small.png&quot;);</span>
<a href="#l49.255"></a><span id="l49.255"> }</span>
<a href="#l49.256"></a><span id="l49.256"> </span>
<a href="#l49.257"></a><span id="l49.257" class="difflineat">@@ -342,207 +354,219 @@ toolbar[iconsize=&quot;small&quot;] #button-replya</span>
<a href="#l49.258"></a><span id="l49.258"> toolbar[iconsize=&quot;small&quot;] #button-replyall:hover {</span>
<a href="#l49.259"></a><span id="l49.259">   -moz-image-region: rect(16px 80px 32px 64px);</span>
<a href="#l49.260"></a><span id="l49.260"> } </span>
<a href="#l49.261"></a><span id="l49.261"> </span>
<a href="#l49.262"></a><span id="l49.262"> toolbar[iconsize=&quot;small&quot;] #button-replyall[disabled] {</span>
<a href="#l49.263"></a><span id="l49.263">   -moz-image-region: rect(32px 80px 48px 64px) !important;</span>
<a href="#l49.264"></a><span id="l49.264"> } </span>
<a href="#l49.265"></a><span id="l49.265"> </span>
<a href="#l49.266"></a><span id="l49.266" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-replylist {</span>
<a href="#l49.267"></a><span id="l49.267" class="difflineminus">-  -moz-image-region: rect(0px 80px 16px 64px);</span>
<a href="#l49.268"></a><span id="l49.268" class="difflineminus">-}</span>
<a href="#l49.269"></a><span id="l49.269" class="difflineminus">-</span>
<a href="#l49.270"></a><span id="l49.270" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-replylist:hover {</span>
<a href="#l49.271"></a><span id="l49.271" class="difflineminus">-  -moz-image-region: rect(16px 80px 32px 64px);</span>
<a href="#l49.272"></a><span id="l49.272" class="difflineminus">-}</span>
<a href="#l49.273"></a><span id="l49.273" class="difflineminus">-</span>
<a href="#l49.274"></a><span id="l49.274" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-replylist[disabled] {</span>
<a href="#l49.275"></a><span id="l49.275" class="difflineminus">-  -moz-image-region: rect(32px 80px 48px 64px) !important;</span>
<a href="#l49.276"></a><span id="l49.276" class="difflineminus">-}</span>
<a href="#l49.277"></a><span id="l49.277" class="difflineminus">-</span>
<a href="#l49.278"></a><span id="l49.278"> toolbar[iconsize=&quot;small&quot;] #button-forward {</span>
<a href="#l49.279"></a><span id="l49.279">   -moz-image-region: rect(0px 96px 16px 80px);</span>
<a href="#l49.280"></a><span id="l49.280"> }</span>
<a href="#l49.281"></a><span id="l49.281"> </span>
<a href="#l49.282"></a><span id="l49.282"> toolbar[iconsize=&quot;small&quot;] #button-forward:hover {</span>
<a href="#l49.283"></a><span id="l49.283">   -moz-image-region: rect(16px 96px 32px 80px);</span>
<a href="#l49.284"></a><span id="l49.284"> } </span>
<a href="#l49.285"></a><span id="l49.285"> </span>
<a href="#l49.286"></a><span id="l49.286"> toolbar[iconsize=&quot;small&quot;] #button-forward[disabled] {</span>
<a href="#l49.287"></a><span id="l49.287">   -moz-image-region: rect(32px 96px 48px 80px) !important;</span>
<a href="#l49.288"></a><span id="l49.288" class="difflineminus">-} </span>
<a href="#l49.289"></a><span id="l49.289" class="difflineplus">+}</span>
<a href="#l49.290"></a><span id="l49.290" class="difflineplus">+</span>
<a href="#l49.291"></a><span id="l49.291" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-replylist {</span>
<a href="#l49.292"></a><span id="l49.292" class="difflineplus">+  -moz-image-region: rect(0px 112px 16px 96px);</span>
<a href="#l49.293"></a><span id="l49.293" class="difflineplus">+}</span>
<a href="#l49.294"></a><span id="l49.294" class="difflineplus">+</span>
<a href="#l49.295"></a><span id="l49.295" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-replylist:hover {</span>
<a href="#l49.296"></a><span id="l49.296" class="difflineplus">+  -moz-image-region: rect(16px 112px 32px 96px);</span>
<a href="#l49.297"></a><span id="l49.297" class="difflineplus">+}</span>
<a href="#l49.298"></a><span id="l49.298" class="difflineplus">+</span>
<a href="#l49.299"></a><span id="l49.299" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-replylist[disabled] {</span>
<a href="#l49.300"></a><span id="l49.300" class="difflineplus">+  -moz-image-region: rect(32px 112px 48px 96px) !important;</span>
<a href="#l49.301"></a><span id="l49.301" class="difflineplus">+}</span>
<a href="#l49.302"></a><span id="l49.302"> </span>
<a href="#l49.303"></a><span id="l49.303"> toolbar[iconsize=&quot;small&quot;] .delete-button {</span>
<a href="#l49.304"></a><span id="l49.304" class="difflineminus">-  -moz-image-region: rect(0px 112px 16px 96px);</span>
<a href="#l49.305"></a><span id="l49.305" class="difflineplus">+  -moz-image-region: rect(0px 128px 16px 112px);</span>
<a href="#l49.306"></a><span id="l49.306"> }</span>
<a href="#l49.307"></a><span id="l49.307"> </span>
<a href="#l49.308"></a><span id="l49.308"> toolbar[iconsize=&quot;small&quot;] .delete-button:hover {</span>
<a href="#l49.309"></a><span id="l49.309" class="difflineminus">-  -moz-image-region: rect(16px 112px 32px 96px);</span>
<a href="#l49.310"></a><span id="l49.310" class="difflineplus">+  -moz-image-region: rect(16px 128px 32px 112px);</span>
<a href="#l49.311"></a><span id="l49.311"> } </span>
<a href="#l49.312"></a><span id="l49.312"> </span>
<a href="#l49.313"></a><span id="l49.313"> toolbar[iconsize=&quot;small&quot;] .delete-button[disabled] {</span>
<a href="#l49.314"></a><span id="l49.314" class="difflineminus">-  -moz-image-region: rect(32px 112px 48px 96px) !important;</span>
<a href="#l49.315"></a><span id="l49.315" class="difflineplus">+  -moz-image-region: rect(32px 128px 48px 112px) !important;</span>
<a href="#l49.316"></a><span id="l49.316"> } </span>
<a href="#l49.317"></a><span id="l49.317"> </span>
<a href="#l49.318"></a><span id="l49.318"> toolbar[iconsize=&quot;small&quot;] .junk-button{</span>
<a href="#l49.319"></a><span id="l49.319" class="difflineminus">-  -moz-image-region: rect(0px 128px 16px 112px);</span>
<a href="#l49.320"></a><span id="l49.320" class="difflineplus">+  -moz-image-region: rect(0px 144px 16px 128px);</span>
<a href="#l49.321"></a><span id="l49.321"> }</span>
<a href="#l49.322"></a><span id="l49.322"> </span>
<a href="#l49.323"></a><span id="l49.323"> toolbar[iconsize=&quot;small&quot;] .junk-button:hover {</span>
<a href="#l49.324"></a><span id="l49.324" class="difflineminus">-  -moz-image-region: rect(16px 128px 32px 112px);</span>
<a href="#l49.325"></a><span id="l49.325" class="difflineplus">+  -moz-image-region: rect(16px 144px 32px 128px);</span>
<a href="#l49.326"></a><span id="l49.326"> }</span>
<a href="#l49.327"></a><span id="l49.327"> </span>
<a href="#l49.328"></a><span id="l49.328"> toolbar[iconsize=&quot;small&quot;] .junk-button[disabled=&quot;true&quot;] {</span>
<a href="#l49.329"></a><span id="l49.329" class="difflineminus">-  -moz-image-region: rect(32px 128px 48px 112px) !important;</span>
<a href="#l49.330"></a><span id="l49.330" class="difflineminus">-}</span>
<a href="#l49.331"></a><span id="l49.331" class="difflineminus">-</span>
<a href="#l49.332"></a><span id="l49.332" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-print {</span>
<a href="#l49.333"></a><span id="l49.333" class="difflineminus">-  -moz-image-region: rect(0px 144px 16px 128px);</span>
<a href="#l49.334"></a><span id="l49.334" class="difflineminus">-}</span>
<a href="#l49.335"></a><span id="l49.335" class="difflineminus">-</span>
<a href="#l49.336"></a><span id="l49.336" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-print:hover {</span>
<a href="#l49.337"></a><span id="l49.337" class="difflineminus">-  -moz-image-region: rect(16px 144px 32px 128px);</span>
<a href="#l49.338"></a><span id="l49.338" class="difflineminus">-}</span>
<a href="#l49.339"></a><span id="l49.339" class="difflineminus">-</span>
<a href="#l49.340"></a><span id="l49.340" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-print[disabled] {</span>
<a href="#l49.341"></a><span id="l49.341">   -moz-image-region: rect(32px 144px 48px 128px) !important;</span>
<a href="#l49.342"></a><span id="l49.342"> }</span>
<a href="#l49.343"></a><span id="l49.343"> </span>
<a href="#l49.344"></a><span id="l49.344" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-print {</span>
<a href="#l49.345"></a><span id="l49.345" class="difflineplus">+  -moz-image-region: rect(0px 160px 16px 144px);</span>
<a href="#l49.346"></a><span id="l49.346" class="difflineplus">+}</span>
<a href="#l49.347"></a><span id="l49.347" class="difflineplus">+</span>
<a href="#l49.348"></a><span id="l49.348" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-print:hover {</span>
<a href="#l49.349"></a><span id="l49.349" class="difflineplus">+  -moz-image-region: rect(16px 160px 32px 144px);</span>
<a href="#l49.350"></a><span id="l49.350" class="difflineplus">+}</span>
<a href="#l49.351"></a><span id="l49.351" class="difflineplus">+</span>
<a href="#l49.352"></a><span id="l49.352" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-print[disabled] {</span>
<a href="#l49.353"></a><span id="l49.353" class="difflineplus">+  -moz-image-region: rect(32px 160px 48px 144px) !important;</span>
<a href="#l49.354"></a><span id="l49.354" class="difflineplus">+}</span>
<a href="#l49.355"></a><span id="l49.355" class="difflineplus">+</span>
<a href="#l49.356"></a><span id="l49.356"> toolbar[iconsize=&quot;small&quot;] #button-stop {</span>
<a href="#l49.357"></a><span id="l49.357" class="difflineminus">-  -moz-image-region: rect(0px 160px 16px 144px);</span>
<a href="#l49.358"></a><span id="l49.358" class="difflineplus">+  -moz-image-region: rect(0px 176px 16px 160px);</span>
<a href="#l49.359"></a><span id="l49.359"> }</span>
<a href="#l49.360"></a><span id="l49.360"> </span>
<a href="#l49.361"></a><span id="l49.361"> toolbar[iconsize=&quot;small&quot;] #button-stop:hover {</span>
<a href="#l49.362"></a><span id="l49.362" class="difflineminus">-  -moz-image-region: rect(16px 160px 32px 144px);</span>
<a href="#l49.363"></a><span id="l49.363" class="difflineplus">+  -moz-image-region: rect(16px 176px 32px 160px);</span>
<a href="#l49.364"></a><span id="l49.364"> } </span>
<a href="#l49.365"></a><span id="l49.365"> </span>
<a href="#l49.366"></a><span id="l49.366"> toolbar[iconsize=&quot;small&quot;] #button-stop[disabled=&quot;true&quot;] {</span>
<a href="#l49.367"></a><span id="l49.367" class="difflineminus">-  -moz-image-region: rect(32px 160px 48px 144px) !important;</span>
<a href="#l49.368"></a><span id="l49.368" class="difflineplus">+  -moz-image-region: rect(32px 176px 48px 160px) !important;</span>
<a href="#l49.369"></a><span id="l49.369"> }</span>
<a href="#l49.370"></a><span id="l49.370"> </span>
<a href="#l49.371"></a><span id="l49.371"> toolbar[iconsize=&quot;small&quot;] #button-file {</span>
<a href="#l49.372"></a><span id="l49.372" class="difflineminus">-  -moz-image-region: rect(0px 176px 16px 160px);</span>
<a href="#l49.373"></a><span id="l49.373" class="difflineplus">+  -moz-image-region: rect(0px 192px 16px 176px);</span>
<a href="#l49.374"></a><span id="l49.374"> }</span>
<a href="#l49.375"></a><span id="l49.375"> </span>
<a href="#l49.376"></a><span id="l49.376"> toolbar[iconsize=&quot;small&quot;] #button-file:hover,</span>
<a href="#l49.377"></a><span id="l49.377"> toolbar[iconsize=&quot;small&quot;] #button-file[open] {</span>
<a href="#l49.378"></a><span id="l49.378" class="difflineminus">-  -moz-image-region: rect(16px 176px 32px 160px);</span>
<a href="#l49.379"></a><span id="l49.379" class="difflineplus">+  -moz-image-region: rect(16px 192px 32px 176px);</span>
<a href="#l49.380"></a><span id="l49.380"> } </span>
<a href="#l49.381"></a><span id="l49.381"> </span>
<a href="#l49.382"></a><span id="l49.382"> toolbar[iconsize=&quot;small&quot;] #button-file[disabled] {</span>
<a href="#l49.383"></a><span id="l49.383" class="difflineminus">-  -moz-image-region: rect(32px 176px 48px 160px) !important;</span>
<a href="#l49.384"></a><span id="l49.384" class="difflineplus">+  -moz-image-region: rect(32px 192px 48px 176px) !important;</span>
<a href="#l49.385"></a><span id="l49.385"> } </span>
<a href="#l49.386"></a><span id="l49.386"> </span>
<a href="#l49.387"></a><span id="l49.387"> toolbar[iconsize=&quot;small&quot;] #button-next {</span>
<a href="#l49.388"></a><span id="l49.388" class="difflineminus">-  -moz-image-region: rect(0px 192px 16px 176px);</span>
<a href="#l49.389"></a><span id="l49.389" class="difflineplus">+  -moz-image-region: rect(0px 208px 16px 192px);</span>
<a href="#l49.390"></a><span id="l49.390"> }</span>
<a href="#l49.391"></a><span id="l49.391"> </span>
<a href="#l49.392"></a><span id="l49.392"> toolbar[iconsize=&quot;small&quot;] #button-next:hover {</span>
<a href="#l49.393"></a><span id="l49.393" class="difflineminus">-  -moz-image-region: rect(16px 192px 32px 176px);</span>
<a href="#l49.394"></a><span id="l49.394" class="difflineminus">-} </span>
<a href="#l49.395"></a><span id="l49.395" class="difflineminus">-</span>
<a href="#l49.396"></a><span id="l49.396" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-next[disabled] {</span>
<a href="#l49.397"></a><span id="l49.397" class="difflineminus">-  -moz-image-region: rect(32px 192px 48px 176px) !important;</span>
<a href="#l49.398"></a><span id="l49.398" class="difflineminus">-} </span>
<a href="#l49.399"></a><span id="l49.399" class="difflineminus">-</span>
<a href="#l49.400"></a><span id="l49.400" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-next[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.401"></a><span id="l49.401" class="difflineminus">-  -moz-image-region: rect(0px 208px 16px 192px);</span>
<a href="#l49.402"></a><span id="l49.402" class="difflineminus">-}</span>
<a href="#l49.403"></a><span id="l49.403" class="difflineminus">-</span>
<a href="#l49.404"></a><span id="l49.404" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-next:hover[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.405"></a><span id="l49.405">   -moz-image-region: rect(16px 208px 32px 192px);</span>
<a href="#l49.406"></a><span id="l49.406"> } </span>
<a href="#l49.407"></a><span id="l49.407"> </span>
<a href="#l49.408"></a><span id="l49.408" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-next[disabled] {</span>
<a href="#l49.409"></a><span id="l49.409" class="difflineplus">+  -moz-image-region: rect(32px 208px 48px 192px) !important;</span>
<a href="#l49.410"></a><span id="l49.410" class="difflineplus">+} </span>
<a href="#l49.411"></a><span id="l49.411" class="difflineplus">+</span>
<a href="#l49.412"></a><span id="l49.412" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-next[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.413"></a><span id="l49.413" class="difflineplus">+  -moz-image-region: rect(0px 224px 16px 208px);</span>
<a href="#l49.414"></a><span id="l49.414" class="difflineplus">+}</span>
<a href="#l49.415"></a><span id="l49.415" class="difflineplus">+</span>
<a href="#l49.416"></a><span id="l49.416" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-next:hover[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.417"></a><span id="l49.417" class="difflineplus">+  -moz-image-region: rect(16px 224px 32px 208px);</span>
<a href="#l49.418"></a><span id="l49.418" class="difflineplus">+} </span>
<a href="#l49.419"></a><span id="l49.419" class="difflineplus">+</span>
<a href="#l49.420"></a><span id="l49.420"> toolbar[iconsize=&quot;small&quot;] #button-next[chromedir=&quot;rtl&quot;][disabled] {</span>
<a href="#l49.421"></a><span id="l49.421" class="difflineminus">-  -moz-image-region: rect(32px 208px 48px 192px) !important;</span>
<a href="#l49.422"></a><span id="l49.422" class="difflineplus">+  -moz-image-region: rect(32px 224px 48px 208px) !important;</span>
<a href="#l49.423"></a><span id="l49.423"> } </span>
<a href="#l49.424"></a><span id="l49.424"> </span>
<a href="#l49.425"></a><span id="l49.425"> toolbar[iconsize=&quot;small&quot;] #button-previous {</span>
<a href="#l49.426"></a><span id="l49.426" class="difflineminus">-  -moz-image-region: rect(0px 208px 16px 192px);</span>
<a href="#l49.427"></a><span id="l49.427" class="difflineplus">+  -moz-image-region: rect(0px 224px 16px 208px);</span>
<a href="#l49.428"></a><span id="l49.428"> }</span>
<a href="#l49.429"></a><span id="l49.429"> </span>
<a href="#l49.430"></a><span id="l49.430"> toolbar[iconsize=&quot;small&quot;] #button-previous:hover {</span>
<a href="#l49.431"></a><span id="l49.431" class="difflineminus">-  -moz-image-region: rect(16px 208px 32px 192px);</span>
<a href="#l49.432"></a><span id="l49.432" class="difflineplus">+  -moz-image-region: rect(16px 224px 32px 208px);</span>
<a href="#l49.433"></a><span id="l49.433"> } </span>
<a href="#l49.434"></a><span id="l49.434"> </span>
<a href="#l49.435"></a><span id="l49.435"> toolbar[iconsize=&quot;small&quot;] #button-previous[disabled] {</span>
<a href="#l49.436"></a><span id="l49.436" class="difflineminus">-  -moz-image-region: rect(32px 208px 48px 192px) !important;</span>
<a href="#l49.437"></a><span id="l49.437" class="difflineplus">+  -moz-image-region: rect(32px 224px 48px 208px) !important;</span>
<a href="#l49.438"></a><span id="l49.438"> } </span>
<a href="#l49.439"></a><span id="l49.439"> </span>
<a href="#l49.440"></a><span id="l49.440"> toolbar[iconsize=&quot;small&quot;] #button-previous[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.441"></a><span id="l49.441" class="difflineminus">-  -moz-image-region: rect(0px 192px 16px 176px);</span>
<a href="#l49.442"></a><span id="l49.442" class="difflineplus">+  -moz-image-region: rect(0px 208px 16px 192px);</span>
<a href="#l49.443"></a><span id="l49.443"> }</span>
<a href="#l49.444"></a><span id="l49.444"> </span>
<a href="#l49.445"></a><span id="l49.445"> toolbar[iconsize=&quot;small&quot;] #button-previous:hover[chromedir=&quot;rtl&quot;] {</span>
<a href="#l49.446"></a><span id="l49.446" class="difflineminus">-  -moz-image-region: rect(16px 192px 32px 176px);</span>
<a href="#l49.447"></a><span id="l49.447" class="difflineplus">+  -moz-image-region: rect(16px 208px 32px 192px);</span>
<a href="#l49.448"></a><span id="l49.448"> } </span>
<a href="#l49.449"></a><span id="l49.449"> </span>
<a href="#l49.450"></a><span id="l49.450"> toolbar[iconsize=&quot;small&quot;] #button-previous[chromedir=&quot;rtl&quot;][disabled] {</span>
<a href="#l49.451"></a><span id="l49.451" class="difflineminus">-  -moz-image-region: rect(32px 192px 48px 176px) !important;</span>
<a href="#l49.452"></a><span id="l49.452" class="difflineplus">+  -moz-image-region: rect(32px 208px 48px 192px) !important;</span>
<a href="#l49.453"></a><span id="l49.453"> } </span>
<a href="#l49.454"></a><span id="l49.454"> </span>
<a href="#l49.455"></a><span id="l49.455"> toolbar[iconsize=&quot;small&quot;] #button-mark {</span>
<a href="#l49.456"></a><span id="l49.456" class="difflineminus">-  -moz-image-region: rect(0px 224px 16px 208px);</span>
<a href="#l49.457"></a><span id="l49.457" class="difflineplus">+  -moz-image-region: rect(0px 240px 16px 224px);</span>
<a href="#l49.458"></a><span id="l49.458"> }</span>
<a href="#l49.459"></a><span id="l49.459"> </span>
<a href="#l49.460"></a><span id="l49.460"> toolbar[iconsize=&quot;small&quot;] #button-mark:hover {</span>
<a href="#l49.461"></a><span id="l49.461" class="difflineminus">-  -moz-image-region: rect(16px 224px 32px 208px);</span>
<a href="#l49.462"></a><span id="l49.462" class="difflineplus">+  -moz-image-region: rect(16px 240px 32px 224px);</span>
<a href="#l49.463"></a><span id="l49.463"> } </span>
<a href="#l49.464"></a><span id="l49.464"> </span>
<a href="#l49.465"></a><span id="l49.465"> toolbar[iconsize=&quot;small&quot;] #button-mark[disabled] {</span>
<a href="#l49.466"></a><span id="l49.466" class="difflineminus">-  -moz-image-region: rect(32px 224px 48px 208px) !important;</span>
<a href="#l49.467"></a><span id="l49.467" class="difflineplus">+  -moz-image-region: rect(32px 240px 48px 224px) !important;</span>
<a href="#l49.468"></a><span id="l49.468"> }</span>
<a href="#l49.469"></a><span id="l49.469"> </span>
<a href="#l49.470"></a><span id="l49.470"> toolbar[iconsize=&quot;small&quot;] #button-tag {</span>
<a href="#l49.471"></a><span id="l49.471" class="difflineminus">-  -moz-image-region: rect(0px 240px 16px 224px);</span>
<a href="#l49.472"></a><span id="l49.472" class="difflineplus">+  -moz-image-region: rect(0px 256px 16px 240px);</span>
<a href="#l49.473"></a><span id="l49.473"> }</span>
<a href="#l49.474"></a><span id="l49.474"> </span>
<a href="#l49.475"></a><span id="l49.475"> toolbar[iconsize=&quot;small&quot;] #button-tag:hover {</span>
<a href="#l49.476"></a><span id="l49.476" class="difflineminus">-  -moz-image-region: rect(16px 240px 32px 224px);</span>
<a href="#l49.477"></a><span id="l49.477" class="difflineplus">+  -moz-image-region: rect(16px 256px 32px 240px);</span>
<a href="#l49.478"></a><span id="l49.478"> } </span>
<a href="#l49.479"></a><span id="l49.479"> </span>
<a href="#l49.480"></a><span id="l49.480"> toolbar[iconsize=&quot;small&quot;] #button-tag[disabled] {</span>
<a href="#l49.481"></a><span id="l49.481" class="difflineminus">-  -moz-image-region: rect(32px 240px 48px 224px) !important;</span>
<a href="#l49.482"></a><span id="l49.482" class="difflineplus">+  -moz-image-region: rect(32px 256px 48px 240px) !important;</span>
<a href="#l49.483"></a><span id="l49.483"> }</span>
<a href="#l49.484"></a><span id="l49.484"> </span>
<a href="#l49.485"></a><span id="l49.485"> toolbar[iconsize=&quot;small&quot;] #button-goback {</span>
<a href="#l49.486"></a><span id="l49.486" class="difflineminus">-  -moz-image-region: rect(0px 256px 16px 240px);</span>
<a href="#l49.487"></a><span id="l49.487" class="difflineplus">+  -moz-image-region: rect(0px 272px 16px 256px);</span>
<a href="#l49.488"></a><span id="l49.488"> }</span>
<a href="#l49.489"></a><span id="l49.489"> </span>
<a href="#l49.490"></a><span id="l49.490"> toolbar[iconsize=&quot;small&quot;] #button-goback:hover {</span>
<a href="#l49.491"></a><span id="l49.491" class="difflineminus">-  -moz-image-region: rect(16px 256px 32px 240px);</span>
<a href="#l49.492"></a><span id="l49.492" class="difflineminus">-} </span>
<a href="#l49.493"></a><span id="l49.493" class="difflineminus">-</span>
<a href="#l49.494"></a><span id="l49.494" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-goback[disabled] {</span>
<a href="#l49.495"></a><span id="l49.495" class="difflineminus">-  -moz-image-region: rect(32px 256px 48px 240px) !important;</span>
<a href="#l49.496"></a><span id="l49.496" class="difflineminus">-}</span>
<a href="#l49.497"></a><span id="l49.497" class="difflineminus">-</span>
<a href="#l49.498"></a><span id="l49.498" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-goforward {</span>
<a href="#l49.499"></a><span id="l49.499" class="difflineminus">-  -moz-image-region: rect(0px 272px 16px 256px);</span>
<a href="#l49.500"></a><span id="l49.500" class="difflineminus">-}</span>
<a href="#l49.501"></a><span id="l49.501" class="difflineminus">-</span>
<a href="#l49.502"></a><span id="l49.502" class="difflineminus">-toolbar[iconsize=&quot;small&quot;] #button-goforward:hover {</span>
<a href="#l49.503"></a><span id="l49.503">   -moz-image-region: rect(16px 272px 32px 256px);</span>
<a href="#l49.504"></a><span id="l49.504"> } </span>
<a href="#l49.505"></a><span id="l49.505"> </span>
<a href="#l49.506"></a><span id="l49.506" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-goback[disabled] {</span>
<a href="#l49.507"></a><span id="l49.507" class="difflineplus">+  -moz-image-region: rect(32px 272px 48px 256px) !important;</span>
<a href="#l49.508"></a><span id="l49.508" class="difflineplus">+}</span>
<a href="#l49.509"></a><span id="l49.509" class="difflineplus">+</span>
<a href="#l49.510"></a><span id="l49.510" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-goforward {</span>
<a href="#l49.511"></a><span id="l49.511" class="difflineplus">+  -moz-image-region: rect(0px 288px 16px 272px);</span>
<a href="#l49.512"></a><span id="l49.512" class="difflineplus">+}</span>
<a href="#l49.513"></a><span id="l49.513" class="difflineplus">+</span>
<a href="#l49.514"></a><span id="l49.514" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-goforward:hover {</span>
<a href="#l49.515"></a><span id="l49.515" class="difflineplus">+  -moz-image-region: rect(16px 288px 32px 272px);</span>
<a href="#l49.516"></a><span id="l49.516" class="difflineplus">+} </span>
<a href="#l49.517"></a><span id="l49.517" class="difflineplus">+</span>
<a href="#l49.518"></a><span id="l49.518"> toolbar[iconsize=&quot;small&quot;] #button-goforward[disabled] {</span>
<a href="#l49.519"></a><span id="l49.519" class="difflineminus">-  -moz-image-region: rect(32px 272px 48px 256px) !important;</span>
<a href="#l49.520"></a><span id="l49.520" class="difflineplus">+  -moz-image-region: rect(32px 288px 48px 272px) !important;</span>
<a href="#l49.521"></a><span id="l49.521"> }</span>
<a href="#l49.522"></a><span id="l49.522"> </span>
<a href="#l49.523"></a><span id="l49.523"> toolbar[iconsize=&quot;small&quot;] #button-compact {</span>
<a href="#l49.524"></a><span id="l49.524" class="difflineminus">-  -moz-image-region: rect(0px 288px 16px 272px);</span>
<a href="#l49.525"></a><span id="l49.525" class="difflineplus">+  -moz-image-region: rect(0px 304px 16px 288px);</span>
<a href="#l49.526"></a><span id="l49.526"> }</span>
<a href="#l49.527"></a><span id="l49.527"> </span>
<a href="#l49.528"></a><span id="l49.528"> toolbar[iconsize=&quot;small&quot;] #button-compact:hover {</span>
<a href="#l49.529"></a><span id="l49.529" class="difflineminus">-  -moz-image-region: rect(16px 288px 32px 272px);</span>
<a href="#l49.530"></a><span id="l49.530" class="difflineplus">+  -moz-image-region: rect(16px 304px 32px 288px);</span>
<a href="#l49.531"></a><span id="l49.531"> }</span>
<a href="#l49.532"></a><span id="l49.532"> </span>
<a href="#l49.533"></a><span id="l49.533"> toolbar[iconsize=&quot;small&quot;] #button-compact[disabled] {</span>
<a href="#l49.534"></a><span id="l49.534" class="difflineminus">-  -moz-image-region: rect(32px 288px 48px 272px) !important;</span>
<a href="#l49.535"></a><span id="l49.535" class="difflineplus">+  -moz-image-region: rect(32px 304px 48px 288px) !important;</span>
<a href="#l49.536"></a><span id="l49.536" class="difflineplus">+}</span>
<a href="#l49.537"></a><span id="l49.537" class="difflineplus">+</span>
<a href="#l49.538"></a><span id="l49.538" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-archive {</span>
<a href="#l49.539"></a><span id="l49.539" class="difflineplus">+  -moz-image-region: rect(0px 320px 16px 304px);</span>
<a href="#l49.540"></a><span id="l49.540" class="difflineplus">+}</span>
<a href="#l49.541"></a><span id="l49.541" class="difflineplus">+</span>
<a href="#l49.542"></a><span id="l49.542" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-archive:hover {</span>
<a href="#l49.543"></a><span id="l49.543" class="difflineplus">+  -moz-image-region: rect(16px 320px 32px 304px);</span>
<a href="#l49.544"></a><span id="l49.544" class="difflineplus">+}</span>
<a href="#l49.545"></a><span id="l49.545" class="difflineplus">+</span>
<a href="#l49.546"></a><span id="l49.546" class="difflineplus">+toolbar[iconsize=&quot;small&quot;] #button-archive[disabled] {</span>
<a href="#l49.547"></a><span id="l49.547" class="difflineplus">+  -moz-image-region: rect(32px 320px 48px 304px) !important;</span>
<a href="#l49.548"></a><span id="l49.548"> }</span>
<a href="#l49.549"></a><span id="l49.549"> </span>
<a href="#l49.550"></a><span id="l49.550"> /* ::::: end small primary toolbar buttons ::::: */</span>
<a href="#l49.551"></a><span id="l49.551"> </span>
<a href="#l49.552"></a><span id="l49.552"> /* ::::: message notification bar style rules ::::: */</span>
<a href="#l49.553"></a><span id="l49.553"> </span>
<a href="#l49.554"></a><span id="l49.554"> .msgNotificationBar {</span>
<a href="#l49.555"></a><span id="l49.555">   background-color: InfoBackground;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l50.1"></a><span id="l50.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountUtils.js</span>
<a href="#l50.2"></a><span id="l50.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountUtils.js</span>
<a href="#l50.3"></a><span id="l50.3" class="difflineat">@@ -92,23 +92,36 @@ function showMailIntegrationDialog() {</span>
<a href="#l50.4"></a><span id="l50.4">     // the default for mail/news and are not the default client for mail/news</span>
<a href="#l50.5"></a><span id="l50.5">     if (appTypesCheck &amp;&amp; shellService.shouldCheckDefaultClient &amp;&amp;</span>
<a href="#l50.6"></a><span id="l50.6">         !shellService.isDefaultClient(true, appTypesCheck))</span>
<a href="#l50.7"></a><span id="l50.7">         window.openDialog(&quot;chrome://communicator/content/defaultClientDialog.xul&quot;,</span>
<a href="#l50.8"></a><span id="l50.8">                         &quot;DefaultClient&quot;, &quot;modal,centerscreen,chrome,resizable=no&quot;);</span>
<a href="#l50.9"></a><span id="l50.9">   } catch (ex) {}</span>
<a href="#l50.10"></a><span id="l50.10"> }</span>
<a href="#l50.11"></a><span id="l50.11"> </span>
<a href="#l50.12"></a><span id="l50.12" class="difflineminus">-function verifyAccounts(wizardCallback, needsIdentity) </span>
<a href="#l50.13"></a><span id="l50.13" class="difflineplus">+/**</span>
<a href="#l50.14"></a><span id="l50.14" class="difflineplus">+ * Verify that there is at least one account. If not, open a new account wizard.</span>
<a href="#l50.15"></a><span id="l50.15" class="difflineplus">+ *</span>
<a href="#l50.16"></a><span id="l50.16" class="difflineplus">+ * @param wizardCallback if the wizard is run, callback when it is done.</span>
<a href="#l50.17"></a><span id="l50.17" class="difflineplus">+ * @param needsIdentity True only when verifyAccounts is called from the</span>
<a href="#l50.18"></a><span id="l50.18" class="difflineplus">+ *                      compose window. This last condition is so that we open</span>
<a href="#l50.19"></a><span id="l50.19" class="difflineplus">+ *                      the account wizard if the user does not have any</span>
<a href="#l50.20"></a><span id="l50.20" class="difflineplus">+ *                      identities defined and tries to compose mail.</span>
<a href="#l50.21"></a><span id="l50.21" class="difflineplus">+ * @param wizardOpen optional param that allows the caller to specify a</span>
<a href="#l50.22"></a><span id="l50.22" class="difflineplus">+ *                   different method to open a wizard. The wizardOpen method</span>
<a href="#l50.23"></a><span id="l50.23" class="difflineplus">+ *                   takes wizardCallback as an argument. The wizardCallback</span>
<a href="#l50.24"></a><span id="l50.24" class="difflineplus">+ *                   doesn't take any arguments.</span>
<a href="#l50.25"></a><span id="l50.25" class="difflineplus">+ */</span>
<a href="#l50.26"></a><span id="l50.26" class="difflineplus">+function verifyAccounts(wizardCallback, needsIdentity, wizardOpen)</span>
<a href="#l50.27"></a><span id="l50.27"> {</span>
<a href="#l50.28"></a><span id="l50.28" class="difflineminus">-	var openWizard = false;</span>
<a href="#l50.29"></a><span id="l50.29" class="difflineplus">+  var openWizard = false;</span>
<a href="#l50.30"></a><span id="l50.30">   var prefillAccount;</span>
<a href="#l50.31"></a><span id="l50.31" class="difflineminus">-	var state=true;</span>
<a href="#l50.32"></a><span id="l50.32" class="difflineminus">-	var ret = true;</span>
<a href="#l50.33"></a><span id="l50.33" class="difflineminus">-    </span>
<a href="#l50.34"></a><span id="l50.34" class="difflineplus">+  var state=true;</span>
<a href="#l50.35"></a><span id="l50.35" class="difflineplus">+  var ret = true;</span>
<a href="#l50.36"></a><span id="l50.36" class="difflineplus">+</span>
<a href="#l50.37"></a><span id="l50.37">     try {</span>
<a href="#l50.38"></a><span id="l50.38">         var am = Components.classes[accountManagerContractID].getService(Components.interfaces.nsIMsgAccountManager);</span>
<a href="#l50.39"></a><span id="l50.39"> </span>
<a href="#l50.40"></a><span id="l50.40">         // migrate quoting preferences from global to per account. This function returns</span>
<a href="#l50.41"></a><span id="l50.41">         // true if it had to migrate, which we will use to mean this is a just migrated</span>
<a href="#l50.42"></a><span id="l50.42">         // or new profile</span>
<a href="#l50.43"></a><span id="l50.43">         var newProfile = migrateGlobalQuotingPrefs(am.allIdentities);</span>
<a href="#l50.44"></a><span id="l50.44"> </span>
<a href="#l50.45"></a><span id="l50.45" class="difflineat">@@ -149,17 +162,20 @@ function verifyAccounts(wizardCallback, </span>
<a href="#l50.46"></a><span id="l50.46">         // only have one of those, it will be false.</span>
<a href="#l50.47"></a><span id="l50.47">         // needsIdentity is true only when verifyAccounts is called from the</span>
<a href="#l50.48"></a><span id="l50.48">         // compose window. This last condition is so that we open the account</span>
<a href="#l50.49"></a><span id="l50.49">         // wizard if the user does not have any identities defined and tries to</span>
<a href="#l50.50"></a><span id="l50.50">         // compose mail.</span>
<a href="#l50.51"></a><span id="l50.51"> </span>
<a href="#l50.52"></a><span id="l50.52">         if (openWizard || prefillAccount || ((!gAnyValidIdentity) &amp;&amp; needsIdentity))</span>
<a href="#l50.53"></a><span id="l50.53">         {</span>
<a href="#l50.54"></a><span id="l50.54" class="difflineminus">-          MsgAccountWizard(wizardCallback);</span>
<a href="#l50.55"></a><span id="l50.55" class="difflineplus">+          if (wizardOpen != undefined)</span>
<a href="#l50.56"></a><span id="l50.56" class="difflineplus">+            wizardOpen(wizardCallback)</span>
<a href="#l50.57"></a><span id="l50.57" class="difflineplus">+          else</span>
<a href="#l50.58"></a><span id="l50.58" class="difflineplus">+            MsgAccountWizard(wizardCallback);</span>
<a href="#l50.59"></a><span id="l50.59">           ret = false;</span>
<a href="#l50.60"></a><span id="l50.60">         }</span>
<a href="#l50.61"></a><span id="l50.61">         else</span>
<a href="#l50.62"></a><span id="l50.62">         {</span>
<a href="#l50.63"></a><span id="l50.63">           var localFoldersExists;</span>
<a href="#l50.64"></a><span id="l50.64">           try</span>
<a href="#l50.65"></a><span id="l50.65">           {</span>
<a href="#l50.66"></a><span id="l50.66">             localFoldersExists = am.localFoldersServer;</span>
<a href="#l50.67"></a><span id="l50.67" class="difflineat">@@ -294,25 +310,25 @@ function migrateGlobalQuotingPrefs(allId</span>
<a href="#l50.68"></a><span id="l50.68">     pref.setIntPref(&quot;mailnews.quotingPrefs.version&quot;, 1);</span>
<a href="#l50.69"></a><span id="l50.69">   }</span>
<a href="#l50.70"></a><span id="l50.70">   return migrated;</span>
<a href="#l50.71"></a><span id="l50.71"> }</span>
<a href="#l50.72"></a><span id="l50.72"> </span>
<a href="#l50.73"></a><span id="l50.73"> // we do this from a timer because if this is called from the onload=</span>
<a href="#l50.74"></a><span id="l50.74"> // handler, then the parent window doesn't appear until after the wizard</span>
<a href="#l50.75"></a><span id="l50.75"> // has closed, and this is confusing to the user</span>
<a href="#l50.76"></a><span id="l50.76" class="difflineminus">-function NewMailAccount(msgWindow)</span>
<a href="#l50.77"></a><span id="l50.77" class="difflineplus">+function NewMailAccount(msgWindow, okCallback)</span>
<a href="#l50.78"></a><span id="l50.78"> {</span>
<a href="#l50.79"></a><span id="l50.79" class="difflineminus">-  setTimeout(msgNewMailAccount, 0, msgWindow);</span>
<a href="#l50.80"></a><span id="l50.80" class="difflineplus">+  setTimeout(msgNewMailAccount, 0, msgWindow, okCallback);</span>
<a href="#l50.81"></a><span id="l50.81"> }</span>
<a href="#l50.82"></a><span id="l50.82"> </span>
<a href="#l50.83"></a><span id="l50.83" class="difflineminus">-function msgNewMailAccount(msgWindow)</span>
<a href="#l50.84"></a><span id="l50.84" class="difflineplus">+function msgNewMailAccount(msgWindow, okCallback)</span>
<a href="#l50.85"></a><span id="l50.85"> {</span>
<a href="#l50.86"></a><span id="l50.86">   let wm = Components.classes[&quot;@mozilla.org/appshell/window-mediator;1&quot;]</span>
<a href="#l50.87"></a><span id="l50.87">                      .getService()</span>
<a href="#l50.88"></a><span id="l50.88">                      .QueryInterface(Components.interfaces.nsIWindowMediator);</span>
<a href="#l50.89"></a><span id="l50.89">   let existingWindow = wm.getMostRecentWindow(&quot;mail:autoconfig&quot;);</span>
<a href="#l50.90"></a><span id="l50.90">   if (existingWindow)</span>
<a href="#l50.91"></a><span id="l50.91">     existingWindow.focus();</span>
<a href="#l50.92"></a><span id="l50.92">   else</span>
<a href="#l50.93"></a><span id="l50.93">     window.openDialog(&quot;chrome://messenger/content/accountcreation/emailWizard.xul&quot;,</span>
<a href="#l50.94"></a><span id="l50.94" class="difflineminus">-                      &quot;AccountSetup&quot;, &quot;chrome,titlebar,centerscreen&quot;,{msgWindow:msgWindow});</span>
<a href="#l50.95"></a><span id="l50.95" class="difflineplus">+                      &quot;AccountSetup&quot;, &quot;chrome,titlebar,centerscreen&quot;,{msgWindow:msgWindow, okCallback:okCallback});</span>
<a href="#l50.96"></a><span id="l50.96"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l51.1"></a><span id="l51.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/emailWizard.js</span>
<a href="#l51.2"></a><span id="l51.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/emailWizard.js</span>
<a href="#l51.3"></a><span id="l51.3" class="difflineat">@@ -108,20 +108,24 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.4"></a><span id="l51.4">     this._userChangedIncomingSocketType = false;</span>
<a href="#l51.5"></a><span id="l51.5">     this._userChangedOutgoingPort = false;</span>
<a href="#l51.6"></a><span id="l51.6">     this._userChangedOutgoingSocketType = false;</span>
<a href="#l51.7"></a><span id="l51.7">     this._userChangedPassword = false;</span>
<a href="#l51.8"></a><span id="l51.8"> </span>
<a href="#l51.9"></a><span id="l51.9">     this._incomingWarning = 'cleartext';</span>
<a href="#l51.10"></a><span id="l51.10">     this._outgoingWarning = 'cleartext';</span>
<a href="#l51.11"></a><span id="l51.11">     this._userPickedOutgoingServer = false;</span>
<a href="#l51.12"></a><span id="l51.12" class="difflineplus">+    this._okCallback = null;</span>
<a href="#l51.13"></a><span id="l51.13"> </span>
<a href="#l51.14"></a><span id="l51.14" class="difflineminus">-    if (window.arguments &amp;&amp; window.arguments[0] &amp;&amp;</span>
<a href="#l51.15"></a><span id="l51.15" class="difflineminus">-        window.arguments[0].msgWindow)</span>
<a href="#l51.16"></a><span id="l51.16" class="difflineminus">-      this._parentMsgWindow = window.arguments[0].msgWindow;</span>
<a href="#l51.17"></a><span id="l51.17" class="difflineplus">+    if (window.arguments &amp;&amp; window.arguments[0]) {</span>
<a href="#l51.18"></a><span id="l51.18" class="difflineplus">+      if (window.arguments[0].msgWindow)</span>
<a href="#l51.19"></a><span id="l51.19" class="difflineplus">+        this._parentMsgWindow = window.arguments[0].msgWindow;</span>
<a href="#l51.20"></a><span id="l51.20" class="difflineplus">+      if (window.arguments[0].okCallback)</span>
<a href="#l51.21"></a><span id="l51.21" class="difflineplus">+        this._okCallback = window.arguments[0].okCallback;</span>
<a href="#l51.22"></a><span id="l51.22" class="difflineplus">+    }</span>
<a href="#l51.23"></a><span id="l51.23"> </span>
<a href="#l51.24"></a><span id="l51.24">     gStringsBundle = document.getElementById(&quot;strings&quot;);</span>
<a href="#l51.25"></a><span id="l51.25">     gBrandBundle = document.getElementById(&quot;bundle_brand&quot;);</span>
<a href="#l51.26"></a><span id="l51.26"> </span>
<a href="#l51.27"></a><span id="l51.27">     // Populate SMTP server dropdown with already configured SMTP servers from</span>
<a href="#l51.28"></a><span id="l51.28">     // other accounts.</span>
<a href="#l51.29"></a><span id="l51.29">     let gSmtpManager = Cc[&quot;@mozilla.org/messengercompose/smtp;1&quot;]</span>
<a href="#l51.30"></a><span id="l51.30">                        .getService(Ci.nsISmtpService);</span>
<a href="#l51.31"></a><span id="l51.31" class="difflineat">@@ -140,16 +144,23 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.32"></a><span id="l51.32">       menuitem.setAttribute(&quot;label&quot;, label);</span>
<a href="#l51.33"></a><span id="l51.33">       menuitem.setAttribute(&quot;value&quot;, server.key);</span>
<a href="#l51.34"></a><span id="l51.34">       menuitem.hostname = server.hostname;</span>
<a href="#l51.35"></a><span id="l51.35">       menupopup.appendChild(menuitem);</span>
<a href="#l51.36"></a><span id="l51.36">     }</span>
<a href="#l51.37"></a><span id="l51.37">     var menulist = document.getElementById(&quot;outgoing_server&quot;);</span>
<a href="#l51.38"></a><span id="l51.38">     menulist.addEventListener(&quot;command&quot;,</span>
<a href="#l51.39"></a><span id="l51.39">       function(event) { gEmailConfigWizard.userChangedOutgoing(event); }, true);</span>
<a href="#l51.40"></a><span id="l51.40" class="difflineplus">+</span>
<a href="#l51.41"></a><span id="l51.41" class="difflineplus">+    // Store the size of the bottom half of the window in the fullspacer</span>
<a href="#l51.42"></a><span id="l51.42" class="difflineplus">+    // element, so that we don't resize wildly when we show and hide it.</span>
<a href="#l51.43"></a><span id="l51.43" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l51.44"></a><span id="l51.44" class="difflineplus">+    document.getElementById(&quot;settingsbox&quot;).hidden = true;</span>
<a href="#l51.45"></a><span id="l51.45" class="difflineplus">+    document.getElementById(&quot;fullspacer&quot;).width = document.width;</span>
<a href="#l51.46"></a><span id="l51.46" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l51.47"></a><span id="l51.47">   },</span>
<a href="#l51.48"></a><span id="l51.48"> </span>
<a href="#l51.49"></a><span id="l51.49">   /* When the next button is clicked we've moved from the initial account</span>
<a href="#l51.50"></a><span id="l51.50">    * information stage to using that information to configure account details.</span>
<a href="#l51.51"></a><span id="l51.51">    */</span>
<a href="#l51.52"></a><span id="l51.52">   onNext : function()</span>
<a href="#l51.53"></a><span id="l51.53">   {</span>
<a href="#l51.54"></a><span id="l51.54">     // change the inputs to a flat look</span>
<a href="#l51.55"></a><span id="l51.55" class="difflineat">@@ -165,48 +176,48 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.56"></a><span id="l51.56">     this.findConfig(this._domain, this._email);</span>
<a href="#l51.57"></a><span id="l51.57"> </span>
<a href="#l51.58"></a><span id="l51.58">     // swap out buttons</span>
<a href="#l51.59"></a><span id="l51.59">     _hide(&quot;next_button&quot;);</span>
<a href="#l51.60"></a><span id="l51.60">     _show(&quot;back_button&quot;);</span>
<a href="#l51.61"></a><span id="l51.61">     _show(&quot;stop_button&quot;);</span>
<a href="#l51.62"></a><span id="l51.62">     _hide(&quot;edit_button&quot;);</span>
<a href="#l51.63"></a><span id="l51.63">     _hide(&quot;go_button&quot;);</span>
<a href="#l51.64"></a><span id="l51.64" class="difflineplus">+</span>
<a href="#l51.65"></a><span id="l51.65" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l51.66"></a><span id="l51.66">   },</span>
<a href="#l51.67"></a><span id="l51.67"> </span>
<a href="#l51.68"></a><span id="l51.68">   /* The back button can be clicked at anytime and should stop all probing of</span>
<a href="#l51.69"></a><span id="l51.69">    * account details.  This allows the person to return to their account</span>
<a href="#l51.70"></a><span id="l51.70">    * information details in case anything was incorrect.</span>
<a href="#l51.71"></a><span id="l51.71">    *</span>
<a href="#l51.72"></a><span id="l51.72">    * Any account details that were manually entered should be remembered even</span>
<a href="#l51.73"></a><span id="l51.73">    * when this back button is clicked</span>
<a href="#l51.74"></a><span id="l51.74">    */</span>
<a href="#l51.75"></a><span id="l51.75">   onBack : function()</span>
<a href="#l51.76"></a><span id="l51.76">   {</span>
<a href="#l51.77"></a><span id="l51.77" class="difflineplus">+    this._disableConfigDetails(true);</span>
<a href="#l51.78"></a><span id="l51.78">     this.hideConfigDetails();</span>
<a href="#l51.79"></a><span id="l51.79">     this.clearConfigDetails();</span>
<a href="#l51.80"></a><span id="l51.80"> </span>
<a href="#l51.81"></a><span id="l51.81">     // change the inputs back to regular</span>
<a href="#l51.82"></a><span id="l51.82">     this._accountInfoInputs(false);</span>
<a href="#l51.83"></a><span id="l51.83"> </span>
<a href="#l51.84"></a><span id="l51.84">     // swap buttons back</span>
<a href="#l51.85"></a><span id="l51.85">     _show(&quot;next_button&quot;);</span>
<a href="#l51.86"></a><span id="l51.86">     _hide(&quot;back_button&quot;);</span>
<a href="#l51.87"></a><span id="l51.87" class="difflineplus">+    document.getElementById(&quot;advanced_settings&quot;).disabled = true;</span>
<a href="#l51.88"></a><span id="l51.88">     _hide(&quot;advanced_settings&quot;);</span>
<a href="#l51.89"></a><span id="l51.89">   },</span>
<a href="#l51.90"></a><span id="l51.90"> </span>
<a href="#l51.91"></a><span id="l51.91">   /* Helper method that enables or disabled all the account information inputs</span>
<a href="#l51.92"></a><span id="l51.92" class="difflineminus">-   *</span>
<a href="#l51.93"></a><span id="l51.93" class="difflineminus">-   * NOTE: The remember password input was skipped purposefully, people should</span>
<a href="#l51.94"></a><span id="l51.94" class="difflineminus">-   *        continue to be able to change that setting even as account details</span>
<a href="#l51.95"></a><span id="l51.95" class="difflineminus">-   *        are determined.</span>
<a href="#l51.96"></a><span id="l51.96">    */</span>
<a href="#l51.97"></a><span id="l51.97">   _accountInfoInputs : function(disabled)</span>
<a href="#l51.98"></a><span id="l51.98">   {</span>
<a href="#l51.99"></a><span id="l51.99" class="difflineminus">-    let ids = [&quot;realname&quot;,&quot;email&quot;,&quot;password&quot;];</span>
<a href="#l51.100"></a><span id="l51.100" class="difflineplus">+    let ids = [&quot;realname&quot;, &quot;email&quot;, &quot;password&quot;, &quot;remember_password&quot;];</span>
<a href="#l51.101"></a><span id="l51.101">     if (disabled &amp;&amp; document.getElementById(&quot;password&quot;).getAttribute(&quot;empty&quot;)) {</span>
<a href="#l51.102"></a><span id="l51.102">       document.getElementById(&quot;password&quot;).value = &quot; &quot;;</span>
<a href="#l51.103"></a><span id="l51.103">       document.getElementById(&quot;password&quot;).setAttribute(&quot;empty&quot;, true);</span>
<a href="#l51.104"></a><span id="l51.104">       document.getElementById(&quot;remember_password&quot;).checked = false;</span>
<a href="#l51.105"></a><span id="l51.105">     }</span>
<a href="#l51.106"></a><span id="l51.106"> </span>
<a href="#l51.107"></a><span id="l51.107">     for ( let i = 0; i &lt; ids.length; i++ )</span>
<a href="#l51.108"></a><span id="l51.108">       document.getElementById(ids[i]).disabled = disabled;</span>
<a href="#l51.109"></a><span id="l51.109" class="difflineat">@@ -259,20 +270,27 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.110"></a><span id="l51.110">   },</span>
<a href="#l51.111"></a><span id="l51.111"> </span>
<a href="#l51.112"></a><span id="l51.112">   /* This does very little other than to check that a name was entered at all</span>
<a href="#l51.113"></a><span id="l51.113">    * Since this is such an insignificant test we should be using a very light</span>
<a href="#l51.114"></a><span id="l51.114">    * or even jovial warning.</span>
<a href="#l51.115"></a><span id="l51.115">    */</span>
<a href="#l51.116"></a><span id="l51.116">   validateRealname : function()</span>
<a href="#l51.117"></a><span id="l51.117">   {</span>
<a href="#l51.118"></a><span id="l51.118" class="difflineminus">-    if (document.getElementById('realname').value.length &gt; 0)</span>
<a href="#l51.119"></a><span id="l51.119" class="difflineminus">-      this.clearError('nameerror');</span>
<a href="#l51.120"></a><span id="l51.120" class="difflineminus">-    else</span>
<a href="#l51.121"></a><span id="l51.121" class="difflineminus">-      this.setError(&quot;nameerror&quot;, &quot;name.error&quot;);</span>
<a href="#l51.122"></a><span id="l51.122" class="difflineplus">+    let realname = document.getElementById(&quot;realname&quot;);</span>
<a href="#l51.123"></a><span id="l51.123" class="difflineplus">+    if (realname.value.length &gt; 0) {</span>
<a href="#l51.124"></a><span id="l51.124" class="difflineplus">+      this.clearError(&quot;nameerror&quot;);</span>
<a href="#l51.125"></a><span id="l51.125" class="difflineplus">+      _show(&quot;nametext&quot;);</span>
<a href="#l51.126"></a><span id="l51.126" class="difflineplus">+      realname.removeAttribute(&quot;error&quot;);</span>
<a href="#l51.127"></a><span id="l51.127" class="difflineplus">+    }</span>
<a href="#l51.128"></a><span id="l51.128" class="difflineplus">+    else {</span>
<a href="#l51.129"></a><span id="l51.129" class="difflineplus">+      _hide(&quot;nametext&quot;);</span>
<a href="#l51.130"></a><span id="l51.130" class="difflineplus">+      this.setError(&quot;nameerror&quot;, &quot;please_enter_name&quot;);</span>
<a href="#l51.131"></a><span id="l51.131" class="difflineplus">+      realname.setAttribute(&quot;error&quot;, &quot;true&quot;);</span>
<a href="#l51.132"></a><span id="l51.132" class="difflineplus">+    }</span>
<a href="#l51.133"></a><span id="l51.133">   },</span>
<a href="#l51.134"></a><span id="l51.134"> </span>
<a href="#l51.135"></a><span id="l51.135">   /*</span>
<a href="#l51.136"></a><span id="l51.136">    * This checks if the email address is at least possibly valid, meaning it</span>
<a href="#l51.137"></a><span id="l51.137">    * has an '@' before the last char.</span>
<a href="#l51.138"></a><span id="l51.138">    */</span>
<a href="#l51.139"></a><span id="l51.139">   emailAddrValidish : function()</span>
<a href="#l51.140"></a><span id="l51.140">   {</span>
<a href="#l51.141"></a><span id="l51.141" class="difflineat">@@ -283,45 +301,50 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.142"></a><span id="l51.142"> </span>
<a href="#l51.143"></a><span id="l51.143">   /*</span>
<a href="#l51.144"></a><span id="l51.144">    * onEmailInput and onRealnameInput are called onInput, and just handle</span>
<a href="#l51.145"></a><span id="l51.145">    * hiding/showing the next button based on whether there's a semi-reasonable</span>
<a href="#l51.146"></a><span id="l51.146">    * e-mail address and nonblank realname to start with.</span>
<a href="#l51.147"></a><span id="l51.147">    */</span>
<a href="#l51.148"></a><span id="l51.148">   onEmailInput : function()</span>
<a href="#l51.149"></a><span id="l51.149">   {</span>
<a href="#l51.150"></a><span id="l51.150" class="difflineminus">-    if (document.getElementById('realname').value.length &gt; 0 &amp;&amp;</span>
<a href="#l51.151"></a><span id="l51.151" class="difflineplus">+    if (document.getElementById(&quot;realname&quot;).value.length &gt; 0 &amp;&amp;</span>
<a href="#l51.152"></a><span id="l51.152">         this.emailAddrValidish())</span>
<a href="#l51.153"></a><span id="l51.153" class="difflineminus">-      _show(&quot;next_button&quot;);</span>
<a href="#l51.154"></a><span id="l51.154" class="difflineplus">+      document.getElementById(&quot;next_button&quot;).disabled = false;</span>
<a href="#l51.155"></a><span id="l51.155">     else</span>
<a href="#l51.156"></a><span id="l51.156" class="difflineminus">-      _hide(&quot;next_button&quot;);</span>
<a href="#l51.157"></a><span id="l51.157" class="difflineplus">+      document.getElementById(&quot;next_button&quot;).disabled = true;</span>
<a href="#l51.158"></a><span id="l51.158">    },</span>
<a href="#l51.159"></a><span id="l51.159"> </span>
<a href="#l51.160"></a><span id="l51.160">   onRealnameInput : function()</span>
<a href="#l51.161"></a><span id="l51.161">   {</span>
<a href="#l51.162"></a><span id="l51.162">     if (document.getElementById('realname').value.length &gt; 0 &amp;&amp;</span>
<a href="#l51.163"></a><span id="l51.163">         this.emailAddrValidish())</span>
<a href="#l51.164"></a><span id="l51.164" class="difflineminus">-      _show(&quot;next_button&quot;);</span>
<a href="#l51.165"></a><span id="l51.165" class="difflineplus">+      document.getElementById(&quot;next_button&quot;).disabled = false;</span>
<a href="#l51.166"></a><span id="l51.166">     else</span>
<a href="#l51.167"></a><span id="l51.167" class="difflineminus">-      _hide(&quot;next_button&quot;);</span>
<a href="#l51.168"></a><span id="l51.168" class="difflineplus">+      document.getElementById(&quot;next_button&quot;).disabled = true;</span>
<a href="#l51.169"></a><span id="l51.169">    },</span>
<a href="#l51.170"></a><span id="l51.170"> </span>
<a href="#l51.171"></a><span id="l51.171">   /* This check is done on blur and is only done as an informative warning</span>
<a href="#l51.172"></a><span id="l51.172">    * we don't want to block the person if they've entered and email that</span>
<a href="#l51.173"></a><span id="l51.173">    * doesn't conform to our regex</span>
<a href="#l51.174"></a><span id="l51.174">    */</span>
<a href="#l51.175"></a><span id="l51.175">   validateEmail : function()</span>
<a href="#l51.176"></a><span id="l51.176">   {</span>
<a href="#l51.177"></a><span id="l51.177" class="difflineminus">-    if (document.getElementById('email').value.length &lt;= 0)</span>
<a href="#l51.178"></a><span id="l51.178" class="difflineplus">+    let email = document.getElementById(&quot;email&quot;);</span>
<a href="#l51.179"></a><span id="l51.179" class="difflineplus">+    if (email.value.length &lt;= 0)</span>
<a href="#l51.180"></a><span id="l51.180">       return;</span>
<a href="#l51.181"></a><span id="l51.181"> </span>
<a href="#l51.182"></a><span id="l51.182" class="difflineminus">-    if (emailRE.test(document.getElementById('email').value))</span>
<a href="#l51.183"></a><span id="l51.183" class="difflineminus">-      this.clearError('emailerror');</span>
<a href="#l51.184"></a><span id="l51.184" class="difflineminus">-    else</span>
<a href="#l51.185"></a><span id="l51.185" class="difflineminus">-      this.setError(&quot;emailerror&quot;, &quot;email.error&quot;);</span>
<a href="#l51.186"></a><span id="l51.186" class="difflineplus">+    if (emailRE.test(email.value)) {</span>
<a href="#l51.187"></a><span id="l51.187" class="difflineplus">+      this.clearError(&quot;emailerror&quot;);</span>
<a href="#l51.188"></a><span id="l51.188" class="difflineplus">+      email.removeAttribute(&quot;error&quot;);</span>
<a href="#l51.189"></a><span id="l51.189" class="difflineplus">+    }</span>
<a href="#l51.190"></a><span id="l51.190" class="difflineplus">+    else {</span>
<a href="#l51.191"></a><span id="l51.191" class="difflineplus">+      this.setError(&quot;emailerror&quot;, &quot;double_check_email&quot;);</span>
<a href="#l51.192"></a><span id="l51.192" class="difflineplus">+      email.setAttribute(&quot;error&quot;, &quot;true&quot;);</span>
<a href="#l51.193"></a><span id="l51.193" class="difflineplus">+    }</span>
<a href="#l51.194"></a><span id="l51.194">   },</span>
<a href="#l51.195"></a><span id="l51.195"> </span>
<a href="#l51.196"></a><span id="l51.196">   // We use this to  prevent probing from forgetting the user's choice.</span>
<a href="#l51.197"></a><span id="l51.197">   setSecurity : function(eltId)</span>
<a href="#l51.198"></a><span id="l51.198">   {</span>
<a href="#l51.199"></a><span id="l51.199">     switch (eltId) {</span>
<a href="#l51.200"></a><span id="l51.200">       case 'incoming_security':</span>
<a href="#l51.201"></a><span id="l51.201">         this._userChangedIncomingSocketType = true;</span>
<a href="#l51.202"></a><span id="l51.202" class="difflineat">@@ -359,80 +382,81 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.203"></a><span id="l51.203">         break;</span>
<a href="#l51.204"></a><span id="l51.204">     }</span>
<a href="#l51.205"></a><span id="l51.205">   },</span>
<a href="#l51.206"></a><span id="l51.206">   </span>
<a href="#l51.207"></a><span id="l51.207">   oninputPassword : function()</span>
<a href="#l51.208"></a><span id="l51.208">   {</span>
<a href="#l51.209"></a><span id="l51.209">     let passwordElt = document.getElementById(&quot;password&quot;);</span>
<a href="#l51.210"></a><span id="l51.210">     let rememberPasswordElt = document.getElementById(&quot;remember_password&quot;);</span>
<a href="#l51.211"></a><span id="l51.211" class="difflineplus">+    rememberPasswordElt.disabled = false;</span>
<a href="#l51.212"></a><span id="l51.212">     if (passwordElt.value.length &lt; 1) {</span>
<a href="#l51.213"></a><span id="l51.213" class="difflineminus">-      document.getElementById(&quot;remember_password&quot;).checked = false;</span>
<a href="#l51.214"></a><span id="l51.214" class="difflineplus">+      rememberPasswordElt.disabled = true;</span>
<a href="#l51.215"></a><span id="l51.215" class="difflineplus">+      rememberPasswordElt.checked = false;</span>
<a href="#l51.216"></a><span id="l51.216">       this._userChangedPassword = false;</span>
<a href="#l51.217"></a><span id="l51.217">     }</span>
<a href="#l51.218"></a><span id="l51.218">     else if (!this._userChangedPassword)</span>
<a href="#l51.219"></a><span id="l51.219" class="difflineminus">-      document.getElementById(&quot;remember_password&quot;).checked = true;</span>
<a href="#l51.220"></a><span id="l51.220" class="difflineplus">+      rememberPasswordElt.checked = true;</span>
<a href="#l51.221"></a><span id="l51.221">   },</span>
<a href="#l51.222"></a><span id="l51.222"> </span>
<a href="#l51.223"></a><span id="l51.223">   /* If the user just tabbed through the password input without entering</span>
<a href="#l51.224"></a><span id="l51.224">    * anything, set the type back to text so we don't wind up showing the</span>
<a href="#l51.225"></a><span id="l51.225">    * emptytext as bullet characters.</span>
<a href="#l51.226"></a><span id="l51.226">    */</span>
<a href="#l51.227"></a><span id="l51.227">   onblurPassword : function()</span>
<a href="#l51.228"></a><span id="l51.228">   {</span>
<a href="#l51.229"></a><span id="l51.229">     let passwordElt = document.getElementById(&quot;password&quot;);</span>
<a href="#l51.230"></a><span id="l51.230" class="difflineminus">-    if (passwordElt.value.length &lt; 1)</span>
<a href="#l51.231"></a><span id="l51.231" class="difflineplus">+    let rememberPasswordElt = document.getElementById(&quot;remember_password&quot;);</span>
<a href="#l51.232"></a><span id="l51.232" class="difflineplus">+    if (passwordElt.value.length &lt; 1) {</span>
<a href="#l51.233"></a><span id="l51.233" class="difflineplus">+      rememberPasswordElt.disabled = true;</span>
<a href="#l51.234"></a><span id="l51.234">       passwordElt.type = &quot;text&quot;;</span>
<a href="#l51.235"></a><span id="l51.235" class="difflineplus">+    }</span>
<a href="#l51.236"></a><span id="l51.236" class="difflineplus">+    else</span>
<a href="#l51.237"></a><span id="l51.237" class="difflineplus">+      rememberPasswordElt.disabled = false;</span>
<a href="#l51.238"></a><span id="l51.238">   },</span>
<a href="#l51.239"></a><span id="l51.239"> </span>
<a href="#l51.240"></a><span id="l51.240">   findConfig : function(domain, email)</span>
<a href="#l51.241"></a><span id="l51.241">   {</span>
<a href="#l51.242"></a><span id="l51.242">     gEmailWizardLogger.info(&quot;findConfig()&quot;);</span>
<a href="#l51.243"></a><span id="l51.243" class="difflineminus">-    this.startSpinner(&quot;searching_for_configs&quot;);</span>
<a href="#l51.244"></a><span id="l51.244" class="difflineminus">-    this.setSpinnerStatus(&quot;check_preconfig&quot;);</span>
<a href="#l51.245"></a><span id="l51.245" class="difflineplus">+    this.startSpinner(&quot;all&quot;, &quot;looking_up_settings&quot;);</span>
<a href="#l51.246"></a><span id="l51.246">     if (this._probeAbortable)</span>
<a href="#l51.247"></a><span id="l51.247">     {</span>
<a href="#l51.248"></a><span id="l51.248">       gEmailWizardLogger.info(&quot;aborting existing config search&quot;);</span>
<a href="#l51.249"></a><span id="l51.249">       this._probeAbortable.cancel();</span>
<a href="#l51.250"></a><span id="l51.250">     }</span>
<a href="#l51.251"></a><span id="l51.251">     var me = this;</span>
<a href="#l51.252"></a><span id="l51.252">     this._probeAbortable = </span>
<a href="#l51.253"></a><span id="l51.253">       fetchConfigFromDisk(</span>
<a href="#l51.254"></a><span id="l51.254">         domain,</span>
<a href="#l51.255"></a><span id="l51.255">         function(config) // success</span>
<a href="#l51.256"></a><span id="l51.256">         {</span>
<a href="#l51.257"></a><span id="l51.257">           me.foundConfig(config);</span>
<a href="#l51.258"></a><span id="l51.258" class="difflineminus">-          me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l51.259"></a><span id="l51.259" class="difflineminus">-          me.setSpinnerStatus(&quot;found_preconfig&quot;);</span>
<a href="#l51.260"></a><span id="l51.260" class="difflineplus">+          me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l51.261"></a><span id="l51.261">           me._probeAbortable = null;</span>
<a href="#l51.262"></a><span id="l51.262">         },</span>
<a href="#l51.263"></a><span id="l51.263">         function(e) // fetchConfigFromDisk failed</span>
<a href="#l51.264"></a><span id="l51.264">         {</span>
<a href="#l51.265"></a><span id="l51.265">           gEmailWizardLogger.info(&quot;fetchConfigFromDisk failed: &quot; + e);</span>
<a href="#l51.266"></a><span id="l51.266" class="difflineminus">-          me.startSpinner(&quot;searching_for_configs&quot;);</span>
<a href="#l51.267"></a><span id="l51.267" class="difflineminus">-          me.setSpinnerStatus(&quot;checking_mozilla_config&quot;);</span>
<a href="#l51.268"></a><span id="l51.268" class="difflineplus">+          me.startSpinner(&quot;all&quot;, &quot;looking_up_settings&quot;);</span>
<a href="#l51.269"></a><span id="l51.269">           me._probeAbortable = </span>
<a href="#l51.270"></a><span id="l51.270">             fetchConfigFromDB(</span>
<a href="#l51.271"></a><span id="l51.271">               domain,</span>
<a href="#l51.272"></a><span id="l51.272">               function(config) // success</span>
<a href="#l51.273"></a><span id="l51.273">               {</span>
<a href="#l51.274"></a><span id="l51.274">                 me.foundConfig(config);</span>
<a href="#l51.275"></a><span id="l51.275" class="difflineminus">-                me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l51.276"></a><span id="l51.276" class="difflineminus">-                me.setSpinnerStatus(&quot;found_isp_config&quot;);</span>
<a href="#l51.277"></a><span id="l51.277" class="difflineplus">+                me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l51.278"></a><span id="l51.278">                 me.showEditButton();</span>
<a href="#l51.279"></a><span id="l51.279">                 me._probeAbortable = null;</span>
<a href="#l51.280"></a><span id="l51.280">               },</span>
<a href="#l51.281"></a><span id="l51.281">               function(e) // fetchConfigFromDB failed</span>
<a href="#l51.282"></a><span id="l51.282">               {</span>
<a href="#l51.283"></a><span id="l51.283">                 gEmailWizardLogger.info(&quot;fetchConfigFromDB failed: &quot; + e);</span>
<a href="#l51.284"></a><span id="l51.284" class="difflineminus">-                me.setSpinnerStatus(&quot;probing_config&quot;);</span>
<a href="#l51.285"></a><span id="l51.285">                 var initialConfig = new AccountConfig();</span>
<a href="#l51.286"></a><span id="l51.286">                 me._prefillConfig(initialConfig);</span>
<a href="#l51.287"></a><span id="l51.287" class="difflineminus">-                me.startSpinner(&quot;searching_for_configs&quot;)</span>
<a href="#l51.288"></a><span id="l51.288" class="difflineminus">-                me.setSpinnerStatus(&quot;guessing_from_email&quot;);</span>
<a href="#l51.289"></a><span id="l51.289" class="difflineplus">+                me.startSpinner(&quot;all&quot;, &quot;looking_up_settings&quot;)</span>
<a href="#l51.290"></a><span id="l51.290">                 me._guessConfig(domain, initialConfig, 'both');</span>
<a href="#l51.291"></a><span id="l51.291">               });</span>
<a href="#l51.292"></a><span id="l51.292">           });</span>
<a href="#l51.293"></a><span id="l51.293">   },</span>
<a href="#l51.294"></a><span id="l51.294"> </span>
<a href="#l51.295"></a><span id="l51.295">   _guessConfig : function(domain, initialConfig, which)</span>
<a href="#l51.296"></a><span id="l51.296">   {</span>
<a href="#l51.297"></a><span id="l51.297">     let me = this;</span>
<a href="#l51.298"></a><span id="l51.298" class="difflineat">@@ -462,58 +486,62 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.299"></a><span id="l51.299">           function(config) // success</span>
<a href="#l51.300"></a><span id="l51.300">           {</span>
<a href="#l51.301"></a><span id="l51.301">             me.foundConfig(config);</span>
<a href="#l51.302"></a><span id="l51.302">             gEmailWizardLogger.info(&quot;in success, incomingState = &quot; +</span>
<a href="#l51.303"></a><span id="l51.303">                                     me._incomingState + &quot; outgoingState = &quot; +</span>
<a href="#l51.304"></a><span id="l51.304">                                     me._outgoingState);</span>
<a href="#l51.305"></a><span id="l51.305">             if (me._incomingState == 'done' &amp;&amp; me._outgoingState == 'done')</span>
<a href="#l51.306"></a><span id="l51.306">             {</span>
<a href="#l51.307"></a><span id="l51.307" class="difflineminus">-              me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l51.308"></a><span id="l51.308" class="difflineminus">-              me.setSpinnerStatus(&quot;config_details_found&quot;);</span>
<a href="#l51.309"></a><span id="l51.309" class="difflineplus">+              me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l51.310"></a><span id="l51.310">               _hide(&quot;stop_button&quot;);</span>
<a href="#l51.311"></a><span id="l51.311">               _show(&quot;edit_button&quot;);</span>
<a href="#l51.312"></a><span id="l51.312">             }</span>
<a href="#l51.313"></a><span id="l51.313">             else if (me._incomingState == 'done' &amp;&amp; me._outgoingState != 'probing')</span>
<a href="#l51.314"></a><span id="l51.314">             {</span>
<a href="#l51.315"></a><span id="l51.315" class="difflineminus">-              me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l51.316"></a><span id="l51.316" class="difflineminus">-              me.setSpinnerStatus(&quot;incoming_found_specify_outgoing&quot;);</span>
<a href="#l51.317"></a><span id="l51.317" class="difflineplus">+              if (me._outgoingState == &quot;failed&quot;)</span>
<a href="#l51.318"></a><span id="l51.318" class="difflineplus">+                me.stopSpinner(&quot;failed_to_find_settings&quot;);</span>
<a href="#l51.319"></a><span id="l51.319" class="difflineplus">+              else</span>
<a href="#l51.320"></a><span id="l51.320" class="difflineplus">+                me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l51.321"></a><span id="l51.321">               me.editConfigDetails();</span>
<a href="#l51.322"></a><span id="l51.322">             }</span>
<a href="#l51.323"></a><span id="l51.323">             else if (me._outgoingState == 'done' &amp;&amp; me._incomingState != 'probing')</span>
<a href="#l51.324"></a><span id="l51.324">             {</span>
<a href="#l51.325"></a><span id="l51.325" class="difflineminus">-              me.stopSpinner(&quot;finished_with_success&quot;);</span>
<a href="#l51.326"></a><span id="l51.326" class="difflineminus">-              me.setSpinnerStatus(&quot;outgoing_found_specify_incoming&quot;);</span>
<a href="#l51.327"></a><span id="l51.327" class="difflineplus">+              if (me._incomingState == &quot;failed&quot;)</span>
<a href="#l51.328"></a><span id="l51.328" class="difflineplus">+                me.stopSpinner(&quot;failed_to_find_settings&quot;);</span>
<a href="#l51.329"></a><span id="l51.329" class="difflineplus">+              else</span>
<a href="#l51.330"></a><span id="l51.330" class="difflineplus">+                me.stopSpinner(&quot;found_settings&quot;);</span>
<a href="#l51.331"></a><span id="l51.331">               me.editConfigDetails();</span>
<a href="#l51.332"></a><span id="l51.332">             }</span>
<a href="#l51.333"></a><span id="l51.333">             if (me._outgoingState != 'probing' &amp;&amp;</span>
<a href="#l51.334"></a><span id="l51.334">                 me._incomingState != 'probing')</span>
<a href="#l51.335"></a><span id="l51.335">               me._probeAbortable = null;</span>
<a href="#l51.336"></a><span id="l51.336"> </span>
<a href="#l51.337"></a><span id="l51.337">           },</span>
<a href="#l51.338"></a><span id="l51.338">           function(e, config) // guessconfig failed</span>
<a href="#l51.339"></a><span id="l51.339">           {</span>
<a href="#l51.340"></a><span id="l51.340">             gEmailWizardLogger.info(&quot;guessConfig failed: &quot; + e);</span>
<a href="#l51.341"></a><span id="l51.341">             me.updateConfig(config);</span>
<a href="#l51.342"></a><span id="l51.342" class="difflineminus">-            me.stopSpinner(&quot;finished_with_error&quot;);</span>
<a href="#l51.343"></a><span id="l51.343" class="difflineminus">-            me.setSpinnerStatus(&quot;please_enter_missing_hostnames&quot;);</span>
<a href="#l51.344"></a><span id="l51.344" class="difflineplus">+            me.stopSpinner(&quot;failed_to_find_settings&quot;);</span>
<a href="#l51.345"></a><span id="l51.345">             me._probeAbortable = null;</span>
<a href="#l51.346"></a><span id="l51.346">             me.editConfigDetails();</span>
<a href="#l51.347"></a><span id="l51.347">           },</span>
<a href="#l51.348"></a><span id="l51.348">           function(e, config) // guessconfig failed for incoming</span>
<a href="#l51.349"></a><span id="l51.349">           {</span>
<a href="#l51.350"></a><span id="l51.350">             gEmailWizardLogger.info(&quot;guessConfig failed for incoming: &quot; + e);</span>
<a href="#l51.351"></a><span id="l51.351" class="difflineminus">-            me.setSpinnerStatus(&quot;incoming_failed_trying_outgoing&quot;);</span>
<a href="#l51.352"></a><span id="l51.352" class="difflineplus">+            me._setIconAndTooltip(&quot;incoming&quot;, &quot;failed&quot;, &quot;&quot;);</span>
<a href="#l51.353"></a><span id="l51.353" class="difflineplus">+            me._incomingState = &quot;failed&quot;;</span>
<a href="#l51.354"></a><span id="l51.354">             config.incoming.hostname = -1;</span>
<a href="#l51.355"></a><span id="l51.355">             me.updateConfig(config);</span>
<a href="#l51.356"></a><span id="l51.356">           },</span>
<a href="#l51.357"></a><span id="l51.357">           function(e, config) // guessconfig failed for outgoing</span>
<a href="#l51.358"></a><span id="l51.358">           {</span>
<a href="#l51.359"></a><span id="l51.359">             gEmailWizardLogger.info(&quot;guessConfig failed for outgoing: &quot; + e);</span>
<a href="#l51.360"></a><span id="l51.360" class="difflineminus">-            me.setSpinnerStatus(&quot;outgoing_failed_trying_incoming&quot;);</span>
<a href="#l51.361"></a><span id="l51.361" class="difflineplus">+            me._setIconAndTooltip(&quot;outgoing&quot;, &quot;failed&quot;, &quot;&quot;);</span>
<a href="#l51.362"></a><span id="l51.362" class="difflineplus">+            me._outgoingState = &quot;failed&quot;;</span>
<a href="#l51.363"></a><span id="l51.363">             if (!me._userPickedOutgoingServer)</span>
<a href="#l51.364"></a><span id="l51.364">               config.outgoing.hostname = -1;</span>
<a href="#l51.365"></a><span id="l51.365"> </span>
<a href="#l51.366"></a><span id="l51.366">             me.updateConfig(config);</span>
<a href="#l51.367"></a><span id="l51.367">           },</span>
<a href="#l51.368"></a><span id="l51.368">     initialConfig, which);</span>
<a href="#l51.369"></a><span id="l51.369">   },</span>
<a href="#l51.370"></a><span id="l51.370"> </span>
<a href="#l51.371"></a><span id="l51.371" class="difflineat">@@ -533,24 +561,24 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.372"></a><span id="l51.372"> </span>
<a href="#l51.373"></a><span id="l51.373">     return this._foundConfig2(config);</span>
<a href="#l51.374"></a><span id="l51.374">   },</span>
<a href="#l51.375"></a><span id="l51.375">   // Continuation of foundConfig2() after custom fields.</span>
<a href="#l51.376"></a><span id="l51.376">   _foundConfig2 : function(config)</span>
<a href="#l51.377"></a><span id="l51.377">   {</span>
<a href="#l51.378"></a><span id="l51.378">     this._currentConfigFilledIn = config.copy();</span>
<a href="#l51.379"></a><span id="l51.379">     _show(&quot;advanced_settings&quot;);</span>
<a href="#l51.380"></a><span id="l51.380" class="difflineplus">+    document.getElementById(&quot;advanced_settings&quot;).disabled = false;</span>
<a href="#l51.381"></a><span id="l51.381">     replaceVariables(this._currentConfigFilledIn, this._realname, this._email,</span>
<a href="#l51.382"></a><span id="l51.382">                      this._password);</span>
<a href="#l51.383"></a><span id="l51.383"> </span>
<a href="#l51.384"></a><span id="l51.384">     this.updateConfig(this._currentConfigFilledIn);</span>
<a href="#l51.385"></a><span id="l51.385"> </span>
<a href="#l51.386"></a><span id="l51.386">     document.getElementById('create_button').disabled = false;</span>
<a href="#l51.387"></a><span id="l51.387">     document.getElementById('create_button').hidden = false;</span>
<a href="#l51.388"></a><span id="l51.388" class="difflineminus">-</span>
<a href="#l51.389"></a><span id="l51.389">   },</span>
<a href="#l51.390"></a><span id="l51.390"> </span>
<a href="#l51.391"></a><span id="l51.391">   /*</span>
<a href="#l51.392"></a><span id="l51.392">    * Returns either the nsISmtpServer.key for an existing account that matches</span>
<a href="#l51.393"></a><span id="l51.393">    * our discovered hostname + port + username, or false if no match is found.</span>
<a href="#l51.394"></a><span id="l51.394">    */</span>
<a href="#l51.395"></a><span id="l51.395">   keyForExistingOutgoingAccount : function()</span>
<a href="#l51.396"></a><span id="l51.396">   {</span>
<a href="#l51.397"></a><span id="l51.397" class="difflineat">@@ -681,40 +709,46 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.398"></a><span id="l51.398">             _show('outgoing_box');</span>
<a href="#l51.399"></a><span id="l51.399">             _show('acknowledge_warning');</span>
<a href="#l51.400"></a><span id="l51.400">             break;</span>
<a href="#l51.401"></a><span id="l51.401">           case '':</span>
<a href="#l51.402"></a><span id="l51.402">             _hide('outgoing_box');</span>
<a href="#l51.403"></a><span id="l51.403">             if (this._incomingWarning == '')</span>
<a href="#l51.404"></a><span id="l51.404">               _hide('acknowledge_warning');</span>
<a href="#l51.405"></a><span id="l51.405">         }</span>
<a href="#l51.406"></a><span id="l51.406" class="difflineplus">+        window.sizeToContent();</span>
<a href="#l51.407"></a><span id="l51.407">       }</span>
<a href="#l51.408"></a><span id="l51.408">       else</span>
<a href="#l51.409"></a><span id="l51.409">       {</span>
<a href="#l51.410"></a><span id="l51.410">         // no certificate or cleartext issues</span>
<a href="#l51.411"></a><span id="l51.411">         this.validateAndFinish();</span>
<a href="#l51.412"></a><span id="l51.412">       }</span>
<a href="#l51.413"></a><span id="l51.413" class="difflineminus">-</span>
<a href="#l51.414"></a><span id="l51.414">     } catch (ex) { alertPrompt(gStringsBundle.getString(&quot;error_creating_account&quot;), ex); }</span>
<a href="#l51.415"></a><span id="l51.415">   },</span>
<a href="#l51.416"></a><span id="l51.416"> </span>
<a href="#l51.417"></a><span id="l51.417">   getMeOutOfHere : function()</span>
<a href="#l51.418"></a><span id="l51.418">   {</span>
<a href="#l51.419"></a><span id="l51.419">     // If we're going backwards, we should reset the acknowledge_warning.</span>
<a href="#l51.420"></a><span id="l51.420">     document.getElementById('acknowledge_warning').checked = false;</span>
<a href="#l51.421"></a><span id="l51.421">     this.toggleAcknowledgeWarning();</span>
<a href="#l51.422"></a><span id="l51.422" class="difflineplus">+    document.getElementById(&quot;incoming_technical&quot;).removeAttribute(&quot;expanded&quot;);;</span>
<a href="#l51.423"></a><span id="l51.423" class="difflineplus">+    document.getElementById(&quot;incoming_details&quot;).setAttribute(&quot;collapsed&quot;, true);;</span>
<a href="#l51.424"></a><span id="l51.424" class="difflineplus">+    document.getElementById(&quot;outgoing_technical&quot;).removeAttribute(&quot;expanded&quot;);;</span>
<a href="#l51.425"></a><span id="l51.425" class="difflineplus">+    document.getElementById(&quot;outgoing_details&quot;).setAttribute(&quot;collapsed&quot;, true);;</span>
<a href="#l51.426"></a><span id="l51.426">     _hide('warningbox');</span>
<a href="#l51.427"></a><span id="l51.427">     _show('mastervbox');</span>
<a href="#l51.428"></a><span id="l51.428" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l51.429"></a><span id="l51.429">   },</span>
<a href="#l51.430"></a><span id="l51.430"> </span>
<a href="#l51.431"></a><span id="l51.431">   validateAndFinish : function()</span>
<a href="#l51.432"></a><span id="l51.432">   {</span>
<a href="#l51.433"></a><span id="l51.433">     // if we're coming from the cert warning dialog</span>
<a href="#l51.434"></a><span id="l51.434">     _show('mastervbox');</span>
<a href="#l51.435"></a><span id="l51.435">     _hide('warningbox');</span>
<a href="#l51.436"></a><span id="l51.436" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l51.437"></a><span id="l51.437"> </span>
<a href="#l51.438"></a><span id="l51.438">     if (!this.checkIncomingAccountIsNew())</span>
<a href="#l51.439"></a><span id="l51.439">     {</span>
<a href="#l51.440"></a><span id="l51.440">       alertPrompt(gStringsBundle.getString(&quot;error_creating_account&quot;),</span>
<a href="#l51.441"></a><span id="l51.441">                   gStringsBundle.getString(&quot;incoming_server_exists&quot;));</span>
<a href="#l51.442"></a><span id="l51.442">       return;</span>
<a href="#l51.443"></a><span id="l51.443">     }</span>
<a href="#l51.444"></a><span id="l51.444">     // No need to check if we aren't adding it.</span>
<a href="#l51.445"></a><span id="l51.445" class="difflineat">@@ -741,17 +775,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.446"></a><span id="l51.446">                         });</span>
<a href="#l51.447"></a><span id="l51.447">     else</span>
<a href="#l51.448"></a><span id="l51.448">       this.finish();</span>
<a href="#l51.449"></a><span id="l51.449">   },</span>
<a href="#l51.450"></a><span id="l51.450"> </span>
<a href="#l51.451"></a><span id="l51.451">   verifyConfig : function(successCallback, errorCallback)</span>
<a href="#l51.452"></a><span id="l51.452">   {</span>
<a href="#l51.453"></a><span id="l51.453">     var me = this;</span>
<a href="#l51.454"></a><span id="l51.454" class="difflineminus">-    this.startSpinner(&quot;checking_password&quot;);</span>
<a href="#l51.455"></a><span id="l51.455" class="difflineplus">+    this.startSpinner(&quot;username&quot;, &quot;checking_password&quot;);</span>
<a href="#l51.456"></a><span id="l51.456">     // logic function defined in verifyConfig.js</span>
<a href="#l51.457"></a><span id="l51.457">     verifyConfig(</span>
<a href="#l51.458"></a><span id="l51.458">       this._currentConfigFilledIn,</span>
<a href="#l51.459"></a><span id="l51.459">       // guess login config?</span>
<a href="#l51.460"></a><span id="l51.460">       this._currentConfigFilledIn.source != AccountConfig.kSourceXML,</span>
<a href="#l51.461"></a><span id="l51.461">       this._parentMsgWindow,</span>
<a href="#l51.462"></a><span id="l51.462">       function() // success</span>
<a href="#l51.463"></a><span id="l51.463">       {</span>
<a href="#l51.464"></a><span id="l51.464" class="difflineat">@@ -873,17 +907,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.465"></a><span id="l51.465">       default:</span>
<a href="#l51.466"></a><span id="l51.466">         this._incomingState = state;</span>
<a href="#l51.467"></a><span id="l51.467">     }</span>
<a href="#l51.468"></a><span id="l51.468">     // since we look for SSL/TLS first, if we get 'weak', we're</span>
<a href="#l51.469"></a><span id="l51.469">     // stuck with it, and might as well admit we're done.</span>
<a href="#l51.470"></a><span id="l51.470">     if (state == 'weak')</span>
<a href="#l51.471"></a><span id="l51.471">       this._incomingState = 'done';</span>
<a href="#l51.472"></a><span id="l51.472"> </span>
<a href="#l51.473"></a><span id="l51.473" class="difflineminus">-    this._setIconAndTooltip('incoming_status', state, details);</span>
<a href="#l51.474"></a><span id="l51.474" class="difflineplus">+    this._setIconAndTooltip('incoming', state, details);</span>
<a href="#l51.475"></a><span id="l51.475">   },</span>
<a href="#l51.476"></a><span id="l51.476"> </span>
<a href="#l51.477"></a><span id="l51.477">   _setOutgoingStatus: function(state, details)</span>
<a href="#l51.478"></a><span id="l51.478">   {</span>
<a href="#l51.479"></a><span id="l51.479">     if (!details)</span>
<a href="#l51.480"></a><span id="l51.480">       details = '';</span>
<a href="#l51.481"></a><span id="l51.481"> </span>
<a href="#l51.482"></a><span id="l51.482">     if (this._userPickedOutgoingServer)</span>
<a href="#l51.483"></a><span id="l51.483" class="difflineat">@@ -902,52 +936,64 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.484"></a><span id="l51.484">       default:</span>
<a href="#l51.485"></a><span id="l51.485">         this._outgoingState = state;</span>
<a href="#l51.486"></a><span id="l51.486">     }</span>
<a href="#l51.487"></a><span id="l51.487">     // since we look for SSL/TLS first, if we get 'weak', we're</span>
<a href="#l51.488"></a><span id="l51.488">     // stuck with it, and might as well admit we're done.</span>
<a href="#l51.489"></a><span id="l51.489">     if (state == 'weak')</span>
<a href="#l51.490"></a><span id="l51.490">       this._outgoingState = 'done';</span>
<a href="#l51.491"></a><span id="l51.491"> </span>
<a href="#l51.492"></a><span id="l51.492" class="difflineminus">-    this._setIconAndTooltip('outgoing_status', state, details);</span>
<a href="#l51.493"></a><span id="l51.493" class="difflineplus">+    this._setIconAndTooltip('outgoing', state, details);</span>
<a href="#l51.494"></a><span id="l51.494">   },</span>
<a href="#l51.495"></a><span id="l51.495"> </span>
<a href="#l51.496"></a><span id="l51.496">   _setIconAndTooltip : function(id, state, details)</span>
<a href="#l51.497"></a><span id="l51.497">   {</span>
<a href="#l51.498"></a><span id="l51.498" class="difflineminus">-    let icon = document.getElementById(id);</span>
<a href="#l51.499"></a><span id="l51.499" class="difflineplus">+    gEmailWizardLogger.warn(id + &quot; setting icon and tooltip &quot; +</span>
<a href="#l51.500"></a><span id="l51.500" class="difflineplus">+                            state + &quot;:&quot; + details);</span>
<a href="#l51.501"></a><span id="l51.501" class="difflineplus">+    let icon = document.getElementById(id + &quot;_status&quot;);</span>
<a href="#l51.502"></a><span id="l51.502">     icon.setAttribute(&quot;state&quot;, state);</span>
<a href="#l51.503"></a><span id="l51.503">     switch (state)</span>
<a href="#l51.504"></a><span id="l51.504">     {</span>
<a href="#l51.505"></a><span id="l51.505">       case &quot;weak&quot;:</span>
<a href="#l51.506"></a><span id="l51.506">         icon.setAttribute(&quot;tooltip&quot;, &quot;insecureserver-&quot; + details);</span>
<a href="#l51.507"></a><span id="l51.507">         icon.setAttribute(&quot;popup&quot;, &quot;insecureserver-&quot; + details + &quot;-panel&quot;);</span>
<a href="#l51.508"></a><span id="l51.508" class="difflineplus">+        this._updateSpinner(id, true);</span>
<a href="#l51.509"></a><span id="l51.509">         break;</span>
<a href="#l51.510"></a><span id="l51.510">       case &quot;hidden&quot;:</span>
<a href="#l51.511"></a><span id="l51.511">         icon.removeAttribute(&quot;tooltip&quot;);</span>
<a href="#l51.512"></a><span id="l51.512">         icon.removeAttribute(&quot;popup&quot;);</span>
<a href="#l51.513"></a><span id="l51.513" class="difflineplus">+        this._updateSpinner(id, false);</span>
<a href="#l51.514"></a><span id="l51.514">         break;</span>
<a href="#l51.515"></a><span id="l51.515">       case &quot;strong&quot;:</span>
<a href="#l51.516"></a><span id="l51.516">         icon.setAttribute(&quot;tooltip&quot;, &quot;secureservertooltip&quot;);</span>
<a href="#l51.517"></a><span id="l51.517">         icon.setAttribute(&quot;popup&quot;, &quot;secureserver-panel&quot;);</span>
<a href="#l51.518"></a><span id="l51.518" class="difflineplus">+        this._updateSpinner(id, true);</span>
<a href="#l51.519"></a><span id="l51.519" class="difflineplus">+        break;</span>
<a href="#l51.520"></a><span id="l51.520" class="difflineplus">+      case &quot;failed&quot;:</span>
<a href="#l51.521"></a><span id="l51.521" class="difflineplus">+        icon.removeAttribute(&quot;tooltip&quot;);</span>
<a href="#l51.522"></a><span id="l51.522" class="difflineplus">+        icon.removeAttribute(&quot;popup&quot;);</span>
<a href="#l51.523"></a><span id="l51.523" class="difflineplus">+        this._updateSpinner(id, true);</span>
<a href="#l51.524"></a><span id="l51.524">         break;</span>
<a href="#l51.525"></a><span id="l51.525">     }</span>
<a href="#l51.526"></a><span id="l51.526">   },</span>
<a href="#l51.527"></a><span id="l51.527"> </span>
<a href="#l51.528"></a><span id="l51.528">   showConfigDetails : function()</span>
<a href="#l51.529"></a><span id="l51.529">   {</span>
<a href="#l51.530"></a><span id="l51.530">     // show the config details area</span>
<a href="#l51.531"></a><span id="l51.531">     _show(&quot;settingsbox&quot;);</span>
<a href="#l51.532"></a><span id="l51.532">     // also show the create button because it's outside of the area</span>
<a href="#l51.533"></a><span id="l51.533">     _show(&quot;create_button&quot;);</span>
<a href="#l51.534"></a><span id="l51.534">   },</span>
<a href="#l51.535"></a><span id="l51.535"> </span>
<a href="#l51.536"></a><span id="l51.536">   hideConfigDetails : function()</span>
<a href="#l51.537"></a><span id="l51.537">   {</span>
<a href="#l51.538"></a><span id="l51.538">     _hide(&quot;settingsbox&quot;);</span>
<a href="#l51.539"></a><span id="l51.539" class="difflineplus">+    document.getElementById(&quot;create_button&quot;).disabled = true;</span>
<a href="#l51.540"></a><span id="l51.540">     _hide(&quot;create_button&quot;);</span>
<a href="#l51.541"></a><span id="l51.541" class="difflineplus">+    window.sizeToContent();</span>
<a href="#l51.542"></a><span id="l51.542">   },</span>
<a href="#l51.543"></a><span id="l51.543"> </span>
<a href="#l51.544"></a><span id="l51.544">   /* Clears out the config details information, this is really only meant to be</span>
<a href="#l51.545"></a><span id="l51.545">    * called from the (Back) button.</span>
<a href="#l51.546"></a><span id="l51.546">    * XXX This can destroy user input where it might not be necessary</span>
<a href="#l51.547"></a><span id="l51.547">    */</span>
<a href="#l51.548"></a><span id="l51.548">   clearConfigDetails : function()</span>
<a href="#l51.549"></a><span id="l51.549">   {</span>
<a href="#l51.550"></a><span id="l51.550" class="difflineat">@@ -962,29 +1008,30 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.551"></a><span id="l51.551"> </span>
<a href="#l51.552"></a><span id="l51.552">   /* Setting the config details form so it can be edited.  We also disable</span>
<a href="#l51.553"></a><span id="l51.553">    * (and hide) the create button during this time because we don't know what</span>
<a href="#l51.554"></a><span id="l51.554">    * might have changed.  The function called from the button that restarts</span>
<a href="#l51.555"></a><span id="l51.555">    * the config check should be enabling the config button as needed.</span>
<a href="#l51.556"></a><span id="l51.556">    */</span>
<a href="#l51.557"></a><span id="l51.557">   editConfigDetails : function()</span>
<a href="#l51.558"></a><span id="l51.558">   {</span>
<a href="#l51.559"></a><span id="l51.559" class="difflineplus">+    gEmailWizardLogger.info(&quot;onEdit&quot;);</span>
<a href="#l51.560"></a><span id="l51.560">     // Add the custom entry to the menulist, if it's not already there.</span>
<a href="#l51.561"></a><span id="l51.561">     let menulist = document.getElementById(&quot;outgoing_server&quot;);</span>
<a href="#l51.562"></a><span id="l51.562">     if (this._smtpServerCount == menulist.itemCount) {</span>
<a href="#l51.563"></a><span id="l51.563">       var hostname = document.getElementById(&quot;outgoing_server&quot;).value;</span>
<a href="#l51.564"></a><span id="l51.564">       let menuitem = menulist.insertItemAt(0, hostname, hostname);</span>
<a href="#l51.565"></a><span id="l51.565">       menuitem.hostname = hostname;</span>
<a href="#l51.566"></a><span id="l51.566">     }</span>
<a href="#l51.567"></a><span id="l51.567"> </span>
<a href="#l51.568"></a><span id="l51.568">     this._disableConfigDetails(false);</span>
<a href="#l51.569"></a><span id="l51.569" class="difflineminus">-    this._setIncomingStatus('hidden');</span>
<a href="#l51.570"></a><span id="l51.570" class="difflineminus">-    this._setOutgoingStatus('hidden');</span>
<a href="#l51.571"></a><span id="l51.571" class="difflineminus">-    document.getElementById('create_button').disabled = true;</span>
<a href="#l51.572"></a><span id="l51.572" class="difflineminus">-    _hide(&quot;create_button&quot;);</span>
<a href="#l51.573"></a><span id="l51.573" class="difflineplus">+    this._setIncomingStatus(&quot;failed&quot;);</span>
<a href="#l51.574"></a><span id="l51.574" class="difflineplus">+    this._setOutgoingStatus(&quot;failed&quot;);</span>
<a href="#l51.575"></a><span id="l51.575" class="difflineplus">+    document.getElementById(&quot;advanced_settings&quot;).disabled = false;</span>
<a href="#l51.576"></a><span id="l51.576" class="difflineplus">+    document.getElementById(&quot;create_button&quot;).disabled = true;</span>
<a href="#l51.577"></a><span id="l51.577">     _hide(&quot;stop_button&quot;);</span>
<a href="#l51.578"></a><span id="l51.578">     _hide(&quot;edit_button&quot;);</span>
<a href="#l51.579"></a><span id="l51.579">     _show(&quot;go_button&quot;);</span>
<a href="#l51.580"></a><span id="l51.580">   },</span>
<a href="#l51.581"></a><span id="l51.581"> </span>
<a href="#l51.582"></a><span id="l51.582">   /* This _doesn't_ set create back to enabled, that needs to be done in a</span>
<a href="#l51.583"></a><span id="l51.583">    * config check.  Only showing the button.</span>
<a href="#l51.584"></a><span id="l51.584">    * XXX However it seems that a disabled button can still receive click</span>
<a href="#l51.585"></a><span id="l51.585" class="difflineat">@@ -992,23 +1039,23 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.586"></a><span id="l51.586">    */</span>
<a href="#l51.587"></a><span id="l51.587">   goWithConfigDetails : function()</span>
<a href="#l51.588"></a><span id="l51.588">   {</span>
<a href="#l51.589"></a><span id="l51.589">     this._disableConfigDetails(true);</span>
<a href="#l51.590"></a><span id="l51.590">     _show(&quot;create_button&quot;);</span>
<a href="#l51.591"></a><span id="l51.591">   },</span>
<a href="#l51.592"></a><span id="l51.592"> </span>
<a href="#l51.593"></a><span id="l51.593">   // IDs of &lt;textbox&gt; inputs that can have a .value attr set</span>
<a href="#l51.594"></a><span id="l51.594" class="difflineminus">-  _configDetailTextInputs : [&quot;username&quot;, &quot;incoming_server&quot;,</span>
<a href="#l51.595"></a><span id="l51.595" class="difflineplus">+  _configDetailTextInputs : [&quot;password&quot;, &quot;username&quot;, &quot;incoming_server&quot;,</span>
<a href="#l51.596"></a><span id="l51.596">                              &quot;incoming_port&quot;, &quot;incoming_protocol&quot;,</span>
<a href="#l51.597"></a><span id="l51.597">                              &quot;outgoing_port&quot;],</span>
<a href="#l51.598"></a><span id="l51.598"> </span>
<a href="#l51.599"></a><span id="l51.599">   // IDs of the &lt;menulist&gt; elements that don't accept a .value attr but can</span>
<a href="#l51.600"></a><span id="l51.600">   // be disabled</span>
<a href="#l51.601"></a><span id="l51.601" class="difflineminus">-  _configDetailMenulists : [&quot;incoming_security&quot;,</span>
<a href="#l51.602"></a><span id="l51.602" class="difflineplus">+  _configDetailMenulists : [&quot;remember_password&quot;, &quot;incoming_security&quot;,</span>
<a href="#l51.603"></a><span id="l51.603">                             &quot;outgoing_server&quot;, &quot;outgoing_security&quot;],</span>
<a href="#l51.604"></a><span id="l51.604"> </span>
<a href="#l51.605"></a><span id="l51.605">   /* Helper function to loop through all config details form elements and</span>
<a href="#l51.606"></a><span id="l51.606">    * enable or disable each</span>
<a href="#l51.607"></a><span id="l51.607">    */</span>
<a href="#l51.608"></a><span id="l51.608">   _disableConfigDetails : function(disabled)</span>
<a href="#l51.609"></a><span id="l51.609">   {</span>
<a href="#l51.610"></a><span id="l51.610">     let formElements =</span>
<a href="#l51.611"></a><span id="l51.611" class="difflineat">@@ -1028,16 +1075,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.612"></a><span id="l51.612">   updateConfig : function(config)</span>
<a href="#l51.613"></a><span id="l51.613">   {</span>
<a href="#l51.614"></a><span id="l51.614">     _show(&quot;advanced_settings&quot;);</span>
<a href="#l51.615"></a><span id="l51.615">     this._currentConfig = config;</span>
<a href="#l51.616"></a><span id="l51.616">     // if we have a username, set it.</span>
<a href="#l51.617"></a><span id="l51.617">     if (config.incoming.username)</span>
<a href="#l51.618"></a><span id="l51.618">     {</span>
<a href="#l51.619"></a><span id="l51.619">       document.getElementById(&quot;username&quot;).value = config.incoming.username;</span>
<a href="#l51.620"></a><span id="l51.620" class="difflineplus">+      this._setIconAndTooltip(&quot;username&quot;, &quot;strong&quot;, &quot;&quot;);</span>
<a href="#l51.621"></a><span id="l51.621">     }</span>
<a href="#l51.622"></a><span id="l51.622">     else</span>
<a href="#l51.623"></a><span id="l51.623">     {</span>
<a href="#l51.624"></a><span id="l51.624">       // XXX needs more thought</span>
<a href="#l51.625"></a><span id="l51.625">     }</span>
<a href="#l51.626"></a><span id="l51.626"> </span>
<a href="#l51.627"></a><span id="l51.627">     // incoming server</span>
<a href="#l51.628"></a><span id="l51.628">     if (config.incoming.hostname &amp;&amp; config.incoming.hostname != -1)</span>
<a href="#l51.629"></a><span id="l51.629" class="difflineat">@@ -1055,16 +1103,18 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.630"></a><span id="l51.630">         sanitize.translate(config.incoming.type, { &quot;imap&quot; : 1, &quot;pop3&quot; : 2});</span>
<a href="#l51.631"></a><span id="l51.631"> </span>
<a href="#l51.632"></a><span id="l51.632">       if (config.incoming._inprogress)</span>
<a href="#l51.633"></a><span id="l51.633">       {</span>
<a href="#l51.634"></a><span id="l51.634">         this._setIncomingStatus('probing');</span>
<a href="#l51.635"></a><span id="l51.635">       }</span>
<a href="#l51.636"></a><span id="l51.636">       else</span>
<a href="#l51.637"></a><span id="l51.637">       {</span>
<a href="#l51.638"></a><span id="l51.638" class="difflineplus">+        // We got an incoming server, so we can enable the advanced settings.</span>
<a href="#l51.639"></a><span id="l51.639" class="difflineplus">+        document.getElementById(&quot;advanced_settings&quot;).disabled = false;</span>
<a href="#l51.640"></a><span id="l51.640">         switch (config.incoming.socketType)</span>
<a href="#l51.641"></a><span id="l51.641">         {</span>
<a href="#l51.642"></a><span id="l51.642">           case 2: // SSL / TLS</span>
<a href="#l51.643"></a><span id="l51.643">           case 3: // STARTTLS</span>
<a href="#l51.644"></a><span id="l51.644">             if (config.incoming.badCert)</span>
<a href="#l51.645"></a><span id="l51.645">             {</span>
<a href="#l51.646"></a><span id="l51.646">               this._setIncomingStatus('weak', 'selfsigned');</span>
<a href="#l51.647"></a><span id="l51.647">               var params = { exceptionAdded : false };</span>
<a href="#l51.648"></a><span id="l51.648" class="difflineat">@@ -1173,16 +1223,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.649"></a><span id="l51.649">    */</span>
<a href="#l51.650"></a><span id="l51.650">   onGo : function()</span>
<a href="#l51.651"></a><span id="l51.651">   {</span>
<a href="#l51.652"></a><span id="l51.652">     // swap out go for stop button</span>
<a href="#l51.653"></a><span id="l51.653">     _hide(&quot;go_button&quot;);</span>
<a href="#l51.654"></a><span id="l51.654">     // the stop is naturally not hidden so has no place in the code where it is</span>
<a href="#l51.655"></a><span id="l51.655">     // told to be shown</span>
<a href="#l51.656"></a><span id="l51.656">     _show(&quot;stop_button&quot;);</span>
<a href="#l51.657"></a><span id="l51.657" class="difflineplus">+    this._password = document.getElementById(&quot;password&quot;).value;</span>
<a href="#l51.658"></a><span id="l51.658">     this.goWithConfigDetails();</span>
<a href="#l51.659"></a><span id="l51.659">     var newConfig = this.getUserConfig();</span>
<a href="#l51.660"></a><span id="l51.660">     if (this._incomingState != &quot;done&quot;) {</span>
<a href="#l51.661"></a><span id="l51.661">       newConfig.incoming._inprogress = true;</span>
<a href="#l51.662"></a><span id="l51.662">       gEmailConfigWizard._startProbingIncoming(newConfig);</span>
<a href="#l51.663"></a><span id="l51.663">     }</span>
<a href="#l51.664"></a><span id="l51.664">     if (!this._userPickedOutgoingServer &amp;&amp; this._outgoingState != &quot;done&quot;) {</span>
<a href="#l51.665"></a><span id="l51.665">       newConfig.outgoing._inprogress = true;</span>
<a href="#l51.666"></a><span id="l51.666" class="difflineat">@@ -1193,91 +1244,81 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.667"></a><span id="l51.667">   onCancel : function()</span>
<a href="#l51.668"></a><span id="l51.668">   {</span>
<a href="#l51.669"></a><span id="l51.669">     // The window onclose handler will call onWizardShutdown for us.</span>
<a href="#l51.670"></a><span id="l51.670">     window.close();</span>
<a href="#l51.671"></a><span id="l51.671">   },</span>
<a href="#l51.672"></a><span id="l51.672"> </span>
<a href="#l51.673"></a><span id="l51.673">   // UI helper functions</span>
<a href="#l51.674"></a><span id="l51.674"> </span>
<a href="#l51.675"></a><span id="l51.675" class="difflineminus">-  startSpinner: function(actionStrName)</span>
<a href="#l51.676"></a><span id="l51.676" class="difflineplus">+  startSpinner: function(which, actionStrName)</span>
<a href="#l51.677"></a><span id="l51.677">   {</span>
<a href="#l51.678"></a><span id="l51.678">     this._showStatusTitle(false, actionStrName);</span>
<a href="#l51.679"></a><span id="l51.679" class="difflineminus">-    gEmailWizardLogger.warn(&quot;spinner start\n&quot;);</span>
<a href="#l51.680"></a><span id="l51.680" class="difflineminus">-  },</span>
<a href="#l51.681"></a><span id="l51.681" class="difflineminus">-</span>
<a href="#l51.682"></a><span id="l51.682" class="difflineminus">-  setSpinnerStatus : function(actionStrName)</span>
<a href="#l51.683"></a><span id="l51.683" class="difflineminus">-  {</span>
<a href="#l51.684"></a><span id="l51.684" class="difflineminus">-    this._showStatus(actionStrName);</span>
<a href="#l51.685"></a><span id="l51.685" class="difflineplus">+    if (which == &quot;all&quot;) {</span>
<a href="#l51.686"></a><span id="l51.686" class="difflineplus">+      this._setIconAndTooltip(&quot;username&quot;, &quot;hidden&quot;, &quot;&quot;);</span>
<a href="#l51.687"></a><span id="l51.687" class="difflineplus">+      this._setIconAndTooltip(&quot;incoming&quot;, &quot;hidden&quot;, &quot;&quot;);</span>
<a href="#l51.688"></a><span id="l51.688" class="difflineplus">+      this._setIconAndTooltip(&quot;outgoing&quot;, &quot;hidden&quot;, &quot;&quot;);</span>
<a href="#l51.689"></a><span id="l51.689" class="difflineplus">+    }</span>
<a href="#l51.690"></a><span id="l51.690" class="difflineplus">+    else</span>
<a href="#l51.691"></a><span id="l51.691" class="difflineplus">+      this._setIconAndTooltip(which, &quot;hidden&quot;, &quot;&quot;);</span>
<a href="#l51.692"></a><span id="l51.692" class="difflineplus">+    gEmailWizardLogger.warn(which + &quot;spinner start &quot; + actionStrName);</span>
<a href="#l51.693"></a><span id="l51.693">   },</span>
<a href="#l51.694"></a><span id="l51.694"> </span>
<a href="#l51.695"></a><span id="l51.695">   stopSpinner: function(actionStrName)</span>
<a href="#l51.696"></a><span id="l51.696">   {</span>
<a href="#l51.697"></a><span id="l51.697">     this._showStatusTitle(true, actionStrName);</span>
<a href="#l51.698"></a><span id="l51.698" class="difflineminus">-    gEmailWizardLogger.warn(&quot;spinner stop\n&quot;);</span>
<a href="#l51.699"></a><span id="l51.699" class="difflineplus">+    this._updateSpinner(&quot;username&quot;, true);</span>
<a href="#l51.700"></a><span id="l51.700" class="difflineplus">+    this._updateSpinner(&quot;incoming&quot;, true);</span>
<a href="#l51.701"></a><span id="l51.701" class="difflineplus">+    this._updateSpinner(&quot;outgoing&quot;, true);</span>
<a href="#l51.702"></a><span id="l51.702" class="difflineplus">+    gEmailWizardLogger.warn(&quot;all spinner stop &quot; + actionStrName);</span>
<a href="#l51.703"></a><span id="l51.703">   },</span>
<a href="#l51.704"></a><span id="l51.704"> </span>
<a href="#l51.705"></a><span id="l51.705" class="difflineminus">-  // thought this would be needed other places, not likely though</span>
<a href="#l51.706"></a><span id="l51.706" class="difflineminus">-  _hideSpinner : function(hidden)</span>
<a href="#l51.707"></a><span id="l51.707" class="difflineplus">+  _updateSpinner: function(which, stop)</span>
<a href="#l51.708"></a><span id="l51.708">   {</span>
<a href="#l51.709"></a><span id="l51.709" class="difflineminus">-    document.getElementById(&quot;config_spinner&quot;).hidden = hidden;</span>
<a href="#l51.710"></a><span id="l51.710" class="difflineplus">+    document.getElementById(which + &quot;_spinner&quot;).hidden = stop;</span>
<a href="#l51.711"></a><span id="l51.711">   },</span>
<a href="#l51.712"></a><span id="l51.712"> </span>
<a href="#l51.713"></a><span id="l51.713">   _showStatusTitle: function(success, msgName)</span>
<a href="#l51.714"></a><span id="l51.714">   {</span>
<a href="#l51.715"></a><span id="l51.715" class="difflineplus">+    let brandShortName = document.getElementById(&quot;bundle_brand&quot;)</span>
<a href="#l51.716"></a><span id="l51.716" class="difflineplus">+                                 .getString(&quot;brandShortName&quot;);</span>
<a href="#l51.717"></a><span id="l51.717">     let msg;</span>
<a href="#l51.718"></a><span id="l51.718">     try {</span>
<a href="#l51.719"></a><span id="l51.719" class="difflineminus">-      msg = msgName ? gStringsBundle.getString(msgName) : &quot;&quot;;</span>
<a href="#l51.720"></a><span id="l51.720" class="difflineplus">+      msg = msgName</span>
<a href="#l51.721"></a><span id="l51.721" class="difflineplus">+            ? gStringsBundle.getFormattedString(msgName, [brandShortName])</span>
<a href="#l51.722"></a><span id="l51.722" class="difflineplus">+            : &quot;&quot;;</span>
<a href="#l51.723"></a><span id="l51.723">     } catch(ex) {</span>
<a href="#l51.724"></a><span id="l51.724">       gEmailWizardLogger.error(&quot;missing string for &quot; + msgName);</span>
<a href="#l51.725"></a><span id="l51.725">     }</span>
<a href="#l51.726"></a><span id="l51.726"> </span>
<a href="#l51.727"></a><span id="l51.727" class="difflineminus">-    this._hideSpinner(success);</span>
<a href="#l51.728"></a><span id="l51.728">     let title = document.getElementById(&quot;config_status_title&quot;);</span>
<a href="#l51.729"></a><span id="l51.729">     title.hidden = false;</span>
<a href="#l51.730"></a><span id="l51.730">     title.textContent = msg;</span>
<a href="#l51.731"></a><span id="l51.731">     gEmailWizardLogger.info(&quot;show status title &quot; + (success ? &quot;success&quot; : &quot;failure&quot;) +</span>
<a href="#l51.732"></a><span id="l51.732">                             &quot;, msg: &quot; + msg);</span>
<a href="#l51.733"></a><span id="l51.733">   },</span>
<a href="#l51.734"></a><span id="l51.734"> </span>
<a href="#l51.735"></a><span id="l51.735" class="difflineminus">-  _showStatus: function(msgName)</span>
<a href="#l51.736"></a><span id="l51.736" class="difflineminus">-  {</span>
<a href="#l51.737"></a><span id="l51.737" class="difflineminus">-    let msg;</span>
<a href="#l51.738"></a><span id="l51.738" class="difflineminus">-    try {</span>
<a href="#l51.739"></a><span id="l51.739" class="difflineminus">-      msg = msgName ? gStringsBundle.getString(msgName) : &quot;&quot;;</span>
<a href="#l51.740"></a><span id="l51.740" class="difflineminus">-    } catch(ex) {</span>
<a href="#l51.741"></a><span id="l51.741" class="difflineminus">-      gEmailWizardLogger.error(&quot;missing string for &quot; + msgName);</span>
<a href="#l51.742"></a><span id="l51.742" class="difflineminus">-    }</span>
<a href="#l51.743"></a><span id="l51.743" class="difflineminus">-</span>
<a href="#l51.744"></a><span id="l51.744" class="difflineminus">-    let subtitle = document.getElementById(&quot;config_status_subtitle&quot;);</span>
<a href="#l51.745"></a><span id="l51.745" class="difflineminus">-    subtitle.hidden = false;</span>
<a href="#l51.746"></a><span id="l51.746" class="difflineminus">-    subtitle.textContent = msg;</span>
<a href="#l51.747"></a><span id="l51.747" class="difflineminus">-    gEmailWizardLogger.info(&quot;show status subtitle: &quot; + msg);</span>
<a href="#l51.748"></a><span id="l51.748" class="difflineminus">-  },</span>
<a href="#l51.749"></a><span id="l51.749" class="difflineminus">-</span>
<a href="#l51.750"></a><span id="l51.750">   _prefillConfig: function(initialConfig)</span>
<a href="#l51.751"></a><span id="l51.751">   {</span>
<a href="#l51.752"></a><span id="l51.752">     var emailsplit = this._email.split(&quot;@&quot;);</span>
<a href="#l51.753"></a><span id="l51.753">     if (emailsplit.length != 2)</span>
<a href="#l51.754"></a><span id="l51.754" class="difflineminus">-      throw new Exception(gStringsBundle.getString(&quot;email.error&quot;));</span>
<a href="#l51.755"></a><span id="l51.755" class="difflineplus">+      throw new Exception(gStringsBundle.getString(&quot;double_check_email&quot;));</span>
<a href="#l51.756"></a><span id="l51.756"> </span>
<a href="#l51.757"></a><span id="l51.757">     var emaillocal = sanitize.nonemptystring(emailsplit[0]);</span>
<a href="#l51.758"></a><span id="l51.758">     initialConfig.incoming.username = emaillocal;</span>
<a href="#l51.759"></a><span id="l51.759">     initialConfig.outgoing.username = emaillocal;</span>
<a href="#l51.760"></a><span id="l51.760">     initialConfig.outgoing.protocol = 'smtp';</span>
<a href="#l51.761"></a><span id="l51.761">     return initialConfig;</span>
<a href="#l51.762"></a><span id="l51.762">   },</span>
<a href="#l51.763"></a><span id="l51.763"> </span>
<a href="#l51.764"></a><span id="l51.764">   _startProbingIncoming : function(config)</span>
<a href="#l51.765"></a><span id="l51.765">   {</span>
<a href="#l51.766"></a><span id="l51.766">     gEmailWizardLogger.info(&quot;_startProbingIncoming: &quot; + config.incoming.hostname +</span>
<a href="#l51.767"></a><span id="l51.767">                             &quot; probe = &quot; + this._probeAbortable);</span>
<a href="#l51.768"></a><span id="l51.768" class="difflineminus">-    this.startSpinner(&quot;searching_for_configs&quot;);</span>
<a href="#l51.769"></a><span id="l51.769" class="difflineminus">-    this.setSpinnerStatus(this._outgoingState == &quot;probing&quot; ?</span>
<a href="#l51.770"></a><span id="l51.770" class="difflineminus">-                          &quot;check_server_details&quot; : &quot;check_in_server_details&quot;);</span>
<a href="#l51.771"></a><span id="l51.771" class="difflineplus">+    this.startSpinner(&quot;incoming&quot;, &quot;looking_up_settings&quot;);</span>
<a href="#l51.772"></a><span id="l51.772"> </span>
<a href="#l51.773"></a><span id="l51.773">     config.incoming._inprogress = true;</span>
<a href="#l51.774"></a><span id="l51.774">     // User entered hostname, we may want to probe port and protocol and socketType</span>
<a href="#l51.775"></a><span id="l51.775">     if (!this._userChangedIncomingProtocol)</span>
<a href="#l51.776"></a><span id="l51.776">       config.incoming.protocol = undefined;</span>
<a href="#l51.777"></a><span id="l51.777">     if (!this._userChangedIncomingPort)</span>
<a href="#l51.778"></a><span id="l51.778">       config.incoming.port = undefined;</span>
<a href="#l51.779"></a><span id="l51.779">     if (!this._userChangedIncomingSocketType)</span>
<a href="#l51.780"></a><span id="l51.780" class="difflineat">@@ -1301,19 +1342,17 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.781"></a><span id="l51.781">       this._guessConfig(domain, config, &quot;incoming&quot;);</span>
<a href="#l51.782"></a><span id="l51.782">     }</span>
<a href="#l51.783"></a><span id="l51.783">   },</span>
<a href="#l51.784"></a><span id="l51.784"> </span>
<a href="#l51.785"></a><span id="l51.785">   _startProbingOutgoing : function(config)</span>
<a href="#l51.786"></a><span id="l51.786">   {</span>
<a href="#l51.787"></a><span id="l51.787">     gEmailWizardLogger.info(&quot;_startProbingOutgoing: &quot; + config.outgoing.hostname +</span>
<a href="#l51.788"></a><span id="l51.788">                             &quot; probe = &quot; + this._probeAbortable);</span>
<a href="#l51.789"></a><span id="l51.789" class="difflineminus">-    this.startSpinner(&quot;searching_for_configs&quot;);</span>
<a href="#l51.790"></a><span id="l51.790" class="difflineminus">-    this.setSpinnerStatus(this._incomingState == &quot;probing&quot; ?</span>
<a href="#l51.791"></a><span id="l51.791" class="difflineminus">-                          &quot;check_server_details&quot; : &quot;check_out_server_details&quot;);</span>
<a href="#l51.792"></a><span id="l51.792" class="difflineplus">+    this.startSpinner(&quot;outgoing&quot;, &quot;looking_up_settings&quot;);</span>
<a href="#l51.793"></a><span id="l51.793"> </span>
<a href="#l51.794"></a><span id="l51.794">     config.outgoing._inprogress = true;</span>
<a href="#l51.795"></a><span id="l51.795">     // User entered hostname, we want to probe port and protocol and socketType</span>
<a href="#l51.796"></a><span id="l51.796">     if (!this._userChangedOutgoingPort)</span>
<a href="#l51.797"></a><span id="l51.797">       config.outgoing.port = undefined;</span>
<a href="#l51.798"></a><span id="l51.798">     if (!this.userChangedOutgoingSocketType)</span>
<a href="#l51.799"></a><span id="l51.799">       config.outgoing.socketType = undefined;</span>
<a href="#l51.800"></a><span id="l51.800"> </span>
<a href="#l51.801"></a><span id="l51.801" class="difflineat">@@ -1326,22 +1365,24 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.802"></a><span id="l51.802">     else</span>
<a href="#l51.803"></a><span id="l51.803">     {</span>
<a href="#l51.804"></a><span id="l51.804">       this._guessConfig(config.outgoing.hostname, config, &quot;outgoing&quot;);</span>
<a href="#l51.805"></a><span id="l51.805">     }</span>
<a href="#l51.806"></a><span id="l51.806">   },</span>
<a href="#l51.807"></a><span id="l51.807"> </span>
<a href="#l51.808"></a><span id="l51.808">   clearError: function(which) {</span>
<a href="#l51.809"></a><span id="l51.809">     _hide(which);</span>
<a href="#l51.810"></a><span id="l51.810" class="difflineplus">+    _hide(which+&quot;icon&quot;);</span>
<a href="#l51.811"></a><span id="l51.811">     document.getElementById(which).textContent = &quot;&quot;;</span>
<a href="#l51.812"></a><span id="l51.812">   },</span>
<a href="#l51.813"></a><span id="l51.813"> </span>
<a href="#l51.814"></a><span id="l51.814">   setError: function(which, msg_name) {</span>
<a href="#l51.815"></a><span id="l51.815">     try {</span>
<a href="#l51.816"></a><span id="l51.816">       _show(which);</span>
<a href="#l51.817"></a><span id="l51.817" class="difflineplus">+      _show(which+&quot;icon&quot;);</span>
<a href="#l51.818"></a><span id="l51.818">       document.getElementById(which).textContent =</span>
<a href="#l51.819"></a><span id="l51.819">         gStringsBundle.getString(msg_name);</span>
<a href="#l51.820"></a><span id="l51.820">     }</span>
<a href="#l51.821"></a><span id="l51.821">     catch(ex) {</span>
<a href="#l51.822"></a><span id="l51.822">       alertPrompt(&quot;missing error string&quot;, msg_name);</span>
<a href="#l51.823"></a><span id="l51.823">     }</span>
<a href="#l51.824"></a><span id="l51.824">   },</span>
<a href="#l51.825"></a><span id="l51.825"> </span>
<a href="#l51.826"></a><span id="l51.826" class="difflineat">@@ -1362,16 +1403,18 @@ EmailConfigWizard.prototype =</span>
<a href="#l51.827"></a><span id="l51.827">     }</span>
<a href="#l51.828"></a><span id="l51.828">     return false;</span>
<a href="#l51.829"></a><span id="l51.829">   },</span>
<a href="#l51.830"></a><span id="l51.830"> </span>
<a href="#l51.831"></a><span id="l51.831">   onWizardShutdown: function EmailConfigWizard_onWizardshutdown() {</span>
<a href="#l51.832"></a><span id="l51.832">     if (this._probeAbortable)</span>
<a href="#l51.833"></a><span id="l51.833">       this._probeAbortable.cancel();</span>
<a href="#l51.834"></a><span id="l51.834"> </span>
<a href="#l51.835"></a><span id="l51.835" class="difflineplus">+    if (this._okCallback)</span>
<a href="#l51.836"></a><span id="l51.836" class="difflineplus">+      this._okCallback();</span>
<a href="#l51.837"></a><span id="l51.837">     gEmailWizardLogger.info(&quot;Shutting down email config dialog&quot;);</span>
<a href="#l51.838"></a><span id="l51.838">   }</span>
<a href="#l51.839"></a><span id="l51.839"> };</span>
<a href="#l51.840"></a><span id="l51.840"> </span>
<a href="#l51.841"></a><span id="l51.841"> var gEmailConfigWizard = new EmailConfigWizard();</span>
<a href="#l51.842"></a><span id="l51.842"> gEmailWizardLogger.info(&quot;email account setup dialog&quot;);</span>
<a href="#l51.843"></a><span id="l51.843"> </span>
<a href="#l51.844"></a><span id="l51.844"> function sslLabel(val)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l52.1"></a><span id="l52.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/emailWizard.xul</span>
<a href="#l52.2"></a><span id="l52.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/emailWizard.xul</span>
<a href="#l52.3"></a><span id="l52.3" class="difflineat">@@ -43,18 +43,17 @@</span>
<a href="#l52.4"></a><span id="l52.4">   %brandDTD;</span>
<a href="#l52.5"></a><span id="l52.5">   &lt;!ENTITY % acDTD SYSTEM &quot;chrome://messenger/locale/accountCreation.dtd&quot;&gt;</span>
<a href="#l52.6"></a><span id="l52.6">   %acDTD;</span>
<a href="#l52.7"></a><span id="l52.7"> ]&gt;</span>
<a href="#l52.8"></a><span id="l52.8"> </span>
<a href="#l52.9"></a><span id="l52.9"> &lt;window xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l52.10"></a><span id="l52.10">         id=&quot;autoconfigWizard&quot;</span>
<a href="#l52.11"></a><span id="l52.11">         windowtype=&quot;mail:autoconfig&quot;</span>
<a href="#l52.12"></a><span id="l52.12" class="difflineminus">-        title=&quot;&amp;welcome.description;&quot;</span>
<a href="#l52.13"></a><span id="l52.13" class="difflineminus">-        style=&quot;&amp;autoconfigWizard.style;&quot;</span>
<a href="#l52.14"></a><span id="l52.14" class="difflineplus">+        title=&quot;&amp;autoconfigWizard.title;&quot;</span>
<a href="#l52.15"></a><span id="l52.15">         onload=&quot;gEmailConfigWizard.onLoad();&quot;</span>
<a href="#l52.16"></a><span id="l52.16">         onkeypress=&quot;gEmailConfigWizard.onKeyDown(event)&quot;</span>
<a href="#l52.17"></a><span id="l52.17">         onclose=&quot;gEmailConfigWizard.onWizardShutdown();&quot;</span>
<a href="#l52.18"></a><span id="l52.18">         onunload=&quot;gEmailConfigWizard.onWizardShutdown();&quot;</span>
<a href="#l52.19"></a><span id="l52.19">         &gt;</span>
<a href="#l52.20"></a><span id="l52.20"> </span>
<a href="#l52.21"></a><span id="l52.21">   &lt;stringbundleset&gt;</span>
<a href="#l52.22"></a><span id="l52.22">     &lt;stringbundle id=&quot;bundle_brand&quot; src=&quot;chrome://branding/locale/brand.properties&quot;/&gt;</span>
<a href="#l52.23"></a><span id="l52.23" class="difflineat">@@ -88,33 +87,35 @@</span>
<a href="#l52.24"></a><span id="l52.24">     &lt;key keycode=&quot;VK_ESCAPE&quot; oncommand=&quot;window.close();&quot;/&gt;</span>
<a href="#l52.25"></a><span id="l52.25">   &lt;/keyset&gt;</span>
<a href="#l52.26"></a><span id="l52.26"> </span>
<a href="#l52.27"></a><span id="l52.27">   &lt;panel id=&quot;insecureserver-cleartext-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l52.28"></a><span id="l52.28">     &lt;hbox&gt;</span>
<a href="#l52.29"></a><span id="l52.29">       &lt;image class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l52.30"></a><span id="l52.30">       &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l52.31"></a><span id="l52.31">         &lt;description class=&quot;title&quot;&gt;&amp;insecureServer.tooltip.title;&lt;/description&gt;</span>
<a href="#l52.32"></a><span id="l52.32" class="difflineminus">-        &lt;description class=&quot;details&quot;&gt;&amp;insecureClearText.description;&lt;/description&gt;</span>
<a href="#l52.33"></a><span id="l52.33" class="difflineplus">+        &lt;description class=&quot;details&quot;&gt;&amp;insecureCleartext.description;&lt;/description&gt;</span>
<a href="#l52.34"></a><span id="l52.34">       &lt;/vbox&gt;</span>
<a href="#l52.35"></a><span id="l52.35">     &lt;/hbox&gt;</span>
<a href="#l52.36"></a><span id="l52.36">   &lt;/panel&gt;</span>
<a href="#l52.37"></a><span id="l52.37">   &lt;panel id=&quot;insecureserver-selfsigned-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l52.38"></a><span id="l52.38">     &lt;hbox&gt;</span>
<a href="#l52.39"></a><span id="l52.39">       &lt;image class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l52.40"></a><span id="l52.40">       &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l52.41"></a><span id="l52.41">         &lt;description class=&quot;title&quot;&gt;&amp;insecureServer.tooltip.title;&lt;/description&gt;</span>
<a href="#l52.42"></a><span id="l52.42">         &lt;description class=&quot;details&quot;&gt;&amp;insecureSelfSigned.description;&lt;/description&gt;</span>
<a href="#l52.43"></a><span id="l52.43">       &lt;/vbox&gt;</span>
<a href="#l52.44"></a><span id="l52.44">     &lt;/hbox&gt;</span>
<a href="#l52.45"></a><span id="l52.45">   &lt;/panel&gt;</span>
<a href="#l52.46"></a><span id="l52.46">   &lt;panel id=&quot;secureserver-panel&quot; class=&quot;popup-panel&quot;&gt;</span>
<a href="#l52.47"></a><span id="l52.47">     &lt;hbox&gt;</span>
<a href="#l52.48"></a><span id="l52.48">       &lt;image class=&quot;secureLarry&quot;/&gt;</span>
<a href="#l52.49"></a><span id="l52.49" class="difflineminus">-      &lt;description class=&quot;title&quot;&gt;&amp;secureServer.description;&lt;/description&gt;</span>
<a href="#l52.50"></a><span id="l52.50" class="difflineplus">+      &lt;vbox flex=&quot;1&quot;&gt;</span>
<a href="#l52.51"></a><span id="l52.51" class="difflineplus">+        &lt;description class=&quot;title&quot;&gt;&amp;secureServer.description;&lt;/description&gt;</span>
<a href="#l52.52"></a><span id="l52.52" class="difflineplus">+      &lt;/vbox&gt;</span>
<a href="#l52.53"></a><span id="l52.53">     &lt;/hbox&gt;</span>
<a href="#l52.54"></a><span id="l52.54">   &lt;/panel&gt;</span>
<a href="#l52.55"></a><span id="l52.55"> </span>
<a href="#l52.56"></a><span id="l52.56">   &lt;tooltip id=&quot;insecureserver-cleartext&quot;&gt;</span>
<a href="#l52.57"></a><span id="l52.57">     &lt;hbox&gt;</span>
<a href="#l52.58"></a><span id="l52.58">       &lt;image class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l52.59"></a><span id="l52.59">       &lt;vbox&gt;</span>
<a href="#l52.60"></a><span id="l52.60">         &lt;description class=&quot;title&quot;&gt;&amp;insecureServer.tooltip.title;&lt;/description&gt;</span>
<a href="#l52.61"></a><span id="l52.61" class="difflineat">@@ -132,304 +133,330 @@</span>
<a href="#l52.62"></a><span id="l52.62">     &lt;/hbox&gt;</span>
<a href="#l52.63"></a><span id="l52.63">   &lt;/tooltip&gt;</span>
<a href="#l52.64"></a><span id="l52.64">   &lt;tooltip id=&quot;secureservertooltip&quot;&gt;</span>
<a href="#l52.65"></a><span id="l52.65">     &lt;hbox&gt;</span>
<a href="#l52.66"></a><span id="l52.66">       &lt;image class=&quot;secureLarry&quot;/&gt;</span>
<a href="#l52.67"></a><span id="l52.67">       &lt;description class=&quot;title&quot;&gt;&amp;secureServer.description;&lt;/description&gt;</span>
<a href="#l52.68"></a><span id="l52.68">     &lt;/hbox&gt;</span>
<a href="#l52.69"></a><span id="l52.69">   &lt;/tooltip&gt;</span>
<a href="#l52.70"></a><span id="l52.70" class="difflineplus">+  &lt;tooltip id=&quot;optional-password&quot;&gt;</span>
<a href="#l52.71"></a><span id="l52.71" class="difflineplus">+    &lt;description&gt;&amp;password.text;&lt;/description&gt;</span>
<a href="#l52.72"></a><span id="l52.72" class="difflineplus">+  &lt;/tooltip&gt;</span>
<a href="#l52.73"></a><span id="l52.73"> </span>
<a href="#l52.74"></a><span id="l52.74"> </span>
<a href="#l52.75"></a><span id="l52.75" class="difflineminus">-  &lt;vbox class=&quot;mastervbox&quot;</span>
<a href="#l52.76"></a><span id="l52.76" class="difflineminus">-        id=&quot;mastervbox&quot;</span>
<a href="#l52.77"></a><span id="l52.77" class="difflineminus">-        flex=&quot;1&quot;&gt;</span>
<a href="#l52.78"></a><span id="l52.78" class="difflineminus">-    &lt;grid&gt;</span>
<a href="#l52.79"></a><span id="l52.79" class="difflineminus">-      &lt;columns&gt;</span>
<a href="#l52.80"></a><span id="l52.80" class="difflineminus">-        &lt;column/&gt;</span>
<a href="#l52.81"></a><span id="l52.81" class="difflineminus">-        &lt;column flex=&quot;1&quot;/&gt;</span>
<a href="#l52.82"></a><span id="l52.82" class="difflineminus">-      &lt;/columns&gt;</span>
<a href="#l52.83"></a><span id="l52.83" class="difflineminus">-      &lt;rows&gt;</span>
<a href="#l52.84"></a><span id="l52.84" class="difflineminus">-        &lt;row class=&quot;heading&quot;&gt;</span>
<a href="#l52.85"></a><span id="l52.85" class="difflineminus">-          &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l52.86"></a><span id="l52.86" class="difflineminus">-            &lt;label class=&quot;heading&quot;&gt;&amp;accountInformation.label;&lt;/label&gt;</span>
<a href="#l52.87"></a><span id="l52.87" class="difflineplus">+  &lt;vbox id=&quot;mastervbox&quot; class=&quot;mastervbox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l52.88"></a><span id="l52.88" class="difflineplus">+    &lt;groupbox class=&quot;initialSettings&quot;&gt;</span>
<a href="#l52.89"></a><span id="l52.89" class="difflineplus">+      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l52.90"></a><span id="l52.90" class="difflineplus">+        &lt;label accesskey=&quot;&amp;name.accesskey;&quot;</span>
<a href="#l52.91"></a><span id="l52.91" class="difflineplus">+               class=&quot;autoconfigLabel&quot;</span>
<a href="#l52.92"></a><span id="l52.92" class="difflineplus">+               value=&quot;&amp;name.label;&quot;</span>
<a href="#l52.93"></a><span id="l52.93" class="difflineplus">+               control=&quot;realname&quot;/&gt;</span>
<a href="#l52.94"></a><span id="l52.94" class="difflineplus">+        &lt;textbox id=&quot;realname&quot;</span>
<a href="#l52.95"></a><span id="l52.95" class="difflineplus">+                 class=&quot;padded&quot;</span>
<a href="#l52.96"></a><span id="l52.96" class="difflineplus">+                 value=&quot;&quot;</span>
<a href="#l52.97"></a><span id="l52.97" class="difflineplus">+                 emptytext=&quot;&amp;name.emptytext;&quot;</span>
<a href="#l52.98"></a><span id="l52.98" class="difflineplus">+                 oninput=&quot;gEmailConfigWizard.onRealnameInput()&quot;</span>
<a href="#l52.99"></a><span id="l52.99" class="difflineplus">+                 onblur=&quot;gEmailConfigWizard.validateRealname();&quot;/&gt;</span>
<a href="#l52.100"></a><span id="l52.100" class="difflineplus">+        &lt;description id=&quot;nametext&quot; class=&quot;initialDesc&quot;&gt;&amp;name.text;&lt;/description&gt;</span>
<a href="#l52.101"></a><span id="l52.101" class="difflineplus">+        &lt;image id=&quot;nameerroricon&quot;</span>
<a href="#l52.102"></a><span id="l52.102" class="difflineplus">+               hidden=&quot;true&quot;</span>
<a href="#l52.103"></a><span id="l52.103" class="difflineplus">+               src=&quot;chrome://global/skin/icons/warning-16.png&quot;/&gt;</span>
<a href="#l52.104"></a><span id="l52.104" class="difflineplus">+        &lt;description id=&quot;nameerror&quot; class=&quot;errordescription&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.105"></a><span id="l52.105" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l52.106"></a><span id="l52.106" class="difflineplus">+      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l52.107"></a><span id="l52.107" class="difflineplus">+        &lt;label accesskey=&quot;&amp;email.accesskey;&quot;</span>
<a href="#l52.108"></a><span id="l52.108" class="difflineplus">+               class=&quot;autoconfigLabel&quot;</span>
<a href="#l52.109"></a><span id="l52.109" class="difflineplus">+               value=&quot;&amp;email.label;&quot;</span>
<a href="#l52.110"></a><span id="l52.110" class="difflineplus">+               control=&quot;email&quot;/&gt;</span>
<a href="#l52.111"></a><span id="l52.111" class="difflineplus">+        &lt;textbox id=&quot;email&quot;</span>
<a href="#l52.112"></a><span id="l52.112" class="difflineplus">+                 class=&quot;padded uri-element&quot;</span>
<a href="#l52.113"></a><span id="l52.113" class="difflineplus">+                 emptytext=&quot;&amp;email.emptytext;&quot;</span>
<a href="#l52.114"></a><span id="l52.114" class="difflineplus">+                 oninput=&quot;gEmailConfigWizard.onEmailInput()&quot;</span>
<a href="#l52.115"></a><span id="l52.115" class="difflineplus">+                 onblur=&quot;gEmailConfigWizard.validateEmail();&quot;/&gt;</span>
<a href="#l52.116"></a><span id="l52.116" class="difflineplus">+        &lt;image id=&quot;emailerroricon&quot;</span>
<a href="#l52.117"></a><span id="l52.117" class="difflineplus">+               hidden=&quot;true&quot;</span>
<a href="#l52.118"></a><span id="l52.118" class="difflineplus">+               src=&quot;chrome://global/skin/icons/warning-16.png&quot;/&gt;</span>
<a href="#l52.119"></a><span id="l52.119" class="difflineplus">+        &lt;description id=&quot;emailerror&quot; class=&quot;errordescription&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.120"></a><span id="l52.120" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l52.121"></a><span id="l52.121" class="difflineplus">+      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l52.122"></a><span id="l52.122" class="difflineplus">+        &lt;!-- this starts out as text so the emptytext shows, but then</span>
<a href="#l52.123"></a><span id="l52.123" class="difflineplus">+             changes to type=password once it's not empty --&gt;</span>
<a href="#l52.124"></a><span id="l52.124" class="difflineplus">+        &lt;label accesskey=&quot;&amp;password.accesskey;&quot;</span>
<a href="#l52.125"></a><span id="l52.125" class="difflineplus">+               class=&quot;autoconfigLabel&quot;</span>
<a href="#l52.126"></a><span id="l52.126" class="difflineplus">+               value=&quot;&amp;password.label;&quot;</span>
<a href="#l52.127"></a><span id="l52.127" class="difflineplus">+               control=&quot;password&quot;</span>
<a href="#l52.128"></a><span id="l52.128" class="difflineplus">+               tooltip=&quot;optional-password&quot;/&gt;</span>
<a href="#l52.129"></a><span id="l52.129" class="difflineplus">+        &lt;textbox id=&quot;password&quot;</span>
<a href="#l52.130"></a><span id="l52.130" class="difflineplus">+                 class=&quot;padded&quot;</span>
<a href="#l52.131"></a><span id="l52.131" class="difflineplus">+                 emptytext=&quot;&amp;password.emptytext;&quot;</span>
<a href="#l52.132"></a><span id="l52.132" class="difflineplus">+                 type=&quot;text&quot;</span>
<a href="#l52.133"></a><span id="l52.133" class="difflineplus">+                 oninput=&quot;gEmailConfigWizard.oninputPassword();&quot;</span>
<a href="#l52.134"></a><span id="l52.134" class="difflineplus">+                 onfocus=&quot;this.type='password';&quot;</span>
<a href="#l52.135"></a><span id="l52.135" class="difflineplus">+                 onblur=&quot;gEmailConfigWizard.onblurPassword();&quot;/&gt;</span>
<a href="#l52.136"></a><span id="l52.136" class="difflineplus">+        &lt;image id=&quot;passworderroricon&quot;</span>
<a href="#l52.137"></a><span id="l52.137" class="difflineplus">+               hidden=&quot;true&quot;</span>
<a href="#l52.138"></a><span id="l52.138" class="difflineplus">+               src=&quot;chrome://global/skin/icons/warning-16.png&quot;/&gt;</span>
<a href="#l52.139"></a><span id="l52.139" class="difflineplus">+        &lt;description id=&quot;passworderror&quot; class=&quot;errordescription&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.140"></a><span id="l52.140" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l52.141"></a><span id="l52.141" class="difflineplus">+      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l52.142"></a><span id="l52.142" class="difflineplus">+        &lt;label class=&quot;autoconfigLabel&quot;/&gt;</span>
<a href="#l52.143"></a><span id="l52.143" class="difflineplus">+        &lt;checkbox id=&quot;remember_password&quot;</span>
<a href="#l52.144"></a><span id="l52.144" class="difflineplus">+                  label=&quot;&amp;rememberPassword.label;&quot;</span>
<a href="#l52.145"></a><span id="l52.145" class="difflineplus">+                  accesskey=&quot;&amp;rememberPassword.accesskey;&quot;</span>
<a href="#l52.146"></a><span id="l52.146" class="difflineplus">+                  disabled=&quot;true&quot;</span>
<a href="#l52.147"></a><span id="l52.147" class="difflineplus">+                  checked=&quot;false&quot;</span>
<a href="#l52.148"></a><span id="l52.148" class="difflineplus">+                  onclick=&quot;gEmailConfigWizard._userChangedPassword=true;&quot;/&gt;</span>
<a href="#l52.149"></a><span id="l52.149" class="difflineplus">+        &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l52.150"></a><span id="l52.150" class="difflineplus">+        &lt;hbox&gt;</span>
<a href="#l52.151"></a><span id="l52.151" class="difflineplus">+          &lt;button id=&quot;back_button&quot;</span>
<a href="#l52.152"></a><span id="l52.152" class="difflineplus">+                  label=&quot;&amp;startOver.label;&quot;</span>
<a href="#l52.153"></a><span id="l52.153" class="difflineplus">+                  accesskey=&quot;&amp;startOver.accesskey;&quot;</span>
<a href="#l52.154"></a><span id="l52.154" class="difflineplus">+                  class=&quot;larger-button&quot;</span>
<a href="#l52.155"></a><span id="l52.155" class="difflineplus">+                  hidden=&quot;true&quot;</span>
<a href="#l52.156"></a><span id="l52.156" class="difflineplus">+                  oncommand=&quot;gEmailConfigWizard.onBack();&quot;/&gt;</span>
<a href="#l52.157"></a><span id="l52.157" class="difflineplus">+        &lt;/hbox&gt;</span>
<a href="#l52.158"></a><span id="l52.158" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l52.159"></a><span id="l52.159" class="difflineplus">+      &lt;hbox id=&quot;fullspacer&quot;/&gt;</span>
<a href="#l52.160"></a><span id="l52.160" class="difflineplus">+    &lt;/groupbox&gt;</span>
<a href="#l52.161"></a><span id="l52.161" class="difflineplus">+    &lt;vbox&gt;</span>
<a href="#l52.162"></a><span id="l52.162" class="difflineplus">+      &lt;groupbox id=&quot;settingsbox&quot; class=&quot;settings&quot;&gt;</span>
<a href="#l52.163"></a><span id="l52.163" class="difflineplus">+        &lt;vbox&gt;</span>
<a href="#l52.164"></a><span id="l52.164" class="difflineplus">+          &lt;vbox id=&quot;configarea&quot;&gt;</span>
<a href="#l52.165"></a><span id="l52.165" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l52.166"></a><span id="l52.166" class="difflineplus">+              &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l52.167"></a><span id="l52.167" class="difflineplus">+                &lt;description id=&quot;config_status_title&quot; flex=&quot;1&quot; class=&quot;title&quot;/&gt;</span>
<a href="#l52.168"></a><span id="l52.168" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l52.169"></a><span id="l52.169" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l52.170"></a><span id="l52.170" class="difflineplus">+          &lt;/vbox&gt;</span>
<a href="#l52.171"></a><span id="l52.171" class="difflineplus">+          &lt;hbox id=&quot;usernamearea&quot; align=&quot;center&quot;&gt;</span>
<a href="#l52.172"></a><span id="l52.172" class="difflineplus">+            &lt;vbox id=&quot;username_status&quot;</span>
<a href="#l52.173"></a><span id="l52.173" class="difflineplus">+                  class=&quot;icon&quot;</span>
<a href="#l52.174"></a><span id="l52.174" class="difflineplus">+                  align=&quot;center&quot;</span>
<a href="#l52.175"></a><span id="l52.175" class="difflineplus">+                  pack=&quot;center&quot;&gt;</span>
<a href="#l52.176"></a><span id="l52.176" class="difflineplus">+              &lt;image id=&quot;username_spinner&quot;</span>
<a href="#l52.177"></a><span id="l52.177" class="difflineplus">+                     src=&quot;chrome://global/skin/icons/loading_16.png&quot;</span>
<a href="#l52.178"></a><span id="l52.178" class="difflineplus">+                     hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.179"></a><span id="l52.179" class="difflineplus">+            &lt;/vbox&gt;</span>
<a href="#l52.180"></a><span id="l52.180" class="difflineplus">+            &lt;label class=&quot;textbox-label&quot;</span>
<a href="#l52.181"></a><span id="l52.181" class="difflineplus">+                   value=&quot;&amp;username2.label;&quot;</span>
<a href="#l52.182"></a><span id="l52.182" class="difflineplus">+                   control=&quot;username&quot;/&gt;</span>
<a href="#l52.183"></a><span id="l52.183" class="difflineplus">+            &lt;textbox id=&quot;username&quot;</span>
<a href="#l52.184"></a><span id="l52.184" class="difflineplus">+                     value=&quot;&quot;</span>
<a href="#l52.185"></a><span id="l52.185" class="difflineplus">+                     disabled=&quot;true&quot;</span>
<a href="#l52.186"></a><span id="l52.186" class="difflineplus">+                     class=&quot;username&quot;/&gt;</span>
<a href="#l52.187"></a><span id="l52.187" class="difflineplus">+            &lt;hbox flex=&quot;1&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l52.188"></a><span id="l52.188" class="difflineplus">+              &lt;button id=&quot;stop_button&quot;</span>
<a href="#l52.189"></a><span id="l52.189" class="difflineplus">+                      label=&quot;&amp;stop.label;&quot;</span>
<a href="#l52.190"></a><span id="l52.190" class="difflineplus">+                      accesskey=&quot;&amp;stop.accesskey;&quot;</span>
<a href="#l52.191"></a><span id="l52.191" class="difflineplus">+                      class=&quot;smaller-button&quot;</span>
<a href="#l52.192"></a><span id="l52.192" class="difflineplus">+                      oncommand=&quot;gEmailConfigWizard.onStop();&quot;/&gt;</span>
<a href="#l52.193"></a><span id="l52.193" class="difflineplus">+              &lt;button id=&quot;edit_button&quot;</span>
<a href="#l52.194"></a><span id="l52.194" class="difflineplus">+                      label=&quot;&amp;edit.label;&quot;</span>
<a href="#l52.195"></a><span id="l52.195" class="difflineplus">+                      accesskey=&quot;&amp;edit.accesskey;&quot;</span>
<a href="#l52.196"></a><span id="l52.196" class="difflineplus">+                      class=&quot;smaller-button&quot;</span>
<a href="#l52.197"></a><span id="l52.197" class="difflineplus">+                      hidden=&quot;true&quot;</span>
<a href="#l52.198"></a><span id="l52.198" class="difflineplus">+                      oncommand=&quot;gEmailConfigWizard.onEdit();&quot;/&gt;</span>
<a href="#l52.199"></a><span id="l52.199" class="difflineplus">+              &lt;button id=&quot;go_button&quot;</span>
<a href="#l52.200"></a><span id="l52.200" class="difflineplus">+                      label=&quot;&amp;retest.label;&quot;</span>
<a href="#l52.201"></a><span id="l52.201" class="difflineplus">+                      accesskey=&quot;&amp;retest.accesskey;&quot;</span>
<a href="#l52.202"></a><span id="l52.202" class="difflineplus">+                      class=&quot;smaller-button&quot;</span>
<a href="#l52.203"></a><span id="l52.203" class="difflineplus">+                      hidden=&quot;true&quot;</span>
<a href="#l52.204"></a><span id="l52.204" class="difflineplus">+                      oncommand=&quot;gEmailConfigWizard.onGo();&quot;/&gt;</span>
<a href="#l52.205"></a><span id="l52.205" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l52.206"></a><span id="l52.206">           &lt;/hbox&gt;</span>
<a href="#l52.207"></a><span id="l52.207" class="difflineminus">-          &lt;hbox&gt;&lt;spacer/&gt;&lt;/hbox&gt;</span>
<a href="#l52.208"></a><span id="l52.208" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l52.209"></a><span id="l52.209" class="difflineminus">-        &lt;row&gt;</span>
<a href="#l52.210"></a><span id="l52.210" class="difflineminus">-          &lt;grid&gt;</span>
<a href="#l52.211"></a><span id="l52.211" class="difflineminus">-            &lt;rows&gt;</span>
<a href="#l52.212"></a><span id="l52.212" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l52.213"></a><span id="l52.213" class="difflineminus">-                &lt;description id=&quot;nameerror&quot; class=&quot;errordescription&quot;</span>
<a href="#l52.214"></a><span id="l52.214" class="difflineminus">-                             hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.215"></a><span id="l52.215" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l52.216"></a><span id="l52.216" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l52.217"></a><span id="l52.217" class="difflineminus">-                &lt;textbox id=&quot;realname&quot;</span>
<a href="#l52.218"></a><span id="l52.218" class="difflineminus">-                         class=&quot;padded&quot;</span>
<a href="#l52.219"></a><span id="l52.219" class="difflineminus">-                         value=&quot;&quot; emptytext=&quot;&amp;name.description;&quot;</span>
<a href="#l52.220"></a><span id="l52.220" class="difflineminus">-                         oninput=&quot;gEmailConfigWizard.onRealnameInput()&quot;</span>
<a href="#l52.221"></a><span id="l52.221" class="difflineminus">-                         onblur=&quot;gEmailConfigWizard.validateRealname();&quot;/&gt;</span>
<a href="#l52.222"></a><span id="l52.222" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l52.223"></a><span id="l52.223" class="difflineminus">-              &lt;spacer/&gt;</span>
<a href="#l52.224"></a><span id="l52.224" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l52.225"></a><span id="l52.225" class="difflineminus">-                &lt;description id=&quot;emailerror&quot; class=&quot;errordescription&quot;</span>
<a href="#l52.226"></a><span id="l52.226" class="difflineminus">-                             hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.227"></a><span id="l52.227" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l52.228"></a><span id="l52.228" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l52.229"></a><span id="l52.229" class="difflineminus">-                &lt;textbox id=&quot;email&quot;</span>
<a href="#l52.230"></a><span id="l52.230" class="difflineminus">-                         class=&quot;padded uri-element&quot;</span>
<a href="#l52.231"></a><span id="l52.231" class="difflineminus">-                         emptytext=&quot;&amp;email.description;&quot;</span>
<a href="#l52.232"></a><span id="l52.232" class="difflineminus">-                         oninput=&quot;gEmailConfigWizard.onEmailInput()&quot;</span>
<a href="#l52.233"></a><span id="l52.233" class="difflineminus">-                         onblur=&quot;gEmailConfigWizard.validateEmail();&quot;/&gt;</span>
<a href="#l52.234"></a><span id="l52.234" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l52.235"></a><span id="l52.235" class="difflineminus">-              &lt;spacer/&gt;</span>
<a href="#l52.236"></a><span id="l52.236" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l52.237"></a><span id="l52.237" class="difflineminus">-                &lt;description id=&quot;passworderror&quot; class=&quot;errordescription&quot;</span>
<a href="#l52.238"></a><span id="l52.238" class="difflineminus">-                             hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.239"></a><span id="l52.239" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l52.240"></a><span id="l52.240" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l52.241"></a><span id="l52.241" class="difflineminus">-                &lt;!-- this starts out as text so the emptytext shows, but then</span>
<a href="#l52.242"></a><span id="l52.242" class="difflineminus">-                     changes to type=password once it's not empty --&gt;</span>
<a href="#l52.243"></a><span id="l52.243" class="difflineminus">-                &lt;textbox id=&quot;password&quot;</span>
<a href="#l52.244"></a><span id="l52.244" class="difflineminus">-                         class=&quot;padded&quot;</span>
<a href="#l52.245"></a><span id="l52.245" class="difflineminus">-                         emptytext=&quot;&amp;password.description;&quot;</span>
<a href="#l52.246"></a><span id="l52.246" class="difflineminus">-                         type=&quot;text&quot;</span>
<a href="#l52.247"></a><span id="l52.247" class="difflineminus">-                         oninput=&quot;gEmailConfigWizard.oninputPassword();&quot;</span>
<a href="#l52.248"></a><span id="l52.248" class="difflineminus">-                         onfocus=&quot;this.type='password';&quot;</span>
<a href="#l52.249"></a><span id="l52.249" class="difflineminus">-                         onblur=&quot;gEmailConfigWizard.onblurPassword();&quot;/&gt;</span>
<a href="#l52.250"></a><span id="l52.250" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l52.251"></a><span id="l52.251" class="difflineminus">-              &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l52.252"></a><span id="l52.252" class="difflineminus">-                &lt;checkbox id=&quot;remember_password&quot;</span>
<a href="#l52.253"></a><span id="l52.253" class="difflineminus">-                          accesskey=&quot;&amp;rememberPassword.accesskey;&quot;</span>
<a href="#l52.254"></a><span id="l52.254" class="difflineminus">-                          onclick=&quot;gEmailConfigWizard._userChangedPassword=true;&quot;</span>
<a href="#l52.255"></a><span id="l52.255" class="difflineminus">-                          label=&quot;&amp;rememberPassword.label;&quot; checked=&quot;false&quot;/&gt;</span>
<a href="#l52.256"></a><span id="l52.256" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l52.257"></a><span id="l52.257" class="difflineminus">-              &lt;row&gt;</span>
<a href="#l52.258"></a><span id="l52.258" class="difflineminus">-                &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l52.259"></a><span id="l52.259" class="difflineminus">-                  &lt;button id=&quot;next_button&quot;</span>
<a href="#l52.260"></a><span id="l52.260" class="difflineminus">-                          hidden=&quot;true&quot;</span>
<a href="#l52.261"></a><span id="l52.261" class="difflineminus">-                          oncommand=&quot;gEmailConfigWizard.onNext();&quot;</span>
<a href="#l52.262"></a><span id="l52.262" class="difflineminus">-                          accesskey=&quot;&amp;next.accesskey;&quot;</span>
<a href="#l52.263"></a><span id="l52.263" class="difflineminus">-                          label=&quot;&amp;next.label;&quot; class=&quot;larger-button&quot;/&gt;</span>
<a href="#l52.264"></a><span id="l52.264" class="difflineminus">-                  &lt;button id=&quot;back_button&quot; class=&quot;smaller-button&quot;</span>
<a href="#l52.265"></a><span id="l52.265" class="difflineminus">-                          oncommand=&quot;gEmailConfigWizard.onBack();&quot;</span>
<a href="#l52.266"></a><span id="l52.266" class="difflineminus">-                          accesskey=&quot;&amp;back.accesskey;&quot;</span>
<a href="#l52.267"></a><span id="l52.267" class="difflineminus">-                          label=&quot;&amp;back.label;&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.268"></a><span id="l52.268" class="difflineminus">-                &lt;/hbox&gt;</span>
<a href="#l52.269"></a><span id="l52.269" class="difflineminus">-              &lt;/row&gt;</span>
<a href="#l52.270"></a><span id="l52.270" class="difflineminus">-            &lt;/rows&gt;</span>
<a href="#l52.271"></a><span id="l52.271" class="difflineminus">-          &lt;/grid&gt;</span>
<a href="#l52.272"></a><span id="l52.272" class="difflineminus">-          &lt;vbox&gt;</span>
<a href="#l52.273"></a><span id="l52.273" class="difflineminus">-            &lt;groupbox id=&quot;settingsbox&quot; class=&quot;settings&quot; hidden=&quot;true&quot;&gt;</span>
<a href="#l52.274"></a><span id="l52.274" class="difflineminus">-              &lt;vbox&gt;</span>
<a href="#l52.275"></a><span id="l52.275" class="difflineminus">-                &lt;vbox id=&quot;configarea&quot;&gt;</span>
<a href="#l52.276"></a><span id="l52.276" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l52.277"></a><span id="l52.277" class="difflineminus">-                    &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l52.278"></a><span id="l52.278" class="difflineminus">-                      &lt;description id=&quot;config_status_title&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l52.279"></a><span id="l52.279" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.280"></a><span id="l52.280" class="difflineminus">-                    &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l52.281"></a><span id="l52.281" class="difflineminus">-                      &lt;button id=&quot;stop_button&quot;</span>
<a href="#l52.282"></a><span id="l52.282" class="difflineminus">-                              oncommand=&quot;gEmailConfigWizard.onStop();&quot;</span>
<a href="#l52.283"></a><span id="l52.283" class="difflineminus">-                              accesskey=&quot;&amp;stop.accesskey;&quot;</span>
<a href="#l52.284"></a><span id="l52.284" class="difflineminus">-                              label=&quot;&amp;stop.label;&quot; class=&quot;smaller-button&quot;/&gt;</span>
<a href="#l52.285"></a><span id="l52.285" class="difflineminus">-                      &lt;button id=&quot;edit_button&quot;</span>
<a href="#l52.286"></a><span id="l52.286" class="difflineminus">-                              oncommand=&quot;gEmailConfigWizard.onEdit();&quot;</span>
<a href="#l52.287"></a><span id="l52.287" class="difflineminus">-                              accesskey=&quot;&amp;edit.accesskey;&quot;</span>
<a href="#l52.288"></a><span id="l52.288" class="difflineminus">-                              label=&quot;&amp;edit.label;&quot; class=&quot;smaller-button&quot;</span>
<a href="#l52.289"></a><span id="l52.289" class="difflineminus">-                              hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.290"></a><span id="l52.290" class="difflineminus">-                      &lt;button id=&quot;go_button&quot;</span>
<a href="#l52.291"></a><span id="l52.291" class="difflineminus">-                              oncommand=&quot;gEmailConfigWizard.onGo();&quot;</span>
<a href="#l52.292"></a><span id="l52.292" class="difflineminus">-                              accesskey=&quot;&amp;retest.accesskey;&quot;</span>
<a href="#l52.293"></a><span id="l52.293" class="difflineminus">-                              label=&quot;&amp;retest.label;&quot; class=&quot;smaller-button&quot;</span>
<a href="#l52.294"></a><span id="l52.294" class="difflineminus">-                              hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.295"></a><span id="l52.295" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.296"></a><span id="l52.296" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l52.297"></a><span id="l52.297" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l52.298"></a><span id="l52.298" class="difflineminus">-                    &lt;hbox flex=&quot;1&quot;&gt;</span>
<a href="#l52.299"></a><span id="l52.299" class="difflineminus">-                        &lt;description id=&quot;config_status_subtitle&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l52.300"></a><span id="l52.300" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.301"></a><span id="l52.301" class="difflineminus">-                    &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l52.302"></a><span id="l52.302" class="difflineminus">-                      &lt;vbox class=&quot;statusimage&quot; width=&quot;16&quot;&gt;</span>
<a href="#l52.303"></a><span id="l52.303" class="difflineminus">-                      &lt;image id=&quot;config_spinner&quot;</span>
<a href="#l52.304"></a><span id="l52.304" class="difflineminus">-                             src=&quot;chrome://global/skin/icons/loading_16.png&quot;</span>
<a href="#l52.305"></a><span id="l52.305" class="difflineminus">-                             hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.306"></a><span id="l52.306" class="difflineminus">-                      &lt;/vbox&gt;</span>
<a href="#l52.307"></a><span id="l52.307" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.308"></a><span id="l52.308" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l52.309"></a><span id="l52.309" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l52.310"></a><span id="l52.310" class="difflineminus">-                &lt;vbox id=&quot;usernamearea&quot;&gt;</span>
<a href="#l52.311"></a><span id="l52.311" class="difflineminus">-                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;username.label;&quot;</span>
<a href="#l52.312"></a><span id="l52.312" class="difflineminus">-                         control=&quot;username&quot;/&gt;</span>
<a href="#l52.313"></a><span id="l52.313" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l52.314"></a><span id="l52.314" class="difflineminus">-                    &lt;vbox class=&quot;statusimage&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l52.315"></a><span id="l52.315" class="difflineminus">-                    &lt;textbox id=&quot;username&quot;</span>
<a href="#l52.316"></a><span id="l52.316" class="difflineminus">-                             value=&quot;&quot;</span>
<a href="#l52.317"></a><span id="l52.317" class="difflineminus">-                             disabled=&quot;true&quot;</span>
<a href="#l52.318"></a><span id="l52.318" class="difflineminus">-                             class=&quot;username&quot;/&gt;</span>
<a href="#l52.319"></a><span id="l52.319" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l52.320"></a><span id="l52.320" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l52.321"></a><span id="l52.321" class="difflineminus">-                &lt;vbox id=&quot;incomingarea&quot;&gt;</span>
<a href="#l52.322"></a><span id="l52.322" class="difflineminus">-                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;receivingServer.label;&quot;</span>
<a href="#l52.323"></a><span id="l52.323" class="difflineminus">-                          control=&quot;incoming_server&quot;/&gt;</span>
<a href="#l52.324"></a><span id="l52.324" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l52.325"></a><span id="l52.325" class="difflineminus">-                    &lt;vbox id=&quot;incoming_status&quot; class=&quot;icon&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l52.326"></a><span id="l52.326" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l52.327"></a><span id="l52.327" class="difflineminus">-                      &lt;textbox id=&quot;incoming_server&quot;</span>
<a href="#l52.328"></a><span id="l52.328" class="difflineminus">-                               value=&quot;&quot;</span>
<a href="#l52.329"></a><span id="l52.329" class="difflineminus">-                               disabled=&quot;true&quot;</span>
<a href="#l52.330"></a><span id="l52.330" class="difflineminus">-                               oninput=&quot;gEmailConfigWizard.setIncomingServer()&quot;</span>
<a href="#l52.331"></a><span id="l52.331" class="difflineminus">-                               class=&quot;host uri-element&quot;/&gt;</span>
<a href="#l52.332"></a><span id="l52.332" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.333"></a><span id="l52.333" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l52.334"></a><span id="l52.334" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l52.335"></a><span id="l52.335" class="difflineminus">-                    &lt;spacer height=&quot;30&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l52.336"></a><span id="l52.336" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l52.337"></a><span id="l52.337" class="difflineminus">-                      &lt;menulist id=&quot;incoming_protocol&quot;</span>
<a href="#l52.338"></a><span id="l52.338" class="difflineminus">-                                value=&quot;&quot;</span>
<a href="#l52.339"></a><span id="l52.339" class="difflineminus">-                                disabled=&quot;true&quot;</span>
<a href="#l52.340"></a><span id="l52.340" class="difflineminus">-                                sizetopopup=&quot;none&quot;</span>
<a href="#l52.341"></a><span id="l52.341" class="difflineminus">-                                class=&quot;protocol&quot;&gt;</span>
<a href="#l52.342"></a><span id="l52.342" class="difflineminus">-                        &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setIncomingProtocol()&quot;&gt;</span>
<a href="#l52.343"></a><span id="l52.343" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;imap.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l52.344"></a><span id="l52.344" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;pop.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l52.345"></a><span id="l52.345" class="difflineminus">-                        &lt;/menupopup&gt;</span>
<a href="#l52.346"></a><span id="l52.346" class="difflineminus">-                      &lt;/menulist&gt;</span>
<a href="#l52.347"></a><span id="l52.347" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.348"></a><span id="l52.348" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l52.349"></a><span id="l52.349" class="difflineminus">-                      &lt;textbox id=&quot;incoming_port&quot;</span>
<a href="#l52.350"></a><span id="l52.350" class="difflineminus">-                               value=&quot;&quot;</span>
<a href="#l52.351"></a><span id="l52.351" class="difflineminus">-                               disabled=&quot;true&quot;</span>
<a href="#l52.352"></a><span id="l52.352" class="difflineminus">-                               oninput=&quot;gEmailConfigWizard.setPort('incoming_port')&quot;</span>
<a href="#l52.353"></a><span id="l52.353" class="difflineminus">-                               class=&quot;port&quot;/&gt;</span>
<a href="#l52.354"></a><span id="l52.354" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.355"></a><span id="l52.355" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l52.356"></a><span id="l52.356" class="difflineminus">-                      &lt;menulist id=&quot;incoming_security&quot;</span>
<a href="#l52.357"></a><span id="l52.357" class="difflineminus">-                                value=&quot;&quot;</span>
<a href="#l52.358"></a><span id="l52.358" class="difflineminus">-                                disabled=&quot;true&quot;</span>
<a href="#l52.359"></a><span id="l52.359" class="difflineminus">-                                sizetopopup=&quot;none&quot;</span>
<a href="#l52.360"></a><span id="l52.360" class="difflineminus">-                                class=&quot;security&quot;&gt;</span>
<a href="#l52.361"></a><span id="l52.361" class="difflineminus">-                        &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('incoming_security')&quot;&gt;</span>
<a href="#l52.362"></a><span id="l52.362" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l52.363"></a><span id="l52.363" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l52.364"></a><span id="l52.364" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l52.365"></a><span id="l52.365" class="difflineminus">-                        &lt;/menupopup&gt;</span>
<a href="#l52.366"></a><span id="l52.366" class="difflineminus">-                      &lt;/menulist&gt;</span>
<a href="#l52.367"></a><span id="l52.367" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.368"></a><span id="l52.368" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l52.369"></a><span id="l52.369" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l52.370"></a><span id="l52.370" class="difflineminus">-                &lt;vbox id=&quot;outgoingarea&quot;&gt;</span>
<a href="#l52.371"></a><span id="l52.371" class="difflineminus">-                  &lt;label class=&quot;textbox-label&quot; value=&quot;&amp;sendingServer.label;&quot;</span>
<a href="#l52.372"></a><span id="l52.372" class="difflineminus">-                         control=&quot;outgoing_server&quot;/&gt;</span>
<a href="#l52.373"></a><span id="l52.373" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l52.374"></a><span id="l52.374" class="difflineminus">-                    &lt;vbox id=&quot;outgoing_status&quot; class=&quot;icon&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l52.375"></a><span id="l52.375" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l52.376"></a><span id="l52.376" class="difflineminus">-                      &lt;menulist id=&quot;outgoing_server&quot;</span>
<a href="#l52.377"></a><span id="l52.377" class="difflineminus">-                                class=&quot;host uri-element&quot;</span>
<a href="#l52.378"></a><span id="l52.378" class="difflineminus">-                                disabled=&quot;true&quot;</span>
<a href="#l52.379"></a><span id="l52.379" class="difflineminus">-                                sizetopopup=&quot;none&quot;</span>
<a href="#l52.380"></a><span id="l52.380" class="difflineminus">-                                editable=&quot;true&quot; &gt;</span>
<a href="#l52.381"></a><span id="l52.381" class="difflineminus">-                              &lt;!-- oncommand, and onchange and onmousedown of menulist's inputfield, set in ctor --&gt;</span>
<a href="#l52.382"></a><span id="l52.382" class="difflineminus">-                        &lt;menupopup id=&quot;smtp_menupopup&quot;/&gt;</span>
<a href="#l52.383"></a><span id="l52.383" class="difflineminus">-                      &lt;/menulist&gt;</span>
<a href="#l52.384"></a><span id="l52.384" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.385"></a><span id="l52.385" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l52.386"></a><span id="l52.386" class="difflineminus">-                  &lt;hbox&gt;</span>
<a href="#l52.387"></a><span id="l52.387" class="difflineminus">-                    &lt;spacer height=&quot;30&quot; width=&quot;22&quot;/&gt;</span>
<a href="#l52.388"></a><span id="l52.388" class="difflineminus">-                    &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l52.389"></a><span id="l52.389" class="difflineminus">-                      &lt;label id=&quot;outgoing_protocol&quot;</span>
<a href="#l52.390"></a><span id="l52.390" class="difflineminus">-                             class=&quot;protocol&quot; value=&quot;&amp;smtp.label;&quot;/&gt;</span>
<a href="#l52.391"></a><span id="l52.391" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.392"></a><span id="l52.392" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l52.393"></a><span id="l52.393" class="difflineminus">-                      &lt;textbox id=&quot;outgoing_port&quot;</span>
<a href="#l52.394"></a><span id="l52.394" class="difflineminus">-                               value=&quot;&quot;</span>
<a href="#l52.395"></a><span id="l52.395" class="difflineminus">-                               disabled=&quot;true&quot;</span>
<a href="#l52.396"></a><span id="l52.396" class="difflineminus">-                               oninput=&quot;gEmailConfigWizard.setPort('outgoing_port')&quot;</span>
<a href="#l52.397"></a><span id="l52.397" class="difflineminus">-                               class=&quot;port&quot;/&gt;</span>
<a href="#l52.398"></a><span id="l52.398" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.399"></a><span id="l52.399" class="difflineminus">-                    &lt;hbox&gt;</span>
<a href="#l52.400"></a><span id="l52.400" class="difflineminus">-                      &lt;menulist id=&quot;outgoing_security&quot;</span>
<a href="#l52.401"></a><span id="l52.401" class="difflineminus">-                                value=&quot;&quot;</span>
<a href="#l52.402"></a><span id="l52.402" class="difflineminus">-                                disabled=&quot;true&quot;</span>
<a href="#l52.403"></a><span id="l52.403" class="difflineminus">-                                sizetopopup=&quot;none&quot;</span>
<a href="#l52.404"></a><span id="l52.404" class="difflineminus">-                                class=&quot;security&quot;&gt;</span>
<a href="#l52.405"></a><span id="l52.405" class="difflineminus">-                        &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('outgoing_security')&quot;&gt;</span>
<a href="#l52.406"></a><span id="l52.406" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l52.407"></a><span id="l52.407" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l52.408"></a><span id="l52.408" class="difflineminus">-                          &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l52.409"></a><span id="l52.409" class="difflineminus">-                        &lt;/menupopup&gt;</span>
<a href="#l52.410"></a><span id="l52.410" class="difflineminus">-                      &lt;/menulist&gt;</span>
<a href="#l52.411"></a><span id="l52.411" class="difflineminus">-                    &lt;/hbox&gt;</span>
<a href="#l52.412"></a><span id="l52.412" class="difflineminus">-                  &lt;/hbox&gt;</span>
<a href="#l52.413"></a><span id="l52.413" class="difflineminus">-                &lt;/vbox&gt;</span>
<a href="#l52.414"></a><span id="l52.414" class="difflineminus">-              &lt;/vbox&gt;</span>
<a href="#l52.415"></a><span id="l52.415" class="difflineminus">-            &lt;/groupbox&gt;</span>
<a href="#l52.416"></a><span id="l52.416" class="difflineminus">-          &lt;/vbox&gt;</span>
<a href="#l52.417"></a><span id="l52.417" class="difflineminus">-        &lt;/row&gt;</span>
<a href="#l52.418"></a><span id="l52.418" class="difflineminus">-      &lt;/rows&gt;</span>
<a href="#l52.419"></a><span id="l52.419" class="difflineminus">-    &lt;/grid&gt;</span>
<a href="#l52.420"></a><span id="l52.420" class="difflineplus">+          &lt;hbox id=&quot;incomingarea&quot; align=&quot;center&quot;&gt;</span>
<a href="#l52.421"></a><span id="l52.421" class="difflineplus">+            &lt;vbox id=&quot;incoming_status&quot;</span>
<a href="#l52.422"></a><span id="l52.422" class="difflineplus">+                  class=&quot;icon&quot;</span>
<a href="#l52.423"></a><span id="l52.423" class="difflineplus">+                  align=&quot;center&quot;</span>
<a href="#l52.424"></a><span id="l52.424" class="difflineplus">+                  pack=&quot;center&quot;&gt;</span>
<a href="#l52.425"></a><span id="l52.425" class="difflineplus">+              &lt;image id=&quot;incoming_spinner&quot;</span>
<a href="#l52.426"></a><span id="l52.426" class="difflineplus">+                     src=&quot;chrome://global/skin/icons/loading_16.png&quot;</span>
<a href="#l52.427"></a><span id="l52.427" class="difflineplus">+                     hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.428"></a><span id="l52.428" class="difflineplus">+            &lt;/vbox&gt;</span>
<a href="#l52.429"></a><span id="l52.429" class="difflineplus">+            &lt;label class=&quot;textbox-label&quot;</span>
<a href="#l52.430"></a><span id="l52.430" class="difflineplus">+                   value=&quot;&amp;incoming.label;&quot;</span>
<a href="#l52.431"></a><span id="l52.431" class="difflineplus">+                   control=&quot;incoming_server&quot;/&gt;</span>
<a href="#l52.432"></a><span id="l52.432" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l52.433"></a><span id="l52.433" class="difflineplus">+              &lt;textbox id=&quot;incoming_server&quot;</span>
<a href="#l52.434"></a><span id="l52.434" class="difflineplus">+                       class=&quot;host uri-element&quot;</span>
<a href="#l52.435"></a><span id="l52.435" class="difflineplus">+                       value=&quot;&quot;</span>
<a href="#l52.436"></a><span id="l52.436" class="difflineplus">+                       disabled=&quot;true&quot;</span>
<a href="#l52.437"></a><span id="l52.437" class="difflineplus">+                       oninput=&quot;gEmailConfigWizard.setIncomingServer()&quot;/&gt;</span>
<a href="#l52.438"></a><span id="l52.438" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l52.439"></a><span id="l52.439" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l52.440"></a><span id="l52.440" class="difflineplus">+              &lt;spacer height=&quot;30&quot; width=&quot;12&quot;/&gt;</span>
<a href="#l52.441"></a><span id="l52.441" class="difflineplus">+              &lt;hbox class=&quot;protocol&quot;&gt;</span>
<a href="#l52.442"></a><span id="l52.442" class="difflineplus">+                &lt;menulist id=&quot;incoming_protocol&quot;</span>
<a href="#l52.443"></a><span id="l52.443" class="difflineplus">+                          value=&quot;&quot;</span>
<a href="#l52.444"></a><span id="l52.444" class="difflineplus">+                          disabled=&quot;true&quot;</span>
<a href="#l52.445"></a><span id="l52.445" class="difflineplus">+                          sizetopopup=&quot;always&quot;&gt;</span>
<a href="#l52.446"></a><span id="l52.446" class="difflineplus">+                  &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setIncomingProtocol()&quot;&gt;</span>
<a href="#l52.447"></a><span id="l52.447" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;imap.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l52.448"></a><span id="l52.448" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;pop.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l52.449"></a><span id="l52.449" class="difflineplus">+                  &lt;/menupopup&gt;</span>
<a href="#l52.450"></a><span id="l52.450" class="difflineplus">+                &lt;/menulist&gt;</span>
<a href="#l52.451"></a><span id="l52.451" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l52.452"></a><span id="l52.452" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l52.453"></a><span id="l52.453" class="difflineplus">+                &lt;textbox id=&quot;incoming_port&quot;</span>
<a href="#l52.454"></a><span id="l52.454" class="difflineplus">+                         class=&quot;port&quot;</span>
<a href="#l52.455"></a><span id="l52.455" class="difflineplus">+                         value=&quot;&quot;</span>
<a href="#l52.456"></a><span id="l52.456" class="difflineplus">+                         disabled=&quot;true&quot;</span>
<a href="#l52.457"></a><span id="l52.457" class="difflineplus">+                         oninput=&quot;gEmailConfigWizard.setPort('incoming_port')&quot;/&gt;</span>
<a href="#l52.458"></a><span id="l52.458" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l52.459"></a><span id="l52.459" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l52.460"></a><span id="l52.460" class="difflineplus">+                &lt;menulist id=&quot;incoming_security&quot;</span>
<a href="#l52.461"></a><span id="l52.461" class="difflineplus">+                          class=&quot;security&quot;</span>
<a href="#l52.462"></a><span id="l52.462" class="difflineplus">+                          value=&quot;&quot;</span>
<a href="#l52.463"></a><span id="l52.463" class="difflineplus">+                          disabled=&quot;true&quot;</span>
<a href="#l52.464"></a><span id="l52.464" class="difflineplus">+                          sizetopopup=&quot;always&quot;&gt;</span>
<a href="#l52.465"></a><span id="l52.465" class="difflineplus">+                  &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('incoming_security')&quot;&gt;</span>
<a href="#l52.466"></a><span id="l52.466" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l52.467"></a><span id="l52.467" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l52.468"></a><span id="l52.468" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l52.469"></a><span id="l52.469" class="difflineplus">+                  &lt;/menupopup&gt;</span>
<a href="#l52.470"></a><span id="l52.470" class="difflineplus">+                &lt;/menulist&gt;</span>
<a href="#l52.471"></a><span id="l52.471" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l52.472"></a><span id="l52.472" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l52.473"></a><span id="l52.473" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l52.474"></a><span id="l52.474" class="difflineplus">+          &lt;hbox id=&quot;outgoingarea&quot; align=&quot;center&quot;&gt;</span>
<a href="#l52.475"></a><span id="l52.475" class="difflineplus">+            &lt;vbox id=&quot;outgoing_status&quot;</span>
<a href="#l52.476"></a><span id="l52.476" class="difflineplus">+                  class=&quot;icon&quot;</span>
<a href="#l52.477"></a><span id="l52.477" class="difflineplus">+                  align=&quot;center&quot;</span>
<a href="#l52.478"></a><span id="l52.478" class="difflineplus">+                  pack=&quot;center&quot;&gt;</span>
<a href="#l52.479"></a><span id="l52.479" class="difflineplus">+              &lt;image id=&quot;outgoing_spinner&quot;</span>
<a href="#l52.480"></a><span id="l52.480" class="difflineplus">+                     src=&quot;chrome://global/skin/icons/loading_16.png&quot;</span>
<a href="#l52.481"></a><span id="l52.481" class="difflineplus">+                     hidden=&quot;true&quot;/&gt;</span>
<a href="#l52.482"></a><span id="l52.482" class="difflineplus">+            &lt;/vbox&gt;</span>
<a href="#l52.483"></a><span id="l52.483" class="difflineplus">+            &lt;label class=&quot;textbox-label&quot;</span>
<a href="#l52.484"></a><span id="l52.484" class="difflineplus">+                   value=&quot;&amp;outgoing.label;&quot;</span>
<a href="#l52.485"></a><span id="l52.485" class="difflineplus">+                   control=&quot;outgoing_server&quot;/&gt;</span>
<a href="#l52.486"></a><span id="l52.486" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l52.487"></a><span id="l52.487" class="difflineplus">+              &lt;!-- oncommand, and onchange and onmousedown of menulist's</span>
<a href="#l52.488"></a><span id="l52.488" class="difflineplus">+                   inputfield, set in constructor --&gt;</span>
<a href="#l52.489"></a><span id="l52.489" class="difflineplus">+              &lt;menulist id=&quot;outgoing_server&quot;</span>
<a href="#l52.490"></a><span id="l52.490" class="difflineplus">+                        class=&quot;host uri-element&quot;</span>
<a href="#l52.491"></a><span id="l52.491" class="difflineplus">+                        disabled=&quot;true&quot;</span>
<a href="#l52.492"></a><span id="l52.492" class="difflineplus">+                        sizetopopup=&quot;none&quot;</span>
<a href="#l52.493"></a><span id="l52.493" class="difflineplus">+                        editable=&quot;true&quot; &gt;</span>
<a href="#l52.494"></a><span id="l52.494" class="difflineplus">+                &lt;menupopup id=&quot;smtp_menupopup&quot;/&gt;</span>
<a href="#l52.495"></a><span id="l52.495" class="difflineplus">+              &lt;/menulist&gt;</span>
<a href="#l52.496"></a><span id="l52.496" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l52.497"></a><span id="l52.497" class="difflineplus">+            &lt;hbox&gt;</span>
<a href="#l52.498"></a><span id="l52.498" class="difflineplus">+              &lt;spacer height=&quot;30&quot; width=&quot;12&quot;/&gt;</span>
<a href="#l52.499"></a><span id="l52.499" class="difflineplus">+              &lt;hbox class=&quot;protocol&quot; align=&quot;center&quot;&gt;</span>
<a href="#l52.500"></a><span id="l52.500" class="difflineplus">+                &lt;label id=&quot;outgoing_protocol&quot;</span>
<a href="#l52.501"></a><span id="l52.501" class="difflineplus">+                       value=&quot;&amp;smtp.label;&quot;/&gt;</span>
<a href="#l52.502"></a><span id="l52.502" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l52.503"></a><span id="l52.503" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l52.504"></a><span id="l52.504" class="difflineplus">+                &lt;textbox id=&quot;outgoing_port&quot;</span>
<a href="#l52.505"></a><span id="l52.505" class="difflineplus">+                         class=&quot;port&quot;</span>
<a href="#l52.506"></a><span id="l52.506" class="difflineplus">+                         value=&quot;&quot;</span>
<a href="#l52.507"></a><span id="l52.507" class="difflineplus">+                         disabled=&quot;true&quot;</span>
<a href="#l52.508"></a><span id="l52.508" class="difflineplus">+                         oninput=&quot;gEmailConfigWizard.setPort('outgoing_port')&quot;/&gt;</span>
<a href="#l52.509"></a><span id="l52.509" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l52.510"></a><span id="l52.510" class="difflineplus">+              &lt;hbox&gt;</span>
<a href="#l52.511"></a><span id="l52.511" class="difflineplus">+                &lt;menulist id=&quot;outgoing_security&quot;</span>
<a href="#l52.512"></a><span id="l52.512" class="difflineplus">+                          class=&quot;security&quot;</span>
<a href="#l52.513"></a><span id="l52.513" class="difflineplus">+                          value=&quot;&quot;</span>
<a href="#l52.514"></a><span id="l52.514" class="difflineplus">+                          disabled=&quot;true&quot;</span>
<a href="#l52.515"></a><span id="l52.515" class="difflineplus">+                          sizetopopup=&quot;always&quot;&gt;</span>
<a href="#l52.516"></a><span id="l52.516" class="difflineplus">+                  &lt;menupopup onpopuphidden=&quot;gEmailConfigWizard.setSecurity('outgoing_security')&quot;&gt;</span>
<a href="#l52.517"></a><span id="l52.517" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;noEncryption.label;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l52.518"></a><span id="l52.518" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;starttls.label;&quot; value=&quot;3&quot;/&gt;</span>
<a href="#l52.519"></a><span id="l52.519" class="difflineplus">+                    &lt;menuitem label=&quot;&amp;sslTls.label;&quot; value=&quot;2&quot;/&gt;</span>
<a href="#l52.520"></a><span id="l52.520" class="difflineplus">+                  &lt;/menupopup&gt;</span>
<a href="#l52.521"></a><span id="l52.521" class="difflineplus">+                &lt;/menulist&gt;</span>
<a href="#l52.522"></a><span id="l52.522" class="difflineplus">+              &lt;/hbox&gt;</span>
<a href="#l52.523"></a><span id="l52.523" class="difflineplus">+            &lt;/hbox&gt;</span>
<a href="#l52.524"></a><span id="l52.524" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l52.525"></a><span id="l52.525" class="difflineplus">+        &lt;/vbox&gt;</span>
<a href="#l52.526"></a><span id="l52.526" class="difflineplus">+      &lt;/groupbox&gt;</span>
<a href="#l52.527"></a><span id="l52.527" class="difflineplus">+    &lt;/vbox&gt;</span>
<a href="#l52.528"></a><span id="l52.528">     &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l52.529"></a><span id="l52.529">     &lt;hbox&gt;</span>
<a href="#l52.530"></a><span id="l52.530" class="difflineminus">-      &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l52.531"></a><span id="l52.531" class="difflineminus">-        &lt;button id=&quot;cancel_button&quot; label=&quot;&amp;cancel.label;&quot;</span>
<a href="#l52.532"></a><span id="l52.532" class="difflineminus">-                onmousedown=&quot;gEmailConfigWizard.onCancel();&quot;/&gt;</span>
<a href="#l52.533"></a><span id="l52.533" class="difflineminus">-        &lt;label id=&quot;advanced_settings&quot; value=&quot;&amp;createAndEditSettings.label;&quot;</span>
<a href="#l52.534"></a><span id="l52.534" class="difflineminus">-               onmousedown=&quot;gEmailConfigWizard.advancedSettings()&quot;</span>
<a href="#l52.535"></a><span id="l52.535" class="difflineminus">-               hidden=&quot;true&quot; class=&quot;clickable_label&quot;/&gt;</span>
<a href="#l52.536"></a><span id="l52.536" class="difflineminus">-      &lt;/hbox&gt;</span>
<a href="#l52.537"></a><span id="l52.537" class="difflineplus">+      &lt;button id=&quot;advanced_settings&quot;</span>
<a href="#l52.538"></a><span id="l52.538" class="difflineplus">+              label=&quot;&amp;manualSetup.label;&quot;</span>
<a href="#l52.539"></a><span id="l52.539" class="difflineplus">+              accesskey=&quot;&amp;manualSetup.accesskey;&quot;</span>
<a href="#l52.540"></a><span id="l52.540" class="difflineplus">+              class=&quot;larger-button&quot;</span>
<a href="#l52.541"></a><span id="l52.541" class="difflineplus">+              disabled=&quot;true&quot;</span>
<a href="#l52.542"></a><span id="l52.542" class="difflineplus">+              hidden=&quot;true&quot;</span>
<a href="#l52.543"></a><span id="l52.543" class="difflineplus">+              oncommand=&quot;gEmailConfigWizard.advancedSettings();&quot;/&gt;</span>
<a href="#l52.544"></a><span id="l52.544">       &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l52.545"></a><span id="l52.545">       &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l52.546"></a><span id="l52.546" class="difflineminus">-        &lt;button id=&quot;create_button&quot; label=&quot;&amp;createAccount.label;&quot;</span>
<a href="#l52.547"></a><span id="l52.547" class="difflineminus">-                accesskey=&quot;&amp;createAccount.accesskey;&quot;</span>
<a href="#l52.548"></a><span id="l52.548" class="difflineminus">-                onmousedown=&quot;gEmailConfigWizard.onOK();&quot;</span>
<a href="#l52.549"></a><span id="l52.549" class="difflineminus">-                hidden=&quot;true&quot; class=&quot;larger-button&quot;/&gt;</span>
<a href="#l52.550"></a><span id="l52.550" class="difflineplus">+        &lt;button id=&quot;cancel_button&quot;</span>
<a href="#l52.551"></a><span id="l52.551" class="difflineplus">+                label=&quot;&amp;cancel.label;&quot;</span>
<a href="#l52.552"></a><span id="l52.552" class="difflineplus">+                accesskey=&quot;&amp;cancel.accesskey;&quot;</span>
<a href="#l52.553"></a><span id="l52.553" class="difflineplus">+                oncommand=&quot;gEmailConfigWizard.onCancel();&quot;/&gt;</span>
<a href="#l52.554"></a><span id="l52.554" class="difflineplus">+      &lt;/hbox&gt;</span>
<a href="#l52.555"></a><span id="l52.555" class="difflineplus">+      &lt;button id=&quot;create_button&quot;</span>
<a href="#l52.556"></a><span id="l52.556" class="difflineplus">+              label=&quot;&amp;createAccount.label;&quot;</span>
<a href="#l52.557"></a><span id="l52.557" class="difflineplus">+              accesskey=&quot;&amp;createAccount.accesskey;&quot;</span>
<a href="#l52.558"></a><span id="l52.558" class="difflineplus">+              class=&quot;larger-button&quot;</span>
<a href="#l52.559"></a><span id="l52.559" class="difflineplus">+              hidden=&quot;true&quot;</span>
<a href="#l52.560"></a><span id="l52.560" class="difflineplus">+              disabled=&quot;true&quot;</span>
<a href="#l52.561"></a><span id="l52.561" class="difflineplus">+              oncommand=&quot;gEmailConfigWizard.onOK();&quot;/&gt;</span>
<a href="#l52.562"></a><span id="l52.562" class="difflineplus">+      &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l52.563"></a><span id="l52.563" class="difflineplus">+        &lt;button id=&quot;next_button&quot;</span>
<a href="#l52.564"></a><span id="l52.564" class="difflineplus">+                label=&quot;&amp;continue.label;&quot;</span>
<a href="#l52.565"></a><span id="l52.565" class="difflineplus">+                accesskey=&quot;&amp;continue.accesskey;&quot;</span>
<a href="#l52.566"></a><span id="l52.566" class="difflineplus">+                class=&quot;larger-button&quot;</span>
<a href="#l52.567"></a><span id="l52.567" class="difflineplus">+                hidden=&quot;false&quot;</span>
<a href="#l52.568"></a><span id="l52.568" class="difflineplus">+                disabled=&quot;true&quot;</span>
<a href="#l52.569"></a><span id="l52.569" class="difflineplus">+                oncommand=&quot;gEmailConfigWizard.onNext();&quot;/&gt;</span>
<a href="#l52.570"></a><span id="l52.570">       &lt;/hbox&gt;</span>
<a href="#l52.571"></a><span id="l52.571">     &lt;/hbox&gt;</span>
<a href="#l52.572"></a><span id="l52.572">   &lt;/vbox&gt;</span>
<a href="#l52.573"></a><span id="l52.573"> </span>
<a href="#l52.574"></a><span id="l52.574"> </span>
<a href="#l52.575"></a><span id="l52.575" class="difflineminus">-  &lt;vbox id=&quot;warningbox&quot; class=&quot;warningbox&quot; hidden=&quot;true&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l52.576"></a><span id="l52.576" class="difflineplus">+  &lt;vbox id=&quot;warningbox&quot; hidden=&quot;true&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l52.577"></a><span id="l52.577">     &lt;hbox class=&quot;warning&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l52.578"></a><span id="l52.578">       &lt;vbox class=&quot;larrybox&quot;&gt;</span>
<a href="#l52.579"></a><span id="l52.579">         &lt;image id=&quot;insecure_larry&quot; class=&quot;insecureLarry&quot;/&gt;</span>
<a href="#l52.580"></a><span id="l52.580">       &lt;/vbox&gt;</span>
<a href="#l52.581"></a><span id="l52.581">       &lt;vbox flex=&quot;1&quot; class=&quot;warning_text&quot;&gt;</span>
<a href="#l52.582"></a><span id="l52.582" class="difflineminus">-         &lt;label class=&quot;warning-heading&quot;&gt;&amp;warning.label;&lt;/label&gt;</span>
<a href="#l52.583"></a><span id="l52.583" class="difflineminus">-         &lt;vbox id=&quot;incoming_box&quot;&gt;</span>
<a href="#l52.584"></a><span id="l52.584" class="difflineminus">-           &lt;hbox&gt;</span>
<a href="#l52.585"></a><span id="l52.585" class="difflineminus">-             &lt;label class=&quot;warning_settings&quot; value=&quot;&amp;incomingSettings.label;&quot;/&gt;</span>
<a href="#l52.586"></a><span id="l52.586" class="difflineminus">-             &lt;description id=&quot;warning_incoming&quot;/&gt;</span>
<a href="#l52.587"></a><span id="l52.587" class="difflineminus">-           &lt;/hbox&gt;</span>
<a href="#l52.588"></a><span id="l52.588" class="difflineminus">-           &lt;label id=&quot;incoming_technical&quot; value=&quot;&amp;technicaldetails.label;&quot;</span>
<a href="#l52.589"></a><span id="l52.589" class="difflineminus">-                  class=&quot;technical_details&quot;</span>
<a href="#l52.590"></a><span id="l52.590" class="difflineminus">-                  onclick=&quot;gEmailConfigWizard.toggleDetails('incoming');&quot;/&gt;</span>
<a href="#l52.591"></a><span id="l52.591" class="difflineminus">-           &lt;description id=&quot;incoming_details&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l52.592"></a><span id="l52.592" class="difflineminus">-         &lt;/vbox&gt;</span>
<a href="#l52.593"></a><span id="l52.593" class="difflineminus">-         &lt;vbox id=&quot;outgoing_box&quot;&gt;</span>
<a href="#l52.594"></a><span id="l52.594" class="difflineminus">-           &lt;hbox&gt;</span>
<a href="#l52.595"></a><span id="l52.595" class="difflineminus">-             &lt;label class=&quot;warning_settings&quot; value=&quot;&amp;outgoingSettings.label;&quot;/&gt;</span>
<a href="#l52.596"></a><span id="l52.596" class="difflineminus">-             &lt;description id=&quot;warning_outgoing&quot;/&gt;</span>
<a href="#l52.597"></a><span id="l52.597" class="difflineminus">-           &lt;/hbox&gt;</span>
<a href="#l52.598"></a><span id="l52.598" class="difflineminus">-           &lt;label id=&quot;outgoing_technical&quot; value=&quot;&amp;technicaldetails.label;&quot;</span>
<a href="#l52.599"></a><span id="l52.599" class="difflineminus">-                  class=&quot;technical_details&quot;</span>
<a href="#l52.600"></a><span id="l52.600" class="difflineminus">-                  onclick=&quot;gEmailConfigWizard.toggleDetails('outgoing');&quot;/&gt;</span>
<a href="#l52.601"></a><span id="l52.601" class="difflineminus">-           &lt;description id=&quot;outgoing_details&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l52.602"></a><span id="l52.602" class="difflineminus">-         &lt;/vbox&gt;</span>
<a href="#l52.603"></a><span id="l52.603" class="difflineminus">-         &lt;spacer flex=&quot;10&quot;/&gt;</span>
<a href="#l52.604"></a><span id="l52.604" class="difflineminus">-         &lt;description id=&quot;findoutmore&quot;&gt;&amp;contactYourProvider.description;&lt;/description&gt;</span>
<a href="#l52.605"></a><span id="l52.605" class="difflineminus">-         &lt;checkbox id=&quot;acknowledge_warning&quot;</span>
<a href="#l52.606"></a><span id="l52.606" class="difflineminus">-                   class=&quot;acknowledge_checkbox&quot;</span>
<a href="#l52.607"></a><span id="l52.607" class="difflineminus">-                   label=&quot;&amp;confirmWarning.label;&quot;</span>
<a href="#l52.608"></a><span id="l52.608" class="difflineminus">-                   accesskey=&quot;&amp;confirmWarning.accesskey;&quot;</span>
<a href="#l52.609"></a><span id="l52.609" class="difflineplus">+        &lt;label class=&quot;warning-heading&quot;&gt;&amp;warning.label;&lt;/label&gt;</span>
<a href="#l52.610"></a><span id="l52.610" class="difflineplus">+        &lt;vbox id=&quot;incoming_box&quot;&gt;</span>
<a href="#l52.611"></a><span id="l52.611" class="difflineplus">+          &lt;hbox&gt;</span>
<a href="#l52.612"></a><span id="l52.612" class="difflineplus">+            &lt;label class=&quot;warning_settings&quot; value=&quot;&amp;incomingSettings.label;&quot;/&gt;</span>
<a href="#l52.613"></a><span id="l52.613" class="difflineplus">+            &lt;description id=&quot;warning_incoming&quot;/&gt;</span>
<a href="#l52.614"></a><span id="l52.614" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l52.615"></a><span id="l52.615" class="difflineplus">+          &lt;label id=&quot;incoming_technical&quot;</span>
<a href="#l52.616"></a><span id="l52.616" class="difflineplus">+                 class=&quot;technical_details&quot;</span>
<a href="#l52.617"></a><span id="l52.617" class="difflineplus">+                 value=&quot;&amp;technicaldetails.label;&quot;</span>
<a href="#l52.618"></a><span id="l52.618" class="difflineplus">+                 onclick=&quot;gEmailConfigWizard.toggleDetails('incoming');&quot;/&gt;</span>
<a href="#l52.619"></a><span id="l52.619" class="difflineplus">+          &lt;description id=&quot;incoming_details&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l52.620"></a><span id="l52.620" class="difflineplus">+        &lt;/vbox&gt;</span>
<a href="#l52.621"></a><span id="l52.621" class="difflineplus">+        &lt;vbox id=&quot;outgoing_box&quot;&gt;</span>
<a href="#l52.622"></a><span id="l52.622" class="difflineplus">+          &lt;hbox&gt;</span>
<a href="#l52.623"></a><span id="l52.623" class="difflineplus">+            &lt;label class=&quot;warning_settings&quot; value=&quot;&amp;outgoingSettings.label;&quot;/&gt;</span>
<a href="#l52.624"></a><span id="l52.624" class="difflineplus">+            &lt;description id=&quot;warning_outgoing&quot;/&gt;</span>
<a href="#l52.625"></a><span id="l52.625" class="difflineplus">+          &lt;/hbox&gt;</span>
<a href="#l52.626"></a><span id="l52.626" class="difflineplus">+          &lt;label id=&quot;outgoing_technical&quot;</span>
<a href="#l52.627"></a><span id="l52.627" class="difflineplus">+                 class=&quot;technical_details&quot;</span>
<a href="#l52.628"></a><span id="l52.628" class="difflineplus">+                 value=&quot;&amp;technicaldetails.label;&quot;</span>
<a href="#l52.629"></a><span id="l52.629" class="difflineplus">+                 onclick=&quot;gEmailConfigWizard.toggleDetails('outgoing');&quot;/&gt;</span>
<a href="#l52.630"></a><span id="l52.630" class="difflineplus">+          &lt;description id=&quot;outgoing_details&quot; collapsed=&quot;true&quot;/&gt;</span>
<a href="#l52.631"></a><span id="l52.631" class="difflineplus">+        &lt;/vbox&gt;</span>
<a href="#l52.632"></a><span id="l52.632" class="difflineplus">+        &lt;spacer flex=&quot;10&quot;/&gt;</span>
<a href="#l52.633"></a><span id="l52.633" class="difflineplus">+        &lt;description id=&quot;findoutmore&quot;&gt;&amp;contactYourProvider.description;&lt;/description&gt;</span>
<a href="#l52.634"></a><span id="l52.634" class="difflineplus">+        &lt;spacer flex=&quot;100&quot;/&gt;</span>
<a href="#l52.635"></a><span id="l52.635" class="difflineplus">+        &lt;checkbox id=&quot;acknowledge_warning&quot;</span>
<a href="#l52.636"></a><span id="l52.636" class="difflineplus">+                  label=&quot;&amp;confirmWarning.label;&quot;</span>
<a href="#l52.637"></a><span id="l52.637" class="difflineplus">+                  accesskey=&quot;&amp;confirmWarning.accesskey;&quot;</span>
<a href="#l52.638"></a><span id="l52.638" class="difflineplus">+                  class=&quot;acknowledge_checkbox&quot;</span>
<a href="#l52.639"></a><span id="l52.639">                   oncommand=&quot;gEmailConfigWizard.toggleAcknowledgeWarning()&quot;/&gt;</span>
<a href="#l52.640"></a><span id="l52.640" class="difflineminus">-        &lt;spacer flex=&quot;100&quot;/&gt;</span>
<a href="#l52.641"></a><span id="l52.641">         &lt;hbox&gt;</span>
<a href="#l52.642"></a><span id="l52.642" class="difflineminus">-          &lt;button id=&quot;getmeoutofhere&quot; label=&quot;&amp;changeSettings.label;&quot;</span>
<a href="#l52.643"></a><span id="l52.643" class="difflineplus">+          &lt;button id=&quot;getmeoutofhere&quot;</span>
<a href="#l52.644"></a><span id="l52.644" class="difflineplus">+                  label=&quot;&amp;changeSettings.label;&quot;</span>
<a href="#l52.645"></a><span id="l52.645">                   accesskey=&quot;&amp;changeSettings.accesskey;&quot;</span>
<a href="#l52.646"></a><span id="l52.646">                   oncommand=&quot;gEmailConfigWizard.getMeOutOfHere()&quot;/&gt;</span>
<a href="#l52.647"></a><span id="l52.647">           &lt;spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l52.648"></a><span id="l52.648" class="difflineminus">-          &lt;button id=&quot;iknow&quot; label=&quot;&amp;createAccount.label;&quot; disabled=&quot;true&quot;</span>
<a href="#l52.649"></a><span id="l52.649" class="difflineplus">+          &lt;button id=&quot;iknow&quot;</span>
<a href="#l52.650"></a><span id="l52.650" class="difflineplus">+                  label=&quot;&amp;createAccount.label;&quot;</span>
<a href="#l52.651"></a><span id="l52.651">                   accesskey=&quot;&amp;createAccount.accesskey;&quot;</span>
<a href="#l52.652"></a><span id="l52.652" class="difflineplus">+                  disabled=&quot;true&quot;</span>
<a href="#l52.653"></a><span id="l52.653">                   oncommand=&quot;gEmailConfigWizard.validateAndFinish()&quot;/&gt;</span>
<a href="#l52.654"></a><span id="l52.654">         &lt;/hbox&gt;</span>
<a href="#l52.655"></a><span id="l52.655">       &lt;/vbox&gt;</span>
<a href="#l52.656"></a><span id="l52.656">     &lt;/hbox&gt;</span>
<a href="#l52.657"></a><span id="l52.657">   &lt;/vbox&gt;</span>
<a href="#l52.658"></a><span id="l52.658"> &lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l53.1"></a><span id="l53.1" class="difflineminus">--- a/mailnews/base/prefs/content/accountcreation/verifyConfig.js</span>
<a href="#l53.2"></a><span id="l53.2" class="difflineplus">+++ b/mailnews/base/prefs/content/accountcreation/verifyConfig.js</span>
<a href="#l53.3"></a><span id="l53.3" class="difflineat">@@ -91,18 +91,24 @@ function verifyConfig(config, alter, msg</span>
<a href="#l53.4"></a><span id="l53.4">   else if (config.incoming.socketType == 3) // TLS</span>
<a href="#l53.5"></a><span id="l53.5">     inServer.socketType = Ci.nsIMsgIncomingServer.alwaysUseTLS;</span>
<a href="#l53.6"></a><span id="l53.6"> </span>
<a href="#l53.7"></a><span id="l53.7">   // auth</span>
<a href="#l53.8"></a><span id="l53.8">   if (config.incoming.auth == 2) // &quot;secure&quot; auth</span>
<a href="#l53.9"></a><span id="l53.9">     inServer.useSecAuth = true;</span>
<a href="#l53.10"></a><span id="l53.10"> </span>
<a href="#l53.11"></a><span id="l53.11">   try {</span>
<a href="#l53.12"></a><span id="l53.12" class="difflineminus">-    inServer.password = config.incoming.password;</span>
<a href="#l53.13"></a><span id="l53.13" class="difflineminus">-    verifyLogon(config, inServer, alter, msgWindow, successCallback, errorCallback);</span>
<a href="#l53.14"></a><span id="l53.14" class="difflineplus">+    if (inServer.password)</span>
<a href="#l53.15"></a><span id="l53.15" class="difflineplus">+      verifyLogon(config, inServer, alter, msgWindow,</span>
<a href="#l53.16"></a><span id="l53.16" class="difflineplus">+                  successCallback, errorCallback);</span>
<a href="#l53.17"></a><span id="l53.17" class="difflineplus">+    else {</span>
<a href="#l53.18"></a><span id="l53.18" class="difflineplus">+      // Avoid pref pollution, clear out server prefs.</span>
<a href="#l53.19"></a><span id="l53.19" class="difflineplus">+      accountManager.removeIncomingServer(inServer, true);</span>
<a href="#l53.20"></a><span id="l53.20" class="difflineplus">+      successCallback();</span>
<a href="#l53.21"></a><span id="l53.21" class="difflineplus">+    }</span>
<a href="#l53.22"></a><span id="l53.22">   } catch (e) {</span>
<a href="#l53.23"></a><span id="l53.23">     ddump(&quot;ERROR: verify logon shouldn't have failed&quot;);</span>
<a href="#l53.24"></a><span id="l53.24">     errorCallback(e);</span>
<a href="#l53.25"></a><span id="l53.25">     throw(e);</span>
<a href="#l53.26"></a><span id="l53.26">   }</span>
<a href="#l53.27"></a><span id="l53.27"> };</span>
<a href="#l53.28"></a><span id="l53.28"> </span>
<a href="#l53.29"></a><span id="l53.29"> function verifyLogon(config, inServer, alter, msgWindow, successCallback,</span>
<a href="#l53.30"></a><span id="l53.30" class="difflineat">@@ -112,22 +118,26 @@ function verifyLogon(config, inServer, a</span>
<a href="#l53.31"></a><span id="l53.31">   let saveCallbacks = msgWindow.notificationCallbacks;</span>
<a href="#l53.32"></a><span id="l53.32">   // set our own callbacks - this works because verifyLogon will</span>
<a href="#l53.33"></a><span id="l53.33">   // synchronously create the transport and use the notification callbacks.</span>
<a href="#l53.34"></a><span id="l53.34">   let listener = new urlListener(config, inServer, alter, msgWindow,</span>
<a href="#l53.35"></a><span id="l53.35">                                  successCallback, errorCallback);</span>
<a href="#l53.36"></a><span id="l53.36">   // our listener listens both for the url and cert errors.</span>
<a href="#l53.37"></a><span id="l53.37">   msgWindow.notificationCallbacks = listener;</span>
<a href="#l53.38"></a><span id="l53.38">   // try to work around bug where backend is clearing password.</span>
<a href="#l53.39"></a><span id="l53.39" class="difflineminus">-  inServer.password = config.incoming.password;</span>
<a href="#l53.40"></a><span id="l53.40" class="difflineminus">-  let uri = inServer.verifyLogon(listener, msgWindow);</span>
<a href="#l53.41"></a><span id="l53.41" class="difflineminus">-  // clear msgWindow so url won't prompt for passwords.</span>
<a href="#l53.42"></a><span id="l53.42" class="difflineminus">-  uri.QueryInterface(Ci.nsIMsgMailNewsUrl).msgWindow = null;</span>
<a href="#l53.43"></a><span id="l53.43" class="difflineminus">-  // restore them</span>
<a href="#l53.44"></a><span id="l53.44" class="difflineminus">-  msgWindow.notificationCallbacks = saveCallbacks;</span>
<a href="#l53.45"></a><span id="l53.45" class="difflineplus">+  try {</span>
<a href="#l53.46"></a><span id="l53.46" class="difflineplus">+    inServer.password = config.incoming.password;</span>
<a href="#l53.47"></a><span id="l53.47" class="difflineplus">+    let uri = inServer.verifyLogon(listener, msgWindow);</span>
<a href="#l53.48"></a><span id="l53.48" class="difflineplus">+    // clear msgWindow so url won't prompt for passwords.</span>
<a href="#l53.49"></a><span id="l53.49" class="difflineplus">+    uri.QueryInterface(Ci.nsIMsgMailNewsUrl).msgWindow = null;</span>
<a href="#l53.50"></a><span id="l53.50" class="difflineplus">+  }</span>
<a href="#l53.51"></a><span id="l53.51" class="difflineplus">+  finally {</span>
<a href="#l53.52"></a><span id="l53.52" class="difflineplus">+    // restore them</span>
<a href="#l53.53"></a><span id="l53.53" class="difflineplus">+    msgWindow.notificationCallbacks = saveCallbacks;</span>
<a href="#l53.54"></a><span id="l53.54" class="difflineplus">+  }</span>
<a href="#l53.55"></a><span id="l53.55"> }</span>
<a href="#l53.56"></a><span id="l53.56"> </span>
<a href="#l53.57"></a><span id="l53.57"> /**</span>
<a href="#l53.58"></a><span id="l53.58">  * The url listener also implements nsIBadCertListener2.  Its job is to prevent</span>
<a href="#l53.59"></a><span id="l53.59">  * &quot;bad cert&quot; security dialogs from being shown to the user.  Currently it puts</span>
<a href="#l53.60"></a><span id="l53.60">  * up the cert override dialog, though we'd like to give the user more detailed</span>
<a href="#l53.61"></a><span id="l53.61">  * information in the future.</span>
<a href="#l53.62"></a><span id="l53.62">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l54.1"></a><span id="l54.1" class="difflineminus">--- a/mailnews/base/search/content/FilterEditor.xul</span>
<a href="#l54.2"></a><span id="l54.2" class="difflineplus">+++ b/mailnews/base/search/content/FilterEditor.xul</span>
<a href="#l54.3"></a><span id="l54.3" class="difflineat">@@ -33,16 +33,17 @@</span>
<a href="#l54.4"></a><span id="l54.4">  decision by deleting the provisions above and replace them with the notice</span>
<a href="#l54.5"></a><span id="l54.5">  and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l54.6"></a><span id="l54.6">  the provisions above, a recipient may use your version of this file under</span>
<a href="#l54.7"></a><span id="l54.7">  the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l54.8"></a><span id="l54.8"> </span>
<a href="#l54.9"></a><span id="l54.9">  ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l54.10"></a><span id="l54.10"> </span>
<a href="#l54.11"></a><span id="l54.11"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/filterDialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l54.12"></a><span id="l54.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderPane.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l54.13"></a><span id="l54.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderMenus.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l54.14"></a><span id="l54.14"> </span>
<a href="#l54.15"></a><span id="l54.15"> &lt;?xul-overlay href=&quot;chrome://messenger/content/searchTermOverlay.xul&quot;?&gt;</span>
<a href="#l54.16"></a><span id="l54.16"> </span>
<a href="#l54.17"></a><span id="l54.17"> &lt;!DOCTYPE dialog SYSTEM &quot;chrome://messenger/locale/FilterEditor.dtd&quot;&gt;</span>
<a href="#l54.18"></a><span id="l54.18"> </span>
<a href="#l54.19"></a><span id="l54.19"> &lt;dialog id=&quot;FilterEditor&quot;</span>
<a href="#l54.20"></a><span id="l54.20">   xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l55.1"></a><span id="l55.1" class="difflineminus">--- a/mailnews/base/src/nsSpamSettings.cpp</span>
<a href="#l55.2"></a><span id="l55.2" class="difflineplus">+++ b/mailnews/base/src/nsSpamSettings.cpp</span>
<a href="#l55.3"></a><span id="l55.3" class="difflineat">@@ -395,27 +395,28 @@ NS_IMETHODIMP nsSpamSettings::Initialize</span>
<a href="#l55.4"></a><span id="l55.4">       accountManager(do_GetService(NS_MSGACCOUNTMANAGER_CONTRACTID, &amp;rv));</span>
<a href="#l55.5"></a><span id="l55.5">     NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l55.6"></a><span id="l55.6"> </span>
<a href="#l55.7"></a><span id="l55.7">     nsCOMPtr&lt;nsIMsgAccount&gt; account;</span>
<a href="#l55.8"></a><span id="l55.8">     rv = accountManager-&gt;FindAccountForServer(aServer, getter_AddRefs(account));</span>
<a href="#l55.9"></a><span id="l55.9">     NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l55.10"></a><span id="l55.10"> </span>
<a href="#l55.11"></a><span id="l55.11">     nsCAutoString accountKey;</span>
<a href="#l55.12"></a><span id="l55.12" class="difflineminus">-    rv = account-&gt;GetKey(accountKey);</span>
<a href="#l55.13"></a><span id="l55.13" class="difflineminus">-    NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l55.14"></a><span id="l55.14" class="difflineplus">+    if (account) </span>
<a href="#l55.15"></a><span id="l55.15" class="difflineplus">+      account-&gt;GetKey(accountKey);</span>
<a href="#l55.16"></a><span id="l55.16"> </span>
<a href="#l55.17"></a><span id="l55.17">     // Loop through all accounts, adding emails from this account, as well as</span>
<a href="#l55.18"></a><span id="l55.18">     // from any accounts that defer to this account.</span>
<a href="#l55.19"></a><span id="l55.19">     mEmails.Clear();</span>
<a href="#l55.20"></a><span id="l55.20">     nsCOMPtr&lt;nsISupportsArray&gt; accounts;</span>
<a href="#l55.21"></a><span id="l55.21">     rv = accountManager-&gt;GetAccounts(getter_AddRefs(accounts));</span>
<a href="#l55.22"></a><span id="l55.22">     NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l55.23"></a><span id="l55.23" class="difflineminus">-    PRUint32 accountCount;</span>
<a href="#l55.24"></a><span id="l55.24" class="difflineminus">-    accounts-&gt;Count(&amp;accountCount);</span>
<a href="#l55.25"></a><span id="l55.25" class="difflineplus">+    PRUint32 accountCount = 0;</span>
<a href="#l55.26"></a><span id="l55.26" class="difflineplus">+    if (account &amp;&amp; accounts) // no sense scanning accounts if we've nothing to match</span>
<a href="#l55.27"></a><span id="l55.27" class="difflineplus">+      accounts-&gt;Count(&amp;accountCount);</span>
<a href="#l55.28"></a><span id="l55.28"> </span>
<a href="#l55.29"></a><span id="l55.29">     for (PRUint32 i = 0; i &lt; accountCount; i++)</span>
<a href="#l55.30"></a><span id="l55.30">     {</span>
<a href="#l55.31"></a><span id="l55.31">       nsCOMPtr&lt;nsIMsgAccount&gt; loopAccount(do_QueryElementAt(accounts, i));</span>
<a href="#l55.32"></a><span id="l55.32">       if (!loopAccount)</span>
<a href="#l55.33"></a><span id="l55.33">         continue;</span>
<a href="#l55.34"></a><span id="l55.34">       nsCAutoString loopAccountKey;</span>
<a href="#l55.35"></a><span id="l55.35">       loopAccount-&gt;GetKey(loopAccountKey);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l56.1"></a><span id="l56.1" class="difflineminus">--- a/mailnews/mailnews.js</span>
<a href="#l56.2"></a><span id="l56.2" class="difflineplus">+++ b/mailnews/mailnews.js</span>
<a href="#l56.3"></a><span id="l56.3" class="difflineat">@@ -845,23 +845,23 @@ pref(&quot;mailnews.emptyTrash.dontAskAgain&quot;,</span>
<a href="#l56.4"></a><span id="l56.4"> // where to fetch auto config information from.</span>
<a href="#l56.5"></a><span id="l56.5"> pref(&quot;mailnews.auto_config_url&quot;, &quot;https://live.mozillamessaging.com/autoconfig/&quot;);</span>
<a href="#l56.6"></a><span id="l56.6"> </span>
<a href="#l56.7"></a><span id="l56.7"> // -- Summary Database options</span>
<a href="#l56.8"></a><span id="l56.8"> // dontPreserveOnCopy: a space separated list of properties that are not</span>
<a href="#l56.9"></a><span id="l56.9"> //                     copied to the new nsIMsgHdr when a message is copied.</span>
<a href="#l56.10"></a><span id="l56.10"> //                     Allows extensions to control preservation of properties.</span>
<a href="#l56.11"></a><span id="l56.11"> pref(&quot;mailnews.database.summary.dontPreserveOnCopy&quot;,</span>
<a href="#l56.12"></a><span id="l56.12" class="difflineminus">-  &quot;account msgOffset threadParent msgThreadId statusOfset flag size numLines ProtoThreadFlags label gloda-id gloda-dirty&quot;);</span>
<a href="#l56.13"></a><span id="l56.13" class="difflineplus">+  &quot;account msgOffset threadParent msgThreadId statusOfset flags size numLines ProtoThreadFlags label gloda-id gloda-dirty&quot;);</span>
<a href="#l56.14"></a><span id="l56.14"> </span>
<a href="#l56.15"></a><span id="l56.15"> // dontPreserveOnMove: a space separated list of properties that are not</span>
<a href="#l56.16"></a><span id="l56.16"> //                     copied to the new nsIMsgHdr when a message is moved.</span>
<a href="#l56.17"></a><span id="l56.17"> //                     Allows extensions to control preservation of properties.</span>
<a href="#l56.18"></a><span id="l56.18"> pref(&quot;mailnews.database.summary.dontPreserveOnMove&quot;,</span>
<a href="#l56.19"></a><span id="l56.19" class="difflineminus">-  &quot;account msgOffset threadParent msgThreadId statusOfset flag size numLines ProtoThreadFlags label&quot;);</span>
<a href="#l56.20"></a><span id="l56.20" class="difflineplus">+  &quot;account msgOffset threadParent msgThreadId statusOfset flags size numLines ProtoThreadFlags label&quot;);</span>
<a href="#l56.21"></a><span id="l56.21"> </span>
<a href="#l56.22"></a><span id="l56.22"> // -- Global Database (gloda) options</span>
<a href="#l56.23"></a><span id="l56.23"> // Should the indexer be enabled?</span>
<a href="#l56.24"></a><span id="l56.24"> pref(&quot;mailnews.database.global.indexer.enabled&quot;, false);</span>
<a href="#l56.25"></a><span id="l56.25"> // Should we output warnings and errors to the &quot;error console&quot;?</span>
<a href="#l56.26"></a><span id="l56.26"> pref(&quot;mailnews.database.global.logging.console&quot;, false);</span>
<a href="#l56.27"></a><span id="l56.27"> // Should we output all output levels to stdout via dump?</span>
<a href="#l56.28"></a><span id="l56.28"> pref(&quot;mailnews.database.global.logging.dump&quot;, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l57.1"></a><span id="l57.1" class="difflineminus">--- a/suite/browser/navigator.js</span>
<a href="#l57.2"></a><span id="l57.2" class="difflineplus">+++ b/suite/browser/navigator.js</span>
<a href="#l57.3"></a><span id="l57.3" class="difflineat">@@ -461,18 +461,16 @@ function Startup()</span>
<a href="#l57.4"></a><span id="l57.4"> </span>
<a href="#l57.5"></a><span id="l57.5">   var webNavigation;</span>
<a href="#l57.6"></a><span id="l57.6">   try {</span>
<a href="#l57.7"></a><span id="l57.7">     // Get the preferences service</span>
<a href="#l57.8"></a><span id="l57.8">     var prefService = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l57.9"></a><span id="l57.9">                                 .getService(Components.interfaces.nsIPrefService);</span>
<a href="#l57.10"></a><span id="l57.10">     pref = prefService.getBranch(null);</span>
<a href="#l57.11"></a><span id="l57.11"> </span>
<a href="#l57.12"></a><span id="l57.12" class="difflineminus">-    window.tryToClose = WindowIsClosing;</span>
<a href="#l57.13"></a><span id="l57.13" class="difflineminus">-</span>
<a href="#l57.14"></a><span id="l57.14">     webNavigation = getWebNavigation();</span>
<a href="#l57.15"></a><span id="l57.15">     if (!webNavigation)</span>
<a href="#l57.16"></a><span id="l57.16">       throw &quot;no XBL binding for browser&quot;;</span>
<a href="#l57.17"></a><span id="l57.17">   } catch (e) {</span>
<a href="#l57.18"></a><span id="l57.18">     alert(&quot;Error launching browser window:&quot; + e);</span>
<a href="#l57.19"></a><span id="l57.19">     window.close(); // Give up.</span>
<a href="#l57.20"></a><span id="l57.20">     return;</span>
<a href="#l57.21"></a><span id="l57.21">   }</span>
<a href="#l57.22"></a><span id="l57.22" class="difflineat">@@ -1427,18 +1425,17 @@ function BrowserCloseTabOrWindow()</span>
<a href="#l57.23"></a><span id="l57.23">     return;</span>
<a href="#l57.24"></a><span id="l57.24">   }</span>
<a href="#l57.25"></a><span id="l57.25"> </span>
<a href="#l57.26"></a><span id="l57.26">   BrowserCloseWindow();</span>
<a href="#l57.27"></a><span id="l57.27"> }</span>
<a href="#l57.28"></a><span id="l57.28"> </span>
<a href="#l57.29"></a><span id="l57.29"> function BrowserTryToCloseWindow()</span>
<a href="#l57.30"></a><span id="l57.30"> {</span>
<a href="#l57.31"></a><span id="l57.31" class="difflineminus">-  //give tryToClose a chance to veto if it is defined</span>
<a href="#l57.32"></a><span id="l57.32" class="difflineminus">-  if (typeof(window.tryToClose) != &quot;function&quot; || window.tryToClose())</span>
<a href="#l57.33"></a><span id="l57.33" class="difflineplus">+  if (WindowIsClosing())</span>
<a href="#l57.34"></a><span id="l57.34">     BrowserCloseWindow();</span>
<a href="#l57.35"></a><span id="l57.35"> }</span>
<a href="#l57.36"></a><span id="l57.36"> </span>
<a href="#l57.37"></a><span id="l57.37"> function BrowserCloseWindow() </span>
<a href="#l57.38"></a><span id="l57.38"> {</span>
<a href="#l57.39"></a><span id="l57.39">   // This code replicates stuff in Shutdown().  It is here because</span>
<a href="#l57.40"></a><span id="l57.40">   // window.screenX and window.screenY have real values.  We need</span>
<a href="#l57.41"></a><span id="l57.41">   // to fix this eventually but by replicating the code here, we</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l58.1"></a><span id="l58.1" class="difflineminus">--- a/suite/browser/src/nsBookmarksService.cpp</span>
<a href="#l58.2"></a><span id="l58.2" class="difflineplus">+++ b/suite/browser/src/nsBookmarksService.cpp</span>
<a href="#l58.3"></a><span id="l58.3" class="difflineat">@@ -466,17 +466,17 @@ protected:</span>
<a href="#l58.4"></a><span id="l58.4">     static BookmarkField gBookmarkHeaderFieldTable[];</span>
<a href="#l58.5"></a><span id="l58.5"> </span>
<a href="#l58.6"></a><span id="l58.6">     nsresult AssertTime(nsIRDFResource* aSource,</span>
<a href="#l58.7"></a><span id="l58.7">                         nsIRDFResource* aLabel,</span>
<a href="#l58.8"></a><span id="l58.8">                         PRInt32 aTime);</span>
<a href="#l58.9"></a><span id="l58.9"> </span>
<a href="#l58.10"></a><span id="l58.10">     nsresult setFolderHint(nsIRDFResource *newSource, nsIRDFResource *objType);</span>
<a href="#l58.11"></a><span id="l58.11"> </span>
<a href="#l58.12"></a><span id="l58.12" class="difflineminus">-    nsresult Unescape(nsString &amp;text);</span>
<a href="#l58.13"></a><span id="l58.13" class="difflineplus">+    static nsresult Unescape(nsString &amp;text);</span>
<a href="#l58.14"></a><span id="l58.14"> </span>
<a href="#l58.15"></a><span id="l58.15">     nsresult ParseMetaTag(const nsString &amp;aLine, nsIUnicodeDecoder **decoder);</span>
<a href="#l58.16"></a><span id="l58.16"> </span>
<a href="#l58.17"></a><span id="l58.17">     nsresult ParseBookmarkInfo(BookmarkField *fields, PRBool isBookmarkFlag, const nsString &amp;aLine,</span>
<a href="#l58.18"></a><span id="l58.18">                                const nsCOMPtr&lt;nsIRDFContainer&gt; &amp;aContainer,</span>
<a href="#l58.19"></a><span id="l58.19">                                nsIRDFResource *nodeType, nsCOMPtr&lt;nsIRDFResource&gt; &amp;bookmarkNode);</span>
<a href="#l58.20"></a><span id="l58.20"> </span>
<a href="#l58.21"></a><span id="l58.21">     nsresult ParseBookmarkSeparator(const nsString &amp;aLine,</span>
<a href="#l58.22"></a><span id="l58.22" class="difflineat">@@ -1340,16 +1340,17 @@ BookmarkParser::ParseResource(nsIRDFReso</span>
<a href="#l58.23"></a><span id="l58.23"> </span>
<a href="#l58.24"></a><span id="l58.24"> nsresult</span>
<a href="#l58.25"></a><span id="l58.25"> BookmarkParser::ParseLiteral(nsIRDFResource *arc, nsString&amp; aValue, nsIRDFNode** aResult)</span>
<a href="#l58.26"></a><span id="l58.26"> {</span>
<a href="#l58.27"></a><span id="l58.27">     *aResult = nsnull;</span>
<a href="#l58.28"></a><span id="l58.28"> </span>
<a href="#l58.29"></a><span id="l58.29">     if (arc == kNC_ShortcutURL)</span>
<a href="#l58.30"></a><span id="l58.30">     {</span>
<a href="#l58.31"></a><span id="l58.31" class="difflineplus">+        Unescape(aValue);</span>
<a href="#l58.32"></a><span id="l58.32">         // lowercase the shortcut URL before storing internally</span>
<a href="#l58.33"></a><span id="l58.33">         ToLowerCase(aValue);</span>
<a href="#l58.34"></a><span id="l58.34">     }</span>
<a href="#l58.35"></a><span id="l58.35">     else if (arc == kWEB_LastCharset)</span>
<a href="#l58.36"></a><span id="l58.36">     {</span>
<a href="#l58.37"></a><span id="l58.37">         if (gCharsetAlias)</span>
<a href="#l58.38"></a><span id="l58.38">         {</span>
<a href="#l58.39"></a><span id="l58.39">             NS_LossyConvertUTF16toASCII charset(aValue);</span>
<a href="#l58.40"></a><span id="l58.40" class="difflineat">@@ -1465,16 +1466,18 @@ BookmarkParser::ParseBookmarkSeparator(c</span>
<a href="#l58.41"></a><span id="l58.41"> </span>
<a href="#l58.42"></a><span id="l58.42">             // skip to terminating quote of string</span>
<a href="#l58.43"></a><span id="l58.43">             PRInt32 termQuote = aLine.FindChar(PRUnichar('\&quot;'), attrStart);</span>
<a href="#l58.44"></a><span id="l58.44">             if (termQuote &gt; attrStart) {</span>
<a href="#l58.45"></a><span id="l58.45">                 nsAutoString name(Substring(aLine, attrStart,</span>
<a href="#l58.46"></a><span id="l58.46">                                             termQuote - attrStart));</span>
<a href="#l58.47"></a><span id="l58.47">                 attrStart = termQuote + 1;</span>
<a href="#l58.48"></a><span id="l58.48">                 if (!name.IsEmpty()) {</span>
<a href="#l58.49"></a><span id="l58.49" class="difflineplus">+                    Unescape(name);</span>
<a href="#l58.50"></a><span id="l58.50" class="difflineplus">+</span>
<a href="#l58.51"></a><span id="l58.51">                     nsCOMPtr&lt;nsIRDFLiteral&gt; nameLiteral;</span>
<a href="#l58.52"></a><span id="l58.52">                     rv = gRDF-&gt;GetLiteral(name.get(), getter_AddRefs(nameLiteral));</span>
<a href="#l58.53"></a><span id="l58.53">                     if (NS_FAILED(rv))</span>
<a href="#l58.54"></a><span id="l58.54">                         return rv;</span>
<a href="#l58.55"></a><span id="l58.55">                     rv = mDataSource-&gt;Assert(separator, kNC_Name, nameLiteral, PR_TRUE);</span>
<a href="#l58.56"></a><span id="l58.56">                     if (NS_FAILED(rv))</span>
<a href="#l58.57"></a><span id="l58.57">                         return rv;</span>
<a href="#l58.58"></a><span id="l58.58">                 }</span>
<a href="#l58.59"></a><span id="l58.59" class="difflineat">@@ -5906,16 +5909,21 @@ nsBookmarksService::WriteBookmarkPropert</span>
<a href="#l58.60"></a><span id="l58.60">                         rv |= strm-&gt;Write(attribute.get(),</span>
<a href="#l58.61"></a><span id="l58.61">                                           attribute.Length(), &amp;dummy);</span>
<a href="#l58.62"></a><span id="l58.62">                         rv |= strm-&gt;Write(kNL, sizeof(kNL)-1, &amp;dummy);</span>
<a href="#l58.63"></a><span id="l58.63">                     }</span>
<a href="#l58.64"></a><span id="l58.64">                 }</span>
<a href="#l58.65"></a><span id="l58.65">             }</span>
<a href="#l58.66"></a><span id="l58.66">             else</span>
<a href="#l58.67"></a><span id="l58.67">             {</span>
<a href="#l58.68"></a><span id="l58.68" class="difflineplus">+                if (property == kNC_Name || property == kNC_ShortcutURL)</span>
<a href="#l58.69"></a><span id="l58.69" class="difflineplus">+                {</span>
<a href="#l58.70"></a><span id="l58.70" class="difflineplus">+                    EscapeHTML(attribute);</span>
<a href="#l58.71"></a><span id="l58.71" class="difflineplus">+                }</span>
<a href="#l58.72"></a><span id="l58.72" class="difflineplus">+</span>
<a href="#l58.73"></a><span id="l58.73">                 rv |= strm-&gt;Write(htmlAttrib, strlen(htmlAttrib), &amp;dummy);</span>
<a href="#l58.74"></a><span id="l58.74">                 rv |= strm-&gt;Write(attribute.get(), attribute.Length(), &amp;dummy);</span>
<a href="#l58.75"></a><span id="l58.75">                 rv |= strm-&gt;Write(kQuoteStr, sizeof(kQuoteStr)-1, &amp;dummy);</span>
<a href="#l58.76"></a><span id="l58.76">             }</span>
<a href="#l58.77"></a><span id="l58.77">         }</span>
<a href="#l58.78"></a><span id="l58.78">     }</span>
<a href="#l58.79"></a><span id="l58.79">     if (NS_FAILED(rv))</span>
<a href="#l58.80"></a><span id="l58.80">         return NS_ERROR_UNEXPECTED;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l59.1"></a><span id="l59.1" class="difflineminus">--- a/suite/browser/tabbrowser.xml</span>
<a href="#l59.2"></a><span id="l59.2" class="difflineplus">+++ b/suite/browser/tabbrowser.xml</span>
<a href="#l59.3"></a><span id="l59.3" class="difflineat">@@ -1507,19 +1507,23 @@</span>
<a href="#l59.4"></a><span id="l59.4">             //    history so we'll be able to go back from about:blank</span>
<a href="#l59.5"></a><span id="l59.5">             // 4. load a light URL in the browser, pushing the current page</span>
<a href="#l59.6"></a><span id="l59.6">             //    into bfcache - allows for saving of JS modifications</span>
<a href="#l59.7"></a><span id="l59.7">             //    and also saves RAM by allowing bfcache to evict the full page</span>
<a href="#l59.8"></a><span id="l59.8"> </span>
<a href="#l59.9"></a><span id="l59.9">             this.savedBrowsers.unshift({browser: oldBrowser, history: oldSH, tabData: aTab.tabData || {} });</span>
<a href="#l59.10"></a><span id="l59.10"> </span>
<a href="#l59.11"></a><span id="l59.11">             var newSH = Components.classes[&quot;@mozilla.org/browser/shistory;1&quot;]</span>
<a href="#l59.12"></a><span id="l59.12" class="difflineminus">-                                    .createInstance(Components.interfaces.nsISHistoryInternal);</span>
<a href="#l59.13"></a><span id="l59.13" class="difflineplus">+                                  .createInstance(Components.interfaces.nsISHistoryInternal);</span>
<a href="#l59.14"></a><span id="l59.14">             oldBrowser.webNavigation.sessionHistory = newSH;</span>
<a href="#l59.15"></a><span id="l59.15">             var entry = oldSH.getEntryAtIndex(oldSH.index, false)</span>
<a href="#l59.16"></a><span id="l59.16" class="difflineplus">+                             .QueryInterface(Components.interfaces.nsISHEntry)</span>
<a href="#l59.17"></a><span id="l59.17" class="difflineplus">+                             .clone();</span>
<a href="#l59.18"></a><span id="l59.18" class="difflineplus">+            // don't try to repost data when restoring the tab</span>
<a href="#l59.19"></a><span id="l59.19" class="difflineplus">+            entry.postData = null;</span>
<a href="#l59.20"></a><span id="l59.20">             newSH.addEntry(entry, true);</span>
<a href="#l59.21"></a><span id="l59.21"> </span>
<a href="#l59.22"></a><span id="l59.22">             // about:blank is light</span>
<a href="#l59.23"></a><span id="l59.23">             oldBrowser.loadURI(&quot;about:blank&quot;);</span>
<a href="#l59.24"></a><span id="l59.24"> </span>
<a href="#l59.25"></a><span id="l59.25">             // remove overflow from the undo stack</span>
<a href="#l59.26"></a><span id="l59.26">             if (this.savedBrowsers.length &gt; maxUndoDepth) {</span>
<a href="#l59.27"></a><span id="l59.27">               var deadBrowser = this.savedBrowsers.pop().browser;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l60.1"></a><span id="l60.1" class="difflineminus">--- a/suite/mailnews/search/FilterListDialog.js</span>
<a href="#l60.2"></a><span id="l60.2" class="difflineplus">+++ b/suite/mailnews/search/FilterListDialog.js</span>
<a href="#l60.3"></a><span id="l60.3" class="difflineat">@@ -341,16 +341,19 @@ function selectServer(uri)</span>
<a href="#l60.4"></a><span id="l60.4">     //</span>
<a href="#l60.5"></a><span id="l60.5">     //   var menuitems = serverMenu.getElementsByAttribute(&quot;id&quot;, uri);</span>
<a href="#l60.6"></a><span id="l60.6">     //   serverMenu.selectedItem = menuitems[0];</span>
<a href="#l60.7"></a><span id="l60.7">     //</span>
<a href="#l60.8"></a><span id="l60.8">     // we might need help from a XUL template expert to help out here.</span>
<a href="#l60.9"></a><span id="l60.9">     // see bug #XXXXXX</span>
<a href="#l60.10"></a><span id="l60.10">     serverMenu.setAttribute(&quot;label&quot;, msgFolder.name);</span>
<a href="#l60.11"></a><span id="l60.11">     serverMenu.setAttribute(&quot;uri&quot;,uri);</span>
<a href="#l60.12"></a><span id="l60.12" class="difflineplus">+    serverMenu.setAttribute(&quot;IsServer&quot;, msgFolder.isServer);</span>
<a href="#l60.13"></a><span id="l60.13" class="difflineplus">+    serverMenu.setAttribute(&quot;IsSecure&quot;, msgFolder.server.isSecure);</span>
<a href="#l60.14"></a><span id="l60.14" class="difflineplus">+    serverMenu.setAttribute(&quot;ServerType&quot;, msgFolder.server.type);</span>
<a href="#l60.15"></a><span id="l60.15"> </span>
<a href="#l60.16"></a><span id="l60.16">     setServer(uri);</span>
<a href="#l60.17"></a><span id="l60.17"> }</span>
<a href="#l60.18"></a><span id="l60.18"> </span>
<a href="#l60.19"></a><span id="l60.19"> function getFilter(index)</span>
<a href="#l60.20"></a><span id="l60.20"> {</span>
<a href="#l60.21"></a><span id="l60.21">   return gFilterTreeView.filterList.getFilterAt(index);</span>
<a href="#l60.22"></a><span id="l60.22"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l61.1"></a><span id="l61.1" class="difflineminus">--- a/suite/mailnews/search/FilterListDialog.xul</span>
<a href="#l61.2"></a><span id="l61.2" class="difflineplus">+++ b/suite/mailnews/search/FilterListDialog.xul</span>
<a href="#l61.3"></a><span id="l61.3" class="difflineat">@@ -67,21 +67,25 @@</span>
<a href="#l61.4"></a><span id="l61.4">     &lt;key id=&quot;key_close&quot;/&gt;</span>
<a href="#l61.5"></a><span id="l61.5">   &lt;/keyset&gt;</span>
<a href="#l61.6"></a><span id="l61.6"> </span>
<a href="#l61.7"></a><span id="l61.7">   &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l61.8"></a><span id="l61.8">     &lt;label value=&quot;&amp;filtersForPrefix.label;&quot; </span>
<a href="#l61.9"></a><span id="l61.9">            accesskey=&quot;&amp;filtersForPrefix.accesskey;&quot; control=&quot;serverMenu&quot;/&gt;</span>
<a href="#l61.10"></a><span id="l61.10"> </span>
<a href="#l61.11"></a><span id="l61.11">       &lt;menulist id=&quot;serverMenu&quot;</span>
<a href="#l61.12"></a><span id="l61.12" class="difflineminus">-          datasources=&quot;rdf:msgaccountmanager rdf:mailnewsfolders&quot;</span>
<a href="#l61.13"></a><span id="l61.13" class="difflineminus">-          sortResource=&quot;http://home.netscape.com/NC-rdf#FolderTreeName&quot;</span>
<a href="#l61.14"></a><span id="l61.14" class="difflineminus">-          sortDirection=&quot;ascending&quot;</span>
<a href="#l61.15"></a><span id="l61.15" class="difflineminus">-          ref=&quot;msgaccounts:/&quot;</span>
<a href="#l61.16"></a><span id="l61.16" class="difflineminus">-          oncommand=&quot;onFilterServerClick(event.target);&quot;&gt;</span>
<a href="#l61.17"></a><span id="l61.17" class="difflineplus">+                class=&quot;folderMenuItem&quot;</span>
<a href="#l61.18"></a><span id="l61.18" class="difflineplus">+                IsServer=&quot;true&quot;</span>
<a href="#l61.19"></a><span id="l61.19" class="difflineplus">+                IsSecure=&quot;false&quot;</span>
<a href="#l61.20"></a><span id="l61.20" class="difflineplus">+                ServerType=&quot;none&quot;</span>
<a href="#l61.21"></a><span id="l61.21" class="difflineplus">+                datasources=&quot;rdf:msgaccountmanager rdf:mailnewsfolders&quot;</span>
<a href="#l61.22"></a><span id="l61.22" class="difflineplus">+                sortResource=&quot;http://home.netscape.com/NC-rdf#FolderTreeName&quot;</span>
<a href="#l61.23"></a><span id="l61.23" class="difflineplus">+                sortDirection=&quot;ascending&quot;</span>
<a href="#l61.24"></a><span id="l61.24" class="difflineplus">+                ref=&quot;msgaccounts:/&quot;</span>
<a href="#l61.25"></a><span id="l61.25" class="difflineplus">+                oncommand=&quot;onFilterServerClick(event.target);&quot;&gt;</span>
<a href="#l61.26"></a><span id="l61.26">           &lt;template&gt;</span>
<a href="#l61.27"></a><span id="l61.27">             &lt;rule iscontainer=&quot;true&quot; isempty=&quot;false&quot; nc:ServerType=&quot;nntp&quot;&gt;</span>
<a href="#l61.28"></a><span id="l61.28">               &lt;menupopup&gt;</span>
<a href="#l61.29"></a><span id="l61.29">                 &lt;menu uri=&quot;...&quot; </span>
<a href="#l61.30"></a><span id="l61.30">                                 class=&quot;folderMenuItem menu-iconic&quot; </span>
<a href="#l61.31"></a><span id="l61.31">                                 IsServer=&quot;rdf:http://home.netscape.com/NC-rdf#IsServer&quot;</span>
<a href="#l61.32"></a><span id="l61.32">                                 IsSecure=&quot;rdf:http://home.netscape.com/NC-rdf#IsSecure&quot;</span>
<a href="#l61.33"></a><span id="l61.33">                                 ServerType=&quot;rdf:http://home.netscape.com/NC-rdf#ServerType&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l62.1"></a><span id="l62.1" class="difflineminus">--- a/suite/themes/classic/communicator/communicator.css</span>
<a href="#l62.2"></a><span id="l62.2" class="difflineplus">+++ b/suite/themes/classic/communicator/communicator.css</span>
<a href="#l62.3"></a><span id="l62.3" class="difflineat">@@ -96,18 +96,19 @@</span>
<a href="#l62.4"></a><span id="l62.4">   list-style-image: url(&quot;chrome://global/skin/arrow/arrow-dn-dis.gif&quot;);</span>
<a href="#l62.5"></a><span id="l62.5"> }</span>
<a href="#l62.6"></a><span id="l62.6"> </span>
<a href="#l62.7"></a><span id="l62.7"> .sidebarTree {</span>
<a href="#l62.8"></a><span id="l62.8">   border: none;</span>
<a href="#l62.9"></a><span id="l62.9">   margin: 0px !important;</span>
<a href="#l62.10"></a><span id="l62.10"> }</span>
<a href="#l62.11"></a><span id="l62.11"> </span>
<a href="#l62.12"></a><span id="l62.12" class="difflineminus">-/* ::::: iconic menuitems ::::: */</span>
<a href="#l62.13"></a><span id="l62.13" class="difflineplus">+/* ::::: iconic menus and menuitems ::::: */</span>
<a href="#l62.14"></a><span id="l62.14"> </span>
<a href="#l62.15"></a><span id="l62.15" class="difflineplus">+menu.menu-iconic &gt; .menu-iconic-left,</span>
<a href="#l62.16"></a><span id="l62.16"> menuitem.menuitem-iconic &gt; .menu-iconic-left {</span>
<a href="#l62.17"></a><span id="l62.17">   display: -moz-box;</span>
<a href="#l62.18"></a><span id="l62.18"> }</span>
<a href="#l62.19"></a><span id="l62.19"> </span>
<a href="#l62.20"></a><span id="l62.20"> /* ::::: download manager ::::: */</span>
<a href="#l62.21"></a><span id="l62.21"> </span>
<a href="#l62.22"></a><span id="l62.22"> #downloadView &gt; treechildren::-moz-tree-image(Name) {</span>
<a href="#l62.23"></a><span id="l62.23">   -moz-margin-end: 2px;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

