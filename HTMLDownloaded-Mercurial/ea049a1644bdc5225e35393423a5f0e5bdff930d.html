<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 753:ea049a1644bdc5225e35393423a5f0e5bdff930d</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ ea049a1644bdc5225e35393423a5f0e5bdff930d" />
<meta property="og:url" content="/comm-central/rev/ea049a1644bdc5225e35393423a5f0e5bdff930d" />
<meta property="og:description" content="Bug 456388 - Remove PR_STATIC_CALLBACK and PR_CALLBACK(_DECL) from the tree; c-c part; r+sr=dmose" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / ea049a1644bdc5225e35393423a5f0e5bdff930d 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/ea049a1644bdc5225e35393423a5f0e5bdff930d">shortlog</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/ea049a1644bdc5225e35393423a5f0e5bdff930d">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d">files</a> |
changeset |
<a href="/comm-central/raw-rev/ea049a1644bdc5225e35393423a5f0e5bdff930d">raw</a>  | <a href="/comm-central/archive/ea049a1644bdc5225e35393423a5f0e5bdff930d.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=456388">Bug 456388</a> - Remove PR_STATIC_CALLBACK and PR_CALLBACK(_DECL) from the tree; c-c part; r+sr=dmose
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#65;&#114;&#112;&#97;&#100;&#32;&#66;&#111;&#114;&#115;&#111;&#115;&#32;&#60;&#97;&#114;&#112;&#97;&#100;&#46;&#98;&#111;&#114;&#115;&#111;&#115;&#64;&#103;&#111;&#111;&#103;&#108;&#101;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 29 Oct 2008 03:37:29 +0100</td></tr>

<tr>
 <td>changeset 753</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/ea049a1644bdc5225e35393423a5f0e5bdff930d">ea049a1644bdc5225e35393423a5f0e5bdff930d</a></td>
</tr>



<tr>
<td>parent 752</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/efd446a5a224268e2307d7a52682b750db80cef4">efd446a5a224268e2307d7a52682b750db80cef4</a>
</td>
</tr>

<tr>
<td>child 754</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/a1b646111579206bf09f0b1f2611cf3783922c05">a1b646111579206bf09f0b1f2611cf3783922c05</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=ea049a1644bdc5225e35393423a5f0e5bdff930d">679</a></td></tr>
<tr><td>push user</td><td>sgautherie.bz@free.fr</td></tr>
<tr><td>push date</td><td class="date age">Wed, 29 Oct 2008 02:38:07 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@ea049a1644bd [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=ea049a1644bdc5225e35393423a5f0e5bdff930d">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=ea049a1644bdc5225e35393423a5f0e5bdff930d&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=ea049a1644bdc5225e35393423a5f0e5bdff930d&newProject=comm-central&newRevision=ea049a1644bdc5225e35393423a5f0e5bdff930d&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=ea049a1644bdc5225e35393423a5f0e5bdff930d&newProject=comm-central&newRevision=ea049a1644bdc5225e35393423a5f0e5bdff930d&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=ea049a1644bdc5225e35393423a5f0e5bdff930d&newProject=comm-central&newRevision=ea049a1644bdc5225e35393423a5f0e5bdff930d&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>

<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=456388">456388</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=456388">Bug 456388</a> - Remove PR_STATIC_CALLBACK and PR_CALLBACK(_DECL) from the tree; c-c part; r+sr=dmose</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calICSService.cpp">calendar/base/src/calICSService.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calICSService.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calICSService.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calICSService.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calICSService.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calICSService.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calRecurrenceDateSet.cpp">calendar/base/src/calRecurrenceDateSet.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calRecurrenceDateSet.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calRecurrenceDateSet.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calRecurrenceDateSet.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calRecurrenceDateSet.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/calendar/base/src/calRecurrenceDateSet.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.cpp">directory/xpcom/base/src/nsLDAPConnection.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.h">directory/xpcom/base/src/nsLDAPConnection.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPConnection.h">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPMessage.h">directory/xpcom/base/src/nsLDAPMessage.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPMessage.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPMessage.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPMessage.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPMessage.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPMessage.h">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPProtocolModule.cpp">directory/xpcom/base/src/nsLDAPProtocolModule.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPProtocolModule.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPProtocolModule.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPProtocolModule.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPProtocolModule.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/directory/xpcom/base/src/nsLDAPProtocolModule.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/build/nsAbFactory.cpp">mailnews/addrbook/build/nsAbFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/build/nsAbFactory.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/build/nsAbFactory.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/build/nsAbFactory.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/build/nsAbFactory.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/build/nsAbFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbBSDirectory.cpp">mailnews/addrbook/src/nsAbBSDirectory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbBSDirectory.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbBSDirectory.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbBSDirectory.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbBSDirectory.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbBSDirectory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbCardProperty.cpp">mailnews/addrbook/src/nsAbCardProperty.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbCardProperty.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbCardProperty.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbCardProperty.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbCardProperty.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbCardProperty.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbMDBDirectory.cpp">mailnews/addrbook/src/nsAbMDBDirectory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbMDBDirectory.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbMDBDirectory.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbMDBDirectory.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbMDBDirectory.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbMDBDirectory.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbView.cpp">mailnews/addrbook/src/nsAbView.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbView.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbView.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbView.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbView.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsAbView.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsDirPrefs.cpp">mailnews/addrbook/src/nsDirPrefs.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsDirPrefs.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsDirPrefs.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsDirPrefs.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsDirPrefs.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/addrbook/src/nsDirPrefs.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.cpp">mailnews/base/src/nsMsgAccountManager.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.h">mailnews/base/src/nsMsgAccountManager.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgAccountManager.h">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.cpp">mailnews/base/src/nsMsgDBView.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.h">mailnews/base/src/nsMsgDBView.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgDBView.h">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgTagService.cpp">mailnews/base/src/nsMsgTagService.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgTagService.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgTagService.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgTagService.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgTagService.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/src/nsMsgTagService.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/util/nsMsgTxn.cpp">mailnews/base/util/nsMsgTxn.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/util/nsMsgTxn.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/util/nsMsgTxn.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/util/nsMsgTxn.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/util/nsMsgTxn.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/base/util/nsMsgTxn.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/build/nsMailModule.cpp">mailnews/build/nsMailModule.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/build/nsMailModule.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/build/nsMailModule.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/build/nsMailModule.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/build/nsMailModule.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/build/nsMailModule.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/compose/src/nsMsgSend.h">mailnews/compose/src/nsMsgSend.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/compose/src/nsMsgSend.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/compose/src/nsMsgSend.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/compose/src/nsMsgSend.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/compose/src/nsMsgSend.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/compose/src/nsMsgSend.h">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">mailnews/db/msgdb/build/nsMsgDBFactory.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/build/nsMsgDBFactory.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/public/nsMsgDatabase.h">mailnews/db/msgdb/public/nsMsgDatabase.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/public/nsMsgDatabase.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/public/nsMsgDatabase.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/public/nsMsgDatabase.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/public/nsMsgDatabase.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/public/nsMsgDatabase.h">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/src/nsMsgDatabase.cpp">mailnews/db/msgdb/src/nsMsgDatabase.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/src/nsMsgDatabase.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/src/nsMsgDatabase.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/src/nsMsgDatabase.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/src/nsMsgDatabase.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/db/msgdb/src/nsMsgDatabase.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp">mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp">mailnews/extensions/smime/src/nsMsgComposeSecure.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/imap/src/nsImapMailFolder.cpp">mailnews/imap/src/nsImapMailFolder.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/imap/src/nsImapMailFolder.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/imap/src/nsImapMailFolder.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/imap/src/nsImapMailFolder.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/imap/src/nsImapMailFolder.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/imap/src/nsImapMailFolder.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/build/nsImportModule.cpp">mailnews/import/build/nsImportModule.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/build/nsImportModule.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/build/nsImportModule.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/build/nsImportModule.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/build/nsImportModule.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/build/nsImportModule.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportAddressBooks.cpp">mailnews/import/src/nsImportAddressBooks.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportAddressBooks.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportAddressBooks.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportAddressBooks.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportAddressBooks.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportAddressBooks.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportMail.cpp">mailnews/import/src/nsImportMail.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportMail.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportMail.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportMail.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportMail.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/import/src/nsImportMail.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/local/src/nsPop3Protocol.cpp">mailnews/local/src/nsPop3Protocol.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/local/src/nsPop3Protocol.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/local/src/nsPop3Protocol.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/local/src/nsPop3Protocol.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/local/src/nsPop3Protocol.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/local/src/nsPop3Protocol.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h">mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.cpp">mailnews/mime/src/mimebuf.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.h">mailnews/mime/src/mimebuf.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimebuf.h">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimecryp.cpp">mailnews/mime/src/mimecryp.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimecryp.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimecryp.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimecryp.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimecryp.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimecryp.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimedrft.cpp">mailnews/mime/src/mimedrft.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimedrft.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimedrft.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimedrft.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimedrft.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimedrft.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimei.cpp">mailnews/mime/src/mimei.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimei.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimei.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimei.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimei.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimei.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemoz2.cpp">mailnews/mime/src/mimemoz2.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemoz2.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemoz2.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemoz2.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemoz2.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemoz2.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemrel.cpp">mailnews/mime/src/mimemrel.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemrel.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemrel.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemrel.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemrel.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimemrel.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimeobj.cpp">mailnews/mime/src/mimeobj.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimeobj.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimeobj.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimeobj.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimeobj.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimeobj.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimetext.cpp">mailnews/mime/src/mimetext.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimetext.cpp">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimetext.cpp">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimetext.cpp">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimetext.cpp">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/mailnews/mime/src/mimetext.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/suite/browser/src/nsBookmarksService.h">suite/browser/src/nsBookmarksService.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ea049a1644bdc5225e35393423a5f0e5bdff930d/suite/browser/src/nsBookmarksService.h">file</a> |
<a href="/comm-central/annotate/ea049a1644bdc5225e35393423a5f0e5bdff930d/suite/browser/src/nsBookmarksService.h">annotate</a> |
<a href="/comm-central/diff/ea049a1644bdc5225e35393423a5f0e5bdff930d/suite/browser/src/nsBookmarksService.h">diff</a> |
<a href="/comm-central/comparison/ea049a1644bdc5225e35393423a5f0e5bdff930d/suite/browser/src/nsBookmarksService.h">comparison</a> |
<a href="/comm-central/log/ea049a1644bdc5225e35393423a5f0e5bdff930d/suite/browser/src/nsBookmarksService.h">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/src/calICSService.cpp</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/src/calICSService.cpp</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -485,17 +485,17 @@ calIcalComponent::AddTimezoneReference(c</span>
<a href="#l1.4"></a><span id="l1.4">     nsresult rv = aTimezone-&gt;GetTzid(tzid);</span>
<a href="#l1.5"></a><span id="l1.5">     NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l1.6"></a><span id="l1.6">     if (!mReferencedTimezones.Put(tzid, aTimezone)) {</span>
<a href="#l1.7"></a><span id="l1.7">         return NS_ERROR_OUT_OF_MEMORY;</span>
<a href="#l1.8"></a><span id="l1.8">     }</span>
<a href="#l1.9"></a><span id="l1.9">     return NS_OK;</span>
<a href="#l1.10"></a><span id="l1.10"> }</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+static PLDHashOperator</span>
<a href="#l1.14"></a><span id="l1.14"> TimezoneHashToTimezoneArray(nsACString const&amp; /*tzid*/, calITimezone * tz, void * arg)</span>
<a href="#l1.15"></a><span id="l1.15"> {</span>
<a href="#l1.16"></a><span id="l1.16">     calITimezone *** const arrayPtr = static_cast&lt;calITimezone ***&gt;(arg);</span>
<a href="#l1.17"></a><span id="l1.17">     NS_ADDREF(**arrayPtr = tz);</span>
<a href="#l1.18"></a><span id="l1.18">     ++(*arrayPtr);</span>
<a href="#l1.19"></a><span id="l1.19">     return PL_DHASH_NEXT;</span>
<a href="#l1.20"></a><span id="l1.20"> }</span>
<a href="#l1.21"></a><span id="l1.21"> </span>
<a href="#l1.22"></a><span id="l1.22" class="difflineat">@@ -957,17 +957,17 @@ void calIcalComponent::ClearAllPropertie</span>
<a href="#l1.23"></a><span id="l1.23">          prop; prop = next)</span>
<a href="#l1.24"></a><span id="l1.24">     {</span>
<a href="#l1.25"></a><span id="l1.25">         next = icalcomponent_get_next_property(mComponent, kind);</span>
<a href="#l1.26"></a><span id="l1.26">         icalcomponent_remove_property(mComponent, prop);</span>
<a href="#l1.27"></a><span id="l1.27">         icalproperty_free(prop);</span>
<a href="#l1.28"></a><span id="l1.28">     }</span>
<a href="#l1.29"></a><span id="l1.29"> }</span>
<a href="#l1.30"></a><span id="l1.30"> </span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+static PLDHashOperator</span>
<a href="#l1.33"></a><span id="l1.33"> AddTimezoneComponentToIcal(nsACString const&amp; /*tzid*/, calITimezone * tz, void * arg)</span>
<a href="#l1.34"></a><span id="l1.34"> {</span>
<a href="#l1.35"></a><span id="l1.35">     icalcomponent * const comp = static_cast&lt;icalcomponent *&gt;(arg);</span>
<a href="#l1.36"></a><span id="l1.36">     icaltimezone * icaltz = cal::getIcalTimezone(tz);</span>
<a href="#l1.37"></a><span id="l1.37">     if (icaltz) {</span>
<a href="#l1.38"></a><span id="l1.38">         icalcomponent * const tzcomp = icalcomponent_new_clone(icaltimezone_get_component(icaltz));</span>
<a href="#l1.39"></a><span id="l1.39">         icalcomponent_add_component(comp, tzcomp);</span>
<a href="#l1.40"></a><span id="l1.40">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/src/calRecurrenceDateSet.cpp</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/src/calRecurrenceDateSet.cpp</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -180,17 +180,17 @@ calRecurrenceDateSet::AddDate(calIDateTi</span>
<a href="#l2.4"></a><span id="l2.4"> </span>
<a href="#l2.5"></a><span id="l2.5">     mDates.AppendObject(aDate);</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7">     mSorted = PR_FALSE;</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9">     return NS_OK;</span>
<a href="#l2.10"></a><span id="l2.10"> }</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-static int PR_CALLBACK</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+static int</span>
<a href="#l2.14"></a><span id="l2.14"> calDateTimeComparator (calIDateTime *aElement1,</span>
<a href="#l2.15"></a><span id="l2.15">                        calIDateTime *aElement2,</span>
<a href="#l2.16"></a><span id="l2.16">                        void *aData)</span>
<a href="#l2.17"></a><span id="l2.17"> {</span>
<a href="#l2.18"></a><span id="l2.18">     PRInt32 result;</span>
<a href="#l2.19"></a><span id="l2.19">     aElement1-&gt;Compare(aElement2, &amp;result);</span>
<a href="#l2.20"></a><span id="l2.20">     return result;</span>
<a href="#l2.21"></a><span id="l2.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/directory/xpcom/base/src/nsLDAPConnection.cpp</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/directory/xpcom/base/src/nsLDAPConnection.cpp</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -584,19 +584,19 @@ nsLDAPConnectionLoop::Init()</span>
<a href="#l3.4"></a><span id="l3.4">             return NS_ERROR_OUT_OF_MEMORY;</span>
<a href="#l3.5"></a><span id="l3.5">         }</span>
<a href="#l3.6"></a><span id="l3.6">     }</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8">     return NS_OK;</span>
<a href="#l3.9"></a><span id="l3.9"> }</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11"> // typedef PRBool</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-// (*PR_CALLBACK nsHashtableEnumFunc)</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+// (* nsHashtableEnumFunc)</span>
<a href="#l3.14"></a><span id="l3.14"> //      (nsHashKey *aKey, void *aData, void* aClosure);</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-PRBool PR_CALLBACK</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+PRBool</span>
<a href="#l3.17"></a><span id="l3.17"> CheckLDAPOperationResult(nsHashKey *aKey, void *aData, void* aClosure)</span>
<a href="#l3.18"></a><span id="l3.18"> {</span>
<a href="#l3.19"></a><span id="l3.19">     int lderrno;</span>
<a href="#l3.20"></a><span id="l3.20">     nsresult rv;</span>
<a href="#l3.21"></a><span id="l3.21">     PRInt32 returnCode;</span>
<a href="#l3.22"></a><span id="l3.22">     LDAPMessage *msgHandle;</span>
<a href="#l3.23"></a><span id="l3.23">     nsCOMPtr&lt;nsILDAPMessage&gt; msg;</span>
<a href="#l3.24"></a><span id="l3.24">     PRBool operationFinished = PR_TRUE;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/directory/xpcom/base/src/nsLDAPConnection.h</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/directory/xpcom/base/src/nsLDAPConnection.h</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -67,19 +67,19 @@ class nsLDAPConnectionLoop;</span>
<a href="#l4.4"></a><span id="l4.4"> class nsLDAPConnection : public nsILDAPConnection,</span>
<a href="#l4.5"></a><span id="l4.5">                          public nsSupportsWeakReference,</span>
<a href="#l4.6"></a><span id="l4.6">                          public nsIDNSListener</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> {</span>
<a href="#l4.9"></a><span id="l4.9">     friend class nsLDAPOperation;</span>
<a href="#l4.10"></a><span id="l4.10">     friend class nsLDAPMessage;</span>
<a href="#l4.11"></a><span id="l4.11">     friend class nsLDAPConnectionLoop;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    friend PRBool PR_CALLBACK CheckLDAPOperationResult(nsHashKey *aKey, </span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-                                                       void *aData,</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-                                                       void* aClosure);</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+    friend PRBool CheckLDAPOperationResult(nsHashKey *aKey,</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+                                           void *aData,</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+                                           void* aClosure);</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19">   public:</span>
<a href="#l4.20"></a><span id="l4.20">     NS_DECL_ISUPPORTS</span>
<a href="#l4.21"></a><span id="l4.21">     NS_DECL_NSILDAPCONNECTION</span>
<a href="#l4.22"></a><span id="l4.22">     NS_DECL_NSIDNSLISTENER</span>
<a href="#l4.23"></a><span id="l4.23"> </span>
<a href="#l4.24"></a><span id="l4.24">     // constructor &amp; destructor</span>
<a href="#l4.25"></a><span id="l4.25">     //</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/directory/xpcom/base/src/nsLDAPMessage.h</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/directory/xpcom/base/src/nsLDAPMessage.h</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -52,19 +52,19 @@</span>
<a href="#l5.4"></a><span id="l5.4"> { 0x76e061ad, 0xa59f, 0x43b6, \</span>
<a href="#l5.5"></a><span id="l5.5">   { 0xb8, 0x12, 0xee, 0x6e, 0x8e, 0x69, 0x42, 0x3f }}</span>
<a href="#l5.6"></a><span id="l5.6"> </span>
<a href="#l5.7"></a><span id="l5.7"> class nsLDAPMessage : public nsILDAPMessage</span>
<a href="#l5.8"></a><span id="l5.8"> {</span>
<a href="#l5.9"></a><span id="l5.9">     friend class nsLDAPOperation;</span>
<a href="#l5.10"></a><span id="l5.10">     friend class nsLDAPConnection;</span>
<a href="#l5.11"></a><span id="l5.11">     friend class nsLDAPConnectionLoop;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-    friend PRBool PR_CALLBACK CheckLDAPOperationResult(nsHashKey *aKey, </span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-                                                       void *aData,</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-                                                       void* aClosure);</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+    friend PRBool CheckLDAPOperationResult(nsHashKey *aKey,</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+                                           void *aData,</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+                                           void* aClosure);</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19">   public:       </span>
<a href="#l5.20"></a><span id="l5.20"> </span>
<a href="#l5.21"></a><span id="l5.21">     NS_DECL_ISUPPORTS</span>
<a href="#l5.22"></a><span id="l5.22">     NS_DECL_NSILDAPMESSAGE</span>
<a href="#l5.23"></a><span id="l5.23"> </span>
<a href="#l5.24"></a><span id="l5.24">     // constructor &amp; destructor</span>
<a href="#l5.25"></a><span id="l5.25">     //</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/directory/xpcom/base/src/nsLDAPProtocolModule.cpp</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/directory/xpcom/base/src/nsLDAPProtocolModule.cpp</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -123,17 +123,17 @@ static const nsModuleComponentInfo compo</span>
<a href="#l6.4"></a><span id="l6.4">     { &quot;LDAP BER Value&quot;, NS_LDAPBERVALUE_CID,</span>
<a href="#l6.5"></a><span id="l6.5">       &quot;@mozilla.org/network/ldap-ber-value;1&quot;, nsLDAPBERValueConstructor },</span>
<a href="#l6.6"></a><span id="l6.6">     { &quot;LDAP BER Element&quot;, NS_LDAPBERELEMENT_CID,</span>
<a href="#l6.7"></a><span id="l6.7">       &quot;@mozilla.org/network/ldap-ber-element;1&quot;, nsLDAPBERElementConstructor },</span>
<a href="#l6.8"></a><span id="l6.8">     { &quot;LDAP Control&quot;, NS_LDAPCONTROL_CID,</span>
<a href="#l6.9"></a><span id="l6.9">       &quot;@mozilla.org/network/ldap-control;1&quot;, nsLDAPControlConstructor}</span>
<a href="#l6.10"></a><span id="l6.10"> };</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-PR_STATIC_CALLBACK(nsresult)</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+static nsresult</span>
<a href="#l6.14"></a><span id="l6.14"> nsLDAPInitialize(nsIModule *aSelf)</span>
<a href="#l6.15"></a><span id="l6.15"> {</span>
<a href="#l6.16"></a><span id="l6.16"> #ifdef PR_LOGGING</span>
<a href="#l6.17"></a><span id="l6.17">     gLDAPLogModule = PR_NewLogModule(&quot;ldap&quot;);</span>
<a href="#l6.18"></a><span id="l6.18">     if (!gLDAPLogModule) {</span>
<a href="#l6.19"></a><span id="l6.19">         PR_fprintf(PR_STDERR, </span>
<a href="#l6.20"></a><span id="l6.20">                    &quot;nsLDAP_Initialize(): PR_NewLogModule() failed\n&quot;);</span>
<a href="#l6.21"></a><span id="l6.21">         return NS_ERROR_NOT_AVAILABLE;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/addrbook/build/nsAbFactory.cpp</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/addrbook/build/nsAbFactory.cpp</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -397,16 +397,16 @@ static const nsModuleComponentInfo compo</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5">   { &quot;ldif handler service&quot;,</span>
<a href="#l7.6"></a><span id="l7.6">     NS_ABLDIFSERVICE_CID,</span>
<a href="#l7.7"></a><span id="l7.7">     NS_ABLDIFSERVICE_CONTRACTID,</span>
<a href="#l7.8"></a><span id="l7.8">     nsAbLDIFServiceConstructor }</span>
<a href="#l7.9"></a><span id="l7.9"> };</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-PR_STATIC_CALLBACK(void)</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+static void</span>
<a href="#l7.14"></a><span id="l7.14"> msgAbModuleDtor(nsIModule* self)</span>
<a href="#l7.15"></a><span id="l7.15"> {</span>
<a href="#l7.16"></a><span id="l7.16">     nsAddrDatabase::CleanupCache();</span>
<a href="#l7.17"></a><span id="l7.17"> }</span>
<a href="#l7.18"></a><span id="l7.18"> </span>
<a href="#l7.19"></a><span id="l7.19"> NS_IMPL_NSGETMODULE_WITH_DTOR(nsAbModule, components, msgAbModuleDtor)</span>
<a href="#l7.20"></a><span id="l7.20"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbBSDirectory.cpp</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbBSDirectory.cpp</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -266,17 +266,17 @@ NS_IMETHODIMP nsAbBSDirectory::CreateDir</span>
<a href="#l8.4"></a><span id="l8.4"> struct GetDirectories</span>
<a href="#l8.5"></a><span id="l8.5"> {</span>
<a href="#l8.6"></a><span id="l8.6">   GetDirectories(DIR_Server* aServer) : mServer(aServer) { }</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8">   nsCOMArray&lt;nsIAbDirectory&gt; directories;</span>
<a href="#l8.9"></a><span id="l8.9">   DIR_Server* mServer;</span>
<a href="#l8.10"></a><span id="l8.10"> };</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+static PLDHashOperator</span>
<a href="#l8.14"></a><span id="l8.14"> GetDirectories_getDirectory(nsISupports *aKey, DIR_Server* aData, void* aClosure)</span>
<a href="#l8.15"></a><span id="l8.15"> {</span>
<a href="#l8.16"></a><span id="l8.16">   GetDirectories* getDirectories = (GetDirectories*)aClosure;</span>
<a href="#l8.17"></a><span id="l8.17"> </span>
<a href="#l8.18"></a><span id="l8.18">   if (aData == getDirectories-&gt;mServer) {</span>
<a href="#l8.19"></a><span id="l8.19">     nsCOMPtr&lt;nsIAbDirectory&gt; abDir = do_QueryInterface(aKey);</span>
<a href="#l8.20"></a><span id="l8.20">     getDirectories-&gt;directories.AppendObject(abDir);</span>
<a href="#l8.21"></a><span id="l8.21">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbCardProperty.cpp</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbCardProperty.cpp</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -206,17 +206,17 @@ nsAbSimpleProperty::GetName(nsAString&amp; a</span>
<a href="#l9.4"></a><span id="l9.4"> </span>
<a href="#l9.5"></a><span id="l9.5"> NS_IMETHODIMP</span>
<a href="#l9.6"></a><span id="l9.6"> nsAbSimpleProperty::GetValue(nsIVariant* *aValue)</span>
<a href="#l9.7"></a><span id="l9.7"> {</span>
<a href="#l9.8"></a><span id="l9.8">     NS_IF_ADDREF(*aValue = mValue);</span>
<a href="#l9.9"></a><span id="l9.9">     return NS_OK;</span>
<a href="#l9.10"></a><span id="l9.10"> }</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+static PLDHashOperator</span>
<a href="#l9.14"></a><span id="l9.14"> PropertyHashToArrayFunc (const nsACString &amp;aKey, nsIVariant* aData, void *userArg)</span>
<a href="#l9.15"></a><span id="l9.15"> {</span>
<a href="#l9.16"></a><span id="l9.16">   nsCOMArray&lt;nsIProperty&gt;* propertyArray = static_cast&lt;nsCOMArray&lt;nsIProperty&gt; *&gt;(userArg);</span>
<a href="#l9.17"></a><span id="l9.17">   propertyArray-&gt;AppendObject(new nsAbSimpleProperty(aKey, aData));</span>
<a href="#l9.18"></a><span id="l9.18">   return PL_DHASH_NEXT;</span>
<a href="#l9.19"></a><span id="l9.19"> }</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21"> NS_IMETHODIMP nsAbCardProperty::GetProperties(nsISimpleEnumerator **props)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbMDBDirectory.cpp</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbMDBDirectory.cpp</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -417,17 +417,17 @@ NS_IMETHODIMP nsAbMDBDirectory::GetURI(n</span>
<a href="#l10.4"></a><span id="l10.4"> NS_IMETHODIMP nsAbMDBDirectory::GetChildNodes(nsISimpleEnumerator* *aResult)</span>
<a href="#l10.5"></a><span id="l10.5"> {</span>
<a href="#l10.6"></a><span id="l10.6">   if (mIsQueryURI)</span>
<a href="#l10.7"></a><span id="l10.7">     return NS_NewEmptyEnumerator(aResult);</span>
<a href="#l10.8"></a><span id="l10.8"> </span>
<a href="#l10.9"></a><span id="l10.9">   return NS_NewArrayEnumerator(aResult, mSubDirectories);</span>
<a href="#l10.10"></a><span id="l10.10"> }</span>
<a href="#l10.11"></a><span id="l10.11"> </span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator) </span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+static PLDHashOperator </span>
<a href="#l10.14"></a><span id="l10.14"> enumerateSearchCache(nsISupports *aKey, nsCOMPtr&lt;nsIAbCard&gt; &amp;aData, void* aClosure)</span>
<a href="#l10.15"></a><span id="l10.15"> {</span>
<a href="#l10.16"></a><span id="l10.16">   nsIMutableArray* array = static_cast&lt;nsIMutableArray*&gt;(aClosure);</span>
<a href="#l10.17"></a><span id="l10.17"> </span>
<a href="#l10.18"></a><span id="l10.18">   array-&gt;AppendElement(aData, PR_FALSE);</span>
<a href="#l10.19"></a><span id="l10.19">   return PL_DHASH_NEXT;</span>
<a href="#l10.20"></a><span id="l10.20"> }</span>
<a href="#l10.21"></a><span id="l10.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbView.cpp</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbView.cpp</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -593,17 +593,17 @@ NS_IMETHODIMP nsAbView::GetCardFromRow(P</span>
<a href="#l11.4"></a><span id="l11.4"> </span>
<a href="#l11.5"></a><span id="l11.5"> typedef struct SortClosure</span>
<a href="#l11.6"></a><span id="l11.6"> {</span>
<a href="#l11.7"></a><span id="l11.7">   const PRUnichar *colID;</span>
<a href="#l11.8"></a><span id="l11.8">   PRInt32 factor;</span>
<a href="#l11.9"></a><span id="l11.9">   nsAbView *abView;</span>
<a href="#l11.10"></a><span id="l11.10"> } SortClosure;</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-static int PR_CALLBACK</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+static int</span>
<a href="#l11.14"></a><span id="l11.14"> inplaceSortCallback(const void *data1, const void *data2, void *privateData)</span>
<a href="#l11.15"></a><span id="l11.15"> {</span>
<a href="#l11.16"></a><span id="l11.16">   AbCard *card1 = (AbCard *)data1;</span>
<a href="#l11.17"></a><span id="l11.17">   AbCard *card2 = (AbCard *)data2;</span>
<a href="#l11.18"></a><span id="l11.18">   </span>
<a href="#l11.19"></a><span id="l11.19">   SortClosure *closure = (SortClosure *) privateData;</span>
<a href="#l11.20"></a><span id="l11.20">   </span>
<a href="#l11.21"></a><span id="l11.21">   PRInt32 sortValue;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/addrbook/src/nsDirPrefs.cpp</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsDirPrefs.cpp</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -714,17 +714,17 @@ static void DIR_DeleteServerList(nsVoidA</span>
<a href="#l12.4"></a><span id="l12.4">     delete wholeList;</span>
<a href="#l12.5"></a><span id="l12.5">   }</span>
<a href="#l12.6"></a><span id="l12.6"> }</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8"> /*****************************************************************************</span>
<a href="#l12.9"></a><span id="l12.9">  * Functions for managing JavaScript prefs for the DIR_Servers </span>
<a href="#l12.10"></a><span id="l12.10">  */</span>
<a href="#l12.11"></a><span id="l12.11"> </span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-PR_STATIC_CALLBACK(int)</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+static int</span>
<a href="#l12.14"></a><span id="l12.14"> comparePrefArrayMembers(const void* aElement1, const void* aElement2, void* aData)</span>
<a href="#l12.15"></a><span id="l12.15"> {</span>
<a href="#l12.16"></a><span id="l12.16">     const char* element1 = *static_cast&lt;const char* const *&gt;(aElement1);</span>
<a href="#l12.17"></a><span id="l12.17">     const char* element2 = *static_cast&lt;const char* const *&gt;(aElement2);</span>
<a href="#l12.18"></a><span id="l12.18">     const PRUint32 offset = *((const PRUint32*)aData);</span>
<a href="#l12.19"></a><span id="l12.19"> </span>
<a href="#l12.20"></a><span id="l12.20">     // begin the comparison at |offset| chars into the string -</span>
<a href="#l12.21"></a><span id="l12.21">     // this avoids comparing the &quot;ldap_2.servers.&quot; portion of every element,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/base/src/nsMsgAccountManager.cpp</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgAccountManager.cpp</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -900,25 +900,25 @@ NS_IMETHODIMP nsMsgAccountManager::GetFo</span>
<a href="#l13.4"></a><span id="l13.4">     NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l13.5"></a><span id="l13.5">     m_msgFolderCache-&gt;Init(cacheFile);</span>
<a href="#l13.6"></a><span id="l13.6">   }</span>
<a href="#l13.7"></a><span id="l13.7"> </span>
<a href="#l13.8"></a><span id="l13.8">   NS_IF_ADDREF(*aFolderCache = m_msgFolderCache);</span>
<a href="#l13.9"></a><span id="l13.9">   return rv;</span>
<a href="#l13.10"></a><span id="l13.10"> }</span>
<a href="#l13.11"></a><span id="l13.11"> </span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+static PLDHashOperator</span>
<a href="#l13.14"></a><span id="l13.14"> hashWriteFolderCache(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure)</span>
<a href="#l13.15"></a><span id="l13.15"> {</span>
<a href="#l13.16"></a><span id="l13.16">   nsIMsgFolderCache *folderCache = (nsIMsgFolderCache *) aClosure;</span>
<a href="#l13.17"></a><span id="l13.17">   aServer-&gt;WriteToFolderCache(folderCache);</span>
<a href="#l13.18"></a><span id="l13.18">   return PL_DHASH_NEXT;</span>
<a href="#l13.19"></a><span id="l13.19"> }</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineplus">+static PLDHashOperator</span>
<a href="#l13.23"></a><span id="l13.23"> hashCleanupOnExit(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure)</span>
<a href="#l13.24"></a><span id="l13.24"> {</span>
<a href="#l13.25"></a><span id="l13.25">   PRBool emptyTrashOnExit = PR_FALSE;</span>
<a href="#l13.26"></a><span id="l13.26">   PRBool cleanupInboxOnExit = PR_FALSE;</span>
<a href="#l13.27"></a><span id="l13.27">   nsresult rv;</span>
<a href="#l13.28"></a><span id="l13.28"> </span>
<a href="#l13.29"></a><span id="l13.29">   if (WeAreOffline())</span>
<a href="#l13.30"></a><span id="l13.30">     return PL_DHASH_STOP;</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineat">@@ -1031,24 +1031,24 @@ hashCleanupOnExit(nsCStringHashKey::KeyT</span>
<a href="#l13.32"></a><span id="l13.32">            }</span>
<a href="#l13.33"></a><span id="l13.33">          }</span>
<a href="#l13.34"></a><span id="l13.34">        }</span>
<a href="#l13.35"></a><span id="l13.35">      }</span>
<a href="#l13.36"></a><span id="l13.36">    }</span>
<a href="#l13.37"></a><span id="l13.37">    return PL_DHASH_NEXT;</span>
<a href="#l13.38"></a><span id="l13.38"> }</span>
<a href="#l13.39"></a><span id="l13.39"> </span>
<a href="#l13.40"></a><span id="l13.40" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineplus">+static PLDHashOperator</span>
<a href="#l13.42"></a><span id="l13.42"> hashCloseCachedConnections(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure)</span>
<a href="#l13.43"></a><span id="l13.43"> {</span>
<a href="#l13.44"></a><span id="l13.44">   aServer-&gt;CloseCachedConnections();</span>
<a href="#l13.45"></a><span id="l13.45">   return PL_DHASH_NEXT;</span>
<a href="#l13.46"></a><span id="l13.46"> }</span>
<a href="#l13.47"></a><span id="l13.47"> </span>
<a href="#l13.48"></a><span id="l13.48" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineplus">+static PLDHashOperator</span>
<a href="#l13.50"></a><span id="l13.50"> hashShutdown(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure)</span>
<a href="#l13.51"></a><span id="l13.51"> {</span>
<a href="#l13.52"></a><span id="l13.52">   aServer-&gt;Shutdown();</span>
<a href="#l13.53"></a><span id="l13.53">   return PL_DHASH_NEXT;</span>
<a href="#l13.54"></a><span id="l13.54"> }</span>
<a href="#l13.55"></a><span id="l13.55"> </span>
<a href="#l13.56"></a><span id="l13.56"> /* readonly attribute nsISupportsArray accounts; */</span>
<a href="#l13.57"></a><span id="l13.57"> NS_IMETHODIMP</span>
<a href="#l13.58"></a><span id="l13.58" class="difflineat">@@ -1140,17 +1140,17 @@ nsMsgAccountManager::getIdentitiesToArra</span>
<a href="#l13.59"></a><span id="l13.59">   if (NS_FAILED(rv))</span>
<a href="#l13.60"></a><span id="l13.60">     return PR_TRUE;</span>
<a href="#l13.61"></a><span id="l13.61"> </span>
<a href="#l13.62"></a><span id="l13.62">   identities-&gt;EnumerateForwards(addIdentityIfUnique, aData);</span>
<a href="#l13.63"></a><span id="l13.63"> </span>
<a href="#l13.64"></a><span id="l13.64">   return PR_TRUE;</span>
<a href="#l13.65"></a><span id="l13.65"> }</span>
<a href="#l13.66"></a><span id="l13.66"> </span>
<a href="#l13.67"></a><span id="l13.67" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l13.68"></a><span id="l13.68" class="difflineplus">+static PLDHashOperator</span>
<a href="#l13.69"></a><span id="l13.69"> hashGetServersToArray(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure)</span>
<a href="#l13.70"></a><span id="l13.70"> {</span>
<a href="#l13.71"></a><span id="l13.71">   nsISupportsArray *array = (nsISupportsArray*) aClosure;</span>
<a href="#l13.72"></a><span id="l13.72">   nsCOMPtr&lt;nsISupports&gt; serverSupports = do_QueryInterface(aServer);</span>
<a href="#l13.73"></a><span id="l13.73">   array-&gt;AppendElement(aServer);</span>
<a href="#l13.74"></a><span id="l13.74">   return PL_DHASH_NEXT;</span>
<a href="#l13.75"></a><span id="l13.75"> }</span>
<a href="#l13.76"></a><span id="l13.76"> </span>
<a href="#l13.77"></a><span id="l13.77" class="difflineat">@@ -2002,29 +2002,29 @@ nsMsgAccountManager::findServersForIdent</span>
<a href="#l13.78"></a><span id="l13.78">           break;</span>
<a href="#l13.79"></a><span id="l13.79">         }</span>
<a href="#l13.80"></a><span id="l13.80">       }</span>
<a href="#l13.81"></a><span id="l13.81">     }</span>
<a href="#l13.82"></a><span id="l13.82">   }</span>
<a href="#l13.83"></a><span id="l13.83">   return PR_TRUE;</span>
<a href="#l13.84"></a><span id="l13.84"> }</span>
<a href="#l13.85"></a><span id="l13.85"> </span>
<a href="#l13.86"></a><span id="l13.86" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l13.87"></a><span id="l13.87" class="difflineplus">+static PLDHashOperator</span>
<a href="#l13.88"></a><span id="l13.88"> hashAddListener(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure)</span>
<a href="#l13.89"></a><span id="l13.89"> {</span>
<a href="#l13.90"></a><span id="l13.90">   nsIFolderListener* listener = (nsIFolderListener *) aClosure;</span>
<a href="#l13.91"></a><span id="l13.91">   nsresult rv;</span>
<a href="#l13.92"></a><span id="l13.92">   nsCOMPtr&lt;nsIMsgFolder&gt; rootFolder;</span>
<a href="#l13.93"></a><span id="l13.93">   rv = aServer-&gt;GetRootFolder(getter_AddRefs(rootFolder));</span>
<a href="#l13.94"></a><span id="l13.94">   NS_ENSURE_SUCCESS(rv, PL_DHASH_NEXT);</span>
<a href="#l13.95"></a><span id="l13.95">   rv = rootFolder-&gt;AddFolderListener(listener);</span>
<a href="#l13.96"></a><span id="l13.96">   return PL_DHASH_NEXT;</span>
<a href="#l13.97"></a><span id="l13.97"> }</span>
<a href="#l13.98"></a><span id="l13.98"> </span>
<a href="#l13.99"></a><span id="l13.99" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l13.100"></a><span id="l13.100" class="difflineplus">+static PLDHashOperator</span>
<a href="#l13.101"></a><span id="l13.101"> hashRemoveListener(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure)</span>
<a href="#l13.102"></a><span id="l13.102"> {</span>
<a href="#l13.103"></a><span id="l13.103">   nsIFolderListener* listener = (nsIFolderListener *) aClosure;</span>
<a href="#l13.104"></a><span id="l13.104"> </span>
<a href="#l13.105"></a><span id="l13.105">   nsresult rv;</span>
<a href="#l13.106"></a><span id="l13.106">   nsCOMPtr&lt;nsIMsgFolder&gt; rootFolder;</span>
<a href="#l13.107"></a><span id="l13.107">   rv = aServer-&gt;GetRootFolder(getter_AddRefs(rootFolder));</span>
<a href="#l13.108"></a><span id="l13.108">   NS_ENSURE_SUCCESS(rv, PL_DHASH_NEXT);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/base/src/nsMsgAccountManager.h</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgAccountManager.h</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -134,17 +134,17 @@ private:</span>
<a href="#l14.4"></a><span id="l14.4"> </span>
<a href="#l14.5"></a><span id="l14.5">   // sets the pref for the default server</span>
<a href="#l14.6"></a><span id="l14.6">   nsresult setDefaultAccountPref(nsIMsgAccount *aDefaultAccount);</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8">   // fires notifications to the appropriate root folders</span>
<a href="#l14.9"></a><span id="l14.9">   nsresult notifyDefaultServerChange(nsIMsgAccount *aOldAccount,</span>
<a href="#l14.10"></a><span id="l14.10">                                      nsIMsgAccount *aNewAccount);</span>
<a href="#l14.11"></a><span id="l14.11">     </span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-  PR_STATIC_CALLBACK(PLDHashOperator) hashUnloadServer(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+  static PLDHashOperator hashUnloadServer(nsCStringHashKey::KeyType aKey, nsCOMPtr&lt;nsIMsgIncomingServer&gt;&amp; aServer, void* aClosure);</span>
<a href="#l14.14"></a><span id="l14.14"> </span>
<a href="#l14.15"></a><span id="l14.15">   //</span>
<a href="#l14.16"></a><span id="l14.16">   // account enumerators</span>
<a href="#l14.17"></a><span id="l14.17">   // (&quot;element&quot; is always an account)</span>
<a href="#l14.18"></a><span id="l14.18">   //</span>
<a href="#l14.19"></a><span id="l14.19"> </span>
<a href="#l14.20"></a><span id="l14.20">   // find the identities that correspond to the given server</span>
<a href="#l14.21"></a><span id="l14.21">   static PRBool findIdentitiesForServer(nsISupports *element, void *aData);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mailnews/base/src/nsMsgDBView.cpp</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgDBView.cpp</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -2128,17 +2128,17 @@ NS_IMETHODIMP nsMsgDBView::GetSuppressMs</span>
<a href="#l15.4"></a><span id="l15.4"> }</span>
<a href="#l15.5"></a><span id="l15.5"> </span>
<a href="#l15.6"></a><span id="l15.6"> NS_IMETHODIMP nsMsgDBView::GetUsingLines(PRBool * aUsingLines)</span>
<a href="#l15.7"></a><span id="l15.7"> {</span>
<a href="#l15.8"></a><span id="l15.8">   *aUsingLines = mShowSizeInLines;</span>
<a href="#l15.9"></a><span id="l15.9">   return NS_OK;</span>
<a href="#l15.10"></a><span id="l15.10"> }</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-int PR_CALLBACK CompareViewIndices (const void *v1, const void *v2, void *)</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+int CompareViewIndices (const void *v1, const void *v2, void *)</span>
<a href="#l15.14"></a><span id="l15.14"> {</span>
<a href="#l15.15"></a><span id="l15.15">   nsMsgViewIndex i1 = *(nsMsgViewIndex*) v1;</span>
<a href="#l15.16"></a><span id="l15.16">   nsMsgViewIndex i2 = *(nsMsgViewIndex*) v2;</span>
<a href="#l15.17"></a><span id="l15.17">   return i1 - i2;</span>
<a href="#l15.18"></a><span id="l15.18"> }</span>
<a href="#l15.19"></a><span id="l15.19"> </span>
<a href="#l15.20"></a><span id="l15.20"> NS_IMETHODIMP nsMsgDBView::GetIndicesForSelection(PRUint32 *length, nsMsgViewIndex **indices)</span>
<a href="#l15.21"></a><span id="l15.21"> {</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineat">@@ -3218,17 +3218,17 @@ void nsMsgDBView::ReverseSort()</span>
<a href="#l15.23"></a><span id="l15.23">             nsIMsgFolder *topFolder = folders-&gt;ObjectAt(topIndex);</span>
<a href="#l15.24"></a><span id="l15.24">             folders-&gt;ReplaceObjectAt(topFolder, bottomIndex);</span>
<a href="#l15.25"></a><span id="l15.25">             folders-&gt;ReplaceObjectAt(bottomFolder, topIndex);</span>
<a href="#l15.26"></a><span id="l15.26">         }</span>
<a href="#l15.27"></a><span id="l15.27">         // no need to swap elements in m_levels; since we only call</span>
<a href="#l15.28"></a><span id="l15.28">         // ReverseSort in non-threaded mode, m_levels are all the same.</span>
<a href="#l15.29"></a><span id="l15.29">     }</span>
<a href="#l15.30"></a><span id="l15.30"> }</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-int PR_CALLBACK</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineplus">+int</span>
<a href="#l15.33"></a><span id="l15.33"> nsMsgDBView::FnSortIdKey(const void *pItem1, const void *pItem2, void *privateData)</span>
<a href="#l15.34"></a><span id="l15.34"> {</span>
<a href="#l15.35"></a><span id="l15.35">     PRInt32 retVal = 0;</span>
<a href="#l15.36"></a><span id="l15.36">     nsresult rv;</span>
<a href="#l15.37"></a><span id="l15.37">     viewSortInfo* sortInfo = (viewSortInfo *) privateData;</span>
<a href="#l15.38"></a><span id="l15.38"> </span>
<a href="#l15.39"></a><span id="l15.39">     IdKey** p1 = (IdKey**)pItem1;</span>
<a href="#l15.40"></a><span id="l15.40">     IdKey** p2 = (IdKey**)pItem2;</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineat">@@ -3243,17 +3243,17 @@ nsMsgDBView::FnSortIdKey(const void *pIt</span>
<a href="#l15.42"></a><span id="l15.42">     if (sortInfo-&gt;view-&gt;m_secondarySort == nsMsgViewSortType::byId)</span>
<a href="#l15.43"></a><span id="l15.43">       return (sortInfo-&gt;view-&gt;m_secondarySortOrder == nsMsgViewSortOrder::ascending &amp;&amp;</span>
<a href="#l15.44"></a><span id="l15.44">               (*p1)-&gt;id &gt;= (*p2)-&gt;id) ? 1 : -1;</span>
<a href="#l15.45"></a><span id="l15.45">     else</span>
<a href="#l15.46"></a><span id="l15.46">       return sortInfo-&gt;view-&gt;SecondarySort((*p1)-&gt;id, (*p1)-&gt;folder, (*p2)-&gt;id, (*p2)-&gt;folder, sortInfo);</span>
<a href="#l15.47"></a><span id="l15.47">     // here we'd use the secondary sort</span>
<a href="#l15.48"></a><span id="l15.48"> }</span>
<a href="#l15.49"></a><span id="l15.49"> </span>
<a href="#l15.50"></a><span id="l15.50" class="difflineminus">-int PR_CALLBACK</span>
<a href="#l15.51"></a><span id="l15.51" class="difflineplus">+int</span>
<a href="#l15.52"></a><span id="l15.52"> nsMsgDBView::FnSortIdKeyPtr(const void *pItem1, const void *pItem2, void *privateData)</span>
<a href="#l15.53"></a><span id="l15.53"> {</span>
<a href="#l15.54"></a><span id="l15.54">   PRInt32 retVal = 0;</span>
<a href="#l15.55"></a><span id="l15.55">   nsresult rv;</span>
<a href="#l15.56"></a><span id="l15.56"> </span>
<a href="#l15.57"></a><span id="l15.57">   IdKeyPtr** p1 = (IdKeyPtr**)pItem1;</span>
<a href="#l15.58"></a><span id="l15.58">   IdKeyPtr** p2 = (IdKeyPtr**)pItem2;</span>
<a href="#l15.59"></a><span id="l15.59">   viewSortInfo* sortInfo = (viewSortInfo *) privateData;</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineat">@@ -3268,17 +3268,17 @@ nsMsgDBView::FnSortIdKeyPtr(const void *</span>
<a href="#l15.61"></a><span id="l15.61"> </span>
<a href="#l15.62"></a><span id="l15.62">   if (sortInfo-&gt;view-&gt;m_secondarySort == nsMsgViewSortType::byId)</span>
<a href="#l15.63"></a><span id="l15.63">     return (sortInfo-&gt;view-&gt;m_secondarySortOrder == nsMsgViewSortOrder::ascending &amp;&amp;</span>
<a href="#l15.64"></a><span id="l15.64">             (*p1)-&gt;id &gt;= (*p2)-&gt;id) ? 1 : -1;</span>
<a href="#l15.65"></a><span id="l15.65">   else</span>
<a href="#l15.66"></a><span id="l15.66">     return sortInfo-&gt;view-&gt;SecondarySort((*p1)-&gt;id, (*p1)-&gt;folder, (*p2)-&gt;id, (*p2)-&gt;folder, sortInfo);</span>
<a href="#l15.67"></a><span id="l15.67"> }</span>
<a href="#l15.68"></a><span id="l15.68"> </span>
<a href="#l15.69"></a><span id="l15.69" class="difflineminus">-int PR_CALLBACK</span>
<a href="#l15.70"></a><span id="l15.70" class="difflineplus">+int</span>
<a href="#l15.71"></a><span id="l15.71"> nsMsgDBView::FnSortIdUint32(const void *pItem1, const void *pItem2, void *privateData)</span>
<a href="#l15.72"></a><span id="l15.72"> {</span>
<a href="#l15.73"></a><span id="l15.73">   IdUint32** p1 = (IdUint32**)pItem1;</span>
<a href="#l15.74"></a><span id="l15.74">   IdUint32** p2 = (IdUint32**)pItem2;</span>
<a href="#l15.75"></a><span id="l15.75">   viewSortInfo* sortInfo = (viewSortInfo *) privateData;</span>
<a href="#l15.76"></a><span id="l15.76"> </span>
<a href="#l15.77"></a><span id="l15.77">   if ((*p1)-&gt;dword &gt; (*p2)-&gt;dword)</span>
<a href="#l15.78"></a><span id="l15.78">     return (sortInfo-&gt;ascendingSort) ? 1 : -1;</span>
<a href="#l15.79"></a><span id="l15.79" class="difflineat">@@ -3714,17 +3714,17 @@ PRInt32  nsMsgDBView::SecondarySort(nsMs</span>
<a href="#l15.80"></a><span id="l15.80"> </span>
<a href="#l15.81"></a><span id="l15.81">   PRUint16  maxLen;</span>
<a href="#l15.82"></a><span id="l15.82">   eFieldType fieldType;</span>
<a href="#l15.83"></a><span id="l15.83">   nsMsgViewSortTypeValue sortType = comparisonContext-&gt;view-&gt;m_secondarySort;</span>
<a href="#l15.84"></a><span id="l15.84">   nsMsgViewSortOrderValue sortOrder = comparisonContext-&gt;view-&gt;m_secondarySortOrder;</span>
<a href="#l15.85"></a><span id="l15.85">   rv = GetFieldTypeAndLenForSort(sortType, &amp;maxLen, &amp;fieldType);</span>
<a href="#l15.86"></a><span id="l15.86">   const void *pValue1 = &amp;EntryInfo1, *pValue2 = &amp;EntryInfo2;</span>
<a href="#l15.87"></a><span id="l15.87">   </span>
<a href="#l15.88"></a><span id="l15.88" class="difflineminus">-  int (* PR_CALLBACK comparisonFun) (const void *pItem1, const void *pItem2, void *privateData) = nsnull;</span>
<a href="#l15.89"></a><span id="l15.89" class="difflineplus">+  int (* comparisonFun) (const void *pItem1, const void *pItem2, void *privateData) = nsnull;</span>
<a href="#l15.90"></a><span id="l15.90">   int retStatus = 0;</span>
<a href="#l15.91"></a><span id="l15.91">   hdr1-&gt;GetMessageKey(&amp;EntryInfo1.id);</span>
<a href="#l15.92"></a><span id="l15.92">   hdr2-&gt;GetMessageKey(&amp;EntryInfo2.id);</span>
<a href="#l15.93"></a><span id="l15.93">   </span>
<a href="#l15.94"></a><span id="l15.94">   //check if a custom column handler exists. If it does then grab it and pass it in</span>
<a href="#l15.95"></a><span id="l15.95">   //to either GetCollationKey or GetLongField - we need the custom column handler for</span>
<a href="#l15.96"></a><span id="l15.96">   // the previous sort, if any.</span>
<a href="#l15.97"></a><span id="l15.97">   nsIMsgCustomColumnHandler* colHandler = nsnull; // GetCurColumnHandlerFromDBInfo();</span>
<a href="#l15.98"></a><span id="l15.98" class="difflineat">@@ -4577,17 +4577,17 @@ nsMsgViewIndex nsMsgDBView::GetInsertInd</span>
<a href="#l15.99"></a><span id="l15.99">   EntryInfo2.key = nsnull;</span>
<a href="#l15.100"></a><span id="l15.100"> </span>
<a href="#l15.101"></a><span id="l15.101">   nsresult rv;</span>
<a href="#l15.102"></a><span id="l15.102">   PRUint16  maxLen;</span>
<a href="#l15.103"></a><span id="l15.103">   eFieldType fieldType;</span>
<a href="#l15.104"></a><span id="l15.104">   rv = GetFieldTypeAndLenForSort(sortType, &amp;maxLen, &amp;fieldType);</span>
<a href="#l15.105"></a><span id="l15.105">   const void *pValue1 = &amp;EntryInfo1, *pValue2 = &amp;EntryInfo2;</span>
<a href="#l15.106"></a><span id="l15.106"> </span>
<a href="#l15.107"></a><span id="l15.107" class="difflineminus">-  int (* PR_CALLBACK comparisonFun) (const void *pItem1, const void *pItem2, void *privateData) = nsnull;</span>
<a href="#l15.108"></a><span id="l15.108" class="difflineplus">+  int (* comparisonFun) (const void *pItem1, const void *pItem2, void *privateData) = nsnull;</span>
<a href="#l15.109"></a><span id="l15.109">   int retStatus = 0;</span>
<a href="#l15.110"></a><span id="l15.110">   msgHdr-&gt;GetMessageKey(&amp;EntryInfo1.id);</span>
<a href="#l15.111"></a><span id="l15.111">   msgHdr-&gt;GetFolder(&amp;EntryInfo1.folder);</span>
<a href="#l15.112"></a><span id="l15.112">   EntryInfo1.folder-&gt;Release();</span>
<a href="#l15.113"></a><span id="l15.113">   //check if a custom column handler exists. If it does then grab it and pass it in</span>
<a href="#l15.114"></a><span id="l15.114">   //to either GetCollationKey or GetLongField</span>
<a href="#l15.115"></a><span id="l15.115">   nsIMsgCustomColumnHandler* colHandler = GetCurColumnHandlerFromDBInfo();</span>
<a href="#l15.116"></a><span id="l15.116"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mailnews/base/src/nsMsgDBView.h</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgDBView.h</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -338,19 +338,19 @@ protected:</span>
<a href="#l16.4"></a><span id="l16.4">   nsMsgViewIndex	GetThreadFromMsgIndex(nsMsgViewIndex index, nsIMsgThread **threadHdr);</span>
<a href="#l16.5"></a><span id="l16.5"> </span>
<a href="#l16.6"></a><span id="l16.6">   // for sorting</span>
<a href="#l16.7"></a><span id="l16.7">   nsresult GetFieldTypeAndLenForSort(nsMsgViewSortTypeValue sortType, PRUint16 *pMaxLen, eFieldType *pFieldType);</span>
<a href="#l16.8"></a><span id="l16.8">   nsresult GetCollationKey(nsIMsgDBHdr *msgHdr, nsMsgViewSortTypeValue sortType, PRUint8 **result, </span>
<a href="#l16.9"></a><span id="l16.9">                           PRUint32 *len, nsIMsgCustomColumnHandler* colHandler = nsnull);</span>
<a href="#l16.10"></a><span id="l16.10">   nsresult GetLongField(nsIMsgDBHdr *msgHdr, nsMsgViewSortTypeValue sortType, PRUint32 *result, </span>
<a href="#l16.11"></a><span id="l16.11">                           nsIMsgCustomColumnHandler* colHandler = nsnull);</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-  static int PR_CALLBACK FnSortIdKey(const void *pItem1, const void *pItem2, void *privateData);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-  static int PR_CALLBACK FnSortIdKeyPtr(const void *pItem1, const void *pItem2, void *privateData);</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineminus">-  static int PR_CALLBACK FnSortIdUint32(const void *pItem1, const void *pItem2, void *privateData);</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+  static int FnSortIdKey(const void *pItem1, const void *pItem2, void *privateData);</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+  static int FnSortIdKeyPtr(const void *pItem1, const void *pItem2, void *privateData);</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineplus">+  static int FnSortIdUint32(const void *pItem1, const void *pItem2, void *privateData);</span>
<a href="#l16.18"></a><span id="l16.18"> </span>
<a href="#l16.19"></a><span id="l16.19">   nsresult GetStatusSortValue(nsIMsgDBHdr *msgHdr, PRUint32 *result);</span>
<a href="#l16.20"></a><span id="l16.20">   nsresult GetLocationCollationKey(nsIMsgDBHdr *msgHdr, PRUint8 **result, PRUint32 *len);</span>
<a href="#l16.21"></a><span id="l16.21">   void PushSort(const MsgViewSortColumnInfo &amp;newSort);</span>
<a href="#l16.22"></a><span id="l16.22">   nsresult EncodeColumnSort(nsString &amp;columnSortString);</span>
<a href="#l16.23"></a><span id="l16.23">   nsresult DecodeColumnSort(nsString &amp;columnSortString);</span>
<a href="#l16.24"></a><span id="l16.24">   // for view navigation</span>
<a href="#l16.25"></a><span id="l16.25">   nsresult NavigateFromPos(nsMsgNavigationTypeValue motion, nsMsgViewIndex startIndex, nsMsgKey *pResultKey, </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mailnews/base/src/nsMsgTagService.cpp</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgTagService.cpp</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -55,24 +55,24 @@</span>
<a href="#l17.4"></a><span id="l17.4"> #define TAG_PREF_SUFFIX_ORDINAL &quot;.ordinal&quot;</span>
<a href="#l17.5"></a><span id="l17.5"> #define TAG_CMP_LESSER          -1</span>
<a href="#l17.6"></a><span id="l17.6"> #define TAG_CMP_EQUAL           0</span>
<a href="#l17.7"></a><span id="l17.7"> #define TAG_CMP_GREATER         1</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9"> static PRBool gMigratingKeys = PR_FALSE;</span>
<a href="#l17.10"></a><span id="l17.10"> </span>
<a href="#l17.11"></a><span id="l17.11"> // comparison functions for nsQuickSort</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-PR_STATIC_CALLBACK(int)</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+static int</span>
<a href="#l17.14"></a><span id="l17.14"> CompareMsgTagKeys(const void* aTagPref1, const void* aTagPref2, void* aData)</span>
<a href="#l17.15"></a><span id="l17.15"> {</span>
<a href="#l17.16"></a><span id="l17.16">   return strcmp(*static_cast&lt;const char* const*&gt;(aTagPref1),</span>
<a href="#l17.17"></a><span id="l17.17">                 *static_cast&lt;const char* const*&gt;(aTagPref2));</span>
<a href="#l17.18"></a><span id="l17.18"> }</span>
<a href="#l17.19"></a><span id="l17.19"> </span>
<a href="#l17.20"></a><span id="l17.20" class="difflineminus">-PR_STATIC_CALLBACK(int)</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineplus">+static int</span>
<a href="#l17.22"></a><span id="l17.22"> CompareMsgTags(const void* aTagPref1, const void* aTagPref2, void* aData)</span>
<a href="#l17.23"></a><span id="l17.23"> {</span>
<a href="#l17.24"></a><span id="l17.24">   // Sort nsMsgTag objects by ascending order, using their ordinal or key.</span>
<a href="#l17.25"></a><span id="l17.25">   // The &quot;smallest&quot; value will be first in the sorted array,</span>
<a href="#l17.26"></a><span id="l17.26">   // thus being the most important element.</span>
<a href="#l17.27"></a><span id="l17.27">   nsMsgTag *element1 = *(nsMsgTag**) aTagPref1;</span>
<a href="#l17.28"></a><span id="l17.28">   nsMsgTag *element2 = *(nsMsgTag**) aTagPref2;</span>
<a href="#l17.29"></a><span id="l17.29"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mailnews/base/util/nsMsgTxn.cpp</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mailnews/base/util/nsMsgTxn.cpp</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -132,17 +132,17 @@ NS_IMETHODIMP nsSimpleProperty::GetName(</span>
<a href="#l18.4"></a><span id="l18.4"> NS_IMETHODIMP nsSimpleProperty::GetValue(nsIVariant* *aValue)</span>
<a href="#l18.5"></a><span id="l18.5"> {</span>
<a href="#l18.6"></a><span id="l18.6">   NS_IF_ADDREF(*aValue = mValue);</span>
<a href="#l18.7"></a><span id="l18.7">   return NS_OK;</span>
<a href="#l18.8"></a><span id="l18.8"> }</span>
<a href="#l18.9"></a><span id="l18.9"> </span>
<a href="#l18.10"></a><span id="l18.10"> // end nsSimpleProperty</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-PR_STATIC_CALLBACK(PLDHashOperator)</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+static PLDHashOperator</span>
<a href="#l18.14"></a><span id="l18.14"> PropertyHashToArrayFunc (const nsAString &amp;aKey,</span>
<a href="#l18.15"></a><span id="l18.15">                          nsIVariant* aData,</span>
<a href="#l18.16"></a><span id="l18.16">                          void *userArg)</span>
<a href="#l18.17"></a><span id="l18.17"> {</span>
<a href="#l18.18"></a><span id="l18.18">   nsCOMArray&lt;nsIProperty&gt; *propertyArray =</span>
<a href="#l18.19"></a><span id="l18.19">       static_cast&lt;nsCOMArray&lt;nsIProperty&gt; *&gt;(userArg);</span>
<a href="#l18.20"></a><span id="l18.20">   nsSimpleProperty *sprop = new nsSimpleProperty(aKey, aData);</span>
<a href="#l18.21"></a><span id="l18.21">   propertyArray-&gt;AppendObject(sprop);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mailnews/build/nsMailModule.cpp</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mailnews/build/nsMailModule.cpp</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1267,15 +1267,15 @@ static const nsModuleComponentInfo gComp</span>
<a href="#l19.4"></a><span id="l19.4">       NS_ABMANAGERSTARTUPHANDLER_CONTRACTID, nsAbManagerConstructor },</span>
<a href="#l19.5"></a><span id="l19.5">     { &quot;Compose Service&quot;, NS_MSGCOMPOSESERVICE_CID,</span>
<a href="#l19.6"></a><span id="l19.6">       NS_MSGCOMPOSESTARTUPHANDLER_CONTRACTID, nsMsgComposeServiceConstructor },</span>
<a href="#l19.7"></a><span id="l19.7">     { &quot;NNTP Service&quot;, NS_NNTPSERVICE_CID,</span>
<a href="#l19.8"></a><span id="l19.8">       NS_NEWSSTARTUPHANDLER_CONTRACTID, nsNntpServiceConstructor },</span>
<a href="#l19.9"></a><span id="l19.9"> #endif</span>
<a href="#l19.10"></a><span id="l19.10"> };</span>
<a href="#l19.11"></a><span id="l19.11"> </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-PR_STATIC_CALLBACK(void) nsMailModuleDtor(nsIModule* self)</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+static void nsMailModuleDtor(nsIModule* self)</span>
<a href="#l19.14"></a><span id="l19.14"> {</span>
<a href="#l19.15"></a><span id="l19.15">     nsAddrDatabase::CleanupCache();</span>
<a href="#l19.16"></a><span id="l19.16">     nsMsgDatabase::CleanupCache();</span>
<a href="#l19.17"></a><span id="l19.17"> }</span>
<a href="#l19.18"></a><span id="l19.18"> </span>
<a href="#l19.19"></a><span id="l19.19"> NS_IMPL_NSGETMODULE_WITH_DTOR(nsMailModule, gComponents, nsMailModuleDtor)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mailnews/compose/src/nsMsgSend.h</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mailnews/compose/src/nsMsgSend.h</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -423,12 +423,12 @@ private:</span>
<a href="#l20.4"></a><span id="l20.4">   nsCString                   mSmtpPassword;            // store the smtp Password use during a send</span>
<a href="#l20.5"></a><span id="l20.5"> };</span>
<a href="#l20.6"></a><span id="l20.6"> </span>
<a href="#l20.7"></a><span id="l20.7"> //</span>
<a href="#l20.8"></a><span id="l20.8"> // These C routines should only be used by the nsMsgSendPart class.</span>
<a href="#l20.9"></a><span id="l20.9"> //</span>
<a href="#l20.10"></a><span id="l20.10"> extern nsresult mime_write_message_body(nsIMsgSend *state, const char *buf, PRInt32 size);</span>
<a href="#l20.11"></a><span id="l20.11"> extern char   *mime_get_stream_write_buffer(void);</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-extern nsresult PR_CALLBACK mime_encoder_output_fn (const char *buf, PRInt32 size, void *closure);</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+extern nsresult mime_encoder_output_fn (const char *buf, PRInt32 size, void *closure);</span>
<a href="#l20.14"></a><span id="l20.14"> extern PRBool UseQuotedPrintable(void);</span>
<a href="#l20.15"></a><span id="l20.15"> </span>
<a href="#l20.16"></a><span id="l20.16"> #endif /*  __MSGSEND_H__ */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mailnews/db/msgdb/build/nsMsgDBFactory.cpp</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mailnews/db/msgdb/build/nsMsgDBFactory.cpp</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -61,17 +61,17 @@ static const nsModuleComponentInfo msgDB</span>
<a href="#l21.4"></a><span id="l21.4">     { &quot;Imap DB&quot;, NS_IMAPDB_CID, NS_IMAPDB_CONTRACTID, nsImapMailDatabaseConstructor },</span>
<a href="#l21.5"></a><span id="l21.5">     { &quot;Msg Retention Settings&quot;, NS_MSG_RETENTIONSETTINGS_CID,</span>
<a href="#l21.6"></a><span id="l21.6">       NS_MSG_RETENTIONSETTINGS_CONTRACTID, nsMsgRetentionSettingsConstructor },</span>
<a href="#l21.7"></a><span id="l21.7">     { &quot;Msg Download Settings&quot;, NS_MSG_DOWNLOADSETTINGS_CID,</span>
<a href="#l21.8"></a><span id="l21.8">       NS_MSG_DOWNLOADSETTINGS_CONTRACTID, nsMsgDownloadSettingsConstructor },</span>
<a href="#l21.9"></a><span id="l21.9">    { &quot;Msg DB Service&quot;, NS_MSGDB_SERVICE_CID, NS_MSGDB_SERVICE_CONTRACTID, nsMsgDBServiceConstructor }</span>
<a href="#l21.10"></a><span id="l21.10"> };</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-PR_STATIC_CALLBACK(void)</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+static void</span>
<a href="#l21.14"></a><span id="l21.14"> msgDBModuleDtor(nsIModule* self)</span>
<a href="#l21.15"></a><span id="l21.15"> {</span>
<a href="#l21.16"></a><span id="l21.16">     nsMsgDatabase::CleanupCache();</span>
<a href="#l21.17"></a><span id="l21.17"> }</span>
<a href="#l21.18"></a><span id="l21.18"> </span>
<a href="#l21.19"></a><span id="l21.19"> NS_IMPL_NSGETMODULE_WITH_DTOR(nsMsgDBModule, msgDB_components, msgDBModuleDtor)</span>
<a href="#l21.20"></a><span id="l21.20"> </span>
<a href="#l21.21"></a><span id="l21.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mailnews/db/msgdb/public/nsMsgDatabase.h</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mailnews/db/msgdb/public/nsMsgDatabase.h</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -294,23 +294,23 @@ protected:</span>
<a href="#l22.4"></a><span id="l22.4">   nsresult      ClearUseHdrCache();</span>
<a href="#l22.5"></a><span id="l22.5">   nsresult      RemoveHdrFromUseCache(nsIMsgDBHdr *hdr, nsMsgKey key);</span>
<a href="#l22.6"></a><span id="l22.6">   </span>
<a href="#l22.7"></a><span id="l22.7">   mdb_pos       FindInsertIndexInSortedTable(nsIMdbTable *table, mdb_id idToInsert);</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9">   void          ClearCachedObjects(PRBool dbGoingAway);</span>
<a href="#l22.10"></a><span id="l22.10">   // all instantiated headers, but doesn't hold refs. </span>
<a href="#l22.11"></a><span id="l22.11">   PLDHashTable  *m_headersInUse;</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-  static PLDHashNumber PR_CALLBACK HashKey(PLDHashTable* aTable, const void* aKey);</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineminus">-  static PRBool PR_CALLBACK MatchEntry(PLDHashTable* aTable, const PLDHashEntryHdr* aEntry, const void* aKey);</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineminus">-  static void PR_CALLBACK MoveEntry(PLDHashTable* aTable, const PLDHashEntryHdr* aFrom, PLDHashEntryHdr* aTo);</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineminus">-  static void PR_CALLBACK ClearEntry(PLDHashTable* aTable, PLDHashEntryHdr* aEntry);</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineminus">-  static PLDHashOperator PR_CALLBACK HeaderEnumerator (PLDHashTable *table, PLDHashEntryHdr *hdr,</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineplus">+  static PLDHashNumber HashKey(PLDHashTable* aTable, const void* aKey);</span>
<a href="#l22.18"></a><span id="l22.18" class="difflineplus">+  static PRBool MatchEntry(PLDHashTable* aTable, const PLDHashEntryHdr* aEntry, const void* aKey);</span>
<a href="#l22.19"></a><span id="l22.19" class="difflineplus">+  static void MoveEntry(PLDHashTable* aTable, const PLDHashEntryHdr* aFrom, PLDHashEntryHdr* aTo);</span>
<a href="#l22.20"></a><span id="l22.20" class="difflineplus">+  static void ClearEntry(PLDHashTable* aTable, PLDHashEntryHdr* aEntry);</span>
<a href="#l22.21"></a><span id="l22.21" class="difflineplus">+  static PLDHashOperator HeaderEnumerator (PLDHashTable *table, PLDHashEntryHdr *hdr,</span>
<a href="#l22.22"></a><span id="l22.22">                                PRUint32 number, void *arg);</span>
<a href="#l22.23"></a><span id="l22.23" class="difflineminus">-  static PLDHashOperator PR_CALLBACK ClearHeaderEnumerator (PLDHashTable *table, PLDHashEntryHdr *hdr,</span>
<a href="#l22.24"></a><span id="l22.24" class="difflineplus">+  static PLDHashOperator ClearHeaderEnumerator (PLDHashTable *table, PLDHashEntryHdr *hdr,</span>
<a href="#l22.25"></a><span id="l22.25">                                PRUint32 number, void *arg);</span>
<a href="#l22.26"></a><span id="l22.26">   static PLDHashTableOps gMsgDBHashTableOps;</span>
<a href="#l22.27"></a><span id="l22.27">   struct MsgHdrHashElement {</span>
<a href="#l22.28"></a><span id="l22.28">     PLDHashEntryHdr mHeader;</span>
<a href="#l22.29"></a><span id="l22.29">     nsMsgKey       mKey;</span>
<a href="#l22.30"></a><span id="l22.30">     nsIMsgDBHdr     *mHdr;</span>
<a href="#l22.31"></a><span id="l22.31">   };</span>
<a href="#l22.32"></a><span id="l22.32">   PLDHashTable  *m_cachedHeaders;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mailnews/db/msgdb/src/nsMsgDatabase.cpp</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mailnews/db/msgdb/src/nsMsgDatabase.cpp</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -307,26 +307,26 @@ nsresult nsMsgDatabase::AddHdrToCache(ns</span>
<a href="#l23.4"></a><span id="l23.4">       NS_ADDREF(hdr);     // make the cache hold onto the header</span>
<a href="#l23.5"></a><span id="l23.5">       return NS_OK;</span>
<a href="#l23.6"></a><span id="l23.6">     }</span>
<a href="#l23.7"></a><span id="l23.7">   }</span>
<a href="#l23.8"></a><span id="l23.8">   return NS_ERROR_FAILURE;</span>
<a href="#l23.9"></a><span id="l23.9"> }</span>
<a href="#l23.10"></a><span id="l23.10"> </span>
<a href="#l23.11"></a><span id="l23.11"> </span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-/* static */PLDHashOperator PR_CALLBACK nsMsgDatabase::HeaderEnumerator (PLDHashTable *table, PLDHashEntryHdr *hdr,</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+/* static */PLDHashOperator nsMsgDatabase::HeaderEnumerator (PLDHashTable *table, PLDHashEntryHdr *hdr,</span>
<a href="#l23.14"></a><span id="l23.14">                                PRUint32 number, void *arg)</span>
<a href="#l23.15"></a><span id="l23.15"> {</span>
<a href="#l23.16"></a><span id="l23.16"> </span>
<a href="#l23.17"></a><span id="l23.17">   MsgHdrHashElement* element = reinterpret_cast&lt;MsgHdrHashElement*&gt;(hdr);</span>
<a href="#l23.18"></a><span id="l23.18">   NS_IF_RELEASE(element-&gt;mHdr);</span>
<a href="#l23.19"></a><span id="l23.19">   return PL_DHASH_NEXT;</span>
<a href="#l23.20"></a><span id="l23.20"> }</span>
<a href="#l23.21"></a><span id="l23.21"> </span>
<a href="#l23.22"></a><span id="l23.22" class="difflineminus">-/* static */PLDHashOperator PR_CALLBACK nsMsgDatabase::ClearHeaderEnumerator (PLDHashTable *table, PLDHashEntryHdr *hdr,</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineplus">+/* static */PLDHashOperator nsMsgDatabase::ClearHeaderEnumerator (PLDHashTable *table, PLDHashEntryHdr *hdr,</span>
<a href="#l23.24"></a><span id="l23.24">                                PRUint32 number, void *arg)</span>
<a href="#l23.25"></a><span id="l23.25"> {</span>
<a href="#l23.26"></a><span id="l23.26"> </span>
<a href="#l23.27"></a><span id="l23.27">   MsgHdrHashElement* element = reinterpret_cast&lt;MsgHdrHashElement*&gt;(hdr);</span>
<a href="#l23.28"></a><span id="l23.28">   if (element &amp;&amp; element-&gt;mHdr)</span>
<a href="#l23.29"></a><span id="l23.29">   {</span>
<a href="#l23.30"></a><span id="l23.30">     nsMsgHdr* msgHdr = static_cast&lt;nsMsgHdr*&gt;(element-&gt;mHdr);  // closed system, so this is ok</span>
<a href="#l23.31"></a><span id="l23.31">     // clear out m_mdbRow member variable - the db is going away, which means that this member</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineat">@@ -461,39 +461,39 @@ PLDHashTableOps nsMsgDatabase::gMsgDBHas</span>
<a href="#l23.33"></a><span id="l23.33">   MoveEntry,</span>
<a href="#l23.34"></a><span id="l23.34">   ClearEntry,</span>
<a href="#l23.35"></a><span id="l23.35">   PL_DHashFinalizeStub,</span>
<a href="#l23.36"></a><span id="l23.36">   nsnull</span>
<a href="#l23.37"></a><span id="l23.37"> };</span>
<a href="#l23.38"></a><span id="l23.38"> </span>
<a href="#l23.39"></a><span id="l23.39"> // HashKey is supposed to maximize entropy in the low order bits, and the key</span>
<a href="#l23.40"></a><span id="l23.40"> // as is, should do that.</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineminus">-PLDHashNumber PR_CALLBACK</span>
<a href="#l23.42"></a><span id="l23.42" class="difflineplus">+PLDHashNumber</span>
<a href="#l23.43"></a><span id="l23.43"> nsMsgDatabase::HashKey(PLDHashTable* aTable, const void* aKey)</span>
<a href="#l23.44"></a><span id="l23.44"> {</span>
<a href="#l23.45"></a><span id="l23.45">   return PLDHashNumber(NS_PTR_TO_INT32(aKey));</span>
<a href="#l23.46"></a><span id="l23.46"> }</span>
<a href="#l23.47"></a><span id="l23.47"> </span>
<a href="#l23.48"></a><span id="l23.48" class="difflineminus">-PRBool PR_CALLBACK</span>
<a href="#l23.49"></a><span id="l23.49" class="difflineplus">+PRBool</span>
<a href="#l23.50"></a><span id="l23.50"> nsMsgDatabase::MatchEntry(PLDHashTable* aTable, const PLDHashEntryHdr* aEntry, const void* aKey)</span>
<a href="#l23.51"></a><span id="l23.51"> {</span>
<a href="#l23.52"></a><span id="l23.52">   const MsgHdrHashElement* hdr = reinterpret_cast&lt;const MsgHdrHashElement*&gt;(aEntry);</span>
<a href="#l23.53"></a><span id="l23.53">   return aKey == (const void *) hdr-&gt;mKey; // ### or get the key from the hdr...</span>
<a href="#l23.54"></a><span id="l23.54"> }</span>
<a href="#l23.55"></a><span id="l23.55"> </span>
<a href="#l23.56"></a><span id="l23.56" class="difflineminus">-void PR_CALLBACK</span>
<a href="#l23.57"></a><span id="l23.57" class="difflineplus">+void</span>
<a href="#l23.58"></a><span id="l23.58"> nsMsgDatabase::MoveEntry(PLDHashTable* aTable, const PLDHashEntryHdr* aFrom, PLDHashEntryHdr* aTo)</span>
<a href="#l23.59"></a><span id="l23.59"> {</span>
<a href="#l23.60"></a><span id="l23.60">   const MsgHdrHashElement* from = reinterpret_cast&lt;const MsgHdrHashElement*&gt;(aFrom);</span>
<a href="#l23.61"></a><span id="l23.61">   MsgHdrHashElement* to = reinterpret_cast&lt;MsgHdrHashElement*&gt;(aTo);</span>
<a href="#l23.62"></a><span id="l23.62">   // ### eh? Why is this needed? I don't think we have a copy operator?</span>
<a href="#l23.63"></a><span id="l23.63">   *to = *from;</span>
<a href="#l23.64"></a><span id="l23.64"> }</span>
<a href="#l23.65"></a><span id="l23.65"> </span>
<a href="#l23.66"></a><span id="l23.66" class="difflineminus">-void PR_CALLBACK</span>
<a href="#l23.67"></a><span id="l23.67" class="difflineplus">+void</span>
<a href="#l23.68"></a><span id="l23.68"> nsMsgDatabase::ClearEntry(PLDHashTable* aTable, PLDHashEntryHdr* aEntry)</span>
<a href="#l23.69"></a><span id="l23.69"> {</span>
<a href="#l23.70"></a><span id="l23.70">   MsgHdrHashElement* element = reinterpret_cast&lt;MsgHdrHashElement*&gt;(aEntry);</span>
<a href="#l23.71"></a><span id="l23.71">   element-&gt;mHdr = nsnull; // eh? Need to release this or not?</span>
<a href="#l23.72"></a><span id="l23.72">   element-&gt;mKey = nsMsgKey_None; // eh?</span>
<a href="#l23.73"></a><span id="l23.73"> }</span>
<a href="#l23.74"></a><span id="l23.74"> </span>
<a href="#l23.75"></a><span id="l23.75"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/src/nsBayesianFilter.cpp</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -159,18 +159,18 @@ inline BaseToken* TokenEnumeration::next</span>
<a href="#l24.4"></a><span id="l24.4">     return token;</span>
<a href="#l24.5"></a><span id="l24.5"> }</span>
<a href="#l24.6"></a><span id="l24.6"> </span>
<a href="#l24.7"></a><span id="l24.7"> struct VisitClosure {</span>
<a href="#l24.8"></a><span id="l24.8">     PRBool (*f) (BaseToken*, void*);</span>
<a href="#l24.9"></a><span id="l24.9">     void* data;</span>
<a href="#l24.10"></a><span id="l24.10"> };</span>
<a href="#l24.11"></a><span id="l24.11"> </span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-static PLDHashOperator PR_CALLBACK VisitEntry(PLDHashTable* table, PLDHashEntryHdr* entry,</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineminus">-                                              PRUint32 number, void* arg)</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineplus">+static PLDHashOperator VisitEntry(PLDHashTable* table, PLDHashEntryHdr* entry,</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineplus">+                                  PRUint32 number, void* arg)</span>
<a href="#l24.16"></a><span id="l24.16"> {</span>
<a href="#l24.17"></a><span id="l24.17">     VisitClosure* closure = reinterpret_cast&lt;VisitClosure*&gt;(arg);</span>
<a href="#l24.18"></a><span id="l24.18">     BaseToken* token = static_cast&lt;BaseToken*&gt;(entry);</span>
<a href="#l24.19"></a><span id="l24.19">     return (closure-&gt;f(token, closure-&gt;data) ? PL_DHASH_NEXT : PL_DHASH_STOP);</span>
<a href="#l24.20"></a><span id="l24.20"> }</span>
<a href="#l24.21"></a><span id="l24.21"> </span>
<a href="#l24.22"></a><span id="l24.22"> // member variables</span>
<a href="#l24.23"></a><span id="l24.23"> static const PLDHashTableOps gTokenTableOps = {</span>
<a href="#l24.24"></a><span id="l24.24" class="difflineat">@@ -1085,17 +1085,17 @@ nsresult nsBayesianFilter::tokenizeMessa</span>
<a href="#l24.25"></a><span id="l24.25">     NS_ENSURE_SUCCESS(rv, rv);</span>
<a href="#l24.26"></a><span id="l24.26"> </span>
<a href="#l24.27"></a><span id="l24.27">     aAnalyzer-&gt;setSource(aMessageURI);</span>
<a href="#l24.28"></a><span id="l24.28">     return msgService-&gt;StreamMessage(aMessageURI, aAnalyzer-&gt;mTokenListener,</span>
<a href="#l24.29"></a><span id="l24.29">                                      aMsgWindow, nsnull, PR_TRUE /* convert data */,</span>
<a href="#l24.30"></a><span id="l24.30">                                      NS_LITERAL_CSTRING(&quot;filter&quot;), PR_FALSE, nsnull);</span>
<a href="#l24.31"></a><span id="l24.31"> }</span>
<a href="#l24.32"></a><span id="l24.32"> </span>
<a href="#l24.33"></a><span id="l24.33" class="difflineminus">-PR_STATIC_CALLBACK(int) compareTokens(const void* p1, const void* p2, void* /* data */)</span>
<a href="#l24.34"></a><span id="l24.34" class="difflineplus">+static int compareTokens(const void* p1, const void* p2, void* /* data */)</span>
<a href="#l24.35"></a><span id="l24.35"> {</span>
<a href="#l24.36"></a><span id="l24.36">     Token *t1 = (Token*) p1, *t2 = (Token*) p2;</span>
<a href="#l24.37"></a><span id="l24.37">     double delta = t1-&gt;mDistance - t2-&gt;mDistance;</span>
<a href="#l24.38"></a><span id="l24.38">     return (delta == 0.0 ? 0 : (delta &gt; 0.0 ? 1 : -1));</span>
<a href="#l24.39"></a><span id="l24.39"> }</span>
<a href="#l24.40"></a><span id="l24.40"> </span>
<a href="#l24.41"></a><span id="l24.41"> inline double dmax(double x, double y) { return (x &gt; y ? x : y); }</span>
<a href="#l24.42"></a><span id="l24.42"> inline double dmin(double x, double y) { return (x &lt; y ? x : y); }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mailnews/extensions/smime/src/nsMsgComposeSecure.cpp</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -66,47 +66,47 @@ nsCOMPtr&lt;nsIStringBundle&gt; nsMsgComposeSe</span>
<a href="#l25.4"></a><span id="l25.4"> #define MIME_SMIME_SIGNATURE_CONTENT_DESCRIPTION &quot;S/MIME Cryptographic Signature&quot;</span>
<a href="#l25.5"></a><span id="l25.5"> </span>
<a href="#l25.6"></a><span id="l25.6"> #define MK_MIME_ERROR_WRITING_FILE -1</span>
<a href="#l25.7"></a><span id="l25.7"> </span>
<a href="#l25.8"></a><span id="l25.8"> #define SMIME_STRBUNDLE_URL &quot;chrome://messenger/locale/am-smime.properties&quot;</span>
<a href="#l25.9"></a><span id="l25.9"> </span>
<a href="#l25.10"></a><span id="l25.10"> static void mime_crypto_write_base64 (void *closure, const char *buf,</span>
<a href="#l25.11"></a><span id="l25.11">               unsigned long size);</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-static nsresult PR_CALLBACK mime_encoder_output_fn(const char *buf, PRInt32 size, void *closure);</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-static nsresult PR_CALLBACK mime_nested_encoder_output_fn (const char *buf, PRInt32 size, void *closure);</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineplus">+static nsresult mime_encoder_output_fn(const char *buf, PRInt32 size, void *closure);</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineplus">+static nsresult mime_nested_encoder_output_fn (const char *buf, PRInt32 size, void *closure);</span>
<a href="#l25.16"></a><span id="l25.16"> static int make_multipart_signed_header_string(PRBool outer_p,</span>
<a href="#l25.17"></a><span id="l25.17">                   char **header_return,</span>
<a href="#l25.18"></a><span id="l25.18">                   char **boundary_return);</span>
<a href="#l25.19"></a><span id="l25.19"> static char *mime_make_separator(const char *prefix);</span>
<a href="#l25.20"></a><span id="l25.20"> </span>
<a href="#l25.21"></a><span id="l25.21"> // mscott --&gt; FIX ME...for now cloning code from compose\nsMsgEncode.h/.cpp</span>
<a href="#l25.22"></a><span id="l25.22"> </span>
<a href="#l25.23"></a><span id="l25.23"> #include &quot;prprf.h&quot;</span>
<a href="#l25.24"></a><span id="l25.24"> #include &quot;prmem.h&quot;</span>
<a href="#l25.25"></a><span id="l25.25"> #include &quot;nsCOMPtr.h&quot;</span>
<a href="#l25.26"></a><span id="l25.26"> #include &quot;nsMsgMimeCID.h&quot;</span>
<a href="#l25.27"></a><span id="l25.27"> #include &quot;nsIMimeConverter.h&quot;</span>
<a href="#l25.28"></a><span id="l25.28"> </span>
<a href="#l25.29"></a><span id="l25.29"> MimeEncoderData *</span>
<a href="#l25.30"></a><span id="l25.30" class="difflineminus">-MIME_B64EncoderInit(nsresult (*PR_CALLBACK output_fn) (const char *buf, PRInt32 size, void *closure), void *closure) </span>
<a href="#l25.31"></a><span id="l25.31" class="difflineplus">+MIME_B64EncoderInit(nsresult (* output_fn) (const char *buf, PRInt32 size, void *closure), void *closure) </span>
<a href="#l25.32"></a><span id="l25.32"> {</span>
<a href="#l25.33"></a><span id="l25.33">   MimeEncoderData *returnEncoderData = nsnull;</span>
<a href="#l25.34"></a><span id="l25.34">   nsIMimeConverter *converter;</span>
<a href="#l25.35"></a><span id="l25.35">   nsresult res = CallCreateInstance(NS_MIME_CONVERTER_CONTRACTID, &amp;converter);</span>
<a href="#l25.36"></a><span id="l25.36">   if (NS_SUCCEEDED(res) &amp;&amp; nsnull != converter) </span>
<a href="#l25.37"></a><span id="l25.37">   {</span>
<a href="#l25.38"></a><span id="l25.38">     res = converter-&gt;B64EncoderInit(output_fn, closure, &amp;returnEncoderData);</span>
<a href="#l25.39"></a><span id="l25.39">     NS_RELEASE(converter);</span>
<a href="#l25.40"></a><span id="l25.40">   }</span>
<a href="#l25.41"></a><span id="l25.41">   return NS_SUCCEEDED(res) ? returnEncoderData : nsnull;</span>
<a href="#l25.42"></a><span id="l25.42"> }</span>
<a href="#l25.43"></a><span id="l25.43"> </span>
<a href="#l25.44"></a><span id="l25.44"> MimeEncoderData * </span>
<a href="#l25.45"></a><span id="l25.45" class="difflineminus">-MIME_QPEncoderInit(nsresult (*PR_CALLBACK output_fn) (const char *buf, PRInt32 size, void *closure), void *closure) </span>
<a href="#l25.46"></a><span id="l25.46" class="difflineplus">+MIME_QPEncoderInit(nsresult (* output_fn) (const char *buf, PRInt32 size, void *closure), void *closure) </span>
<a href="#l25.47"></a><span id="l25.47"> {</span>
<a href="#l25.48"></a><span id="l25.48">   MimeEncoderData *returnEncoderData = nsnull;</span>
<a href="#l25.49"></a><span id="l25.49">   nsIMimeConverter *converter;</span>
<a href="#l25.50"></a><span id="l25.50">   nsresult res = CallCreateInstance(NS_MIME_CONVERTER_CONTRACTID, &amp;converter);</span>
<a href="#l25.51"></a><span id="l25.51">   if (NS_SUCCEEDED(res) &amp;&amp; nsnull != converter) </span>
<a href="#l25.52"></a><span id="l25.52">   {</span>
<a href="#l25.53"></a><span id="l25.53">     res = converter-&gt;QPEncoderInit(output_fn, closure, &amp;returnEncoderData);</span>
<a href="#l25.54"></a><span id="l25.54">     NS_RELEASE(converter);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mailnews/imap/src/nsImapMailFolder.cpp</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mailnews/imap/src/nsImapMailFolder.cpp</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -1949,17 +1949,17 @@ nsImapMailFolder::BuildIdsAndKeyArray(ns</span>
<a href="#l26.4"></a><span id="l26.4">     if (msgDBHdr)</span>
<a href="#l26.5"></a><span id="l26.5">       rv = msgDBHdr-&gt;GetMessageKey(&amp;key);</span>
<a href="#l26.6"></a><span id="l26.6">     if (NS_SUCCEEDED(rv))</span>
<a href="#l26.7"></a><span id="l26.7">       keyArray.AppendElement(key);</span>
<a href="#l26.8"></a><span id="l26.8">   }</span>
<a href="#l26.9"></a><span id="l26.9">   return AllocateUidStringFromKeys(keyArray.Elements(), keyArray.Length(), msgIds);</span>
<a href="#l26.10"></a><span id="l26.10"> }</span>
<a href="#l26.11"></a><span id="l26.11"> </span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-static int PR_CALLBACK CompareKey (const void *v1, const void *v2, void *)</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+static int CompareKey (const void *v1, const void *v2, void *)</span>
<a href="#l26.14"></a><span id="l26.14"> {</span>
<a href="#l26.15"></a><span id="l26.15">   // QuickSort callback to compare array values</span>
<a href="#l26.16"></a><span id="l26.16">   nsMsgKey i1 = *(nsMsgKey *)v1;</span>
<a href="#l26.17"></a><span id="l26.17">   nsMsgKey i2 = *(nsMsgKey *)v2;</span>
<a href="#l26.18"></a><span id="l26.18">   return i1 - i2;</span>
<a href="#l26.19"></a><span id="l26.19"> }</span>
<a href="#l26.20"></a><span id="l26.20"> </span>
<a href="#l26.21"></a><span id="l26.21"> /* static */nsresult</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mailnews/import/build/nsImportModule.cpp</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mailnews/import/build/nsImportModule.cpp</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -310,17 +310,17 @@ static const nsModuleComponentInfo compo</span>
<a href="#l27.4"></a><span id="l27.4">     { &quot;Outlook Import Component&quot;, NS_OUTLOOKIMPORT_CID,</span>
<a href="#l27.5"></a><span id="l27.5">     &quot;@mozilla.org/import/import-outlook;1&quot;, nsOutlookImportConstructor, OutlookRegister, nsnull }</span>
<a href="#l27.6"></a><span id="l27.6"> #endif</span>
<a href="#l27.7"></a><span id="l27.7"> #endif</span>
<a href="#l27.8"></a><span id="l27.8"> </span>
<a href="#l27.9"></a><span id="l27.9"> };</span>
<a href="#l27.10"></a><span id="l27.10"> </span>
<a href="#l27.11"></a><span id="l27.11"> </span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-PR_STATIC_CALLBACK(void) importModuleDtor(nsIModule* self)</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+static void importModuleDtor(nsIModule* self)</span>
<a href="#l27.14"></a><span id="l27.14"> {</span>
<a href="#l27.15"></a><span id="l27.15"> #if defined(XP_WIN) || defined(XP_MACOSX)</span>
<a href="#l27.16"></a><span id="l27.16">     nsEudoraStringBundle::Cleanup();</span>
<a href="#l27.17"></a><span id="l27.17"> #endif</span>
<a href="#l27.18"></a><span id="l27.18"> </span>
<a href="#l27.19"></a><span id="l27.19"> #ifdef XP_WIN</span>
<a href="#l27.20"></a><span id="l27.20"> </span>
<a href="#l27.21"></a><span id="l27.21"> #if defined(_MSC_VER) &amp;&amp; _MSC_VER &gt;= 1100</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mailnews/import/src/nsImportAddressBooks.cpp</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mailnews/import/src/nsImportAddressBooks.cpp</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -59,17 +59,17 @@</span>
<a href="#l28.4"></a><span id="l28.4"> #include &quot;nsServiceManagerUtils.h&quot;</span>
<a href="#l28.5"></a><span id="l28.5"> #include &quot;msgCore.h&quot;</span>
<a href="#l28.6"></a><span id="l28.6"> #include &quot;ImportDebug.h&quot;</span>
<a href="#l28.7"></a><span id="l28.7"> #include &quot;nsIAbMDBDirectory.h&quot;</span>
<a href="#l28.8"></a><span id="l28.8"> #include &quot;nsComponentManagerUtils.h&quot;</span>
<a href="#l28.9"></a><span id="l28.9"> #include &quot;nsXPCOMCIDInternal.h&quot;</span>
<a href="#l28.10"></a><span id="l28.10"> </span>
<a href="#l28.11"></a><span id="l28.11"> static NS_DEFINE_CID(kRDFServiceCID, NS_RDFSERVICE_CID);</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-PR_STATIC_CALLBACK( void) ImportAddressThread( void *stuff);</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+static void ImportAddressThread( void *stuff);</span>
<a href="#l28.14"></a><span id="l28.14"> </span>
<a href="#l28.15"></a><span id="l28.15"> </span>
<a href="#l28.16"></a><span id="l28.16"> class AddressThreadData;</span>
<a href="#l28.17"></a><span id="l28.17"> </span>
<a href="#l28.18"></a><span id="l28.18"> class nsImportGenericAddressBooks : public nsIImportGeneric</span>
<a href="#l28.19"></a><span id="l28.19"> {</span>
<a href="#l28.20"></a><span id="l28.20"> public:</span>
<a href="#l28.21"></a><span id="l28.21"> </span>
<a href="#l28.22"></a><span id="l28.22" class="difflineat">@@ -946,17 +946,17 @@ void nsImportGenericAddressBooks::Report</span>
<a href="#l28.23"></a><span id="l28.23">   PRUnichar *pFmt = nsImportStringBundle::GetStringByID( IMPORT_ERROR_GETABOOK, aBundle);</span>
<a href="#l28.24"></a><span id="l28.24">   PRUnichar *pText = nsTextFormatter::smprintf( pFmt, pName);</span>
<a href="#l28.25"></a><span id="l28.25">   pStream-&gt;Append( pText);</span>
<a href="#l28.26"></a><span id="l28.26">   nsTextFormatter::smprintf_free( pText);</span>
<a href="#l28.27"></a><span id="l28.27">   NS_Free(pFmt);</span>
<a href="#l28.28"></a><span id="l28.28">   pStream-&gt;AppendLiteral(MSG_LINEBREAK);</span>
<a href="#l28.29"></a><span id="l28.29"> }</span>
<a href="#l28.30"></a><span id="l28.30"> </span>
<a href="#l28.31"></a><span id="l28.31" class="difflineminus">-PR_STATIC_CALLBACK( void) ImportAddressThread( void *stuff)</span>
<a href="#l28.32"></a><span id="l28.32" class="difflineplus">+static void ImportAddressThread( void *stuff)</span>
<a href="#l28.33"></a><span id="l28.33"> {</span>
<a href="#l28.34"></a><span id="l28.34">   IMPORT_LOG0( &quot;In Begin ImportAddressThread\n&quot;);</span>
<a href="#l28.35"></a><span id="l28.35"> </span>
<a href="#l28.36"></a><span id="l28.36">   AddressThreadData *pData = (AddressThreadData *)stuff;</span>
<a href="#l28.37"></a><span id="l28.37">   PRUint32  count = 0;</span>
<a href="#l28.38"></a><span id="l28.38">   nsresult   rv = pData-&gt;books-&gt;Count( &amp;count);</span>
<a href="#l28.39"></a><span id="l28.39"> </span>
<a href="#l28.40"></a><span id="l28.40">   PRUint32          i;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mailnews/import/src/nsImportMail.cpp</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mailnews/import/src/nsImportMail.cpp</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -74,17 +74,17 @@</span>
<a href="#l29.4"></a><span id="l29.4"> #include &quot;ImportDebug.h&quot;</span>
<a href="#l29.5"></a><span id="l29.5"> #include &quot;plstr.h&quot;</span>
<a href="#l29.6"></a><span id="l29.6"> #include &quot;MailNewsTypes.h&quot;</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8"> #define IMPORT_MSGS_URL       &quot;chrome://messenger/locale/importMsgs.properties&quot;</span>
<a href="#l29.9"></a><span id="l29.9"> </span>
<a href="#l29.10"></a><span id="l29.10"> ////////////////////////////////////////////////////////////////////////</span>
<a href="#l29.11"></a><span id="l29.11"> </span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-PR_STATIC_CALLBACK( void) ImportMailThread( void *stuff);</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+static void ImportMailThread( void *stuff);</span>
<a href="#l29.14"></a><span id="l29.14"> </span>
<a href="#l29.15"></a><span id="l29.15"> class ImportThreadData;</span>
<a href="#l29.16"></a><span id="l29.16"> </span>
<a href="#l29.17"></a><span id="l29.17"> class nsImportGenericMail : public nsIImportGeneric</span>
<a href="#l29.18"></a><span id="l29.18"> {</span>
<a href="#l29.19"></a><span id="l29.19"> public:</span>
<a href="#l29.20"></a><span id="l29.20"> </span>
<a href="#l29.21"></a><span id="l29.21">   nsImportGenericMail();</span>
<a href="#l29.22"></a><span id="l29.22" class="difflineat">@@ -724,17 +724,17 @@ void ImportThreadData::DriverAbort()</span>
<a href="#l29.23"></a><span id="l29.23">   }</span>
<a href="#l29.24"></a><span id="l29.24">   else</span>
<a href="#l29.25"></a><span id="l29.25">     abort = PR_TRUE;</span>
<a href="#l29.26"></a><span id="l29.26">   DriverDelete();</span>
<a href="#l29.27"></a><span id="l29.27"> }</span>
<a href="#l29.28"></a><span id="l29.28"> </span>
<a href="#l29.29"></a><span id="l29.29"> </span>
<a href="#l29.30"></a><span id="l29.30"> </span>
<a href="#l29.31"></a><span id="l29.31" class="difflineminus">-PR_STATIC_CALLBACK( void)</span>
<a href="#l29.32"></a><span id="l29.32" class="difflineplus">+static void</span>
<a href="#l29.33"></a><span id="l29.33"> ImportMailThread( void *stuff)</span>
<a href="#l29.34"></a><span id="l29.34"> {</span>
<a href="#l29.35"></a><span id="l29.35">   ImportThreadData *pData = (ImportThreadData *)stuff;</span>
<a href="#l29.36"></a><span id="l29.36"> </span>
<a href="#l29.37"></a><span id="l29.37">   IMPORT_LOG0(&quot;ImportMailThread: Starting...&quot;);</span>
<a href="#l29.38"></a><span id="l29.38"> </span>
<a href="#l29.39"></a><span id="l29.39">   nsresult rv = NS_OK;</span>
<a href="#l29.40"></a><span id="l29.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mailnews/local/src/nsPop3Protocol.cpp</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mailnews/local/src/nsPop3Protocol.cpp</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -81,17 +81,17 @@</span>
<a href="#l30.4"></a><span id="l30.4"> #include &quot;nsILineInputStream.h&quot;</span>
<a href="#l30.5"></a><span id="l30.5"> #include &quot;nsLocalStrings.h&quot;</span>
<a href="#l30.6"></a><span id="l30.6"> </span>
<a href="#l30.7"></a><span id="l30.7"> #define EXTRA_SAFETY_SPACE 3096</span>
<a href="#l30.8"></a><span id="l30.8"> </span>
<a href="#l30.9"></a><span id="l30.9"> static PRLogModuleInfo *POP3LOGMODULE = nsnull;</span>
<a href="#l30.10"></a><span id="l30.10"> </span>
<a href="#l30.11"></a><span id="l30.11"> </span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-static PRIntn PR_CALLBACK</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineplus">+static PRIntn</span>
<a href="#l30.14"></a><span id="l30.14"> net_pop3_remove_messages_marked_delete(PLHashEntry* he,</span>
<a href="#l30.15"></a><span id="l30.15">                                        PRIntn msgindex,</span>
<a href="#l30.16"></a><span id="l30.16">                                        void *arg)</span>
<a href="#l30.17"></a><span id="l30.17"> {</span>
<a href="#l30.18"></a><span id="l30.18">   Pop3UidlEntry *uidlEntry = (Pop3UidlEntry *) he-&gt;value;</span>
<a href="#l30.19"></a><span id="l30.19">   return (uidlEntry-&gt;status == DELETE_CHAR)</span>
<a href="#l30.20"></a><span id="l30.20">     ? HT_ENUMERATE_REMOVE : HT_ENUMERATE_NEXT;</span>
<a href="#l30.21"></a><span id="l30.21"> }</span>
<a href="#l30.22"></a><span id="l30.22" class="difflineat">@@ -124,43 +124,43 @@ put_hash(PLHashTable* table, const char*</span>
<a href="#l30.23"></a><span id="l30.23">         PL_HashTableAdd(table, (const void *)tmp-&gt;uidl, (void*) tmp);</span>
<a href="#l30.24"></a><span id="l30.24">       }</span>
<a href="#l30.25"></a><span id="l30.25">       else</span>
<a href="#l30.26"></a><span id="l30.26">         PR_Free(tmp);</span>
<a href="#l30.27"></a><span id="l30.27">     }</span>
<a href="#l30.28"></a><span id="l30.28">   }</span>
<a href="#l30.29"></a><span id="l30.29"> }</span>
<a href="#l30.30"></a><span id="l30.30"> </span>
<a href="#l30.31"></a><span id="l30.31" class="difflineminus">-static PRIntn PR_CALLBACK</span>
<a href="#l30.32"></a><span id="l30.32" class="difflineplus">+static PRIntn</span>
<a href="#l30.33"></a><span id="l30.33"> net_pop3_copy_hash_entries(PLHashEntry* he, PRIntn msgindex, void *arg)</span>
<a href="#l30.34"></a><span id="l30.34"> {</span>
<a href="#l30.35"></a><span id="l30.35">   Pop3UidlEntry *uidlEntry = (Pop3UidlEntry *) he-&gt;value;</span>
<a href="#l30.36"></a><span id="l30.36">   put_hash((PLHashTable *) arg, uidlEntry-&gt;uidl, uidlEntry-&gt;status, uidlEntry-&gt;dateReceived);</span>
<a href="#l30.37"></a><span id="l30.37">   return HT_ENUMERATE_NEXT;</span>
<a href="#l30.38"></a><span id="l30.38"> }</span>
<a href="#l30.39"></a><span id="l30.39"> </span>
<a href="#l30.40"></a><span id="l30.40" class="difflineminus">-static void * PR_CALLBACK</span>
<a href="#l30.41"></a><span id="l30.41" class="difflineplus">+static void *</span>
<a href="#l30.42"></a><span id="l30.42"> AllocUidlTable(void * /* pool */, PRSize size)</span>
<a href="#l30.43"></a><span id="l30.43"> {</span>
<a href="#l30.44"></a><span id="l30.44">   return PR_MALLOC(size);</span>
<a href="#l30.45"></a><span id="l30.45"> }</span>
<a href="#l30.46"></a><span id="l30.46"> </span>
<a href="#l30.47"></a><span id="l30.47" class="difflineminus">-static void PR_CALLBACK</span>
<a href="#l30.48"></a><span id="l30.48" class="difflineplus">+static void</span>
<a href="#l30.49"></a><span id="l30.49"> FreeUidlTable(void * /* pool */, void *item)</span>
<a href="#l30.50"></a><span id="l30.50"> {</span>
<a href="#l30.51"></a><span id="l30.51">     PR_Free(item);</span>
<a href="#l30.52"></a><span id="l30.52"> }</span>
<a href="#l30.53"></a><span id="l30.53"> </span>
<a href="#l30.54"></a><span id="l30.54" class="difflineminus">-static PLHashEntry * PR_CALLBACK</span>
<a href="#l30.55"></a><span id="l30.55" class="difflineplus">+static PLHashEntry *</span>
<a href="#l30.56"></a><span id="l30.56"> AllocUidlInfo(void *pool, const void *key)</span>
<a href="#l30.57"></a><span id="l30.57"> {</span>
<a href="#l30.58"></a><span id="l30.58">     return PR_NEWZAP(PLHashEntry);</span>
<a href="#l30.59"></a><span id="l30.59"> }</span>
<a href="#l30.60"></a><span id="l30.60"> </span>
<a href="#l30.61"></a><span id="l30.61" class="difflineminus">-static void PR_CALLBACK</span>
<a href="#l30.62"></a><span id="l30.62" class="difflineplus">+static void</span>
<a href="#l30.63"></a><span id="l30.63"> FreeUidlInfo(void * /* pool */, PLHashEntry *he, PRUintn flag)</span>
<a href="#l30.64"></a><span id="l30.64"> {</span>
<a href="#l30.65"></a><span id="l30.65">   if (flag == HT_FREE_ENTRY)</span>
<a href="#l30.66"></a><span id="l30.66">   {</span>
<a href="#l30.67"></a><span id="l30.67">     Pop3UidlEntry *uidlEntry = (Pop3UidlEntry *) he-&gt;value;</span>
<a href="#l30.68"></a><span id="l30.68">     if (uidlEntry)</span>
<a href="#l30.69"></a><span id="l30.69">     {</span>
<a href="#l30.70"></a><span id="l30.70">       PR_Free(uidlEntry-&gt;uidl);</span>
<a href="#l30.71"></a><span id="l30.71" class="difflineat">@@ -299,44 +299,44 @@ net_pop3_load_state(const char* searchho</span>
<a href="#l30.72"></a><span id="l30.72">       }</span>
<a href="#l30.73"></a><span id="l30.73">     }</span>
<a href="#l30.74"></a><span id="l30.74">   }</span>
<a href="#l30.75"></a><span id="l30.75">   fileStream-&gt;Close();</span>
<a href="#l30.76"></a><span id="l30.76"> </span>
<a href="#l30.77"></a><span id="l30.77">   return result;</span>
<a href="#l30.78"></a><span id="l30.78"> }</span>
<a href="#l30.79"></a><span id="l30.79"> </span>
<a href="#l30.80"></a><span id="l30.80" class="difflineminus">-static PRIntn PR_CALLBACK</span>
<a href="#l30.81"></a><span id="l30.81" class="difflineplus">+static PRIntn</span>
<a href="#l30.82"></a><span id="l30.82"> hash_clear_mapper(PLHashEntry* he, PRIntn msgindex, void* arg)</span>
<a href="#l30.83"></a><span id="l30.83"> {</span>
<a href="#l30.84"></a><span id="l30.84">   Pop3UidlEntry *uidlEntry = (Pop3UidlEntry *) he-&gt;value;</span>
<a href="#l30.85"></a><span id="l30.85">   PR_Free(uidlEntry-&gt;uidl);</span>
<a href="#l30.86"></a><span id="l30.86">   PR_Free(uidlEntry);</span>
<a href="#l30.87"></a><span id="l30.87">   he-&gt;value = nsnull;</span>
<a href="#l30.88"></a><span id="l30.88"> </span>
<a href="#l30.89"></a><span id="l30.89">   return HT_ENUMERATE_REMOVE;</span>
<a href="#l30.90"></a><span id="l30.90"> }</span>
<a href="#l30.91"></a><span id="l30.91"> </span>
<a href="#l30.92"></a><span id="l30.92" class="difflineminus">-static PRIntn PR_CALLBACK</span>
<a href="#l30.93"></a><span id="l30.93" class="difflineplus">+static PRIntn</span>
<a href="#l30.94"></a><span id="l30.94"> hash_empty_mapper(PLHashEntry* he, PRIntn msgindex, void* arg)</span>
<a href="#l30.95"></a><span id="l30.95"> {</span>
<a href="#l30.96"></a><span id="l30.96">   *((PRBool*) arg) = PR_FALSE;</span>
<a href="#l30.97"></a><span id="l30.97">   return HT_ENUMERATE_STOP;</span>
<a href="#l30.98"></a><span id="l30.98"> }</span>
<a href="#l30.99"></a><span id="l30.99"> </span>
<a href="#l30.100"></a><span id="l30.100"> static PRBool</span>
<a href="#l30.101"></a><span id="l30.101"> hash_empty(PLHashTable* hash)</span>
<a href="#l30.102"></a><span id="l30.102"> {</span>
<a href="#l30.103"></a><span id="l30.103">   PRBool result = PR_TRUE;</span>
<a href="#l30.104"></a><span id="l30.104">   PL_HashTableEnumerateEntries(hash, hash_empty_mapper, (void *)&amp;result);</span>
<a href="#l30.105"></a><span id="l30.105">   return result;</span>
<a href="#l30.106"></a><span id="l30.106"> }</span>
<a href="#l30.107"></a><span id="l30.107"> </span>
<a href="#l30.108"></a><span id="l30.108"> </span>
<a href="#l30.109"></a><span id="l30.109" class="difflineminus">-static PRIntn PR_CALLBACK</span>
<a href="#l30.110"></a><span id="l30.110" class="difflineplus">+static PRIntn</span>
<a href="#l30.111"></a><span id="l30.111"> net_pop3_write_mapper(PLHashEntry* he, PRIntn msgindex, void* arg)</span>
<a href="#l30.112"></a><span id="l30.112"> {</span>
<a href="#l30.113"></a><span id="l30.113">   nsIOutputStream* file = (nsIOutputStream*) arg;</span>
<a href="#l30.114"></a><span id="l30.114">   Pop3UidlEntry *uidlEntry = (Pop3UidlEntry *) he-&gt;value;</span>
<a href="#l30.115"></a><span id="l30.115">   NS_ASSERTION((uidlEntry-&gt;status == KEEP) ||</span>
<a href="#l30.116"></a><span id="l30.116">     (uidlEntry-&gt;status == DELETE_CHAR) ||</span>
<a href="#l30.117"></a><span id="l30.117">     (uidlEntry-&gt;status == FETCH_BODY) ||</span>
<a href="#l30.118"></a><span id="l30.118">     (uidlEntry-&gt;status == TOO_BIG), &quot;invalid status&quot;);</span>
<a href="#l30.119"></a><span id="l30.119" class="difflineat">@@ -344,17 +344,17 @@ net_pop3_write_mapper(PLHashEntry* he, P</span>
<a href="#l30.120"></a><span id="l30.120">     uidlEntry-&gt;uidl, uidlEntry-&gt;dateReceived);</span>
<a href="#l30.121"></a><span id="l30.121">   PR_ASSERT(tmpBuffer);</span>
<a href="#l30.122"></a><span id="l30.122">   PRUint32 numBytesWritten;</span>
<a href="#l30.123"></a><span id="l30.123">   file-&gt;Write(tmpBuffer, strlen(tmpBuffer), &amp;numBytesWritten);</span>
<a href="#l30.124"></a><span id="l30.124">   PR_Free(tmpBuffer);</span>
<a href="#l30.125"></a><span id="l30.125">   return HT_ENUMERATE_NEXT;</span>
<a href="#l30.126"></a><span id="l30.126"> }</span>
<a href="#l30.127"></a><span id="l30.127"> </span>
<a href="#l30.128"></a><span id="l30.128" class="difflineminus">-static PRIntn PR_CALLBACK</span>
<a href="#l30.129"></a><span id="l30.129" class="difflineplus">+static PRIntn</span>
<a href="#l30.130"></a><span id="l30.130"> net_pop3_delete_old_msgs_mapper(PLHashEntry* he, PRIntn msgindex, void* arg)</span>
<a href="#l30.131"></a><span id="l30.131"> {</span>
<a href="#l30.132"></a><span id="l30.132">   PRTime cutOffDate = (PRTime) arg;</span>
<a href="#l30.133"></a><span id="l30.133">   Pop3UidlEntry *uidlEntry = (Pop3UidlEntry *) he-&gt;value;</span>
<a href="#l30.134"></a><span id="l30.134">   if (uidlEntry-&gt;dateReceived &lt; cutOffDate)</span>
<a href="#l30.135"></a><span id="l30.135">     uidlEntry-&gt;status = DELETE_CHAR; // mark for deletion</span>
<a href="#l30.136"></a><span id="l30.136">   return HT_ENUMERATE_NEXT;</span>
<a href="#l30.137"></a><span id="l30.137"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mailnews/mime/cthandlers/glue/nsMimeContentTypeHandler.h</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -49,18 +49,18 @@</span>
<a href="#l31.4"></a><span id="l31.4">  */</span>
<a href="#l31.5"></a><span id="l31.5"> #ifndef nsMimeContentTypeHandler_h_</span>
<a href="#l31.6"></a><span id="l31.6"> #define nsMimeContentTypeHandler_h_</span>
<a href="#l31.7"></a><span id="l31.7"> </span>
<a href="#l31.8"></a><span id="l31.8"> #include &quot;prtypes.h&quot;</span>
<a href="#l31.9"></a><span id="l31.9"> #include &quot;nsIMimeContentTypeHandler.h&quot;</span>
<a href="#l31.10"></a><span id="l31.10"> </span>
<a href="#l31.11"></a><span id="l31.11"> typedef MimeObjectClass  *</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-(* PR_CALLBACK MCTHCreateCTHClass)(const char *content_type, </span>
<a href="#l31.13"></a><span id="l31.13" class="difflineminus">-                                   contentTypeHandlerInitStruct *initStruct);</span>
<a href="#l31.14"></a><span id="l31.14" class="difflineplus">+(* MCTHCreateCTHClass)(const char *content_type, </span>
<a href="#l31.15"></a><span id="l31.15" class="difflineplus">+                       contentTypeHandlerInitStruct *initStruct);</span>
<a href="#l31.16"></a><span id="l31.16"> </span>
<a href="#l31.17"></a><span id="l31.17"> class nsMimeContentTypeHandler : public nsIMimeContentTypeHandler {</span>
<a href="#l31.18"></a><span id="l31.18"> public: </span>
<a href="#l31.19"></a><span id="l31.19">     nsMimeContentTypeHandler (const char *aMimeType, </span>
<a href="#l31.20"></a><span id="l31.20">                               MCTHCreateCTHClass callback);</span>
<a href="#l31.21"></a><span id="l31.21">     virtual       ~nsMimeContentTypeHandler (void);</span>
<a href="#l31.22"></a><span id="l31.22"> </span>
<a href="#l31.23"></a><span id="l31.23">     /* this macro defines QueryInterface, AddRef and Release for this class */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mailnews/mime/src/mimebuf.cpp</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mailnews/mime/src/mimebuf.cpp</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -121,17 +121,17 @@ mime_ReBuffer (const char *net_buffer, P</span>
<a href="#l32.4"></a><span id="l32.4">   }</span>
<a href="#l32.5"></a><span id="l32.5">   while (net_buffer_size &gt; 0);</span>
<a href="#l32.6"></a><span id="l32.6"> </span>
<a href="#l32.7"></a><span id="l32.7">   return 0;</span>
<a href="#l32.8"></a><span id="l32.8"> }</span>
<a href="#l32.9"></a><span id="l32.9"> </span>
<a href="#l32.10"></a><span id="l32.10"> static int</span>
<a href="#l32.11"></a><span id="l32.11"> convert_and_send_buffer(char* buf, int length, PRBool convert_newlines_p,</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-              PRInt32 (*PR_CALLBACK per_line_fn) (char *line,</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineplus">+              PRInt32 (* per_line_fn) (char *line,</span>
<a href="#l32.14"></a><span id="l32.14">                           PRUint32 line_length,</span>
<a href="#l32.15"></a><span id="l32.15">                           void *closure),</span>
<a href="#l32.16"></a><span id="l32.16">               void *closure)</span>
<a href="#l32.17"></a><span id="l32.17"> {</span>
<a href="#l32.18"></a><span id="l32.18">   /* Convert the line terminator to the native form.</span>
<a href="#l32.19"></a><span id="l32.19">    */</span>
<a href="#l32.20"></a><span id="l32.20">   char* newline;</span>
<a href="#l32.21"></a><span id="l32.21"> </span>
<a href="#l32.22"></a><span id="l32.22" class="difflineat">@@ -183,17 +183,17 @@ convert_and_send_buffer(char* buf, int l</span>
<a href="#l32.23"></a><span id="l32.23"> </span>
<a href="#l32.24"></a><span id="l32.24">   return (*per_line_fn)(buf, length, closure);</span>
<a href="#l32.25"></a><span id="l32.25"> }</span>
<a href="#l32.26"></a><span id="l32.26"> </span>
<a href="#l32.27"></a><span id="l32.27"> extern &quot;C&quot; int</span>
<a href="#l32.28"></a><span id="l32.28"> mime_LineBuffer (const char *net_buffer, PRInt32 net_buffer_size,</span>
<a href="#l32.29"></a><span id="l32.29">         char **bufferP, PRInt32 *buffer_sizeP, PRUint32 *buffer_fpP,</span>
<a href="#l32.30"></a><span id="l32.30">         PRBool convert_newlines_p,</span>
<a href="#l32.31"></a><span id="l32.31" class="difflineminus">-        PRInt32 (*PR_CALLBACK per_line_fn) (char *line, PRUint32 line_length,</span>
<a href="#l32.32"></a><span id="l32.32" class="difflineplus">+        PRInt32 (* per_line_fn) (char *line, PRUint32 line_length,</span>
<a href="#l32.33"></a><span id="l32.33">                     void *closure),</span>
<a href="#l32.34"></a><span id="l32.34">         void *closure)</span>
<a href="#l32.35"></a><span id="l32.35"> {</span>
<a href="#l32.36"></a><span id="l32.36">   int status = 0;</span>
<a href="#l32.37"></a><span id="l32.37">   if (*buffer_fpP &gt; 0 &amp;&amp; *bufferP &amp;&amp; (*bufferP)[*buffer_fpP - 1] == '\r' &amp;&amp;</span>
<a href="#l32.38"></a><span id="l32.38">     net_buffer_size &gt; 0 &amp;&amp; net_buffer[0] != '\n') {</span>
<a href="#l32.39"></a><span id="l32.39">   /* The last buffer ended with a CR.  The new buffer does not start</span>
<a href="#l32.40"></a><span id="l32.40">      with a LF.  This old buffer should be shipped out and discarded. */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/mailnews/mime/src/mimebuf.h</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/mailnews/mime/src/mimebuf.h</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -49,17 +49,17 @@</span>
<a href="#l33.4"></a><span id="l33.4"> extern &quot;C&quot; int mime_GrowBuffer (PRUint32 desired_size,</span>
<a href="#l33.5"></a><span id="l33.5">                PRUint32 element_size, PRUint32 quantum,</span>
<a href="#l33.6"></a><span id="l33.6">                char **buffer, PRInt32 *size);</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8"> extern &quot;C&quot; int mime_LineBuffer (const char *net_buffer, PRInt32 net_buffer_size,</span>
<a href="#l33.9"></a><span id="l33.9">                char **bufferP, PRInt32 *buffer_sizeP,</span>
<a href="#l33.10"></a><span id="l33.10">                PRInt32 *buffer_fpP,</span>
<a href="#l33.11"></a><span id="l33.11">                PRBool convert_newlines_p,</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-               PRInt32 (*PR_CALLBACK per_line_fn) (char *line, PRInt32</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+               PRInt32 (* per_line_fn) (char *line, PRInt32</span>
<a href="#l33.14"></a><span id="l33.14">                          line_length, void *closure),</span>
<a href="#l33.15"></a><span id="l33.15">                void *closure);</span>
<a href="#l33.16"></a><span id="l33.16"> </span>
<a href="#l33.17"></a><span id="l33.17"> extern &quot;C&quot; int mime_ReBuffer (const char *net_buffer, PRInt32 net_buffer_size,</span>
<a href="#l33.18"></a><span id="l33.18">              PRUint32 desired_buffer_size,</span>
<a href="#l33.19"></a><span id="l33.19">              char **bufferP, PRUint32 *buffer_sizeP,</span>
<a href="#l33.20"></a><span id="l33.20">              PRUint32 *buffer_fpP,</span>
<a href="#l33.21"></a><span id="l33.21">              PRInt32 (*per_buffer_fn) (char *buffer,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/mailnews/mime/src/mimecryp.cpp</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/mailnews/mime/src/mimecryp.cpp</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -333,17 +333,17 @@ MimeHandleDecryptedOutput (const char *b</span>
<a href="#l34.4"></a><span id="l34.4">    appropriate.</span>
<a href="#l34.5"></a><span id="l34.5">    */</span>
<a href="#l34.6"></a><span id="l34.6">   MimeObject *obj = (MimeObject *) output_closure;</span>
<a href="#l34.7"></a><span id="l34.7"> </span>
<a href="#l34.8"></a><span id="l34.8">   /* Is it truly safe to use ibuffer here?  I think so... */</span>
<a href="#l34.9"></a><span id="l34.9">   return mime_LineBuffer (buf, buf_size,</span>
<a href="#l34.10"></a><span id="l34.10">              &amp;obj-&gt;ibuffer, &amp;obj-&gt;ibuffer_size, &amp;obj-&gt;ibuffer_fp,</span>
<a href="#l34.11"></a><span id="l34.11">              PR_TRUE,</span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-             ((int (*PR_CALLBACK) (char *, PRInt32, void *))</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+             ((int (*) (char *, PRInt32, void *))</span>
<a href="#l34.14"></a><span id="l34.14">               /* This cast is to turn void into MimeObject */</span>
<a href="#l34.15"></a><span id="l34.15">               MimeHandleDecryptedOutputLine),</span>
<a href="#l34.16"></a><span id="l34.16">              obj);</span>
<a href="#l34.17"></a><span id="l34.17"> }</span>
<a href="#l34.18"></a><span id="l34.18"> </span>
<a href="#l34.19"></a><span id="l34.19"> static int</span>
<a href="#l34.20"></a><span id="l34.20"> MimeHandleDecryptedOutputLine (char *line, PRInt32 length, MimeObject *obj)</span>
<a href="#l34.21"></a><span id="l34.21"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/mailnews/mime/src/mimedrft.cpp</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/mailnews/mime/src/mimedrft.cpp</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -433,17 +433,17 @@ dummy_file_write( char *buf, PRInt32 siz</span>
<a href="#l35.4"></a><span id="l35.4">     return NS_ERROR_FAILURE;</span>
<a href="#l35.5"></a><span id="l35.5"> </span>
<a href="#l35.6"></a><span id="l35.6">   nsIOutputStream  *tStream = (nsIOutputStream *) fileHandle;</span>
<a href="#l35.7"></a><span id="l35.7">   PRUint32 bytesWritten;</span>
<a href="#l35.8"></a><span id="l35.8">   tStream-&gt;Write(buf, size, &amp;bytesWritten);</span>
<a href="#l35.9"></a><span id="l35.9">   return (int) bytesWritten;</span>
<a href="#l35.10"></a><span id="l35.10"> }</span>
<a href="#l35.11"></a><span id="l35.11"> </span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-static int PR_CALLBACK</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineplus">+static int</span>
<a href="#l35.14"></a><span id="l35.14"> mime_parse_stream_write ( nsMIMESession *stream, const char *buf, PRInt32 size )</span>
<a href="#l35.15"></a><span id="l35.15"> {</span>
<a href="#l35.16"></a><span id="l35.16">   struct mime_draft_data *mdd = (struct mime_draft_data *) stream-&gt;data_object;</span>
<a href="#l35.17"></a><span id="l35.17">   NS_ASSERTION ( mdd, &quot;null mime draft data!&quot; );</span>
<a href="#l35.18"></a><span id="l35.18"> </span>
<a href="#l35.19"></a><span id="l35.19">   if ( !mdd || !mdd-&gt;obj )</span>
<a href="#l35.20"></a><span id="l35.20">     return -1;</span>
<a href="#l35.21"></a><span id="l35.21"> </span>
<a href="#l35.22"></a><span id="l35.22" class="difflineat">@@ -1198,17 +1198,17 @@ mime_insert_forwarded_message_headers(ch</span>
<a href="#l35.23"></a><span id="l35.23">     mime_insert_normal_headers(body, headers, composeFormat, mailcharset);</span>
<a href="#l35.24"></a><span id="l35.24">     break;</span>
<a href="#l35.25"></a><span id="l35.25">   case 2:</span>
<a href="#l35.26"></a><span id="l35.26">     mime_insert_all_headers(body, headers, composeFormat, mailcharset);</span>
<a href="#l35.27"></a><span id="l35.27">     break;</span>
<a href="#l35.28"></a><span id="l35.28">   }</span>
<a href="#l35.29"></a><span id="l35.29"> }</span>
<a href="#l35.30"></a><span id="l35.30"> </span>
<a href="#l35.31"></a><span id="l35.31" class="difflineminus">-static void PR_CALLBACK</span>
<a href="#l35.32"></a><span id="l35.32" class="difflineplus">+static void</span>
<a href="#l35.33"></a><span id="l35.33"> mime_parse_stream_complete (nsMIMESession *stream)</span>
<a href="#l35.34"></a><span id="l35.34"> {</span>
<a href="#l35.35"></a><span id="l35.35">   struct mime_draft_data *mdd = (struct mime_draft_data *) stream-&gt;data_object;</span>
<a href="#l35.36"></a><span id="l35.36">   nsCOMPtr&lt;nsIMsgCompFields&gt; fields;</span>
<a href="#l35.37"></a><span id="l35.37">   int htmlAction = 0;</span>
<a href="#l35.38"></a><span id="l35.38">   int lineWidth = 0;</span>
<a href="#l35.39"></a><span id="l35.39"> </span>
<a href="#l35.40"></a><span id="l35.40">   char *host = 0;</span>
<a href="#l35.41"></a><span id="l35.41" class="difflineat">@@ -1650,17 +1650,17 @@ mime_parse_stream_complete (nsMIMESessio</span>
<a href="#l35.42"></a><span id="l35.42">   PR_FREEIF(foll);</span>
<a href="#l35.43"></a><span id="l35.43">   PR_FREEIF(priority);</span>
<a href="#l35.44"></a><span id="l35.44">   PR_FREEIF(draftInfo);</span>
<a href="#l35.45"></a><span id="l35.45">   PR_Free(identityKey);</span>
<a href="#l35.46"></a><span id="l35.46"> </span>
<a href="#l35.47"></a><span id="l35.47">   mime_free_attach_data(newAttachData);</span>
<a href="#l35.48"></a><span id="l35.48"> }</span>
<a href="#l35.49"></a><span id="l35.49"> </span>
<a href="#l35.50"></a><span id="l35.50" class="difflineminus">-static void PR_CALLBACK</span>
<a href="#l35.51"></a><span id="l35.51" class="difflineplus">+static void</span>
<a href="#l35.52"></a><span id="l35.52"> mime_parse_stream_abort (nsMIMESession *stream, int status )</span>
<a href="#l35.53"></a><span id="l35.53"> {</span>
<a href="#l35.54"></a><span id="l35.54">   struct mime_draft_data *mdd = (struct mime_draft_data *) stream-&gt;data_object;</span>
<a href="#l35.55"></a><span id="l35.55">   NS_ASSERTION (mdd, &quot;null mime draft data&quot;);</span>
<a href="#l35.56"></a><span id="l35.56"> </span>
<a href="#l35.57"></a><span id="l35.57">   if (!mdd)</span>
<a href="#l35.58"></a><span id="l35.58">     return;</span>
<a href="#l35.59"></a><span id="l35.59"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/mailnews/mime/src/mimei.cpp</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/mailnews/mime/src/mimei.cpp</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -130,17 +130,17 @@ typedef struct {</span>
<a href="#l36.4"></a><span id="l36.4">   char        content_type[128];</span>
<a href="#l36.5"></a><span id="l36.5">   PRBool      force_inline_display;</span>
<a href="#l36.6"></a><span id="l36.6"> } cthandler_struct;</span>
<a href="#l36.7"></a><span id="l36.7"> </span>
<a href="#l36.8"></a><span id="l36.8"> nsVoidArray         *ctHandlerList = NULL;</span>
<a href="#l36.9"></a><span id="l36.9"> PRBool              foundIt = PR_FALSE;</span>
<a href="#l36.10"></a><span id="l36.10"> PRBool              force_display = PR_FALSE;</span>
<a href="#l36.11"></a><span id="l36.11"> </span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-PRBool PR_CALLBACK</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineplus">+PRBool</span>
<a href="#l36.14"></a><span id="l36.14"> EnumFunction(void* aElement, void *aData)</span>
<a href="#l36.15"></a><span id="l36.15"> {</span>
<a href="#l36.16"></a><span id="l36.16">   cthandler_struct    *ptr = (cthandler_struct *) aElement;</span>
<a href="#l36.17"></a><span id="l36.17">   char                *ctPtr = (char *)aData;</span>
<a href="#l36.18"></a><span id="l36.18"> </span>
<a href="#l36.19"></a><span id="l36.19">   if ( (!aElement) || (!aData) )</span>
<a href="#l36.20"></a><span id="l36.20">     return PR_TRUE;</span>
<a href="#l36.21"></a><span id="l36.21"> </span>
<a href="#l36.22"></a><span id="l36.22" class="difflineat">@@ -1800,17 +1800,17 @@ MimeObject_output_init(MimeObject *obj, </span>
<a href="#l36.23"></a><span id="l36.23">     content_type = obj-&gt;content_type;</span>
<a href="#l36.24"></a><span id="l36.24">     if (!content_type)</span>
<a href="#l36.25"></a><span id="l36.25">     content_type = TEXT_PLAIN;</span>
<a href="#l36.26"></a><span id="l36.26"> </span>
<a href="#l36.27"></a><span id="l36.27">     //</span>
<a href="#l36.28"></a><span id="l36.28">     // Set the charset on the channel we are dealing with so people know</span>
<a href="#l36.29"></a><span id="l36.29">     // what the charset is set to. Do this for quoting/Printing ONLY!</span>
<a href="#l36.30"></a><span id="l36.30">     //</span>
<a href="#l36.31"></a><span id="l36.31" class="difflineminus">-    extern void   PR_CALLBACK ResetChannelCharset(MimeObject *obj);</span>
<a href="#l36.32"></a><span id="l36.32" class="difflineplus">+    extern void   ResetChannelCharset(MimeObject *obj);</span>
<a href="#l36.33"></a><span id="l36.33">     if ( (obj-&gt;options) &amp;&amp;</span>
<a href="#l36.34"></a><span id="l36.34">          ( (obj-&gt;options-&gt;format_out == nsMimeOutput::nsMimeMessageQuoting) ||</span>
<a href="#l36.35"></a><span id="l36.35">            (obj-&gt;options-&gt;format_out == nsMimeOutput::nsMimeMessageBodyQuoting) ||</span>
<a href="#l36.36"></a><span id="l36.36">            (obj-&gt;options-&gt;format_out == nsMimeOutput::nsMimeMessageSaveAs) ||</span>
<a href="#l36.37"></a><span id="l36.37">            (obj-&gt;options-&gt;format_out == nsMimeOutput::nsMimeMessagePrintOutput) ) )</span>
<a href="#l36.38"></a><span id="l36.38">       ResetChannelCharset(obj);</span>
<a href="#l36.39"></a><span id="l36.39"> </span>
<a href="#l36.40"></a><span id="l36.40">     status = obj-&gt;options-&gt;output_init_fn (content_type, charset, name,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/mailnews/mime/src/mimemoz2.cpp</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/mailnews/mime/src/mimemoz2.cpp</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -2010,17 +2010,17 @@ MimeGetStringByID(PRInt32 stringID)</span>
<a href="#l37.4"></a><span id="l37.4">   }</span>
<a href="#l37.5"></a><span id="l37.5"> </span>
<a href="#l37.6"></a><span id="l37.6">   if (!tempString)</span>
<a href="#l37.7"></a><span id="l37.7">     tempString = strdup(resultString);</span>
<a href="#l37.8"></a><span id="l37.8"> </span>
<a href="#l37.9"></a><span id="l37.9">   return tempString;</span>
<a href="#l37.10"></a><span id="l37.10"> }</span>
<a href="#l37.11"></a><span id="l37.11"> </span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-void PR_CALLBACK</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+void</span>
<a href="#l37.14"></a><span id="l37.14"> ResetChannelCharset(MimeObject *obj)</span>
<a href="#l37.15"></a><span id="l37.15"> {</span>
<a href="#l37.16"></a><span id="l37.16">   if (obj-&gt;options &amp;&amp; obj-&gt;options-&gt;stream_closure &amp;&amp;</span>
<a href="#l37.17"></a><span id="l37.17">       obj-&gt;options-&gt;default_charset &amp;&amp; obj-&gt;headers )</span>
<a href="#l37.18"></a><span id="l37.18">   {</span>
<a href="#l37.19"></a><span id="l37.19">     mime_stream_data  *msd = (mime_stream_data *) (obj-&gt;options-&gt;stream_closure);</span>
<a href="#l37.20"></a><span id="l37.20">     char *ct = MimeHeaders_get (obj-&gt;headers, HEADER_CONTENT_TYPE, PR_FALSE, PR_FALSE);</span>
<a href="#l37.21"></a><span id="l37.21">     if ( (ct) &amp;&amp; (msd) &amp;&amp; (msd-&gt;channel) )</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/mailnews/mime/src/mimemrel.cpp</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/mailnews/mime/src/mimemrel.cpp</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -200,17 +200,17 @@ MimeMultipartRelated_initialize(MimeObje</span>
<a href="#l38.4"></a><span id="l38.4">   if (!relobj-&gt;hash) return MIME_OUT_OF_MEMORY;</span>
<a href="#l38.5"></a><span id="l38.5"> </span>
<a href="#l38.6"></a><span id="l38.6">   relobj-&gt;input_file_stream = nsnull;</span>
<a href="#l38.7"></a><span id="l38.7">   relobj-&gt;output_file_stream = nsnull;</span>
<a href="#l38.8"></a><span id="l38.8"> </span>
<a href="#l38.9"></a><span id="l38.9">   return ((MimeObjectClass*)&amp;MIME_SUPERCLASS)-&gt;initialize(obj);</span>
<a href="#l38.10"></a><span id="l38.10"> }</span>
<a href="#l38.11"></a><span id="l38.11"> </span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-static PRIntn PR_CALLBACK</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineplus">+static PRIntn</span>
<a href="#l38.14"></a><span id="l38.14"> mime_multipart_related_nukehash(PLHashEntry *table,</span>
<a href="#l38.15"></a><span id="l38.15">                                        PRIntn indx, void *arg)</span>
<a href="#l38.16"></a><span id="l38.16"> {</span>
<a href="#l38.17"></a><span id="l38.17">   if (table-&gt;key)</span>
<a href="#l38.18"></a><span id="l38.18">     PR_Free((char*) table-&gt;key);</span>
<a href="#l38.19"></a><span id="l38.19"> </span>
<a href="#l38.20"></a><span id="l38.20">   if (table-&gt;value)</span>
<a href="#l38.21"></a><span id="l38.21">     delete (MimeHashValue *)table-&gt;value;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/mailnews/mime/src/mimeobj.cpp</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/mailnews/mime/src/mimeobj.cpp</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -276,17 +276,17 @@ static int</span>
<a href="#l39.4"></a><span id="l39.4"> MimeObject_parse_buffer (const char *buffer, PRInt32 size, MimeObject *obj)</span>
<a href="#l39.5"></a><span id="l39.5"> {</span>
<a href="#l39.6"></a><span id="l39.6">   NS_ASSERTION(!obj-&gt;closed_p, &quot;object shouldn't be closed&quot;);</span>
<a href="#l39.7"></a><span id="l39.7">   if (obj-&gt;closed_p) return -1;</span>
<a href="#l39.8"></a><span id="l39.8"> </span>
<a href="#l39.9"></a><span id="l39.9">   return mime_LineBuffer (buffer, size,</span>
<a href="#l39.10"></a><span id="l39.10">              &amp;obj-&gt;ibuffer, &amp;obj-&gt;ibuffer_size, &amp;obj-&gt;ibuffer_fp,</span>
<a href="#l39.11"></a><span id="l39.11">              PR_TRUE,</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-             ((int (*PR_CALLBACK) (char *, PRInt32, void *))</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+             ((int (*) (char *, PRInt32, void *))</span>
<a href="#l39.14"></a><span id="l39.14">               /* This cast is to turn void into MimeObject */</span>
<a href="#l39.15"></a><span id="l39.15">               obj-&gt;clazz-&gt;parse_line),</span>
<a href="#l39.16"></a><span id="l39.16">              obj);</span>
<a href="#l39.17"></a><span id="l39.17"> }</span>
<a href="#l39.18"></a><span id="l39.18"> </span>
<a href="#l39.19"></a><span id="l39.19"> static int</span>
<a href="#l39.20"></a><span id="l39.20"> MimeObject_parse_line (const char *line, PRInt32 length, MimeObject *obj)</span>
<a href="#l39.21"></a><span id="l39.21"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/mailnews/mime/src/mimetext.cpp</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/mailnews/mime/src/mimetext.cpp</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -347,17 +347,17 @@ MimeInlineText_parse_decoded_buffer (con</span>
<a href="#l40.4"></a><span id="l40.4"> </span>
<a href="#l40.5"></a><span id="l40.5">   /* This is just like the parse_decoded_buffer method we inherit from the</span>
<a href="#l40.6"></a><span id="l40.6">    MimeLeaf class, except that we line-buffer to our own wrapper on the</span>
<a href="#l40.7"></a><span id="l40.7">    `parse_line' method instead of calling the `parse_line' method directly.</span>
<a href="#l40.8"></a><span id="l40.8">    */</span>
<a href="#l40.9"></a><span id="l40.9">   return mime_LineBuffer (buf, size,</span>
<a href="#l40.10"></a><span id="l40.10">              &amp;obj-&gt;ibuffer, &amp;obj-&gt;ibuffer_size, &amp;obj-&gt;ibuffer_fp,</span>
<a href="#l40.11"></a><span id="l40.11">              PR_TRUE,</span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-             ((int (*PR_CALLBACK) (char *, PRInt32, void *))</span>
<a href="#l40.13"></a><span id="l40.13" class="difflineplus">+             ((int (*) (char *, PRInt32, void *))</span>
<a href="#l40.14"></a><span id="l40.14">               /* This cast is to turn void into MimeObject */</span>
<a href="#l40.15"></a><span id="l40.15">               MimeInlineText_rotate_convert_and_parse_line),</span>
<a href="#l40.16"></a><span id="l40.16">              obj);</span>
<a href="#l40.17"></a><span id="l40.17"> }</span>
<a href="#l40.18"></a><span id="l40.18"> </span>
<a href="#l40.19"></a><span id="l40.19"> </span>
<a href="#l40.20"></a><span id="l40.20"> #define MimeInlineText_grow_cbuffer(text, desired_size) \</span>
<a href="#l40.21"></a><span id="l40.21">   (((desired_size) &gt;= (text)-&gt;cbuffer_size) ? \</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/suite/browser/src/nsBookmarksService.h</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/suite/browser/src/nsBookmarksService.h</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -166,17 +166,17 @@ protected:</span>
<a href="#l41.4"></a><span id="l41.4">     void AnnotateBookmarkSchedule(nsIRDFResource* aSource,</span>
<a href="#l41.5"></a><span id="l41.5">                                   PRBool scheduleFlag);</span>
<a href="#l41.6"></a><span id="l41.6"> </span>
<a href="#l41.7"></a><span id="l41.7">     nsresult InsertResource(nsIRDFResource* aResource,</span>
<a href="#l41.8"></a><span id="l41.8">                             nsIRDFResource* aParentFolder, PRInt32 aIndex);</span>
<a href="#l41.9"></a><span id="l41.9"> </span>
<a href="#l41.10"></a><span id="l41.10">     nsresult getLocaleString(const char *key, nsString &amp;str);</span>
<a href="#l41.11"></a><span id="l41.11"> </span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-    static int PR_CALLBACK</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineplus">+    static int</span>
<a href="#l41.14"></a><span id="l41.14">     Compare(const void* aElement1, const void* aElement2, void* aData);</span>
<a href="#l41.15"></a><span id="l41.15"> </span>
<a href="#l41.16"></a><span id="l41.16">     nsresult</span>
<a href="#l41.17"></a><span id="l41.17">     Sort(nsIRDFResource* aFolder, nsIRDFResource* aProperty,</span>
<a href="#l41.18"></a><span id="l41.18">          PRInt32 aDirection, PRBool aFoldersFirst, PRBool aRecurse);</span>
<a href="#l41.19"></a><span id="l41.19"> </span>
<a href="#l41.20"></a><span id="l41.20">     nsresult</span>
<a href="#l41.21"></a><span id="l41.21">     GetURLFromResource(nsIRDFResource* aResource, nsAString&amp; aURL);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

