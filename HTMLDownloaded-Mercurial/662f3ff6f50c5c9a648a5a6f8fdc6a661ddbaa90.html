<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 22989:662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90" />
<meta property="og:url" content="/comm-central/rev/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90" />
<meta property="og:description" content="Bug 1424601 - Restore the Preferences bindings/styles after their removal in toolkit in bug 1379338. rs=jorgk" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90">shortlog</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90">files</a> |
changeset |
<a href="/comm-central/raw-rev/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90">raw</a>  | <a href="/comm-central/archive/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1424601">Bug 1424601</a> - Restore the Preferences bindings/styles after their removal in toolkit in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1379338">bug 1379338</a>. rs=jorgk
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#105;&#99;&#104;&#97;&#114;&#100;&#32;&#77;&#97;&#114;&#116;&#105;&#32;&#60;&#114;&#105;&#99;&#104;&#97;&#114;&#100;&#46;&#109;&#97;&#114;&#116;&#105;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 10 Dec 2017 17:01:28 +0100</td></tr>

<tr>
 <td>changeset 22989</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90">662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90</a></td>
</tr>



<tr>
<td>parent 22988</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/1cfb05317fd671eaa55ac38409dd0cb1aca49964">1cfb05317fd671eaa55ac38409dd0cb1aca49964</a>
</td>
</tr>

<tr>
<td>child 22990</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/007155df7eb96eaa992085feb7e086d61d96e577">007155df7eb96eaa992085feb7e086d61d96e577</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90">13914</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Fri, 05 Jan 2018 10:38:36 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@662f3ff6f50c [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90&newProject=comm-central&newRevision=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90&newProject=comm-central&newRevision=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90&newProject=comm-central&newRevision=662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jorgk%29&revcount=50">jorgk</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1424601">1424601</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1379338">1379338</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1424601">Bug 1424601</a> - Restore the Preferences bindings/styles after their removal in toolkit in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1379338">bug 1379338</a>. rs=jorgk</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/common/bindings/preferences.xml">common/bindings/preferences.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/common/bindings/preferences.xml">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/common/bindings/preferences.xml">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/common/bindings/preferences.xml">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/common/bindings/preferences.xml">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/common/bindings/preferences.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/base/content/messenger.css">mail/base/content/messenger.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/base/content/messenger.css">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/base/content/messenger.css">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/base/content/messenger.css">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/base/content/messenger.css">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/base/content/messenger.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/aboutPreferences.xml">mail/components/preferences/aboutPreferences.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/aboutPreferences.xml">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/aboutPreferences.xml">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/aboutPreferences.xml">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/aboutPreferences.xml">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/aboutPreferences.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/attachmentReminder.xul">mail/components/preferences/attachmentReminder.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/attachmentReminder.xul">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/attachmentReminder.xul">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/attachmentReminder.xul">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/attachmentReminder.xul">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/attachmentReminder.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/colors.xul">mail/components/preferences/colors.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/colors.xul">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/colors.xul">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/colors.xul">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/colors.xul">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/colors.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/connection.xul">mail/components/preferences/connection.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/connection.xul">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/connection.xul">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/connection.xul">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/connection.xul">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/connection.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/fonts.xul">mail/components/preferences/fonts.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/fonts.xul">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/fonts.xul">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/fonts.xul">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/fonts.xul">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/fonts.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/jar.mn">mail/components/preferences/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/jar.mn">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/jar.mn">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/jar.mn">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/jar.mn">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.css">mail/components/preferences/preferences.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.css">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.css">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.css">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.css">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.xml">mail/components/preferences/preferences.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.xml">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.xml">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/preferences.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/receipts.xul">mail/components/preferences/receipts.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/receipts.xul">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/receipts.xul">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/receipts.xul">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/receipts.xul">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/receipts.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/sendoptions.xul">mail/components/preferences/sendoptions.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/sendoptions.xul">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/sendoptions.xul">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/sendoptions.xul">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/sendoptions.xul">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/components/preferences/sendoptions.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/linux/mail/preferences/preferences.css">mail/themes/linux/mail/preferences/preferences.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/linux/mail/preferences/preferences.css">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/linux/mail/preferences/preferences.css">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/linux/mail/preferences/preferences.css">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/linux/mail/preferences/preferences.css">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/linux/mail/preferences/preferences.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/jar.mn">mail/themes/osx/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/jar.mn">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/jar.mn">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/jar.mn">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/jar.mn">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-active.png">mail/themes/osx/mail/preferences/panebutton-active.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-active.png">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-active.png">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-active.png">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-active.png">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-active.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-inactive.png">mail/themes/osx/mail/preferences/panebutton-inactive.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-inactive.png">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-inactive.png">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-inactive.png">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-inactive.png">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/panebutton-inactive.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/preferences.css">mail/themes/osx/mail/preferences/preferences.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/preferences.css">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/preferences.css">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/preferences.css">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/preferences.css">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/osx/mail/preferences/preferences.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/windows/mail/preferences/preferences.css">mail/themes/windows/mail/preferences/preferences.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/windows/mail/preferences/preferences.css">file</a> |
<a href="/comm-central/annotate/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/windows/mail/preferences/preferences.css">annotate</a> |
<a href="/comm-central/diff/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/windows/mail/preferences/preferences.css">diff</a> |
<a href="/comm-central/comparison/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/windows/mail/preferences/preferences.css">comparison</a> |
<a href="/comm-central/log/662f3ff6f50c5c9a648a5a6f8fdc6a661ddbaa90/mail/themes/windows/mail/preferences/preferences.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1">new file mode 100644</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineminus">--- /dev/null</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineplus">+++ b/common/bindings/preferences.xml</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineat">@@ -0,0 +1,1409 @@</span>
<a href="#l1.5"></a><span id="l1.5" class="difflineplus">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineplus">+</span>
<a href="#l1.7"></a><span id="l1.7" class="difflineplus">+&lt;!DOCTYPE bindings [</span>
<a href="#l1.8"></a><span id="l1.8" class="difflineplus">+  &lt;!ENTITY % preferencesDTD SYSTEM &quot;chrome://global/locale/preferences.dtd&quot;&gt;</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineplus">+  %preferencesDTD;</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineplus">+  &lt;!ENTITY % globalKeysDTD SYSTEM &quot;chrome://global/locale/globalKeys.dtd&quot;&gt;</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineplus">+  %globalKeysDTD;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+]&gt;</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+&lt;bindings id=&quot;preferencesBindings&quot;</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+          xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+          xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+          xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+#</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+# = Preferences Window Framework</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+#</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+#   The syntax for use looks something like:</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineplus">+#</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+#   &lt;prefwindow&gt;</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineplus">+#     &lt;prefpane id=&quot;prefPaneA&quot;&gt;</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineplus">+#       &lt;preferences&gt;</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineplus">+#         &lt;preference id=&quot;preference1&quot; name=&quot;app.preference1&quot; type=&quot;bool&quot; onchange=&quot;foo();&quot;/&gt;</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineplus">+#         &lt;preference id=&quot;preference2&quot; name=&quot;app.preference2&quot; type=&quot;bool&quot; useDefault=&quot;true&quot;/&gt;</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineplus">+#       &lt;/preferences&gt;</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+#       &lt;checkbox label=&quot;Preference&quot; preference=&quot;preference1&quot;/&gt;</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+#     &lt;/prefpane&gt;</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+#   &lt;/prefwindow&gt;</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+#</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineplus">+</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineplus">+  &lt;binding id=&quot;preferences&quot;&gt;</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineplus">+    &lt;implementation implements=&quot;nsIObserver&quot;&gt;</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+      &lt;method name=&quot;_constructAfterChildren&quot;&gt;</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineplus">+      &lt;body&gt;</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+      // This method will be called after the last of the child</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineplus">+      // &lt;preference&gt; elements is constructed. Its purpose is to propagate</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineplus">+      // the values to the associated form elements. Sometimes the code for</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineplus">+      // some &lt;preference&gt; initializers depend on other &lt;preference&gt; elements</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineplus">+      // being initialized so we wait and call updateElements on all of them</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineplus">+      // once the last one has been constructed. See bugs 997570 and 992185.</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineplus">+</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineplus">+      var elements = this.getElementsByTagName(&quot;preference&quot;);</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineplus">+      for (let element of elements) {</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineplus">+        element.updateElements();</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineplus">+      }</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineplus">+</span>
<a href="#l1.52"></a><span id="l1.52" class="difflineplus">+      this._constructAfterChildrenCalled = true;</span>
<a href="#l1.53"></a><span id="l1.53" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.54"></a><span id="l1.54" class="difflineplus">+      &lt;/body&gt;</span>
<a href="#l1.55"></a><span id="l1.55" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.56"></a><span id="l1.56" class="difflineplus">+      &lt;method name=&quot;observe&quot;&gt;</span>
<a href="#l1.57"></a><span id="l1.57" class="difflineplus">+        &lt;parameter name=&quot;aSubject&quot;/&gt;</span>
<a href="#l1.58"></a><span id="l1.58" class="difflineplus">+        &lt;parameter name=&quot;aTopic&quot;/&gt;</span>
<a href="#l1.59"></a><span id="l1.59" class="difflineplus">+        &lt;parameter name=&quot;aData&quot;/&gt;</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.62"></a><span id="l1.62" class="difflineplus">+          for (var i = 0; i &lt; this.childNodes.length; ++i) {</span>
<a href="#l1.63"></a><span id="l1.63" class="difflineplus">+            var preference = this.childNodes[i];</span>
<a href="#l1.64"></a><span id="l1.64" class="difflineplus">+            if (preference.name == aData) {</span>
<a href="#l1.65"></a><span id="l1.65" class="difflineplus">+              preference.value = preference.valueFromPreferences;</span>
<a href="#l1.66"></a><span id="l1.66" class="difflineplus">+            }</span>
<a href="#l1.67"></a><span id="l1.67" class="difflineplus">+          }</span>
<a href="#l1.68"></a><span id="l1.68" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineplus">+</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineplus">+      &lt;method name=&quot;fireChangedEvent&quot;&gt;</span>
<a href="#l1.73"></a><span id="l1.73" class="difflineplus">+        &lt;parameter name=&quot;aPreference&quot;/&gt;</span>
<a href="#l1.74"></a><span id="l1.74" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.75"></a><span id="l1.75" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.76"></a><span id="l1.76" class="difflineplus">+          // Value changed, synthesize an event</span>
<a href="#l1.77"></a><span id="l1.77" class="difflineplus">+          try {</span>
<a href="#l1.78"></a><span id="l1.78" class="difflineplus">+            var event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l1.79"></a><span id="l1.79" class="difflineplus">+            event.initEvent(&quot;change&quot;, true, true);</span>
<a href="#l1.80"></a><span id="l1.80" class="difflineplus">+            aPreference.dispatchEvent(event);</span>
<a href="#l1.81"></a><span id="l1.81" class="difflineplus">+          } catch (e) {</span>
<a href="#l1.82"></a><span id="l1.82" class="difflineplus">+            Components.utils.reportError(e);</span>
<a href="#l1.83"></a><span id="l1.83" class="difflineplus">+          }</span>
<a href="#l1.84"></a><span id="l1.84" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.85"></a><span id="l1.85" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.86"></a><span id="l1.86" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.87"></a><span id="l1.87" class="difflineplus">+</span>
<a href="#l1.88"></a><span id="l1.88" class="difflineplus">+      &lt;field name=&quot;service&quot;&gt;</span>
<a href="#l1.89"></a><span id="l1.89" class="difflineplus">+        Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l1.90"></a><span id="l1.90" class="difflineplus">+                  .getService(Components.interfaces.nsIPrefService);</span>
<a href="#l1.91"></a><span id="l1.91" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l1.92"></a><span id="l1.92" class="difflineplus">+      &lt;field name=&quot;rootBranch&quot;&gt;</span>
<a href="#l1.93"></a><span id="l1.93" class="difflineplus">+        Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l1.94"></a><span id="l1.94" class="difflineplus">+                  .getService(Components.interfaces.nsIPrefBranch);</span>
<a href="#l1.95"></a><span id="l1.95" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l1.96"></a><span id="l1.96" class="difflineplus">+      &lt;field name=&quot;defaultBranch&quot;&gt;</span>
<a href="#l1.97"></a><span id="l1.97" class="difflineplus">+        this.service.getDefaultBranch(&quot;&quot;);</span>
<a href="#l1.98"></a><span id="l1.98" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l1.99"></a><span id="l1.99" class="difflineplus">+      &lt;field name=&quot;rootBranchInternal&quot;&gt;</span>
<a href="#l1.100"></a><span id="l1.100" class="difflineplus">+        Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l1.101"></a><span id="l1.101" class="difflineplus">+                  .getService(Components.interfaces.nsIPrefBranch);</span>
<a href="#l1.102"></a><span id="l1.102" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l1.103"></a><span id="l1.103" class="difflineplus">+      &lt;property name=&quot;type&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l1.104"></a><span id="l1.104" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.105"></a><span id="l1.105" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l1.106"></a><span id="l1.106" class="difflineplus">+            return document.documentElement.type || &quot;&quot;;</span>
<a href="#l1.107"></a><span id="l1.107" class="difflineplus">+          ]]&gt;</span>
<a href="#l1.108"></a><span id="l1.108" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.109"></a><span id="l1.109" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.110"></a><span id="l1.110" class="difflineplus">+      &lt;property name=&quot;instantApply&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l1.111"></a><span id="l1.111" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.112"></a><span id="l1.112" class="difflineplus">+          &lt;![CDATA[</span>
<a href="#l1.113"></a><span id="l1.113" class="difflineplus">+            var doc = document.documentElement;</span>
<a href="#l1.114"></a><span id="l1.114" class="difflineplus">+            return this.type == &quot;child&quot; ? doc.instantApply</span>
<a href="#l1.115"></a><span id="l1.115" class="difflineplus">+                                        : doc.instantApply || this.rootBranch.getBoolPref(&quot;browser.preferences.instantApply&quot;);</span>
<a href="#l1.116"></a><span id="l1.116" class="difflineplus">+          ]]&gt;</span>
<a href="#l1.117"></a><span id="l1.117" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.118"></a><span id="l1.118" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.119"></a><span id="l1.119" class="difflineplus">+</span>
<a href="#l1.120"></a><span id="l1.120" class="difflineplus">+      &lt;!-- We want to call _constructAfterChildren after all child</span>
<a href="#l1.121"></a><span id="l1.121" class="difflineplus">+           &lt;preference&gt; elements have been constructed. To do this, we get</span>
<a href="#l1.122"></a><span id="l1.122" class="difflineplus">+           and store the node list of all child &lt;preference&gt; elements in the</span>
<a href="#l1.123"></a><span id="l1.123" class="difflineplus">+           constructor, and maintain a count which is incremented in the</span>
<a href="#l1.124"></a><span id="l1.124" class="difflineplus">+           constructor of &lt;preference&gt;. _constructAfterChildren is called</span>
<a href="#l1.125"></a><span id="l1.125" class="difflineplus">+           when the count matches the length of the list. --&gt;</span>
<a href="#l1.126"></a><span id="l1.126" class="difflineplus">+      &lt;field name=&quot;_constructedChildrenCount&quot;&gt;0&lt;/field&gt;</span>
<a href="#l1.127"></a><span id="l1.127" class="difflineplus">+      &lt;field name=&quot;_preferenceChildren&quot;&gt;null&lt;/field&gt;</span>
<a href="#l1.128"></a><span id="l1.128" class="difflineplus">+      &lt;!-- Some &lt;preference&gt; elements are added dynamically after</span>
<a href="#l1.129"></a><span id="l1.129" class="difflineplus">+           _constructAfterChildren has already been called - we want to</span>
<a href="#l1.130"></a><span id="l1.130" class="difflineplus">+           avoid looping over all of them again in this case so we remember</span>
<a href="#l1.131"></a><span id="l1.131" class="difflineplus">+           if we already called it. --&gt;</span>
<a href="#l1.132"></a><span id="l1.132" class="difflineplus">+      &lt;field name=&quot;_constructAfterChildrenCalled&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.133"></a><span id="l1.133" class="difflineplus">+      &lt;constructor&gt;</span>
<a href="#l1.134"></a><span id="l1.134" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.135"></a><span id="l1.135" class="difflineplus">+        this._preferenceChildren = this.getElementsByTagName(&quot;preference&quot;);</span>
<a href="#l1.136"></a><span id="l1.136" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.137"></a><span id="l1.137" class="difflineplus">+      &lt;/constructor&gt;</span>
<a href="#l1.138"></a><span id="l1.138" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l1.139"></a><span id="l1.139" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l1.140"></a><span id="l1.140" class="difflineplus">+</span>
<a href="#l1.141"></a><span id="l1.141" class="difflineplus">+  &lt;binding id=&quot;preference&quot;&gt;</span>
<a href="#l1.142"></a><span id="l1.142" class="difflineplus">+    &lt;implementation&gt;</span>
<a href="#l1.143"></a><span id="l1.143" class="difflineplus">+      &lt;constructor&gt;</span>
<a href="#l1.144"></a><span id="l1.144" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.145"></a><span id="l1.145" class="difflineplus">+        // if the element has been inserted without the name attribute set,</span>
<a href="#l1.146"></a><span id="l1.146" class="difflineplus">+        // we have nothing to do here</span>
<a href="#l1.147"></a><span id="l1.147" class="difflineplus">+        if (!this.name)</span>
<a href="#l1.148"></a><span id="l1.148" class="difflineplus">+          return;</span>
<a href="#l1.149"></a><span id="l1.149" class="difflineplus">+</span>
<a href="#l1.150"></a><span id="l1.150" class="difflineplus">+        this.preferences.rootBranchInternal</span>
<a href="#l1.151"></a><span id="l1.151" class="difflineplus">+            .addObserver(this.name, this.preferences);</span>
<a href="#l1.152"></a><span id="l1.152" class="difflineplus">+        // In non-instant apply mode, we must try and use the last saved state</span>
<a href="#l1.153"></a><span id="l1.153" class="difflineplus">+        // from any previous opens of a child dialog instead of the value from</span>
<a href="#l1.154"></a><span id="l1.154" class="difflineplus">+        // preferences, to pick up any edits a user may have made.</span>
<a href="#l1.155"></a><span id="l1.155" class="difflineplus">+</span>
<a href="#l1.156"></a><span id="l1.156" class="difflineplus">+        var secMan = Components.classes[&quot;@mozilla.org/scriptsecuritymanager;1&quot;]</span>
<a href="#l1.157"></a><span id="l1.157" class="difflineplus">+                    .getService(Components.interfaces.nsIScriptSecurityManager);</span>
<a href="#l1.158"></a><span id="l1.158" class="difflineplus">+        if (this.preferences.type == &quot;child&quot; &amp;&amp;</span>
<a href="#l1.159"></a><span id="l1.159" class="difflineplus">+            !this.instantApply &amp;&amp; window.opener &amp;&amp;</span>
<a href="#l1.160"></a><span id="l1.160" class="difflineplus">+            secMan.isSystemPrincipal(window.opener.document.nodePrincipal)) {</span>
<a href="#l1.161"></a><span id="l1.161" class="difflineplus">+          var pdoc = window.opener.document;</span>
<a href="#l1.162"></a><span id="l1.162" class="difflineplus">+</span>
<a href="#l1.163"></a><span id="l1.163" class="difflineplus">+          // Try to find a preference element for the same preference.</span>
<a href="#l1.164"></a><span id="l1.164" class="difflineplus">+          var preference = null;</span>
<a href="#l1.165"></a><span id="l1.165" class="difflineplus">+          var parentPreferences = pdoc.getElementsByTagName(&quot;preferences&quot;);</span>
<a href="#l1.166"></a><span id="l1.166" class="difflineplus">+          for (var k = 0; (k &lt; parentPreferences.length &amp;&amp; !preference); ++k) {</span>
<a href="#l1.167"></a><span id="l1.167" class="difflineplus">+            var parentPrefs = parentPreferences[k]</span>
<a href="#l1.168"></a><span id="l1.168" class="difflineplus">+                                    .getElementsByAttribute(&quot;name&quot;, this.name);</span>
<a href="#l1.169"></a><span id="l1.169" class="difflineplus">+            for (var l = 0; (l &lt; parentPrefs.length &amp;&amp; !preference); ++l) {</span>
<a href="#l1.170"></a><span id="l1.170" class="difflineplus">+              if (parentPrefs[l].localName == &quot;preference&quot;)</span>
<a href="#l1.171"></a><span id="l1.171" class="difflineplus">+                preference = parentPrefs[l];</span>
<a href="#l1.172"></a><span id="l1.172" class="difflineplus">+            }</span>
<a href="#l1.173"></a><span id="l1.173" class="difflineplus">+          }</span>
<a href="#l1.174"></a><span id="l1.174" class="difflineplus">+</span>
<a href="#l1.175"></a><span id="l1.175" class="difflineplus">+          // Don't use the value setter here, we don't want updateElements to be prematurely fired.</span>
<a href="#l1.176"></a><span id="l1.176" class="difflineplus">+          this._value = preference ? preference.value : this.valueFromPreferences;</span>
<a href="#l1.177"></a><span id="l1.177" class="difflineplus">+        } else {</span>
<a href="#l1.178"></a><span id="l1.178" class="difflineplus">+          this._value = this.valueFromPreferences;</span>
<a href="#l1.179"></a><span id="l1.179" class="difflineplus">+        }</span>
<a href="#l1.180"></a><span id="l1.180" class="difflineplus">+        if (this.preferences._constructAfterChildrenCalled) {</span>
<a href="#l1.181"></a><span id="l1.181" class="difflineplus">+          // This &lt;preference&gt; was added after _constructAfterChildren() was already called.</span>
<a href="#l1.182"></a><span id="l1.182" class="difflineplus">+          // We can directly call updateElements().</span>
<a href="#l1.183"></a><span id="l1.183" class="difflineplus">+          this.updateElements();</span>
<a href="#l1.184"></a><span id="l1.184" class="difflineplus">+          return;</span>
<a href="#l1.185"></a><span id="l1.185" class="difflineplus">+        }</span>
<a href="#l1.186"></a><span id="l1.186" class="difflineplus">+        this.preferences._constructedChildrenCount++;</span>
<a href="#l1.187"></a><span id="l1.187" class="difflineplus">+        if (this.preferences._constructedChildrenCount ==</span>
<a href="#l1.188"></a><span id="l1.188" class="difflineplus">+            this.preferences._preferenceChildren.length) {</span>
<a href="#l1.189"></a><span id="l1.189" class="difflineplus">+          // This is the last &lt;preference&gt;, time to updateElements() on all of them.</span>
<a href="#l1.190"></a><span id="l1.190" class="difflineplus">+          this.preferences._constructAfterChildren();</span>
<a href="#l1.191"></a><span id="l1.191" class="difflineplus">+        }</span>
<a href="#l1.192"></a><span id="l1.192" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.193"></a><span id="l1.193" class="difflineplus">+      &lt;/constructor&gt;</span>
<a href="#l1.194"></a><span id="l1.194" class="difflineplus">+      &lt;destructor&gt;</span>
<a href="#l1.195"></a><span id="l1.195" class="difflineplus">+        this.preferences.rootBranchInternal</span>
<a href="#l1.196"></a><span id="l1.196" class="difflineplus">+            .removeObserver(this.name, this.preferences);</span>
<a href="#l1.197"></a><span id="l1.197" class="difflineplus">+      &lt;/destructor&gt;</span>
<a href="#l1.198"></a><span id="l1.198" class="difflineplus">+      &lt;field name=&quot;_constructed&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.199"></a><span id="l1.199" class="difflineplus">+      &lt;property name=&quot;instantApply&quot;&gt;</span>
<a href="#l1.200"></a><span id="l1.200" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.201"></a><span id="l1.201" class="difflineplus">+          if (this.getAttribute(&quot;instantApply&quot;) == &quot;false&quot;)</span>
<a href="#l1.202"></a><span id="l1.202" class="difflineplus">+            return false;</span>
<a href="#l1.203"></a><span id="l1.203" class="difflineplus">+          return this.getAttribute(&quot;instantApply&quot;) == &quot;true&quot; || this.preferences.instantApply;</span>
<a href="#l1.204"></a><span id="l1.204" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.205"></a><span id="l1.205" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.206"></a><span id="l1.206" class="difflineplus">+</span>
<a href="#l1.207"></a><span id="l1.207" class="difflineplus">+      &lt;property name=&quot;preferences&quot; onget=&quot;return this.parentNode&quot;/&gt;</span>
<a href="#l1.208"></a><span id="l1.208" class="difflineplus">+      &lt;property name=&quot;name&quot; onget=&quot;return this.getAttribute('name');&quot;&gt;</span>
<a href="#l1.209"></a><span id="l1.209" class="difflineplus">+        &lt;setter&gt;</span>
<a href="#l1.210"></a><span id="l1.210" class="difflineplus">+          if (val == this.name)</span>
<a href="#l1.211"></a><span id="l1.211" class="difflineplus">+            return val;</span>
<a href="#l1.212"></a><span id="l1.212" class="difflineplus">+</span>
<a href="#l1.213"></a><span id="l1.213" class="difflineplus">+          this.preferences.rootBranchInternal</span>
<a href="#l1.214"></a><span id="l1.214" class="difflineplus">+              .removeObserver(this.name, this.preferences);</span>
<a href="#l1.215"></a><span id="l1.215" class="difflineplus">+          this.setAttribute(&quot;name&quot;, val);</span>
<a href="#l1.216"></a><span id="l1.216" class="difflineplus">+          this.preferences.rootBranchInternal</span>
<a href="#l1.217"></a><span id="l1.217" class="difflineplus">+              .addObserver(val, this.preferences);</span>
<a href="#l1.218"></a><span id="l1.218" class="difflineplus">+</span>
<a href="#l1.219"></a><span id="l1.219" class="difflineplus">+          return val;</span>
<a href="#l1.220"></a><span id="l1.220" class="difflineplus">+        &lt;/setter&gt;</span>
<a href="#l1.221"></a><span id="l1.221" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.222"></a><span id="l1.222" class="difflineplus">+      &lt;property name=&quot;type&quot; onget=&quot;return this.getAttribute('type');&quot;</span>
<a href="#l1.223"></a><span id="l1.223" class="difflineplus">+                            onset=&quot;this.setAttribute('type', val); return val;&quot;/&gt;</span>
<a href="#l1.224"></a><span id="l1.224" class="difflineplus">+      &lt;property name=&quot;inverted&quot; onget=&quot;return this.getAttribute('inverted') == 'true';&quot;</span>
<a href="#l1.225"></a><span id="l1.225" class="difflineplus">+                                onset=&quot;this.setAttribute('inverted', val); return val;&quot;/&gt;</span>
<a href="#l1.226"></a><span id="l1.226" class="difflineplus">+      &lt;property name=&quot;readonly&quot; onget=&quot;return this.getAttribute('readonly') == 'true';&quot;</span>
<a href="#l1.227"></a><span id="l1.227" class="difflineplus">+                                onset=&quot;this.setAttribute('readonly', val); return val;&quot;/&gt;</span>
<a href="#l1.228"></a><span id="l1.228" class="difflineplus">+</span>
<a href="#l1.229"></a><span id="l1.229" class="difflineplus">+      &lt;field name=&quot;_value&quot;&gt;null&lt;/field&gt;</span>
<a href="#l1.230"></a><span id="l1.230" class="difflineplus">+      &lt;method name=&quot;_setValue&quot;&gt;</span>
<a href="#l1.231"></a><span id="l1.231" class="difflineplus">+        &lt;parameter name=&quot;aValue&quot;/&gt;</span>
<a href="#l1.232"></a><span id="l1.232" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.233"></a><span id="l1.233" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.234"></a><span id="l1.234" class="difflineplus">+          if (this.value !== aValue) {</span>
<a href="#l1.235"></a><span id="l1.235" class="difflineplus">+            this._value = aValue;</span>
<a href="#l1.236"></a><span id="l1.236" class="difflineplus">+            if (this.instantApply)</span>
<a href="#l1.237"></a><span id="l1.237" class="difflineplus">+              this.valueFromPreferences = aValue;</span>
<a href="#l1.238"></a><span id="l1.238" class="difflineplus">+            this.preferences.fireChangedEvent(this);</span>
<a href="#l1.239"></a><span id="l1.239" class="difflineplus">+          }</span>
<a href="#l1.240"></a><span id="l1.240" class="difflineplus">+          return aValue;</span>
<a href="#l1.241"></a><span id="l1.241" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.242"></a><span id="l1.242" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.243"></a><span id="l1.243" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.244"></a><span id="l1.244" class="difflineplus">+      &lt;property name=&quot;value&quot; onget=&quot;return this._value&quot; onset=&quot;return this._setValue(val);&quot;/&gt;</span>
<a href="#l1.245"></a><span id="l1.245" class="difflineplus">+</span>
<a href="#l1.246"></a><span id="l1.246" class="difflineplus">+      &lt;property name=&quot;locked&quot;&gt;</span>
<a href="#l1.247"></a><span id="l1.247" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.248"></a><span id="l1.248" class="difflineplus">+          return this.preferences.rootBranch.prefIsLocked(this.name);</span>
<a href="#l1.249"></a><span id="l1.249" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.250"></a><span id="l1.250" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.251"></a><span id="l1.251" class="difflineplus">+</span>
<a href="#l1.252"></a><span id="l1.252" class="difflineplus">+      &lt;property name=&quot;disabled&quot;&gt;</span>
<a href="#l1.253"></a><span id="l1.253" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.254"></a><span id="l1.254" class="difflineplus">+          return this.getAttribute(&quot;disabled&quot;) == &quot;true&quot;;</span>
<a href="#l1.255"></a><span id="l1.255" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.256"></a><span id="l1.256" class="difflineplus">+        &lt;setter&gt;</span>
<a href="#l1.257"></a><span id="l1.257" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.258"></a><span id="l1.258" class="difflineplus">+          if (val)</span>
<a href="#l1.259"></a><span id="l1.259" class="difflineplus">+            this.setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l1.260"></a><span id="l1.260" class="difflineplus">+          else</span>
<a href="#l1.261"></a><span id="l1.261" class="difflineplus">+            this.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l1.262"></a><span id="l1.262" class="difflineplus">+</span>
<a href="#l1.263"></a><span id="l1.263" class="difflineplus">+          if (!this.id)</span>
<a href="#l1.264"></a><span id="l1.264" class="difflineplus">+            return val;</span>
<a href="#l1.265"></a><span id="l1.265" class="difflineplus">+</span>
<a href="#l1.266"></a><span id="l1.266" class="difflineplus">+          var elements = document.getElementsByAttribute(&quot;preference&quot;, this.id);</span>
<a href="#l1.267"></a><span id="l1.267" class="difflineplus">+          for (var i = 0; i &lt; elements.length; ++i) {</span>
<a href="#l1.268"></a><span id="l1.268" class="difflineplus">+            elements[i].disabled = val;</span>
<a href="#l1.269"></a><span id="l1.269" class="difflineplus">+</span>
<a href="#l1.270"></a><span id="l1.270" class="difflineplus">+            var labels = document.getElementsByAttribute(&quot;control&quot;, elements[i].id);</span>
<a href="#l1.271"></a><span id="l1.271" class="difflineplus">+            for (var j = 0; j &lt; labels.length; ++j)</span>
<a href="#l1.272"></a><span id="l1.272" class="difflineplus">+              labels[j].disabled = val;</span>
<a href="#l1.273"></a><span id="l1.273" class="difflineplus">+          }</span>
<a href="#l1.274"></a><span id="l1.274" class="difflineplus">+</span>
<a href="#l1.275"></a><span id="l1.275" class="difflineplus">+          return val;</span>
<a href="#l1.276"></a><span id="l1.276" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.277"></a><span id="l1.277" class="difflineplus">+        &lt;/setter&gt;</span>
<a href="#l1.278"></a><span id="l1.278" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.279"></a><span id="l1.279" class="difflineplus">+</span>
<a href="#l1.280"></a><span id="l1.280" class="difflineplus">+      &lt;property name=&quot;tabIndex&quot;&gt;</span>
<a href="#l1.281"></a><span id="l1.281" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.282"></a><span id="l1.282" class="difflineplus">+          return parseInt(this.getAttribute(&quot;tabindex&quot;));</span>
<a href="#l1.283"></a><span id="l1.283" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.284"></a><span id="l1.284" class="difflineplus">+        &lt;setter&gt;</span>
<a href="#l1.285"></a><span id="l1.285" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.286"></a><span id="l1.286" class="difflineplus">+          if (val)</span>
<a href="#l1.287"></a><span id="l1.287" class="difflineplus">+            this.setAttribute(&quot;tabindex&quot;, val);</span>
<a href="#l1.288"></a><span id="l1.288" class="difflineplus">+          else</span>
<a href="#l1.289"></a><span id="l1.289" class="difflineplus">+            this.removeAttribute(&quot;tabindex&quot;);</span>
<a href="#l1.290"></a><span id="l1.290" class="difflineplus">+</span>
<a href="#l1.291"></a><span id="l1.291" class="difflineplus">+          if (!this.id)</span>
<a href="#l1.292"></a><span id="l1.292" class="difflineplus">+            return val;</span>
<a href="#l1.293"></a><span id="l1.293" class="difflineplus">+</span>
<a href="#l1.294"></a><span id="l1.294" class="difflineplus">+          var elements = document.getElementsByAttribute(&quot;preference&quot;, this.id);</span>
<a href="#l1.295"></a><span id="l1.295" class="difflineplus">+          for (var i = 0; i &lt; elements.length; ++i) {</span>
<a href="#l1.296"></a><span id="l1.296" class="difflineplus">+            elements[i].tabIndex = val;</span>
<a href="#l1.297"></a><span id="l1.297" class="difflineplus">+</span>
<a href="#l1.298"></a><span id="l1.298" class="difflineplus">+            var labels = document.getElementsByAttribute(&quot;control&quot;, elements[i].id);</span>
<a href="#l1.299"></a><span id="l1.299" class="difflineplus">+            for (var j = 0; j &lt; labels.length; ++j)</span>
<a href="#l1.300"></a><span id="l1.300" class="difflineplus">+              labels[j].tabIndex = val;</span>
<a href="#l1.301"></a><span id="l1.301" class="difflineplus">+          }</span>
<a href="#l1.302"></a><span id="l1.302" class="difflineplus">+</span>
<a href="#l1.303"></a><span id="l1.303" class="difflineplus">+          return val;</span>
<a href="#l1.304"></a><span id="l1.304" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.305"></a><span id="l1.305" class="difflineplus">+        &lt;/setter&gt;</span>
<a href="#l1.306"></a><span id="l1.306" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.307"></a><span id="l1.307" class="difflineplus">+</span>
<a href="#l1.308"></a><span id="l1.308" class="difflineplus">+      &lt;property name=&quot;hasUserValue&quot;&gt;</span>
<a href="#l1.309"></a><span id="l1.309" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.310"></a><span id="l1.310" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.311"></a><span id="l1.311" class="difflineplus">+          return this.preferences.rootBranch.prefHasUserValue(this.name) &amp;&amp;</span>
<a href="#l1.312"></a><span id="l1.312" class="difflineplus">+                 this.value !== undefined;</span>
<a href="#l1.313"></a><span id="l1.313" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.314"></a><span id="l1.314" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.315"></a><span id="l1.315" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.316"></a><span id="l1.316" class="difflineplus">+</span>
<a href="#l1.317"></a><span id="l1.317" class="difflineplus">+      &lt;method name=&quot;reset&quot;&gt;</span>
<a href="#l1.318"></a><span id="l1.318" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.319"></a><span id="l1.319" class="difflineplus">+          // defer reset until preference update</span>
<a href="#l1.320"></a><span id="l1.320" class="difflineplus">+          this.value = undefined;</span>
<a href="#l1.321"></a><span id="l1.321" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.322"></a><span id="l1.322" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.323"></a><span id="l1.323" class="difflineplus">+</span>
<a href="#l1.324"></a><span id="l1.324" class="difflineplus">+      &lt;field name=&quot;_useDefault&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.325"></a><span id="l1.325" class="difflineplus">+      &lt;property name=&quot;defaultValue&quot;&gt;</span>
<a href="#l1.326"></a><span id="l1.326" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.327"></a><span id="l1.327" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.328"></a><span id="l1.328" class="difflineplus">+          this._useDefault = true;</span>
<a href="#l1.329"></a><span id="l1.329" class="difflineplus">+          var val = this.valueFromPreferences;</span>
<a href="#l1.330"></a><span id="l1.330" class="difflineplus">+          this._useDefault = false;</span>
<a href="#l1.331"></a><span id="l1.331" class="difflineplus">+          return val;</span>
<a href="#l1.332"></a><span id="l1.332" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.333"></a><span id="l1.333" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.334"></a><span id="l1.334" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.335"></a><span id="l1.335" class="difflineplus">+</span>
<a href="#l1.336"></a><span id="l1.336" class="difflineplus">+      &lt;property name=&quot;_branch&quot;&gt;</span>
<a href="#l1.337"></a><span id="l1.337" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.338"></a><span id="l1.338" class="difflineplus">+          return this._useDefault ? this.preferences.defaultBranch : this.preferences.rootBranch;</span>
<a href="#l1.339"></a><span id="l1.339" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.340"></a><span id="l1.340" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.341"></a><span id="l1.341" class="difflineplus">+</span>
<a href="#l1.342"></a><span id="l1.342" class="difflineplus">+      &lt;field name=&quot;batching&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.343"></a><span id="l1.343" class="difflineplus">+</span>
<a href="#l1.344"></a><span id="l1.344" class="difflineplus">+      &lt;method name=&quot;_reportUnknownType&quot;&gt;</span>
<a href="#l1.345"></a><span id="l1.345" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.346"></a><span id="l1.346" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.347"></a><span id="l1.347" class="difflineplus">+          var consoleService = Components.classes[&quot;@mozilla.org/consoleservice;1&quot;]</span>
<a href="#l1.348"></a><span id="l1.348" class="difflineplus">+                                         .getService(Components.interfaces.nsIConsoleService);</span>
<a href="#l1.349"></a><span id="l1.349" class="difflineplus">+          var msg = &quot;&lt;preference&gt; with id='&quot; + this.id + &quot;' and name='&quot; +</span>
<a href="#l1.350"></a><span id="l1.350" class="difflineplus">+                    this.name + &quot;' has unknown type '&quot; + this.type + &quot;'.&quot;;</span>
<a href="#l1.351"></a><span id="l1.351" class="difflineplus">+          consoleService.logStringMessage(msg);</span>
<a href="#l1.352"></a><span id="l1.352" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.353"></a><span id="l1.353" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.354"></a><span id="l1.354" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.355"></a><span id="l1.355" class="difflineplus">+</span>
<a href="#l1.356"></a><span id="l1.356" class="difflineplus">+      &lt;property name=&quot;valueFromPreferences&quot;&gt;</span>
<a href="#l1.357"></a><span id="l1.357" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.358"></a><span id="l1.358" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.359"></a><span id="l1.359" class="difflineplus">+          try {</span>
<a href="#l1.360"></a><span id="l1.360" class="difflineplus">+            // Force a resync of value with preferences.</span>
<a href="#l1.361"></a><span id="l1.361" class="difflineplus">+            switch (this.type) {</span>
<a href="#l1.362"></a><span id="l1.362" class="difflineplus">+            case &quot;int&quot;:</span>
<a href="#l1.363"></a><span id="l1.363" class="difflineplus">+              return this._branch.getIntPref(this.name);</span>
<a href="#l1.364"></a><span id="l1.364" class="difflineplus">+            case &quot;bool&quot;:</span>
<a href="#l1.365"></a><span id="l1.365" class="difflineplus">+              var val = this._branch.getBoolPref(this.name);</span>
<a href="#l1.366"></a><span id="l1.366" class="difflineplus">+              return this.inverted ? !val : val;</span>
<a href="#l1.367"></a><span id="l1.367" class="difflineplus">+            case &quot;wstring&quot;:</span>
<a href="#l1.368"></a><span id="l1.368" class="difflineplus">+              return this._branch</span>
<a href="#l1.369"></a><span id="l1.369" class="difflineplus">+                         .getComplexValue(this.name, Components.interfaces.nsIPrefLocalizedString)</span>
<a href="#l1.370"></a><span id="l1.370" class="difflineplus">+                         .data;</span>
<a href="#l1.371"></a><span id="l1.371" class="difflineplus">+            case &quot;string&quot;:</span>
<a href="#l1.372"></a><span id="l1.372" class="difflineplus">+            case &quot;unichar&quot;:</span>
<a href="#l1.373"></a><span id="l1.373" class="difflineplus">+              return this._branch.getStringPref(this.name);</span>
<a href="#l1.374"></a><span id="l1.374" class="difflineplus">+            case &quot;fontname&quot;:</span>
<a href="#l1.375"></a><span id="l1.375" class="difflineplus">+              var family = this._branch.getStringPref(this.name);</span>
<a href="#l1.376"></a><span id="l1.376" class="difflineplus">+              var fontEnumerator = Components.classes[&quot;@mozilla.org/gfx/fontenumerator;1&quot;]</span>
<a href="#l1.377"></a><span id="l1.377" class="difflineplus">+                                             .createInstance(Components.interfaces.nsIFontEnumerator);</span>
<a href="#l1.378"></a><span id="l1.378" class="difflineplus">+              return fontEnumerator.getStandardFamilyName(family);</span>
<a href="#l1.379"></a><span id="l1.379" class="difflineplus">+            case &quot;file&quot;:</span>
<a href="#l1.380"></a><span id="l1.380" class="difflineplus">+              var f = this._branch</span>
<a href="#l1.381"></a><span id="l1.381" class="difflineplus">+                          .getComplexValue(this.name, Components.interfaces.nsIFile);</span>
<a href="#l1.382"></a><span id="l1.382" class="difflineplus">+              return f;</span>
<a href="#l1.383"></a><span id="l1.383" class="difflineplus">+            default:</span>
<a href="#l1.384"></a><span id="l1.384" class="difflineplus">+              this._reportUnknownType();</span>
<a href="#l1.385"></a><span id="l1.385" class="difflineplus">+            }</span>
<a href="#l1.386"></a><span id="l1.386" class="difflineplus">+          } catch (e) { }</span>
<a href="#l1.387"></a><span id="l1.387" class="difflineplus">+          return null;</span>
<a href="#l1.388"></a><span id="l1.388" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.389"></a><span id="l1.389" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.390"></a><span id="l1.390" class="difflineplus">+        &lt;setter&gt;</span>
<a href="#l1.391"></a><span id="l1.391" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.392"></a><span id="l1.392" class="difflineplus">+          // Exit early if nothing to do.</span>
<a href="#l1.393"></a><span id="l1.393" class="difflineplus">+          if (this.readonly || this.valueFromPreferences == val)</span>
<a href="#l1.394"></a><span id="l1.394" class="difflineplus">+            return val;</span>
<a href="#l1.395"></a><span id="l1.395" class="difflineplus">+</span>
<a href="#l1.396"></a><span id="l1.396" class="difflineplus">+          // The special value undefined means 'reset preference to default'.</span>
<a href="#l1.397"></a><span id="l1.397" class="difflineplus">+          if (val === undefined) {</span>
<a href="#l1.398"></a><span id="l1.398" class="difflineplus">+            this.preferences.rootBranch.clearUserPref(this.name);</span>
<a href="#l1.399"></a><span id="l1.399" class="difflineplus">+            return val;</span>
<a href="#l1.400"></a><span id="l1.400" class="difflineplus">+          }</span>
<a href="#l1.401"></a><span id="l1.401" class="difflineplus">+</span>
<a href="#l1.402"></a><span id="l1.402" class="difflineplus">+          // Force a resync of preferences with value.</span>
<a href="#l1.403"></a><span id="l1.403" class="difflineplus">+          switch (this.type) {</span>
<a href="#l1.404"></a><span id="l1.404" class="difflineplus">+          case &quot;int&quot;:</span>
<a href="#l1.405"></a><span id="l1.405" class="difflineplus">+            this.preferences.rootBranch.setIntPref(this.name, val);</span>
<a href="#l1.406"></a><span id="l1.406" class="difflineplus">+            break;</span>
<a href="#l1.407"></a><span id="l1.407" class="difflineplus">+          case &quot;bool&quot;:</span>
<a href="#l1.408"></a><span id="l1.408" class="difflineplus">+            this.preferences.rootBranch.setBoolPref(this.name, this.inverted ? !val : val);</span>
<a href="#l1.409"></a><span id="l1.409" class="difflineplus">+            break;</span>
<a href="#l1.410"></a><span id="l1.410" class="difflineplus">+          case &quot;wstring&quot;:</span>
<a href="#l1.411"></a><span id="l1.411" class="difflineplus">+            var pls = Components.classes[&quot;@mozilla.org/pref-localizedstring;1&quot;]</span>
<a href="#l1.412"></a><span id="l1.412" class="difflineplus">+                                .createInstance(Components.interfaces.nsIPrefLocalizedString);</span>
<a href="#l1.413"></a><span id="l1.413" class="difflineplus">+            pls.data = val;</span>
<a href="#l1.414"></a><span id="l1.414" class="difflineplus">+            this.preferences.rootBranch</span>
<a href="#l1.415"></a><span id="l1.415" class="difflineplus">+                .setComplexValue(this.name, Components.interfaces.nsIPrefLocalizedString, pls);</span>
<a href="#l1.416"></a><span id="l1.416" class="difflineplus">+            break;</span>
<a href="#l1.417"></a><span id="l1.417" class="difflineplus">+          case &quot;string&quot;:</span>
<a href="#l1.418"></a><span id="l1.418" class="difflineplus">+          case &quot;unichar&quot;:</span>
<a href="#l1.419"></a><span id="l1.419" class="difflineplus">+          case &quot;fontname&quot;:</span>
<a href="#l1.420"></a><span id="l1.420" class="difflineplus">+            this.preferences.rootBranch.setStringPref(this.name, val);</span>
<a href="#l1.421"></a><span id="l1.421" class="difflineplus">+            break;</span>
<a href="#l1.422"></a><span id="l1.422" class="difflineplus">+          case &quot;file&quot;:</span>
<a href="#l1.423"></a><span id="l1.423" class="difflineplus">+            var lf;</span>
<a href="#l1.424"></a><span id="l1.424" class="difflineplus">+            if (typeof(val) == &quot;string&quot;) {</span>
<a href="#l1.425"></a><span id="l1.425" class="difflineplus">+              lf = Components.classes[&quot;@mozilla.org/file/local;1&quot;]</span>
<a href="#l1.426"></a><span id="l1.426" class="difflineplus">+                             .createInstance(Components.interfaces.nsIFile);</span>
<a href="#l1.427"></a><span id="l1.427" class="difflineplus">+              lf.persistentDescriptor = val;</span>
<a href="#l1.428"></a><span id="l1.428" class="difflineplus">+              if (!lf.exists())</span>
<a href="#l1.429"></a><span id="l1.429" class="difflineplus">+                lf.initWithPath(val);</span>
<a href="#l1.430"></a><span id="l1.430" class="difflineplus">+            } else</span>
<a href="#l1.431"></a><span id="l1.431" class="difflineplus">+              lf = val.QueryInterface(Components.interfaces.nsIFile);</span>
<a href="#l1.432"></a><span id="l1.432" class="difflineplus">+            this.preferences.rootBranch</span>
<a href="#l1.433"></a><span id="l1.433" class="difflineplus">+                .setComplexValue(this.name, Components.interfaces.nsIFile, lf);</span>
<a href="#l1.434"></a><span id="l1.434" class="difflineplus">+            break;</span>
<a href="#l1.435"></a><span id="l1.435" class="difflineplus">+          default:</span>
<a href="#l1.436"></a><span id="l1.436" class="difflineplus">+            this._reportUnknownType();</span>
<a href="#l1.437"></a><span id="l1.437" class="difflineplus">+          }</span>
<a href="#l1.438"></a><span id="l1.438" class="difflineplus">+          if (!this.batching)</span>
<a href="#l1.439"></a><span id="l1.439" class="difflineplus">+            this.preferences.service.savePrefFile(null);</span>
<a href="#l1.440"></a><span id="l1.440" class="difflineplus">+          return val;</span>
<a href="#l1.441"></a><span id="l1.441" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.442"></a><span id="l1.442" class="difflineplus">+        &lt;/setter&gt;</span>
<a href="#l1.443"></a><span id="l1.443" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.444"></a><span id="l1.444" class="difflineplus">+</span>
<a href="#l1.445"></a><span id="l1.445" class="difflineplus">+      &lt;method name=&quot;setElementValue&quot;&gt;</span>
<a href="#l1.446"></a><span id="l1.446" class="difflineplus">+        &lt;parameter name=&quot;aElement&quot;/&gt;</span>
<a href="#l1.447"></a><span id="l1.447" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.448"></a><span id="l1.448" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.449"></a><span id="l1.449" class="difflineplus">+          if (this.locked)</span>
<a href="#l1.450"></a><span id="l1.450" class="difflineplus">+            aElement.disabled = true;</span>
<a href="#l1.451"></a><span id="l1.451" class="difflineplus">+</span>
<a href="#l1.452"></a><span id="l1.452" class="difflineplus">+          if (!this.isElementEditable(aElement))</span>
<a href="#l1.453"></a><span id="l1.453" class="difflineplus">+            return;</span>
<a href="#l1.454"></a><span id="l1.454" class="difflineplus">+</span>
<a href="#l1.455"></a><span id="l1.455" class="difflineplus">+          var rv = undefined;</span>
<a href="#l1.456"></a><span id="l1.456" class="difflineplus">+          if (aElement.hasAttribute(&quot;onsyncfrompreference&quot;)) {</span>
<a href="#l1.457"></a><span id="l1.457" class="difflineplus">+            // Value changed, synthesize an event</span>
<a href="#l1.458"></a><span id="l1.458" class="difflineplus">+            try {</span>
<a href="#l1.459"></a><span id="l1.459" class="difflineplus">+              var event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l1.460"></a><span id="l1.460" class="difflineplus">+              event.initEvent(&quot;syncfrompreference&quot;, true, true);</span>
<a href="#l1.461"></a><span id="l1.461" class="difflineplus">+              var f = new Function(&quot;event&quot;,</span>
<a href="#l1.462"></a><span id="l1.462" class="difflineplus">+                                   aElement.getAttribute(&quot;onsyncfrompreference&quot;));</span>
<a href="#l1.463"></a><span id="l1.463" class="difflineplus">+              rv = f.call(aElement, event);</span>
<a href="#l1.464"></a><span id="l1.464" class="difflineplus">+            } catch (e) {</span>
<a href="#l1.465"></a><span id="l1.465" class="difflineplus">+              Components.utils.reportError(e);</span>
<a href="#l1.466"></a><span id="l1.466" class="difflineplus">+            }</span>
<a href="#l1.467"></a><span id="l1.467" class="difflineplus">+          }</span>
<a href="#l1.468"></a><span id="l1.468" class="difflineplus">+          var val = rv;</span>
<a href="#l1.469"></a><span id="l1.469" class="difflineplus">+          if (val === undefined)</span>
<a href="#l1.470"></a><span id="l1.470" class="difflineplus">+            val = this.instantApply ? this.valueFromPreferences : this.value;</span>
<a href="#l1.471"></a><span id="l1.471" class="difflineplus">+          // if the preference is marked for reset, show default value in UI</span>
<a href="#l1.472"></a><span id="l1.472" class="difflineplus">+          if (val === undefined)</span>
<a href="#l1.473"></a><span id="l1.473" class="difflineplus">+            val = this.defaultValue;</span>
<a href="#l1.474"></a><span id="l1.474" class="difflineplus">+</span>
<a href="#l1.475"></a><span id="l1.475" class="difflineplus">+          /**</span>
<a href="#l1.476"></a><span id="l1.476" class="difflineplus">+           * Initialize a UI element property with a value. Handles the case</span>
<a href="#l1.477"></a><span id="l1.477" class="difflineplus">+           * where an element has not yet had a XBL binding attached for it and</span>
<a href="#l1.478"></a><span id="l1.478" class="difflineplus">+           * the property setter does not yet exist by setting the same attribute</span>
<a href="#l1.479"></a><span id="l1.479" class="difflineplus">+           * on the XUL element using DOM apis and assuming the element's</span>
<a href="#l1.480"></a><span id="l1.480" class="difflineplus">+           * constructor or property getters appropriately handle this state.</span>
<a href="#l1.481"></a><span id="l1.481" class="difflineplus">+           */</span>
<a href="#l1.482"></a><span id="l1.482" class="difflineplus">+          function setValue(element, attribute, value) {</span>
<a href="#l1.483"></a><span id="l1.483" class="difflineplus">+            if (attribute in element)</span>
<a href="#l1.484"></a><span id="l1.484" class="difflineplus">+              element[attribute] = value;</span>
<a href="#l1.485"></a><span id="l1.485" class="difflineplus">+            else</span>
<a href="#l1.486"></a><span id="l1.486" class="difflineplus">+              element.setAttribute(attribute, value);</span>
<a href="#l1.487"></a><span id="l1.487" class="difflineplus">+          }</span>
<a href="#l1.488"></a><span id="l1.488" class="difflineplus">+          if (aElement.localName == &quot;checkbox&quot; ||</span>
<a href="#l1.489"></a><span id="l1.489" class="difflineplus">+              aElement.localName == &quot;listitem&quot;)</span>
<a href="#l1.490"></a><span id="l1.490" class="difflineplus">+            setValue(aElement, &quot;checked&quot;, val);</span>
<a href="#l1.491"></a><span id="l1.491" class="difflineplus">+          else if (aElement.localName == &quot;colorpicker&quot;)</span>
<a href="#l1.492"></a><span id="l1.492" class="difflineplus">+            setValue(aElement, &quot;color&quot;, val);</span>
<a href="#l1.493"></a><span id="l1.493" class="difflineplus">+          else if (aElement.localName == &quot;textbox&quot;) {</span>
<a href="#l1.494"></a><span id="l1.494" class="difflineplus">+            // XXXmano Bug 303998: Avoid a caret placement issue if either the</span>
<a href="#l1.495"></a><span id="l1.495" class="difflineplus">+            // preference observer or its setter calls updateElements as a result</span>
<a href="#l1.496"></a><span id="l1.496" class="difflineplus">+            // of the input event handler.</span>
<a href="#l1.497"></a><span id="l1.497" class="difflineplus">+            if (aElement.value !== val)</span>
<a href="#l1.498"></a><span id="l1.498" class="difflineplus">+              setValue(aElement, &quot;value&quot;, val);</span>
<a href="#l1.499"></a><span id="l1.499" class="difflineplus">+          } else</span>
<a href="#l1.500"></a><span id="l1.500" class="difflineplus">+            setValue(aElement, &quot;value&quot;, val);</span>
<a href="#l1.501"></a><span id="l1.501" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.502"></a><span id="l1.502" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.503"></a><span id="l1.503" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.504"></a><span id="l1.504" class="difflineplus">+</span>
<a href="#l1.505"></a><span id="l1.505" class="difflineplus">+      &lt;method name=&quot;getElementValue&quot;&gt;</span>
<a href="#l1.506"></a><span id="l1.506" class="difflineplus">+        &lt;parameter name=&quot;aElement&quot;/&gt;</span>
<a href="#l1.507"></a><span id="l1.507" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.508"></a><span id="l1.508" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.509"></a><span id="l1.509" class="difflineplus">+          if (aElement.hasAttribute(&quot;onsynctopreference&quot;)) {</span>
<a href="#l1.510"></a><span id="l1.510" class="difflineplus">+            // Value changed, synthesize an event</span>
<a href="#l1.511"></a><span id="l1.511" class="difflineplus">+            try {</span>
<a href="#l1.512"></a><span id="l1.512" class="difflineplus">+              var event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l1.513"></a><span id="l1.513" class="difflineplus">+              event.initEvent(&quot;synctopreference&quot;, true, true);</span>
<a href="#l1.514"></a><span id="l1.514" class="difflineplus">+              var f = new Function(&quot;event&quot;,</span>
<a href="#l1.515"></a><span id="l1.515" class="difflineplus">+                                   aElement.getAttribute(&quot;onsynctopreference&quot;));</span>
<a href="#l1.516"></a><span id="l1.516" class="difflineplus">+              var rv = f.call(aElement, event);</span>
<a href="#l1.517"></a><span id="l1.517" class="difflineplus">+              if (rv !== undefined)</span>
<a href="#l1.518"></a><span id="l1.518" class="difflineplus">+                return rv;</span>
<a href="#l1.519"></a><span id="l1.519" class="difflineplus">+            } catch (e) {</span>
<a href="#l1.520"></a><span id="l1.520" class="difflineplus">+              Components.utils.reportError(e);</span>
<a href="#l1.521"></a><span id="l1.521" class="difflineplus">+            }</span>
<a href="#l1.522"></a><span id="l1.522" class="difflineplus">+          }</span>
<a href="#l1.523"></a><span id="l1.523" class="difflineplus">+</span>
<a href="#l1.524"></a><span id="l1.524" class="difflineplus">+          /**</span>
<a href="#l1.525"></a><span id="l1.525" class="difflineplus">+           * Read the value of an attribute from an element, assuming the</span>
<a href="#l1.526"></a><span id="l1.526" class="difflineplus">+           * attribute is a property on the element's node API. If the property</span>
<a href="#l1.527"></a><span id="l1.527" class="difflineplus">+           * is not present in the API, then assume its value is contained in</span>
<a href="#l1.528"></a><span id="l1.528" class="difflineplus">+           * an attribute, as is the case before a binding has been attached.</span>
<a href="#l1.529"></a><span id="l1.529" class="difflineplus">+           */</span>
<a href="#l1.530"></a><span id="l1.530" class="difflineplus">+          function getValue(element, attribute) {</span>
<a href="#l1.531"></a><span id="l1.531" class="difflineplus">+            if (attribute in element)</span>
<a href="#l1.532"></a><span id="l1.532" class="difflineplus">+              return element[attribute];</span>
<a href="#l1.533"></a><span id="l1.533" class="difflineplus">+            return element.getAttribute(attribute);</span>
<a href="#l1.534"></a><span id="l1.534" class="difflineplus">+          }</span>
<a href="#l1.535"></a><span id="l1.535" class="difflineplus">+          if (aElement.localName == &quot;checkbox&quot; ||</span>
<a href="#l1.536"></a><span id="l1.536" class="difflineplus">+              aElement.localName == &quot;listitem&quot;)</span>
<a href="#l1.537"></a><span id="l1.537" class="difflineplus">+            var value = getValue(aElement, &quot;checked&quot;);</span>
<a href="#l1.538"></a><span id="l1.538" class="difflineplus">+          else if (aElement.localName == &quot;colorpicker&quot;)</span>
<a href="#l1.539"></a><span id="l1.539" class="difflineplus">+            value = getValue(aElement, &quot;color&quot;);</span>
<a href="#l1.540"></a><span id="l1.540" class="difflineplus">+          else</span>
<a href="#l1.541"></a><span id="l1.541" class="difflineplus">+            value = getValue(aElement, &quot;value&quot;);</span>
<a href="#l1.542"></a><span id="l1.542" class="difflineplus">+</span>
<a href="#l1.543"></a><span id="l1.543" class="difflineplus">+          switch (this.type) {</span>
<a href="#l1.544"></a><span id="l1.544" class="difflineplus">+          case &quot;int&quot;:</span>
<a href="#l1.545"></a><span id="l1.545" class="difflineplus">+            return parseInt(value, 10) || 0;</span>
<a href="#l1.546"></a><span id="l1.546" class="difflineplus">+          case &quot;bool&quot;:</span>
<a href="#l1.547"></a><span id="l1.547" class="difflineplus">+            return typeof(value) == &quot;boolean&quot; ? value : value == &quot;true&quot;;</span>
<a href="#l1.548"></a><span id="l1.548" class="difflineplus">+          }</span>
<a href="#l1.549"></a><span id="l1.549" class="difflineplus">+          return value;</span>
<a href="#l1.550"></a><span id="l1.550" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.551"></a><span id="l1.551" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.552"></a><span id="l1.552" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.553"></a><span id="l1.553" class="difflineplus">+</span>
<a href="#l1.554"></a><span id="l1.554" class="difflineplus">+      &lt;method name=&quot;isElementEditable&quot;&gt;</span>
<a href="#l1.555"></a><span id="l1.555" class="difflineplus">+        &lt;parameter name=&quot;aElement&quot;/&gt;</span>
<a href="#l1.556"></a><span id="l1.556" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.557"></a><span id="l1.557" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.558"></a><span id="l1.558" class="difflineplus">+          switch (aElement.localName) {</span>
<a href="#l1.559"></a><span id="l1.559" class="difflineplus">+          case &quot;checkbox&quot;:</span>
<a href="#l1.560"></a><span id="l1.560" class="difflineplus">+          case &quot;colorpicker&quot;:</span>
<a href="#l1.561"></a><span id="l1.561" class="difflineplus">+          case &quot;radiogroup&quot;:</span>
<a href="#l1.562"></a><span id="l1.562" class="difflineplus">+          case &quot;textbox&quot;:</span>
<a href="#l1.563"></a><span id="l1.563" class="difflineplus">+          case &quot;listitem&quot;:</span>
<a href="#l1.564"></a><span id="l1.564" class="difflineplus">+          case &quot;listbox&quot;:</span>
<a href="#l1.565"></a><span id="l1.565" class="difflineplus">+          case &quot;menulist&quot;:</span>
<a href="#l1.566"></a><span id="l1.566" class="difflineplus">+            return true;</span>
<a href="#l1.567"></a><span id="l1.567" class="difflineplus">+          }</span>
<a href="#l1.568"></a><span id="l1.568" class="difflineplus">+          return aElement.getAttribute(&quot;preference-editable&quot;) == &quot;true&quot;;</span>
<a href="#l1.569"></a><span id="l1.569" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.570"></a><span id="l1.570" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.571"></a><span id="l1.571" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.572"></a><span id="l1.572" class="difflineplus">+</span>
<a href="#l1.573"></a><span id="l1.573" class="difflineplus">+      &lt;method name=&quot;updateElements&quot;&gt;</span>
<a href="#l1.574"></a><span id="l1.574" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.575"></a><span id="l1.575" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.576"></a><span id="l1.576" class="difflineplus">+          if (!this.id)</span>
<a href="#l1.577"></a><span id="l1.577" class="difflineplus">+            return;</span>
<a href="#l1.578"></a><span id="l1.578" class="difflineplus">+</span>
<a href="#l1.579"></a><span id="l1.579" class="difflineplus">+          // This &quot;change&quot; event handler tracks changes made to preferences by</span>
<a href="#l1.580"></a><span id="l1.580" class="difflineplus">+          // sources other than the user in this window.</span>
<a href="#l1.581"></a><span id="l1.581" class="difflineplus">+          var elements = document.getElementsByAttribute(&quot;preference&quot;, this.id);</span>
<a href="#l1.582"></a><span id="l1.582" class="difflineplus">+          for (var i = 0; i &lt; elements.length; ++i)</span>
<a href="#l1.583"></a><span id="l1.583" class="difflineplus">+            this.setElementValue(elements[i]);</span>
<a href="#l1.584"></a><span id="l1.584" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.585"></a><span id="l1.585" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.586"></a><span id="l1.586" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.587"></a><span id="l1.587" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l1.588"></a><span id="l1.588" class="difflineplus">+</span>
<a href="#l1.589"></a><span id="l1.589" class="difflineplus">+    &lt;handlers&gt;</span>
<a href="#l1.590"></a><span id="l1.590" class="difflineplus">+      &lt;handler event=&quot;change&quot;&gt;</span>
<a href="#l1.591"></a><span id="l1.591" class="difflineplus">+        this.updateElements();</span>
<a href="#l1.592"></a><span id="l1.592" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.593"></a><span id="l1.593" class="difflineplus">+    &lt;/handlers&gt;</span>
<a href="#l1.594"></a><span id="l1.594" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l1.595"></a><span id="l1.595" class="difflineplus">+</span>
<a href="#l1.596"></a><span id="l1.596" class="difflineplus">+  &lt;binding id=&quot;prefwindow&quot;</span>
<a href="#l1.597"></a><span id="l1.597" class="difflineplus">+           extends=&quot;chrome://global/content/bindings/dialog.xml#dialog&quot;&gt;</span>
<a href="#l1.598"></a><span id="l1.598" class="difflineplus">+    &lt;resources&gt;</span>
<a href="#l1.599"></a><span id="l1.599" class="difflineplus">+      &lt;stylesheet src=&quot;chrome://global/skin/preferences.css&quot;/&gt;</span>
<a href="#l1.600"></a><span id="l1.600" class="difflineplus">+    &lt;/resources&gt;</span>
<a href="#l1.601"></a><span id="l1.601" class="difflineplus">+    &lt;content dlgbuttons=&quot;accept,cancel&quot; persist=&quot;lastSelected screenX screenY&quot;</span>
<a href="#l1.602"></a><span id="l1.602" class="difflineplus">+             closebuttonlabel=&quot;&amp;preferencesCloseButton.label;&quot;</span>
<a href="#l1.603"></a><span id="l1.603" class="difflineplus">+             closebuttonaccesskey=&quot;&amp;preferencesCloseButton.accesskey;&quot;</span>
<a href="#l1.604"></a><span id="l1.604" class="difflineplus">+             role=&quot;dialog&quot;</span>
<a href="#l1.605"></a><span id="l1.605" class="difflineplus">+#ifdef XP_WIN</span>
<a href="#l1.606"></a><span id="l1.606" class="difflineplus">+             title=&quot;&amp;preferencesDefaultTitleWin.title;&quot;&gt;</span>
<a href="#l1.607"></a><span id="l1.607" class="difflineplus">+#else</span>
<a href="#l1.608"></a><span id="l1.608" class="difflineplus">+             title=&quot;&amp;preferencesDefaultTitleMac.title;&quot;&gt;</span>
<a href="#l1.609"></a><span id="l1.609" class="difflineplus">+#endif</span>
<a href="#l1.610"></a><span id="l1.610" class="difflineplus">+      &lt;xul:windowdragbox orient=&quot;vertical&quot;&gt;</span>
<a href="#l1.611"></a><span id="l1.611" class="difflineplus">+        &lt;xul:radiogroup anonid=&quot;selector&quot; orient=&quot;horizontal&quot; class=&quot;paneSelector chromeclass-toolbar&quot;</span>
<a href="#l1.612"></a><span id="l1.612" class="difflineplus">+                        role=&quot;listbox&quot;/&gt; &lt;!-- Expose to accessibility APIs as a listbox --&gt;</span>
<a href="#l1.613"></a><span id="l1.613" class="difflineplus">+      &lt;/xul:windowdragbox&gt;</span>
<a href="#l1.614"></a><span id="l1.614" class="difflineplus">+      &lt;xul:hbox flex=&quot;1&quot; class=&quot;paneDeckContainer&quot;&gt;</span>
<a href="#l1.615"></a><span id="l1.615" class="difflineplus">+        &lt;xul:deck anonid=&quot;paneDeck&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l1.616"></a><span id="l1.616" class="difflineplus">+          &lt;children includes=&quot;prefpane&quot;/&gt;</span>
<a href="#l1.617"></a><span id="l1.617" class="difflineplus">+        &lt;/xul:deck&gt;</span>
<a href="#l1.618"></a><span id="l1.618" class="difflineplus">+      &lt;/xul:hbox&gt;</span>
<a href="#l1.619"></a><span id="l1.619" class="difflineplus">+      &lt;xul:hbox anonid=&quot;dlg-buttons&quot; class=&quot;prefWindow-dlgbuttons&quot; pack=&quot;end&quot;&gt;</span>
<a href="#l1.620"></a><span id="l1.620" class="difflineplus">+#ifdef XP_UNIX</span>
<a href="#l1.621"></a><span id="l1.621" class="difflineplus">+        &lt;xul:button dlgtype=&quot;disclosure&quot; class=&quot;dialog-button&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l1.622"></a><span id="l1.622" class="difflineplus">+        &lt;xul:button dlgtype=&quot;help&quot; class=&quot;dialog-button&quot; hidden=&quot;true&quot; icon=&quot;help&quot;/&gt;</span>
<a href="#l1.623"></a><span id="l1.623" class="difflineplus">+        &lt;xul:button dlgtype=&quot;extra2&quot; class=&quot;dialog-button&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l1.624"></a><span id="l1.624" class="difflineplus">+        &lt;xul:button dlgtype=&quot;extra1&quot; class=&quot;dialog-button&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l1.625"></a><span id="l1.625" class="difflineplus">+        &lt;xul:spacer anonid=&quot;spacer&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l1.626"></a><span id="l1.626" class="difflineplus">+        &lt;xul:button dlgtype=&quot;cancel&quot; class=&quot;dialog-button&quot; icon=&quot;cancel&quot;/&gt;</span>
<a href="#l1.627"></a><span id="l1.627" class="difflineplus">+        &lt;xul:button dlgtype=&quot;accept&quot; class=&quot;dialog-button&quot; icon=&quot;accept&quot;/&gt;</span>
<a href="#l1.628"></a><span id="l1.628" class="difflineplus">+#else</span>
<a href="#l1.629"></a><span id="l1.629" class="difflineplus">+        &lt;xul:button dlgtype=&quot;extra2&quot; class=&quot;dialog-button&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l1.630"></a><span id="l1.630" class="difflineplus">+        &lt;xul:spacer anonid=&quot;spacer&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l1.631"></a><span id="l1.631" class="difflineplus">+        &lt;xul:button dlgtype=&quot;accept&quot; class=&quot;dialog-button&quot; icon=&quot;accept&quot;/&gt;</span>
<a href="#l1.632"></a><span id="l1.632" class="difflineplus">+        &lt;xul:button dlgtype=&quot;extra1&quot; class=&quot;dialog-button&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l1.633"></a><span id="l1.633" class="difflineplus">+        &lt;xul:button dlgtype=&quot;cancel&quot; class=&quot;dialog-button&quot; icon=&quot;cancel&quot;/&gt;</span>
<a href="#l1.634"></a><span id="l1.634" class="difflineplus">+        &lt;xul:button dlgtype=&quot;help&quot; class=&quot;dialog-button&quot; hidden=&quot;true&quot; icon=&quot;help&quot;/&gt;</span>
<a href="#l1.635"></a><span id="l1.635" class="difflineplus">+        &lt;xul:button dlgtype=&quot;disclosure&quot; class=&quot;dialog-button&quot; hidden=&quot;true&quot;/&gt;</span>
<a href="#l1.636"></a><span id="l1.636" class="difflineplus">+#endif</span>
<a href="#l1.637"></a><span id="l1.637" class="difflineplus">+      &lt;/xul:hbox&gt;</span>
<a href="#l1.638"></a><span id="l1.638" class="difflineplus">+      &lt;xul:hbox&gt;</span>
<a href="#l1.639"></a><span id="l1.639" class="difflineplus">+        &lt;children/&gt;</span>
<a href="#l1.640"></a><span id="l1.640" class="difflineplus">+      &lt;/xul:hbox&gt;</span>
<a href="#l1.641"></a><span id="l1.641" class="difflineplus">+    &lt;/content&gt;</span>
<a href="#l1.642"></a><span id="l1.642" class="difflineplus">+    &lt;implementation implements=&quot;nsITimerCallback&quot;&gt;</span>
<a href="#l1.643"></a><span id="l1.643" class="difflineplus">+      &lt;constructor&gt;</span>
<a href="#l1.644"></a><span id="l1.644" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.645"></a><span id="l1.645" class="difflineplus">+        if (this.type != &quot;child&quot;) {</span>
<a href="#l1.646"></a><span id="l1.646" class="difflineplus">+          if (!this._instantApplyInitialized) {</span>
<a href="#l1.647"></a><span id="l1.647" class="difflineplus">+            let psvc = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l1.648"></a><span id="l1.648" class="difflineplus">+                                 .getService(Components.interfaces.nsIPrefBranch);</span>
<a href="#l1.649"></a><span id="l1.649" class="difflineplus">+            this.instantApply = psvc.getBoolPref(&quot;browser.preferences.instantApply&quot;);</span>
<a href="#l1.650"></a><span id="l1.650" class="difflineplus">+          }</span>
<a href="#l1.651"></a><span id="l1.651" class="difflineplus">+          if (this.instantApply) {</span>
<a href="#l1.652"></a><span id="l1.652" class="difflineplus">+            var docElt = document.documentElement;</span>
<a href="#l1.653"></a><span id="l1.653" class="difflineplus">+            var acceptButton = docElt.getButton(&quot;accept&quot;);</span>
<a href="#l1.654"></a><span id="l1.654" class="difflineplus">+            acceptButton.hidden = true;</span>
<a href="#l1.655"></a><span id="l1.655" class="difflineplus">+            var cancelButton  = docElt.getButton(&quot;cancel&quot;);</span>
<a href="#l1.656"></a><span id="l1.656" class="difflineplus">+            if (/Mac/.test(navigator.platform)) {</span>
<a href="#l1.657"></a><span id="l1.657" class="difflineplus">+              // no buttons on Mac except Help</span>
<a href="#l1.658"></a><span id="l1.658" class="difflineplus">+              cancelButton.hidden = true;</span>
<a href="#l1.659"></a><span id="l1.659" class="difflineplus">+              // Move Help button to the end</span>
<a href="#l1.660"></a><span id="l1.660" class="difflineplus">+              document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;spacer&quot;).hidden = true;</span>
<a href="#l1.661"></a><span id="l1.661" class="difflineplus">+              // Also, don't fire onDialogAccept on enter</span>
<a href="#l1.662"></a><span id="l1.662" class="difflineplus">+              acceptButton.disabled = true;</span>
<a href="#l1.663"></a><span id="l1.663" class="difflineplus">+            } else {</span>
<a href="#l1.664"></a><span id="l1.664" class="difflineplus">+              // morph the Cancel button into the Close button</span>
<a href="#l1.665"></a><span id="l1.665" class="difflineplus">+              cancelButton.setAttribute(&quot;icon&quot;, &quot;close&quot;);</span>
<a href="#l1.666"></a><span id="l1.666" class="difflineplus">+              cancelButton.label = docElt.getAttribute(&quot;closebuttonlabel&quot;);</span>
<a href="#l1.667"></a><span id="l1.667" class="difflineplus">+              cancelButton.accesskey = docElt.getAttribute(&quot;closebuttonaccesskey&quot;);</span>
<a href="#l1.668"></a><span id="l1.668" class="difflineplus">+            }</span>
<a href="#l1.669"></a><span id="l1.669" class="difflineplus">+          }</span>
<a href="#l1.670"></a><span id="l1.670" class="difflineplus">+        }</span>
<a href="#l1.671"></a><span id="l1.671" class="difflineplus">+        this.setAttribute(&quot;animated&quot;, this._shouldAnimate ? &quot;true&quot; : &quot;false&quot;);</span>
<a href="#l1.672"></a><span id="l1.672" class="difflineplus">+        var panes = this.preferencePanes;</span>
<a href="#l1.673"></a><span id="l1.673" class="difflineplus">+</span>
<a href="#l1.674"></a><span id="l1.674" class="difflineplus">+        var lastPane = null;</span>
<a href="#l1.675"></a><span id="l1.675" class="difflineplus">+        if (this.lastSelected) {</span>
<a href="#l1.676"></a><span id="l1.676" class="difflineplus">+          lastPane = document.getElementById(this.lastSelected);</span>
<a href="#l1.677"></a><span id="l1.677" class="difflineplus">+          if (!lastPane) {</span>
<a href="#l1.678"></a><span id="l1.678" class="difflineplus">+            this.lastSelected = &quot;&quot;;</span>
<a href="#l1.679"></a><span id="l1.679" class="difflineplus">+          }</span>
<a href="#l1.680"></a><span id="l1.680" class="difflineplus">+        }</span>
<a href="#l1.681"></a><span id="l1.681" class="difflineplus">+</span>
<a href="#l1.682"></a><span id="l1.682" class="difflineplus">+        var paneToLoad;</span>
<a href="#l1.683"></a><span id="l1.683" class="difflineplus">+        if (&quot;arguments&quot; in window &amp;&amp; window.arguments[0] &amp;&amp; document.getElementById(window.arguments[0]) &amp;&amp; document.getElementById(window.arguments[0]).nodeName == &quot;prefpane&quot;) {</span>
<a href="#l1.684"></a><span id="l1.684" class="difflineplus">+          paneToLoad = document.getElementById(window.arguments[0]);</span>
<a href="#l1.685"></a><span id="l1.685" class="difflineplus">+          this.lastSelected = paneToLoad.id;</span>
<a href="#l1.686"></a><span id="l1.686" class="difflineplus">+        } else if (lastPane)</span>
<a href="#l1.687"></a><span id="l1.687" class="difflineplus">+          paneToLoad = lastPane;</span>
<a href="#l1.688"></a><span id="l1.688" class="difflineplus">+        else</span>
<a href="#l1.689"></a><span id="l1.689" class="difflineplus">+          paneToLoad = panes[0];</span>
<a href="#l1.690"></a><span id="l1.690" class="difflineplus">+</span>
<a href="#l1.691"></a><span id="l1.691" class="difflineplus">+        for (var i = 0; i &lt; panes.length; ++i) {</span>
<a href="#l1.692"></a><span id="l1.692" class="difflineplus">+          this._makePaneButton(panes[i]);</span>
<a href="#l1.693"></a><span id="l1.693" class="difflineplus">+          if (panes[i].loaded) {</span>
<a href="#l1.694"></a><span id="l1.694" class="difflineplus">+            // Inline pane content, fire load event to force initialization.</span>
<a href="#l1.695"></a><span id="l1.695" class="difflineplus">+            this._fireEvent(&quot;paneload&quot;, panes[i]);</span>
<a href="#l1.696"></a><span id="l1.696" class="difflineplus">+          }</span>
<a href="#l1.697"></a><span id="l1.697" class="difflineplus">+        }</span>
<a href="#l1.698"></a><span id="l1.698" class="difflineplus">+        this.showPane(paneToLoad);</span>
<a href="#l1.699"></a><span id="l1.699" class="difflineplus">+</span>
<a href="#l1.700"></a><span id="l1.700" class="difflineplus">+        if (panes.length == 1)</span>
<a href="#l1.701"></a><span id="l1.701" class="difflineplus">+          this._selector.setAttribute(&quot;collapsed&quot;, &quot;true&quot;);</span>
<a href="#l1.702"></a><span id="l1.702" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.703"></a><span id="l1.703" class="difflineplus">+      &lt;/constructor&gt;</span>
<a href="#l1.704"></a><span id="l1.704" class="difflineplus">+</span>
<a href="#l1.705"></a><span id="l1.705" class="difflineplus">+      &lt;destructor&gt;</span>
<a href="#l1.706"></a><span id="l1.706" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.707"></a><span id="l1.707" class="difflineplus">+        // Release timers to avoid reference cycles.</span>
<a href="#l1.708"></a><span id="l1.708" class="difflineplus">+        if (this._animateTimer) {</span>
<a href="#l1.709"></a><span id="l1.709" class="difflineplus">+          this._animateTimer.cancel();</span>
<a href="#l1.710"></a><span id="l1.710" class="difflineplus">+          this._animateTimer = null;</span>
<a href="#l1.711"></a><span id="l1.711" class="difflineplus">+        }</span>
<a href="#l1.712"></a><span id="l1.712" class="difflineplus">+        if (this._fadeTimer) {</span>
<a href="#l1.713"></a><span id="l1.713" class="difflineplus">+          this._fadeTimer.cancel();</span>
<a href="#l1.714"></a><span id="l1.714" class="difflineplus">+          this._fadeTimer = null;</span>
<a href="#l1.715"></a><span id="l1.715" class="difflineplus">+        }</span>
<a href="#l1.716"></a><span id="l1.716" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.717"></a><span id="l1.717" class="difflineplus">+      &lt;/destructor&gt;</span>
<a href="#l1.718"></a><span id="l1.718" class="difflineplus">+</span>
<a href="#l1.719"></a><span id="l1.719" class="difflineplus">+      &lt;!-- Derived bindings can set this to true to cause us to skip</span>
<a href="#l1.720"></a><span id="l1.720" class="difflineplus">+           reading the browser.preferences.instantApply pref in the constructor.</span>
<a href="#l1.721"></a><span id="l1.721" class="difflineplus">+           Then they can set instantApply to their wished value. --&gt;</span>
<a href="#l1.722"></a><span id="l1.722" class="difflineplus">+      &lt;field name=&quot;_instantApplyInitialized&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.723"></a><span id="l1.723" class="difflineplus">+      &lt;!-- Controls whether changed pref values take effect immediately. --&gt;</span>
<a href="#l1.724"></a><span id="l1.724" class="difflineplus">+      &lt;field name=&quot;instantApply&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.725"></a><span id="l1.725" class="difflineplus">+</span>
<a href="#l1.726"></a><span id="l1.726" class="difflineplus">+      &lt;property name=&quot;preferencePanes&quot;</span>
<a href="#l1.727"></a><span id="l1.727" class="difflineplus">+                onget=&quot;return this.getElementsByTagName('prefpane');&quot;/&gt;</span>
<a href="#l1.728"></a><span id="l1.728" class="difflineplus">+</span>
<a href="#l1.729"></a><span id="l1.729" class="difflineplus">+      &lt;property name=&quot;type&quot; onget=&quot;return this.getAttribute('type');&quot;/&gt;</span>
<a href="#l1.730"></a><span id="l1.730" class="difflineplus">+      &lt;property name=&quot;_paneDeck&quot;</span>
<a href="#l1.731"></a><span id="l1.731" class="difflineplus">+                onget=&quot;return document.getAnonymousElementByAttribute(this, 'anonid', 'paneDeck');&quot;/&gt;</span>
<a href="#l1.732"></a><span id="l1.732" class="difflineplus">+      &lt;property name=&quot;_paneDeckContainer&quot;</span>
<a href="#l1.733"></a><span id="l1.733" class="difflineplus">+                onget=&quot;return document.getAnonymousElementByAttribute(this, 'class', 'paneDeckContainer');&quot;/&gt;</span>
<a href="#l1.734"></a><span id="l1.734" class="difflineplus">+      &lt;property name=&quot;_selector&quot;</span>
<a href="#l1.735"></a><span id="l1.735" class="difflineplus">+                onget=&quot;return document.getAnonymousElementByAttribute(this, 'anonid', 'selector');&quot;/&gt;</span>
<a href="#l1.736"></a><span id="l1.736" class="difflineplus">+      &lt;property name=&quot;lastSelected&quot;</span>
<a href="#l1.737"></a><span id="l1.737" class="difflineplus">+                onget=&quot;return this.getAttribute('lastSelected');&quot;&gt;</span>
<a href="#l1.738"></a><span id="l1.738" class="difflineplus">+        &lt;setter&gt;</span>
<a href="#l1.739"></a><span id="l1.739" class="difflineplus">+          this.setAttribute(&quot;lastSelected&quot;, val);</span>
<a href="#l1.740"></a><span id="l1.740" class="difflineplus">+          document.persist(this.id, &quot;lastSelected&quot;);</span>
<a href="#l1.741"></a><span id="l1.741" class="difflineplus">+          return val;</span>
<a href="#l1.742"></a><span id="l1.742" class="difflineplus">+        &lt;/setter&gt;</span>
<a href="#l1.743"></a><span id="l1.743" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.744"></a><span id="l1.744" class="difflineplus">+      &lt;property name=&quot;currentPane&quot;</span>
<a href="#l1.745"></a><span id="l1.745" class="difflineplus">+                onset=&quot;return this._currentPane = val;&quot;&gt;</span>
<a href="#l1.746"></a><span id="l1.746" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.747"></a><span id="l1.747" class="difflineplus">+          if (!this._currentPane)</span>
<a href="#l1.748"></a><span id="l1.748" class="difflineplus">+            this._currentPane = this.preferencePanes[0];</span>
<a href="#l1.749"></a><span id="l1.749" class="difflineplus">+</span>
<a href="#l1.750"></a><span id="l1.750" class="difflineplus">+          return this._currentPane;</span>
<a href="#l1.751"></a><span id="l1.751" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.752"></a><span id="l1.752" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.753"></a><span id="l1.753" class="difflineplus">+      &lt;field name=&quot;_currentPane&quot;&gt;null&lt;/field&gt;</span>
<a href="#l1.754"></a><span id="l1.754" class="difflineplus">+</span>
<a href="#l1.755"></a><span id="l1.755" class="difflineplus">+</span>
<a href="#l1.756"></a><span id="l1.756" class="difflineplus">+      &lt;method name=&quot;_makePaneButton&quot;&gt;</span>
<a href="#l1.757"></a><span id="l1.757" class="difflineplus">+        &lt;parameter name=&quot;aPaneElement&quot;/&gt;</span>
<a href="#l1.758"></a><span id="l1.758" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.759"></a><span id="l1.759" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.760"></a><span id="l1.760" class="difflineplus">+          var radio = document.createElement(&quot;radio&quot;);</span>
<a href="#l1.761"></a><span id="l1.761" class="difflineplus">+          radio.setAttribute(&quot;pane&quot;, aPaneElement.id);</span>
<a href="#l1.762"></a><span id="l1.762" class="difflineplus">+          radio.setAttribute(&quot;label&quot;, aPaneElement.label);</span>
<a href="#l1.763"></a><span id="l1.763" class="difflineplus">+          // Expose preference group choice to accessibility APIs as an unchecked list item</span>
<a href="#l1.764"></a><span id="l1.764" class="difflineplus">+          // The parent group is exposed to accessibility APIs as a list</span>
<a href="#l1.765"></a><span id="l1.765" class="difflineplus">+          if (aPaneElement.image)</span>
<a href="#l1.766"></a><span id="l1.766" class="difflineplus">+            radio.setAttribute(&quot;src&quot;, aPaneElement.image);</span>
<a href="#l1.767"></a><span id="l1.767" class="difflineplus">+          radio.style.listStyleImage = aPaneElement.style.listStyleImage;</span>
<a href="#l1.768"></a><span id="l1.768" class="difflineplus">+          this._selector.appendChild(radio);</span>
<a href="#l1.769"></a><span id="l1.769" class="difflineplus">+          return radio;</span>
<a href="#l1.770"></a><span id="l1.770" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.771"></a><span id="l1.771" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.772"></a><span id="l1.772" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.773"></a><span id="l1.773" class="difflineplus">+</span>
<a href="#l1.774"></a><span id="l1.774" class="difflineplus">+      &lt;method name=&quot;showPane&quot;&gt;</span>
<a href="#l1.775"></a><span id="l1.775" class="difflineplus">+        &lt;parameter name=&quot;aPaneElement&quot;/&gt;</span>
<a href="#l1.776"></a><span id="l1.776" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.777"></a><span id="l1.777" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.778"></a><span id="l1.778" class="difflineplus">+          if (!aPaneElement)</span>
<a href="#l1.779"></a><span id="l1.779" class="difflineplus">+            return;</span>
<a href="#l1.780"></a><span id="l1.780" class="difflineplus">+</span>
<a href="#l1.781"></a><span id="l1.781" class="difflineplus">+          this._selector.selectedItem = document.getAnonymousElementByAttribute(this, &quot;pane&quot;, aPaneElement.id);</span>
<a href="#l1.782"></a><span id="l1.782" class="difflineplus">+          if (!aPaneElement.loaded) {</span>
<a href="#l1.783"></a><span id="l1.783" class="difflineplus">+            let OverlayLoadObserver = function(aPane) {</span>
<a href="#l1.784"></a><span id="l1.784" class="difflineplus">+              this._pane = aPane;</span>
<a href="#l1.785"></a><span id="l1.785" class="difflineplus">+            };</span>
<a href="#l1.786"></a><span id="l1.786" class="difflineplus">+            OverlayLoadObserver.prototype = {</span>
<a href="#l1.787"></a><span id="l1.787" class="difflineplus">+              _outer: this,</span>
<a href="#l1.788"></a><span id="l1.788" class="difflineplus">+              observe(aSubject, aTopic, aData) {</span>
<a href="#l1.789"></a><span id="l1.789" class="difflineplus">+                this._pane.loaded = true;</span>
<a href="#l1.790"></a><span id="l1.790" class="difflineplus">+                this._outer._fireEvent(&quot;paneload&quot;, this._pane);</span>
<a href="#l1.791"></a><span id="l1.791" class="difflineplus">+                this._outer._selectPane(this._pane);</span>
<a href="#l1.792"></a><span id="l1.792" class="difflineplus">+              }</span>
<a href="#l1.793"></a><span id="l1.793" class="difflineplus">+            };</span>
<a href="#l1.794"></a><span id="l1.794" class="difflineplus">+</span>
<a href="#l1.795"></a><span id="l1.795" class="difflineplus">+            var obs = new OverlayLoadObserver(aPaneElement);</span>
<a href="#l1.796"></a><span id="l1.796" class="difflineplus">+            document.loadOverlay(aPaneElement.src, obs);</span>
<a href="#l1.797"></a><span id="l1.797" class="difflineplus">+          } else</span>
<a href="#l1.798"></a><span id="l1.798" class="difflineplus">+            this._selectPane(aPaneElement);</span>
<a href="#l1.799"></a><span id="l1.799" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.800"></a><span id="l1.800" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.801"></a><span id="l1.801" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.802"></a><span id="l1.802" class="difflineplus">+</span>
<a href="#l1.803"></a><span id="l1.803" class="difflineplus">+      &lt;method name=&quot;_fireEvent&quot;&gt;</span>
<a href="#l1.804"></a><span id="l1.804" class="difflineplus">+        &lt;parameter name=&quot;aEventName&quot;/&gt;</span>
<a href="#l1.805"></a><span id="l1.805" class="difflineplus">+        &lt;parameter name=&quot;aTarget&quot;/&gt;</span>
<a href="#l1.806"></a><span id="l1.806" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.807"></a><span id="l1.807" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.808"></a><span id="l1.808" class="difflineplus">+          // Panel loaded, synthesize a load event.</span>
<a href="#l1.809"></a><span id="l1.809" class="difflineplus">+          try {</span>
<a href="#l1.810"></a><span id="l1.810" class="difflineplus">+            var event = document.createEvent(&quot;Events&quot;);</span>
<a href="#l1.811"></a><span id="l1.811" class="difflineplus">+            event.initEvent(aEventName, true, true);</span>
<a href="#l1.812"></a><span id="l1.812" class="difflineplus">+            var cancel = !aTarget.dispatchEvent(event);</span>
<a href="#l1.813"></a><span id="l1.813" class="difflineplus">+            if (aTarget.hasAttribute(&quot;on&quot; + aEventName)) {</span>
<a href="#l1.814"></a><span id="l1.814" class="difflineplus">+              var fn = new Function(&quot;event&quot;, aTarget.getAttribute(&quot;on&quot; + aEventName));</span>
<a href="#l1.815"></a><span id="l1.815" class="difflineplus">+              var rv = fn.call(aTarget, event);</span>
<a href="#l1.816"></a><span id="l1.816" class="difflineplus">+              if (rv == false)</span>
<a href="#l1.817"></a><span id="l1.817" class="difflineplus">+                cancel = true;</span>
<a href="#l1.818"></a><span id="l1.818" class="difflineplus">+            }</span>
<a href="#l1.819"></a><span id="l1.819" class="difflineplus">+            return !cancel;</span>
<a href="#l1.820"></a><span id="l1.820" class="difflineplus">+          } catch (e) {</span>
<a href="#l1.821"></a><span id="l1.821" class="difflineplus">+            Components.utils.reportError(e);</span>
<a href="#l1.822"></a><span id="l1.822" class="difflineplus">+          }</span>
<a href="#l1.823"></a><span id="l1.823" class="difflineplus">+          return false;</span>
<a href="#l1.824"></a><span id="l1.824" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.825"></a><span id="l1.825" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.826"></a><span id="l1.826" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.827"></a><span id="l1.827" class="difflineplus">+</span>
<a href="#l1.828"></a><span id="l1.828" class="difflineplus">+      &lt;field name=&quot;_initialized&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.829"></a><span id="l1.829" class="difflineplus">+      &lt;method name=&quot;_selectPane&quot;&gt;</span>
<a href="#l1.830"></a><span id="l1.830" class="difflineplus">+        &lt;parameter name=&quot;aPaneElement&quot;/&gt;</span>
<a href="#l1.831"></a><span id="l1.831" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.832"></a><span id="l1.832" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.833"></a><span id="l1.833" class="difflineplus">+          if (/Mac/.test(navigator.platform)) {</span>
<a href="#l1.834"></a><span id="l1.834" class="difflineplus">+            var paneTitle = aPaneElement.label;</span>
<a href="#l1.835"></a><span id="l1.835" class="difflineplus">+            if (paneTitle != &quot;&quot;)</span>
<a href="#l1.836"></a><span id="l1.836" class="difflineplus">+              document.title = paneTitle;</span>
<a href="#l1.837"></a><span id="l1.837" class="difflineplus">+          }</span>
<a href="#l1.838"></a><span id="l1.838" class="difflineplus">+          var helpButton = document.documentElement.getButton(&quot;help&quot;);</span>
<a href="#l1.839"></a><span id="l1.839" class="difflineplus">+          if (aPaneElement.helpTopic)</span>
<a href="#l1.840"></a><span id="l1.840" class="difflineplus">+            helpButton.hidden = false;</span>
<a href="#l1.841"></a><span id="l1.841" class="difflineplus">+          else</span>
<a href="#l1.842"></a><span id="l1.842" class="difflineplus">+            helpButton.hidden = true;</span>
<a href="#l1.843"></a><span id="l1.843" class="difflineplus">+</span>
<a href="#l1.844"></a><span id="l1.844" class="difflineplus">+          // Find this pane's index in the deck and set the deck's</span>
<a href="#l1.845"></a><span id="l1.845" class="difflineplus">+          // selectedIndex to that value to switch to it.</span>
<a href="#l1.846"></a><span id="l1.846" class="difflineplus">+          var prefpanes = this.preferencePanes;</span>
<a href="#l1.847"></a><span id="l1.847" class="difflineplus">+          for (var i = 0; i &lt; prefpanes.length; ++i) {</span>
<a href="#l1.848"></a><span id="l1.848" class="difflineplus">+            if (prefpanes[i] == aPaneElement) {</span>
<a href="#l1.849"></a><span id="l1.849" class="difflineplus">+              this._paneDeck.selectedIndex = i;</span>
<a href="#l1.850"></a><span id="l1.850" class="difflineplus">+</span>
<a href="#l1.851"></a><span id="l1.851" class="difflineplus">+              if (this.type != &quot;child&quot;) {</span>
<a href="#l1.852"></a><span id="l1.852" class="difflineplus">+                if (aPaneElement.hasAttribute(&quot;flex&quot;) &amp;&amp; this._shouldAnimate &amp;&amp;</span>
<a href="#l1.853"></a><span id="l1.853" class="difflineplus">+                    prefpanes.length &gt; 1)</span>
<a href="#l1.854"></a><span id="l1.854" class="difflineplus">+                  aPaneElement.removeAttribute(&quot;flex&quot;);</span>
<a href="#l1.855"></a><span id="l1.855" class="difflineplus">+                // Calling sizeToContent after the first prefpane is loaded</span>
<a href="#l1.856"></a><span id="l1.856" class="difflineplus">+                // will size the windows contents so style information is</span>
<a href="#l1.857"></a><span id="l1.857" class="difflineplus">+                // available to calculate correct sizing.</span>
<a href="#l1.858"></a><span id="l1.858" class="difflineplus">+                if (!this._initialized &amp;&amp; prefpanes.length &gt; 1) {</span>
<a href="#l1.859"></a><span id="l1.859" class="difflineplus">+                  if (this._shouldAnimate)</span>
<a href="#l1.860"></a><span id="l1.860" class="difflineplus">+                    this.style.minHeight = 0;</span>
<a href="#l1.861"></a><span id="l1.861" class="difflineplus">+                  window.sizeToContent();</span>
<a href="#l1.862"></a><span id="l1.862" class="difflineplus">+                }</span>
<a href="#l1.863"></a><span id="l1.863" class="difflineplus">+</span>
<a href="#l1.864"></a><span id="l1.864" class="difflineplus">+                var oldPane = this.lastSelected ? document.getElementById(this.lastSelected) : this.preferencePanes[0];</span>
<a href="#l1.865"></a><span id="l1.865" class="difflineplus">+                oldPane.selected = !(aPaneElement.selected = true);</span>
<a href="#l1.866"></a><span id="l1.866" class="difflineplus">+                this.lastSelected = aPaneElement.id;</span>
<a href="#l1.867"></a><span id="l1.867" class="difflineplus">+                this.currentPane = aPaneElement;</span>
<a href="#l1.868"></a><span id="l1.868" class="difflineplus">+                this._initialized = true;</span>
<a href="#l1.869"></a><span id="l1.869" class="difflineplus">+</span>
<a href="#l1.870"></a><span id="l1.870" class="difflineplus">+                // Only animate if we've switched between prefpanes</span>
<a href="#l1.871"></a><span id="l1.871" class="difflineplus">+                if (this._shouldAnimate &amp;&amp; oldPane.id != aPaneElement.id) {</span>
<a href="#l1.872"></a><span id="l1.872" class="difflineplus">+                  aPaneElement.style.opacity = 0.0;</span>
<a href="#l1.873"></a><span id="l1.873" class="difflineplus">+                  this.animate(oldPane, aPaneElement);</span>
<a href="#l1.874"></a><span id="l1.874" class="difflineplus">+                } else if (!this._shouldAnimate &amp;&amp; prefpanes.length &gt; 1) {</span>
<a href="#l1.875"></a><span id="l1.875" class="difflineplus">+                  var targetHeight = parseInt(window.getComputedStyle(this._paneDeckContainer).height);</span>
<a href="#l1.876"></a><span id="l1.876" class="difflineplus">+                  var verticalPadding = parseInt(window.getComputedStyle(aPaneElement).paddingTop);</span>
<a href="#l1.877"></a><span id="l1.877" class="difflineplus">+                  verticalPadding += parseInt(window.getComputedStyle(aPaneElement).paddingBottom);</span>
<a href="#l1.878"></a><span id="l1.878" class="difflineplus">+                  if (aPaneElement.contentHeight &gt; targetHeight - verticalPadding) {</span>
<a href="#l1.879"></a><span id="l1.879" class="difflineplus">+                    // To workaround the bottom border of a groupbox from being</span>
<a href="#l1.880"></a><span id="l1.880" class="difflineplus">+                    // cutoff an hbox with a class of bottomBox may enclose it.</span>
<a href="#l1.881"></a><span id="l1.881" class="difflineplus">+                    // This needs to include its padding to resize properly.</span>
<a href="#l1.882"></a><span id="l1.882" class="difflineplus">+                    // See bug 394433</span>
<a href="#l1.883"></a><span id="l1.883" class="difflineplus">+                    var bottomPadding = 0;</span>
<a href="#l1.884"></a><span id="l1.884" class="difflineplus">+                    var bottomBox = aPaneElement.getElementsByAttribute(&quot;class&quot;, &quot;bottomBox&quot;)[0];</span>
<a href="#l1.885"></a><span id="l1.885" class="difflineplus">+                    if (bottomBox)</span>
<a href="#l1.886"></a><span id="l1.886" class="difflineplus">+                      bottomPadding = parseInt(window.getComputedStyle(bottomBox).paddingBottom);</span>
<a href="#l1.887"></a><span id="l1.887" class="difflineplus">+                    window.innerHeight += bottomPadding + verticalPadding + aPaneElement.contentHeight - targetHeight;</span>
<a href="#l1.888"></a><span id="l1.888" class="difflineplus">+                  }</span>
<a href="#l1.889"></a><span id="l1.889" class="difflineplus">+</span>
<a href="#l1.890"></a><span id="l1.890" class="difflineplus">+                  // XXX rstrong - extend the contents of the prefpane to</span>
<a href="#l1.891"></a><span id="l1.891" class="difflineplus">+                  // prevent elements from being cutoff (see bug 349098).</span>
<a href="#l1.892"></a><span id="l1.892" class="difflineplus">+                  if (aPaneElement.contentHeight + verticalPadding &lt; targetHeight)</span>
<a href="#l1.893"></a><span id="l1.893" class="difflineplus">+                    aPaneElement._content.style.height = targetHeight - verticalPadding + &quot;px&quot;;</span>
<a href="#l1.894"></a><span id="l1.894" class="difflineplus">+                }</span>
<a href="#l1.895"></a><span id="l1.895" class="difflineplus">+              }</span>
<a href="#l1.896"></a><span id="l1.896" class="difflineplus">+              break;</span>
<a href="#l1.897"></a><span id="l1.897" class="difflineplus">+            }</span>
<a href="#l1.898"></a><span id="l1.898" class="difflineplus">+          }</span>
<a href="#l1.899"></a><span id="l1.899" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.900"></a><span id="l1.900" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.901"></a><span id="l1.901" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.902"></a><span id="l1.902" class="difflineplus">+</span>
<a href="#l1.903"></a><span id="l1.903" class="difflineplus">+      &lt;property name=&quot;_shouldAnimate&quot;&gt;</span>
<a href="#l1.904"></a><span id="l1.904" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.905"></a><span id="l1.905" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.906"></a><span id="l1.906" class="difflineplus">+          var psvc = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l1.907"></a><span id="l1.907" class="difflineplus">+                               .getService(Components.interfaces.nsIPrefBranch);</span>
<a href="#l1.908"></a><span id="l1.908" class="difflineplus">+          return psvc.getBoolPref(&quot;browser.preferences.animateFadeIn&quot;,</span>
<a href="#l1.909"></a><span id="l1.909" class="difflineplus">+                                  /Mac/.test(navigator.platform));</span>
<a href="#l1.910"></a><span id="l1.910" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.911"></a><span id="l1.911" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.912"></a><span id="l1.912" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.913"></a><span id="l1.913" class="difflineplus">+</span>
<a href="#l1.914"></a><span id="l1.914" class="difflineplus">+      &lt;method name=&quot;animate&quot;&gt;</span>
<a href="#l1.915"></a><span id="l1.915" class="difflineplus">+        &lt;parameter name=&quot;aOldPane&quot;/&gt;</span>
<a href="#l1.916"></a><span id="l1.916" class="difflineplus">+        &lt;parameter name=&quot;aNewPane&quot;/&gt;</span>
<a href="#l1.917"></a><span id="l1.917" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.918"></a><span id="l1.918" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.919"></a><span id="l1.919" class="difflineplus">+          // if we are already resizing, use currentHeight</span>
<a href="#l1.920"></a><span id="l1.920" class="difflineplus">+          var oldHeight = this._currentHeight ? this._currentHeight : aOldPane.contentHeight;</span>
<a href="#l1.921"></a><span id="l1.921" class="difflineplus">+</span>
<a href="#l1.922"></a><span id="l1.922" class="difflineplus">+          this._multiplier = aNewPane.contentHeight &gt; oldHeight ? 1 : -1;</span>
<a href="#l1.923"></a><span id="l1.923" class="difflineplus">+          var sizeDelta = Math.abs(oldHeight - aNewPane.contentHeight);</span>
<a href="#l1.924"></a><span id="l1.924" class="difflineplus">+          this._animateRemainder = sizeDelta % this._animateIncrement;</span>
<a href="#l1.925"></a><span id="l1.925" class="difflineplus">+</span>
<a href="#l1.926"></a><span id="l1.926" class="difflineplus">+          this._setUpAnimationTimer(oldHeight);</span>
<a href="#l1.927"></a><span id="l1.927" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.928"></a><span id="l1.928" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.929"></a><span id="l1.929" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.930"></a><span id="l1.930" class="difflineplus">+</span>
<a href="#l1.931"></a><span id="l1.931" class="difflineplus">+      &lt;property name=&quot;_sizeIncrement&quot;&gt;</span>
<a href="#l1.932"></a><span id="l1.932" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.933"></a><span id="l1.933" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.934"></a><span id="l1.934" class="difflineplus">+          var lastSelectedPane = document.getElementById(this.lastSelected);</span>
<a href="#l1.935"></a><span id="l1.935" class="difflineplus">+          var increment = this._animateIncrement * this._multiplier;</span>
<a href="#l1.936"></a><span id="l1.936" class="difflineplus">+          var newHeight = this._currentHeight + increment;</span>
<a href="#l1.937"></a><span id="l1.937" class="difflineplus">+          if ((this._multiplier &gt; 0 &amp;&amp; this._currentHeight &gt;= lastSelectedPane.contentHeight) ||</span>
<a href="#l1.938"></a><span id="l1.938" class="difflineplus">+              (this._multiplier &lt; 0 &amp;&amp; this._currentHeight &lt;= lastSelectedPane.contentHeight))</span>
<a href="#l1.939"></a><span id="l1.939" class="difflineplus">+            return 0;</span>
<a href="#l1.940"></a><span id="l1.940" class="difflineplus">+</span>
<a href="#l1.941"></a><span id="l1.941" class="difflineplus">+          if ((this._multiplier &gt; 0 &amp;&amp; newHeight &gt; lastSelectedPane.contentHeight) ||</span>
<a href="#l1.942"></a><span id="l1.942" class="difflineplus">+              (this._multiplier &lt; 0 &amp;&amp; newHeight &lt; lastSelectedPane.contentHeight))</span>
<a href="#l1.943"></a><span id="l1.943" class="difflineplus">+            increment = this._animateRemainder * this._multiplier;</span>
<a href="#l1.944"></a><span id="l1.944" class="difflineplus">+          return increment;</span>
<a href="#l1.945"></a><span id="l1.945" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.946"></a><span id="l1.946" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.947"></a><span id="l1.947" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.948"></a><span id="l1.948" class="difflineplus">+</span>
<a href="#l1.949"></a><span id="l1.949" class="difflineplus">+      &lt;method name=&quot;notify&quot;&gt;</span>
<a href="#l1.950"></a><span id="l1.950" class="difflineplus">+        &lt;parameter name=&quot;aTimer&quot;/&gt;</span>
<a href="#l1.951"></a><span id="l1.951" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.952"></a><span id="l1.952" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.953"></a><span id="l1.953" class="difflineplus">+          if (!document)</span>
<a href="#l1.954"></a><span id="l1.954" class="difflineplus">+            aTimer.cancel();</span>
<a href="#l1.955"></a><span id="l1.955" class="difflineplus">+</span>
<a href="#l1.956"></a><span id="l1.956" class="difflineplus">+          if (aTimer == this._animateTimer) {</span>
<a href="#l1.957"></a><span id="l1.957" class="difflineplus">+            var increment = this._sizeIncrement;</span>
<a href="#l1.958"></a><span id="l1.958" class="difflineplus">+            if (increment != 0) {</span>
<a href="#l1.959"></a><span id="l1.959" class="difflineplus">+              window.innerHeight += increment;</span>
<a href="#l1.960"></a><span id="l1.960" class="difflineplus">+              this._currentHeight += increment;</span>
<a href="#l1.961"></a><span id="l1.961" class="difflineplus">+            } else {</span>
<a href="#l1.962"></a><span id="l1.962" class="difflineplus">+              aTimer.cancel();</span>
<a href="#l1.963"></a><span id="l1.963" class="difflineplus">+              this._setUpFadeTimer();</span>
<a href="#l1.964"></a><span id="l1.964" class="difflineplus">+            }</span>
<a href="#l1.965"></a><span id="l1.965" class="difflineplus">+          } else if (aTimer == this._fadeTimer) {</span>
<a href="#l1.966"></a><span id="l1.966" class="difflineplus">+            var elt = document.getElementById(this.lastSelected);</span>
<a href="#l1.967"></a><span id="l1.967" class="difflineplus">+            var newOpacity = parseFloat(window.getComputedStyle(elt).opacity) + this._fadeIncrement;</span>
<a href="#l1.968"></a><span id="l1.968" class="difflineplus">+            if (newOpacity &lt; 1.0)</span>
<a href="#l1.969"></a><span id="l1.969" class="difflineplus">+              elt.style.opacity = newOpacity;</span>
<a href="#l1.970"></a><span id="l1.970" class="difflineplus">+            else {</span>
<a href="#l1.971"></a><span id="l1.971" class="difflineplus">+              aTimer.cancel();</span>
<a href="#l1.972"></a><span id="l1.972" class="difflineplus">+              elt.style.opacity = 1.0;</span>
<a href="#l1.973"></a><span id="l1.973" class="difflineplus">+            }</span>
<a href="#l1.974"></a><span id="l1.974" class="difflineplus">+          }</span>
<a href="#l1.975"></a><span id="l1.975" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.976"></a><span id="l1.976" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.977"></a><span id="l1.977" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.978"></a><span id="l1.978" class="difflineplus">+</span>
<a href="#l1.979"></a><span id="l1.979" class="difflineplus">+      &lt;method name=&quot;_setUpAnimationTimer&quot;&gt;</span>
<a href="#l1.980"></a><span id="l1.980" class="difflineplus">+        &lt;parameter name=&quot;aStartHeight&quot;/&gt;</span>
<a href="#l1.981"></a><span id="l1.981" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.982"></a><span id="l1.982" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.983"></a><span id="l1.983" class="difflineplus">+          if (!this._animateTimer)</span>
<a href="#l1.984"></a><span id="l1.984" class="difflineplus">+            this._animateTimer = Components.classes[&quot;@mozilla.org/timer;1&quot;]</span>
<a href="#l1.985"></a><span id="l1.985" class="difflineplus">+                                           .createInstance(Components.interfaces.nsITimer);</span>
<a href="#l1.986"></a><span id="l1.986" class="difflineplus">+          else</span>
<a href="#l1.987"></a><span id="l1.987" class="difflineplus">+            this._animateTimer.cancel();</span>
<a href="#l1.988"></a><span id="l1.988" class="difflineplus">+          this._currentHeight = aStartHeight;</span>
<a href="#l1.989"></a><span id="l1.989" class="difflineplus">+</span>
<a href="#l1.990"></a><span id="l1.990" class="difflineplus">+          this._animateTimer.initWithCallback(this, this._animateDelay,</span>
<a href="#l1.991"></a><span id="l1.991" class="difflineplus">+                                              Components.interfaces.nsITimer.TYPE_REPEATING_SLACK);</span>
<a href="#l1.992"></a><span id="l1.992" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.993"></a><span id="l1.993" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.994"></a><span id="l1.994" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.995"></a><span id="l1.995" class="difflineplus">+</span>
<a href="#l1.996"></a><span id="l1.996" class="difflineplus">+      &lt;method name=&quot;_setUpFadeTimer&quot;&gt;</span>
<a href="#l1.997"></a><span id="l1.997" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.998"></a><span id="l1.998" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.999"></a><span id="l1.999" class="difflineplus">+          if (!this._fadeTimer)</span>
<a href="#l1.1000"></a><span id="l1.1000" class="difflineplus">+            this._fadeTimer = Components.classes[&quot;@mozilla.org/timer;1&quot;]</span>
<a href="#l1.1001"></a><span id="l1.1001" class="difflineplus">+                                        .createInstance(Components.interfaces.nsITimer);</span>
<a href="#l1.1002"></a><span id="l1.1002" class="difflineplus">+          else</span>
<a href="#l1.1003"></a><span id="l1.1003" class="difflineplus">+            this._fadeTimer.cancel();</span>
<a href="#l1.1004"></a><span id="l1.1004" class="difflineplus">+</span>
<a href="#l1.1005"></a><span id="l1.1005" class="difflineplus">+          this._fadeTimer.initWithCallback(this, this._fadeDelay,</span>
<a href="#l1.1006"></a><span id="l1.1006" class="difflineplus">+                                           Components.interfaces.nsITimer.TYPE_REPEATING_SLACK);</span>
<a href="#l1.1007"></a><span id="l1.1007" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1008"></a><span id="l1.1008" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1009"></a><span id="l1.1009" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1010"></a><span id="l1.1010" class="difflineplus">+</span>
<a href="#l1.1011"></a><span id="l1.1011" class="difflineplus">+      &lt;field name=&quot;_animateTimer&quot;&gt;null&lt;/field&gt;</span>
<a href="#l1.1012"></a><span id="l1.1012" class="difflineplus">+      &lt;field name=&quot;_fadeTimer&quot;&gt;null&lt;/field&gt;</span>
<a href="#l1.1013"></a><span id="l1.1013" class="difflineplus">+      &lt;field name=&quot;_animateDelay&quot;&gt;15&lt;/field&gt;</span>
<a href="#l1.1014"></a><span id="l1.1014" class="difflineplus">+      &lt;field name=&quot;_animateIncrement&quot;&gt;40&lt;/field&gt;</span>
<a href="#l1.1015"></a><span id="l1.1015" class="difflineplus">+      &lt;field name=&quot;_fadeDelay&quot;&gt;5&lt;/field&gt;</span>
<a href="#l1.1016"></a><span id="l1.1016" class="difflineplus">+      &lt;field name=&quot;_fadeIncrement&quot;&gt;0.40&lt;/field&gt;</span>
<a href="#l1.1017"></a><span id="l1.1017" class="difflineplus">+      &lt;field name=&quot;_animateRemainder&quot;&gt;0&lt;/field&gt;</span>
<a href="#l1.1018"></a><span id="l1.1018" class="difflineplus">+      &lt;field name=&quot;_currentHeight&quot;&gt;0&lt;/field&gt;</span>
<a href="#l1.1019"></a><span id="l1.1019" class="difflineplus">+      &lt;field name=&quot;_multiplier&quot;&gt;0&lt;/field&gt;</span>
<a href="#l1.1020"></a><span id="l1.1020" class="difflineplus">+</span>
<a href="#l1.1021"></a><span id="l1.1021" class="difflineplus">+      &lt;method name=&quot;addPane&quot;&gt;</span>
<a href="#l1.1022"></a><span id="l1.1022" class="difflineplus">+        &lt;parameter name=&quot;aPaneElement&quot;/&gt;</span>
<a href="#l1.1023"></a><span id="l1.1023" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1024"></a><span id="l1.1024" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.1025"></a><span id="l1.1025" class="difflineplus">+          this.appendChild(aPaneElement);</span>
<a href="#l1.1026"></a><span id="l1.1026" class="difflineplus">+</span>
<a href="#l1.1027"></a><span id="l1.1027" class="difflineplus">+          // Set up pane button</span>
<a href="#l1.1028"></a><span id="l1.1028" class="difflineplus">+          this._makePaneButton(aPaneElement);</span>
<a href="#l1.1029"></a><span id="l1.1029" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1030"></a><span id="l1.1030" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1031"></a><span id="l1.1031" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1032"></a><span id="l1.1032" class="difflineplus">+</span>
<a href="#l1.1033"></a><span id="l1.1033" class="difflineplus">+      &lt;method name=&quot;openSubDialog&quot;&gt;</span>
<a href="#l1.1034"></a><span id="l1.1034" class="difflineplus">+        &lt;parameter name=&quot;aURL&quot;/&gt;</span>
<a href="#l1.1035"></a><span id="l1.1035" class="difflineplus">+        &lt;parameter name=&quot;aFeatures&quot;/&gt;</span>
<a href="#l1.1036"></a><span id="l1.1036" class="difflineplus">+        &lt;parameter name=&quot;aParams&quot;/&gt;</span>
<a href="#l1.1037"></a><span id="l1.1037" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1038"></a><span id="l1.1038" class="difflineplus">+          return openDialog(aURL, &quot;&quot;, &quot;modal,centerscreen,resizable=no&quot; + (aFeatures != &quot;&quot; ? (&quot;,&quot; + aFeatures) : &quot;&quot;), aParams);</span>
<a href="#l1.1039"></a><span id="l1.1039" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1040"></a><span id="l1.1040" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1041"></a><span id="l1.1041" class="difflineplus">+</span>
<a href="#l1.1042"></a><span id="l1.1042" class="difflineplus">+      &lt;method name=&quot;openWindow&quot;&gt;</span>
<a href="#l1.1043"></a><span id="l1.1043" class="difflineplus">+        &lt;parameter name=&quot;aWindowType&quot;/&gt;</span>
<a href="#l1.1044"></a><span id="l1.1044" class="difflineplus">+        &lt;parameter name=&quot;aURL&quot;/&gt;</span>
<a href="#l1.1045"></a><span id="l1.1045" class="difflineplus">+        &lt;parameter name=&quot;aFeatures&quot;/&gt;</span>
<a href="#l1.1046"></a><span id="l1.1046" class="difflineplus">+        &lt;parameter name=&quot;aParams&quot;/&gt;</span>
<a href="#l1.1047"></a><span id="l1.1047" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1048"></a><span id="l1.1048" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.1049"></a><span id="l1.1049" class="difflineplus">+          var wm = Components.classes[&quot;@mozilla.org/appshell/window-mediator;1&quot;]</span>
<a href="#l1.1050"></a><span id="l1.1050" class="difflineplus">+                             .getService(Components.interfaces.nsIWindowMediator);</span>
<a href="#l1.1051"></a><span id="l1.1051" class="difflineplus">+          var win = aWindowType ? wm.getMostRecentWindow(aWindowType) : null;</span>
<a href="#l1.1052"></a><span id="l1.1052" class="difflineplus">+          if (win) {</span>
<a href="#l1.1053"></a><span id="l1.1053" class="difflineplus">+            if (&quot;initWithParams&quot; in win)</span>
<a href="#l1.1054"></a><span id="l1.1054" class="difflineplus">+              win.initWithParams(aParams);</span>
<a href="#l1.1055"></a><span id="l1.1055" class="difflineplus">+            win.focus();</span>
<a href="#l1.1056"></a><span id="l1.1056" class="difflineplus">+          } else {</span>
<a href="#l1.1057"></a><span id="l1.1057" class="difflineplus">+            var features = &quot;resizable,dialog=no,centerscreen&quot; + (aFeatures != &quot;&quot; ? (&quot;,&quot; + aFeatures) : &quot;&quot;);</span>
<a href="#l1.1058"></a><span id="l1.1058" class="difflineplus">+            var parentWindow = (this.instantApply || !window.opener || window.opener.closed) ? window : window.opener;</span>
<a href="#l1.1059"></a><span id="l1.1059" class="difflineplus">+            win = parentWindow.openDialog(aURL, &quot;_blank&quot;, features, aParams);</span>
<a href="#l1.1060"></a><span id="l1.1060" class="difflineplus">+          }</span>
<a href="#l1.1061"></a><span id="l1.1061" class="difflineplus">+          return win;</span>
<a href="#l1.1062"></a><span id="l1.1062" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1063"></a><span id="l1.1063" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1064"></a><span id="l1.1064" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1065"></a><span id="l1.1065" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l1.1066"></a><span id="l1.1066" class="difflineplus">+    &lt;handlers&gt;</span>
<a href="#l1.1067"></a><span id="l1.1067" class="difflineplus">+      &lt;handler event=&quot;dialogaccept&quot;&gt;</span>
<a href="#l1.1068"></a><span id="l1.1068" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.1069"></a><span id="l1.1069" class="difflineplus">+        if (!this._fireEvent(&quot;beforeaccept&quot;, this)) {</span>
<a href="#l1.1070"></a><span id="l1.1070" class="difflineplus">+          return false;</span>
<a href="#l1.1071"></a><span id="l1.1071" class="difflineplus">+        }</span>
<a href="#l1.1072"></a><span id="l1.1072" class="difflineplus">+</span>
<a href="#l1.1073"></a><span id="l1.1073" class="difflineplus">+        var secMan = Components.classes[&quot;@mozilla.org/scriptsecuritymanager;1&quot;]</span>
<a href="#l1.1074"></a><span id="l1.1074" class="difflineplus">+                    .getService(Components.interfaces.nsIScriptSecurityManager);</span>
<a href="#l1.1075"></a><span id="l1.1075" class="difflineplus">+        if (this.type == &quot;child&quot; &amp;&amp; window.opener &amp;&amp;</span>
<a href="#l1.1076"></a><span id="l1.1076" class="difflineplus">+            secMan.isSystemPrincipal(window.opener.document.nodePrincipal)) {</span>
<a href="#l1.1077"></a><span id="l1.1077" class="difflineplus">+          var pdocEl = window.opener.document.documentElement;</span>
<a href="#l1.1078"></a><span id="l1.1078" class="difflineplus">+          if (pdocEl.instantApply) {</span>
<a href="#l1.1079"></a><span id="l1.1079" class="difflineplus">+            let panes = this.preferencePanes;</span>
<a href="#l1.1080"></a><span id="l1.1080" class="difflineplus">+            for (let i = 0; i &lt; panes.length; ++i)</span>
<a href="#l1.1081"></a><span id="l1.1081" class="difflineplus">+              panes[i].writePreferences(true);</span>
<a href="#l1.1082"></a><span id="l1.1082" class="difflineplus">+          } else {</span>
<a href="#l1.1083"></a><span id="l1.1083" class="difflineplus">+            // Clone all the preferences elements from the child document and</span>
<a href="#l1.1084"></a><span id="l1.1084" class="difflineplus">+            // insert them into the pane collection of the parent.</span>
<a href="#l1.1085"></a><span id="l1.1085" class="difflineplus">+            var pdoc = window.opener.document;</span>
<a href="#l1.1086"></a><span id="l1.1086" class="difflineplus">+            if (pdoc.documentElement.localName == &quot;prefwindow&quot;) {</span>
<a href="#l1.1087"></a><span id="l1.1087" class="difflineplus">+              var currentPane = pdoc.documentElement.currentPane;</span>
<a href="#l1.1088"></a><span id="l1.1088" class="difflineplus">+              var id = window.location.href + &quot;#childprefs&quot;;</span>
<a href="#l1.1089"></a><span id="l1.1089" class="difflineplus">+              var childPrefs = pdoc.getElementById(id);</span>
<a href="#l1.1090"></a><span id="l1.1090" class="difflineplus">+              if (!childPrefs) {</span>
<a href="#l1.1091"></a><span id="l1.1091" class="difflineplus">+                childPrefs = pdoc.createElement(&quot;preferences&quot;);</span>
<a href="#l1.1092"></a><span id="l1.1092" class="difflineplus">+                currentPane.appendChild(childPrefs);</span>
<a href="#l1.1093"></a><span id="l1.1093" class="difflineplus">+                childPrefs.id = id;</span>
<a href="#l1.1094"></a><span id="l1.1094" class="difflineplus">+              }</span>
<a href="#l1.1095"></a><span id="l1.1095" class="difflineplus">+              let panes = this.preferencePanes;</span>
<a href="#l1.1096"></a><span id="l1.1096" class="difflineplus">+              for (let i = 0; i &lt; panes.length; ++i) {</span>
<a href="#l1.1097"></a><span id="l1.1097" class="difflineplus">+                var preferences = panes[i].preferences;</span>
<a href="#l1.1098"></a><span id="l1.1098" class="difflineplus">+                for (var j = 0; j &lt; preferences.length; ++j) {</span>
<a href="#l1.1099"></a><span id="l1.1099" class="difflineplus">+                  // Try to find a preference element for the same preference.</span>
<a href="#l1.1100"></a><span id="l1.1100" class="difflineplus">+                  var preference = null;</span>
<a href="#l1.1101"></a><span id="l1.1101" class="difflineplus">+                  var parentPreferences = pdoc.getElementsByTagName(&quot;preferences&quot;);</span>
<a href="#l1.1102"></a><span id="l1.1102" class="difflineplus">+                  for (var k = 0; (k &lt; parentPreferences.length &amp;&amp; !preference); ++k) {</span>
<a href="#l1.1103"></a><span id="l1.1103" class="difflineplus">+                    var parentPrefs = parentPreferences[k]</span>
<a href="#l1.1104"></a><span id="l1.1104" class="difflineplus">+                                         .getElementsByAttribute(&quot;name&quot;, preferences[j].name);</span>
<a href="#l1.1105"></a><span id="l1.1105" class="difflineplus">+                    for (var l = 0; (l &lt; parentPrefs.length &amp;&amp; !preference); ++l) {</span>
<a href="#l1.1106"></a><span id="l1.1106" class="difflineplus">+                      if (parentPrefs[l].localName == &quot;preference&quot;)</span>
<a href="#l1.1107"></a><span id="l1.1107" class="difflineplus">+                        preference = parentPrefs[l];</span>
<a href="#l1.1108"></a><span id="l1.1108" class="difflineplus">+                    }</span>
<a href="#l1.1109"></a><span id="l1.1109" class="difflineplus">+                  }</span>
<a href="#l1.1110"></a><span id="l1.1110" class="difflineplus">+                  if (!preference) {</span>
<a href="#l1.1111"></a><span id="l1.1111" class="difflineplus">+                    // No matching preference in the parent window.</span>
<a href="#l1.1112"></a><span id="l1.1112" class="difflineplus">+                    preference = pdoc.createElement(&quot;preference&quot;);</span>
<a href="#l1.1113"></a><span id="l1.1113" class="difflineplus">+                    childPrefs.appendChild(preference);</span>
<a href="#l1.1114"></a><span id="l1.1114" class="difflineplus">+                    preference.name     = preferences[j].name;</span>
<a href="#l1.1115"></a><span id="l1.1115" class="difflineplus">+                    preference.type     = preferences[j].type;</span>
<a href="#l1.1116"></a><span id="l1.1116" class="difflineplus">+                    preference.inverted = preferences[j].inverted;</span>
<a href="#l1.1117"></a><span id="l1.1117" class="difflineplus">+                    preference.readonly = preferences[j].readonly;</span>
<a href="#l1.1118"></a><span id="l1.1118" class="difflineplus">+                    preference.disabled = preferences[j].disabled;</span>
<a href="#l1.1119"></a><span id="l1.1119" class="difflineplus">+                  }</span>
<a href="#l1.1120"></a><span id="l1.1120" class="difflineplus">+                  preference.value = preferences[j].value;</span>
<a href="#l1.1121"></a><span id="l1.1121" class="difflineplus">+                }</span>
<a href="#l1.1122"></a><span id="l1.1122" class="difflineplus">+              }</span>
<a href="#l1.1123"></a><span id="l1.1123" class="difflineplus">+            }</span>
<a href="#l1.1124"></a><span id="l1.1124" class="difflineplus">+          }</span>
<a href="#l1.1125"></a><span id="l1.1125" class="difflineplus">+        } else {</span>
<a href="#l1.1126"></a><span id="l1.1126" class="difflineplus">+          let panes = this.preferencePanes;</span>
<a href="#l1.1127"></a><span id="l1.1127" class="difflineplus">+          for (var i = 0; i &lt; panes.length; ++i)</span>
<a href="#l1.1128"></a><span id="l1.1128" class="difflineplus">+            panes[i].writePreferences(false);</span>
<a href="#l1.1129"></a><span id="l1.1129" class="difflineplus">+</span>
<a href="#l1.1130"></a><span id="l1.1130" class="difflineplus">+          let psvc = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l1.1131"></a><span id="l1.1131" class="difflineplus">+                               .getService(Components.interfaces.nsIPrefService);</span>
<a href="#l1.1132"></a><span id="l1.1132" class="difflineplus">+          psvc.savePrefFile(null);</span>
<a href="#l1.1133"></a><span id="l1.1133" class="difflineplus">+        }</span>
<a href="#l1.1134"></a><span id="l1.1134" class="difflineplus">+</span>
<a href="#l1.1135"></a><span id="l1.1135" class="difflineplus">+        return true;</span>
<a href="#l1.1136"></a><span id="l1.1136" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.1137"></a><span id="l1.1137" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1138"></a><span id="l1.1138" class="difflineplus">+      &lt;handler event=&quot;command&quot;&gt;</span>
<a href="#l1.1139"></a><span id="l1.1139" class="difflineplus">+        if (event.originalTarget.hasAttribute(&quot;pane&quot;)) {</span>
<a href="#l1.1140"></a><span id="l1.1140" class="difflineplus">+          var pane = document.getElementById(event.originalTarget.getAttribute(&quot;pane&quot;));</span>
<a href="#l1.1141"></a><span id="l1.1141" class="difflineplus">+          this.showPane(pane);</span>
<a href="#l1.1142"></a><span id="l1.1142" class="difflineplus">+        }</span>
<a href="#l1.1143"></a><span id="l1.1143" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1144"></a><span id="l1.1144" class="difflineplus">+</span>
<a href="#l1.1145"></a><span id="l1.1145" class="difflineplus">+      &lt;handler event=&quot;keypress&quot; key=&quot;&amp;windowClose.key;&quot; modifiers=&quot;accel&quot; phase=&quot;capturing&quot;&gt;</span>
<a href="#l1.1146"></a><span id="l1.1146" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.1147"></a><span id="l1.1147" class="difflineplus">+        if (this.instantApply)</span>
<a href="#l1.1148"></a><span id="l1.1148" class="difflineplus">+          window.close();</span>
<a href="#l1.1149"></a><span id="l1.1149" class="difflineplus">+        event.stopPropagation();</span>
<a href="#l1.1150"></a><span id="l1.1150" class="difflineplus">+        event.preventDefault();</span>
<a href="#l1.1151"></a><span id="l1.1151" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.1152"></a><span id="l1.1152" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1153"></a><span id="l1.1153" class="difflineplus">+</span>
<a href="#l1.1154"></a><span id="l1.1154" class="difflineplus">+      &lt;handler event=&quot;keypress&quot;</span>
<a href="#l1.1155"></a><span id="l1.1155" class="difflineplus">+#ifdef XP_MACOSX</span>
<a href="#l1.1156"></a><span id="l1.1156" class="difflineplus">+               key=&quot;&amp;openHelpMac.commandkey;&quot; modifiers=&quot;accel&quot;</span>
<a href="#l1.1157"></a><span id="l1.1157" class="difflineplus">+#else</span>
<a href="#l1.1158"></a><span id="l1.1158" class="difflineplus">+               keycode=&quot;&amp;openHelp.commandkey;&quot;</span>
<a href="#l1.1159"></a><span id="l1.1159" class="difflineplus">+#endif</span>
<a href="#l1.1160"></a><span id="l1.1160" class="difflineplus">+               phase=&quot;capturing&quot;&gt;</span>
<a href="#l1.1161"></a><span id="l1.1161" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.1162"></a><span id="l1.1162" class="difflineplus">+        var helpButton = this.getButton(&quot;help&quot;);</span>
<a href="#l1.1163"></a><span id="l1.1163" class="difflineplus">+        if (helpButton.disabled || helpButton.hidden)</span>
<a href="#l1.1164"></a><span id="l1.1164" class="difflineplus">+          return;</span>
<a href="#l1.1165"></a><span id="l1.1165" class="difflineplus">+        this._fireEvent(&quot;dialoghelp&quot;, this);</span>
<a href="#l1.1166"></a><span id="l1.1166" class="difflineplus">+        event.stopPropagation();</span>
<a href="#l1.1167"></a><span id="l1.1167" class="difflineplus">+        event.preventDefault();</span>
<a href="#l1.1168"></a><span id="l1.1168" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.1169"></a><span id="l1.1169" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1170"></a><span id="l1.1170" class="difflineplus">+    &lt;/handlers&gt;</span>
<a href="#l1.1171"></a><span id="l1.1171" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l1.1172"></a><span id="l1.1172" class="difflineplus">+</span>
<a href="#l1.1173"></a><span id="l1.1173" class="difflineplus">+  &lt;binding id=&quot;prefpane&quot;&gt;</span>
<a href="#l1.1174"></a><span id="l1.1174" class="difflineplus">+    &lt;resources&gt;</span>
<a href="#l1.1175"></a><span id="l1.1175" class="difflineplus">+      &lt;stylesheet src=&quot;chrome://global/skin/preferences.css&quot;/&gt;</span>
<a href="#l1.1176"></a><span id="l1.1176" class="difflineplus">+    &lt;/resources&gt;</span>
<a href="#l1.1177"></a><span id="l1.1177" class="difflineplus">+    &lt;content&gt;</span>
<a href="#l1.1178"></a><span id="l1.1178" class="difflineplus">+      &lt;xul:vbox class=&quot;content-box&quot; xbl:inherits=&quot;flex&quot;&gt;</span>
<a href="#l1.1179"></a><span id="l1.1179" class="difflineplus">+        &lt;children/&gt;</span>
<a href="#l1.1180"></a><span id="l1.1180" class="difflineplus">+      &lt;/xul:vbox&gt;</span>
<a href="#l1.1181"></a><span id="l1.1181" class="difflineplus">+    &lt;/content&gt;</span>
<a href="#l1.1182"></a><span id="l1.1182" class="difflineplus">+    &lt;implementation&gt;</span>
<a href="#l1.1183"></a><span id="l1.1183" class="difflineplus">+      &lt;method name=&quot;writePreferences&quot;&gt;</span>
<a href="#l1.1184"></a><span id="l1.1184" class="difflineplus">+        &lt;parameter name=&quot;aFlushToDisk&quot;/&gt;</span>
<a href="#l1.1185"></a><span id="l1.1185" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1186"></a><span id="l1.1186" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.1187"></a><span id="l1.1187" class="difflineplus">+          // Write all values to preferences.</span>
<a href="#l1.1188"></a><span id="l1.1188" class="difflineplus">+          if (this._deferredValueUpdateElements.size) {</span>
<a href="#l1.1189"></a><span id="l1.1189" class="difflineplus">+            this._finalizeDeferredElements();</span>
<a href="#l1.1190"></a><span id="l1.1190" class="difflineplus">+          }</span>
<a href="#l1.1191"></a><span id="l1.1191" class="difflineplus">+</span>
<a href="#l1.1192"></a><span id="l1.1192" class="difflineplus">+          var preferences = this.preferences;</span>
<a href="#l1.1193"></a><span id="l1.1193" class="difflineplus">+          for (var i = 0; i &lt; preferences.length; ++i) {</span>
<a href="#l1.1194"></a><span id="l1.1194" class="difflineplus">+            var preference = preferences[i];</span>
<a href="#l1.1195"></a><span id="l1.1195" class="difflineplus">+            preference.batching = true;</span>
<a href="#l1.1196"></a><span id="l1.1196" class="difflineplus">+            preference.valueFromPreferences = preference.value;</span>
<a href="#l1.1197"></a><span id="l1.1197" class="difflineplus">+            preference.batching = false;</span>
<a href="#l1.1198"></a><span id="l1.1198" class="difflineplus">+          }</span>
<a href="#l1.1199"></a><span id="l1.1199" class="difflineplus">+          if (aFlushToDisk) {</span>
<a href="#l1.1200"></a><span id="l1.1200" class="difflineplus">+            var psvc = Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l1.1201"></a><span id="l1.1201" class="difflineplus">+                                 .getService(Components.interfaces.nsIPrefService);</span>
<a href="#l1.1202"></a><span id="l1.1202" class="difflineplus">+            psvc.savePrefFile(null);</span>
<a href="#l1.1203"></a><span id="l1.1203" class="difflineplus">+          }</span>
<a href="#l1.1204"></a><span id="l1.1204" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1205"></a><span id="l1.1205" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1206"></a><span id="l1.1206" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1207"></a><span id="l1.1207" class="difflineplus">+</span>
<a href="#l1.1208"></a><span id="l1.1208" class="difflineplus">+      &lt;property name=&quot;src&quot;</span>
<a href="#l1.1209"></a><span id="l1.1209" class="difflineplus">+                onget=&quot;return this.getAttribute('src');&quot;</span>
<a href="#l1.1210"></a><span id="l1.1210" class="difflineplus">+                onset=&quot;this.setAttribute('src', val); return val;&quot;/&gt;</span>
<a href="#l1.1211"></a><span id="l1.1211" class="difflineplus">+      &lt;property name=&quot;selected&quot;</span>
<a href="#l1.1212"></a><span id="l1.1212" class="difflineplus">+                onget=&quot;return this.getAttribute('selected') == 'true';&quot;</span>
<a href="#l1.1213"></a><span id="l1.1213" class="difflineplus">+                onset=&quot;this.setAttribute('selected', val); return val;&quot;/&gt;</span>
<a href="#l1.1214"></a><span id="l1.1214" class="difflineplus">+      &lt;property name=&quot;image&quot;</span>
<a href="#l1.1215"></a><span id="l1.1215" class="difflineplus">+                onget=&quot;return this.getAttribute('image');&quot;</span>
<a href="#l1.1216"></a><span id="l1.1216" class="difflineplus">+                onset=&quot;this.setAttribute('image', val); return val;&quot;/&gt;</span>
<a href="#l1.1217"></a><span id="l1.1217" class="difflineplus">+      &lt;property name=&quot;label&quot;</span>
<a href="#l1.1218"></a><span id="l1.1218" class="difflineplus">+                onget=&quot;return this.getAttribute('label');&quot;</span>
<a href="#l1.1219"></a><span id="l1.1219" class="difflineplus">+                onset=&quot;this.setAttribute('label', val); return val;&quot;/&gt;</span>
<a href="#l1.1220"></a><span id="l1.1220" class="difflineplus">+</span>
<a href="#l1.1221"></a><span id="l1.1221" class="difflineplus">+      &lt;property name=&quot;preferenceElements&quot;</span>
<a href="#l1.1222"></a><span id="l1.1222" class="difflineplus">+                onget=&quot;return this.getElementsByAttribute('preference', '*');&quot;/&gt;</span>
<a href="#l1.1223"></a><span id="l1.1223" class="difflineplus">+      &lt;property name=&quot;preferences&quot;</span>
<a href="#l1.1224"></a><span id="l1.1224" class="difflineplus">+                onget=&quot;return this.getElementsByTagName('preference');&quot;/&gt;</span>
<a href="#l1.1225"></a><span id="l1.1225" class="difflineplus">+</span>
<a href="#l1.1226"></a><span id="l1.1226" class="difflineplus">+      &lt;property name=&quot;helpTopic&quot;&gt;</span>
<a href="#l1.1227"></a><span id="l1.1227" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.1228"></a><span id="l1.1228" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.1229"></a><span id="l1.1229" class="difflineplus">+          // if there are tabs, and the selected tab provides a helpTopic, return that</span>
<a href="#l1.1230"></a><span id="l1.1230" class="difflineplus">+          var box = this.getElementsByTagName(&quot;tabbox&quot;);</span>
<a href="#l1.1231"></a><span id="l1.1231" class="difflineplus">+          if (box[0]) {</span>
<a href="#l1.1232"></a><span id="l1.1232" class="difflineplus">+            var tab = box[0].selectedTab;</span>
<a href="#l1.1233"></a><span id="l1.1233" class="difflineplus">+            if (tab &amp;&amp; tab.hasAttribute(&quot;helpTopic&quot;))</span>
<a href="#l1.1234"></a><span id="l1.1234" class="difflineplus">+              return tab.getAttribute(&quot;helpTopic&quot;);</span>
<a href="#l1.1235"></a><span id="l1.1235" class="difflineplus">+          }</span>
<a href="#l1.1236"></a><span id="l1.1236" class="difflineplus">+</span>
<a href="#l1.1237"></a><span id="l1.1237" class="difflineplus">+          // otherwise, return the helpTopic of the current panel</span>
<a href="#l1.1238"></a><span id="l1.1238" class="difflineplus">+          return this.getAttribute(&quot;helpTopic&quot;);</span>
<a href="#l1.1239"></a><span id="l1.1239" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1240"></a><span id="l1.1240" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.1241"></a><span id="l1.1241" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.1242"></a><span id="l1.1242" class="difflineplus">+</span>
<a href="#l1.1243"></a><span id="l1.1243" class="difflineplus">+      &lt;field name=&quot;_loaded&quot;&gt;false&lt;/field&gt;</span>
<a href="#l1.1244"></a><span id="l1.1244" class="difflineplus">+      &lt;property name=&quot;loaded&quot;</span>
<a href="#l1.1245"></a><span id="l1.1245" class="difflineplus">+                onget=&quot;return !this.src ? true : this._loaded;&quot;</span>
<a href="#l1.1246"></a><span id="l1.1246" class="difflineplus">+                onset=&quot;this._loaded = val; return val;&quot;/&gt;</span>
<a href="#l1.1247"></a><span id="l1.1247" class="difflineplus">+</span>
<a href="#l1.1248"></a><span id="l1.1248" class="difflineplus">+      &lt;method name=&quot;preferenceForElement&quot;&gt;</span>
<a href="#l1.1249"></a><span id="l1.1249" class="difflineplus">+        &lt;parameter name=&quot;aElement&quot;/&gt;</span>
<a href="#l1.1250"></a><span id="l1.1250" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1251"></a><span id="l1.1251" class="difflineplus">+          return document.getElementById(aElement.getAttribute(&quot;preference&quot;));</span>
<a href="#l1.1252"></a><span id="l1.1252" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1253"></a><span id="l1.1253" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1254"></a><span id="l1.1254" class="difflineplus">+</span>
<a href="#l1.1255"></a><span id="l1.1255" class="difflineplus">+      &lt;method name=&quot;getPreferenceElement&quot;&gt;</span>
<a href="#l1.1256"></a><span id="l1.1256" class="difflineplus">+        &lt;parameter name=&quot;aStartElement&quot;/&gt;</span>
<a href="#l1.1257"></a><span id="l1.1257" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1258"></a><span id="l1.1258" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.1259"></a><span id="l1.1259" class="difflineplus">+          var temp = aStartElement;</span>
<a href="#l1.1260"></a><span id="l1.1260" class="difflineplus">+          while (temp &amp;&amp; temp.nodeType == Node.ELEMENT_NODE &amp;&amp;</span>
<a href="#l1.1261"></a><span id="l1.1261" class="difflineplus">+                 !temp.hasAttribute(&quot;preference&quot;))</span>
<a href="#l1.1262"></a><span id="l1.1262" class="difflineplus">+            temp = temp.parentNode;</span>
<a href="#l1.1263"></a><span id="l1.1263" class="difflineplus">+          return temp &amp;&amp; temp.nodeType == Node.ELEMENT_NODE ?</span>
<a href="#l1.1264"></a><span id="l1.1264" class="difflineplus">+                 temp : aStartElement;</span>
<a href="#l1.1265"></a><span id="l1.1265" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1266"></a><span id="l1.1266" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1267"></a><span id="l1.1267" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1268"></a><span id="l1.1268" class="difflineplus">+</span>
<a href="#l1.1269"></a><span id="l1.1269" class="difflineplus">+      &lt;property name=&quot;DeferredTask&quot; readonly=&quot;true&quot;&gt;</span>
<a href="#l1.1270"></a><span id="l1.1270" class="difflineplus">+        &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l1.1271"></a><span id="l1.1271" class="difflineplus">+          let module = {};</span>
<a href="#l1.1272"></a><span id="l1.1272" class="difflineplus">+          Components.utils.import(&quot;resource://gre/modules/DeferredTask.jsm&quot;, module);</span>
<a href="#l1.1273"></a><span id="l1.1273" class="difflineplus">+          Object.defineProperty(this, &quot;DeferredTask&quot;, {</span>
<a href="#l1.1274"></a><span id="l1.1274" class="difflineplus">+            configurable: true,</span>
<a href="#l1.1275"></a><span id="l1.1275" class="difflineplus">+            enumerable: true,</span>
<a href="#l1.1276"></a><span id="l1.1276" class="difflineplus">+            writable: true,</span>
<a href="#l1.1277"></a><span id="l1.1277" class="difflineplus">+            value: module.DeferredTask</span>
<a href="#l1.1278"></a><span id="l1.1278" class="difflineplus">+          });</span>
<a href="#l1.1279"></a><span id="l1.1279" class="difflineplus">+          return module.DeferredTask;</span>
<a href="#l1.1280"></a><span id="l1.1280" class="difflineplus">+        ]]&gt;&lt;/getter&gt;</span>
<a href="#l1.1281"></a><span id="l1.1281" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.1282"></a><span id="l1.1282" class="difflineplus">+      &lt;method name=&quot;_deferredValueUpdate&quot;&gt;</span>
<a href="#l1.1283"></a><span id="l1.1283" class="difflineplus">+        &lt;parameter name=&quot;aElement&quot;/&gt;</span>
<a href="#l1.1284"></a><span id="l1.1284" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1285"></a><span id="l1.1285" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.1286"></a><span id="l1.1286" class="difflineplus">+          delete aElement._deferredValueUpdateTask;</span>
<a href="#l1.1287"></a><span id="l1.1287" class="difflineplus">+          let preference = document.getElementById(aElement.getAttribute(&quot;preference&quot;));</span>
<a href="#l1.1288"></a><span id="l1.1288" class="difflineplus">+          let prefVal = preference.getElementValue(aElement);</span>
<a href="#l1.1289"></a><span id="l1.1289" class="difflineplus">+          preference.value = prefVal;</span>
<a href="#l1.1290"></a><span id="l1.1290" class="difflineplus">+          this._deferredValueUpdateElements.delete(aElement);</span>
<a href="#l1.1291"></a><span id="l1.1291" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1292"></a><span id="l1.1292" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1293"></a><span id="l1.1293" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1294"></a><span id="l1.1294" class="difflineplus">+      &lt;field name=&quot;_deferredValueUpdateElements&quot;&gt;</span>
<a href="#l1.1295"></a><span id="l1.1295" class="difflineplus">+        new Set();</span>
<a href="#l1.1296"></a><span id="l1.1296" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l1.1297"></a><span id="l1.1297" class="difflineplus">+      &lt;method name=&quot;_finalizeDeferredElements&quot;&gt;</span>
<a href="#l1.1298"></a><span id="l1.1298" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1299"></a><span id="l1.1299" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.1300"></a><span id="l1.1300" class="difflineplus">+          for (let el of this._deferredValueUpdateElements) {</span>
<a href="#l1.1301"></a><span id="l1.1301" class="difflineplus">+            if (el._deferredValueUpdateTask) {</span>
<a href="#l1.1302"></a><span id="l1.1302" class="difflineplus">+              el._deferredValueUpdateTask.finalize();</span>
<a href="#l1.1303"></a><span id="l1.1303" class="difflineplus">+            }</span>
<a href="#l1.1304"></a><span id="l1.1304" class="difflineplus">+          }</span>
<a href="#l1.1305"></a><span id="l1.1305" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1306"></a><span id="l1.1306" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1307"></a><span id="l1.1307" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1308"></a><span id="l1.1308" class="difflineplus">+      &lt;method name=&quot;userChangedValue&quot;&gt;</span>
<a href="#l1.1309"></a><span id="l1.1309" class="difflineplus">+        &lt;parameter name=&quot;aElement&quot;/&gt;</span>
<a href="#l1.1310"></a><span id="l1.1310" class="difflineplus">+        &lt;body&gt;</span>
<a href="#l1.1311"></a><span id="l1.1311" class="difflineplus">+        &lt;![CDATA[</span>
<a href="#l1.1312"></a><span id="l1.1312" class="difflineplus">+          let element = this.getPreferenceElement(aElement);</span>
<a href="#l1.1313"></a><span id="l1.1313" class="difflineplus">+          if (element.hasAttribute(&quot;preference&quot;)) {</span>
<a href="#l1.1314"></a><span id="l1.1314" class="difflineplus">+            if (element.getAttribute(&quot;delayprefsave&quot;) != &quot;true&quot;) {</span>
<a href="#l1.1315"></a><span id="l1.1315" class="difflineplus">+              var preference = document.getElementById(element.getAttribute(&quot;preference&quot;));</span>
<a href="#l1.1316"></a><span id="l1.1316" class="difflineplus">+              var prefVal = preference.getElementValue(element);</span>
<a href="#l1.1317"></a><span id="l1.1317" class="difflineplus">+              preference.value = prefVal;</span>
<a href="#l1.1318"></a><span id="l1.1318" class="difflineplus">+            } else {</span>
<a href="#l1.1319"></a><span id="l1.1319" class="difflineplus">+              if (!element._deferredValueUpdateTask) {</span>
<a href="#l1.1320"></a><span id="l1.1320" class="difflineplus">+                element._deferredValueUpdateTask = new this.DeferredTask(this._deferredValueUpdate.bind(this, element), 1000);</span>
<a href="#l1.1321"></a><span id="l1.1321" class="difflineplus">+                this._deferredValueUpdateElements.add(element);</span>
<a href="#l1.1322"></a><span id="l1.1322" class="difflineplus">+              } else {</span>
<a href="#l1.1323"></a><span id="l1.1323" class="difflineplus">+                // Each time the preference is changed, restart the delay.</span>
<a href="#l1.1324"></a><span id="l1.1324" class="difflineplus">+                element._deferredValueUpdateTask.disarm();</span>
<a href="#l1.1325"></a><span id="l1.1325" class="difflineplus">+              }</span>
<a href="#l1.1326"></a><span id="l1.1326" class="difflineplus">+              element._deferredValueUpdateTask.arm();</span>
<a href="#l1.1327"></a><span id="l1.1327" class="difflineplus">+            }</span>
<a href="#l1.1328"></a><span id="l1.1328" class="difflineplus">+          }</span>
<a href="#l1.1329"></a><span id="l1.1329" class="difflineplus">+        ]]&gt;</span>
<a href="#l1.1330"></a><span id="l1.1330" class="difflineplus">+        &lt;/body&gt;</span>
<a href="#l1.1331"></a><span id="l1.1331" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l1.1332"></a><span id="l1.1332" class="difflineplus">+</span>
<a href="#l1.1333"></a><span id="l1.1333" class="difflineplus">+      &lt;property name=&quot;contentHeight&quot;&gt;</span>
<a href="#l1.1334"></a><span id="l1.1334" class="difflineplus">+        &lt;getter&gt;</span>
<a href="#l1.1335"></a><span id="l1.1335" class="difflineplus">+          var targetHeight = parseInt(window.getComputedStyle(this._content).height);</span>
<a href="#l1.1336"></a><span id="l1.1336" class="difflineplus">+          targetHeight += parseInt(window.getComputedStyle(this._content).marginTop);</span>
<a href="#l1.1337"></a><span id="l1.1337" class="difflineplus">+          targetHeight += parseInt(window.getComputedStyle(this._content).marginBottom);</span>
<a href="#l1.1338"></a><span id="l1.1338" class="difflineplus">+          return targetHeight;</span>
<a href="#l1.1339"></a><span id="l1.1339" class="difflineplus">+        &lt;/getter&gt;</span>
<a href="#l1.1340"></a><span id="l1.1340" class="difflineplus">+      &lt;/property&gt;</span>
<a href="#l1.1341"></a><span id="l1.1341" class="difflineplus">+      &lt;field name=&quot;_content&quot;&gt;</span>
<a href="#l1.1342"></a><span id="l1.1342" class="difflineplus">+        document.getAnonymousElementByAttribute(this, &quot;class&quot;, &quot;content-box&quot;);</span>
<a href="#l1.1343"></a><span id="l1.1343" class="difflineplus">+      &lt;/field&gt;</span>
<a href="#l1.1344"></a><span id="l1.1344" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l1.1345"></a><span id="l1.1345" class="difflineplus">+    &lt;handlers&gt;</span>
<a href="#l1.1346"></a><span id="l1.1346" class="difflineplus">+      &lt;handler event=&quot;command&quot;&gt;</span>
<a href="#l1.1347"></a><span id="l1.1347" class="difflineplus">+        // This &quot;command&quot; event handler tracks changes made to preferences by</span>
<a href="#l1.1348"></a><span id="l1.1348" class="difflineplus">+        // the user in this window.</span>
<a href="#l1.1349"></a><span id="l1.1349" class="difflineplus">+        if (event.sourceEvent)</span>
<a href="#l1.1350"></a><span id="l1.1350" class="difflineplus">+          event = event.sourceEvent;</span>
<a href="#l1.1351"></a><span id="l1.1351" class="difflineplus">+        this.userChangedValue(event.target);</span>
<a href="#l1.1352"></a><span id="l1.1352" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1353"></a><span id="l1.1353" class="difflineplus">+      &lt;handler event=&quot;select&quot;&gt;</span>
<a href="#l1.1354"></a><span id="l1.1354" class="difflineplus">+        // This &quot;select&quot; event handler tracks changes made to colorpicker</span>
<a href="#l1.1355"></a><span id="l1.1355" class="difflineplus">+        // preferences by the user in this window.</span>
<a href="#l1.1356"></a><span id="l1.1356" class="difflineplus">+        if (event.target.localName == &quot;colorpicker&quot;)</span>
<a href="#l1.1357"></a><span id="l1.1357" class="difflineplus">+          this.userChangedValue(event.target);</span>
<a href="#l1.1358"></a><span id="l1.1358" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1359"></a><span id="l1.1359" class="difflineplus">+      &lt;handler event=&quot;change&quot;&gt;</span>
<a href="#l1.1360"></a><span id="l1.1360" class="difflineplus">+        // This &quot;change&quot; event handler tracks changes made to preferences by</span>
<a href="#l1.1361"></a><span id="l1.1361" class="difflineplus">+        // the user in this window.</span>
<a href="#l1.1362"></a><span id="l1.1362" class="difflineplus">+        this.userChangedValue(event.target);</span>
<a href="#l1.1363"></a><span id="l1.1363" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1364"></a><span id="l1.1364" class="difflineplus">+      &lt;handler event=&quot;input&quot;&gt;</span>
<a href="#l1.1365"></a><span id="l1.1365" class="difflineplus">+        // This &quot;input&quot; event handler tracks changes made to preferences by</span>
<a href="#l1.1366"></a><span id="l1.1366" class="difflineplus">+        // the user in this window.</span>
<a href="#l1.1367"></a><span id="l1.1367" class="difflineplus">+        this.userChangedValue(event.target);</span>
<a href="#l1.1368"></a><span id="l1.1368" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1369"></a><span id="l1.1369" class="difflineplus">+      &lt;handler event=&quot;paneload&quot;&gt;</span>
<a href="#l1.1370"></a><span id="l1.1370" class="difflineplus">+      &lt;![CDATA[</span>
<a href="#l1.1371"></a><span id="l1.1371" class="difflineplus">+        // Initialize all values from preferences.</span>
<a href="#l1.1372"></a><span id="l1.1372" class="difflineplus">+        var elements = this.preferenceElements;</span>
<a href="#l1.1373"></a><span id="l1.1373" class="difflineplus">+        for (var i = 0; i &lt; elements.length; ++i) {</span>
<a href="#l1.1374"></a><span id="l1.1374" class="difflineplus">+          try {</span>
<a href="#l1.1375"></a><span id="l1.1375" class="difflineplus">+            var preference = this.preferenceForElement(elements[i]);</span>
<a href="#l1.1376"></a><span id="l1.1376" class="difflineplus">+            preference.setElementValue(elements[i]);</span>
<a href="#l1.1377"></a><span id="l1.1377" class="difflineplus">+          } catch (e) {</span>
<a href="#l1.1378"></a><span id="l1.1378" class="difflineplus">+            dump(&quot;*** No preference found for &quot; + elements[i].getAttribute(&quot;preference&quot;) + &quot;\n&quot;);</span>
<a href="#l1.1379"></a><span id="l1.1379" class="difflineplus">+          }</span>
<a href="#l1.1380"></a><span id="l1.1380" class="difflineplus">+        }</span>
<a href="#l1.1381"></a><span id="l1.1381" class="difflineplus">+      ]]&gt;</span>
<a href="#l1.1382"></a><span id="l1.1382" class="difflineplus">+      &lt;/handler&gt;</span>
<a href="#l1.1383"></a><span id="l1.1383" class="difflineplus">+    &lt;/handlers&gt;</span>
<a href="#l1.1384"></a><span id="l1.1384" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l1.1385"></a><span id="l1.1385" class="difflineplus">+</span>
<a href="#l1.1386"></a><span id="l1.1386" class="difflineplus">+  &lt;binding id=&quot;panebutton&quot; role=&quot;xul:listitem&quot;</span>
<a href="#l1.1387"></a><span id="l1.1387" class="difflineplus">+           extends=&quot;chrome://global/content/bindings/radio.xml#radio&quot;&gt;</span>
<a href="#l1.1388"></a><span id="l1.1388" class="difflineplus">+    &lt;resources&gt;</span>
<a href="#l1.1389"></a><span id="l1.1389" class="difflineplus">+      &lt;stylesheet src=&quot;chrome://global/skin/preferences.css&quot;/&gt;</span>
<a href="#l1.1390"></a><span id="l1.1390" class="difflineplus">+    &lt;/resources&gt;</span>
<a href="#l1.1391"></a><span id="l1.1391" class="difflineplus">+    &lt;content&gt;</span>
<a href="#l1.1392"></a><span id="l1.1392" class="difflineplus">+      &lt;xul:image class=&quot;paneButtonIcon&quot; xbl:inherits=&quot;src&quot;/&gt;</span>
<a href="#l1.1393"></a><span id="l1.1393" class="difflineplus">+      &lt;xul:label class=&quot;paneButtonLabel&quot; xbl:inherits=&quot;value=label&quot;/&gt;</span>
<a href="#l1.1394"></a><span id="l1.1394" class="difflineplus">+    &lt;/content&gt;</span>
<a href="#l1.1395"></a><span id="l1.1395" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l1.1396"></a><span id="l1.1396" class="difflineplus">+</span>
<a href="#l1.1397"></a><span id="l1.1397" class="difflineplus">+&lt;/bindings&gt;</span>
<a href="#l1.1398"></a><span id="l1.1398" class="difflineplus">+</span>
<a href="#l1.1399"></a><span id="l1.1399" class="difflineplus">+# -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l1.1400"></a><span id="l1.1400" class="difflineplus">+# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l1.1401"></a><span id="l1.1401" class="difflineplus">+# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l1.1402"></a><span id="l1.1402" class="difflineplus">+# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l1.1403"></a><span id="l1.1403" class="difflineplus">+</span>
<a href="#l1.1404"></a><span id="l1.1404" class="difflineplus">+#</span>
<a href="#l1.1405"></a><span id="l1.1405" class="difflineplus">+# This is PrefWindow 6. The Code Could Well Be Ready, Are You?</span>
<a href="#l1.1406"></a><span id="l1.1406" class="difflineplus">+#</span>
<a href="#l1.1407"></a><span id="l1.1407" class="difflineplus">+#    Historical References:</span>
<a href="#l1.1408"></a><span id="l1.1408" class="difflineplus">+#    PrefWindow V   (February 1, 2003)</span>
<a href="#l1.1409"></a><span id="l1.1409" class="difflineplus">+#    PrefWindow IV  (April 24, 2000)</span>
<a href="#l1.1410"></a><span id="l1.1410" class="difflineplus">+#    PrefWindow III (January 6, 2000)</span>
<a href="#l1.1411"></a><span id="l1.1411" class="difflineplus">+#    PrefWindow II  (???)</span>
<a href="#l1.1412"></a><span id="l1.1412" class="difflineplus">+#    PrefWindow I   (June 4, 1999)</span>
<a href="#l1.1413"></a><span id="l1.1413" class="difflineplus">+#</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/messenger.css</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/messenger.css</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -326,17 +326,17 @@ splitmenu {</span>
<a href="#l2.4"></a><span id="l2.4"> .button-appmenu {</span>
<a href="#l2.5"></a><span id="l2.5">   -moz-binding: url(&quot;chrome://messenger/content/mailWidgets.xml#appmenu-vertical&quot;) !important;</span>
<a href="#l2.6"></a><span id="l2.6"> }</span>
<a href="#l2.7"></a><span id="l2.7"> </span>
<a href="#l2.8"></a><span id="l2.8"> /* Preferences */</span>
<a href="#l2.9"></a><span id="l2.9"> </span>
<a href="#l2.10"></a><span id="l2.10"> preftab,</span>
<a href="#l2.11"></a><span id="l2.11"> preftab:root /* override :root */ {</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-  -moz-binding: url(&quot;chrome://messenger/content/preferences/preferences.xml#preftab&quot;);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+  -moz-binding: url(&quot;chrome://messenger/content/preferences/aboutPreferences.xml#preftab&quot;);</span>
<a href="#l2.14"></a><span id="l2.14">   -moz-box-orient: vertical;</span>
<a href="#l2.15"></a><span id="l2.15"> }</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17"> /* WebExtensions icon-variables */</span>
<a href="#l2.18"></a><span id="l2.18"> </span>
<a href="#l2.19"></a><span id="l2.19"> :root[lwthemeicons~=&quot;--getmsg-icon&quot;] #button-getmsg:-moz-lwtheme {</span>
<a href="#l2.20"></a><span id="l2.20">   list-style-image: var(--getmsg-icon) !important;</span>
<a href="#l2.21"></a><span id="l2.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1">rename from mail/components/preferences/preferences.xml</span>
<a href="#l3.2"></a><span id="l3.2">rename to mail/components/preferences/aboutPreferences.xml</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineminus">--- a/mail/components/preferences/preferences.xml</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineplus">+++ b/mail/components/preferences/aboutPreferences.xml</span>
<a href="#l3.5"></a><span id="l3.5" class="difflineat">@@ -12,17 +12,17 @@</span>
<a href="#l3.6"></a><span id="l3.6"> ]&gt;</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8"> &lt;bindings id=&quot;preferencesBindings&quot;</span>
<a href="#l3.9"></a><span id="l3.9">           xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l3.10"></a><span id="l3.10">           xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l3.11"></a><span id="l3.11">           xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l3.12"></a><span id="l3.12"> </span>
<a href="#l3.13"></a><span id="l3.13">   &lt;binding id=&quot;preftab&quot;</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-           extends=&quot;chrome://global/content/bindings/preferences.xml#prefwindow&quot;&gt;</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+           extends=&quot;chrome://messenger/content/preferences/preferences.xml#prefwindow&quot;&gt;</span>
<a href="#l3.16"></a><span id="l3.16">     &lt;resources&gt;</span>
<a href="#l3.17"></a><span id="l3.17">       &lt;stylesheet src=&quot;chrome://global/skin/preferences.css&quot;/&gt;</span>
<a href="#l3.18"></a><span id="l3.18">     &lt;/resources&gt;</span>
<a href="#l3.19"></a><span id="l3.19">     &lt;content dlgbuttons=&quot;accept,cancel&quot; persist=&quot;lastSelected&quot;</span>
<a href="#l3.20"></a><span id="l3.20">              closebuttonlabel=&quot;&amp;preferencesCloseButton.label;&quot;</span>
<a href="#l3.21"></a><span id="l3.21">              closebuttonaccesskey=&quot;&amp;preferencesCloseButton.accesskey;&quot;</span>
<a href="#l3.22"></a><span id="l3.22">              role=&quot;dialog&quot;&gt;</span>
<a href="#l3.23"></a><span id="l3.23">       &lt;xul:stack flex=&quot;1&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/components/preferences/attachmentReminder.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/components/preferences/attachmentReminder.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,15 +1,16 @@</span>
<a href="#l4.4"></a><span id="l4.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l4.5"></a><span id="l4.5"> &lt;!-- -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l4.6"></a><span id="l4.6">    - This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l4.7"></a><span id="l4.7">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l4.8"></a><span id="l4.8">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot;?&gt;</span>
<a href="#l4.11"></a><span id="l4.11" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l4.12"></a><span id="l4.12"> &lt;!DOCTYPE prefwindow [</span>
<a href="#l4.13"></a><span id="l4.13"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot;&gt;</span>
<a href="#l4.14"></a><span id="l4.14"> %brandDTD;</span>
<a href="#l4.15"></a><span id="l4.15"> &lt;!ENTITY % sendOptionsDTD SYSTEM &quot;chrome://messenger/locale/preferences/attachmentReminder.dtd&quot;&gt;</span>
<a href="#l4.16"></a><span id="l4.16"> %sendOptionsDTD;</span>
<a href="#l4.17"></a><span id="l4.17"> ]&gt;</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19"> &lt;prefwindow id=&quot;attachmentReminderOptionsDialog&quot; type=&quot;child&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/components/preferences/colors.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/components/preferences/colors.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,19 +1,17 @@</span>
<a href="#l5.4"></a><span id="l5.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6"> # -*- Mode: Java; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l5.7"></a><span id="l5.7"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.8"></a><span id="l5.8"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.9"></a><span id="l5.9"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l5.13"></a><span id="l5.13"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-#endif</span>
<a href="#l5.15"></a><span id="l5.15"> </span>
<a href="#l5.16"></a><span id="l5.16"> &lt;!DOCTYPE prefwindow SYSTEM &quot;chrome://messenger/locale/preferences/colors.dtd&quot; &gt;</span>
<a href="#l5.17"></a><span id="l5.17"> </span>
<a href="#l5.18"></a><span id="l5.18"> &lt;prefwindow id=&quot;ColorsDialog&quot; type=&quot;child&quot;</span>
<a href="#l5.19"></a><span id="l5.19">             xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l5.20"></a><span id="l5.20">             title=&quot;&amp;colorsDialog.title;&quot;</span>
<a href="#l5.21"></a><span id="l5.21">             dlgbuttons=&quot;accept,cancel&quot;</span>
<a href="#l5.22"></a><span id="l5.22"> #ifdef XP_MACOSX</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/components/preferences/connection.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/components/preferences/connection.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -3,16 +3,17 @@</span>
<a href="#l6.4"></a><span id="l6.4"> &lt;!-- -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l6.5"></a><span id="l6.5">    - This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l6.6"></a><span id="l6.6">    - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l6.7"></a><span id="l6.7">    - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l6.8"></a><span id="l6.8"> </span>
<a href="#l6.9"></a><span id="l6.9"> &lt;!DOCTYPE prefwindow SYSTEM &quot;chrome://messenger/locale/preferences/connection.dtd&quot;&gt;</span>
<a href="#l6.10"></a><span id="l6.10"> </span>
<a href="#l6.11"></a><span id="l6.11"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot;?&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+&lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l6.13"></a><span id="l6.13"> </span>
<a href="#l6.14"></a><span id="l6.14"> &lt;prefwindow id=&quot;ConnectionsDialog&quot; type=&quot;child&quot;</span>
<a href="#l6.15"></a><span id="l6.15">             xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l6.16"></a><span id="l6.16">             title=&quot;&amp;connectionsDialog.title;&quot;</span>
<a href="#l6.17"></a><span id="l6.17">             dlgbuttons=&quot;accept,cancel&quot;</span>
<a href="#l6.18"></a><span id="l6.18">             onbeforeaccept=&quot;return gConnectionsDialog.beforeAccept();&quot;</span>
<a href="#l6.19"></a><span id="l6.19">             onload=&quot;gConnectionsDialog.checkForSystemProxy();&quot;</span>
<a href="#l6.20"></a><span id="l6.20"> #ifdef XP_MACOSX</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/components/preferences/fonts.xul</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/components/preferences/fonts.xul</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -1,20 +1,17 @@</span>
<a href="#l7.4"></a><span id="l7.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l7.5"></a><span id="l7.5" class="difflineminus">-</span>
<a href="#l7.6"></a><span id="l7.6" class="difflineminus">-# -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l7.7"></a><span id="l7.7" class="difflineminus">-# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.8"></a><span id="l7.8" class="difflineminus">-# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.9"></a><span id="l7.9" class="difflineminus">-# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l7.10"></a><span id="l7.10" class="difflineplus">+&lt;!-- -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l7.11"></a><span id="l7.11" class="difflineplus">+   - This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l7.14"></a><span id="l7.14"> </span>
<a href="#l7.15"></a><span id="l7.15"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot;?&gt;</span>
<a href="#l7.16"></a><span id="l7.16"> &lt;?xml-stylesheet href=&quot;chrome://messenger/content/charsetList.css&quot;?&gt;</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l7.18"></a><span id="l7.18"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineminus">-#endif</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21"> &lt;!DOCTYPE prefwindow [</span>
<a href="#l7.22"></a><span id="l7.22"> &lt;!ENTITY % fontsDTD SYSTEM &quot;chrome://messenger/locale/preferences/fonts.dtd&quot; &gt;</span>
<a href="#l7.23"></a><span id="l7.23"> %fontsDTD;</span>
<a href="#l7.24"></a><span id="l7.24"> ]&gt;</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26"> &lt;prefwindow id=&quot;FontsDialog&quot; type=&quot;child&quot;</span>
<a href="#l7.27"></a><span id="l7.27">             xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/components/preferences/jar.mn</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/components/preferences/jar.mn</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -1,17 +1,19 @@</span>
<a href="#l8.4"></a><span id="l8.4"> # This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l8.5"></a><span id="l8.5"> # License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l8.6"></a><span id="l8.6"> # file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> messenger.jar:</span>
<a href="#l8.9"></a><span id="l8.9"> *   content/messenger/preferences/preferences.xul</span>
<a href="#l8.10"></a><span id="l8.10"> *   content/messenger/preferences/aboutPreferences.xul</span>
<a href="#l8.11"></a><span id="l8.11" class="difflineminus">-    content/messenger/preferences/preferences.xml</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+    content/messenger/preferences/aboutPreferences.xml</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    content/messenger/preferences/preferences.css</span>
<a href="#l8.14"></a><span id="l8.14">     content/messenger/preferences/preferences.js</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+*   content/messenger/preferences/preferences.xml       (../../../common/bindings/preferences.xml)</span>
<a href="#l8.16"></a><span id="l8.16">     content/messenger/preferences/preferencesTab.xul</span>
<a href="#l8.17"></a><span id="l8.17">     content/messenger/preferences/preferencesTab.js</span>
<a href="#l8.18"></a><span id="l8.18"> *   content/messenger/preferences/general.xul</span>
<a href="#l8.19"></a><span id="l8.19">     content/messenger/preferences/general.js</span>
<a href="#l8.20"></a><span id="l8.20"> #ifdef XP_MACOSX</span>
<a href="#l8.21"></a><span id="l8.21">     content/messenger/preferences/dockoptions.xul</span>
<a href="#l8.22"></a><span id="l8.22"> #endif</span>
<a href="#l8.23"></a><span id="l8.23">     content/messenger/preferences/display.xul</span>
<a href="#l8.24"></a><span id="l8.24" class="difflineat">@@ -19,38 +21,38 @@ messenger.jar:</span>
<a href="#l8.25"></a><span id="l8.25"> *   content/messenger/preferences/chat.xul</span>
<a href="#l8.26"></a><span id="l8.26">     content/messenger/preferences/chat.js</span>
<a href="#l8.27"></a><span id="l8.27">     content/messenger/preferences/messagestyle.js</span>
<a href="#l8.28"></a><span id="l8.28"> *   content/messenger/preferences/colors.xul</span>
<a href="#l8.29"></a><span id="l8.29">     content/messenger/preferences/compose.xul</span>
<a href="#l8.30"></a><span id="l8.30">     content/messenger/preferences/compose.js</span>
<a href="#l8.31"></a><span id="l8.31">     content/messenger/preferences/privacy.xul</span>
<a href="#l8.32"></a><span id="l8.32">     content/messenger/preferences/privacy.js</span>
<a href="#l8.33"></a><span id="l8.33" class="difflineminus">-*   content/messenger/preferences/sendoptions.xul</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineplus">+    content/messenger/preferences/sendoptions.xul</span>
<a href="#l8.35"></a><span id="l8.35">     content/messenger/preferences/sendoptions.js</span>
<a href="#l8.36"></a><span id="l8.36">     content/messenger/preferences/security.xul</span>
<a href="#l8.37"></a><span id="l8.37">     content/messenger/preferences/security.js</span>
<a href="#l8.38"></a><span id="l8.38">     content/messenger/preferences/advanced.js</span>
<a href="#l8.39"></a><span id="l8.39"> *   content/messenger/preferences/advanced.xul</span>
<a href="#l8.40"></a><span id="l8.40">     content/messenger/preferences/receipts.js</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineminus">-*   content/messenger/preferences/receipts.xul</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineplus">+    content/messenger/preferences/receipts.xul</span>
<a href="#l8.43"></a><span id="l8.43">     content/messenger/preferences/connection.js</span>
<a href="#l8.44"></a><span id="l8.44"> *   content/messenger/preferences/connection.xul</span>
<a href="#l8.45"></a><span id="l8.45">     content/messenger/preferences/downloads.js</span>
<a href="#l8.46"></a><span id="l8.46">     content/messenger/preferences/attachmentReminder.js</span>
<a href="#l8.47"></a><span id="l8.47">     content/messenger/preferences/attachmentReminder.xul</span>
<a href="#l8.48"></a><span id="l8.48"> *   content/messenger/preferences/applications.xul</span>
<a href="#l8.49"></a><span id="l8.49">     content/messenger/preferences/applications.js</span>
<a href="#l8.50"></a><span id="l8.50">     content/messenger/preferences/applicationManager.xul</span>
<a href="#l8.51"></a><span id="l8.51">     content/messenger/preferences/applicationManager.js</span>
<a href="#l8.52"></a><span id="l8.52">     content/messenger/preferences/handlers.xml</span>
<a href="#l8.53"></a><span id="l8.53">     content/messenger/preferences/handlers.css</span>
<a href="#l8.54"></a><span id="l8.54">     content/messenger/preferences/actionsshared.js</span>
<a href="#l8.55"></a><span id="l8.55">     content/messenger/preferences/fonts.js</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineminus">-*   content/messenger/preferences/fonts.xul</span>
<a href="#l8.57"></a><span id="l8.57" class="difflineplus">+    content/messenger/preferences/fonts.xul</span>
<a href="#l8.58"></a><span id="l8.58"> #ifndef XP_MACOSX</span>
<a href="#l8.59"></a><span id="l8.59">     content/messenger/preferences/notifications.xul</span>
<a href="#l8.60"></a><span id="l8.60"> #endif</span>
<a href="#l8.61"></a><span id="l8.61">     content/messenger/preferences/offline.js</span>
<a href="#l8.62"></a><span id="l8.62">     content/messenger/preferences/offline.xul</span>
<a href="#l8.63"></a><span id="l8.63">     content/messenger/preferences/cookies.js</span>
<a href="#l8.64"></a><span id="l8.64"> *   content/messenger/preferences/cookies.xul</span>
<a href="#l8.65"></a><span id="l8.65">     content/messenger/preferences/permissions.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1">new file mode 100644</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineminus">--- /dev/null</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineplus">+++ b/mail/components/preferences/preferences.css</span>
<a href="#l9.4"></a><span id="l9.4" class="difflineat">@@ -0,0 +1,51 @@</span>
<a href="#l9.5"></a><span id="l9.5" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l9.6"></a><span id="l9.6" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l9.7"></a><span id="l9.7" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.8"></a><span id="l9.8" class="difflineplus">+</span>
<a href="#l9.9"></a><span id="l9.9" class="difflineplus">+prefwindow,</span>
<a href="#l9.10"></a><span id="l9.10" class="difflineplus">+prefwindow:root /* override :root */ {</span>
<a href="#l9.11"></a><span id="l9.11" class="difflineplus">+  -moz-binding: url(&quot;chrome://messenger/content/preferences/preferences.xml#prefwindow&quot;);</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+  -moz-box-orient: vertical;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+}</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+prefpane {</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+  -moz-binding: url(&quot;chrome://messenger/content/preferences/preferences.xml#prefpane&quot;);</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+  -moz-box-orient: vertical;</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+}</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+prefwindow &gt; .paneDeckContainer {</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineplus">+  overflow: hidden;</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+}</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineplus">+prefpane &gt; .content-box {</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineplus">+  overflow: hidden;</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineplus">+}</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+prefwindow[type=&quot;child&quot;] &gt; .paneDeckContainer {</span>
<a href="#l9.29"></a><span id="l9.29" class="difflineplus">+  overflow: -moz-hidden-unscrollable;</span>
<a href="#l9.30"></a><span id="l9.30" class="difflineplus">+}</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+prefwindow[type=&quot;child&quot;] &gt; prefpane &gt; .content-box {</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+  -moz-box-flex: 1;</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+  overflow: -moz-hidden-unscrollable;</span>
<a href="#l9.35"></a><span id="l9.35" class="difflineplus">+}</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineplus">+</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineplus">+preferences {</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineplus">+  -moz-binding: url(&quot;chrome://messenger/content/preferences/preferences.xml#preferences&quot;);</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineplus">+  visibility: collapse;</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineplus">+}</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+preference {</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+  -moz-binding: url(&quot;chrome://messenger/content/preferences/preferences.xml#preference&quot;);</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+  visibility: collapse;</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+}</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineplus">+</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineplus">+radio[pane] {</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineplus">+  -moz-binding: url(&quot;chrome://messenger/content/preferences/preferences.xml#panebutton&quot;) !important;</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineplus">+  -moz-box-orient: vertical;</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineplus">+  -moz-box-align: center;</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineplus">+}</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+prefwindow[chromehidden~=&quot;toolbar&quot;] .chromeclass-toolbar {</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+  display: none;</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/components/preferences/receipts.xul</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/components/preferences/receipts.xul</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -1,19 +1,16 @@</span>
<a href="#l10.4"></a><span id="l10.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l10.5"></a><span id="l10.5" class="difflineminus">-</span>
<a href="#l10.6"></a><span id="l10.6" class="difflineminus">-# -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l10.7"></a><span id="l10.7" class="difflineminus">-# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.8"></a><span id="l10.8" class="difflineminus">-# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.9"></a><span id="l10.9" class="difflineminus">-# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l10.10"></a><span id="l10.10" class="difflineplus">+&lt;!-- -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a href="#l10.11"></a><span id="l10.11" class="difflineplus">+   - This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l10.14"></a><span id="l10.14"> </span>
<a href="#l10.15"></a><span id="l10.15"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l10.17"></a><span id="l10.17"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l10.18"></a><span id="l10.18" class="difflineminus">-#endif</span>
<a href="#l10.19"></a><span id="l10.19"> </span>
<a href="#l10.20"></a><span id="l10.20"> &lt;!DOCTYPE prefwindow [</span>
<a href="#l10.21"></a><span id="l10.21"> &lt;!ENTITY % receiptsDTD SYSTEM &quot;chrome://messenger/locale/preferences/receipts.dtd&quot;&gt;</span>
<a href="#l10.22"></a><span id="l10.22"> %receiptsDTD;</span>
<a href="#l10.23"></a><span id="l10.23"> ]&gt;</span>
<a href="#l10.24"></a><span id="l10.24"> </span>
<a href="#l10.25"></a><span id="l10.25"> &lt;prefwindow id=&quot;ReturnReceiptsDialog&quot; type=&quot;child&quot;</span>
<a href="#l10.26"></a><span id="l10.26">             xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/components/preferences/sendoptions.xul</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/components/preferences/sendoptions.xul</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1,18 +1,16 @@</span>
<a href="#l11.4"></a><span id="l11.4"> &lt;?xml version=&quot;1.0&quot;?&gt;</span>
<a href="#l11.5"></a><span id="l11.5" class="difflineminus">-# -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l11.6"></a><span id="l11.6" class="difflineminus">-# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.7"></a><span id="l11.7" class="difflineminus">-# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.8"></a><span id="l11.8" class="difflineminus">-# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l11.9"></a><span id="l11.9" class="difflineplus">+&lt;!-- -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l11.10"></a><span id="l11.10" class="difflineplus">+   - This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l11.11"></a><span id="l11.11" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l11.13"></a><span id="l11.13"> </span>
<a href="#l11.14"></a><span id="l11.14"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot;?&gt;</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineminus">-#ifdef XP_MACOSX</span>
<a href="#l11.16"></a><span id="l11.16"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/preferences/preferences.css&quot;?&gt;</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-#endif</span>
<a href="#l11.18"></a><span id="l11.18"> </span>
<a href="#l11.19"></a><span id="l11.19"> &lt;!DOCTYPE prefwindow [</span>
<a href="#l11.20"></a><span id="l11.20"> &lt;!ENTITY % brandDTD SYSTEM &quot;chrome://branding/locale/brand.dtd&quot; &gt;</span>
<a href="#l11.21"></a><span id="l11.21"> %brandDTD;</span>
<a href="#l11.22"></a><span id="l11.22"> &lt;!ENTITY % sendOptionsDTD SYSTEM &quot;chrome://messenger/locale/preferences/sendoptions.dtd&quot; &gt;</span>
<a href="#l11.23"></a><span id="l11.23"> %sendOptionsDTD;</span>
<a href="#l11.24"></a><span id="l11.24"> ]&gt;</span>
<a href="#l11.25"></a><span id="l11.25"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/themes/linux/mail/preferences/preferences.css</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/themes/linux/mail/preferences/preferences.css</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1,28 +1,81 @@</span>
<a href="#l12.4"></a><span id="l12.4" class="difflineminus">-/*</span>
<a href="#l12.5"></a><span id="l12.5" class="difflineminus">-# -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l12.6"></a><span id="l12.6" class="difflineminus">-# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.7"></a><span id="l12.7" class="difflineminus">-# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.8"></a><span id="l12.8" class="difflineminus">-# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l12.9"></a><span id="l12.9" class="difflineminus">-*/</span>
<a href="#l12.10"></a><span id="l12.10" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l12.11"></a><span id="l12.11" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+@import url(&quot;chrome://messenger/content/preferences/preferences.css&quot;);</span>
<a href="#l12.15"></a><span id="l12.15"> </span>
<a href="#l12.16"></a><span id="l12.16"> /* Global Styles */</span>
<a href="#l12.17"></a><span id="l12.17"> </span>
<a href="#l12.18"></a><span id="l12.18" class="difflineplus">+prefwindow {</span>
<a href="#l12.19"></a><span id="l12.19" class="difflineplus">+  -moz-appearance: window;</span>
<a href="#l12.20"></a><span id="l12.20" class="difflineplus">+  background-color: -moz-Dialog;</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineplus">+  color: -moz-DialogText;</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineplus">+  font: message-box;</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineplus">+  padding: 0;</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineplus">+}</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineplus">+</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineplus">+prefpane {</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineplus">+  padding: 8px;</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineplus">+}</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineplus">+</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineplus">+prefwindow[type=&quot;child&quot;] {</span>
<a href="#l12.31"></a><span id="l12.31" class="difflineplus">+  padding: 8px;</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineplus">+}</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineplus">+</span>
<a href="#l12.34"></a><span id="l12.34" class="difflineplus">+prefwindow[type=&quot;child&quot;] &gt; prefpane {</span>
<a href="#l12.35"></a><span id="l12.35" class="difflineplus">+  padding: 0;</span>
<a href="#l12.36"></a><span id="l12.36" class="difflineplus">+}</span>
<a href="#l12.37"></a><span id="l12.37" class="difflineplus">+</span>
<a href="#l12.38"></a><span id="l12.38" class="difflineplus">+.prefWindow-dlgbuttons {</span>
<a href="#l12.39"></a><span id="l12.39" class="difflineplus">+  padding-bottom: 8px;</span>
<a href="#l12.40"></a><span id="l12.40" class="difflineplus">+  padding-inline-start: 8px;</span>
<a href="#l12.41"></a><span id="l12.41" class="difflineplus">+  padding-inline-end: 8px;</span>
<a href="#l12.42"></a><span id="l12.42" class="difflineplus">+}</span>
<a href="#l12.43"></a><span id="l12.43" class="difflineplus">+</span>
<a href="#l12.44"></a><span id="l12.44" class="difflineplus">+prefwindow[type=&quot;child&quot;] .prefWindow-dlgbuttons {</span>
<a href="#l12.45"></a><span id="l12.45" class="difflineplus">+  padding: 0;</span>
<a href="#l12.46"></a><span id="l12.46" class="difflineplus">+}</span>
<a href="#l12.47"></a><span id="l12.47" class="difflineplus">+</span>
<a href="#l12.48"></a><span id="l12.48" class="difflineplus">+radio[pane] {</span>
<a href="#l12.49"></a><span id="l12.49" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l12.50"></a><span id="l12.50" class="difflineplus">+  min-width: 4.5em;</span>
<a href="#l12.51"></a><span id="l12.51" class="difflineplus">+  margin: 0;</span>
<a href="#l12.52"></a><span id="l12.52" class="difflineplus">+  padding: 3px;</span>
<a href="#l12.53"></a><span id="l12.53" class="difflineplus">+  color: -moz-FieldText;</span>
<a href="#l12.54"></a><span id="l12.54" class="difflineplus">+}</span>
<a href="#l12.55"></a><span id="l12.55" class="difflineplus">+</span>
<a href="#l12.56"></a><span id="l12.56" class="difflineplus">+.paneSelector {</span>
<a href="#l12.57"></a><span id="l12.57" class="difflineplus">+  -moz-appearance: listbox;</span>
<a href="#l12.58"></a><span id="l12.58" class="difflineplus">+  margin: 8px 8px 0;</span>
<a href="#l12.59"></a><span id="l12.59" class="difflineplus">+  padding: 0;</span>
<a href="#l12.60"></a><span id="l12.60" class="difflineplus">+}</span>
<a href="#l12.61"></a><span id="l12.61" class="difflineplus">+</span>
<a href="#l12.62"></a><span id="l12.62" class="difflineplus">+.paneButtonIcon {</span>
<a href="#l12.63"></a><span id="l12.63" class="difflineplus">+  width: 32px;</span>
<a href="#l12.64"></a><span id="l12.64" class="difflineplus">+  height: 32px;</span>
<a href="#l12.65"></a><span id="l12.65" class="difflineplus">+}</span>
<a href="#l12.66"></a><span id="l12.66" class="difflineplus">+</span>
<a href="#l12.67"></a><span id="l12.67" class="difflineplus">+radio[pane][selected=&quot;true&quot;] {</span>
<a href="#l12.68"></a><span id="l12.68" class="difflineplus">+  background-color: Highlight;</span>
<a href="#l12.69"></a><span id="l12.69" class="difflineplus">+  color: HighlightText;</span>
<a href="#l12.70"></a><span id="l12.70" class="difflineplus">+}</span>
<a href="#l12.71"></a><span id="l12.71" class="difflineplus">+</span>
<a href="#l12.72"></a><span id="l12.72"> radio[pane=paneGeneral] {</span>
<a href="#l12.73"></a><span id="l12.73">   list-style-image: url(&quot;chrome://messenger/skin/preferences/general.png&quot;);</span>
<a href="#l12.74"></a><span id="l12.74"> }</span>
<a href="#l12.75"></a><span id="l12.75"> radio[pane=paneDisplay] {</span>
<a href="#l12.76"></a><span id="l12.76">   list-style-image: url(&quot;chrome://messenger/skin/preferences/display.png&quot;);</span>
<a href="#l12.77"></a><span id="l12.77"> }</span>
<a href="#l12.78"></a><span id="l12.78"> radio[pane=paneCompose] {</span>
<a href="#l12.79"></a><span id="l12.79">   list-style-image: url(&quot;chrome://messenger/skin/preferences/composition.png&quot;);</span>
<a href="#l12.80"></a><span id="l12.80"> }</span>
<a href="#l12.81"></a><span id="l12.81"> radio[pane=paneChat] {</span>
<a href="#l12.82"></a><span id="l12.82" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/preferences/chat.png&quot;); /*FIXME*/</span>
<a href="#l12.83"></a><span id="l12.83" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/preferences/chat.png&quot;);</span>
<a href="#l12.84"></a><span id="l12.84"> }</span>
<a href="#l12.85"></a><span id="l12.85"> radio[pane=panePrivacy] {</span>
<a href="#l12.86"></a><span id="l12.86">   list-style-image: url(&quot;chrome://messenger/skin/preferences/privacy.png&quot;);</span>
<a href="#l12.87"></a><span id="l12.87"> }</span>
<a href="#l12.88"></a><span id="l12.88"> radio[pane=paneSecurity] {</span>
<a href="#l12.89"></a><span id="l12.89">   list-style-image: url(&quot;chrome://messenger/skin/preferences/security.png&quot;);</span>
<a href="#l12.90"></a><span id="l12.90"> }</span>
<a href="#l12.91"></a><span id="l12.91"> radio[pane=paneApplications] {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/themes/osx/jar.mn</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/themes/osx/jar.mn</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -115,16 +115,18 @@ classic.jar:</span>
<a href="#l13.4"></a><span id="l13.4">   skin/classic/messenger-newsblog/rss-feed@2x.png                (mail/newsblog/rss-feed@2x.png)</span>
<a href="#l13.5"></a><span id="l13.5">   skin/classic/messenger/preferences/alwaysAsk.png               (mail/preferences/alwaysAsk.png)</span>
<a href="#l13.6"></a><span id="l13.6">   skin/classic/messenger/preferences/application.png             (mail/preferences/application.png)</span>
<a href="#l13.7"></a><span id="l13.7">   skin/classic/messenger/preferences/saveFile.png                (mail/preferences/saveFile.png)</span>
<a href="#l13.8"></a><span id="l13.8">   skin/classic/messenger/preferences/preferences.css             (mail/preferences/preferences.css)</span>
<a href="#l13.9"></a><span id="l13.9">   skin/classic/messenger/preferences/applications.css            (mail/preferences/applications.css)</span>
<a href="#l13.10"></a><span id="l13.10">   skin/classic/messenger/preferences/mail-options.png            (mail/preferences/mail-options.png)</span>
<a href="#l13.11"></a><span id="l13.11">   skin/classic/messenger/preferences/mail-options@2x.png         (mail/preferences/mail-options@2x.png)</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+  skin/classic/messenger/preferences/panebutton-active.png       (mail/preferences/panebutton-active.png)</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+  skin/classic/messenger/preferences/panebutton-inactive.png     (mail/preferences/panebutton-inactive.png)</span>
<a href="#l13.14"></a><span id="l13.14">   skin/classic/messenger/preferences/auth-error.png              (mail/preferences/auth-error.png)</span>
<a href="#l13.15"></a><span id="l13.15">   skin/classic/messenger/preferences/dialog.css                  (mail/preferences/dialog.css)</span>
<a href="#l13.16"></a><span id="l13.16">   skin/classic/messenger/preferences/aboutPreferences.css        (mail/preferences/aboutPreferences.css)</span>
<a href="#l13.17"></a><span id="l13.17">   skin/classic/messenger/smime/msgCompSMIMEOverlay.css           (mail/smime/msgCompSMIMEOverlay.css)</span>
<a href="#l13.18"></a><span id="l13.18">   skin/classic/messenger/smime/msgHdrViewSMIMEOverlay.css        (mail/smime/msgHdrViewSMIMEOverlay.css)</span>
<a href="#l13.19"></a><span id="l13.19">   skin/classic/messenger/smime/msgReadSMIMEOverlay.css           (mail/smime/msgReadSMIMEOverlay.css)</span>
<a href="#l13.20"></a><span id="l13.20">   skin/classic/messenger/smime/msgReadSecurityInfo.css           (mail/smime/msgReadSecurityInfo.css)</span>
<a href="#l13.21"></a><span id="l13.21">   skin/classic/messenger/smime/msgCompSecurityInfo.css           (mail/smime/msgCompSecurityInfo.css)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">new file mode 100644</span>
<a href="#l14.2"></a><span id="l14.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..43a95235e0aa3daa741119859471c4253c9cc390</span>
<a href="#l14.3"></a><span id="l14.3">GIT binary patch
literal 276
zc$@(g0qg#WP)&lt;h;3K|Lk000e1NJLTq000F5001`#1^@s6#NB{H0002nNkl&lt;Zc-noE
zi4Mac3_~eb|Nn1Su69f|@))d=mDaq3km8Lo_N^N_y1bYT?;o?Pkm}zw8)&amp;O$#e$&lt;5
zkzQd&amp;k`DF0$QSAj^27(tvzuWu1Jku;+&gt;$3cu!y6knxm!_#lNJRn_uo8I9$ZQfoRP!
z&amp;to-tt?AWZO{W8&lt;oEM6+x{1-taLn&gt;%@oY_AF2i@dGF01|RTg@zTauUSMl3XyEK0VS
z{7KKCsNBs2x*;Yn2Ky{qGEFrTH&amp;SxH(KR)HF&lt;s4(u4Yp5R&amp;tr1rxWFEpUbl^Ctvla
a_4oj}o{hCiOhWnq0000&lt;MNUMnLSTXfiF{)K</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1">new file mode 100644</span>
<a href="#l15.2"></a><span id="l15.2">index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..e424dc9ced8e0cd0bb301593530640f59dd2530e</span>
<a href="#l15.3"></a><span id="l15.3">GIT binary patch
literal 220
zc$@*;03-j2P)&lt;h;3K|Lk000e1NJLTq000F5001`#1^@s6#NB{H0001^Nkl&lt;Zc-pLz
zi4Mac3`2A9|9?y}Z6lLwDDAXGLPX{{Tu~8Gc}G^&gt;K$OaD3=C^SOd!pOwi101H5^I3
zBpZ&lt;pt%|!l?e3&gt;FooepI`-i`8pANsQY49b=qF#zhcIA44;zUmI2Qi^-Ub&amp;GVB?c`7
z+7s&lt;dGKk!ZG3&gt;D=J1jis{vFwg&gt;|63j`$R6Uc}gB`RIQB&lt;{pt6_FRp%1CY8yD00RKC
W$ZC(3JD@xO0000&lt;MNUMnLSTY+HCRIc</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/themes/osx/mail/preferences/preferences.css</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/themes/osx/mail/preferences/preferences.css</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1,14 +1,80 @@</span>
<a href="#l16.4"></a><span id="l16.4" class="difflineminus">-/*</span>
<a href="#l16.5"></a><span id="l16.5" class="difflineminus">-# -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a href="#l16.6"></a><span id="l16.6" class="difflineminus">-# This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.7"></a><span id="l16.7" class="difflineminus">-# License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.8"></a><span id="l16.8" class="difflineminus">-# file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a href="#l16.9"></a><span id="l16.9" class="difflineminus">-*/</span>
<a href="#l16.10"></a><span id="l16.10" class="difflineplus">+/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l16.11"></a><span id="l16.11" class="difflineplus">+ * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+@import url(&quot;chrome://messenger/content/preferences/preferences.css&quot;);</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineplus">+</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+/* Global Styles */</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineplus">+</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineplus">+prefwindow {</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineplus">+  -moz-appearance: dialog;</span>
<a href="#l16.20"></a><span id="l16.20" class="difflineplus">+  background-color: #ffffff;</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineplus">+  color: -moz-DialogText;</span>
<a href="#l16.22"></a><span id="l16.22" class="difflineplus">+  font: -moz-dialog;</span>
<a href="#l16.23"></a><span id="l16.23" class="difflineplus">+  padding: 0;</span>
<a href="#l16.24"></a><span id="l16.24" class="difflineplus">+}</span>
<a href="#l16.25"></a><span id="l16.25" class="difflineplus">+</span>
<a href="#l16.26"></a><span id="l16.26" class="difflineplus">+prefwindow[type=&quot;child&quot;] {</span>
<a href="#l16.27"></a><span id="l16.27" class="difflineplus">+  padding-top: 18px;</span>
<a href="#l16.28"></a><span id="l16.28" class="difflineplus">+  padding-bottom: 15px;</span>
<a href="#l16.29"></a><span id="l16.29" class="difflineplus">+  padding-inline-start: 18px;</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineplus">+  padding-inline-end: 20px;</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineplus">+}</span>
<a href="#l16.32"></a><span id="l16.32" class="difflineplus">+</span>
<a href="#l16.33"></a><span id="l16.33" class="difflineplus">+prefpane {</span>
<a href="#l16.34"></a><span id="l16.34" class="difflineplus">+  padding: 12px;</span>
<a href="#l16.35"></a><span id="l16.35" class="difflineplus">+}</span>
<a href="#l16.36"></a><span id="l16.36" class="difflineplus">+</span>
<a href="#l16.37"></a><span id="l16.37" class="difflineplus">+prefwindow[type=&quot;child&quot;] &gt; prefpane {</span>
<a href="#l16.38"></a><span id="l16.38" class="difflineplus">+  padding: 0;</span>
<a href="#l16.39"></a><span id="l16.39" class="difflineplus">+}</span>
<a href="#l16.40"></a><span id="l16.40" class="difflineplus">+</span>
<a href="#l16.41"></a><span id="l16.41" class="difflineplus">+.prefWindow-dlgbuttons {</span>
<a href="#l16.42"></a><span id="l16.42" class="difflineplus">+  margin: 0 12px 12px;</span>
<a href="#l16.43"></a><span id="l16.43" class="difflineplus">+  padding-top: 0 !important;</span>
<a href="#l16.44"></a><span id="l16.44" class="difflineplus">+}</span>
<a href="#l16.45"></a><span id="l16.45" class="difflineplus">+</span>
<a href="#l16.46"></a><span id="l16.46" class="difflineplus">+.paneSelector {</span>
<a href="#l16.47"></a><span id="l16.47" class="difflineplus">+  font: message-box;</span>
<a href="#l16.48"></a><span id="l16.48" class="difflineplus">+  padding: 1px 4px;</span>
<a href="#l16.49"></a><span id="l16.49" class="difflineplus">+  -moz-appearance: toolbar;</span>
<a href="#l16.50"></a><span id="l16.50" class="difflineplus">+  margin: 0;</span>
<a href="#l16.51"></a><span id="l16.51" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/preferences/mail-options.png&quot;);</span>
<a href="#l16.52"></a><span id="l16.52" class="difflineplus">+}</span>
<a href="#l16.53"></a><span id="l16.53" class="difflineplus">+</span>
<a href="#l16.54"></a><span id="l16.54" class="difflineplus">+radio[pane] {</span>
<a href="#l16.55"></a><span id="l16.55" class="difflineplus">+  border: solid transparent;</span>
<a href="#l16.56"></a><span id="l16.56" class="difflineplus">+  border-width: 0 2px;</span>
<a href="#l16.57"></a><span id="l16.57" class="difflineplus">+  padding: 5px 4px 3px;</span>
<a href="#l16.58"></a><span id="l16.58" class="difflineplus">+  margin: 0;</span>
<a href="#l16.59"></a><span id="l16.59" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l16.60"></a><span id="l16.60" class="difflineplus">+  text-shadow: rgba(255, 255, 255, 0.4) 0 1px;</span>
<a href="#l16.61"></a><span id="l16.61" class="difflineplus">+}</span>
<a href="#l16.62"></a><span id="l16.62" class="difflineplus">+</span>
<a href="#l16.63"></a><span id="l16.63" class="difflineplus">+radio[pane]:active:hover {</span>
<a href="#l16.64"></a><span id="l16.64" class="difflineplus">+  text-shadow: none;</span>
<a href="#l16.65"></a><span id="l16.65" class="difflineplus">+}</span>
<a href="#l16.66"></a><span id="l16.66" class="difflineplus">+</span>
<a href="#l16.67"></a><span id="l16.67" class="difflineplus">+radio[pane]:active:hover &gt; .paneButtonIcon {</span>
<a href="#l16.68"></a><span id="l16.68" class="difflineplus">+  filter: brightness(0.55);</span>
<a href="#l16.69"></a><span id="l16.69" class="difflineplus">+}</span>
<a href="#l16.70"></a><span id="l16.70" class="difflineplus">+</span>
<a href="#l16.71"></a><span id="l16.71" class="difflineplus">+radio[pane][selected=&quot;true&quot;] {</span>
<a href="#l16.72"></a><span id="l16.72" class="difflineplus">+  -moz-border-image: url(&quot;chrome://messenger/skin/preferences/panebutton-active.png&quot;) 0 2 fill repeat stretch;</span>
<a href="#l16.73"></a><span id="l16.73" class="difflineplus">+}</span>
<a href="#l16.74"></a><span id="l16.74" class="difflineplus">+</span>
<a href="#l16.75"></a><span id="l16.75" class="difflineplus">+radio[pane][selected=&quot;true&quot;]:-moz-window-inactive {</span>
<a href="#l16.76"></a><span id="l16.76" class="difflineplus">+  -moz-border-image: url(&quot;chrome://messenger/skin/preferences/panebutton-inactive.png&quot;) 0 2 fill repeat stretch;</span>
<a href="#l16.77"></a><span id="l16.77" class="difflineplus">+}</span>
<a href="#l16.78"></a><span id="l16.78" class="difflineplus">+</span>
<a href="#l16.79"></a><span id="l16.79" class="difflineplus">+.paneButtonLabel {</span>
<a href="#l16.80"></a><span id="l16.80" class="difflineplus">+  margin: 0 !important;</span>
<a href="#l16.81"></a><span id="l16.81" class="difflineplus">+}</span>
<a href="#l16.82"></a><span id="l16.82"> </span>
<a href="#l16.83"></a><span id="l16.83"> .windowDialog {</span>
<a href="#l16.84"></a><span id="l16.84">   padding: 12px;</span>
<a href="#l16.85"></a><span id="l16.85">   font: -moz-dialog;</span>
<a href="#l16.86"></a><span id="l16.86"> }</span>
<a href="#l16.87"></a><span id="l16.87"> </span>
<a href="#l16.88"></a><span id="l16.88"> #permissionsText {</span>
<a href="#l16.89"></a><span id="l16.89">   font: small-caption;</span>
<a href="#l16.90"></a><span id="l16.90" class="difflineat">@@ -20,24 +86,16 @@</span>
<a href="#l16.91"></a><span id="l16.91"> menulist &gt; menupopup &gt; menuitem {</span>
<a href="#l16.92"></a><span id="l16.92">   font: -moz-pull-down-menu;</span>
<a href="#l16.93"></a><span id="l16.93"> }</span>
<a href="#l16.94"></a><span id="l16.94"> </span>
<a href="#l16.95"></a><span id="l16.95"> prefwindow:not([type=&quot;child&quot;]) {</span>
<a href="#l16.96"></a><span id="l16.96">   padding: 0 !important;</span>
<a href="#l16.97"></a><span id="l16.97"> }</span>
<a href="#l16.98"></a><span id="l16.98"> </span>
<a href="#l16.99"></a><span id="l16.99" class="difflineminus">-prefpane {</span>
<a href="#l16.100"></a><span id="l16.100" class="difflineminus">-  padding: 12px;</span>
<a href="#l16.101"></a><span id="l16.101" class="difflineminus">-}</span>
<a href="#l16.102"></a><span id="l16.102" class="difflineminus">-</span>
<a href="#l16.103"></a><span id="l16.103" class="difflineminus">-.paneSelector {</span>
<a href="#l16.104"></a><span id="l16.104" class="difflineminus">-  list-style-image: url(&quot;chrome://messenger/skin/preferences/mail-options.png&quot;);</span>
<a href="#l16.105"></a><span id="l16.105" class="difflineminus">-}</span>
<a href="#l16.106"></a><span id="l16.106" class="difflineminus">-</span>
<a href="#l16.107"></a><span id="l16.107"> radio[pane=paneGeneral] {</span>
<a href="#l16.108"></a><span id="l16.108">   -moz-image-region: rect(0px, 32px, 32px, 0px)</span>
<a href="#l16.109"></a><span id="l16.109"> }</span>
<a href="#l16.110"></a><span id="l16.110"> </span>
<a href="#l16.111"></a><span id="l16.111"> radio[pane=paneDisplay] {</span>
<a href="#l16.112"></a><span id="l16.112">   -moz-image-region: rect(0px, 64px, 32px, 32px)</span>
<a href="#l16.113"></a><span id="l16.113"> }</span>
<a href="#l16.114"></a><span id="l16.114"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mail/themes/windows/mail/preferences/preferences.css</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mail/themes/windows/mail/preferences/preferences.css</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1,16 +1,82 @@</span>
<a href="#l17.4"></a><span id="l17.4"> /* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l17.5"></a><span id="l17.5">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l17.6"></a><span id="l17.6">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l17.7"></a><span id="l17.7"> </span>
<a href="#l17.8"></a><span id="l17.8" class="difflineplus">+@import url(&quot;chrome://messenger/content/preferences/preferences.css&quot;);</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineplus">+</span>
<a href="#l17.10"></a><span id="l17.10"> /* Global Styles */</span>
<a href="#l17.11"></a><span id="l17.11"> </span>
<a href="#l17.12"></a><span id="l17.12" class="difflineplus">+prefwindow {</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+  -moz-appearance: window;</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+  background-color: -moz-Dialog;</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+  color: -moz-DialogText;</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineplus">+  font: message-box;</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineplus">+  padding: 0;</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineplus">+}</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineplus">+</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineplus">+prefpane {</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineplus">+  padding-top: 8px;</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineplus">+  padding-bottom: 10px;</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineplus">+  padding-inline-start: 8px;</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineplus">+  padding-inline-end: 10px;</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineplus">+}</span>
<a href="#l17.26"></a><span id="l17.26" class="difflineplus">+</span>
<a href="#l17.27"></a><span id="l17.27" class="difflineplus">+prefwindow[type=&quot;child&quot;] {</span>
<a href="#l17.28"></a><span id="l17.28" class="difflineplus">+  padding-top: 8px;</span>
<a href="#l17.29"></a><span id="l17.29" class="difflineplus">+  padding-bottom: 10px;</span>
<a href="#l17.30"></a><span id="l17.30" class="difflineplus">+  padding-inline-start: 8px;</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineplus">+  padding-inline-end: 10px;</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+}</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineplus">+</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineplus">+prefwindow[type=&quot;child&quot;] &gt; prefpane {</span>
<a href="#l17.35"></a><span id="l17.35" class="difflineplus">+  padding: 0;</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineplus">+}</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineplus">+</span>
<a href="#l17.38"></a><span id="l17.38" class="difflineplus">+.prefWindow-dlgbuttons {</span>
<a href="#l17.39"></a><span id="l17.39" class="difflineplus">+  padding-bottom: 10px;</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineplus">+  padding-inline-start: 8px;</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineplus">+  padding-inline-end: 10px;</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineplus">+}</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineplus">+</span>
<a href="#l17.44"></a><span id="l17.44" class="difflineplus">+prefwindow[type=&quot;child&quot;] .prefWindow-dlgbuttons {</span>
<a href="#l17.45"></a><span id="l17.45" class="difflineplus">+  padding: 0;</span>
<a href="#l17.46"></a><span id="l17.46" class="difflineplus">+}</span>
<a href="#l17.47"></a><span id="l17.47" class="difflineplus">+</span>
<a href="#l17.48"></a><span id="l17.48" class="difflineplus">+radio[pane] {</span>
<a href="#l17.49"></a><span id="l17.49" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineplus">+  margin: 0 1px;</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineplus">+  padding: 1px 3px;</span>
<a href="#l17.52"></a><span id="l17.52" class="difflineplus">+  min-width: 4.5em;</span>
<a href="#l17.53"></a><span id="l17.53" class="difflineplus">+}</span>
<a href="#l17.54"></a><span id="l17.54" class="difflineplus">+</span>
<a href="#l17.55"></a><span id="l17.55"> .paneSelector {</span>
<a href="#l17.56"></a><span id="l17.56" class="difflineplus">+  border-bottom: 2px groove ThreeDFace;</span>
<a href="#l17.57"></a><span id="l17.57" class="difflineplus">+  margin: 0;</span>
<a href="#l17.58"></a><span id="l17.58">   padding-inline-start: 0;</span>
<a href="#l17.59"></a><span id="l17.59" class="difflineplus">+  background-color: -moz-Field;</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineplus">+  color: -moz-FieldText;</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineplus">+}</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineplus">+</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineplus">+.paneButtonIcon {</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineplus">+  width: 32px;</span>
<a href="#l17.65"></a><span id="l17.65" class="difflineplus">+  height: 32px;</span>
<a href="#l17.66"></a><span id="l17.66" class="difflineplus">+}</span>
<a href="#l17.67"></a><span id="l17.67" class="difflineplus">+</span>
<a href="#l17.68"></a><span id="l17.68" class="difflineplus">+radio[pane]:hover {</span>
<a href="#l17.69"></a><span id="l17.69" class="difflineplus">+  background-color: #e0e8f6;</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineplus">+  color: black;</span>
<a href="#l17.71"></a><span id="l17.71" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l17.72"></a><span id="l17.72" class="difflineplus">+}</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineplus">+</span>
<a href="#l17.74"></a><span id="l17.74" class="difflineplus">+radio[pane][selected=&quot;true&quot;] {</span>
<a href="#l17.75"></a><span id="l17.75" class="difflineplus">+  background-color: #c1d2ee;</span>
<a href="#l17.76"></a><span id="l17.76" class="difflineplus">+  color: black;</span>
<a href="#l17.77"></a><span id="l17.77" class="difflineplus">+  -moz-appearance: none;</span>
<a href="#l17.78"></a><span id="l17.78"> }</span>
<a href="#l17.79"></a><span id="l17.79"> </span>
<a href="#l17.80"></a><span id="l17.80"> radio[pane] {</span>
<a href="#l17.81"></a><span id="l17.81">   padding-top: 5px;</span>
<a href="#l17.82"></a><span id="l17.82">   min-width: 80px;</span>
<a href="#l17.83"></a><span id="l17.83"> }</span>
<a href="#l17.84"></a><span id="l17.84"> </span>
<a href="#l17.85"></a><span id="l17.85"> @media (-moz-windows-default-theme) {</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

