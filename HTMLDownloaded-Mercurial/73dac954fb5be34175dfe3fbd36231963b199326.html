<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 28989:73dac954fb5be34175dfe3fbd36231963b199326</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 73dac954fb5be34175dfe3fbd36231963b199326" />
<meta property="og:url" content="/comm-central/rev/73dac954fb5be34175dfe3fbd36231963b199326" />
<meta property="og:description" content="Bug 1620556 - comm-central automatic code fixes for Prettier 1.19.1 upgrade. rs=eslint" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 73dac954fb5be34175dfe3fbd36231963b199326 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/73dac954fb5be34175dfe3fbd36231963b199326">shortlog</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/73dac954fb5be34175dfe3fbd36231963b199326">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326">files</a> |
changeset |
<a href="/comm-central/raw-rev/73dac954fb5be34175dfe3fbd36231963b199326">raw</a>  | <a href="/comm-central/archive/73dac954fb5be34175dfe3fbd36231963b199326.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1620556">Bug 1620556</a> - comm-central automatic code fixes for Prettier 1.19.1 upgrade. rs=eslint
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#77;&#97;&#103;&#110;&#117;&#115;&#32;&#77;&#101;&#108;&#105;&#110;&#32;&#60;&#109;&#107;&#109;&#101;&#108;&#105;&#110;&#43;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#105;&#107;&#105;&#46;&#102;&#105;&#62;</td></tr>
<tr><td></td><td class="date age">Sat, 14 Mar 2020 14:33:11 +0200</td></tr>

<tr>
 <td>changeset 28989</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/73dac954fb5be34175dfe3fbd36231963b199326">73dac954fb5be34175dfe3fbd36231963b199326</a></td>
</tr>



<tr>
<td>parent 28988</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/24aae04385e0ae4b1a7c71ff5eaef5248174b51c">24aae04385e0ae4b1a7c71ff5eaef5248174b51c</a>
</td>
</tr>

<tr>
<td>child 28990</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/98aa0bf2e719d22931edfe3e942f66d32ee0e80f">98aa0bf2e719d22931edfe3e942f66d32ee0e80f</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=73dac954fb5be34175dfe3fbd36231963b199326">17140</a></td></tr>
<tr><td>push user</td><td>mkmelin@iki.fi</td></tr>
<tr><td>push date</td><td class="date age">Sat, 14 Mar 2020 12:37:06 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@73dac954fb5b [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=73dac954fb5be34175dfe3fbd36231963b199326">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=73dac954fb5be34175dfe3fbd36231963b199326&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=73dac954fb5be34175dfe3fbd36231963b199326&newProject=comm-central&newRevision=73dac954fb5be34175dfe3fbd36231963b199326&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=73dac954fb5be34175dfe3fbd36231963b199326&newProject=comm-central&newRevision=73dac954fb5be34175dfe3fbd36231963b199326&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=73dac954fb5be34175dfe3fbd36231963b199326&newProject=comm-central&newRevision=73dac954fb5be34175dfe3fbd36231963b199326&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28eslint%29&revcount=50">eslint</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1620556">1620556</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1620556">Bug 1620556</a> - comm-central automatic code fixes for Prettier 1.19.1 upgrade. rs=eslint</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/base/src/CalEvent.jsm">calendar/base/src/CalEvent.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/base/src/CalEvent.jsm">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/base/src/CalEvent.jsm">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/base/src/CalEvent.jsm">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/base/src/CalEvent.jsm">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/base/src/CalEvent.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/html-item-editing/react-code.js">calendar/lightning/content/html-item-editing/react-code.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/html-item-editing/react-code.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/html-item-editing/react-code.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/html-item-editing/react-code.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/html-item-editing/react-code.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/html-item-editing/react-code.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/lightning-item-iframe.js">calendar/lightning/content/lightning-item-iframe.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/lightning-item-iframe.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/lightning-item-iframe.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/lightning-item-iframe.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/lightning-item-iframe.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/lightning/content/lightning-item-iframe.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_taskDisplay.js">calendar/test/browser/browser_taskDisplay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_taskDisplay.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_taskDisplay.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_taskDisplay.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_taskDisplay.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_taskDisplay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_timezones.js">calendar/test/browser/browser_timezones.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_timezones.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_timezones.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_timezones.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_timezones.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/browser_timezones.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrence/browser_daily.js">calendar/test/browser/recurrence/browser_daily.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrence/browser_daily.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrence/browser_daily.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrence/browser_daily.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrence/browser_daily.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrence/browser_daily.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrenceRotated/browser_daily.js">calendar/test/browser/recurrenceRotated/browser_daily.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrenceRotated/browser_daily.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrenceRotated/browser_daily.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrenceRotated/browser_daily.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrenceRotated/browser_daily.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/browser/recurrenceRotated/browser_daily.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_itip_utils.js">calendar/test/unit/test_itip_utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_itip_utils.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_itip_utils.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_itip_utils.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_itip_utils.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_itip_utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_unifinder_utils.js">calendar/test/unit/test_unifinder_utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_unifinder_utils.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_unifinder_utils.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_unifinder_utils.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_unifinder_utils.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/calendar/test/unit/test_unifinder_utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/components/src/test/test_logger.js">chat/components/src/test/test_logger.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/chat/components/src/test/test_logger.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/chat/components/src/test/test_logger.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/components/src/test/test_logger.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/chat/components/src/test/test_logger.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/chat/components/src/test/test_logger.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/modules/test/test_NormalizedMap.js">chat/modules/test/test_NormalizedMap.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/chat/modules/test/test_NormalizedMap.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/chat/modules/test/test_NormalizedMap.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/modules/test/test_NormalizedMap.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/chat/modules/test/test_NormalizedMap.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/chat/modules/test/test_NormalizedMap.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/irc/test/test_ircMessage.js">chat/protocols/irc/test/test_ircMessage.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/irc/test/test_ircMessage.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/irc/test/test_ircMessage.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/irc/test/test_ircMessage.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/irc/test/test_ircMessage.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/irc/test/test_ircMessage.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/twitter/twitter.jsm">chat/protocols/twitter/twitter.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/twitter/twitter.jsm">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/twitter/twitter.jsm">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/twitter/twitter.jsm">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/twitter/twitter.jsm">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/twitter/twitter.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/xmpp/xmpp-session.jsm">chat/protocols/xmpp/xmpp-session.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/xmpp/xmpp-session.jsm">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/xmpp/xmpp-session.jsm">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/xmpp/xmpp-session.jsm">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/xmpp/xmpp-session.jsm">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/chat/protocols/xmpp/xmpp-session.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/editContactPanel.js">mail/base/content/editContactPanel.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/editContactPanel.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/editContactPanel.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/editContactPanel.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/editContactPanel.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/editContactPanel.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/tabmail.js">mail/base/content/tabmail.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/tabmail.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/tabmail.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/tabmail.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/tabmail.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/content/tabmail.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/modules/DBViewWrapper.jsm">mail/base/modules/DBViewWrapper.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/modules/DBViewWrapper.jsm">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/modules/DBViewWrapper.jsm">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/modules/DBViewWrapper.jsm">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/modules/DBViewWrapper.jsm">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/base/modules/DBViewWrapper.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/about-support/content/aboutSupport.js">mail/components/about-support/content/aboutSupport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/about-support/content/aboutSupport.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/about-support/content/aboutSupport.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/about-support/content/aboutSupport.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/about-support/content/aboutSupport.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/about-support/content/aboutSupport.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/accountcreation/content/util.js">mail/components/accountcreation/content/util.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/accountcreation/content/util.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/accountcreation/content/util.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/accountcreation/content/util.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/accountcreation/content/util.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/accountcreation/content/util.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/extensions/parent/ext-tabs.js">mail/components/extensions/parent/ext-tabs.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/extensions/parent/ext-tabs.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/extensions/parent/ext-tabs.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/extensions/parent/ext-tabs.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/extensions/parent/ext-tabs.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/extensions/parent/ext-tabs.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/content/chat-conversation.js">mail/components/im/content/chat-conversation.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/content/chat-conversation.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/content/chat-conversation.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/content/chat-conversation.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/content/chat-conversation.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/content/chat-conversation.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/modules/index_im.jsm">mail/components/im/modules/index_im.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/modules/index_im.jsm">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/modules/index_im.jsm">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/modules/index_im.jsm">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/modules/index_im.jsm">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/im/modules/index_im.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_autoconfigUtils.js">mail/components/test/unit/test_autoconfigUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_autoconfigUtils.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_autoconfigUtils.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_autoconfigUtils.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_autoconfigUtils.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_autoconfigUtils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_telemetry_buildconfig.js">mail/components/test/unit/test_telemetry_buildconfig.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_telemetry_buildconfig.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_telemetry_buildconfig.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_telemetry_buildconfig.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_telemetry_buildconfig.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/components/test/unit/test_telemetry_buildconfig.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/folder-display/browser_paneFocus.js">mail/test/browser/folder-display/browser_paneFocus.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/folder-display/browser_paneFocus.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/folder-display/browser_paneFocus.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/folder-display/browser_paneFocus.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/folder-display/browser_paneFocus.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/folder-display/browser_paneFocus.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/quick-filter-bar/browser_filterLogic.js">mail/test/browser/quick-filter-bar/browser_filterLogic.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/quick-filter-bar/browser_filterLogic.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/quick-filter-bar/browser_filterLogic.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/quick-filter-bar/browser_filterLogic.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/quick-filter-bar/browser_filterLogic.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mail/test/browser/quick-filter-bar/browser_filterLogic.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/db/gloda/test/unit/test_fts3_tokenizer.js">mailnews/db/gloda/test/unit/test_fts3_tokenizer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/db/gloda/test/unit/test_fts3_tokenizer.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/db/gloda/test/unit/test_fts3_tokenizer.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/db/gloda/test/unit/test_fts3_tokenizer.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/db/gloda/test/unit/test_fts3_tokenizer.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/db/gloda/test/unit/test_fts3_tokenizer.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header.js">mailnews/mime/jsmime/test/unit/test_header.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header_emitter.js">mailnews/mime/jsmime/test/unit/test_header_emitter.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header_emitter.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header_emitter.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header_emitter.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header_emitter.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/jsmime/test/unit/test_header_emitter.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js">mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js">mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js">file</a> |
<a href="/comm-central/annotate/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js">annotate</a> |
<a href="/comm-central/diff/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js">diff</a> |
<a href="/comm-central/comparison/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js">comparison</a> |
<a href="/comm-central/log/73dac954fb5be34175dfe3fbd36231963b199326/mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/src/CalEvent.jsm</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/src/CalEvent.jsm</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -69,17 +69,20 @@ CalEvent.prototype = {</span>
<a href="#l1.4"></a><span id="l1.4">     // Return a null-duration if we don't have an end date</span>
<a href="#l1.5"></a><span id="l1.5">     return cal.createDuration();</span>
<a href="#l1.6"></a><span id="l1.6">   },</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8">   get recurrenceStartDate() {</span>
<a href="#l1.9"></a><span id="l1.9">     return this.startDate;</span>
<a href="#l1.10"></a><span id="l1.10">   },</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-  icsEventPropMap: [{ cal: &quot;DTSTART&quot;, ics: &quot;startTime&quot; }, { cal: &quot;DTEND&quot;, ics: &quot;endTime&quot; }],</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+  icsEventPropMap: [</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+    { cal: &quot;DTSTART&quot;, ics: &quot;startTime&quot; },</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+    { cal: &quot;DTEND&quot;, ics: &quot;endTime&quot; },</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+  ],</span>
<a href="#l1.17"></a><span id="l1.17"> </span>
<a href="#l1.18"></a><span id="l1.18">   set icalString(value) {</span>
<a href="#l1.19"></a><span id="l1.19">     this.icalComponent = cal.getIcsService().parseICS(value, null);</span>
<a href="#l1.20"></a><span id="l1.20">   },</span>
<a href="#l1.21"></a><span id="l1.21"> </span>
<a href="#l1.22"></a><span id="l1.22">   get icalString() {</span>
<a href="#l1.23"></a><span id="l1.23">     let calcomp = cal.getIcsService().createIcalComponent(&quot;VCALENDAR&quot;);</span>
<a href="#l1.24"></a><span id="l1.24">     cal.item.setStaticProps(calcomp);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/lightning/content/html-item-editing/react-code.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/lightning/content/html-item-editing/react-code.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -169,17 +169,20 @@ var TopComponent = React.createClass({</span>
<a href="#l2.4"></a><span id="l2.4">       initialPriority: 0,</span>
<a href="#l2.5"></a><span id="l2.5">       initialUrl: &quot;&quot;,</span>
<a href="#l2.6"></a><span id="l2.6">       initialShowUrl: false,</span>
<a href="#l2.7"></a><span id="l2.7">       initialCategories: [],</span>
<a href="#l2.8"></a><span id="l2.8">       initialCategoriesList: [],</span>
<a href="#l2.9"></a><span id="l2.9">       initialAttachments: {},</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">       tabs: [&quot;Description&quot;, &quot;More&quot;, &quot;Reminders&quot;, &quot;Attachments&quot;, &quot;Attendees&quot;],</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-      calendarList: [[0, &quot;Home&quot;], [1, &quot;Work&quot;]],</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+      calendarList: [</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+        [0, &quot;Home&quot;],</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+        [1, &quot;Work&quot;],</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+      ],</span>
<a href="#l2.17"></a><span id="l2.17">       privacyList: [</span>
<a href="#l2.18"></a><span id="l2.18">         [&quot;NONE&quot;, &quot;Not Specified&quot;],</span>
<a href="#l2.19"></a><span id="l2.19">         [&quot;PUBLIC&quot;, &quot;Public Event&quot;],</span>
<a href="#l2.20"></a><span id="l2.20">         [&quot;CONFIDENTIAL&quot;, &quot;Show Time and Date Only&quot;],</span>
<a href="#l2.21"></a><span id="l2.21">         [&quot;PRIVATE&quot;, &quot;Private Event&quot;],</span>
<a href="#l2.22"></a><span id="l2.22">       ],</span>
<a href="#l2.23"></a><span id="l2.23">       statusList: [</span>
<a href="#l2.24"></a><span id="l2.24">         [&quot;NONE&quot;, &quot;Not Specified&quot;],</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineat">@@ -189,17 +192,20 @@ var TopComponent = React.createClass({</span>
<a href="#l2.26"></a><span id="l2.26">       ],</span>
<a href="#l2.27"></a><span id="l2.27">       priorityList: [</span>
<a href="#l2.28"></a><span id="l2.28">         // XXX what about other numbers?</span>
<a href="#l2.29"></a><span id="l2.29">         [0, &quot;Not Specified&quot;],</span>
<a href="#l2.30"></a><span id="l2.30">         [9, &quot;Low&quot;],</span>
<a href="#l2.31"></a><span id="l2.31">         [5, &quot;Normal&quot;],</span>
<a href="#l2.32"></a><span id="l2.32">         [1, &quot;High&quot;],</span>
<a href="#l2.33"></a><span id="l2.33">       ],</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-      showTimeAsList: [[&quot;OPAQUE&quot;, true], [&quot;TRANSPARENT&quot;, false]],</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineplus">+      showTimeAsList: [</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+        [&quot;OPAQUE&quot;, true],</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineplus">+        [&quot;TRANSPARENT&quot;, false],</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineplus">+      ],</span>
<a href="#l2.39"></a><span id="l2.39">       repeatList: [</span>
<a href="#l2.40"></a><span id="l2.40">         [&quot;none&quot;, &quot;Does Not Repeat&quot;],</span>
<a href="#l2.41"></a><span id="l2.41">         [&quot;daily&quot;, &quot;Daily&quot;],</span>
<a href="#l2.42"></a><span id="l2.42">         [&quot;weekly&quot;, &quot;Weekly&quot;],</span>
<a href="#l2.43"></a><span id="l2.43">         [&quot;every.weekday&quot;, &quot;Every Weekday&quot;],</span>
<a href="#l2.44"></a><span id="l2.44">         [&quot;bi.weekly&quot;, &quot;Bi-weekly&quot;],</span>
<a href="#l2.45"></a><span id="l2.45">         [&quot;monthly&quot;, &quot;Monthly&quot;],</span>
<a href="#l2.46"></a><span id="l2.46">         [&quot;yearly&quot;, &quot;Yearly&quot;],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/lightning/content/lightning-item-iframe.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -4225,21 +4225,19 @@ function displayCounterProposal() {</span>
<a href="#l3.4"></a><span id="l3.4">     cal.LOG(&quot;Unexpected partstat &quot; + partStat + &quot; detected.&quot;);</span>
<a href="#l3.5"></a><span id="l3.5">     // we simply reset partStat not display the summary text of the counter box</span>
<a href="#l3.6"></a><span id="l3.6">     // to avoid the window of death</span>
<a href="#l3.7"></a><span id="l3.7">     partStat = null;</span>
<a href="#l3.8"></a><span id="l3.8">   }</span>
<a href="#l3.9"></a><span id="l3.9"> </span>
<a href="#l3.10"></a><span id="l3.10">   if (idCounter &gt; 0) {</span>
<a href="#l3.11"></a><span id="l3.11">     if (partStat &amp;&amp; attendeeId.length) {</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-      document.getElementById(&quot;counter-proposal-summary&quot;).value = cal.l10n.getString(</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-        &quot;calendar-event-dialog&quot;,</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-        partStat,</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineminus">-        [attendeeId]</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-      );</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+      document.getElementById(</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineplus">+        &quot;counter-proposal-summary&quot;</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineplus">+      ).value = cal.l10n.getString(&quot;calendar-event-dialog&quot;, partStat, [attendeeId]);</span>
<a href="#l3.20"></a><span id="l3.20">       document.getElementById(&quot;counter-proposal-summary&quot;).removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l3.21"></a><span id="l3.21">     }</span>
<a href="#l3.22"></a><span id="l3.22">     if (comment) {</span>
<a href="#l3.23"></a><span id="l3.23">       document.getElementById(&quot;counter-proposal-comment&quot;).value = comment;</span>
<a href="#l3.24"></a><span id="l3.24">       document.getElementById(&quot;counter-proposal-box&quot;).removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l3.25"></a><span id="l3.25">     }</span>
<a href="#l3.26"></a><span id="l3.26">     document.getElementById(&quot;counter-proposal-box&quot;).removeAttribute(&quot;collapsed&quot;);</span>
<a href="#l3.27"></a><span id="l3.27"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/test/browser/browser_taskDisplay.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/test/browser/browser_taskDisplay.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -46,17 +46,20 @@ add_task(async () =&gt; {</span>
<a href="#l4.4"></a><span id="l4.4">     info(&quot;Expected: &quot; + expectedTasks.map(task =&gt; task.title).join(&quot;, &quot;));</span>
<a href="#l4.5"></a><span id="l4.5">     info(&quot;Actual: &quot; + actualTasks.map(task =&gt; task.title).join(&quot;, &quot;));</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7">     is(tree.view.rowCount, expectedTasks.length, &quot;Correct number of tasks&quot;);</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9">     // Although the order of expectedTasks matches the observed behaviour when</span>
<a href="#l4.10"></a><span id="l4.10">     // this test was written, order is NOT checked here. The order of the list</span>
<a href="#l4.11"></a><span id="l4.11">     // is not well defined (particularly when changing the filter text).</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    ok(expectedTasks.every(task =&gt; actualTasks.includes(task)), &quot;All expected tasks found&quot;);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+    ok(</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+      expectedTasks.every(task =&gt; actualTasks.includes(task)),</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+      &quot;All expected tasks found&quot;</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineplus">+    );</span>
<a href="#l4.17"></a><span id="l4.17">   }</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19">   let today = cal.dtz.now();</span>
<a href="#l4.20"></a><span id="l4.20">   let yesterday = today.clone();</span>
<a href="#l4.21"></a><span id="l4.21">   yesterday.addDuration(cal.createDuration(&quot;-P1D&quot;));</span>
<a href="#l4.22"></a><span id="l4.22">   let tomorrow = today.clone();</span>
<a href="#l4.23"></a><span id="l4.23">   tomorrow.addDuration(cal.createDuration(&quot;P1D&quot;));</span>
<a href="#l4.24"></a><span id="l4.24">   let later = today.clone();</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/test/browser/browser_timezones.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/test/browser/browser_timezones.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -50,17 +50,26 @@ add_task(async function testTimezones1_S</span>
<a href="#l5.4"></a><span id="l5.4">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;Europe/London&quot;);</span>
<a href="#l5.5"></a><span id="l5.5">   await setCalendarView(&quot;day&quot;);</span>
<a href="#l5.6"></a><span id="l5.6"> });</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8"> add_task(async function testTimezones2_CreateEvents() {</span>
<a href="#l5.9"></a><span id="l5.9">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11">   // Create weekly recurring events in all TIMEZONES.</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-  let times = [[4, 30], [5, 0], [3, 0], [3, 0], [9, 0], [14, 0], [19, 45], [1, 30]];</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+  let times = [</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+    [4, 30],</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+    [5, 0],</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+    [3, 0],</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+    [3, 0],</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+    [9, 0],</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+    [14, 0],</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+    [19, 45],</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineplus">+    [1, 30],</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+  ];</span>
<a href="#l5.23"></a><span id="l5.23">   let time = new Date();</span>
<a href="#l5.24"></a><span id="l5.24">   for (let i = 0; i &lt; TIMEZONES.length; i++) {</span>
<a href="#l5.25"></a><span id="l5.25">     let eventBox = lookupEventBox(&quot;day&quot;, CANVAS_BOX, null, 1, i + 11);</span>
<a href="#l5.26"></a><span id="l5.26">     await invokeEventDialog(controller, eventBox, async (event, iframe) =&gt; {</span>
<a href="#l5.27"></a><span id="l5.27">       time.setHours(times[i][0]);</span>
<a href="#l5.28"></a><span id="l5.28">       time.setMinutes(times[i][1]);</span>
<a href="#l5.29"></a><span id="l5.29"> </span>
<a href="#l5.30"></a><span id="l5.30">       // Set event data.</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineat">@@ -77,159 +86,735 @@ add_task(async function testTimezones2_C</span>
<a href="#l5.32"></a><span id="l5.32">       event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l5.33"></a><span id="l5.33">     });</span>
<a href="#l5.34"></a><span id="l5.34">   }</span>
<a href="#l5.35"></a><span id="l5.35"> });</span>
<a href="#l5.36"></a><span id="l5.36"> </span>
<a href="#l5.37"></a><span id="l5.37"> add_task(function testTimezones3_checkStJohns() {</span>
<a href="#l5.38"></a><span id="l5.38">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;America/St_Johns&quot;);</span>
<a href="#l5.39"></a><span id="l5.39">   let times = [</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-    [[4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30], [11, 30]],</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineminus">-    [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [12, 30]],</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineminus">-    [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [13, 30]],</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineminus">-    [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [13, 30]],</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineminus">-    [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [13, 30]],</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineminus">-    [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [9, 30], [11, 30], [12, 30]],</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineminus">-    [[4, 30], [6, 30], [7, 30], [7, 30], [9, 30], [10, 30], [11, 30], [12, 30]],</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineminus">-    [[4, 30], [5, 30], [6, 30], [7, 30], [8, 30], [9, 30], [10, 30], [11, 30]],</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+    [</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+      [4, 30],</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+      [5, 30],</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+      [6, 30],</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+      [7, 30],</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+      [8, 30],</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+      [9, 30],</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+      [10, 30],</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+      [11, 30],</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+    ],</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+    [</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+      [4, 30],</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+      [6, 30],</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+      [7, 30],</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+      [7, 30],</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineplus">+      [9, 30],</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+      [9, 30],</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineplus">+      [11, 30],</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+      [12, 30],</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineplus">+    ],</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+    [</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+      [4, 30],</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineplus">+      [6, 30],</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineplus">+      [7, 30],</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineplus">+      [7, 30],</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineplus">+      [9, 30],</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineplus">+      [9, 30],</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineplus">+      [11, 30],</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineplus">+      [13, 30],</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineplus">+    ],</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineplus">+    [</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineplus">+      [4, 30],</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineplus">+      [6, 30],</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineplus">+      [7, 30],</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineplus">+      [7, 30],</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineplus">+      [9, 30],</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+      [9, 30],</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+      [11, 30],</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+      [13, 30],</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineplus">+    ],</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+    [</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+      [4, 30],</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+      [6, 30],</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineplus">+      [7, 30],</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineplus">+      [7, 30],</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineplus">+      [9, 30],</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineplus">+      [9, 30],</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+      [11, 30],</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineplus">+      [13, 30],</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineplus">+    ],</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineplus">+    [</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineplus">+      [4, 30],</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineplus">+      [6, 30],</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineplus">+      [7, 30],</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineplus">+      [7, 30],</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineplus">+      [9, 30],</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineplus">+      [9, 30],</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+      [11, 30],</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineplus">+      [12, 30],</span>
<a href="#l5.107"></a><span id="l5.107" class="difflineplus">+    ],</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineplus">+    [</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineplus">+      [4, 30],</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineplus">+      [6, 30],</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineplus">+      [7, 30],</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineplus">+      [7, 30],</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineplus">+      [9, 30],</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineplus">+      [10, 30],</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineplus">+      [11, 30],</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineplus">+      [12, 30],</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineplus">+    ],</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineplus">+    [</span>
<a href="#l5.119"></a><span id="l5.119" class="difflineplus">+      [4, 30],</span>
<a href="#l5.120"></a><span id="l5.120" class="difflineplus">+      [5, 30],</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineplus">+      [6, 30],</span>
<a href="#l5.122"></a><span id="l5.122" class="difflineplus">+      [7, 30],</span>
<a href="#l5.123"></a><span id="l5.123" class="difflineplus">+      [8, 30],</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineplus">+      [9, 30],</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineplus">+      [10, 30],</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineplus">+      [11, 30],</span>
<a href="#l5.127"></a><span id="l5.127" class="difflineplus">+    ],</span>
<a href="#l5.128"></a><span id="l5.128">   ];</span>
<a href="#l5.129"></a><span id="l5.129">   controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l5.130"></a><span id="l5.130">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l5.131"></a><span id="l5.131">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.132"></a><span id="l5.132"> </span>
<a href="#l5.133"></a><span id="l5.133">   verify(DATES, TIMEZONES, times);</span>
<a href="#l5.134"></a><span id="l5.134"> });</span>
<a href="#l5.135"></a><span id="l5.135"> </span>
<a href="#l5.136"></a><span id="l5.136"> add_task(function testTimezones4_checkCaracas() {</span>
<a href="#l5.137"></a><span id="l5.137">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;America/Caracas&quot;);</span>
<a href="#l5.138"></a><span id="l5.138">   // This is actually incorrect. Venezuela shifted clocks forward 30 minutes</span>
<a href="#l5.139"></a><span id="l5.139">   // in 2016, but our code doesn't handle historical timezones.</span>
<a href="#l5.140"></a><span id="l5.140">   let times = [</span>
<a href="#l5.141"></a><span id="l5.141" class="difflineminus">-    [[4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0]],</span>
<a href="#l5.142"></a><span id="l5.142" class="difflineminus">-    [[3, 0], [5, 0], [6, 0], [6, 0], [8, 0], [8, 0], [10, 0], [11, 0]],</span>
<a href="#l5.143"></a><span id="l5.143" class="difflineminus">-    [[3, 0], [5, 0], [6, 0], [6, 0], [8, 0], [8, 0], [10, 0], [12, 0]],</span>
<a href="#l5.144"></a><span id="l5.144" class="difflineminus">-    [[3, 0], [5, 0], [6, 0], [6, 0], [8, 0], [8, 0], [10, 0], [12, 0]],</span>
<a href="#l5.145"></a><span id="l5.145" class="difflineminus">-    [[3, 0], [5, 0], [6, 0], [6, 0], [8, 0], [8, 0], [10, 0], [12, 0]],</span>
<a href="#l5.146"></a><span id="l5.146" class="difflineminus">-    [[3, 0], [5, 0], [6, 0], [6, 0], [8, 0], [8, 0], [10, 0], [11, 0]],</span>
<a href="#l5.147"></a><span id="l5.147" class="difflineminus">-    [[3, 0], [5, 0], [6, 0], [6, 0], [8, 0], [9, 0], [10, 0], [11, 0]],</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineminus">-    [[4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0]],</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineplus">+    [</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineplus">+      [4, 0],</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineplus">+      [5, 0],</span>
<a href="#l5.152"></a><span id="l5.152" class="difflineplus">+      [6, 0],</span>
<a href="#l5.153"></a><span id="l5.153" class="difflineplus">+      [7, 0],</span>
<a href="#l5.154"></a><span id="l5.154" class="difflineplus">+      [8, 0],</span>
<a href="#l5.155"></a><span id="l5.155" class="difflineplus">+      [9, 0],</span>
<a href="#l5.156"></a><span id="l5.156" class="difflineplus">+      [10, 0],</span>
<a href="#l5.157"></a><span id="l5.157" class="difflineplus">+      [11, 0],</span>
<a href="#l5.158"></a><span id="l5.158" class="difflineplus">+    ],</span>
<a href="#l5.159"></a><span id="l5.159" class="difflineplus">+    [</span>
<a href="#l5.160"></a><span id="l5.160" class="difflineplus">+      [3, 0],</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineplus">+      [5, 0],</span>
<a href="#l5.162"></a><span id="l5.162" class="difflineplus">+      [6, 0],</span>
<a href="#l5.163"></a><span id="l5.163" class="difflineplus">+      [6, 0],</span>
<a href="#l5.164"></a><span id="l5.164" class="difflineplus">+      [8, 0],</span>
<a href="#l5.165"></a><span id="l5.165" class="difflineplus">+      [8, 0],</span>
<a href="#l5.166"></a><span id="l5.166" class="difflineplus">+      [10, 0],</span>
<a href="#l5.167"></a><span id="l5.167" class="difflineplus">+      [11, 0],</span>
<a href="#l5.168"></a><span id="l5.168" class="difflineplus">+    ],</span>
<a href="#l5.169"></a><span id="l5.169" class="difflineplus">+    [</span>
<a href="#l5.170"></a><span id="l5.170" class="difflineplus">+      [3, 0],</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineplus">+      [5, 0],</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineplus">+      [6, 0],</span>
<a href="#l5.173"></a><span id="l5.173" class="difflineplus">+      [6, 0],</span>
<a href="#l5.174"></a><span id="l5.174" class="difflineplus">+      [8, 0],</span>
<a href="#l5.175"></a><span id="l5.175" class="difflineplus">+      [8, 0],</span>
<a href="#l5.176"></a><span id="l5.176" class="difflineplus">+      [10, 0],</span>
<a href="#l5.177"></a><span id="l5.177" class="difflineplus">+      [12, 0],</span>
<a href="#l5.178"></a><span id="l5.178" class="difflineplus">+    ],</span>
<a href="#l5.179"></a><span id="l5.179" class="difflineplus">+    [</span>
<a href="#l5.180"></a><span id="l5.180" class="difflineplus">+      [3, 0],</span>
<a href="#l5.181"></a><span id="l5.181" class="difflineplus">+      [5, 0],</span>
<a href="#l5.182"></a><span id="l5.182" class="difflineplus">+      [6, 0],</span>
<a href="#l5.183"></a><span id="l5.183" class="difflineplus">+      [6, 0],</span>
<a href="#l5.184"></a><span id="l5.184" class="difflineplus">+      [8, 0],</span>
<a href="#l5.185"></a><span id="l5.185" class="difflineplus">+      [8, 0],</span>
<a href="#l5.186"></a><span id="l5.186" class="difflineplus">+      [10, 0],</span>
<a href="#l5.187"></a><span id="l5.187" class="difflineplus">+      [12, 0],</span>
<a href="#l5.188"></a><span id="l5.188" class="difflineplus">+    ],</span>
<a href="#l5.189"></a><span id="l5.189" class="difflineplus">+    [</span>
<a href="#l5.190"></a><span id="l5.190" class="difflineplus">+      [3, 0],</span>
<a href="#l5.191"></a><span id="l5.191" class="difflineplus">+      [5, 0],</span>
<a href="#l5.192"></a><span id="l5.192" class="difflineplus">+      [6, 0],</span>
<a href="#l5.193"></a><span id="l5.193" class="difflineplus">+      [6, 0],</span>
<a href="#l5.194"></a><span id="l5.194" class="difflineplus">+      [8, 0],</span>
<a href="#l5.195"></a><span id="l5.195" class="difflineplus">+      [8, 0],</span>
<a href="#l5.196"></a><span id="l5.196" class="difflineplus">+      [10, 0],</span>
<a href="#l5.197"></a><span id="l5.197" class="difflineplus">+      [12, 0],</span>
<a href="#l5.198"></a><span id="l5.198" class="difflineplus">+    ],</span>
<a href="#l5.199"></a><span id="l5.199" class="difflineplus">+    [</span>
<a href="#l5.200"></a><span id="l5.200" class="difflineplus">+      [3, 0],</span>
<a href="#l5.201"></a><span id="l5.201" class="difflineplus">+      [5, 0],</span>
<a href="#l5.202"></a><span id="l5.202" class="difflineplus">+      [6, 0],</span>
<a href="#l5.203"></a><span id="l5.203" class="difflineplus">+      [6, 0],</span>
<a href="#l5.204"></a><span id="l5.204" class="difflineplus">+      [8, 0],</span>
<a href="#l5.205"></a><span id="l5.205" class="difflineplus">+      [8, 0],</span>
<a href="#l5.206"></a><span id="l5.206" class="difflineplus">+      [10, 0],</span>
<a href="#l5.207"></a><span id="l5.207" class="difflineplus">+      [11, 0],</span>
<a href="#l5.208"></a><span id="l5.208" class="difflineplus">+    ],</span>
<a href="#l5.209"></a><span id="l5.209" class="difflineplus">+    [</span>
<a href="#l5.210"></a><span id="l5.210" class="difflineplus">+      [3, 0],</span>
<a href="#l5.211"></a><span id="l5.211" class="difflineplus">+      [5, 0],</span>
<a href="#l5.212"></a><span id="l5.212" class="difflineplus">+      [6, 0],</span>
<a href="#l5.213"></a><span id="l5.213" class="difflineplus">+      [6, 0],</span>
<a href="#l5.214"></a><span id="l5.214" class="difflineplus">+      [8, 0],</span>
<a href="#l5.215"></a><span id="l5.215" class="difflineplus">+      [9, 0],</span>
<a href="#l5.216"></a><span id="l5.216" class="difflineplus">+      [10, 0],</span>
<a href="#l5.217"></a><span id="l5.217" class="difflineplus">+      [11, 0],</span>
<a href="#l5.218"></a><span id="l5.218" class="difflineplus">+    ],</span>
<a href="#l5.219"></a><span id="l5.219" class="difflineplus">+    [</span>
<a href="#l5.220"></a><span id="l5.220" class="difflineplus">+      [4, 0],</span>
<a href="#l5.221"></a><span id="l5.221" class="difflineplus">+      [5, 0],</span>
<a href="#l5.222"></a><span id="l5.222" class="difflineplus">+      [6, 0],</span>
<a href="#l5.223"></a><span id="l5.223" class="difflineplus">+      [7, 0],</span>
<a href="#l5.224"></a><span id="l5.224" class="difflineplus">+      [8, 0],</span>
<a href="#l5.225"></a><span id="l5.225" class="difflineplus">+      [9, 0],</span>
<a href="#l5.226"></a><span id="l5.226" class="difflineplus">+      [10, 0],</span>
<a href="#l5.227"></a><span id="l5.227" class="difflineplus">+      [11, 0],</span>
<a href="#l5.228"></a><span id="l5.228" class="difflineplus">+    ],</span>
<a href="#l5.229"></a><span id="l5.229">   ];</span>
<a href="#l5.230"></a><span id="l5.230">   controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l5.231"></a><span id="l5.231">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l5.232"></a><span id="l5.232">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.233"></a><span id="l5.233"> </span>
<a href="#l5.234"></a><span id="l5.234">   verify(DATES, TIMEZONES, times);</span>
<a href="#l5.235"></a><span id="l5.235"> });</span>
<a href="#l5.236"></a><span id="l5.236"> </span>
<a href="#l5.237"></a><span id="l5.237"> add_task(function testTimezones5_checkPhoenix() {</span>
<a href="#l5.238"></a><span id="l5.238">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;America/Phoenix&quot;);</span>
<a href="#l5.239"></a><span id="l5.239">   let times = [</span>
<a href="#l5.240"></a><span id="l5.240" class="difflineminus">-    [[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span>
<a href="#l5.241"></a><span id="l5.241" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [8, 0]],</span>
<a href="#l5.242"></a><span id="l5.242" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span>
<a href="#l5.243"></a><span id="l5.243" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span>
<a href="#l5.244"></a><span id="l5.244" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span>
<a href="#l5.245"></a><span id="l5.245" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [8, 0]],</span>
<a href="#l5.246"></a><span id="l5.246" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span>
<a href="#l5.247"></a><span id="l5.247" class="difflineminus">-    [[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span>
<a href="#l5.248"></a><span id="l5.248" class="difflineplus">+    [</span>
<a href="#l5.249"></a><span id="l5.249" class="difflineplus">+      [1, 0],</span>
<a href="#l5.250"></a><span id="l5.250" class="difflineplus">+      [2, 0],</span>
<a href="#l5.251"></a><span id="l5.251" class="difflineplus">+      [3, 0],</span>
<a href="#l5.252"></a><span id="l5.252" class="difflineplus">+      [4, 0],</span>
<a href="#l5.253"></a><span id="l5.253" class="difflineplus">+      [5, 0],</span>
<a href="#l5.254"></a><span id="l5.254" class="difflineplus">+      [6, 0],</span>
<a href="#l5.255"></a><span id="l5.255" class="difflineplus">+      [7, 0],</span>
<a href="#l5.256"></a><span id="l5.256" class="difflineplus">+      [8, 0],</span>
<a href="#l5.257"></a><span id="l5.257" class="difflineplus">+    ],</span>
<a href="#l5.258"></a><span id="l5.258" class="difflineplus">+    [</span>
<a href="#l5.259"></a><span id="l5.259" class="difflineplus">+      [0, 0],</span>
<a href="#l5.260"></a><span id="l5.260" class="difflineplus">+      [2, 0],</span>
<a href="#l5.261"></a><span id="l5.261" class="difflineplus">+      [3, 0],</span>
<a href="#l5.262"></a><span id="l5.262" class="difflineplus">+      [3, 0],</span>
<a href="#l5.263"></a><span id="l5.263" class="difflineplus">+      [5, 0],</span>
<a href="#l5.264"></a><span id="l5.264" class="difflineplus">+      [5, 0],</span>
<a href="#l5.265"></a><span id="l5.265" class="difflineplus">+      [7, 0],</span>
<a href="#l5.266"></a><span id="l5.266" class="difflineplus">+      [8, 0],</span>
<a href="#l5.267"></a><span id="l5.267" class="difflineplus">+    ],</span>
<a href="#l5.268"></a><span id="l5.268" class="difflineplus">+    [</span>
<a href="#l5.269"></a><span id="l5.269" class="difflineplus">+      [0, 0],</span>
<a href="#l5.270"></a><span id="l5.270" class="difflineplus">+      [2, 0],</span>
<a href="#l5.271"></a><span id="l5.271" class="difflineplus">+      [3, 0],</span>
<a href="#l5.272"></a><span id="l5.272" class="difflineplus">+      [3, 0],</span>
<a href="#l5.273"></a><span id="l5.273" class="difflineplus">+      [5, 0],</span>
<a href="#l5.274"></a><span id="l5.274" class="difflineplus">+      [5, 0],</span>
<a href="#l5.275"></a><span id="l5.275" class="difflineplus">+      [7, 0],</span>
<a href="#l5.276"></a><span id="l5.276" class="difflineplus">+      [9, 0],</span>
<a href="#l5.277"></a><span id="l5.277" class="difflineplus">+    ],</span>
<a href="#l5.278"></a><span id="l5.278" class="difflineplus">+    [</span>
<a href="#l5.279"></a><span id="l5.279" class="difflineplus">+      [0, 0],</span>
<a href="#l5.280"></a><span id="l5.280" class="difflineplus">+      [2, 0],</span>
<a href="#l5.281"></a><span id="l5.281" class="difflineplus">+      [3, 0],</span>
<a href="#l5.282"></a><span id="l5.282" class="difflineplus">+      [3, 0],</span>
<a href="#l5.283"></a><span id="l5.283" class="difflineplus">+      [5, 0],</span>
<a href="#l5.284"></a><span id="l5.284" class="difflineplus">+      [5, 0],</span>
<a href="#l5.285"></a><span id="l5.285" class="difflineplus">+      [7, 0],</span>
<a href="#l5.286"></a><span id="l5.286" class="difflineplus">+      [9, 0],</span>
<a href="#l5.287"></a><span id="l5.287" class="difflineplus">+    ],</span>
<a href="#l5.288"></a><span id="l5.288" class="difflineplus">+    [</span>
<a href="#l5.289"></a><span id="l5.289" class="difflineplus">+      [0, 0],</span>
<a href="#l5.290"></a><span id="l5.290" class="difflineplus">+      [2, 0],</span>
<a href="#l5.291"></a><span id="l5.291" class="difflineplus">+      [3, 0],</span>
<a href="#l5.292"></a><span id="l5.292" class="difflineplus">+      [3, 0],</span>
<a href="#l5.293"></a><span id="l5.293" class="difflineplus">+      [5, 0],</span>
<a href="#l5.294"></a><span id="l5.294" class="difflineplus">+      [5, 0],</span>
<a href="#l5.295"></a><span id="l5.295" class="difflineplus">+      [7, 0],</span>
<a href="#l5.296"></a><span id="l5.296" class="difflineplus">+      [9, 0],</span>
<a href="#l5.297"></a><span id="l5.297" class="difflineplus">+    ],</span>
<a href="#l5.298"></a><span id="l5.298" class="difflineplus">+    [</span>
<a href="#l5.299"></a><span id="l5.299" class="difflineplus">+      [0, 0],</span>
<a href="#l5.300"></a><span id="l5.300" class="difflineplus">+      [2, 0],</span>
<a href="#l5.301"></a><span id="l5.301" class="difflineplus">+      [3, 0],</span>
<a href="#l5.302"></a><span id="l5.302" class="difflineplus">+      [3, 0],</span>
<a href="#l5.303"></a><span id="l5.303" class="difflineplus">+      [5, 0],</span>
<a href="#l5.304"></a><span id="l5.304" class="difflineplus">+      [5, 0],</span>
<a href="#l5.305"></a><span id="l5.305" class="difflineplus">+      [7, 0],</span>
<a href="#l5.306"></a><span id="l5.306" class="difflineplus">+      [8, 0],</span>
<a href="#l5.307"></a><span id="l5.307" class="difflineplus">+    ],</span>
<a href="#l5.308"></a><span id="l5.308" class="difflineplus">+    [</span>
<a href="#l5.309"></a><span id="l5.309" class="difflineplus">+      [0, 0],</span>
<a href="#l5.310"></a><span id="l5.310" class="difflineplus">+      [2, 0],</span>
<a href="#l5.311"></a><span id="l5.311" class="difflineplus">+      [3, 0],</span>
<a href="#l5.312"></a><span id="l5.312" class="difflineplus">+      [3, 0],</span>
<a href="#l5.313"></a><span id="l5.313" class="difflineplus">+      [5, 0],</span>
<a href="#l5.314"></a><span id="l5.314" class="difflineplus">+      [6, 0],</span>
<a href="#l5.315"></a><span id="l5.315" class="difflineplus">+      [7, 0],</span>
<a href="#l5.316"></a><span id="l5.316" class="difflineplus">+      [8, 0],</span>
<a href="#l5.317"></a><span id="l5.317" class="difflineplus">+    ],</span>
<a href="#l5.318"></a><span id="l5.318" class="difflineplus">+    [</span>
<a href="#l5.319"></a><span id="l5.319" class="difflineplus">+      [1, 0],</span>
<a href="#l5.320"></a><span id="l5.320" class="difflineplus">+      [2, 0],</span>
<a href="#l5.321"></a><span id="l5.321" class="difflineplus">+      [3, 0],</span>
<a href="#l5.322"></a><span id="l5.322" class="difflineplus">+      [4, 0],</span>
<a href="#l5.323"></a><span id="l5.323" class="difflineplus">+      [5, 0],</span>
<a href="#l5.324"></a><span id="l5.324" class="difflineplus">+      [6, 0],</span>
<a href="#l5.325"></a><span id="l5.325" class="difflineplus">+      [7, 0],</span>
<a href="#l5.326"></a><span id="l5.326" class="difflineplus">+      [8, 0],</span>
<a href="#l5.327"></a><span id="l5.327" class="difflineplus">+    ],</span>
<a href="#l5.328"></a><span id="l5.328">   ];</span>
<a href="#l5.329"></a><span id="l5.329">   controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l5.330"></a><span id="l5.330">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l5.331"></a><span id="l5.331">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.332"></a><span id="l5.332"> </span>
<a href="#l5.333"></a><span id="l5.333">   verify(DATES, TIMEZONES, times);</span>
<a href="#l5.334"></a><span id="l5.334"> });</span>
<a href="#l5.335"></a><span id="l5.335"> </span>
<a href="#l5.336"></a><span id="l5.336"> add_task(function testTimezones6_checkLosAngeles() {</span>
<a href="#l5.337"></a><span id="l5.337">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;America/Los_Angeles&quot;);</span>
<a href="#l5.338"></a><span id="l5.338">   let times = [</span>
<a href="#l5.339"></a><span id="l5.339" class="difflineminus">-    [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0]],</span>
<a href="#l5.340"></a><span id="l5.340" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [8, 0]],</span>
<a href="#l5.341"></a><span id="l5.341" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span>
<a href="#l5.342"></a><span id="l5.342" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span>
<a href="#l5.343"></a><span id="l5.343" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [9, 0]],</span>
<a href="#l5.344"></a><span id="l5.344" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [5, 0], [7, 0], [8, 0]],</span>
<a href="#l5.345"></a><span id="l5.345" class="difflineminus">-    [[0, 0], [2, 0], [3, 0], [3, 0], [5, 0], [6, 0], [7, 0], [8, 0]],</span>
<a href="#l5.346"></a><span id="l5.346" class="difflineminus">-    [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0]],</span>
<a href="#l5.347"></a><span id="l5.347" class="difflineplus">+    [</span>
<a href="#l5.348"></a><span id="l5.348" class="difflineplus">+      [0, 0],</span>
<a href="#l5.349"></a><span id="l5.349" class="difflineplus">+      [1, 0],</span>
<a href="#l5.350"></a><span id="l5.350" class="difflineplus">+      [2, 0],</span>
<a href="#l5.351"></a><span id="l5.351" class="difflineplus">+      [3, 0],</span>
<a href="#l5.352"></a><span id="l5.352" class="difflineplus">+      [4, 0],</span>
<a href="#l5.353"></a><span id="l5.353" class="difflineplus">+      [5, 0],</span>
<a href="#l5.354"></a><span id="l5.354" class="difflineplus">+      [6, 0],</span>
<a href="#l5.355"></a><span id="l5.355" class="difflineplus">+      [7, 0],</span>
<a href="#l5.356"></a><span id="l5.356" class="difflineplus">+    ],</span>
<a href="#l5.357"></a><span id="l5.357" class="difflineplus">+    [</span>
<a href="#l5.358"></a><span id="l5.358" class="difflineplus">+      [0, 0],</span>
<a href="#l5.359"></a><span id="l5.359" class="difflineplus">+      [2, 0],</span>
<a href="#l5.360"></a><span id="l5.360" class="difflineplus">+      [3, 0],</span>
<a href="#l5.361"></a><span id="l5.361" class="difflineplus">+      [3, 0],</span>
<a href="#l5.362"></a><span id="l5.362" class="difflineplus">+      [5, 0],</span>
<a href="#l5.363"></a><span id="l5.363" class="difflineplus">+      [5, 0],</span>
<a href="#l5.364"></a><span id="l5.364" class="difflineplus">+      [7, 0],</span>
<a href="#l5.365"></a><span id="l5.365" class="difflineplus">+      [8, 0],</span>
<a href="#l5.366"></a><span id="l5.366" class="difflineplus">+    ],</span>
<a href="#l5.367"></a><span id="l5.367" class="difflineplus">+    [</span>
<a href="#l5.368"></a><span id="l5.368" class="difflineplus">+      [0, 0],</span>
<a href="#l5.369"></a><span id="l5.369" class="difflineplus">+      [2, 0],</span>
<a href="#l5.370"></a><span id="l5.370" class="difflineplus">+      [3, 0],</span>
<a href="#l5.371"></a><span id="l5.371" class="difflineplus">+      [3, 0],</span>
<a href="#l5.372"></a><span id="l5.372" class="difflineplus">+      [5, 0],</span>
<a href="#l5.373"></a><span id="l5.373" class="difflineplus">+      [5, 0],</span>
<a href="#l5.374"></a><span id="l5.374" class="difflineplus">+      [7, 0],</span>
<a href="#l5.375"></a><span id="l5.375" class="difflineplus">+      [9, 0],</span>
<a href="#l5.376"></a><span id="l5.376" class="difflineplus">+    ],</span>
<a href="#l5.377"></a><span id="l5.377" class="difflineplus">+    [</span>
<a href="#l5.378"></a><span id="l5.378" class="difflineplus">+      [0, 0],</span>
<a href="#l5.379"></a><span id="l5.379" class="difflineplus">+      [2, 0],</span>
<a href="#l5.380"></a><span id="l5.380" class="difflineplus">+      [3, 0],</span>
<a href="#l5.381"></a><span id="l5.381" class="difflineplus">+      [3, 0],</span>
<a href="#l5.382"></a><span id="l5.382" class="difflineplus">+      [5, 0],</span>
<a href="#l5.383"></a><span id="l5.383" class="difflineplus">+      [5, 0],</span>
<a href="#l5.384"></a><span id="l5.384" class="difflineplus">+      [7, 0],</span>
<a href="#l5.385"></a><span id="l5.385" class="difflineplus">+      [9, 0],</span>
<a href="#l5.386"></a><span id="l5.386" class="difflineplus">+    ],</span>
<a href="#l5.387"></a><span id="l5.387" class="difflineplus">+    [</span>
<a href="#l5.388"></a><span id="l5.388" class="difflineplus">+      [0, 0],</span>
<a href="#l5.389"></a><span id="l5.389" class="difflineplus">+      [2, 0],</span>
<a href="#l5.390"></a><span id="l5.390" class="difflineplus">+      [3, 0],</span>
<a href="#l5.391"></a><span id="l5.391" class="difflineplus">+      [3, 0],</span>
<a href="#l5.392"></a><span id="l5.392" class="difflineplus">+      [5, 0],</span>
<a href="#l5.393"></a><span id="l5.393" class="difflineplus">+      [5, 0],</span>
<a href="#l5.394"></a><span id="l5.394" class="difflineplus">+      [7, 0],</span>
<a href="#l5.395"></a><span id="l5.395" class="difflineplus">+      [9, 0],</span>
<a href="#l5.396"></a><span id="l5.396" class="difflineplus">+    ],</span>
<a href="#l5.397"></a><span id="l5.397" class="difflineplus">+    [</span>
<a href="#l5.398"></a><span id="l5.398" class="difflineplus">+      [0, 0],</span>
<a href="#l5.399"></a><span id="l5.399" class="difflineplus">+      [2, 0],</span>
<a href="#l5.400"></a><span id="l5.400" class="difflineplus">+      [3, 0],</span>
<a href="#l5.401"></a><span id="l5.401" class="difflineplus">+      [3, 0],</span>
<a href="#l5.402"></a><span id="l5.402" class="difflineplus">+      [5, 0],</span>
<a href="#l5.403"></a><span id="l5.403" class="difflineplus">+      [5, 0],</span>
<a href="#l5.404"></a><span id="l5.404" class="difflineplus">+      [7, 0],</span>
<a href="#l5.405"></a><span id="l5.405" class="difflineplus">+      [8, 0],</span>
<a href="#l5.406"></a><span id="l5.406" class="difflineplus">+    ],</span>
<a href="#l5.407"></a><span id="l5.407" class="difflineplus">+    [</span>
<a href="#l5.408"></a><span id="l5.408" class="difflineplus">+      [0, 0],</span>
<a href="#l5.409"></a><span id="l5.409" class="difflineplus">+      [2, 0],</span>
<a href="#l5.410"></a><span id="l5.410" class="difflineplus">+      [3, 0],</span>
<a href="#l5.411"></a><span id="l5.411" class="difflineplus">+      [3, 0],</span>
<a href="#l5.412"></a><span id="l5.412" class="difflineplus">+      [5, 0],</span>
<a href="#l5.413"></a><span id="l5.413" class="difflineplus">+      [6, 0],</span>
<a href="#l5.414"></a><span id="l5.414" class="difflineplus">+      [7, 0],</span>
<a href="#l5.415"></a><span id="l5.415" class="difflineplus">+      [8, 0],</span>
<a href="#l5.416"></a><span id="l5.416" class="difflineplus">+    ],</span>
<a href="#l5.417"></a><span id="l5.417" class="difflineplus">+    [</span>
<a href="#l5.418"></a><span id="l5.418" class="difflineplus">+      [0, 0],</span>
<a href="#l5.419"></a><span id="l5.419" class="difflineplus">+      [1, 0],</span>
<a href="#l5.420"></a><span id="l5.420" class="difflineplus">+      [2, 0],</span>
<a href="#l5.421"></a><span id="l5.421" class="difflineplus">+      [3, 0],</span>
<a href="#l5.422"></a><span id="l5.422" class="difflineplus">+      [4, 0],</span>
<a href="#l5.423"></a><span id="l5.423" class="difflineplus">+      [5, 0],</span>
<a href="#l5.424"></a><span id="l5.424" class="difflineplus">+      [6, 0],</span>
<a href="#l5.425"></a><span id="l5.425" class="difflineplus">+      [7, 0],</span>
<a href="#l5.426"></a><span id="l5.426" class="difflineplus">+    ],</span>
<a href="#l5.427"></a><span id="l5.427">   ];</span>
<a href="#l5.428"></a><span id="l5.428">   controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l5.429"></a><span id="l5.429">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l5.430"></a><span id="l5.430">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.431"></a><span id="l5.431"> </span>
<a href="#l5.432"></a><span id="l5.432">   verify(DATES, TIMEZONES, times);</span>
<a href="#l5.433"></a><span id="l5.433"> });</span>
<a href="#l5.434"></a><span id="l5.434"> </span>
<a href="#l5.435"></a><span id="l5.435"> add_task(function testTimezones7_checkBuenosAires() {</span>
<a href="#l5.436"></a><span id="l5.436">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;America/Argentina/Buenos_Aires&quot;);</span>
<a href="#l5.437"></a><span id="l5.437">   let times = [</span>
<a href="#l5.438"></a><span id="l5.438" class="difflineminus">-    [[5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0]],</span>
<a href="#l5.439"></a><span id="l5.439" class="difflineminus">-    [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [12, 0]],</span>
<a href="#l5.440"></a><span id="l5.440" class="difflineminus">-    [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [13, 0]],</span>
<a href="#l5.441"></a><span id="l5.441" class="difflineminus">-    [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [13, 0]],</span>
<a href="#l5.442"></a><span id="l5.442" class="difflineminus">-    [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [13, 0]],</span>
<a href="#l5.443"></a><span id="l5.443" class="difflineminus">-    [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [9, 0], [11, 0], [12, 0]],</span>
<a href="#l5.444"></a><span id="l5.444" class="difflineminus">-    [[4, 0], [6, 0], [7, 0], [7, 0], [9, 0], [10, 0], [11, 0], [12, 0]],</span>
<a href="#l5.445"></a><span id="l5.445" class="difflineminus">-    [[5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0]],</span>
<a href="#l5.446"></a><span id="l5.446" class="difflineplus">+    [</span>
<a href="#l5.447"></a><span id="l5.447" class="difflineplus">+      [5, 0],</span>
<a href="#l5.448"></a><span id="l5.448" class="difflineplus">+      [6, 0],</span>
<a href="#l5.449"></a><span id="l5.449" class="difflineplus">+      [7, 0],</span>
<a href="#l5.450"></a><span id="l5.450" class="difflineplus">+      [8, 0],</span>
<a href="#l5.451"></a><span id="l5.451" class="difflineplus">+      [9, 0],</span>
<a href="#l5.452"></a><span id="l5.452" class="difflineplus">+      [10, 0],</span>
<a href="#l5.453"></a><span id="l5.453" class="difflineplus">+      [11, 0],</span>
<a href="#l5.454"></a><span id="l5.454" class="difflineplus">+      [12, 0],</span>
<a href="#l5.455"></a><span id="l5.455" class="difflineplus">+    ],</span>
<a href="#l5.456"></a><span id="l5.456" class="difflineplus">+    [</span>
<a href="#l5.457"></a><span id="l5.457" class="difflineplus">+      [4, 0],</span>
<a href="#l5.458"></a><span id="l5.458" class="difflineplus">+      [6, 0],</span>
<a href="#l5.459"></a><span id="l5.459" class="difflineplus">+      [7, 0],</span>
<a href="#l5.460"></a><span id="l5.460" class="difflineplus">+      [7, 0],</span>
<a href="#l5.461"></a><span id="l5.461" class="difflineplus">+      [9, 0],</span>
<a href="#l5.462"></a><span id="l5.462" class="difflineplus">+      [9, 0],</span>
<a href="#l5.463"></a><span id="l5.463" class="difflineplus">+      [11, 0],</span>
<a href="#l5.464"></a><span id="l5.464" class="difflineplus">+      [12, 0],</span>
<a href="#l5.465"></a><span id="l5.465" class="difflineplus">+    ],</span>
<a href="#l5.466"></a><span id="l5.466" class="difflineplus">+    [</span>
<a href="#l5.467"></a><span id="l5.467" class="difflineplus">+      [4, 0],</span>
<a href="#l5.468"></a><span id="l5.468" class="difflineplus">+      [6, 0],</span>
<a href="#l5.469"></a><span id="l5.469" class="difflineplus">+      [7, 0],</span>
<a href="#l5.470"></a><span id="l5.470" class="difflineplus">+      [7, 0],</span>
<a href="#l5.471"></a><span id="l5.471" class="difflineplus">+      [9, 0],</span>
<a href="#l5.472"></a><span id="l5.472" class="difflineplus">+      [9, 0],</span>
<a href="#l5.473"></a><span id="l5.473" class="difflineplus">+      [11, 0],</span>
<a href="#l5.474"></a><span id="l5.474" class="difflineplus">+      [13, 0],</span>
<a href="#l5.475"></a><span id="l5.475" class="difflineplus">+    ],</span>
<a href="#l5.476"></a><span id="l5.476" class="difflineplus">+    [</span>
<a href="#l5.477"></a><span id="l5.477" class="difflineplus">+      [4, 0],</span>
<a href="#l5.478"></a><span id="l5.478" class="difflineplus">+      [6, 0],</span>
<a href="#l5.479"></a><span id="l5.479" class="difflineplus">+      [7, 0],</span>
<a href="#l5.480"></a><span id="l5.480" class="difflineplus">+      [7, 0],</span>
<a href="#l5.481"></a><span id="l5.481" class="difflineplus">+      [9, 0],</span>
<a href="#l5.482"></a><span id="l5.482" class="difflineplus">+      [9, 0],</span>
<a href="#l5.483"></a><span id="l5.483" class="difflineplus">+      [11, 0],</span>
<a href="#l5.484"></a><span id="l5.484" class="difflineplus">+      [13, 0],</span>
<a href="#l5.485"></a><span id="l5.485" class="difflineplus">+    ],</span>
<a href="#l5.486"></a><span id="l5.486" class="difflineplus">+    [</span>
<a href="#l5.487"></a><span id="l5.487" class="difflineplus">+      [4, 0],</span>
<a href="#l5.488"></a><span id="l5.488" class="difflineplus">+      [6, 0],</span>
<a href="#l5.489"></a><span id="l5.489" class="difflineplus">+      [7, 0],</span>
<a href="#l5.490"></a><span id="l5.490" class="difflineplus">+      [7, 0],</span>
<a href="#l5.491"></a><span id="l5.491" class="difflineplus">+      [9, 0],</span>
<a href="#l5.492"></a><span id="l5.492" class="difflineplus">+      [9, 0],</span>
<a href="#l5.493"></a><span id="l5.493" class="difflineplus">+      [11, 0],</span>
<a href="#l5.494"></a><span id="l5.494" class="difflineplus">+      [13, 0],</span>
<a href="#l5.495"></a><span id="l5.495" class="difflineplus">+    ],</span>
<a href="#l5.496"></a><span id="l5.496" class="difflineplus">+    [</span>
<a href="#l5.497"></a><span id="l5.497" class="difflineplus">+      [4, 0],</span>
<a href="#l5.498"></a><span id="l5.498" class="difflineplus">+      [6, 0],</span>
<a href="#l5.499"></a><span id="l5.499" class="difflineplus">+      [7, 0],</span>
<a href="#l5.500"></a><span id="l5.500" class="difflineplus">+      [7, 0],</span>
<a href="#l5.501"></a><span id="l5.501" class="difflineplus">+      [9, 0],</span>
<a href="#l5.502"></a><span id="l5.502" class="difflineplus">+      [9, 0],</span>
<a href="#l5.503"></a><span id="l5.503" class="difflineplus">+      [11, 0],</span>
<a href="#l5.504"></a><span id="l5.504" class="difflineplus">+      [12, 0],</span>
<a href="#l5.505"></a><span id="l5.505" class="difflineplus">+    ],</span>
<a href="#l5.506"></a><span id="l5.506" class="difflineplus">+    [</span>
<a href="#l5.507"></a><span id="l5.507" class="difflineplus">+      [4, 0],</span>
<a href="#l5.508"></a><span id="l5.508" class="difflineplus">+      [6, 0],</span>
<a href="#l5.509"></a><span id="l5.509" class="difflineplus">+      [7, 0],</span>
<a href="#l5.510"></a><span id="l5.510" class="difflineplus">+      [7, 0],</span>
<a href="#l5.511"></a><span id="l5.511" class="difflineplus">+      [9, 0],</span>
<a href="#l5.512"></a><span id="l5.512" class="difflineplus">+      [10, 0],</span>
<a href="#l5.513"></a><span id="l5.513" class="difflineplus">+      [11, 0],</span>
<a href="#l5.514"></a><span id="l5.514" class="difflineplus">+      [12, 0],</span>
<a href="#l5.515"></a><span id="l5.515" class="difflineplus">+    ],</span>
<a href="#l5.516"></a><span id="l5.516" class="difflineplus">+    [</span>
<a href="#l5.517"></a><span id="l5.517" class="difflineplus">+      [5, 0],</span>
<a href="#l5.518"></a><span id="l5.518" class="difflineplus">+      [6, 0],</span>
<a href="#l5.519"></a><span id="l5.519" class="difflineplus">+      [7, 0],</span>
<a href="#l5.520"></a><span id="l5.520" class="difflineplus">+      [8, 0],</span>
<a href="#l5.521"></a><span id="l5.521" class="difflineplus">+      [9, 0],</span>
<a href="#l5.522"></a><span id="l5.522" class="difflineplus">+      [10, 0],</span>
<a href="#l5.523"></a><span id="l5.523" class="difflineplus">+      [11, 0],</span>
<a href="#l5.524"></a><span id="l5.524" class="difflineplus">+      [12, 0],</span>
<a href="#l5.525"></a><span id="l5.525" class="difflineplus">+    ],</span>
<a href="#l5.526"></a><span id="l5.526">   ];</span>
<a href="#l5.527"></a><span id="l5.527">   controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l5.528"></a><span id="l5.528">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l5.529"></a><span id="l5.529">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.530"></a><span id="l5.530"> </span>
<a href="#l5.531"></a><span id="l5.531">   verify(DATES, TIMEZONES, times);</span>
<a href="#l5.532"></a><span id="l5.532"> });</span>
<a href="#l5.533"></a><span id="l5.533"> </span>
<a href="#l5.534"></a><span id="l5.534"> add_task(function testTimezones8_checkParis() {</span>
<a href="#l5.535"></a><span id="l5.535">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;Europe/Paris&quot;);</span>
<a href="#l5.536"></a><span id="l5.536">   let times = [</span>
<a href="#l5.537"></a><span id="l5.537" class="difflineminus">-    [[9, 0], [10, 0], [11, 0], [12, 0], [13, 0], [14, 0], [15, 0], [16, 0]],</span>
<a href="#l5.538"></a><span id="l5.538" class="difflineminus">-    [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [17, 0]],</span>
<a href="#l5.539"></a><span id="l5.539" class="difflineminus">-    [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [18, 0]],</span>
<a href="#l5.540"></a><span id="l5.540" class="difflineminus">-    [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [18, 0]],</span>
<a href="#l5.541"></a><span id="l5.541" class="difflineminus">-    [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [18, 0]],</span>
<a href="#l5.542"></a><span id="l5.542" class="difflineminus">-    [[9, 0], [11, 0], [12, 0], [12, 0], [14, 0], [14, 0], [16, 0], [17, 0]],</span>
<a href="#l5.543"></a><span id="l5.543" class="difflineminus">-    [[8, 0], [10, 0], [11, 0], [11, 0], [13, 0], [14, 0], [15, 0], [16, 0]],</span>
<a href="#l5.544"></a><span id="l5.544" class="difflineminus">-    [[9, 0], [10, 0], [11, 0], [12, 0], [13, 0], [14, 0], [15, 0], [16, 0]],</span>
<a href="#l5.545"></a><span id="l5.545" class="difflineplus">+    [</span>
<a href="#l5.546"></a><span id="l5.546" class="difflineplus">+      [9, 0],</span>
<a href="#l5.547"></a><span id="l5.547" class="difflineplus">+      [10, 0],</span>
<a href="#l5.548"></a><span id="l5.548" class="difflineplus">+      [11, 0],</span>
<a href="#l5.549"></a><span id="l5.549" class="difflineplus">+      [12, 0],</span>
<a href="#l5.550"></a><span id="l5.550" class="difflineplus">+      [13, 0],</span>
<a href="#l5.551"></a><span id="l5.551" class="difflineplus">+      [14, 0],</span>
<a href="#l5.552"></a><span id="l5.552" class="difflineplus">+      [15, 0],</span>
<a href="#l5.553"></a><span id="l5.553" class="difflineplus">+      [16, 0],</span>
<a href="#l5.554"></a><span id="l5.554" class="difflineplus">+    ],</span>
<a href="#l5.555"></a><span id="l5.555" class="difflineplus">+    [</span>
<a href="#l5.556"></a><span id="l5.556" class="difflineplus">+      [9, 0],</span>
<a href="#l5.557"></a><span id="l5.557" class="difflineplus">+      [11, 0],</span>
<a href="#l5.558"></a><span id="l5.558" class="difflineplus">+      [12, 0],</span>
<a href="#l5.559"></a><span id="l5.559" class="difflineplus">+      [12, 0],</span>
<a href="#l5.560"></a><span id="l5.560" class="difflineplus">+      [14, 0],</span>
<a href="#l5.561"></a><span id="l5.561" class="difflineplus">+      [14, 0],</span>
<a href="#l5.562"></a><span id="l5.562" class="difflineplus">+      [16, 0],</span>
<a href="#l5.563"></a><span id="l5.563" class="difflineplus">+      [17, 0],</span>
<a href="#l5.564"></a><span id="l5.564" class="difflineplus">+    ],</span>
<a href="#l5.565"></a><span id="l5.565" class="difflineplus">+    [</span>
<a href="#l5.566"></a><span id="l5.566" class="difflineplus">+      [9, 0],</span>
<a href="#l5.567"></a><span id="l5.567" class="difflineplus">+      [11, 0],</span>
<a href="#l5.568"></a><span id="l5.568" class="difflineplus">+      [12, 0],</span>
<a href="#l5.569"></a><span id="l5.569" class="difflineplus">+      [12, 0],</span>
<a href="#l5.570"></a><span id="l5.570" class="difflineplus">+      [14, 0],</span>
<a href="#l5.571"></a><span id="l5.571" class="difflineplus">+      [14, 0],</span>
<a href="#l5.572"></a><span id="l5.572" class="difflineplus">+      [16, 0],</span>
<a href="#l5.573"></a><span id="l5.573" class="difflineplus">+      [18, 0],</span>
<a href="#l5.574"></a><span id="l5.574" class="difflineplus">+    ],</span>
<a href="#l5.575"></a><span id="l5.575" class="difflineplus">+    [</span>
<a href="#l5.576"></a><span id="l5.576" class="difflineplus">+      [9, 0],</span>
<a href="#l5.577"></a><span id="l5.577" class="difflineplus">+      [11, 0],</span>
<a href="#l5.578"></a><span id="l5.578" class="difflineplus">+      [12, 0],</span>
<a href="#l5.579"></a><span id="l5.579" class="difflineplus">+      [12, 0],</span>
<a href="#l5.580"></a><span id="l5.580" class="difflineplus">+      [14, 0],</span>
<a href="#l5.581"></a><span id="l5.581" class="difflineplus">+      [14, 0],</span>
<a href="#l5.582"></a><span id="l5.582" class="difflineplus">+      [16, 0],</span>
<a href="#l5.583"></a><span id="l5.583" class="difflineplus">+      [18, 0],</span>
<a href="#l5.584"></a><span id="l5.584" class="difflineplus">+    ],</span>
<a href="#l5.585"></a><span id="l5.585" class="difflineplus">+    [</span>
<a href="#l5.586"></a><span id="l5.586" class="difflineplus">+      [9, 0],</span>
<a href="#l5.587"></a><span id="l5.587" class="difflineplus">+      [11, 0],</span>
<a href="#l5.588"></a><span id="l5.588" class="difflineplus">+      [12, 0],</span>
<a href="#l5.589"></a><span id="l5.589" class="difflineplus">+      [12, 0],</span>
<a href="#l5.590"></a><span id="l5.590" class="difflineplus">+      [14, 0],</span>
<a href="#l5.591"></a><span id="l5.591" class="difflineplus">+      [14, 0],</span>
<a href="#l5.592"></a><span id="l5.592" class="difflineplus">+      [16, 0],</span>
<a href="#l5.593"></a><span id="l5.593" class="difflineplus">+      [18, 0],</span>
<a href="#l5.594"></a><span id="l5.594" class="difflineplus">+    ],</span>
<a href="#l5.595"></a><span id="l5.595" class="difflineplus">+    [</span>
<a href="#l5.596"></a><span id="l5.596" class="difflineplus">+      [9, 0],</span>
<a href="#l5.597"></a><span id="l5.597" class="difflineplus">+      [11, 0],</span>
<a href="#l5.598"></a><span id="l5.598" class="difflineplus">+      [12, 0],</span>
<a href="#l5.599"></a><span id="l5.599" class="difflineplus">+      [12, 0],</span>
<a href="#l5.600"></a><span id="l5.600" class="difflineplus">+      [14, 0],</span>
<a href="#l5.601"></a><span id="l5.601" class="difflineplus">+      [14, 0],</span>
<a href="#l5.602"></a><span id="l5.602" class="difflineplus">+      [16, 0],</span>
<a href="#l5.603"></a><span id="l5.603" class="difflineplus">+      [17, 0],</span>
<a href="#l5.604"></a><span id="l5.604" class="difflineplus">+    ],</span>
<a href="#l5.605"></a><span id="l5.605" class="difflineplus">+    [</span>
<a href="#l5.606"></a><span id="l5.606" class="difflineplus">+      [8, 0],</span>
<a href="#l5.607"></a><span id="l5.607" class="difflineplus">+      [10, 0],</span>
<a href="#l5.608"></a><span id="l5.608" class="difflineplus">+      [11, 0],</span>
<a href="#l5.609"></a><span id="l5.609" class="difflineplus">+      [11, 0],</span>
<a href="#l5.610"></a><span id="l5.610" class="difflineplus">+      [13, 0],</span>
<a href="#l5.611"></a><span id="l5.611" class="difflineplus">+      [14, 0],</span>
<a href="#l5.612"></a><span id="l5.612" class="difflineplus">+      [15, 0],</span>
<a href="#l5.613"></a><span id="l5.613" class="difflineplus">+      [16, 0],</span>
<a href="#l5.614"></a><span id="l5.614" class="difflineplus">+    ],</span>
<a href="#l5.615"></a><span id="l5.615" class="difflineplus">+    [</span>
<a href="#l5.616"></a><span id="l5.616" class="difflineplus">+      [9, 0],</span>
<a href="#l5.617"></a><span id="l5.617" class="difflineplus">+      [10, 0],</span>
<a href="#l5.618"></a><span id="l5.618" class="difflineplus">+      [11, 0],</span>
<a href="#l5.619"></a><span id="l5.619" class="difflineplus">+      [12, 0],</span>
<a href="#l5.620"></a><span id="l5.620" class="difflineplus">+      [13, 0],</span>
<a href="#l5.621"></a><span id="l5.621" class="difflineplus">+      [14, 0],</span>
<a href="#l5.622"></a><span id="l5.622" class="difflineplus">+      [15, 0],</span>
<a href="#l5.623"></a><span id="l5.623" class="difflineplus">+      [16, 0],</span>
<a href="#l5.624"></a><span id="l5.624" class="difflineplus">+    ],</span>
<a href="#l5.625"></a><span id="l5.625">   ];</span>
<a href="#l5.626"></a><span id="l5.626">   controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l5.627"></a><span id="l5.627">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l5.628"></a><span id="l5.628">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.629"></a><span id="l5.629"> </span>
<a href="#l5.630"></a><span id="l5.630">   verify(DATES, TIMEZONES, times);</span>
<a href="#l5.631"></a><span id="l5.631"> });</span>
<a href="#l5.632"></a><span id="l5.632"> </span>
<a href="#l5.633"></a><span id="l5.633"> add_task(function testTimezones9_checkKathmandu() {</span>
<a href="#l5.634"></a><span id="l5.634">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;Asia/Kathmandu&quot;);</span>
<a href="#l5.635"></a><span id="l5.635">   let times = [</span>
<a href="#l5.636"></a><span id="l5.636" class="difflineminus">-    [[13, 45], [14, 45], [15, 45], [16, 45], [17, 45], [18, 45], [19, 45], [20, 45]],</span>
<a href="#l5.637"></a><span id="l5.637" class="difflineminus">-    [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [20, 45]],</span>
<a href="#l5.638"></a><span id="l5.638" class="difflineminus">-    [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [21, 45]],</span>
<a href="#l5.639"></a><span id="l5.639" class="difflineminus">-    [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [21, 45]],</span>
<a href="#l5.640"></a><span id="l5.640" class="difflineminus">-    [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [21, 45]],</span>
<a href="#l5.641"></a><span id="l5.641" class="difflineminus">-    [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [17, 45], [19, 45], [20, 45]],</span>
<a href="#l5.642"></a><span id="l5.642" class="difflineminus">-    [[12, 45], [14, 45], [15, 45], [15, 45], [17, 45], [18, 45], [19, 45], [20, 45]],</span>
<a href="#l5.643"></a><span id="l5.643" class="difflineminus">-    [[13, 45], [14, 45], [15, 45], [16, 45], [17, 45], [18, 45], [19, 45], [20, 45]],</span>
<a href="#l5.644"></a><span id="l5.644" class="difflineplus">+    [</span>
<a href="#l5.645"></a><span id="l5.645" class="difflineplus">+      [13, 45],</span>
<a href="#l5.646"></a><span id="l5.646" class="difflineplus">+      [14, 45],</span>
<a href="#l5.647"></a><span id="l5.647" class="difflineplus">+      [15, 45],</span>
<a href="#l5.648"></a><span id="l5.648" class="difflineplus">+      [16, 45],</span>
<a href="#l5.649"></a><span id="l5.649" class="difflineplus">+      [17, 45],</span>
<a href="#l5.650"></a><span id="l5.650" class="difflineplus">+      [18, 45],</span>
<a href="#l5.651"></a><span id="l5.651" class="difflineplus">+      [19, 45],</span>
<a href="#l5.652"></a><span id="l5.652" class="difflineplus">+      [20, 45],</span>
<a href="#l5.653"></a><span id="l5.653" class="difflineplus">+    ],</span>
<a href="#l5.654"></a><span id="l5.654" class="difflineplus">+    [</span>
<a href="#l5.655"></a><span id="l5.655" class="difflineplus">+      [12, 45],</span>
<a href="#l5.656"></a><span id="l5.656" class="difflineplus">+      [14, 45],</span>
<a href="#l5.657"></a><span id="l5.657" class="difflineplus">+      [15, 45],</span>
<a href="#l5.658"></a><span id="l5.658" class="difflineplus">+      [15, 45],</span>
<a href="#l5.659"></a><span id="l5.659" class="difflineplus">+      [17, 45],</span>
<a href="#l5.660"></a><span id="l5.660" class="difflineplus">+      [17, 45],</span>
<a href="#l5.661"></a><span id="l5.661" class="difflineplus">+      [19, 45],</span>
<a href="#l5.662"></a><span id="l5.662" class="difflineplus">+      [20, 45],</span>
<a href="#l5.663"></a><span id="l5.663" class="difflineplus">+    ],</span>
<a href="#l5.664"></a><span id="l5.664" class="difflineplus">+    [</span>
<a href="#l5.665"></a><span id="l5.665" class="difflineplus">+      [12, 45],</span>
<a href="#l5.666"></a><span id="l5.666" class="difflineplus">+      [14, 45],</span>
<a href="#l5.667"></a><span id="l5.667" class="difflineplus">+      [15, 45],</span>
<a href="#l5.668"></a><span id="l5.668" class="difflineplus">+      [15, 45],</span>
<a href="#l5.669"></a><span id="l5.669" class="difflineplus">+      [17, 45],</span>
<a href="#l5.670"></a><span id="l5.670" class="difflineplus">+      [17, 45],</span>
<a href="#l5.671"></a><span id="l5.671" class="difflineplus">+      [19, 45],</span>
<a href="#l5.672"></a><span id="l5.672" class="difflineplus">+      [21, 45],</span>
<a href="#l5.673"></a><span id="l5.673" class="difflineplus">+    ],</span>
<a href="#l5.674"></a><span id="l5.674" class="difflineplus">+    [</span>
<a href="#l5.675"></a><span id="l5.675" class="difflineplus">+      [12, 45],</span>
<a href="#l5.676"></a><span id="l5.676" class="difflineplus">+      [14, 45],</span>
<a href="#l5.677"></a><span id="l5.677" class="difflineplus">+      [15, 45],</span>
<a href="#l5.678"></a><span id="l5.678" class="difflineplus">+      [15, 45],</span>
<a href="#l5.679"></a><span id="l5.679" class="difflineplus">+      [17, 45],</span>
<a href="#l5.680"></a><span id="l5.680" class="difflineplus">+      [17, 45],</span>
<a href="#l5.681"></a><span id="l5.681" class="difflineplus">+      [19, 45],</span>
<a href="#l5.682"></a><span id="l5.682" class="difflineplus">+      [21, 45],</span>
<a href="#l5.683"></a><span id="l5.683" class="difflineplus">+    ],</span>
<a href="#l5.684"></a><span id="l5.684" class="difflineplus">+    [</span>
<a href="#l5.685"></a><span id="l5.685" class="difflineplus">+      [12, 45],</span>
<a href="#l5.686"></a><span id="l5.686" class="difflineplus">+      [14, 45],</span>
<a href="#l5.687"></a><span id="l5.687" class="difflineplus">+      [15, 45],</span>
<a href="#l5.688"></a><span id="l5.688" class="difflineplus">+      [15, 45],</span>
<a href="#l5.689"></a><span id="l5.689" class="difflineplus">+      [17, 45],</span>
<a href="#l5.690"></a><span id="l5.690" class="difflineplus">+      [17, 45],</span>
<a href="#l5.691"></a><span id="l5.691" class="difflineplus">+      [19, 45],</span>
<a href="#l5.692"></a><span id="l5.692" class="difflineplus">+      [21, 45],</span>
<a href="#l5.693"></a><span id="l5.693" class="difflineplus">+    ],</span>
<a href="#l5.694"></a><span id="l5.694" class="difflineplus">+    [</span>
<a href="#l5.695"></a><span id="l5.695" class="difflineplus">+      [12, 45],</span>
<a href="#l5.696"></a><span id="l5.696" class="difflineplus">+      [14, 45],</span>
<a href="#l5.697"></a><span id="l5.697" class="difflineplus">+      [15, 45],</span>
<a href="#l5.698"></a><span id="l5.698" class="difflineplus">+      [15, 45],</span>
<a href="#l5.699"></a><span id="l5.699" class="difflineplus">+      [17, 45],</span>
<a href="#l5.700"></a><span id="l5.700" class="difflineplus">+      [17, 45],</span>
<a href="#l5.701"></a><span id="l5.701" class="difflineplus">+      [19, 45],</span>
<a href="#l5.702"></a><span id="l5.702" class="difflineplus">+      [20, 45],</span>
<a href="#l5.703"></a><span id="l5.703" class="difflineplus">+    ],</span>
<a href="#l5.704"></a><span id="l5.704" class="difflineplus">+    [</span>
<a href="#l5.705"></a><span id="l5.705" class="difflineplus">+      [12, 45],</span>
<a href="#l5.706"></a><span id="l5.706" class="difflineplus">+      [14, 45],</span>
<a href="#l5.707"></a><span id="l5.707" class="difflineplus">+      [15, 45],</span>
<a href="#l5.708"></a><span id="l5.708" class="difflineplus">+      [15, 45],</span>
<a href="#l5.709"></a><span id="l5.709" class="difflineplus">+      [17, 45],</span>
<a href="#l5.710"></a><span id="l5.710" class="difflineplus">+      [18, 45],</span>
<a href="#l5.711"></a><span id="l5.711" class="difflineplus">+      [19, 45],</span>
<a href="#l5.712"></a><span id="l5.712" class="difflineplus">+      [20, 45],</span>
<a href="#l5.713"></a><span id="l5.713" class="difflineplus">+    ],</span>
<a href="#l5.714"></a><span id="l5.714" class="difflineplus">+    [</span>
<a href="#l5.715"></a><span id="l5.715" class="difflineplus">+      [13, 45],</span>
<a href="#l5.716"></a><span id="l5.716" class="difflineplus">+      [14, 45],</span>
<a href="#l5.717"></a><span id="l5.717" class="difflineplus">+      [15, 45],</span>
<a href="#l5.718"></a><span id="l5.718" class="difflineplus">+      [16, 45],</span>
<a href="#l5.719"></a><span id="l5.719" class="difflineplus">+      [17, 45],</span>
<a href="#l5.720"></a><span id="l5.720" class="difflineplus">+      [18, 45],</span>
<a href="#l5.721"></a><span id="l5.721" class="difflineplus">+      [19, 45],</span>
<a href="#l5.722"></a><span id="l5.722" class="difflineplus">+      [20, 45],</span>
<a href="#l5.723"></a><span id="l5.723" class="difflineplus">+    ],</span>
<a href="#l5.724"></a><span id="l5.724">   ];</span>
<a href="#l5.725"></a><span id="l5.725">   controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l5.726"></a><span id="l5.726">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l5.727"></a><span id="l5.727">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.728"></a><span id="l5.728"> </span>
<a href="#l5.729"></a><span id="l5.729">   verify(DATES, TIMEZONES, times);</span>
<a href="#l5.730"></a><span id="l5.730"> });</span>
<a href="#l5.731"></a><span id="l5.731"> </span>
<a href="#l5.732"></a><span id="l5.732"> add_task(function testTimezones10_checkAdelaide() {</span>
<a href="#l5.733"></a><span id="l5.733">   Services.prefs.setStringPref(&quot;calendar.timezone.local&quot;, &quot;Australia/Adelaide&quot;);</span>
<a href="#l5.734"></a><span id="l5.734">   let times = [</span>
<a href="#l5.735"></a><span id="l5.735" class="difflineminus">-    [[18, 30], [19, 30], [20, 30], [21, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l5.736"></a><span id="l5.736" class="difflineminus">-    [[17, 30], [19, 30], [20, 30], [20, 30], [22, 30], [22, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l5.737"></a><span id="l5.737" class="difflineminus">-    [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30], [1, 30, +1]],</span>
<a href="#l5.738"></a><span id="l5.738" class="difflineminus">-    [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30], [1, 30, +1]],</span>
<a href="#l5.739"></a><span id="l5.739" class="difflineminus">-    [[16, 30], [18, 30], [19, 30], [19, 30], [21, 30], [21, 30], [23, 30], [1, 30, +1]],</span>
<a href="#l5.740"></a><span id="l5.740" class="difflineminus">-    [[17, 30], [19, 30], [20, 30], [20, 30], [22, 30], [22, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l5.741"></a><span id="l5.741" class="difflineminus">-    [[17, 30], [19, 30], [20, 30], [20, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l5.742"></a><span id="l5.742" class="difflineminus">-    [[18, 30], [19, 30], [20, 30], [21, 30], [22, 30], [23, 30], [0, 30, +1], [1, 30, +1]],</span>
<a href="#l5.743"></a><span id="l5.743" class="difflineplus">+    [</span>
<a href="#l5.744"></a><span id="l5.744" class="difflineplus">+      [18, 30],</span>
<a href="#l5.745"></a><span id="l5.745" class="difflineplus">+      [19, 30],</span>
<a href="#l5.746"></a><span id="l5.746" class="difflineplus">+      [20, 30],</span>
<a href="#l5.747"></a><span id="l5.747" class="difflineplus">+      [21, 30],</span>
<a href="#l5.748"></a><span id="l5.748" class="difflineplus">+      [22, 30],</span>
<a href="#l5.749"></a><span id="l5.749" class="difflineplus">+      [23, 30],</span>
<a href="#l5.750"></a><span id="l5.750" class="difflineplus">+      [0, 30, +1],</span>
<a href="#l5.751"></a><span id="l5.751" class="difflineplus">+      [1, 30, +1],</span>
<a href="#l5.752"></a><span id="l5.752" class="difflineplus">+    ],</span>
<a href="#l5.753"></a><span id="l5.753" class="difflineplus">+    [</span>
<a href="#l5.754"></a><span id="l5.754" class="difflineplus">+      [17, 30],</span>
<a href="#l5.755"></a><span id="l5.755" class="difflineplus">+      [19, 30],</span>
<a href="#l5.756"></a><span id="l5.756" class="difflineplus">+      [20, 30],</span>
<a href="#l5.757"></a><span id="l5.757" class="difflineplus">+      [20, 30],</span>
<a href="#l5.758"></a><span id="l5.758" class="difflineplus">+      [22, 30],</span>
<a href="#l5.759"></a><span id="l5.759" class="difflineplus">+      [22, 30],</span>
<a href="#l5.760"></a><span id="l5.760" class="difflineplus">+      [0, 30, +1],</span>
<a href="#l5.761"></a><span id="l5.761" class="difflineplus">+      [1, 30, +1],</span>
<a href="#l5.762"></a><span id="l5.762" class="difflineplus">+    ],</span>
<a href="#l5.763"></a><span id="l5.763" class="difflineplus">+    [</span>
<a href="#l5.764"></a><span id="l5.764" class="difflineplus">+      [16, 30],</span>
<a href="#l5.765"></a><span id="l5.765" class="difflineplus">+      [18, 30],</span>
<a href="#l5.766"></a><span id="l5.766" class="difflineplus">+      [19, 30],</span>
<a href="#l5.767"></a><span id="l5.767" class="difflineplus">+      [19, 30],</span>
<a href="#l5.768"></a><span id="l5.768" class="difflineplus">+      [21, 30],</span>
<a href="#l5.769"></a><span id="l5.769" class="difflineplus">+      [21, 30],</span>
<a href="#l5.770"></a><span id="l5.770" class="difflineplus">+      [23, 30],</span>
<a href="#l5.771"></a><span id="l5.771" class="difflineplus">+      [1, 30, +1],</span>
<a href="#l5.772"></a><span id="l5.772" class="difflineplus">+    ],</span>
<a href="#l5.773"></a><span id="l5.773" class="difflineplus">+    [</span>
<a href="#l5.774"></a><span id="l5.774" class="difflineplus">+      [16, 30],</span>
<a href="#l5.775"></a><span id="l5.775" class="difflineplus">+      [18, 30],</span>
<a href="#l5.776"></a><span id="l5.776" class="difflineplus">+      [19, 30],</span>
<a href="#l5.777"></a><span id="l5.777" class="difflineplus">+      [19, 30],</span>
<a href="#l5.778"></a><span id="l5.778" class="difflineplus">+      [21, 30],</span>
<a href="#l5.779"></a><span id="l5.779" class="difflineplus">+      [21, 30],</span>
<a href="#l5.780"></a><span id="l5.780" class="difflineplus">+      [23, 30],</span>
<a href="#l5.781"></a><span id="l5.781" class="difflineplus">+      [1, 30, +1],</span>
<a href="#l5.782"></a><span id="l5.782" class="difflineplus">+    ],</span>
<a href="#l5.783"></a><span id="l5.783" class="difflineplus">+    [</span>
<a href="#l5.784"></a><span id="l5.784" class="difflineplus">+      [16, 30],</span>
<a href="#l5.785"></a><span id="l5.785" class="difflineplus">+      [18, 30],</span>
<a href="#l5.786"></a><span id="l5.786" class="difflineplus">+      [19, 30],</span>
<a href="#l5.787"></a><span id="l5.787" class="difflineplus">+      [19, 30],</span>
<a href="#l5.788"></a><span id="l5.788" class="difflineplus">+      [21, 30],</span>
<a href="#l5.789"></a><span id="l5.789" class="difflineplus">+      [21, 30],</span>
<a href="#l5.790"></a><span id="l5.790" class="difflineplus">+      [23, 30],</span>
<a href="#l5.791"></a><span id="l5.791" class="difflineplus">+      [1, 30, +1],</span>
<a href="#l5.792"></a><span id="l5.792" class="difflineplus">+    ],</span>
<a href="#l5.793"></a><span id="l5.793" class="difflineplus">+    [</span>
<a href="#l5.794"></a><span id="l5.794" class="difflineplus">+      [17, 30],</span>
<a href="#l5.795"></a><span id="l5.795" class="difflineplus">+      [19, 30],</span>
<a href="#l5.796"></a><span id="l5.796" class="difflineplus">+      [20, 30],</span>
<a href="#l5.797"></a><span id="l5.797" class="difflineplus">+      [20, 30],</span>
<a href="#l5.798"></a><span id="l5.798" class="difflineplus">+      [22, 30],</span>
<a href="#l5.799"></a><span id="l5.799" class="difflineplus">+      [22, 30],</span>
<a href="#l5.800"></a><span id="l5.800" class="difflineplus">+      [0, 30, +1],</span>
<a href="#l5.801"></a><span id="l5.801" class="difflineplus">+      [1, 30, +1],</span>
<a href="#l5.802"></a><span id="l5.802" class="difflineplus">+    ],</span>
<a href="#l5.803"></a><span id="l5.803" class="difflineplus">+    [</span>
<a href="#l5.804"></a><span id="l5.804" class="difflineplus">+      [17, 30],</span>
<a href="#l5.805"></a><span id="l5.805" class="difflineplus">+      [19, 30],</span>
<a href="#l5.806"></a><span id="l5.806" class="difflineplus">+      [20, 30],</span>
<a href="#l5.807"></a><span id="l5.807" class="difflineplus">+      [20, 30],</span>
<a href="#l5.808"></a><span id="l5.808" class="difflineplus">+      [22, 30],</span>
<a href="#l5.809"></a><span id="l5.809" class="difflineplus">+      [23, 30],</span>
<a href="#l5.810"></a><span id="l5.810" class="difflineplus">+      [0, 30, +1],</span>
<a href="#l5.811"></a><span id="l5.811" class="difflineplus">+      [1, 30, +1],</span>
<a href="#l5.812"></a><span id="l5.812" class="difflineplus">+    ],</span>
<a href="#l5.813"></a><span id="l5.813" class="difflineplus">+    [</span>
<a href="#l5.814"></a><span id="l5.814" class="difflineplus">+      [18, 30],</span>
<a href="#l5.815"></a><span id="l5.815" class="difflineplus">+      [19, 30],</span>
<a href="#l5.816"></a><span id="l5.816" class="difflineplus">+      [20, 30],</span>
<a href="#l5.817"></a><span id="l5.817" class="difflineplus">+      [21, 30],</span>
<a href="#l5.818"></a><span id="l5.818" class="difflineplus">+      [22, 30],</span>
<a href="#l5.819"></a><span id="l5.819" class="difflineplus">+      [23, 30],</span>
<a href="#l5.820"></a><span id="l5.820" class="difflineplus">+      [0, 30, +1],</span>
<a href="#l5.821"></a><span id="l5.821" class="difflineplus">+      [1, 30, +1],</span>
<a href="#l5.822"></a><span id="l5.822" class="difflineplus">+    ],</span>
<a href="#l5.823"></a><span id="l5.823">   ];</span>
<a href="#l5.824"></a><span id="l5.824">   controller.click(eid(&quot;calendar-tab-button&quot;));</span>
<a href="#l5.825"></a><span id="l5.825">   switchToView(controller, &quot;day&quot;);</span>
<a href="#l5.826"></a><span id="l5.826">   goToDate(controller, 2009, 1, 1);</span>
<a href="#l5.827"></a><span id="l5.827"> </span>
<a href="#l5.828"></a><span id="l5.828">   verify(DATES, TIMEZONES, times);</span>
<a href="#l5.829"></a><span id="l5.829"> });</span>
<a href="#l5.830"></a><span id="l5.830"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/test/browser/recurrence/browser_daily.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/test/browser/recurrence/browser_daily.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -122,17 +122,20 @@ add_task(async function testDailyRecurre</span>
<a href="#l6.4"></a><span id="l6.4"> </span>
<a href="#l6.5"></a><span id="l6.5">     menulistSelect(eventid(&quot;item-repeat&quot;), &quot;every.weekday&quot;, event);</span>
<a href="#l6.6"></a><span id="l6.6">     eventsleep();</span>
<a href="#l6.7"></a><span id="l6.7">     event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l6.8"></a><span id="l6.8">   });</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10">   // Check day view for 7 days.</span>
<a href="#l6.11"></a><span id="l6.11">   let day = lookupEventBox(&quot;day&quot;, EVENT_BOX, null, 1, null, EVENTPATH);</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-  let dates = [[2009, 1, 3], [2009, 1, 4]];</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+  let dates = [</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+    [2009, 1, 3],</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+    [2009, 1, 4],</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+  ];</span>
<a href="#l6.17"></a><span id="l6.17">   for (let [y, m, d] of dates) {</span>
<a href="#l6.18"></a><span id="l6.18">     goToDate(controller, y, m, d);</span>
<a href="#l6.19"></a><span id="l6.19">     controller.assertNodeNotExist(day);</span>
<a href="#l6.20"></a><span id="l6.20">   }</span>
<a href="#l6.21"></a><span id="l6.21"> </span>
<a href="#l6.22"></a><span id="l6.22">   // Check week view for 2 weeks.</span>
<a href="#l6.23"></a><span id="l6.23">   switchToView(controller, &quot;week&quot;);</span>
<a href="#l6.24"></a><span id="l6.24">   goToDate(controller, 2009, 1, 1);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/test/browser/recurrenceRotated/browser_daily.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/test/browser/recurrenceRotated/browser_daily.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -130,17 +130,20 @@ add_task(async function testDailyRecurre</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5">     menulistSelect(eventid(&quot;item-repeat&quot;), &quot;every.weekday&quot;, event);</span>
<a href="#l7.6"></a><span id="l7.6">     eventsleep();</span>
<a href="#l7.7"></a><span id="l7.7">     event.click(eventid(&quot;button-saveandclose&quot;));</span>
<a href="#l7.8"></a><span id="l7.8">   });</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10">   // Check day view for 7 days.</span>
<a href="#l7.11"></a><span id="l7.11">   let day = lookupEventBox(&quot;day&quot;, EVENT_BOX, null, 1, null, EVENTPATH);</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-  let dates = [[2009, 1, 3], [2009, 1, 4]];</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+  let dates = [</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+    [2009, 1, 3],</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+    [2009, 1, 4],</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineplus">+  ];</span>
<a href="#l7.17"></a><span id="l7.17">   for (let [y, m, d] of dates) {</span>
<a href="#l7.18"></a><span id="l7.18">     goToDate(controller, y, m, d);</span>
<a href="#l7.19"></a><span id="l7.19">     controller.assertNodeNotExist(day);</span>
<a href="#l7.20"></a><span id="l7.20">   }</span>
<a href="#l7.21"></a><span id="l7.21"> </span>
<a href="#l7.22"></a><span id="l7.22">   // Check week view for 2 weeks.</span>
<a href="#l7.23"></a><span id="l7.23">   switchToView(controller, &quot;week&quot;);</span>
<a href="#l7.24"></a><span id="l7.24">   goToDate(controller, 2009, 1, 1);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/test/unit/test_itip_utils.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/test/unit/test_itip_utils.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -541,18 +541,24 @@ function test_getAttendeesBySender() {</span>
<a href="#l8.4"></a><span id="l8.4">         attendee.setProperty(&quot;SENT-BY&quot;, att.sentBy);</span>
<a href="#l8.5"></a><span id="l8.5">       }</span>
<a href="#l8.6"></a><span id="l8.6">       attendees.push(attendee);</span>
<a href="#l8.7"></a><span id="l8.7">     }</span>
<a href="#l8.8"></a><span id="l8.8">     let detected = [];</span>
<a href="#l8.9"></a><span id="l8.9">     cal.itip.getAttendeesBySender(attendees, test.input.sender).forEach(att =&gt; {</span>
<a href="#l8.10"></a><span id="l8.10">       detected.push(att.id);</span>
<a href="#l8.11"></a><span id="l8.11">     });</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    ok(detected.every(aId =&gt; test.expected.includes(aId)), &quot;(test #&quot; + i + &quot; ok1)&quot;);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-    ok(test.expected.every(aId =&gt; detected.includes(aId)), &quot;(test #&quot; + i + &quot; ok2)&quot;);</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+    ok(</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+      detected.every(aId =&gt; test.expected.includes(aId)),</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+      &quot;(test #&quot; + i + &quot; ok1)&quot;</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineplus">+    );</span>
<a href="#l8.18"></a><span id="l8.18" class="difflineplus">+    ok(</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineplus">+      test.expected.every(aId =&gt; detected.includes(aId)),</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+      &quot;(test #&quot; + i + &quot; ok2)&quot;</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineplus">+    );</span>
<a href="#l8.22"></a><span id="l8.22">   }</span>
<a href="#l8.23"></a><span id="l8.23"> }</span>
<a href="#l8.24"></a><span id="l8.24"> </span>
<a href="#l8.25"></a><span id="l8.25"> function test_resolveDelegation() {</span>
<a href="#l8.26"></a><span id="l8.26">   let data = [</span>
<a href="#l8.27"></a><span id="l8.27">     {</span>
<a href="#l8.28"></a><span id="l8.28">       input: {</span>
<a href="#l8.29"></a><span id="l8.29">         attendee:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/test/unit/test_unifinder_utils.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/test/unit/test_unifinder_utils.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -64,53 +64,63 @@ function test_sort_items() {</span>
<a href="#l9.4"></a><span id="l9.4">     return cal.createEvent(dedent`</span>
<a href="#l9.5"></a><span id="l9.5">             BEGIN:VEVENT</span>
<a href="#l9.6"></a><span id="l9.6">             SUMMARY:${summary}</span>
<a href="#l9.7"></a><span id="l9.7">             END:VEVENT</span>
<a href="#l9.8"></a><span id="l9.8">         `);</span>
<a href="#l9.9"></a><span id="l9.9">   });</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11">   cal.unifinder.sortItems(items, &quot;title&quot;, 1);</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-  deepEqual(items.map(item =&gt; item.title), [&quot;a&quot;, &quot;b&quot;, null]);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+  deepEqual(</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+    items.map(item =&gt; item.title),</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+    [&quot;a&quot;, &quot;b&quot;, null]</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+  );</span>
<a href="#l9.17"></a><span id="l9.17"> </span>
<a href="#l9.18"></a><span id="l9.18">   cal.unifinder.sortItems(items, &quot;title&quot;, -1);</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineminus">-  deepEqual(items.map(item =&gt; item.title), [null, &quot;b&quot;, &quot;a&quot;]);</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+  deepEqual(</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineplus">+    items.map(item =&gt; item.title),</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+    [null, &quot;b&quot;, &quot;a&quot;]</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineplus">+  );</span>
<a href="#l9.24"></a><span id="l9.24"> </span>
<a href="#l9.25"></a><span id="l9.25">   // date comparison</span>
<a href="#l9.26"></a><span id="l9.26">   let dates = [&quot;20180101T000002Z&quot;, &quot;20180101T000000Z&quot;, &quot;20180101T000001Z&quot;];</span>
<a href="#l9.27"></a><span id="l9.27">   items = dates.map(date =&gt; {</span>
<a href="#l9.28"></a><span id="l9.28">     return cal.createEvent(dedent`</span>
<a href="#l9.29"></a><span id="l9.29">             BEGIN:VEVENT</span>
<a href="#l9.30"></a><span id="l9.30">             DTSTART:${date}</span>
<a href="#l9.31"></a><span id="l9.31">             END:VEVENT</span>
<a href="#l9.32"></a><span id="l9.32">         `);</span>
<a href="#l9.33"></a><span id="l9.33">   });</span>
<a href="#l9.34"></a><span id="l9.34"> </span>
<a href="#l9.35"></a><span id="l9.35">   cal.unifinder.sortItems(items, &quot;startDate&quot;, 1);</span>
<a href="#l9.36"></a><span id="l9.36" class="difflineminus">-  deepEqual(items.map(item =&gt; item.startDate.icalString), [</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineminus">-    &quot;20180101T000000Z&quot;,</span>
<a href="#l9.38"></a><span id="l9.38" class="difflineminus">-    &quot;20180101T000001Z&quot;,</span>
<a href="#l9.39"></a><span id="l9.39" class="difflineminus">-    &quot;20180101T000002Z&quot;,</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineminus">-  ]);</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+  deepEqual(</span>
<a href="#l9.42"></a><span id="l9.42" class="difflineplus">+    items.map(item =&gt; item.startDate.icalString),</span>
<a href="#l9.43"></a><span id="l9.43" class="difflineplus">+    [&quot;20180101T000000Z&quot;, &quot;20180101T000001Z&quot;, &quot;20180101T000002Z&quot;]</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineplus">+  );</span>
<a href="#l9.45"></a><span id="l9.45"> </span>
<a href="#l9.46"></a><span id="l9.46">   cal.unifinder.sortItems(items, &quot;startDate&quot;, -1);</span>
<a href="#l9.47"></a><span id="l9.47" class="difflineminus">-  deepEqual(items.map(item =&gt; item.startDate.icalString), [</span>
<a href="#l9.48"></a><span id="l9.48" class="difflineminus">-    &quot;20180101T000002Z&quot;,</span>
<a href="#l9.49"></a><span id="l9.49" class="difflineminus">-    &quot;20180101T000001Z&quot;,</span>
<a href="#l9.50"></a><span id="l9.50" class="difflineminus">-    &quot;20180101T000000Z&quot;,</span>
<a href="#l9.51"></a><span id="l9.51" class="difflineminus">-  ]);</span>
<a href="#l9.52"></a><span id="l9.52" class="difflineplus">+  deepEqual(</span>
<a href="#l9.53"></a><span id="l9.53" class="difflineplus">+    items.map(item =&gt; item.startDate.icalString),</span>
<a href="#l9.54"></a><span id="l9.54" class="difflineplus">+    [&quot;20180101T000002Z&quot;, &quot;20180101T000001Z&quot;, &quot;20180101T000000Z&quot;]</span>
<a href="#l9.55"></a><span id="l9.55" class="difflineplus">+  );</span>
<a href="#l9.56"></a><span id="l9.56"> </span>
<a href="#l9.57"></a><span id="l9.57">   // number comparison</span>
<a href="#l9.58"></a><span id="l9.58">   let percents = [3, 1, 2];</span>
<a href="#l9.59"></a><span id="l9.59">   items = percents.map(percent =&gt; {</span>
<a href="#l9.60"></a><span id="l9.60">     return cal.createTodo(dedent`</span>
<a href="#l9.61"></a><span id="l9.61">             BEGIN:VTODO</span>
<a href="#l9.62"></a><span id="l9.62">             PERCENT-COMPLETE:${percent}</span>
<a href="#l9.63"></a><span id="l9.63">             END:VTODO</span>
<a href="#l9.64"></a><span id="l9.64">         `);</span>
<a href="#l9.65"></a><span id="l9.65">   });</span>
<a href="#l9.66"></a><span id="l9.66"> </span>
<a href="#l9.67"></a><span id="l9.67">   cal.unifinder.sortItems(items, &quot;percentComplete&quot;, 1);</span>
<a href="#l9.68"></a><span id="l9.68" class="difflineminus">-  deepEqual(items.map(item =&gt; item.percentComplete), [1, 2, 3]);</span>
<a href="#l9.69"></a><span id="l9.69" class="difflineplus">+  deepEqual(</span>
<a href="#l9.70"></a><span id="l9.70" class="difflineplus">+    items.map(item =&gt; item.percentComplete),</span>
<a href="#l9.71"></a><span id="l9.71" class="difflineplus">+    [1, 2, 3]</span>
<a href="#l9.72"></a><span id="l9.72" class="difflineplus">+  );</span>
<a href="#l9.73"></a><span id="l9.73"> </span>
<a href="#l9.74"></a><span id="l9.74">   cal.unifinder.sortItems(items, &quot;percentComplete&quot;, -1);</span>
<a href="#l9.75"></a><span id="l9.75" class="difflineminus">-  deepEqual(items.map(item =&gt; item.percentComplete), [3, 2, 1]);</span>
<a href="#l9.76"></a><span id="l9.76" class="difflineplus">+  deepEqual(</span>
<a href="#l9.77"></a><span id="l9.77" class="difflineplus">+    items.map(item =&gt; item.percentComplete),</span>
<a href="#l9.78"></a><span id="l9.78" class="difflineplus">+    [3, 2, 1]</span>
<a href="#l9.79"></a><span id="l9.79" class="difflineplus">+  );</span>
<a href="#l9.80"></a><span id="l9.80"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/chat/components/src/test/test_logger.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/chat/components/src/test/test_logger.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -190,17 +190,20 @@ var test_queueFileOperation = async func</span>
<a href="#l10.4"></a><span id="l10.4">   equal(gFP.get(&quot;path1&quot;), p1);</span>
<a href="#l10.5"></a><span id="l10.5">   await p1;</span>
<a href="#l10.6"></a><span id="l10.6">   ok(!gFP.has(&quot;path1&quot;));</span>
<a href="#l10.7"></a><span id="l10.7"> </span>
<a href="#l10.8"></a><span id="l10.8">   // Repeat above test for a rejected promise.</span>
<a href="#l10.9"></a><span id="l10.9">   let p2 = qFO(&quot;path2&quot;, dummyRejectedOperation);</span>
<a href="#l10.10"></a><span id="l10.10">   equal(gFP.get(&quot;path2&quot;), p2);</span>
<a href="#l10.11"></a><span id="l10.11">   // This should throw since p2 rejected. Drop the error.</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-  await p2.then(() =&gt; do_throw(), () =&gt; {});</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+  await p2.then(</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+    () =&gt; do_throw(),</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+    () =&gt; {}</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineplus">+  );</span>
<a href="#l10.17"></a><span id="l10.17">   ok(!gFP.has(&quot;path2&quot;));</span>
<a href="#l10.18"></a><span id="l10.18"> </span>
<a href="#l10.19"></a><span id="l10.19">   let onPromiseComplete = (aPromise, aHandler) =&gt; {</span>
<a href="#l10.20"></a><span id="l10.20">     return aPromise.then(aHandler, aHandler);</span>
<a href="#l10.21"></a><span id="l10.21">   };</span>
<a href="#l10.22"></a><span id="l10.22">   let test_queueOrder = aOperation =&gt; {</span>
<a href="#l10.23"></a><span id="l10.23">     let promise = qFO(&quot;queueOrderPath&quot;, aOperation);</span>
<a href="#l10.24"></a><span id="l10.24">     let firstOperationComplete = false;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/chat/modules/test/test_NormalizedMap.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/chat/modules/test/test_NormalizedMap.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -22,17 +22,20 @@ function test_setter_getter() {</span>
<a href="#l11.4"></a><span id="l11.4">   Assert.equal(values[1], &quot;blah&quot;);</span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6">   Assert.equal(m.size, 2);</span>
<a href="#l11.7"></a><span id="l11.7"> </span>
<a href="#l11.8"></a><span id="l11.8">   run_next_test();</span>
<a href="#l11.9"></a><span id="l11.9"> }</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11"> function test_constructor() {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-  let k = new NormalizedMap(aStr =&gt; aStr.toLowerCase(), [[&quot;A&quot;, 2], [&quot;b&quot;, 3]]);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+  let k = new NormalizedMap(aStr =&gt; aStr.toLowerCase(), [</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+    [&quot;A&quot;, 2],</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+    [&quot;b&quot;, 3],</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+  ]);</span>
<a href="#l11.17"></a><span id="l11.17">   Assert.equal(k.get(&quot;b&quot;), 3);</span>
<a href="#l11.18"></a><span id="l11.18">   Assert.equal(k.get(&quot;a&quot;), 2);</span>
<a href="#l11.19"></a><span id="l11.19">   Assert.equal(k.get(&quot;B&quot;), 3);</span>
<a href="#l11.20"></a><span id="l11.20">   Assert.equal(k.get(&quot;A&quot;), 2);</span>
<a href="#l11.21"></a><span id="l11.21"> </span>
<a href="#l11.22"></a><span id="l11.22">   run_next_test();</span>
<a href="#l11.23"></a><span id="l11.23"> }</span>
<a href="#l11.24"></a><span id="l11.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/chat/protocols/irc/test/test_ircMessage.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/chat/protocols/irc/test/test_ircMessage.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -303,17 +303,21 @@ function testTags() {</span>
<a href="#l12.4"></a><span id="l12.4">     },</span>
<a href="#l12.5"></a><span id="l12.5">     &quot;@c;h=;a=b :quux ab cd&quot;: {</span>
<a href="#l12.6"></a><span id="l12.6">       rawMessage: &quot;@c;h=;a=b :quux ab cd&quot;,</span>
<a href="#l12.7"></a><span id="l12.7">       command: &quot;ab&quot;,</span>
<a href="#l12.8"></a><span id="l12.8">       params: [&quot;cd&quot;],</span>
<a href="#l12.9"></a><span id="l12.9">       origin: &quot;quux&quot;,</span>
<a href="#l12.10"></a><span id="l12.10">       user: undefined,</span>
<a href="#l12.11"></a><span id="l12.11">       host: undefined,</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-      tags: new Map([[&quot;c&quot;, undefined], [&quot;h&quot;, &quot;&quot;], [&quot;a&quot;, &quot;b&quot;]]),</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+      tags: new Map([</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+        [&quot;c&quot;, undefined],</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineplus">+        [&quot;h&quot;, &quot;&quot;],</span>
<a href="#l12.16"></a><span id="l12.16" class="difflineplus">+        [&quot;a&quot;, &quot;b&quot;],</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineplus">+      ]),</span>
<a href="#l12.18"></a><span id="l12.18">       source: &quot;&quot;,</span>
<a href="#l12.19"></a><span id="l12.19">     },</span>
<a href="#l12.20"></a><span id="l12.20">     &quot;@time=2012-06-30T23:59:60.419Z :John!~john@1.2.3.4 JOIN #chan&quot;: {</span>
<a href="#l12.21"></a><span id="l12.21">       rawMessage:</span>
<a href="#l12.22"></a><span id="l12.22">         &quot;@time=2012-06-30T23:59:60.419Z :John!~john@1.2.3.4 JOIN #chan&quot;,</span>
<a href="#l12.23"></a><span id="l12.23">       command: &quot;JOIN&quot;,</span>
<a href="#l12.24"></a><span id="l12.24">       params: [&quot;#chan&quot;],</span>
<a href="#l12.25"></a><span id="l12.25">       origin: &quot;John&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/chat/protocols/twitter/twitter.jsm</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/chat/protocols/twitter/twitter.jsm</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -792,17 +792,20 @@ Account.prototype = {</span>
<a href="#l13.4"></a><span id="l13.4">     let url = &quot;1.1/statuses/retweet/&quot; + aTweet.id_str + &quot;.json&quot;;</span>
<a href="#l13.5"></a><span id="l13.5">     this.signAndSend(url, null, [], aOnSent, aOnError, aThis);</span>
<a href="#l13.6"></a><span id="l13.6">   },</span>
<a href="#l13.7"></a><span id="l13.7">   destroy(aTweet, aOnSent, aOnError, aThis) {</span>
<a href="#l13.8"></a><span id="l13.8">     let url = &quot;1.1/statuses/destroy/&quot; + aTweet.id_str + &quot;.json&quot;;</span>
<a href="#l13.9"></a><span id="l13.9">     this.signAndSend(url, null, [], aOnSent, aOnError, aThis);</span>
<a href="#l13.10"></a><span id="l13.10">   },</span>
<a href="#l13.11"></a><span id="l13.11">   directMessage(aMsg, aName, aOnSent, aOnError, aThis) {</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-    let POSTData = [[&quot;text&quot;, aMsg], [&quot;screen_name&quot;, aName]];</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+    let POSTData = [</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+      [&quot;text&quot;, aMsg],</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+      [&quot;screen_name&quot;, aName],</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineplus">+    ];</span>
<a href="#l13.17"></a><span id="l13.17">     this.signAndSend(</span>
<a href="#l13.18"></a><span id="l13.18">       &quot;1.1/direct_messages/new.json&quot;,</span>
<a href="#l13.19"></a><span id="l13.19">       null,</span>
<a href="#l13.20"></a><span id="l13.20">       POSTData,</span>
<a href="#l13.21"></a><span id="l13.21">       aOnSent,</span>
<a href="#l13.22"></a><span id="l13.22">       aOnError,</span>
<a href="#l13.23"></a><span id="l13.23">       aThis</span>
<a href="#l13.24"></a><span id="l13.24">     );</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/chat/protocols/xmpp/xmpp-session.jsm</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/chat/protocols/xmpp/xmpp-session.jsm</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -61,18 +61,18 @@ function XMPPSession(aHost, aPort, aSecu</span>
<a href="#l14.4"></a><span id="l14.4">   this._account.reportConnecting();</span>
<a href="#l14.5"></a><span id="l14.5"> </span>
<a href="#l14.6"></a><span id="l14.6">   // The User has specified a certain server or port, so we should not do</span>
<a href="#l14.7"></a><span id="l14.7">   // DNS SRV lookup or the preference of disabling DNS SRV part and use</span>
<a href="#l14.8"></a><span id="l14.8">   // normal connect is set.</span>
<a href="#l14.9"></a><span id="l14.9">   // RFC 6120 (Section 3.2.3): When Not to Use SRV.</span>
<a href="#l14.10"></a><span id="l14.10">   if (</span>
<a href="#l14.11"></a><span id="l14.11">     Services.prefs.getBoolPref(&quot;chat.dns.srv.disable&quot;) ||</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-    (this._account.prefs.prefHasUserValue(&quot;server&quot;) ||</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineminus">-      this._account.prefs.prefHasUserValue(&quot;port&quot;))</span>
<a href="#l14.14"></a><span id="l14.14" class="difflineplus">+    this._account.prefs.prefHasUserValue(&quot;server&quot;) ||</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineplus">+    this._account.prefs.prefHasUserValue(&quot;port&quot;)</span>
<a href="#l14.16"></a><span id="l14.16">   ) {</span>
<a href="#l14.17"></a><span id="l14.17">     this.connect(this._host, this._port, this._security);</span>
<a href="#l14.18"></a><span id="l14.18">     return;</span>
<a href="#l14.19"></a><span id="l14.19">   }</span>
<a href="#l14.20"></a><span id="l14.20"> </span>
<a href="#l14.21"></a><span id="l14.21">   // RFC 6120 (Section 3.2.1): SRV lookup.</span>
<a href="#l14.22"></a><span id="l14.22">   this._account.reportConnecting(_(&quot;connection.srvLookup&quot;));</span>
<a href="#l14.23"></a><span id="l14.23">   DNS.srv(&quot;_xmpp-client._tcp.&quot; + this._host)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/base/content/editContactPanel.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/base/content/editContactPanel.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -70,17 +70,17 @@ var editContactInlineUI = {</span>
<a href="#l15.4"></a><span id="l15.4">     if (aEvent.keyCode == KeyEvent.DOM_VK_RETURN) {</span>
<a href="#l15.5"></a><span id="l15.5">       if (!aEvent.target.hasAttribute(&quot;oncommand&quot;)) {</span>
<a href="#l15.6"></a><span id="l15.6">         this.saveChanges();</span>
<a href="#l15.7"></a><span id="l15.7">       }</span>
<a href="#l15.8"></a><span id="l15.8">       return;</span>
<a href="#l15.9"></a><span id="l15.9">     }</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11">     // Only handle the read-only cases here.</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-    if (aHandleOnlyReadOnly &amp;&amp; (this._writeable &amp;&amp; !aEvent.target.readOnly)) {</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+    if (aHandleOnlyReadOnly &amp;&amp; this._writeable &amp;&amp; !aEvent.target.readOnly) {</span>
<a href="#l15.14"></a><span id="l15.14">       return;</span>
<a href="#l15.15"></a><span id="l15.15">     }</span>
<a href="#l15.16"></a><span id="l15.16"> </span>
<a href="#l15.17"></a><span id="l15.17">     // Any other character and we prevent the default, this stops us doing</span>
<a href="#l15.18"></a><span id="l15.18">     // things in the main message window.</span>
<a href="#l15.19"></a><span id="l15.19">     if (aEvent.charCode) {</span>
<a href="#l15.20"></a><span id="l15.20">       aEvent.preventDefault();</span>
<a href="#l15.21"></a><span id="l15.21">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mail/base/content/tabmail.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mail/base/content/tabmail.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -834,17 +834,17 @@</span>
<a href="#l16.4"></a><span id="l16.4">             if (browser &amp;&amp; !(&quot;permanentKey&quot; in browser)) {</span>
<a href="#l16.5"></a><span id="l16.5">               // The permanentKey property is a unique Object, thus allowing this</span>
<a href="#l16.6"></a><span id="l16.6">               // browser to be stored in a WeakMap.</span>
<a href="#l16.7"></a><span id="l16.7">               // Use the JSM global to create the permanentKey, so that if the</span>
<a href="#l16.8"></a><span id="l16.8">               // permanentKey is held by something after this window closes, it</span>
<a href="#l16.9"></a><span id="l16.9">               // doesn't keep the window alive.</span>
<a href="#l16.10"></a><span id="l16.10">               browser.permanentKey = new (Cu.getGlobalForObject(</span>
<a href="#l16.11"></a><span id="l16.11">                 Services</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-              )).Object();</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+              ).Object)();</span>
<a href="#l16.14"></a><span id="l16.14">             }</span>
<a href="#l16.15"></a><span id="l16.15">             return browser;</span>
<a href="#l16.16"></a><span id="l16.16">           },</span>
<a href="#l16.17"></a><span id="l16.17">         };</span>
<a href="#l16.18"></a><span id="l16.18"> </span>
<a href="#l16.19"></a><span id="l16.19">         firstTab.mode.tabs.push(firstTab);</span>
<a href="#l16.20"></a><span id="l16.20">         this.tabInfo[0] = this.currentTabInfo = firstTab;</span>
<a href="#l16.21"></a><span id="l16.21">         let tabOpenFirstFunc =</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mail/base/modules/DBViewWrapper.jsm</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mail/base/modules/DBViewWrapper.jsm</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -1397,18 +1397,18 @@ DBViewWrapper.prototype = {</span>
<a href="#l17.4"></a><span id="l17.4">     let setViewFlags = true;</span>
<a href="#l17.5"></a><span id="l17.5">     let reSort = false;</span>
<a href="#l17.6"></a><span id="l17.6">     let oldFlags = this.dbView.viewFlags;</span>
<a href="#l17.7"></a><span id="l17.7">     let changedFlags = oldFlags ^ aViewFlags;</span>
<a href="#l17.8"></a><span id="l17.8"> </span>
<a href="#l17.9"></a><span id="l17.9">     if (this.isVirtual) {</span>
<a href="#l17.10"></a><span id="l17.10">       if (</span>
<a href="#l17.11"></a><span id="l17.11">         this.isMultiFolder &amp;&amp;</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-        (changedFlags &amp; Ci.nsMsgViewFlagsType.kThreadedDisplay &amp;&amp;</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-          !(changedFlags &amp; Ci.nsMsgViewFlagsType.kGroupBySort))</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineplus">+        changedFlags &amp; Ci.nsMsgViewFlagsType.kThreadedDisplay &amp;&amp;</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineplus">+        !(changedFlags &amp; Ci.nsMsgViewFlagsType.kGroupBySort)</span>
<a href="#l17.16"></a><span id="l17.16">       ) {</span>
<a href="#l17.17"></a><span id="l17.17">         reSort = true;</span>
<a href="#l17.18"></a><span id="l17.18">       }</span>
<a href="#l17.19"></a><span id="l17.19">       if (this.isSingleFolder) {</span>
<a href="#l17.20"></a><span id="l17.20">         // ugh, and the single folder case needs us to re-apply his sort...</span>
<a href="#l17.21"></a><span id="l17.21">         reSort = true;</span>
<a href="#l17.22"></a><span id="l17.22">       }</span>
<a href="#l17.23"></a><span id="l17.23">     } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/components/about-support/content/aboutSupport.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/components/about-support/content/aboutSupport.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -620,21 +620,23 @@ var snapshotFormatters = {</span>
<a href="#l18.4"></a><span id="l18.4">     delete data.windowUsingAdvancedLayers;</span>
<a href="#l18.5"></a><span id="l18.5"> </span>
<a href="#l18.6"></a><span id="l18.6">     addRow(</span>
<a href="#l18.7"></a><span id="l18.7">       &quot;features&quot;,</span>
<a href="#l18.8"></a><span id="l18.8">       &quot;asyncPanZoom&quot;,</span>
<a href="#l18.9"></a><span id="l18.9">       apzInfo.length</span>
<a href="#l18.10"></a><span id="l18.10">         ? [</span>
<a href="#l18.11"></a><span id="l18.11">             new Text(</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-              (await document.l10n.formatValues(</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineminus">-                apzInfo.map(id =&gt; {</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineminus">-                  return { id };</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineminus">-                })</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineminus">-              )).join(&quot;; &quot;)</span>
<a href="#l18.17"></a><span id="l18.17" class="difflineplus">+              (</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineplus">+                await document.l10n.formatValues(</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineplus">+                  apzInfo.map(id =&gt; {</span>
<a href="#l18.20"></a><span id="l18.20" class="difflineplus">+                    return { id };</span>
<a href="#l18.21"></a><span id="l18.21" class="difflineplus">+                  })</span>
<a href="#l18.22"></a><span id="l18.22" class="difflineplus">+                )</span>
<a href="#l18.23"></a><span id="l18.23" class="difflineplus">+              ).join(&quot;; &quot;)</span>
<a href="#l18.24"></a><span id="l18.24">             ),</span>
<a href="#l18.25"></a><span id="l18.25">           ]</span>
<a href="#l18.26"></a><span id="l18.26">         : &quot;apz-none&quot;</span>
<a href="#l18.27"></a><span id="l18.27">     );</span>
<a href="#l18.28"></a><span id="l18.28">     let featureKeys = [</span>
<a href="#l18.29"></a><span id="l18.29">       &quot;webgl1WSIInfo&quot;,</span>
<a href="#l18.30"></a><span id="l18.30">       &quot;webgl1Renderer&quot;,</span>
<a href="#l18.31"></a><span id="l18.31">       &quot;webgl1Version&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mail/components/accountcreation/content/util.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mail/components/accountcreation/content/util.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -482,17 +482,20 @@ function PriorityOrderAbortable(successC</span>
<a href="#l19.4"></a><span id="l19.4">         console.error(e);</span>
<a href="#l19.5"></a><span id="l19.5">         // If the handler failed with this data, treat this call as failed.</span>
<a href="#l19.6"></a><span id="l19.6">         call.e = e;</span>
<a href="#l19.7"></a><span id="l19.7">         call.succeeded = false;</span>
<a href="#l19.8"></a><span id="l19.8">       }</span>
<a href="#l19.9"></a><span id="l19.9">     }</span>
<a href="#l19.10"></a><span id="l19.10">     if (!this._successfulCall) {</span>
<a href="#l19.11"></a><span id="l19.11">       // all failed</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-      errorCallback(this._calls[0].e, this._calls.map(call =&gt; call.e)); // see docs above</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+      errorCallback(</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+        this._calls[0].e,</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+        this._calls.map(call =&gt; call.e)</span>
<a href="#l19.16"></a><span id="l19.16" class="difflineplus">+      ); // see docs above</span>
<a href="#l19.17"></a><span id="l19.17">     }</span>
<a href="#l19.18"></a><span id="l19.18">   });</span>
<a href="#l19.19"></a><span id="l19.19"> }</span>
<a href="#l19.20"></a><span id="l19.20"> PriorityOrderAbortable.prototype = Object.create(ParallelAbortable.prototype);</span>
<a href="#l19.21"></a><span id="l19.21"> PriorityOrderAbortable.prototype.constructor = PriorityOrderAbortable;</span>
<a href="#l19.22"></a><span id="l19.22"> </span>
<a href="#l19.23"></a><span id="l19.23"> function NoLongerNeededException(msg) {</span>
<a href="#l19.24"></a><span id="l19.24">   CancelledException.call(this, msg);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mail/components/extensions/parent/ext-tabs.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mail/components/extensions/parent/ext-tabs.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -220,18 +220,18 @@ class TabsUpdateFilterEventManager exten</span>
<a href="#l20.4"></a><span id="l20.4">     });</span>
<a href="#l20.5"></a><span id="l20.5">   }</span>
<a href="#l20.6"></a><span id="l20.6"> </span>
<a href="#l20.7"></a><span id="l20.7">   addListener(callback, filter) {</span>
<a href="#l20.8"></a><span id="l20.8">     let { extension } = this.context;</span>
<a href="#l20.9"></a><span id="l20.9">     if (</span>
<a href="#l20.10"></a><span id="l20.10">       filter &amp;&amp;</span>
<a href="#l20.11"></a><span id="l20.11">       filter.urls &amp;&amp;</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-      (!extension.hasPermission(&quot;tabs&quot;) &amp;&amp;</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-        !extension.hasPermission(&quot;activeTab&quot;))</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineplus">+      !extension.hasPermission(&quot;tabs&quot;) &amp;&amp;</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+      !extension.hasPermission(&quot;activeTab&quot;)</span>
<a href="#l20.16"></a><span id="l20.16">     ) {</span>
<a href="#l20.17"></a><span id="l20.17">       Cu.reportError(</span>
<a href="#l20.18"></a><span id="l20.18">         'Url filtering in tabs.onUpdated requires &quot;tabs&quot; or &quot;activeTab&quot; permission.'</span>
<a href="#l20.19"></a><span id="l20.19">       );</span>
<a href="#l20.20"></a><span id="l20.20">       return false;</span>
<a href="#l20.21"></a><span id="l20.21">     }</span>
<a href="#l20.22"></a><span id="l20.22">     return super.addListener(callback, filter);</span>
<a href="#l20.23"></a><span id="l20.23">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mail/components/im/content/chat-conversation.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mail/components/im/content/chat-conversation.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -1156,19 +1156,19 @@</span>
<a href="#l21.4"></a><span id="l21.4">         ((accelKeyPressed &amp;&amp; event.charCode != 118) || event.altKey) &amp;&amp;</span>
<a href="#l21.5"></a><span id="l21.5">         event.keyCode != 13</span>
<a href="#l21.6"></a><span id="l21.6">       ) {</span>
<a href="#l21.7"></a><span id="l21.7">         return;</span>
<a href="#l21.8"></a><span id="l21.8">       }</span>
<a href="#l21.9"></a><span id="l21.9"> </span>
<a href="#l21.10"></a><span id="l21.10">       if (</span>
<a href="#l21.11"></a><span id="l21.11">         event.charCode == 0 &amp;&amp; // it's not a character, it's a command key</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-        (event.keyCode != 13 &amp;&amp; // Return</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+        event.keyCode != 13 &amp;&amp; // Return</span>
<a href="#l21.14"></a><span id="l21.14">         event.keyCode != 8 &amp;&amp; // Backspace</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineminus">-          event.keyCode != 46)</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineplus">+        event.keyCode != 46</span>
<a href="#l21.17"></a><span id="l21.17">       ) {</span>
<a href="#l21.18"></a><span id="l21.18">         // Delete</span>
<a href="#l21.19"></a><span id="l21.19">         return;</span>
<a href="#l21.20"></a><span id="l21.20">       }</span>
<a href="#l21.21"></a><span id="l21.21"> </span>
<a href="#l21.22"></a><span id="l21.22">       if (</span>
<a href="#l21.23"></a><span id="l21.23">         accelKeyPressed ||</span>
<a href="#l21.24"></a><span id="l21.24">         !Services.prefs.getBoolPref(&quot;accessibility.typeaheadfind&quot;)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mail/components/im/modules/index_im.jsm</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mail/components/im/modules/index_im.jsm</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -516,19 +516,19 @@ var GlodaIMIndexer = {</span>
<a href="#l22.4"></a><span id="l22.4">       // conv.logFiles.length - 1, so we slice from there. This gives us all new</span>
<a href="#l22.5"></a><span id="l22.5">       // log files even if there are multiple new ones.</span>
<a href="#l22.6"></a><span id="l22.6">       let currentLogFiles =</span>
<a href="#l22.7"></a><span id="l22.7">         conv.logFileCount &gt; 1</span>
<a href="#l22.8"></a><span id="l22.8">           ? logFiles.slice(conv.logFileCount - 1)</span>
<a href="#l22.9"></a><span id="l22.9">           : logFiles;</span>
<a href="#l22.10"></a><span id="l22.10">       for (let logFile of currentLogFiles) {</span>
<a href="#l22.11"></a><span id="l22.11">         let fileName = OS.Path.basename(logFile);</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-        let lastModifiedTime = (await OS.File.stat(</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineminus">-          logFile</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineminus">-        )).lastModificationDate.valueOf();</span>
<a href="#l22.15"></a><span id="l22.15" class="difflineplus">+        let lastModifiedTime = (</span>
<a href="#l22.16"></a><span id="l22.16" class="difflineplus">+          await OS.File.stat(logFile)</span>
<a href="#l22.17"></a><span id="l22.17" class="difflineplus">+        ).lastModificationDate.valueOf();</span>
<a href="#l22.18"></a><span id="l22.18">         if (</span>
<a href="#l22.19"></a><span id="l22.19">           Object.prototype.hasOwnProperty.call(conv.convObj, fileName) &amp;&amp;</span>
<a href="#l22.20"></a><span id="l22.20">           conv.convObj[fileName] == lastModifiedTime</span>
<a href="#l22.21"></a><span id="l22.21">         ) {</span>
<a href="#l22.22"></a><span id="l22.22">           // The file hasn't changed since we last indexed it, so we're done.</span>
<a href="#l22.23"></a><span id="l22.23">           continue;</span>
<a href="#l22.24"></a><span id="l22.24">         }</span>
<a href="#l22.25"></a><span id="l22.25"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mail/components/test/unit/test_autoconfigUtils.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mail/components/test/unit/test_autoconfigUtils.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -250,33 +250,39 @@ function test_getIncomingTryOrder() {</span>
<a href="#l23.4"></a><span id="l23.4">     [POP, TLS, 110],</span>
<a href="#l23.5"></a><span id="l23.5">     // [POP, SSL, 995],</span>
<a href="#l23.6"></a><span id="l23.6">     [IMAP, NONE, 143],</span>
<a href="#l23.7"></a><span id="l23.7">     [POP, NONE, 110],</span>
<a href="#l23.8"></a><span id="l23.8">   ]);</span>
<a href="#l23.9"></a><span id="l23.9"> </span>
<a href="#l23.10"></a><span id="l23.10">   ssl = SSL;</span>
<a href="#l23.11"></a><span id="l23.11">   tryOrder = getIncomingTryOrder(domain, protocol, ssl, port);</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-  assert_equal_try_orders(tryOrder, [[IMAP, SSL, 993], [POP, SSL, 995]]);</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+  assert_equal_try_orders(tryOrder, [</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+    [IMAP, SSL, 993],</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineplus">+    [POP, SSL, 995],</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineplus">+  ]);</span>
<a href="#l23.17"></a><span id="l23.17"> </span>
<a href="#l23.18"></a><span id="l23.18">   ssl = UNKNOWN;</span>
<a href="#l23.19"></a><span id="l23.19">   port = 31337;</span>
<a href="#l23.20"></a><span id="l23.20">   tryOrder = getIncomingTryOrder(domain, protocol, ssl, port);</span>
<a href="#l23.21"></a><span id="l23.21">   assert_equal_try_orders(tryOrder, [</span>
<a href="#l23.22"></a><span id="l23.22">     [IMAP, TLS, port],</span>
<a href="#l23.23"></a><span id="l23.23">     // [IMAP, SSL, port],</span>
<a href="#l23.24"></a><span id="l23.24">     [POP, TLS, port],</span>
<a href="#l23.25"></a><span id="l23.25">     // [POP, SSL, port],</span>
<a href="#l23.26"></a><span id="l23.26">     [IMAP, NONE, port],</span>
<a href="#l23.27"></a><span id="l23.27">     [POP, NONE, port],</span>
<a href="#l23.28"></a><span id="l23.28">   ]);</span>
<a href="#l23.29"></a><span id="l23.29"> </span>
<a href="#l23.30"></a><span id="l23.30">   ssl = SSL;</span>
<a href="#l23.31"></a><span id="l23.31">   tryOrder = getIncomingTryOrder(domain, protocol, ssl, port);</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineminus">-  assert_equal_try_orders(tryOrder, [[IMAP, SSL, port], [POP, SSL, port]]);</span>
<a href="#l23.33"></a><span id="l23.33" class="difflineplus">+  assert_equal_try_orders(tryOrder, [</span>
<a href="#l23.34"></a><span id="l23.34" class="difflineplus">+    [IMAP, SSL, port],</span>
<a href="#l23.35"></a><span id="l23.35" class="difflineplus">+    [POP, SSL, port],</span>
<a href="#l23.36"></a><span id="l23.36" class="difflineplus">+  ]);</span>
<a href="#l23.37"></a><span id="l23.37"> }</span>
<a href="#l23.38"></a><span id="l23.38"> </span>
<a href="#l23.39"></a><span id="l23.39"> /**</span>
<a href="#l23.40"></a><span id="l23.40">  * Test the getOutgoingTryOrder method.</span>
<a href="#l23.41"></a><span id="l23.41">  */</span>
<a href="#l23.42"></a><span id="l23.42"> function test_getOutgoingTryOrder() {</span>
<a href="#l23.43"></a><span id="l23.43">   // The list of protocol+ssl+port configurations should match</span>
<a href="#l23.44"></a><span id="l23.44">   // getOutgoingTryOrder() in guessConfig.js.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mail/components/test/unit/test_telemetry_buildconfig.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mail/components/test/unit/test_telemetry_buildconfig.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -57,23 +57,29 @@ add_task(async function test_recording_s</span>
<a href="#l24.4"></a><span id="l24.4">   Telemetry.clearScalars();</span>
<a href="#l24.5"></a><span id="l24.5"> </span>
<a href="#l24.6"></a><span id="l24.6">   const events = [[&quot;tb.test&quot;, &quot;test&quot;, &quot;object1&quot;]];</span>
<a href="#l24.7"></a><span id="l24.7"> </span>
<a href="#l24.8"></a><span id="l24.8">   // Recording off by default.</span>
<a href="#l24.9"></a><span id="l24.9">   events.forEach(e =&gt; Telemetry.recordEvent(...e));</span>
<a href="#l24.10"></a><span id="l24.10">   TelemetryTestUtils.assertEvents([]);</span>
<a href="#l24.11"></a><span id="l24.11">   // But still expect a non-zero summary count.</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-  checkEventSummary(events.map(e =&gt; [&quot;parent&quot;, e, 1]), true);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+  checkEventSummary(</span>
<a href="#l24.14"></a><span id="l24.14" class="difflineplus">+    events.map(e =&gt; [&quot;parent&quot;, e, 1]),</span>
<a href="#l24.15"></a><span id="l24.15" class="difflineplus">+    true</span>
<a href="#l24.16"></a><span id="l24.16" class="difflineplus">+  );</span>
<a href="#l24.17"></a><span id="l24.17"> </span>
<a href="#l24.18"></a><span id="l24.18">   // Once again, with recording on.</span>
<a href="#l24.19"></a><span id="l24.19">   Telemetry.setEventRecordingEnabled(&quot;tb.test&quot;, true);</span>
<a href="#l24.20"></a><span id="l24.20">   events.forEach(e =&gt; Telemetry.recordEvent(...e));</span>
<a href="#l24.21"></a><span id="l24.21">   TelemetryTestUtils.assertEvents(events);</span>
<a href="#l24.22"></a><span id="l24.22" class="difflineminus">-  checkEventSummary(events.map(e =&gt; [&quot;parent&quot;, e, 1]), true);</span>
<a href="#l24.23"></a><span id="l24.23" class="difflineplus">+  checkEventSummary(</span>
<a href="#l24.24"></a><span id="l24.24" class="difflineplus">+    events.map(e =&gt; [&quot;parent&quot;, e, 1]),</span>
<a href="#l24.25"></a><span id="l24.25" class="difflineplus">+    true</span>
<a href="#l24.26"></a><span id="l24.26" class="difflineplus">+  );</span>
<a href="#l24.27"></a><span id="l24.27"> });</span>
<a href="#l24.28"></a><span id="l24.28"> </span>
<a href="#l24.29"></a><span id="l24.29"> /**</span>
<a href="#l24.30"></a><span id="l24.30">  * Test Thunderbird histograms are included in the build.</span>
<a href="#l24.31"></a><span id="l24.31">  */</span>
<a href="#l24.32"></a><span id="l24.32"> add_task(async function test_categorical_histogram() {</span>
<a href="#l24.33"></a><span id="l24.33">   let h1 = Telemetry.getHistogramById(&quot;TELEMETRY_TEST_TB_CATEGORICAL&quot;);</span>
<a href="#l24.34"></a><span id="l24.34">   for (let v of [&quot;CommonLabel&quot;, &quot;CommonLabel&quot;, &quot;Label2&quot;, &quot;Label3&quot;]) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mail/test/browser/folder-display/browser_paneFocus.js</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mail/test/browser/folder-display/browser_paneFocus.js</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -44,19 +44,22 @@ add_task(function setupModule(module) {</span>
<a href="#l25.4"></a><span id="l25.4"> </span>
<a href="#l25.5"></a><span id="l25.5"> /**</span>
<a href="#l25.6"></a><span id="l25.6">  * Get the currently-focused pane in the 3pane. One of the folder pane, thread</span>
<a href="#l25.7"></a><span id="l25.7">  * pane, or message pane (single- or multi-message).</span>
<a href="#l25.8"></a><span id="l25.8">  *</span>
<a href="#l25.9"></a><span id="l25.9">  * @return the focused pane</span>
<a href="#l25.10"></a><span id="l25.10">  */</span>
<a href="#l25.11"></a><span id="l25.11"> function get_focused_pane() {</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-  let panes = [&quot;threadTree&quot;, &quot;folderTree&quot;, &quot;messagepane&quot;, &quot;multimessage&quot;].map(</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineminus">-    id =&gt; mc.e(id)</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineminus">-  );</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineplus">+  let panes = [</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineplus">+    &quot;threadTree&quot;,</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineplus">+    &quot;folderTree&quot;,</span>
<a href="#l25.18"></a><span id="l25.18" class="difflineplus">+    &quot;messagepane&quot;,</span>
<a href="#l25.19"></a><span id="l25.19" class="difflineplus">+    &quot;multimessage&quot;,</span>
<a href="#l25.20"></a><span id="l25.20" class="difflineplus">+  ].map(id =&gt; mc.e(id));</span>
<a href="#l25.21"></a><span id="l25.21"> </span>
<a href="#l25.22"></a><span id="l25.22">   let currentNode = mc.window.top.document.activeElement;</span>
<a href="#l25.23"></a><span id="l25.23"> </span>
<a href="#l25.24"></a><span id="l25.24">   while (currentNode) {</span>
<a href="#l25.25"></a><span id="l25.25">     if (panes.includes(currentNode)) {</span>
<a href="#l25.26"></a><span id="l25.26">       return currentNode;</span>
<a href="#l25.27"></a><span id="l25.27">     }</span>
<a href="#l25.28"></a><span id="l25.28"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mail/test/browser/quick-filter-bar/browser_filterLogic.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mail/test/browser/quick-filter-bar/browser_filterLogic.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -64,20 +64,27 @@ add_task(function test_filter_starred() </span>
<a href="#l26.4"></a><span id="l26.4">   be_in_folder(folder);</span>
<a href="#l26.5"></a><span id="l26.5">   toggle_boolean_constraints(&quot;starred&quot;);</span>
<a href="#l26.6"></a><span id="l26.6">   assert_messages_in_view(starred);</span>
<a href="#l26.7"></a><span id="l26.7">   teardownTest();</span>
<a href="#l26.8"></a><span id="l26.8"> });</span>
<a href="#l26.9"></a><span id="l26.9"> </span>
<a href="#l26.10"></a><span id="l26.10"> add_task(function test_filter_simple_intersection_unread_and_starred() {</span>
<a href="#l26.11"></a><span id="l26.11">   let folder = create_folder(&quot;QuickFilterBarFilterUnreadAndStarred&quot;);</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-  let [, readUnstarred, unreadStarred, readStarred] = make_new_sets_in_folder(</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineminus">-    folder,</span>
<a href="#l26.14"></a><span id="l26.14" class="difflineminus">-    [{ count: 1 }, { count: 1 }, { count: 1 }, { count: 1 }]</span>
<a href="#l26.15"></a><span id="l26.15" class="difflineminus">-  );</span>
<a href="#l26.16"></a><span id="l26.16" class="difflineplus">+  let [</span>
<a href="#l26.17"></a><span id="l26.17" class="difflineplus">+    ,</span>
<a href="#l26.18"></a><span id="l26.18" class="difflineplus">+    readUnstarred,</span>
<a href="#l26.19"></a><span id="l26.19" class="difflineplus">+    unreadStarred,</span>
<a href="#l26.20"></a><span id="l26.20" class="difflineplus">+    readStarred,</span>
<a href="#l26.21"></a><span id="l26.21" class="difflineplus">+  ] = make_new_sets_in_folder(folder, [</span>
<a href="#l26.22"></a><span id="l26.22" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.23"></a><span id="l26.23" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.24"></a><span id="l26.24" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.25"></a><span id="l26.25" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.26"></a><span id="l26.26" class="difflineplus">+  ]);</span>
<a href="#l26.27"></a><span id="l26.27">   readUnstarred.setRead(true);</span>
<a href="#l26.28"></a><span id="l26.28">   unreadStarred.setStarred(true);</span>
<a href="#l26.29"></a><span id="l26.29">   readStarred.setRead(true);</span>
<a href="#l26.30"></a><span id="l26.30">   readStarred.setStarred(true);</span>
<a href="#l26.31"></a><span id="l26.31"> </span>
<a href="#l26.32"></a><span id="l26.32">   be_in_folder(folder);</span>
<a href="#l26.33"></a><span id="l26.33">   toggle_boolean_constraints(&quot;unread&quot;, &quot;starred&quot;);</span>
<a href="#l26.34"></a><span id="l26.34"> </span>
<a href="#l26.35"></a><span id="l26.35" class="difflineat">@@ -148,20 +155,29 @@ add_task(function test_filter_in_address</span>
<a href="#l26.36"></a><span id="l26.36">   teardownTest();</span>
<a href="#l26.37"></a><span id="l26.37"> });</span>
<a href="#l26.38"></a><span id="l26.38"> </span>
<a href="#l26.39"></a><span id="l26.39"> add_task(function test_filter_tags() {</span>
<a href="#l26.40"></a><span id="l26.40">   let folder = create_folder(&quot;QuickFilterBarTags&quot;);</span>
<a href="#l26.41"></a><span id="l26.41">   const tagA = &quot;$label1&quot;,</span>
<a href="#l26.42"></a><span id="l26.42">     tagB = &quot;$label2&quot;,</span>
<a href="#l26.43"></a><span id="l26.43">     tagC = &quot;$label3&quot;;</span>
<a href="#l26.44"></a><span id="l26.44" class="difflineminus">-  let [setNoTag, setTagA, setTagB, setTagAB, setTagC] = make_new_sets_in_folder(</span>
<a href="#l26.45"></a><span id="l26.45" class="difflineminus">-    folder,</span>
<a href="#l26.46"></a><span id="l26.46" class="difflineminus">-    [{ count: 1 }, { count: 1 }, { count: 1 }, { count: 1 }, { count: 1 }]</span>
<a href="#l26.47"></a><span id="l26.47" class="difflineminus">-  );</span>
<a href="#l26.48"></a><span id="l26.48" class="difflineplus">+  let [</span>
<a href="#l26.49"></a><span id="l26.49" class="difflineplus">+    setNoTag,</span>
<a href="#l26.50"></a><span id="l26.50" class="difflineplus">+    setTagA,</span>
<a href="#l26.51"></a><span id="l26.51" class="difflineplus">+    setTagB,</span>
<a href="#l26.52"></a><span id="l26.52" class="difflineplus">+    setTagAB,</span>
<a href="#l26.53"></a><span id="l26.53" class="difflineplus">+    setTagC,</span>
<a href="#l26.54"></a><span id="l26.54" class="difflineplus">+  ] = make_new_sets_in_folder(folder, [</span>
<a href="#l26.55"></a><span id="l26.55" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.56"></a><span id="l26.56" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.57"></a><span id="l26.57" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.58"></a><span id="l26.58" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.59"></a><span id="l26.59" class="difflineplus">+    { count: 1 },</span>
<a href="#l26.60"></a><span id="l26.60" class="difflineplus">+  ]);</span>
<a href="#l26.61"></a><span id="l26.61">   setTagA.addTag(tagA);</span>
<a href="#l26.62"></a><span id="l26.62">   setTagB.addTag(tagB);</span>
<a href="#l26.63"></a><span id="l26.63">   setTagAB.addTag(tagA);</span>
<a href="#l26.64"></a><span id="l26.64">   setTagAB.addTag(tagB);</span>
<a href="#l26.65"></a><span id="l26.65">   setTagC.addTag(tagC);</span>
<a href="#l26.66"></a><span id="l26.66"> </span>
<a href="#l26.67"></a><span id="l26.67">   be_in_folder(folder);</span>
<a href="#l26.68"></a><span id="l26.68">   toggle_boolean_constraints(&quot;tags&quot;); // must have a tag</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mailnews/db/gloda/test/unit/test_fts3_tokenizer.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mailnews/db/gloda/test/unit/test_fts3_tokenizer.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -49,17 +49,20 @@ var intlPhrases = [</span>
<a href="#l27.4"></a><span id="l27.4">   // tokenizer is supposed to drop them. Also make sure that a three-letter</span>
<a href="#l27.5"></a><span id="l27.5">   // token matches.</span>
<a href="#l27.6"></a><span id="l27.6">   {</span>
<a href="#l27.7"></a><span id="l27.7">     name: &quot;Boring ASCII&quot;,</span>
<a href="#l27.8"></a><span id="l27.8">     actual: &quot;aa bbb&quot;,</span>
<a href="#l27.9"></a><span id="l27.9">     encodings: {</span>
<a href="#l27.10"></a><span id="l27.10">       &quot;utf-8&quot;: [&quot;=?utf-8?q?aa_bbb?=&quot;, &quot;aa bbb&quot;],</span>
<a href="#l27.11"></a><span id="l27.11">     },</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-    searchPhrases: [{ body: &quot;aa&quot;, match: false }, { body: &quot;bbb&quot;, match: true }],</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+    searchPhrases: [</span>
<a href="#l27.14"></a><span id="l27.14" class="difflineplus">+      { body: &quot;aa&quot;, match: false },</span>
<a href="#l27.15"></a><span id="l27.15" class="difflineplus">+      { body: &quot;bbb&quot;, match: true },</span>
<a href="#l27.16"></a><span id="l27.16" class="difflineplus">+    ],</span>
<a href="#l27.17"></a><span id="l27.17">   },</span>
<a href="#l27.18"></a><span id="l27.18"> ];</span>
<a href="#l27.19"></a><span id="l27.19"> </span>
<a href="#l27.20"></a><span id="l27.20"> /**</span>
<a href="#l27.21"></a><span id="l27.21">  * For each phrase in the intlPhrases array (we are parameterized over it using</span>
<a href="#l27.22"></a><span id="l27.22">  *  parameterizeTest in the 'tests' declaration), create a message where the</span>
<a href="#l27.23"></a><span id="l27.23">  *  subject, body, and attachment name are populated using the encodings in</span>
<a href="#l27.24"></a><span id="l27.24">  *  the phrase's &quot;encodings&quot; attribute, one encoding per message.  Make sure</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mailnews/extensions/bayesian-spam-filter/test/unit/test_traits.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -78,17 +78,22 @@ var tests = [</span>
<a href="#l28.4"></a><span id="l28.4">   {</span>
<a href="#l28.5"></a><span id="l28.5">     command: kClass,</span>
<a href="#l28.6"></a><span id="l28.6">     fileName: &quot;spam1.eml,spam2.eml,spam3.eml,spam4.eml&quot;,</span>
<a href="#l28.7"></a><span id="l28.7">     traitIds: [4, 6],</span>
<a href="#l28.8"></a><span id="l28.8">     traitAntiIds: [3, 5],</span>
<a href="#l28.9"></a><span id="l28.9">     // spam1 trained as &quot;pro&quot; for first pro/anti pair</span>
<a href="#l28.10"></a><span id="l28.10">     // spam4 trained as &quot;anti&quot; for second pro/anti pair</span>
<a href="#l28.11"></a><span id="l28.11">     // others are partials</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-    percents: [[100, 50], [81, 0], [98, 50], [81, 0]],</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+    percents: [</span>
<a href="#l28.14"></a><span id="l28.14" class="difflineplus">+      [100, 50],</span>
<a href="#l28.15"></a><span id="l28.15" class="difflineplus">+      [81, 0],</span>
<a href="#l28.16"></a><span id="l28.16" class="difflineplus">+      [98, 50],</span>
<a href="#l28.17"></a><span id="l28.17" class="difflineplus">+      [81, 0],</span>
<a href="#l28.18"></a><span id="l28.18" class="difflineplus">+    ],</span>
<a href="#l28.19"></a><span id="l28.19">   },</span>
<a href="#l28.20"></a><span id="l28.20">   // reset the plugin, read in data, and retest the classification</span>
<a href="#l28.21"></a><span id="l28.21">   // this tests the trait file writing</span>
<a href="#l28.22"></a><span id="l28.22">   {</span>
<a href="#l28.23"></a><span id="l28.23">     command: kReset,</span>
<a href="#l28.24"></a><span id="l28.24">   },</span>
<a href="#l28.25"></a><span id="l28.25">   {</span>
<a href="#l28.26"></a><span id="l28.26">     command: kClass,</span>
<a href="#l28.27"></a><span id="l28.27" class="difflineat">@@ -104,17 +109,22 @@ var tests = [</span>
<a href="#l28.28"></a><span id="l28.28">     traitAntiIds: [3, 5],</span>
<a href="#l28.29"></a><span id="l28.29">     percents: [[8, 95]],</span>
<a href="#l28.30"></a><span id="l28.30">   },</span>
<a href="#l28.31"></a><span id="l28.31">   {</span>
<a href="#l28.32"></a><span id="l28.32">     command: kClass,</span>
<a href="#l28.33"></a><span id="l28.33">     fileName: &quot;spam1.eml,spam2.eml,spam3.eml,spam4.eml&quot;,</span>
<a href="#l28.34"></a><span id="l28.34">     traitIds: [4, 6],</span>
<a href="#l28.35"></a><span id="l28.35">     traitAntiIds: [3, 5],</span>
<a href="#l28.36"></a><span id="l28.36" class="difflineminus">-    percents: [[100, 50], [81, 0], [98, 50], [81, 0]],</span>
<a href="#l28.37"></a><span id="l28.37" class="difflineplus">+    percents: [</span>
<a href="#l28.38"></a><span id="l28.38" class="difflineplus">+      [100, 50],</span>
<a href="#l28.39"></a><span id="l28.39" class="difflineplus">+      [81, 0],</span>
<a href="#l28.40"></a><span id="l28.40" class="difflineplus">+      [98, 50],</span>
<a href="#l28.41"></a><span id="l28.41" class="difflineplus">+      [81, 0],</span>
<a href="#l28.42"></a><span id="l28.42" class="difflineplus">+    ],</span>
<a href="#l28.43"></a><span id="l28.43">   },</span>
<a href="#l28.44"></a><span id="l28.44"> ];</span>
<a href="#l28.45"></a><span id="l28.45"> </span>
<a href="#l28.46"></a><span id="l28.46"> // main test</span>
<a href="#l28.47"></a><span id="l28.47"> function run_test() {</span>
<a href="#l28.48"></a><span id="l28.48">   localAccountUtils.loadLocalMailAccount();</span>
<a href="#l28.49"></a><span id="l28.49">   do_test_pending();</span>
<a href="#l28.50"></a><span id="l28.50"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/mailnews/mime/jsmime/test/unit/test_header.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/mailnews/mime/jsmime/test/unit/test_header.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -449,17 +449,20 @@ define(function(require) {</span>
<a href="#l29.4"></a><span id="l29.4">           ],</span>
<a href="#l29.5"></a><span id="l29.5">         ],</span>
<a href="#l29.6"></a><span id="l29.6">         [</span>
<a href="#l29.7"></a><span id="l29.7">           &quot;Undisclosed recipients:;&quot;,</span>
<a href="#l29.8"></a><span id="l29.8">           [{ name: &quot;Undisclosed recipients&quot;, group: [] }],</span>
<a href="#l29.9"></a><span id="l29.9">         ],</span>
<a href="#l29.10"></a><span id="l29.10">         [</span>
<a href="#l29.11"></a><span id="l29.11">           '&quot; &quot;@a a;b',</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-          [{ name: &quot;&quot;, email: '&quot; &quot;@a a' }, { name: &quot;b&quot;, email: &quot;&quot; }],</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+          [</span>
<a href="#l29.14"></a><span id="l29.14" class="difflineplus">+            { name: &quot;&quot;, email: '&quot; &quot;@a a' },</span>
<a href="#l29.15"></a><span id="l29.15" class="difflineplus">+            { name: &quot;b&quot;, email: &quot;&quot; },</span>
<a href="#l29.16"></a><span id="l29.16" class="difflineplus">+          ],</span>
<a href="#l29.17"></a><span id="l29.17">         ],</span>
<a href="#l29.18"></a><span id="l29.18">         [</span>
<a href="#l29.19"></a><span id="l29.19">           &quot;Undisclosed recipients:;\0:; foo &lt;ghj@veryveryveryverylongveryveryver&quot; +</span>
<a href="#l29.20"></a><span id="l29.20">             &quot;yveryinvalidaddress.invalid&gt;&quot;,</span>
<a href="#l29.21"></a><span id="l29.21">           [</span>
<a href="#l29.22"></a><span id="l29.22">             { name: &quot;Undisclosed recipients&quot;, group: [] },</span>
<a href="#l29.23"></a><span id="l29.23">             {</span>
<a href="#l29.24"></a><span id="l29.24">               name: &quot;foo&quot;,</span>
<a href="#l29.25"></a><span id="l29.25" class="difflineat">@@ -467,17 +470,20 @@ define(function(require) {</span>
<a href="#l29.26"></a><span id="l29.26">                 &quot;ghj@veryveryveryverylongveryveryveryveryinvali&quot; +</span>
<a href="#l29.27"></a><span id="l29.27">                 &quot;daddress.invalid&quot;,</span>
<a href="#l29.28"></a><span id="l29.28">             },</span>
<a href="#l29.29"></a><span id="l29.29">           ],</span>
<a href="#l29.30"></a><span id="l29.30">         ],</span>
<a href="#l29.31"></a><span id="l29.31">         // XXX: test_nsIMsgHeaderParser2 has an empty one here...</span>
<a href="#l29.32"></a><span id="l29.32">         [</span>
<a href="#l29.33"></a><span id="l29.33">           &quot;&lt;a;a@invalid&quot;,</span>
<a href="#l29.34"></a><span id="l29.34" class="difflineminus">-          [{ name: &quot;&quot;, email: &quot;a&quot; }, { name: &quot;&quot;, email: &quot;a@invalid&quot; }],</span>
<a href="#l29.35"></a><span id="l29.35" class="difflineplus">+          [</span>
<a href="#l29.36"></a><span id="l29.36" class="difflineplus">+            { name: &quot;&quot;, email: &quot;a&quot; },</span>
<a href="#l29.37"></a><span id="l29.37" class="difflineplus">+            { name: &quot;&quot;, email: &quot;a@invalid&quot; },</span>
<a href="#l29.38"></a><span id="l29.38" class="difflineplus">+          ],</span>
<a href="#l29.39"></a><span id="l29.39">         ],</span>
<a href="#l29.40"></a><span id="l29.40">         [&quot;me@foo.invalid&quot;, [{ name: &quot;&quot;, email: &quot;me@foo.invalid&quot; }]],</span>
<a href="#l29.41"></a><span id="l29.41">         [</span>
<a href="#l29.42"></a><span id="l29.42">           &quot;me@foo.invalid, me2@foo.invalid&quot;,</span>
<a href="#l29.43"></a><span id="l29.43">           [</span>
<a href="#l29.44"></a><span id="l29.44">             { name: &quot;&quot;, email: &quot;me@foo.invalid&quot; },</span>
<a href="#l29.45"></a><span id="l29.45">             { name: &quot;&quot;, email: &quot;me2@foo.invalid&quot; },</span>
<a href="#l29.46"></a><span id="l29.46">           ],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/mailnews/mime/jsmime/test/unit/test_header_emitter.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/mailnews/mime/jsmime/test/unit/test_header_emitter.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -36,21 +36,27 @@ define(function(require) {</span>
<a href="#l30.4"></a><span id="l30.4">       let header_tests = [</span>
<a href="#l30.5"></a><span id="l30.5">         [[{ name: &quot;&quot;, email: &quot;&quot; }], &quot;&quot;],</span>
<a href="#l30.6"></a><span id="l30.6">         [[{ name: &quot;&quot;, email: &quot;a@example.com&quot; }], &quot;a@example.com&quot;],</span>
<a href="#l30.7"></a><span id="l30.7">         [</span>
<a href="#l30.8"></a><span id="l30.8">           [{ name: &quot;John Doe&quot;, email: &quot;a@example.com&quot; }],</span>
<a href="#l30.9"></a><span id="l30.9">           &quot;John Doe &lt;a@example.com&gt;&quot;,</span>
<a href="#l30.10"></a><span id="l30.10">         ],</span>
<a href="#l30.11"></a><span id="l30.11">         [</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-          [{ name: &quot;&quot;, email: &quot;a@b.c&quot; }, { name: &quot;&quot;, email: &quot;b@b.c&quot; }],</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineplus">+          [</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineplus">+            { name: &quot;&quot;, email: &quot;a@b.c&quot; },</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineplus">+            { name: &quot;&quot;, email: &quot;b@b.c&quot; },</span>
<a href="#l30.16"></a><span id="l30.16" class="difflineplus">+          ],</span>
<a href="#l30.17"></a><span id="l30.17">           &quot;a@b.c, b@b.c&quot;,</span>
<a href="#l30.18"></a><span id="l30.18">         ],</span>
<a href="#l30.19"></a><span id="l30.19">         [</span>
<a href="#l30.20"></a><span id="l30.20" class="difflineminus">-          [{ name: &quot;JD&quot;, email: &quot;a@a.c&quot; }, { name: &quot;SD&quot;, email: &quot;b@b.c&quot; }],</span>
<a href="#l30.21"></a><span id="l30.21" class="difflineplus">+          [</span>
<a href="#l30.22"></a><span id="l30.22" class="difflineplus">+            { name: &quot;JD&quot;, email: &quot;a@a.c&quot; },</span>
<a href="#l30.23"></a><span id="l30.23" class="difflineplus">+            { name: &quot;SD&quot;, email: &quot;b@b.c&quot; },</span>
<a href="#l30.24"></a><span id="l30.24" class="difflineplus">+          ],</span>
<a href="#l30.25"></a><span id="l30.25">           &quot;JD &lt;a@a.c&gt;, SD &lt;b@b.c&gt;&quot;,</span>
<a href="#l30.26"></a><span id="l30.26">         ],</span>
<a href="#l30.27"></a><span id="l30.27">         [</span>
<a href="#l30.28"></a><span id="l30.28">           [</span>
<a href="#l30.29"></a><span id="l30.29">             { name: &quot;John Doe&quot;, email: &quot;a@example.com&quot; },</span>
<a href="#l30.30"></a><span id="l30.30">             { name: &quot;Sally Doe&quot;, email: &quot;b@example.com&quot; },</span>
<a href="#l30.31"></a><span id="l30.31">           ],</span>
<a href="#l30.32"></a><span id="l30.32">           &quot;John Doe &lt;a@example.com&gt;,\r\n Sally Doe &lt;b@example.com&gt;&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_nsIMsgHeaderParser4.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -11,17 +11,20 @@ function run_test() {</span>
<a href="#l31.4"></a><span id="l31.4">   const checks = [</span>
<a href="#l31.5"></a><span id="l31.5">     { displayString: &quot;&quot;, addresses: [] },</span>
<a href="#l31.6"></a><span id="l31.6">     {</span>
<a href="#l31.7"></a><span id="l31.7">       displayString: &quot;test@foo.invalid&quot;,</span>
<a href="#l31.8"></a><span id="l31.8">       addresses: [[&quot;&quot;, &quot;test@foo.invalid&quot;]],</span>
<a href="#l31.9"></a><span id="l31.9">     },</span>
<a href="#l31.10"></a><span id="l31.10">     {</span>
<a href="#l31.11"></a><span id="l31.11">       displayString: &quot;test@foo.invalid, test2@foo.invalid&quot;,</span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-      addresses: [[&quot;&quot;, &quot;test@foo.invalid&quot;], [&quot;&quot;, &quot;test2@foo.invalid&quot;]],</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineplus">+      addresses: [</span>
<a href="#l31.14"></a><span id="l31.14" class="difflineplus">+        [&quot;&quot;, &quot;test@foo.invalid&quot;],</span>
<a href="#l31.15"></a><span id="l31.15" class="difflineplus">+        [&quot;&quot;, &quot;test2@foo.invalid&quot;],</span>
<a href="#l31.16"></a><span id="l31.16" class="difflineplus">+      ],</span>
<a href="#l31.17"></a><span id="l31.17">     },</span>
<a href="#l31.18"></a><span id="l31.18">     {</span>
<a href="#l31.19"></a><span id="l31.19">       displayString: &quot;John Doe &lt;test@foo.invalid&gt;&quot;,</span>
<a href="#l31.20"></a><span id="l31.20">       addresses: [[&quot;John Doe&quot;, &quot;test@foo.invalid&quot;]],</span>
<a href="#l31.21"></a><span id="l31.21">     },</span>
<a href="#l31.22"></a><span id="l31.22">     // Trim spaces.</span>
<a href="#l31.23"></a><span id="l31.23">     {</span>
<a href="#l31.24"></a><span id="l31.24">       displayString: &quot;  John Doe  &lt;test@foo.invalid&gt;&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/mailnews/mime/test/unit/test_nsIMsgHeaderParser5.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -75,18 +75,24 @@ function run_test() {</span>
<a href="#l32.4"></a><span id="l32.4">       [{ name: &quot;null=?UTF-8?B?AA==?=byte&quot;, email: &quot;nullbyte@example.com&quot; }],</span>
<a href="#l32.5"></a><span id="l32.5">       [{ name: &quot;nullbyte&quot;, email: &quot;nullbyte@example.com&quot; }],</span>
<a href="#l32.6"></a><span id="l32.6">     ],</span>
<a href="#l32.7"></a><span id="l32.7">     [&quot;&quot;, [], []],</span>
<a href="#l32.8"></a><span id="l32.8">     [&quot; \r\n\t&quot;, [], []],</span>
<a href="#l32.9"></a><span id="l32.9">     [</span>
<a href="#l32.10"></a><span id="l32.10">       // This used to cause memory read overruns.</span>
<a href="#l32.11"></a><span id="l32.11">       '&quot; &quot;@a a;b',</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-      [{ name: &quot;&quot;, email: '&quot; &quot;@a a' }, { name: &quot;b&quot;, email: &quot;&quot; }],</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineminus">-      [{ name: &quot;&quot;, email: &quot;@a a&quot; }, { name: &quot;b&quot;, email: &quot;&quot; }],</span>
<a href="#l32.14"></a><span id="l32.14" class="difflineplus">+      [</span>
<a href="#l32.15"></a><span id="l32.15" class="difflineplus">+        { name: &quot;&quot;, email: '&quot; &quot;@a a' },</span>
<a href="#l32.16"></a><span id="l32.16" class="difflineplus">+        { name: &quot;b&quot;, email: &quot;&quot; },</span>
<a href="#l32.17"></a><span id="l32.17" class="difflineplus">+      ],</span>
<a href="#l32.18"></a><span id="l32.18" class="difflineplus">+      [</span>
<a href="#l32.19"></a><span id="l32.19" class="difflineplus">+        { name: &quot;&quot;, email: &quot;@a a&quot; },</span>
<a href="#l32.20"></a><span id="l32.20" class="difflineplus">+        { name: &quot;b&quot;, email: &quot;&quot; },</span>
<a href="#l32.21"></a><span id="l32.21" class="difflineplus">+      ],</span>
<a href="#l32.22"></a><span id="l32.22">     ],</span>
<a href="#l32.23"></a><span id="l32.23">   ];</span>
<a href="#l32.24"></a><span id="l32.24"> </span>
<a href="#l32.25"></a><span id="l32.25">   for (let check of checks) {</span>
<a href="#l32.26"></a><span id="l32.26">     equalArrays(</span>
<a href="#l32.27"></a><span id="l32.27">       MailServices.headerParser.parseDecodedHeader(check[0]),</span>
<a href="#l32.28"></a><span id="l32.28">       check[1]</span>
<a href="#l32.29"></a><span id="l32.29">     );</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:31Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

