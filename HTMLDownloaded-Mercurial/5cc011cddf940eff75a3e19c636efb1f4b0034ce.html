<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 7054:5cc011cddf940eff75a3e19c636efb1f4b0034ce</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 5cc011cddf940eff75a3e19c636efb1f4b0034ce" />
<meta property="og:url" content="/comm-central/rev/5cc011cddf940eff75a3e19c636efb1f4b0034ce" />
<meta property="og:description" content="Fix bug 407915 - Snooze handling in new reminder dialog is hardly usable. r=nomisvai" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 5cc011cddf940eff75a3e19c636efb1f4b0034ce 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/5cc011cddf940eff75a3e19c636efb1f4b0034ce">shortlog</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/5cc011cddf940eff75a3e19c636efb1f4b0034ce">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce">files</a> |
changeset |
<a href="/comm-central/raw-rev/5cc011cddf940eff75a3e19c636efb1f4b0034ce">raw</a>  | <a href="/comm-central/archive/5cc011cddf940eff75a3e19c636efb1f4b0034ce.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
Fix <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=407915">bug 407915</a> - Snooze handling in new reminder dialog is hardly usable. r=nomisvai
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#112;&#32;&#75;&#101;&#119;&#105;&#115;&#99;&#104;&#32;&#60;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 11 Jan 2011 13:16:00 +0100</td></tr>

<tr>
 <td>changeset 7054</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/5cc011cddf940eff75a3e19c636efb1f4b0034ce">5cc011cddf940eff75a3e19c636efb1f4b0034ce</a></td>
</tr>



<tr>
<td>parent 7053</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/509beb97a3db19f5734bf88e0ea4b3c3be70778b">509beb97a3db19f5734bf88e0ea4b3c3be70778b</a>
</td>
</tr>

<tr>
<td>child 7055</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/ff0d7c84a7bf8dc2c151352446dd148eadb83226">ff0d7c84a7bf8dc2c151352446dd148eadb83226</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=5cc011cddf940eff75a3e19c636efb1f4b0034ce">5398</a></td></tr>
<tr><td>push user</td><td>mozilla@kewis.ch</td></tr>
<tr><td>push date</td><td class="date age">Tue, 01 Feb 2011 16:57:45 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@ff0d7c84a7bf [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=ff0d7c84a7bf8dc2c151352446dd148eadb83226">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=ff0d7c84a7bf8dc2c151352446dd148eadb83226&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=ff0d7c84a7bf8dc2c151352446dd148eadb83226&newProject=comm-central&newRevision=5cc011cddf940eff75a3e19c636efb1f4b0034ce&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=ff0d7c84a7bf8dc2c151352446dd148eadb83226&newProject=comm-central&newRevision=5cc011cddf940eff75a3e19c636efb1f4b0034ce&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=ff0d7c84a7bf8dc2c151352446dd148eadb83226&newProject=comm-central&newRevision=5cc011cddf940eff75a3e19c636efb1f4b0034ce&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28nomisvai%29&revcount=50">nomisvai</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=407915">407915</a></td></tr>




</table></div>

<div class="page_body description">Fix <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=407915">bug 407915</a> - Snooze handling in new reminder dialog is hardly usable. r=nomisvai</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-snooze-popup.js">calendar/base/content/calendar-alarm-snooze-popup.js</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-snooze-popup.js">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-snooze-popup.js">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-snooze-popup.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-snooze-popup.xul">calendar/base/content/calendar-alarm-snooze-popup.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-snooze-popup.xul">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-snooze-popup.xul">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-snooze-popup.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-widget.xml">calendar/base/content/calendar-alarm-widget.xml</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-widget.xml">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-widget.xml">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/calendar-alarm-widget.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.js">calendar/base/content/dialogs/calendar-alarm-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.js">file</a> |
<a href="/comm-central/annotate/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.js">annotate</a> |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.js">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.js">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.xul">calendar/base/content/dialogs/calendar-alarm-dialog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.xul">file</a> |
<a href="/comm-central/annotate/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.xul">annotate</a> |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.xul">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.xul">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/dialogs/calendar-alarm-dialog.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/widgets/calendar-alarm-widget.xml">calendar/base/content/widgets/calendar-alarm-widget.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/widgets/calendar-alarm-widget.xml">file</a> |
<a href="/comm-central/annotate/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/widgets/calendar-alarm-widget.xml">annotate</a> |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/widgets/calendar-alarm-widget.xml">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/widgets/calendar-alarm-widget.xml">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/content/widgets/calendar-alarm-widget.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/jar.mn">calendar/base/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/jar.mn">file</a> |
<a href="/comm-central/annotate/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/jar.mn">annotate</a> |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/jar.mn">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/jar.mn">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css">calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css">file</a> |
<a href="/comm-central/annotate/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css">annotate</a> |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css">calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css">file</a> |
<a href="/comm-central/annotate/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css">annotate</a> |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar-alarms.properties">calendar/locales/en-US/chrome/calendar/calendar-alarms.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar-alarms.properties">file</a> |
<a href="/comm-central/annotate/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar-alarms.properties">annotate</a> |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar-alarms.properties">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar-alarms.properties">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar-alarms.properties">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar.dtd">calendar/locales/en-US/chrome/calendar/calendar.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar.dtd">file</a> |
<a href="/comm-central/annotate/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar.dtd">annotate</a> |
<a href="/comm-central/diff/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar.dtd">diff</a> |
<a href="/comm-central/comparison/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar.dtd">comparison</a> |
<a href="/comm-central/log/5cc011cddf940eff75a3e19c636efb1f4b0034ce/calendar/locales/en-US/chrome/calendar/calendar.dtd">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1">deleted file mode 100644</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineminus">--- a/calendar/base/content/calendar-alarm-snooze-popup.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineplus">+++ /dev/null</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineat">@@ -1,187 +0,0 @@</span>
<a href="#l1.5"></a><span id="l1.5" class="difflineminus">-/* ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineminus">- * Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l1.7"></a><span id="l1.7" class="difflineminus">- *</span>
<a href="#l1.8"></a><span id="l1.8" class="difflineminus">- * The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l1.9"></a><span id="l1.9" class="difflineminus">- * 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l1.10"></a><span id="l1.10" class="difflineminus">- * the License. You may obtain a copy of the License at</span>
<a href="#l1.11"></a><span id="l1.11" class="difflineminus">- * http://www.mozilla.org/MPL/</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">- *</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">- * Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">- * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">- * for the specific language governing rights and limitations under the</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">- * License.</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">- *</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">- * The Original Code is Mozilla Calendar code.</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">- *</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineminus">- * The Initial Developer of the Original Code is</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineminus">- *   Philipp Kewisch &lt;mozilla@kewis.ch&gt;</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineminus">- * Portions created by the Initial Developer are Copyright (C) 2007</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineminus">- * the Initial Developer. All Rights Reserved.</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineminus">- *</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineminus">- * Contributor(s):</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineminus">- *</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineminus">- * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">- * either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">- * the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineminus">- * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">- * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineminus">- * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineminus">- * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineminus">- * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineminus">- * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineminus">- * the provisions above, a recipient may use your version of this file under</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineminus">- * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineminus">- *</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineminus">- * ***** END LICENSE BLOCK ***** */</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineminus">-</span>
<a href="#l1.41"></a><span id="l1.41" class="difflineminus">-/*</span>
<a href="#l1.42"></a><span id="l1.42" class="difflineminus">- * In case you need to work around having a popup in a popup, this seems to do</span>
<a href="#l1.43"></a><span id="l1.43" class="difflineminus">- * it. The trick is to create a window, style it like a popup and make it depend</span>
<a href="#l1.44"></a><span id="l1.44" class="difflineminus">- * on its opener.</span>
<a href="#l1.45"></a><span id="l1.45" class="difflineminus">- *</span>
<a href="#l1.46"></a><span id="l1.46" class="difflineminus">- * Regarding the window, it is important to set the hidechrome=&quot;true&quot; attribute,</span>
<a href="#l1.47"></a><span id="l1.47" class="difflineminus">- * use blur, mouseout, keydown handlers as in the functions below.</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineminus">- *</span>
<a href="#l1.49"></a><span id="l1.49" class="difflineminus">- * To mimic the menupopup, I used a radiogroup with some automatic selecting. Be</span>
<a href="#l1.50"></a><span id="l1.50" class="difflineminus">- * sure to focus the radiogroup on window load, and add handlers for click and</span>
<a href="#l1.51"></a><span id="l1.51" class="difflineminus">- * keypress.</span>
<a href="#l1.52"></a><span id="l1.52" class="difflineminus">- *</span>
<a href="#l1.53"></a><span id="l1.53" class="difflineminus">- * In the opening dialog, use window.openDialog with the following window</span>
<a href="#l1.54"></a><span id="l1.54" class="difflineminus">- * options:</span>
<a href="#l1.55"></a><span id="l1.55" class="difflineminus">- *   &quot;chrome,titlebar=no,dependent=yes&quot;</span>
<a href="#l1.56"></a><span id="l1.56" class="difflineminus">- * Additionally, you will want to set top and left options just below the</span>
<a href="#l1.57"></a><span id="l1.57" class="difflineminus">- * opening button/menu.</span>
<a href="#l1.58"></a><span id="l1.58" class="difflineminus">- */</span>
<a href="#l1.59"></a><span id="l1.59" class="difflineminus">-</span>
<a href="#l1.60"></a><span id="l1.60" class="difflineminus">-/**</span>
<a href="#l1.61"></a><span id="l1.61" class="difflineminus">- * Function to setup the default snooze length for the textbox and its unit</span>
<a href="#l1.62"></a><span id="l1.62" class="difflineminus">- * menulist.</span>
<a href="#l1.63"></a><span id="l1.63" class="difflineminus">- */</span>
<a href="#l1.64"></a><span id="l1.64" class="difflineminus">-function setupDefaultSnooze() {</span>
<a href="#l1.65"></a><span id="l1.65" class="difflineminus">-    var snoozePref = getPrefSafe(&quot;calendar.alarms.defaultsnoozelength&quot;, 0);</span>
<a href="#l1.66"></a><span id="l1.66" class="difflineminus">-    if (snoozePref &lt;= 0) {</span>
<a href="#l1.67"></a><span id="l1.67" class="difflineminus">-        snoozePref = 5;</span>
<a href="#l1.68"></a><span id="l1.68" class="difflineminus">-    }</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineminus">-</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineminus">-    if ((snoozePref % 60) == 0) {</span>
<a href="#l1.71"></a><span id="l1.71" class="difflineminus">-        snoozePref = snoozePref / 60;</span>
<a href="#l1.72"></a><span id="l1.72" class="difflineminus">-        if ((snoozePref % 24) == 0) {</span>
<a href="#l1.73"></a><span id="l1.73" class="difflineminus">-            snoozePref = snoozePref / 24;</span>
<a href="#l1.74"></a><span id="l1.74" class="difflineminus">-            document.getElementById(&quot;custom-menupopup-alarm-unit&quot;).selectedIndex = 2; // Hours</span>
<a href="#l1.75"></a><span id="l1.75" class="difflineminus">-        } else {</span>
<a href="#l1.76"></a><span id="l1.76" class="difflineminus">-            document.getElementById(&quot;custom-menupopup-alarm-unit&quot;).selectedIndex = 1; // Days</span>
<a href="#l1.77"></a><span id="l1.77" class="difflineminus">-        }</span>
<a href="#l1.78"></a><span id="l1.78" class="difflineminus">-    }</span>
<a href="#l1.79"></a><span id="l1.79" class="difflineminus">-</span>
<a href="#l1.80"></a><span id="l1.80" class="difflineminus">-    document.getElementById(&quot;custom-menupopup-alarm-value&quot;).value = snoozePref;</span>
<a href="#l1.81"></a><span id="l1.81" class="difflineminus">-    checkSnoozeValue();</span>
<a href="#l1.82"></a><span id="l1.82" class="difflineminus">-}</span>
<a href="#l1.83"></a><span id="l1.83" class="difflineminus">-</span>
<a href="#l1.84"></a><span id="l1.84" class="difflineminus">-/**</span>
<a href="#l1.85"></a><span id="l1.85" class="difflineminus">- * Check the snooze value for a valid positive integer, disabling the accept</span>
<a href="#l1.86"></a><span id="l1.86" class="difflineminus">- * button if it is not found.</span>
<a href="#l1.87"></a><span id="l1.87" class="difflineminus">- */</span>
<a href="#l1.88"></a><span id="l1.88" class="difflineminus">-function checkSnoozeValue() {</span>
<a href="#l1.89"></a><span id="l1.89" class="difflineminus">-    var snoozeValue = parseInt(document.getElementById(&quot;custom-menupopup-alarm-value&quot;).value);</span>
<a href="#l1.90"></a><span id="l1.90" class="difflineminus">-    document.getElementById(&quot;custom-menupopup-alarm-button&quot;).disabled = !(snoozeValue &gt; 0);</span>
<a href="#l1.91"></a><span id="l1.91" class="difflineminus">-}</span>
<a href="#l1.92"></a><span id="l1.92" class="difflineminus">-</span>
<a href="#l1.93"></a><span id="l1.93" class="difflineminus">-function windowLoad(event) {</span>
<a href="#l1.94"></a><span id="l1.94" class="difflineminus">-    setupDefaultSnooze();</span>
<a href="#l1.95"></a><span id="l1.95" class="difflineminus">-}</span>
<a href="#l1.96"></a><span id="l1.96" class="difflineminus">-</span>
<a href="#l1.97"></a><span id="l1.97" class="difflineminus">-function windowBlur(event) {</span>
<a href="#l1.98"></a><span id="l1.98" class="difflineminus">-    // Only close the window, if the targeted element is not in the window.</span>
<a href="#l1.99"></a><span id="l1.99" class="difflineminus">-    if (event.target.localName == null) {</span>
<a href="#l1.100"></a><span id="l1.100" class="difflineminus">-        window.close();</span>
<a href="#l1.101"></a><span id="l1.101" class="difflineminus">-    }</span>
<a href="#l1.102"></a><span id="l1.102" class="difflineminus">-}</span>
<a href="#l1.103"></a><span id="l1.103" class="difflineminus">-</span>
<a href="#l1.104"></a><span id="l1.104" class="difflineminus">-function windowMouseOut(event) {</span>
<a href="#l1.105"></a><span id="l1.105" class="difflineminus">-    try {</span>
<a href="#l1.106"></a><span id="l1.106" class="difflineminus">-        document.getElementById(&quot;custom-menupopup-radiogroup&quot;)</span>
<a href="#l1.107"></a><span id="l1.107" class="difflineminus">-                .selectedItem = null;</span>
<a href="#l1.108"></a><span id="l1.108" class="difflineminus">-    } catch (e) {</span>
<a href="#l1.109"></a><span id="l1.109" class="difflineminus">-        // Catch the error that happens when unselecting all items.</span>
<a href="#l1.110"></a><span id="l1.110" class="difflineminus">-    }</span>
<a href="#l1.111"></a><span id="l1.111" class="difflineminus">-}</span>
<a href="#l1.112"></a><span id="l1.112" class="difflineminus">-</span>
<a href="#l1.113"></a><span id="l1.113" class="difflineminus">-function windowKeyDown(event) {</span>
<a href="#l1.114"></a><span id="l1.114" class="difflineminus">-    // Pressing any other key not mentioned here in the radiogroup should close</span>
<a href="#l1.115"></a><span id="l1.115" class="difflineminus">-    // the window to mimic menupopup behavior</span>
<a href="#l1.116"></a><span id="l1.116" class="difflineminus">-    var allowedKeys = [ event.DOM_VK_DOWN,</span>
<a href="#l1.117"></a><span id="l1.117" class="difflineminus">-                        event.DOM_VK_UP,</span>
<a href="#l1.118"></a><span id="l1.118" class="difflineminus">-                        event.DOM_VK_RETURN,</span>
<a href="#l1.119"></a><span id="l1.119" class="difflineminus">-                        event.DOM_VK_ENTER,</span>
<a href="#l1.120"></a><span id="l1.120" class="difflineminus">-                        event.DOM_VK_TAB ];</span>
<a href="#l1.121"></a><span id="l1.121" class="difflineminus">-    if (event.target.localName == &quot;radiogroup&quot; &amp;&amp;</span>
<a href="#l1.122"></a><span id="l1.122" class="difflineminus">-        allowedKeys.indexOf(event.keyCode) &lt; 0) {</span>
<a href="#l1.123"></a><span id="l1.123" class="difflineminus">-        window.close();</span>
<a href="#l1.124"></a><span id="l1.124" class="difflineminus">-    }</span>
<a href="#l1.125"></a><span id="l1.125" class="difflineminus">-</span>
<a href="#l1.126"></a><span id="l1.126" class="difflineminus">-    // Pressing any of the following keys should definitely close the window.</span>
<a href="#l1.127"></a><span id="l1.127" class="difflineminus">-    var closerKeys = [ event.DOM_VK_ESCAPE ];</span>
<a href="#l1.128"></a><span id="l1.128" class="difflineminus">-    if (closerKeys.indexOf(event.keyCode) &gt; -1) {</span>
<a href="#l1.129"></a><span id="l1.129" class="difflineminus">-        window.close();</span>
<a href="#l1.130"></a><span id="l1.130" class="difflineminus">-    }</span>
<a href="#l1.131"></a><span id="l1.131" class="difflineminus">-</span>
<a href="#l1.132"></a><span id="l1.132" class="difflineminus">-    if (event.keyCode == event.DOM_VK_DOWN &amp;&amp;</span>
<a href="#l1.133"></a><span id="l1.133" class="difflineminus">-        event.target.localName == &quot;window&quot;) {</span>
<a href="#l1.134"></a><span id="l1.134" class="difflineminus">-        // If the window is focused and the down key is pressed, we want the</span>
<a href="#l1.135"></a><span id="l1.135" class="difflineminus">-        // first item to be selected.</span>
<a href="#l1.136"></a><span id="l1.136" class="difflineminus">-        var radioGroup = document.getElementById(&quot;custom-menupopup-radiogroup&quot;);</span>
<a href="#l1.137"></a><span id="l1.137" class="difflineminus">-        radioGroup.focus();</span>
<a href="#l1.138"></a><span id="l1.138" class="difflineminus">-        radioGroup.selectedItem = radioGroup.lastChild;</span>
<a href="#l1.139"></a><span id="l1.139" class="difflineminus">-    } else if (event.keyCode == event.DOM_VK_UP &amp;&amp;</span>
<a href="#l1.140"></a><span id="l1.140" class="difflineminus">-        event.target.localName == &quot;window&quot;) {</span>
<a href="#l1.141"></a><span id="l1.141" class="difflineminus">-        // If the up key is pressed, we want the last item to be selected.</span>
<a href="#l1.142"></a><span id="l1.142" class="difflineminus">-        var radioGroup = document.getElementById(&quot;custom-menupopup-radiogroup&quot;);</span>
<a href="#l1.143"></a><span id="l1.143" class="difflineminus">-        radioGroup.focus();</span>
<a href="#l1.144"></a><span id="l1.144" class="difflineminus">-        radioGroup.selectedItem = radioGroup.firstChild;</span>
<a href="#l1.145"></a><span id="l1.145" class="difflineminus">-    }</span>
<a href="#l1.146"></a><span id="l1.146" class="difflineminus">-</span>
<a href="#l1.147"></a><span id="l1.147" class="difflineminus">-}</span>
<a href="#l1.148"></a><span id="l1.148" class="difflineminus">-</span>
<a href="#l1.149"></a><span id="l1.149" class="difflineminus">-function radiogroupBlur(event, radiogroup) {</span>
<a href="#l1.150"></a><span id="l1.150" class="difflineminus">-    try {</span>
<a href="#l1.151"></a><span id="l1.151" class="difflineminus">-        // Unselect when leaving the radiogroup.</span>
<a href="#l1.152"></a><span id="l1.152" class="difflineminus">-        document.getElementById(&quot;custom-menupopup-radiogroup&quot;)</span>
<a href="#l1.153"></a><span id="l1.153" class="difflineminus">-                .selectedItem = null;</span>
<a href="#l1.154"></a><span id="l1.154" class="difflineminus">-    } catch (e) {</span>
<a href="#l1.155"></a><span id="l1.155" class="difflineminus">-        // Catch the error that happens when unselecting all items.</span>
<a href="#l1.156"></a><span id="l1.156" class="difflineminus">-    }</span>
<a href="#l1.157"></a><span id="l1.157" class="difflineminus">-}</span>
<a href="#l1.158"></a><span id="l1.158" class="difflineminus">-</span>
<a href="#l1.159"></a><span id="l1.159" class="difflineminus">-function radiogroupMouseOver(event, radiogroup) {</span>
<a href="#l1.160"></a><span id="l1.160" class="difflineminus">-    window.focus();</span>
<a href="#l1.161"></a><span id="l1.161" class="difflineminus">-    // Automatically select the radio when mousing over it.</span>
<a href="#l1.162"></a><span id="l1.162" class="difflineminus">-    radiogroup.selectedItem = event.target;</span>
<a href="#l1.163"></a><span id="l1.163" class="difflineminus">-}</span>
<a href="#l1.164"></a><span id="l1.164" class="difflineminus">-</span>
<a href="#l1.165"></a><span id="l1.165" class="difflineminus">-function radioSnooze(event) {</span>
<a href="#l1.166"></a><span id="l1.166" class="difflineminus">-    // Only certain keys should trigger snoozing.</span>
<a href="#l1.167"></a><span id="l1.167" class="difflineminus">-    if (event.keyCode &amp;&amp;</span>
<a href="#l1.168"></a><span id="l1.168" class="difflineminus">-        event.keyCode != event.DOM_VK_ENTER &amp;&amp;</span>
<a href="#l1.169"></a><span id="l1.169" class="difflineminus">-        event.keyCode != event.DOM_VK_RETURN &amp;&amp;</span>
<a href="#l1.170"></a><span id="l1.170" class="difflineminus">-        event.keyCode != event.DOM_VK_SPACE) {</span>
<a href="#l1.171"></a><span id="l1.171" class="difflineminus">-        return;</span>
<a href="#l1.172"></a><span id="l1.172" class="difflineminus">-    }</span>
<a href="#l1.173"></a><span id="l1.173" class="difflineminus">-</span>
<a href="#l1.174"></a><span id="l1.174" class="difflineminus">-    // The passed window argument is the bound element that opened us. Snooze</span>
<a href="#l1.175"></a><span id="l1.175" class="difflineminus">-    // the connected alarm and close the window.</span>
<a href="#l1.176"></a><span id="l1.176" class="difflineminus">-    window.arguments[0].snoozeAlarm(event.target.value);</span>
<a href="#l1.177"></a><span id="l1.177" class="difflineminus">-    window.close();</span>
<a href="#l1.178"></a><span id="l1.178" class="difflineminus">-}</span>
<a href="#l1.179"></a><span id="l1.179" class="difflineminus">-</span>
<a href="#l1.180"></a><span id="l1.180" class="difflineminus">-function textboxSnooze() {</span>
<a href="#l1.181"></a><span id="l1.181" class="difflineminus">-    var val = document.getElementById(&quot;custom-menupopup-alarm-value&quot;);</span>
<a href="#l1.182"></a><span id="l1.182" class="difflineminus">-    var unit = document.getElementById(&quot;custom-menupopup-alarm-unit&quot;);</span>
<a href="#l1.183"></a><span id="l1.183" class="difflineminus">-</span>
<a href="#l1.184"></a><span id="l1.184" class="difflineminus">-    // The unit value is the multiplier to convert the textbox value into</span>
<a href="#l1.185"></a><span id="l1.185" class="difflineminus">-    // minutes.</span>
<a href="#l1.186"></a><span id="l1.186" class="difflineminus">-    var minutes = val.value * unit.selectedItem.value;</span>
<a href="#l1.187"></a><span id="l1.187" class="difflineminus">-</span>
<a href="#l1.188"></a><span id="l1.188" class="difflineminus">-    // Snooze the connected alarm and close the window.</span>
<a href="#l1.189"></a><span id="l1.189" class="difflineminus">-    window.arguments[0].snoozeAlarm(minutes);</span>
<a href="#l1.190"></a><span id="l1.190" class="difflineminus">-    window.close();</span>
<a href="#l1.191"></a><span id="l1.191" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1">deleted file mode 100644</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineminus">--- a/calendar/base/content/calendar-alarm-snooze-popup.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineplus">+++ /dev/null</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineat">@@ -1,114 +0,0 @@</span>
<a href="#l2.5"></a><span id="l2.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a href="#l2.6"></a><span id="l2.6" class="difflineminus">-&lt;!-- ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l2.7"></a><span id="l2.7" class="difflineminus">-   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l2.8"></a><span id="l2.8" class="difflineminus">-   -</span>
<a href="#l2.9"></a><span id="l2.9" class="difflineminus">-   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l2.10"></a><span id="l2.10" class="difflineminus">-   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l2.11"></a><span id="l2.11" class="difflineminus">-   - the License. You may obtain a copy of the License at</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-   - http://www.mozilla.org/MPL/</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineminus">-   -</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineminus">-   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineminus">-   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineminus">-   - for the specific language governing rights and limitations under the</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineminus">-   - License.</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineminus">-   -</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineminus">-   - The Original Code is Mozilla Calendar code.</span>
<a href="#l2.20"></a><span id="l2.20" class="difflineminus">-   -</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineminus">-   -   Philipp Kewisch &lt;mozilla@kewis.ch&gt;</span>
<a href="#l2.23"></a><span id="l2.23" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 2007</span>
<a href="#l2.24"></a><span id="l2.24" class="difflineminus">-   - the Initial Developer. All Rights Reserved.</span>
<a href="#l2.25"></a><span id="l2.25" class="difflineminus">-   -</span>
<a href="#l2.26"></a><span id="l2.26" class="difflineminus">-   - Contributor(s):</span>
<a href="#l2.27"></a><span id="l2.27" class="difflineminus">-   -</span>
<a href="#l2.28"></a><span id="l2.28" class="difflineminus">-   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l2.29"></a><span id="l2.29" class="difflineminus">-   - either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l2.30"></a><span id="l2.30" class="difflineminus">-   - the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineminus">-   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineminus">-   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineminus">-   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineminus">-   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineminus">-   - and other provisions required by the LGPL or the GPL. If you do not delete</span>
<a href="#l2.37"></a><span id="l2.37" class="difflineminus">-   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l2.38"></a><span id="l2.38" class="difflineminus">-   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l2.39"></a><span id="l2.39" class="difflineminus">-   -</span>
<a href="#l2.40"></a><span id="l2.40" class="difflineminus">-   - ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineminus">-</span>
<a href="#l2.42"></a><span id="l2.42" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.43"></a><span id="l2.43" class="difflineminus">-&lt;?xml-stylesheet href=&quot;chrome://calendar/skin/calendar-alarm-dialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l2.44"></a><span id="l2.44" class="difflineminus">-</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineminus">-&lt;!DOCTYPE dialog</span>
<a href="#l2.46"></a><span id="l2.46" class="difflineminus">-[</span>
<a href="#l2.47"></a><span id="l2.47" class="difflineminus">-  &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l2.48"></a><span id="l2.48" class="difflineminus">-  &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l2.49"></a><span id="l2.49" class="difflineminus">-]&gt;</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineminus">-&lt;window id=&quot;calendar-alarm-snooze-popup-window&quot;</span>
<a href="#l2.52"></a><span id="l2.52" class="difflineminus">-        xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineminus">-        windowtype=&quot;Calendar:SnoozePopup&quot;</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineminus">-        hidechrome=&quot;true&quot;</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineminus">-        title=&quot;&amp;calendar.alarm.snoozefor.label;&quot;</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineminus">-        onkeydown=&quot;windowKeyDown(event)&quot;</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-        onblur=&quot;windowBlur(event)&quot;</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineminus">-        onmouseout=&quot;windowMouseOut(event)&quot;</span>
<a href="#l2.59"></a><span id="l2.59" class="difflineminus">-        onDOMContentLoaded=&quot;window.sizeToContent()&quot;</span>
<a href="#l2.60"></a><span id="l2.60" class="difflineminus">-        onload=&quot;windowLoad(event)&quot;&gt;</span>
<a href="#l2.61"></a><span id="l2.61" class="difflineminus">-&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://calendar/content/calUtils.js&quot;/&gt;</span>
<a href="#l2.62"></a><span id="l2.62" class="difflineminus">-&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://calendar/content/calendar-alarm-dialog.js&quot;/&gt;</span>
<a href="#l2.63"></a><span id="l2.63" class="difflineminus">-&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://calendar/content/calendar-alarm-snooze-popup.js&quot;/&gt;</span>
<a href="#l2.64"></a><span id="l2.64" class="difflineminus">-</span>
<a href="#l2.65"></a><span id="l2.65" class="difflineminus">-&lt;radiogroup id=&quot;custom-menupopup-radiogroup&quot;</span>
<a href="#l2.66"></a><span id="l2.66" class="difflineminus">-            onblur=&quot;radiogroupBlur(event, this)&quot;</span>
<a href="#l2.67"></a><span id="l2.67" class="difflineminus">-            onmouseover=&quot;radiogroupMouseOver(event, this)&quot;&gt;</span>
<a href="#l2.68"></a><span id="l2.68" class="difflineminus">-  &lt;radio label=&quot;&amp;calendar.alarm.snooze.5minutes.label;&quot;</span>
<a href="#l2.69"></a><span id="l2.69" class="difflineminus">-         value=&quot;5&quot;</span>
<a href="#l2.70"></a><span id="l2.70" class="difflineminus">-         onclick=&quot;radioSnooze(event)&quot;</span>
<a href="#l2.71"></a><span id="l2.71" class="difflineminus">-         onkeypress=&quot;radioSnooze(event)&quot;/&gt;</span>
<a href="#l2.72"></a><span id="l2.72" class="difflineminus">-  &lt;radio label=&quot;&amp;calendar.alarm.snooze.10minutes.label;&quot;</span>
<a href="#l2.73"></a><span id="l2.73" class="difflineminus">-         value=&quot;10&quot;</span>
<a href="#l2.74"></a><span id="l2.74" class="difflineminus">-         onclick=&quot;radioSnooze(event)&quot;</span>
<a href="#l2.75"></a><span id="l2.75" class="difflineminus">-         onkeypress=&quot;radioSnooze(event)&quot;/&gt;</span>
<a href="#l2.76"></a><span id="l2.76" class="difflineminus">-  &lt;radio label=&quot;&amp;calendar.alarm.snooze.15minutes.label;&quot;</span>
<a href="#l2.77"></a><span id="l2.77" class="difflineminus">-         value=&quot;15&quot;</span>
<a href="#l2.78"></a><span id="l2.78" class="difflineminus">-         onclick=&quot;radioSnooze(event)&quot;</span>
<a href="#l2.79"></a><span id="l2.79" class="difflineminus">-         onkeypress=&quot;radioSnooze(event)&quot;/&gt;</span>
<a href="#l2.80"></a><span id="l2.80" class="difflineminus">-  &lt;radio label=&quot;&amp;calendar.alarm.snooze.30minutes.label;&quot;</span>
<a href="#l2.81"></a><span id="l2.81" class="difflineminus">-         value=&quot;30&quot;</span>
<a href="#l2.82"></a><span id="l2.82" class="difflineminus">-         onclick=&quot;radioSnooze(event)&quot;</span>
<a href="#l2.83"></a><span id="l2.83" class="difflineminus">-         onkeypress=&quot;radioSnooze(event)&quot;/&gt;</span>
<a href="#l2.84"></a><span id="l2.84" class="difflineminus">-  &lt;radio label=&quot;&amp;calendar.alarm.snooze.45minutes.label;&quot;</span>
<a href="#l2.85"></a><span id="l2.85" class="difflineminus">-         value=&quot;45&quot;</span>
<a href="#l2.86"></a><span id="l2.86" class="difflineminus">-         onclick=&quot;radioSnooze(event)&quot;</span>
<a href="#l2.87"></a><span id="l2.87" class="difflineminus">-         onkeypress=&quot;radioSnooze(event)&quot;/&gt;</span>
<a href="#l2.88"></a><span id="l2.88" class="difflineminus">-  &lt;radio label=&quot;&amp;calendar.alarm.snooze.1hour.label;&quot;</span>
<a href="#l2.89"></a><span id="l2.89" class="difflineminus">-         value=&quot;60&quot;</span>
<a href="#l2.90"></a><span id="l2.90" class="difflineminus">-         onclick=&quot;radioSnooze(event)&quot;</span>
<a href="#l2.91"></a><span id="l2.91" class="difflineminus">-         onkeypress=&quot;radioSnooze(event)&quot;/&gt;</span>
<a href="#l2.92"></a><span id="l2.92" class="difflineminus">-  &lt;radio label=&quot;&amp;calendar.alarm.snooze.2hours.label;&quot;</span>
<a href="#l2.93"></a><span id="l2.93" class="difflineminus">-         value=&quot;120&quot;</span>
<a href="#l2.94"></a><span id="l2.94" class="difflineminus">-         onclick=&quot;radioSnooze(event)&quot;</span>
<a href="#l2.95"></a><span id="l2.95" class="difflineminus">-         onkeypress=&quot;radioSnooze(event)&quot;/&gt;</span>
<a href="#l2.96"></a><span id="l2.96" class="difflineminus">-  &lt;radio label=&quot;&amp;calendar.alarm.snooze.1day.label;&quot;</span>
<a href="#l2.97"></a><span id="l2.97" class="difflineminus">-         value=&quot;1440&quot;</span>
<a href="#l2.98"></a><span id="l2.98" class="difflineminus">-         onclick=&quot;radioSnooze(event)&quot;</span>
<a href="#l2.99"></a><span id="l2.99" class="difflineminus">-         onkeypress=&quot;radioSnooze(event)&quot;/&gt;</span>
<a href="#l2.100"></a><span id="l2.100" class="difflineminus">-&lt;/radiogroup&gt;</span>
<a href="#l2.101"></a><span id="l2.101" class="difflineminus">-&lt;menuseparator/&gt;</span>
<a href="#l2.102"></a><span id="l2.102" class="difflineminus">-&lt;hbox&gt;</span>
<a href="#l2.103"></a><span id="l2.103" class="difflineminus">-  &lt;textbox id=&quot;custom-menupopup-alarm-value&quot;</span>
<a href="#l2.104"></a><span id="l2.104" class="difflineminus">-           size=&quot;3&quot; type=&quot;number&quot; min=&quot;1&quot;</span>
<a href="#l2.105"></a><span id="l2.105" class="difflineminus">-           oninput=&quot;checkSnoozeValue('custom-menupopup-alarm');&quot;/&gt;</span>
<a href="#l2.106"></a><span id="l2.106" class="difflineminus">-  &lt;menulist id=&quot;custom-menupopup-alarm-unit&quot;&gt;</span>
<a href="#l2.107"></a><span id="l2.107" class="difflineminus">-   &lt;menupopup&gt;</span>
<a href="#l2.108"></a><span id="l2.108" class="difflineminus">-     &lt;menuitem label=&quot;&amp;calendar.global.units.minutes;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l2.109"></a><span id="l2.109" class="difflineminus">-     &lt;menuitem label=&quot;&amp;calendar.global.units.hours;&quot; value=&quot;60&quot;/&gt;</span>
<a href="#l2.110"></a><span id="l2.110" class="difflineminus">-     &lt;menuitem label=&quot;&amp;calendar.global.units.days;&quot; value=&quot;1440&quot;/&gt;</span>
<a href="#l2.111"></a><span id="l2.111" class="difflineminus">-   &lt;/menupopup&gt;</span>
<a href="#l2.112"></a><span id="l2.112" class="difflineminus">-  &lt;/menulist&gt;</span>
<a href="#l2.113"></a><span id="l2.113" class="difflineminus">-  &lt;button id=&quot;custom-menupopup-alarm-button&quot;</span>
<a href="#l2.114"></a><span id="l2.114" class="difflineminus">-          class=&quot;custom-menupopup-ok-button&quot;</span>
<a href="#l2.115"></a><span id="l2.115" class="difflineminus">-          oncommand=&quot;textboxSnooze()&quot;/&gt;</span>
<a href="#l2.116"></a><span id="l2.116" class="difflineminus">-  &lt;button class=&quot;custom-menupopup-cancel-button&quot; oncommand=&quot;window.close()&quot;/&gt;</span>
<a href="#l2.117"></a><span id="l2.117" class="difflineminus">-&lt;/hbox&gt;</span>
<a href="#l2.118"></a><span id="l2.118" class="difflineminus">-&lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-alarm-dialog.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -32,16 +32,17 @@</span>
<a href="#l3.4"></a><span id="l3.4">  * decision by deleting the provisions above and replace them with the notice</span>
<a href="#l3.5"></a><span id="l3.5">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l3.6"></a><span id="l3.6">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l3.7"></a><span id="l3.7">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l3.8"></a><span id="l3.8">  *</span>
<a href="#l3.9"></a><span id="l3.9">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11"> Components.utils.import(&quot;resource://gre/modules/PluralForm.jsm&quot;);</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l3.13"></a><span id="l3.13"> </span>
<a href="#l3.14"></a><span id="l3.14"> /**</span>
<a href="#l3.15"></a><span id="l3.15">  * Helper function to get the alarm service and cache it.</span>
<a href="#l3.16"></a><span id="l3.16">  *</span>
<a href="#l3.17"></a><span id="l3.17">  * @return The alarm service component</span>
<a href="#l3.18"></a><span id="l3.18">  */</span>
<a href="#l3.19"></a><span id="l3.19"> function getAlarmService() {</span>
<a href="#l3.20"></a><span id="l3.20">     if (!(&quot;mAlarmService&quot; in window)) {</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineat">@@ -54,18 +55,17 @@ function getAlarmService() {</span>
<a href="#l3.22"></a><span id="l3.22"> /**</span>
<a href="#l3.23"></a><span id="l3.23">  * Event handler for the 'snooze' event. Snoozes the given alarm by the given</span>
<a href="#l3.24"></a><span id="l3.24">  * number of minutes using the alarm service.</span>
<a href="#l3.25"></a><span id="l3.25">  *</span>
<a href="#l3.26"></a><span id="l3.26">  * @param event     The snooze event</span>
<a href="#l3.27"></a><span id="l3.27">  */</span>
<a href="#l3.28"></a><span id="l3.28"> function onSnoozeAlarm(event) {</span>
<a href="#l3.29"></a><span id="l3.29">     // reschedule alarm:</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-    var duration = Components.classes[&quot;@mozilla.org/calendar/duration;1&quot;]</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-                             .createInstance(Components.interfaces.calIDuration);</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+    let duration = cal.createDuration();</span>
<a href="#l3.33"></a><span id="l3.33">     duration.minutes = event.detail;</span>
<a href="#l3.34"></a><span id="l3.34">     duration.normalize();</span>
<a href="#l3.35"></a><span id="l3.35">     getAlarmService().snoozeAlarm(event.target.item, event.target.alarm, duration);</span>
<a href="#l3.36"></a><span id="l3.36"> }</span>
<a href="#l3.37"></a><span id="l3.37"> </span>
<a href="#l3.38"></a><span id="l3.38"> /**</span>
<a href="#l3.39"></a><span id="l3.39">  * Event handler for the 'dismiss' event. Dismisses the given alarm using the</span>
<a href="#l3.40"></a><span id="l3.40">  * alarm service.</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineat">@@ -76,17 +76,17 @@ function onDismissAlarm(event) {</span>
<a href="#l3.42"></a><span id="l3.42">     getAlarmService().dismissAlarm(event.target.item, event.target.alarm);</span>
<a href="#l3.43"></a><span id="l3.43"> }</span>
<a href="#l3.44"></a><span id="l3.44"> </span>
<a href="#l3.45"></a><span id="l3.45"> /**</span>
<a href="#l3.46"></a><span id="l3.46">  * Called to dismiss all alarms in the alarm window.</span>
<a href="#l3.47"></a><span id="l3.47">  */</span>
<a href="#l3.48"></a><span id="l3.48"> function onDismissAllAlarms() {</span>
<a href="#l3.49"></a><span id="l3.49">     // removes widgets on the fly:</span>
<a href="#l3.50"></a><span id="l3.50" class="difflineminus">-    var alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineplus">+    let alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.52"></a><span id="l3.52"> </span>
<a href="#l3.53"></a><span id="l3.53">     // Make a copy of the child nodes as they get modified live</span>
<a href="#l3.54"></a><span id="l3.54">     for each (let node in Array.slice(alarmRichlist.childNodes)) {</span>
<a href="#l3.55"></a><span id="l3.55">         // Check if the node is a valid alarm and is still part of DOM</span>
<a href="#l3.56"></a><span id="l3.56">         if (node.parentNode &amp;&amp; node.item &amp;&amp; node.alarm) {</span>
<a href="#l3.57"></a><span id="l3.57">             getAlarmService().dismissAlarm(node.item, node.alarm);</span>
<a href="#l3.58"></a><span id="l3.58">         }</span>
<a href="#l3.59"></a><span id="l3.59">     }</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineat">@@ -95,58 +95,58 @@ function onDismissAllAlarms() {</span>
<a href="#l3.61"></a><span id="l3.61"> /**</span>
<a href="#l3.62"></a><span id="l3.62">  * Event handler fired when the alarm widget's &quot;Details...&quot; label was clicked.</span>
<a href="#l3.63"></a><span id="l3.63">  * Open the event dialog in the most recent Sunbird or Thunderbird window</span>
<a href="#l3.64"></a><span id="l3.64">  *</span>
<a href="#l3.65"></a><span id="l3.65">  * @param event     The itemdetails event.</span>
<a href="#l3.66"></a><span id="l3.66">  */</span>
<a href="#l3.67"></a><span id="l3.67"> function onItemDetails(event) {</span>
<a href="#l3.68"></a><span id="l3.68">     // We want this to happen in a calendar window.</span>
<a href="#l3.69"></a><span id="l3.69" class="difflineminus">-    var wm = Components.classes[&quot;@mozilla.org/appshell/window-mediator;1&quot;]</span>
<a href="#l3.70"></a><span id="l3.70" class="difflineplus">+    let wm = Components.classes[&quot;@mozilla.org/appshell/window-mediator;1&quot;]</span>
<a href="#l3.71"></a><span id="l3.71">                        .getService(Components.interfaces.nsIWindowMediator);</span>
<a href="#l3.72"></a><span id="l3.72" class="difflineminus">-    var calWindow = wm.getMostRecentWindow(&quot;calendarMainWindow&quot;) ||</span>
<a href="#l3.73"></a><span id="l3.73" class="difflineplus">+    let calWindow = wm.getMostRecentWindow(&quot;calendarMainWindow&quot;) ||</span>
<a href="#l3.74"></a><span id="l3.74">                     wm.getMostRecentWindow(&quot;mail:3pane&quot;);</span>
<a href="#l3.75"></a><span id="l3.75">     calWindow.modifyEventWithDialog(event.target.item, null, true);</span>
<a href="#l3.76"></a><span id="l3.76"> }</span>
<a href="#l3.77"></a><span id="l3.77"> </span>
<a href="#l3.78"></a><span id="l3.78"> /**</span>
<a href="#l3.79"></a><span id="l3.79">  * Sets up the alarm dialog, initializing the default snooze length and setting</span>
<a href="#l3.80"></a><span id="l3.80">  * up the relative date update timer.</span>
<a href="#l3.81"></a><span id="l3.81">  */</span>
<a href="#l3.82"></a><span id="l3.82"> var gRelativeDateUpdateTimer;</span>
<a href="#l3.83"></a><span id="l3.83"> function setupWindow() {</span>
<a href="#l3.84"></a><span id="l3.84">     // We want to update when we are at 0 seconds past the minute. To do so, use</span>
<a href="#l3.85"></a><span id="l3.85">     // setTimeout to wait until we are there, then setInterval to execute every</span>
<a href="#l3.86"></a><span id="l3.86">     // minute. Since setInterval is not totally exact, we may run into problems</span>
<a href="#l3.87"></a><span id="l3.87">     // here. I hope not!</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineminus">-    var current = new Date();</span>
<a href="#l3.89"></a><span id="l3.89" class="difflineplus">+    let current = new Date();</span>
<a href="#l3.90"></a><span id="l3.90"> </span>
<a href="#l3.91"></a><span id="l3.91" class="difflineminus">-    var timeout = (60 - current.getSeconds()) * 1000;</span>
<a href="#l3.92"></a><span id="l3.92" class="difflineplus">+    let timeout = (60 - current.getSeconds()) * 1000;</span>
<a href="#l3.93"></a><span id="l3.93">     gRelativeDateUpdateTimer = setTimeout(function wait_until_next_minute() {</span>
<a href="#l3.94"></a><span id="l3.94">         updateRelativeDates();</span>
<a href="#l3.95"></a><span id="l3.95">         gRelativeDateUpdateTimer = setInterval(updateRelativeDates, 60 * 1000);</span>
<a href="#l3.96"></a><span id="l3.96">     }, timeout);</span>
<a href="#l3.97"></a><span id="l3.97"> </span>
<a href="#l3.98"></a><span id="l3.98">     // Give focus to the alarm richlist after onload completes. See bug 103197</span>
<a href="#l3.99"></a><span id="l3.99">     setTimeout(onFocusWindow, 0);</span>
<a href="#l3.100"></a><span id="l3.100"> }</span>
<a href="#l3.101"></a><span id="l3.101"> </span>
<a href="#l3.102"></a><span id="l3.102"> /**</span>
<a href="#l3.103"></a><span id="l3.103">  * Unload function for the alarm dialog. If applicable, snooze the remaining</span>
<a href="#l3.104"></a><span id="l3.104">  * alarms and clean up the relative date update timer.</span>
<a href="#l3.105"></a><span id="l3.105">  */</span>
<a href="#l3.106"></a><span id="l3.106"> function finishWindow() {</span>
<a href="#l3.107"></a><span id="l3.107" class="difflineminus">-    var alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.108"></a><span id="l3.108" class="difflineplus">+    let alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.109"></a><span id="l3.109"> </span>
<a href="#l3.110"></a><span id="l3.110">     if (alarmRichlist.childNodes.length &gt; 0) {</span>
<a href="#l3.111"></a><span id="l3.111">         // If there are still items, the window wasn't closed using dismiss</span>
<a href="#l3.112"></a><span id="l3.112">         // all/snooze all. This can happen when the closer is clicked or escape</span>
<a href="#l3.113"></a><span id="l3.113">         // is pressed. Snooze all remaining items using the default snooze</span>
<a href="#l3.114"></a><span id="l3.114">         // property.</span>
<a href="#l3.115"></a><span id="l3.115" class="difflineminus">-        var snoozePref = getPrefSafe(&quot;calendar.alarms.defaultsnoozelength&quot;, 0);</span>
<a href="#l3.116"></a><span id="l3.116" class="difflineplus">+        let snoozePref = getPrefSafe(&quot;calendar.alarms.defaultsnoozelength&quot;, 0);</span>
<a href="#l3.117"></a><span id="l3.117">         if (snoozePref &lt;= 0) {</span>
<a href="#l3.118"></a><span id="l3.118">             snoozePref = 5;</span>
<a href="#l3.119"></a><span id="l3.119">         }</span>
<a href="#l3.120"></a><span id="l3.120">         snoozeAllItems(snoozePref);</span>
<a href="#l3.121"></a><span id="l3.121">     }</span>
<a href="#l3.122"></a><span id="l3.122"> </span>
<a href="#l3.123"></a><span id="l3.123">     // Stop updating the relative time</span>
<a href="#l3.124"></a><span id="l3.124">     clearTimeout(gRelativeDateUpdateTimer);</span>
<a href="#l3.125"></a><span id="l3.125" class="difflineat">@@ -161,70 +161,51 @@ function onFocusWindow() {</span>
<a href="#l3.126"></a><span id="l3.126">         document.getElementById(&quot;alarm-richlist&quot;).focus();</span>
<a href="#l3.127"></a><span id="l3.127">     }</span>
<a href="#l3.128"></a><span id="l3.128"> }</span>
<a href="#l3.129"></a><span id="l3.129"> </span>
<a href="#l3.130"></a><span id="l3.130"> /**</span>
<a href="#l3.131"></a><span id="l3.131">  * Timer callback to update all relative date labels</span>
<a href="#l3.132"></a><span id="l3.132">  */</span>
<a href="#l3.133"></a><span id="l3.133"> function updateRelativeDates() {</span>
<a href="#l3.134"></a><span id="l3.134" class="difflineminus">-    var alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.135"></a><span id="l3.135" class="difflineplus">+    let alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.136"></a><span id="l3.136">     for each (let node in Array.slice(alarmRichlist.childNodes)) {</span>
<a href="#l3.137"></a><span id="l3.137">         if (node.item &amp;&amp; node.alarm) {</span>
<a href="#l3.138"></a><span id="l3.138">             node.updateRelativeDateLabel();</span>
<a href="#l3.139"></a><span id="l3.139">         }</span>
<a href="#l3.140"></a><span id="l3.140">     }</span>
<a href="#l3.141"></a><span id="l3.141"> }</span>
<a href="#l3.142"></a><span id="l3.142"> </span>
<a href="#l3.143"></a><span id="l3.143"> /**</span>
<a href="#l3.144"></a><span id="l3.144" class="difflineminus">- * Opens the alarm snooze popup, using the event to determine the position.</span>
<a href="#l3.145"></a><span id="l3.145" class="difflineminus">- * The given container item must be an object that has a function snoozeAlarm.</span>
<a href="#l3.146"></a><span id="l3.146" class="difflineminus">- * This function will be called with the chosen alarm duration in minutes.</span>
<a href="#l3.147"></a><span id="l3.147" class="difflineminus">- *</span>
<a href="#l3.148"></a><span id="l3.148" class="difflineminus">- * @param event           The event used to determine the position of the popup</span>
<a href="#l3.149"></a><span id="l3.149" class="difflineminus">- * @param aContainerItem  The container item as described above</span>
<a href="#l3.150"></a><span id="l3.150" class="difflineminus">- */</span>
<a href="#l3.151"></a><span id="l3.151" class="difflineminus">-function openSnoozeWindow(event, aContainerItem) {</span>
<a href="#l3.152"></a><span id="l3.152" class="difflineminus">-    const uri = &quot;chrome://calendar/content/calendar-alarm-snooze-popup.xul&quot;;</span>
<a href="#l3.153"></a><span id="l3.153" class="difflineminus">-    var pos = &quot;,left=&quot; + (event.target.boxObject.screenX - 3) +</span>
<a href="#l3.154"></a><span id="l3.154" class="difflineminus">-             &quot;,top=&quot; + (event.target.boxObject.screenY + event.target.boxObject.height - 3);</span>
<a href="#l3.155"></a><span id="l3.155" class="difflineminus">-    window.openDialog(uri,</span>
<a href="#l3.156"></a><span id="l3.156" class="difflineminus">-                      &quot;CalendarAlarmSnoozePopup&quot;,</span>
<a href="#l3.157"></a><span id="l3.157" class="difflineminus">-                      &quot;chrome,dependent=yes,titlebar=no&quot; + pos,</span>
<a href="#l3.158"></a><span id="l3.158" class="difflineminus">-                      aContainerItem);</span>
<a href="#l3.159"></a><span id="l3.159" class="difflineminus">-}</span>
<a href="#l3.160"></a><span id="l3.160" class="difflineminus">-</span>
<a href="#l3.161"></a><span id="l3.161" class="difflineminus">-/**</span>
<a href="#l3.162"></a><span id="l3.162">  * Function to snooze all alarms the given number of minutes.</span>
<a href="#l3.163"></a><span id="l3.163">  *</span>
<a href="#l3.164"></a><span id="l3.164">  * @param aDurationMinutes    The duration in minutes</span>
<a href="#l3.165"></a><span id="l3.165">  */</span>
<a href="#l3.166"></a><span id="l3.166"> function snoozeAllItems(aDurationMinutes) {</span>
<a href="#l3.167"></a><span id="l3.167" class="difflineminus">-    var duration = Components.classes[&quot;@mozilla.org/calendar/duration;1&quot;]</span>
<a href="#l3.168"></a><span id="l3.168" class="difflineminus">-                             .createInstance(Components.interfaces.calIDuration);</span>
<a href="#l3.169"></a><span id="l3.169" class="difflineplus">+    let duration = cal.createDuration();</span>
<a href="#l3.170"></a><span id="l3.170">     duration.minutes = aDurationMinutes;</span>
<a href="#l3.171"></a><span id="l3.171">     duration.normalize();</span>
<a href="#l3.172"></a><span id="l3.172"> </span>
<a href="#l3.173"></a><span id="l3.173" class="difflineminus">-    var alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.174"></a><span id="l3.174" class="difflineplus">+    let alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.175"></a><span id="l3.175"> </span>
<a href="#l3.176"></a><span id="l3.176">     // Make a copy of the child nodes as they get modified live</span>
<a href="#l3.177"></a><span id="l3.177">     for each (let node in Array.slice(alarmRichlist.childNodes)) {</span>
<a href="#l3.178"></a><span id="l3.178">         // Check if the node is a valid alarm and is still part of DOM</span>
<a href="#l3.179"></a><span id="l3.179">         if (node.parentNode &amp;&amp; node.item &amp;&amp; node.alarm) {</span>
<a href="#l3.180"></a><span id="l3.180">             getAlarmService().snoozeAlarm(node.item, node.alarm, duration);</span>
<a href="#l3.181"></a><span id="l3.181">         }</span>
<a href="#l3.182"></a><span id="l3.182">     }</span>
<a href="#l3.183"></a><span id="l3.183"> }</span>
<a href="#l3.184"></a><span id="l3.184"> </span>
<a href="#l3.185"></a><span id="l3.185"> /**</span>
<a href="#l3.186"></a><span id="l3.186">  * Sets up the window title, counting the number of alarms in the window.</span>
<a href="#l3.187"></a><span id="l3.187">  */</span>
<a href="#l3.188"></a><span id="l3.188"> function setupTitle() {</span>
<a href="#l3.189"></a><span id="l3.189" class="difflineminus">-    var alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.190"></a><span id="l3.190" class="difflineminus">-    var reminders = alarmRichlist.childNodes.length;</span>
<a href="#l3.191"></a><span id="l3.191" class="difflineplus">+    let alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.192"></a><span id="l3.192" class="difflineplus">+    let reminders = alarmRichlist.childNodes.length;</span>
<a href="#l3.193"></a><span id="l3.193"> </span>
<a href="#l3.194"></a><span id="l3.194">     let title = PluralForm.get(reminders, calGetString(&quot;calendar&quot;, &quot;alarmWindowTitle.label&quot;));</span>
<a href="#l3.195"></a><span id="l3.195">     document.title = title.replace(&quot;#1&quot;, reminders);</span>
<a href="#l3.196"></a><span id="l3.196"> }</span>
<a href="#l3.197"></a><span id="l3.197"> </span>
<a href="#l3.198"></a><span id="l3.198"> /**</span>
<a href="#l3.199"></a><span id="l3.199">  * Add an alarm widget for the passed alarm and item.</span>
<a href="#l3.200"></a><span id="l3.200">  *</span>
<a href="#l3.201"></a><span id="l3.201" class="difflineat">@@ -262,18 +243,18 @@ function addWidgetFor(aItem, aAlarm) {</span>
<a href="#l3.202"></a><span id="l3.202">  *</span>
<a href="#l3.203"></a><span id="l3.203">  * @param aItem       The calendar item to remove the alarm widget for.</span>
<a href="#l3.204"></a><span id="l3.204">  * @param aAlarm      The alarm to remove the widget for.</span>
<a href="#l3.205"></a><span id="l3.205">  */</span>
<a href="#l3.206"></a><span id="l3.206"> function removeWidgetFor(aItem, aAlarm) {</span>
<a href="#l3.207"></a><span id="l3.207">     let hashId = aItem.hashId;</span>
<a href="#l3.208"></a><span id="l3.208">     let alarmRichlist = document.getElementById(&quot;alarm-richlist&quot;);</span>
<a href="#l3.209"></a><span id="l3.209">     let nodes = alarmRichlist.childNodes;</span>
<a href="#l3.210"></a><span id="l3.210" class="difflineminus">-    for (var i = nodes.length - 1; i &gt;= 0; --i) {</span>
<a href="#l3.211"></a><span id="l3.211" class="difflineminus">-        var widget = nodes[i];</span>
<a href="#l3.212"></a><span id="l3.212" class="difflineplus">+    for (let i = nodes.length - 1; i &gt;= 0; --i) {</span>
<a href="#l3.213"></a><span id="l3.213" class="difflineplus">+        let widget = nodes[i];</span>
<a href="#l3.214"></a><span id="l3.214">         if (widget.item &amp;&amp; widget.item.hashId == hashId &amp;&amp;</span>
<a href="#l3.215"></a><span id="l3.215">             widget.alarm &amp;&amp; widget.alarm.icalString == aAlarm.icalString) {</span>
<a href="#l3.216"></a><span id="l3.216"> </span>
<a href="#l3.217"></a><span id="l3.217">             if (widget.selected) {</span>
<a href="#l3.218"></a><span id="l3.218">                 // Advance selection if needed</span>
<a href="#l3.219"></a><span id="l3.219">                 widget.control.selectedItem = widget.previousSibling ||</span>
<a href="#l3.220"></a><span id="l3.220">                                               widget.nextSibling;</span>
<a href="#l3.221"></a><span id="l3.221">             }</span>
<a href="#l3.222"></a><span id="l3.222" class="difflineat">@@ -303,11 +284,13 @@ function removeWidgetFor(aItem, aAlarm) </span>
<a href="#l3.223"></a><span id="l3.223"> }</span>
<a href="#l3.224"></a><span id="l3.224"> </span>
<a href="#l3.225"></a><span id="l3.225"> /**</span>
<a href="#l3.226"></a><span id="l3.226">  * Handler function called when an alarm entry in the richlistbox is selected</span>
<a href="#l3.227"></a><span id="l3.227">  *</span>
<a href="#l3.228"></a><span id="l3.228">  * @param event         The DOM event from the click action</span>
<a href="#l3.229"></a><span id="l3.229">  */</span>
<a href="#l3.230"></a><span id="l3.230"> function onSelectAlarm(event) {</span>
<a href="#l3.231"></a><span id="l3.231" class="difflineminus">-    document.getElementById(&quot;alarm-richlist&quot;)</span>
<a href="#l3.232"></a><span id="l3.232" class="difflineminus">-            .ensureElementIsVisible(event.target.getSelectedItem(0));</span>
<a href="#l3.233"></a><span id="l3.233" class="difflineplus">+    let richList = document.getElementById(&quot;alarm-richlist&quot;)</span>
<a href="#l3.234"></a><span id="l3.234" class="difflineplus">+    if (richList == event.target) {</span>
<a href="#l3.235"></a><span id="l3.235" class="difflineplus">+        richList.ensureElementIsVisible(richList.getSelectedItem(0));</span>
<a href="#l3.236"></a><span id="l3.236" class="difflineplus">+    }</span>
<a href="#l3.237"></a><span id="l3.237"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-alarm-dialog.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-alarm-dialog.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -40,21 +40,17 @@</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/global.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.6"></a><span id="l4.6"> &lt;?xml-stylesheet href=&quot;chrome://calendar/skin/calendar-alarm-dialog.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8"> &lt;!-- used for button-text and button-menu-dropmarker classes --&gt;</span>
<a href="#l4.9"></a><span id="l4.9"> &lt;?xml-stylesheet href=&quot;chrome://global/skin/button.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l4.10"></a><span id="l4.10"> </span>
<a href="#l4.11"></a><span id="l4.11"> &lt;!-- DTD File with all strings specific to the calendar --&gt;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-&lt;!DOCTYPE dialog</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-[</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineminus">-  &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineminus">-  &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-]&gt;</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+&lt;!DOCTYPE dialog SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l4.18"></a><span id="l4.18"> </span>
<a href="#l4.19"></a><span id="l4.19"> &lt;window xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;</span>
<a href="#l4.20"></a><span id="l4.20">         id=&quot;calendar-alarm-dialog&quot;</span>
<a href="#l4.21"></a><span id="l4.21">         title=&quot;&amp;calendar.alarm.title.label;&quot;</span>
<a href="#l4.22"></a><span id="l4.22">         windowtype=&quot;Calendar:AlarmWindow&quot;</span>
<a href="#l4.23"></a><span id="l4.23">         persist=&quot;screenX screenY width height&quot;</span>
<a href="#l4.24"></a><span id="l4.24">         onload=&quot;setupWindow(); window.arguments[0].wrappedJSObject.window_onLoad();&quot;</span>
<a href="#l4.25"></a><span id="l4.25">         onunload=&quot;finishWindow();&quot;</span>
<a href="#l4.26"></a><span id="l4.26" class="difflineat">@@ -64,19 +60,21 @@</span>
<a href="#l4.27"></a><span id="l4.27">         height=&quot;300&quot;&gt;</span>
<a href="#l4.28"></a><span id="l4.28">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://calendar/content/calendar-alarm-dialog.js&quot;/&gt;</span>
<a href="#l4.29"></a><span id="l4.29">   &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://calendar/content/calUtils.js&quot;/&gt;</span>
<a href="#l4.30"></a><span id="l4.30"> </span>
<a href="#l4.31"></a><span id="l4.31">   &lt;richlistbox id=&quot;alarm-richlist&quot; flex=&quot;1&quot; onselect=&quot;onSelectAlarm(event)&quot;/&gt;</span>
<a href="#l4.32"></a><span id="l4.32"> </span>
<a href="#l4.33"></a><span id="l4.33">   &lt;hbox pack=&quot;end&quot; id=&quot;alarm-actionbar&quot; align=&quot;center&quot;&gt;</span>
<a href="#l4.34"></a><span id="l4.34">     &lt;button id=&quot;alarm-snooze-all-button&quot;</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-            oncommand=&quot;openSnoozeWindow(event, { snoozeAlarm: snoozeAllItems }); return false;&quot;&gt;</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineminus">-      &lt;label class=&quot;button-text&quot; value=&quot;&amp;calendar.alarm.snoozeallfor.label;&quot;/&gt;</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineminus">-      &lt;dropmarker class=&quot;button-menu-dropmarker&quot;/&gt;</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineplus">+            type=&quot;menu&quot;</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineplus">+            label=&quot;&amp;calendar.alarm.snoozeallfor.label;&quot;&gt;</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineplus">+      &lt;menupopup type=&quot;snooze-menupopup&quot;</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineplus">+                 ignorekeys=&quot;true&quot;</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineplus">+                 onsnooze=&quot;snoozeAllItems(event.detail)&quot;/&gt;</span>
<a href="#l4.43"></a><span id="l4.43">     &lt;/button&gt;</span>
<a href="#l4.44"></a><span id="l4.44">     &lt;button label=&quot;&amp;calendar.alarm.dismissall.label;&quot;</span>
<a href="#l4.45"></a><span id="l4.45">             oncommand=&quot;onDismissAllAlarms();&quot;/&gt;</span>
<a href="#l4.46"></a><span id="l4.46">   &lt;/hbox&gt;</span>
<a href="#l4.47"></a><span id="l4.47">   &lt;hbox pack=&quot;end&quot; class=&quot;resizer-box&quot;&gt;</span>
<a href="#l4.48"></a><span id="l4.48">     &lt;resizer dir=&quot;bottomright&quot;/&gt;</span>
<a href="#l4.49"></a><span id="l4.49">   &lt;/hbox&gt;</span>
<a href="#l4.50"></a><span id="l4.50"> &lt;/window&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">rename from calendar/base/content/calendar-alarm-widget.xml</span>
<a href="#l5.2"></a><span id="l5.2">rename to calendar/base/content/widgets/calendar-alarm-widget.xml</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineminus">--- a/calendar/base/content/calendar-alarm-widget.xml</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineplus">+++ b/calendar/base/content/widgets/calendar-alarm-widget.xml</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineat">@@ -35,83 +35,83 @@</span>
<a href="#l5.6"></a><span id="l5.6">    - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l5.7"></a><span id="l5.7">    - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l5.8"></a><span id="l5.8">    - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l5.9"></a><span id="l5.9">    - the provisions above, a recipient may use your version of this file under</span>
<a href="#l5.10"></a><span id="l5.10">    - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l5.11"></a><span id="l5.11">    -</span>
<a href="#l5.12"></a><span id="l5.12">    - ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l5.13"></a><span id="l5.13"> </span>
<a href="#l5.14"></a><span id="l5.14" class="difflineminus">-&lt;!DOCTYPE bindings SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot;&gt;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+&lt;!DOCTYPE bindings</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+[</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+  &lt;!ENTITY % dtd1 SYSTEM &quot;chrome://calendar/locale/global.dtd&quot; &gt; %dtd1;</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+  &lt;!ENTITY % dtd2 SYSTEM &quot;chrome://calendar/locale/calendar.dtd&quot; &gt; %dtd2;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+]&gt;</span>
<a href="#l5.20"></a><span id="l5.20"> </span>
<a href="#l5.21"></a><span id="l5.21"> &lt;bindings id=&quot;calendar-alarms&quot;</span>
<a href="#l5.22"></a><span id="l5.22">    xmlns=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l5.23"></a><span id="l5.23">    xmlns:xbl=&quot;http://www.mozilla.org/xbl&quot;</span>
<a href="#l5.24"></a><span id="l5.24">    xmlns:xul=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l5.25"></a><span id="l5.25"> </span>
<a href="#l5.26"></a><span id="l5.26">   &lt;binding id=&quot;calendar-alarm-widget&quot; extends=&quot;chrome://global/content/bindings/richlistbox.xml#richlistitem&quot;&gt;</span>
<a href="#l5.27"></a><span id="l5.27">     &lt;resources&gt;</span>
<a href="#l5.28"></a><span id="l5.28">       &lt;stylesheet src=&quot;chrome://global/skin/button.css&quot;/&gt;</span>
<a href="#l5.29"></a><span id="l5.29">       &lt;stylesheet src=&quot;chrome://calendar/skin/calendar-alarm-dialog.css&quot;/&gt;</span>
<a href="#l5.30"></a><span id="l5.30">     &lt;/resources&gt;</span>
<a href="#l5.31"></a><span id="l5.31"> </span>
<a href="#l5.32"></a><span id="l5.32" class="difflineminus">-    &lt;content&gt;</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineminus">-      &lt;xul:hbox flex=&quot;1&quot;&gt;</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-        &lt;xul:vbox pack=&quot;start&quot;&gt;</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineminus">-          &lt;xul:image class=&quot;alarm-calendar-image&quot;/&gt;</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+    &lt;content orient=&quot;horizontal&quot;&gt;</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+      &lt;xul:vbox pack=&quot;start&quot;&gt;</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+        &lt;xul:image class=&quot;alarm-calendar-image&quot;/&gt;</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+      &lt;/xul:vbox&gt;</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+      &lt;xul:vbox&gt;</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+        &lt;xul:label anonid=&quot;alarm-title-label&quot; class=&quot;alarm-title-label&quot; crop=&quot;end&quot;/&gt;</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+        &lt;xul:vbox class=&quot;additional-information-box&quot;&gt;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineplus">+          &lt;xul:label anonid=&quot;alarm-date-label&quot; class=&quot;alarm-date-label&quot;/&gt;</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+          &lt;xul:hbox&gt;</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineplus">+            &lt;xul:label anonid=&quot;alarm-location-label&quot; class=&quot;location-label&quot;&gt;&amp;calendar.alarm.location.label;&lt;/xul:label&gt;</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineplus">+            &lt;xul:description anonid=&quot;alarm-location-description&quot; class=&quot;alarm-location-description&quot; crop=&quot;end&quot;/&gt;</span>
<a href="#l5.47"></a><span id="l5.47" class="difflineplus">+          &lt;/xul:hbox&gt;</span>
<a href="#l5.48"></a><span id="l5.48" class="difflineplus">+          &lt;xul:hbox pack=&quot;start&quot;&gt;</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineplus">+            &lt;xul:label class=&quot;text-link alarm-details-label&quot;</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+                   value=&quot;&amp;calendar.alarm.details.label;&quot;</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+                   onclick=&quot;showDetails(event)&quot;</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+                   onkeypress=&quot;showDetails(event)&quot;/&gt;</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+          &lt;/xul:hbox&gt;</span>
<a href="#l5.54"></a><span id="l5.54">         &lt;/xul:vbox&gt;</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineminus">-        &lt;xul:vbox&gt;</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineminus">-          &lt;xul:label anonid=&quot;alarm-title-label&quot; class=&quot;alarm-title-label&quot; crop=&quot;end&quot;/&gt;</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineminus">-          &lt;xul:vbox class=&quot;additional-information-box&quot;&gt;</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineminus">-            &lt;xul:label anonid=&quot;alarm-date-label&quot; class=&quot;alarm-date-label&quot;/&gt;</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineminus">-            &lt;xul:hbox&gt;</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineminus">-              &lt;xul:label anonid=&quot;alarm-location-label&quot; class=&quot;location-label&quot;&gt;&amp;calendar.alarm.location.label;&lt;/xul:label&gt;</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineminus">-              &lt;xul:description anonid=&quot;alarm-location-description&quot; class=&quot;alarm-location-description&quot; crop=&quot;end&quot;/&gt;</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineminus">-            &lt;/xul:hbox&gt;</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineminus">-            &lt;xul:hbox pack=&quot;start&quot;&gt;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineminus">-              &lt;xul:label class=&quot;text-link alarm-details-label&quot;</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-                     value=&quot;&amp;calendar.alarm.details.label;&quot;</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineminus">-                     onclick=&quot;showDetails(event)&quot;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineminus">-                     onkeypress=&quot;showDetails(event)&quot;/&gt;</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineminus">-            &lt;/xul:hbox&gt;</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineminus">-          &lt;/xul:vbox&gt;</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineminus">-        &lt;/xul:vbox&gt;</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineminus">-        &lt;xul:spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineminus">-        &lt;xul:label anonid=&quot;alarm-relative-date-label&quot; class=&quot;alarm-relative-date-label&quot;/&gt;</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineminus">-        &lt;xul:vbox class=&quot;alarm-action-buttons&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineminus">-          &lt;xul:button anonid=&quot;alarm-snooze-button&quot;</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineminus">-                      oncommand=&quot;_openSnoozeWindow(event); return false;&quot;&gt;</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineminus">-            &lt;xul:label class=&quot;button-text&quot; value=&quot;&amp;calendar.alarm.snoozefor.label;&quot;/&gt;</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineminus">-            &lt;xul:dropmarker class=&quot;button-menu-dropmarker&quot;/&gt;</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineminus">-          &lt;/xul:button&gt;</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineminus">-          &lt;xul:button anonid=&quot;alarm-dismiss-button&quot;</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineminus">-                      label=&quot;&amp;calendar.alarm.dismiss.label;&quot;</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineminus">-                      oncommand=&quot;dismissAlarm()&quot;/&gt;</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineminus">-        &lt;/xul:vbox&gt;</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineminus">-      &lt;/xul:hbox&gt;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+      &lt;/xul:vbox&gt;</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+      &lt;xul:spacer flex=&quot;1&quot;/&gt;</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+      &lt;xul:label anonid=&quot;alarm-relative-date-label&quot; class=&quot;alarm-relative-date-label&quot;/&gt;</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineplus">+      &lt;xul:vbox class=&quot;alarm-action-buttons&quot; pack=&quot;center&quot;&gt;</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+        &lt;xul:button anonid=&quot;alarm-snooze-button&quot;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+                    type=&quot;menu&quot;</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+                    label=&quot;&amp;calendar.alarm.snoozefor.label;&quot;&gt;</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineplus">+          &lt;xul:menupopup type=&quot;snooze-menupopup&quot; ignorekeys=&quot;true&quot;/&gt;</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineplus">+        &lt;/xul:button&gt;</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineplus">+        &lt;xul:button anonid=&quot;alarm-dismiss-button&quot;</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineplus">+                    label=&quot;&amp;calendar.alarm.dismiss.label;&quot;</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+                    oncommand=&quot;dismissAlarm()&quot;/&gt;</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineplus">+      &lt;/xul:vbox&gt;</span>
<a href="#l5.97"></a><span id="l5.97">     &lt;/content&gt;</span>
<a href="#l5.98"></a><span id="l5.98"> </span>
<a href="#l5.99"></a><span id="l5.99">     &lt;implementation&gt;</span>
<a href="#l5.100"></a><span id="l5.100">       &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l5.101"></a><span id="l5.101">         Components.utils.import(&quot;resource://calendar/modules/calUtils.jsm&quot;);</span>
<a href="#l5.102"></a><span id="l5.102">       ]]&gt;&lt;/constructor&gt;</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineplus">+</span>
<a href="#l5.104"></a><span id="l5.104">       &lt;field name=&quot;mItem&quot;&gt;null&lt;/field&gt;</span>
<a href="#l5.105"></a><span id="l5.105">       &lt;field name=&quot;mAlarm&quot;&gt;null&lt;/field&gt;</span>
<a href="#l5.106"></a><span id="l5.106"> </span>
<a href="#l5.107"></a><span id="l5.107">       &lt;property name=&quot;item&quot;</span>
<a href="#l5.108"></a><span id="l5.108">                 onget=&quot;return this.mItem;&quot;</span>
<a href="#l5.109"></a><span id="l5.109">                 onset=&quot;this.mItem = val; this.updateLabels(); return val;&quot;/&gt;</span>
<a href="#l5.110"></a><span id="l5.110">       &lt;property name=&quot;alarm&quot;</span>
<a href="#l5.111"></a><span id="l5.111">                 onget=&quot;return this.mAlarm;&quot;</span>
<a href="#l5.112"></a><span id="l5.112">                 onset=&quot;this.mAlarm = val; this.updateLabels(); return val;&quot;/&gt;</span>
<a href="#l5.113"></a><span id="l5.113"> </span>
<a href="#l5.114"></a><span id="l5.114">       &lt;method name=&quot;updateLabels&quot;&gt;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineminus">-        &lt;!--</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineminus">-          -</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineminus">-          --&gt;</span>
<a href="#l5.118"></a><span id="l5.118">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.119"></a><span id="l5.119">           if (!this.mItem || !this.mAlarm) {</span>
<a href="#l5.120"></a><span id="l5.120">               // Setup not complete, do nothing for now.</span>
<a href="#l5.121"></a><span id="l5.121">               return;</span>
<a href="#l5.122"></a><span id="l5.122">           }</span>
<a href="#l5.123"></a><span id="l5.123"> </span>
<a href="#l5.124"></a><span id="l5.124">           let formatter = cal.getDateFormatter();</span>
<a href="#l5.125"></a><span id="l5.125">           let titleLabel = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;alarm-title-label&quot;);</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineat">@@ -202,43 +202,180 @@</span>
<a href="#l5.127"></a><span id="l5.127"> </span>
<a href="#l5.128"></a><span id="l5.128">       &lt;method name=&quot;showDetails&quot;&gt;</span>
<a href="#l5.129"></a><span id="l5.129">         &lt;parameter name=&quot;event&quot;/&gt;</span>
<a href="#l5.130"></a><span id="l5.130">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.131"></a><span id="l5.131">           if (event.type == &quot;click&quot; ||</span>
<a href="#l5.132"></a><span id="l5.132">               (event.type == &quot;keypress&quot; &amp;&amp;</span>
<a href="#l5.133"></a><span id="l5.133">                (event.keyCode == event.DOM_VK_ENTER ||</span>
<a href="#l5.134"></a><span id="l5.134">                 event.keyCode == event.DOM_VK_RETURN))) {</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineminus">-              var detailsEvent = document.createEvent('Events');</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineplus">+              let detailsEvent = document.createEvent('Events');</span>
<a href="#l5.137"></a><span id="l5.137">               detailsEvent.initEvent('itemdetails', true, false);</span>
<a href="#l5.138"></a><span id="l5.138">               this.dispatchEvent(detailsEvent);</span>
<a href="#l5.139"></a><span id="l5.139">           }</span>
<a href="#l5.140"></a><span id="l5.140">         ]]&gt;&lt;/body&gt;</span>
<a href="#l5.141"></a><span id="l5.141">       &lt;/method&gt;</span>
<a href="#l5.142"></a><span id="l5.142"> </span>
<a href="#l5.143"></a><span id="l5.143" class="difflineminus">-      &lt;method name=&quot;snoozeAlarm&quot;&gt;</span>
<a href="#l5.144"></a><span id="l5.144" class="difflineminus">-        &lt;parameter name=&quot;minutes&quot;/&gt;</span>
<a href="#l5.145"></a><span id="l5.145" class="difflineminus">-        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.146"></a><span id="l5.146" class="difflineminus">-          var snoozeEvent = document.createEvent('Events');</span>
<a href="#l5.147"></a><span id="l5.147" class="difflineminus">-          snoozeEvent.initEvent('snooze', true, false);</span>
<a href="#l5.148"></a><span id="l5.148" class="difflineminus">-          snoozeEvent.detail = minutes;</span>
<a href="#l5.149"></a><span id="l5.149" class="difflineminus">-          this.dispatchEvent(snoozeEvent);</span>
<a href="#l5.150"></a><span id="l5.150" class="difflineminus">-        ]]&gt;&lt;/body&gt;</span>
<a href="#l5.151"></a><span id="l5.151" class="difflineminus">-      &lt;/method&gt;</span>
<a href="#l5.152"></a><span id="l5.152" class="difflineminus">-</span>
<a href="#l5.153"></a><span id="l5.153">       &lt;method name=&quot;dismissAlarm&quot;&gt;</span>
<a href="#l5.154"></a><span id="l5.154">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.155"></a><span id="l5.155" class="difflineminus">-          var dismissEvent = document.createEvent('Events');</span>
<a href="#l5.156"></a><span id="l5.156" class="difflineplus">+          let dismissEvent = document.createEvent('Events');</span>
<a href="#l5.157"></a><span id="l5.157">           dismissEvent.initEvent('dismiss', true, false);</span>
<a href="#l5.158"></a><span id="l5.158">           this.dispatchEvent(dismissEvent);</span>
<a href="#l5.159"></a><span id="l5.159">         ]]&gt;&lt;/body&gt;</span>
<a href="#l5.160"></a><span id="l5.160">       &lt;/method&gt;</span>
<a href="#l5.161"></a><span id="l5.161" class="difflineplus">+    &lt;/implementation&gt;</span>
<a href="#l5.162"></a><span id="l5.162" class="difflineplus">+  &lt;/binding&gt;</span>
<a href="#l5.163"></a><span id="l5.163"> </span>
<a href="#l5.164"></a><span id="l5.164" class="difflineminus">-      &lt;method name=&quot;_openSnoozeWindow&quot;&gt;</span>
<a href="#l5.165"></a><span id="l5.165" class="difflineplus">+  &lt;binding id=&quot;calendar-snooze-popup&quot;&gt;</span>
<a href="#l5.166"></a><span id="l5.166" class="difflineplus">+    &lt;content ignorekeys=&quot;true&quot;&gt;</span>
<a href="#l5.167"></a><span id="l5.167" class="difflineplus">+      &lt;xul:menuitem label=&quot;&amp;calendar.alarm.snooze.5minutes.label;&quot;</span>
<a href="#l5.168"></a><span id="l5.168" class="difflineplus">+                    value=&quot;5&quot;</span>
<a href="#l5.169"></a><span id="l5.169" class="difflineplus">+                    oncommand=&quot;snoozeItem(event)&quot;/&gt;</span>
<a href="#l5.170"></a><span id="l5.170" class="difflineplus">+      &lt;xul:menuitem label=&quot;&amp;calendar.alarm.snooze.10minutes.label;&quot;</span>
<a href="#l5.171"></a><span id="l5.171" class="difflineplus">+                    value=&quot;10&quot;</span>
<a href="#l5.172"></a><span id="l5.172" class="difflineplus">+                    oncommand=&quot;snoozeItem(event)&quot;/&gt;</span>
<a href="#l5.173"></a><span id="l5.173" class="difflineplus">+      &lt;xul:menuitem label=&quot;&amp;calendar.alarm.snooze.15minutes.label;&quot;</span>
<a href="#l5.174"></a><span id="l5.174" class="difflineplus">+                    value=&quot;15&quot;</span>
<a href="#l5.175"></a><span id="l5.175" class="difflineplus">+                    oncommand=&quot;snoozeItem(event)&quot;/&gt;</span>
<a href="#l5.176"></a><span id="l5.176" class="difflineplus">+      &lt;xul:menuitem label=&quot;&amp;calendar.alarm.snooze.30minutes.label;&quot;</span>
<a href="#l5.177"></a><span id="l5.177" class="difflineplus">+                    value=&quot;30&quot;</span>
<a href="#l5.178"></a><span id="l5.178" class="difflineplus">+                    oncommand=&quot;snoozeItem(event)&quot;/&gt;</span>
<a href="#l5.179"></a><span id="l5.179" class="difflineplus">+      &lt;xul:menuitem label=&quot;&amp;calendar.alarm.snooze.45minutes.label;&quot;</span>
<a href="#l5.180"></a><span id="l5.180" class="difflineplus">+                    value=&quot;45&quot;</span>
<a href="#l5.181"></a><span id="l5.181" class="difflineplus">+                    oncommand=&quot;snoozeItem(event)&quot;/&gt;</span>
<a href="#l5.182"></a><span id="l5.182" class="difflineplus">+      &lt;xul:menuitem label=&quot;&amp;calendar.alarm.snooze.1hour.label;&quot;</span>
<a href="#l5.183"></a><span id="l5.183" class="difflineplus">+                    value=&quot;60&quot;</span>
<a href="#l5.184"></a><span id="l5.184" class="difflineplus">+                    oncommand=&quot;snoozeItem(event)&quot;/&gt;</span>
<a href="#l5.185"></a><span id="l5.185" class="difflineplus">+      &lt;xul:menuitem label=&quot;&amp;calendar.alarm.snooze.2hours.label;&quot;</span>
<a href="#l5.186"></a><span id="l5.186" class="difflineplus">+                    value=&quot;120&quot;</span>
<a href="#l5.187"></a><span id="l5.187" class="difflineplus">+                    oncommand=&quot;snoozeItem(event)&quot;/&gt;</span>
<a href="#l5.188"></a><span id="l5.188" class="difflineplus">+      &lt;xul:menuitem label=&quot;&amp;calendar.alarm.snooze.1day.label;&quot;</span>
<a href="#l5.189"></a><span id="l5.189" class="difflineplus">+                    value=&quot;1440&quot;</span>
<a href="#l5.190"></a><span id="l5.190" class="difflineplus">+                    oncommand=&quot;snoozeItem(event)&quot;/&gt;</span>
<a href="#l5.191"></a><span id="l5.191" class="difflineplus">+      &lt;children/&gt;</span>
<a href="#l5.192"></a><span id="l5.192" class="difflineplus">+      &lt;xul:menuseparator/&gt;</span>
<a href="#l5.193"></a><span id="l5.193" class="difflineplus">+      &lt;xul:hbox class=&quot;snooze-options-box&quot;&gt;</span>
<a href="#l5.194"></a><span id="l5.194" class="difflineplus">+        &lt;xul:textbox anonid=&quot;snooze-value-textbox&quot;</span>
<a href="#l5.195"></a><span id="l5.195" class="difflineplus">+                     oninput=&quot;updateAccessibleName()&quot;</span>
<a href="#l5.196"></a><span id="l5.196" class="difflineplus">+                     type=&quot;number&quot;</span>
<a href="#l5.197"></a><span id="l5.197" class="difflineplus">+                     hidespinbuttons=&quot;true&quot;</span>
<a href="#l5.198"></a><span id="l5.198" class="difflineplus">+                     size=&quot;3&quot;/&gt;</span>
<a href="#l5.199"></a><span id="l5.199" class="difflineplus">+        &lt;xul:menulist anonid=&quot;snooze-unit-menulist&quot;</span>
<a href="#l5.200"></a><span id="l5.200" class="difflineplus">+                      class=&quot;snooze-unit-menulist menuitem-non-iconic&quot;</span>
<a href="#l5.201"></a><span id="l5.201" class="difflineplus">+                      allowevents=&quot;true&quot;&gt;</span>
<a href="#l5.202"></a><span id="l5.202" class="difflineplus">+         &lt;xul:menupopup anonid=&quot;snooze-unit-menupopup&quot;</span>
<a href="#l5.203"></a><span id="l5.203" class="difflineplus">+                        position=&quot;after_start&quot;</span>
<a href="#l5.204"></a><span id="l5.204" class="difflineplus">+                        ignorekeys=&quot;true&quot;</span>
<a href="#l5.205"></a><span id="l5.205" class="difflineplus">+                        class=&quot;menulist-menupopup&quot;&gt;</span>
<a href="#l5.206"></a><span id="l5.206" class="difflineplus">+           &lt;xul:menuitem closemenu=&quot;single&quot; class=&quot;unit-menuitem&quot; label=&quot;&amp;calendar.global.units.minutes;&quot; value=&quot;1&quot;/&gt;</span>
<a href="#l5.207"></a><span id="l5.207" class="difflineplus">+           &lt;xul:menuitem closemenu=&quot;single&quot; class=&quot;unit-menuitem&quot; label=&quot;&amp;calendar.global.units.hours;&quot; value=&quot;60&quot;/&gt;</span>
<a href="#l5.208"></a><span id="l5.208" class="difflineplus">+           &lt;xul:menuitem closemenu=&quot;single&quot; class=&quot;unit-menuitem&quot; label=&quot;&amp;calendar.global.units.days;&quot; value=&quot;1440&quot;/&gt;</span>
<a href="#l5.209"></a><span id="l5.209" class="difflineplus">+         &lt;/xul:menupopup&gt;</span>
<a href="#l5.210"></a><span id="l5.210" class="difflineplus">+        &lt;/xul:menulist&gt;</span>
<a href="#l5.211"></a><span id="l5.211" class="difflineplus">+        &lt;xul:toolbarbutton anonid=&quot;snooze-popup-ok&quot;</span>
<a href="#l5.212"></a><span id="l5.212" class="difflineplus">+                           class=&quot;snooze-popup-button snooze-popup-ok-button&quot;</span>
<a href="#l5.213"></a><span id="l5.213" class="difflineplus">+                           oncommand=&quot;snoozeOk()&quot;/&gt;</span>
<a href="#l5.214"></a><span id="l5.214" class="difflineplus">+        &lt;xul:toolbarbutton anonid=&quot;snooze-popup-cancel&quot;</span>
<a href="#l5.215"></a><span id="l5.215" class="difflineplus">+                           class=&quot;snooze-popup-button snooze-popup-cancel-button&quot;</span>
<a href="#l5.216"></a><span id="l5.216" class="difflineplus">+                           aria-label=&quot;&amp;calendar.alarm.snooze.cancel;&quot;</span>
<a href="#l5.217"></a><span id="l5.217" class="difflineplus">+                           oncommand=&quot;snoozeCancel()&quot;/&gt;</span>
<a href="#l5.218"></a><span id="l5.218" class="difflineplus">+      &lt;/xul:hbox&gt;</span>
<a href="#l5.219"></a><span id="l5.219" class="difflineplus">+    &lt;/content&gt;</span>
<a href="#l5.220"></a><span id="l5.220" class="difflineplus">+    &lt;implementation&gt;</span>
<a href="#l5.221"></a><span id="l5.221" class="difflineplus">+      &lt;constructor&gt;&lt;![CDATA[</span>
<a href="#l5.222"></a><span id="l5.222" class="difflineplus">+        let snoozePref = getPrefSafe(&quot;calendar.alarms.defaultsnoozelength&quot;, 0);</span>
<a href="#l5.223"></a><span id="l5.223" class="difflineplus">+        if (snoozePref &lt;= 0) {</span>
<a href="#l5.224"></a><span id="l5.224" class="difflineplus">+          snoozePref = 5;</span>
<a href="#l5.225"></a><span id="l5.225" class="difflineplus">+        }</span>
<a href="#l5.226"></a><span id="l5.226" class="difflineplus">+</span>
<a href="#l5.227"></a><span id="l5.227" class="difflineplus">+        let unitList = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-unit-menulist&quot;);</span>
<a href="#l5.228"></a><span id="l5.228" class="difflineplus">+        let unitValue = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-value-textbox&quot;);</span>
<a href="#l5.229"></a><span id="l5.229" class="difflineplus">+</span>
<a href="#l5.230"></a><span id="l5.230" class="difflineplus">+        let selectedIndex = 0;</span>
<a href="#l5.231"></a><span id="l5.231" class="difflineplus">+        if ((snoozePref % 60) == 0) {</span>
<a href="#l5.232"></a><span id="l5.232" class="difflineplus">+            snoozePref = snoozePref / 60;</span>
<a href="#l5.233"></a><span id="l5.233" class="difflineplus">+            if ((snoozePref % 24) == 0) {</span>
<a href="#l5.234"></a><span id="l5.234" class="difflineplus">+                snoozePref = snoozePref / 24;</span>
<a href="#l5.235"></a><span id="l5.235" class="difflineplus">+                selectedIndex = 2; // Days</span>
<a href="#l5.236"></a><span id="l5.236" class="difflineplus">+            } else {</span>
<a href="#l5.237"></a><span id="l5.237" class="difflineplus">+                selectedIndex = 1; // Hours</span>
<a href="#l5.238"></a><span id="l5.238" class="difflineplus">+            }</span>
<a href="#l5.239"></a><span id="l5.239" class="difflineplus">+        } else {</span>
<a href="#l5.240"></a><span id="l5.240" class="difflineplus">+            selectedIndex = 0; // Minutes</span>
<a href="#l5.241"></a><span id="l5.241" class="difflineplus">+        }</span>
<a href="#l5.242"></a><span id="l5.242" class="difflineplus">+</span>
<a href="#l5.243"></a><span id="l5.243" class="difflineplus">+        unitList.selectedIndex = selectedIndex;</span>
<a href="#l5.244"></a><span id="l5.244" class="difflineplus">+        unitValue.value = snoozePref;</span>
<a href="#l5.245"></a><span id="l5.245" class="difflineplus">+</span>
<a href="#l5.246"></a><span id="l5.246" class="difflineplus">+        updateAccessibleName();</span>
<a href="#l5.247"></a><span id="l5.247" class="difflineplus">+      ]]&gt;&lt;/constructor&gt;</span>
<a href="#l5.248"></a><span id="l5.248" class="difflineplus">+</span>
<a href="#l5.249"></a><span id="l5.249" class="difflineplus">+      &lt;method name=&quot;snoozeAlarm&quot;&gt;</span>
<a href="#l5.250"></a><span id="l5.250" class="difflineplus">+        &lt;parameter name=&quot;minutes&quot;/&gt;</span>
<a href="#l5.251"></a><span id="l5.251" class="difflineplus">+        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.252"></a><span id="l5.252" class="difflineplus">+          let snoozeEvent = document.createEvent('Events');</span>
<a href="#l5.253"></a><span id="l5.253" class="difflineplus">+          snoozeEvent.initEvent('snooze', true, false);</span>
<a href="#l5.254"></a><span id="l5.254" class="difflineplus">+          snoozeEvent.detail = minutes;</span>
<a href="#l5.255"></a><span id="l5.255" class="difflineplus">+</span>
<a href="#l5.256"></a><span id="l5.256" class="difflineplus">+          // The onsnooze attribute is set on the menupopup, this binding is</span>
<a href="#l5.257"></a><span id="l5.257" class="difflineplus">+          // instanciated on the menupopup's arrowscrollbox. Therefore we need</span>
<a href="#l5.258"></a><span id="l5.258" class="difflineplus">+          // to go up one node.</span>
<a href="#l5.259"></a><span id="l5.259" class="difflineplus">+          let handler = this.parentNode.getAttribute(&quot;onsnooze&quot;);</span>
<a href="#l5.260"></a><span id="l5.260" class="difflineplus">+          let cancel = false;</span>
<a href="#l5.261"></a><span id="l5.261" class="difflineplus">+          if (handler) {</span>
<a href="#l5.262"></a><span id="l5.262" class="difflineplus">+              let fn = new Function(&quot;event&quot;, handler);</span>
<a href="#l5.263"></a><span id="l5.263" class="difflineplus">+              cancel = (fn.call(this, snoozeEvent) === false);</span>
<a href="#l5.264"></a><span id="l5.264" class="difflineplus">+          }</span>
<a href="#l5.265"></a><span id="l5.265" class="difflineplus">+</span>
<a href="#l5.266"></a><span id="l5.266" class="difflineplus">+          if (!cancel) {</span>
<a href="#l5.267"></a><span id="l5.267" class="difflineplus">+              this.dispatchEvent(snoozeEvent);</span>
<a href="#l5.268"></a><span id="l5.268" class="difflineplus">+          }</span>
<a href="#l5.269"></a><span id="l5.269" class="difflineplus">+        ]]&gt;&lt;/body&gt;</span>
<a href="#l5.270"></a><span id="l5.270" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l5.271"></a><span id="l5.271" class="difflineplus">+</span>
<a href="#l5.272"></a><span id="l5.272" class="difflineplus">+      &lt;method name=&quot;snoozeItem&quot;&gt;</span>
<a href="#l5.273"></a><span id="l5.273">         &lt;parameter name=&quot;event&quot;/&gt;</span>
<a href="#l5.274"></a><span id="l5.274">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.275"></a><span id="l5.275" class="difflineminus">-          // Call the function from calendar-alarm-dialog.js</span>
<a href="#l5.276"></a><span id="l5.276" class="difflineminus">-          openSnoozeWindow(event, this); </span>
<a href="#l5.277"></a><span id="l5.277" class="difflineplus">+          this.snoozeAlarm(event.target.value);</span>
<a href="#l5.278"></a><span id="l5.278" class="difflineplus">+        ]]&gt;&lt;/body&gt;</span>
<a href="#l5.279"></a><span id="l5.279" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l5.280"></a><span id="l5.280" class="difflineplus">+</span>
<a href="#l5.281"></a><span id="l5.281" class="difflineplus">+      &lt;method name=&quot;snoozeOk&quot;&gt;</span>
<a href="#l5.282"></a><span id="l5.282" class="difflineplus">+        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.283"></a><span id="l5.283" class="difflineplus">+          let unitList = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-unit-menulist&quot;);</span>
<a href="#l5.284"></a><span id="l5.284" class="difflineplus">+          let unitValue = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-value-textbox&quot;);</span>
<a href="#l5.285"></a><span id="l5.285" class="difflineplus">+</span>
<a href="#l5.286"></a><span id="l5.286" class="difflineplus">+          let minutes = (unitList.value || 1) * unitValue.value;</span>
<a href="#l5.287"></a><span id="l5.287" class="difflineplus">+          this.snoozeAlarm(minutes);</span>
<a href="#l5.288"></a><span id="l5.288" class="difflineplus">+        ]]&gt;&lt;/body&gt;</span>
<a href="#l5.289"></a><span id="l5.289" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l5.290"></a><span id="l5.290" class="difflineplus">+</span>
<a href="#l5.291"></a><span id="l5.291" class="difflineplus">+      &lt;method name=&quot;snoozeCancel&quot;&gt;</span>
<a href="#l5.292"></a><span id="l5.292" class="difflineplus">+        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.293"></a><span id="l5.293" class="difflineplus">+          this.parentNode.hidePopup();</span>
<a href="#l5.294"></a><span id="l5.294" class="difflineplus">+        ]]&gt;&lt;/body&gt;</span>
<a href="#l5.295"></a><span id="l5.295" class="difflineplus">+      &lt;/method&gt;</span>
<a href="#l5.296"></a><span id="l5.296" class="difflineplus">+</span>
<a href="#l5.297"></a><span id="l5.297" class="difflineplus">+      &lt;method name=&quot;updateAccessibleName&quot;&gt;</span>
<a href="#l5.298"></a><span id="l5.298" class="difflineplus">+        &lt;body&gt;&lt;![CDATA[</span>
<a href="#l5.299"></a><span id="l5.299" class="difflineplus">+          let unitList = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-unit-menulist&quot;);</span>
<a href="#l5.300"></a><span id="l5.300" class="difflineplus">+          let unitValue = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-value-textbox&quot;);</span>
<a href="#l5.301"></a><span id="l5.301" class="difflineplus">+          let okButton = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;snooze-popup-ok&quot;);</span>
<a href="#l5.302"></a><span id="l5.302" class="difflineplus">+</span>
<a href="#l5.303"></a><span id="l5.303" class="difflineplus">+          let unitName = {</span>
<a href="#l5.304"></a><span id="l5.304" class="difflineplus">+              1: &quot;Minutes&quot;,</span>
<a href="#l5.305"></a><span id="l5.305" class="difflineplus">+              60: &quot;Hours&quot;,</span>
<a href="#l5.306"></a><span id="l5.306" class="difflineplus">+              1440: &quot;Days&quot;</span>
<a href="#l5.307"></a><span id="l5.307" class="difflineplus">+          }[unitList.value] || &quot;Minutes&quot;;</span>
<a href="#l5.308"></a><span id="l5.308" class="difflineplus">+</span>
<a href="#l5.309"></a><span id="l5.309" class="difflineplus">+          let pluralString = calGetString(&quot;calendar-alarms&quot;, &quot;reminderCustomUnit&quot; + unitName);</span>
<a href="#l5.310"></a><span id="l5.310" class="difflineplus">+          let unitPlural = PluralForm.get(unitValue.value, pluralString)</span>
<a href="#l5.311"></a><span id="l5.311" class="difflineplus">+                                     .replace(&quot;#1&quot;, unitValue.value);</span>
<a href="#l5.312"></a><span id="l5.312" class="difflineplus">+</span>
<a href="#l5.313"></a><span id="l5.313" class="difflineplus">+          let accessibleString = calGetString(&quot;calendar-alarms&quot;,</span>
<a href="#l5.314"></a><span id="l5.314" class="difflineplus">+                                              &quot;reminderSnoozeOkA11y&quot;,</span>
<a href="#l5.315"></a><span id="l5.315" class="difflineplus">+                                              [unitPlural]);</span>
<a href="#l5.316"></a><span id="l5.316" class="difflineplus">+          okButton.setAttribute(&quot;aria-label&quot;, accessibleString);</span>
<a href="#l5.317"></a><span id="l5.317">         ]]&gt;&lt;/body&gt;</span>
<a href="#l5.318"></a><span id="l5.318">       &lt;/method&gt;</span>
<a href="#l5.319"></a><span id="l5.319">     &lt;/implementation&gt;</span>
<a href="#l5.320"></a><span id="l5.320">   &lt;/binding&gt;</span>
<a href="#l5.321"></a><span id="l5.321"> &lt;/bindings&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/jar.mn</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/jar.mn</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1,17 +1,14 @@</span>
<a href="#l6.4"></a><span id="l6.4"> #filter substitution</span>
<a href="#l6.5"></a><span id="l6.5"> calendar.jar:</span>
<a href="#l6.6"></a><span id="l6.6"> % content calendar %content/calendar/</span>
<a href="#l6.7"></a><span id="l6.7"> % style chrome://calendar/content/calendar-event-dialog.xul chrome://global/skin/toolbar.css</span>
<a href="#l6.8"></a><span id="l6.8">     content/calendar/agenda-listbox.js                     (content/agenda-listbox.js)</span>
<a href="#l6.9"></a><span id="l6.9">     content/calendar/agenda-listbox.xml                    (content/agenda-listbox.xml)</span>
<a href="#l6.10"></a><span id="l6.10" class="difflineminus">-    content/calendar/calendar-alarm-snooze-popup.xul       (content/calendar-alarm-snooze-popup.xul)</span>
<a href="#l6.11"></a><span id="l6.11" class="difflineminus">-    content/calendar/calendar-alarm-snooze-popup.js        (content/calendar-alarm-snooze-popup.js)</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-    content/calendar/calendar-alarm-widget.xml             (content/calendar-alarm-widget.xml)</span>
<a href="#l6.13"></a><span id="l6.13">     content/calendar/calendar-bindings.css                 (content/calendar-bindings.css)</span>
<a href="#l6.14"></a><span id="l6.14">     content/calendar/calendar-calendars-list.xul           (content/calendar-calendars-list.xul)</span>
<a href="#l6.15"></a><span id="l6.15">     content/calendar/calendar-chrome-startup.js            (content/calendar-chrome-startup.js)</span>
<a href="#l6.16"></a><span id="l6.16">     content/calendar/calendar-clipboard.js                 (content/calendar-clipboard.js)</span>
<a href="#l6.17"></a><span id="l6.17"> *   content/calendar/calendar-common-sets.xul              (content/calendar-common-sets.xul)</span>
<a href="#l6.18"></a><span id="l6.18">     content/calendar/calendar-common-sets.js               (content/calendar-common-sets.js)</span>
<a href="#l6.19"></a><span id="l6.19">     content/calendar/calendar-daypicker.xml                (content/calendar-daypicker.xml)</span>
<a href="#l6.20"></a><span id="l6.20">     content/calendar/calendar-views.xml                    (content/calendar-views.xml)</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineat">@@ -87,16 +84,17 @@ calendar.jar:</span>
<a href="#l6.22"></a><span id="l6.22">     content/calendar/preferences/editCategory.xul          (content/preferences/editCategory.xul)</span>
<a href="#l6.23"></a><span id="l6.23">     content/calendar/preferences/general.js                (content/preferences/general.js)</span>
<a href="#l6.24"></a><span id="l6.24">     content/calendar/preferences/general.xul               (content/preferences/general.xul)</span>
<a href="#l6.25"></a><span id="l6.25">     content/calendar/preferences/timezones.js              (content/preferences/timezones.js)</span>
<a href="#l6.26"></a><span id="l6.26">     content/calendar/preferences/timezones.xul             (content/preferences/timezones.xul)</span>
<a href="#l6.27"></a><span id="l6.27">     content/calendar/preferences/views.js                  (content/preferences/views.js)</span>
<a href="#l6.28"></a><span id="l6.28">     content/calendar/preferences/views.xul                 (content/preferences/views.xul)</span>
<a href="#l6.29"></a><span id="l6.29">     content/calendar/widgets/minimonth.xml                 (content/widgets/minimonth.xml)</span>
<a href="#l6.30"></a><span id="l6.30" class="difflineplus">+    content/calendar/widgets/calendar-alarm-widget.xml     (content/widgets/calendar-alarm-widget.xml)</span>
<a href="#l6.31"></a><span id="l6.31">     content/calendar/widgets/calendar-widgets.xml          (content/widgets/calendar-widgets.xml)</span>
<a href="#l6.32"></a><span id="l6.32">     content/calendar/widgets/calendar-list-tree.xml        (content/widgets/calendar-list-tree.xml)</span>
<a href="#l6.33"></a><span id="l6.33">     content/calendar/calendar-subscriptions-list.xml       (content/widgets/calendar-subscriptions-list.xml)</span>
<a href="#l6.34"></a><span id="l6.34">     content/calendar/widgets/calendar-widget-bindings.css  (content/widgets/calendar-widget-bindings.css)</span>
<a href="#l6.35"></a><span id="l6.35"> *   content/calendar/calApplicationUtils.js                (src/calApplicationUtils.js)</span>
<a href="#l6.36"></a><span id="l6.36">     content/calendar/calUtils.js                           (src/calUtils.js)</span>
<a href="#l6.37"></a><span id="l6.37">     content/calendar/calFilter.js                          (src/calFilter.js)</span>
<a href="#l6.38"></a><span id="l6.38">     content/calendar/Windows98ToZoneInfoTZId.properties    (src/Windows98ToZoneInfoTZId.properties)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/themes/pinstripe/dialogs/calendar-alarm-dialog.css</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -31,17 +31,21 @@</span>
<a href="#l7.4"></a><span id="l7.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l7.5"></a><span id="l7.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l7.6"></a><span id="l7.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l7.7"></a><span id="l7.7">  *</span>
<a href="#l7.8"></a><span id="l7.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l7.9"></a><span id="l7.9"> </span>
<a href="#l7.10"></a><span id="l7.10"> /* Bindings */</span>
<a href="#l7.11"></a><span id="l7.11"> calendar-alarm-widget {</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-    -moz-binding: url(chrome://calendar/content/calendar-alarm-widget.xml#calendar-alarm-widget);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+    -moz-binding: url(chrome://calendar/content/widgets/calendar-alarm-widget.xml#calendar-alarm-widget);</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+}</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineplus">+</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineplus">+menupopup[type=&quot;snooze-menupopup&quot;] {</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineplus">+    -moz-binding: url(chrome://calendar/content/widgets/calendar-alarm-widget.xml#calendar-snooze-popup);</span>
<a href="#l7.18"></a><span id="l7.18"> }</span>
<a href="#l7.19"></a><span id="l7.19"> </span>
<a href="#l7.20"></a><span id="l7.20"> /* Alarm dialog styles */</span>
<a href="#l7.21"></a><span id="l7.21"> #alarm-richlist {</span>
<a href="#l7.22"></a><span id="l7.22">     margin: 10px;</span>
<a href="#l7.23"></a><span id="l7.23"> }</span>
<a href="#l7.24"></a><span id="l7.24"> </span>
<a href="#l7.25"></a><span id="l7.25"> #alarm-actionbar {</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineat">@@ -92,92 +96,57 @@ calendar-alarm-widget[selected=&quot;true&quot;] .</span>
<a href="#l7.27"></a><span id="l7.27"> calendar-alarm-widget[selected=&quot;true&quot;] .alarm-calendar-image {</span>
<a href="#l7.28"></a><span id="l7.28">     list-style-image: url(chrome://calendar/skin/cal-icon32.png);</span>
<a href="#l7.29"></a><span id="l7.29"> }</span>
<a href="#l7.30"></a><span id="l7.30"> </span>
<a href="#l7.31"></a><span id="l7.31"> .resizer-box {</span>
<a href="#l7.32"></a><span id="l7.32">     min-height: 15px;</span>
<a href="#l7.33"></a><span id="l7.33"> }</span>
<a href="#l7.34"></a><span id="l7.34"> </span>
<a href="#l7.35"></a><span id="l7.35" class="difflineminus">-/* Custom alarm popup styles */</span>
<a href="#l7.36"></a><span id="l7.36" class="difflineminus">-#calendar-alarm-snooze-popup-window {</span>
<a href="#l7.37"></a><span id="l7.37" class="difflineminus">-    background-color: menu;</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineminus">-    color: menutext;</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineminus">-    padding: 3px;</span>
<a href="#l7.40"></a><span id="l7.40" class="difflineminus">-    z-index: 2147483648;</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineminus">-}</span>
<a href="#l7.42"></a><span id="l7.42" class="difflineminus">-</span>
<a href="#l7.43"></a><span id="l7.43" class="difflineminus">-#custom-menupopup-radiogroup .radio-check {</span>
<a href="#l7.44"></a><span id="l7.44" class="difflineminus">-    display: none;</span>
<a href="#l7.45"></a><span id="l7.45" class="difflineminus">-}</span>
<a href="#l7.46"></a><span id="l7.46" class="difflineminus">-</span>
<a href="#l7.47"></a><span id="l7.47" class="difflineminus">-#custom-menupopup-radiogroup radio[selected] {</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineminus">-    background-color: Highlight;</span>
<a href="#l7.49"></a><span id="l7.49" class="difflineminus">-    color: HighlightText;</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineminus">-}</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineminus">-</span>
<a href="#l7.52"></a><span id="l7.52" class="difflineminus">-#custom-menupopup-radiogroup radio  {</span>
<a href="#l7.53"></a><span id="l7.53" class="difflineminus">-    -moz-appearance: none;</span>
<a href="#l7.54"></a><span id="l7.54" class="difflineminus">-    min-height: 1.5ex;</span>
<a href="#l7.55"></a><span id="l7.55" class="difflineminus">-    max-width: 42em;</span>
<a href="#l7.56"></a><span id="l7.56" class="difflineminus">-    padding: 3px;</span>
<a href="#l7.57"></a><span id="l7.57" class="difflineminus">-    margin: 1px;</span>
<a href="#l7.58"></a><span id="l7.58" class="difflineminus">-    background-color: transparent;</span>
<a href="#l7.59"></a><span id="l7.59" class="difflineminus">-    color: menutext;</span>
<a href="#l7.60"></a><span id="l7.60" class="difflineminus">-}</span>
<a href="#l7.61"></a><span id="l7.61" class="difflineminus">-</span>
<a href="#l7.62"></a><span id="l7.62" class="difflineminus">-#custom-menupopup-radiogroup &gt; radio &gt; .radio-label-box {</span>
<a href="#l7.63"></a><span id="l7.63" class="difflineminus">-    -moz-margin-start: 17px;</span>
<a href="#l7.64"></a><span id="l7.64" class="difflineminus">-    border: 0;</span>
<a href="#l7.65"></a><span id="l7.65" class="difflineminus">-}</span>
<a href="#l7.66"></a><span id="l7.66" class="difflineminus">-</span>
<a href="#l7.67"></a><span id="l7.67" class="difflineminus">-.custom-menupopup-ok-button {</span>
<a href="#l7.68"></a><span id="l7.68" class="difflineplus">+.snooze-popup-ok-button {</span>
<a href="#l7.69"></a><span id="l7.69">     -moz-image-region: rect(0px, 14px, 14px, 0px);</span>
<a href="#l7.70"></a><span id="l7.70"> }</span>
<a href="#l7.71"></a><span id="l7.71"> </span>
<a href="#l7.72"></a><span id="l7.72" class="difflineminus">-.custom-menupopup-ok-button:hover {</span>
<a href="#l7.73"></a><span id="l7.73" class="difflineplus">+.snooze-popup-ok-button:hover {</span>
<a href="#l7.74"></a><span id="l7.74">     -moz-image-region: rect(14px, 14px, 28px, 0px);</span>
<a href="#l7.75"></a><span id="l7.75"> }</span>
<a href="#l7.76"></a><span id="l7.76"> </span>
<a href="#l7.77"></a><span id="l7.77" class="difflineminus">-.custom-menupopup-ok-button:active {</span>
<a href="#l7.78"></a><span id="l7.78" class="difflineplus">+.snooze-popup-ok-button:active {</span>
<a href="#l7.79"></a><span id="l7.79">     -moz-image-region: rect(28px, 14px, 42px, 0px);</span>
<a href="#l7.80"></a><span id="l7.80"> }</span>
<a href="#l7.81"></a><span id="l7.81"> </span>
<a href="#l7.82"></a><span id="l7.82" class="difflineminus">-.custom-menupopup-ok-button[disabled=&quot;true&quot;] {</span>
<a href="#l7.83"></a><span id="l7.83" class="difflineplus">+.snooze-popup-ok-button[disabled=&quot;true&quot;] {</span>
<a href="#l7.84"></a><span id="l7.84">     -moz-image-region: rect(42px, 14px, 56px, 0px);</span>
<a href="#l7.85"></a><span id="l7.85"> }</span>
<a href="#l7.86"></a><span id="l7.86"> </span>
<a href="#l7.87"></a><span id="l7.87" class="difflineminus">-.custom-menupopup-cancel-button {</span>
<a href="#l7.88"></a><span id="l7.88" class="difflineplus">+.snooze-popup-cancel-button {</span>
<a href="#l7.89"></a><span id="l7.89">     -moz-image-region: rect(0px, 28px, 14px, 14px);</span>
<a href="#l7.90"></a><span id="l7.90"> }</span>
<a href="#l7.91"></a><span id="l7.91"> </span>
<a href="#l7.92"></a><span id="l7.92" class="difflineminus">-.custom-menupopup-cancel-button:hover {</span>
<a href="#l7.93"></a><span id="l7.93" class="difflineplus">+.snooze-popup-cancel-button:hover {</span>
<a href="#l7.94"></a><span id="l7.94">     -moz-image-region: rect(14px, 28px, 28px, 14px);</span>
<a href="#l7.95"></a><span id="l7.95"> }</span>
<a href="#l7.96"></a><span id="l7.96"> </span>
<a href="#l7.97"></a><span id="l7.97" class="difflineminus">-.custom-menupopup-cancel-button:active {</span>
<a href="#l7.98"></a><span id="l7.98" class="difflineplus">+.snooze-popup-cancel-button:active {</span>
<a href="#l7.99"></a><span id="l7.99">     -moz-image-region: rect(28px, 28px, 42px, 14px);</span>
<a href="#l7.100"></a><span id="l7.100"> }</span>
<a href="#l7.101"></a><span id="l7.101"> </span>
<a href="#l7.102"></a><span id="l7.102" class="difflineminus">-.custom-menupopup-ok-button,</span>
<a href="#l7.103"></a><span id="l7.103" class="difflineminus">-.custom-menupopup-cancel-button {</span>
<a href="#l7.104"></a><span id="l7.104" class="difflineplus">+.snooze-popup-button {</span>
<a href="#l7.105"></a><span id="l7.105">     list-style-image: url(chrome://calendar/skin/ok-cancel.png);</span>
<a href="#l7.106"></a><span id="l7.106" class="difflineminus">-    background-color: transparent;</span>
<a href="#l7.107"></a><span id="l7.107" class="difflineminus">-    border: 0;</span>
<a href="#l7.108"></a><span id="l7.108" class="difflineminus">-    padding: 0;</span>
<a href="#l7.109"></a><span id="l7.109" class="difflineminus">-    margin: 2px;</span>
<a href="#l7.110"></a><span id="l7.110">     min-width: 0;</span>
<a href="#l7.111"></a><span id="l7.111" class="difflineminus">-    -moz-appearance: none;</span>
<a href="#l7.112"></a><span id="l7.112" class="difflineplus">+    -moz-appearance: toolbarbutton;</span>
<a href="#l7.113"></a><span id="l7.113"> }</span>
<a href="#l7.114"></a><span id="l7.114"> </span>
<a href="#l7.115"></a><span id="l7.115" class="difflineminus">-.custom-menupopup-ok-button &gt; .button-box,</span>
<a href="#l7.116"></a><span id="l7.116" class="difflineminus">-.custom-menupopup-cancel-button &gt; .button-box {</span>
<a href="#l7.117"></a><span id="l7.117" class="difflineplus">+.snooze-popup-button &gt; .button-box &gt; .button-icon {</span>
<a href="#l7.118"></a><span id="l7.118" class="difflineplus">+    margin: 0;</span>
<a href="#l7.119"></a><span id="l7.119" class="difflineplus">+}</span>
<a href="#l7.120"></a><span id="l7.120" class="difflineplus">+</span>
<a href="#l7.121"></a><span id="l7.121" class="difflineplus">+.snooze-popup-button &gt; .button-box {</span>
<a href="#l7.122"></a><span id="l7.122">     border: 0;</span>
<a href="#l7.123"></a><span id="l7.123">     padding: 0;</span>
<a href="#l7.124"></a><span id="l7.124">     -moz-box-pack: center;</span>
<a href="#l7.125"></a><span id="l7.125">     -moz-box-align: center;</span>
<a href="#l7.126"></a><span id="l7.126"> }</span>
<a href="#l7.127"></a><span id="l7.127"> </span>
<a href="#l7.128"></a><span id="l7.128" class="difflineminus">-.custom-menupopup-ok-button:focus &gt; .button-box,</span>
<a href="#l7.129"></a><span id="l7.129" class="difflineminus">-.custom-menupopup-cancel-button:focus &gt; .button-box {</span>
<a href="#l7.130"></a><span id="l7.130" class="difflineplus">+.snooze-popup-button:focus &gt; .button-box {</span>
<a href="#l7.131"></a><span id="l7.131">     border: 1px dotted ThreeDDarkShadow;</span>
<a href="#l7.132"></a><span id="l7.132">     padding: 0;</span>
<a href="#l7.133"></a><span id="l7.133"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/themes/winstripe/dialogs/calendar-alarm-dialog.css</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -31,17 +31,21 @@</span>
<a href="#l8.4"></a><span id="l8.4">  * and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l8.5"></a><span id="l8.5">  * the provisions above, a recipient may use your version of this file under</span>
<a href="#l8.6"></a><span id="l8.6">  * the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l8.7"></a><span id="l8.7">  *</span>
<a href="#l8.8"></a><span id="l8.8">  * ***** END LICENSE BLOCK ***** */</span>
<a href="#l8.9"></a><span id="l8.9"> </span>
<a href="#l8.10"></a><span id="l8.10"> /* Bindings */</span>
<a href="#l8.11"></a><span id="l8.11"> calendar-alarm-widget {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    -moz-binding: url(chrome://calendar/content/calendar-alarm-widget.xml#calendar-alarm-widget);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    -moz-binding: url(chrome://calendar/content/widgets/calendar-alarm-widget.xml#calendar-alarm-widget);</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+}</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+menupopup[type=&quot;snooze-menupopup&quot;] &gt; arrowscrollbox {</span>
<a href="#l8.17"></a><span id="l8.17" class="difflineplus">+    -moz-binding: url(chrome://calendar/content/widgets/calendar-alarm-widget.xml#calendar-snooze-popup);</span>
<a href="#l8.18"></a><span id="l8.18"> }</span>
<a href="#l8.19"></a><span id="l8.19"> </span>
<a href="#l8.20"></a><span id="l8.20"> /* Alarm dialog styles */</span>
<a href="#l8.21"></a><span id="l8.21"> #alarm-richlist {</span>
<a href="#l8.22"></a><span id="l8.22">     margin: 10px;</span>
<a href="#l8.23"></a><span id="l8.23"> }</span>
<a href="#l8.24"></a><span id="l8.24"> </span>
<a href="#l8.25"></a><span id="l8.25"> #alarm-actionbar {</span>
<a href="#l8.26"></a><span id="l8.26" class="difflineat">@@ -91,96 +95,59 @@ calendar-alarm-widget[selected=&quot;true&quot;] .</span>
<a href="#l8.27"></a><span id="l8.27"> calendar-alarm-widget[selected=&quot;true&quot;] .alarm-calendar-image {</span>
<a href="#l8.28"></a><span id="l8.28">     list-style-image: url(chrome://calendar/skin/cal-icon32.png);</span>
<a href="#l8.29"></a><span id="l8.29"> }</span>
<a href="#l8.30"></a><span id="l8.30"> </span>
<a href="#l8.31"></a><span id="l8.31"> .resizer-box {</span>
<a href="#l8.32"></a><span id="l8.32">     min-height: 15px;</span>
<a href="#l8.33"></a><span id="l8.33"> }</span>
<a href="#l8.34"></a><span id="l8.34"> </span>
<a href="#l8.35"></a><span id="l8.35" class="difflineminus">-/* Custom alarm popup styles */</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-#calendar-alarm-snooze-popup-window {</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineminus">-    background-color: menu;</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineminus">-    color: menutext;</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineminus">-    border: 1px solid ThreeDShadow;</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineminus">-    z-index: 2147483648;</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineminus">-}</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineminus">-</span>
<a href="#l8.43"></a><span id="l8.43" class="difflineminus">-#custom-menupopup-radiogroup .radio-check-box1 {</span>
<a href="#l8.44"></a><span id="l8.44" class="difflineminus">-    display: none;</span>
<a href="#l8.45"></a><span id="l8.45" class="difflineminus">-}</span>
<a href="#l8.46"></a><span id="l8.46" class="difflineminus">-</span>
<a href="#l8.47"></a><span id="l8.47" class="difflineminus">-#custom-menupopup-radiogroup radio[selected] {</span>
<a href="#l8.48"></a><span id="l8.48" class="difflineminus">-    background-color: Highlight;</span>
<a href="#l8.49"></a><span id="l8.49" class="difflineminus">-    color: HighlightText;</span>
<a href="#l8.50"></a><span id="l8.50" class="difflineminus">-}</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineminus">-</span>
<a href="#l8.52"></a><span id="l8.52" class="difflineminus">-#custom-menupopup-radiogroup radio  {</span>
<a href="#l8.53"></a><span id="l8.53" class="difflineminus">-    -moz-appearance: none;</span>
<a href="#l8.54"></a><span id="l8.54" class="difflineminus">-    min-height: 1.5ex;</span>
<a href="#l8.55"></a><span id="l8.55" class="difflineminus">-    max-width: 42em;</span>
<a href="#l8.56"></a><span id="l8.56" class="difflineminus">-    padding: 3px;</span>
<a href="#l8.57"></a><span id="l8.57" class="difflineminus">-    margin: 1px;</span>
<a href="#l8.58"></a><span id="l8.58" class="difflineminus">-    background-color: transparent;</span>
<a href="#l8.59"></a><span id="l8.59" class="difflineminus">-    color: menutext;</span>
<a href="#l8.60"></a><span id="l8.60" class="difflineminus">-}</span>
<a href="#l8.61"></a><span id="l8.61" class="difflineminus">-</span>
<a href="#l8.62"></a><span id="l8.62" class="difflineminus">-#custom-menupopup-radiogroup &gt; radio &gt; .radio-label-box {</span>
<a href="#l8.63"></a><span id="l8.63" class="difflineminus">-    -moz-margin-start: 17px;</span>
<a href="#l8.64"></a><span id="l8.64" class="difflineminus">-    border: 0;</span>
<a href="#l8.65"></a><span id="l8.65" class="difflineminus">-}</span>
<a href="#l8.66"></a><span id="l8.66" class="difflineminus">-</span>
<a href="#l8.67"></a><span id="l8.67" class="difflineminus">-.custom-menupopup-ok-button {</span>
<a href="#l8.68"></a><span id="l8.68" class="difflineplus">+.snooze-popup-ok-button {</span>
<a href="#l8.69"></a><span id="l8.69">     -moz-image-region: rect(0px, 14px, 14px, 0px);</span>
<a href="#l8.70"></a><span id="l8.70"> }</span>
<a href="#l8.71"></a><span id="l8.71"> </span>
<a href="#l8.72"></a><span id="l8.72" class="difflineminus">-.custom-menupopup-ok-button:hover {</span>
<a href="#l8.73"></a><span id="l8.73" class="difflineplus">+.snooze-popup-ok-button:hover {</span>
<a href="#l8.74"></a><span id="l8.74">     -moz-image-region: rect(14px, 14px, 28px, 0px);</span>
<a href="#l8.75"></a><span id="l8.75" class="difflineplus">+    background-color: -moz-menuhover;</span>
<a href="#l8.76"></a><span id="l8.76"> }</span>
<a href="#l8.77"></a><span id="l8.77"> </span>
<a href="#l8.78"></a><span id="l8.78" class="difflineminus">-.custom-menupopup-ok-button:active {</span>
<a href="#l8.79"></a><span id="l8.79" class="difflineplus">+.snooze-popup-ok-button:active {</span>
<a href="#l8.80"></a><span id="l8.80">     -moz-image-region: rect(28px, 14px, 42px, 0px);</span>
<a href="#l8.81"></a><span id="l8.81"> }</span>
<a href="#l8.82"></a><span id="l8.82"> </span>
<a href="#l8.83"></a><span id="l8.83" class="difflineminus">-.custom-menupopup-ok-button[disabled=&quot;true&quot;] {</span>
<a href="#l8.84"></a><span id="l8.84" class="difflineplus">+.snooze-popup-ok-button[disabled=&quot;true&quot;] {</span>
<a href="#l8.85"></a><span id="l8.85">     -moz-image-region: rect(42px, 14px, 56px, 0px);</span>
<a href="#l8.86"></a><span id="l8.86"> }</span>
<a href="#l8.87"></a><span id="l8.87"> </span>
<a href="#l8.88"></a><span id="l8.88" class="difflineminus">-.custom-menupopup-cancel-button {</span>
<a href="#l8.89"></a><span id="l8.89" class="difflineplus">+.snooze-popup-cancel-button {</span>
<a href="#l8.90"></a><span id="l8.90">     -moz-image-region: rect(0px, 28px, 14px, 14px);</span>
<a href="#l8.91"></a><span id="l8.91"> }</span>
<a href="#l8.92"></a><span id="l8.92"> </span>
<a href="#l8.93"></a><span id="l8.93" class="difflineminus">-.custom-menupopup-cancel-button:hover {</span>
<a href="#l8.94"></a><span id="l8.94" class="difflineplus">+.snooze-popup-cancel-button:hover {</span>
<a href="#l8.95"></a><span id="l8.95">     -moz-image-region: rect(14px, 28px, 28px, 14px);</span>
<a href="#l8.96"></a><span id="l8.96" class="difflineplus">+    background-color: -moz-menuhover;</span>
<a href="#l8.97"></a><span id="l8.97"> }</span>
<a href="#l8.98"></a><span id="l8.98"> </span>
<a href="#l8.99"></a><span id="l8.99" class="difflineminus">-.custom-menupopup-cancel-button:active {</span>
<a href="#l8.100"></a><span id="l8.100" class="difflineplus">+.snooze-popup-cancel-button:active {</span>
<a href="#l8.101"></a><span id="l8.101">     -moz-image-region: rect(28px, 28px, 42px, 14px);</span>
<a href="#l8.102"></a><span id="l8.102"> }</span>
<a href="#l8.103"></a><span id="l8.103"> </span>
<a href="#l8.104"></a><span id="l8.104" class="difflineminus">-.custom-menupopup-ok-button,</span>
<a href="#l8.105"></a><span id="l8.105" class="difflineminus">-.custom-menupopup-cancel-button {</span>
<a href="#l8.106"></a><span id="l8.106" class="difflineplus">+.snooze-popup-button {</span>
<a href="#l8.107"></a><span id="l8.107">     list-style-image: url(chrome://calendar/skin/ok-cancel.png);</span>
<a href="#l8.108"></a><span id="l8.108" class="difflineminus">-    background-color: transparent;</span>
<a href="#l8.109"></a><span id="l8.109" class="difflineminus">-    border: 0;</span>
<a href="#l8.110"></a><span id="l8.110" class="difflineminus">-    padding: 0;</span>
<a href="#l8.111"></a><span id="l8.111" class="difflineminus">-    margin: 2px;</span>
<a href="#l8.112"></a><span id="l8.112">     min-width: 0;</span>
<a href="#l8.113"></a><span id="l8.113" class="difflineminus">-    -moz-appearance: none;</span>
<a href="#l8.114"></a><span id="l8.114" class="difflineplus">+    -moz-appearance: toolbarbutton;</span>
<a href="#l8.115"></a><span id="l8.115"> }</span>
<a href="#l8.116"></a><span id="l8.116"> </span>
<a href="#l8.117"></a><span id="l8.117" class="difflineminus">-.custom-menupopup-ok-button &gt; .button-box,</span>
<a href="#l8.118"></a><span id="l8.118" class="difflineminus">-.custom-menupopup-cancel-button &gt; .button-box {</span>
<a href="#l8.119"></a><span id="l8.119" class="difflineplus">+.snooze-popup-button &gt; .button-box &gt; .button-icon {</span>
<a href="#l8.120"></a><span id="l8.120" class="difflineplus">+    margin: 0;</span>
<a href="#l8.121"></a><span id="l8.121" class="difflineplus">+}</span>
<a href="#l8.122"></a><span id="l8.122" class="difflineplus">+</span>
<a href="#l8.123"></a><span id="l8.123" class="difflineplus">+.snooze-popup-button &gt; .button-box {</span>
<a href="#l8.124"></a><span id="l8.124">     border: 0;</span>
<a href="#l8.125"></a><span id="l8.125">     padding: 0;</span>
<a href="#l8.126"></a><span id="l8.126">     -moz-box-pack: center;</span>
<a href="#l8.127"></a><span id="l8.127">     -moz-box-align: center;</span>
<a href="#l8.128"></a><span id="l8.128"> }</span>
<a href="#l8.129"></a><span id="l8.129"> </span>
<a href="#l8.130"></a><span id="l8.130" class="difflineminus">-.custom-menupopup-ok-button:focus &gt; .button-box,</span>
<a href="#l8.131"></a><span id="l8.131" class="difflineminus">-.custom-menupopup-cancel-button:focus &gt; .button-box {</span>
<a href="#l8.132"></a><span id="l8.132" class="difflineplus">+.snooze-popup-button:focus &gt; .button-box {</span>
<a href="#l8.133"></a><span id="l8.133">     border: 1px dotted ThreeDDarkShadow;</span>
<a href="#l8.134"></a><span id="l8.134">     padding: 0;</span>
<a href="#l8.135"></a><span id="l8.135"> }</span>
<a href="#l8.136"></a><span id="l8.136" class="difflineminus">-</span>
<a href="#l8.137"></a><span id="l8.137" class="difflineminus">-.button-menu-dropmarker {</span>
<a href="#l8.138"></a><span id="l8.138" class="difflineminus">-    height: 11px;</span>
<a href="#l8.139"></a><span id="l8.139" class="difflineminus">-}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/locales/en-US/chrome/calendar/calendar-alarms.properties</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/locales/en-US/chrome/calendar/calendar-alarms.properties</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -42,16 +42,22 @@ reminderTitleAtStartEvent=The moment the</span>
<a href="#l9.4"></a><span id="l9.4"> reminderTitleAtStartTask=The moment the task starts</span>
<a href="#l9.5"></a><span id="l9.5"> reminderTitleAtEndEvent=The moment the event ends</span>
<a href="#l9.6"></a><span id="l9.6"> reminderTitleAtEndTask=The moment the task ends</span>
<a href="#l9.7"></a><span id="l9.7"> </span>
<a href="#l9.8"></a><span id="l9.8"> reminderCustomUnitMinutes=#1 minute;#1 minutes</span>
<a href="#l9.9"></a><span id="l9.9"> reminderCustomUnitHours=#1 hour;#1 hours </span>
<a href="#l9.10"></a><span id="l9.10"> reminderCustomUnitDays=#1 day;#1 days</span>
<a href="#l9.11"></a><span id="l9.11"> </span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+# LOCALIZATION NOTE (reminderSnoozeOkA11y)</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+# This string is not seen in the UI, it is read by screen readers when the user</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+# focuses the &quot;OK&quot; button in the &quot;Snooze for...&quot; popup of the alarm dialog.</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+# %1$S = any of reminderCustomUnit*</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+reminderSnoozeOkA11y=Snooze reminder for %1$S</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+</span>
<a href="#l9.18"></a><span id="l9.18"> reminderCustomOriginBeginBeforeEvent=before the event starts</span>
<a href="#l9.19"></a><span id="l9.19"> reminderCustomOriginBeginAfterEvent=after the event starts</span>
<a href="#l9.20"></a><span id="l9.20"> reminderCustomOriginEndBeforeEvent=before the event ends</span>
<a href="#l9.21"></a><span id="l9.21"> reminderCustomOriginEndAfterEvent=after the event ends</span>
<a href="#l9.22"></a><span id="l9.22"> reminderCustomOriginBeginBeforeTask=before the task starts</span>
<a href="#l9.23"></a><span id="l9.23"> reminderCustomOriginBeginAfterTask=after the task starts</span>
<a href="#l9.24"></a><span id="l9.24"> reminderCustomOriginEndBeforeTask=before the task ends</span>
<a href="#l9.25"></a><span id="l9.25"> reminderCustomOriginEndAfterTask=after the task ends</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/locales/en-US/chrome/calendar/calendar.dtd</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/locales/en-US/chrome/calendar/calendar.dtd</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -299,16 +299,22 @@</span>
<a href="#l10.4"></a><span id="l10.4"> &lt;!ENTITY calendar.alarm.snooze.10minutes.label      &quot;10 Minutes&quot; &gt;</span>
<a href="#l10.5"></a><span id="l10.5"> &lt;!ENTITY calendar.alarm.snooze.15minutes.label      &quot;15 Minutes&quot; &gt;</span>
<a href="#l10.6"></a><span id="l10.6"> &lt;!ENTITY calendar.alarm.snooze.30minutes.label      &quot;30 Minutes&quot; &gt;</span>
<a href="#l10.7"></a><span id="l10.7"> &lt;!ENTITY calendar.alarm.snooze.45minutes.label      &quot;45 Minutes&quot; &gt;</span>
<a href="#l10.8"></a><span id="l10.8"> &lt;!ENTITY calendar.alarm.snooze.1hour.label          &quot;1 Hour&quot; &gt;</span>
<a href="#l10.9"></a><span id="l10.9"> &lt;!ENTITY calendar.alarm.snooze.2hours.label         &quot;2 Hours&quot; &gt;</span>
<a href="#l10.10"></a><span id="l10.10"> &lt;!ENTITY calendar.alarm.snooze.1day.label           &quot;1 Day&quot; &gt;</span>
<a href="#l10.11"></a><span id="l10.11"> </span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+&lt;!-- LOCALIZATION NOTE (calendar.alarm.snooze.cancel)</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+     This string is not seen in the UI, it is read by screen readers when the</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+     user focuses the &quot;Cancel&quot; button in the &quot;Snooze for...&quot; popup of the alarm</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineplus">+     dialog. --&gt;</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineplus">+&lt;!ENTITY calendar.alarm.snooze.cancel               &quot;Cancel Snooze&quot;&gt;</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineplus">+</span>
<a href="#l10.18"></a><span id="l10.18"> &lt;!-- Calendar Server Dialog --&gt;</span>
<a href="#l10.19"></a><span id="l10.19"> &lt;!ENTITY calendar.server.dialog.title.edit          &quot;Edit Calendar&quot;&gt;</span>
<a href="#l10.20"></a><span id="l10.20"> &lt;!ENTITY calendar.server.dialog.name.label          &quot;Calendar Name:&quot;&gt;</span>
<a href="#l10.21"></a><span id="l10.21"> </span>
<a href="#l10.22"></a><span id="l10.22"> &lt;!-- Calendar Properties --&gt;</span>
<a href="#l10.23"></a><span id="l10.23"> &lt;!ENTITY calendarproperties.color.label                    &quot;Color:&quot;&gt;</span>
<a href="#l10.24"></a><span id="l10.24"> &lt;!ENTITY calendarproperties.webdav.label                   &quot;iCalendar (ICS)&quot;&gt;</span>
<a href="#l10.25"></a><span id="l10.25"> &lt;!ENTITY calendarproperties.caldav.label                   &quot;CalDAV&quot;&gt;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

