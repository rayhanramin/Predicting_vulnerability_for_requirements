<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 20449:9e677d56384d6301af0bc3d345f5cef36713fc46</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 9e677d56384d6301af0bc3d345f5cef36713fc46" />
<meta property="og:url" content="/comm-central/rev/9e677d56384d6301af0bc3d345f5cef36713fc46" />
<meta property="og:description" content="Bug 1202902 - Mass replace toplevel 'let' with 'var' in preparation for global lexical scope. (rs=jorendorff)" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 9e677d56384d6301af0bc3d345f5cef36713fc46 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/9e677d56384d6301af0bc3d345f5cef36713fc46">shortlog</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/9e677d56384d6301af0bc3d345f5cef36713fc46">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46">files</a> |
changeset |
<a href="/comm-central/raw-rev/9e677d56384d6301af0bc3d345f5cef36713fc46">raw</a>  | <a href="/comm-central/archive/9e677d56384d6301af0bc3d345f5cef36713fc46.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1202902">Bug 1202902</a> - Mass replace toplevel 'let' with 'var' in preparation for global lexical scope. (rs=jorendorff)
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#83;&#104;&#117;&#45;&#121;&#117;&#32;&#71;&#117;&#111;&#32;&#60;&#115;&#104;&#117;&#64;&#114;&#102;&#114;&#110;&#46;&#111;&#114;&#103;&#62;</td></tr>
<tr><td></td><td class="date age">Tue, 15 Sep 2015 11:19:45 -0700</td></tr>

<tr>
 <td>changeset 20449</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/9e677d56384d6301af0bc3d345f5cef36713fc46">9e677d56384d6301af0bc3d345f5cef36713fc46</a></td>
</tr>



<tr>
<td>parent 20448</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/899efa370114dc79a9208e6575c872ddd166ed42">899efa370114dc79a9208e6575c872ddd166ed42</a>
</td>
</tr>

<tr>
<td>child 20450</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/0ec5c2495bff8d25abd2103f627cb9d5489d1197">0ec5c2495bff8d25abd2103f627cb9d5489d1197</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=9e677d56384d6301af0bc3d345f5cef36713fc46">12352</a></td></tr>
<tr><td>push user</td><td>philip.chee@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Tue, 27 Sep 2016 08:56:11 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@9bd937fc0c12 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de&newProject=comm-central&newRevision=66094254572ec015e4e170847fdebd67a6cf6198&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de&newProject=comm-central&newRevision=66094254572ec015e4e170847fdebd67a6cf6198&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9bd937fc0c12bc6b04247f0da5e1f140bd1441de&newProject=comm-central&newRevision=66094254572ec015e4e170847fdebd67a6cf6198&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28jorendorff%29&revcount=50">jorendorff</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1202902">1202902</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1202902">Bug 1202902</a> - Mass replace toplevel 'let' with 'var' in preparation for global lexical scope. (rs=jorendorff)</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/nsPlacesAutoComplete.js">suite/common/places/nsPlacesAutoComplete.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/nsPlacesAutoComplete.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/nsPlacesAutoComplete.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/nsPlacesAutoComplete.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/nsPlacesAutoComplete.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/nsPlacesAutoComplete.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/head_autocomplete.js">suite/common/places/tests/autocomplete/head_autocomplete.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/head_autocomplete.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/head_autocomplete.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/head_autocomplete.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/head_autocomplete.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/head_autocomplete.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416211.js">suite/common/places/tests/autocomplete/test_416211.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416211.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416211.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416211.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416211.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416211.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416214.js">suite/common/places/tests/autocomplete/test_416214.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416214.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416214.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416214.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416214.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_416214.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_417798.js">suite/common/places/tests/autocomplete/test_417798.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_417798.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_417798.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_417798.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_417798.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_417798.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_418257.js">suite/common/places/tests/autocomplete/test_418257.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_418257.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_418257.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_418257.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_418257.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_418257.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_422277.js">suite/common/places/tests/autocomplete/test_422277.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_422277.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_422277.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_422277.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_422277.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_422277.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js">suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_empty_search.js">suite/common/places/tests/autocomplete/test_empty_search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_empty_search.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_empty_search.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_empty_search.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_empty_search.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_empty_search.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_enabled.js">suite/common/places/tests/autocomplete/test_enabled.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_enabled.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_enabled.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_enabled.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_enabled.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_enabled.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_escape_self.js">suite/common/places/tests/autocomplete/test_escape_self.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_escape_self.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_escape_self.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_escape_self.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_escape_self.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_escape_self.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_ignore_protocol.js">suite/common/places/tests/autocomplete/test_ignore_protocol.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_ignore_protocol.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_ignore_protocol.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_ignore_protocol.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_ignore_protocol.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_ignore_protocol.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_keyword_search.js">suite/common/places/tests/autocomplete/test_keyword_search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_keyword_search.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_keyword_search.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_keyword_search.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_keyword_search.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_keyword_search.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_match_beginning.js">suite/common/places/tests/autocomplete/test_match_beginning.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_match_beginning.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_match_beginning.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_match_beginning.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_match_beginning.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_match_beginning.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_multi_word_search.js">suite/common/places/tests/autocomplete/test_multi_word_search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_multi_word_search.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_multi_word_search.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_multi_word_search.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_multi_word_search.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_multi_word_search.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_special_search.js">suite/common/places/tests/autocomplete/test_special_search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_special_search.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_special_search.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_special_search.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_special_search.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_special_search.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_swap_protocol.js">suite/common/places/tests/autocomplete/test_swap_protocol.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_swap_protocol.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_swap_protocol.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_swap_protocol.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_swap_protocol.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_swap_protocol.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_tabmatches.js">suite/common/places/tests/autocomplete/test_tabmatches.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_tabmatches.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_tabmatches.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_tabmatches.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_tabmatches.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_tabmatches.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_word_boundary_search.js">suite/common/places/tests/autocomplete/test_word_boundary_search.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_word_boundary_search.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_word_boundary_search.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_word_boundary_search.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_word_boundary_search.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/autocomplete/test_word_boundary_search.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/head_common.js">suite/common/places/tests/head_common.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/head_common.js">file</a> |
<a href="/comm-central/annotate/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/head_common.js">annotate</a> |
<a href="/comm-central/diff/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/head_common.js">diff</a> |
<a href="/comm-central/comparison/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/head_common.js">comparison</a> |
<a href="/comm-central/log/9e677d56384d6301af0bc3d345f5cef36713fc46/suite/common/places/tests/head_common.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/common/places/nsPlacesAutoComplete.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/common/places/nsPlacesAutoComplete.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1764,10 +1764,10 @@ urlInlineComplete.prototype = {</span>
<a href="#l1.4"></a><span id="l1.4">   QueryInterface: XPCOMUtils.generateQI([</span>
<a href="#l1.5"></a><span id="l1.5">     Ci.nsIAutoCompleteSearch,</span>
<a href="#l1.6"></a><span id="l1.6">     Ci.nsIAutoCompleteSearchDescriptor,</span>
<a href="#l1.7"></a><span id="l1.7">     Ci.nsIObserver,</span>
<a href="#l1.8"></a><span id="l1.8">     Ci.nsISupportsWeakReference,</span>
<a href="#l1.9"></a><span id="l1.9">   ])</span>
<a href="#l1.10"></a><span id="l1.10"> };</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-let components = [nsPlacesAutoComplete, urlInlineComplete];</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+var components = [nsPlacesAutoComplete, urlInlineComplete];</span>
<a href="#l1.14"></a><span id="l1.14"> this.NSGetFactory = XPCOMUtils.generateNSGetFactory(components);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/head_autocomplete.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/head_autocomplete.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -19,17 +19,17 @@ Cu.import(&quot;resource://gre/modules/Servic</span>
<a href="#l2.4"></a><span id="l2.4"> // Put any other stuff relative to this test folder below.</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7"> /**</span>
<a href="#l2.8"></a><span id="l2.8">  * Header file for autocomplete testcases that create a set of pages with uris,</span>
<a href="#l2.9"></a><span id="l2.9">  * titles, tags and tests that a given search term matches certain pages.</span>
<a href="#l2.10"></a><span id="l2.10">  */</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-let current_test = 0;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+var current_test = 0;</span>
<a href="#l2.14"></a><span id="l2.14"> </span>
<a href="#l2.15"></a><span id="l2.15"> function AutoCompleteInput(aSearches) {</span>
<a href="#l2.16"></a><span id="l2.16">   this.searches = aSearches;</span>
<a href="#l2.17"></a><span id="l2.17"> }</span>
<a href="#l2.18"></a><span id="l2.18"> AutoCompleteInput.prototype = {</span>
<a href="#l2.19"></a><span id="l2.19">   timeout: 10,</span>
<a href="#l2.20"></a><span id="l2.20">   textValue: &quot;&quot;,</span>
<a href="#l2.21"></a><span id="l2.21">   searches: null,</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineat">@@ -50,17 +50,17 @@ AutoCompleteInput.prototype = {</span>
<a href="#l2.23"></a><span id="l2.23">     Ci.nsIAutoCompletePopup,</span>
<a href="#l2.24"></a><span id="l2.24">   ])</span>
<a href="#l2.25"></a><span id="l2.25"> };</span>
<a href="#l2.26"></a><span id="l2.26"> </span>
<a href="#l2.27"></a><span id="l2.27"> function toURI(aSpec) {</span>
<a href="#l2.28"></a><span id="l2.28">   return uri(aSpec);</span>
<a href="#l2.29"></a><span id="l2.29"> }</span>
<a href="#l2.30"></a><span id="l2.30"> </span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-let appendTags = true;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+var appendTags = true;</span>
<a href="#l2.33"></a><span id="l2.33"> // Helper to turn off tag matching in results</span>
<a href="#l2.34"></a><span id="l2.34"> function ignoreTags()</span>
<a href="#l2.35"></a><span id="l2.35"> {</span>
<a href="#l2.36"></a><span id="l2.36">   print(&quot;Ignoring tags from results&quot;);</span>
<a href="#l2.37"></a><span id="l2.37">   appendTags = false;</span>
<a href="#l2.38"></a><span id="l2.38"> }</span>
<a href="#l2.39"></a><span id="l2.39"> </span>
<a href="#l2.40"></a><span id="l2.40"> function ensure_results(aSearch, aExpected)</span>
<a href="#l2.41"></a><span id="l2.41" class="difflineat">@@ -152,22 +152,22 @@ var bmsvc = Cc[&quot;@mozilla.org/browser/nav</span>
<a href="#l2.42"></a><span id="l2.42"> var tagsvc = Cc[&quot;@mozilla.org/browser/tagging-service;1&quot;].</span>
<a href="#l2.43"></a><span id="l2.43">              getService(Ci.nsITaggingService);</span>
<a href="#l2.44"></a><span id="l2.44"> var iosvc = Cc[&quot;@mozilla.org/network/io-service;1&quot;].</span>
<a href="#l2.45"></a><span id="l2.45">             getService(Ci.nsIIOService);</span>
<a href="#l2.46"></a><span id="l2.46"> var prefs = Cc[&quot;@mozilla.org/preferences-service;1&quot;].</span>
<a href="#l2.47"></a><span id="l2.47">             getService(Ci.nsIPrefBranch);</span>
<a href="#l2.48"></a><span id="l2.48"> </span>
<a href="#l2.49"></a><span id="l2.49"> // Some date not too long ago</span>
<a href="#l2.50"></a><span id="l2.50" class="difflineminus">-let gDate = new Date(Date.now() - 1000 * 60 * 60) * 1000;</span>
<a href="#l2.51"></a><span id="l2.51" class="difflineplus">+var gDate = new Date(Date.now() - 1000 * 60 * 60) * 1000;</span>
<a href="#l2.52"></a><span id="l2.52"> // Store the page info for each uri</span>
<a href="#l2.53"></a><span id="l2.53" class="difflineminus">-let gPages = [];</span>
<a href="#l2.54"></a><span id="l2.54" class="difflineplus">+var gPages = [];</span>
<a href="#l2.55"></a><span id="l2.55"> </span>
<a href="#l2.56"></a><span id="l2.56"> // Initialization tasks to be run before the next test</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineminus">-let gNextTestSetupTasks = [];</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineplus">+var gNextTestSetupTasks = [];</span>
<a href="#l2.59"></a><span id="l2.59"> </span>
<a href="#l2.60"></a><span id="l2.60"> /**</span>
<a href="#l2.61"></a><span id="l2.61">  * Adds a page, and creates various properties for it depending on the</span>
<a href="#l2.62"></a><span id="l2.62">  * parameters passed in.  This function will also add one visit, unless</span>
<a href="#l2.63"></a><span id="l2.63">  * aNoVisit is true.</span>
<a href="#l2.64"></a><span id="l2.64">  *</span>
<a href="#l2.65"></a><span id="l2.65">  * @param aURI</span>
<a href="#l2.66"></a><span id="l2.66">  *        An index into kURIs that holds the string for the URI we are to add a</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_416211.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_416211.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -2,29 +2,29 @@</span>
<a href="#l3.4"></a><span id="l3.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l3.5"></a><span id="l3.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l3.6"></a><span id="l3.6"> </span>
<a href="#l3.7"></a><span id="l3.7"> /*</span>
<a href="#l3.8"></a><span id="l3.8">  * Test bug 416211 to make sure results that match the tag show the bookmark</span>
<a href="#l3.9"></a><span id="l3.9">  * title instead of the page title.</span>
<a href="#l3.10"></a><span id="l3.10">  */</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-let theTag = &quot;superTag&quot;;</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+var theTag = &quot;superTag&quot;;</span>
<a href="#l3.14"></a><span id="l3.14"> </span>
<a href="#l3.15"></a><span id="l3.15"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineminus">-let kURIs = [</span>
<a href="#l3.17"></a><span id="l3.17" class="difflineplus">+var kURIs = [</span>
<a href="#l3.18"></a><span id="l3.18">   &quot;http://theuri/&quot;,</span>
<a href="#l3.19"></a><span id="l3.19"> ];</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-let kTitles = [</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineplus">+var kTitles = [</span>
<a href="#l3.22"></a><span id="l3.22">   &quot;Page title&quot;,</span>
<a href="#l3.23"></a><span id="l3.23">   &quot;Bookmark title&quot;,</span>
<a href="#l3.24"></a><span id="l3.24">   theTag,</span>
<a href="#l3.25"></a><span id="l3.25"> ];</span>
<a href="#l3.26"></a><span id="l3.26"> </span>
<a href="#l3.27"></a><span id="l3.27"> // Add page with a title, bookmark, and [tags]</span>
<a href="#l3.28"></a><span id="l3.28"> addPageBook(0, 0, 1, [2]);</span>
<a href="#l3.29"></a><span id="l3.29"> </span>
<a href="#l3.30"></a><span id="l3.30"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l3.31"></a><span id="l3.31"> // pages that should match; optional function to be run before the test</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">-let gTests = [</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+var gTests = [</span>
<a href="#l3.34"></a><span id="l3.34">   [&quot;0: Make sure the tag match gives the bookmark title&quot;,</span>
<a href="#l3.35"></a><span id="l3.35">    theTag, [0]],</span>
<a href="#l3.36"></a><span id="l3.36"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_416214.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_416214.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -9,30 +9,30 @@</span>
<a href="#l4.4"></a><span id="l4.4">  *</span>
<a href="#l4.5"></a><span id="l4.5">  * - add a visit for a page with a non-English URL</span>
<a href="#l4.6"></a><span id="l4.6">  * - add a tag for the page</span>
<a href="#l4.7"></a><span id="l4.7">  * - search for the tag</span>
<a href="#l4.8"></a><span id="l4.8">  * - test number of matches (should be exactly one)</span>
<a href="#l4.9"></a><span id="l4.9">  * - make sure the url is decoded</span>
<a href="#l4.10"></a><span id="l4.10">  */</span>
<a href="#l4.11"></a><span id="l4.11"> </span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-let theTag = &quot;superTag&quot;;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+var theTag = &quot;superTag&quot;;</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l4.16"></a><span id="l4.16" class="difflineminus">-let kURIs = [</span>
<a href="#l4.17"></a><span id="l4.17" class="difflineplus">+var kURIs = [</span>
<a href="#l4.18"></a><span id="l4.18">   &quot;http://escaped/ユニコード&quot;,</span>
<a href="#l4.19"></a><span id="l4.19">   &quot;http://asciiescaped/blocking-firefox3%2B&quot;,</span>
<a href="#l4.20"></a><span id="l4.20"> ];</span>
<a href="#l4.21"></a><span id="l4.21" class="difflineminus">-let kTitles = [</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineplus">+var kTitles = [</span>
<a href="#l4.23"></a><span id="l4.23">   &quot;title&quot;,</span>
<a href="#l4.24"></a><span id="l4.24">   theTag,</span>
<a href="#l4.25"></a><span id="l4.25"> ];</span>
<a href="#l4.26"></a><span id="l4.26"> </span>
<a href="#l4.27"></a><span id="l4.27"> // Add pages that match the tag</span>
<a href="#l4.28"></a><span id="l4.28"> addPageBook(0, 0, 0, [1]);</span>
<a href="#l4.29"></a><span id="l4.29"> addPageBook(1, 0, 0, [1]);</span>
<a href="#l4.30"></a><span id="l4.30"> </span>
<a href="#l4.31"></a><span id="l4.31"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l4.32"></a><span id="l4.32"> // pages that should match; optional function to be run before the test</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-let gTests = [</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+var gTests = [</span>
<a href="#l4.35"></a><span id="l4.35">   [&quot;0: Make sure tag matches return the right url as well as '+' remain escaped&quot;,</span>
<a href="#l4.36"></a><span id="l4.36">    theTag, [0,1]],</span>
<a href="#l4.37"></a><span id="l4.37"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_417798.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_417798.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -3,31 +3,31 @@</span>
<a href="#l5.4"></a><span id="l5.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l5.5"></a><span id="l5.5"> </span>
<a href="#l5.6"></a><span id="l5.6"> /**</span>
<a href="#l5.7"></a><span id="l5.7">  * Test for bug 417798 to make sure javascript: URIs don't show up unless the</span>
<a href="#l5.8"></a><span id="l5.8">  * user searches for javascript: explicitly.</span>
<a href="#l5.9"></a><span id="l5.9">  */</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-let kURIs = [</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+var kURIs = [</span>
<a href="#l5.14"></a><span id="l5.14">   &quot;http://abc/def&quot;,</span>
<a href="#l5.15"></a><span id="l5.15">   &quot;javascript:5&quot;,</span>
<a href="#l5.16"></a><span id="l5.16"> ];</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-let kTitles = [</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+var kTitles = [</span>
<a href="#l5.19"></a><span id="l5.19">   &quot;Title with javascript:&quot;,</span>
<a href="#l5.20"></a><span id="l5.20"> ];</span>
<a href="#l5.21"></a><span id="l5.21"> </span>
<a href="#l5.22"></a><span id="l5.22"> addPageBook(0, 0); // regular url</span>
<a href="#l5.23"></a><span id="l5.23"> // javascript: uri as bookmark (no visit)</span>
<a href="#l5.24"></a><span id="l5.24"> addPageBook(1, 0, 0, undefined, undefined, undefined, true);</span>
<a href="#l5.25"></a><span id="l5.25"> </span>
<a href="#l5.26"></a><span id="l5.26"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l5.27"></a><span id="l5.27"> // pages that should match; optional function to be run before the test</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineminus">-let gTests = [</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineplus">+var gTests = [</span>
<a href="#l5.30"></a><span id="l5.30">   [&quot;0: Match non-javascript: with plain search&quot;,</span>
<a href="#l5.31"></a><span id="l5.31">    &quot;a&quot;, [0]],</span>
<a href="#l5.32"></a><span id="l5.32">   [&quot;1: Match non-javascript: with almost javascript:&quot;,</span>
<a href="#l5.33"></a><span id="l5.33">    &quot;javascript&quot;, [0]],</span>
<a href="#l5.34"></a><span id="l5.34">   [&quot;2: Match javascript:&quot;,</span>
<a href="#l5.35"></a><span id="l5.35">    &quot;javascript:&quot;, [0,1]],</span>
<a href="#l5.36"></a><span id="l5.36">   [&quot;3: Match nothing with non-first javascript:&quot;,</span>
<a href="#l5.37"></a><span id="l5.37">    &quot;5 javascript:&quot;, []],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_418257.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_418257.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -4,37 +4,37 @@</span>
<a href="#l6.4"></a><span id="l6.4"> </span>
<a href="#l6.5"></a><span id="l6.5"> /**</span>
<a href="#l6.6"></a><span id="l6.6">  * Test bug 418257 by making sure tags are returned with the title as part of</span>
<a href="#l6.7"></a><span id="l6.7">  * the &quot;comment&quot; if there are tags even if we didn't match in the tags. They</span>
<a href="#l6.8"></a><span id="l6.8">  * are separated from the title by a endash.</span>
<a href="#l6.9"></a><span id="l6.9">  */</span>
<a href="#l6.10"></a><span id="l6.10"> </span>
<a href="#l6.11"></a><span id="l6.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-let kURIs = [</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+var kURIs = [</span>
<a href="#l6.14"></a><span id="l6.14">   &quot;http://page1&quot;,</span>
<a href="#l6.15"></a><span id="l6.15">   &quot;http://page2&quot;,</span>
<a href="#l6.16"></a><span id="l6.16">   &quot;http://page3&quot;,</span>
<a href="#l6.17"></a><span id="l6.17">   &quot;http://page4&quot;,</span>
<a href="#l6.18"></a><span id="l6.18"> ];</span>
<a href="#l6.19"></a><span id="l6.19" class="difflineminus">-let kTitles = [</span>
<a href="#l6.20"></a><span id="l6.20" class="difflineplus">+var kTitles = [</span>
<a href="#l6.21"></a><span id="l6.21">   &quot;tag1&quot;,</span>
<a href="#l6.22"></a><span id="l6.22">   &quot;tag2&quot;,</span>
<a href="#l6.23"></a><span id="l6.23">   &quot;tag3&quot;,</span>
<a href="#l6.24"></a><span id="l6.24"> ];</span>
<a href="#l6.25"></a><span id="l6.25"> </span>
<a href="#l6.26"></a><span id="l6.26"> // Add pages with varying number of tags</span>
<a href="#l6.27"></a><span id="l6.27"> addPageBook(0, 0, 0, [0]);</span>
<a href="#l6.28"></a><span id="l6.28"> addPageBook(1, 0, 0, [0,1]);</span>
<a href="#l6.29"></a><span id="l6.29"> addPageBook(2, 0, 0, [0,2]);</span>
<a href="#l6.30"></a><span id="l6.30"> addPageBook(3, 0, 0, [0,1,2]);</span>
<a href="#l6.31"></a><span id="l6.31"> </span>
<a href="#l6.32"></a><span id="l6.32"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l6.33"></a><span id="l6.33"> // pages that should match; optional function to be run before the test</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-let gTests = [</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+var gTests = [</span>
<a href="#l6.36"></a><span id="l6.36">   [&quot;0: Make sure tags come back in the title when matching tags&quot;,</span>
<a href="#l6.37"></a><span id="l6.37">    &quot;page1 tag&quot;, [0]],</span>
<a href="#l6.38"></a><span id="l6.38">   [&quot;1: Check tags in title for page2&quot;,</span>
<a href="#l6.39"></a><span id="l6.39">    &quot;page2 tag&quot;, [1]],</span>
<a href="#l6.40"></a><span id="l6.40">   [&quot;2: Make sure tags appear even when not matching the tag&quot;,</span>
<a href="#l6.41"></a><span id="l6.41">    &quot;page3&quot;, [2]],</span>
<a href="#l6.42"></a><span id="l6.42">   [&quot;3: Multiple tags come in commas for page4&quot;,</span>
<a href="#l6.43"></a><span id="l6.43">    &quot;page4&quot;, [3]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_422277.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_422277.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -3,23 +3,23 @@</span>
<a href="#l7.4"></a><span id="l7.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l7.5"></a><span id="l7.5"> </span>
<a href="#l7.6"></a><span id="l7.6"> /**</span>
<a href="#l7.7"></a><span id="l7.7">  * Test bug 422277 to make sure bad escaped uris don't get escaped. This makes</span>
<a href="#l7.8"></a><span id="l7.8">  * sure we don't hit an assertion for &quot;not a UTF8 string&quot;.</span>
<a href="#l7.9"></a><span id="l7.9">  */</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-let kURIs = [</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+var kURIs = [</span>
<a href="#l7.14"></a><span id="l7.14">   &quot;http://site/%EAid&quot;,</span>
<a href="#l7.15"></a><span id="l7.15"> ];</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-let kTitles = [</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineplus">+var kTitles = [</span>
<a href="#l7.18"></a><span id="l7.18">   &quot;title&quot;,</span>
<a href="#l7.19"></a><span id="l7.19"> ];</span>
<a href="#l7.20"></a><span id="l7.20"> </span>
<a href="#l7.21"></a><span id="l7.21"> addPageBook(0, 0);</span>
<a href="#l7.22"></a><span id="l7.22"> </span>
<a href="#l7.23"></a><span id="l7.23"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l7.24"></a><span id="l7.24"> // pages that should match; optional function to be run before the test</span>
<a href="#l7.25"></a><span id="l7.25" class="difflineminus">-let gTests = [</span>
<a href="#l7.26"></a><span id="l7.26" class="difflineplus">+var gTests = [</span>
<a href="#l7.27"></a><span id="l7.27">   [&quot;0: Bad escaped uri stays escaped&quot;,</span>
<a href="#l7.28"></a><span id="l7.28">    &quot;site&quot;, [0]],</span>
<a href="#l7.29"></a><span id="l7.29"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_download_embed_bookmarks.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -5,25 +5,25 @@</span>
<a href="#l8.4"></a><span id="l8.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l8.5"></a><span id="l8.5"> </span>
<a href="#l8.6"></a><span id="l8.6"> /**</span>
<a href="#l8.7"></a><span id="l8.7">  * Tests bug 449406 to ensure that TRANSITION_DOWNLOAD, TRANSITION_EMBED and</span>
<a href="#l8.8"></a><span id="l8.8">  * TRANSITION_FRAMED_LINK bookmarked uri's show up in the location bar.</span>
<a href="#l8.9"></a><span id="l8.9">  */</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-let kURIs = [</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+var kURIs = [</span>
<a href="#l8.14"></a><span id="l8.14">   &quot;http://download/bookmarked&quot;,</span>
<a href="#l8.15"></a><span id="l8.15">   &quot;http://embed/bookmarked&quot;,</span>
<a href="#l8.16"></a><span id="l8.16">   &quot;http://framed/bookmarked&quot;,</span>
<a href="#l8.17"></a><span id="l8.17">   &quot;http://download&quot;,</span>
<a href="#l8.18"></a><span id="l8.18">   &quot;http://embed&quot;,</span>
<a href="#l8.19"></a><span id="l8.19">   &quot;http://framed&quot;,</span>
<a href="#l8.20"></a><span id="l8.20"> ];</span>
<a href="#l8.21"></a><span id="l8.21" class="difflineminus">-let kTitles = [</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineplus">+var kTitles = [</span>
<a href="#l8.23"></a><span id="l8.23">   &quot;download-bookmark&quot;,</span>
<a href="#l8.24"></a><span id="l8.24">   &quot;embed-bookmark&quot;,</span>
<a href="#l8.25"></a><span id="l8.25">   &quot;framed-bookmark&quot;,</span>
<a href="#l8.26"></a><span id="l8.26">   &quot;download2&quot;,</span>
<a href="#l8.27"></a><span id="l8.27">   &quot;embed2&quot;,</span>
<a href="#l8.28"></a><span id="l8.28">   &quot;framed2&quot;,</span>
<a href="#l8.29"></a><span id="l8.29"> ];</span>
<a href="#l8.30"></a><span id="l8.30"> </span>
<a href="#l8.31"></a><span id="l8.31" class="difflineat">@@ -32,17 +32,17 @@ addPageBook(0, 0, 0, undefined, undefine</span>
<a href="#l8.32"></a><span id="l8.32"> addPageBook(1, 1, 1, undefined, undefined, TRANSITION_EMBED);</span>
<a href="#l8.33"></a><span id="l8.33"> addPageBook(2, 2, 2, undefined, undefined, TRANSITION_FRAMED_LINK);</span>
<a href="#l8.34"></a><span id="l8.34"> addPageBook(3, 3, undefined, undefined, undefined, TRANSITION_DOWNLOAD);</span>
<a href="#l8.35"></a><span id="l8.35"> addPageBook(4, 4, undefined, undefined, undefined, TRANSITION_EMBED);</span>
<a href="#l8.36"></a><span id="l8.36"> addPageBook(5, 5, undefined, undefined, undefined, TRANSITION_FRAMED_LINK);</span>
<a href="#l8.37"></a><span id="l8.37"> </span>
<a href="#l8.38"></a><span id="l8.38"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l8.39"></a><span id="l8.39"> // pages that should match; optional function to be run before the test</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineminus">-let gTests = [</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineplus">+var gTests = [</span>
<a href="#l8.42"></a><span id="l8.42">   [&quot;0: Searching for bookmarked download uri matches&quot;,</span>
<a href="#l8.43"></a><span id="l8.43">    kTitles[0], [0]],</span>
<a href="#l8.44"></a><span id="l8.44">   [&quot;1: Searching for bookmarked embed uri matches&quot;,</span>
<a href="#l8.45"></a><span id="l8.45">    kTitles[1], [1]],</span>
<a href="#l8.46"></a><span id="l8.46">   [&quot;2: Searching for bookmarked framed uri matches&quot;,</span>
<a href="#l8.47"></a><span id="l8.47">    kTitles[2], [2]],</span>
<a href="#l8.48"></a><span id="l8.48">   [&quot;3: Searching for download uri does not match&quot;,</span>
<a href="#l8.49"></a><span id="l8.49">    kTitles[3], []],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_empty_search.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_empty_search.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -3,25 +3,25 @@</span>
<a href="#l9.4"></a><span id="l9.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l9.5"></a><span id="l9.5"> </span>
<a href="#l9.6"></a><span id="l9.6"> /**</span>
<a href="#l9.7"></a><span id="l9.7">  * Test for bug 426864 that makes sure the empty search (drop down list) only</span>
<a href="#l9.8"></a><span id="l9.8">  * shows typed pages from history.</span>
<a href="#l9.9"></a><span id="l9.9">  */</span>
<a href="#l9.10"></a><span id="l9.10"> </span>
<a href="#l9.11"></a><span id="l9.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-let kURIs = [</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+var kURIs = [</span>
<a href="#l9.14"></a><span id="l9.14">   &quot;http://foo/0&quot;,</span>
<a href="#l9.15"></a><span id="l9.15">   &quot;http://foo/1&quot;,</span>
<a href="#l9.16"></a><span id="l9.16">   &quot;http://foo/2&quot;,</span>
<a href="#l9.17"></a><span id="l9.17">   &quot;http://foo/3&quot;,</span>
<a href="#l9.18"></a><span id="l9.18">   &quot;http://foo/4&quot;,</span>
<a href="#l9.19"></a><span id="l9.19">   &quot;http://foo/5&quot;,</span>
<a href="#l9.20"></a><span id="l9.20"> ];</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineminus">-let kTitles = [</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineplus">+var kTitles = [</span>
<a href="#l9.23"></a><span id="l9.23">   &quot;title&quot;,</span>
<a href="#l9.24"></a><span id="l9.24"> ];</span>
<a href="#l9.25"></a><span id="l9.25"> </span>
<a href="#l9.26"></a><span id="l9.26"> // Visited (in history)</span>
<a href="#l9.27"></a><span id="l9.27"> addPageBook(0, 0); // history</span>
<a href="#l9.28"></a><span id="l9.28"> addPageBook(1, 0, 0); // bookmark</span>
<a href="#l9.29"></a><span id="l9.29"> addPageBook(2, 0); // history typed</span>
<a href="#l9.30"></a><span id="l9.30"> addPageBook(3, 0, 0); // bookmark typed</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineat">@@ -32,17 +32,17 @@ addPageBook(5, 0, 0); // bookmark typed</span>
<a href="#l9.32"></a><span id="l9.32"> </span>
<a href="#l9.33"></a><span id="l9.33"> // Set some pages as typed</span>
<a href="#l9.34"></a><span id="l9.34"> markTyped([2,3,5], 0);</span>
<a href="#l9.35"></a><span id="l9.35"> // Remove pages from history to treat them as unvisited</span>
<a href="#l9.36"></a><span id="l9.36"> removePages([4,5]);</span>
<a href="#l9.37"></a><span id="l9.37"> </span>
<a href="#l9.38"></a><span id="l9.38"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l9.39"></a><span id="l9.39"> // pages that should match; optional function to be run before the test</span>
<a href="#l9.40"></a><span id="l9.40" class="difflineminus">-let gTests = [</span>
<a href="#l9.41"></a><span id="l9.41" class="difflineplus">+var gTests = [</span>
<a href="#l9.42"></a><span id="l9.42">   [&quot;0: Match everything&quot;,</span>
<a href="#l9.43"></a><span id="l9.43">    &quot;foo&quot;, [0,1,2,3,4,5]],</span>
<a href="#l9.44"></a><span id="l9.44">   [&quot;1: Match only typed history&quot;,</span>
<a href="#l9.45"></a><span id="l9.45">    &quot;foo ^ ~&quot;, [2,3]],</span>
<a href="#l9.46"></a><span id="l9.46">   [&quot;2: Drop-down empty search matches only typed history&quot;,</span>
<a href="#l9.47"></a><span id="l9.47">    &quot;&quot;, [2,3]],</span>
<a href="#l9.48"></a><span id="l9.48">   [&quot;3: Drop-down empty search matches only bookmarks&quot;,</span>
<a href="#l9.49"></a><span id="l9.49">    &quot;&quot;, [2,3], matchBookmarks],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_enabled.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_enabled.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -3,28 +3,28 @@</span>
<a href="#l10.4"></a><span id="l10.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l10.5"></a><span id="l10.5"> </span>
<a href="#l10.6"></a><span id="l10.6"> /**</span>
<a href="#l10.7"></a><span id="l10.7">  * Test for bug 471903 to make sure searching in autocomplete can be turned on</span>
<a href="#l10.8"></a><span id="l10.8">  * and off. Also test bug 463535 for pref changing search.</span>
<a href="#l10.9"></a><span id="l10.9">  */</span>
<a href="#l10.10"></a><span id="l10.10"> </span>
<a href="#l10.11"></a><span id="l10.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-let kURIs = [</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+var kURIs = [</span>
<a href="#l10.14"></a><span id="l10.14">   &quot;http://url/0&quot;,</span>
<a href="#l10.15"></a><span id="l10.15"> ];</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-let kTitles = [</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineplus">+var kTitles = [</span>
<a href="#l10.18"></a><span id="l10.18">   &quot;title&quot;,</span>
<a href="#l10.19"></a><span id="l10.19"> ];</span>
<a href="#l10.20"></a><span id="l10.20"> </span>
<a href="#l10.21"></a><span id="l10.21"> addPageBook(0, 0); // visited page</span>
<a href="#l10.22"></a><span id="l10.22"> </span>
<a href="#l10.23"></a><span id="l10.23"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l10.24"></a><span id="l10.24"> // pages that should match; optional function to be run before the test</span>
<a href="#l10.25"></a><span id="l10.25" class="difflineminus">-let gTests = [</span>
<a href="#l10.26"></a><span id="l10.26" class="difflineplus">+var gTests = [</span>
<a href="#l10.27"></a><span id="l10.27">   [&quot;1: plain search&quot;,</span>
<a href="#l10.28"></a><span id="l10.28">    &quot;url&quot;, [0]],</span>
<a href="#l10.29"></a><span id="l10.29">   [&quot;2: search disabled&quot;,</span>
<a href="#l10.30"></a><span id="l10.30">    &quot;url&quot;, [], function() setSearch(0)],</span>
<a href="#l10.31"></a><span id="l10.31">   [&quot;3: resume normal search&quot;,</span>
<a href="#l10.32"></a><span id="l10.32">    &quot;url&quot;, [0], function() setSearch(1)],</span>
<a href="#l10.33"></a><span id="l10.33"> ];</span>
<a href="#l10.34"></a><span id="l10.34"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_escape_self.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_escape_self.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -3,28 +3,28 @@</span>
<a href="#l11.4"></a><span id="l11.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6"> /**</span>
<a href="#l11.7"></a><span id="l11.7">  * Test bug 422698 to make sure searches with urls from the location bar</span>
<a href="#l11.8"></a><span id="l11.8">  * correctly match itself when it contains escaped characters.</span>
<a href="#l11.9"></a><span id="l11.9">  */</span>
<a href="#l11.10"></a><span id="l11.10"> </span>
<a href="#l11.11"></a><span id="l11.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-let kURIs = [</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+var kURIs = [</span>
<a href="#l11.14"></a><span id="l11.14">   &quot;http://unescapeduri/&quot;,</span>
<a href="#l11.15"></a><span id="l11.15">   &quot;http://escapeduri/%40/&quot;,</span>
<a href="#l11.16"></a><span id="l11.16"> ];</span>
<a href="#l11.17"></a><span id="l11.17" class="difflineminus">-let kTitles = [</span>
<a href="#l11.18"></a><span id="l11.18" class="difflineplus">+var kTitles = [</span>
<a href="#l11.19"></a><span id="l11.19">   &quot;title&quot;,</span>
<a href="#l11.20"></a><span id="l11.20"> ];</span>
<a href="#l11.21"></a><span id="l11.21"> </span>
<a href="#l11.22"></a><span id="l11.22"> // Add unescaped and escaped uris</span>
<a href="#l11.23"></a><span id="l11.23"> addPageBook(0, 0);</span>
<a href="#l11.24"></a><span id="l11.24"> addPageBook(1, 0);</span>
<a href="#l11.25"></a><span id="l11.25"> </span>
<a href="#l11.26"></a><span id="l11.26"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l11.27"></a><span id="l11.27"> // pages that should match; optional function to be run before the test</span>
<a href="#l11.28"></a><span id="l11.28" class="difflineminus">-let gTests = [</span>
<a href="#l11.29"></a><span id="l11.29" class="difflineplus">+var gTests = [</span>
<a href="#l11.30"></a><span id="l11.30">   [&quot;0: Unescaped location matches itself&quot;,</span>
<a href="#l11.31"></a><span id="l11.31">    kURIs[0], [0]],</span>
<a href="#l11.32"></a><span id="l11.32">   [&quot;1: Escaped location matches itself&quot;,</span>
<a href="#l11.33"></a><span id="l11.33">    kURIs[1], [1]],</span>
<a href="#l11.34"></a><span id="l11.34"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_ignore_protocol.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_ignore_protocol.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -2,26 +2,26 @@</span>
<a href="#l12.4"></a><span id="l12.4">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l12.5"></a><span id="l12.5">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l12.6"></a><span id="l12.6"> </span>
<a href="#l12.7"></a><span id="l12.7"> /**</span>
<a href="#l12.8"></a><span id="l12.8">  * Test bug 424509 to make sure searching for &quot;h&quot; doesn't match &quot;http&quot; of urls.</span>
<a href="#l12.9"></a><span id="l12.9">  */</span>
<a href="#l12.10"></a><span id="l12.10"> </span>
<a href="#l12.11"></a><span id="l12.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-let kURIs = [</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+var kURIs = [</span>
<a href="#l12.14"></a><span id="l12.14">   &quot;http://site/&quot;,</span>
<a href="#l12.15"></a><span id="l12.15">   &quot;http://happytimes/&quot;,</span>
<a href="#l12.16"></a><span id="l12.16"> ];</span>
<a href="#l12.17"></a><span id="l12.17" class="difflineminus">-let kTitles = [</span>
<a href="#l12.18"></a><span id="l12.18" class="difflineplus">+var kTitles = [</span>
<a href="#l12.19"></a><span id="l12.19">   &quot;title&quot;,</span>
<a href="#l12.20"></a><span id="l12.20"> ];</span>
<a href="#l12.21"></a><span id="l12.21"> </span>
<a href="#l12.22"></a><span id="l12.22"> // Add site without &quot;h&quot; and with &quot;h&quot;</span>
<a href="#l12.23"></a><span id="l12.23"> addPageBook(0, 0);</span>
<a href="#l12.24"></a><span id="l12.24"> addPageBook(1, 0);</span>
<a href="#l12.25"></a><span id="l12.25"> </span>
<a href="#l12.26"></a><span id="l12.26"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l12.27"></a><span id="l12.27"> // pages that should match; optional function to be run before the test</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineminus">-let gTests = [</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineplus">+var gTests = [</span>
<a href="#l12.30"></a><span id="l12.30">   [&quot;0: Searching for h matches site and not http://&quot;,</span>
<a href="#l12.31"></a><span id="l12.31">    &quot;h&quot;, [1]],</span>
<a href="#l12.32"></a><span id="l12.32"> ];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_keyword_search.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_keyword_search.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -8,39 +8,39 @@</span>
<a href="#l13.4"></a><span id="l13.4">  * to %2B, non-ascii become escaped, and pages in history that match the</span>
<a href="#l13.5"></a><span id="l13.5">  * keyword uses the page's title.</span>
<a href="#l13.6"></a><span id="l13.6">  *</span>
<a href="#l13.7"></a><span id="l13.7">  * Also test for bug 249468 by making sure multiple keyword bookmarks with the</span>
<a href="#l13.8"></a><span id="l13.8">  * same keyword appear in the list.</span>
<a href="#l13.9"></a><span id="l13.9">  */</span>
<a href="#l13.10"></a><span id="l13.10"> </span>
<a href="#l13.11"></a><span id="l13.11"> // Details for the keyword bookmark</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-let keyBase = &quot;http://abc/?search=&quot;;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-let keyKey = &quot;key&quot;;</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineplus">+var keyBase = &quot;http://abc/?search=&quot;;</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineplus">+var keyKey = &quot;key&quot;;</span>
<a href="#l13.16"></a><span id="l13.16"> </span>
<a href="#l13.17"></a><span id="l13.17"> // A second keyword bookmark with the same keyword</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineminus">-let otherBase = &quot;http://xyz/?foo=&quot;;</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineplus">+var otherBase = &quot;http://xyz/?foo=&quot;;</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21" class="difflineminus">-let unescaped = &quot;ユニコード&quot;;</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineminus">-let pageInHistory = &quot;ThisPageIsInHistory&quot;;</span>
<a href="#l13.23"></a><span id="l13.23" class="difflineplus">+var unescaped = &quot;ユニコード&quot;;</span>
<a href="#l13.24"></a><span id="l13.24" class="difflineplus">+var pageInHistory = &quot;ThisPageIsInHistory&quot;;</span>
<a href="#l13.25"></a><span id="l13.25"> </span>
<a href="#l13.26"></a><span id="l13.26"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l13.27"></a><span id="l13.27" class="difflineminus">-let kURIs = [</span>
<a href="#l13.28"></a><span id="l13.28" class="difflineplus">+var kURIs = [</span>
<a href="#l13.29"></a><span id="l13.29">   keyBase + &quot;%s&quot;,</span>
<a href="#l13.30"></a><span id="l13.30">   keyBase + &quot;term&quot;,</span>
<a href="#l13.31"></a><span id="l13.31">   keyBase + &quot;multi+word&quot;,</span>
<a href="#l13.32"></a><span id="l13.32">   keyBase + &quot;blocking%2B&quot;,</span>
<a href="#l13.33"></a><span id="l13.33">   keyBase + unescaped,</span>
<a href="#l13.34"></a><span id="l13.34">   keyBase + pageInHistory,</span>
<a href="#l13.35"></a><span id="l13.35">   keyBase,</span>
<a href="#l13.36"></a><span id="l13.36">   otherBase + &quot;%s&quot;,</span>
<a href="#l13.37"></a><span id="l13.37">   keyBase + &quot;twoKey&quot;,</span>
<a href="#l13.38"></a><span id="l13.38">   otherBase + &quot;twoKey&quot;</span>
<a href="#l13.39"></a><span id="l13.39"> ];</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineminus">-let kTitles = [</span>
<a href="#l13.41"></a><span id="l13.41" class="difflineplus">+var kTitles = [</span>
<a href="#l13.42"></a><span id="l13.42">   &quot;Generic page title&quot;,</span>
<a href="#l13.43"></a><span id="l13.43">   &quot;Keyword title&quot;,</span>
<a href="#l13.44"></a><span id="l13.44">   &quot;abc&quot;,</span>
<a href="#l13.45"></a><span id="l13.45">   &quot;xyz&quot;</span>
<a href="#l13.46"></a><span id="l13.46"> ];</span>
<a href="#l13.47"></a><span id="l13.47"> </span>
<a href="#l13.48"></a><span id="l13.48"> // Add the keyword bookmark</span>
<a href="#l13.49"></a><span id="l13.49"> addPageBook(0, 0, 1, [], keyKey);</span>
<a href="#l13.50"></a><span id="l13.50" class="difflineat">@@ -50,17 +50,17 @@ gPages[2] = [2,2];</span>
<a href="#l13.51"></a><span id="l13.51"> gPages[3] = [3,2];</span>
<a href="#l13.52"></a><span id="l13.52"> gPages[4] = [4,2];</span>
<a href="#l13.53"></a><span id="l13.53"> // Add a page into history</span>
<a href="#l13.54"></a><span id="l13.54"> addPageBook(5, 2);</span>
<a href="#l13.55"></a><span id="l13.55"> gPages[6] = [6,2];</span>
<a href="#l13.56"></a><span id="l13.56"> </span>
<a href="#l13.57"></a><span id="l13.57"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l13.58"></a><span id="l13.58"> // pages that should match; optional function to be run before the test</span>
<a href="#l13.59"></a><span id="l13.59" class="difflineminus">-let gTests = [</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineplus">+var gTests = [</span>
<a href="#l13.61"></a><span id="l13.61">   [&quot;0: Plain keyword query&quot;,</span>
<a href="#l13.62"></a><span id="l13.62">    keyKey + &quot; term&quot;, [1]],</span>
<a href="#l13.63"></a><span id="l13.63">   [&quot;1: Multi-word keyword query&quot;,</span>
<a href="#l13.64"></a><span id="l13.64">    keyKey + &quot; multi word&quot;, [2]],</span>
<a href="#l13.65"></a><span id="l13.65">   [&quot;2: Keyword query with +&quot;,</span>
<a href="#l13.66"></a><span id="l13.66">    keyKey + &quot; blocking+&quot;, [3]],</span>
<a href="#l13.67"></a><span id="l13.67">   [&quot;3: Unescaped term in query&quot;,</span>
<a href="#l13.68"></a><span id="l13.68">    keyKey + &quot; &quot; + unescaped, [4]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_match_beginning.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_match_beginning.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -3,31 +3,31 @@</span>
<a href="#l14.4"></a><span id="l14.4">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l14.5"></a><span id="l14.5"> </span>
<a href="#l14.6"></a><span id="l14.6"> /**</span>
<a href="#l14.7"></a><span id="l14.7">  * Test bug 451760 which allows matching only at the beginning of urls or</span>
<a href="#l14.8"></a><span id="l14.8">  * titles to simulate Firefox 2 functionality.</span>
<a href="#l14.9"></a><span id="l14.9">  */</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-let kURIs = [</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+var kURIs = [</span>
<a href="#l14.14"></a><span id="l14.14">   &quot;http://x.com/y&quot;,</span>
<a href="#l14.15"></a><span id="l14.15">   &quot;https://y.com/x&quot;,</span>
<a href="#l14.16"></a><span id="l14.16"> ];</span>
<a href="#l14.17"></a><span id="l14.17" class="difflineminus">-let kTitles = [</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineplus">+var kTitles = [</span>
<a href="#l14.19"></a><span id="l14.19">   &quot;a b&quot;,</span>
<a href="#l14.20"></a><span id="l14.20">   &quot;b a&quot;,</span>
<a href="#l14.21"></a><span id="l14.21"> ];</span>
<a href="#l14.22"></a><span id="l14.22"> </span>
<a href="#l14.23"></a><span id="l14.23"> addPageBook(0, 0);</span>
<a href="#l14.24"></a><span id="l14.24"> addPageBook(1, 1);</span>
<a href="#l14.25"></a><span id="l14.25"> </span>
<a href="#l14.26"></a><span id="l14.26"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l14.27"></a><span id="l14.27"> // pages that should match; optional function to be run before the test</span>
<a href="#l14.28"></a><span id="l14.28" class="difflineminus">-let gTests = [</span>
<a href="#l14.29"></a><span id="l14.29" class="difflineplus">+var gTests = [</span>
<a href="#l14.30"></a><span id="l14.30">   // Tests after this one will match at the beginning</span>
<a href="#l14.31"></a><span id="l14.31">   [&quot;0: Match at the beginning of titles&quot;,</span>
<a href="#l14.32"></a><span id="l14.32">    &quot;a&quot;, [0],</span>
<a href="#l14.33"></a><span id="l14.33">    function() setBehavior(3)],</span>
<a href="#l14.34"></a><span id="l14.34">   [&quot;1: Match at the beginning of titles&quot;,</span>
<a href="#l14.35"></a><span id="l14.35">    &quot;b&quot;, [1]],</span>
<a href="#l14.36"></a><span id="l14.36">   [&quot;2: Match at the beginning of urls&quot;,</span>
<a href="#l14.37"></a><span id="l14.37">    &quot;x&quot;, [0]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_multi_word_search.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_multi_word_search.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -8,37 +8,37 @@</span>
<a href="#l15.4"></a><span id="l15.4">  * terms must match but not all terms need to be in the title, etc.</span>
<a href="#l15.5"></a><span id="l15.5">  *</span>
<a href="#l15.6"></a><span id="l15.6">  * Test bug 424216 by making sure bookmark titles are always shown if one is</span>
<a href="#l15.7"></a><span id="l15.7">  * available. Also bug 425056 makes sure matches aren't found partially in the</span>
<a href="#l15.8"></a><span id="l15.8">  * page title and partially in the bookmark.</span>
<a href="#l15.9"></a><span id="l15.9">  */</span>
<a href="#l15.10"></a><span id="l15.10"> </span>
<a href="#l15.11"></a><span id="l15.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-let kURIs = [</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+var kURIs = [</span>
<a href="#l15.14"></a><span id="l15.14">   &quot;http://a.b.c/d-e_f/h/t/p&quot;,</span>
<a href="#l15.15"></a><span id="l15.15">   &quot;http://d.e.f/g-h_i/h/t/p&quot;,</span>
<a href="#l15.16"></a><span id="l15.16">   &quot;http://g.h.i/j-k_l/h/t/p&quot;,</span>
<a href="#l15.17"></a><span id="l15.17">   &quot;http://j.k.l/m-n_o/h/t/p&quot;,</span>
<a href="#l15.18"></a><span id="l15.18"> ];</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineminus">-let kTitles = [</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineplus">+var kTitles = [</span>
<a href="#l15.21"></a><span id="l15.21">   &quot;f(o)o b&lt;a&gt;r&quot;,</span>
<a href="#l15.22"></a><span id="l15.22">   &quot;b(a)r b&lt;a&gt;z&quot;,</span>
<a href="#l15.23"></a><span id="l15.23"> ];</span>
<a href="#l15.24"></a><span id="l15.24"> </span>
<a href="#l15.25"></a><span id="l15.25"> // Regular pages</span>
<a href="#l15.26"></a><span id="l15.26"> addPageBook(0, 0);</span>
<a href="#l15.27"></a><span id="l15.27"> addPageBook(1, 1);</span>
<a href="#l15.28"></a><span id="l15.28"> // Bookmarked pages</span>
<a href="#l15.29"></a><span id="l15.29"> addPageBook(2, 0, 0);</span>
<a href="#l15.30"></a><span id="l15.30"> addPageBook(3, 0, 1);</span>
<a href="#l15.31"></a><span id="l15.31"> </span>
<a href="#l15.32"></a><span id="l15.32"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l15.33"></a><span id="l15.33"> // pages that should match; optional function to be run before the test</span>
<a href="#l15.34"></a><span id="l15.34" class="difflineminus">-let gTests = [</span>
<a href="#l15.35"></a><span id="l15.35" class="difflineplus">+var gTests = [</span>
<a href="#l15.36"></a><span id="l15.36">   [&quot;0: Match 2 terms all in url&quot;,</span>
<a href="#l15.37"></a><span id="l15.37">    &quot;c d&quot;, [0]],</span>
<a href="#l15.38"></a><span id="l15.38">   [&quot;1: Match 1 term in url and 1 term in title&quot;,</span>
<a href="#l15.39"></a><span id="l15.39">    &quot;b e&quot;, [0,1]],</span>
<a href="#l15.40"></a><span id="l15.40">   [&quot;2: Match 3 terms all in title; display bookmark title if matched&quot;,</span>
<a href="#l15.41"></a><span id="l15.41">    &quot;b a z&quot;, [1,3]],</span>
<a href="#l15.42"></a><span id="l15.42">   [&quot;3: Match 2 terms in url and 1 in title; make sure bookmark title is used for search&quot;,</span>
<a href="#l15.43"></a><span id="l15.43">    &quot;k f t&quot;, [2]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_special_search.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_special_search.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -6,31 +6,31 @@</span>
<a href="#l16.4"></a><span id="l16.4">  * Test for bug 395161 that allows special searches that restrict results to</span>
<a href="#l16.5"></a><span id="l16.5">  * history/bookmark/tagged items and title/url matches.</span>
<a href="#l16.6"></a><span id="l16.6">  *</span>
<a href="#l16.7"></a><span id="l16.7">  * Test 485122 by making sure results don't have tags when restricting result</span>
<a href="#l16.8"></a><span id="l16.8">  * to just history either by default behavior or dynamic query restrict.</span>
<a href="#l16.9"></a><span id="l16.9">  */</span>
<a href="#l16.10"></a><span id="l16.10"> </span>
<a href="#l16.11"></a><span id="l16.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-let kURIs = [</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineplus">+var kURIs = [</span>
<a href="#l16.14"></a><span id="l16.14">   &quot;http://url/&quot;,</span>
<a href="#l16.15"></a><span id="l16.15">   &quot;http://url/2&quot;,</span>
<a href="#l16.16"></a><span id="l16.16">   &quot;http://foo.bar/&quot;,</span>
<a href="#l16.17"></a><span id="l16.17">   &quot;http://foo.bar/2&quot;,</span>
<a href="#l16.18"></a><span id="l16.18">   &quot;http://url/star&quot;,</span>
<a href="#l16.19"></a><span id="l16.19">   &quot;http://url/star/2&quot;,</span>
<a href="#l16.20"></a><span id="l16.20">   &quot;http://foo.bar/star&quot;,</span>
<a href="#l16.21"></a><span id="l16.21">   &quot;http://foo.bar/star/2&quot;,</span>
<a href="#l16.22"></a><span id="l16.22">   &quot;http://url/tag&quot;,</span>
<a href="#l16.23"></a><span id="l16.23">   &quot;http://url/tag/2&quot;,</span>
<a href="#l16.24"></a><span id="l16.24">   &quot;http://foo.bar/tag&quot;,</span>
<a href="#l16.25"></a><span id="l16.25">   &quot;http://foo.bar/tag/2&quot;,</span>
<a href="#l16.26"></a><span id="l16.26"> ];</span>
<a href="#l16.27"></a><span id="l16.27" class="difflineminus">-let kTitles = [</span>
<a href="#l16.28"></a><span id="l16.28" class="difflineplus">+var kTitles = [</span>
<a href="#l16.29"></a><span id="l16.29">   &quot;title&quot;,</span>
<a href="#l16.30"></a><span id="l16.30">   &quot;foo.bar&quot;,</span>
<a href="#l16.31"></a><span id="l16.31"> ];</span>
<a href="#l16.32"></a><span id="l16.32"> </span>
<a href="#l16.33"></a><span id="l16.33"> // Plain page visits</span>
<a href="#l16.34"></a><span id="l16.34"> addPageBook(0, 0); // plain page</span>
<a href="#l16.35"></a><span id="l16.35"> addPageBook(1, 1); // title</span>
<a href="#l16.36"></a><span id="l16.36"> addPageBook(2, 0); // url</span>
<a href="#l16.37"></a><span id="l16.37" class="difflineat">@@ -52,17 +52,17 @@ addPageBook(11, 1, 1, [1]); // title and</span>
<a href="#l16.38"></a><span id="l16.38"> // visits are 0,1,2,3,5,10</span>
<a href="#l16.39"></a><span id="l16.39"> removePages([4,6,7,8,9,11]);</span>
<a href="#l16.40"></a><span id="l16.40"> // Set some pages as typed</span>
<a href="#l16.41"></a><span id="l16.41"> markTyped([0,10], 0);</span>
<a href="#l16.42"></a><span id="l16.42"> markTyped([3], 1);</span>
<a href="#l16.43"></a><span id="l16.43"> </span>
<a href="#l16.44"></a><span id="l16.44"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l16.45"></a><span id="l16.45"> // pages that should match; optional function to be run before the test</span>
<a href="#l16.46"></a><span id="l16.46" class="difflineminus">-let gTests = [</span>
<a href="#l16.47"></a><span id="l16.47" class="difflineplus">+var gTests = [</span>
<a href="#l16.48"></a><span id="l16.48">   // Test restricting searches</span>
<a href="#l16.49"></a><span id="l16.49">   [&quot;0: History restrict&quot;,</span>
<a href="#l16.50"></a><span id="l16.50">    &quot;^&quot;, [0,1,2,3,5,10]],</span>
<a href="#l16.51"></a><span id="l16.51">   [&quot;1: Star restrict&quot;,</span>
<a href="#l16.52"></a><span id="l16.52">    &quot;*&quot;, [4,5,6,7,8,9,10,11]],</span>
<a href="#l16.53"></a><span id="l16.53">   [&quot;2: Tag restrict&quot;,</span>
<a href="#l16.54"></a><span id="l16.54">    &quot;+&quot;, [8,9,10,11]],</span>
<a href="#l16.55"></a><span id="l16.55"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_swap_protocol.js</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_swap_protocol.js</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -7,45 +7,45 @@</span>
<a href="#l17.4"></a><span id="l17.4">  * http://site/ also matches https://site/ or ftp://site/. Same thing for</span>
<a href="#l17.5"></a><span id="l17.5">  * ftp://site/ and https://site/.</span>
<a href="#l17.6"></a><span id="l17.6">  *</span>
<a href="#l17.7"></a><span id="l17.7">  * Test bug 461483 to make sure a search for &quot;w&quot; doesn't match the &quot;www.&quot; from</span>
<a href="#l17.8"></a><span id="l17.8">  * site subdomains.</span>
<a href="#l17.9"></a><span id="l17.9">  */</span>
<a href="#l17.10"></a><span id="l17.10"> </span>
<a href="#l17.11"></a><span id="l17.11"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-let kURIs = [</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+var kURIs = [</span>
<a href="#l17.14"></a><span id="l17.14">   &quot;http://www.site/&quot;,</span>
<a href="#l17.15"></a><span id="l17.15">   &quot;http://site/&quot;,</span>
<a href="#l17.16"></a><span id="l17.16">   &quot;ftp://ftp.site/&quot;,</span>
<a href="#l17.17"></a><span id="l17.17">   &quot;ftp://site/&quot;,</span>
<a href="#l17.18"></a><span id="l17.18">   &quot;https://www.site/&quot;,</span>
<a href="#l17.19"></a><span id="l17.19">   &quot;https://site/&quot;,</span>
<a href="#l17.20"></a><span id="l17.20">   &quot;http://woohoo/&quot;,</span>
<a href="#l17.21"></a><span id="l17.21">   &quot;http://wwwwwwacko/&quot;,</span>
<a href="#l17.22"></a><span id="l17.22"> ];</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineminus">-let kTitles = [</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineplus">+var kTitles = [</span>
<a href="#l17.25"></a><span id="l17.25">   &quot;title&quot;,</span>
<a href="#l17.26"></a><span id="l17.26"> ];</span>
<a href="#l17.27"></a><span id="l17.27"> </span>
<a href="#l17.28"></a><span id="l17.28"> // Add various protocols of site</span>
<a href="#l17.29"></a><span id="l17.29"> addPageBook(0, 0);</span>
<a href="#l17.30"></a><span id="l17.30"> addPageBook(1, 0);</span>
<a href="#l17.31"></a><span id="l17.31"> addPageBook(2, 0);</span>
<a href="#l17.32"></a><span id="l17.32"> addPageBook(3, 0);</span>
<a href="#l17.33"></a><span id="l17.33"> addPageBook(4, 0);</span>
<a href="#l17.34"></a><span id="l17.34"> addPageBook(5, 0);</span>
<a href="#l17.35"></a><span id="l17.35"> addPageBook(6, 0);</span>
<a href="#l17.36"></a><span id="l17.36"> addPageBook(7, 0);</span>
<a href="#l17.37"></a><span id="l17.37"> </span>
<a href="#l17.38"></a><span id="l17.38" class="difflineminus">-let allSite = [0,1,2,3,4,5];</span>
<a href="#l17.39"></a><span id="l17.39" class="difflineplus">+var allSite = [0,1,2,3,4,5];</span>
<a href="#l17.40"></a><span id="l17.40"> </span>
<a href="#l17.41"></a><span id="l17.41"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l17.42"></a><span id="l17.42"> // pages that should match; optional function to be run before the test</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineminus">-let gTests = [</span>
<a href="#l17.44"></a><span id="l17.44" class="difflineplus">+var gTests = [</span>
<a href="#l17.45"></a><span id="l17.45">   [&quot;0: http://www.site matches all site&quot;, &quot;http://www.site&quot;, allSite],</span>
<a href="#l17.46"></a><span id="l17.46">   [&quot;1: http://site matches all site&quot;, &quot;http://site&quot;, allSite],</span>
<a href="#l17.47"></a><span id="l17.47">   [&quot;2: ftp://ftp.site matches itself&quot;, &quot;ftp://ftp.site&quot;, [2]],</span>
<a href="#l17.48"></a><span id="l17.48">   [&quot;3: ftp://site matches all site&quot;, &quot;ftp://site&quot;, allSite],</span>
<a href="#l17.49"></a><span id="l17.49">   [&quot;4: https://www.site matches all site&quot;, &quot;https://www.site&quot;, allSite],</span>
<a href="#l17.50"></a><span id="l17.50">   [&quot;5: https://site matches all site&quot;, &quot;https://site&quot;, allSite],</span>
<a href="#l17.51"></a><span id="l17.51">   [&quot;6: www.site matches all site&quot;, &quot;www.site&quot;, allSite],</span>
<a href="#l17.52"></a><span id="l17.52"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_tabmatches.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_tabmatches.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -1,34 +1,34 @@</span>
<a href="#l18.4"></a><span id="l18.4"> /* -*- indent-tabs-mode: nil; js-indent-level: 2 -*-</span>
<a href="#l18.5"></a><span id="l18.5">  * vim:set ts=2 sw=2 sts=2 et:</span>
<a href="#l18.6"></a><span id="l18.6">  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l18.7"></a><span id="l18.7">  * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l18.8"></a><span id="l18.8">  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a href="#l18.9"></a><span id="l18.9"> </span>
<a href="#l18.10"></a><span id="l18.10" class="difflineminus">-let gTabRestrictChar = &quot;%&quot;;</span>
<a href="#l18.11"></a><span id="l18.11" class="difflineplus">+var gTabRestrictChar = &quot;%&quot;;</span>
<a href="#l18.12"></a><span id="l18.12"> prefs.setCharPref(&quot;browser.urlbar.restrict.openpage&quot;, gTabRestrictChar);</span>
<a href="#l18.13"></a><span id="l18.13"> do_register_cleanup(() =&gt; {</span>
<a href="#l18.14"></a><span id="l18.14">   prefs.clearUserPref(&quot;browser.urlbar.restrict.openpage&quot;);</span>
<a href="#l18.15"></a><span id="l18.15"> });</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17" class="difflineminus">-let kSearchParam = &quot;enable-actions&quot;;</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineplus">+var kSearchParam = &quot;enable-actions&quot;;</span>
<a href="#l18.19"></a><span id="l18.19"> </span>
<a href="#l18.20"></a><span id="l18.20" class="difflineminus">-let kURIs = [</span>
<a href="#l18.21"></a><span id="l18.21" class="difflineplus">+var kURIs = [</span>
<a href="#l18.22"></a><span id="l18.22">   &quot;http://abc.com/&quot;,</span>
<a href="#l18.23"></a><span id="l18.23">   &quot;moz-action:switchtab,http://abc.com/&quot;,</span>
<a href="#l18.24"></a><span id="l18.24">   &quot;http://xyz.net/&quot;,</span>
<a href="#l18.25"></a><span id="l18.25">   &quot;moz-action:switchtab,http://xyz.net/&quot;,</span>
<a href="#l18.26"></a><span id="l18.26">   &quot;about:mozilla&quot;,</span>
<a href="#l18.27"></a><span id="l18.27">   &quot;moz-action:switchtab,about:mozilla&quot;,</span>
<a href="#l18.28"></a><span id="l18.28">   &quot;data:text/html,test&quot;,</span>
<a href="#l18.29"></a><span id="l18.29">   &quot;moz-action:switchtab,data:text/html,test&quot;</span>
<a href="#l18.30"></a><span id="l18.30"> ];</span>
<a href="#l18.31"></a><span id="l18.31"> </span>
<a href="#l18.32"></a><span id="l18.32" class="difflineminus">-let kTitles = [</span>
<a href="#l18.33"></a><span id="l18.33" class="difflineplus">+var kTitles = [</span>
<a href="#l18.34"></a><span id="l18.34">   &quot;ABC rocks&quot;,</span>
<a href="#l18.35"></a><span id="l18.35">   &quot;xyz.net - we're better than ABC&quot;,</span>
<a href="#l18.36"></a><span id="l18.36">   &quot;about:mozilla&quot;,</span>
<a href="#l18.37"></a><span id="l18.37">   &quot;data:text/html,test&quot;</span>
<a href="#l18.38"></a><span id="l18.38"> ];</span>
<a href="#l18.39"></a><span id="l18.39"> </span>
<a href="#l18.40"></a><span id="l18.40"> addPageBook(0, 0);</span>
<a href="#l18.41"></a><span id="l18.41"> gPages[1] = [1, 0];</span>
<a href="#l18.42"></a><span id="l18.42" class="difflineat">@@ -38,17 +38,17 @@ gPages[3] = [3, 1];</span>
<a href="#l18.43"></a><span id="l18.43"> addOpenPages(0, 1);</span>
<a href="#l18.44"></a><span id="l18.44"> </span>
<a href="#l18.45"></a><span id="l18.45"> // PAges that cannot be registered in history.</span>
<a href="#l18.46"></a><span id="l18.46"> addOpenPages(4, 1);</span>
<a href="#l18.47"></a><span id="l18.47"> gPages[5] = [5, 2];</span>
<a href="#l18.48"></a><span id="l18.48"> addOpenPages(6, 1);</span>
<a href="#l18.49"></a><span id="l18.49"> gPages[7] = [7, 3];</span>
<a href="#l18.50"></a><span id="l18.50"> </span>
<a href="#l18.51"></a><span id="l18.51" class="difflineminus">-let gTests = [</span>
<a href="#l18.52"></a><span id="l18.52" class="difflineplus">+var gTests = [</span>
<a href="#l18.53"></a><span id="l18.53">   [&quot;0: single result, that is also a tab match&quot;,</span>
<a href="#l18.54"></a><span id="l18.54">    &quot;abc.com&quot;, [1]],</span>
<a href="#l18.55"></a><span id="l18.55">   [&quot;1: two results, one tab match&quot;,</span>
<a href="#l18.56"></a><span id="l18.56">    &quot;abc&quot;, [1,2]],</span>
<a href="#l18.57"></a><span id="l18.57">   [&quot;2: two results, both tab matches&quot;,</span>
<a href="#l18.58"></a><span id="l18.58">    &quot;abc&quot;, [1,3],</span>
<a href="#l18.59"></a><span id="l18.59">    function() {</span>
<a href="#l18.60"></a><span id="l18.60">      addOpenPages(2, 1);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/suite/common/places/tests/autocomplete/test_word_boundary_search.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/suite/common/places/tests/autocomplete/test_word_boundary_search.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -9,33 +9,33 @@</span>
<a href="#l19.4"></a><span id="l19.4">  * Make sure we don't try matching one after a CamelCase because the upper-case</span>
<a href="#l19.5"></a><span id="l19.5">  * isn't really a word boundary. (bug 429498)</span>
<a href="#l19.6"></a><span id="l19.6">  *</span>
<a href="#l19.7"></a><span id="l19.7">  * Bug 429531 provides switching between &quot;must match on word boundary&quot; and &quot;can</span>
<a href="#l19.8"></a><span id="l19.8">  * match,&quot; so leverage &quot;must match&quot; pref for checking word boundary logic and</span>
<a href="#l19.9"></a><span id="l19.9">  * make sure &quot;can match&quot; matches anywhere.</span>
<a href="#l19.10"></a><span id="l19.10">  */</span>
<a href="#l19.11"></a><span id="l19.11"> </span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-let katakana = [&quot;\u30a8&quot;, &quot;\u30c9&quot;]; // E, Do</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineminus">-let ideograph = [&quot;\u4efb&quot;, &quot;\u5929&quot;, &quot;\u5802&quot;]; // Nin Ten Do</span>
<a href="#l19.14"></a><span id="l19.14" class="difflineplus">+var katakana = [&quot;\u30a8&quot;, &quot;\u30c9&quot;]; // E, Do</span>
<a href="#l19.15"></a><span id="l19.15" class="difflineplus">+var ideograph = [&quot;\u4efb&quot;, &quot;\u5929&quot;, &quot;\u5802&quot;]; // Nin Ten Do</span>
<a href="#l19.16"></a><span id="l19.16"> </span>
<a href="#l19.17"></a><span id="l19.17"> // Define some shared uris and titles (each page needs its own uri)</span>
<a href="#l19.18"></a><span id="l19.18" class="difflineminus">-let kURIs = [</span>
<a href="#l19.19"></a><span id="l19.19" class="difflineplus">+var kURIs = [</span>
<a href="#l19.20"></a><span id="l19.20">   &quot;http://matchme/&quot;,</span>
<a href="#l19.21"></a><span id="l19.21">   &quot;http://dontmatchme/&quot;,</span>
<a href="#l19.22"></a><span id="l19.22">   &quot;http://title/1&quot;,</span>
<a href="#l19.23"></a><span id="l19.23">   &quot;http://title/2&quot;,</span>
<a href="#l19.24"></a><span id="l19.24">   &quot;http://tag/1&quot;,</span>
<a href="#l19.25"></a><span id="l19.25">   &quot;http://tag/2&quot;,</span>
<a href="#l19.26"></a><span id="l19.26">   &quot;http://crazytitle/&quot;,</span>
<a href="#l19.27"></a><span id="l19.27">   &quot;http://katakana/&quot;,</span>
<a href="#l19.28"></a><span id="l19.28">   &quot;http://ideograph/&quot;,</span>
<a href="#l19.29"></a><span id="l19.29">   &quot;http://camel/pleaseMatchMe/&quot;,</span>
<a href="#l19.30"></a><span id="l19.30"> ];</span>
<a href="#l19.31"></a><span id="l19.31" class="difflineminus">-let kTitles = [</span>
<a href="#l19.32"></a><span id="l19.32" class="difflineplus">+var kTitles = [</span>
<a href="#l19.33"></a><span id="l19.33">   &quot;title1&quot;,</span>
<a href="#l19.34"></a><span id="l19.34">   &quot;matchme2&quot;,</span>
<a href="#l19.35"></a><span id="l19.35">   &quot;dontmatchme3&quot;,</span>
<a href="#l19.36"></a><span id="l19.36">   &quot;!@#$%^&amp;*()_+{}|:&lt;&gt;?word&quot;,</span>
<a href="#l19.37"></a><span id="l19.37">   katakana.join(&quot;&quot;),</span>
<a href="#l19.38"></a><span id="l19.38">   ideograph.join(&quot;&quot;),</span>
<a href="#l19.39"></a><span id="l19.39"> ];</span>
<a href="#l19.40"></a><span id="l19.40"> </span>
<a href="#l19.41"></a><span id="l19.41" class="difflineat">@@ -54,17 +54,17 @@ addPageBook(6, 3);</span>
<a href="#l19.42"></a><span id="l19.42"> addPageBook(7, 4);</span>
<a href="#l19.43"></a><span id="l19.43"> // Ideograph</span>
<a href="#l19.44"></a><span id="l19.44"> addPageBook(8, 5);</span>
<a href="#l19.45"></a><span id="l19.45"> // CamelCase</span>
<a href="#l19.46"></a><span id="l19.46"> addPageBook(9, 0);</span>
<a href="#l19.47"></a><span id="l19.47"> </span>
<a href="#l19.48"></a><span id="l19.48"> // Provide for each test: description; search terms; array of gPages indices of</span>
<a href="#l19.49"></a><span id="l19.49"> // pages that should match; optional function to be run before the test</span>
<a href="#l19.50"></a><span id="l19.50" class="difflineminus">-let gTests = [</span>
<a href="#l19.51"></a><span id="l19.51" class="difflineplus">+var gTests = [</span>
<a href="#l19.52"></a><span id="l19.52">   // Tests after this one will match only on word boundaries</span>
<a href="#l19.53"></a><span id="l19.53">   [&quot;0: Match 'match' at the beginning or after / or on a CamelCase&quot;,</span>
<a href="#l19.54"></a><span id="l19.54">    &quot;match&quot;, [0,2,4,9],</span>
<a href="#l19.55"></a><span id="l19.55">    function() setBehavior(2)],</span>
<a href="#l19.56"></a><span id="l19.56">   [&quot;1: Match 'dont' at the beginning or after /&quot;,</span>
<a href="#l19.57"></a><span id="l19.57">    &quot;dont&quot;, [1,3,5]],</span>
<a href="#l19.58"></a><span id="l19.58">   [&quot;2: Match '2' after the slash and after a word (in tags too)&quot;,</span>
<a href="#l19.59"></a><span id="l19.59">    &quot;2&quot;, [2,3,4,5]],</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/suite/common/places/tests/head_common.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/suite/common/places/tests/head_common.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -63,20 +63,20 @@ XPCOMUtils.defineLazyGetter(this, &quot;SMALL</span>
<a href="#l20.4"></a><span id="l20.4">          &quot;3My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBmaWxs&quot; +</span>
<a href="#l20.5"></a><span id="l20.5">          &quot;PSIjNDI0ZTVhIj4NCiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iN&quot; +</span>
<a href="#l20.6"></a><span id="l20.6">          &quot;DQiIHN0cm9rZT0iIzQyNGU1YSIgc3Ryb2tlLXdpZHRoPSIxMSIgZmlsbD&quot; +</span>
<a href="#l20.7"></a><span id="l20.7">          &quot;0ibm9uZSIvPg0KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjI0LjYiIHI9IjY&quot; +</span>
<a href="#l20.8"></a><span id="l20.8">          &quot;uNCIvPg0KICA8cmVjdCB4PSI0NSIgeT0iMzkuOSIgd2lkdGg9IjEwLjEi&quot; +</span>
<a href="#l20.9"></a><span id="l20.9">          &quot;IGhlaWdodD0iNDEuOCIvPg0KPC9zdmc%2BDQo%3D&quot;);</span>
<a href="#l20.10"></a><span id="l20.10"> });</span>
<a href="#l20.11"></a><span id="l20.11"> </span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-let gTestDir = do_get_cwd();</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+var gTestDir = do_get_cwd();</span>
<a href="#l20.14"></a><span id="l20.14"> </span>
<a href="#l20.15"></a><span id="l20.15"> // Initialize profile.</span>
<a href="#l20.16"></a><span id="l20.16" class="difflineminus">-let gProfD = do_get_profile();</span>
<a href="#l20.17"></a><span id="l20.17" class="difflineplus">+var gProfD = do_get_profile();</span>
<a href="#l20.18"></a><span id="l20.18"> </span>
<a href="#l20.19"></a><span id="l20.19"> // Remove any old database.</span>
<a href="#l20.20"></a><span id="l20.20"> clearDB();</span>
<a href="#l20.21"></a><span id="l20.21"> </span>
<a href="#l20.22"></a><span id="l20.22"> /**</span>
<a href="#l20.23"></a><span id="l20.23">  * Shortcut to create a nsIURI.</span>
<a href="#l20.24"></a><span id="l20.24">  *</span>
<a href="#l20.25"></a><span id="l20.25">  * @param aSpec</span>
<a href="#l20.26"></a><span id="l20.26" class="difflineat">@@ -91,17 +91,17 @@ function uri(aSpec) NetUtil.newURI(aSpec</span>
<a href="#l20.27"></a><span id="l20.27">  *</span>
<a href="#l20.28"></a><span id="l20.28">  * @param [optional] aForceNewConnection</span>
<a href="#l20.29"></a><span id="l20.29">  *        Forces creation of a new connection to the database.  When a</span>
<a href="#l20.30"></a><span id="l20.30">  *        connection is asyncClosed it cannot anymore schedule async statements,</span>
<a href="#l20.31"></a><span id="l20.31">  *        though connectionReady will keep returning true (Bug 726990).</span>
<a href="#l20.32"></a><span id="l20.32">  *</span>
<a href="#l20.33"></a><span id="l20.33">  * @return The database connection or null if unable to get one.</span>
<a href="#l20.34"></a><span id="l20.34">  */</span>
<a href="#l20.35"></a><span id="l20.35" class="difflineminus">-let gDBConn;</span>
<a href="#l20.36"></a><span id="l20.36" class="difflineplus">+var gDBConn;</span>
<a href="#l20.37"></a><span id="l20.37"> function DBConn(aForceNewConnection) {</span>
<a href="#l20.38"></a><span id="l20.38">   if (!aForceNewConnection) {</span>
<a href="#l20.39"></a><span id="l20.39">     let db = PlacesUtils.history.QueryInterface(Ci.nsPIPlacesDatabase)</span>
<a href="#l20.40"></a><span id="l20.40">                                 .DBConnection;</span>
<a href="#l20.41"></a><span id="l20.41">     if (db.connectionReady)</span>
<a href="#l20.42"></a><span id="l20.42">       return db;</span>
<a href="#l20.43"></a><span id="l20.43">   }</span>
<a href="#l20.44"></a><span id="l20.44"> </span>
<a href="#l20.45"></a><span id="l20.45" class="difflineat">@@ -372,17 +372,17 @@ function promiseTopicObserved(aTopic)</span>
<a href="#l20.46"></a><span id="l20.46">       resolve([aSubject, aData]);</span>
<a href="#l20.47"></a><span id="l20.47">     }, aTopic, false);</span>
<a href="#l20.48"></a><span id="l20.48">   });</span>
<a href="#l20.49"></a><span id="l20.49"> }</span>
<a href="#l20.50"></a><span id="l20.50"> </span>
<a href="#l20.51"></a><span id="l20.51"> /**</span>
<a href="#l20.52"></a><span id="l20.52">  * Simulates a Places shutdown.</span>
<a href="#l20.53"></a><span id="l20.53">  */</span>
<a href="#l20.54"></a><span id="l20.54" class="difflineminus">-let shutdownPlaces = function() {</span>
<a href="#l20.55"></a><span id="l20.55" class="difflineplus">+var shutdownPlaces = function() {</span>
<a href="#l20.56"></a><span id="l20.56">   do_print(&quot;shutdownPlaces: starting&quot;);</span>
<a href="#l20.57"></a><span id="l20.57">   let promise = new Promise(resolve =&gt; {</span>
<a href="#l20.58"></a><span id="l20.58">     Services.obs.addObserver(resolve, &quot;places-connection-closed&quot;, false);</span>
<a href="#l20.59"></a><span id="l20.59">   });</span>
<a href="#l20.60"></a><span id="l20.60">   let hs = PlacesUtils.history.QueryInterface(Ci.nsIObserver);</span>
<a href="#l20.61"></a><span id="l20.61">   hs.observe(null, &quot;test-simulate-places-shutdown-phase-1&quot;, null);</span>
<a href="#l20.62"></a><span id="l20.62">   do_print(&quot;shutdownPlaces: sent test-simulate-places-shutdown-phase-1&quot;);</span>
<a href="#l20.63"></a><span id="l20.63">   hs.observe(null, &quot;test-simulate-places-shutdown-phase-2&quot;, null);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

